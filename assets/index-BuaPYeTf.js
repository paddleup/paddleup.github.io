(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function gN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ey={exports:{}},_c={};var AT;function yN(){if(AT)return _c;AT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return _c.Fragment=e,_c.jsx=n,_c.jsxs=n,_c}var IT;function _N(){return IT||(IT=1,ey.exports=yN()),ey.exports}var v=_N(),ty={exports:{}},Oe={};var RT;function vN(){if(RT)return Oe;RT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function I(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,z={};function Z(k,J,le){this.props=k,this.context=J,this.refs=z,this.updater=le||M}Z.prototype.isReactComponent={},Z.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},Z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function K(){}K.prototype=Z.prototype;function U(k,J,le){this.props=k,this.context=J,this.refs=z,this.updater=le||M}var re=U.prototype=new K;re.constructor=U,P(re,Z.prototype),re.isPureReactComponent=!0;var te=Array.isArray;function he(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(k,J,le){var ue=le.ref;return{$$typeof:t,type:k,key:J,ref:ue!==void 0?ue:null,props:le}}function V(k,J){return C(k.type,J,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function F(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return J[le]})}var N=/\/+/g;function qe(k,J){return typeof k=="object"&&k!==null&&k.key!=null?F(""+k.key):J.toString(36)}function Ze(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(he,he):(k.status="pending",k.then(function(J){k.status==="pending"&&(k.status="fulfilled",k.value=J)},function(J){k.status==="pending"&&(k.status="rejected",k.reason=J)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function X(k,J,le,ue,fe){var we=typeof k;(we==="undefined"||we==="boolean")&&(k=null);var ye=!1;if(k===null)ye=!0;else switch(we){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(k.$$typeof){case t:case e:ye=!0;break;case y:return ye=k._init,X(ye(k._payload),J,le,ue,fe)}}if(ye)return fe=fe(k),ye=ue===""?"."+qe(k,0):ue,te(fe)?(le="",ye!=null&&(le=ye.replace(N,"$&/")+"/"),X(fe,J,le,"",function(An){return An})):fe!=null&&(O(fe)&&(fe=V(fe,le+(fe.key==null||k&&k.key===fe.key?"":(""+fe.key).replace(N,"$&/")+"/")+ye)),J.push(fe)),1;ye=0;var gt=ue===""?".":ue+":";if(te(k))for(var Je=0;Je<k.length;Je++)ue=k[Je],we=gt+qe(ue,Je),ye+=X(ue,J,le,we,fe);else if(Je=I(k),typeof Je=="function")for(k=Je.call(k),Je=0;!(ue=k.next()).done;)ue=ue.value,we=gt+qe(ue,Je++),ye+=X(ue,J,le,we,fe);else if(we==="object"){if(typeof k.then=="function")return X(Ze(k),J,le,ue,fe);throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ye}function de(k,J,le){if(k==null)return k;var ue=[],fe=0;return X(k,ue,"","",function(we){return J.call(le,we,fe++)}),ue}function oe(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var De=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},je={map:de,forEach:function(k,J,le){de(k,function(){J.apply(this,arguments)},le)},count:function(k){var J=0;return de(k,function(){J++}),J},toArray:function(k){return de(k,function(J){return J})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Oe.Activity=b,Oe.Children=je,Oe.Component=Z,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=U,Oe.StrictMode=r,Oe.Suspense=d,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},Oe.cache=function(k){return function(){return k.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(k,J,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=P({},k.props),fe=k.key;if(J!=null)for(we in J.key!==void 0&&(fe=""+J.key),J)!S.call(J,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&J.ref===void 0||(ue[we]=J[we]);var we=arguments.length-2;if(we===1)ue.children=le;else if(1<we){for(var ye=Array(we),gt=0;gt<we;gt++)ye[gt]=arguments[gt+2];ue.children=ye}return C(k.type,fe,ue)},Oe.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},Oe.createElement=function(k,J,le){var ue,fe={},we=null;if(J!=null)for(ue in J.key!==void 0&&(we=""+J.key),J)S.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(fe[ue]=J[ue]);var ye=arguments.length-2;if(ye===1)fe.children=le;else if(1<ye){for(var gt=Array(ye),Je=0;Je<ye;Je++)gt[Je]=arguments[Je+2];fe.children=gt}if(k&&k.defaultProps)for(ue in ye=k.defaultProps,ye)fe[ue]===void 0&&(fe[ue]=ye[ue]);return C(k,we,fe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(k){return{$$typeof:h,render:k}},Oe.isValidElement=O,Oe.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:oe}},Oe.memo=function(k,J){return{$$typeof:p,type:k,compare:J===void 0?null:J}},Oe.startTransition=function(k){var J=R.T,le={};R.T=le;try{var ue=k(),fe=R.S;fe!==null&&fe(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(he,De)}catch(we){De(we)}finally{J!==null&&le.types!==null&&(J.types=le.types),R.T=J}},Oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Oe.use=function(k){return R.H.use(k)},Oe.useActionState=function(k,J,le){return R.H.useActionState(k,J,le)},Oe.useCallback=function(k,J){return R.H.useCallback(k,J)},Oe.useContext=function(k){return R.H.useContext(k)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(k,J){return R.H.useDeferredValue(k,J)},Oe.useEffect=function(k,J){return R.H.useEffect(k,J)},Oe.useEffectEvent=function(k){return R.H.useEffectEvent(k)},Oe.useId=function(){return R.H.useId()},Oe.useImperativeHandle=function(k,J,le){return R.H.useImperativeHandle(k,J,le)},Oe.useInsertionEffect=function(k,J){return R.H.useInsertionEffect(k,J)},Oe.useLayoutEffect=function(k,J){return R.H.useLayoutEffect(k,J)},Oe.useMemo=function(k,J){return R.H.useMemo(k,J)},Oe.useOptimistic=function(k,J){return R.H.useOptimistic(k,J)},Oe.useReducer=function(k,J,le){return R.H.useReducer(k,J,le)},Oe.useRef=function(k){return R.H.useRef(k)},Oe.useState=function(k){return R.H.useState(k)},Oe.useSyncExternalStore=function(k,J,le){return R.H.useSyncExternalStore(k,J,le)},Oe.useTransition=function(){return R.H.useTransition()},Oe.version="19.2.3",Oe}var CT;function __(){return CT||(CT=1,ty.exports=vN()),ty.exports}var j=__();const sn=gN(j);var ny={exports:{}},vc={},ry={exports:{}},sy={};var NT;function bN(){return NT||(NT=1,(function(t){function e(X,de){var oe=X.length;X.push(de);e:for(;0<oe;){var De=oe-1>>>1,je=X[De];if(0<a(je,de))X[De]=de,X[oe]=je,oe=De;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var de=X[0],oe=X.pop();if(oe!==de){X[0]=oe;e:for(var De=0,je=X.length,k=je>>>1;De<k;){var J=2*(De+1)-1,le=X[J],ue=J+1,fe=X[ue];if(0>a(le,oe))ue<je&&0>a(fe,le)?(X[De]=fe,X[ue]=oe,De=ue):(X[De]=le,X[J]=oe,De=J);else if(ue<je&&0>a(fe,oe))X[De]=fe,X[ue]=oe,De=ue;else break e}}return de}function a(X,de){var oe=X.sortIndex-de.sortIndex;return oe!==0?oe:X.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,b=null,w=3,I=!1,M=!1,P=!1,z=!1,Z=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function re(X){for(var de=n(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=X)r(p),de.sortIndex=de.expirationTime,e(d,de);else break;de=n(p)}}function te(X){if(P=!1,re(X),!M)if(n(d)!==null)M=!0,he||(he=!0,F());else{var de=n(p);de!==null&&Ze(te,de.startTime-X)}}var he=!1,R=-1,S=5,C=-1;function V(){return z?!0:!(t.unstable_now()-C<S)}function O(){if(z=!1,he){var X=t.unstable_now();C=X;var de=!0;try{e:{M=!1,P&&(P=!1,K(R),R=-1),I=!0;var oe=w;try{t:{for(re(X),b=n(d);b!==null&&!(b.expirationTime>X&&V());){var De=b.callback;if(typeof De=="function"){b.callback=null,w=b.priorityLevel;var je=De(b.expirationTime<=X);if(X=t.unstable_now(),typeof je=="function"){b.callback=je,re(X),de=!0;break t}b===n(d)&&r(d),re(X)}else r(d);b=n(d)}if(b!==null)de=!0;else{var k=n(p);k!==null&&Ze(te,k.startTime-X),de=!1}}break e}finally{b=null,w=oe,I=!1}de=void 0}}finally{de?F():he=!1}}}var F;if(typeof U=="function")F=function(){U(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,qe=N.port2;N.port1.onmessage=O,F=function(){qe.postMessage(null)}}else F=function(){Z(O,0)};function Ze(X,de){R=Z(function(){X(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(X){switch(w){case 1:case 2:case 3:var de=3;break;default:de=w}var oe=w;w=de;try{return X()}finally{w=oe}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function(X,de){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=w;w=X;try{return de()}finally{w=oe}},t.unstable_scheduleCallback=function(X,de,oe){var De=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?De+oe:De):oe=De,X){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=oe+je,X={id:y++,callback:de,priorityLevel:X,startTime:oe,expirationTime:je,sortIndex:-1},oe>De?(X.sortIndex=oe,e(p,X),n(d)===null&&X===n(p)&&(P?(K(R),R=-1):P=!0,Ze(te,oe-De))):(X.sortIndex=je,e(d,X),M||I||(M=!0,he||(he=!0,F()))),X},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(X){var de=w;return function(){var oe=w;w=de;try{return X.apply(this,arguments)}finally{w=oe}}}})(sy)),sy}var kT;function EN(){return kT||(kT=1,ry.exports=bN()),ry.exports}var iy={exports:{}},En={};var DT;function TN(){if(DT)return En;DT=1;var t=__();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,En.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,y)},En.flushSync=function(d){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=y,r.d.f()}},En.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},En.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},En.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:I}):y==="script"&&r.d.X(d,{crossOrigin:b,integrity:w,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},En.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},En.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},En.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},En.requestFormReset=function(d){r.d.r(d)},En.unstable_batchedUpdates=function(d,p){return d(p)},En.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},En.useFormStatus=function(){return u.H.useHostTransitionStatus()},En.version="19.2.3",En}var OT;function wN(){if(OT)return iy.exports;OT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iy.exports=TN(),iy.exports}var MT;function xN(){if(MT)return vc;MT=1;var t=EN(),e=__(),n=wN();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function p(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,c=i;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return d(m),s;if(g===c)return d(m),i;g=g.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=g;else{for(var E=!1,x=m.child;x;){if(x===l){E=!0,l=m,c=g;break}if(x===c){E=!0,c=m,l=g;break}x=x.sibling}if(!E){for(x=g.child;x;){if(x===l){E=!0,l=g,c=m;break}if(x===c){E=!0,c=g,l=m;break}x=x.sibling}if(!E)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function y(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=y(s),i!==null)return i;s=s.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),U=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function qe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case Z:return"Profiler";case z:return"StrictMode";case te:return"Suspense";case he:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case U:return s.displayName||"Context";case K:return(s._context.displayName||"Context")+".Consumer";case re:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return i=s.displayName||null,i!==null?i:qe(s.type)||"Memo";case S:i=s._payload,s=s._init;try{return qe(s(i))}catch{}}return null}var Ze=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},De=[],je=-1;function k(s){return{current:s}}function J(s){0>je||(s.current=De[je],De[je]=null,je--)}function le(s,i){je++,De[je]=s.current,s.current=i}var ue=k(null),fe=k(null),we=k(null),ye=k(null);function gt(s,i){switch(le(we,i),le(fe,s),le(ue,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?ZE(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=ZE(i),s=YE(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(ue),le(ue,s)}function Je(){J(ue),J(fe),J(we)}function An(s){s.memoizedState!==null&&le(ye,s);var i=ue.current,l=YE(i,s.type);i!==l&&(le(fe,s),le(ue,l))}function Kn(s){fe.current===s&&(J(ue),J(fe)),ye.current===s&&(J(ye),mc._currentValue=oe)}var Vn,ui;function or(s){if(Vn===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Vn=i&&i[1]||"",ui=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vn+s+ui}var ya=!1;function As(s,i){if(!s||ya)return"";ya=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(W){var Q=W}Reflect.construct(s,[],ae)}else{try{ae.call()}catch(W){Q=W}s.call(ae.prototype)}}else{try{throw Error()}catch(W){Q=W}(ae=s())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],x=g[1];if(E&&x){var D=E.split(`
`),G=x.split(`
`);for(m=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(c===D.length||m===G.length)for(c=D.length-1,m=G.length-1;1<=c&&0<=m&&D[c]!==G[m];)m--;for(;1<=c&&0<=m;c--,m--)if(D[c]!==G[m]){if(c!==1||m!==1)do if(c--,m--,0>m||D[c]!==G[m]){var ne=`
`+D[c].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=c&&0<=m);break}}}finally{ya=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?or(l):""}function Ye(s,i){switch(s.tag){case 26:case 27:case 5:return or(s.type);case 16:return or("Lazy");case 13:return s.child!==i&&i!==null?or("Suspense Fallback"):or("Suspense");case 19:return or("SuspenseList");case 0:case 15:return As(s.type,!1);case 11:return As(s.type.render,!1);case 1:return As(s.type,!0);case 31:return or("Activity");default:return""}}function yt(s){try{var i="",l=null;do i+=Ye(s,l),l=s,s=s.return;while(s);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ue=Object.prototype.hasOwnProperty,_t=t.unstable_scheduleCallback,ci=t.unstable_cancelCallback,np=t.unstable_shouldYield,Ah=t.unstable_requestPaint,In=t.unstable_now,_a=t.unstable_getCurrentPriorityLevel,yu=t.unstable_ImmediatePriority,_u=t.unstable_UserBlockingPriority,hi=t.unstable_NormalPriority,rp=t.unstable_LowPriority,Ih=t.unstable_IdlePriority,Rh=t.log,Ch=t.unstable_setDisableYieldValue,Cr=null,hn=null;function lr(s){if(typeof Rh=="function"&&Ch(s),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(Cr,s)}catch{}}var jt=Math.clz32?Math.clz32:kh,Nh=Math.log,Po=Math.LN2;function kh(s){return s>>>=0,s===0?32:31-(Nh(s)/Po|0)|0}var Kr=256,va=262144,qt=4194304;function Qr(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Zr(s,i,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,g=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var x=c&134217727;return x!==0?(c=x&~g,c!==0?m=Qr(c):(E&=x,E!==0?m=Qr(E):l||(l=x&~s,l!==0&&(m=Qr(l))))):(x=c&~g,x!==0?m=Qr(x):E!==0?m=Qr(E):l||(l=c&~s,l!==0&&(m=Qr(l)))),m===0?0:i!==0&&i!==m&&(i&g)===0&&(g=m&-m,l=i&-i,g>=l||g===32&&(l&4194048)!==0)?i:m}function Nr(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function sp(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dh(){var s=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),s}function Yr(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function ba(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ip(s,i,l,c,m,g){var E=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var x=s.entanglements,D=s.expirationTimes,G=s.hiddenUpdates;for(l=E&~l;0<l;){var ne=31-jt(l),ae=1<<ne;x[ne]=0,D[ne]=-1;var Q=G[ne];if(Q!==null)for(G[ne]=null,ne=0;ne<Q.length;ne++){var W=Q[ne];W!==null&&(W.lane&=-536870913)}l&=~ae}c!==0&&Ea(s,c,0),g!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=g&~(E&~i))}function Ea(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var c=31-jt(i);s.entangledLanes|=i,s.entanglements[c]=s.entanglements[c]|1073741824|l&261930}function vu(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var c=31-jt(l),m=1<<c;m&i|s[c]&i&&(s[c]|=i),l&=~m}}function bu(s,i){var l=i&-i;return l=(l&42)!==0?1:Ta(l),(l&(s.suspendedLanes|i))!==0?0:l}function Ta(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Is(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Oh(){var s=de.p;return s!==0?s:(s=window.event,s===void 0?32:vT(s.type))}function kr(s,i){var l=de.p;try{return de.p=s,i()}finally{de.p=l}}var Dr=Math.random().toString(36).slice(2),$t="__reactFiber$"+Dr,on="__reactProps$"+Dr,Xr="__reactContainer$"+Dr,Vo="__reactEvents$"+Dr,ap="__reactListeners$"+Dr,Mh="__reactHandles$"+Dr,Ph="__reactResources$"+Dr,Jr="__reactMarker$"+Dr;function jo(s){delete s[$t],delete s[on],delete s[Vo],delete s[ap],delete s[Mh]}function Wr(s){var i=s[$t];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Xr]||l[$t]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=rT(s);s!==null;){if(l=s[$t])return l;s=rT(s)}return i}s=l,l=s.parentNode}return null}function ur(s){if(s=s[$t]||s[Xr]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Qn(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function es(s){var i=s[Ph];return i||(i=s[Ph]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ht(s){s[Jr]=!0}var Eu=new Set,Tu={};function ts(s,i){ns(s,i),ns(s+"Capture",i)}function ns(s,i){for(Tu[s]=i,s=0;s<i.length;s++)Eu.add(i[s])}var wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xu={},Su={};function Vh(s){return Ue.call(Su,s)?!0:Ue.call(xu,s)?!1:wu.test(s)?Su[s]=!0:(xu[s]=!0,!1)}function zo(s,i,l){if(Vh(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function Zn(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Gt(s,i,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+c)}}function ln(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function di(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Au(s,i,l){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(E){l=""+E,g.call(this,E)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function it(s){if(!s._valueTracker){var i=di(s)?"checked":"value";s._valueTracker=Au(s,i,""+s[i])}}function wa(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return s&&(c=di(s)?s.checked?"true":"false":s.value),s=c,s!==l?(i.setValue(s),!0):!1}function rs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var xa=/[\n"\\]/g;function jn(s){return s.replace(xa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Lo(s,i,l,c,m,g,E,x){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),i!=null?E==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+ln(i)):s.value!==""+ln(i)&&(s.value=""+ln(i)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),i!=null?Iu(s,E,ln(i)):l!=null?Iu(s,E,ln(l)):c!=null&&s.removeAttribute("value"),m==null&&g!=null&&(s.defaultChecked=!!g),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.name=""+ln(x):s.removeAttribute("name")}function jh(s,i,l,c,m,g,E,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){it(s);return}l=l!=null?""+ln(l):"",i=i!=null?""+ln(i):l,x||i===s.value||(s.value=i),s.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=x?s.checked:!!c,s.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E),it(s)}function Iu(s,i,l){i==="number"&&rs(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function fi(s,i,l,c){if(s=s.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=i.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+ln(l),i=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function zh(s,i,l){if(i!=null&&(i=""+ln(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+ln(l):""}function mi(s,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(r(92));if(Ze(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=ln(i),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c),it(s)}function zn(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Lh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(s,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":c?s.setProperty(i,l):typeof l!="number"||l===0||Lh.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Cu(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&l[m]!==c&&Ru(s,m,c)}else for(var g in i)i.hasOwnProperty(g)&&Ru(s,g,i[g])}function Uo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(s){return pi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Or(){}var Nu=null;function cr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var gi=null,ss=null;function Sa(s){var i=ur(s);if(i&&(s=i.stateNode)){var l=s[on]||null;e:switch(s=i.stateNode,i.type){case"input":if(Lo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+jn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==s&&c.form===s.form){var m=c[on]||null;if(!m)throw Error(r(90));Lo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===s.form&&wa(c)}break e;case"textarea":zh(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&fi(s,!!l.multiple,i,!1)}}}var Bo=!1;function yi(s,i,l){if(Bo)return s(i,l);Bo=!0;try{var c=s(i);return c}finally{if(Bo=!1,(gi!==null||ss!==null)&&(Od(),gi&&(i=gi,s=ss,ss=gi=null,Sa(i),s)))for(i=0;i<s.length;i++)Sa(s[i])}}function Mr(s,i){var l=s.stateNode;if(l===null)return null;var c=l[on]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=!1;if(hr)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{Aa=!1}var is=null,ku=null,Ia=null;function Du(){if(Ia)return Ia;var s,i=ku,l=i.length,c,m="value"in is?is.value:is.textContent,g=m.length;for(s=0;s<l&&i[s]===m[s];s++);var E=l-s;for(c=1;c<=E&&i[l-c]===m[g-c];c++);return Ia=m.slice(s,1<c?1-c:void 0)}function Ra(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Rs(){return!0}function Pr(){return!1}function dn(s){function i(l,c,m,g,E){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var x in s)s.hasOwnProperty(x)&&(l=s[x],this[x]=l?l(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Rs:Pr,this.isPropagationStopped=Pr,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),i}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=dn(Cs),_i=b({},Cs,{view:0,detail:0}),Ou=dn(_i),vi,qo,os,$o=b({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==os&&(os&&s.type==="mousemove"?(vi=s.screenX-os.screenX,qo=s.screenY-os.screenY):qo=vi=0,os=s),vi)},movementY:function(s){return"movementY"in s?s.movementY:qo}}),Mu=dn($o),Ca=b({},$o,{dataTransfer:0}),Fh=dn(Ca),Bh=b({},_i,{relatedTarget:0}),Na=dn(Bh),Pu=b({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),qh=dn(Pu),Ho=b({},Cs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$h=dn(Ho),Hh=b({},Cs,{data:0}),ls=dn(Hh),Gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zh(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Qh[s])?!!i[s]:!1}function bi(){return Zh}var Rn=b({},_i,{key:function(s){if(s.key){var i=Gh[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ra(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Kh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bi,charCode:function(s){return s.type==="keypress"?Ra(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ra(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Yh=dn(Rn),Xh=b({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ns=dn(Xh),f=b({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bi}),_=dn(f),T=b({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=dn(T),$=b({},$o,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=dn($),pe=b({},Cs,{newState:0,oldState:0}),Me=dn(pe),zt=[9,13,27,32],nt=hr&&"CompositionEvent"in window,Tt=null;hr&&"documentMode"in document&&(Tt=document.documentMode);var dr=hr&&"TextEvent"in window&&!Tt,us=hr&&(!nt||Tt&&8<Tt&&11>=Tt),Vr=" ",jr=!1;function ka(s,i){switch(s){case"keyup":return zt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Go(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ko=!1;function UC(s,i){switch(s){case"compositionend":return Go(i);case"keypress":return i.which!==32?null:(jr=!0,Vr);case"textInput":return s=i.data,s===Vr&&jr?null:s;default:return null}}function FC(s,i){if(Ko)return s==="compositionend"||!nt&&ka(s,i)?(s=Du(),Ia=ku=is=null,Ko=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return us&&i.locale!=="ko"?null:i.data;default:return null}}var BC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a0(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!BC[s.type]:i==="textarea"}function o0(s,i,l,c){gi?ss?ss.push(c):ss=[c]:gi=c,i=Ud(i,"onChange"),0<i.length&&(l=new as("onChange","change",null,l,c),s.push({event:l,listeners:i}))}var Vu=null,ju=null;function qC(s){qE(s,0)}function Jh(s){var i=Qn(s);if(wa(i))return s}function l0(s,i){if(s==="change")return i}var u0=!1;if(hr){var op;if(hr){var lp="oninput"in document;if(!lp){var c0=document.createElement("div");c0.setAttribute("oninput","return;"),lp=typeof c0.oninput=="function"}op=lp}else op=!1;u0=op&&(!document.documentMode||9<document.documentMode)}function h0(){Vu&&(Vu.detachEvent("onpropertychange",d0),ju=Vu=null)}function d0(s){if(s.propertyName==="value"&&Jh(ju)){var i=[];o0(i,ju,s,cr(s)),yi(qC,i)}}function $C(s,i,l){s==="focusin"?(h0(),Vu=i,ju=l,Vu.attachEvent("onpropertychange",d0)):s==="focusout"&&h0()}function HC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Jh(ju)}function GC(s,i){if(s==="click")return Jh(i)}function KC(s,i){if(s==="input"||s==="change")return Jh(i)}function QC(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Yn=typeof Object.is=="function"?Object.is:QC;function zu(s,i){if(Yn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Ue.call(i,m)||!Yn(s[m],i[m]))return!1}return!0}function f0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function m0(s,i){var l=f0(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=i&&c>=i)return{node:l,offset:i-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=f0(l)}}function p0(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?p0(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function g0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=rs(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=rs(s.document)}return i}function up(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var ZC=hr&&"documentMode"in document&&11>=document.documentMode,Qo=null,cp=null,Lu=null,hp=!1;function y0(s,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hp||Qo==null||Qo!==rs(c)||(c=Qo,"selectionStart"in c&&up(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Lu&&zu(Lu,c)||(Lu=c,c=Ud(cp,"onSelect"),0<c.length&&(i=new as("onSelect","select",null,i,l),s.push({event:i,listeners:c}),i.target=Qo)))}function Da(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Zo={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},dp={},_0={};hr&&(_0=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Oa(s){if(dp[s])return dp[s];if(!Zo[s])return s;var i=Zo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in _0)return dp[s]=i[l];return s}var v0=Oa("animationend"),b0=Oa("animationiteration"),E0=Oa("animationstart"),YC=Oa("transitionrun"),XC=Oa("transitionstart"),JC=Oa("transitioncancel"),T0=Oa("transitionend"),w0=new Map,fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fp.push("scrollEnd");function zr(s,i){w0.set(s,i),ts(i,[s])}var Wh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},fr=[],Yo=0,mp=0;function ed(){for(var s=Yo,i=mp=Yo=0;i<s;){var l=fr[i];fr[i++]=null;var c=fr[i];fr[i++]=null;var m=fr[i];fr[i++]=null;var g=fr[i];if(fr[i++]=null,c!==null&&m!==null){var E=c.pending;E===null?m.next=m:(m.next=E.next,E.next=m),c.pending=m}g!==0&&x0(l,m,g)}}function td(s,i,l,c){fr[Yo++]=s,fr[Yo++]=i,fr[Yo++]=l,fr[Yo++]=c,mp|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function pp(s,i,l,c){return td(s,i,l,c),nd(s)}function Ma(s,i){return td(s,null,null,i),nd(s)}function x0(s,i,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,g=s.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(m=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,m&&i!==null&&(m=31-jt(l),s=g.hiddenUpdates,c=s[m],c===null?s[m]=[i]:c.push(i),i.lane=l|536870912),g):null}function nd(s){if(50<oc)throw oc=0,xg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Xo={};function WC(s,i,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(s,i,l,c){return new WC(s,i,l,c)}function gp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ks(s,i){var l=s.alternate;return l===null?(l=Xn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function S0(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function rd(s,i,l,c,m,g){var E=0;if(c=s,typeof s=="function")gp(s)&&(E=1);else if(typeof s=="string")E=sN(s,l,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Xn(31,l,i,m),s.elementType=C,s.lanes=g,s;case P:return Pa(l.children,m,g,i);case z:E=8,m|=24;break;case Z:return s=Xn(12,l,i,m|2),s.elementType=Z,s.lanes=g,s;case te:return s=Xn(13,l,i,m),s.elementType=te,s.lanes=g,s;case he:return s=Xn(19,l,i,m),s.elementType=he,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:E=10;break e;case K:E=9;break e;case re:E=11;break e;case R:E=14;break e;case S:E=16,c=null;break e}E=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return i=Xn(E,l,i,m),i.elementType=s,i.type=c,i.lanes=g,i}function Pa(s,i,l,c){return s=Xn(7,s,c,i),s.lanes=l,s}function yp(s,i,l){return s=Xn(6,s,null,i),s.lanes=l,s}function A0(s){var i=Xn(18,null,null,0);return i.stateNode=s,i}function _p(s,i,l){return i=Xn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var I0=new WeakMap;function mr(s,i){if(typeof s=="object"&&s!==null){var l=I0.get(s);return l!==void 0?l:(i={value:s,source:i,stack:yt(i)},I0.set(s,i),i)}return{value:s,source:i,stack:yt(i)}}var Jo=[],Wo=0,sd=null,Uu=0,pr=[],gr=0,Ei=null,cs=1,hs="";function Ds(s,i){Jo[Wo++]=Uu,Jo[Wo++]=sd,sd=s,Uu=i}function R0(s,i,l){pr[gr++]=cs,pr[gr++]=hs,pr[gr++]=Ei,Ei=s;var c=cs;s=hs;var m=32-jt(c)-1;c&=~(1<<m),l+=1;var g=32-jt(i)+m;if(30<g){var E=m-m%5;g=(c&(1<<E)-1).toString(32),c>>=E,m-=E,cs=1<<32-jt(i)+m|l<<m|c,hs=g+s}else cs=1<<g|l<<m|c,hs=s}function vp(s){s.return!==null&&(Ds(s,1),R0(s,1,0))}function bp(s){for(;s===sd;)sd=Jo[--Wo],Jo[Wo]=null,Uu=Jo[--Wo],Jo[Wo]=null;for(;s===Ei;)Ei=pr[--gr],pr[gr]=null,hs=pr[--gr],pr[gr]=null,cs=pr[--gr],pr[gr]=null}function C0(s,i){pr[gr++]=cs,pr[gr++]=hs,pr[gr++]=Ei,cs=i.id,hs=i.overflow,Ei=s}var fn=null,bt=null,Qe=!1,Ti=null,yr=!1,Ep=Error(r(519));function wi(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fu(mr(i,s)),Ep}function N0(s){var i=s.stateNode,l=s.type,c=s.memoizedProps;switch(i[$t]=s,i[on]=c,l){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(l=0;l<uc.length;l++)Be(uc[l],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),jh(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),mi(i,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||KE(i.textContent,l)?(c.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),c.onScroll!=null&&Be("scroll",i),c.onScrollEnd!=null&&Be("scrollend",i),c.onClick!=null&&(i.onclick=Or),i=!0):i=!1,i||wi(s,!0)}function k0(s){for(fn=s.return;fn;)switch(fn.tag){case 5:case 31:case 13:yr=!1;return;case 27:case 3:yr=!0;return;default:fn=fn.return}}function el(s){if(s!==fn)return!1;if(!Qe)return k0(s),Qe=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Lg(s.type,s.memoizedProps)),l=!l),l&&bt&&wi(s),k0(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));bt=nT(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));bt=nT(s)}else i===27?(i=bt,ji(s.type)?(s=$g,$g=null,bt=s):bt=i):bt=fn?vr(s.stateNode.nextSibling):null;return!0}function Va(){bt=fn=null,Qe=!1}function Tp(){var s=Ti;return s!==null&&(Bn===null?Bn=s:Bn.push.apply(Bn,s),Ti=null),s}function Fu(s){Ti===null?Ti=[s]:Ti.push(s)}var wp=k(null),ja=null,Os=null;function xi(s,i,l){le(wp,i._currentValue),i._currentValue=l}function Ms(s){s._currentValue=wp.current,J(wp)}function xp(s,i,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===l)break;s=s.return}}function Sp(s,i,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var g=m.dependencies;if(g!==null){var E=m.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=m;for(var D=0;D<i.length;D++)if(x.context===i[D]){g.lanes|=l,x=g.alternate,x!==null&&(x.lanes|=l),xp(g.return,l,s),c||(E=null);break e}g=x.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(r(341));E.lanes|=l,g=E.alternate,g!==null&&(g.lanes|=l),xp(E,l,s),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===s){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function tl(s,i,l,c){s=null;for(var m=i,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var x=m.type;Yn(m.pendingProps.value,E.value)||(s!==null?s.push(x):s=[x])}}else if(m===ye.current){if(E=m.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(mc):s=[mc])}m=m.return}s!==null&&Sp(i,s,l,c),i.flags|=262144}function id(s){for(s=s.firstContext;s!==null;){if(!Yn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function za(s){ja=s,Os=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function mn(s){return D0(ja,s)}function ad(s,i){return ja===null&&za(s),D0(s,i)}function D0(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Os===null){if(s===null)throw Error(r(308));Os=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Os=Os.next=i;return l}var e2=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},t2=t.unstable_scheduleCallback,n2=t.unstable_NormalPriority,Kt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ap(){return{controller:new e2,data:new Map,refCount:0}}function Bu(s){s.refCount--,s.refCount===0&&t2(n2,function(){s.controller.abort()})}var qu=null,Ip=0,nl=0,rl=null;function r2(s,i){if(qu===null){var l=qu=[];Ip=0,nl=Ng(),rl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Ip++,i.then(O0,O0),i}function O0(){if(--Ip===0&&qu!==null){rl!==null&&(rl.status="fulfilled");var s=qu;qu=null,nl=0,rl=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function s2(s,i){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<l.length;m++)(0,l[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var M0=X.S;X.S=function(s,i){yE=In(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&r2(s,i),M0!==null&&M0(s,i)};var La=k(null);function Rp(){var s=La.current;return s!==null?s:vt.pooledCache}function od(s,i){i===null?le(La,La.current):le(La,i.pool)}function P0(){var s=Rp();return s===null?null:{parent:Kt._currentValue,pool:s}}var sl=Error(r(460)),Cp=Error(r(474)),ld=Error(r(542)),ud={then:function(){}};function V0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function j0(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Or,Or),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,L0(s),s;default:if(typeof i.status=="string")i.then(Or,Or);else{if(s=vt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,L0(s),s}throw Fa=i,sl}}function Ua(s){try{var i=s._init;return i(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Fa=l,sl):l}}var Fa=null;function z0(){if(Fa===null)throw Error(r(459));var s=Fa;return Fa=null,s}function L0(s){if(s===sl||s===ld)throw Error(r(483))}var il=null,$u=0;function cd(s){var i=$u;return $u+=1,il===null&&(il=[]),j0(il,s,i)}function Hu(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function hd(s,i){throw i.$$typeof===w?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function U0(s){function i(B,L){if(s){var H=B.deletions;H===null?(B.deletions=[L],B.flags|=16):H.push(L)}}function l(B,L){if(!s)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function c(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function m(B,L){return B=ks(B,L),B.index=0,B.sibling=null,B}function g(B,L,H){return B.index=H,s?(H=B.alternate,H!==null?(H=H.index,H<L?(B.flags|=67108866,L):H):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function E(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function x(B,L,H,se){return L===null||L.tag!==6?(L=yp(H,B.mode,se),L.return=B,L):(L=m(L,H),L.return=B,L)}function D(B,L,H,se){var Se=H.type;return Se===P?ne(B,L,H.props.children,se,H.key):L!==null&&(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===S&&Ua(Se)===L.type)?(L=m(L,H.props),Hu(L,H),L.return=B,L):(L=rd(H.type,H.key,H.props,null,B.mode,se),Hu(L,H),L.return=B,L)}function G(B,L,H,se){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=_p(H,B.mode,se),L.return=B,L):(L=m(L,H.children||[]),L.return=B,L)}function ne(B,L,H,se,Se){return L===null||L.tag!==7?(L=Pa(H,B.mode,se,Se),L.return=B,L):(L=m(L,H),L.return=B,L)}function ae(B,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=yp(""+L,B.mode,H),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return H=rd(L.type,L.key,L.props,null,B.mode,H),Hu(H,L),H.return=B,H;case M:return L=_p(L,B.mode,H),L.return=B,L;case S:return L=Ua(L),ae(B,L,H)}if(Ze(L)||F(L))return L=Pa(L,B.mode,H,null),L.return=B,L;if(typeof L.then=="function")return ae(B,cd(L),H);if(L.$$typeof===U)return ae(B,ad(B,L),H);hd(B,L)}return null}function Q(B,L,H,se){var Se=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Se!==null?null:x(B,L,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return H.key===Se?D(B,L,H,se):null;case M:return H.key===Se?G(B,L,H,se):null;case S:return H=Ua(H),Q(B,L,H,se)}if(Ze(H)||F(H))return Se!==null?null:ne(B,L,H,se,null);if(typeof H.then=="function")return Q(B,L,cd(H),se);if(H.$$typeof===U)return Q(B,L,ad(B,H),se);hd(B,H)}return null}function W(B,L,H,se,Se){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return B=B.get(H)||null,x(L,B,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case I:return B=B.get(se.key===null?H:se.key)||null,D(L,B,se,Se);case M:return B=B.get(se.key===null?H:se.key)||null,G(L,B,se,Se);case S:return se=Ua(se),W(B,L,H,se,Se)}if(Ze(se)||F(se))return B=B.get(H)||null,ne(L,B,se,Se,null);if(typeof se.then=="function")return W(B,L,H,cd(se),Se);if(se.$$typeof===U)return W(B,L,H,ad(L,se),Se);hd(L,se)}return null}function _e(B,L,H,se){for(var Se=null,We=null,Te=L,Ve=L=0,He=null;Te!==null&&Ve<H.length;Ve++){Te.index>Ve?(He=Te,Te=null):He=Te.sibling;var et=Q(B,Te,H[Ve],se);if(et===null){Te===null&&(Te=He);break}s&&Te&&et.alternate===null&&i(B,Te),L=g(et,L,Ve),We===null?Se=et:We.sibling=et,We=et,Te=He}if(Ve===H.length)return l(B,Te),Qe&&Ds(B,Ve),Se;if(Te===null){for(;Ve<H.length;Ve++)Te=ae(B,H[Ve],se),Te!==null&&(L=g(Te,L,Ve),We===null?Se=Te:We.sibling=Te,We=Te);return Qe&&Ds(B,Ve),Se}for(Te=c(Te);Ve<H.length;Ve++)He=W(Te,B,Ve,H[Ve],se),He!==null&&(s&&He.alternate!==null&&Te.delete(He.key===null?Ve:He.key),L=g(He,L,Ve),We===null?Se=He:We.sibling=He,We=He);return s&&Te.forEach(function(Bi){return i(B,Bi)}),Qe&&Ds(B,Ve),Se}function Re(B,L,H,se){if(H==null)throw Error(r(151));for(var Se=null,We=null,Te=L,Ve=L=0,He=null,et=H.next();Te!==null&&!et.done;Ve++,et=H.next()){Te.index>Ve?(He=Te,Te=null):He=Te.sibling;var Bi=Q(B,Te,et.value,se);if(Bi===null){Te===null&&(Te=He);break}s&&Te&&Bi.alternate===null&&i(B,Te),L=g(Bi,L,Ve),We===null?Se=Bi:We.sibling=Bi,We=Bi,Te=He}if(et.done)return l(B,Te),Qe&&Ds(B,Ve),Se;if(Te===null){for(;!et.done;Ve++,et=H.next())et=ae(B,et.value,se),et!==null&&(L=g(et,L,Ve),We===null?Se=et:We.sibling=et,We=et);return Qe&&Ds(B,Ve),Se}for(Te=c(Te);!et.done;Ve++,et=H.next())et=W(Te,B,Ve,et.value,se),et!==null&&(s&&et.alternate!==null&&Te.delete(et.key===null?Ve:et.key),L=g(et,L,Ve),We===null?Se=et:We.sibling=et,We=et);return s&&Te.forEach(function(pN){return i(B,pN)}),Qe&&Ds(B,Ve),Se}function pt(B,L,H,se){if(typeof H=="object"&&H!==null&&H.type===P&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case I:e:{for(var Se=H.key;L!==null;){if(L.key===Se){if(Se=H.type,Se===P){if(L.tag===7){l(B,L.sibling),se=m(L,H.props.children),se.return=B,B=se;break e}}else if(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===S&&Ua(Se)===L.type){l(B,L.sibling),se=m(L,H.props),Hu(se,H),se.return=B,B=se;break e}l(B,L);break}else i(B,L);L=L.sibling}H.type===P?(se=Pa(H.props.children,B.mode,se,H.key),se.return=B,B=se):(se=rd(H.type,H.key,H.props,null,B.mode,se),Hu(se,H),se.return=B,B=se)}return E(B);case M:e:{for(Se=H.key;L!==null;){if(L.key===Se)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){l(B,L.sibling),se=m(L,H.children||[]),se.return=B,B=se;break e}else{l(B,L);break}else i(B,L);L=L.sibling}se=_p(H,B.mode,se),se.return=B,B=se}return E(B);case S:return H=Ua(H),pt(B,L,H,se)}if(Ze(H))return _e(B,L,H,se);if(F(H)){if(Se=F(H),typeof Se!="function")throw Error(r(150));return H=Se.call(H),Re(B,L,H,se)}if(typeof H.then=="function")return pt(B,L,cd(H),se);if(H.$$typeof===U)return pt(B,L,ad(B,H),se);hd(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(l(B,L.sibling),se=m(L,H),se.return=B,B=se):(l(B,L),se=yp(H,B.mode,se),se.return=B,B=se),E(B)):l(B,L)}return function(B,L,H,se){try{$u=0;var Se=pt(B,L,H,se);return il=null,Se}catch(Te){if(Te===sl||Te===ld)throw Te;var We=Xn(29,Te,null,B.mode);return We.lanes=se,We.return=B,We}}}var Ba=U0(!0),F0=U0(!1),Si=!1;function Np(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ai(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ii(s,i,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=nd(s),x0(s,null,l),i}return td(s,c,i,l),nd(s)}function Gu(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,vu(s,l)}}function Dp(s,i){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?m=g=i:g=g.next=i}else m=g=i;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var Op=!1;function Ku(){if(Op){var s=rl;if(s!==null)throw s}}function Qu(s,i,l,c){Op=!1;var m=s.updateQueue;Si=!1;var g=m.firstBaseUpdate,E=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var D=x,G=D.next;D.next=null,E===null?g=G:E.next=G,E=D;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,x=ne.lastBaseUpdate,x!==E&&(x===null?ne.firstBaseUpdate=G:x.next=G,ne.lastBaseUpdate=D))}if(g!==null){var ae=m.baseState;E=0,ne=G=D=null,x=g;do{var Q=x.lane&-536870913,W=Q!==x.lane;if(W?($e&Q)===Q:(c&Q)===Q){Q!==0&&Q===nl&&(Op=!0),ne!==null&&(ne=ne.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var _e=s,Re=x;Q=i;var pt=l;switch(Re.tag){case 1:if(_e=Re.payload,typeof _e=="function"){ae=_e.call(pt,ae,Q);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Re.payload,Q=typeof _e=="function"?_e.call(pt,ae,Q):_e,Q==null)break e;ae=b({},ae,Q);break e;case 2:Si=!0}}Q=x.callback,Q!==null&&(s.flags|=64,W&&(s.flags|=8192),W=m.callbacks,W===null?m.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ne===null?(G=ne=W,D=ae):ne=ne.next=W,E|=Q;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;W=x,x=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);ne===null&&(D=ae),m.baseState=D,m.firstBaseUpdate=G,m.lastBaseUpdate=ne,g===null&&(m.shared.lanes=0),Di|=E,s.lanes=E,s.memoizedState=ae}}function B0(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function q0(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)B0(l[s],i)}var al=k(null),dd=k(0);function $0(s,i){s=qs,le(dd,s),le(al,i),qs=s|i.baseLanes}function Mp(){le(dd,qs),le(al,al.current)}function Pp(){qs=dd.current,J(al),J(dd)}var Jn=k(null),_r=null;function Ri(s){var i=s.alternate;le(Lt,Lt.current&1),le(Jn,s),_r===null&&(i===null||al.current!==null||i.memoizedState!==null)&&(_r=s)}function Vp(s){le(Lt,Lt.current),le(Jn,s),_r===null&&(_r=s)}function H0(s){s.tag===22?(le(Lt,Lt.current),le(Jn,s),_r===null&&(_r=s)):Ci()}function Ci(){le(Lt,Lt.current),le(Jn,Jn.current)}function Wn(s){J(Jn),_r===s&&(_r=null),J(Lt)}var Lt=k(0);function fd(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Bg(l)||qg(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ps=0,Pe=null,ft=null,Qt=null,md=!1,ol=!1,qa=!1,pd=0,Zu=0,ll=null,i2=0;function Dt(){throw Error(r(321))}function jp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Yn(s[l],i[l]))return!1;return!0}function zp(s,i,l,c,m,g){return Ps=g,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=s===null||s.memoizedState===null?Rb:Wp,qa=!1,g=l(c,m),qa=!1,ol&&(g=K0(i,l,c,m)),G0(s),g}function G0(s){X.H=Ju;var i=ft!==null&&ft.next!==null;if(Ps=0,Qt=ft=Pe=null,md=!1,Zu=0,ll=null,i)throw Error(r(300));s===null||Zt||(s=s.dependencies,s!==null&&id(s)&&(Zt=!0))}function K0(s,i,l,c){Pe=s;var m=0;do{if(ol&&(ll=null),Zu=0,ol=!1,25<=m)throw Error(r(301));if(m+=1,Qt=ft=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=Cb,g=i(l,c)}while(ol);return g}function a2(){var s=X.H,i=s.useState()[0];return i=typeof i.then=="function"?Yu(i):i,s=s.useState()[0],(ft!==null?ft.memoizedState:null)!==s&&(Pe.flags|=1024),i}function Lp(){var s=pd!==0;return pd=0,s}function Up(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Fp(s){if(md){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}md=!1}Ps=0,Qt=ft=Pe=null,ol=!1,Zu=pd=0,ll=null}function Cn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Pe.memoizedState=Qt=s:Qt=Qt.next=s,Qt}function Ut(){if(ft===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=ft.next;var i=Qt===null?Pe.memoizedState:Qt.next;if(i!==null)Qt=i,ft=s;else{if(s===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));ft=s,s={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Qt===null?Pe.memoizedState=Qt=s:Qt=Qt.next=s}return Qt}function gd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yu(s){var i=Zu;return Zu+=1,ll===null&&(ll=[]),s=j0(ll,s,i),i=Pe,(Qt===null?i.memoizedState:Qt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Rb:Wp),s}function yd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Yu(s);if(s.$$typeof===U)return mn(s)}throw Error(r(438,String(s)))}function Bp(s){var i=null,l=Pe.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=gd(),Pe.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),c=0;c<s;c++)l[c]=V;return i.index++,l}function Vs(s,i){return typeof i=="function"?i(s):i}function _d(s){var i=Ut();return qp(i,ft,s)}function qp(s,i,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,g=c.pending;if(g!==null){if(m!==null){var E=m.next;m.next=g.next,g.next=E}i.baseQueue=m=g,c.pending=null}if(g=s.baseState,m===null)s.memoizedState=g;else{i=m.next;var x=E=null,D=null,G=i,ne=!1;do{var ae=G.lane&-536870913;if(ae!==G.lane?($e&ae)===ae:(Ps&ae)===ae){var Q=G.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ae===nl&&(ne=!0);else if((Ps&Q)===Q){G=G.next,Q===nl&&(ne=!0);continue}else ae={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(x=D=ae,E=g):D=D.next=ae,Pe.lanes|=Q,Di|=Q;ae=G.action,qa&&l(g,ae),g=G.hasEagerState?G.eagerState:l(g,ae)}else Q={lane:ae,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(x=D=Q,E=g):D=D.next=Q,Pe.lanes|=ae,Di|=ae;G=G.next}while(G!==null&&G!==i);if(D===null?E=g:D.next=x,!Yn(g,s.memoizedState)&&(Zt=!0,ne&&(l=rl,l!==null)))throw l;s.memoizedState=g,s.baseState=E,s.baseQueue=D,c.lastRenderedState=g}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function $p(s){var i=Ut(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,g=i.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do g=s(g,E.action),E=E.next;while(E!==m);Yn(g,i.memoizedState)||(Zt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,c]}function Q0(s,i,l){var c=Pe,m=Ut(),g=Qe;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=i();var E=!Yn((ft||m).memoizedState,l);if(E&&(m.memoizedState=l,Zt=!0),m=m.queue,Kp(X0.bind(null,c,m,s),[s]),m.getSnapshot!==i||E||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,ul(9,{destroy:void 0},Y0.bind(null,c,m,l,i),null),vt===null)throw Error(r(349));g||(Ps&127)!==0||Z0(c,i,l)}return l}function Z0(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Pe.updateQueue,i===null?(i=gd(),Pe.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Y0(s,i,l,c){i.value=l,i.getSnapshot=c,J0(i)&&W0(s)}function X0(s,i,l){return l(function(){J0(i)&&W0(s)})}function J0(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Yn(s,l)}catch{return!0}}function W0(s){var i=Ma(s,2);i!==null&&qn(i,s,2)}function Hp(s){var i=Cn();if(typeof s=="function"){var l=s;if(s=l(),qa){lr(!0);try{l()}finally{lr(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:s},i}function eb(s,i,l,c){return s.baseState=l,qp(s,ft,typeof c=="function"?c:Vs)}function o2(s,i,l,c,m){if(Ed(s))throw Error(r(485));if(s=i.action,s!==null){var g={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};X.T!==null?l(!0):g.isTransition=!1,c(g),l=i.pending,l===null?(g.next=i.pending=g,tb(i,g)):(g.next=l.next,i.pending=l.next=g)}}function tb(s,i){var l=i.action,c=i.payload,m=s.state;if(i.isTransition){var g=X.T,E={};X.T=E;try{var x=l(m,c),D=X.S;D!==null&&D(E,x),nb(s,i,x)}catch(G){Gp(s,i,G)}finally{g!==null&&E.types!==null&&(g.types=E.types),X.T=g}}else try{g=l(m,c),nb(s,i,g)}catch(G){Gp(s,i,G)}}function nb(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){rb(s,i,c)},function(c){return Gp(s,i,c)}):rb(s,i,l)}function rb(s,i,l){i.status="fulfilled",i.value=l,sb(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,tb(s,l)))}function Gp(s,i,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,sb(i),i=i.next;while(i!==c)}s.action=null}function sb(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function ib(s,i){return i}function ab(s,i){if(Qe){var l=vt.formState;if(l!==null){e:{var c=Pe;if(Qe){if(bt){t:{for(var m=bt,g=yr;m.nodeType!==8;){if(!g){m=null;break t}if(m=vr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){bt=vr(m.nextSibling),c=m.data==="F!";break e}}wi(c)}c=!1}c&&(i=l[0])}}return l=Cn(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ib,lastRenderedState:i},l.queue=c,l=Sb.bind(null,Pe,c),c.dispatch=l,c=Hp(!1),g=Jp.bind(null,Pe,!1,c.queue),c=Cn(),m={state:i,dispatch:null,action:s,pending:null},c.queue=m,l=o2.bind(null,Pe,m,g,l),m.dispatch=l,c.memoizedState=s,[i,l,!1]}function ob(s){var i=Ut();return lb(i,ft,s)}function lb(s,i,l){if(i=qp(s,i,ib)[0],s=_d(Vs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Yu(i)}catch(E){throw E===sl?ld:E}else c=i;i=Ut();var m=i.queue,g=m.dispatch;return l!==i.memoizedState&&(Pe.flags|=2048,ul(9,{destroy:void 0},l2.bind(null,m,l),null)),[c,g,s]}function l2(s,i){s.action=i}function ub(s){var i=Ut(),l=ft;if(l!==null)return lb(i,l,s);Ut(),i=i.memoizedState,l=Ut();var c=l.queue.dispatch;return l.memoizedState=s,[i,c,!1]}function ul(s,i,l,c){return s={tag:s,create:l,deps:c,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=gd(),Pe.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,i.lastEffect=s),s}function cb(){return Ut().memoizedState}function vd(s,i,l,c){var m=Cn();Pe.flags|=s,m.memoizedState=ul(1|i,{destroy:void 0},l,c===void 0?null:c)}function bd(s,i,l,c){var m=Ut();c=c===void 0?null:c;var g=m.memoizedState.inst;ft!==null&&c!==null&&jp(c,ft.memoizedState.deps)?m.memoizedState=ul(i,g,l,c):(Pe.flags|=s,m.memoizedState=ul(1|i,g,l,c))}function hb(s,i){vd(8390656,8,s,i)}function Kp(s,i){bd(2048,8,s,i)}function u2(s){Pe.flags|=4;var i=Pe.updateQueue;if(i===null)i=gd(),Pe.updateQueue=i,i.events=[s];else{var l=i.events;l===null?i.events=[s]:l.push(s)}}function db(s){var i=Ut().memoizedState;return u2({ref:i,nextImpl:s}),function(){if((rt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function fb(s,i){return bd(4,2,s,i)}function mb(s,i){return bd(4,4,s,i)}function pb(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function gb(s,i,l){l=l!=null?l.concat([s]):null,bd(4,4,pb.bind(null,i,s),l)}function Qp(){}function yb(s,i){var l=Ut();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&jp(i,c[1])?c[0]:(l.memoizedState=[s,i],s)}function _b(s,i){var l=Ut();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&jp(i,c[1]))return c[0];if(c=s(),qa){lr(!0);try{s()}finally{lr(!1)}}return l.memoizedState=[c,i],c}function Zp(s,i,l){return l===void 0||(Ps&1073741824)!==0&&($e&261930)===0?s.memoizedState=i:(s.memoizedState=l,s=vE(),Pe.lanes|=s,Di|=s,l)}function vb(s,i,l,c){return Yn(l,i)?l:al.current!==null?(s=Zp(s,l,c),Yn(s,i)||(Zt=!0),s):(Ps&42)===0||(Ps&1073741824)!==0&&($e&261930)===0?(Zt=!0,s.memoizedState=l):(s=vE(),Pe.lanes|=s,Di|=s,i)}function bb(s,i,l,c,m){var g=de.p;de.p=g!==0&&8>g?g:8;var E=X.T,x={};X.T=x,Jp(s,!1,i,l);try{var D=m(),G=X.S;if(G!==null&&G(x,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ne=s2(D,c);Xu(s,i,ne,nr(s))}else Xu(s,i,c,nr(s))}catch(ae){Xu(s,i,{then:function(){},status:"rejected",reason:ae},nr())}finally{de.p=g,E!==null&&x.types!==null&&(E.types=x.types),X.T=E}}function c2(){}function Yp(s,i,l,c){if(s.tag!==5)throw Error(r(476));var m=Eb(s).queue;bb(s,m,i,oe,l===null?c2:function(){return Tb(s),l(c)})}function Eb(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:oe},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function Tb(s){var i=Eb(s);i.next===null&&(i=s.alternate.memoizedState),Xu(s,i.next.queue,{},nr())}function Xp(){return mn(mc)}function wb(){return Ut().memoizedState}function xb(){return Ut().memoizedState}function h2(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=nr();s=Ai(l);var c=Ii(i,s,l);c!==null&&(qn(c,i,l),Gu(c,i,l)),i={cache:Ap()},s.payload=i;return}i=i.return}}function d2(s,i,l){var c=nr();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ed(s)?Ab(i,l):(l=pp(s,i,l,c),l!==null&&(qn(l,s,c),Ib(l,i,c)))}function Sb(s,i,l){var c=nr();Xu(s,i,l,c)}function Xu(s,i,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ed(s))Ab(i,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,x=g(E,l);if(m.hasEagerState=!0,m.eagerState=x,Yn(x,E))return td(s,i,m,0),vt===null&&ed(),!1}catch{}if(l=pp(s,i,m,c),l!==null)return qn(l,s,c),Ib(l,i,c),!0}return!1}function Jp(s,i,l,c){if(c={lane:2,revertLane:Ng(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ed(s)){if(i)throw Error(r(479))}else i=pp(s,l,c,2),i!==null&&qn(i,s,2)}function Ed(s){var i=s.alternate;return s===Pe||i!==null&&i===Pe}function Ab(s,i){ol=md=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Ib(s,i,l){if((l&4194048)!==0){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,vu(s,l)}}var Ju={readContext:mn,use:yd,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};Ju.useEffectEvent=Dt;var Rb={readContext:mn,use:yd,useCallback:function(s,i){return Cn().memoizedState=[s,i===void 0?null:i],s},useContext:mn,useEffect:hb,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,vd(4194308,4,pb.bind(null,i,s),l)},useLayoutEffect:function(s,i){return vd(4194308,4,s,i)},useInsertionEffect:function(s,i){vd(4,2,s,i)},useMemo:function(s,i){var l=Cn();i=i===void 0?null:i;var c=s();if(qa){lr(!0);try{s()}finally{lr(!1)}}return l.memoizedState=[c,i],c},useReducer:function(s,i,l){var c=Cn();if(l!==void 0){var m=l(i);if(qa){lr(!0);try{l(i)}finally{lr(!1)}}}else m=i;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=d2.bind(null,Pe,s),[c.memoizedState,s]},useRef:function(s){var i=Cn();return s={current:s},i.memoizedState=s},useState:function(s){s=Hp(s);var i=s.queue,l=Sb.bind(null,Pe,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Qp,useDeferredValue:function(s,i){var l=Cn();return Zp(l,s,i)},useTransition:function(){var s=Hp(!1);return s=bb.bind(null,Pe,s.queue,!0,!1),Cn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var c=Pe,m=Cn();if(Qe){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),vt===null)throw Error(r(349));($e&127)!==0||Z0(c,i,l)}m.memoizedState=l;var g={value:l,getSnapshot:i};return m.queue=g,hb(X0.bind(null,c,g,s),[s]),c.flags|=2048,ul(9,{destroy:void 0},Y0.bind(null,c,g,l,i),null),l},useId:function(){var s=Cn(),i=vt.identifierPrefix;if(Qe){var l=hs,c=cs;l=(c&~(1<<32-jt(c)-1)).toString(32)+l,i="_"+i+"R_"+l,l=pd++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=i2++,i="_"+i+"r_"+l.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:Xp,useFormState:ab,useActionState:ab,useOptimistic:function(s){var i=Cn();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Jp.bind(null,Pe,!0,l),l.dispatch=i,[s,i]},useMemoCache:Bp,useCacheRefresh:function(){return Cn().memoizedState=h2.bind(null,Pe)},useEffectEvent:function(s){var i=Cn(),l={impl:s};return i.memoizedState=l,function(){if((rt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Wp={readContext:mn,use:yd,useCallback:yb,useContext:mn,useEffect:Kp,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:mb,useMemo:_b,useReducer:_d,useRef:cb,useState:function(){return _d(Vs)},useDebugValue:Qp,useDeferredValue:function(s,i){var l=Ut();return vb(l,ft.memoizedState,s,i)},useTransition:function(){var s=_d(Vs)[0],i=Ut().memoizedState;return[typeof s=="boolean"?s:Yu(s),i]},useSyncExternalStore:Q0,useId:wb,useHostTransitionStatus:Xp,useFormState:ob,useActionState:ob,useOptimistic:function(s,i){var l=Ut();return eb(l,ft,s,i)},useMemoCache:Bp,useCacheRefresh:xb};Wp.useEffectEvent=db;var Cb={readContext:mn,use:yd,useCallback:yb,useContext:mn,useEffect:Kp,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:mb,useMemo:_b,useReducer:$p,useRef:cb,useState:function(){return $p(Vs)},useDebugValue:Qp,useDeferredValue:function(s,i){var l=Ut();return ft===null?Zp(l,s,i):vb(l,ft.memoizedState,s,i)},useTransition:function(){var s=$p(Vs)[0],i=Ut().memoizedState;return[typeof s=="boolean"?s:Yu(s),i]},useSyncExternalStore:Q0,useId:wb,useHostTransitionStatus:Xp,useFormState:ub,useActionState:ub,useOptimistic:function(s,i){var l=Ut();return ft!==null?eb(l,ft,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Bp,useCacheRefresh:xb};Cb.useEffectEvent=db;function eg(s,i,l,c){i=s.memoizedState,l=l(c,i),l=l==null?i:b({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var tg={enqueueSetState:function(s,i,l){s=s._reactInternals;var c=nr(),m=Ai(c);m.payload=i,l!=null&&(m.callback=l),i=Ii(s,m,c),i!==null&&(qn(i,s,c),Gu(i,s,c))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var c=nr(),m=Ai(c);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=Ii(s,m,c),i!==null&&(qn(i,s,c),Gu(i,s,c))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=nr(),c=Ai(l);c.tag=2,i!=null&&(c.callback=i),i=Ii(s,c,l),i!==null&&(qn(i,s,l),Gu(i,s,l))}};function Nb(s,i,l,c,m,g,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,E):i.prototype&&i.prototype.isPureReactComponent?!zu(l,c)||!zu(m,g):!0}function kb(s,i,l,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==s&&tg.enqueueReplaceState(i,i.state,null)}function $a(s,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(s=s.defaultProps){l===i&&(l=b({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}function Db(s){Wh(s)}function Ob(s){console.error(s)}function Mb(s){Wh(s)}function Td(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Pb(s,i,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function ng(s,i,l){return l=Ai(l),l.tag=3,l.payload={element:null},l.callback=function(){Td(s,i)},l}function Vb(s){return s=Ai(s),s.tag=3,s}function jb(s,i,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;s.payload=function(){return m(g)},s.callback=function(){Pb(i,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){Pb(i,l,c),typeof m!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function f2(s,i,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&tl(i,l,m,!0),l=Jn.current,l!==null){switch(l.tag){case 31:case 13:return _r===null?Md():l.alternate===null&&Ot===0&&(Ot=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===ud?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),Ig(s,c,m)),!1;case 22:return l.flags|=65536,c===ud?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),Ig(s,c,m)),!1}throw Error(r(435,l.tag))}return Ig(s,c,m),Md(),!1}if(Qe)return i=Jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==Ep&&(s=Error(r(422),{cause:c}),Fu(mr(s,l)))):(c!==Ep&&(i=Error(r(423),{cause:c}),Fu(mr(i,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=mr(c,l),m=ng(s.stateNode,c,m),Dp(s,m),Ot!==4&&(Ot=2)),!1;var g=Error(r(520),{cause:c});if(g=mr(g,l),ac===null?ac=[g]:ac.push(g),Ot!==4&&(Ot=2),i===null)return!0;c=mr(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=ng(l.stateNode,c,s),Dp(l,s),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Oi===null||!Oi.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Vb(m),jb(m,s,l,c),Dp(l,m),!1}l=l.return}while(l!==null);return!1}var rg=Error(r(461)),Zt=!1;function pn(s,i,l,c){i.child=s===null?F0(i,null,l,c):Ba(i,s.child,l,c)}function zb(s,i,l,c,m){l=l.render;var g=i.ref;if("ref"in c){var E={};for(var x in c)x!=="ref"&&(E[x]=c[x])}else E=c;return za(i),c=zp(s,i,l,E,g,m),x=Lp(),s!==null&&!Zt?(Up(s,i,m),js(s,i,m)):(Qe&&x&&vp(i),i.flags|=1,pn(s,i,c,m),i.child)}function Lb(s,i,l,c,m){if(s===null){var g=l.type;return typeof g=="function"&&!gp(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,Ub(s,i,g,c,m)):(s=rd(l.type,null,c,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(g=s.child,!hg(s,m)){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:zu,l(E,c)&&s.ref===i.ref)return js(s,i,m)}return i.flags|=1,s=ks(g,c),s.ref=i.ref,s.return=i,i.child=s}function Ub(s,i,l,c,m){if(s!==null){var g=s.memoizedProps;if(zu(g,c)&&s.ref===i.ref)if(Zt=!1,i.pendingProps=c=g,hg(s,m))(s.flags&131072)!==0&&(Zt=!0);else return i.lanes=s.lanes,js(s,i,m)}return sg(s,i,l,c,m)}function Fb(s,i,l,c){var m=c.children,g=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,s!==null){for(c=i.child=s.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,i.child=null;return Bb(s,i,g,l,c)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&od(i,g!==null?g.cachePool:null),g!==null?$0(i,g):Mp(),H0(i);else return c=i.lanes=536870912,Bb(s,i,g!==null?g.baseLanes|l:l,l,c)}else g!==null?(od(i,g.cachePool),$0(i,g),Ci(),i.memoizedState=null):(s!==null&&od(i,null),Mp(),Ci());return pn(s,i,m,l),i.child}function Wu(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Bb(s,i,l,c,m){var g=Rp();return g=g===null?null:{parent:Kt._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},s!==null&&od(i,null),Mp(),H0(i),s!==null&&tl(s,i,c,!0),i.childLanes=m,null}function wd(s,i){return i=Sd({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function qb(s,i,l){return Ba(i,s.child,null,l),s=wd(i,i.pendingProps),s.flags|=2,Wn(i),i.memoizedState=null,s}function m2(s,i,l){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Qe){if(c.mode==="hidden")return s=wd(i,c),i.lanes=536870912,Wu(null,s);if(Vp(i),(s=bt)?(s=tT(s,yr),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:Ei!==null?{id:cs,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},l=A0(s),l.return=i,i.child=l,fn=i,bt=null)):s=null,s===null)throw wi(i);return i.lanes=536870912,null}return wd(i,c)}var g=s.memoizedState;if(g!==null){var E=g.dehydrated;if(Vp(i),m)if(i.flags&256)i.flags&=-257,i=qb(s,i,l);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(Zt||tl(s,i,l,!1),m=(l&s.childLanes)!==0,Zt||m){if(c=vt,c!==null&&(E=bu(c,l),E!==0&&E!==g.retryLane))throw g.retryLane=E,Ma(s,E),qn(c,s,E),rg;Md(),i=qb(s,i,l)}else s=g.treeContext,bt=vr(E.nextSibling),fn=i,Qe=!0,Ti=null,yr=!1,s!==null&&C0(i,s),i=wd(i,c),i.flags|=4096;return i}return s=ks(s.child,{mode:c.mode,children:c.children}),s.ref=i.ref,i.child=s,s.return=i,s}function xd(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function sg(s,i,l,c,m){return za(i),l=zp(s,i,l,c,void 0,m),c=Lp(),s!==null&&!Zt?(Up(s,i,m),js(s,i,m)):(Qe&&c&&vp(i),i.flags|=1,pn(s,i,l,m),i.child)}function $b(s,i,l,c,m,g){return za(i),i.updateQueue=null,l=K0(i,c,l,m),G0(s),c=Lp(),s!==null&&!Zt?(Up(s,i,g),js(s,i,g)):(Qe&&c&&vp(i),i.flags|=1,pn(s,i,l,g),i.child)}function Hb(s,i,l,c,m){if(za(i),i.stateNode===null){var g=Xo,E=l.contextType;typeof E=="object"&&E!==null&&(g=mn(E)),g=new l(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=tg,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Np(i),E=l.contextType,g.context=typeof E=="object"&&E!==null?mn(E):Xo,g.state=i.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(eg(i,l,E,c),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&tg.enqueueReplaceState(g,g.state,null),Qu(i,c,g,m),Ku(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(s===null){g=i.stateNode;var x=i.memoizedProps,D=$a(l,x);g.props=D;var G=g.context,ne=l.contextType;E=Xo,typeof ne=="object"&&ne!==null&&(E=mn(ne));var ae=l.getDerivedStateFromProps;ne=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||G!==E)&&kb(i,g,c,E),Si=!1;var Q=i.memoizedState;g.state=Q,Qu(i,c,g,m),Ku(),G=i.memoizedState,x||Q!==G||Si?(typeof ae=="function"&&(eg(i,l,ae,c),G=i.memoizedState),(D=Si||Nb(i,l,D,c,Q,G,E))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=G),g.props=c,g.state=G,g.context=E,c=D):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,kp(s,i),E=i.memoizedProps,ne=$a(l,E),g.props=ne,ae=i.pendingProps,Q=g.context,G=l.contextType,D=Xo,typeof G=="object"&&G!==null&&(D=mn(G)),x=l.getDerivedStateFromProps,(G=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ae||Q!==D)&&kb(i,g,c,D),Si=!1,Q=i.memoizedState,g.state=Q,Qu(i,c,g,m),Ku();var W=i.memoizedState;E!==ae||Q!==W||Si||s!==null&&s.dependencies!==null&&id(s.dependencies)?(typeof x=="function"&&(eg(i,l,x,c),W=i.memoizedState),(ne=Si||Nb(i,l,ne,c,Q,W,D)||s!==null&&s.dependencies!==null&&id(s.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,W,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,W,D)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===s.memoizedProps&&Q===s.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&Q===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=W),g.props=c,g.state=W,g.context=D,c=ne):(typeof g.componentDidUpdate!="function"||E===s.memoizedProps&&Q===s.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&Q===s.memoizedState||(i.flags|=1024),c=!1)}return g=c,xd(s,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,s!==null&&c?(i.child=Ba(i,s.child,null,m),i.child=Ba(i,null,l,m)):pn(s,i,l,m),i.memoizedState=g.state,s=i.child):s=js(s,i,m),s}function Gb(s,i,l,c){return Va(),i.flags|=256,pn(s,i,l,c),i.child}var ig={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ag(s){return{baseLanes:s,cachePool:P0()}}function og(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=tr),s}function Kb(s,i,l){var c=i.pendingProps,m=!1,g=(i.flags&128)!==0,E;if((E=g)||(E=s!==null&&s.memoizedState===null?!1:(Lt.current&2)!==0),E&&(m=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,s===null){if(Qe){if(m?Ri(i):Ci(),(s=bt)?(s=tT(s,yr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:Ei!==null?{id:cs,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},l=A0(s),l.return=i,i.child=l,fn=i,bt=null)):s=null,s===null)throw wi(i);return qg(s)?i.lanes=32:i.lanes=536870912,null}var x=c.children;return c=c.fallback,m?(Ci(),m=i.mode,x=Sd({mode:"hidden",children:x},m),c=Pa(c,m,l,null),x.return=i,c.return=i,x.sibling=c,i.child=x,c=i.child,c.memoizedState=ag(l),c.childLanes=og(s,E,l),i.memoizedState=ig,Wu(null,c)):(Ri(i),lg(i,x))}var D=s.memoizedState;if(D!==null&&(x=D.dehydrated,x!==null)){if(g)i.flags&256?(Ri(i),i.flags&=-257,i=ug(s,i,l)):i.memoizedState!==null?(Ci(),i.child=s.child,i.flags|=128,i=null):(Ci(),x=c.fallback,m=i.mode,c=Sd({mode:"visible",children:c.children},m),x=Pa(x,m,l,null),x.flags|=2,c.return=i,x.return=i,c.sibling=x,i.child=c,Ba(i,s.child,null,l),c=i.child,c.memoizedState=ag(l),c.childLanes=og(s,E,l),i.memoizedState=ig,i=Wu(null,c));else if(Ri(i),qg(x)){if(E=x.nextSibling&&x.nextSibling.dataset,E)var G=E.dgst;E=G,c=Error(r(419)),c.stack="",c.digest=E,Fu({value:c,source:null,stack:null}),i=ug(s,i,l)}else if(Zt||tl(s,i,l,!1),E=(l&s.childLanes)!==0,Zt||E){if(E=vt,E!==null&&(c=bu(E,l),c!==0&&c!==D.retryLane))throw D.retryLane=c,Ma(s,c),qn(E,s,c),rg;Bg(x)||Md(),i=ug(s,i,l)}else Bg(x)?(i.flags|=192,i.child=s.child,i=null):(s=D.treeContext,bt=vr(x.nextSibling),fn=i,Qe=!0,Ti=null,yr=!1,s!==null&&C0(i,s),i=lg(i,c.children),i.flags|=4096);return i}return m?(Ci(),x=c.fallback,m=i.mode,D=s.child,G=D.sibling,c=ks(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,G!==null?x=ks(G,x):(x=Pa(x,m,l,null),x.flags|=2),x.return=i,c.return=i,c.sibling=x,i.child=c,Wu(null,c),c=i.child,x=s.child.memoizedState,x===null?x=ag(l):(m=x.cachePool,m!==null?(D=Kt._currentValue,m=m.parent!==D?{parent:D,pool:D}:m):m=P0(),x={baseLanes:x.baseLanes|l,cachePool:m}),c.memoizedState=x,c.childLanes=og(s,E,l),i.memoizedState=ig,Wu(s.child,c)):(Ri(i),l=s.child,s=l.sibling,l=ks(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,s!==null&&(E=i.deletions,E===null?(i.deletions=[s],i.flags|=16):E.push(s)),i.child=l,i.memoizedState=null,l)}function lg(s,i){return i=Sd({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Sd(s,i){return s=Xn(22,s,null,i),s.lanes=0,s}function ug(s,i,l){return Ba(i,s.child,null,l),s=lg(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Qb(s,i,l){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),xp(s.return,i,l)}function cg(s,i,l,c,m,g){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:g}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=l,E.tailMode=m,E.treeForkCount=g)}function Zb(s,i,l){var c=i.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var E=Lt.current,x=(E&2)!==0;if(x?(E=E&1|2,i.flags|=128):E&=1,le(Lt,E),pn(s,i,c,l),c=Qe?Uu:0,!x&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Qb(s,l,i);else if(s.tag===19)Qb(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(l=i.child,m=null;l!==null;)s=l.alternate,s!==null&&fd(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),cg(i,!1,m,l,g,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&fd(s)===null){i.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}cg(i,!0,l,null,g,c);break;case"together":cg(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function js(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Di|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(tl(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=ks(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=ks(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function hg(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&id(s)))}function p2(s,i,l){switch(i.tag){case 3:gt(i,i.stateNode.containerInfo),xi(i,Kt,s.memoizedState.cache),Va();break;case 27:case 5:An(i);break;case 4:gt(i,i.stateNode.containerInfo);break;case 10:xi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Vp(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ri(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Kb(s,i,l):(Ri(i),s=js(s,i,l),s!==null?s.sibling:null);Ri(i);break;case 19:var m=(s.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(tl(s,i,l,!1),c=(l&i.childLanes)!==0),m){if(c)return Zb(s,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(Lt,Lt.current),c)break;return null;case 22:return i.lanes=0,Fb(s,i,l,i.pendingProps);case 24:xi(i,Kt,s.memoizedState.cache)}return js(s,i,l)}function Yb(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Zt=!0;else{if(!hg(s,l)&&(i.flags&128)===0)return Zt=!1,p2(s,i,l);Zt=(s.flags&131072)!==0}else Zt=!1,Qe&&(i.flags&1048576)!==0&&R0(i,Uu,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(s=Ua(i.elementType),i.type=s,typeof s=="function")gp(s)?(c=$a(s,c),i.tag=1,i=Hb(null,i,s,c,l)):(i.tag=0,i=sg(null,i,s,c,l));else{if(s!=null){var m=s.$$typeof;if(m===re){i.tag=11,i=zb(null,i,s,c,l);break e}else if(m===R){i.tag=14,i=Lb(null,i,s,c,l);break e}}throw i=qe(s)||s,Error(r(306,i,""))}}return i;case 0:return sg(s,i,i.type,i.pendingProps,l);case 1:return c=i.type,m=$a(c,i.pendingProps),Hb(s,i,c,m,l);case 3:e:{if(gt(i,i.stateNode.containerInfo),s===null)throw Error(r(387));c=i.pendingProps;var g=i.memoizedState;m=g.element,kp(s,i),Qu(i,c,null,l);var E=i.memoizedState;if(c=E.cache,xi(i,Kt,c),c!==g.cache&&Sp(i,[Kt],l,!0),Ku(),c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Gb(s,i,c,l);break e}else if(c!==m){m=mr(Error(r(424)),i),Fu(m),i=Gb(s,i,c,l);break e}else for(s=i.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,bt=vr(s.firstChild),fn=i,Qe=!0,Ti=null,yr=!0,l=F0(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Va(),c===m){i=js(s,i,l);break e}pn(s,i,c,l)}i=i.child}return i;case 26:return xd(s,i),s===null?(l=oT(i.type,null,i.pendingProps,null))?i.memoizedState=l:Qe||(l=i.type,s=i.pendingProps,c=Fd(we.current).createElement(l),c[$t]=i,c[on]=s,gn(c,l,s),Ht(c),i.stateNode=c):i.memoizedState=oT(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return An(i),s===null&&Qe&&(c=i.stateNode=sT(i.type,i.pendingProps,we.current),fn=i,yr=!0,m=bt,ji(i.type)?($g=m,bt=vr(c.firstChild)):bt=m),pn(s,i,i.pendingProps.children,l),xd(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Qe&&((m=c=bt)&&(c=H2(c,i.type,i.pendingProps,yr),c!==null?(i.stateNode=c,fn=i,bt=vr(c.firstChild),yr=!1,m=!0):m=!1),m||wi(i)),An(i),m=i.type,g=i.pendingProps,E=s!==null?s.memoizedProps:null,c=g.children,Lg(m,g)?c=null:E!==null&&Lg(m,E)&&(i.flags|=32),i.memoizedState!==null&&(m=zp(s,i,a2,null,null,l),mc._currentValue=m),xd(s,i),pn(s,i,c,l),i.child;case 6:return s===null&&Qe&&((s=l=bt)&&(l=G2(l,i.pendingProps,yr),l!==null?(i.stateNode=l,fn=i,bt=null,s=!0):s=!1),s||wi(i)),null;case 13:return Kb(s,i,l);case 4:return gt(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=Ba(i,null,c,l):pn(s,i,c,l),i.child;case 11:return zb(s,i,i.type,i.pendingProps,l);case 7:return pn(s,i,i.pendingProps,l),i.child;case 8:return pn(s,i,i.pendingProps.children,l),i.child;case 12:return pn(s,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,xi(i,i.type,c.value),pn(s,i,c.children,l),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,za(i),m=mn(m),c=c(m),i.flags|=1,pn(s,i,c,l),i.child;case 14:return Lb(s,i,i.type,i.pendingProps,l);case 15:return Ub(s,i,i.type,i.pendingProps,l);case 19:return Zb(s,i,l);case 31:return m2(s,i,l);case 22:return Fb(s,i,l,i.pendingProps);case 24:return za(i),c=mn(Kt),s===null?(m=Rp(),m===null&&(m=vt,g=Ap(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),i.memoizedState={parent:c,cache:m},Np(i),xi(i,Kt,m)):((s.lanes&l)!==0&&(kp(s,i),Qu(i,null,null,l),Ku()),m=s.memoizedState,g=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),xi(i,Kt,c)):(c=g.cache,xi(i,Kt,c),c!==m.cache&&Sp(i,[Kt],l,!0))),pn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function zs(s){s.flags|=4}function dg(s,i,l,c,m){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(wE())s.flags|=8192;else throw Fa=ud,Cp}else s.flags&=-16777217}function Xb(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!dT(i))if(wE())s.flags|=8192;else throw Fa=ud,Cp}function Ad(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Dh():536870912,s.lanes|=i,fl|=i)}function ec(s,i){if(!Qe)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Et(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(i)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,i}function g2(s,i,l){var c=i.pendingProps;switch(bp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(i),null;case 1:return Et(i),null;case 3:return l=i.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ms(Kt),Je(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(el(i)?zs(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tp())),Et(i),null;case 26:var m=i.type,g=i.memoizedState;return s===null?(zs(i),g!==null?(Et(i),Xb(i,g)):(Et(i),dg(i,m,null,c,l))):g?g!==s.memoizedState?(zs(i),Et(i),Xb(i,g)):(Et(i),i.flags&=-16777217):(s=s.memoizedProps,s!==c&&zs(i),Et(i),dg(i,m,s,c,l)),null;case 27:if(Kn(i),l=we.current,m=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&zs(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Et(i),null}s=ue.current,el(i)?N0(i):(s=sT(m,c,l),i.stateNode=s,zs(i))}return Et(i),null;case 5:if(Kn(i),m=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&zs(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Et(i),null}if(g=ue.current,el(i))N0(i);else{var E=Fd(we.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?E.createElement(m,{is:c.is}):E.createElement(m)}}g[$t]=i,g[on]=c;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=g;e:switch(gn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&zs(i)}}return Et(i),dg(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,l),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==c&&zs(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(s=we.current,el(i)){if(s=i.stateNode,l=i.memoizedProps,c=null,m=fn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[$t]=i,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||KE(s.nodeValue,l)),s||wi(i,!0)}else s=Fd(s).createTextNode(c),s[$t]=i,i.stateNode=s}return Et(i),null;case 31:if(l=i.memoizedState,s===null||s.memoizedState!==null){if(c=el(i),l!==null){if(s===null){if(!c)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[$t]=i}else Va(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),s=!1}else l=Tp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return i.flags&256?(Wn(i),i):(Wn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Et(i),null;case 13:if(c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=el(i),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[$t]=i}else Va(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),m=!1}else m=Tp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Wn(i),i):(Wn(i),null)}return Wn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=c!==null,s=s!==null&&s.memoizedState!==null,l&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),l!==s&&l&&(i.child.flags|=8192),Ad(i,i.updateQueue),Et(i),null);case 4:return Je(),s===null&&Mg(i.stateNode.containerInfo),Et(i),null;case 10:return Ms(i.type),Et(i),null;case 19:if(J(Lt),c=i.memoizedState,c===null)return Et(i),null;if(m=(i.flags&128)!==0,g=c.rendering,g===null)if(m)ec(c,!1);else{if(Ot!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(g=fd(s),g!==null){for(i.flags|=128,ec(c,!1),s=g.updateQueue,i.updateQueue=s,Ad(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)S0(l,s),l=l.sibling;return le(Lt,Lt.current&1|2),Qe&&Ds(i,c.treeForkCount),i.child}s=s.sibling}c.tail!==null&&In()>kd&&(i.flags|=128,m=!0,ec(c,!1),i.lanes=4194304)}else{if(!m)if(s=fd(g),s!==null){if(i.flags|=128,m=!0,s=s.updateQueue,i.updateQueue=s,Ad(i,s),ec(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Qe)return Et(i),null}else 2*In()-c.renderingStartTime>kd&&l!==536870912&&(i.flags|=128,m=!0,ec(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(s=c.last,s!==null?s.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=In(),s.sibling=null,l=Lt.current,le(Lt,m?l&1|2:l&1),Qe&&Ds(i,c.treeForkCount),s):(Et(i),null);case 22:case 23:return Wn(i),Pp(),c=i.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(Et(i),i.subtreeFlags&6&&(i.flags|=8192)):Et(i),l=i.updateQueue,l!==null&&Ad(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),s!==null&&J(La),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ms(Kt),Et(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function y2(s,i){switch(bp(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ms(Kt),Je(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Kn(i),null;case 31:if(i.memoizedState!==null){if(Wn(i),i.alternate===null)throw Error(r(340));Va()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Wn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Va()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return J(Lt),null;case 4:return Je(),null;case 10:return Ms(i.type),null;case 22:case 23:return Wn(i),Pp(),s!==null&&J(La),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Ms(Kt),null;case 25:return null;default:return null}}function Jb(s,i){switch(bp(i),i.tag){case 3:Ms(Kt),Je();break;case 26:case 27:case 5:Kn(i);break;case 4:Je();break;case 31:i.memoizedState!==null&&Wn(i);break;case 13:Wn(i);break;case 19:J(Lt);break;case 10:Ms(i.type);break;case 22:case 23:Wn(i),Pp(),s!==null&&J(La);break;case 24:Ms(Kt)}}function tc(s,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var g=l.create,E=l.inst;c=g(),E.destroy=c}l=l.next}while(l!==m)}}catch(x){ot(i,i.return,x)}}function Ni(s,i,l){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&s)===s){var E=c.inst,x=E.destroy;if(x!==void 0){E.destroy=void 0,m=i;var D=l,G=x;try{G()}catch(ne){ot(m,D,ne)}}}c=c.next}while(c!==g)}}catch(ne){ot(i,i.return,ne)}}function Wb(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{q0(i,l)}catch(c){ot(s,s.return,c)}}}function eE(s,i,l){l.props=$a(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){ot(s,i,c)}}function nc(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){ot(s,i,m)}}function ds(s,i){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){ot(s,i,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){ot(s,i,m)}else l.current=null}function tE(s){var i=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){ot(s,s.return,m)}}function fg(s,i,l){try{var c=s.stateNode;L2(c,s.type,l,i),c[on]=i}catch(m){ot(s,s.return,m)}}function nE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ji(s.type)||s.tag===4}function mg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||nE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ji(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pg(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Or));else if(c!==4&&(c===27&&ji(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(pg(s,i,l),s=s.sibling;s!==null;)pg(s,i,l),s=s.sibling}function Id(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(c!==4&&(c===27&&ji(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Id(s,i,l),s=s.sibling;s!==null;)Id(s,i,l),s=s.sibling}function rE(s){var i=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);gn(i,c,l),i[$t]=s,i[on]=l}catch(g){ot(s,s.return,g)}}var Ls=!1,Yt=!1,gg=!1,sE=typeof WeakSet=="function"?WeakSet:Set,un=null;function _2(s,i){if(s=s.containerInfo,jg=Qd,s=g0(s),up(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,x=-1,D=-1,G=0,ne=0,ae=s,Q=null;t:for(;;){for(var W;ae!==l||m!==0&&ae.nodeType!==3||(x=E+m),ae!==g||c!==0&&ae.nodeType!==3||(D=E+c),ae.nodeType===3&&(E+=ae.nodeValue.length),(W=ae.firstChild)!==null;)Q=ae,ae=W;for(;;){if(ae===s)break t;if(Q===l&&++G===m&&(x=E),Q===g&&++ne===c&&(D=E),(W=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=W}l=x===-1||D===-1?null:{start:x,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(zg={focusedElem:s,selectionRange:l},Qd=!1,un=i;un!==null;)if(i=un,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,un=s;else for(;un!==null;){switch(i=un,g=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)m=s[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,l=i,m=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var _e=$a(l.type,m);s=c.getSnapshotBeforeUpdate(_e,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(Re){ot(l,l.return,Re)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Fg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Fg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,un=s;break}un=i.return}}function iE(s,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Fs(s,l),c&4&&tc(5,l);break;case 1:if(Fs(s,l),c&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(E){ot(l,l.return,E)}else{var m=$a(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(m,i,s.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(l,l.return,E)}}c&64&&Wb(l),c&512&&nc(l,l.return);break;case 3:if(Fs(s,l),c&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{q0(s,i)}catch(E){ot(l,l.return,E)}}break;case 27:i===null&&c&4&&rE(l);case 26:case 5:Fs(s,l),i===null&&c&4&&tE(l),c&512&&nc(l,l.return);break;case 12:Fs(s,l);break;case 31:Fs(s,l),c&4&&lE(s,l);break;case 13:Fs(s,l),c&4&&uE(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=I2.bind(null,l),K2(s,l))));break;case 22:if(c=l.memoizedState!==null||Ls,!c){i=i!==null&&i.memoizedState!==null||Yt,m=Ls;var g=Yt;Ls=c,(Yt=i)&&!g?Bs(s,l,(l.subtreeFlags&8772)!==0):Fs(s,l),Ls=m,Yt=g}break;case 30:break;default:Fs(s,l)}}function aE(s){var i=s.alternate;i!==null&&(s.alternate=null,aE(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&jo(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var wt=null,Ln=!1;function Us(s,i,l){for(l=l.child;l!==null;)oE(s,i,l),l=l.sibling}function oE(s,i,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Cr,l)}catch{}switch(l.tag){case 26:Yt||ds(l,i),Us(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Yt||ds(l,i);var c=wt,m=Ln;ji(l.type)&&(wt=l.stateNode,Ln=!1),Us(s,i,l),hc(l.stateNode),wt=c,Ln=m;break;case 5:Yt||ds(l,i);case 6:if(c=wt,m=Ln,wt=null,Us(s,i,l),wt=c,Ln=m,wt!==null)if(Ln)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(l.stateNode)}catch(g){ot(l,i,g)}else try{wt.removeChild(l.stateNode)}catch(g){ot(l,i,g)}break;case 18:wt!==null&&(Ln?(s=wt,WE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),El(s)):WE(wt,l.stateNode));break;case 4:c=wt,m=Ln,wt=l.stateNode.containerInfo,Ln=!0,Us(s,i,l),wt=c,Ln=m;break;case 0:case 11:case 14:case 15:Ni(2,l,i),Yt||Ni(4,l,i),Us(s,i,l);break;case 1:Yt||(ds(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&eE(l,i,c)),Us(s,i,l);break;case 21:Us(s,i,l);break;case 22:Yt=(c=Yt)||l.memoizedState!==null,Us(s,i,l),Yt=c;break;default:Us(s,i,l)}}function lE(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{El(s)}catch(l){ot(i,i.return,l)}}}function uE(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{El(s)}catch(l){ot(i,i.return,l)}}function v2(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new sE),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new sE),i;default:throw Error(r(435,s.tag))}}function Rd(s,i){var l=v2(s);i.forEach(function(c){if(!l.has(c)){l.add(c);var m=R2.bind(null,s,c);c.then(m,m)}})}function Un(s,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],g=s,E=i,x=E;e:for(;x!==null;){switch(x.tag){case 27:if(ji(x.type)){wt=x.stateNode,Ln=!1;break e}break;case 5:wt=x.stateNode,Ln=!1;break e;case 3:case 4:wt=x.stateNode.containerInfo,Ln=!0;break e}x=x.return}if(wt===null)throw Error(r(160));oE(g,E,m),wt=null,Ln=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)cE(i,s),i=i.sibling}var Lr=null;function cE(s,i){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Un(i,s),Fn(s),c&4&&(Ni(3,s,s.return),tc(3,s),Ni(5,s,s.return));break;case 1:Un(i,s),Fn(s),c&512&&(Yt||l===null||ds(l,l.return)),c&64&&Ls&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Lr;if(Un(i,s),Fn(s),c&512&&(Yt||l===null||ds(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Jr]||g[$t]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),gn(g,c,l),g[$t]=s,Ht(g),c=g;break e;case"link":var E=cT("link","href",m).get(c+(l.href||""));if(E){for(var x=0;x<E.length;x++)if(g=E[x],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(x,1);break t}}g=m.createElement(c),gn(g,c,l),m.head.appendChild(g);break;case"meta":if(E=cT("meta","content",m).get(c+(l.content||""))){for(x=0;x<E.length;x++)if(g=E[x],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(x,1);break t}}g=m.createElement(c),gn(g,c,l),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[$t]=s,Ht(g),c=g}s.stateNode=c}else hT(m,s.type,s.stateNode);else s.stateNode=uT(m,c,s.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?hT(m,s.type,s.stateNode):uT(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&fg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Un(i,s),Fn(s),c&512&&(Yt||l===null||ds(l,l.return)),l!==null&&c&4&&fg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Un(i,s),Fn(s),c&512&&(Yt||l===null||ds(l,l.return)),s.flags&32){m=s.stateNode;try{zn(m,"")}catch(_e){ot(s,s.return,_e)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,fg(s,m,l!==null?l.memoizedProps:m)),c&1024&&(gg=!0);break;case 6:if(Un(i,s),Fn(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(_e){ot(s,s.return,_e)}}break;case 3:if($d=null,m=Lr,Lr=Bd(i.containerInfo),Un(i,s),Lr=m,Fn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{El(i.containerInfo)}catch(_e){ot(s,s.return,_e)}gg&&(gg=!1,hE(s));break;case 4:c=Lr,Lr=Bd(s.stateNode.containerInfo),Un(i,s),Fn(s),Lr=c;break;case 12:Un(i,s),Fn(s);break;case 31:Un(i,s),Fn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Rd(s,c)));break;case 13:Un(i,s),Fn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Nd=In()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Rd(s,c)));break;case 22:m=s.memoizedState!==null;var D=l!==null&&l.memoizedState!==null,G=Ls,ne=Yt;if(Ls=G||m,Yt=ne||D,Un(i,s),Yt=ne,Ls=G,Fn(s),c&8192)e:for(i=s.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(l===null||D||Ls||Yt||Ha(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){D=l=i;try{if(g=D.stateNode,m)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{x=D.stateNode;var ae=D.memoizedProps.style,Q=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;x.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(_e){ot(D,D.return,_e)}}}else if(i.tag===6){if(l===null){D=i;try{D.stateNode.nodeValue=m?"":D.memoizedProps}catch(_e){ot(D,D.return,_e)}}}else if(i.tag===18){if(l===null){D=i;try{var W=D.stateNode;m?eT(W,!0):eT(D.stateNode,!1)}catch(_e){ot(D,D.return,_e)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Rd(s,l))));break;case 19:Un(i,s),Fn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Rd(s,c)));break;case 30:break;case 21:break;default:Un(i,s),Fn(s)}}function Fn(s){var i=s.flags;if(i&2){try{for(var l,c=s.return;c!==null;){if(nE(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,g=mg(s);Id(s,g,m);break;case 5:var E=l.stateNode;l.flags&32&&(zn(E,""),l.flags&=-33);var x=mg(s);Id(s,x,E);break;case 3:case 4:var D=l.stateNode.containerInfo,G=mg(s);pg(s,G,D);break;default:throw Error(r(161))}}catch(ne){ot(s,s.return,ne)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function hE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;hE(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Fs(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)iE(s,i.alternate,i),i=i.sibling}function Ha(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Ni(4,i,i.return),Ha(i);break;case 1:ds(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&eE(i,i.return,l),Ha(i);break;case 27:hc(i.stateNode);case 26:case 5:ds(i,i.return),Ha(i);break;case 22:i.memoizedState===null&&Ha(i);break;case 30:Ha(i);break;default:Ha(i)}s=s.sibling}}function Bs(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=s,g=i,E=g.flags;switch(g.tag){case 0:case 11:case 15:Bs(m,g,l),tc(4,g);break;case 1:if(Bs(m,g,l),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){ot(c,c.return,G)}if(c=g,m=c.updateQueue,m!==null){var x=c.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)B0(D[m],x)}catch(G){ot(c,c.return,G)}}l&&E&64&&Wb(g),nc(g,g.return);break;case 27:rE(g);case 26:case 5:Bs(m,g,l),l&&c===null&&E&4&&tE(g),nc(g,g.return);break;case 12:Bs(m,g,l);break;case 31:Bs(m,g,l),l&&E&4&&lE(m,g);break;case 13:Bs(m,g,l),l&&E&4&&uE(m,g);break;case 22:g.memoizedState===null&&Bs(m,g,l),nc(g,g.return);break;case 30:break;default:Bs(m,g,l)}i=i.sibling}}function yg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Bu(l))}function _g(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Bu(s))}function Ur(s,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dE(s,i,l,c),i=i.sibling}function dE(s,i,l,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Ur(s,i,l,c),m&2048&&tc(9,i);break;case 1:Ur(s,i,l,c);break;case 3:Ur(s,i,l,c),m&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Bu(s)));break;case 12:if(m&2048){Ur(s,i,l,c),s=i.stateNode;try{var g=i.memoizedProps,E=g.id,x=g.onPostCommit;typeof x=="function"&&x(E,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(D){ot(i,i.return,D)}}else Ur(s,i,l,c);break;case 31:Ur(s,i,l,c);break;case 13:Ur(s,i,l,c);break;case 23:break;case 22:g=i.stateNode,E=i.alternate,i.memoizedState!==null?g._visibility&2?Ur(s,i,l,c):rc(s,i):g._visibility&2?Ur(s,i,l,c):(g._visibility|=2,cl(s,i,l,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&yg(E,i);break;case 24:Ur(s,i,l,c),m&2048&&_g(i.alternate,i);break;default:Ur(s,i,l,c)}}function cl(s,i,l,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=s,E=i,x=l,D=c,G=E.flags;switch(E.tag){case 0:case 11:case 15:cl(g,E,x,D,m),tc(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?cl(g,E,x,D,m):rc(g,E):(ne._visibility|=2,cl(g,E,x,D,m)),m&&G&2048&&yg(E.alternate,E);break;case 24:cl(g,E,x,D,m),m&&G&2048&&_g(E.alternate,E);break;default:cl(g,E,x,D,m)}i=i.sibling}}function rc(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,c=i,m=c.flags;switch(c.tag){case 22:rc(l,c),m&2048&&yg(c.alternate,c);break;case 24:rc(l,c),m&2048&&_g(c.alternate,c);break;default:rc(l,c)}i=i.sibling}}var sc=8192;function hl(s,i,l){if(s.subtreeFlags&sc)for(s=s.child;s!==null;)fE(s,i,l),s=s.sibling}function fE(s,i,l){switch(s.tag){case 26:hl(s,i,l),s.flags&sc&&s.memoizedState!==null&&iN(l,Lr,s.memoizedState,s.memoizedProps);break;case 5:hl(s,i,l);break;case 3:case 4:var c=Lr;Lr=Bd(s.stateNode.containerInfo),hl(s,i,l),Lr=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=sc,sc=16777216,hl(s,i,l),sc=c):hl(s,i,l));break;default:hl(s,i,l)}}function mE(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function ic(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];un=c,gE(c,s)}mE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)pE(s),s=s.sibling}function pE(s){switch(s.tag){case 0:case 11:case 15:ic(s),s.flags&2048&&Ni(9,s,s.return);break;case 3:ic(s);break;case 12:ic(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Cd(s)):ic(s);break;default:ic(s)}}function Cd(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];un=c,gE(c,s)}mE(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Ni(8,i,i.return),Cd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Cd(i));break;default:Cd(i)}s=s.sibling}}function gE(s,i){for(;un!==null;){var l=un;switch(l.tag){case 0:case 11:case 15:Ni(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Bu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,un=c;else e:for(l=s;un!==null;){c=un;var m=c.sibling,g=c.return;if(aE(c),c===l){un=null;break e}if(m!==null){m.return=g,un=m;break e}un=g}}}var b2={getCacheForType:function(s){var i=mn(Kt),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l},cacheSignal:function(){return mn(Kt).controller.signal}},E2=typeof WeakMap=="function"?WeakMap:Map,rt=0,vt=null,Fe=null,$e=0,at=0,er=null,ki=!1,dl=!1,vg=!1,qs=0,Ot=0,Di=0,Ga=0,bg=0,tr=0,fl=0,ac=null,Bn=null,Eg=!1,Nd=0,yE=0,kd=1/0,Dd=null,Oi=null,en=0,Mi=null,ml=null,$s=0,Tg=0,wg=null,_E=null,oc=0,xg=null;function nr(){return(rt&2)!==0&&$e!==0?$e&-$e:X.T!==null?Ng():Oh()}function vE(){if(tr===0)if(($e&536870912)===0||Qe){var s=va;va<<=1,(va&3932160)===0&&(va=262144),tr=s}else tr=536870912;return s=Jn.current,s!==null&&(s.flags|=32),tr}function qn(s,i,l){(s===vt&&(at===2||at===9)||s.cancelPendingCommit!==null)&&(pl(s,0),Pi(s,$e,tr,!1)),ba(s,l),((rt&2)===0||s!==vt)&&(s===vt&&((rt&2)===0&&(Ga|=l),Ot===4&&Pi(s,$e,tr,!1)),fs(s))}function bE(s,i,l){if((rt&6)!==0)throw Error(r(327));var c=!l&&(i&127)===0&&(i&s.expiredLanes)===0||Nr(s,i),m=c?x2(s,i):Ag(s,i,!0),g=c;do{if(m===0){dl&&!c&&Pi(s,i,0,!1);break}else{if(l=s.current.alternate,g&&!T2(l)){m=Ag(s,i,!1),g=!1;continue}if(m===2){if(g=i,s.errorRecoveryDisabledLanes&g)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var x=s;m=ac;var D=x.current.memoizedState.isDehydrated;if(D&&(pl(x,E).flags|=256),E=Ag(x,E,!1),E!==2){if(vg&&!D){x.errorRecoveryDisabledLanes|=g,Ga|=g,m=4;break e}g=Bn,Bn=m,g!==null&&(Bn===null?Bn=g:Bn.push.apply(Bn,g))}m=E}if(g=!1,m!==2)continue}}if(m===1){pl(s,0),Pi(s,i,0,!0);break}e:{switch(c=s,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Pi(c,i,tr,!ki);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(m=Nd+300-In(),10<m)){if(Pi(c,i,tr,!ki),Zr(c,0,!0)!==0)break e;$s=i,c.timeoutHandle=XE(EE.bind(null,c,l,Bn,Dd,Eg,i,tr,Ga,fl,ki,g,"Throttled",-0,0),m);break e}EE(c,l,Bn,Dd,Eg,i,tr,Ga,fl,ki,g,null,-0,0)}}break}while(!0);fs(s)}function EE(s,i,l,c,m,g,E,x,D,G,ne,ae,Q,W){if(s.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Or},fE(i,g,ae);var _e=(g&62914560)===g?Nd-In():(g&4194048)===g?yE-In():0;if(_e=aN(ae,_e),_e!==null){$s=g,s.cancelPendingCommit=_e(CE.bind(null,s,i,g,l,c,m,E,x,D,ne,ae,null,Q,W)),Pi(s,g,E,!G);return}}CE(s,i,g,l,c,m,E,x,D)}function T2(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],g=m.getSnapshot;m=m.value;try{if(!Yn(g(),m))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pi(s,i,l,c){i&=~bg,i&=~Ga,s.suspendedLanes|=i,s.pingedLanes&=~i,c&&(s.warmLanes|=i),c=s.expirationTimes;for(var m=i;0<m;){var g=31-jt(m),E=1<<g;c[g]=-1,m&=~E}l!==0&&Ea(s,l,i)}function Od(){return(rt&6)===0?(lc(0),!1):!0}function Sg(){if(Fe!==null){if(at===0)var s=Fe.return;else s=Fe,Os=ja=null,Fp(s),il=null,$u=0,s=Fe;for(;s!==null;)Jb(s.alternate,s),s=s.return;Fe=null}}function pl(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,B2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),$s=0,Sg(),vt=s,Fe=l=ks(s.current,null),$e=i,at=0,er=null,ki=!1,dl=Nr(s,i),vg=!1,fl=tr=bg=Ga=Di=Ot=0,Bn=ac=null,Eg=!1,(i&8)!==0&&(i|=i&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=i;0<c;){var m=31-jt(c),g=1<<m;i|=s[m],c&=~g}return qs=i,ed(),l}function TE(s,i){Pe=null,X.H=Ju,i===sl||i===ld?(i=z0(),at=3):i===Cp?(i=z0(),at=4):at=i===rg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,er=i,Fe===null&&(Ot=1,Td(s,mr(i,s.current)))}function wE(){var s=Jn.current;return s===null?!0:($e&4194048)===$e?_r===null:($e&62914560)===$e||($e&536870912)!==0?s===_r:!1}function xE(){var s=X.H;return X.H=Ju,s===null?Ju:s}function SE(){var s=X.A;return X.A=b2,s}function Md(){Ot=4,ki||($e&4194048)!==$e&&Jn.current!==null||(dl=!0),(Di&134217727)===0&&(Ga&134217727)===0||vt===null||Pi(vt,$e,tr,!1)}function Ag(s,i,l){var c=rt;rt|=2;var m=xE(),g=SE();(vt!==s||$e!==i)&&(Dd=null,pl(s,i)),i=!1;var E=Ot;e:do try{if(at!==0&&Fe!==null){var x=Fe,D=er;switch(at){case 8:Sg(),E=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(i=!0);var G=at;if(at=0,er=null,gl(s,x,D,G),l&&dl){E=0;break e}break;default:G=at,at=0,er=null,gl(s,x,D,G)}}w2(),E=Ot;break}catch(ne){TE(s,ne)}while(!0);return i&&s.shellSuspendCounter++,Os=ja=null,rt=c,X.H=m,X.A=g,Fe===null&&(vt=null,$e=0,ed()),E}function w2(){for(;Fe!==null;)AE(Fe)}function x2(s,i){var l=rt;rt|=2;var c=xE(),m=SE();vt!==s||$e!==i?(Dd=null,kd=In()+500,pl(s,i)):dl=Nr(s,i);e:do try{if(at!==0&&Fe!==null){i=Fe;var g=er;t:switch(at){case 1:at=0,er=null,gl(s,i,g,1);break;case 2:case 9:if(V0(g)){at=0,er=null,IE(i);break}i=function(){at!==2&&at!==9||vt!==s||(at=7),fs(s)},g.then(i,i);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:V0(g)?(at=0,er=null,IE(i)):(at=0,er=null,gl(s,i,g,7));break;case 5:var E=null;switch(Fe.tag){case 26:E=Fe.memoizedState;case 5:case 27:var x=Fe;if(E?dT(E):x.stateNode.complete){at=0,er=null;var D=x.sibling;if(D!==null)Fe=D;else{var G=x.return;G!==null?(Fe=G,Pd(G)):Fe=null}break t}}at=0,er=null,gl(s,i,g,5);break;case 6:at=0,er=null,gl(s,i,g,6);break;case 8:Sg(),Ot=6;break e;default:throw Error(r(462))}}S2();break}catch(ne){TE(s,ne)}while(!0);return Os=ja=null,X.H=c,X.A=m,rt=l,Fe!==null?0:(vt=null,$e=0,ed(),Ot)}function S2(){for(;Fe!==null&&!np();)AE(Fe)}function AE(s){var i=Yb(s.alternate,s,qs);s.memoizedProps=s.pendingProps,i===null?Pd(s):Fe=i}function IE(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=$b(l,i,i.pendingProps,i.type,void 0,$e);break;case 11:i=$b(l,i,i.pendingProps,i.type.render,i.ref,$e);break;case 5:Fp(i);default:Jb(l,i),i=Fe=S0(i,qs),i=Yb(l,i,qs)}s.memoizedProps=s.pendingProps,i===null?Pd(s):Fe=i}function gl(s,i,l,c){Os=ja=null,Fp(i),il=null,$u=0;var m=i.return;try{if(f2(s,m,i,l,$e)){Ot=1,Td(s,mr(l,s.current)),Fe=null;return}}catch(g){if(m!==null)throw Fe=m,g;Ot=1,Td(s,mr(l,s.current)),Fe=null;return}i.flags&32768?(Qe||c===1?s=!0:dl||($e&536870912)!==0?s=!1:(ki=s=!0,(c===2||c===9||c===3||c===6)&&(c=Jn.current,c!==null&&c.tag===13&&(c.flags|=16384))),RE(i,s)):Pd(i)}function Pd(s){var i=s;do{if((i.flags&32768)!==0){RE(i,ki);return}s=i.return;var l=g2(i.alternate,i,qs);if(l!==null){Fe=l;return}if(i=i.sibling,i!==null){Fe=i;return}Fe=i=s}while(i!==null);Ot===0&&(Ot=5)}function RE(s,i){do{var l=y2(s.alternate,s);if(l!==null){l.flags&=32767,Fe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=l}while(s!==null);Ot=6,Fe=null}function CE(s,i,l,c,m,g,E,x,D){s.cancelPendingCommit=null;do Vd();while(en!==0);if((rt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(g=i.lanes|i.childLanes,g|=mp,ip(s,l,g,E,x,D),s===vt&&(Fe=vt=null,$e=0),ml=i,Mi=s,$s=l,Tg=g,wg=m,_E=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,C2(hi,function(){return ME(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,m=de.p,de.p=2,E=rt,rt|=4;try{_2(s,i,l)}finally{rt=E,de.p=m,X.T=c}}en=1,NE(),kE(),DE()}}function NE(){if(en===1){en=0;var s=Mi,i=ml,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var c=de.p;de.p=2;var m=rt;rt|=4;try{cE(i,s);var g=zg,E=g0(s.containerInfo),x=g.focusedElem,D=g.selectionRange;if(E!==x&&x&&x.ownerDocument&&p0(x.ownerDocument.documentElement,x)){if(D!==null&&up(x)){var G=D.start,ne=D.end;if(ne===void 0&&(ne=G),"selectionStart"in x)x.selectionStart=G,x.selectionEnd=Math.min(ne,x.value.length);else{var ae=x.ownerDocument||document,Q=ae&&ae.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),_e=x.textContent.length,Re=Math.min(D.start,_e),pt=D.end===void 0?Re:Math.min(D.end,_e);!W.extend&&Re>pt&&(E=pt,pt=Re,Re=E);var B=m0(x,Re),L=m0(x,pt);if(B&&L&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==L.node||W.focusOffset!==L.offset)){var H=ae.createRange();H.setStart(B.node,B.offset),W.removeAllRanges(),Re>pt?(W.addRange(H),W.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),W.addRange(H))}}}}for(ae=[],W=x;W=W.parentNode;)W.nodeType===1&&ae.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ae.length;x++){var se=ae[x];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Qd=!!jg,zg=jg=null}finally{rt=m,de.p=c,X.T=l}}s.current=i,en=2}}function kE(){if(en===2){en=0;var s=Mi,i=ml,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var c=de.p;de.p=2;var m=rt;rt|=4;try{iE(s,i.alternate,i)}finally{rt=m,de.p=c,X.T=l}}en=3}}function DE(){if(en===4||en===3){en=0,Ah();var s=Mi,i=ml,l=$s,c=_E;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?en=5:(en=0,ml=Mi=null,OE(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Oi=null),Is(l),i=i.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Cr,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=X.T,m=de.p,de.p=2,X.T=null;try{for(var g=s.onRecoverableError,E=0;E<c.length;E++){var x=c[E];g(x.value,{componentStack:x.stack})}}finally{X.T=i,de.p=m}}($s&3)!==0&&Vd(),fs(s),m=s.pendingLanes,(l&261930)!==0&&(m&42)!==0?s===xg?oc++:(oc=0,xg=s):oc=0,lc(0)}}function OE(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Bu(i)))}function Vd(){return NE(),kE(),DE(),ME()}function ME(){if(en!==5)return!1;var s=Mi,i=Tg;Tg=0;var l=Is($s),c=X.T,m=de.p;try{de.p=32>l?32:l,X.T=null,l=wg,wg=null;var g=Mi,E=$s;if(en=0,ml=Mi=null,$s=0,(rt&6)!==0)throw Error(r(331));var x=rt;if(rt|=4,pE(g.current),dE(g,g.current,E,l),rt=x,lc(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Cr,g)}catch{}return!0}finally{de.p=m,X.T=c,OE(s,i)}}function PE(s,i,l){i=mr(l,i),i=ng(s.stateNode,i,2),s=Ii(s,i,2),s!==null&&(ba(s,2),fs(s))}function ot(s,i,l){if(s.tag===3)PE(s,s,l);else for(;i!==null;){if(i.tag===3){PE(i,s,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Oi===null||!Oi.has(c))){s=mr(l,s),l=Vb(2),c=Ii(i,l,2),c!==null&&(jb(l,c,i,s),ba(c,2),fs(c));break}}i=i.return}}function Ig(s,i,l){var c=s.pingCache;if(c===null){c=s.pingCache=new E2;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(l)||(vg=!0,m.add(l),s=A2.bind(null,s,i,l),i.then(s,s))}function A2(s,i,l){var c=s.pingCache;c!==null&&c.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,vt===s&&($e&l)===l&&(Ot===4||Ot===3&&($e&62914560)===$e&&300>In()-Nd?(rt&2)===0&&pl(s,0):bg|=l,fl===$e&&(fl=0)),fs(s)}function VE(s,i){i===0&&(i=Dh()),s=Ma(s,i),s!==null&&(ba(s,i),fs(s))}function I2(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),VE(s,l)}function R2(s,i){var l=0;switch(s.tag){case 31:case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),VE(s,l)}function C2(s,i){return _t(s,i)}var jd=null,yl=null,Rg=!1,zd=!1,Cg=!1,Vi=0;function fs(s){s!==yl&&s.next===null&&(yl===null?jd=yl=s:yl=yl.next=s),zd=!0,Rg||(Rg=!0,k2())}function lc(s,i){if(!Cg&&zd){Cg=!0;do for(var l=!1,c=jd;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var E=c.suspendedLanes,x=c.pingedLanes;g=(1<<31-jt(42|s)+1)-1,g&=m&~(E&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,UE(c,g))}else g=$e,g=Zr(c,c===vt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Nr(c,g)||(l=!0,UE(c,g));c=c.next}while(l);Cg=!1}}function N2(){jE()}function jE(){zd=Rg=!1;var s=0;Vi!==0&&F2()&&(s=Vi);for(var i=In(),l=null,c=jd;c!==null;){var m=c.next,g=zE(c,i);g===0?(c.next=null,l===null?jd=m:l.next=m,m===null&&(yl=l)):(l=c,(s!==0||(g&3)!==0)&&(zd=!0)),c=m}en!==0&&en!==5||lc(s),Vi!==0&&(Vi=0)}function zE(s,i){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var E=31-jt(g),x=1<<E,D=m[E];D===-1?((x&l)===0||(x&c)!==0)&&(m[E]=sp(x,i)):D<=i&&(s.expiredLanes|=x),g&=~x}if(i=vt,l=$e,l=Zr(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===i&&(at===2||at===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&ci(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Nr(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(c!==null&&ci(c),Is(l)){case 2:case 8:l=_u;break;case 32:l=hi;break;case 268435456:l=Ih;break;default:l=hi}return c=LE.bind(null,s),l=_t(l,c),s.callbackPriority=i,s.callbackNode=l,i}return c!==null&&c!==null&&ci(c),s.callbackPriority=2,s.callbackNode=null,2}function LE(s,i){if(en!==0&&en!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Vd()&&s.callbackNode!==l)return null;var c=$e;return c=Zr(s,s===vt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(bE(s,c,i),zE(s,In()),s.callbackNode!=null&&s.callbackNode===l?LE.bind(null,s):null)}function UE(s,i){if(Vd())return null;bE(s,i,!0)}function k2(){q2(function(){(rt&6)!==0?_t(yu,N2):jE()})}function Ng(){if(Vi===0){var s=nl;s===0&&(s=Kr,Kr<<=1,(Kr&261888)===0&&(Kr=256)),Vi=s}return Vi}function FE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Fo(""+s)}function BE(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function D2(s,i,l,c,m){if(i==="submit"&&l&&l.stateNode===m){var g=FE((m[on]||null).action),E=c.submitter;E&&(i=(i=E[on]||null)?FE(i.formAction):E.getAttribute("formAction"),i!==null&&(g=i,E=null));var x=new as("action","action",null,c,m);s.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Vi!==0){var D=E?BE(m,E):new FormData(m);Yp(l,{pending:!0,data:D,method:m.method,action:g},null,D)}}else typeof g=="function"&&(x.preventDefault(),D=E?BE(m,E):new FormData(m),Yp(l,{pending:!0,data:D,method:m.method,action:g},g,D))},currentTarget:m}]})}}for(var kg=0;kg<fp.length;kg++){var Dg=fp[kg],O2=Dg.toLowerCase(),M2=Dg[0].toUpperCase()+Dg.slice(1);zr(O2,"on"+M2)}zr(v0,"onAnimationEnd"),zr(b0,"onAnimationIteration"),zr(E0,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(YC,"onTransitionRun"),zr(XC,"onTransitionStart"),zr(JC,"onTransitionCancel"),zr(T0,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uc));function qE(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var E=c.length-1;0<=E;E--){var x=c[E],D=x.instance,G=x.currentTarget;if(x=x.listener,D!==g&&m.isPropagationStopped())break e;g=x,m.currentTarget=G;try{g(m)}catch(ne){Wh(ne)}m.currentTarget=null,g=D}else for(E=0;E<c.length;E++){if(x=c[E],D=x.instance,G=x.currentTarget,x=x.listener,D!==g&&m.isPropagationStopped())break e;g=x,m.currentTarget=G;try{g(m)}catch(ne){Wh(ne)}m.currentTarget=null,g=D}}}}function Be(s,i){var l=i[Vo];l===void 0&&(l=i[Vo]=new Set);var c=s+"__bubble";l.has(c)||($E(i,s,2,!1),l.add(c))}function Og(s,i,l){var c=0;i&&(c|=4),$E(l,s,c,i)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function Mg(s){if(!s[Ld]){s[Ld]=!0,Eu.forEach(function(l){l!=="selectionchange"&&(P2.has(l)||Og(l,!1,s),Og(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Ld]||(i[Ld]=!0,Og("selectionchange",!1,i))}}function $E(s,i,l,c){switch(vT(i)){case 2:var m=uN;break;case 8:m=cN;break;default:m=Zg}l=m.bind(null,i,l,s),m=void 0,!Aa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(i,l,{capture:!0,passive:m}):s.addEventListener(i,l,!0):m!==void 0?s.addEventListener(i,l,{passive:m}):s.addEventListener(i,l,!1)}function Pg(s,i,l,c,m){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var x=c.stateNode.containerInfo;if(x===m)break;if(E===4)for(E=c.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;x!==null;){if(E=Wr(x),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){c=g=E;continue e}x=x.parentNode}}c=c.return}yi(function(){var G=g,ne=cr(l),ae=[];e:{var Q=w0.get(s);if(Q!==void 0){var W=as,_e=s;switch(s){case"keypress":if(Ra(l)===0)break e;case"keydown":case"keyup":W=Yh;break;case"focusin":_e="focus",W=Na;break;case"focusout":_e="blur",W=Na;break;case"beforeblur":case"afterblur":W=Na;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=_;break;case v0:case b0:case E0:W=qh;break;case T0:W=A;break;case"scroll":case"scrollend":W=Ou;break;case"wheel":W=Y;break;case"copy":case"cut":case"paste":W=$h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Ns;break;case"toggle":case"beforetoggle":W=Me}var Re=(i&4)!==0,pt=!Re&&(s==="scroll"||s==="scrollend"),B=Re?Q!==null?Q+"Capture":null:Q;Re=[];for(var L=G,H;L!==null;){var se=L;if(H=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||H===null||B===null||(se=Mr(L,B),se!=null&&Re.push(cc(L,se,H))),pt)break;L=L.return}0<Re.length&&(Q=new W(Q,_e,null,l,ne),ae.push({event:Q,listeners:Re}))}}if((i&7)===0){e:{if(Q=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",Q&&l!==Nu&&(_e=l.relatedTarget||l.fromElement)&&(Wr(_e)||_e[Xr]))break e;if((W||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(_e=l.relatedTarget||l.toElement,W=G,_e=_e?Wr(_e):null,_e!==null&&(pt=o(_e),Re=_e.tag,_e!==pt||Re!==5&&Re!==27&&Re!==6)&&(_e=null)):(W=null,_e=G),W!==_e)){if(Re=Mu,se="onMouseLeave",B="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(Re=Ns,se="onPointerLeave",B="onPointerEnter",L="pointer"),pt=W==null?Q:Qn(W),H=_e==null?Q:Qn(_e),Q=new Re(se,L+"leave",W,l,ne),Q.target=pt,Q.relatedTarget=H,se=null,Wr(ne)===G&&(Re=new Re(B,L+"enter",_e,l,ne),Re.target=H,Re.relatedTarget=pt,se=Re),pt=se,W&&_e)t:{for(Re=V2,B=W,L=_e,H=0,se=B;se;se=Re(se))H++;se=0;for(var Se=L;Se;Se=Re(Se))se++;for(;0<H-se;)B=Re(B),H--;for(;0<se-H;)L=Re(L),se--;for(;H--;){if(B===L||L!==null&&B===L.alternate){Re=B;break t}B=Re(B),L=Re(L)}Re=null}else Re=null;W!==null&&HE(ae,Q,W,Re,!1),_e!==null&&pt!==null&&HE(ae,pt,_e,Re,!0)}}e:{if(Q=G?Qn(G):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var We=l0;else if(a0(Q))if(u0)We=KC;else{We=HC;var Te=$C}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&Uo(G.elementType)&&(We=l0):We=GC;if(We&&(We=We(s,G))){o0(ae,We,l,ne);break e}Te&&Te(s,Q,G),s==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&Iu(Q,"number",Q.value)}switch(Te=G?Qn(G):window,s){case"focusin":(a0(Te)||Te.contentEditable==="true")&&(Qo=Te,cp=G,Lu=null);break;case"focusout":Lu=cp=Qo=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,y0(ae,l,ne);break;case"selectionchange":if(ZC)break;case"keydown":case"keyup":y0(ae,l,ne)}var Ve;if(nt)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ko?ka(s,l)&&(He="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(us&&l.locale!=="ko"&&(Ko||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ko&&(Ve=Du()):(is=ne,ku="value"in is?is.value:is.textContent,Ko=!0)),Te=Ud(G,He),0<Te.length&&(He=new ls(He,s,null,l,ne),ae.push({event:He,listeners:Te}),Ve?He.data=Ve:(Ve=Go(l),Ve!==null&&(He.data=Ve)))),(Ve=dr?UC(s,l):FC(s,l))&&(He=Ud(G,"onBeforeInput"),0<He.length&&(Te=new ls("onBeforeInput","beforeinput",null,l,ne),ae.push({event:Te,listeners:He}),Te.data=Ve)),D2(ae,s,G,l,ne)}qE(ae,i)})}function cc(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Ud(s,i){for(var l=i+"Capture",c=[];s!==null;){var m=s,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Mr(s,l),m!=null&&c.unshift(cc(s,m,g)),m=Mr(s,i),m!=null&&c.push(cc(s,m,g))),s.tag===3)return c;s=s.return}return[]}function V2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function HE(s,i,l,c,m){for(var g=i._reactName,E=[];l!==null&&l!==c;){var x=l,D=x.alternate,G=x.stateNode;if(x=x.tag,D!==null&&D===c)break;x!==5&&x!==26&&x!==27||G===null||(D=G,m?(G=Mr(l,g),G!=null&&E.unshift(cc(l,G,D))):m||(G=Mr(l,g),G!=null&&E.push(cc(l,G,D)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var j2=/\r\n?/g,z2=/\u0000|\uFFFD/g;function GE(s){return(typeof s=="string"?s:""+s).replace(j2,`
`).replace(z2,"")}function KE(s,i){return i=GE(i),GE(s)===i}function mt(s,i,l,c,m,g){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||zn(s,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&zn(s,""+c);break;case"className":Zn(s,"class",c);break;case"tabIndex":Zn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(s,l,c);break;case"style":Cu(s,c,g);break;case"data":if(i!=="object"){Zn(s,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fo(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&mt(s,i,"name",m.name,m,null),mt(s,i,"formEncType",m.formEncType,m,null),mt(s,i,"formMethod",m.formMethod,m,null),mt(s,i,"formTarget",m.formTarget,m,null)):(mt(s,i,"encType",m.encType,m,null),mt(s,i,"method",m.method,m,null),mt(s,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fo(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Or);break;case"onScroll":c!=null&&Be("scroll",s);break;case"onScrollEnd":c!=null&&Be("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Fo(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Be("beforetoggle",s),Be("toggle",s),zo(s,"popover",c);break;case"xlinkActuate":Gt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Gt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Gt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Gt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Gt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Gt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":zo(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Uh.get(l)||l,zo(s,l,c))}}function Vg(s,i,l,c,m,g){switch(l){case"style":Cu(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?zn(s,c):(typeof c=="number"||typeof c=="bigint")&&zn(s,""+c);break;case"onScroll":c!=null&&Be("scroll",s);break;case"onScrollEnd":c!=null&&Be("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),i=l.slice(2,m?l.length-7:void 0),g=s[on]||null,g=g!=null?g[l]:null,typeof g=="function"&&s.removeEventListener(i,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):zo(s,l,c)}}}function gn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",s),Be("load",s);var c=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var E=l[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:mt(s,i,g,E,l,null)}}m&&mt(s,i,"srcSet",l.srcSet,l,null),c&&mt(s,i,"src",l.src,l,null);return;case"input":Be("invalid",s);var x=g=E=m=null,D=null,G=null;for(c in l)if(l.hasOwnProperty(c)){var ne=l[c];if(ne!=null)switch(c){case"name":m=ne;break;case"type":E=ne;break;case"checked":D=ne;break;case"defaultChecked":G=ne;break;case"value":g=ne;break;case"defaultValue":x=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:mt(s,i,c,ne,l,null)}}jh(s,g,x,D,G,E,m,!1);return;case"select":Be("invalid",s),c=E=g=null;for(m in l)if(l.hasOwnProperty(m)&&(x=l[m],x!=null))switch(m){case"value":g=x;break;case"defaultValue":E=x;break;case"multiple":c=x;default:mt(s,i,m,x,l,null)}i=g,l=E,s.multiple=!!c,i!=null?fi(s,!!c,i,!1):l!=null&&fi(s,!!c,l,!0);return;case"textarea":Be("invalid",s),g=m=c=null;for(E in l)if(l.hasOwnProperty(E)&&(x=l[E],x!=null))switch(E){case"value":c=x;break;case"defaultValue":m=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:mt(s,i,E,x,l,null)}mi(s,c,m,g);return;case"option":for(D in l)l.hasOwnProperty(D)&&(c=l[D],c!=null)&&(D==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":mt(s,i,D,c,l,null));return;case"dialog":Be("beforetoggle",s),Be("toggle",s),Be("cancel",s),Be("close",s);break;case"iframe":case"object":Be("load",s);break;case"video":case"audio":for(c=0;c<uc.length;c++)Be(uc[c],s);break;case"image":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"embed":case"source":case"link":Be("error",s),Be("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(c=l[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:mt(s,i,G,c,l,null)}return;default:if(Uo(i)){for(ne in l)l.hasOwnProperty(ne)&&(c=l[ne],c!==void 0&&Vg(s,i,ne,c,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(c=l[x],c!=null&&mt(s,i,x,c,l,null))}function L2(s,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,E=null,x=null,D=null,G=null,ne=null;for(W in l){var ae=l[W];if(l.hasOwnProperty(W)&&ae!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=ae;default:c.hasOwnProperty(W)||mt(s,i,W,null,c,ae)}}for(var Q in c){var W=c[Q];if(ae=l[Q],c.hasOwnProperty(Q)&&(W!=null||ae!=null))switch(Q){case"type":g=W;break;case"name":m=W;break;case"checked":G=W;break;case"defaultChecked":ne=W;break;case"value":E=W;break;case"defaultValue":x=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:W!==ae&&mt(s,i,Q,W,c,ae)}}Lo(s,E,x,D,G,ne,g,m);return;case"select":W=E=x=Q=null;for(g in l)if(D=l[g],l.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":W=D;default:c.hasOwnProperty(g)||mt(s,i,g,null,c,D)}for(m in c)if(g=c[m],D=l[m],c.hasOwnProperty(m)&&(g!=null||D!=null))switch(m){case"value":Q=g;break;case"defaultValue":x=g;break;case"multiple":E=g;default:g!==D&&mt(s,i,m,g,c,D)}i=x,l=E,c=W,Q!=null?fi(s,!!l,Q,!1):!!c!=!!l&&(i!=null?fi(s,!!l,i,!0):fi(s,!!l,l?[]:"",!1));return;case"textarea":W=Q=null;for(x in l)if(m=l[x],l.hasOwnProperty(x)&&m!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:mt(s,i,x,null,c,m)}for(E in c)if(m=c[E],g=l[E],c.hasOwnProperty(E)&&(m!=null||g!=null))switch(E){case"value":Q=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&mt(s,i,E,m,c,g)}zh(s,Q,W);return;case"option":for(var _e in l)Q=l[_e],l.hasOwnProperty(_e)&&Q!=null&&!c.hasOwnProperty(_e)&&(_e==="selected"?s.selected=!1:mt(s,i,_e,null,c,Q));for(D in c)Q=c[D],W=l[D],c.hasOwnProperty(D)&&Q!==W&&(Q!=null||W!=null)&&(D==="selected"?s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":mt(s,i,D,Q,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in l)Q=l[Re],l.hasOwnProperty(Re)&&Q!=null&&!c.hasOwnProperty(Re)&&mt(s,i,Re,null,c,Q);for(G in c)if(Q=c[G],W=l[G],c.hasOwnProperty(G)&&Q!==W&&(Q!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:mt(s,i,G,Q,c,W)}return;default:if(Uo(i)){for(var pt in l)Q=l[pt],l.hasOwnProperty(pt)&&Q!==void 0&&!c.hasOwnProperty(pt)&&Vg(s,i,pt,void 0,c,Q);for(ne in c)Q=c[ne],W=l[ne],!c.hasOwnProperty(ne)||Q===W||Q===void 0&&W===void 0||Vg(s,i,ne,Q,c,W);return}}for(var B in l)Q=l[B],l.hasOwnProperty(B)&&Q!=null&&!c.hasOwnProperty(B)&&mt(s,i,B,null,c,Q);for(ae in c)Q=c[ae],W=l[ae],!c.hasOwnProperty(ae)||Q===W||Q==null&&W==null||mt(s,i,ae,Q,c,W)}function QE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],g=m.transferSize,E=m.initiatorType,x=m.duration;if(g&&x&&QE(E)){for(E=0,x=m.responseEnd,c+=1;c<l.length;c++){var D=l[c],G=D.startTime;if(G>x)break;var ne=D.transferSize,ae=D.initiatorType;ne&&QE(ae)&&(D=D.responseEnd,E+=ne*(D<x?1:(x-G)/(D-G)))}if(--c,i+=8*(g+E)/(m.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var jg=null,zg=null;function Fd(s){return s.nodeType===9?s:s.ownerDocument}function ZE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YE(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Lg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ug=null;function F2(){var s=window.event;return s&&s.type==="popstate"?s===Ug?!1:(Ug=s,!0):(Ug=null,!1)}var XE=typeof setTimeout=="function"?setTimeout:void 0,B2=typeof clearTimeout=="function"?clearTimeout:void 0,JE=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof JE<"u"?function(s){return JE.resolve(null).then(s).catch($2)}:XE;function $2(s){setTimeout(function(){throw s})}function ji(s){return s==="head"}function WE(s,i){var l=i,c=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){s.removeChild(m),El(i);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")hc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,hc(l);for(var g=l.firstChild;g;){var E=g.nextSibling,x=g.nodeName;g[Jr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=E}}else l==="body"&&hc(s.ownerDocument.body);l=m}while(l);El(i)}function eT(s,i){var l=s;s=0;do{var c=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=c}while(l)}function Fg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Fg(l),jo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function H2(s,i,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Jr])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=vr(s.nextSibling),s===null)break}return null}function G2(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=vr(s.nextSibling),s===null))return null;return s}function tT(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=vr(s.nextSibling),s===null))return null;return s}function Bg(s){return s.data==="$?"||s.data==="$~"}function qg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function K2(s,i){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||l.readyState!=="loading")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function vr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var $g=null;function nT(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(i===0)return vr(s.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}s=s.nextSibling}return null}function rT(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return s;i--}else l!=="/$"&&l!=="/&"||i++}s=s.previousSibling}return null}function sT(s,i,l){switch(i=Fd(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function hc(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);jo(s)}var br=new Map,iT=new Set;function Bd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Hs=de.d;de.d={f:Q2,r:Z2,D:Y2,C:X2,L:J2,m:W2,X:tN,S:eN,M:nN};function Q2(){var s=Hs.f(),i=Od();return s||i}function Z2(s){var i=ur(s);i!==null&&i.tag===5&&i.type==="form"?Tb(i):Hs.r(s)}var _l=typeof document>"u"?null:document;function aT(s,i,l){var c=_l;if(c&&typeof i=="string"&&i){var m=jn(i);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),iT.has(m)||(iT.add(m),s={rel:s,crossOrigin:l,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),gn(i,"link",s),Ht(i),c.head.appendChild(i)))}}function Y2(s){Hs.D(s),aT("dns-prefetch",s,null)}function X2(s,i){Hs.C(s,i),aT("preconnect",s,i)}function J2(s,i,l){Hs.L(s,i,l);var c=_l;if(c&&s&&i){var m='link[rel="preload"][as="'+jn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+jn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+jn(l.imageSizes)+'"]')):m+='[href="'+jn(s)+'"]';var g=m;switch(i){case"style":g=vl(s);break;case"script":g=bl(s)}br.has(g)||(s=b({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),br.set(g,s),c.querySelector(m)!==null||i==="style"&&c.querySelector(dc(g))||i==="script"&&c.querySelector(fc(g))||(i=c.createElement("link"),gn(i,"link",s),Ht(i),c.head.appendChild(i)))}}function W2(s,i){Hs.m(s,i);var l=_l;if(l&&s){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+jn(c)+'"][href="'+jn(s)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=bl(s)}if(!br.has(g)&&(s=b({rel:"modulepreload",href:s},i),br.set(g,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fc(g)))return}c=l.createElement("link"),gn(c,"link",s),Ht(c),l.head.appendChild(c)}}}function eN(s,i,l){Hs.S(s,i,l);var c=_l;if(c&&s){var m=es(c).hoistableStyles,g=vl(s);i=i||"default";var E=m.get(g);if(!E){var x={loading:0,preload:null};if(E=c.querySelector(dc(g)))x.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":i},l),(l=br.get(g))&&Hg(s,l);var D=E=c.createElement("link");Ht(D),gn(D,"link",s),D._p=new Promise(function(G,ne){D.onload=G,D.onerror=ne}),D.addEventListener("load",function(){x.loading|=1}),D.addEventListener("error",function(){x.loading|=2}),x.loading|=4,qd(E,i,c)}E={type:"stylesheet",instance:E,count:1,state:x},m.set(g,E)}}}function tN(s,i){Hs.X(s,i);var l=_l;if(l&&s){var c=es(l).hoistableScripts,m=bl(s),g=c.get(m);g||(g=l.querySelector(fc(m)),g||(s=b({src:s,async:!0},i),(i=br.get(m))&&Gg(s,i),g=l.createElement("script"),Ht(g),gn(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function nN(s,i){Hs.M(s,i);var l=_l;if(l&&s){var c=es(l).hoistableScripts,m=bl(s),g=c.get(m);g||(g=l.querySelector(fc(m)),g||(s=b({src:s,async:!0,type:"module"},i),(i=br.get(m))&&Gg(s,i),g=l.createElement("script"),Ht(g),gn(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function oT(s,i,l,c){var m=(m=we.current)?Bd(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=vl(l.href),l=es(m).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=vl(l.href);var g=es(m).hoistableStyles,E=g.get(s);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,E),(g=m.querySelector(dc(s)))&&!g._p&&(E.instance=g,E.state.loading=5),br.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},br.set(s,l),g||rN(m,s,l,E.state))),i&&c===null)throw Error(r(528,""));return E}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=bl(l),l=es(m).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function vl(s){return'href="'+jn(s)+'"'}function dc(s){return'link[rel="stylesheet"]['+s+"]"}function lT(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function rN(s,i,l,c){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=s.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),gn(i,"link",l),Ht(i),s.head.appendChild(i))}function bl(s){return'[src="'+jn(s)+'"]'}function fc(s){return"script[async]"+s}function uT(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=s.querySelector('style[data-href~="'+jn(l.href)+'"]');if(c)return i.instance=c,Ht(c),c;var m=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Ht(c),gn(c,"style",m),qd(c,l.precedence,s),i.instance=c;case"stylesheet":m=vl(l.href);var g=s.querySelector(dc(m));if(g)return i.state.loading|=4,i.instance=g,Ht(g),g;c=lT(l),(m=br.get(m))&&Hg(c,m),g=(s.ownerDocument||s).createElement("link"),Ht(g);var E=g;return E._p=new Promise(function(x,D){E.onload=x,E.onerror=D}),gn(g,"link",c),i.state.loading|=4,qd(g,l.precedence,s),i.instance=g;case"script":return g=bl(l.src),(m=s.querySelector(fc(g)))?(i.instance=m,Ht(m),m):(c=l,(m=br.get(g))&&(c=b({},l),Gg(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ht(m),gn(m,"link",c),s.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,qd(c,l.precedence,s));return i.instance}function qd(s,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,E=0;E<c.length;E++){var x=c[E];if(x.dataset.precedence===i)g=x;else if(g!==m)break}g?g.parentNode.insertBefore(s,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Hg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Gg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var $d=null;function cT(s,i,l){if($d===null){var c=new Map,m=$d=new Map;m.set(l,c)}else m=$d,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var g=l[m];if(!(g[Jr]||g[$t]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(i)||"";E=s+E;var x=c.get(E);x?x.push(g):c.set(E,[g])}}return c}function hT(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function sN(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(s=i.disabled,typeof i.precedence=="string"&&s==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function dT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function iN(s,i,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=vl(c.href),g=i.querySelector(dc(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=Hd.bind(s),i.then(s,s)),l.state.loading|=4,l.instance=g,Ht(g);return}g=i.ownerDocument||i,c=lT(c),(m=br.get(m))&&Hg(c,m),g=g.createElement("link"),Ht(g);var E=g;E._p=new Promise(function(x,D){E.onload=x,E.onerror=D}),gn(g,"link",c),l.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Hd.bind(s),i.addEventListener("load",l),i.addEventListener("error",l))}}var Kg=0;function aN(s,i){return s.stylesheets&&s.count===0&&Kd(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var c=setTimeout(function(){if(s.stylesheets&&Kd(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+i);0<s.imgBytes&&Kg===0&&(Kg=62500*U2());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Kd(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>Kg?50:800)+i);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Hd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Gd=null;function Kd(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Gd=new Map,i.forEach(oN,s),Gd=null,Hd.call(s))}function oN(s,i){if(!(i.state.loading&4)){var l=Gd.get(s);if(l)var c=l.get(null);else{l=new Map,Gd.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var E=m[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}m=i.instance,E=m.getAttribute("data-precedence"),g=l.get(E)||c,g===c&&l.set(null,m),l.set(E,m),this.count++,c=Hd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),i.state.loading|=4}}var mc={$$typeof:U,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function lN(s,i,l,c,m,g,E,x,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function fT(s,i,l,c,m,g,E,x,D,G,ne,ae){return s=new lN(s,i,l,E,D,G,ne,ae,x),i=1,g===!0&&(i|=24),g=Xn(3,null,null,i),s.current=g,g.stateNode=s,i=Ap(),i.refCount++,s.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:i},Np(g),s}function mT(s){return s?(s=Xo,s):Xo}function pT(s,i,l,c,m,g){m=mT(m),c.context===null?c.context=m:c.pendingContext=m,c=Ai(i),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=Ii(s,c,i),l!==null&&(qn(l,s,i),Gu(l,s,i))}function gT(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Qg(s,i){gT(s,i),(s=s.alternate)&&gT(s,i)}function yT(s){if(s.tag===13||s.tag===31){var i=Ma(s,67108864);i!==null&&qn(i,s,67108864),Qg(s,67108864)}}function _T(s){if(s.tag===13||s.tag===31){var i=nr();i=Ta(i);var l=Ma(s,i);l!==null&&qn(l,s,i),Qg(s,i)}}var Qd=!0;function uN(s,i,l,c){var m=X.T;X.T=null;var g=de.p;try{de.p=2,Zg(s,i,l,c)}finally{de.p=g,X.T=m}}function cN(s,i,l,c){var m=X.T;X.T=null;var g=de.p;try{de.p=8,Zg(s,i,l,c)}finally{de.p=g,X.T=m}}function Zg(s,i,l,c){if(Qd){var m=Yg(c);if(m===null)Pg(s,i,c,Zd,l),bT(s,c);else if(dN(m,s,i,l,c))c.stopPropagation();else if(bT(s,c),i&4&&-1<hN.indexOf(s)){for(;m!==null;){var g=ur(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Qr(g.pendingLanes);if(E!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;E;){var D=1<<31-jt(E);x.entanglements[1]|=D,E&=~D}fs(g),(rt&6)===0&&(kd=In()+500,lc(0))}}break;case 31:case 13:x=Ma(g,2),x!==null&&qn(x,g,2),Od(),Qg(g,2)}if(g=Yg(c),g===null&&Pg(s,i,c,Zd,l),g===m)break;m=g}m!==null&&c.stopPropagation()}else Pg(s,i,c,null,l)}}function Yg(s){return s=cr(s),Xg(s)}var Zd=null;function Xg(s){if(Zd=null,s=Wr(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=u(i),s!==null)return s;s=null}else if(l===31){if(s=h(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Zd=s,null}function vT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_a()){case yu:return 2;case _u:return 8;case hi:case rp:return 32;case Ih:return 268435456;default:return 32}default:return 32}}var Jg=!1,zi=null,Li=null,Ui=null,pc=new Map,gc=new Map,Fi=[],hN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bT(s,i){switch(s){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":pc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(i.pointerId)}}function yc(s,i,l,c,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},i!==null&&(i=ur(i),i!==null&&yT(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function dN(s,i,l,c,m){switch(i){case"focusin":return zi=yc(zi,s,i,l,c,m),!0;case"dragenter":return Li=yc(Li,s,i,l,c,m),!0;case"mouseover":return Ui=yc(Ui,s,i,l,c,m),!0;case"pointerover":var g=m.pointerId;return pc.set(g,yc(pc.get(g)||null,s,i,l,c,m)),!0;case"gotpointercapture":return g=m.pointerId,gc.set(g,yc(gc.get(g)||null,s,i,l,c,m)),!0}return!1}function ET(s){var i=Wr(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){s.blockedOn=i,kr(s.priority,function(){_T(l)});return}}else if(i===31){if(i=h(l),i!==null){s.blockedOn=i,kr(s.priority,function(){_T(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yd(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Yg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Nu=c,l.target.dispatchEvent(c),Nu=null}else return i=ur(l),i!==null&&yT(i),s.blockedOn=l,!1;i.shift()}return!0}function TT(s,i,l){Yd(s)&&l.delete(i)}function fN(){Jg=!1,zi!==null&&Yd(zi)&&(zi=null),Li!==null&&Yd(Li)&&(Li=null),Ui!==null&&Yd(Ui)&&(Ui=null),pc.forEach(TT),gc.forEach(TT)}function Xd(s,i){s.blockedOn===i&&(s.blockedOn=null,Jg||(Jg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fN)))}var Jd=null;function wT(s){Jd!==s&&(Jd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jd===s&&(Jd=null);for(var i=0;i<s.length;i+=3){var l=s[i],c=s[i+1],m=s[i+2];if(typeof c!="function"){if(Xg(c||l)===null)continue;break}var g=ur(l);g!==null&&(s.splice(i,3),i-=3,Yp(g,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function El(s){function i(D){return Xd(D,s)}zi!==null&&Xd(zi,s),Li!==null&&Xd(Li,s),Ui!==null&&Xd(Ui,s),pc.forEach(i),gc.forEach(i);for(var l=0;l<Fi.length;l++){var c=Fi[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Fi.length&&(l=Fi[0],l.blockedOn===null);)ET(l),l.blockedOn===null&&Fi.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],g=l[c+1],E=m[on]||null;if(typeof g=="function")E||wT(l);else if(E){var x=null;if(g&&g.hasAttribute("formAction")){if(m=g,E=g[on]||null)x=E.formAction;else if(Xg(m)!==null)continue}else x=E.action;typeof x=="function"?l[c+1]=x:(l.splice(c,3),c-=3),wT(l)}}}function xT(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function Wg(s){this._internalRoot=s}Wd.prototype.render=Wg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,c=nr();pT(l,c,s,i,null,null)},Wd.prototype.unmount=Wg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;pT(s.current,2,null,s,null,null),Od(),i[Xr]=null}};function Wd(s){this._internalRoot=s}Wd.prototype.unstable_scheduleHydration=function(s){if(s){var i=Oh();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Fi.length&&i!==0&&i<Fi[l].priority;l++);Fi.splice(l,0,s),l===0&&ET(s)}};var ST=e.version;if(ST!=="19.2.3")throw Error(r(527,ST,"19.2.3"));de.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=p(i),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var mN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{Cr=ef.inject(mN),hn=ef}catch{}}return vc.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,c="",m=Db,g=Ob,E=Mb;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=fT(s,1,!1,null,null,l,c,null,m,g,E,xT),s[Xr]=i.current,Mg(s),new Wg(i)},vc.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var c=!1,m="",g=Db,E=Ob,x=Mb,D=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.formState!==void 0&&(D=l.formState)),i=fT(s,1,!0,i,l??null,c,m,D,g,E,x,xT),i.context=mT(null),l=i.current,c=nr(),c=Ta(c),m=Ai(c),m.callback=null,Ii(l,m,c),l=c,i.current.lanes=l,ba(i,l),fs(i),s[Xr]=i.current,Mg(s),new Wd(i)},vc.version="19.2.3",vc}var PT;function SN(){if(PT)return ny.exports;PT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ny.exports=xN(),ny.exports}var AN=SN();var VT="popstate";function IN(t={}){function e(a,o){let{pathname:u="/",search:h="",hash:d=""}=Co(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Sy("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof o=="string"?o:Bc(o))}function r(a,o){Ar(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return CN(e,n,r,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ar(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RN(){return Math.random().toString(36).substring(2,10)}function jT(t,e){return{usr:t.state,key:t.key,idx:e}}function Sy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:n,key:e&&e.key||r||RN()}}function Bc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Co(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function CN(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function b(){h="POP";let z=y(),Z=z==null?null:z-p;p=z,d&&d({action:h,location:P.location,delta:Z})}function w(z,Z){h="PUSH";let K=Sy(P.location,z,Z);n&&n(K,z),p=y()+1;let U=jT(K,p),re=P.createHref(K);try{u.pushState(U,"",re)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(re)}o&&d&&d({action:h,location:P.location,delta:1})}function I(z,Z){h="REPLACE";let K=Sy(P.location,z,Z);n&&n(K,z),p=y();let U=jT(K,p),re=P.createHref(K);u.replaceState(U,"",re),o&&d&&d({action:h,location:P.location,delta:0})}function M(z){return NN(z)}let P={get action(){return h},get location(){return t(a,u)},listen(z){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(VT,b),d=z,()=>{a.removeEventListener(VT,b),d=null}},createHref(z){return e(a,z)},createURL:M,encodeLocation(z){let Z=M(z);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:w,replace:I,go(z){return u.go(z)}};return P}function NN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Bc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function N1(t,e,n="/"){return kN(t,e,n,!1)}function kN(t,e,n,r){let a=typeof e=="string"?Co(e):e,o=Js(a.pathname||"/",n);if(o==null)return null;let u=k1(t);DN(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=qN(o);h=FN(u[d],p,r)}return h}function k1(t,e=[],n=[],r="",a=!1){let o=(u,h,d=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&d)return;Ct(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let b=Xs([r,y.relativePath]),w=n.concat(y);u.children&&u.children.length>0&&(Ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),k1(u.children,e,w,b,d)),!(u.path==null&&!u.index)&&e.push({path:b,score:LN(b,u.index),routesMeta:w})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of D1(u.path))o(u,h,!0,d)}),e}function D1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=D1(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function DN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ON=/^:[\w-]+$/,MN=3,PN=2,VN=1,jN=10,zN=-2,zT=t=>t==="*";function LN(t,e){let n=t.split("/"),r=n.length;return n.some(zT)&&(r+=zN),e&&(r+=PN),n.filter(a=>!zT(a)).reduce((a,o)=>a+(ON.test(o)?MN:o===""?VN:jN),r)}function UN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function FN(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",b=zf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),w=d.route;if(!b&&p&&n&&!r[r.length-1].route.index&&(b=zf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:Xs([o,b.pathname]),pathnameBase:KN(Xs([o,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(o=Xs([o,b.pathnameBase]))}return u}function zf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:b},w)=>{if(y==="*"){let M=h[w]||"";u=o.slice(0,o.length-M.length).replace(/(.)\/+$/,"$1")}const I=h[w];return b&&!I?p[y]=void 0:p[y]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:t}}function BN(t,e=!1,n=!0){Ar(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function qN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ar(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var O1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$N=t=>O1.test(t);function HN(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Co(t):t,o;if(n)if($N(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Ar(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?o=LT(n.substring(1),"/"):o=LT(n,e)}else o=e;return{pathname:o,search:QN(r),hash:ZN(a)}}function LT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ay(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function M1(t){let e=GN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function P1(t,e,n,r=!1){let a;typeof t=="string"?a=Co(t):(a={...t},Ct(!a.pathname||!a.pathname.includes("?"),ay("?","pathname","search",a)),Ct(!a.pathname||!a.pathname.includes("#"),ay("#","pathname","hash",a)),Ct(!a.search||!a.search.includes("#"),ay("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}h=b>=0?e[b]:"/"}let d=HN(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var Xs=t=>t.join("/").replace(/\/\/+/g,"/"),KN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,YN=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function XN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function JN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var V1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function j1(t,e){let n=t;if(typeof n!="string"||!O1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(V1)try{let o=new URL(window.location.href),u=n.startsWith("//")?new URL(o.protocol+n):new URL(n),h=Js(u.pathname,e);u.origin===o.origin&&h!=null?n=h+u.search+u.hash:a=!0}catch{Ar(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var z1=["POST","PUT","PATCH","DELETE"];new Set(z1);var WN=["GET",...z1];new Set(WN);var ru=j.createContext(null);ru.displayName="DataRouter";var Em=j.createContext(null);Em.displayName="DataRouterState";var ek=j.createContext(!1),L1=j.createContext({isTransitioning:!1});L1.displayName="ViewTransition";var tk=j.createContext(new Map);tk.displayName="Fetchers";var nk=j.createContext(null);nk.displayName="Await";var Ir=j.createContext(null);Ir.displayName="Navigation";var oh=j.createContext(null);oh.displayName="Location";var xs=j.createContext({outlet:null,matches:[],isDataRoute:!1});xs.displayName="Route";var v_=j.createContext(null);v_.displayName="RouteError";var U1="REACT_ROUTER_ERROR",rk="REDIRECT",sk="ROUTE_ERROR_RESPONSE";function ik(t){if(t.startsWith(`${U1}:${rk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ak(t){if(t.startsWith(`${U1}:${sk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new YN(e.status,e.statusText,e.data)}catch{}}function ok(t,{relative:e}={}){Ct(lh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(Ir),{hash:a,pathname:o,search:u}=uh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Xs([n,o])),r.createHref({pathname:h,search:u,hash:a})}function lh(){return j.useContext(oh)!=null}function da(){return Ct(lh(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(oh).location}var F1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B1(t){j.useContext(Ir).static||j.useLayoutEffect(t)}function b_(){let{isDataRoute:t}=j.useContext(xs);return t?bk():lk()}function lk(){Ct(lh(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(ru),{basename:e,navigator:n}=j.useContext(Ir),{matches:r}=j.useContext(xs),{pathname:a}=da(),o=JSON.stringify(M1(r)),u=j.useRef(!1);return B1(()=>{u.current=!0}),j.useCallback((d,p={})=>{if(Ar(u.current,F1),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=P1(d,JSON.parse(o),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Xs([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,o,a,t])}j.createContext(null);function q1(){let{matches:t}=j.useContext(xs),e=t[t.length-1];return e?e.params:{}}function uh(t,{relative:e}={}){let{matches:n}=j.useContext(xs),{pathname:r}=da(),a=JSON.stringify(M1(n));return j.useMemo(()=>P1(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function uk(t,e){return $1(t,e)}function $1(t,e,n,r,a){Ct(lh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(Ir),{matches:u}=j.useContext(xs),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",b=h&&h.route;{let K=b&&b.path||"";G1(p,!b||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let w=da(),I;if(e){let K=typeof e=="string"?Co(e):e;Ct(y==="/"||K.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${K.pathname}" was given in the \`location\` prop.`),I=K}else I=w;let M=I.pathname||"/",P=M;if(y!=="/"){let K=y.replace(/^\//,"").split("/");P="/"+M.replace(/^\//,"").split("/").slice(K.length).join("/")}let z=N1(t,{pathname:P});Ar(b||z!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Ar(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=mk(z&&z.map(K=>Object.assign({},K,{params:Object.assign({},d,K.params),pathname:Xs([y,o.encodeLocation?o.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:Xs([y,o.encodeLocation?o.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),u,n,r,a);return e&&Z?j.createElement(oh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},Z):Z}function ck(){let t=vk(),e=XN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:a},n):null,u)}var hk=j.createElement(ck,null),H1=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=ak(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(xs.Provider,{value:this.props.routeContext},j.createElement(v_.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(dk,{error:t},e):e}};H1.contextType=ek;var oy=new WeakMap;function dk({children:t,error:e}){let{basename:n}=j.useContext(Ir);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=ik(e.digest);if(r){let a=oy.get(e);if(a)throw a;let o=j1(r.location,n);if(V1&&!oy.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw oy.set(e,u),u}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function fk({routeContext:t,match:e,children:n}){let r=j.useContext(ru);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(xs.Provider,{value:t},n)}function mk(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n?.errors;if(u!=null){let y=o.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);Ct(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<o.length;y++){let b=o[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=y),b.route.id){let{loaderData:w,errors:I}=n,M=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!I||I[b.route.id]===void 0);if(b.route.lazy||M){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let p=n&&r?(y,b)=>{r(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:JN(n.matches),errorInfo:b})}:void 0;return o.reduceRight((y,b,w)=>{let I,M=!1,P=null,z=null;n&&(I=u&&b.route.id?u[b.route.id]:void 0,P=b.route.errorElement||hk,h&&(d<0&&w===0?(G1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,z=null):d===w&&(M=!0,z=b.route.hydrateFallbackElement||null)));let Z=e.concat(o.slice(0,w+1)),K=()=>{let U;return I?U=P:M?U=z:b.route.Component?U=j.createElement(b.route.Component,null):b.route.element?U=b.route.element:U=y,j.createElement(fk,{match:b,routeContext:{outlet:y,matches:Z,isDataRoute:n!=null},children:U})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?j.createElement(H1,{location:n.location,revalidation:n.revalidation,component:P,error:I,children:K(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:p}):K()},null)}function E_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pk(t){let e=j.useContext(ru);return Ct(e,E_(t)),e}function gk(t){let e=j.useContext(Em);return Ct(e,E_(t)),e}function yk(t){let e=j.useContext(xs);return Ct(e,E_(t)),e}function T_(t){let e=yk(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _k(){return T_("useRouteId")}function vk(){let t=j.useContext(v_),e=gk("useRouteError"),n=T_("useRouteError");return t!==void 0?t:e.errors?.[n]}function bk(){let{router:t}=pk("useNavigate"),e=T_("useNavigate"),n=j.useRef(!1);return B1(()=>{n.current=!0}),j.useCallback(async(a,o={})=>{Ar(n.current,F1),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var UT={};function G1(t,e,n){!e&&!UT[t]&&(UT[t]=!0,Ar(!1,n))}j.memo(Ek);function Ek({routes:t,future:e,state:n,onError:r}){return $1(t,void 0,n,r,e)}function Qi(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){Ct(!lh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[h,a,o,u]);typeof n=="string"&&(n=Co(n));let{pathname:p="/",search:y="",hash:b="",state:w=null,key:I="default"}=n,M=j.useMemo(()=>{let P=Js(p,h);return P==null?null:{location:{pathname:P,search:y,hash:b,state:w,key:I},navigationType:r}},[h,p,y,b,w,I,r]);return Ar(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:j.createElement(Ir.Provider,{value:d},j.createElement(oh.Provider,{children:e,value:M}))}function wk({children:t,location:e}){return uk(Ay(t),e)}function Ay(t,e=[]){let n=[];return j.Children.forEach(t,(r,a)=>{if(!j.isValidElement(r))return;let o=[...e,a];if(r.type===j.Fragment){n.push.apply(n,Ay(r.props.children,o));return}Ct(r.type===Qi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Ay(r.props.children,o)),n.push(u)}),n}var yf="get",_f="application/x-www-form-urlencoded";function Tm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function xk(t){return Tm(t)&&t.tagName.toLowerCase()==="button"}function Sk(t){return Tm(t)&&t.tagName.toLowerCase()==="form"}function Ak(t){return Tm(t)&&t.tagName.toLowerCase()==="input"}function Ik(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Rk(t,e){return t.button===0&&(!e||e==="_self")&&!Ik(t)}var tf=null;function Ck(){if(tf===null)try{new FormData(document.createElement("form"),0),tf=!1}catch{tf=!0}return tf}var Nk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ly(t){return t!=null&&!Nk.has(t)?(Ar(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_f}"`),null):t}function kk(t,e){let n,r,a,o,u;if(Sk(t)){let h=t.getAttribute("action");r=h?Js(h,e):null,n=t.getAttribute("method")||yf,a=ly(t.getAttribute("enctype"))||_f,o=new FormData(t)}else if(xk(t)||Ak(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Js(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||yf,a=ly(t.getAttribute("formenctype"))||ly(h.getAttribute("enctype"))||_f,o=new FormData(h,t),!Ck()){let{name:p,type:y,value:b}=t;if(y==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,b)}}else{if(Tm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yf,r=null,a=_f,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function w_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dk(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Js(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function Ok(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Pk(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await Ok(o,n);return u.links?u.links():[]}return[]}));return Lk(r.flat(1).filter(Mk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function FT(t,e,n,r,a,o){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Vk(t,e,{includeHydrateFallback:n}={}){return jk(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function jk(t){return[...new Set(t)]}function zk(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Lk(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(zk(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function K1(){let t=j.useContext(ru);return w_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Uk(){let t=j.useContext(Em);return w_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var x_=j.createContext(void 0);x_.displayName="FrameworkContext";function Q1(){let t=j.useContext(x_);return w_(t,"You must render this element inside a <HydratedRouter> element"),t}function Fk(t,e){let n=j.useContext(x_),[r,a]=j.useState(!1),[o,u]=j.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=e,w=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=Z=>{Z.forEach(K=>{u(K.isIntersecting)})},z=new IntersectionObserver(P,{threshold:.5});return w.current&&z.observe(w.current),()=>{z.disconnect()}}},[t]),j.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let I=()=>{a(!0)},M=()=>{a(!1),u(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:bc(h,I),onBlur:bc(d,M),onMouseEnter:bc(p,I),onMouseLeave:bc(y,M),onTouchStart:bc(b,I)}]:[!1,w,{}]}function bc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Bk({page:t,...e}){let{router:n}=K1(),r=j.useMemo(()=>N1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement($k,{page:t,matches:r,...e}):null}function qk(t){let{manifest:e,routeModules:n}=Q1(),[r,a]=j.useState([]);return j.useEffect(()=>{let o=!1;return Pk(t,e,n).then(u=>{o||a(u)}),()=>{o=!0}},[t,e,n]),r}function $k({page:t,matches:e,...n}){let r=da(),{future:a,manifest:o,routeModules:u}=Q1(),{basename:h}=K1(),{loaderData:d,matches:p}=Uk(),y=j.useMemo(()=>FT(t,e,p,o,r,"data"),[t,e,p,o,r]),b=j.useMemo(()=>FT(t,e,p,o,r,"assets"),[t,e,p,o,r]),w=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let P=new Set,z=!1;if(e.forEach(K=>{let U=o.routes[K.route.id];!U||!U.hasLoader||(!y.some(re=>re.route.id===K.route.id)&&K.route.id in d&&u[K.route.id]?.shouldRevalidate||U.hasClientLoader?z=!0:P.add(K.route.id))}),P.size===0)return[];let Z=Dk(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return z&&P.size>0&&Z.searchParams.set("_routes",e.filter(K=>P.has(K.route.id)).map(K=>K.route.id).join(",")),[Z.pathname+Z.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,o,y,e,t,u]),I=j.useMemo(()=>Vk(b,o),[b,o]),M=qk(b);return j.createElement(j.Fragment,null,w.map(P=>j.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),I.map(P=>j.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),M.map(({key:P,link:z})=>j.createElement("link",{key:P,nonce:n.nonce,...z})))}function Hk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Gk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gk&&(window.__reactRouterVersion="7.12.0")}catch{}function Kk({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=j.useRef();a.current==null&&(a.current=IN({window:r,v5Compat:!0}));let o=a.current,[u,h]=j.useState({action:o.action,location:o.location}),d=j.useCallback(p=>{n===!1?h(p):j.startTransition(()=>h(p))},[n]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.createElement(Tk,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:n})}var Z1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dn=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:w,...I},M){let{basename:P,unstable_useTransitions:z}=j.useContext(Ir),Z=typeof p=="string"&&Z1.test(p),K=j1(p,P);p=K.to;let U=ok(p,{relative:a}),[re,te,he]=Fk(r,I),R=Yk(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:z});function S(V){e&&e(V),V.defaultPrevented||R(V)}let C=j.createElement("a",{...I,...he,href:K.absoluteURL||U,onClick:K.isExternal||o?e:S,ref:Hk(M,te),target:d,"data-discover":!Z&&n==="render"?"true":void 0});return re&&!Z?j.createElement(j.Fragment,null,C,j.createElement(Bk,{page:U})):C});Dn.displayName="Link";var Y1=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...p},y){let b=uh(u,{relative:p.relative}),w=da(),I=j.useContext(Em),{navigator:M,basename:P}=j.useContext(Ir),z=I!=null&&tD(b)&&h===!0,Z=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,K=w.pathname,U=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(K=K.toLowerCase(),U=U?U.toLowerCase():null,Z=Z.toLowerCase()),U&&P&&(U=Js(U,P)||U);const re=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let te=K===Z||!a&&K.startsWith(Z)&&K.charAt(re)==="/",he=U!=null&&(U===Z||!a&&U.startsWith(Z)&&U.charAt(Z.length)==="/"),R={isActive:te,isPending:he,isTransitioning:z},S=te?e:void 0,C;typeof r=="function"?C=r(R):C=[r,te?"active":null,he?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(R):o;return j.createElement(Dn,{...p,"aria-current":S,className:C,ref:y,style:V,to:u,viewTransition:h},typeof d=="function"?d(R):d)});Y1.displayName="NavLink";var Qk=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:u=yf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:w,...I},M)=>{let{unstable_useTransitions:P}=j.useContext(Ir),z=Wk(),Z=eD(h,{relative:p}),K=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&Z1.test(h),re=te=>{if(d&&d(te),te.defaultPrevented)return;te.preventDefault();let he=te.nativeEvent.submitter,R=he?.getAttribute("formmethod")||u,S=()=>z(he||te.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:o,relative:p,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:w});P&&n!==!1?j.startTransition(()=>S()):S()};return j.createElement("form",{ref:M,method:K,action:Z,onSubmit:r?d:re,...I,"data-discover":!U&&t==="render"?"true":void 0})});Qk.displayName="Form";function Zk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X1(t){let e=j.useContext(ru);return Ct(e,Zk(t)),e}function Yk(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let p=b_(),y=da(),b=uh(t,{relative:o});return j.useCallback(w=>{if(Rk(w,e)){w.preventDefault();let I=n!==void 0?n:Bc(y)===Bc(b),M=()=>p(t,{replace:I,state:r,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h});d?j.startTransition(()=>M()):M()}},[y,p,b,n,r,e,t,a,o,u,h,d])}var Xk=0,Jk=()=>`__${String(++Xk)}__`;function Wk(){let{router:t}=X1("useSubmit"),{basename:e}=j.useContext(Ir),n=_k(),r=t.fetch,a=t.navigate;return j.useCallback(async(o,u={})=>{let{action:h,method:d,encType:p,formData:y,body:b}=kk(o,e);if(u.navigate===!1){let w=u.fetcherKey||Jk();await r(w,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:b,formMethod:u.method||d,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:b,formMethod:u.method||d,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,e,n])}function eD(t,{relative:e}={}){let{basename:n}=j.useContext(Ir),r=j.useContext(xs);Ct(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...uh(t||".",{relative:e})},u=da();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Xs([n,o.pathname])),Bc(o)}function tD(t,{relative:e}={}){let n=j.useContext(L1);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=X1("useViewTransitionState"),a=uh(t,{relative:e});if(!n.isTransitioning)return!1;let o=Js(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Js(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zf(a.pathname,u)!=null||zf(a.pathname,o)!=null}var su=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nD={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},rD=class{#e=nD;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},ro=new rD;function sD(t){setTimeout(t,0)}var fo=typeof window>"u"||"Deno"in globalThis;function kn(){}function iD(t,e){return typeof t=="function"?t(e):t}function Iy(t){return typeof t=="number"&&t>=0&&t!==1/0}function J1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ea(t,e){return typeof t=="function"?t(e):t}function Er(t,e){return typeof t=="function"?t(e):t}function BT(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:u,stale:h}=t;if(u){if(r){if(e.queryHash!==S_(u,e.options))return!1}else if(!qc(e.queryKey,u))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||o&&!o(e))}function qT(t,e){const{exact:n,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(mo(e.options.mutationKey)!==mo(o))return!1}else if(!qc(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function S_(t,e){return(e?.queryKeyHashFn||mo)(t)}function mo(t){return JSON.stringify(t,(e,n)=>Ry(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function qc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>qc(t[n],e[n])):!1}var aD=Object.prototype.hasOwnProperty;function W1(t,e){if(t===e)return t;const n=$T(t)&&$T(e);if(!n&&!(Ry(t)&&Ry(e)))return e;const a=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),u=o.length,h=n?new Array(u):{};let d=0;for(let p=0;p<u;p++){const y=n?p:o[p],b=t[y],w=e[y];if(b===w){h[y]=b,(n?p<a:aD.call(t,y))&&d++;continue}if(b===null||w===null||typeof b!="object"||typeof w!="object"){h[y]=w;continue}const I=W1(b,w);h[y]=I,I===b&&d++}return a===u&&d===a?t:h}function Lf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function $T(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ry(t){if(!HT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!HT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function HT(t){return Object.prototype.toString.call(t)==="[object Object]"}function oD(t){return new Promise(e=>{ro.setTimeout(e,t)})}function Cy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?W1(t,e):e}function lD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function uD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var A_=Symbol();function eS(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===A_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function I_(t,e){return typeof t=="function"?t(...e):!!t}function cD(t,e,n){let r=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??=e(),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var hD=class extends su{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!fo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},R_=new hD;function Ny(){let t,e;const n=new Promise((a,o)=>{t=a,e=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}var dD=sD;function fD(){let t=[],e=0,n=h=>{h()},r=h=>{h()},a=dD;const o=h=>{e?t.push(h):a(()=>{n(h)})},u=()=>{const h=t;t=[],h.length&&a(()=>{r(()=>{h.forEach(d=>{n(d)})})})};return{batch:h=>{let d;e++;try{d=h()}finally{e--,e||u()}return d},batchCalls:h=>(...d)=>{o(()=>{h(...d)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{a=h}}}var nn=fD(),mD=class extends su{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!fo&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Uf=new mD;function pD(t){return Math.min(1e3*2**t,3e4)}function tS(t){return(t??"online")==="online"?Uf.isOnline():!0}var ky=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function nS(t){let e=!1,n=0,r;const a=Ny(),o=()=>a.status!=="pending",u=P=>{if(!o()){const z=new ky(P);w(z),t.onCancel?.(z)}},h=()=>{e=!0},d=()=>{e=!1},p=()=>R_.isFocused()&&(t.networkMode==="always"||Uf.isOnline())&&t.canRun(),y=()=>tS(t.networkMode)&&t.canRun(),b=P=>{o()||(r?.(),a.resolve(P))},w=P=>{o()||(r?.(),a.reject(P))},I=()=>new Promise(P=>{r=z=>{(o()||p())&&P(z)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),M=()=>{if(o())return;let P;const z=n===0?t.initialPromise:void 0;try{P=z??t.fn()}catch(Z){P=Promise.reject(Z)}Promise.resolve(P).then(b).catch(Z=>{if(o())return;const K=t.retry??(fo?0:3),U=t.retryDelay??pD,re=typeof U=="function"?U(n,Z):U,te=K===!0||typeof K=="number"&&n<K||typeof K=="function"&&K(n,Z);if(e||!te){w(Z);return}n++,t.onFail?.(n,Z),oD(re).then(()=>p()?void 0:I()).then(()=>{e?w(Z):M()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(r?.(),a),cancelRetry:h,continueRetry:d,canStart:y,start:()=>(y()?M():I().then(M),a)}}var rS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Iy(this.gcTime)&&(this.#e=ro.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ro.clearTimeout(this.#e),this.#e=void 0)}},gD=class extends rS{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=KT(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=KT(this.options);n.data!==void 0&&(this.setState(GT(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=Cy(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(kn).catch(kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Er(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===A_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ea(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!J1(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const d=eS(this.options,n),y=(()=>{const b={client:this.#s,queryKey:this.queryKey,meta:this.meta};return a(b),b})();return this.#o=!1,this.options.persister?this.options.persister(d,y,this):d(y)},h=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return a(d),d})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#i({type:"fetch",meta:h.fetchOptions?.meta}),this.#r=nS({initialPromise:n?.initialPromise,fn:h.fetchFn,onCancel:d=>{d instanceof ky&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,p)=>{this.#i({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof ky){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...sS(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...GT(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),nn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function sS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function GT(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function KT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var yD=class extends su{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=Ny(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#d;#f;#u;#c;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),QT(this.#t,this.options)?this.#h():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dy(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dy(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#E(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Er(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#T(),this.#t.setOptions(this.options),e._defaulted&&!Lf(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&ZT(this.#t,n,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#t!==n||Er(this.options.enabled,this.#t)!==Er(e.enabled,this.#t)||ea(this.options.staleTime,this.#t)!==ea(e.staleTime,this.#t))&&this.#g();const a=this.#y();r&&(this.#t!==n||Er(this.options.enabled,this.#t)!==Er(e.enabled,this.#t)||a!==this.#l)&&this.#_(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return vD(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(t){this.#T();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(kn)),e}#g(){this.#b();const t=ea(this.options.staleTime,this.#t);if(fo||this.#s.isStale||!Iy(t))return;const n=J1(this.#s.dataUpdatedAt,t)+1;this.#u=ro.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#_(t){this.#E(),this.#l=t,!(fo||Er(this.options.enabled,this.#t)===!1||!Iy(this.#l)||this.#l===0)&&(this.#c=ro.setInterval(()=>{(this.options.refetchIntervalInBackground||R_.isFocused())&&this.#h()},this.#l))}#v(){this.#g(),this.#_(this.#y())}#b(){this.#u&&(ro.clearTimeout(this.#u),this.#u=void 0)}#E(){this.#c&&(ro.clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const n=this.#t,r=this.options,a=this.#s,o=this.#r,u=this.#a,d=t!==n?t.state:this.#n,{state:p}=t;let y={...p},b=!1,w;if(e._optimisticResults){const S=this.hasListeners(),C=!S&&QT(t,e),V=S&&ZT(t,n,e,r);(C||V)&&(y={...y,...sS(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:I,errorUpdatedAt:M,status:P}=y;w=y.data;let z=!1;if(e.placeholderData!==void 0&&w===void 0&&P==="pending"){let S;a?.isPlaceholderData&&e.placeholderData===u?.placeholderData?(S=a.data,z=!0):S=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,S!==void 0&&(P="success",w=Cy(a?.data,S,e),b=!0)}if(e.select&&w!==void 0&&!z)if(a&&w===o?.data&&e.select===this.#p)w=this.#d;else try{this.#p=e.select,w=e.select(w),w=Cy(a?.data,w,e),this.#d=w,this.#i=null}catch(S){this.#i=S}this.#i&&(I=this.#i,w=this.#d,M=Date.now(),P="error");const Z=y.fetchStatus==="fetching",K=P==="pending",U=P==="error",re=K&&Z,te=w!==void 0,R={status:P,fetchStatus:y.fetchStatus,isPending:K,isSuccess:P==="success",isError:U,isInitialLoading:re,isLoading:re,data:w,dataUpdatedAt:y.dataUpdatedAt,error:I,errorUpdatedAt:M,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>d.dataUpdateCount||y.errorUpdateCount>d.errorUpdateCount,isFetching:Z,isRefetching:Z&&!K,isLoadingError:U&&!te,isPaused:y.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:U&&te,isStale:C_(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Er(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const S=O=>{R.status==="error"?O.reject(R.error):R.data!==void 0&&O.resolve(R.data)},C=()=>{const O=this.#o=R.promise=Ny();S(O)},V=this.#o;switch(V.status){case"pending":t.queryHash===n.queryHash&&S(V);break;case"fulfilled":(R.status==="error"||R.data!==V.value)&&C();break;case"rejected":(R.status!=="error"||R.error!==V.reason)&&C();break}}return R}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),Lf(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#m.size)return!0;const o=new Set(a??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(u=>{const h=u;return this.#s[h]!==t[h]&&o.has(h)})};this.#w({listeners:n()})}#T(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#w(t){nn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function _D(t,e){return Er(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function QT(t,e){return _D(t,e)||t.state.data!==void 0&&Dy(t,e,e.refetchOnMount)}function Dy(t,e,n){if(Er(e.enabled,t)!==!1&&ea(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&C_(t,e)}return!1}function ZT(t,e,n,r){return(t!==e||Er(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&C_(t,n)}function C_(t,e){return Er(e.enabled,t)!==!1&&t.isStaleByTime(ea(e.staleTime,t))}function vD(t,e){return!Lf(t.getCurrentResult(),e)}function YT(t){return{onFetch:(e,n)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},d=0;const p=async()=>{let y=!1;const b=M=>{cD(M,()=>e.signal,()=>y=!0)},w=eS(e.options,e.fetchOptions),I=async(M,P,z)=>{if(y)return Promise.reject();if(P==null&&M.pages.length)return Promise.resolve(M);const K=(()=>{const he={client:e.client,queryKey:e.queryKey,pageParam:P,direction:z?"backward":"forward",meta:e.options.meta};return b(he),he})(),U=await w(K),{maxPages:re}=e.options,te=z?uD:lD;return{pages:te(M.pages,U,re),pageParams:te(M.pageParams,P,re)}};if(a&&o.length){const M=a==="backward",P=M?bD:XT,z={pages:o,pageParams:u},Z=P(r,z);h=await I(z,Z,M)}else{const M=t??o.length;do{const P=d===0?u[0]??r.initialPageParam:XT(r,h);if(d>0&&P==null)break;h=await I(h,P),d++}while(d<M)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function XT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function bD(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var ED=class extends rS{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||iS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=nS({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,h)=>{this.#r({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",o=!this.#s.canStart();try{if(a)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const h=await this.options.onMutate?.(e,r);h!==this.state.context&&this.#r({type:"pending",context:h,variables:e,isPaused:o})}const u=await this.#s.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#r({type:"success",data:u}),u}catch(u){try{await this.#n.config.onError?.(u,e,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onError?.(u,e,this.state.context,r)}catch(h){Promise.reject(h)}try{await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onSettled?.(void 0,u,e,this.state.context,r)}catch(h){Promise.reject(h)}throw this.#r({type:"error",error:u}),u}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function iS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var TD=class extends su{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new ED({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=nf(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=nf(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=nf(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=nf(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){nn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>qT(e,n))}findAll(t={}){return this.getAll().filter(e=>qT(t,e))}notify(t){nn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return nn.batch(()=>Promise.all(t.map(e=>e.continue().catch(kn))))}};function nf(t){return t.options.scope?.id}var wD=class extends su{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Lf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&mo(n.mutationKey)!==mo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??iS();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){nn.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(e.data,null,n,r,a)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,e.error,n,r,a)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},xD=class extends su{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,a=e.queryHash??S_(r,e);let o=this.get(a);return o||(o=new gD({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>BT(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>BT(t,n)):e}notify(t){nn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},SD=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new xD,this.#t=t.mutationCache||new TD,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=R_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Uf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ea(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,u=iD(e,o);if(u!==void 0)return this.#e.build(this,r).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return nn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;nn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return nn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=nn.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(kn).catch(kn)}invalidateQueries(t,e={}){return nn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=nn.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(kn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(kn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(ea(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(kn).catch(kn)}fetchInfiniteQuery(t){return t.behavior=YT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(kn).catch(kn)}ensureInfiniteQueryData(t){return t.behavior=YT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Uf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(mo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{qc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(mo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{qc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=S_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===A_&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},aS=j.createContext(void 0),iu=t=>{const e=j.useContext(aS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},AD=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(aS.Provider,{value:t,children:e})),oS=j.createContext(!1),ID=()=>j.useContext(oS);oS.Provider;function RD(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var CD=j.createContext(RD()),ND=()=>j.useContext(CD),kD=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?I_(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},DD=t=>{j.useEffect(()=>{t.clearReset()},[t])},OD=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||I_(n,[t.error,r])),MD=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},PD=(t,e)=>t.isLoading&&t.isFetching&&!e,VD=(t,e)=>t?.suspense&&e.isPending,JT=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function jD(t,e,n){const r=ID(),a=ND(),o=iu(),u=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(u);const h=o.getQueryCache().get(u.queryHash);u._optimisticResults=r?"isRestoring":"optimistic",MD(u),kD(u,a,h),DD(a);const d=!o.getQueryCache().get(u.queryHash),[p]=j.useState(()=>new e(o,u)),y=p.getOptimisticResult(u),b=!r&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(w=>{const I=b?p.subscribe(nn.batchCalls(w)):kn;return p.updateResult(),I},[p,b]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),j.useEffect(()=>{p.setOptions(u)},[u,p]),VD(u,y))throw JT(u,p,a);if(OD({result:y,errorResetBoundary:a,throwOnError:u.throwOnError,query:h,suspense:u.suspense}))throw y.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(u,y),u.experimental_prefetchInRender&&!fo&&PD(y,r)&&(d?JT(u,p,a):h?.promise)?.catch(kn).finally(()=>{p.updateResult()}),u.notifyOnChangeProps?y:p.trackResult(y)}function N_(t,e){return jD(t,yD)}function wm(t,e){const n=iu(),[r]=j.useState(()=>new wD(n,t));j.useEffect(()=>{r.setOptions(t)},[r,t]);const a=j.useSyncExternalStore(j.useCallback(u=>r.subscribe(nn.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=j.useCallback((u,h)=>{r.mutate(u,h).catch(kn)},[r]);if(a.error&&I_(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}const zD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),WT=t=>{const e=LD(t);return e.charAt(0).toUpperCase()+e.slice(1)},lS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),UD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BD=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...h},d)=>j.createElement("svg",{ref:d,...FD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lS("lucide",a),...!o&&!UD(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>j.createElement(p,y)),...Array.isArray(o)?o:[o]]));const At=(t,e)=>{const n=j.forwardRef(({className:r,...a},o)=>j.createElement(BD,{ref:o,iconNode:e,className:lS(`lucide-${zD(WT(t))}`,`lucide-${t}`,r),...a}));return n.displayName=WT(t),n};const qD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$D=At("activity",qD);const HD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],GD=At("arrow-left",HD);const KD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ff=At("arrow-right",KD);const QD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ZD=At("bell",QD);const YD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ws=At("calendar",YD);const XD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],JD=At("check",XD);const WD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uS=At("circle-check-big",WD);const eO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xm=At("clock",eO);const tO=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],nO=At("dollar-sign",tO);const rO=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],cS=At("external-link",rO);const sO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],iO=At("house",sO);const aO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],oO=At("info",aO);const lO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],k_=At("map-pin",lO);const uO=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],cO=At("monitor",uO);const hO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],dO=At("moon",hO);const fO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],mO=At("play",fO);const pO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gO=At("plus",pO);const yO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_O=At("search",yO);const vO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bO=At("settings",vO);const EO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],TO=At("sun",EO);const wO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],D_=At("target",wO);const xO=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],SO=At("trending-up",xO);const AO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ei=At("trophy",AO);const IO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hS=At("users",IO),$n={HOME:"/",STANDINGS:"/standings",SCHEDULE:"/schedule",FORMAT:"/format",ADMIN:"/admin",PLAYER_PROFILE:"/player/:id",EVENT_DETAIL:"/event/:eventCode"};function Oy(t){return $n.EVENT_DETAIL.replace(":eventCode",t)}const RO=[{to:$n.HOME,icon:iO,label:"Home"},{to:$n.STANDINGS,icon:ei,label:"Standings"},{to:$n.SCHEDULE,icon:Ws,label:"Schedule"},{to:$n.FORMAT,icon:D_,label:"Format"},{to:$n.ADMIN,icon:bO,label:"Admin"}];function CO(){return v.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800",children:v.jsx("div",{className:"max-w-lg mx-auto h-16 flex items-center justify-around",children:RO.map(({to:t,icon:e,label:n})=>v.jsxs(Y1,{to:t,className:({isActive:r})=>`
              flex flex-col items-center justify-center
              w-16 h-full
              text-xs font-medium
              transition-colors
              ${r?"text-primary-600 dark:text-primary-400":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}
            `,children:[v.jsx(e,{className:"w-6 h-6 mb-1"}),v.jsx("span",{children:n})]},t))})})}function dS(){const[t,e]=j.useState(()=>typeof window>"u"?"system":localStorage.getItem("paddleup-theme")||"system"),[n,r]=j.useState(!1);j.useEffect(()=>{const u=window.document.documentElement,h=d=>{d==="dark"?(u.classList.add("dark"),r(!0)):(u.classList.remove("dark"),r(!1))};if(t==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)");h(d.matches?"dark":"light");const p=y=>{h(y.matches?"dark":"light")};return d.addEventListener("change",p),()=>d.removeEventListener("change",p)}else h(t)},[t]);const a=u=>{e(u),localStorage.setItem("paddleup-theme",u)};return{theme:t,setTheme:a,isDark:n,toggleTheme:()=>{a(t==="light"?"dark":t==="dark"?"system":"light")}}}function Ka({children:t,title:e,showBack:n=!1,showBottomNav:r=!0,showNotifications:a=!1,className:o=""}){const u=b_(),{theme:h,toggleTheme:d}=dS(),p=h==="light"?TO:h==="dark"?dO:cO;return v.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[v.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800",children:v.jsxs("div",{className:"max-w-lg mx-auto px-4 h-14 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[n&&v.jsx("button",{onClick:()=>u(-1),className:"p-2 -ml-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:v.jsx(GD,{className:"w-5 h-5"})}),e?v.jsx("h1",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:e}):!n&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary-600",children:v.jsx(ei,{className:"h-4 w-4 text-white"})}),v.jsx("span",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:"Paddle Up"})]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:d,className:"p-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",title:`Theme: ${h}`,children:v.jsx(p,{className:"w-5 h-5"})}),a&&v.jsx("button",{onClick:()=>u($n.HOME),className:"p-2 -mr-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg relative",children:v.jsx(ZD,{className:"w-5 h-5"})})]})]})}),v.jsx("main",{className:`max-w-lg mx-auto px-4 py-6 ${r?"pb-24":""} ${o}`,children:t}),r&&v.jsx(CO,{})]})}const NO=()=>{};var ew={};const fS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},kO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},mS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=o>>2,b=(o&3)<<4|h>>4;let w=(h&15)<<2|p>>6,I=p&63;d||(I=64,u||(w=64)),r.push(n[y],n[b],n[w],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||p==null||b==null)throw new DO;const w=o<<2|h>>4;if(r.push(w),p!==64){const I=h<<4&240|p>>2;if(r.push(I),b!==64){const M=p<<6&192|b;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OO=function(t){const e=fS(t);return mS.encodeByteArray(e,!0)},Bf=function(t){return OO(t).replace(/\./g,"")},pS=function(t){try{return mS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MO=()=>gS().__FIREBASE_DEFAULTS__,PO=()=>{if(typeof process>"u"||typeof ew>"u")return;const t=ew.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pS(t[1]);return e&&JSON.parse(e)},Sm=()=>{try{return NO()||MO()||PO()||VO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yS=t=>Sm()?.emulatorHosts?.[t],jO=t=>{const e=yS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_S=()=>Sm()?.config,vS=t=>Sm()?.[`_${t}`];class zO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function au(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bS(t){return(await fetch(t,{credentials:"include"})).ok}function LO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bf(JSON.stringify(n)),Bf(JSON.stringify(u)),""].join(".")}const Oc={};function UO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Oc))Oc[e]?t.emulator.push(e):t.prod.push(e);return t}function FO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tw=!1;function ES(t,e){if(typeof window>"u"||typeof document>"u"||!au(window.location.host)||Oc[t]===e||Oc[t]||tw)return;Oc[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=UO().prod.length>0;function u(){const w=document.getElementById(r);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{tw=!0,u()},w}function y(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=FO(r),I=n("text"),M=document.getElementById(I)||document.createElement("span"),P=n("learnmore"),z=document.getElementById(P)||document.createElement("a"),Z=n("preprendIcon"),K=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const U=w.element;h(U),y(z,P);const re=p();d(K,Z),U.append(K,M,z,re),document.body.appendChild(U)}o?(M.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function TS(){const t=Sm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $O(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GO(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wS(){return!TS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xS(){return!TS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function SS(){try{return typeof indexedDB=="object"}catch{return!1}}function KO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const QO="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QO,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ch.prototype.create)}}class ch{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?ZO(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new ai(a,h,r)}}function ZO(t,e){return t.replace(YO,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const YO=/\{\$([^}]+)}/g;function XO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function po(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(nw(o)&&nw(u)){if(!po(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function nw(t){return t!==null&&typeof t=="object"}function hh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function JO(t,e){const n=new WO(t,e);return n.subscribe.bind(n)}class WO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");e4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=uy),a.error===void 0&&(a.error=uy),a.complete===void 0&&(a.complete=uy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uy(){}function Sn(t){return t&&t._delegate?t._delegate:t}class go{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ya="[DEFAULT]";class t4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r4(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n4(t){return t===Ya?void 0:t}function r4(t){return t.instantiationMode==="EAGER"}class s4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new t4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const i4={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},a4=Ge.INFO,o4={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},l4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=o4[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O_{constructor(e){this.name=e,this._logLevel=a4,this._logHandler=l4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const u4=(t,e)=>e.some(n=>t instanceof n);let rw,sw;function c4(){return rw||(rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h4(){return sw||(sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AS=new WeakMap,My=new WeakMap,IS=new WeakMap,cy=new WeakMap,M_=new WeakMap;function d4(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(ta(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&AS.set(n,t)}).catch(()=>{}),M_.set(e,t),e}function f4(t){if(My.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});My.set(t,e)}let Py={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return My.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function m4(t){Py=t(Py)}function p4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hy(this),e,...n);return IS.set(r,e.sort?e.sort():[e]),ta(r)}:h4().includes(t)?function(...e){return t.apply(hy(this),e),ta(AS.get(this))}:function(...e){return ta(t.apply(hy(this),e))}}function g4(t){return typeof t=="function"?p4(t):(t instanceof IDBTransaction&&f4(t),u4(t,c4())?new Proxy(t,Py):t)}function ta(t){if(t instanceof IDBRequest)return d4(t);if(cy.has(t))return cy.get(t);const e=g4(t);return e!==t&&(cy.set(t,e),M_.set(e,t)),e}const hy=t=>M_.get(t);function y4(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),h=ta(u);return r&&u.addEventListener("upgradeneeded",d=>{r(ta(u.result),d.oldVersion,d.newVersion,ta(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const _4=["get","getKey","getAll","getAllKeys","count"],v4=["put","add","delete","clear"],dy=new Map;function iw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dy.get(e))return dy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=v4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||_4.includes(n)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return dy.set(e,o),o}m4(t=>({...t,get:(e,n,r)=>iw(e,n)||t.get(e,n,r),has:(e,n)=>!!iw(e,n)||t.has(e,n)}));class b4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function E4(t){return t.getComponent()?.type==="VERSION"}const Vy="@firebase/app",aw="0.14.6";const ti=new O_("@firebase/app"),T4="@firebase/app-compat",w4="@firebase/analytics-compat",x4="@firebase/analytics",S4="@firebase/app-check-compat",A4="@firebase/app-check",I4="@firebase/auth",R4="@firebase/auth-compat",C4="@firebase/database",N4="@firebase/data-connect",k4="@firebase/database-compat",D4="@firebase/functions",O4="@firebase/functions-compat",M4="@firebase/installations",P4="@firebase/installations-compat",V4="@firebase/messaging",j4="@firebase/messaging-compat",z4="@firebase/performance",L4="@firebase/performance-compat",U4="@firebase/remote-config",F4="@firebase/remote-config-compat",B4="@firebase/storage",q4="@firebase/storage-compat",$4="@firebase/firestore",H4="@firebase/ai",G4="@firebase/firestore-compat",K4="firebase",Q4="12.6.0";const jy="[DEFAULT]",Z4={[Vy]:"fire-core",[T4]:"fire-core-compat",[x4]:"fire-analytics",[w4]:"fire-analytics-compat",[A4]:"fire-app-check",[S4]:"fire-app-check-compat",[I4]:"fire-auth",[R4]:"fire-auth-compat",[C4]:"fire-rtdb",[N4]:"fire-data-connect",[k4]:"fire-rtdb-compat",[D4]:"fire-fn",[O4]:"fire-fn-compat",[M4]:"fire-iid",[P4]:"fire-iid-compat",[V4]:"fire-fcm",[j4]:"fire-fcm-compat",[z4]:"fire-perf",[L4]:"fire-perf-compat",[U4]:"fire-rc",[F4]:"fire-rc-compat",[B4]:"fire-gcs",[q4]:"fire-gcs-compat",[$4]:"fire-fst",[G4]:"fire-fst-compat",[H4]:"fire-vertex","fire-js":"fire-js",[K4]:"fire-js-all"};const $c=new Map,Y4=new Map,zy=new Map;function ow(t,e){try{t.container.addComponent(e)}catch(n){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fl(t){const e=t.name;if(zy.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;zy.set(e,t);for(const n of $c.values())ow(n,t);for(const n of Y4.values())ow(n,t);return!0}function P_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qr(t){return t==null?!1:t.settings!==void 0}const X4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new ch("app","Firebase",X4);class J4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}const ou=Q4;function RS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:jy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw na.create("bad-app-name",{appName:String(a)});if(n||(n=_S()),!n)throw na.create("no-options");const o=$c.get(a);if(o){if(po(n,o.options)&&po(r,o.config))return o;throw na.create("duplicate-app",{appName:a})}const u=new s4(a);for(const d of zy.values())u.addComponent(d);const h=new J4(n,r,u);return $c.set(a,h),h}function CS(t=jy){const e=$c.get(t);if(!e&&t===jy&&_S())return RS();if(!e)throw na.create("no-app",{appName:t});return e}function lw(){return Array.from($c.values())}function ra(t,e,n){let r=Z4[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(u.join(" "));return}Fl(new go(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const W4="firebase-heartbeat-database",eM=1,Hc="firebase-heartbeat-store";let fy=null;function NS(){return fy||(fy=y4(W4,eM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw na.create("idb-open",{originalErrorMessage:t.message})})),fy}async function tM(t){try{const n=(await NS()).transaction(Hc),r=await n.objectStore(Hc).get(kS(t));return await n.done,r}catch(e){if(e instanceof ai)ti.warn(e.message);else{const n=na.create("idb-get",{originalErrorMessage:e?.message});ti.warn(n.message)}}}async function uw(t,e){try{const r=(await NS()).transaction(Hc,"readwrite");await r.objectStore(Hc).put(e,kS(t)),await r.done}catch(n){if(n instanceof ai)ti.warn(n.message);else{const r=na.create("idb-set",{originalErrorMessage:n?.message});ti.warn(r.message)}}}function kS(t){return`${t.name}!${t.options.appId}`}const nM=1024,rM=30;class sM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>rM){const a=oM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cw(),{heartbeatsToSend:n,unsentEntries:r}=iM(this._heartbeatsCache.heartbeats),a=Bf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ti.warn(e),""}}}function cw(){return new Date().toISOString().substring(0,10)}function iM(t,e=nM){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),hw(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),hw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SS()?KO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hw(t){return Bf(JSON.stringify({version:2,heartbeats:t})).length}function oM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function lM(t){Fl(new go("platform-logger",e=>new b4(e),"PRIVATE")),Fl(new go("heartbeat",e=>new sM(e),"PRIVATE")),ra(Vy,aw,t),ra(Vy,aw,"esm2020"),ra("fire-js","")}lM("");var dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sa,DS;(function(){var t;function e(R,S){function C(){}C.prototype=S.prototype,R.F=S.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(V,O,F){for(var N=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)N[qe-2]=arguments[qe];return S.prototype[O].apply(V,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)V[O]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(O=0;O<16;++O)V[O]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=R.g[0],C=R.g[1],O=R.g[2];let F=R.g[3],N;N=S+(F^C&(O^F))+V[0]+3614090360&4294967295,S=C+(N<<7&4294967295|N>>>25),N=F+(O^S&(C^O))+V[1]+3905402710&4294967295,F=S+(N<<12&4294967295|N>>>20),N=O+(C^F&(S^C))+V[2]+606105819&4294967295,O=F+(N<<17&4294967295|N>>>15),N=C+(S^O&(F^S))+V[3]+3250441966&4294967295,C=O+(N<<22&4294967295|N>>>10),N=S+(F^C&(O^F))+V[4]+4118548399&4294967295,S=C+(N<<7&4294967295|N>>>25),N=F+(O^S&(C^O))+V[5]+1200080426&4294967295,F=S+(N<<12&4294967295|N>>>20),N=O+(C^F&(S^C))+V[6]+2821735955&4294967295,O=F+(N<<17&4294967295|N>>>15),N=C+(S^O&(F^S))+V[7]+4249261313&4294967295,C=O+(N<<22&4294967295|N>>>10),N=S+(F^C&(O^F))+V[8]+1770035416&4294967295,S=C+(N<<7&4294967295|N>>>25),N=F+(O^S&(C^O))+V[9]+2336552879&4294967295,F=S+(N<<12&4294967295|N>>>20),N=O+(C^F&(S^C))+V[10]+4294925233&4294967295,O=F+(N<<17&4294967295|N>>>15),N=C+(S^O&(F^S))+V[11]+2304563134&4294967295,C=O+(N<<22&4294967295|N>>>10),N=S+(F^C&(O^F))+V[12]+1804603682&4294967295,S=C+(N<<7&4294967295|N>>>25),N=F+(O^S&(C^O))+V[13]+4254626195&4294967295,F=S+(N<<12&4294967295|N>>>20),N=O+(C^F&(S^C))+V[14]+2792965006&4294967295,O=F+(N<<17&4294967295|N>>>15),N=C+(S^O&(F^S))+V[15]+1236535329&4294967295,C=O+(N<<22&4294967295|N>>>10),N=S+(O^F&(C^O))+V[1]+4129170786&4294967295,S=C+(N<<5&4294967295|N>>>27),N=F+(C^O&(S^C))+V[6]+3225465664&4294967295,F=S+(N<<9&4294967295|N>>>23),N=O+(S^C&(F^S))+V[11]+643717713&4294967295,O=F+(N<<14&4294967295|N>>>18),N=C+(F^S&(O^F))+V[0]+3921069994&4294967295,C=O+(N<<20&4294967295|N>>>12),N=S+(O^F&(C^O))+V[5]+3593408605&4294967295,S=C+(N<<5&4294967295|N>>>27),N=F+(C^O&(S^C))+V[10]+38016083&4294967295,F=S+(N<<9&4294967295|N>>>23),N=O+(S^C&(F^S))+V[15]+3634488961&4294967295,O=F+(N<<14&4294967295|N>>>18),N=C+(F^S&(O^F))+V[4]+3889429448&4294967295,C=O+(N<<20&4294967295|N>>>12),N=S+(O^F&(C^O))+V[9]+568446438&4294967295,S=C+(N<<5&4294967295|N>>>27),N=F+(C^O&(S^C))+V[14]+3275163606&4294967295,F=S+(N<<9&4294967295|N>>>23),N=O+(S^C&(F^S))+V[3]+4107603335&4294967295,O=F+(N<<14&4294967295|N>>>18),N=C+(F^S&(O^F))+V[8]+1163531501&4294967295,C=O+(N<<20&4294967295|N>>>12),N=S+(O^F&(C^O))+V[13]+2850285829&4294967295,S=C+(N<<5&4294967295|N>>>27),N=F+(C^O&(S^C))+V[2]+4243563512&4294967295,F=S+(N<<9&4294967295|N>>>23),N=O+(S^C&(F^S))+V[7]+1735328473&4294967295,O=F+(N<<14&4294967295|N>>>18),N=C+(F^S&(O^F))+V[12]+2368359562&4294967295,C=O+(N<<20&4294967295|N>>>12),N=S+(C^O^F)+V[5]+4294588738&4294967295,S=C+(N<<4&4294967295|N>>>28),N=F+(S^C^O)+V[8]+2272392833&4294967295,F=S+(N<<11&4294967295|N>>>21),N=O+(F^S^C)+V[11]+1839030562&4294967295,O=F+(N<<16&4294967295|N>>>16),N=C+(O^F^S)+V[14]+4259657740&4294967295,C=O+(N<<23&4294967295|N>>>9),N=S+(C^O^F)+V[1]+2763975236&4294967295,S=C+(N<<4&4294967295|N>>>28),N=F+(S^C^O)+V[4]+1272893353&4294967295,F=S+(N<<11&4294967295|N>>>21),N=O+(F^S^C)+V[7]+4139469664&4294967295,O=F+(N<<16&4294967295|N>>>16),N=C+(O^F^S)+V[10]+3200236656&4294967295,C=O+(N<<23&4294967295|N>>>9),N=S+(C^O^F)+V[13]+681279174&4294967295,S=C+(N<<4&4294967295|N>>>28),N=F+(S^C^O)+V[0]+3936430074&4294967295,F=S+(N<<11&4294967295|N>>>21),N=O+(F^S^C)+V[3]+3572445317&4294967295,O=F+(N<<16&4294967295|N>>>16),N=C+(O^F^S)+V[6]+76029189&4294967295,C=O+(N<<23&4294967295|N>>>9),N=S+(C^O^F)+V[9]+3654602809&4294967295,S=C+(N<<4&4294967295|N>>>28),N=F+(S^C^O)+V[12]+3873151461&4294967295,F=S+(N<<11&4294967295|N>>>21),N=O+(F^S^C)+V[15]+530742520&4294967295,O=F+(N<<16&4294967295|N>>>16),N=C+(O^F^S)+V[2]+3299628645&4294967295,C=O+(N<<23&4294967295|N>>>9),N=S+(O^(C|~F))+V[0]+4096336452&4294967295,S=C+(N<<6&4294967295|N>>>26),N=F+(C^(S|~O))+V[7]+1126891415&4294967295,F=S+(N<<10&4294967295|N>>>22),N=O+(S^(F|~C))+V[14]+2878612391&4294967295,O=F+(N<<15&4294967295|N>>>17),N=C+(F^(O|~S))+V[5]+4237533241&4294967295,C=O+(N<<21&4294967295|N>>>11),N=S+(O^(C|~F))+V[12]+1700485571&4294967295,S=C+(N<<6&4294967295|N>>>26),N=F+(C^(S|~O))+V[3]+2399980690&4294967295,F=S+(N<<10&4294967295|N>>>22),N=O+(S^(F|~C))+V[10]+4293915773&4294967295,O=F+(N<<15&4294967295|N>>>17),N=C+(F^(O|~S))+V[1]+2240044497&4294967295,C=O+(N<<21&4294967295|N>>>11),N=S+(O^(C|~F))+V[8]+1873313359&4294967295,S=C+(N<<6&4294967295|N>>>26),N=F+(C^(S|~O))+V[15]+4264355552&4294967295,F=S+(N<<10&4294967295|N>>>22),N=O+(S^(F|~C))+V[6]+2734768916&4294967295,O=F+(N<<15&4294967295|N>>>17),N=C+(F^(O|~S))+V[13]+1309151649&4294967295,C=O+(N<<21&4294967295|N>>>11),N=S+(O^(C|~F))+V[4]+4149444226&4294967295,S=C+(N<<6&4294967295|N>>>26),N=F+(C^(S|~O))+V[11]+3174756917&4294967295,F=S+(N<<10&4294967295|N>>>22),N=O+(S^(F|~C))+V[2]+718787259&4294967295,O=F+(N<<15&4294967295|N>>>17),N=C+(F^(O|~S))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.v=function(R,S){S===void 0&&(S=R.length);const C=S-this.blockSize,V=this.C;let O=this.h,F=0;for(;F<S;){if(O==0)for(;F<=C;)a(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<S;)if(V[O++]=R.charCodeAt(F++),O==this.blockSize){a(this,V),O=0;break}}else for(;F<S;)if(V[O++]=R[F++],O==this.blockSize){a(this,V),O=0;break}}this.h=O,this.o+=S},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)R[S++]=this.g[C]>>>V&255;return R};function o(R,S){var C=h;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=S(R)}function u(R,S){this.h=S;const C=[];let V=!0;for(let O=R.length-1;O>=0;O--){const F=R[O]|0;V&&F==S||(C[O]=F,V=!1)}this.g=C}var h={};function d(R){return-128<=R&&R<128?o(R,function(S){return new u([S|0],S<0?-1:0)}):new u([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return z(p(-R));const S=[];let C=1;for(let V=0;R>=C;V++)S[V]=R/C|0,C*=4294967296;return new u(S,0)}function y(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return z(y(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(S,8));let V=b;for(let F=0;F<R.length;F+=8){var O=Math.min(8,R.length-F);const N=parseInt(R.substring(F,F+O),S);O<8?(O=p(Math.pow(S,O)),V=V.j(O).add(p(N))):(V=V.j(C),V=V.add(p(N)))}return V}var b=d(0),w=d(1),I=d(16777216);t=u.prototype,t.m=function(){if(P(this))return-z(this).m();let R=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);R+=(V>=0?V:4294967296+V)*S,S*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(M(this))return"0";if(P(this))return"-"+z(this).toString(R);const S=p(Math.pow(R,6));var C=this;let V="";for(;;){const O=re(C,S).g;C=Z(C,O.j(S));let F=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=O,M(C))return F+V;for(;F.length<6;)F="0"+F;V=F+V}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function M(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function P(R){return R.h==-1}t.l=function(R){return R=Z(this,R),P(R)?-1:M(R)?0:1};function z(R){const S=R.g.length,C=[];for(let V=0;V<S;V++)C[V]=~R.g[V];return new u(C,~R.h).add(w)}t.abs=function(){return P(this)?z(this):this},t.add=function(R){const S=Math.max(this.g.length,R.g.length),C=[];let V=0;for(let O=0;O<=S;O++){let F=V+(this.i(O)&65535)+(R.i(O)&65535),N=(F>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);V=N>>>16,F&=65535,N&=65535,C[O]=N<<16|F}return new u(C,C[C.length-1]&-2147483648?-1:0)};function Z(R,S){return R.add(z(S))}t.j=function(R){if(M(this)||M(R))return b;if(P(this))return P(R)?z(this).j(z(R)):z(z(this).j(R));if(P(R))return z(this.j(z(R)));if(this.l(I)<0&&R.l(I)<0)return p(this.m()*R.m());const S=this.g.length+R.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<R.g.length;O++){const F=this.i(V)>>>16,N=this.i(V)&65535,qe=R.i(O)>>>16,Ze=R.i(O)&65535;C[2*V+2*O]+=N*Ze,K(C,2*V+2*O),C[2*V+2*O+1]+=F*Ze,K(C,2*V+2*O+1),C[2*V+2*O+1]+=N*qe,K(C,2*V+2*O+1),C[2*V+2*O+2]+=F*qe,K(C,2*V+2*O+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new u(C,0)};function K(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function U(R,S){this.g=R,this.h=S}function re(R,S){if(M(S))throw Error("division by zero");if(M(R))return new U(b,b);if(P(R))return S=re(z(R),S),new U(z(S.g),z(S.h));if(P(S))return S=re(R,z(S)),new U(z(S.g),S.h);if(R.g.length>30){if(P(R)||P(S))throw Error("slowDivide_ only works with positive integers.");for(var C=w,V=S;V.l(R)<=0;)C=te(C),V=te(V);var O=he(C,1),F=he(V,1);for(V=he(V,2),C=he(C,2);!M(V);){var N=F.add(V);N.l(R)<=0&&(O=O.add(C),F=N),V=he(V,1),C=he(C,1)}return S=Z(R,O.j(S)),new U(O,S)}for(O=b;R.l(S)>=0;){for(C=Math.max(1,Math.floor(R.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),F=p(C),N=F.j(S);P(N)||N.l(R)>0;)C-=V,F=p(C),N=F.j(S);M(F)&&(F=w),O=O.add(F),R=Z(R,N)}return new U(O,R)}t.B=function(R){return re(this,R).h},t.and=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&R.i(V);return new u(C,this.h&R.h)},t.or=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|R.i(V);return new u(C,this.h|R.h)},t.xor=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^R.i(V);return new u(C,this.h^R.h)};function te(R){const S=R.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new u(C,R.h)}function he(R,S){const C=S>>5;S%=32;const V=R.g.length-C,O=[];for(let F=0;F<V;F++)O[F]=S>0?R.i(F+C)>>>S|R.i(F+C+1)<<32-S:R.i(F+C);return new u(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DS=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,sa=u}).apply(typeof dw<"u"?dw:typeof self<"u"?self:typeof window<"u"?window:{});var rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var OS,Ic,MS,vf,Ly,PS,VS,jS;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof rf=="object"&&rf];for(var _=0;_<f.length;++_){var T=f[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(f,_){if(_)e:{var T=r;f=f.split(".");for(var A=0;A<f.length-1;A++){var $=f[A];if(!($ in T))break e;T=T[$]}f=f[f.length-1],A=T[f],_=_(A),_!=A&&_!=null&&e(T,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var T=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&T.push([A,_[A]]);return T}});var o=o||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,T){return f.call.apply(f.bind,arguments)}function p(f,_,T){return p=d,p.apply(null,arguments)}function y(f,_){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function b(f,_){function T(){}T.prototype=_.prototype,f.Z=_.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(A,$,Y){for(var pe=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)pe[Me-2]=arguments[Me];return _.prototype[$].apply(A,pe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function I(f){const _=f.length;if(_>0){const T=Array(_);for(let A=0;A<_;A++)T[A]=f[A];return T}return[]}function M(f,_){for(let A=1;A<arguments.length;A++){const $=arguments[A];var T=typeof $;if(T=T!="object"?T:$?Array.isArray($)?"array":T:"null",T=="array"||T=="object"&&typeof $.length=="number"){T=f.length||0;const Y=$.length||0;f.length=T+Y;for(let pe=0;pe<Y;pe++)f[T+pe]=$[pe]}else f.push($)}}class P{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function z(f){u.setTimeout(()=>{throw f},0)}function Z(){var f=R;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class K{constructor(){this.h=this.g=null}add(_,T){const A=U.get();A.set(_,T),this.h?this.h.next=A:this.g=A,this.h=A}}var U=new P(()=>new re,f=>f.reset());class re{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let te,he=!1,R=new K,S=()=>{const f=Promise.resolve(void 0);te=()=>{f.then(C)}};function C(){for(var f;f=Z();){try{f.h.call(f.g)}catch(T){z(T)}var _=U;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}he=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return f})();function N(f){return/^[\s\xa0]*$/.test(f)}function qe(f,_){O.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}b(qe,O),qe.prototype.init=function(f,_){const T=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(T=="mouseover"?_=f.fromElement:T=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),X=0;function de(f,_,T,A,$){this.listener=f,this.proxy=null,this.src=_,this.type=T,this.capture=!!A,this.ha=$,this.key=++X,this.da=this.fa=!1}function oe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f,_,T){for(const A in f)_.call(T,f[A],A,f)}function je(f,_){for(const T in f)_.call(void 0,f[T],T,f)}function k(f){const _={};for(const T in f)_[T]=f[T];return _}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(f,_){let T,A;for(let $=1;$<arguments.length;$++){A=arguments[$];for(T in A)f[T]=A[T];for(let Y=0;Y<J.length;Y++)T=J[Y],Object.prototype.hasOwnProperty.call(A,T)&&(f[T]=A[T])}}function ue(f){this.src=f,this.g={},this.h=0}ue.prototype.add=function(f,_,T,A,$){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const pe=we(f,_,A,$);return pe>-1?(_=f[pe],T||(_.fa=!1)):(_=new de(_,this.src,Y,!!A,$),_.fa=T,f.push(_)),_};function fe(f,_){const T=_.type;if(T in f.g){var A=f.g[T],$=Array.prototype.indexOf.call(A,_,void 0),Y;(Y=$>=0)&&Array.prototype.splice.call(A,$,1),Y&&(oe(_),f.g[T].length==0&&(delete f.g[T],f.h--))}}function we(f,_,T,A){for(let $=0;$<f.length;++$){const Y=f[$];if(!Y.da&&Y.listener==_&&Y.capture==!!T&&Y.ha==A)return $}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),gt={};function Je(f,_,T,A,$){if(Array.isArray(_)){for(let Y=0;Y<_.length;Y++)Je(f,_[Y],T,A,$);return null}return T=yt(T),f&&f[Ze]?f.J(_,T,h(A)?!!A.capture:!1,$):An(f,_,T,!1,A,$)}function An(f,_,T,A,$,Y){if(!_)throw Error("Invalid event type");const pe=h($)?!!$.capture:!!$;let Me=As(f);if(Me||(f[ye]=Me=new ue(f)),T=Me.add(_,T,A,pe,Y),T.proxy)return T;if(A=Kn(),T.proxy=A,A.src=f,A.listener=T,f.addEventListener)F||($=pe),$===void 0&&($=!1),f.addEventListener(_.toString(),A,$);else if(f.attachEvent)f.attachEvent(or(_.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Kn(){function f(T){return _.call(f.src,f.listener,T)}const _=ya;return f}function Vn(f,_,T,A,$){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)Vn(f,_[Y],T,A,$);else A=h(A)?!!A.capture:!!A,T=yt(T),f&&f[Ze]?(f=f.i,Y=String(_).toString(),Y in f.g&&(_=f.g[Y],T=we(_,T,A,$),T>-1&&(oe(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete f.g[Y],f.h--)))):f&&(f=As(f))&&(_=f.g[_.toString()],f=-1,_&&(f=we(_,T,A,$)),(T=f>-1?_[f]:null)&&ui(T))}function ui(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Ze])fe(_.i,f);else{var T=f.type,A=f.proxy;_.removeEventListener?_.removeEventListener(T,A,f.capture):_.detachEvent?_.detachEvent(or(T),A):_.addListener&&_.removeListener&&_.removeListener(A),(T=As(_))?(fe(T,f),T.h==0&&(T.src=null,_[ye]=null)):oe(f)}}}function or(f){return f in gt?gt[f]:gt[f]="on"+f}function ya(f,_){if(f.da)f=!0;else{_=new qe(_,this);const T=f.listener,A=f.ha||f.src;f.fa&&ui(f),f=T.call(A,_)}return f}function As(f){return f=f[ye],f instanceof ue?f:null}var Ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function yt(f){return typeof f=="function"?f:(f[Ye]||(f[Ye]=function(_){return f.handleEvent(_)}),f[Ye])}function Ue(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}b(Ue,V),Ue.prototype[Ze]=!0,Ue.prototype.removeEventListener=function(f,_,T,A){Vn(this,f,_,T,A)};function _t(f,_){var T,A=f.G;if(A)for(T=[];A;A=A.G)T.push(A);if(f=f.M,A=_.type||_,typeof _=="string")_=new O(_,f);else if(_ instanceof O)_.target=_.target||f;else{var $=_;_=new O(A,f),le(_,$)}$=!0;let Y,pe;if(T)for(pe=T.length-1;pe>=0;pe--)Y=_.g=T[pe],$=ci(Y,A,!0,_)&&$;if(Y=_.g=f,$=ci(Y,A,!0,_)&&$,$=ci(Y,A,!1,_)&&$,T)for(pe=0;pe<T.length;pe++)Y=_.g=T[pe],$=ci(Y,A,!1,_)&&$}Ue.prototype.N=function(){if(Ue.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const T=f.g[_];for(let A=0;A<T.length;A++)oe(T[A]);delete f.g[_],f.h--}}this.G=null},Ue.prototype.J=function(f,_,T,A){return this.i.add(String(f),_,!1,T,A)},Ue.prototype.K=function(f,_,T,A){return this.i.add(String(f),_,!0,T,A)};function ci(f,_,T,A){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let $=!0;for(let Y=0;Y<_.length;++Y){const pe=_[Y];if(pe&&!pe.da&&pe.capture==T){const Me=pe.listener,zt=pe.ha||pe.src;pe.fa&&fe(f.i,pe),$=Me.call(zt,A)!==!1&&$}}return $&&!A.defaultPrevented}function np(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Ah(f){f.g=np(()=>{f.g=null,f.i&&(f.i=!1,Ah(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class In extends V{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ah(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _a(f){V.call(this),this.h=f,this.g={}}b(_a,V);var yu=[];function _u(f){De(f.g,function(_,T){this.g.hasOwnProperty(T)&&ui(_)},f),f.g={}}_a.prototype.N=function(){_a.Z.N.call(this),_u(this)},_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=u.JSON.stringify,rp=u.JSON.parse,Ih=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Rh(){}function Ch(){}var Cr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function hn(){O.call(this,"d")}b(hn,O);function lr(){O.call(this,"c")}b(lr,O);var jt={},Nh=null;function Po(){return Nh=Nh||new Ue}jt.Ia="serverreachability";function kh(f){O.call(this,jt.Ia,f)}b(kh,O);function Kr(f){const _=Po();_t(_,new kh(_))}jt.STAT_EVENT="statevent";function va(f,_){O.call(this,jt.STAT_EVENT,f),this.stat=_}b(va,O);function qt(f){const _=Po();_t(_,new va(_,f))}jt.Ja="timingevent";function Qr(f,_){O.call(this,jt.Ja,f),this.size=_}b(Qr,O);function Zr(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function Nr(){this.g=!0}Nr.prototype.ua=function(){this.g=!1};function sp(f,_,T,A,$,Y){f.info(function(){if(f.g)if(Y){var pe="",Me=Y.split("&");for(let nt=0;nt<Me.length;nt++){var zt=Me[nt].split("=");if(zt.length>1){const Tt=zt[0];zt=zt[1];const dr=Tt.split("_");pe=dr.length>=2&&dr[1]=="type"?pe+(Tt+"="+zt+"&"):pe+(Tt+"=redacted&")}}}else pe=null;else pe=Y;return"XMLHTTP REQ ("+A+") [attempt "+$+"]: "+_+`
`+T+`
`+pe})}function Dh(f,_,T,A,$,Y,pe){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+$+"]: "+_+`
`+T+`
`+Y+" "+pe})}function Yr(f,_,T,A){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+ip(f,T)+(A?" "+A:"")})}function ba(f,_){f.info(function(){return"TIMEOUT: "+_})}Nr.prototype.info=function(){};function ip(f,_){if(!f.g)return _;if(!_)return null;try{const Y=JSON.parse(_);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var T=Y[f];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var $=A[0];if($!="noop"&&$!="stop"&&$!="close")for(let pe=1;pe<A.length;pe++)A[pe]=""}}}}return hi(Y)}catch{return _}}var Ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bu;function Ta(){}b(Ta,Rh),Ta.prototype.g=function(){return new XMLHttpRequest},bu=new Ta;function Is(f){return encodeURIComponent(String(f))}function Oh(f){var _=1;f=f.split(":");const T=[];for(;_>0&&f.length;)T.push(f.shift()),_--;return f.length&&T.push(f.join(":")),T}function kr(f,_,T,A){this.j=f,this.i=_,this.l=T,this.S=A||1,this.V=new _a(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Dr}function Dr(){this.i=null,this.g="",this.h=!1}var $t={},on={};function Xr(f,_,T){f.M=1,f.A=wa(Gt(_)),f.u=T,f.R=!0,Vo(f,null)}function Vo(f,_){f.F=Date.now(),Jr(f),f.B=Gt(f.A);var T=f.B,A=f.S;Array.isArray(A)||(A=[String(A)]),Uo(T.i,"t",A),f.C=0,T=f.j.L,f.h=new Dr,f.g=Qh(f.j,T?_:null,!f.u),f.P>0&&(f.O=new In(p(f.Y,f,f.g),f.P)),_=f.V,T=f.g,A=f.ba;var $="readystatechange";Array.isArray($)||($&&(yu[0]=$.toString()),$=yu);for(let Y=0;Y<$.length;Y++){const pe=Je(T,$[Y],A||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=f.J?k(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Kr(),sp(f.i,f.v,f.B,f.l,f.S,f.u)}kr.prototype.ba=function(f){f=f.target;const _=this.O;_&&Pr(f)==3?_.j():this.Y(f)},kr.prototype.Y=function(f){try{if(f==this.g)e:{const Me=Pr(this.g),zt=this.g.ya(),nt=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||dn(this.g)))){this.K||Me!=4||zt==7||(zt==8||nt<=0?Kr(3):Kr(2)),Wr(this);var _=this.g.ca();this.X=_;var T=ap(this);if(this.o=_==200,Dh(this.i,this.v,this.B,this.l,this.S,Me,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,$=this.g;if((A=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var Y=A;break t}}Y=null}if(f=Y)Yr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,es(this,f);else{this.o=!1,this.m=3,qt(12),Qn(this),ur(this);break e}}if(this.R){f=!0;let Tt;for(;!this.K&&this.C<T.length;)if(Tt=Ph(this,T),Tt==on){Me==4&&(this.m=4,qt(14),f=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==$t){this.m=4,qt(15),Yr(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Yr(this.i,this.l,Tt,null),es(this,Tt);if(Mh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||T.length!=0||this.h.h||(this.m=1,qt(16),f=!1),this.o=this.o&&f,!f)Yr(this.i,this.l,T,"[Invalid Chunked Response]"),Qn(this),ur(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Pu(pe),pe.P=!0,qt(11))}}else Yr(this.i,this.l,T,null),es(this,T);Me==4&&Qn(this),this.o&&!this.K&&(Me==4?$h(this.j,this):(this.o=!1,Jr(this)))}else Cs(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Qn(this),ur(this)}}}catch{}};function ap(f){if(!Mh(f))return f.g.la();const _=dn(f.g);if(_==="")return"";let T="";const A=_.length,$=Pr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Qn(f),ur(f),"";f.h.i=new u.TextDecoder}for(let Y=0;Y<A;Y++)f.h.h=!0,T+=f.h.i.decode(_[Y],{stream:!($&&Y==A-1)});return _.length=0,f.h.g+=T,f.C=0,f.h.g}function Mh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ph(f,_){var T=f.C,A=_.indexOf(`
`,T);return A==-1?on:(T=Number(_.substring(T,A)),isNaN(T)?$t:(A+=1,A+T>_.length?on:(_=_.slice(A,A+T),f.C=A+T,_)))}kr.prototype.cancel=function(){this.K=!0,Qn(this)};function Jr(f){f.T=Date.now()+f.H,jo(f,f.H)}function jo(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Zr(p(f.aa,f),_)}function Wr(f){f.D&&(u.clearTimeout(f.D),f.D=null)}kr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ba(this.i,this.B),this.M!=2&&(Kr(),qt(17)),Qn(this),this.m=2,ur(this)):jo(this,this.T-f)};function ur(f){f.j.I==0||f.K||$h(f.j,f)}function Qn(f){Wr(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,_u(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function es(f,_){try{var T=f.j;if(T.I!=0&&(T.g==f||ns(T.h,f))){if(!f.L&&ns(T.h,f)&&T.I==3){try{var A=T.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var $=A;if($[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)Ho(T),vi(T);else break e;Na(T),qt(18)}}else T.xa=$[1],0<T.xa-T.K&&$[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Zr(p(T.Va,T),6e3));ts(T.h)<=1&&T.ta&&(T.ta=void 0)}else ls(T,11)}else if((f.L||T.g==f)&&Ho(T),!N(_))for($=T.Ba.g.parse(_),_=0;_<$.length;_++){let nt=$[_];const Tt=nt[0];if(!(Tt<=T.K))if(T.K=Tt,nt=nt[1],T.I==2)if(nt[0]=="c"){T.M=nt[1],T.ba=nt[2];const dr=nt[3];dr!=null&&(T.ka=dr,T.j.info("VER="+T.ka));const us=nt[4];us!=null&&(T.za=us,T.j.info("SVER="+T.za));const Vr=nt[5];Vr!=null&&typeof Vr=="number"&&Vr>0&&(A=1.5*Vr,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const jr=f.g;if(jr){const ka=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ka){var Y=A.h;Y.g||ka.indexOf("spdy")==-1&&ka.indexOf("quic")==-1&&ka.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(wu(Y,Y.h),Y.h=null))}if(A.G){const Go=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(A.wa=Go,it(A.J,A.G,Go))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var pe=f;if(A.na=Kh(A,A.L?A.ba:null,A.W),pe.L){xu(A.h,pe);var Me=pe,zt=A.O;zt&&(Me.H=zt),Me.D&&(Wr(Me),Jr(Me)),A.g=pe}else Bh(A);T.i.length>0&&os(T)}else nt[0]!="stop"&&nt[0]!="close"||ls(T,7);else T.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ls(T,7):Ou(T):nt[0]!="noop"&&T.l&&T.l.qa(nt),T.A=0)}}Kr(4)}catch{}}var Ht=class{constructor(f,_){this.g=f,this.map=_}};function Eu(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ts(f){return f.h?1:f.g?f.g.size:0}function ns(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function wu(f,_){f.g?f.g.add(_):f.h=_}function xu(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Eu.prototype.cancel=function(){if(this.i=Su(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Su(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const T of f.g.values())_=_.concat(T.G);return _}return I(f.i)}var Vh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zo(f,_){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const A=f[T].indexOf("=");let $,Y=null;A>=0?($=f[T].substring(0,A),Y=f[T].substring(A+1)):$=f[T],_($,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Zn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Zn?(this.l=f.l,ln(this,f.j),this.o=f.o,this.g=f.g,di(this,f.u),this.h=f.h,Au(this,Uh(f.i)),this.m=f.m):f&&(_=String(f).match(Vh))?(this.l=!1,ln(this,_[1]||"",!0),this.o=rs(_[2]||""),this.g=rs(_[3]||"",!0),di(this,_[4]),this.h=rs(_[5]||"",!0),Au(this,_[6]||"",!0),this.m=rs(_[7]||"")):(this.l=!1,this.i=new mi(null,this.l))}Zn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(xa(_,Lo,!0),":");var T=this.g;return(T||_=="file")&&(f.push("//"),(_=this.o)&&f.push(xa(_,Lo,!0),"@"),f.push(Is(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(xa(T,T.charAt(0)=="/"?Iu:jh,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",xa(T,zh)),f.join("")},Zn.prototype.resolve=function(f){const _=Gt(this);let T=!!f.j;T?ln(_,f.j):T=!!f.o,T?_.o=f.o:T=!!f.g,T?_.g=f.g:T=f.u!=null;var A=f.h;if(T)di(_,f.u);else if(T=!!f.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var $=_.h.lastIndexOf("/");$!=-1&&(A=_.h.slice(0,$+1)+A)}if($=A,$==".."||$==".")A="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){A=$.lastIndexOf("/",0)==0,$=$.split("/");const Y=[];for(let pe=0;pe<$.length;){const Me=$[pe++];Me=="."?A&&pe==$.length&&Y.push(""):Me==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&pe==$.length&&Y.push("")):(Y.push(Me),A=!0)}A=Y.join("/")}else A=$}return T?_.h=A:T=f.i.toString()!=="",T?Au(_,Uh(f.i)):T=!!f.m,T&&(_.m=f.m),_};function Gt(f){return new Zn(f)}function ln(f,_,T){f.j=T?rs(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function di(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Au(f,_,T){_ instanceof mi?(f.i=_,Fo(f.i,f.l)):(T||(_=xa(_,fi)),f.i=new mi(_,f.l))}function it(f,_,T){f.i.set(_,T)}function wa(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function rs(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xa(f,_,T){return typeof f=="string"?(f=encodeURI(f).replace(_,jn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function jn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Lo=/[#\/\?@]/g,jh=/[#\?:]/g,Iu=/[#\?]/g,fi=/[#\?@]/g,zh=/#/g;function mi(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function zn(f){f.g||(f.g=new Map,f.h=0,f.i&&zo(f.i,function(_,T){f.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=mi.prototype,t.add=function(f,_){zn(this),this.i=null,f=pi(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(_),this.h+=1,this};function Lh(f,_){zn(f),_=pi(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Ru(f,_){return zn(f),_=pi(f,_),f.g.has(_)}t.forEach=function(f,_){zn(this),this.g.forEach(function(T,A){T.forEach(function($){f.call(_,$,A,this)},this)},this)};function Cu(f,_){zn(f);let T=[];if(typeof _=="string")Ru(f,_)&&(T=T.concat(f.g.get(pi(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)T=T.concat(f[_]);return T}t.set=function(f,_){return zn(this),this.i=null,f=pi(this,f),Ru(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Cu(this,f),f.length>0?String(f[0]):_):_};function Uo(f,_,T){Lh(f,_),T.length>0&&(f.i=null,f.g.set(pi(f,_),I(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var T=_[A];const $=Is(T);T=Cu(this,T);for(let Y=0;Y<T.length;Y++){let pe=$;T[Y]!==""&&(pe+="="+Is(T[Y])),f.push(pe)}}return this.i=f.join("&")};function Uh(f){const _=new mi;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function pi(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Fo(f,_){_&&!f.j&&(zn(f),f.i=null,f.g.forEach(function(T,A){const $=A.toLowerCase();A!=$&&(Lh(this,A),Uo(this,$,T))},f)),f.j=_}function Or(f,_){const T=new Nr;if(u.Image){const A=new Image;A.onload=y(cr,T,"TestLoadImage: loaded",!0,_,A),A.onerror=y(cr,T,"TestLoadImage: error",!1,_,A),A.onabort=y(cr,T,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(cr,T,"TestLoadImage: timeout",!1,_,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else _(!1)}function Nu(f,_){const T=new Nr,A=new AbortController,$=setTimeout(()=>{A.abort(),cr(T,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:A.signal}).then(Y=>{clearTimeout($),Y.ok?cr(T,"TestPingServer: ok",!0,_):cr(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),cr(T,"TestPingServer: error",!1,_)})}function cr(f,_,T,A,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),A(T)}catch{}}function gi(){this.g=new Ih}function ss(f){this.i=f.Sb||null,this.h=f.ab||!1}b(ss,Rh),ss.prototype.g=function(){return new Sa(this.i,this.h)};function Sa(f,_){Ue.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Sa,Ue),t=Sa.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Mr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Bo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?yi(this):Mr(this),this.readyState==3&&Bo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,yi(this))},t.Na=function(f){this.g&&(this.response=f,yi(this))},t.ga=function(){this.g&&yi(this)};function yi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Mr(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=_.next();return f.join(`\r
`)};function Mr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function hr(f){let _="";return De(f,function(T,A){_+=A,_+=":",_+=T,_+=`\r
`}),_}function Aa(f,_,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=hr(T),typeof f=="string"?T!=null&&Is(T):it(f,_,T))}function dt(f){Ue.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(dt,Ue);var is=/^https?$/i,ku=["POST","PUT"];t=dt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bu.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Y){Ia(this,Y);return}if(f=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var $ in A)T.set($,A[$]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())T.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),$=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(ku,_,void 0)>=0)||A||$||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,pe]of T)this.g.setRequestHeader(Y,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){Ia(this,Y)}};function Ia(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Du(f),Rs(f)}function Du(f){f.A||(f.A=!0,_t(f,"complete"),_t(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,_t(this,"complete"),_t(this,"abort"),Rs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rs(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ra(this):this.Xa())},t.Xa=function(){Ra(this)};function Ra(f){if(f.h&&typeof o<"u"){if(f.v&&Pr(f)==4)setTimeout(f.Ca.bind(f),0);else if(_t(f,"readystatechange"),Pr(f)==4){f.h=!1;try{const Y=f.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var A;if(A=Y===0){let pe=String(f.D).match(Vh)[1]||null;!pe&&u.self&&u.self.location&&(pe=u.self.location.protocol.slice(0,-1)),A=!is.test(pe?pe.toLowerCase():"")}T=A}if(T)_t(f,"complete"),_t(f,"success");else{f.o=6;try{var $=Pr(f)>2?f.g.statusText:""}catch{$=""}f.l=$+" ["+f.ca()+"]",Du(f)}}finally{Rs(f)}}}}function Rs(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,_||_t(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Pr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Pr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),rp(_)}};function dn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Cs(f){const _={};f=(f.g&&Pr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(N(f[A]))continue;var T=Oh(f[A]);const $=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=_[$]||[];_[$]=Y,Y.push(T)}je(_,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(f,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||_}function _i(f){this.za=0,this.i=[],this.j=new Nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=as("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=as("baseRetryDelayMs",5e3,f),this.Za=as("retryDelaySeedMs",1e4,f),this.Ta=as("forwardChannelMaxRetries",2,f),this.va=as("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Eu(f&&f.concurrentRequestLimit),this.Ba=new gi,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=_i.prototype,t.ka=8,t.I=1,t.connect=function(f,_,T,A){qt(0),this.W=f,this.H=_||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=Kh(this,null,this.W),os(this)};function Ou(f){if(qo(f),f.I==3){var _=f.V++,T=Gt(f.J);if(it(T,"SID",f.M),it(T,"RID",_),it(T,"TYPE","terminate"),Ca(f,T),_=new kr(f,f.j,_),_.M=2,_.A=wa(Gt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=Qh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Jr(_)}Gh(f)}function vi(f){f.g&&(Pu(f),f.g.cancel(),f.g=null)}function qo(f){vi(f),f.v&&(u.clearTimeout(f.v),f.v=null),Ho(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function os(f){if(!Tu(f.h)&&!f.m){f.m=!0;var _=f.Ea;te||S(),he||(te(),he=!0),R.add(_,f),f.D=0}}function $o(f,_){return ts(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Zr(p(f.Ea,f,_),Hh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const $=new kr(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=k(Y),le(Y,this.U)):Y=this.U),this.u!==null||this.R||($.J=Y,Y=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Fh(this,$,_),T=Gt(this.J),it(T,"RID",f),it(T,"CVER",22),this.G&&it(T,"X-HTTP-Session-Id",this.G),Ca(this,T),Y&&(this.R?_="headers="+Is(hr(Y))+"&"+_:this.u&&Aa(T,this.u,Y)),wu(this.h,$),this.Ra&&it(T,"TYPE","init"),this.S?(it(T,"$req",_),it(T,"SID","null"),$.U=!0,Xr($,T,null)):Xr($,T,_),this.I=2}}else this.I==3&&(f?Mu(this,f):this.i.length==0||Tu(this.h)||Mu(this))};function Mu(f,_){var T;_?T=_.l:T=f.V++;const A=Gt(f.J);it(A,"SID",f.M),it(A,"RID",T),it(A,"AID",f.K),Ca(f,A),f.u&&f.o&&Aa(A,f.u,f.o),T=new kr(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Fh(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),wu(f.h,T),Xr(T,A,_)}function Ca(f,_){f.H&&De(f.H,function(T,A){it(_,A,T)}),f.l&&De({},function(T,A){it(_,A,T)})}function Fh(f,_,T){T=Math.min(f.i.length,T);const A=f.l?p(f.l.Ka,f.l,f):null;e:{var $=f.i;let Me=-1;for(;;){const zt=["count="+T];Me==-1?T>0?(Me=$[0].g,zt.push("ofs="+Me)):Me=0:zt.push("ofs="+Me);let nt=!0;for(let Tt=0;Tt<T;Tt++){var Y=$[Tt].g;const dr=$[Tt].map;if(Y-=Me,Y<0)Me=Math.max(0,$[Tt].g-100),nt=!1;else try{Y="req"+Y+"_"||"";try{var pe=dr instanceof Map?dr:Object.entries(dr);for(const[us,Vr]of pe){let jr=Vr;h(Vr)&&(jr=hi(Vr)),zt.push(Y+us+"="+encodeURIComponent(jr))}}catch(us){throw zt.push(Y+"type="+encodeURIComponent("_badmap")),us}}catch{A&&A(dr)}}if(nt){pe=zt.join("&");break e}}pe=void 0}return f=f.i.splice(0,T),_.G=f,pe}function Bh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;te||S(),he||(te(),he=!0),R.add(_,f),f.A=0}}function Na(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Zr(p(f.Da,f),Hh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,qh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Zr(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),vi(this),qh(this))};function Pu(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function qh(f){f.g=new kr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Gt(f.na);it(_,"RID","rpc"),it(_,"SID",f.M),it(_,"AID",f.K),it(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(_,"TO",f.ia),it(_,"TYPE","xmlhttp"),Ca(f,_),f.u&&f.o&&Aa(_,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=wa(Gt(_)),T.u=null,T.R=!0,Vo(T,f)}t.Va=function(){this.C!=null&&(this.C=null,vi(this),Na(this),qt(19))};function Ho(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function $h(f,_){var T=null;if(f.g==_){Ho(f),Pu(f),f.g=null;var A=2}else if(ns(f.h,_))T=_.G,xu(f.h,_),A=1;else return;if(f.I!=0){if(_.o)if(A==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var $=f.D;A=Po(),_t(A,new Qr(A,T)),os(f)}else Bh(f);else if($=_.m,$==3||$==0&&_.X>0||!(A==1&&$o(f,_)||A==2&&Na(f)))switch(T&&T.length>0&&(_=f.h,_.i=_.i.concat(T)),$){case 1:ls(f,5);break;case 4:ls(f,10);break;case 3:ls(f,6);break;default:ls(f,2)}}}function Hh(f,_){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*_}function ls(f,_){if(f.j.info("Error code "+_),_==2){var T=p(f.bb,f),A=f.Ua;const $=!A;A=new Zn(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ln(A,"https"),wa(A),$?Or(A.toString(),T):Nu(A.toString(),T)}else qt(2);f.I=0,f.l&&f.l.pa(_),Gh(f),qo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Gh(f){if(f.I=0,f.ja=[],f.l){const _=Su(f.h);(_.length!=0||f.i.length!=0)&&(M(f.ja,_),M(f.ja,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.oa()}}function Kh(f,_,T){var A=T instanceof Zn?Gt(T):new Zn(T);if(A.g!="")_&&(A.g=_+"."+A.g),di(A,A.u);else{var $=u.location;A=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;const Y=new Zn(null);A&&ln(Y,A),_&&(Y.g=_),$&&di(Y,$),T&&(Y.h=T),A=Y}return T=f.G,_=f.wa,T&&_&&it(A,T,_),it(A,"VER",f.ka),Ca(f,A),A}function Qh(f,_,T){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new dt(new ss({ab:T})):new dt(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zh(){}t=Zh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function bi(){}bi.prototype.g=function(f,_){return new Rn(f,_)};function Rn(f,_){Ue.call(this),this.g=new _i(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!N(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ns(this)}b(Rn,Ue),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Ou(this.g)},Rn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=hi(f),f=T);_.i.push(new Ht(_.Ya++,f)),_.I==3&&os(_)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Ou(this.g),delete this.g,Rn.Z.N.call(this)};function Yh(f){hn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const T in _){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}b(Yh,hn);function Xh(){lr.call(this),this.status=1}b(Xh,lr);function Ns(f){this.g=f}b(Ns,Zh),Ns.prototype.ra=function(){_t(this.g,"a")},Ns.prototype.qa=function(f){_t(this.g,new Yh(f))},Ns.prototype.pa=function(f){_t(this.g,new Xh)},Ns.prototype.oa=function(){_t(this.g,"b")},bi.prototype.createWebChannel=bi.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,jS=function(){return new bi},VS=function(){return Po()},PS=jt,Ly={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,vf=Ea,vu.COMPLETE="complete",MS=vu,Ch.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",Ue.prototype.listen=Ue.prototype.J,Ic=Ch,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,OS=dt}).apply(typeof rf<"u"?rf:typeof self<"u"?self:typeof window<"u"?window:{});const fw="@firebase/firestore",mw="4.9.3";class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let lu="12.7.0";const yo=new O_("@firebase/firestore");function Cl(){return yo.logLevel}function ce(t,...e){if(yo.logLevel<=Ge.DEBUG){const n=e.map(V_);yo.debug(`Firestore (${lu}): ${t}`,...n)}}function On(t,...e){if(yo.logLevel<=Ge.ERROR){const n=e.map(V_);yo.error(`Firestore (${lu}): ${t}`,...n)}}function _o(t,...e){if(yo.logLevel<=Ge.WARN){const n=e.map(V_);yo.warn(`Firestore (${lu}): ${t}`,...n)}}function V_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zS(t,r,n)}function zS(t,e,n){let r=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw On(r),new Error(r)}function xe(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||zS(e,a,r)}function ke(t,e){return t}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _s{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class LS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(yn.UNAUTHENTICATED)))}shutdown(){}}class cM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hM{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _s,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _s)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new LS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class dM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class j_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=pM(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function Uy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return my(a)===my(o)?Ne(a,o):my(a)?1:-1}return Ne(t.length,e.length)}const gM=55296,yM=57343;function my(t){const e=t.charCodeAt(0);return e>=gM&&e<=yM}function Bl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}function US(t){return t+"\0"}const gw="__name__";class ms{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ms.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ms?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=ms.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ne(e.length,n.length)}static compareSegments(e,n){const r=ms.isNumericId(e),a=ms.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ms.extractNumericId(e).compare(ms.extractNumericId(n)):Uy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sa.fromString(e.substring(4,e.length-2))}}class tt extends ms{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const _M=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends ms{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return _M.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gw}static keyField(){return new Rt([gw])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}function FS(t,e,n){if(!n)throw new me(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vM(t,e,n,r){if(e===!0&&r===!0)throw new me(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yw(t){if(!ge.isDocumentKey(t))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _w(t){if(ge.isDocumentKey(t))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Am(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Am(t);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function bM(t,e){if(e<=0)throw new me(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function dh(t,e){if(!BS(t))throw new me(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new me(ee.INVALID_ARGUMENT,n);return!0}const vw=-62135596800,bw=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*bw);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vw)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bw}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dh(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Jt("string",lt._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new lt(0,0))}static max(){return new Ie(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gc=-1;class qf{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function Fy(t){return t.fields.find((e=>e.kind===2))}function Xa(t){return t.fields.filter((e=>e.kind!==2))}qf.UNKNOWN_ID=-1;class bf{constructor(e,n){this.fieldPath=e,this.kind=n}}class Kc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Kc(0,ar.min())}}function EM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new ar(a,ge.empty(),e)}function qS(t){return new ar(t.readTime,t.key,Gc)}class ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ar(Ie.min(),ge.empty(),Gc)}static max(){return new ar(Ie.max(),ge.empty(),Gc)}}function z_(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}const $S="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function No(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==$S)throw t;ce("LocalStore","Unexpectedly lost primary lease")}class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):q.reject(n)}static resolve(e){return new q(((n,r)=>{n(e)}))}static reject(e){return new q(((n,r)=>{r(e)}))}static waitFor(e){return new q(((n,r)=>{let a=0,o=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&n()}),(d=>r(d)))})),u=!0,o===a&&n()}))}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next((a=>a?q.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new q(((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;n(e[p]).next((y=>{u[p]=y,++h,h===o&&r(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new q(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}const rr="SimpleDb";class Im{static open(e,n,r,a){try{return new Im(n,e.transaction(a,r))}catch(o){throw new Mc(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new _s,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Mc(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=L_(r.target.error);this.S.reject(new Mc(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ce(rr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new wM(n)}}class ia{static delete(e){return ce(rr,"Removing database:",e),Wa(gS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!SS())return!1;if(ia.F())return!0;const e=rn(),n=ia.M(e),r=0<n&&n<10,a=GS(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,ia.M(rn())===12.2&&On("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ce(rr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const u=o.target.result;n(u)},a.onblocked=()=>{r(new Mc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new me(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new me(ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Mc(e,u))},a.onupgradeneeded=o=>{ce(rr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,a.transaction,o.oldVersion,this.version).next((()=>{ce(rr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,a){const o=n==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=Im.open(this.db,e,o?"readonly":"readwrite",r),d=a(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),q.reject(p)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,p=d.name!=="FirebaseError"&&u<3;if(ce(rr,"Transaction failed with error:",d.message,"Retrying:",p),this.close(),!p)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function GS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class TM{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Wa(this.U.delete())}}class Mc extends me{constructor(e,n){super(ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function fa(t){return t.name==="IndexedDbTransactionError"}class wM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ce(rr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ce(rr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wa(r)}add(e){return ce(rr,"ADD",this.store.name,e,e),Wa(this.store.add(e))}get(e){return Wa(this.store.get(e)).next((n=>(n===void 0&&(n=null),ce(rr,"GET",this.store.name,e,n),n)))}delete(e){return ce(rr,"DELETE",this.store.name,e),Wa(this.store.delete(e))}count(){return ce(rr,"COUNT",this.store.name),Wa(this.store.count())}J(e,n){const r=this.options(e,n),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(r.range);return new q(((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}}))}{const o=this.cursor(r),u=[];return this.H(o,((h,d)=>{u.push(d)})).next((()=>u))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new q(((a,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{a(u.target.result)}}))}Z(e,n){ce(rr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const a=this.cursor(r);return this.H(a,((o,u,h)=>h.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.H(a,n)}te(e){const n=this.cursor({});return new q(((r,a)=>{n.onerror=o=>{const u=L_(o.target.error);a(u)},n.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():r()})):r()}}))}H(e,n){const r=[];return new q(((a,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const d=new TM(h),p=n(h.primaryKey,h.value,d);if(p instanceof q){const y=p.catch((b=>(d.done(),q.reject(b))));r.push(y)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Wa(t){return new q(((e,n)=>{t.onsuccess=r=>{const a=r.target.result;e(a)},t.onerror=r=>{const a=L_(r.target.error);n(a)}}))}let Ew=!1;function L_(t){const e=ia.M(rn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ew||(Ew=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Pc="IndexBackfiller";class xM{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ce(Pc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ce(Pc,`Documents written: ${n}`)}catch(n){fa(n)?ce(Pc,"Ignoring IndexedDB error during index backfill: ",n):await No(n)}await this.re(6e4)}))}}class SM{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let a=n,o=!0;return q.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!r.has(u))return ce(Pc,`Processing collection: ${u}`),this.oe(e,u,a).next((h=>{a-=h,r.add(u)}));o=!1})))).next((()=>n-a))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(a,o))).next((h=>(ce(Pc,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,n,h)))).next((()=>u.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((a,o)=>{const u=qS(o);z_(u,r)>0&&(r=u)})),new ar(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class wr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wr.ce=-1;const ao=-1;function Rm(t){return t==null}function Qc(t){return t===0&&1/t==-1/0}function AM(t){return typeof t=="number"&&Number.isInteger(t)&&!Qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const $f="";function xn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Tw(e)),e=IM(t.get(n),e);return Tw(e)}function IM(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case $f:n+="";break;default:n+=o}}return n}function Tw(t){return t+$f+""}function ps(t){const e=t.length;if(xe(e>=2,64408,{path:t}),e===2)return xe(t.charAt(0)===$f&&t.charAt(1)==="",56145,{path:t}),tt.emptyPath();const n=e-2,r=[];let a="";for(let o=0;o<e;){const u=t.indexOf($f,o);switch((u<0||u>n)&&Ee(50515,{path:t}),t.charAt(u+1)){case"":const h=t.substring(o,u);let d;a.length===0?d=h:(a+=h,d=a,a=""),r.push(d);break;case"":a+=t.substring(o,u),a+="\0";break;case"":a+=t.substring(o,u+1);break;default:Ee(61167,{path:t})}o=u+2}return new tt(r)}const Ja="remoteDocuments",fh="owner",Tl="owner",Zc="mutationQueues",RM="userId",Br="mutations",ww="batchId",so="userMutationsIndex",xw=["userId","batchId"];function Ef(t,e){return[t,xn(e)]}function KS(t,e,n){return[t,xn(e),n]}const CM={},ql="documentMutations",Hf="remoteDocumentsV14",NM=["prefixPath","collectionGroup","readTime","documentId"],Tf="documentKeyIndex",kM=["prefixPath","collectionGroup","documentId"],QS="collectionGroupIndex",DM=["collectionGroup","readTime","prefixPath","documentId"],Yc="remoteDocumentGlobal",By="remoteDocumentGlobalKey",$l="targets",ZS="queryTargetsIndex",OM=["canonicalId","targetId"],Hl="targetDocuments",MM=["targetId","path"],U_="documentTargetsIndex",PM=["path","targetId"],Gf="targetGlobalKey",oo="targetGlobal",Xc="collectionParents",VM=["collectionId","parent"],Gl="clientMetadata",jM="clientId",Cm="bundles",zM="bundleId",Nm="namedQueries",LM="name",F_="indexConfiguration",UM="indexId",qy="collectionGroupIndex",FM="collectionGroup",Vc="indexState",BM=["indexId","uid"],YS="sequenceNumberIndex",qM=["uid","sequenceNumber"],jc="indexEntries",$M=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XS="documentKeyIndex",HM=["indexId","uid","orderedDocumentKey"],km="documentOverlays",GM=["userId","collectionPath","documentId"],$y="collectionPathOverlayIndex",KM=["userId","collectionPath","largestBatchId"],JS="collectionGroupOverlayIndex",QM=["userId","collectionGroup","largestBatchId"],B_="globals",ZM="name",WS=[Zc,Br,ql,Ja,$l,fh,oo,Hl,Gl,Yc,Xc,Cm,Nm],YM=[...WS,km],eA=[Zc,Br,ql,Hf,$l,fh,oo,Hl,Gl,Yc,Xc,Cm,Nm,km],tA=eA,q_=[...tA,F_,Vc,jc],XM=q_,nA=[...q_,B_],JM=nA;class Hy extends HS{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function an(t,e){const n=ke(t);return ia.O(n.le,e)}function Sw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class St{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sf(this.root,e,this.comparator,!0)}}class sf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??_n.RED,this.left=a??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new _n(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return _n.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ht{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Aw(this.data.getIterator())}getIteratorFrom(e){return new Aw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class Aw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wl(t){return t.hasNext()?t.getNext():void 0}class xr{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new xr([])}unionWith(e){let n=new ht(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class sA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sA("Invalid base64 string: "+o):o}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const WM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=WM.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ri(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}const iA="server_timestamp",aA="__type__",oA="__previous_value__",lA="__local_write_time__";function Dm(t){return(t?.mapValue?.fields||{})[aA]?.stringValue===iA}function Om(t){const e=t.mapValue.fields[oA];return Dm(e)?Om(e):e}function Jc(t){const e=ni(t.mapValue.fields[lA].timestampValue);return new lt(e.seconds,e.nanos)}class eP{constructor(e,n,r,a,o,u,h,d,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const Kf="(default)";class vo{constructor(e,n){this.projectId=e,this.database=n||Kf}static empty(){return new vo("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof vo&&e.projectId===this.projectId&&e.database===this.database}}const $_="__type__",uA="__max__",Wi={mapValue:{fields:{__type__:{stringValue:uA}}}},H_="__vector__",Kl="value",wf={nullValue:"NULL_VALUE"};function oa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dm(t)?4:cA(t)?9007199254740991:Mm(t)?10:11:Ee(28295,{value:t})}function Ts(t,e){if(t===e)return!0;const n=oa(t);if(n!==oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=ni(a.timestampValue),h=ni(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return ri(a.bytesValue).isEqual(ri(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return xt(a.geoPointValue.latitude)===xt(o.geoPointValue.latitude)&&xt(a.geoPointValue.longitude)===xt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return xt(a.integerValue)===xt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=xt(a.doubleValue),h=xt(o.doubleValue);return u===h?Qc(u)===Qc(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Bl(t.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Sw(u)!==Sw(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Ts(u[d],h[d])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function Wc(t,e){return(t.values||[]).find((n=>Ts(n,e)))!==void 0}function la(t,e){if(t===e)return 0;const n=oa(t),r=oa(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=xt(o.integerValue||o.doubleValue),d=xt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return Iw(t.timestampValue,e.timestampValue);case 4:return Iw(Jc(t),Jc(e));case 5:return Uy(t.stringValue,e.stringValue);case 6:return(function(o,u){const h=ri(o),d=ri(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=Ne(h[p],d[p]);if(y!==0)return y}return Ne(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=Ne(xt(o.latitude),xt(u.latitude));return h!==0?h:Ne(xt(o.longitude),xt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Rw(t.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},d=u.fields||{},p=h[Kl]?.arrayValue,y=d[Kl]?.arrayValue,b=Ne(p?.values?.length||0,y?.values?.length||0);return b!==0?b:Rw(p,y)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Wi.mapValue&&u===Wi.mapValue)return 0;if(o===Wi.mapValue)return 1;if(u===Wi.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let b=0;b<d.length&&b<y.length;++b){const w=Uy(d[b],y[b]);if(w!==0)return w;const I=la(h[d[b]],p[y[b]]);if(I!==0)return I}return Ne(d.length,y.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Iw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=ni(t),r=ni(e),a=Ne(n.seconds,r.seconds);return a!==0?a:Ne(n.nanos,r.nanos)}function Rw(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=la(n[a],r[a]);if(o)return o}return Ne(n.length,r.length)}function Ql(t){return Gy(t)}function Gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ni(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ri(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Gy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${Gy(n.fields[u])}`;return a+"}"})(t.mapValue):Ee(61005,{value:t})}function xf(t){switch(oa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Om(t);return e?16+xf(e):16;case 5:return 2*t.stringValue.length;case 6:return ri(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+xf(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return ko(r.fields,((o,u)=>{a+=o.length+xf(u)})),a})(t.mapValue);default:throw Ee(13486,{value:t})}}function bo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ky(t){return!!t&&"integerValue"in t}function eh(t){return!!t&&"arrayValue"in t}function Cw(t){return!!t&&"nullValue"in t}function Nw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sf(t){return!!t&&"mapValue"in t}function Mm(t){return(t?.mapValue?.fields||{})[$_]?.stringValue===H_}function zc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ko(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=zc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zc(t.arrayValue.values[n]);return e}return{...t}}function cA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uA}const hA={mapValue:{fields:{[$_]:{stringValue:H_},[Kl]:{arrayValue:{}}}}};function tP(t){return"nullValue"in t?wf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?bo(vo.empty(),ge.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Mm(t)?hA:{mapValue:{}}:Ee(35942,{value:t})}function nP(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?bo(vo.empty(),ge.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?hA:"mapValue"in t?Mm(t)?{mapValue:{}}:Wi:Ee(61959,{value:t})}function kw(t,e){const n=la(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Dw(t,e){const n=la(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(n)}setAll(e){let n=Rt.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=zc(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Sf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Sf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ko(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Hn(zc(this.value))}}function dA(t){const e=[];return ko(t.fields,((n,r)=>{const a=new Rt([n]);if(Sf(r)){const o=dA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new xr(e)}class Mt{constructor(e,n,r,a,o,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Mt(e,0,Ie.min(),Ie.min(),Ie.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,a){return new Mt(e,1,n,Ie.min(),r,a,0)}static newNoDocument(e,n){return new Mt(e,2,n,Ie.min(),Ie.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,Ie.min(),Ie.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ua{constructor(e,n){this.position=e,this.inclusive=n}}function Ow(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?r=ge.comparator(ge.fromName(u.referenceValue),n.key):r=la(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ts(t.position[n],e.position[n]))return!1;return!0}class Qf{constructor(e,n="asc"){this.field=e,this.dir=n}}function rP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class fA{}class Ke extends fA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sP(e,n,r):n==="array-contains"?new oP(e,r):n==="in"?new vA(e,r):n==="not-in"?new lP(e,r):n==="array-contains-any"?new uP(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iP(e,r):new aP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(la(n,this.value)):n!==null&&oa(this.value)===oa(n)&&this.matchesComparison(la(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ut extends fA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ut(e,n)}matches(e){return Zl(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zl(t){return t.op==="and"}function Qy(t){return t.op==="or"}function G_(t){return mA(t)&&Zl(t)}function mA(t){for(const e of t.filters)if(e instanceof ut)return!1;return!0}function Zy(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Ql(t.value);if(G_(t))return t.filters.map((e=>Zy(e))).join(",");{const e=t.filters.map((n=>Zy(n))).join(",");return`${t.op}(${e})`}}function pA(t,e){return t instanceof Ke?(function(r,a){return a instanceof Ke&&r.op===a.op&&r.field.isEqual(a.field)&&Ts(r.value,a.value)})(t,e):t instanceof ut?(function(r,a){return a instanceof ut&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,h)=>o&&pA(u,a.filters[h])),!0):!1})(t,e):void Ee(19439)}function gA(t,e){const n=t.filters.concat(e);return ut.create(n,t.op)}function yA(t){return t instanceof Ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ql(n.value)}`})(t):t instanceof ut?(function(n){return n.op.toString()+" {"+n.getFilters().map(yA).join(" ,")+"}"})(t):"Filter"}class sP extends Ke{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class iP extends Ke{constructor(e,n){super(e,"in",n),this.keys=_A("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aP extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=_A("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _A(t,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class oP extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eh(n)&&Wc(n.arrayValue,this.value)}}class vA extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wc(this.value.arrayValue,n)}}class lP extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wc(this.value.arrayValue,n)}}class uP extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Wc(this.value.arrayValue,r)))}}class cP{constructor(e,n=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function Yy(t,e=null,n=[],r=[],a=null,o=null,u=null){return new cP(t,e,n,r,a,o,u)}function Eo(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Zy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Rm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ql(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ql(r))).join(",")),e.Te=n}return e.Te}function mh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mw(t.startAt,e.startAt)&&Mw(t.endAt,e.endAt)}function Zf(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Yf(t,e){return t.filters.filter((n=>n instanceof Ke&&n.field.isEqual(e)))}function Pw(t,e,n){let r=wf,a=!0;for(const o of Yf(t,e)){let u=wf,h=!0;switch(o.op){case"<":case"<=":u=tP(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=wf}kw({value:r,inclusive:a},{value:u,inclusive:h})<0&&(r=u,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const u=n.position[o];kw({value:r,inclusive:a},{value:u,inclusive:n.inclusive})<0&&(r=u,a=n.inclusive);break}}return{value:r,inclusive:a}}function Vw(t,e,n){let r=Wi,a=!0;for(const o of Yf(t,e)){let u=Wi,h=!0;switch(o.op){case">=":case">":u=nP(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Wi}Dw({value:r,inclusive:a},{value:u,inclusive:h})>0&&(r=u,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const u=n.position[o];Dw({value:r,inclusive:a},{value:u,inclusive:n.inclusive})>0&&(r=u,a=n.inclusive);break}}return{value:r,inclusive:a}}class uu{constructor(e,n=null,r=[],a=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hP(t,e,n,r,a,o,u,h){return new uu(t,e,n,r,a,o,u,h)}function ph(t){return new uu(t)}function jw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function K_(t){return t.collectionGroup!==null}function Pl(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ht(Rt.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Qf(o,r))})),n.has(Rt.keyField().canonicalString())||e.Ie.push(new Qf(Rt.keyField(),r))}return e.Ie}function Sr(t){const e=ke(t);return e.Ee||(e.Ee=dP(e,Pl(t))),e.Ee}function dP(t,e){if(t.limitType==="F")return Yy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Qf(a.field,o)}));const n=t.endAt?new ua(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ua(t.startAt.position,t.startAt.inclusive):null;return Yy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xy(t,e){const n=t.filters.concat([e]);return new uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xf(t,e,n){return new uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pm(t,e){return mh(Sr(t),Sr(e))&&t.limitType===e.limitType}function bA(t){return`${Eo(Sr(t))}|lt:${t.limitType}`}function Nl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>yA(a))).join(", ")}]`),Rm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Ql(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Ql(a))).join(",")),`Target(${r})`})(Sr(t))}; limitType=${t.limitType})`}function gh(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ge.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of Pl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,d){const p=Ow(u,h,d);return u.inclusive?p<=0:p<0})(r.startAt,Pl(r),a)||r.endAt&&!(function(u,h,d){const p=Ow(u,h,d);return u.inclusive?p>=0:p>0})(r.endAt,Pl(r),a))})(t,e)}function fP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EA(t){return(e,n)=>{let r=!1;for(const a of Pl(t)){const o=mP(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function mP(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):(function(o,u,h){const d=u.data.field(o),p=h.data.field(o);return d!==null&&p!==null?la(d,p):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:t.dir})}}class oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return rA(this.inner)}size(){return this.innerSize}}const pP=new St(ge.comparator);function sr(){return pP}const TA=new St(ge.comparator);function Rc(...t){let e=TA;for(const n of t)e=e.insert(n.key,n);return e}function wA(t){let e=TA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function gs(){return Lc()}function xA(){return Lc()}function Lc(){return new oi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const gP=new St(ge.comparator),yP=new ht(ge.comparator);function Le(...t){let e=yP;for(const n of t)e=e.add(n);return e}const _P=new ht(Ne);function vP(){return _P}function Q_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function SA(t){return{integerValue:""+t}}function bP(t,e){return AM(e)?SA(e):Q_(t,e)}class Vm{constructor(){this._=void 0}}function EP(t,e,n){return t instanceof Yl?(function(a,o){const u={fields:{[aA]:{stringValue:iA},[lA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Dm(o)&&(o=Om(o)),o&&(u.fields[oA]=o),{mapValue:u}})(n,e):t instanceof Xl?IA(t,e):t instanceof Jl?RA(t,e):(function(a,o){const u=AA(a,o),h=zw(u)+zw(a.Ae);return Ky(u)&&Ky(a.Ae)?SA(h):Q_(a.serializer,h)})(t,e)}function TP(t,e,n){return t instanceof Xl?IA(t,e):t instanceof Jl?RA(t,e):n}function AA(t,e){return t instanceof th?(function(r){return Ky(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Yl extends Vm{}class Xl extends Vm{constructor(e){super(),this.elements=e}}function IA(t,e){const n=CA(e);for(const r of t.elements)n.some((a=>Ts(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Jl extends Vm{constructor(e){super(),this.elements=e}}function RA(t,e){let n=CA(e);for(const r of t.elements)n=n.filter((a=>!Ts(a,r)));return{arrayValue:{values:n}}}class th extends Vm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zw(t){return xt(t.integerValue||t.doubleValue)}function CA(t){return eh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class NA{constructor(e,n){this.field=e,this.transform=n}}function wP(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Xl&&a instanceof Xl||r instanceof Jl&&a instanceof Jl?Bl(r.elements,a.elements,Ts):r instanceof th&&a instanceof th?Ts(r.Ae,a.Ae):r instanceof Yl&&a instanceof Yl})(t.transform,e.transform)}class xP{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Af(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jm{}function kA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zm(t.key,Mn.none()):new cu(t.key,t.data,Mn.none());{const n=t.data,r=Hn.empty();let a=new ht(Rt.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new ma(t.key,r,new xr(a.toArray()),Mn.none())}}function SP(t,e,n){t instanceof cu?(function(a,o,u){const h=a.value.clone(),d=Uw(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ma?(function(a,o,u){if(!Af(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Uw(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(DA(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Uc(t,e,n,r){return t instanceof cu?(function(o,u,h,d){if(!Af(o.precondition,u))return h;const p=o.value.clone(),y=Fw(o.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof ma?(function(o,u,h,d){if(!Af(o.precondition,u))return h;const p=Fw(o.fieldTransforms,d,u),y=u.data;return y.setAll(DA(o)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(o,u,h){return Af(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function AP(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=AA(r.transform,a||null);o!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,o))}return n||null}function Lw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Bl(r,a,((o,u)=>wP(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cu extends jm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ma extends jm{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function DA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Uw(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,TP(u,h,n[a]))}return r}function Fw(t,e,n){const r=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);r.set(a.field,EP(o,u,e))}return r}class zm extends jm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OA extends jm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Z_{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&SP(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xA();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(a.key)?null:h;const d=kA(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((n,r)=>Lw(n,r)))&&Bl(this.baseMutations,e.baseMutations,((n,r)=>Lw(n,r)))}}class Y_{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return gP})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new Y_(e,n,r,a)}}class X_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class IP{constructor(e,n){this.count=e,this.unchangedNames=n}}var Xt,Xe;function RP(t){switch(t){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function MA(t){if(t===void 0)return On("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Xt.OK:return ee.OK;case Xt.CANCELLED:return ee.CANCELLED;case Xt.UNKNOWN:return ee.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return ee.INTERNAL;case Xt.UNAVAILABLE:return ee.UNAVAILABLE;case Xt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Xt.NOT_FOUND:return ee.NOT_FOUND;case Xt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Xt.ABORTED:return ee.ABORTED;case Xt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Xt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:t})}}(Xe=Xt||(Xt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function CP(){return new TextEncoder}const NP=new sa([4294967295,4294967295],0);function Bw(t){const e=CP().encode(t),n=new DS;return n.update(e),new Uint8Array(n.digest())}function qw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sa([n,r],0),new sa([a,o],0)]}class J_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cc(`Invalid padding: ${n}`);if(r<0)throw new Cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=sa.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(sa.fromNumber(r)));return a.compare(NP)===1&&(a=new sa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Bw(e),[r,a]=qw(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new J_(o,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=Bw(e),[r,a]=qw(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lm{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lm(Ie.min(),a,new St(Ne),sr(),Le())}}class yh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yh(r,n,Le(),Le(),Le())}}class If{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class PA{constructor(e,n){this.targetId=e,this.Ce=n}}class VA{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class $w{constructor(){this.ve=0,this.Fe=Hw(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ee(38017,{changeType:o})}})),new yh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Hw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kP{constructor(e){this.Ge=e,this.ze=new Map,this.je=sr(),this.Je=af(),this.He=af(),this.Ye=new St(Ne)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(Zf(o))if(r===0){const u=new ge(o.path);this.et(n,u,Mt.newNoDocument(u,Ie.min()))}else xe(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let u,h;try{u=ri(r).toUint8Array()}catch(d){if(d instanceof sA)return _o("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new J_(u,a,o)}catch(d){return _o(d instanceof Cc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&Zf(h.target)){const d=new ge(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,Mt.newNoDocument(d,e))}o.Be&&(n.set(u,o.ke()),o.qe())}}));let r=Le();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Lm(e,n,this.Ye,this.je,r);return this.je=sr(),this.Je=af(),this.He=af(),this.Ye=new St(Ne),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $w,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ht(Ne),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ht(Ne),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $w),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function af(){return new St(ge.comparator)}function Hw(){return new St(ge.comparator)}const DP={asc:"ASCENDING",desc:"DESCENDING"},OP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MP={and:"AND",or:"OR"};class PP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jy(t,e){return t.useProto3Json||Rm(e)?e:{value:e}}function Wl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VP(t,e){return Wl(t,e.toTimestamp())}function Pn(t){return xe(!!t,49232),Ie.fromTimestamp((function(n){const r=ni(n);return new lt(r.seconds,r.nanos)})(t))}function W_(t,e){return Wy(t,e).canonicalString()}function Wy(t,e){const n=(function(a){return new tt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function zA(t){const e=tt.fromString(t);return xe(KA(e),10190,{key:e.toString()}),e}function Jf(t,e){return W_(t.databaseId,e.path)}function lo(t,e){const n=zA(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(FA(n))}function LA(t,e){return W_(t.databaseId,e)}function UA(t){const e=zA(t);return e.length===4?tt.emptyPath():FA(e)}function e_(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FA(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Gw(t,e,n){return{name:Jf(t,e),fields:n.value.mapValue.fields}}function jP(t,e,n){const r=lo(t,e.name),a=Pn(e.updateTime),o=e.createTime?Pn(e.createTime):Ie.min(),u=new Hn({mapValue:{fields:e.fields}}),h=Mt.newFoundDocument(r,a,o,u);return n&&h.setHasCommittedMutations(),n?h.setHasCommittedMutations():h}function zP(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(p,y){return p.useProto3Json?(xe(y===void 0||typeof y=="string",58123),Wt.fromBase64String(y||"")):(xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Wt.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?ee.UNKNOWN:MA(p.code);return new me(y,p.message||"")})(u);n=new VA(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=lo(t,r.document.name),o=Pn(r.document.updateTime),u=r.document.createTime?Pn(r.document.createTime):Ie.min(),h=new Hn({mapValue:{fields:r.document.fields}}),d=Mt.newFoundDocument(a,o,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];n=new If(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=lo(t,r.document),o=r.readTime?Pn(r.readTime):Ie.min(),u=Mt.newNoDocument(a,o),h=r.removedTargetIds||[];n=new If([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=lo(t,r.document),o=r.removedTargetIds||[];n=new If([],o,a,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new IP(a,o),h=r.targetId;n=new PA(h,u)}}return n}function Wf(t,e){let n;if(e instanceof cu)n={update:Gw(t,e.key,e.value)};else if(e instanceof zm)n={delete:Jf(t,e.key)};else if(e instanceof ma)n={update:Gw(t,e.key,e.data),updateMask:$P(e.fieldMask)};else{if(!(e instanceof OA))return Ee(16599,{Vt:e.type});n={verify:Jf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof Yl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Xl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Jl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof th)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ee(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:VP(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee(27497)})(t,e.precondition)),n}function t_(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Mn.updateTime(Pn(o.updateTime)):o.exists!==void 0?Mn.exists(o.exists):Mn.none()})(e.currentDocument):Mn.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(u,h){let d=null;if("setToServerValue"in h)xe(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Yl;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];d=new Xl(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];d=new Jl(y)}else"increment"in h?d=new th(u,h.increment):Ee(16584,{proto:h});const p=Rt.fromServerFormat(h.fieldPath);return new NA(p,d)})(t,a))):[];if(e.update){e.update.name;const a=lo(t,e.update.name),o=new Hn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(d){const p=d.fieldPaths||[];return new xr(p.map((y=>Rt.fromServerFormat(y))))})(e.updateMask);return new ma(a,o,u,n,r)}return new cu(a,o,n,r)}if(e.delete){const a=lo(t,e.delete);return new zm(a,n)}if(e.verify){const a=lo(t,e.verify);return new OA(a,n)}return Ee(1463,{proto:e})}function LP(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map((n=>(function(a,o){let u=a.updateTime?Pn(a.updateTime):Pn(o);return u.isEqual(Ie.min())&&(u=Pn(o)),new xP(u,a.transformResults||[])})(n,e)))):[]}function BA(t,e){return{documents:[LA(t,e.path)]}}function qA(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LA(t,a);const o=(function(p){if(p.length!==0)return GA(ut.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(p){if(p.length!==0)return p.map((y=>(function(w){return{field:kl(w.field),direction:FP(w.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Jy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function $A(t){let e=UA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){xe(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=(function(b){const w=HA(b);return w instanceof ut&&G_(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((w=>(function(M){return new Qf(Dl(M.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(w)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let w;return w=typeof b=="object"?b.value:b,Rm(w)?null:w})(n.limit));let d=null;n.startAt&&(d=(function(b){const w=!!b.before,I=b.values||[];return new ua(I,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,I=b.values||[];return new ua(I,w)})(n.endAt)),hP(e,a,u,o,h,"F",d,p)}function UP(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Dl(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Dl(n.unaryFilter.field);return Ke.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Dl(n.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Dl(n.unaryFilter.field);return Ke.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ke.create(Dl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ut.create(n.compositeFilter.filters.map((r=>HA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(t):Ee(30097,{filter:t})}function FP(t){return DP[t]}function BP(t){return OP[t]}function qP(t){return MP[t]}function kl(t){return{fieldPath:t.canonicalString()}}function Dl(t){return Rt.fromServerFormat(t.fieldPath)}function GA(t){return t instanceof Ke?(function(n){if(n.op==="=="){if(Nw(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NAN"}};if(Cw(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nw(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NAN"}};if(Cw(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kl(n.field),op:BP(n.op),value:n.value}}})(t):t instanceof ut?(function(n){const r=n.getFilters().map((a=>GA(a)));return r.length===1?r[0]:{compositeFilter:{op:qP(n.op),filters:r}}})(t):Ee(54877,{filter:t})}function $P(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Qs{constructor(e,n,r,a,o=Ie.min(),u=Ie.min(),h=Wt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class QA{constructor(e){this.yt=e}}function HP(t,e){let n;if(e.document)n=jP(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ge.fromSegments(e.noDocument.path),a=wo(e.noDocument.readTime);n=Mt.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee(56709);{const r=ge.fromSegments(e.unknownDocument.path),a=wo(e.unknownDocument.version);n=Mt.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime((function(a){const o=new lt(a[0],a[1]);return Ie.fromTimestamp(o)})(e.readTime)),n}function Kw(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:em(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,u){return{name:Jf(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Wl(o,u.version.toTimestamp()),createTime:Wl(o,u.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:To(e.version)};else{if(!e.isUnknownDocument())return Ee(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:To(e.version)}}return r}function em(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function To(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wo(t){const e=new lt(t.seconds,t.nanoseconds);return Ie.fromTimestamp(e)}function eo(t,e){const n=(e.baseMutations||[]).map((o=>t_(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>t_(t.yt,o))),a=lt.fromMillis(e.localWriteTimeMs);return new Z_(e.batchId,a,n,r)}function Nc(t){const e=wo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?wo(t.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const u=o.documents.length;return xe(u===1,1966,{count:u}),Sr(ph(UA(o.documents[0])))})(t.query):(function(o){return Sr($A(o))})(t.query),new Qs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Wt.fromBase64String(t.resumeToken))}function ZA(t,e){const n=To(e.snapshotVersion),r=To(e.lastLimboFreeSnapshotVersion);let a;a=Zf(e.target)?BA(t.yt,e.target):qA(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Eo(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function YA(t){const e=$A({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xf(e,e.limit,"L"):e}function py(t,e){return new X_(e.largestBatchId,t_(t.yt,e.overlayMutation))}function Qw(t,e){const n=e.path.lastSegment();return[t,xn(e.path.popLast()),n]}function Zw(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:To(r.readTime),documentKey:xn(r.documentKey.path),largestBatchId:r.largestBatchId}}class GP{getBundleMetadata(e,n){return Yw(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:wo(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return Yw(e).put((function(a){return{bundleId:a.id,createTime:To(Pn(a.createTime)),version:a.version}})(n))}getNamedQuery(e,n){return Xw(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:YA(o.bundledQuery),readTime:wo(o.readTime)}})(r)}))}saveNamedQuery(e,n){return Xw(e).put((function(a){return{name:a.name,readTime:To(Pn(a.readTime)),bundledQuery:a.bundledQuery}})(n))}}function Yw(t){return an(t,Cm)}function Xw(t){return an(t,Nm)}class Um{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Um(e,r)}getOverlay(e,n){return Ec(e).get(Qw(this.userId,n)).next((r=>r?py(this.serializer,r):null))}getOverlays(e,n){const r=gs();return q.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){const a=[];return r.forEach(((o,u)=>{const h=new X_(n,u);a.push(this.St(e,h))})),q.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach((u=>a.add(xn(u.getCollectionPath()))));const o=[];return a.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(Ec(e).Z($y,h))})),q.waitFor(o)}getOverlaysForCollection(e,n,r){const a=gs(),o=xn(n),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ec(e).J($y,u).next((h=>{for(const d of h){const p=py(this.serializer,d);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(e,n,r,a){const o=gs();let u;const h=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ec(e).ee({index:JS,range:h},((d,p,y)=>{const b=py(this.serializer,p);o.size()<a||b.largestBatchId===u?(o.set(b.getKey(),b),u=b.largestBatchId):y.done()})).next((()=>o))}St(e,n){return Ec(e).put((function(a,o,u){const[h,d,p]=Qw(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Wf(a.yt,u.mutation)}})(this.serializer,this.userId,n))}}function Ec(t){return an(t,km)}class KP{bt(e){return an(e,B_)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?Wt.fromUint8Array(r):Wt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class to{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Qc(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=ni(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(ri(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?cA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Mm(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ee(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const a of Object.keys(r))this.Ot(a,n),this.Ct(r[a],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const a=Kl,o=r[a].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(xt(o)),this.Ot(a,n),this.Ct(r[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const a of r)this.Ct(a,n)}Lt(e,n){this.Ft(n,37),ge.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}to.Kt=new to;const xl=255;function QP(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function Jw(t){const e=64-(function(r){let a=0;for(let o=0;o<8;++o){const u=QP(255&r[o]);if(a+=u,u!==8)break}return a})(t);return Math.ceil(e/8)}class ZP{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=n.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=n.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const n=this.en(e),r=Jw(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}nn(e){const n=this.en(e),r=Jw(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}rn(){this.sn(xl),this.sn(255)}_n(){this.an(xl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===xl?(this.sn(xl),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===xl?(this.an(xl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class YP{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class XP{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Tc{constructor(){this.cn=new ZP,this.ln=new YP(this.cn),this.hn=new XP(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class no{constructor(e,n,r,a){this.Tn=e,this.In=n,this.En=r,this.dn=a}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new no(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Rf(this.En),directionalValue:Rf(this.dn),orderedDocumentKey:Rf(n),documentKey:r.path.toArray()}}Vn(e,n,r){const a=this.Rn(e,n,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function qi(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=Ww(t.En,e.En),n!==0?n:(n=Ww(t.dn,e.dn),n!==0?n:ge.comparator(t.In,e.In)))}function Ww(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Rf(t){return xS()?(function(n){let r="";for(let a=0;a<n.length;a++)r+=String.fromCharCode(n[a]);return r})(t):t}function ex(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(t)}class tx{constructor(e){this.mn=new ht(((n,r)=>Rt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(xe(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Fy(e);if(n!==void 0&&!this.wn(n))return!1;const r=Xa(e);let a=new Set,o=0,u=0;for(;o<r.length&&this.wn(r[o]);++o)a=a.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=r[o];if(!this.Sn(h,d)||!this.bn(this.fn[u++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.fn.length||!this.bn(this.fn[u++],h))return!1}return!0}Dn(){if(this.pn)return null;let e=new ht(Rt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new bf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new bf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new bf(r.field,r.dir==="asc"?0:1)));return new qf(qf.UNKNOWN_ID,this.collectionId,n,Kc.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function XA(t){if(xe(t instanceof Ke||t instanceof ut,20012),t instanceof Ke){if(t instanceof vA){const n=t.value.arrayValue?.values?.map((r=>Ke.create(t.field,"==",r)))||[];return ut.create(n,"or")}return t}const e=t.filters.map((n=>XA(n)));return ut.create(e,t.op)}function JP(t){if(t.getFilters().length===0)return[];const e=s_(XA(t));return xe(JA(e),7391),n_(e)||r_(e)?[e]:e.getFilters()}function n_(t){return t instanceof Ke}function r_(t){return t instanceof ut&&G_(t)}function JA(t){return n_(t)||r_(t)||(function(n){if(n instanceof ut&&Qy(n)){for(const r of n.getFilters())if(!n_(r)&&!r_(r))return!1;return!0}return!1})(t)}function s_(t){if(xe(t instanceof Ke||t instanceof ut,34018),t instanceof Ke)return t;if(t.filters.length===1)return s_(t.filters[0]);const e=t.filters.map((r=>s_(r)));let n=ut.create(e,t.op);return n=tm(n),JA(n)?n:(xe(n instanceof ut,64498),xe(Zl(n),40251),xe(n.filters.length>1,57927),n.filters.reduce(((r,a)=>ev(r,a))))}function ev(t,e){let n;return xe(t instanceof Ke||t instanceof ut,38388),xe(e instanceof Ke||e instanceof ut,25473),n=t instanceof Ke?e instanceof Ke?(function(a,o){return ut.create([a,o],"and")})(t,e):nx(t,e):e instanceof Ke?nx(e,t):(function(a,o){if(xe(a.filters.length>0&&o.filters.length>0,48005),Zl(a)&&Zl(o))return gA(a,o.getFilters());const u=Qy(a)?a:o,h=Qy(a)?o:a,d=u.filters.map((p=>ev(p,h)));return ut.create(d,"or")})(t,e),tm(n)}function nx(t,e){if(Zl(e))return gA(e,t.getFilters());{const n=e.filters.map((r=>ev(t,r)));return ut.create(n,"or")}}function tm(t){if(xe(t instanceof Ke||t instanceof ut,11850),t instanceof Ke)return t;const e=t.getFilters();if(e.length===1)return tm(e[0]);if(mA(t))return t;const n=e.map((a=>tm(a))),r=[];return n.forEach((a=>{a instanceof Ke?r.push(a):a instanceof ut&&(a.op===t.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:ut.create(r,t.op)}class WP{constructor(){this.Cn=new tv}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(ar.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class tv{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new ht(tt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ht(tt.comparator)).toArray()}}const rx="IndexedDbIndexManager",of=new Uint8Array(0);class eV{constructor(e,n){this.databaseId=n,this.vn=new tv,this.Fn=new oi((r=>Eo(r)),((r,a)=>mh(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:xn(a)};return sx(e).put(o)}return q.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[US(n),""],!1,!0);return sx(e).J(a).next((o=>{for(const u of o){if(u.collectionId!==n)break;r.push(ps(u.parent))}return r}))}addFieldIndex(e,n){const r=wc(e),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete a.indexId;const o=r.add(a);if(n.indexState){const u=Al(e);return o.next((h=>{u.put(Zw(h,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=wc(e),a=Al(e),o=Sl(e);return r.delete(n.indexId).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=wc(e),r=Sl(e),a=Al(e);return n.Z().next((()=>r.Z())).next((()=>a.Z()))}createTargetIndexes(e,n){return q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const o=new tx(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=Sl(e);let a=!0;const o=new Map;return q.forEach(this.Mn(n),(u=>this.xn(e,u).next((h=>{a&&(a=!!h),o.set(u,h)})))).next((()=>{if(a){let u=Le();const h=[];return q.forEach(o,((d,p)=>{ce(rx,`Using index ${(function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map((re=>`${re.fieldPath}:${re.kind}`)).join(",")}`})(d)} to execute ${Eo(n)}`);const y=(function(U,re){const te=Fy(re);if(te===void 0)return null;for(const he of Yf(U,te.fieldPath))switch(he.op){case"array-contains-any":return he.value.arrayValue.values||[];case"array-contains":return[he.value]}return null})(p,d),b=(function(U,re){const te=new Map;for(const he of Xa(re))for(const R of Yf(U,he.fieldPath))switch(R.op){case"==":case"in":te.set(he.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return te.set(he.fieldPath.canonicalString(),R.value),Array.from(te.values())}return null})(p,d),w=(function(U,re){const te=[];let he=!0;for(const R of Xa(re)){const S=R.kind===0?Pw(U,R.fieldPath,U.startAt):Vw(U,R.fieldPath,U.startAt);te.push(S.value),he&&(he=S.inclusive)}return new ua(te,he)})(p,d),I=(function(U,re){const te=[];let he=!0;for(const R of Xa(re)){const S=R.kind===0?Vw(U,R.fieldPath,U.endAt):Pw(U,R.fieldPath,U.endAt);te.push(S.value),he&&(he=S.inclusive)}return new ua(te,he)})(p,d),M=this.On(d,p,w),P=this.On(d,p,I),z=this.Nn(d,p,b),Z=this.Bn(d.indexId,y,M,w.inclusive,P,I.inclusive,z);return q.forEach(Z,(K=>r.Y(K,n.limit).next((U=>{U.forEach((re=>{const te=ge.fromSegments(re.documentKey);u.has(te)||(u=u.add(te),h.push(te))}))}))))})).next((()=>h))}return q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=JP(ut.create(e.filters,"and")).map((r=>Yy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,a,o,u,h){const d=(n!=null?n.length:1)*Math.max(r.length,o.length),p=d/(n!=null?n.length:1),y=[];for(let b=0;b<d;++b){const w=n?this.Ln(n[b/p]):of,I=this.kn(e,w,r[b%p],a),M=this.qn(e,w,o[b%p],u),P=h.map((z=>this.kn(e,w,z,!0)));y.push(...this.createRange(I,M,P))}return y}kn(e,n,r,a){const o=new no(e,ge.empty(),n,r);return a?o:o.An()}qn(e,n,r,a){const o=new no(e,ge.empty(),n,r);return a?o.An():o}xn(e,n){const r=new tx(n),a=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let u=null;for(const h of o)r.yn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,n){let r=2;const a=this.Mn(n);return q.forEach(a,(o=>this.xn(e,o).next((u=>{u?r!==0&&u.fields.length<(function(d){let p=new ht(Rt.comparator),y=!1;for(const b of d.filters)for(const w of b.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?y=!0:p=p.add(w.field));for(const b of d.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(y?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(u){return u.limit!==null})(n)&&a.length>1&&r===2?1:r))}Qn(e,n){const r=new Tc;for(const a of Xa(e)){const o=n.data.field(a.fieldPath);if(o==null)return null;const u=r.Pn(a.kind);to.Kt.Dt(o,u)}return r.un()}Ln(e){const n=new Tc;return to.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Tc;return to.Kt.Dt(bo(this.databaseId,n),r.Pn((function(o){const u=Xa(o);return u.length===0?0:u[u.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let a=[];a.push(new Tc);let o=0;for(const u of Xa(e)){const h=r[o++];for(const d of a)if(this.Un(n,u.fieldPath)&&eh(h))a=this.Kn(a,u,h);else{const p=d.Pn(u.kind);to.Kt.Dt(h,p)}}return this.Wn(a)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const a=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of a){const d=new Tc;d.seed(h.un()),to.Kt.Dt(u,d.Pn(n.kind)),o.push(d)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof Ke&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=wc(e),a=Al(e);return(n?r.J(qy,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const u=[];return q.forEach(o,(h=>a.get([h.indexId,this.uid]).next((d=>{u.push((function(y,b){const w=b?new Kc(b.sequenceNumber,new ar(wo(b.readTime),new ge(ps(b.documentKey)),b.largestBatchId)):Kc.empty(),I=y.fields.map((([M,P])=>new bf(Rt.fromServerFormat(M),P)));return new qf(y.indexId,y.collectionGroup,I,w)})(h,d))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,a)=>{const o=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:Ne(r.collectionGroup,a.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const a=wc(e),o=Al(e);return this.Gn(e).next((u=>a.J(qy,IDBKeyRange.bound(n,n)).next((h=>q.forEach(h,(d=>o.put(Zw(d.indexId,this.uid,u,r))))))))}updateIndexEntries(e,n){const r=new Map;return q.forEach(n,((a,o)=>{const u=r.get(a.collectionGroup);return(u?q.resolve(u):this.getFieldIndexes(e,a.collectionGroup)).next((h=>(r.set(a.collectionGroup,h),q.forEach(h,(d=>this.zn(e,a,d).next((p=>{const y=this.jn(o,d);return p.isEqual(y)?q.resolve():this.Jn(e,o,d,p,y)})))))))}))}Hn(e,n,r,a){return Sl(e).put(a.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,a){return Sl(e).delete(a.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const a=Sl(e);let o=new ht(qi);return a.ee({index:XS,range:IDBKeyRange.only([r.indexId,this.uid,Rf(this.$n(r,n))])},((u,h)=>{o=o.add(new no(r.indexId,n,ex(h.arrayValue),ex(h.directionalValue)))})).next((()=>o))}jn(e,n){let r=new ht(qi);const a=this.Qn(n,e);if(a==null)return r;const o=Fy(n);if(o!=null){const u=e.data.field(o.fieldPath);if(eh(u))for(const h of u.arrayValue.values||[])r=r.add(new no(n.indexId,e.key,this.Ln(h),a))}else r=r.add(new no(n.indexId,e.key,of,a));return r}Jn(e,n,r,a,o){ce(rx,"Updating index entries for document '%s'",n.key);const u=[];return(function(d,p,y,b,w){const I=d.getIterator(),M=p.getIterator();let P=wl(I),z=wl(M);for(;P||z;){let Z=!1,K=!1;if(P&&z){const U=y(P,z);U<0?K=!0:U>0&&(Z=!0)}else P!=null?K=!0:Z=!0;Z?(b(z),z=wl(M)):K?(w(P),P=wl(I)):(P=wl(I),z=wl(M))}})(a,o,qi,(h=>{u.push(this.Hn(e,n,r,h))}),(h=>{u.push(this.Yn(e,n,r,h))})),q.waitFor(u)}Gn(e){let n=1;return Al(e).ee({index:YS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,o)=>{o.done(),n=a.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((u,h)=>qi(u,h))).filter(((u,h,d)=>!h||qi(u,d[h-1])!==0));const a=[];a.push(e);for(const u of r){const h=qi(u,e),d=qi(u,n);if(h===0)a[0]=e.An();else if(h>0&&d<0)a.push(u),a.push(u.An());else if(d>0)break}a.push(n);const o=[];for(let u=0;u<a.length;u+=2){if(this.Zn(a[u],a[u+1]))return[];const h=a[u].Vn(this.uid,of,ge.empty()),d=a[u+1].Vn(this.uid,of,ge.empty());o.push(IDBKeyRange.bound(h,d))}return o}Zn(e,n){return qi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(ix)}getMinOffset(e,n){return q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((a=>a||Ee(44426))))).next(ix)}}function sx(t){return an(t,Xc)}function Sl(t){return an(t,jc)}function wc(t){return an(t,F_)}function Al(t){return an(t,Vc)}function ix(t){xe(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;z_(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new ar(e.readTime,e.documentKey,n)}const ax={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WA=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function eI(t,e,n){const r=t.store(Br),a=t.store(ql),o=[],u=IDBKeyRange.only(n.batchId);let h=0;const d=r.ee({range:u},((y,b,w)=>(h++,w.delete())));o.push(d.next((()=>{xe(h===1,47070,{batchId:n.batchId})})));const p=[];for(const y of n.mutations){const b=KS(e,y.key.path,n.batchId);o.push(a.delete(b)),p.push(y.key)}return q.waitFor(o).next((()=>p))}function nm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ee(14731);e=t.noDocument}return JSON.stringify(e).length}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(WA,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Fm{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Xn={}}static wt(e,n,r,a){xe(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Fm(o,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $i(e).ee({index:so,range:r},((a,o,u)=>{n=!1,u.done()})).next((()=>n))}addMutationBatch(e,n,r,a){const o=Ol(e),u=$i(e);return u.add({}).next((h=>{xe(typeof h=="number",49019);const d=new Z_(h,n,r,a),p=(function(I,M,P){const z=P.baseMutations.map((K=>Wf(I.yt,K))),Z=P.mutations.map((K=>Wf(I.yt,K)));return{userId:M,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:z,mutations:Z}})(this.serializer,this.userId,d),y=[];let b=new ht(((w,I)=>Ne(w.canonicalString(),I.canonicalString())));for(const w of a){const I=KS(this.userId,w.key.path,h);b=b.add(w.key.path.popLast()),y.push(u.put(p)),y.push(o.put(I,CM))}return b.forEach((w=>{y.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Xn[h]=d.keys()})),q.waitFor(y).next((()=>d))}))}lookupMutationBatch(e,n){return $i(e).get(n).next((r=>r?(xe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),eo(this.serializer,r)):null))}er(e,n){return this.Xn[n]?q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const a=r.keys();return this.Xn[n]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return $i(e).ee({index:so,range:a},((u,h,d)=>{h.userId===this.userId&&(xe(h.batchId>=r,47524,{tr:r}),o=eo(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ao;return $i(e).ee({index:so,range:n,reverse:!0},((a,o,u)=>{r=o.batchId,u.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,ao],[this.userId,Number.POSITIVE_INFINITY]);return $i(e).J(so,n).next((r=>r.map((a=>eo(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Ef(this.userId,n.path),a=IDBKeyRange.lowerBound(r),o=[];return Ol(e).ee({range:a},((u,h,d)=>{const[p,y,b]=u,w=ps(y);if(p===this.userId&&n.path.isEqual(w))return $i(e).get(b).next((I=>{if(!I)throw Ee(61480,{nr:u,batchId:b});xe(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:b}),o.push(eo(this.serializer,I))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(Ne);const a=[];return n.forEach((o=>{const u=Ef(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=Ol(e).ee({range:h},((p,y,b)=>{const[w,I,M]=p,P=ps(I);w===this.userId&&o.path.isEqual(P)?r=r.add(M):b.done()}));a.push(d)})),q.waitFor(a).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,o=Ef(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new ht(Ne);return Ol(e).ee({range:u},((d,p,y)=>{const[b,w,I]=d,M=ps(w);b===this.userId&&r.isPrefixOf(M)?M.length===a&&(h=h.add(I)):y.done()})).next((()=>this.rr(e,h)))}rr(e,n){const r=[],a=[];return n.forEach((o=>{a.push($i(e).get(o).next((u=>{if(u===null)throw Ee(35274,{batchId:o});xe(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(eo(this.serializer,u))})))})),q.waitFor(a).next((()=>r))}removeMutationBatch(e,n){return eI(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),q.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return q.resolve();const r=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return Ol(e).ee({range:r},((o,u,h)=>{if(o[0]===this.userId){const d=ps(o[1]);a.push(d)}else h.done()})).next((()=>{xe(a.length===0,56720,{sr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return tI(e,this.userId,n)}_r(e){return nI(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:ao,lastStreamToken:""}))}}function tI(t,e,n){const r=Ef(e,n.path),a=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Ol(t).ee({range:o,X:!0},((h,d,p)=>{const[y,b,w]=h;y===e&&b===a&&(u=!0),p.done()})).next((()=>u))}function $i(t){return an(t,Br)}function Ol(t){return an(t,ql)}function nI(t){return an(t,Zc)}class xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}class tV{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new xo(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ie.fromTimestamp(new lt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.hr(e,a))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Il(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(xe(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let a=0;const o=[];return Il(e).ee(((u,h)=>{const d=Nc(h);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(a++,o.push(this.removeTargetData(e,d)))})).next((()=>q.waitFor(o))).next((()=>a))}forEachTarget(e,n){return Il(e).ee(((r,a)=>{const o=Nc(a);n(o)}))}lr(e){return ox(e).get(Gf).next((n=>(xe(n!==null,2888),n)))}hr(e,n){return ox(e).put(Gf,n)}Pr(e,n){return Il(e).put(ZA(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Eo(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Il(e).ee({range:a,index:ZS},((u,h,d)=>{const p=Nc(h);mh(n,p.target)&&(o=p,d.done())})).next((()=>o))}addMatchingKeys(e,n,r){const a=[],o=Zi(e);return n.forEach((u=>{const h=xn(u.path);a.push(o.put({targetId:r,path:h})),a.push(this.referenceDelegate.addReference(e,r,u))})),q.waitFor(a)}removeMatchingKeys(e,n,r){const a=Zi(e);return q.forEach(n,(o=>{const u=xn(o.path);return q.waitFor([a.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=Zi(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=Zi(e);let o=Le();return a.ee({range:r,X:!0},((u,h,d)=>{const p=ps(u[1]),y=new ge(p);o=o.add(y)})).next((()=>o))}containsKey(e,n){const r=xn(n.path),a=IDBKeyRange.bound([r],[US(r)],!1,!0);let o=0;return Zi(e).ee({index:U_,X:!0,range:a},(([u,h],d,p)=>{u!==0&&(o++,p.done())})).next((()=>o>0))}At(e,n){return Il(e).get(n).next((r=>r?Nc(r):null))}}function Il(t){return an(t,$l)}function ox(t){return an(t,oo)}function Zi(t){return an(t,Hl)}const lx="LruGarbageCollector",nV=1048576;function ux([t,e],[n,r]){const a=Ne(t,n);return a===0?Ne(e,r):a}class rV{constructor(e){this.Ir=e,this.buffer=new ht(ux),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ux(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(lx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fa(n)?ce(lx,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.Vr(3e5)}))}}class sV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return q.resolve(wr.ce);const r=new rV(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(ax)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ax):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,n)))).next((b=>(o=b,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(p=Date.now(),Cl()<=Ge.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${b} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b}))))}}function sI(t,e){return new sV(t,e)}class iV{constructor(e,n){this.db=e,this.garbageCollector=sI(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,a)=>n(a)))}addReference(e,n,r){return lf(e,r)}removeReference(e,n,r){return lf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return lf(e,n)}br(e,n){return(function(a,o){let u=!1;return nI(a).te((h=>tI(a,h,o).next((d=>(d&&(u=!0),q.resolve(!d)))))).next((()=>u))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Sr(e,((u,h)=>{if(h<=n){const d=this.br(e,u).next((p=>{if(!p)return o++,r.getEntry(e,u).next((()=>(r.removeEntry(u,Ie.min()),Zi(e).delete((function(b){return[0,xn(b.path)]})(u)))))}));a.push(d)}})).next((()=>q.waitFor(a))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return lf(e,n)}Sr(e,n){const r=Zi(e);let a,o=wr.ce;return r.ee({index:U_},(([u,h],{path:d,sequenceNumber:p})=>{u===0?(o!==wr.ce&&n(new ge(ps(a)),o),o=p,a=d):o=wr.ce})).next((()=>{o!==wr.ce&&n(new ge(ps(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lf(t,e){return Zi(t).put((function(r,a){return{targetId:0,path:xn(r.path),sequenceNumber:a}})(e,t.currentSequenceNumber))}class iI{constructor(){this.changes=new oi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aV{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Qa(e).put(r)}removeEntry(e,n,r){return Qa(e).delete((function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],em(u),h[h.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Mt.newInvalidDocument(n);return Qa(e).ee({index:Tf,range:IDBKeyRange.only(xc(n))},((a,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Mt.newInvalidDocument(n)};return Qa(e).ee({index:Tf,range:IDBKeyRange.only(xc(n))},((a,o)=>{r={document:this.Cr(n,o),size:nm(o)}})).next((()=>r))}getEntries(e,n){let r=sr();return this.Fr(e,n,((a,o)=>{const u=this.Cr(a,o);r=r.insert(a,u)})).next((()=>r))}Mr(e,n){let r=sr(),a=new St(ge.comparator);return this.Fr(e,n,((o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h),a=a.insert(o,nm(u))})).next((()=>({documents:r,Or:a})))}Fr(e,n,r){if(n.isEmpty())return q.resolve();let a=new ht(dx);n.forEach((d=>a=a.add(d)));const o=IDBKeyRange.bound(xc(a.first()),xc(a.last())),u=a.getIterator();let h=u.getNext();return Qa(e).ee({index:Tf,range:o},((d,p,y)=>{const b=ge.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&dx(h,b)<0;)r(h,null),h=u.getNext();h&&h.isEqual(b)&&(r(h,p),h=u.hasNext()?u.getNext():null),h?y.j(xc(h)):y.done()})).next((()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,n,r,a,o){const u=n.path,h=[u.popLast().toArray(),u.lastSegment(),em(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qa(e).J(IDBKeyRange.bound(h,d,!0)).next((p=>{o?.incrementDocumentReadCount(p.length);let y=sr();for(const b of p){const w=this.Cr(ge.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);w.isFoundDocument()&&(gh(n,w)||a.has(w.key))&&(y=y.insert(w.key,w))}return y}))}getAllFromCollectionGroup(e,n,r,a){let o=sr();const u=hx(n,r),h=hx(n,ar.max());return Qa(e).ee({index:QS,range:IDBKeyRange.bound(u,h,!0)},((d,p,y)=>{const b=this.Cr(ge.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);o=o.insert(b.key,b),o.size===a&&y.done()})).next((()=>o))}newChangeBuffer(e){return new oV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return cx(e).get(By).next((n=>(xe(!!n,20021),n)))}Dr(e,n){return cx(e).put(By,n)}Cr(e,n){if(n){const r=HP(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return Mt.newInvalidDocument(e)}}function aI(t){return new aV(t)}class oV extends iI{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new oi((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const n=[];let r=0,a=new ht(((o,u)=>Ne(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const h=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=Kw(this.Nr.serializer,u);a=a.add(o.path.popLast());const p=nm(d);r+=p-h.size,n.push(this.Nr.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=Kw(this.Nr.serializer,u.convertToNoDocument(Ie.min()));n.push(this.Nr.addEntry(e,o,d))}})),a.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:a})=>(a.forEach(((o,u)=>{this.Br.set(o,{size:u,readTime:r.get(o).readTime})})),r)))}}function cx(t){return an(t,Yc)}function Qa(t){return an(t,Hf)}function xc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hx(t,e){const n=e.documentKey.path.toArray();return[t,em(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function dx(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(a=Ne(n[o],r[o]),a)return a;return a=Ne(n.length,r.length),a||(a=Ne(n[n.length-2],r[r.length-2]),a||Ne(n[n.length-1],r[r.length-1]))}class lV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oI{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Uc(r.mutation,a,xr.empty(),lt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const a=gs();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let u=Rc();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=gs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let o=sr();const u=Lc(),h=(function(){return Lc()})();return n.forEach(((d,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ma)?o=o.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Uc(y.mutation,p,y.mutation.getFieldMask(),lt.now())):u.set(p.key,xr.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new lV(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Lc();let a=new St(((u,h)=>u-h)),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let y=r.get(d)||xr.empty();y=h.applyToLocalView(p,y),r.set(d,y);const b=(a.get(h.batchId)||Le()).add(d);a=a.insert(h.batchId,b)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,b=xA();y.forEach((w=>{if(!o.has(w)){const I=kA(n.get(w),r.get(w));I!==null&&b.set(w,I),o=o.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return q.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return ge.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):q.resolve(gs());let h=Gc,d=o;return u.next((p=>q.forEach(p,((y,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(y)?q.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{d=d.insert(y,w)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,Le()))).next((y=>({batchId:h,changes:wA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let a=Rc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let u=Rc();return this.indexManager.getCollectionParents(e,o).next((h=>q.forEach(h,(d=>{const p=(function(b,w){return new uu(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((y=>{y.forEach(((b,w)=>{u=u.insert(b,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((u=>{o.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Mt.newInvalidDocument(y)))}));let h=Rc();return u.forEach(((d,p)=>{const y=o.get(d);y!==void 0&&Uc(y.mutation,p,xr.empty(),lt.now()),gh(n,p)&&(h=h.insert(d,p))})),h}))}}class uV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Pn(a.createTime)}})(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:YA(a.bundledQuery),readTime:Pn(a.readTime)}})(n)),q.resolve()}}class cV{constructor(){this.overlays=new St(ge.comparator),this.qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gs();return q.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),q.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const a=gs(),o=n.length+1,u=new ge(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return q.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new St(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=gs(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=gs(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return q.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new X_(n,r));let o=this.qr.get(n);o===void 0&&(o=Le(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class hV{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}class nv{constructor(){this.Qr=new ht(cn.$r),this.Ur=new ht(cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new cn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new cn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ge(new tt([])),r=new cn(n,e),a=new cn(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new tt([])),r=new cn(n,e),a=new cn(n,e+1);let o=Le();return this.Ur.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new cn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ne(e.Yr,n.Yr)}static Kr(e,n){return Ne(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class dV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ht(cn.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Z_(o,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new cn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return q.resolve(u)}lookupMutationBatch(e,n){return q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?ao:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cn(n,0),a=new cn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);o.push(h)})),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(Ne);return n.forEach((a=>{const o=new cn(a,0),u=new cn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{r=r.add(h.Yr)}))})),q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;ge.isDocumentKey(o)||(o=o.child(""));const u=new cn(new ge(o),0);let h=new ht(Ne);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),u),q.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return q.forEach(n.mutations,(a=>{const o=new cn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new cn(n,0),a=this.Zr.firstAfterOrEqual(r);return q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class fV{constructor(e){this.ri=e,this.docs=(function(){return new St(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=sr();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Mt.newInvalidDocument(a))})),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=sr();const u=n.path,h=new ge(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||z_(qS(y),r)<=0||(a.has(y.key)||gh(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Ee(9500)}ii(e,n){return q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new mV(this)}getSize(e){return q.resolve(this.size)}}class mV extends iI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class pV{constructor(e){this.persistence=e,this.si=new oi((n=>Eo(n)),mh),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new nv,this.targetCount=0,this.ai=xo.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Pr(n),q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),q.waitFor(o).next((()=>a))}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this._i.containsKey(n))}}class rv{constructor(e,n){this.ui={},this.overlays={},this.ci=new wr(0),this.li=!1,this.li=!0,this.hi=new hV,this.referenceDelegate=e(this),this.Pi=new pV(this),this.indexManager=new WP,this.remoteDocumentCache=(function(a){return new fV(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new QA(n),this.Ii=new uV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new dV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const a=new gV(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class gV extends HS{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.Ri=new nv,this.Vi=null}static mi(e){return new Bm(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,(r=>{const a=ge.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return q.or([()=>q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rm{constructor(e,n){this.persistence=e,this.pi=new oi((r=>xn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=sI(this,n)}static mi(e,n){return new rm(e,n)}Ei(){}di(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return q.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?q.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,o.removeEntry(u,Ie.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xf(e.data.value)),n}br(e,n,r){return q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return q.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yV{constructor(e){this.serializer=e}k(e,n,r,a){const o=new Im("createOrUpgrade",n);r<1&&a>=1&&((function(d){d.createObjectStore(fh)})(e),(function(d){d.createObjectStore(Zc,{keyPath:RM}),d.createObjectStore(Br,{keyPath:ww,autoIncrement:!0}).createIndex(so,xw,{unique:!0}),d.createObjectStore(ql)})(e),fx(e),(function(d){d.createObjectStore(Ja)})(e));let u=q.resolve();return r<3&&a>=3&&(r!==0&&((function(d){d.deleteObjectStore(Hl),d.deleteObjectStore($l),d.deleteObjectStore(oo)})(e),fx(e)),u=u.next((()=>(function(d){const p=d.store(oo),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return p.put(Gf,y)})(o)))),r<4&&a>=4&&(r!==0&&(u=u.next((()=>(function(d,p){return p.store(Br).J().next((b=>{d.deleteObjectStore(Br),d.createObjectStore(Br,{keyPath:ww,autoIncrement:!0}).createIndex(so,xw,{unique:!0});const w=p.store(Br),I=b.map((M=>w.put(M)));return q.waitFor(I)}))})(e,o)))),u=u.next((()=>{(function(d){d.createObjectStore(Gl,{keyPath:jM})})(e)}))),r<5&&a>=5&&(u=u.next((()=>this.yi(o)))),r<6&&a>=6&&(u=u.next((()=>((function(d){d.createObjectStore(Yc)})(e),this.wi(o))))),r<7&&a>=7&&(u=u.next((()=>this.Si(o)))),r<8&&a>=8&&(u=u.next((()=>this.bi(e,o)))),r<9&&a>=9&&(u=u.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(u=u.next((()=>this.Di(o)))),r<11&&a>=11&&(u=u.next((()=>{(function(d){d.createObjectStore(Cm,{keyPath:zM})})(e),(function(d){d.createObjectStore(Nm,{keyPath:LM})})(e)}))),r<12&&a>=12&&(u=u.next((()=>{(function(d){const p=d.createObjectStore(km,{keyPath:GM});p.createIndex($y,KM,{unique:!1}),p.createIndex(JS,QM,{unique:!1})})(e)}))),r<13&&a>=13&&(u=u.next((()=>(function(d){const p=d.createObjectStore(Hf,{keyPath:NM});p.createIndex(Tf,kM),p.createIndex(QS,DM)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(Ja)))),r<14&&a>=14&&(u=u.next((()=>this.Fi(e,o)))),r<15&&a>=15&&(u=u.next((()=>(function(d){d.createObjectStore(F_,{keyPath:UM,autoIncrement:!0}).createIndex(qy,FM,{unique:!1}),d.createObjectStore(Vc,{keyPath:BM}).createIndex(YS,qM,{unique:!1}),d.createObjectStore(jc,{keyPath:$M}).createIndex(XS,HM,{unique:!1})})(e)))),r<16&&a>=16&&(u=u.next((()=>{n.objectStore(Vc).clear()})).next((()=>{n.objectStore(jc).clear()}))),r<17&&a>=17&&(u=u.next((()=>{(function(d){d.createObjectStore(B_,{keyPath:ZM})})(e)}))),r<18&&a>=18&&xS()&&(u=u.next((()=>{n.objectStore(Vc).clear()})).next((()=>{n.objectStore(jc).clear()}))),u}wi(e){let n=0;return e.store(Ja).ee(((r,a)=>{n+=nm(a)})).next((()=>{const r={byteSize:n};return e.store(Yc).put(By,r)}))}yi(e){const n=e.store(Zc),r=e.store(Br);return n.J().next((a=>q.forEach(a,(o=>{const u=IDBKeyRange.bound([o.userId,ao],[o.userId,o.lastAcknowledgedBatchId]);return r.J(so,u).next((h=>q.forEach(h,(d=>{xe(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const p=eo(this.serializer,d);return eI(e,o.userId,p).next((()=>{}))}))))}))))}Si(e){const n=e.store(Hl),r=e.store(Ja);return e.store(oo).get(Gf).next((a=>{const o=[];return r.ee(((u,h)=>{const d=new tt(u),p=(function(b){return[0,xn(b)]})(d);o.push(n.get(p).next((y=>y?q.resolve():(b=>n.put({targetId:0,path:xn(b),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>q.waitFor(o)))}))}bi(e,n){e.createObjectStore(Xc,{keyPath:VM});const r=n.store(Xc),a=new tv,o=u=>{if(a.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:xn(d)})}};return n.store(Ja).ee({X:!0},((u,h)=>{const d=new tt(u);return o(d.popLast())})).next((()=>n.store(ql).ee({X:!0},(([u,h,d],p)=>{const y=ps(h);return o(y.popLast())}))))}Di(e){const n=e.store($l);return n.ee(((r,a)=>{const o=Nc(a),u=ZA(this.serializer,o);return n.put(u)}))}Ci(e,n){const r=n.store(Ja),a=[];return r.ee(((o,u)=>{const h=n.store(Hf),d=(function(b){return b.document?new ge(tt.fromString(b.document.name).popFirst(5)):b.noDocument?ge.fromSegments(b.noDocument.path):b.unknownDocument?ge.fromSegments(b.unknownDocument.path):Ee(36783)})(u).path.toArray(),p={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(p))})).next((()=>q.waitFor(a)))}Fi(e,n){const r=n.store(Br),a=aI(this.serializer),o=new rv(Bm.mi,this.serializer.yt);return r.J().next((u=>{const h=new Map;return u.forEach((d=>{let p=h.get(d.userId)??Le();eo(this.serializer,d).keys().forEach((y=>p=p.add(y))),h.set(d.userId,p)})),q.forEach(h,((d,p)=>{const y=new yn(p),b=Um.wt(this.serializer,y),w=o.getIndexManager(y),I=Fm.wt(y,this.serializer,w,o.referenceDelegate);return new oI(a,I,b,w).recalculateAndSaveOverlaysForDocumentKeys(new Hy(n,wr.ce),d).next()}))}))}}function fx(t){t.createObjectStore(Hl,{keyPath:MM}).createIndex(U_,PM,{unique:!0}),t.createObjectStore($l,{keyPath:"targetId"}).createIndex(ZS,OM,{unique:!0}),t.createObjectStore(oo)}const Hi="IndexedDbPersistence",gy=18e5,yy=5e3,_y="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_V="main";class sv{constructor(e,n,r,a,o,u,h,d,p,y,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=u,this.document=h,this.xi=p,this.Oi=y,this.Ni=b,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!sv.v())throw new me(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iV(this,a),this.$i=n+_V,this.serializer=new QA(d),this.Ui=new ia(this.$i,this.Ni,new yV(this.serializer)),this.hi=new KP,this.Pi=new tV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=aI(this.serializer),this.Ii=new GP,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,y===!1&&On(Hi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new me(ee.FAILED_PRECONDITION,_y);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new wr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>uf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(fa(e))return ce(Hi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ce(Hi,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Sc(e).get(Tl).next((n=>q.resolve(this.es(n))))}ts(e){return uf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,gy)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=an(n,Gl);return r.J().next((a=>{const o=this.ss(a,gy),u=a.filter((h=>o.indexOf(h)===-1));return q.forEach(u,(h=>r.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?q.resolve(!0):Sc(e).get(Tl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,yy)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new me(ee.FAILED_PRECONDITION,_y);return!1}}return!(!this.networkEnabled||!this.inForeground)||uf(e).J().next((r=>this.ss(r,yy).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(o||u&&h)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ce(Hi,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[fh,Gl],(e=>{const n=new Hy(e,wr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>uf(e).J().next((n=>this.ss(n,gy).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Fm.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new eV(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Um.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce(Hi,"Starting transaction:",e);const a=n==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?JM:d===17?nA:d===16?XM:d===15?q_:d===14?tA:d===13?eA:d===12?YM:d===11?WS:void Ee(60245)})(this.Ni);let u;return this.Ui.runTransaction(e,a,o,(h=>(u=new Hy(h,this.ci?this.ci.next():wr.ce),n==="readwrite-primary"?this.Hi(u).next((d=>!!d||this.Yi(u))).next((d=>{if(!d)throw On(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new me(ee.FAILED_PRECONDITION,$S);return r(u)})).next((d=>this.Xi(u).next((()=>d)))):this.Is(u).next((()=>r(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Is(e){return Sc(e).get(Tl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,yy)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new me(ee.FAILED_PRECONDITION,_y)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sc(e).put(Tl,n)}static v(){return ia.v()}Zi(e){const n=Sc(e);return n.get(Tl).next((r=>this.es(r)?(ce(Hi,"Releasing primary lease."),n.delete(Tl)):q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(On(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;wS()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return ce(Hi,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return On(Hi,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){On("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sc(t){return an(t,fh)}function uf(t){return an(t,Gl)}function vV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class iv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Le(),a=Le();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new iv(e,n.fromCache,r,a)}}class bV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wS()?8:GS(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new bV;return this.Ss(e,n,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(Cl()<=Ge.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Cl()<=Ge.DEBUG&&ce("QueryEngine","Query:",Nl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Cl()<=Ge.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):q.resolve())}ys(e,n){if(jw(n))return q.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Xf(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=Le(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,u,d.readTime)?this.ys(e,Xf(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,r,a){return jw(n)||a.isEqual(Ie.min())?q.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(n,o);return this.Cs(n,u,r,a)?q.resolve(null):(Cl()<=Ge.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Nl(n)),this.vs(e,u,n,EM(a,Gc)).next((h=>h)))}))}Ds(e,n){let r=new ht(EA(e));return n.forEach(((a,o)=>{gh(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return Cl()<=Ge.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Nl(n)),this.ps.getDocumentsMatchingQuery(e,n,ar.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const av="LocalStore",EV=3e8;class TV{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new St(Ne),this.xs=new oi((o=>Eo(o)),mh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function uI(t,e,n,r){return new TV(t,e,n,r)}async function cI(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let d=Le();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of o){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function wV(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const b=p.batch,w=b.keys();let I=q.resolve();return w.forEach((M=>{I=I.next((()=>y.getEntry(d,M))).next((P=>{const z=p.docVersions.get(M);xe(z!==null,48541),P.version.compareTo(z)<0&&(b.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))}))})),I.next((()=>h.mutationQueue.removeMutationBatch(d,b)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=Le();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function hI(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function xV(t,e){const n=ke(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,b)=>{const w=a.get(b);if(!w)return;h.push(n.Pi.removeMatchingKeys(o,y.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,y.addedDocuments,b))));let I=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?I=I.withResumeToken(Wt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,r)),a=a.insert(b,I),(function(P,z,Z){return P.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=EV?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(w,I,y)&&h.push(n.Pi.updateTargetData(o,I))}));let d=sr(),p=Le();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(SV(o,u,e.documentUpdates).next((y=>{d=y.ks,p=y.qs}))),!r.isEqual(Ie.min())){const y=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(y)}return q.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(n.Ms=a,o)))}function SV(t,e,n){let r=Le(),a=Le();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let u=sr();return n.forEach(((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ie.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ce(av,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function AV(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ao),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function IV(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,q.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new Qs(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function i_(t,e,n){const r=ke(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!fa(u))throw u;ce(av,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function mx(t,e,n){const r=ke(t);let a=Ie.min(),o=Le();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const b=ke(d),w=b.xs.get(y);return w!==void 0?q.resolve(b.Ms.get(w)):b.Pi.getTargetData(p,y)})(r,u,Sr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:Ie.min(),n?o:Le()))).next((h=>(RV(r,fP(e),h),{documents:h,Qs:o})))))}function RV(t,e,n){let r=t.Os.get(e)||Ie.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class px{constructor(){this.activeTargetIds=vP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dI{constructor(){this.Mo=new px,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new px,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CV{Oo(e){}shutdown(){}}const gx="ConnectivityMonitor";class yx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(gx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(gx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let cf=null;function a_(){return cf===null?cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():cf++,"0x"+cf.toString(16)}const vy="RestConnection",NV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Kf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const u=a_(),h=this.zo(e,n.toUriEncodedString());ce(vy,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:p}=new URL(h),y=au(p);return this.Jo(e,h,d,r,y).then((b=>(ce(vy,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw _o(vy,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",r),b}))}Ho(e,n,r,a,o,u){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=NV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class DV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Tn="WebChannelConnection";class OV extends kV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const u=a_();return new Promise(((h,d)=>{const p=new OS;p.setWithCredentials(!0),p.listenOnce(MS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case vf.NO_ERROR:const b=p.getResponseJson();ce(Tn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case vf.TIMEOUT:ce(Tn,`RPC '${e}' ${u} timed out`),d(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const w=p.getStatus();if(ce(Tn,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const M=I?.error;if(M&&M.status&&M.message){const P=(function(Z){const K=Z.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN})(M.status);d(new me(P,M.message))}else d(new me(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new me(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Tn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);ce(Tn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,r,15)}))}T_(e,n,r){const a=a_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=jS(),h=VS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=o.join("");ce(Tn,`Creating RPC '${e}' stream ${a}: ${y}`,d);const b=u.createWebChannel(y,d);this.I_(b);let w=!1,I=!1;const M=new DV({Yo:z=>{I?ce(Tn,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(w||(ce(Tn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),w=!0),ce(Tn,`RPC '${e}' stream ${a} sending:`,z),b.send(z))},Zo:()=>b.close()}),P=(z,Z,K)=>{z.listen(Z,(U=>{try{K(U)}catch(re){setTimeout((()=>{throw re}),0)}}))};return P(b,Ic.EventType.OPEN,(()=>{I||(ce(Tn,`RPC '${e}' stream ${a} transport opened.`),M.o_())})),P(b,Ic.EventType.CLOSE,(()=>{I||(I=!0,ce(Tn,`RPC '${e}' stream ${a} transport closed`),M.a_(),this.E_(b))})),P(b,Ic.EventType.ERROR,(z=>{I||(I=!0,_o(Tn,`RPC '${e}' stream ${a} transport errored. Name:`,z.name,"Message:",z.message),M.a_(new me(ee.UNAVAILABLE,"The operation could not be completed")))})),P(b,Ic.EventType.MESSAGE,(z=>{if(!I){const Z=z.data[0];xe(!!Z,16349);const K=Z,U=K?.error||K[0]?.error;if(U){ce(Tn,`RPC '${e}' stream ${a} received error:`,U);const re=U.status;let te=(function(S){const C=Xt[S];if(C!==void 0)return MA(C)})(re),he=U.message;te===void 0&&(te=ee.INTERNAL,he="Unknown error status: "+re+" with message "+U.message),I=!0,M.a_(new me(te,he)),b.close()}else ce(Tn,`RPC '${e}' stream ${a} received:`,Z),M.u_(Z)}})),P(h,PS.STAT_EVENT,(z=>{z.stat===Ly.PROXY?ce(Tn,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===Ly.NOPROXY&&ce(Tn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function MV(){return typeof window<"u"?window:null}function Cf(){return typeof document<"u"?document:null}function qm(t){return new PP(t,!0)}class fI{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _x="PersistentStream";class mI{constructor(e,n,r,a,o,u,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new me(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(_x,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(_x,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PV extends mI{constructor(e,n,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zP(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ie.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Pn(u.readTime):Ie.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=e_(this.serializer),n.addTarget=(function(o,u){let h;const d=u.target;if(h=Zf(d)?{documents:BA(o,d)}:{query:qA(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=jA(o,u.resumeToken);const p=Jy(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=Wl(o,u.snapshotVersion.toTimestamp());const p=Jy(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=UP(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=e_(this.serializer),n.removeTarget=e,this.q_(n)}}class VV extends mI{constructor(e,n,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LP(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=e_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Wf(this.serializer,r)))};this.q_(n)}}class jV{}class zV extends jV{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,Wy(n,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(ee.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Wy(n,r),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ee.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(On(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const So="RemoteStore";class UV{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Do(this)&&(ce(So,"Restarting streams for network reachability change."),await(async function(d){const p=ke(d);p.Ea.add(4),await _h(p),p.Ra.set("Unknown"),p.Ea.delete(4),await $m(p)})(this))}))})),this.Ra=new LV(r,a)}}async function $m(t){if(Do(t))for(const e of t.da)await e(!0)}async function _h(t){for(const e of t.da)await e(!1)}function pI(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cv(n)?uv(n):hu(n).O_()&&lv(n,e))}function ov(t,e){const n=ke(t),r=hu(n);n.Ia.delete(e),r.O_()&&gI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Do(n)&&n.Ra.set("Unknown"))}function lv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hu(t).Y_(e)}function gI(t,e){t.Va.Ue(e),hu(t).Z_(e)}function uv(t){t.Va=new kP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hu(t).start(),t.Ra.ua()}function cv(t){return Do(t)&&!hu(t).x_()&&t.Ia.size>0}function Do(t){return ke(t).Ea.size===0}function yI(t){t.Va=void 0}async function FV(t){t.Ra.set("Online")}async function BV(t){t.Ia.forEach(((e,n)=>{lv(t,e)}))}async function qV(t,e){yI(t),cv(t)?(t.Ra.ha(e),uv(t)):t.Ra.set("Unknown")}async function $V(t,e,n){if(t.Ra.set("Online"),e instanceof VA&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){ce(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sm(t,r)}else if(e instanceof If?t.Va.Ze(e):e instanceof PA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const r=await hI(t.localStore);n.compareTo(r)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(p);y&&o.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken(Wt.EMPTY_BYTE_STRING,y.snapshotVersion)),gI(o,d);const b=new Qs(y.target,d,p,y.sequenceNumber);lv(o,b)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ce(So,"Failed to raise snapshot:",r),await sm(t,r)}}async function sm(t,e,n){if(!fa(e))throw e;t.Ea.add(1),await _h(t),t.Ra.set("Offline"),n||(n=()=>hI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(So,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $m(t)}))}function _I(t,e){return e().catch((n=>sm(t,n,e)))}async function vh(t){const e=ke(t),n=ca(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ao;for(;HV(e);)try{const a=await AV(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,GV(e,a)}catch(a){await sm(e,a)}vI(e)&&bI(e)}function HV(t){return Do(t)&&t.Ta.length<10}function GV(t,e){t.Ta.push(e);const n=ca(t);n.O_()&&n.X_&&n.ea(e.mutations)}function vI(t){return Do(t)&&!ca(t).x_()&&t.Ta.length>0}function bI(t){ca(t).start()}async function KV(t){ca(t).ra()}async function QV(t){const e=ca(t);for(const n of t.Ta)e.ea(n.mutations)}async function ZV(t,e,n){const r=t.Ta.shift(),a=Y_.from(r,e,n);await _I(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await vh(t)}async function YV(t,e){e&&ca(t).X_&&await(async function(r,a){if((function(u){return RP(u)&&u!==ee.ABORTED})(a.code)){const o=r.Ta.shift();ca(r).B_(),await _I(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await vh(r)}})(t,e),vI(t)&&bI(t)}async function vx(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ce(So,"RemoteStore received new credentials");const r=Do(n);n.Ea.add(3),await _h(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $m(n)}async function XV(t,e){const n=ke(t);e?(n.Ea.delete(2),await $m(n)):e||(n.Ea.add(2),await _h(n),n.Ra.set("Unknown"))}function hu(t){return t.ma||(t.ma=(function(n,r,a){const o=ke(n);return o.sa(),new PV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:FV.bind(null,t),t_:BV.bind(null,t),r_:qV.bind(null,t),H_:$V.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),cv(t)?uv(t):t.Ra.set("Unknown")):(await t.ma.stop(),yI(t))}))),t.ma}function ca(t){return t.fa||(t.fa=(function(n,r,a){const o=ke(n);return o.sa(),new VV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:KV.bind(null,t),r_:YV.bind(null,t),ta:QV.bind(null,t),na:ZV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await vh(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(So,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class hv{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const u=Date.now()+r,h=new hv(e,n,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dv(t,e){if(On("AsyncQueue",`${e}: ${t}`),fa(t))return new me(ee.UNAVAILABLE,`${e}: ${t}`);throw t}class Vl{static emptySet(e){return new Vl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Rc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class bx{constructor(){this.ga=new St(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class eu{constructor(e,n,r,a,o,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new eu(e,n,Vl.emptySet(n),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class JV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class WV{constructor(){this.queries=Ex(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=ke(n),o=a.queries;a.queries=Ex(),o.forEach(((u,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function Ex(){return new oi((t=>bA(t)),Pm)}async function fv(t,e){const n=ke(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new JV,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=dv(u,`Initialization of query '${Nl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&pv(n)}async function mv(t,e){const n=ke(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function e3(t,e){const n=ke(t);let r=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&pv(n)}function t3(t,e,n){const r=ke(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function pv(t){t.Ca.forEach((e=>{e.next()}))}var o_,Tx;(Tx=o_||(o_={})).Ma="default",Tx.Cache="cache";class gv{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==o_.Cache}}class EI{constructor(e){this.key=e}}class TI{constructor(e){this.key=e}}class n3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=EA(e),this.tu=new Vl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new bx,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,b)=>{const w=a.get(y),I=gh(this.query,b)?b:null,M=!!w&&this.mutatedKeys.has(w.key),P=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let z=!1;w&&I?w.data.isEqual(I.data)?M!==P&&(r.track({type:3,doc:I}),z=!0):this.su(w,I)||(r.track({type:2,doc:I}),z=!0,(d&&this.eu(I,d)>0||p&&this.eu(I,p)<0)&&(h=!0)):!w&&I?(r.track({type:0,doc:I}),z=!0):w&&!I&&(r.track({type:1,doc:w}),z=!0,(d||p)&&(h=!0)),z&&(I?(u=u.add(I),o=P?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,b)=>(function(I,M){const P=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:z})}};return P(I)-P(M)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,u.length!==0||p?{snapshot:new eu(this.query,e.tu,o,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new TI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new EI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return eu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yv="SyncEngine";class r3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class s3{constructor(e){this.key=e,this.hu=!1}}class i3{constructor(e,n,r,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new oi((h=>bA(h)),Pm),this.Iu=new Map,this.Eu=new Set,this.du=new St(ge.comparator),this.Au=new Map,this.Ru=new nv,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function a3(t,e,n=!0){const r=RI(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await wI(r,e,n,!0),a}async function o3(t,e){const n=RI(t);await wI(n,e,!0,!1)}async function wI(t,e,n,r){const a=await IV(t.localStore,Sr(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await l3(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&pI(t.remoteStore,a),h}async function l3(t,e,n,r,a){t.pu=(b,w,I)=>(async function(P,z,Z,K){let U=z.view.ru(Z);U.Cs&&(U=await mx(P.localStore,z.query,!1).then((({documents:R})=>z.view.ru(R,U))));const re=K&&K.targetChanges.get(z.targetId),te=K&&K.targetMismatches.get(z.targetId)!=null,he=z.view.applyChanges(U,P.isPrimaryClient,re,te);return xx(P,z.targetId,he.au),he.snapshot})(t,b,w,I);const o=await mx(t.localStore,e,!0),u=new n3(e,o.Qs),h=u.ru(o.documents),d=yh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);xx(t,n,p.au);const y=new r3(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function u3(t,e,n){const r=ke(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!Pm(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await i_(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&ov(r.remoteStore,a.targetId),l_(r,a.targetId)})).catch(No)):(l_(r,a.targetId),await i_(r.localStore,a.targetId,!0))}async function c3(t,e){const n=ke(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ov(n.remoteStore,r.targetId))}async function h3(t,e,n){const r=CI(t);try{const a=await(function(u,h){const d=ke(u),p=lt.now(),y=h.reduce(((I,M)=>I.add(M.key)),Le());let b,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let M=sr(),P=Le();return d.Ns.getEntries(I,y).next((z=>{M=z,M.forEach(((Z,K)=>{K.isValidDocument()||(P=P.add(Z))}))})).next((()=>d.localDocuments.getOverlayedDocuments(I,M))).next((z=>{b=z;const Z=[];for(const K of h){const U=AP(K,b.get(K.key).overlayedDocument);U!=null&&Z.push(new ma(K.key,U,dA(U.value.mapValue),Mn.exists(!0)))}return d.mutationQueue.addMutationBatch(I,p,Z,h)})).next((z=>{w=z;const Z=z.applyToLocalDocumentSet(b,P);return d.documentOverlayCache.saveOverlays(I,z.batchId,Z)}))})).then((()=>({batchId:w.batchId,changes:wA(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.Vu[u.currentUser.toKey()];p||(p=new St(Ne)),p=p.insert(h,d),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,n),await bh(r,a.changes),await vh(r.remoteStore)}catch(a){const o=dv(a,"Failed to persist write");n.reject(o)}}async function xI(t,e){const n=ke(t);try{const r=await xV(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=n.Au.get(o);u&&(xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?xe(u.hu,14607):a.removedDocuments.size>0&&(xe(u.hu,42227),u.hu=!1))})),await bh(n,r,e)}catch(r){await No(r)}}function wx(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=ke(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,b)=>{for(const w of b.Sa)w.va(h)&&(p=!0)})),p&&pv(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d3(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new St(ge.comparator);u=u.insert(o,Mt.newNoDocument(o,Ie.min()));const h=Le().add(o),d=new Lm(Ie.min(),new Map,new St(Ne),u,h);await xI(r,d),r.du=r.du.remove(o),r.Au.delete(e),_v(r)}else await i_(r.localStore,e,!1).then((()=>l_(r,e,n))).catch(No)}async function f3(t,e){const n=ke(t),r=e.batch.batchId;try{const a=await wV(n.localStore,e);AI(n,r,null),SI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bh(n,a)}catch(a){await No(a)}}async function m3(t,e,n){const r=ke(t);try{const a=await(function(u,h){const d=ke(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((b=>(xe(b!==null,37113),y=b.keys(),d.mutationQueue.removeMutationBatch(p,b)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);AI(r,e,n),SI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bh(r,a)}catch(a){await No(a)}}function SI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function AI(t,e,n){const r=ke(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function l_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||II(t,r)}))}function II(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ov(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),_v(t))}function xx(t,e,n){for(const r of n)r instanceof EI?(t.Ru.addReference(r.key,e),p3(t,r)):r instanceof TI?(ce(yv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||II(t,r.key)):Ee(19791,{wu:r})}function p3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ce(yv,"New document in limbo: "+n),t.Eu.add(r),_v(t))}function _v(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(tt.fromString(e)),r=t.fu.next();t.Au.set(r,new s3(n)),t.du=t.du.insert(n,r),pI(t.remoteStore,new Qs(Sr(ph(n.path)),r,"TargetPurposeLimboResolution",wr.ce))}}async function bh(t,e,n){const r=ke(t),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=iv.As(d.targetId,p);o.push(y)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(d,p){const y=ke(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>q.forEach(p,(w=>q.forEach(w.Es,(I=>y.persistence.referenceDelegate.addReference(b,w.targetId,I))).next((()=>q.forEach(w.ds,(I=>y.persistence.referenceDelegate.removeReference(b,w.targetId,I)))))))))}catch(b){if(!fa(b))throw b;ce(av,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const I=y.Ms.get(w),M=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(M);y.Ms=y.Ms.insert(w,P)}}})(r.localStore,o))}async function g3(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ce(yv,"User change. New user:",e.toKey());const r=await cI(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new me(ee.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bh(n,r.Ls)}}function y3(t,e){const n=ke(t),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let a=Le();const o=n.Iu.get(e);if(!o)return a;for(const u of o){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function RI(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d3.bind(null,e),e.Pu.H_=e3.bind(null,e.eventManager),e.Pu.yu=t3.bind(null,e.eventManager),e}function CI(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m3.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uI(this.persistence,new lI,e.initialUser,this.serializer)}Cu(e){return new rv(Bm.mi,this.serializer)}Du(e){return new dI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class _3 extends nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof rm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new rv((r=>rm.mi(r,n)),this.serializer)}}class v3 extends nh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await CI(this.xu.syncEngine),await vh(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return uI(this.persistence,new lI,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new rI(r,e.asyncQueue,n)}Mu(e,n){const r=new SM(n,this.persistence);return new xM(e.asyncQueue,r)}Cu(e){const n=vV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new sv(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,MV(),Cf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new dI}}class im{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g3.bind(null,this.syncEngine),await XV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WV})()}createDatastore(e){const n=qm(e.databaseInfo.databaseId),r=(function(o){return new OV(o)})(e.databaseInfo);return(function(o,u,h,d){return new zV(o,u,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,u,h){return new UV(r,a,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>wx(this.syncEngine,n,0)),(function(){return yx.v()?new yx:new CV})())}createSyncEngine(e,n){return(function(a,o,u,h,d,p,y){const b=new i3(a,o,u,h,d,p);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ke(n);ce(So,"RemoteStore shutting down."),r.Ea.add(5),await _h(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}im.provider={build:()=>new im};class vv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):On("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ha="FirestoreClient";class b3{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=yn.UNAUTHENTICATED,this.clientId=j_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{ce(ha,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ce(ha,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function by(t,e){t.asyncQueue.verifyOperationInProgress(),ce(ha,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await cI(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Sx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await E3(t);ce(ha,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>vx(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>vx(e.remoteStore,a))),t._onlineComponents=e}async function E3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(ha,"Using user provided OfflineComponentProvider");try{await by(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ee.FAILED_PRECONDITION||a.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await by(t,new nh)}}else ce(ha,"Using default OfflineComponentProvider"),await by(t,new _3(void 0));return t._offlineComponents}async function NI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(ha,"Using user provided OnlineComponentProvider"),await Sx(t,t._uninitializedComponentsProvider._online)):(ce(ha,"Using default OnlineComponentProvider"),await Sx(t,new im))),t._onlineComponents}function T3(t){return NI(t).then((e=>e.syncEngine))}async function am(t){const e=await NI(t),n=e.eventManager;return n.onListen=a3.bind(null,e.syncEngine),n.onUnlisten=u3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c3.bind(null,e.syncEngine),n}function w3(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,p){const y=new vv({next:w=>{y.Nu(),u.enqueueAndForget((()=>mv(o,b)));const I=w.docs.has(h);!I&&w.fromCache?p.reject(new me(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&d&&d.source==="server"?p.reject(new me(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new gv(ph(h.path),y,{includeMetadataChanges:!0,qa:!0});return fv(o,b)})(await am(t),t.asyncQueue,e,n,r))),r.promise}function x3(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,p){const y=new vv({next:w=>{y.Nu(),u.enqueueAndForget((()=>mv(o,b))),w.fromCache&&d.source==="server"?p.reject(new me(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new gv(h,y,{includeMetadataChanges:!0,qa:!0});return fv(o,b)})(await am(t),t.asyncQueue,e,n,r))),r.promise}function kI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Ax=new Map;const DI="firestore.googleapis.com",Ix=!0;class Rx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DI,this.ssl=Ix}else this.host=e.host,this.ssl=e.ssl??Ix;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nV)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new uM;switch(r.type){case"firstParty":return new fM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Ax.get(n);r&&(ce("ComponentProvider","Removing Datastore"),Ax.delete(n),r.terminate())})(this),Promise.resolve()}}function S3(t,e,n,r={}){t=ir(t,Hm);const a=au(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(bS(`https://${h}`),ES("Firestore",!0)),o.host!==DI&&o.host!==h&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:r};if(!po(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=yn.MOCK_USER;else{p=LO(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new yn(b)}t._authCredentials=new cM(new LS(p,y))}}class li{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new li(this.firestore,e,this._query)}}class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dh(n,Bt._jsonSchema))return new Bt(e,r||null,new ge(tt.fromString(n.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Jt("string",Bt._jsonSchemaVersion),referencePath:Jt("string")};class aa extends li{constructor(e,n,r){super(e,n,ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ge(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function bv(t,e,...n){if(t=Sn(t),FS("collection","path",e),t instanceof Hm){const r=tt.fromString(e,...n);return _w(r),new aa(t,null,r)}{if(!(t instanceof Bt||t instanceof aa))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return _w(r),new aa(t.firestore,null,r)}}function du(t,e,...n){if(t=Sn(t),arguments.length===1&&(e=j_.newId()),FS("doc","path",e),t instanceof Hm){const r=tt.fromString(e,...n);return yw(r),new Bt(t,null,new ge(r))}{if(!(t instanceof Bt||t instanceof aa))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return yw(r),new Bt(t.firestore,t instanceof aa?t.converter:null,new ge(r))}}const Cx="AsyncQueue";class Nx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fI(this,"async_queue_retry"),this._c=()=>{const r=Cf();r&&ce(Cx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Cf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fa(e))throw e;ce(Cx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,On("INTERNAL UNHANDLED ERROR: ",kx(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=hv.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Ee(47125,{Pc:kx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Dx(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class si extends Hm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new Nx,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nx(e),this._firestoreClient=void 0,await e}}}function A3(t,e){const n=typeof t=="object"?t:CS(),r=typeof t=="string"?t:Kf,a=P_(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=jO("firestore");o&&S3(a,...o)}return a}function Gm(t){if(t._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||OI(t),t._firestoreClient}function OI(t){const e=t._freezeSettings(),n=(function(a,o,u,h){return new eP(a,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new b3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}function I3(t,e){_o("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return R3(t,im.provider,{build:r=>new v3(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function R3(t,e,n){if((t=ir(t,si))._firestoreClient||t._terminated)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new me(ee.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},OI(t)}class Tr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tr(Wt.fromBase64String(e))}catch(n){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tr(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Tr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dh(e,Tr._jsonSchema))return Tr.fromBase64String(e.bytes)}}Tr._jsonSchemaVersion="firestore/bytes/1.0",Tr._jsonSchema={type:Jt("string",Tr._jsonSchemaVersion),bytes:Jt("string")};class Ev{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tv{constructor(e){this._methodName=e}}class vs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vs._jsonSchemaVersion}}static fromJSON(e){if(dh(e,vs._jsonSchema))return new vs(e.latitude,e.longitude)}}vs._jsonSchemaVersion="firestore/geoPoint/1.0",vs._jsonSchema={type:Jt("string",vs._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};class bs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dh(e,bs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new bs(e.vectorValues);throw new me(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bs._jsonSchemaVersion="firestore/vectorValue/1.0",bs._jsonSchema={type:Jt("string",bs._jsonSchemaVersion),vectorValues:Jt("object")};const C3=/^__.*__$/;class N3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}function MI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class wv{constructor(e,n,r,a,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return om(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MI(this.Ac)&&C3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class k3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qm(e)}Cc(e,n,r,a=!1){return new wv({Ac:e,methodName:n,Dc:r,path:Rt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Km(t){const e=t._freezeSettings(),n=qm(t._databaseId);return new k3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PI(t,e,n,r,a,o={}){const u=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);LI("Data must be an object, but it was:",u,r);const h=jI(r,u);let d,p;if(o.merge)d=new xr(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const w=D3(e,b,n);if(!u.contains(w))throw new me(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);M3(y,w)||y.push(w)}d=new xr(y),p=u.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,p=u.fieldTransforms;return new N3(new Hn(h),d,p)}class xv extends Tv{_toFieldTransform(e){return new NA(e.path,new Yl)}isEqual(e){return e instanceof xv}}function VI(t,e,n,r=!1){return Sv(n,t.Cc(r?4:3,e))}function Sv(t,e){if(zI(t=Sn(t)))return LI("Unsupported field value:",e,t),jI(t,e);if(t instanceof Tv)return(function(r,a){if(!MI(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const h of r){let d=Sv(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=Sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=lt.fromDate(r);return{timestampValue:Wl(a.serializer,o)}}if(r instanceof lt){const o=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wl(a.serializer,o)}}if(r instanceof vs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tr)return{bytesValue:jA(a.serializer,r._byteString)};if(r instanceof Bt){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:W_(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof bs)return(function(u,h){return{mapValue:{fields:{[$_]:{stringValue:H_},[Kl]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Q_(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Am(r)}`)})(t,e)}function jI(t,e){const n={};return rA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,((r,a)=>{const o=Sv(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function zI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof vs||t instanceof Tr||t instanceof Bt||t instanceof Tv||t instanceof bs)}function LI(t,e,n){if(!zI(n)||!BS(n)){const r=Am(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function D3(t,e,n){if((e=Sn(e))instanceof Ev)return e._internalPath;if(typeof e=="string")return UI(t,e);throw om("Field path arguments must be of type string or ",t,!1,void 0,n)}const O3=new RegExp("[~\\*/\\[\\]]");function UI(t,e,n){if(e.search(O3)>=0)throw om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ev(...e.split("."))._internalPath}catch{throw om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function om(t,e,n,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new me(ee.INVALID_ARGUMENT,h+t+d)}function M3(t,e){return t.some((n=>n.isEqual(e)))}class Av{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Iv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P3 extends Av{data(){return super.data()}}function Iv(t,e){return typeof e=="string"?UI(t,e):e instanceof Ev?e._internalPath:e._delegate._internalPath}function FI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rv{}class Cv extends Rv{}function BI(t,e,...n){let r=[];e instanceof Rv&&r.push(e),r=r.concat(n),(function(o){const u=o.filter((d=>d instanceof Nv)).length,h=o.filter((d=>d instanceof Qm)).length;if(u>1||u>0&&h>0)throw new me(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Qm extends Cv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qm(e,n,r)}_apply(e){const n=this._parse(e);return $I(e._query,n),new li(e.firestore,e.converter,Xy(e._query,n))}_parse(e){const n=Km(e.firestore);return(function(o,u,h,d,p,y,b){let w;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new me(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Mx(b,y);const M=[];for(const P of b)M.push(Ox(d,o,P));w={arrayValue:{values:M}}}else w=Ox(d,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Mx(b,y),w=VI(h,u,b,y==="in"||y==="not-in");return Ke.create(p,y,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function V3(t,e,n){const r=e,a=Iv("where",t);return Qm._create(a,r,n)}class Nv extends Rv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ut.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let u=a;const h=o.getFlattenedFilters();for(const d of h)$I(u,d),u=Xy(u,d)})(e._query,n),new li(e.firestore,e.converter,Xy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kv extends Cv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new kv(e,n,r)}_apply(e){return new li(e.firestore,e.converter,Xf(e._query,this._limit,this._limitType))}}function qI(t){return bM("limit",t),kv._create("limit",t,"F")}class Dv extends Cv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Dv(e,n,r)}_apply(e){const n=z3(e,this.type,this._docOrFields,this._inclusive);return new li(e.firestore,e.converter,(function(a,o){return new uu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)})(e._query,n))}}function j3(...t){return Dv._create("startAfter",t,!1)}function z3(t,e,n,r){if(n[0]=Sn(n[0]),n[0]instanceof Av)return(function(o,u,h,d,p){if(!d)throw new me(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const b of Pl(o))if(b.field.isKeyField())y.push(bo(u,d.key));else{const w=d.data.field(b.field);if(Dm(w))throw new me(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const I=b.field.canonicalString();throw new me(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}y.push(w)}return new ua(y,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=Km(t.firestore);return(function(u,h,d,p,y,b){const w=u.explicitOrderBy;if(y.length>w.length)throw new me(ee.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let M=0;M<y.length;M++){const P=y[M];if(w[M].field.isKeyField()){if(typeof P!="string")throw new me(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof P}`);if(!K_(u)&&P.indexOf("/")!==-1)throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${P}' contains a slash.`);const z=u.path.child(tt.fromString(P));if(!ge.isDocumentKey(z))throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const Z=new ge(z);I.push(bo(h,Z))}else{const z=VI(d,p,P);I.push(z)}}return new ua(I,b)})(t._query,t.firestore._databaseId,a,e,n,r)}}function Ox(t,e,n){if(typeof(n=Sn(n))=="string"){if(n==="")throw new me(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K_(e)&&n.indexOf("/")!==-1)throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(r))throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bo(t,new ge(r))}if(n instanceof Bt)return bo(t,n._key);throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Am(n)}.`)}function Mx(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $I(t,e){const n=(function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L3{convertValue(e,n="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ko(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Kl].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new bs(n)}convertGeoPoint(e){return new vs(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Om(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=ni(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);xe(KA(r),9688,{name:e});const a=new vo(r.get(1),r.get(3)),o=new ge(r.popFirst(5));return a.isEqual(n)||On(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function HI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uo extends Av{constructor(e,n,r,a,o,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Iv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=uo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}uo._jsonSchemaVersion="firestore/documentSnapshot/1.0",uo._jsonSchema={type:Jt("string",uo._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Nf extends uo{data(e={}){return super.data(e)}}class co{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new kc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Nf(this._firestore,this._userDataWriter,r.key,r,new kc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Nf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new kc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Nf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new kc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:U3(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=j_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function U3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}function F3(t){t=ir(t,Bt);const e=ir(t.firestore,si);return w3(Gm(e),t._key).then((n=>ZI(e,t,n)))}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Jt("string",co._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Ov extends L3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function GI(t){t=ir(t,li);const e=ir(t.firestore,si),n=Gm(e),r=new Ov(e);return FI(t._query),x3(n,t._query).then((a=>new co(e,r,t,a)))}function KI(t,e,n){t=ir(t,Bt);const r=ir(t.firestore,si),a=HI(t.converter,e,n);return Mv(r,[PI(Km(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Mn.none())])}function B3(t){return Mv(ir(t.firestore,si),[new zm(t._key,Mn.none())])}function q3(t,e){const n=ir(t.firestore,si),r=du(t),a=HI(t.converter,e);return Mv(n,[PI(Km(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Mn.exists(!1))]).then((()=>r))}function QI(t,...e){t=Sn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Dx(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Dx(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,u,h;if(t instanceof Bt)u=ir(t.firestore,si),h=ph(t._key.path),o={next:d=>{e[r]&&e[r](ZI(u,t,d))},error:e[r+1],complete:e[r+2]};else{const d=ir(t,li);u=ir(d.firestore,si),h=d._query;const p=new Ov(u);o={next:y=>{e[r]&&e[r](new co(u,p,d,y))},error:e[r+1],complete:e[r+2]},FI(t._query)}return(function(p,y,b,w){const I=new vv(w),M=new gv(y,I,b);return p.asyncQueue.enqueueAndForget((async()=>fv(await am(p),M))),()=>{I.Nu(),p.asyncQueue.enqueueAndForget((async()=>mv(await am(p),M)))}})(Gm(u),h,a,o)}function Mv(t,e){return(function(r,a){const o=new _s;return r.asyncQueue.enqueueAndForget((async()=>h3(await T3(r),a,o))),o.promise})(Gm(t),e)}function ZI(t,e,n){const r=n.docs.get(e._key),a=new Ov(t);return new uo(t,a,e._key,r,new kc(n.hasPendingWrites,n.fromCache),e.converter)}function $3(){return new xv("serverTimestamp")}(function(e,n=!0){(function(a){lu=a})(ou),Fl(new go("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new si(new hM(r.getProvider("auth-internal")),new mM(u,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vo(p.options.projectId,y)})(u,a),u);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),ra(fw,mw,e),ra(fw,mw,"esm2020")})();var H3="firebase",G3="12.7.0";ra(H3,G3,"app");function YI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K3=YI,XI=new ch("auth","Firebase",YI());const lm=new O_("@firebase/auth");function Q3(t,...e){lm.logLevel<=Ge.WARN&&lm.warn(`Auth (${ou}): ${t}`,...e)}function kf(t,...e){lm.logLevel<=Ge.ERROR&&lm.error(`Auth (${ou}): ${t}`,...e)}function ws(t,...e){throw Vv(t,...e)}function Gr(t,...e){return Vv(t,...e)}function Pv(t,e,n){const r={...K3(),[e]:n};return new ch("auth","Firebase",r).create(e,{appName:t.name})}function ho(t){return Pv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ws(t,"argument-error"),Pv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XI.create(t,...e)}function Ce(t,e,...n){if(!t)throw Vv(e,...n)}function Zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kf(e),new Error(e)}function ii(t,e){t||Zs(e)}function u_(){return typeof self<"u"&&self.location?.href||""}function Y3(){return Px()==="http:"||Px()==="https:"}function Px(){return typeof self<"u"&&self.location?.protocol||null}function X3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y3()||$O()||"connection"in navigator)?navigator.onLine:!0}function J3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Eh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=BO()||HO()}get(){return X3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jv(t,e){ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class JI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ej=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tj=new Eh(3e4,6e4);function zv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fu(t,e,n,r,a={}){return WI(t,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=hh({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...o};return qO()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&au(t.emulatorConfig.host)&&(p.credentials="include"),JI.fetch()(await eR(t,t.config.apiHost,n,h),p)})}async function WI(t,e,n){t._canInitEmulator=!1;const r={...W3,...e};try{const a=new rj(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw hf(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw hf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw hf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw hf(t,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Pv(t,y,p);ws(t,y)}}catch(a){if(a instanceof ai)throw a;ws(t,"network-request-failed",{message:String(a)})}}async function nj(t,e,n,r,a={}){const o=await fu(t,e,n,r,a);return"mfaPendingCredential"in o&&ws(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function eR(t,e,n,r){const a=`${e}${n}?${r}`,o=t,u=o.config.emulator?jv(t.config,a):`${t.config.apiScheme}://${a}`;return ej.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}class rj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),tj.get())})}}function hf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Gr(t,e,r);return a.customData._tokenResponse=n,a}async function sj(t,e){return fu(t,"POST","/v1/accounts:delete",e)}async function um(t,e){return fu(t,"POST","/v1/accounts:lookup",e)}function Fc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ij(t,e=!1){const n=Sn(t),r=await n.getIdToken(e),a=Lv(r);Ce(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:Fc(Ey(a.auth_time)),issuedAtTime:Fc(Ey(a.iat)),expirationTime:Fc(Ey(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ey(t){return Number(t)*1e3}function Lv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kf("JWT malformed, contained fewer than 3 sections"),null;try{const a=pS(n);return a?JSON.parse(a):(kf("Failed to decode base64 JWT payload"),null)}catch(a){return kf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Vx(t){const e=Lv(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function rh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ai&&aj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class oj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class c_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fc(this.lastLoginAt),this.creationTime=Fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cm(t){const e=t.auth,n=await t.getIdToken(),r=await rh(t,um(e,{idToken:n}));Ce(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?tR(a.providerUserInfo):[],u=uj(t.providerData,o),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new c_(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function lj(t){const e=Sn(t);await cm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uj(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function tR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function cj(t,e){const n=await WI(t,{},async()=>{const r=hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,u=await eR(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&au(t.emulatorConfig.host)&&(d.credentials="include"),JI.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hj(t,e){return fu(t,"POST","/v2/accounts:revokeToken",zv(t,e))}class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=Vx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await cj(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,u=new jl;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ce(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ce(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return Zs("not implemented")}}function Gi(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $r{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new oj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new c_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await rh(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ij(this,e)}reload(){return lj(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $r({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qr(this.auth.app))return Promise.reject(ho(this.auth));const e=await this.getIdToken();return await rh(this,sj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:I,providerData:M,stsTokenManager:P}=n;Ce(b&&P,e,"internal-error");const z=jl.fromJSON(this.name,P);Ce(typeof b=="string",e,"internal-error"),Gi(r,e.name),Gi(a,e.name),Ce(typeof w=="boolean",e,"internal-error"),Ce(typeof I=="boolean",e,"internal-error"),Gi(o,e.name),Gi(u,e.name),Gi(h,e.name),Gi(d,e.name),Gi(p,e.name),Gi(y,e.name);const Z=new $r({uid:b,auth:e,email:a,emailVerified:w,displayName:r,isAnonymous:I,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:z,createdAt:p,lastLoginAt:y});return M&&Array.isArray(M)&&(Z.providerData=M.map(K=>({...K}))),d&&(Z._redirectEventId=d),Z}static async _fromIdTokenResponse(e,n,r=!1){const a=new jl;a.updateFromServerResponse(n);const o=new $r({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await cm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ce(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?tR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,h=new jl;h.updateFromIdToken(r);const d=new $r({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new c_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,p),d}}const jx=new Map;function Ys(t){ii(t instanceof Function,"Expected a class definition");let e=jx.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jx.set(t,e),e)}class nR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nR.type="NONE";const zx=nR;function Df(t,e,n){return`firebase:${t}:${e}:${n}`}class zl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Df(this.userKey,a.apiKey,o),this.fullPersistenceKey=Df("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await um(this.auth,{idToken:e}).catch(()=>{});return n?$r._fromGetAccountInfoResponse(this.auth,n,e):null}return $r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zl(Ys(zx),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Ys(zx);const u=Df(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let b;if(typeof y=="string"){const w=await um(e,{idToken:y}).catch(()=>{});if(!w)break;b=await $r._fromGetAccountInfoResponse(e,w,y)}else b=$r._fromJSON(e,y);p!==o&&(h=b),o=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new zl(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new zl(o,e,r))}}function Lx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lR(e))return"Blackberry";if(uR(e))return"Webos";if(sR(e))return"Safari";if((e.includes("chrome/")||iR(e))&&!e.includes("edge/"))return"Chrome";if(oR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function rR(t=rn()){return/firefox\//i.test(t)}function sR(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iR(t=rn()){return/crios\//i.test(t)}function aR(t=rn()){return/iemobile/i.test(t)}function oR(t=rn()){return/android/i.test(t)}function lR(t=rn()){return/blackberry/i.test(t)}function uR(t=rn()){return/webos/i.test(t)}function Uv(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dj(t=rn()){return Uv(t)&&!!window.navigator?.standalone}function fj(){return GO()&&document.documentMode===10}function cR(t=rn()){return Uv(t)||oR(t)||uR(t)||lR(t)||/windows phone/i.test(t)||aR(t)}function hR(t,e=[]){let n;switch(t){case"Browser":n=Lx(rn());break;case"Worker":n=`${Lx(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ou}/${r}`}class mj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function pj(t,e={}){return fu(t,"GET","/v2/passwordPolicy",zv(t,e))}const gj=6;class yj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class _j{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ux(this),this.idTokenSubscription=new Ux(this),this.beforeStateQueue=new mj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await um(this,{idToken:e}),r=await $r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qr(this.app))return Promise.reject(ho(this));const n=e?Sn(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qr(this.app)?Promise.reject(ho(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qr(this.app)?Promise.reject(ho(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pj(this),n=new yj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ch("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hj(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ys(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[Ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Q3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zm(t){return Sn(t)}class Ux{constructor(e){this.auth=e,this.observer=null,this.addObserver=JO(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vj(t){Fv=t}function bj(t){return Fv.loadJS(t)}function Ej(){return Fv.gapiScript}function Tj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function wj(t,e){const n=P_(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(po(o,e??{}))return a;ws(a,"already-initialized")}return n.initialize({options:e})}function xj(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Sj(t,e,n){const r=Zm(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=dR(e),{host:u,port:h}=Aj(e),d=h===null?"":`:${h}`,p={url:`${o}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(po(p,r.config.emulator)&&po(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,au(u)?(bS(`${o}//${u}${d}`),ES("Auth",!0)):Ij()}function dR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Aj(t){const e=dR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:Fx(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:Fx(u)}}}function Fx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ij(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class fR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zs("not implemented")}_getIdTokenResponse(e){return Zs("not implemented")}_linkToIdToken(e,n){return Zs("not implemented")}_getReauthenticationResolver(e){return Zs("not implemented")}}async function Ll(t,e){return nj(t,"POST","/v1/accounts:signInWithIdp",zv(t,e))}const Rj="http://localhost";class Ao extends fR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ws("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const u=new Ao(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ll(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ll(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ll(e,n)}buildRequest(){const e={requestUri:Rj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hh(n)}return e}}class Bv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Th extends Bv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yi extends Th{constructor(){super("facebook.com")}static credential(e){return Ao._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";class Ks extends Th{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ao._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ks.credential(n,r)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";class Xi extends Th{constructor(){super("github.com")}static credential(e){return Ao._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";class Ji extends Th{constructor(){super("twitter.com")}static credential(e,n){return Ao._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";class tu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await $r._fromIdTokenResponse(e,r,a),u=Bx(r);return new tu({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=Bx(r);return new tu({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function Bx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class hm extends ai{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,hm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new hm(e,n,r,a)}}function mR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hm._fromErrorAndOperation(t,o,e,r):o})}async function Cj(t,e,n=!1){const r=await rh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tu._forOperation(t,"link",r)}async function Nj(t,e,n=!1){const{auth:r}=t;if(qr(r.app))return Promise.reject(ho(r));const a="reauthenticate";try{const o=await rh(t,mR(r,a,e,t),n);Ce(o.idToken,r,"internal-error");const u=Lv(o.idToken);Ce(u,r,"internal-error");const{sub:h}=u;return Ce(t.uid===h,r,"user-mismatch"),tu._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&ws(r,"user-mismatch"),o}}async function kj(t,e,n=!1){if(qr(t.app))return Promise.reject(ho(t));const r="signIn",a=await mR(t,r,e),o=await tu._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}function Dj(t,e,n,r){return Sn(t).onIdTokenChanged(e,n,r)}function Oj(t,e,n){return Sn(t).beforeAuthStateChanged(e,n)}function pR(t,e,n,r){return Sn(t).onAuthStateChanged(e,n,r)}function Mj(t){return Sn(t).signOut()}const dm="__sak";class gR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dm,"1"),this.storage.removeItem(dm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pj=1e3,Vj=10;class yR extends gR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);fj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Vj):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yR.type="LOCAL";const jj=yR;class _R extends gR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_R.type="SESSION";const vR=_R;function zj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ym{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Ym(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,o)),d=await zj(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ym.receivers=[];function qv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class Lj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const p=qv("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(w.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Es(){return window}function Uj(t){Es().location.href=t}function bR(){return typeof Es().WorkerGlobalScope<"u"&&typeof Es().importScripts=="function"}async function Fj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bj(){return navigator?.serviceWorker?.controller||null}function qj(){return bR()?self:null}const ER="firebaseLocalStorageDb",$j=1,fm="firebaseLocalStorage",TR="fbase_key";class wh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xm(t,e){return t.transaction([fm],e?"readwrite":"readonly").objectStore(fm)}function Hj(){const t=indexedDB.deleteDatabase(ER);return new wh(t).toPromise()}function h_(){const t=indexedDB.open(ER,$j);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fm,{keyPath:TR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fm)?e(r):(r.close(),await Hj(),e(await h_()))})})}async function qx(t,e,n){const r=Xm(t,!0).put({[TR]:e,value:n});return new wh(r).toPromise()}async function Gj(t,e){const n=Xm(t,!1).get(e),r=await new wh(n).toPromise();return r===void 0?null:r.value}function $x(t,e){const n=Xm(t,!0).delete(e);return new wh(n).toPromise()}const Kj=800,Qj=3;class wR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Qj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ym._getInstance(qj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Fj(),!this.activeServiceWorker)return;this.sender=new Lj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Bj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h_();return await qx(e,dm,"1"),await $x(e,dm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Gj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$x(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Xm(a,!1).getAll();return new wh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wR.type="LOCAL";const Zj=wR;new Eh(3e4,6e4);function xR(t,e){return e?Ys(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class $v extends fR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Yj(t){return kj(t.auth,new $v(t),t.bypassAuthState)}function Xj(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),Nj(n,new $v(t),t.bypassAuthState)}async function Jj(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),Cj(n,new $v(t),t.bypassAuthState)}class SR{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yj;case"linkViaPopup":case"linkViaRedirect":return Jj;case"reauthViaPopup":case"reauthViaRedirect":return Xj;default:ws(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wj=new Eh(2e3,1e4);async function e6(t,e,n){if(qr(t.app))return Promise.reject(Gr(t,"operation-not-supported-in-this-environment"));const r=Zm(t);Z3(t,e,Bv);const a=xR(r,n);return new io(r,"signInViaPopup",e,a).executeNotNull()}class io extends SR{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=qv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Wj.get())};e()}}io.currentPopupAction=null;const t6="pendingRedirect",Of=new Map;class n6 extends SR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const r=await r6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r6(t,e){const n=a6(e),r=i6(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function s6(t,e){Of.set(t._key(),e)}function i6(t){return Ys(t._redirectPersistence)}function a6(t){return Df(t6,t.config.apiKey,t.name)}async function o6(t,e,n=!1){if(qr(t.app))return Promise.reject(ho(t));const r=Zm(t),a=xR(r,e),u=await new n6(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const l6=600*1e3;class u6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!AR(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hx(e))}saveEventToCache(e){this.cachedEventUids.add(Hx(e)),this.lastProcessedEventTime=Date.now()}}function Hx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function c6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AR(t);default:return!1}}async function h6(t,e={}){return fu(t,"GET","/v1/projects",e)}const d6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f6=/^https?/;async function m6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await h6(t);for(const n of e)try{if(p6(n))return}catch{}ws(t,"unauthorized-domain")}function p6(t){const e=u_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!f6.test(n))return!1;if(d6.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const g6=new Eh(3e4,6e4);function Gx(){const t=Es().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function y6(t){return new Promise((e,n)=>{function r(){Gx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gx(),n(Gr(t,"network-request-failed"))},timeout:g6.get()})}if(Es().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Es().gapi?.load)r();else{const a=Tj("iframefcb");return Es()[a]=()=>{gapi.load?r():n(Gr(t,"network-request-failed"))},bj(`${Ej()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function _6(t){return Mf=Mf||y6(t),Mf}const v6=new Eh(5e3,15e3),b6="__/auth/iframe",E6="emulator/auth/iframe",T6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x6(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jv(e,E6):`https://${t.config.authDomain}/${b6}`,r={apiKey:e.apiKey,appName:t.name,v:ou},a=w6.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${hh(r).slice(1)}`}async function S6(t){const e=await _6(t),n=Es().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:x6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T6,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Gr(t,"network-request-failed"),h=Es().setTimeout(()=>{o(u)},v6.get());function d(){Es().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(u)})}))}const A6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I6=500,R6=600,C6="_blank",N6="http://localhost";class Kx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k6(t,e,n,r=I6,a=R6){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...A6,width:r.toString(),height:a.toString(),top:o,left:u},p=rn().toLowerCase();n&&(h=iR(p)?C6:n),rR(p)&&(e=e||N6,d.scrollbars="yes");const y=Object.entries(d).reduce((w,[I,M])=>`${w}${I}=${M},`,"");if(dj(p)&&h!=="_self")return D6(e||"",h),new Kx(null);const b=window.open(e||"",h,y);Ce(b,t,"popup-blocked");try{b.focus()}catch{}return new Kx(b)}function D6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const O6="__/auth/handler",M6="emulator/auth/handler",P6=encodeURIComponent("fac");async function Qx(t,e,n,r,a,o){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ou,eventId:a};if(e instanceof Bv){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",XO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))u[y]=b}if(e instanceof Th){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${P6}=${encodeURIComponent(d)}`:"";return`${V6(t)}?${hh(h).slice(1)}${p}`}function V6({config:t}){return t.emulator?jv(t,M6):`https://${t.authDomain}/${O6}`}const Ty="webStorageSupport";class j6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vR,this._completeRedirectFn=o6,this._overrideRedirectResult=s6}async _openPopup(e,n,r,a){ii(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Qx(e,n,r,u_(),a);return k6(e,o,qv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await Qx(e,n,r,u_(),a);return Uj(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S6(e),r=new u6(e);return n.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ty,{type:Ty},a=>{const o=a?.[0]?.[Ty];o!==void 0&&n(!!o),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cR()||sR()||Uv()}}const z6=j6;var Zx="@firebase/auth",Yx="1.12.0";class L6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function U6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F6(t){Fl(new go("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hR(t)},p=new _j(r,a,o,d);return xj(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fl(new go("auth-internal",e=>{const n=Zm(e.getProvider("auth").getImmediate());return(r=>new L6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ra(Zx,Yx,U6(t)),ra(Zx,Yx,"esm2020")}const B6=300,q6=vS("authIdTokenMaxAge")||B6;let Xx=null;const $6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>q6)return;const a=n?.token;Xx!==a&&(Xx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function H6(t=CS()){const e=P_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wj(t,{popupRedirectResolver:z6,persistence:[Zj,jj,vR]}),r=vS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=$6(o.toString());Oj(n,u,()=>u(n.currentUser)),Dj(n,h=>u(h))}}const a=yS("auth");return a&&Sj(n,`http://${a}`),n}function G6(){return document.getElementsByTagName("head")?.[0]??document}vj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Gr("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",G6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F6("Browser");const K6={apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",storageBucket:void 0,messagingSenderId:"490973136832",appId:"1:490973136832:web:1811051408fdde8fbcea25",measurementId:"G-D3YR1YJXPN"},IR=lw().length?lw()[0]:RS(K6),Ss=A3(IR),Pf=H6(IR);typeof window<"u"&&I3(Ss).catch(t=>{console.debug("IndexedDB persistence not enabled:",t?.code??t?.message??t)});function Hv(t,e,n){const r=bv(t,e);return n?r.withConverter(n):r}async function RR(t,e,n){const r=du(Ss,t,e),a=n?r.withConverter(n):r,o=await F3(a);return o.exists()?o.data():null}async function CR(t,e,n){const r=Hv(Ss,t,n);return(await q3(r,e)).id}async function Q6(t,e,n,r){const a=du(Ss,t,e),o=r?a.withConverter(r):a;await KI(o,n)}async function Z6(t,e,n,r){const a=du(Ss,t,e),o=r?a.withConverter(r):a;await KI(o,n,{merge:!0})}async function Y6(t,e){const n=du(Ss,t,e);await B3(n)}async function X6(t,e){const{pageSize:n=20,cursor:r=null,additionalConstraints:a=[],converter:o}=e??{},u=Hv(Ss,t,o),h=[qI(n),...a];r&&h.push(j3(r));const d=BI(u,...h),p=await GI(d),y=p.docs.map(w=>w.data()),b=p.docs[p.docs.length-1]??null;return{docs:y,nextCursor:b?b.id:null}}async function J6(t,e,n,r){const a=Hv(Ss,t,r),o=BI(a,V3(e,"==",n),qI(1)),u=await GI(o);return u.empty?null:u.docs[0].data()}function ie(t,e,n){function r(h,d){if(h._zod||Object.defineProperty(h,"_zod",{value:{def:d,constr:u,traits:new Set},enumerable:!1}),h._zod.traits.has(t))return;h._zod.traits.add(t),e(h,d);const p=u.prototype,y=Object.keys(p);for(let b=0;b<y.length;b++){const w=y[b];w in h||(h[w]=p[w].bind(h))}}const a=n?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function u(h){var d;const p=n?.Parent?new o:this;r(p,h),(d=p._zod).deferred??(d.deferred=[]);for(const y of p._zod.deferred)y();return p}return Object.defineProperty(u,"init",{value:r}),Object.defineProperty(u,Symbol.hasInstance,{value:h=>n?.Parent&&h instanceof n.Parent?!0:h?._zod?.traits?.has(t)}),Object.defineProperty(u,"name",{value:t}),u}class Ul extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class NR extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const kR={};function Io(t){return kR}function DR(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,a])=>e.indexOf(+r)===-1).map(([r,a])=>a)}function d_(t,e){return typeof e=="bigint"?e.toString():e}function Gv(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Kv(t){return t==null}function Qv(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function W6(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const o=n>a?n:a,u=Number.parseInt(t.toFixed(o).replace(".","")),h=Number.parseInt(e.toFixed(o).replace(".",""));return u%h/10**o}const Jx=Symbol("evaluating");function ct(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==Jx)return r===void 0&&(r=Jx,r=n()),r},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function Oo(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function pa(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function Wx(t){return JSON.stringify(t)}function ez(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const OR="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function mm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const tz=Gv(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function sh(t){if(mm(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(mm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function MR(t){return sh(t)?{...t}:Array.isArray(t)?[...t]:t}const nz=new Set(["string","number","symbol"]);function nu(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ga(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Ae(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function rz(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const sz={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function iz(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=pa(t._zod.def,{get shape(){const u={};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&(u[h]=n.shape[h])}return Oo(this,"shape",u),u},checks:[]});return ga(t,o)}function az(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=pa(t._zod.def,{get shape(){const u={...t._zod.def.shape};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&delete u[h]}return Oo(this,"shape",u),u},checks:[]});return ga(t,o)}function oz(t,e){if(!sh(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const u in e)if(Object.getOwnPropertyDescriptor(o,u)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=pa(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return Oo(this,"shape",o),o}});return ga(t,a)}function lz(t,e){if(!sh(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=pa(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return Oo(this,"shape",r),r}});return ga(t,n)}function uz(t,e){const n=pa(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Oo(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return ga(t,n)}function cz(t,e,n){const a=e._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const u=pa(e._zod.def,{get shape(){const h=e._zod.def.shape,d={...h};if(n)for(const p in n){if(!(p in h))throw new Error(`Unrecognized key: "${p}"`);n[p]&&(d[p]=t?new t({type:"optional",innerType:h[p]}):h[p])}else for(const p in h)d[p]=t?new t({type:"optional",innerType:h[p]}):h[p];return Oo(this,"shape",d),d},checks:[]});return ga(e,u)}function hz(t,e,n){const r=pa(e._zod.def,{get shape(){const a=e._zod.def.shape,o={...a};if(n)for(const u in n){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(o[u]=new t({type:"nonoptional",innerType:a[u]}))}else for(const u in a)o[u]=new t({type:"nonoptional",innerType:a[u]});return Oo(this,"shape",o),o}});return ga(e,r)}function Ml(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function PR(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function df(t){return typeof t=="string"?t:t?.message}function Ro(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const a=df(t.inst?._zod.def?.error?.(t))??df(e?.error?.(t))??df(n.customError?.(t))??df(n.localeError?.(t))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Zv(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function ih(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const VR=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,d_,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},jR=ie("$ZodError",VR),zR=ie("$ZodError",VR,{Parent:Error});function dz(t,e=n=>n.message){const n={},r=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}function fz(t,e=n=>n.message){const n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(u=>r({issues:u}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(e(o));else{let u=n,h=0;for(;h<o.path.length;){const d=o.path[h];h===o.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(e(o))):u[d]=u[d]||{_errors:[]},u=u[d],h++}}};return r(t),n}const Yv=t=>(e,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},o);if(u instanceof Promise)throw new Ul;if(u.issues.length){const h=new(a?.Err??t)(u.issues.map(d=>Ro(d,o,Io())));throw OR(h,a?.callee),h}return u.value},Xv=t=>async(e,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},o);if(u instanceof Promise&&(u=await u),u.issues.length){const h=new(a?.Err??t)(u.issues.map(d=>Ro(d,o,Io())));throw OR(h,a?.callee),h}return u.value},Jm=t=>(e,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Ul;return o.issues.length?{success:!1,error:new(t??jR)(o.issues.map(u=>Ro(u,a,Io())))}:{success:!0,data:o.value}},mz=Jm(zR),Wm=t=>async(e,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(u=>Ro(u,a,Io())))}:{success:!0,data:o.value}},pz=Wm(zR),gz=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Yv(t)(e,n,a)},yz=t=>(e,n,r)=>Yv(t)(e,n,r),_z=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Xv(t)(e,n,a)},vz=t=>async(e,n,r)=>Xv(t)(e,n,r),bz=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Jm(t)(e,n,a)},Ez=t=>(e,n,r)=>Jm(t)(e,n,r),Tz=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Wm(t)(e,n,a)},wz=t=>async(e,n,r)=>Wm(t)(e,n,r),xz=/^[cC][^\s-]{8,}$/,Sz=/^[0-9a-z]+$/,Az=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Iz=/^[0-9a-vA-V]{20}$/,Rz=/^[A-Za-z0-9]{27}$/,Cz=/^[a-zA-Z0-9_-]{21}$/,Nz=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,kz=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,e1=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Dz=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Oz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Mz(){return new RegExp(Oz,"u")}const Pz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Vz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,jz=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,zz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Lz=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,LR=/^[A-Za-z0-9_-]*$/,Uz=/^\+[1-9]\d{6,14}$/,UR="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Fz=new RegExp(`^${UR}$`);function FR(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Bz(t){return new RegExp(`^${FR(t)}$`)}function qz(t){const e=FR({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${UR}T(?:${r})$`)}const $z=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Hz=/^-?\d+$/,Gz=/^-?\d+(?:\.\d+)?$/,Kz=/^[^A-Z]*$/,Qz=/^[^a-z]*$/,Gn=ie("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),BR={number:"number",bigint:"bigint",object:"date"},qR=ie("$ZodCheckLessThan",(t,e)=>{Gn.init(t,e);const n=BR[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),$R=ie("$ZodCheckGreaterThan",(t,e)=>{Gn.init(t,e);const n=BR[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Zz=ie("$ZodCheckMultipleOf",(t,e)=>{Gn.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):W6(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),Yz=ie("$ZodCheckNumberFormat",(t,e)=>{Gn.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[a,o]=sz[e.format];t._zod.onattach.push(u=>{const h=u._zod.bag;h.format=e.format,h.minimum=a,h.maximum=o,n&&(h.pattern=Hz)}),t._zod.check=u=>{const h=u.value;if(n){if(!Number.isInteger(h)){u.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?u.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):u.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}h<a&&u.issues.push({origin:"number",input:h,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),h>o&&u.issues.push({origin:"number",input:h,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),Xz=ie("$ZodCheckMaxLength",(t,e)=>{var n;Gn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!Kv(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const a=r.value;if(a.length<=e.maximum)return;const u=Zv(a);r.issues.push({origin:u,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),Jz=ie("$ZodCheckMinLength",(t,e)=>{var n;Gn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!Kv(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const a=r.value;if(a.length>=e.minimum)return;const u=Zv(a);r.issues.push({origin:u,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),Wz=ie("$ZodCheckLengthEquals",(t,e)=>{var n;Gn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!Kv(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=r=>{const a=r.value,o=a.length;if(o===e.length)return;const u=Zv(a),h=o>e.length;r.issues.push({origin:u,...h?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),ep=ie("$ZodCheckStringFormat",(t,e)=>{var n,r;Gn.init(t,e),t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),e9=ie("$ZodCheckRegex",(t,e)=>{ep.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),t9=ie("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=Kz),ep.init(t,e)}),n9=ie("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=Qz),ep.init(t,e)}),r9=ie("$ZodCheckIncludes",(t,e)=>{Gn.init(t,e);const n=nu(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),s9=ie("$ZodCheckStartsWith",(t,e)=>{Gn.init(t,e);const n=new RegExp(`^${nu(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),i9=ie("$ZodCheckEndsWith",(t,e)=>{Gn.init(t,e);const n=new RegExp(`.*${nu(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),a9=ie("$ZodCheckOverwrite",(t,e)=>{Gn.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class o9{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(u=>u),a=Math.min(...r.map(u=>u.length-u.trimStart().length)),o=r.map(u=>u.slice(a)).map(u=>" ".repeat(this.indent*2)+u);for(const u of o)this.content.push(u)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,a.join(`
`))}}const l9={major:4,minor:3,patch:5},Pt=ie("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=l9;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const o of a._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(u,h,d)=>{let p=Ml(u),y;for(const b of h){if(b._zod.def.when){if(!b._zod.def.when(u))continue}else if(p)continue;const w=u.issues.length,I=b._zod.check(u);if(I instanceof Promise&&d?.async===!1)throw new Ul;if(y||I instanceof Promise)y=(y??Promise.resolve()).then(async()=>{await I,u.issues.length!==w&&(p||(p=Ml(u,w)))});else{if(u.issues.length===w)continue;p||(p=Ml(u,w))}}return y?y.then(()=>u):u},o=(u,h,d)=>{if(Ml(u))return u.aborted=!0,u;const p=a(h,r,d);if(p instanceof Promise){if(d.async===!1)throw new Ul;return p.then(y=>t._zod.parse(y,d))}return t._zod.parse(p,d)};t._zod.run=(u,h)=>{if(h.skipChecks)return t._zod.parse(u,h);if(h.direction==="backward"){const p=t._zod.parse({value:u.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(y=>o(y,u,h)):o(p,u,h)}const d=t._zod.parse(u,h);if(d instanceof Promise){if(h.async===!1)throw new Ul;return d.then(p=>a(p,r,h))}return a(d,r,h)}}ct(t,"~standard",()=>({validate:a=>{try{const o=mz(t,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return pz(t,a).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}))}),Jv=ie("$ZodString",(t,e)=>{Pt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??$z(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),It=ie("$ZodStringFormat",(t,e)=>{ep.init(t,e),Jv.init(t,e)}),u9=ie("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=kz),It.init(t,e)}),c9=ie("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=e1(r))}else e.pattern??(e.pattern=e1());It.init(t,e)}),h9=ie("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Dz),It.init(t,e)}),d9=ie("$ZodURL",(t,e)=>{It.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),f9=ie("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Mz()),It.init(t,e)}),m9=ie("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Cz),It.init(t,e)}),p9=ie("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=xz),It.init(t,e)}),g9=ie("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=Sz),It.init(t,e)}),y9=ie("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Az),It.init(t,e)}),_9=ie("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Iz),It.init(t,e)}),v9=ie("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Rz),It.init(t,e)}),b9=ie("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=qz(e)),It.init(t,e)}),E9=ie("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Fz),It.init(t,e)}),T9=ie("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=Bz(e)),It.init(t,e)}),w9=ie("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Nz),It.init(t,e)}),x9=ie("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Pz),It.init(t,e),t._zod.bag.format="ipv4"}),S9=ie("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Vz),It.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),A9=ie("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=jz),It.init(t,e)}),I9=ie("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=zz),It.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,o]=r;if(!o)throw new Error;const u=Number(o);if(`${u}`!==o)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function HR(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const R9=ie("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=Lz),It.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{HR(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function C9(t){if(!LR.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return HR(n)}const N9=ie("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=LR),It.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{C9(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),k9=ie("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Uz),It.init(t,e)});function D9(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const O9=ie("$ZodJWT",(t,e)=>{It.init(t,e),t._zod.check=n=>{D9(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),GR=ie("$ZodNumber",(t,e)=>{Pt.init(t,e),t._zod.pattern=t._zod.bag.pattern??Gz,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...o?{received:o}:{}}),n}}),M9=ie("$ZodNumberFormat",(t,e)=>{Yz.init(t,e),GR.init(t,e)}),P9=ie("$ZodUnknown",(t,e)=>{Pt.init(t,e),t._zod.parse=n=>n}),V9=ie("$ZodNever",(t,e)=>{Pt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),j9=ie("$ZodDate",(t,e)=>{Pt.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const a=n.value,o=a instanceof Date;return o&&!Number.isNaN(a.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:a,...o?{received:"Invalid Date"}:{},inst:t}),n}});function t1(t,e,n){t.issues.length&&e.issues.push(...PR(n,t.issues)),e.value[n]=t.value}const z9=ie("$ZodArray",(t,e)=>{Pt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const o=[];for(let u=0;u<a.length;u++){const h=a[u],d=e.element._zod.run({value:h,issues:[]},r);d instanceof Promise?o.push(d.then(p=>t1(p,n,u))):t1(d,n,u)}return o.length?Promise.all(o).then(()=>n):n}});function pm(t,e,n,r,a){if(t.issues.length){if(a&&!(n in r))return;e.issues.push(...PR(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function KR(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=rz(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function QR(t,e,n,r,a,o){const u=[],h=a.keySet,d=a.catchall._zod,p=d.def.type,y=d.optout==="optional";for(const b in e){if(h.has(b))continue;if(p==="never"){u.push(b);continue}const w=d.run({value:e[b],issues:[]},r);w instanceof Promise?t.push(w.then(I=>pm(I,n,b,e,y))):pm(w,n,b,e,y)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const L9=ie("$ZodObject",(t,e)=>{if(Pt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const h=e.shape;Object.defineProperty(e,"shape",{get:()=>{const d={...h};return Object.defineProperty(e,"shape",{value:d}),d}})}const r=Gv(()=>KR(e));ct(t._zod,"propValues",()=>{const h=e.shape,d={};for(const p in h){const y=h[p]._zod;if(y.values){d[p]??(d[p]=new Set);for(const b of y.values)d[p].add(b)}}return d});const a=mm,o=e.catchall;let u;t._zod.parse=(h,d)=>{u??(u=r.value);const p=h.value;if(!a(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),h;h.value={};const y=[],b=u.shape;for(const w of u.keys){const I=b[w],M=I._zod.optout==="optional",P=I._zod.run({value:p[w],issues:[]},d);P instanceof Promise?y.push(P.then(z=>pm(z,h,w,p,M))):pm(P,h,w,p,M)}return o?QR(y,p,h,d,r.value,t):y.length?Promise.all(y).then(()=>h):h}}),U9=ie("$ZodObjectJIT",(t,e)=>{L9.init(t,e);const n=t._zod.parse,r=Gv(()=>KR(e)),a=w=>{const I=new o9(["shape","payload","ctx"]),M=r.value,P=U=>{const re=Wx(U);return`shape[${re}]._zod.run({ value: input[${re}], issues: [] }, ctx)`};I.write("const input = payload.value;");const z=Object.create(null);let Z=0;for(const U of M.keys)z[U]=`key_${Z++}`;I.write("const newResult = {};");for(const U of M.keys){const re=z[U],te=Wx(U),R=w[U]?._zod?.optout==="optional";I.write(`const ${re} = ${P(U)};`),R?I.write(`
        if (${re}.issues.length) {
          if (${te} in input) {
            payload.issues = payload.issues.concat(${re}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${te}, ...iss.path] : [${te}]
            })));
          }
        }
        
        if (${re}.value === undefined) {
          if (${te} in input) {
            newResult[${te}] = undefined;
          }
        } else {
          newResult[${te}] = ${re}.value;
        }
        
      `):I.write(`
        if (${re}.issues.length) {
          payload.issues = payload.issues.concat(${re}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${te}, ...iss.path] : [${te}]
          })));
        }
        
        if (${re}.value === undefined) {
          if (${te} in input) {
            newResult[${te}] = undefined;
          }
        } else {
          newResult[${te}] = ${re}.value;
        }
        
      `)}I.write("payload.value = newResult;"),I.write("return payload;");const K=I.compile();return(U,re)=>K(w,U,re)};let o;const u=mm,h=!kR.jitless,p=h&&tz.value,y=e.catchall;let b;t._zod.parse=(w,I)=>{b??(b=r.value);const M=w.value;return u(M)?h&&p&&I?.async===!1&&I.jitless!==!0?(o||(o=a(e.shape)),w=o(w,I),y?QR([],M,w,I,b,t):w):n(w,I):(w.issues.push({expected:"object",code:"invalid_type",input:M,inst:t}),w)}});function n1(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const a=t.filter(o=>!Ml(o));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(u=>Ro(u,r,Io())))}),e)}const F9=ie("$ZodUnion",(t,e)=>{Pt.init(t,e),ct(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),ct(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),ct(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),ct(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>Qv(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(a,o)=>{if(n)return r(a,o);let u=!1;const h=[];for(const d of e.options){const p=d._zod.run({value:a.value,issues:[]},o);if(p instanceof Promise)h.push(p),u=!0;else{if(p.issues.length===0)return p;h.push(p)}}return u?Promise.all(h).then(d=>n1(d,a,t,o)):n1(h,a,t,o)}}),B9=ie("$ZodIntersection",(t,e)=>{Pt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value,o=e.left._zod.run({value:a,issues:[]},r),u=e.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||u instanceof Promise?Promise.all([o,u]).then(([d,p])=>r1(n,d,p)):r1(n,o,u)}});function f_(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(sh(t)&&sh(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),a={...t,...e};for(const o of r){const u=f_(t[o],e[o]);if(!u.valid)return{valid:!1,mergeErrorPath:[o,...u.mergeErrorPath]};a[o]=u.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const a=t[r],o=e[r],u=f_(a,o);if(!u.valid)return{valid:!1,mergeErrorPath:[r,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function r1(t,e,n){const r=new Map;let a;for(const h of e.issues)if(h.code==="unrecognized_keys"){a??(a=h);for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else t.issues.push(h);for(const h of n.issues)if(h.code==="unrecognized_keys")for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else t.issues.push(h);const o=[...r].filter(([,h])=>h.l&&h.r).map(([h])=>h);if(o.length&&a&&t.issues.push({...a,keys:o}),Ml(t))return t;const u=f_(e.value,n.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return t.value=u.data,t}const q9=ie("$ZodEnum",(t,e)=>{Pt.init(t,e);const n=DR(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(a=>nz.has(typeof a)).map(a=>typeof a=="string"?nu(a):a.toString()).join("|")})$`),t._zod.parse=(a,o)=>{const u=a.value;return r.has(u)||a.issues.push({code:"invalid_value",values:n,input:u,inst:t}),a}}),$9=ie("$ZodLiteral",(t,e)=>{if(Pt.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?nu(r):r?nu(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,a)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),r}}),H9=ie("$ZodTransform",(t,e)=>{Pt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new NR(t.constructor.name);const a=e.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(u=>(n.value=u,n));if(a instanceof Promise)throw new Ul;return n.value=a,n}});function s1(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const ZR=ie("$ZodOptional",(t,e)=>{Pt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",ct(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),ct(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Qv(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>s1(o,n.value)):s1(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),G9=ie("$ZodExactOptional",(t,e)=>{ZR.init(t,e),ct(t._zod,"values",()=>e.innerType._zod.values),ct(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),K9=ie("$ZodNullable",(t,e)=>{Pt.init(t,e),ct(t._zod,"optin",()=>e.innerType._zod.optin),ct(t._zod,"optout",()=>e.innerType._zod.optout),ct(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Qv(n.source)}|null)$`):void 0}),ct(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),Q9=ie("$ZodDefault",(t,e)=>{Pt.init(t,e),t._zod.optin="optional",ct(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>i1(o,e)):i1(a,e)}});function i1(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const Z9=ie("$ZodPrefault",(t,e)=>{Pt.init(t,e),t._zod.optin="optional",ct(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),Y9=ie("$ZodNonOptional",(t,e)=>{Pt.init(t,e),ct(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>a1(o,t)):a1(a,t)}});function a1(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const X9=ie("$ZodCatch",(t,e)=>{Pt.init(t,e),ct(t._zod,"optin",()=>e.innerType._zod.optin),ct(t._zod,"optout",()=>e.innerType._zod.optout),ct(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(u=>Ro(u,r,Io()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(o=>Ro(o,r,Io()))},input:n.value}),n.issues=[]),n)}}),J9=ie("$ZodPipe",(t,e)=>{Pt.init(t,e),ct(t._zod,"values",()=>e.in._zod.values),ct(t._zod,"optin",()=>e.in._zod.optin),ct(t._zod,"optout",()=>e.out._zod.optout),ct(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(u=>ff(u,e.in,r)):ff(o,e.in,r)}const a=e.in._zod.run(n,r);return a instanceof Promise?a.then(o=>ff(o,e.out,r)):ff(a,e.out,r)}});function ff(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const W9=ie("$ZodReadonly",(t,e)=>{Pt.init(t,e),ct(t._zod,"propValues",()=>e.innerType._zod.propValues),ct(t._zod,"values",()=>e.innerType._zod.values),ct(t._zod,"optin",()=>e.innerType?._zod?.optin),ct(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o1):o1(a)}});function o1(t){return t.value=Object.freeze(t.value),t}const eL=ie("$ZodCustom",(t,e)=>{Gn.init(t,e),Pt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,a=e.fn(r);if(a instanceof Promise)return a.then(o=>l1(o,n,r,t));l1(a,n,r,t)}});function l1(t,e,n,r){if(!t){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),e.issues.push(ih(a))}}var u1;class tL{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function nL(){return new tL}(u1=globalThis).__zod_globalRegistry??(u1.__zod_globalRegistry=nL());const Dc=globalThis.__zod_globalRegistry;function rL(t,e){return new t({type:"string",...Ae(e)})}function sL(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ae(e)})}function c1(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ae(e)})}function iL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ae(e)})}function aL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ae(e)})}function oL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ae(e)})}function lL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ae(e)})}function uL(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ae(e)})}function cL(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ae(e)})}function hL(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ae(e)})}function dL(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ae(e)})}function fL(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ae(e)})}function mL(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ae(e)})}function pL(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ae(e)})}function gL(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ae(e)})}function yL(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ae(e)})}function _L(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ae(e)})}function vL(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ae(e)})}function bL(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ae(e)})}function EL(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ae(e)})}function TL(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ae(e)})}function wL(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ae(e)})}function xL(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ae(e)})}function SL(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ae(e)})}function AL(t,e){return new t({type:"string",format:"date",check:"string_format",...Ae(e)})}function IL(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ae(e)})}function RL(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ae(e)})}function CL(t,e){return new t({type:"number",checks:[],...Ae(e)})}function NL(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ae(e)})}function kL(t){return new t({type:"unknown"})}function DL(t,e){return new t({type:"never",...Ae(e)})}function OL(t,e){return new t({type:"date",...Ae(e)})}function h1(t,e){return new qR({check:"less_than",...Ae(e),value:t,inclusive:!1})}function Vf(t,e){return new qR({check:"less_than",...Ae(e),value:t,inclusive:!0})}function d1(t,e){return new $R({check:"greater_than",...Ae(e),value:t,inclusive:!1})}function jf(t,e){return new $R({check:"greater_than",...Ae(e),value:t,inclusive:!0})}function f1(t,e){return new Zz({check:"multiple_of",...Ae(e),value:t})}function YR(t,e){return new Xz({check:"max_length",...Ae(e),maximum:t})}function gm(t,e){return new Jz({check:"min_length",...Ae(e),minimum:t})}function XR(t,e){return new Wz({check:"length_equals",...Ae(e),length:t})}function ML(t,e){return new e9({check:"string_format",format:"regex",...Ae(e),pattern:t})}function PL(t){return new t9({check:"string_format",format:"lowercase",...Ae(t)})}function VL(t){return new n9({check:"string_format",format:"uppercase",...Ae(t)})}function jL(t,e){return new r9({check:"string_format",format:"includes",...Ae(e),includes:t})}function zL(t,e){return new s9({check:"string_format",format:"starts_with",...Ae(e),prefix:t})}function LL(t,e){return new i9({check:"string_format",format:"ends_with",...Ae(e),suffix:t})}function mu(t){return new a9({check:"overwrite",tx:t})}function UL(t){return mu(e=>e.normalize(t))}function FL(){return mu(t=>t.trim())}function BL(){return mu(t=>t.toLowerCase())}function qL(){return mu(t=>t.toUpperCase())}function $L(){return mu(t=>ez(t))}function HL(t,e,n){return new t({type:"array",element:e,...Ae(n)})}function GL(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Ae(n)})}function KL(t){const e=QL(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(ih(r,n.value,e._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(ih(a))}},t(n.value,n)));return e}function QL(t,e){const n=new Gn({check:"custom",...Ae(e)});return n._zod.check=t,n}function JR(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Dc,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function bn(t,e,n={path:[],schemaPath:[]}){var r;const a=t._zod.def,o=e.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const u={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,u);const h=t._zod.toJSONSchema?.();if(h)u.schema=h;else{const y={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,u.schema,y);else{const w=u.schema,I=e.processors[a.type];if(!I)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);I(t,e,w,y)}const b=t._zod.parent;b&&(u.ref||(u.ref=b),bn(b,e,y),e.seen.get(b).isParent=!0)}const d=e.metadataRegistry.get(t);return d&&Object.assign(u.schema,d),e.io==="input"&&Nn(t)&&(delete u.schema.examples,delete u.schema.default),e.io==="input"&&u.schema._prefault&&((r=u.schema).default??(r.default=u.schema._prefault)),delete u.schema._prefault,e.seen.get(t).schema}function WR(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const u of t.seen.entries()){const h=t.metadataRegistry.get(u[0])?.id;if(h){const d=r.get(h);if(d&&d!==u[0])throw new Error(`Duplicate schema id "${h}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(h,u[0])}}const a=u=>{const h=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const b=t.external.registry.get(u[0])?.id,w=t.external.uri??(M=>M);if(b)return{ref:w(b)};const I=u[1].defId??u[1].schema.id??`schema${t.counter++}`;return u[1].defId=I,{defId:I,ref:`${w("__shared")}#/${h}/${I}`}}if(u[1]===n)return{ref:"#"};const p=`#/${h}/`,y=u[1].schema.id??`__schema${t.counter++}`;return{defId:y,ref:p+y}},o=u=>{if(u[1].schema.$ref)return;const h=u[1],{ref:d,defId:p}=a(u);h.def={...h.schema},p&&(h.defId=p);const y=h.schema;for(const b in y)delete y[b];y.$ref=d};if(t.cycles==="throw")for(const u of t.seen.entries()){const h=u[1];if(h.cycle)throw new Error(`Cycle detected: #/${h.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of t.seen.entries()){const h=u[1];if(e===u[0]){o(u);continue}if(t.external){const p=t.external.registry.get(u[0])?.id;if(e!==u[0]&&p){o(u);continue}}if(t.metadataRegistry.get(u[0])?.id){o(u);continue}if(h.cycle){o(u);continue}if(h.count>1&&t.reused==="ref"){o(u);continue}}}function eC(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=u=>{const h=t.seen.get(u);if(h.ref===null)return;const d=h.def??h.schema,p={...d},y=h.ref;if(h.ref=null,y){r(y);const w=t.seen.get(y),I=w.schema;if(I.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(I)):Object.assign(d,I),Object.assign(d,p),u._zod.parent===y)for(const P in d)P==="$ref"||P==="allOf"||P in p||delete d[P];if(I.$ref)for(const P in d)P==="$ref"||P==="allOf"||P in w.def&&JSON.stringify(d[P])===JSON.stringify(w.def[P])&&delete d[P]}const b=u._zod.parent;if(b&&b!==y){r(b);const w=t.seen.get(b);if(w?.schema.$ref&&(d.$ref=w.schema.$ref,w.def))for(const I in d)I==="$ref"||I==="allOf"||I in w.def&&JSON.stringify(d[I])===JSON.stringify(w.def[I])&&delete d[I]}t.override({zodSchema:u,jsonSchema:d,path:h.path??[]})};for(const u of[...t.seen.entries()].reverse())r(u[0]);const a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const u=t.external.registry.get(e)?.id;if(!u)throw new Error("Schema is missing an `id` property");a.$id=t.external.uri(u)}Object.assign(a,n.def??n.schema);const o=t.external?.defs??{};for(const u of t.seen.entries()){const h=u[1];h.def&&h.defId&&(o[h.defId]=h.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?a.$defs=o:a.definitions=o);try{const u=JSON.parse(JSON.stringify(a));return Object.defineProperty(u,"~standard",{value:{...e["~standard"],jsonSchema:{input:ym(e,"input",t.processors),output:ym(e,"output",t.processors)}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function Nn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Nn(r.element,n);if(r.type==="set")return Nn(r.valueType,n);if(r.type==="lazy")return Nn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Nn(r.innerType,n);if(r.type==="intersection")return Nn(r.left,n)||Nn(r.right,n);if(r.type==="record"||r.type==="map")return Nn(r.keyType,n)||Nn(r.valueType,n);if(r.type==="pipe")return Nn(r.in,n)||Nn(r.out,n);if(r.type==="object"){for(const a in r.shape)if(Nn(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(Nn(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(Nn(a,n))return!0;return!!(r.rest&&Nn(r.rest,n))}return!1}const ZL=(t,e={})=>n=>{const r=JR({...n,processors:e});return bn(t,r),WR(r,t),eC(r,t)},ym=(t,e,n={})=>r=>{const{libraryOptions:a,target:o}=r??{},u=JR({...a??{},target:o,io:e,processors:n});return bn(t,u),WR(u,t),eC(u,t)},YL={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},XL=(t,e,n,r)=>{const a=n;a.type="string";const{minimum:o,maximum:u,format:h,patterns:d,contentEncoding:p}=t._zod.bag;if(typeof o=="number"&&(a.minLength=o),typeof u=="number"&&(a.maxLength=u),h&&(a.format=YL[h]??h,a.format===""&&delete a.format,h==="time"&&delete a.format),p&&(a.contentEncoding=p),d&&d.size>0){const y=[...d];y.length===1?a.pattern=y[0].source:y.length>1&&(a.allOf=[...y.map(b=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:b.source}))])}},JL=(t,e,n,r)=>{const a=n,{minimum:o,maximum:u,format:h,multipleOf:d,exclusiveMaximum:p,exclusiveMinimum:y}=t._zod.bag;typeof h=="string"&&h.includes("int")?a.type="integer":a.type="number",typeof y=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.minimum=y,a.exclusiveMinimum=!0):a.exclusiveMinimum=y),typeof o=="number"&&(a.minimum=o,typeof y=="number"&&e.target!=="draft-04"&&(y>=o?delete a.minimum:delete a.exclusiveMinimum)),typeof p=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.maximum=p,a.exclusiveMaximum=!0):a.exclusiveMaximum=p),typeof u=="number"&&(a.maximum=u,typeof p=="number"&&e.target!=="draft-04"&&(p<=u?delete a.maximum:delete a.exclusiveMaximum)),typeof d=="number"&&(a.multipleOf=d)},WL=(t,e,n,r)=>{n.not={}},eU=(t,e,n,r)=>{},tU=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},nU=(t,e,n,r)=>{const a=t._zod.def,o=DR(a.entries);o.every(u=>typeof u=="number")&&(n.type="number"),o.every(u=>typeof u=="string")&&(n.type="string"),n.enum=o},rU=(t,e,n,r)=>{const a=t._zod.def,o=[];for(const u of a.values)if(u===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof u=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(u))}else o.push(u);if(o.length!==0)if(o.length===1){const u=o[0];n.type=u===null?"null":typeof u,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[u]:n.const=u}else o.every(u=>typeof u=="number")&&(n.type="number"),o.every(u=>typeof u=="string")&&(n.type="string"),o.every(u=>typeof u=="boolean")&&(n.type="boolean"),o.every(u=>u===null)&&(n.type="null"),n.enum=o},sU=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},iU=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},aU=(t,e,n,r)=>{const a=n,o=t._zod.def,{minimum:u,maximum:h}=t._zod.bag;typeof u=="number"&&(a.minItems=u),typeof h=="number"&&(a.maxItems=h),a.type="array",a.items=bn(o.element,e,{...r,path:[...r.path,"items"]})},oU=(t,e,n,r)=>{const a=n,o=t._zod.def;a.type="object",a.properties={};const u=o.shape;for(const p in u)a.properties[p]=bn(u[p],e,{...r,path:[...r.path,"properties",p]});const h=new Set(Object.keys(u)),d=new Set([...h].filter(p=>{const y=o.shape[p]._zod;return e.io==="input"?y.optin===void 0:y.optout===void 0}));d.size>0&&(a.required=Array.from(d)),o.catchall?._zod.def.type==="never"?a.additionalProperties=!1:o.catchall?o.catchall&&(a.additionalProperties=bn(o.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(a.additionalProperties=!1)},lU=(t,e,n,r)=>{const a=t._zod.def,o=a.inclusive===!1,u=a.options.map((h,d)=>bn(h,e,{...r,path:[...r.path,o?"oneOf":"anyOf",d]}));o?n.oneOf=u:n.anyOf=u},uU=(t,e,n,r)=>{const a=t._zod.def,o=bn(a.left,e,{...r,path:[...r.path,"allOf",0]}),u=bn(a.right,e,{...r,path:[...r.path,"allOf",1]}),h=p=>"allOf"in p&&Object.keys(p).length===1,d=[...h(o)?o.allOf:[o],...h(u)?u.allOf:[u]];n.allOf=d},cU=(t,e,n,r)=>{const a=t._zod.def,o=bn(a.innerType,e,r),u=e.seen.get(t);e.target==="openapi-3.0"?(u.ref=a.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},hU=(t,e,n,r)=>{const a=t._zod.def;bn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},dU=(t,e,n,r)=>{const a=t._zod.def;bn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},fU=(t,e,n,r)=>{const a=t._zod.def;bn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},mU=(t,e,n,r)=>{const a=t._zod.def;bn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType;let u;try{u=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=u},pU=(t,e,n,r)=>{const a=t._zod.def,o=e.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;bn(o,e,r);const u=e.seen.get(t);u.ref=o},gU=(t,e,n,r)=>{const a=t._zod.def;bn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.readOnly=!0},tC=(t,e,n,r)=>{const a=t._zod.def;bn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},yU=ie("ZodISODateTime",(t,e)=>{b9.init(t,e),kt.init(t,e)});function _U(t){return SL(yU,t)}const vU=ie("ZodISODate",(t,e)=>{E9.init(t,e),kt.init(t,e)});function bU(t){return AL(vU,t)}const EU=ie("ZodISOTime",(t,e)=>{T9.init(t,e),kt.init(t,e)});function TU(t){return IL(EU,t)}const wU=ie("ZodISODuration",(t,e)=>{w9.init(t,e),kt.init(t,e)});function xU(t){return RL(wU,t)}const SU=(t,e)=>{jR.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>fz(t,n)},flatten:{value:n=>dz(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,d_,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,d_,2)}},isEmpty:{get(){return t.issues.length===0}}})},Rr=ie("ZodError",SU,{Parent:Error}),AU=Yv(Rr),IU=Xv(Rr),RU=Jm(Rr),CU=Wm(Rr),NU=gz(Rr),kU=yz(Rr),DU=_z(Rr),OU=vz(Rr),MU=bz(Rr),PU=Ez(Rr),VU=Tz(Rr),jU=wz(Rr),Vt=ie("ZodType",(t,e)=>(Pt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:ym(t,"input"),output:ym(t,"output")}}),t.toJSONSchema=ZL(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(pa(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>ga(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>AU(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>RU(t,n,r),t.parseAsync=async(n,r)=>IU(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>CU(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>NU(t,n,r),t.decode=(n,r)=>kU(t,n,r),t.encodeAsync=async(n,r)=>DU(t,n,r),t.decodeAsync=async(n,r)=>OU(t,n,r),t.safeEncode=(n,r)=>MU(t,n,r),t.safeDecode=(n,r)=>PU(t,n,r),t.safeEncodeAsync=async(n,r)=>VU(t,n,r),t.safeDecodeAsync=async(n,r)=>jU(t,n,r),t.refine=(n,r)=>t.check(k5(n,r)),t.superRefine=n=>t.check(D5(n)),t.overwrite=n=>t.check(mu(n)),t.optional=()=>y1(t),t.exactOptional=()=>_5(t),t.nullable=()=>_1(t),t.nullish=()=>y1(_1(t)),t.nonoptional=n=>x5(t,n),t.array=()=>Wv(t),t.or=n=>e0([t,n]),t.and=n=>d5(t,n),t.transform=n=>v1(t,g5(n)),t.default=n=>E5(t,n),t.prefault=n=>w5(t,n),t.catch=n=>A5(t,n),t.pipe=n=>v1(t,n),t.readonly=()=>C5(t),t.describe=n=>{const r=t.clone();return Dc.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Dc.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Dc.get(t);const r=t.clone();return Dc.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),nC=ie("_ZodString",(t,e)=>{Jv.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>XL(t,r,a);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(ML(...r)),t.includes=(...r)=>t.check(jL(...r)),t.startsWith=(...r)=>t.check(zL(...r)),t.endsWith=(...r)=>t.check(LL(...r)),t.min=(...r)=>t.check(gm(...r)),t.max=(...r)=>t.check(YR(...r)),t.length=(...r)=>t.check(XR(...r)),t.nonempty=(...r)=>t.check(gm(1,...r)),t.lowercase=r=>t.check(PL(r)),t.uppercase=r=>t.check(VL(r)),t.trim=()=>t.check(FL()),t.normalize=(...r)=>t.check(UL(...r)),t.toLowerCase=()=>t.check(BL()),t.toUpperCase=()=>t.check(qL()),t.slugify=()=>t.check($L())}),zU=ie("ZodString",(t,e)=>{Jv.init(t,e),nC.init(t,e),t.email=n=>t.check(sL(LU,n)),t.url=n=>t.check(uL(UU,n)),t.jwt=n=>t.check(xL(t5,n)),t.emoji=n=>t.check(cL(FU,n)),t.guid=n=>t.check(c1(m1,n)),t.uuid=n=>t.check(iL(mf,n)),t.uuidv4=n=>t.check(aL(mf,n)),t.uuidv6=n=>t.check(oL(mf,n)),t.uuidv7=n=>t.check(lL(mf,n)),t.nanoid=n=>t.check(hL(BU,n)),t.guid=n=>t.check(c1(m1,n)),t.cuid=n=>t.check(dL(qU,n)),t.cuid2=n=>t.check(fL($U,n)),t.ulid=n=>t.check(mL(HU,n)),t.base64=n=>t.check(EL(JU,n)),t.base64url=n=>t.check(TL(WU,n)),t.xid=n=>t.check(pL(GU,n)),t.ksuid=n=>t.check(gL(KU,n)),t.ipv4=n=>t.check(yL(QU,n)),t.ipv6=n=>t.check(_L(ZU,n)),t.cidrv4=n=>t.check(vL(YU,n)),t.cidrv6=n=>t.check(bL(XU,n)),t.e164=n=>t.check(wL(e5,n)),t.datetime=n=>t.check(_U(n)),t.date=n=>t.check(bU(n)),t.time=n=>t.check(TU(n)),t.duration=n=>t.check(xU(n))});function vn(t){return rL(zU,t)}const kt=ie("ZodStringFormat",(t,e)=>{It.init(t,e),nC.init(t,e)}),LU=ie("ZodEmail",(t,e)=>{h9.init(t,e),kt.init(t,e)}),m1=ie("ZodGUID",(t,e)=>{u9.init(t,e),kt.init(t,e)}),mf=ie("ZodUUID",(t,e)=>{c9.init(t,e),kt.init(t,e)}),UU=ie("ZodURL",(t,e)=>{d9.init(t,e),kt.init(t,e)}),FU=ie("ZodEmoji",(t,e)=>{f9.init(t,e),kt.init(t,e)}),BU=ie("ZodNanoID",(t,e)=>{m9.init(t,e),kt.init(t,e)}),qU=ie("ZodCUID",(t,e)=>{p9.init(t,e),kt.init(t,e)}),$U=ie("ZodCUID2",(t,e)=>{g9.init(t,e),kt.init(t,e)}),HU=ie("ZodULID",(t,e)=>{y9.init(t,e),kt.init(t,e)}),GU=ie("ZodXID",(t,e)=>{_9.init(t,e),kt.init(t,e)}),KU=ie("ZodKSUID",(t,e)=>{v9.init(t,e),kt.init(t,e)}),QU=ie("ZodIPv4",(t,e)=>{x9.init(t,e),kt.init(t,e)}),ZU=ie("ZodIPv6",(t,e)=>{S9.init(t,e),kt.init(t,e)}),YU=ie("ZodCIDRv4",(t,e)=>{A9.init(t,e),kt.init(t,e)}),XU=ie("ZodCIDRv6",(t,e)=>{I9.init(t,e),kt.init(t,e)}),JU=ie("ZodBase64",(t,e)=>{R9.init(t,e),kt.init(t,e)}),WU=ie("ZodBase64URL",(t,e)=>{N9.init(t,e),kt.init(t,e)}),e5=ie("ZodE164",(t,e)=>{k9.init(t,e),kt.init(t,e)}),t5=ie("ZodJWT",(t,e)=>{O9.init(t,e),kt.init(t,e)}),rC=ie("ZodNumber",(t,e)=>{GR.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>JL(t,r,a),t.gt=(r,a)=>t.check(d1(r,a)),t.gte=(r,a)=>t.check(jf(r,a)),t.min=(r,a)=>t.check(jf(r,a)),t.lt=(r,a)=>t.check(h1(r,a)),t.lte=(r,a)=>t.check(Vf(r,a)),t.max=(r,a)=>t.check(Vf(r,a)),t.int=r=>t.check(p1(r)),t.safe=r=>t.check(p1(r)),t.positive=r=>t.check(d1(0,r)),t.nonnegative=r=>t.check(jf(0,r)),t.negative=r=>t.check(h1(0,r)),t.nonpositive=r=>t.check(Vf(0,r)),t.multipleOf=(r,a)=>t.check(f1(r,a)),t.step=(r,a)=>t.check(f1(r,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function _m(t){return CL(rC,t)}const n5=ie("ZodNumberFormat",(t,e)=>{M9.init(t,e),rC.init(t,e)});function p1(t){return NL(n5,t)}const r5=ie("ZodUnknown",(t,e)=>{P9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>eU()});function g1(){return kL(r5)}const s5=ie("ZodNever",(t,e)=>{V9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>WL(t,n,r)});function i5(t){return DL(s5,t)}const a5=ie("ZodDate",(t,e)=>{j9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>tU(t,r),t.min=(r,a)=>t.check(jf(r,a)),t.max=(r,a)=>t.check(Vf(r,a));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function o5(t){return OL(a5,t)}const l5=ie("ZodArray",(t,e)=>{z9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>aU(t,n,r,a),t.element=e.element,t.min=(n,r)=>t.check(gm(n,r)),t.nonempty=n=>t.check(gm(1,n)),t.max=(n,r)=>t.check(YR(n,r)),t.length=(n,r)=>t.check(XR(n,r)),t.unwrap=()=>t.element});function Wv(t,e){return HL(l5,t,e)}const u5=ie("ZodObject",(t,e)=>{U9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>oU(t,n,r,a),ct(t,"shape",()=>e.shape),t.keyof=()=>f5(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:g1()}),t.loose=()=>t.clone({...t._zod.def,catchall:g1()}),t.strict=()=>t.clone({...t._zod.def,catchall:i5()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>oz(t,n),t.safeExtend=n=>lz(t,n),t.merge=n=>uz(t,n),t.pick=n=>iz(t,n),t.omit=n=>az(t,n),t.partial=(...n)=>cz(sC,t,n[0]),t.required=(...n)=>hz(iC,t,n[0])});function xh(t,e){const n={type:"object",shape:t??{},...Ae(e)};return new u5(n)}const c5=ie("ZodUnion",(t,e)=>{F9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>lU(t,n,r,a),t.options=e.options});function e0(t,e){return new c5({type:"union",options:t,...Ae(e)})}const h5=ie("ZodIntersection",(t,e)=>{B9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>uU(t,n,r,a)});function d5(t,e){return new h5({type:"intersection",left:t,right:e})}const m_=ie("ZodEnum",(t,e)=>{q9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>nU(t,r,a),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,a)=>{const o={};for(const u of r)if(n.has(u))o[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new m_({...e,checks:[],...Ae(a),entries:o})},t.exclude=(r,a)=>{const o={...e.entries};for(const u of r)if(n.has(u))delete o[u];else throw new Error(`Key ${u} not found in enum`);return new m_({...e,checks:[],...Ae(a),entries:o})}});function f5(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new m_({type:"enum",entries:n,...Ae(e)})}const m5=ie("ZodLiteral",(t,e)=>{$9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>rU(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function p_(t,e){return new m5({type:"literal",values:Array.isArray(t)?t:[t],...Ae(e)})}const p5=ie("ZodTransform",(t,e)=>{H9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>iU(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new NR(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(ih(o,n.value,e));else{const u=o;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push(ih(u))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function g5(t){return new p5({type:"transform",transform:t})}const sC=ie("ZodOptional",(t,e)=>{ZR.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>tC(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function y1(t){return new sC({type:"optional",innerType:t})}const y5=ie("ZodExactOptional",(t,e)=>{G9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>tC(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function _5(t){return new y5({type:"optional",innerType:t})}const v5=ie("ZodNullable",(t,e)=>{K9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>cU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function _1(t){return new v5({type:"nullable",innerType:t})}const b5=ie("ZodDefault",(t,e)=>{Q9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>dU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function E5(t,e){return new b5({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():MR(e)}})}const T5=ie("ZodPrefault",(t,e)=>{Z9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>fU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function w5(t,e){return new T5({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():MR(e)}})}const iC=ie("ZodNonOptional",(t,e)=>{Y9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>hU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function x5(t,e){return new iC({type:"nonoptional",innerType:t,...Ae(e)})}const S5=ie("ZodCatch",(t,e)=>{X9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>mU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function A5(t,e){return new S5({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const I5=ie("ZodPipe",(t,e)=>{J9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>pU(t,n,r,a),t.in=e.in,t.out=e.out});function v1(t,e){return new I5({type:"pipe",in:t,out:e})}const R5=ie("ZodReadonly",(t,e)=>{W9.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>gU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function C5(t){return new R5({type:"readonly",innerType:t})}const N5=ie("ZodCustom",(t,e)=>{eL.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>sU(t,n)});function k5(t,e={}){return GL(N5,t,e)}function D5(t){return KL(t)}const O5=xh({id:vn().optional(),name:vn().min(1),dupr:_m().nonnegative().optional(),imageUrl:vn().optional(),createdAt:vn().optional()}),t0=e0([p_(1),p_(2)]),b1=xh({player1Id:vn(),player2Id:vn()}),M5=xh({id:vn().optional(),team1:b1,team2:b1,team1Score:_m().nonnegative().optional(),team2Score:_m().nonnegative().optional(),courtId:vn().optional(),roundNumber:t0}),P5=xh({id:vn().optional(),playerIds:Wv(vn()).min(4).max(5),roundNumber:t0,courtNumber:_m().positive()}),V5=e0([t0,p_("standings")]),j5=xh({id:vn(),eventCode:vn().optional(),name:vn(),startDateTime:o5(),location:vn().optional(),link:vn().optional(),courtReserveUrl:vn().optional(),ongoingStage:V5.optional(),standings:Wv(vn()).optional()}),z5=t=>({EeI9ewBfoKpSajmerLDH:"John Doe",GqsPoUKXTw3kJMSJqwU0:"Jane Smith",RGq6NFnJfWIcvQqdifLt:"Alex Johnson",T28AtFw8KdQU23bXrGKh:"Rock Star",TMUWdVphOwXWWpBD0tg4:"Michael Lee",W3tjD6JMTZvL7h9DBekb:"Sarah Kim",bmIXpKlFhwhNuex6mG3a:"Chris Brown",cFbaelu4ZQhUiUovuSDq:"Hayden Patriquin",de634TOQoQt6DcvdllTE:"David Wilson",ev1yGMQ2TwdWVulSScR3:"Ashley Moore",lR41KMImIthFWUlTfvcq:"Brian Clark",ov1yJixQu0Y7GgSVGOS3:"Olivia Hall",s9CKyNz5sETtOI6s9gJb:"Matthew Young",sBaVpfAOMRsqcUiaVdXN:"Sophia King",sewQTUTqabMCEYb80N8L:"Daniel Wright",tgJHqe0ToCymKcHIthmM:"Megan Scott",v8BhDF0WAc6VgcOwc87B:"Ryan Adams",wekFMjCMfuI7MNNVYVnO:"Lauren Baker",zi6ygH5Iais5EPUVR0Ix:"Kevin Perez","55YtackrvsPralsAJY2V":"Natalie Roberts"})[t],aC={champion:{name:"Champion",gradient:["#FFF8DC","#F0E68C"],accent:"#DAA520",text:"#8B4513"},competitive:{name:"Competitive",gradient:["#E6F3FF","#B0D4F1"],accent:"#4682B4",text:"#2F4F4F"},rising:{name:"Rising Star",gradient:["#F0FFF0","#C1E1C1"],accent:"#6B8E23",text:"#2E5D2E"},rookie:{name:"Rookie",gradient:["#FFE4E1","#F5DEB3"],accent:"#CD853F",text:"#8B4513"},default:{name:"Player",gradient:["#F5F5F5","#E0E0E0"],accent:"#808080",text:"#505050"}},E1=["hexagon","diamond","paddle","court","geometric"];function oC(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return Math.abs(e)}function L5(t){const e=oC(t),n=Object.keys(aC);return n[e%n.length]}function T1(t,e){const n=t/2,r=t/2,a=t*.3;let o="";for(let u=0;u<6;u++){const h=(u*60-90)*(Math.PI/180),d=n+a*Math.cos(h),p=r+a*Math.sin(h);o+=u===0?`M ${d} ${p}`:` L ${d} ${p}`}return o+=" Z",`<path d="${o}" fill="${e.accent}" opacity="0.25"/>`}function U5(t,e){const n=t/2,r=t/2,a=t*.25,o=[];for(let u=0;u<3;u++){const h=(u-1)*a*.8,d=`M ${n} ${r-a+h} 
                  L ${n+a*.6} ${r+h} 
                  L ${n} ${r+a+h} 
                  L ${n-a*.6} ${r+h} Z`;o.push(`<path d="${d}" fill="${e.accent}" opacity="${.15+u*.08}"/>`)}return o.join("")}function F5(t,e){const n=t/2,r=t/2,a=`M ${n-2} ${r+t*.2} 
                      L ${n+2} ${r+t*.2} 
                      L ${n+2} ${r+t*.35} 
                      L ${n-2} ${r+t*.35} Z`,o=t*.15;return`
    <path d="${`M ${n-o} ${r-t*.15} 
                    A ${o} ${o} 0 0 1 ${n+o} ${r-t*.15} 
                    L ${n+o} ${r+t*.15} 
                    A ${o} ${o} 0 0 1 ${n-o} ${r+t*.15} Z`}" fill="${e.accent}" opacity="0.2"/>
    <path d="${a}" fill="${e.accent}" opacity="0.3"/>
  `}function B5(t,e){const n=[],a=t/5;for(let o=1;o<5;o++){const u=o*a;n.push(`<line x1="0" y1="${u}" x2="${t}" y2="${u}" stroke="${e.accent}" stroke-width="1" opacity="0.25"/>`)}return n.push(`<line x1="${t/2}" y1="${a}" x2="${t/2}" y2="${t-a}" stroke="${e.accent}" stroke-width="1" opacity="0.3"/>`),n.join("")}function q5(t,e,n){const r=[],a=2+n%3;for(let o=0;o<a;o++){const u=t*.1+n%18,h=n*(o+1)%(t-u),d=n*(o+2)%(t-u),p=.1+o*.05;o%2===0?r.push(`<circle cx="${h+u/2}" cy="${d+u/2}" r="${u/2}" fill="${e.accent}" opacity="${p}"/>`):r.push(`<rect x="${h}" y="${d}" width="${u}" height="${u}" fill="${e.accent}" opacity="${p}"/>`)}return r.join("")}function $5(t,e,n,r){switch(t){case"hexagon":return T1(e,n);case"diamond":return U5(e,n);case"paddle":return F5(e,n);case"court":return B5(e,n);case"geometric":return q5(e,n,r);default:return T1(e,n)}}function H5(t){const{playerId:e,playerName:n,size:r=64}=t,a=oC(e+n),o=L5(e),u=aC[o],h=E1[a%E1.length],d=n.split(" ").map(b=>b.charAt(0).toUpperCase()).slice(0,2).join(""),p=$5(h,r,u,a);return`
    <svg width="${r}" height="${r}" viewBox="0 0 ${r} ${r}" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="bg-gradient-${a}" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:${u.gradient[0]};stop-opacity:1" />
          <stop offset="100%" style="stop-color:${u.gradient[1]};stop-opacity:1" />
        </linearGradient>
      </defs>
      
      <!-- Background -->
      <rect width="${r}" height="${r}" fill="url(#bg-gradient-${a})" rx="${r*.1}" />
      
      <!-- Pattern -->
      ${p}
      
      <!-- Initials -->
      <text 
        x="${r/2}" 
        y="${r/2+5}" 
        text-anchor="middle" 
        font-family="Inter, system-ui, -apple-system, sans-serif" 
        font-size="${r*.35}" 
        font-weight="700" 
        fill="${u.text}"
        opacity="0.9"
      >
        ${d}
      </text>
    </svg>
  `.trim()}function lC(t){const e=H5(t);return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(e)))}`}function G5(t){if(t){if(typeof t?.toDate=="function")return t.toDate().toISOString();if(typeof t=="string")return t}}function K5(t){if(t){if(typeof t?.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);if(!isNaN(e.getTime()))return e}}}const Q5={toFirestore(t){const{id:e,createdAt:n,...r}=t;return{...r,createdAt:n||$3()}},fromFirestore(t,e){const n=t.data(e),r=z5(t.id);r||console.log("No demo name for player id:",t.id);const a=r||n.name;let o=n.imageUrl;a&&typeof a=="string"&&(o=lC({playerId:t.id,playerName:a,size:64}));const u={id:t.id,name:a,dupr:n.dupr,imageUrl:o,createdAt:G5(n.createdAt)};return O5.parse(u)}},Z5={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,...n};return M5.parse(r)}},Y5={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),{playerIds:r,...a}=n,o={playerIds:Array.isArray(r)?r.map(String):[],...a,id:t.id};return P5.parse(o)}},g_={toFirestore(t){const{id:e,...n}=t,{...r}=n;return{...r}},fromFirestore(t,e){const n=t.data(e);let r=new Date;try{r=K5(n.startDateTime)||new Date}catch(o){console.log(o)}const a={id:t.id,eventCode:n.eventCode,name:n.name,startDateTime:r,location:n.location,link:n.link,courtReserveUrl:n.courtReserveUrl,standings:Array.isArray(n.standings)?n.standings.map(String):void 0,label:n.label};return j5.parse(a)}};function uC(t,e,n){const r=[e];async function a(h){await t.cancelQueries({queryKey:[e,n]});const d=n?t.getQueryData([e,n]):null,p=t.getQueryData(r),y=h?.id??n,b=y?{...d,...h,id:y}:void 0;return b&&b.id&&(t.setQueryData([e,b.id],b),t.setQueryData(r,w=>{const I=w??[],M=I.findIndex(P=>P.id===b.id);if(M>=0){const P=[...I];return P[M]=b,P}return[b,...I]})),{previousItem:d,previousList:p}}function o(...h){const d=h[h.length-1];d?.previousItem&&n&&t.setQueryData([e,n],d.previousItem),d?.previousList?t.setQueryData(r,d.previousList):t.invalidateQueries({queryKey:r})}function u(...h){const d=h[0];if(typeof d=="string"&&d)t.invalidateQueries({queryKey:[e,d]});else if(d&&typeof d=="object"&&"id"in d){const p=d.id;p&&t.invalidateQueries({queryKey:[e,p]})}t.invalidateQueries({queryKey:r})}return{onMutate:a,onError:o,onSettled:u}}function cC(t,e,n){const r=iu(),o=N_({queryKey:[t,n],queryFn:async()=>!n||!t?null:RR(t,n,e),enabled:!!n,staleTime:1e3*60}),u=t?uC(r,t,n):void 0,h=wm({mutationFn:async d=>{if(!t)return d;if(d?.id)return await Q6(t,d.id,d,e),d;{const p=await CR(t,d,e);return{...d,id:p}}},onMutate:u?.onMutate,onError:u?.onError,onSettled:u?.onSettled});return{...o,upsert:h.mutateAsync,upsertState:{status:h.status,error:h.error??null}}}function hC(t,e){const n=N_({queryKey:[t],queryFn:async()=>t?(await X6(t,{pageSize:1e3,converter:e})).docs:[],staleTime:6e4,enabled:!!t});return t?n:{...n,data:[],isLoading:!1,error:new Error("Missing collectionName")}}function X5(t,e){const n=iu();return wm({mutationFn:async r=>await CR(t,r,e),onMutate:async r=>{await n.cancelQueries({queryKey:[t]});const a=n.getQueryData([t]),o=`__tmp__${Date.now()}`,u={...r,id:o};return n.setQueryData([t],h=>[u,...h??[]]),{previousList:a}},onError:(r,a,o)=>{o?.previousList?n.setQueryData([t],o.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:r=>{n.invalidateQueries({queryKey:[t]}),r&&n.invalidateQueries({queryKey:[t,r]})}})}function J5(t,e){const n=iu(),r=uC(n,t);return wm({mutationFn:async a=>{const o=a.id;if(!o)throw new Error("id required for update");await Z6(t,o,a,e)},onMutate:r.onMutate,onError:r.onError,onSettled:r.onSettled})}function W5(t){const e=iu();return wm({mutationFn:async n=>{if(!n)throw new Error("id required for delete");await Y6(t,n)},onMutate:async n=>{if(!n)return{};await e.cancelQueries({queryKey:[t]});const r=e.getQueryData([t,n]),a=e.getQueryData([t]);return a&&e.setQueryData([t],a.filter(o=>o.id!==n)),e.setQueryData([t,n],null),{previous:r,previousList:a}},onError:(n,r,a)=>{const o=r;a?.previous&&o&&e.setQueryData([t,o],a.previous),a?.previousList?e.setQueryData([t],a.previousList):e.invalidateQueries({queryKey:[t]})},onSettled:(n,r,a)=>{a&&e.invalidateQueries({queryKey:[t,a]}),e.invalidateQueries({queryKey:[t]})}})}function dC(t,e){const n=X5(t,e);return{create:n.mutateAsync,status:n.status,error:n.error??null}}function fC(t,e){const n=J5(t,e);return{update:n.mutateAsync,status:n.status,error:n.error??null}}function mC(t){const e=W5(t);return{remove:e.mutateAsync,status:e.status,error:e.error??null}}function pC(t,e,n){const r=!!t&&!!n,[a,o]=j.useState(null),[u,h]=j.useState(null);return j.useEffect(()=>{if(!r)return;const p=bv(Ss,t),y=e?p.withConverter(e):p,b=du(y,n),w=QI(b,I=>{I.exists()?o(I.data()):o(null)},I=>{h(I)});return()=>{w()}},[r,t,n,e]),{data:r?a:null,loading:r&&a===null&&u===null,error:r?u:null}}function gC(t,e){const[n,r]=j.useState(null),[a,o]=j.useState(!0),[u,h]=j.useState(null),[d,p]=j.useState(t);return j.useEffect(()=>{if(!t)return;const y=bv(Ss,t),b=e?y.withConverter(e):y,w=QI(b,I=>{const M=I.docs.map(P=>P.data());r(M),o(!1)},I=>{h(I),o(!1)});return()=>{w()}},[t,e]),t?{data:n,loading:a,error:u}:{data:[],loading:!1,error:new Error("Missing collectionName")}}function yC(t,e){function n(p){return cC(t,e,p)}function r(){return hC(t,e)}function a(){return dC(t,e)}function o(){return fC(t,e)}function u(){return mC(t)}function h(p){return pC(t,e,p)}function d(){return gC(t,e)}return{useEntity:n,useEntities:r,useCreate:a,useUpdate:o,useDelete:u,useEntityRealtime:h,useEntitiesRealtime:d}}function e8(t,e){function n(...p){const y=t(...p),b=hC(y,e);return y?b:{...b,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function r(...p){const y=p.slice(0,-1),b=p[p.length-1],w=t(...y),I=cC(w,e,b);return w?I:{...I,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}function a(...p){const y=t(...p),b=dC(y,e);return y?b:{...b,create:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function o(...p){const b=t(...p),w=fC(b,e);return b?w:{...w,update:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function u(...p){const y=t(...p),b=mC(y);return y?b:{...b,remove:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function h(...p){const y=t(...p),b=gC(y,e);return y?b:{...b,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function d(...p){const y=p.slice(0,-1),b=p[p.length-1],w=t(...y),I=pC(w,e,b);return w?I:{...I,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}return{useEntities:n,useEntity:r,useCreate:a,useUpdate:o,useDelete:u,useEntitiesRealtime:h,useEntityRealtime:d}}const _C=(t,e,n)=>e8(r=>r?`${t}/${r}/${e}`:void 0,n),{useEntities:Sh,useCreate:t8,useEntitiesRealtime:n8}=yC("players",Q5),{useEntity:r8,useEntities:Mo,useCreate:s8,useUpdate:vC,useEntityRealtime:i8}=yC("events",g_);function a8(t){return N_({queryKey:["events","byCode",t],queryFn:async()=>{if(!t)return null;const e=await J6("events","eventCode",t,g_);return e||await RR("events",t,g_)},enabled:!!t,staleTime:1e3*60})}const{useCreate:o8,useDelete:l8,useEntitiesRealtime:bC}=_C("events","courts",Y5),{useCreate:u8,useUpdate:c8,useDelete:h8,useEntitiesRealtime:EC}=_C("events","games",Z5);function TC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=TC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function d8(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=TC(t))&&(r&&(r+=" "),r+=e);return r}const f8=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},m8=(t,e)=>({classGroupId:t,validator:e}),wC=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),vm="-",w1=[],p8="arbitrary..",g8=t=>{const e=_8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return y8(u);const h=u.split(vm),d=h[0]===""&&h.length>1?1:0;return xC(h,d,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const d=r[u],p=n[u];return d?p?f8(p,d):d:p||w1}return n[u]||w1}}},xC=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],o=n.nextPart.get(a);if(o){const p=xC(t,e+1,o);if(p)return p}const u=n.validators;if(u===null)return;const h=e===0?t.join(vm):t.slice(e).join(vm),d=u.length;for(let p=0;p<d;p++){const y=u[p];if(y.validator(h))return y.classGroupId}},y8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?p8+r:void 0})(),_8=t=>{const{theme:e,classGroups:n}=t;return v8(n,e)},v8=(t,e)=>{const n=wC();for(const r in t){const a=t[r];n0(a,n,r,e)}return n},n0=(t,e,n,r)=>{const a=t.length;for(let o=0;o<a;o++){const u=t[o];b8(u,e,n,r)}},b8=(t,e,n,r)=>{if(typeof t=="string"){E8(t,e,n);return}if(typeof t=="function"){T8(t,e,n,r);return}w8(t,e,n,r)},E8=(t,e,n)=>{const r=t===""?e:SC(e,t);r.classGroupId=n},T8=(t,e,n,r)=>{if(x8(t)){n0(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(m8(n,t))},w8=(t,e,n,r)=>{const a=Object.entries(t),o=a.length;for(let u=0;u<o;u++){const[h,d]=a[u];n0(d,SC(e,h),n,r)}},SC=(t,e)=>{let n=t;const r=e.split(vm),a=r.length;for(let o=0;o<a;o++){const u=r[o];let h=n.nextPart.get(u);h||(h=wC(),n.nextPart.set(u,h)),n=h}return n},x8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,S8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(o,u)=>{n[o]=u,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let u=n[o];if(u!==void 0)return u;if((u=r[o])!==void 0)return a(o,u),u},set(o,u){o in n?n[o]=u:a(o,u)}}},y_="!",x1=":",A8=[],S1=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),I8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const o=[];let u=0,h=0,d=0,p;const y=a.length;for(let P=0;P<y;P++){const z=a[P];if(u===0&&h===0){if(z===x1){o.push(a.slice(d,P)),d=P+1;continue}if(z==="/"){p=P;continue}}z==="["?u++:z==="]"?u--:z==="("?h++:z===")"&&h--}const b=o.length===0?a:a.slice(d);let w=b,I=!1;b.endsWith(y_)?(w=b.slice(0,-1),I=!0):b.startsWith(y_)&&(w=b.slice(1),I=!0);const M=p&&p>d?p-d:void 0;return S1(o,I,w,M)};if(e){const a=e+x1,o=r;r=u=>u.startsWith(a)?o(u.slice(a.length)):S1(A8,!1,u,void 0,!0)}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},R8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let o=0;o<n.length;o++){const u=n[o],h=u[0]==="[",d=e.has(u);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(u)):a.push(u)}return a.length>0&&(a.sort(),r.push(...a)),r}},C8=t=>({cache:S8(t.cacheSize),parseClassName:I8(t),sortModifiers:R8(t),...g8(t)}),N8=/\s+/,k8=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,u=[],h=t.trim().split(N8);let d="";for(let p=h.length-1;p>=0;p-=1){const y=h[p],{isExternal:b,modifiers:w,hasImportantModifier:I,baseClassName:M,maybePostfixModifierPosition:P}=n(y);if(b){d=y+(d.length>0?" "+d:d);continue}let z=!!P,Z=r(z?M.substring(0,P):M);if(!Z){if(!z){d=y+(d.length>0?" "+d:d);continue}if(Z=r(M),!Z){d=y+(d.length>0?" "+d:d);continue}z=!1}const K=w.length===0?"":w.length===1?w[0]:o(w).join(":"),U=I?K+y_:K,re=U+Z;if(u.indexOf(re)>-1)continue;u.push(re);const te=a(Z,z);for(let he=0;he<te.length;++he){const R=te[he];u.push(U+R)}d=y+(d.length>0?" "+d:d)}return d},D8=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=AC(n))&&(a&&(a+=" "),a+=r);return a},AC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=AC(t[r]))&&(n&&(n+=" "),n+=e);return n},O8=(t,...e)=>{let n,r,a,o;const u=d=>{const p=e.reduce((y,b)=>b(y),t());return n=C8(p),r=n.cache.get,a=n.cache.set,o=h,h(d)},h=d=>{const p=r(d);if(p)return p;const y=k8(d,n);return a(d,y),y};return o=u,(...d)=>o(D8(...d))},M8=[],tn=t=>{const e=n=>n[t]||M8;return e.isThemeGetter=!0,e},IC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,P8=/^\d+\/\d+$/,V8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,j8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,z8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,L8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rl=t=>P8.test(t),ze=t=>!!t&&!Number.isNaN(Number(t)),Ki=t=>!!t&&Number.isInteger(Number(t)),wy=t=>t.endsWith("%")&&ze(t.slice(0,-1)),Gs=t=>V8.test(t),F8=()=>!0,B8=t=>j8.test(t)&&!z8.test(t),CC=()=>!1,q8=t=>L8.test(t),$8=t=>U8.test(t),H8=t=>!ve(t)&&!be(t),G8=t=>pu(t,DC,CC),ve=t=>IC.test(t),Za=t=>pu(t,OC,B8),xy=t=>pu(t,X8,ze),A1=t=>pu(t,NC,CC),K8=t=>pu(t,kC,$8),pf=t=>pu(t,MC,q8),be=t=>RC.test(t),Ac=t=>gu(t,OC),Q8=t=>gu(t,J8),I1=t=>gu(t,NC),Z8=t=>gu(t,DC),Y8=t=>gu(t,kC),gf=t=>gu(t,MC,!0),pu=(t,e,n)=>{const r=IC.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},gu=(t,e,n=!1)=>{const r=RC.exec(t);return r?r[1]?e(r[1]):n:!1},NC=t=>t==="position"||t==="percentage",kC=t=>t==="image"||t==="url",DC=t=>t==="length"||t==="size"||t==="bg-size",OC=t=>t==="length",X8=t=>t==="number",J8=t=>t==="family-name",MC=t=>t==="shadow",W8=()=>{const t=tn("color"),e=tn("font"),n=tn("text"),r=tn("font-weight"),a=tn("tracking"),o=tn("leading"),u=tn("breakpoint"),h=tn("container"),d=tn("spacing"),p=tn("radius"),y=tn("shadow"),b=tn("inset-shadow"),w=tn("text-shadow"),I=tn("drop-shadow"),M=tn("blur"),P=tn("perspective"),z=tn("aspect"),Z=tn("ease"),K=tn("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],te=()=>[...re(),be,ve],he=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],S=()=>[be,ve,d],C=()=>[Rl,"full","auto",...S()],V=()=>[Ki,"none","subgrid",be,ve],O=()=>["auto",{span:["full",Ki,be,ve]},Ki,be,ve],F=()=>[Ki,"auto",be,ve],N=()=>["auto","min","max","fr",be,ve],qe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ze=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...S()],de=()=>[Rl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],oe=()=>[t,be,ve],De=()=>[...re(),I1,A1,{position:[be,ve]}],je=()=>["no-repeat",{repeat:["","x","y","space","round"]}],k=()=>["auto","cover","contain",Z8,G8,{size:[be,ve]}],J=()=>[wy,Ac,Za],le=()=>["","none","full",p,be,ve],ue=()=>["",ze,Ac,Za],fe=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[ze,wy,I1,A1],gt=()=>["","none",M,be,ve],Je=()=>["none",ze,be,ve],An=()=>["none",ze,be,ve],Kn=()=>[ze,be,ve],Vn=()=>[Rl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gs],breakpoint:[Gs],color:[F8],container:[Gs],"drop-shadow":[Gs],ease:["in","out","in-out"],font:[H8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gs],shadow:[Gs],spacing:["px",ze],text:[Gs],"text-shadow":[Gs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Rl,ve,be,z]}],container:["container"],columns:[{columns:[ze,ve,be,h]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:te()}],overflow:[{overflow:he()}],"overflow-x":[{"overflow-x":he()}],"overflow-y":[{"overflow-y":he()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Ki,"auto",be,ve]}],basis:[{basis:[Rl,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,Rl,"auto","initial","none",ve]}],grow:[{grow:["",ze,be,ve]}],shrink:[{shrink:["",ze,be,ve]}],order:[{order:[Ki,"first","last","none",be,ve]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...qe(),"normal"]}],"justify-items":[{"justify-items":[...Ze(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ze()]}],"align-content":[{content:["normal",...qe()]}],"align-items":[{items:[...Ze(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ze(),{baseline:["","last"]}]}],"place-content":[{"place-content":qe()}],"place-items":[{"place-items":[...Ze(),"baseline"]}],"place-self":[{"place-self":["auto",...Ze()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[h,"screen",...de()]}],"min-w":[{"min-w":[h,"screen","none",...de()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...de()]}],h:[{h:["screen","lh",...de()]}],"min-h":[{"min-h":["screen","lh","none",...de()]}],"max-h":[{"max-h":["screen","lh",...de()]}],"font-size":[{text:["base",n,Ac,Za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,be,xy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wy,ve]}],"font-family":[{font:[Q8,ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,be,ve]}],"line-clamp":[{"line-clamp":[ze,"none",be,xy]}],leading:[{leading:[o,...S()]}],"list-image":[{"list-image":["none",be,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:oe()}],"text-color":[{text:oe()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",be,Za]}],"text-decoration-color":[{decoration:oe()}],"underline-offset":[{"underline-offset":[ze,"auto",be,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:De()}],"bg-repeat":[{bg:je()}],"bg-size":[{bg:k()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ki,be,ve],radial:["",be,ve],conic:[Ki,be,ve]},Y8,K8]}],"bg-color":[{bg:oe()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:oe()}],"gradient-via":[{via:oe()}],"gradient-to":[{to:oe()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:oe()}],"border-color-x":[{"border-x":oe()}],"border-color-y":[{"border-y":oe()}],"border-color-s":[{"border-s":oe()}],"border-color-e":[{"border-e":oe()}],"border-color-t":[{"border-t":oe()}],"border-color-r":[{"border-r":oe()}],"border-color-b":[{"border-b":oe()}],"border-color-l":[{"border-l":oe()}],"divide-color":[{divide:oe()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,be,ve]}],"outline-w":[{outline:["",ze,Ac,Za]}],"outline-color":[{outline:oe()}],shadow:[{shadow:["","none",y,gf,pf]}],"shadow-color":[{shadow:oe()}],"inset-shadow":[{"inset-shadow":["none",b,gf,pf]}],"inset-shadow-color":[{"inset-shadow":oe()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:oe()}],"ring-offset-w":[{"ring-offset":[ze,Za]}],"ring-offset-color":[{"ring-offset":oe()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":oe()}],"text-shadow":[{"text-shadow":["none",w,gf,pf]}],"text-shadow-color":[{"text-shadow":oe()}],opacity:[{opacity:[ze,be,ve]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":oe()}],"mask-image-linear-to-color":[{"mask-linear-to":oe()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":oe()}],"mask-image-t-to-color":[{"mask-t-to":oe()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":oe()}],"mask-image-r-to-color":[{"mask-r-to":oe()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":oe()}],"mask-image-b-to-color":[{"mask-b-to":oe()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":oe()}],"mask-image-l-to-color":[{"mask-l-to":oe()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":oe()}],"mask-image-x-to-color":[{"mask-x-to":oe()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":oe()}],"mask-image-y-to-color":[{"mask-y-to":oe()}],"mask-image-radial":[{"mask-radial":[be,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":oe()}],"mask-image-radial-to-color":[{"mask-radial-to":oe()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":re()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":oe()}],"mask-image-conic-to-color":[{"mask-conic-to":oe()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:De()}],"mask-repeat":[{mask:je()}],"mask-size":[{mask:k()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,ve]}],filter:[{filter:["","none",be,ve]}],blur:[{blur:gt()}],brightness:[{brightness:[ze,be,ve]}],contrast:[{contrast:[ze,be,ve]}],"drop-shadow":[{"drop-shadow":["","none",I,gf,pf]}],"drop-shadow-color":[{"drop-shadow":oe()}],grayscale:[{grayscale:["",ze,be,ve]}],"hue-rotate":[{"hue-rotate":[ze,be,ve]}],invert:[{invert:["",ze,be,ve]}],saturate:[{saturate:[ze,be,ve]}],sepia:[{sepia:["",ze,be,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",be,ve]}],"backdrop-blur":[{"backdrop-blur":gt()}],"backdrop-brightness":[{"backdrop-brightness":[ze,be,ve]}],"backdrop-contrast":[{"backdrop-contrast":[ze,be,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,be,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,be,ve]}],"backdrop-invert":[{"backdrop-invert":["",ze,be,ve]}],"backdrop-opacity":[{"backdrop-opacity":[ze,be,ve]}],"backdrop-saturate":[{"backdrop-saturate":[ze,be,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,be,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",be,ve]}],ease:[{ease:["linear","initial",Z,be,ve]}],delay:[{delay:[ze,be,ve]}],animate:[{animate:["none",K,be,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,be,ve]}],"perspective-origin":[{"perspective-origin":te()}],rotate:[{rotate:Je()}],"rotate-x":[{"rotate-x":Je()}],"rotate-y":[{"rotate-y":Je()}],"rotate-z":[{"rotate-z":Je()}],scale:[{scale:An()}],"scale-x":[{"scale-x":An()}],"scale-y":[{"scale-y":An()}],"scale-z":[{"scale-z":An()}],"scale-3d":["scale-3d"],skew:[{skew:Kn()}],"skew-x":[{"skew-x":Kn()}],"skew-y":[{"skew-y":Kn()}],transform:[{transform:[be,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:te()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Vn()}],"translate-x":[{"translate-x":Vn()}],"translate-y":[{"translate-y":Vn()}],"translate-z":[{"translate-z":Vn()}],"translate-none":["translate-none"],accent:[{accent:oe()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:oe()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,ve]}],fill:[{fill:["none",...oe()]}],"stroke-w":[{stroke:[ze,Ac,Za,xy]}],stroke:[{stroke:["none",...oe()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},eF=O8(W8);function Nt(...t){return eF(d8(t))}const tF=(t,e)=>{let n=null,r=0,a=0;return t.map(o=>{const u=e(o);return a+=1,(n===null||u!==n)&&(r=a,n=u),{...o,rank:r}})},nF={default:"bg-bg",subtle:"bg-bg-subtle",muted:"bg-bg-muted"},rF=sn.forwardRef(({className:t,variant:e="default",children:n,...r},a)=>v.jsx("section",{ref:a,className:Nt("py-8 md:py-12",nF[e],t),...r,children:n}));rF.displayName="Section";const sF={none:"",sm:"p-3",md:"p-4",lg:"p-6",xl:"p-8"},st=sn.forwardRef(({className:t,padding:e="md",children:n,...r},a)=>v.jsx("div",{ref:a,className:Nt("bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg",sF[e],t),...r,children:n}));st.displayName="Card";const iF=sn.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Nt("flex flex-col gap-1.5 pb-4",t),...e}));iF.displayName="CardHeader";const aF=sn.forwardRef(({className:t,as:e="h3",...n},r)=>v.jsx(e,{ref:r,className:Nt("text-lg font-semibold text-slate-900 dark:text-slate-100",t),...n}));aF.displayName="CardTitle";const oF=sn.forwardRef(({className:t,...e},n)=>v.jsx("p",{ref:n,className:Nt("text-sm text-slate-500 dark:text-slate-400",t),...e}));oF.displayName="CardDescription";const lF=sn.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Nt("",t),...e}));lF.displayName="CardContent";const uF=sn.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Nt("flex items-center pt-4",t),...e}));uF.displayName="CardFooter";const cF={h1:"text-3xl md:text-4xl",h2:"text-2xl md:text-3xl",h3:"text-xl md:text-2xl",h4:"text-lg md:text-xl"},hF=sn.forwardRef(({as:t="h2",className:e,description:n,children:r,...a},o)=>v.jsxs("div",{className:"mb-6",children:[v.jsx(t,{ref:o,className:Nt("font-semibold tracking-tight text-fg",cF[t],e),...a,children:r}),n&&v.jsx("p",{className:"mt-1 text-fg-muted",children:n})]}));hF.displayName="Heading";const dF=sn.forwardRef(({label:t,value:e,description:n,trend:r,className:a,...o},u)=>v.jsxs("div",{ref:u,className:Nt("",a),...o,children:[v.jsx("dt",{className:"text-sm text-fg-muted",children:t}),v.jsxs("dd",{className:"mt-1 flex items-baseline gap-2",children:[v.jsx("span",{className:"text-2xl font-semibold text-fg",children:e}),r&&v.jsxs("span",{className:Nt("text-sm font-medium",r==="up"&&"text-success",r==="down"&&"text-error",r==="neutral"&&"text-fg-muted"),children:[r==="up"&&"",r==="down"&&"",r==="neutral"&&""]})]}),n&&v.jsx("p",{className:"mt-1 text-sm text-fg-subtle",children:n})]}));dF.displayName="Stat";const fF=sn.forwardRef(({columns:t=3,className:e,children:n,...r},a)=>{const o={2:"grid-cols-2",3:"grid-cols-2 md:grid-cols-3",4:"grid-cols-2 md:grid-cols-4"};return v.jsx("dl",{ref:a,className:Nt("grid gap-4",o[t],e),...r,children:n})});fF.displayName="StatGroup";const mF={default:"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400",success:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",warning:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",error:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",accent:"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400"},Hr=sn.forwardRef(({variant:t="default",className:e,...n},r)=>v.jsx("span",{ref:r,className:Nt("inline-flex items-center rounded-md px-2 py-0.5 text-xs font-medium",mF[t],e),...n}));Hr.displayName="Badge";const R1={small:"w-8 h-8",default:"w-10 h-10",large:"w-16 h-16"},pF={small:32,default:40,large:64};function ah({src:t,photoUrl:e,userId:n,displayName:r,alt:a="User",size:o="default",className:u=""}){const h=t||e;if(h)return v.jsx("img",{src:h,alt:a,className:`
          ${R1[o]}
          rounded-full object-cover
          bg-slate-100 dark:bg-slate-800
          ${u}
        `});const p=lC({playerId:n||"default-user",playerName:r||a,size:pF[o]});return v.jsx("img",{src:p,alt:a,className:`
        ${R1[o]}
        rounded-full
        ${u}
      `})}const gF=sn.forwardRef(({divided:t=!1,className:e,children:n,...r},a)=>v.jsx("ul",{ref:a,className:Nt(t&&"divide-y divide-border",e),...r,children:n}));gF.displayName="List";const yF=sn.forwardRef(({className:t,children:e,...n},r)=>v.jsx("li",{ref:r,className:Nt("flex items-center justify-between py-3",t),...n,children:e}));yF.displayName="ListItem";const Ft=sn.forwardRef(({variant:t="primary",size:e="default",loading:n=!1,icon:r,iconPosition:a="left",label:o,className:u="",children:h,disabled:d,...p},y)=>{const b="inline-flex items-center justify-center gap-2 font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-primary-600 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",w={primary:"bg-primary-600 text-white hover:bg-primary-700 dark:bg-primary-500 dark:text-slate-950 dark:hover:bg-primary-400",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700",ghost:"bg-transparent text-slate-600 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800",destructive:"bg-red-600 text-white hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-400"},I={default:"h-11 px-4",small:"h-9 px-3 text-sm"};return v.jsx("button",{ref:y,disabled:d||n,className:Nt(b,w[t],I[e],u),...p,children:n?v.jsxs(v.Fragment,{children:[v.jsxs("svg",{className:"w-4 h-4 animate-spin text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),v.jsx("span",{children:o||h})]}):v.jsxs(v.Fragment,{children:[r&&a==="left"&&v.jsx("span",{className:"shrink-0",children:r}),o||h,r&&a==="right"&&v.jsx("span",{className:"shrink-0",children:r})]})})});Ft.displayName="Button";function tp({icon:t,title:e,description:n,action:r,className:a=""}){return v.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 text-center ${a}`,children:[t&&v.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-4",children:v.jsx(t,{className:"w-6 h-6 text-slate-400 dark:text-slate-500"})}),v.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-1",children:e}),n&&v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4 max-w-xs",children:n}),r&&v.jsx(Ft,{onClick:r.onClick,size:"small",children:r.label})]})}const Fr=sn.forwardRef(({className:t="",label:e,error:n,icon:r,required:a,type:o="text",...u},h)=>v.jsxs("div",{className:"space-y-1.5",children:[e&&v.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100",children:[e,a&&v.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),v.jsxs("div",{className:"relative",children:[r&&v.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500",children:r}),v.jsx("input",{ref:h,type:o,className:Nt("w-full h-11 bg-white dark:bg-slate-900","border rounded-lg text-slate-900 dark:text-slate-100","placeholder:text-slate-400 dark:placeholder:text-slate-500","focus:outline-none focus:border-primary-600 dark:focus:border-primary-400","disabled:opacity-50 disabled:cursor-not-allowed",r?"pl-10 pr-3":"px-3",n?"border-red-500":"border-slate-200 dark:border-slate-800",t),...u})]}),n&&v.jsx("p",{className:"text-sm text-red-500",children:n})]}));Fr.displayName="Input";const r0=sn.forwardRef(({className:t,error:e,children:n,...r},a)=>v.jsx("select",{ref:a,className:Nt("flex h-11 w-full rounded-lg border px-3 py-2 text-sm","bg-white dark:bg-slate-900","text-slate-900 dark:text-slate-100","focus:outline-none focus:border-primary-600 dark:focus:border-primary-400","disabled:cursor-not-allowed disabled:opacity-50",e?"border-red-500":"border-slate-200 dark:border-slate-800",t),...r,children:n}));r0.displayName="Select";const _F=sn.forwardRef(({className:t,required:e,children:n,...r},a)=>v.jsxs("label",{ref:a,className:Nt("text-sm font-medium text-fg",t),...r,children:[n,e&&v.jsx("span",{className:"ml-1 text-error",children:"*"})]}));_F.displayName="Label";const vF=sn.forwardRef(({className:t,children:e,...n},r)=>e?v.jsx("p",{ref:r,className:Nt("text-sm text-error",t),...n,children:e}):null);vF.displayName="ErrorText";const bF={small:"w-4 h-4",default:"w-6 h-6",large:"w-8 h-8"};function EF({className:t="",size:e="default"}){return v.jsxs("svg",{className:Nt("animate-spin text-primary-600 dark:text-primary-400",bF[e],t),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}const TF=sn.forwardRef(({showLabel:t=!1,className:e,...n},r)=>{const{theme:a,setTheme:o,isDark:u}=dS(),h=()=>{const p=["light","dark","system"],b=(p.indexOf(a)+1)%p.length;o(p[b])},d=()=>{switch(a){case"light":return"Light";case"dark":return"Dark";case"system":return"System"}};return v.jsxs("button",{ref:r,type:"button",onClick:h,className:Nt("inline-flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium","text-fg-muted hover:bg-bg-subtle hover:text-fg","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",e),"aria-label":`Current theme: ${d()}. Click to change.`,...n,children:[v.jsxs("svg",{className:Nt("h-4 w-4",u?"hidden":"block"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[v.jsx("circle",{cx:"12",cy:"12",r:"5"}),v.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}),v.jsx("svg",{className:Nt("h-4 w-4",u?"block":"hidden"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),t&&v.jsx("span",{children:d()})]})});TF.displayName="ThemeToggle";const wF=t=>t?t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",xF=t=>t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",SF=({players:t,topPlayers:e,seriesLabel:n,nextEvent:r})=>v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary-600 to-primary-800 dark:from-primary-700 dark:to-primary-900 p-6 text-white",children:[v.jsxs("div",{className:"absolute inset-0 opacity-10",children:[v.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full bg-white blur-3xl"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 rounded-full bg-white blur-2xl"})]}),v.jsxs("div",{className:"relative",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx(ei,{className:"w-5 h-5"}),v.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-white/80",children:n||"Season 1"})]}),v.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Paddle Up Premier League"}),v.jsx("p",{className:"text-sm text-white/80 mb-4",children:"Competitive pickleball every Sunday. Rotating partners, rising stakes."}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.jsx(Dn,{to:"/standings",children:v.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg bg-white/20 hover:bg-white/30 backdrop-blur px-4 py-2 text-sm font-medium transition-colors",children:[v.jsx(ei,{className:"w-4 h-4"}),"Standings",v.jsx(Ff,{className:"w-4 h-4"})]})}),v.jsx(Dn,{to:"/format",children:v.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg bg-white/10 hover:bg-white/20 backdrop-blur px-4 py-2 text-sm font-medium transition-colors",children:[v.jsx(oO,{className:"w-4 h-4"}),"League Format"]})})]})]})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Next Up"}),r?v.jsxs(st,{children:[v.jsxs(Dn,{to:r.eventCode?Oy(r.eventCode):`/event/${r.id}`,children:[v.jsx("h3",{className:"text-base font-medium text-slate-900 dark:text-slate-100 mb-2",children:r.name||"Match Night"}),v.jsxs("div",{className:"space-y-2 mb-3",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[v.jsx(Ws,{className:"w-4 h-4"}),v.jsx("span",{children:wF(r.startDateTime)})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[v.jsx(xm,{className:"w-4 h-4"}),v.jsx("span",{children:xF(r.startDateTime)})]}),r.location&&v.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[v.jsx(k_,{className:"w-4 h-4"}),v.jsx("span",{className:"truncate",children:r.location})]})]})]}),r.courtReserveUrl&&v.jsxs("a",{href:r.courtReserveUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center gap-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 text-sm font-medium transition-colors",onClick:a=>a.stopPropagation(),children:[v.jsx(cS,{className:"w-4 h-4"}),"Register on CourtReserve"]})]}):v.jsx(tp,{icon:Ws,title:"No upcoming events",description:"Check back later for upcoming match nights"})]}),v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Season Leaders"}),v.jsxs(Dn,{to:"/standings",className:"text-sm font-medium text-primary-600 dark:text-primary-400 hover:underline flex items-center gap-1",children:["View All ",v.jsx(Ff,{className:"w-3 h-3"})]})]}),e.length>0?v.jsx(st,{children:v.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:e.map((a,o)=>{const u=t.find(h=>h.id===a.playerId)||{name:"Unknown",imageUrl:"",id:"unknown"};return v.jsxs(Dn,{to:`/player/${a.playerId}`,className:"flex items-center justify-between py-3 -mx-4 px-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors first:pt-0 last:pb-0",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800 text-sm font-medium text-slate-600 dark:text-slate-400",children:o+1}),v.jsx(ah,{src:u.imageUrl,displayName:u.name,userId:u.id,alt:u.name,size:"default"}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:u.name})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:[a.points," pts"]}),v.jsxs("span",{className:"block text-xs text-slate-500 dark:text-slate-400",children:[a.events," Events"]})]})]},a.playerId)})})}):v.jsx(st,{children:v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center py-4",children:"No standings yet"})})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"About the League"}),v.jsxs(st,{children:[v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100 dark:border-slate-800",children:[v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Schedule"}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Sundays 7-10 PM"})]}),v.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100 dark:border-slate-800",children:[v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Players"}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"16 per night"})]}),v.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100 dark:border-slate-800",children:[v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Level"}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"DUPR 3.5+"})]}),v.jsxs("div",{className:"flex justify-between py-2",children:[v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Format"}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Rotating Partners"})]})]}),v.jsx("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-800",children:v.jsx(Dn,{to:"/format",children:v.jsxs(Ft,{variant:"secondary",className:"w-full",children:[v.jsx(hS,{className:"w-4 h-4"}),"Learn More"]})})})]})]})]}),ys=(t,e=3)=>e===5?RF(t):e===2?AF(t):IF(t),AF=t=>t<1?0:t===1?1e3:t===2?700:t>=8?Math.floor(ys(t-7)/10):t>=3?Math.floor(ys(t-2)/2):0,IF=t=>t<1?0:t===1?1e3:t===2?800:t===3?ys(2)*3/4:t===4?ys(2)*3/5:t>=11?Math.floor(ys(t-10)/10):t>=5?Math.floor(ys(t-3)/2):0,RF=t=>t<1?0:t===1?1e3:t===2?875:t===3?750:t===4?650:t===5?575:t>=19?Math.floor(ys(t-18)/10):t>=6?Math.floor(ys(t-5)/2):0,s0=t=>{if(!t.isCompleted||!Array.isArray(t.standings)||t.standings.length===0)return null;const e=t.standings,n=[];return e.forEach((r,a)=>{const o=a+1,u=Math.ceil(o/4),h=(o-1)%4+1,d=ys(o);n.push({playerId:r,court:u,position:h,rank:o,pointsEarned:d})}),n},CF=t=>{const e=new Map;return t.forEach(n=>{if(!n.standings||n.standings.length===0)return;const r={id:n.id,date:n.startDateTime?n.startDateTime.toISOString():n.id,isCompleted:!0,standings:n.standings},a=s0(r);a&&a.forEach(o=>{const u=o.playerId,h=o.pointsEarned||0,d=e.get(u)||{points:0,events:0,champWins:0};d.points+=h,d.events+=1,o.rank===1&&(d.champWins+=1),e.set(u,d)})}),e},NF=()=>{const{data:t=[]}=Mo(),{data:e=[]}=Sh(),n=j.useMemo(()=>{const o=new Map,u=new Map;(t||[]).filter(p=>Array.isArray(p.standings)&&p.standings.length>0).forEach(p=>{const y={id:p.id,date:p.startDateTime?p.startDateTime.toISOString():p.id,isCompleted:!0,standings:p.standings};(s0(y)||[]).forEach(w=>{const I=w.playerId,M=w.pointsEarned||0;o.set(I,(o.get(I)||0)+M),u.set(I,(u.get(I)||0)+1)})});const d=Array.from(o.entries()).map(([p,y])=>({playerId:p,points:y}));return d.sort((p,y)=>y.points-p.points),d.slice(0,3).map((p,y)=>({playerId:p.playerId,points:p.points,events:u.get(p.playerId)||0,rank:y+1}))},[t]),r=j.useMemo(()=>{const o=(t||[]).filter(h=>h.startDateTime instanceof Date&&!isNaN(h.startDateTime.getTime()));if(o.length===0)return"Challenge Series";const u=Array.from(new Set(o.map(h=>h.startDateTime.getFullYear()))).sort();return u.length===1?`${u[0]} Challenge`:`${u[0]}${u[u.length-1]} Challenge`},[t]),a=j.useMemo(()=>{if(!t||t.length===0)return null;const o=t.filter(p=>p.startDateTime instanceof Date&&!isNaN(p.startDateTime.getTime()));o.sort((p,y)=>p.startDateTime.getTime()-y.startDateTime.getTime());const h=new Date().getTime(),d=o.filter(p=>p.startDateTime.getTime()>=h);return d.length>0?d[0]:null},[t]);return v.jsx(SF,{players:e,topPlayers:n,seriesLabel:r,nextEvent:a})},PC=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"unknown":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`},kF=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Unknown Date":e.toLocaleDateString(void 0,{month:"short",year:"numeric"})},DF=t=>{const e=new Map;return t.forEach(n=>{if(n instanceof Date&&!isNaN(n.getTime())){const r=PC(n);e.has(r)||e.set(r,n)}}),Array.from(e.entries()).sort((n,r)=>r[1].getTime()-n[1].getTime()).map(([n,r])=>({key:n,label:kF(r)}))},VC=(t="all")=>{const{data:e=[]}=Sh(),{data:n=[]}=Mo();return j.useMemo(()=>{const r=n.filter(h=>Array.isArray(h.standings)&&h.standings.length>0?t==="all"?!0:PC(h.startDateTime)===t:!1),a=CF(r),o=Array.from(a.entries()).map(([h,d])=>({playerId:h,points:d.points,eventsPlayed:d.events,champWins:d.champWins}));return o.sort((h,d)=>d.points-h.points),tF(o,h=>h.points).map(h=>{const d=e.find(p=>p.id===h.playerId);return{...h,name:d?.name||"Unknown",imageUrl:d?.imageUrl||"",dupr:d?.dupr,id:h.playerId}})},[n,e,t])},OF=({selection:t,setSelection:e,months:n,leaderboard:r,players:a})=>v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:[r.length," Players"]}),v.jsx(r0,{value:t,onChange:o=>e(o.target.value),className:"min-w-[140px]",children:n.map(o=>v.jsx("option",{value:o.value,children:o.label},o.value))})]}),r.length>0?v.jsx(st,{children:v.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:r.map((o,u)=>{const h=a.find(p=>p.id===o.playerId)||{name:"Unknown",imageUrl:"",id:"unknown"},d=u+1;return v.jsxs(Dn,{to:`/player/${o.playerId}`,className:"flex items-center justify-between py-3 -mx-4 px-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors first:pt-0 last:pb-0",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:`
                      flex h-7 w-7 items-center justify-center rounded-full text-sm font-semibold
                      ${d===1?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":""}
                      ${d===2?"bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300":""}
                      ${d===3?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":""}
                      ${d>3?"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400":""}
                    `,children:d}),v.jsx(ah,{src:h.imageUrl,displayName:h.name,userId:h.id,alt:h.name,size:"default"}),v.jsxs("div",{children:[v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100 block",children:h.name}),v.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[o.events||0," events"]})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("span",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:o.points}),v.jsx("span",{className:"block text-xs text-slate-500 dark:text-slate-400",children:"points"})]})]},o.playerId)})})}):v.jsx(tp,{icon:ei,title:"No Standings Yet",description:"Standings will appear here once events have been completed"})]}),MF=()=>{const[t,e]=j.useState("all"),{data:n=[]}=Sh(),{data:r=[]}=Mo(),a=j.useMemo(()=>DF(r.map(u=>u.startDateTime)),[r]),o=VC(t);return v.jsx(OF,{selection:t,setSelection:e,months:a,leaderboard:o,players:n})},PF=()=>v.jsxs("div",{className:"space-y-6",children:[v.jsxs("section",{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Season 1 Championship"}),v.jsx(st,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 dark:border-slate-800",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Ws,{className:"w-4 h-4 text-slate-400"}),v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Duration"})]}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"4 Weeks"})]}),v.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 dark:border-slate-800",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(xm,{className:"w-4 h-4 text-slate-400"}),v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Schedule"})]}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Sundays 7-10 PM"})]}),v.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 dark:border-slate-800",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(nO,{className:"w-4 h-4 text-slate-400"}),v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Entry Fee"})]}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"$20/night"})]}),v.jsxs("div",{className:"flex items-center justify-between py-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(D_,{className:"w-4 h-4 text-slate-400"}),v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Eligibility"})]}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"DUPR 3.5+"})]})]})})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Season Prizes"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(st,{className:"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-amber-200 dark:bg-amber-800 text-amber-700 dark:text-amber-300 font-bold",children:"1"}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"First Place"})]}),v.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Joola Hat + 25 pts"})]})}),v.jsx(st,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 font-bold",children:"2"}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Second Place"})]}),v.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Joola Bottle + 15 pts"})]})}),v.jsx(st,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-orange-200 dark:bg-orange-800/50 text-orange-700 dark:text-orange-300 font-bold",children:"3"}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Third Place"})]}),v.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Wristbands + 10 pts"})]})})]})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Nightly Format"}),v.jsx(st,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"text-center pb-4 border-b border-slate-100 dark:border-slate-800",children:[v.jsx(hS,{className:"w-8 h-8 text-primary-600 dark:text-primary-400 mx-auto mb-2"}),v.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"4-5 Players"}),v.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"per court"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"2 Rounds"}),v.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"per night"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Rotating"}),v.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"partners"})]})]}),v.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-800 space-y-2",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"4 Players"}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"3 games to 15"})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"5 Players"}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"4 games to 11"})]})]})]})})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Round System"}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(st,{children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-primary-600 text-white text-sm font-bold shrink-0",children:"1"}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 mb-1",children:"Initial Seeding"}),v.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Snake draft based on previous results (random for week 1)"})]})]})}),v.jsx(st,{children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-amber-500 text-white text-sm font-bold shrink-0",children:"2"}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 mb-1",children:"Ranked Courts"}),v.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Top Round 1 finishers  Court 1, next group  Court 2, etc."})]})]})})]})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Points System"}),v.jsxs(st,{children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100 dark:border-slate-800",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Hr,{variant:"warning",children:"1st"}),v.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:"First Place"})]}),v.jsx("span",{className:"font-bold text-slate-900 dark:text-slate-100",children:"1,000 pts"})]}),v.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100 dark:border-slate-800",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Hr,{children:"2nd"}),v.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:"Second Place"})]}),v.jsx("span",{className:"font-bold text-slate-900 dark:text-slate-100",children:"800 pts"})]}),v.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100 dark:border-slate-800",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Hr,{children:"3rd"}),v.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:"Third Place"})]}),v.jsx("span",{className:"font-bold text-slate-900 dark:text-slate-100",children:"600 pts"})]}),v.jsxs("div",{className:"flex justify-between py-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Hr,{children:"4th"}),v.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:"Fourth Place"})]}),v.jsx("span",{className:"font-bold text-slate-900 dark:text-slate-100",children:"500 pts"})]})]}),v.jsx("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-800",children:v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"All positions earn points. Points count toward monthly, seasonal, and all-time rankings."})})]})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Quick Summary"}),v.jsx(st,{children:v.jsx("div",{className:"space-y-3",children:["Competitive league for DUPR 3.5+ players","Sunday evenings, 7PM10PM","Two rounds each night with partner rotation","Points determine standings and rankings"].map((t,e)=>v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(JD,{className:"w-5 h-5 text-emerald-500 shrink-0"}),v.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:t})]},e))})})]}),v.jsxs(st,{className:"text-center",children:[v.jsx(ei,{className:"w-10 h-10 text-primary-600 dark:text-primary-400 mx-auto mb-3"}),v.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Ready to Compete?"}),v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Check standings and register for upcoming events."}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx(Dn,{to:"/standings",children:v.jsxs(Ft,{className:"w-full",children:[v.jsx(ei,{className:"w-4 h-4"}),"View Standings"]})}),v.jsx(Dn,{to:"/schedule",children:v.jsxs(Ft,{variant:"secondary",className:"w-full",children:[v.jsx(Ff,{className:"w-4 h-4"}),"View Schedule"]})})]})]})]}),VF=()=>(j.useEffect(()=>{document.title="Pickleball League  Season 1 (Competitive)"},[]),v.jsx(PF,{})),jF=t=>t===1?"bg-amber-200 dark:bg-amber-800 text-amber-700 dark:text-amber-300":t===2?"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300":t===3?"bg-orange-200 dark:bg-orange-800/50 text-orange-700 dark:text-orange-300":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400",zF=({player:t,overallRank:e,currentStats:n,weeklyHistory:r,challengeEvents:a})=>t?v.jsxs("div",{className:"space-y-6",children:[v.jsx(st,{children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(ah,{src:t.imageUrl,displayName:t.name,userId:t.id,size:"large"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 truncate",children:t.name}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[t.dupr&&v.jsxs(Hr,{variant:"default",children:["DUPR ",t.dupr]}),e&&v.jsxs(Hr,{variant:"warning",children:["Rank #",e]})]})]})]})}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs(st,{className:"text-center",children:[v.jsx(ei,{className:"h-6 w-6 text-amber-500 mx-auto mb-2"}),v.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:n.points.toLocaleString()}),v.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Points"})]}),v.jsxs(st,{className:"text-center",children:[v.jsx(SO,{className:"h-6 w-6 text-emerald-500 mx-auto mb-2"}),v.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:n.champWins}),v.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Top Finishes"})]}),v.jsxs(st,{className:"text-center",children:[v.jsx($D,{className:"h-6 w-6 text-primary-600 dark:text-primary-400 mx-auto mb-2"}),v.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:r.length}),v.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Events"})]}),v.jsxs(st,{className:"text-center",children:[v.jsx(Ws,{className:"h-6 w-6 text-slate-400 mx-auto mb-2"}),v.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:n.events}),v.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Appearances"})]})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Event History"}),v.jsx(st,{children:r.length>0?v.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:r.slice().reverse().map((o,u)=>{const h=a.find(d=>d.id===o.eventId)?.name;return v.jsxs(Dn,{to:`/event/${o.eventId}`,className:"flex items-center justify-between py-3 hover:bg-slate-50 dark:hover:bg-slate-800 -mx-4 px-4 transition-colors",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:h||o.eventId}),v.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:o.date})]}),v.jsx("div",{className:"flex items-center gap-2",children:v.jsx("span",{className:`flex h-7 w-7 items-center justify-center rounded-full text-sm font-bold ${jF(o.rank)}`,children:o.rank})})]},u)})}):v.jsx("p",{className:"text-center py-6 text-slate-500 dark:text-slate-400",children:"No event history yet."})})]})]}):v.jsxs("div",{className:"text-center py-12",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Player Not Found"}),v.jsx(Dn,{to:"/standings",className:"text-primary-600 dark:text-primary-400 hover:underline",children:"Back to Standings"})]}),LF=()=>{const{id:t}=q1(),{data:e}=n8(),{data:n=[]}=Mo(),r=e?.find(y=>y.id===t),a=n.filter(y=>Array.isArray(y.standings)&&y.standings.length>0).map(y=>{const b={id:y.id,date:y.startDateTime?y.startDateTime.toISOString():y.id,isCompleted:!0,standings:y.standings},w=s0(b)||[];return{ev:y,finals:w}}),o=new Map;a.forEach(({finals:y})=>{y.forEach(b=>{const w=b.playerId,I=b.pointsEarned||0,M=o.get(w)||{points:0,events:0,champWins:0};M.points+=I,M.events+=1,b.rank===1&&(M.champWins+=1),o.set(w,M)})});const u=Array.from(o.entries()).map(([y,b])=>({playerId:y,points:b.points,eventsPlayed:b.events,champWins:b.champWins})).sort((y,b)=>b.points-y.points);let h=null;u.forEach((y,b)=>{y.playerId===t&&(h=b+1)});const d=o.get(t||"")||{points:0,events:0,champWins:0},p=[];return a.forEach(({ev:y,finals:b})=>{const w=b.find(I=>I.playerId===t);w&&p.push({eventId:y.id,date:y.startDateTime?y.startDateTime.toLocaleDateString():y.id,rank:w.rank})}),v.jsx(zF,{player:r,overallRank:h,currentStats:d,weeklyHistory:p,challengeEvents:n})};function jC(t,e){const n=b_(),r=da(),a=j.useMemo(()=>new URLSearchParams(r.search),[r.search]),o=j.useMemo(()=>a.get(t)??void 0,[a,t]),u=j.useCallback(p=>{const y=new URLSearchParams(r.search),b=y.get(t)??void 0;p!==b&&(p===void 0||p===""?y.delete(t):y.set(t,p),n({pathname:r.pathname,search:`?${y.toString()}`,hash:r.hash},{replace:!0}))},[n,r,t]),h=j.useCallback(async p=>{u(p)},[u]),d=j.useCallback(async p=>{u(p)},[u]);return j.useEffect(()=>{e!==void 0&&o===void 0&&d(e)},[e,o]),e===void 0?[o,h]:[o??e,d]}const UF=t=>t?t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",FF=t=>t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",BF=({view:t,setView:e,displayed:n})=>v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center rounded-lg border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 p-1",children:[v.jsx("button",{type:"button",onClick:()=>e("upcoming"),className:`flex-1 rounded-md px-4 py-2 text-sm font-medium transition-colors ${t==="upcoming"?"bg-primary-600 text-white dark:bg-primary-500":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100"}`,children:"Upcoming"}),v.jsx("button",{type:"button",onClick:()=>e("past"),className:`flex-1 rounded-md px-4 py-2 text-sm font-medium transition-colors ${t==="past"?"bg-primary-600 text-white dark:bg-primary-500":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100"}`,children:"Past"})]}),n.length>0?v.jsx("div",{className:"space-y-3",children:n.map(r=>v.jsxs(st,{className:"hover:border-slate-300 dark:hover:border-slate-700 transition-colors",children:[v.jsxs("div",{className:"flex items-start justify-between mb-2",children:[v.jsx("h3",{className:"text-base font-medium text-slate-900 dark:text-slate-100",children:r.name}),t==="past"&&v.jsxs(Hr,{variant:"success",children:[v.jsx(uS,{className:"mr-1 h-3 w-3"}),"Done"]})]}),v.jsxs("div",{className:"space-y-2 mb-4",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[v.jsx(Ws,{className:"w-4 h-4"}),v.jsx("span",{children:UF(r.startDateTime)})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[v.jsx(xm,{className:"w-4 h-4"}),v.jsx("span",{children:FF(r.startDateTime)})]}),r.location&&v.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[v.jsx(k_,{className:"w-4 h-4"}),v.jsx("span",{className:"truncate",children:r.location})]})]}),v.jsx("div",{className:"flex gap-2",children:t==="past"?v.jsx(Dn,{to:r.eventCode?Oy(r.eventCode):`/event/${r.id}`,className:"flex-1",children:v.jsx(Ft,{variant:"secondary",className:"w-full",children:"View Results"})}):v.jsxs(v.Fragment,{children:[(r.courtReserveUrl||r.link)&&v.jsx("a",{href:r.courtReserveUrl||r.link,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:v.jsxs(Ft,{className:"w-full bg-emerald-600 hover:bg-emerald-700",children:[v.jsx(cS,{className:"w-4 h-4"}),"Register on CourtReserve"]})}),v.jsx(Dn,{to:r.eventCode?Oy(r.eventCode):`/event/${r.id}`,children:v.jsx(Ft,{variant:"secondary",children:"Details"})})]})})]},r.id))}):v.jsx(tp,{icon:Ws,title:t==="upcoming"?"No Upcoming Events":"No Past Events",description:t==="upcoming"?"Check back soon for new match nights":"Past events will appear here once completed"})]}),qF=()=>{const{data:t}=Mo(),e=(t||[]).filter(d=>d.startDateTime instanceof Date&&!isNaN(d.startDateTime.getTime())).slice().sort((d,p)=>d.startDateTime.getTime()-p.startDateTime.getTime()),n=new Date,r=e.filter(d=>d.startDateTime.getTime()>=n.getTime()),a=e.filter(d=>d.startDateTime.getTime()<n.getTime()).slice().reverse(),[o,u]=jC("view","upcoming"),h=o==="upcoming"?r:a;return v.jsx(BF,{view:o,setView:d=>u(d),displayed:h})};function zC(){const[t,e]=j.useState(null),[n,r]=j.useState(!1),[a,o]=j.useState(!0);return j.useEffect(()=>{const u=pR(Pf,async h=>{if(e(h),!h){r(!1),o(!1);return}const p=(await h.getIdTokenResult(!0)).claims;r(p.admin===!0),o(!1)});return()=>u()},[]),{user:t,isAdmin:n,loading:a}}const $F=({user:t,isAdmin:e,handleSignIn:n,handleSignOut:r,name:a,setName:o,dupr:u,setDupr:h,imageUrl:d,setImageUrl:p,handleCreate:y,createStatus:b,createError:w,events:I,players:M,selectedEventId:P,setSelectedEventId:z,standingsList:Z,setStandingsList:K,addPlayerToStandings:U,removeFromStandings:re,moveUp:te,moveDown:he,handleSaveStandings:R,updateStatus:S,updateError:C,eventName:V,setEventName:O,eventCode:F,setEventCode:N,eventDate:qe,setEventDate:Ze,eventTime:X,setEventTime:de,eventLocation:oe,setEventLocation:De,courtReserveUrl:je,setCourtReserveUrl:k,handleCreateEvent:J,createEventStatus:le,createEventError:ue})=>v.jsxs("div",{className:"space-y-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Admin"}),t?v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Signed in as"}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:t.displayName??t.email}),v.jsx(Hr,{variant:e?"success":"default",children:e?"Admin":"User"})]}),v.jsx(Ft,{variant:"ghost",onClick:r,children:"Sign out"})]}),!e&&v.jsx("div",{className:"rounded-lg border border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 p-4",children:v.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:"You are not an admin. Editing is disabled."})}),v.jsxs(st,{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-1",children:"Create Event"}),v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Create a new league event."}),v.jsxs("form",{onSubmit:J,className:"space-y-4",children:[v.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"eventName",className:"block text-sm font-medium text-slate-900 dark:text-slate-100",children:"Event Name"}),v.jsx(Fr,{id:"eventName",value:V,onChange:fe=>O(fe.target.value),required:!0,placeholder:"Week 5 - Premier League"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"eventCode",className:"block text-sm font-medium text-slate-900 dark:text-slate-100",children:"Event Code (URL slug)"}),v.jsx(Fr,{id:"eventCode",value:F,onChange:fe=>N(fe.target.value),required:!0,placeholder:"week-5"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"eventDate",className:"block text-sm font-medium text-slate-900 dark:text-slate-100",children:"Date"}),v.jsx(Fr,{id:"eventDate",type:"date",value:qe,onChange:fe=>Ze(fe.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"eventTime",className:"block text-sm font-medium text-slate-900 dark:text-slate-100",children:"Time"}),v.jsx(Fr,{id:"eventTime",type:"time",value:X,onChange:fe=>de(fe.target.value),required:!0})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"eventLocation",className:"block text-sm font-medium text-slate-900 dark:text-slate-100",children:"Location (optional)"}),v.jsx(Fr,{id:"eventLocation",value:oe,onChange:fe=>De(fe.target.value),placeholder:"Pickleball Club STL"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"courtReserveUrl",className:"block text-sm font-medium text-slate-900 dark:text-slate-100",children:"CourtReserve URL (optional)"}),v.jsx(Fr,{id:"courtReserveUrl",value:je,onChange:fe=>k(fe.target.value),placeholder:"https://app.courtreserve.com/..."})]}),v.jsx("div",{className:"flex items-center gap-3",children:v.jsx(Ft,{type:"submit",disabled:!e||le==="pending"||!V||!F||!qe,loading:le==="pending",children:"Create Event"})}),ue&&v.jsxs("p",{className:"text-sm text-red-500",children:["Error: ",String(ue)]})]})]}),v.jsxs(st,{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-1",children:"Add Player"}),v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Create a new player in the system."}),v.jsxs("form",{onSubmit:y,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-900 dark:text-slate-100",children:"Name"}),v.jsx(Fr,{id:"name",value:a,onChange:fe=>o(fe.target.value),required:!0,placeholder:"Player name"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"dupr",className:"block text-sm font-medium text-slate-900 dark:text-slate-100",children:"DUPR (optional)"}),v.jsx(Fr,{id:"dupr",value:u,onChange:fe=>h(fe.target.value),inputMode:"decimal",placeholder:"3.5"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-slate-900 dark:text-slate-100",children:"Image URL (optional)"}),v.jsx(Fr,{id:"imageUrl",value:d,onChange:fe=>p(fe.target.value),placeholder:"https://..."})]}),v.jsx("div",{className:"flex items-center gap-3",children:v.jsx(Ft,{type:"submit",disabled:!e||b==="pending",loading:b==="pending",children:"Add player"})}),w&&v.jsxs("p",{className:"text-sm text-red-500",children:["Error: ",String(w)]})]})]}),v.jsxs(st,{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-1",children:"Manage Event Standings"}),v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Select an event, build an ordered standings list of players, and save."}),v.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100",children:"Event"}),v.jsxs(r0,{value:P??"",onChange:fe=>z(fe.target.value||void 0),children:[v.jsx("option",{value:"",children:"(select an event)"}),I.map(fe=>v.jsx("option",{value:fe.id,children:fe.name??fe.id},fe.id))]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100",children:"Players"}),v.jsx("div",{className:"max-h-56 overflow-auto rounded-lg border border-slate-200 dark:border-slate-800",children:M.length===0?v.jsx("p",{className:"p-3 text-sm text-slate-500 dark:text-slate-400",children:"No players found."}):v.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:M.map(fe=>v.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[v.jsx("span",{className:"text-sm text-slate-900 dark:text-slate-100",children:fe.name}),v.jsx(Ft,{size:"small",variant:"ghost",onClick:()=>U(fe.id),children:"Add"})]},fe.id))})})]})]}),v.jsxs("div",{className:"space-y-4 md:col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100",children:"Standings (ordered)"}),v.jsxs("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 p-3",children:[Z.length===0?v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No players in standings. Add players from the left."}):v.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:Z.map((fe,we)=>{const ye=M.find(gt=>gt.id===fe);return v.jsxs("div",{className:"flex items-center justify-between py-2",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("span",{className:"w-6 text-sm font-medium text-slate-500 dark:text-slate-400",children:[we+1,"."]}),v.jsx("span",{className:"text-sm text-slate-900 dark:text-slate-100",children:ye?ye.name:fe})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(Ft,{size:"small",variant:"ghost",onClick:()=>te(we),disabled:we===0,children:""}),v.jsx(Ft,{size:"small",variant:"ghost",onClick:()=>he(we),disabled:we===Z.length-1,children:""}),v.jsx(Ft,{size:"small",variant:"secondary",onClick:()=>re(we),children:"Remove"})]})]},`${fe}-${we}`)})}),v.jsxs("div",{className:"mt-4 flex items-center gap-3 border-t border-slate-200 dark:border-slate-800 pt-4",children:[v.jsx(Ft,{onClick:R,disabled:!e||S==="pending"||!P,loading:S==="pending",children:"Save standings"}),v.jsx(Ft,{variant:"secondary",onClick:()=>K([]),children:"Clear"})]}),C&&v.jsxs("p",{className:"mt-2 text-sm text-red-500",children:["Error: ",String(C)]})]})]})]})]})]}):v.jsxs(st,{className:"text-center py-12",children:[v.jsx("p",{className:"mb-6 text-slate-500 dark:text-slate-400",children:"Sign in with a Google account to access admin features."}),v.jsx(Ft,{onClick:n,children:"Sign in with Google"})]})]}),HF=()=>{const[t,e]=j.useState(null),n=new Ks,{isAdmin:r}=zC(),{create:a,status:o,error:u}=t8(),{create:h,status:d,error:p}=s8(),y=Mo(),b=Sh(),w=y.data??[],I=b.data??[],[M,P]=j.useState(void 0),[z,Z]=j.useState([]),{data:K}=r8(M)??{},{update:U,status:re,error:te}=vC(),[he,R]=j.useState(M),[S,C]=j.useState(K?.standings);j.useEffect(()=>{(M!==he||K?.standings!==S)&&(R(M),C(K?.standings),K?.standings&&Array.isArray(K.standings)?Z([...K.standings]):Z([]))},[M,K?.standings]);const V=Ye=>{Ye&&Z(yt=>[...yt,Ye])},O=Ye=>{Z(yt=>yt.filter((Ue,_t)=>_t!==Ye))},F=Ye=>{Ye<=0||Z(yt=>{const Ue=[...yt],_t=Ue[Ye-1];return Ue[Ye-1]=Ue[Ye],Ue[Ye]=_t,Ue})},N=Ye=>{Z(yt=>{if(Ye>=yt.length-1)return yt;const Ue=[...yt],_t=Ue[Ye+1];return Ue[Ye+1]=Ue[Ye],Ue[Ye]=_t,Ue})},qe=async()=>{if(!r){alert("You are not authorized to update events.");return}if(!M){alert("Select an event first.");return}try{await U({id:M,standings:z}),alert("Standings saved.")}catch(Ye){console.error("Save standings failed",Ye),alert("Failed to save standings. See console for details.")}},[Ze,X]=j.useState(""),[de,oe]=j.useState(""),[De,je]=j.useState(""),[k,J]=j.useState(""),[le,ue]=j.useState(""),[fe,we]=j.useState(""),[ye,gt]=j.useState("19:00"),[Je,An]=j.useState(""),[Kn,Vn]=j.useState(""),ui=async Ye=>{if(Ye.preventDefault(),!r){alert("You are not authorized to create events.");return}try{const yt=`${fe}T${ye}`,Ue=new Date(yt),_t={name:k.trim(),eventCode:le.trim().toLowerCase().replace(/\s+/g,"-"),startDateTime:Ue,location:Je.trim()||void 0,courtReserveUrl:Kn.trim()||void 0,status:"upcoming",createdAt:new Date};await h(_t),J(""),ue(""),we(""),gt("19:00"),An(""),Vn(""),alert("Event created successfully.")}catch(yt){console.error("Create event failed",yt),alert("Failed to create event. See console for details.")}},or=async Ye=>{if(Ye.preventDefault(),!r){alert("You are not authorized to add players.");return}try{const yt=de.trim()?Number(de):void 0,Ue={name:Ze.trim(),...yt!==void 0&&!Number.isNaN(yt)?{dupr:yt}:{},...De.trim()?{imageUrl:De.trim()}:{},createdAt:new Date().toISOString()};await a(Ue),X(""),oe(""),je(""),alert("Player added.")}catch(yt){console.error("Create player failed",yt),alert("Failed to add player. See console for details.")}};j.useEffect(()=>{const Ye=pR(Pf,yt=>{e(yt)});return()=>Ye()},[]);const ya=async()=>{try{await e6(Pf,n)}catch(Ye){console.error("Google sign-in failed",Ye),alert("Sign-in failed. See console for details.")}},As=async()=>{try{await Mj(Pf)}catch(Ye){console.error("Sign-out failed",Ye),alert("Sign-out failed. See console for details.")}};return v.jsx($F,{user:t,isAdmin:r,handleSignIn:ya,handleSignOut:As,name:Ze,setName:X,dupr:de,setDupr:oe,imageUrl:De,setImageUrl:je,handleCreate:or,createStatus:o,createError:u,events:w,players:I,selectedEventId:M,setSelectedEventId:P,standingsList:z,setStandingsList:Z,addPlayerToStandings:V,removeFromStandings:O,moveUp:F,moveDown:N,handleSaveStandings:qe,updateStatus:re,updateError:te,eventName:k,setEventName:J,eventCode:le,setEventCode:ue,eventDate:fe,setEventDate:we,eventTime:ye,setEventTime:gt,eventLocation:Je,setEventLocation:An,courtReserveUrl:Kn,setCourtReserveUrl:Vn,handleCreateEvent:ui,createEventStatus:d,createEventError:p})},LC=(t,e=5)=>{const n=e===5?4:5,r=(o,u)=>{if(o===0)return u;if(o<0||u>=7)return-1;const h=r(o-e,u+1);return h!==-1?h:r(o-n,u+1)},a=r(t,0);if(a<=0)throw new Error("Invalid number of players for court allocation");return a},GF=t=>{try{return LC(t,5),!0}catch{return!1}},bm=(t,e,n=5)=>{const r=LC(t,n),a=Array.from({length:r},()=>({seeds:[]}));let o=0,u=1;if(e===1)for(let h=1;h<=t;h++)a[o].seeds.push(h),o+=u,(o===r||o===-1)&&(u*=-1,o+=u);else if(e===2){const h=Math.floor(t/r);let d=t%r,p=1;for(let y=0;y<r;y++){const b=h+(d>0?1:0);for(let w=0;w<b;w++)a[y].seeds.push(p++);d>0&&d--}}return a},KF=(t,e,n=5)=>{const r=t.length;return bm(r,e,n).map((u,h)=>{const d=u.seeds.map(p=>t[p-1]);return{courtNumber:h+1,playerIds:d,roundNumber:e}})},QF=t=>{const{roundNumber:e,playerIds:n}=t;if(n.length===4){const[r,a,o,u]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:u}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:u}},{team1:{player1Id:r,player2Id:u},team2:{player1Id:a,player2Id:o}}].map(d=>({...d,roundNumber:e}))}if(n.length===5){const[r,a,o,u,h]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:u}},{team1:{player1Id:a,player2Id:o},team2:{player1Id:u,player2Id:h}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:h}},{team1:{player1Id:r,player2Id:u},team2:{player1Id:o,player2Id:h}},{team1:{player1Id:r,player2Id:h},team2:{player1Id:a,player2Id:u}}].map(p=>({...p,roundNumber:e}))}throw new Error("Invalid number of players for game generation")},ZF=(t,e,n)=>n===2&&t.courtNumber!==e.courtNumber?t.courtNumber-e.courtNumber:t.pointWinRate!==e.pointWinRate?e.pointWinRate-t.pointWinRate:t.seed-e.seed;function i0(t,e){if(!t?.length)return[];if(![1,2,3].includes(e))return[];const n=t.reduce((u,h)=>u+h.playerIds.length,0),r=bm(n,e),a=t.flatMap((u,h)=>{const d=u.playerIds.map((p,y)=>({id:p,courtNumber:u.courtNumber,wins:0,losses:0,pointDifferential:0,pointsEarned:0,pointsAgainst:0,pointWinRate:0,seed:r[h].seeds[y],roundPlace:0,nextCourt:0}));for(const p of u.games){const{team1:y,team2:b,team1Score:w,team2Score:I}=p,M=(U,re,te,he)=>{if(re===void 0||te===void 0)return;const R=re>te||re===te&&he;U.wins+=R?1:0,U.losses+=R?0:1,U.pointsEarned+=re,U.pointsAgainst+=te,U.pointDifferential+=re-te;const S=U.pointsEarned+U.pointsAgainst;U.pointWinRate=S===0?0:U.pointsEarned/S},P=d.find(U=>U.id===y.player1Id),z=d.find(U=>U.id===y.player2Id),Z=d.find(U=>U.id===b.player1Id),K=d.find(U=>U.id===b.player2Id);M(P,w,I,!0),M(z,w,I,!0),M(Z,I,w,!1),M(K,I,w,!1)}return d}),o=(u,h)=>ZF(u,h,e);if(a.sort(o),a.forEach((u,h)=>{u.roundPlace=h+1}),e===1){const u=t.reduce((d,p)=>d+p.playerIds.length,0),h=bm(u,2);a.forEach(d=>{const p=h.findIndex(y=>y.seeds.includes(d.roundPlace));d.nextCourt=p+1})}return a}const C1=(t,e)=>{const{data:n}=bC(t),{data:r}=EC(t);return j.useMemo(()=>{if(typeof e!="number"||![1,2].includes(e)||!n||!r||n.length===0)return;const o=n.reduce((d,p)=>d+p.playerIds.length,0),u=bm(o,e),h=n.filter(d=>d.roundNumber===e).sort((d,p)=>d.courtNumber-p.courtNumber).map((d,p)=>({...d,seeds:u[p].seeds,games:r.filter(y=>y.courtId===d.id)}));if(h.length!==0)return{roundNumber:e,courts:h,standings:i0(h,e).map(d=>d.id)}},[n,r,e])},YF=t=>{const{data:e}=Mo(),[n,r]=j.useState(t),a=t??n,{data:o}=i8(a),{update:u}=vC(),h=C1(a,1),d=C1(a,2),p=j.useCallback(k=>{const J=k===1?h:d;return J!==void 0&&J.courts.length>0},[h,d]),y=j.useCallback(k=>{const J=k===1?h:d;return J?J.courts.every(le=>le.games.every(ue=>ue.team1Score!==void 0&&ue.team2Score!==void 0)):!1},[h,d]),b=j.useMemo(()=>o?.ongoingStage||1,[o]),[w,I]=jC("stage",b),M=j.useCallback(k=>{I(typeof k=="string"?k:k.toString())},[I]),P=j.useMemo(()=>{if(w==="initial"||w==="standings")return w;const k=parseInt(w,10);return[1,2,3].includes(k)?k:b},[w,b]),z=j.useCallback(k=>{o&&u({id:o.id,ongoingStage:k})},[o,u]),{create:Z}=o8(a),{create:K}=u8(a),{update:U}=c8(a),{data:re=[]}=EC(a),{remove:te}=h8(a),{data:he=[]}=bC(a),{remove:R}=l8(a),S=j.useCallback(async()=>{if(window.confirm("Are you sure you want to clear all data and start over?")&&n){for(const k of re||[])await te(k.id);for(const k of he||[])await R(k.id);z(1),M(1)}},[n,z,M,re,te,he,R]),C=j.useCallback(async(k,J)=>{if(p(J)){console.error(`Round ${J} has already been created.`);return}if(GF(k.length)===!1){console.error(`Invalid number of players: ${k.length}. Must be between 8 and 35 players.`);return}const le=KF(k,J);for(const ue of le){const fe=await Z(ue),we=QF(ue);for(const ye of we)await K({courtId:fe,...ye});z(J),M(J)}},[p,Z,z,M,K]),V=VC(),O=j.useCallback(async k=>{const J=k.sort((le,ue)=>{const fe=V.find(ye=>ye.playerId===le);return(V.find(ye=>ye.playerId===ue)?.points||0)-(fe?.points||0)});await C(J,1)},[C,V]),F=j.useCallback(async()=>{if(!y(1)){alert("Cannot advance to round 2: round 1 is not complete.");return}if(p(2)){alert("Round 2 has already been created.");return}if(!h?.courts||h.courts.length===0){alert("No courts available from round 1 to advance to round 2.");return}const k=i0(h.courts,1);await C(k.map(J=>J.id),2),M(2),z(2)},[y,p,h,M,z,C]),N=()=>{if(!o){alert("No event selected to finalize.");return}if(!d){alert("Cannot finalize event: round 2 data is missing.");return}if(!y(2)){alert("Cannot finalize event: round 2 is not complete.");return}o.standings&&o.standings.length>0&&window.confirm("Standings already exist. Overwrite?")===!1||(u({id:o.id,standings:d.standings}),M("standings"))},qe=j.useMemo(()=>re?.filter(k=>k.team1Score!==void 0&&k.team2Score!==void 0).length||0,[re]),Ze=j.useMemo(()=>re?.length||1,[re]),X=Math.round(qe/Math.max(1,Ze)*100),de=j.useCallback((k,J,le)=>{U({id:k,[J]:le})},[U]),oe=j.useMemo(()=>p(2)===!1,[p]),De=j.useMemo(()=>o?.standings===void 0||o.standings.length===0,[o]),je=j.useMemo(()=>p(1)===!1,[p]);return{events:e,selectedEventId:a,setSelectedEventId:r,round1:h,round2:d,needsInitialization:je,event:o,currentView:P,setCurrentView:M,completedMatches:qe,totalMatches:Ze,progressPercent:X,handleScoreChange:de,areRound1UpdatesAllowed:oe,areRound2UpdatesAllowed:De,initializeRoundOne:O,advanceToRoundTwo:F,finalizeEvent:N,resetAll:S,apiError:null}};function XF(t){return t?t.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"}):""}function JF(t){return t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):""}const WF=({event:t,eventLoading:e,players:n,isAdmin:r,challenge:a,selectedPlayerIds:o,searchTerm:u,setSearchTerm:h,isInitializing:d,highlightedPlayerId:p,setHighlightedPlayerId:y,filteredPlayers:b,handlePlayerToggle:w,handleInitializeRound:I,handleAdvanceToRoundTwo:M,handleFinalizeEvent:P,calculatePlayerRankings:z,getPointsForRank:Z})=>{if(e)return v.jsx("div",{className:"flex min-h-[300px] items-center justify-center",children:v.jsx(EF,{size:"large"})});if(!t)return v.jsx(tp,{icon:Ws,title:"Event Not Found",description:"This event doesn't exist or has been removed",action:{label:"View Schedule",onClick:()=>window.location.href="/schedule"}});const K=a.currentView===1?a.round1:a.currentView===2?a.round2:null;return v.jsxs("div",{className:"space-y-6",children:[v.jsxs(st,{children:[v.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:t.name}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[v.jsx(Ws,{className:"w-4 h-4 text-slate-400"}),v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:XF(t.startDateTime)})]}),v.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[v.jsx(xm,{className:"w-4 h-4 text-slate-400"}),v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:JF(t.startDateTime)})]}),t.location&&v.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[v.jsx(k_,{className:"w-4 h-4 text-slate-400"}),v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:t.location})]})]})]}),r&&a.needsInitialization&&v.jsxs("section",{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Initialize Event"}),v.jsx(st,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsx(Fr,{placeholder:"Search players...",value:u,onChange:U=>h(U.target.value),icon:v.jsx(_O,{className:"w-4 h-4"})}),v.jsx("div",{className:"text-center py-2",children:v.jsxs(Hr,{variant:o.length>=8?"success":"warning",children:[o.length," players selected",o.length<8&&" (min 8)"]})}),v.jsx("div",{className:"grid gap-2 sm:grid-cols-2 max-h-64 overflow-y-auto",children:b.map(U=>{const re=o.includes(U.id||"");return v.jsxs("button",{type:"button",onClick:()=>w(U.id||""),className:`flex items-center gap-3 rounded-lg border p-3 text-left transition-colors ${re?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-slate-200 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[v.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full ${re?"bg-primary-600":"border-2 border-slate-300 dark:border-slate-600"}`,children:re&&v.jsx(uS,{className:"h-3 w-3 text-white"})}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100 truncate",children:U.name})]},U.id)})}),v.jsxs(Ft,{className:"w-full",onClick:I,disabled:o.length<8||o.length>35||d,loading:d,children:[v.jsx(mO,{className:"w-4 h-4"}),"Start Round 1"]})]})})]}),!a.needsInitialization&&v.jsx("div",{className:"flex items-center rounded-lg border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 p-1",children:[1,2,"standings"].map(U=>{const re=a.currentView===U,te=U===1||U===2&&a.round1||U==="standings"&&a.round2;return v.jsx("button",{type:"button",onClick:()=>a.setCurrentView(U),disabled:!te,className:`flex-1 rounded-md px-3 py-2 text-sm font-medium transition-colors disabled:opacity-50 ${re?"bg-primary-600 text-white dark:bg-primary-500":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100"}`,children:U==="standings"?"Results":`Round ${U}`},String(U))})}),!a.needsInitialization&&K&&v.jsxs("div",{className:"flex items-center justify-between text-sm",children:[v.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[a.completedMatches," of ",a.totalMatches," matches"]}),v.jsxs("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:[a.progressPercent,"%"]})]}),K&&v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsxs("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:["Round ",a.currentView," Courts"]}),r&&v.jsxs("div",{className:"flex gap-2",children:[a.currentView===1&&v.jsxs(Ft,{size:"small",onClick:M,disabled:a.progressPercent<100,children:[v.jsx(Ff,{className:"w-4 h-4"}),"Round 2"]}),a.currentView===2&&v.jsxs(Ft,{size:"small",onClick:P,disabled:a.progressPercent<100,children:[v.jsx(ei,{className:"w-4 h-4"}),"Finalize"]})]})]}),v.jsx("div",{className:"space-y-4",children:K.courts.map((U,re)=>v.jsxs(st,{id:`court-${U.id}`,children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsxs("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:["Court ",re+1]}),v.jsxs(Hr,{children:[U.playerIds.length," players"]})]}),v.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4 flex items-center gap-1",children:[v.jsx(D_,{className:"w-3 h-3"}),U.playerIds.length===5?v.jsx("span",{children:"First to 11, win by 1"}):v.jsx("span",{children:"First to 15, win by 1"})]}),v.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:U.playerIds.map(te=>{const he=n.find(R=>R.id===te);return v.jsxs("div",{className:`flex items-center gap-2 rounded-lg px-2 py-1 text-sm ${p===te?"bg-primary-100 dark:bg-primary-900/30":"bg-slate-100 dark:bg-slate-800"}`,children:[v.jsx(ah,{src:he?.imageUrl,displayName:he?.name,userId:te,size:"small"}),v.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:he?.name||"Unknown"})]},te)})}),v.jsx("div",{className:"space-y-2",children:U.games.filter(te=>te.roundNumber===a.currentView).map((te,he)=>{const R=n.find(O=>O.id===te.team1.player1Id),S=n.find(O=>O.id===te.team1.player2Id),C=n.find(O=>O.id===te.team2.player1Id),V=n.find(O=>O.id===te.team2.player2Id);return te.team1Score!==void 0&&te.team2Score,v.jsx("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 p-3",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"flex-1 text-right pr-3",children:v.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:[R?.name?.split(" ")[0]," & ",S?.name?.split(" ")[0]]})}),v.jsx("div",{className:"flex items-center gap-2 px-3",children:r?v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"number",min:"0",max:"21",className:"w-12 h-8 text-center rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",value:te.team1Score??"",onChange:O=>a.handleScoreChange(te.id,"team1Score",parseInt(O.target.value)||0)}),v.jsx("span",{className:"text-slate-400",children:"-"}),v.jsx("input",{type:"number",min:"0",max:"21",className:"w-12 h-8 text-center rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",value:te.team2Score??"",onChange:O=>a.handleScoreChange(te.id,"team2Score",parseInt(O.target.value)||0)})]}):v.jsxs("span",{className:"font-bold text-slate-900 dark:text-slate-100",children:[te.team1Score??"-"," - ",te.team2Score??"-"]})}),v.jsx("div",{className:"flex-1 text-left pl-3",children:v.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:[C?.name?.split(" ")[0]," & ",V?.name?.split(" ")[0]]})})]})},te.id||he)})})]},U.id))})]}),a.currentView==="standings"&&t.standings&&v.jsxs("section",{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Final Standings"}),v.jsx(st,{children:v.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:t.standings.map((U,re)=>{const te=n.find(S=>S.id===U),he=re+1,R=Z(he);return v.jsxs("div",{className:"flex items-center justify-between py-3 -mx-4 px-4 first:pt-0 last:pb-0",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:`flex h-7 w-7 items-center justify-center rounded-full text-sm font-bold ${he===1?"bg-amber-200 dark:bg-amber-800 text-amber-700 dark:text-amber-300":he===2?"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300":he===3?"bg-orange-200 dark:bg-orange-800/50 text-orange-700 dark:text-orange-300":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400"}`,children:he}),v.jsx(ah,{src:te?.imageUrl,displayName:te?.name,userId:U,size:"default"}),v.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:te?.name||"Unknown"})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("div",{className:"flex items-center gap-1 text-emerald-600 dark:text-emerald-400 font-bold text-lg",children:[v.jsx(gO,{className:"w-4 h-4"}),R.toLocaleString()]}),v.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"points"})]})]},U)})})})]})]})},eB=()=>{const{eventCode:t}=q1(),e=t?decodeURIComponent(t):"",{data:n,isLoading:r}=a8(e),{data:a=[]}=Sh(),{isAdmin:o}=zC(),u=YF(n?.id),[h,d]=j.useState([]),[p,y]=j.useState(""),[b,w]=j.useState(!1),[I,M]=j.useState(null),P=j.useMemo(()=>a.filter(re=>re.name.toLowerCase().includes(p.toLowerCase())).sort((re,te)=>re.name.localeCompare(te.name)),[a,p]),z=re=>{d(te=>te.includes(re)?te.filter(he=>he!==re):[...te,re])},Z=async()=>{if(h.length<8||h.length>35){alert("Please select between 8-35 players");return}w(!0);try{await u.initializeRoundOne(h),d([])}catch(re){console.error("Failed to initialize round:",re),alert("Failed to initialize round. Please try again.")}finally{w(!1)}},K=async()=>{if(window.confirm("Are you sure you want to advance to Round 2? This cannot be undone."))try{await u.advanceToRoundTwo()}catch(re){console.error("Failed to advance to round 2:",re),alert("Failed to advance to Round 2. Please try again.")}},U=()=>{window.confirm("Are you sure you want to finalize this event? Final standings will be published.")&&u.finalizeEvent()};return v.jsx(WF,{event:n,eventLoading:r,players:a,isAdmin:o,challenge:u,selectedPlayerIds:h,searchTerm:p,setSearchTerm:y,isInitializing:b,highlightedPlayerId:I,setHighlightedPlayerId:M,filteredPlayers:P,handlePlayerToggle:z,handleInitializeRound:Z,handleAdvanceToRoundTwo:K,handleFinalizeEvent:U,calculatePlayerRankings:i0,getPointsForRank:ys})},tB=()=>v.jsxs(wk,{children:[v.jsx(Qi,{path:$n.HOME,element:v.jsx(Ka,{title:"Paddle Up Premier League",children:v.jsx(NF,{})})}),v.jsx(Qi,{path:$n.STANDINGS,element:v.jsx(Ka,{title:"Standings",children:v.jsx(MF,{})})}),v.jsx(Qi,{path:$n.SCHEDULE,element:v.jsx(Ka,{title:"Schedule",children:v.jsx(qF,{})})}),v.jsx(Qi,{path:$n.PLAYER_PROFILE,element:v.jsx(Ka,{showBack:!0,showBottomNav:!1,children:v.jsx(LF,{})})}),v.jsx(Qi,{path:$n.FORMAT,element:v.jsx(Ka,{title:"Format",children:v.jsx(VF,{})})}),v.jsx(Qi,{path:$n.ADMIN,element:v.jsx(Ka,{title:"Admin",children:v.jsx(HF,{})})}),v.jsx(Qi,{path:$n.EVENT_DETAIL,element:v.jsx(Ka,{showBack:!0,showBottomNav:!1,children:v.jsx(eB,{})})})]}),nB=new SD;AN.createRoot(document.getElementById("root")).render(v.jsx(j.StrictMode,{children:v.jsx(AD,{client:nB,children:v.jsx(Kk,{children:v.jsx(tB,{})})})}));
