(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function uC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zg={exports:{}},pu={};var vw;function dC(){if(vw)return pu;vw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:o}}return pu.Fragment=e,pu.jsx=n,pu.jsxs=n,pu}var bw;function hC(){return bw||(bw=1,Zg.exports=dC()),Zg.exports}var f=hC(),Yg={exports:{}},Oe={};var xw;function fC(){if(xw)return Oe;xw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function A(R){return R===null||typeof R!="object"?null:(R=E&&R[E]||R["@@iterator"],typeof R=="function"?R:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,O={};function J(R,Q,ie){this.props=R,this.context=Q,this.refs=O,this.updater=ie||j}J.prototype.isReactComponent={},J.prototype.setState=function(R,Q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Q,"setState")},J.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function $(){}$.prototype=J.prototype;function Z(R,Q,ie){this.props=R,this.context=Q,this.refs=O,this.updater=ie||j}var ae=Z.prototype=new $;ae.constructor=Z,D(ae,J.prototype),ae.isPureReactComponent=!0;var le=Array.isArray;function fe(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(R,Q,ie){var ue=ie.ref;return{$$typeof:t,type:R,key:Q,ref:ue!==void 0?ue:null,props:ie}}function V(R,Q){return C(R.type,Q,R.props)}function M(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function U(R){var Q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ie){return Q[ie]})}var k=/\/+/g;function Ke(R,Q){return typeof R=="object"&&R!==null&&R.key!=null?U(""+R.key):Q.toString(36)}function Ze(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(fe,fe):(R.status="pending",R.then(function(Q){R.status==="pending"&&(R.status="fulfilled",R.value=Q)},function(Q){R.status==="pending"&&(R.status="rejected",R.reason=Q)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function X(R,Q,ie,ue,Ae){var ke=typeof R;(ke==="undefined"||ke==="boolean")&&(R=null);var Ne=!1;if(R===null)Ne=!0;else switch(ke){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(R.$$typeof){case t:case e:Ne=!0;break;case v:return Ne=R._init,X(Ne(R._payload),Q,ie,ue,Ae)}}if(Ne)return Ae=Ae(R),Ne=ue===""?"."+Ke(R,0):ue,le(Ae)?(ie="",Ne!=null&&(ie=Ne.replace(k,"$&/")+"/"),X(Ae,Q,ie,"",function(Wn){return Wn})):Ae!=null&&(M(Ae)&&(Ae=V(Ae,ie+(Ae.key==null||R&&R.key===Ae.key?"":(""+Ae.key).replace(k,"$&/")+"/")+Ne)),Q.push(Ae)),1;Ne=0;var St=ue===""?".":ue+":";if(le(R))for(var tt=0;tt<R.length;tt++)ue=R[tt],ke=St+Ke(ue,tt),Ne+=X(ue,Q,ie,ke,Ae);else if(tt=A(R),typeof tt=="function")for(R=tt.call(R),tt=0;!(ue=R.next()).done;)ue=ue.value,ke=St+Ke(ue,tt++),Ne+=X(ue,Q,ie,ke,Ae);else if(ke==="object"){if(typeof R.then=="function")return X(Ze(R),Q,ie,ue,Ae);throw Q=String(R),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function de(R,Q,ie){if(R==null)return R;var ue=[],Ae=0;return X(R,ue,"","",function(ke){return Q.call(ie,ke,Ae++)}),ue}function oe(R){if(R._status===-1){var Q=R._result;Q=Q(),Q.then(function(ie){(R._status===0||R._status===-1)&&(R._status=1,R._result=ie)},function(ie){(R._status===0||R._status===-1)&&(R._status=2,R._result=ie)}),R._status===-1&&(R._status=0,R._result=Q)}if(R._status===1)return R._result.default;throw R._result}var ge=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Ie={map:de,forEach:function(R,Q,ie){de(R,function(){Q.apply(this,arguments)},ie)},count:function(R){var Q=0;return de(R,function(){Q++}),Q},toArray:function(R){return de(R,function(Q){return Q})||[]},only:function(R){if(!M(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Oe.Activity=b,Oe.Children=Ie,Oe.Component=J,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=Z,Oe.StrictMode=r,Oe.Suspense=h,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return I.H.useMemoCache(R)}},Oe.cache=function(R){return function(){return R.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(R,Q,ie){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ue=D({},R.props),Ae=R.key;if(Q!=null)for(ke in Q.key!==void 0&&(Ae=""+Q.key),Q)!S.call(Q,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&Q.ref===void 0||(ue[ke]=Q[ke]);var ke=arguments.length-2;if(ke===1)ue.children=ie;else if(1<ke){for(var Ne=Array(ke),St=0;St<ke;St++)Ne[St]=arguments[St+2];ue.children=Ne}return C(R.type,Ae,ue)},Oe.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},Oe.createElement=function(R,Q,ie){var ue,Ae={},ke=null;if(Q!=null)for(ue in Q.key!==void 0&&(ke=""+Q.key),Q)S.call(Q,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ae[ue]=Q[ue]);var Ne=arguments.length-2;if(Ne===1)Ae.children=ie;else if(1<Ne){for(var St=Array(Ne),tt=0;tt<Ne;tt++)St[tt]=arguments[tt+2];Ae.children=St}if(R&&R.defaultProps)for(ue in Ne=R.defaultProps,Ne)Ae[ue]===void 0&&(Ae[ue]=Ne[ue]);return C(R,ke,Ae)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(R){return{$$typeof:d,render:R}},Oe.isValidElement=M,Oe.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:oe}},Oe.memo=function(R,Q){return{$$typeof:g,type:R,compare:Q===void 0?null:Q}},Oe.startTransition=function(R){var Q=I.T,ie={};I.T=ie;try{var ue=R(),Ae=I.S;Ae!==null&&Ae(ie,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(fe,ge)}catch(ke){ge(ke)}finally{Q!==null&&ie.types!==null&&(Q.types=ie.types),I.T=Q}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(R){return I.H.use(R)},Oe.useActionState=function(R,Q,ie){return I.H.useActionState(R,Q,ie)},Oe.useCallback=function(R,Q){return I.H.useCallback(R,Q)},Oe.useContext=function(R){return I.H.useContext(R)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(R,Q){return I.H.useDeferredValue(R,Q)},Oe.useEffect=function(R,Q){return I.H.useEffect(R,Q)},Oe.useEffectEvent=function(R){return I.H.useEffectEvent(R)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(R,Q,ie){return I.H.useImperativeHandle(R,Q,ie)},Oe.useInsertionEffect=function(R,Q){return I.H.useInsertionEffect(R,Q)},Oe.useLayoutEffect=function(R,Q){return I.H.useLayoutEffect(R,Q)},Oe.useMemo=function(R,Q){return I.H.useMemo(R,Q)},Oe.useOptimistic=function(R,Q){return I.H.useOptimistic(R,Q)},Oe.useReducer=function(R,Q,ie){return I.H.useReducer(R,Q,ie)},Oe.useRef=function(R){return I.H.useRef(R)},Oe.useState=function(R){return I.H.useState(R)},Oe.useSyncExternalStore=function(R,Q,ie){return I.H.useSyncExternalStore(R,Q,ie)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.3",Oe}var _w;function yv(){return _w||(_w=1,Yg.exports=fC()),Yg.exports}var L=yv();const Sl=uC(L);var Xg={exports:{}},gu={},Jg={exports:{}},Wg={};var ww;function mC(){return ww||(ww=1,(function(t){function e(X,de){var oe=X.length;X.push(de);e:for(;0<oe;){var ge=oe-1>>>1,Ie=X[ge];if(0<a(Ie,de))X[ge]=de,X[oe]=Ie,oe=ge;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var de=X[0],oe=X.pop();if(oe!==de){X[0]=oe;e:for(var ge=0,Ie=X.length,R=Ie>>>1;ge<R;){var Q=2*(ge+1)-1,ie=X[Q],ue=Q+1,Ae=X[ue];if(0>a(ie,oe))ue<Ie&&0>a(Ae,ie)?(X[ge]=Ae,X[ue]=oe,ge=ue):(X[ge]=ie,X[Q]=oe,ge=Q);else if(ue<Ie&&0>a(Ae,oe))X[ge]=Ae,X[ue]=oe,ge=ue;else break e}}return de}function a(X,de){var oe=X.sortIndex-de.sortIndex;return oe!==0?oe:X.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],g=[],v=1,b=null,E=3,A=!1,j=!1,D=!1,O=!1,J=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ae(X){for(var de=n(g);de!==null;){if(de.callback===null)r(g);else if(de.startTime<=X)r(g),de.sortIndex=de.expirationTime,e(h,de);else break;de=n(g)}}function le(X){if(D=!1,ae(X),!j)if(n(h)!==null)j=!0,fe||(fe=!0,U());else{var de=n(g);de!==null&&Ze(le,de.startTime-X)}}var fe=!1,I=-1,S=5,C=-1;function V(){return O?!0:!(t.unstable_now()-C<S)}function M(){if(O=!1,fe){var X=t.unstable_now();C=X;var de=!0;try{e:{j=!1,D&&(D=!1,$(I),I=-1),A=!0;var oe=E;try{t:{for(ae(X),b=n(h);b!==null&&!(b.expirationTime>X&&V());){var ge=b.callback;if(typeof ge=="function"){b.callback=null,E=b.priorityLevel;var Ie=ge(b.expirationTime<=X);if(X=t.unstable_now(),typeof Ie=="function"){b.callback=Ie,ae(X),de=!0;break t}b===n(h)&&r(h),ae(X)}else r(h);b=n(h)}if(b!==null)de=!0;else{var R=n(g);R!==null&&Ze(le,R.startTime-X),de=!1}}break e}finally{b=null,E=oe,A=!1}de=void 0}}finally{de?U():fe=!1}}}var U;if(typeof Z=="function")U=function(){Z(M)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Ke=k.port2;k.port1.onmessage=M,U=function(){Ke.postMessage(null)}}else U=function(){J(M,0)};function Ze(X,de){I=J(function(){X(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(X){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var oe=E;E=de;try{return X()}finally{E=oe}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(X,de){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=E;E=X;try{return de()}finally{E=oe}},t.unstable_scheduleCallback=function(X,de,oe){var ge=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ge+oe:ge):oe=ge,X){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=oe+Ie,X={id:v++,callback:de,priorityLevel:X,startTime:oe,expirationTime:Ie,sortIndex:-1},oe>ge?(X.sortIndex=oe,e(g,X),n(h)===null&&X===n(g)&&(D?($(I),I=-1):D=!0,Ze(le,oe-ge))):(X.sortIndex=Ie,e(h,X),j||A||(j=!0,fe||(fe=!0,U()))),X},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(X){var de=E;return function(){var oe=E;E=de;try{return X.apply(this,arguments)}finally{E=oe}}}})(Wg)),Wg}var Ew;function pC(){return Ew||(Ew=1,Jg.exports=mC()),Jg.exports}var ey={exports:{}},pn={};var Tw;function gC(){if(Tw)return pn;Tw=1;var t=yv();function e(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:h,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pn.createPortal=function(h,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(h,g,null,v)},pn.flushSync=function(h){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=g,r.p=v,r.d.f()}},pn.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(h,g))},pn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},pn.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:A}):v==="script"&&r.d.X(h,{crossOrigin:b,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(h,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(h)},pn.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);r.d.L(h,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(h,g){if(typeof h=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(h)},pn.requestFormReset=function(h){r.d.r(h)},pn.unstable_batchedUpdates=function(h,g){return h(g)},pn.useFormState=function(h,g,v){return c.H.useFormState(h,g,v)},pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},pn.version="19.2.3",pn}var Sw;function yC(){if(Sw)return ey.exports;Sw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ey.exports=gC(),ey.exports}var Aw;function vC(){if(Aw)return gu;Aw=1;var t=pC(),e=yv(),n=yC();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function c(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function g(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,u=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),s;if(y===u)return h(p),i;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=p,u=y;else{for(var _=!1,T=p.child;T;){if(T===l){_=!0,l=p,u=y;break}if(T===u){_=!0,u=p,l=y;break}T=T.sibling}if(!_){for(T=y.child;T;){if(T===l){_=!0,l=y,u=p;break}if(T===u){_=!0,u=y,l=p;break}T=T.sibling}if(!_)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function v(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=v(s),i!==null)return i;s=s.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Ke(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case J:return"Profiler";case O:return"StrictMode";case le:return"Suspense";case fe:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case Z:return s.displayName||"Context";case $:return(s._context.displayName||"Context")+".Consumer";case ae:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return i=s.displayName||null,i!==null?i:Ke(s.type)||"Memo";case S:i=s._payload,s=s._init;try{return Ke(s(i))}catch{}}return null}var Ze=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ge=[],Ie=-1;function R(s){return{current:s}}function Q(s){0>Ie||(s.current=ge[Ie],ge[Ie]=null,Ie--)}function ie(s,i){Ie++,ge[Ie]=s.current,s.current=i}var ue=R(null),Ae=R(null),ke=R(null),Ne=R(null);function St(s,i){switch(ie(ke,i),ie(Ae,s),ie(ue,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?F0(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=F0(i),s=B0(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Q(ue),ie(ue,s)}function tt(){Q(ue),Q(Ae),Q(ke)}function Wn(s){s.memoizedState!==null&&ie(Ne,s);var i=ue.current,l=B0(i,s.type);i!==l&&(ie(Ae,s),ie(ue,l))}function Lr(s){Ae.current===s&&(Q(ue),Q(Ae)),Ne.current===s&&(Q(Ne),du._currentValue=oe)}var wr,To;function Ur(s){if(wr===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);wr=i&&i[1]||"",To=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+s+To}var dc=!1;function oa(s,i){if(!s||dc)return"";dc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var K=W}Reflect.construct(s,[],se)}else{try{se.call()}catch(W){K=W}s.call(se.prototype)}}else{try{throw Error()}catch(W){K=W}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],T=y[1];if(_&&T){var P=_.split(`
`),G=T.split(`
`);for(p=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(u===P.length||p===G.length)for(u=P.length-1,p=G.length-1;1<=u&&0<=p&&P[u]!==G[p];)p--;for(;1<=u&&0<=p;u--,p--)if(P[u]!==G[p]){if(u!==1||p!==1)do if(u--,p--,0>p||P[u]!==G[p]){var te=`
`+P[u].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=u&&0<=p);break}}}finally{dc=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Ur(l):""}function hc(s,i){switch(s.tag){case 26:case 27:case 5:return Ur(s.type);case 16:return Ur("Lazy");case 13:return s.child!==i&&i!==null?Ur("Suspense Fallback"):Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return oa(s.type,!1);case 11:return oa(s.type.render,!1);case 1:return oa(s.type,!0);case 31:return Ur("Activity");default:return""}}function fc(s){try{var i="",l=null;do i+=hc(s,l),l=s,s=s.return;while(s);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Mt=Object.prototype.hasOwnProperty,Zt=t.unstable_scheduleCallback,ti=t.unstable_cancelCallback,Xm=t.unstable_shouldYield,Td=t.unstable_requestPaint,xn=t.unstable_now,la=t.unstable_getCurrentPriorityLevel,mc=t.unstable_ImmediatePriority,pc=t.unstable_UserBlockingPriority,ni=t.unstable_NormalPriority,Jm=t.unstable_LowPriority,Sd=t.unstable_IdlePriority,Ad=t.log,Nd=t.unstable_setDisableYieldValue,Er=null,an=null;function er(s){if(typeof Ad=="function"&&Nd(s),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(Er,s)}catch{}}var Dt=Math.clz32?Math.clz32:Rd,Id=Math.log,So=Math.LN2;function Rd(s){return s>>>=0,s===0?32:31-(Id(s)/So|0)|0}var Fr=256,ca=262144,Vt=4194304;function Br(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function qr(s,i,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var T=u&134217727;return T!==0?(u=T&~y,u!==0?p=Br(u):(_&=T,_!==0?p=Br(_):l||(l=T&~s,l!==0&&(p=Br(l))))):(T=u&~y,T!==0?p=Br(T):_!==0?p=Br(_):l||(l=u&~s,l!==0&&(p=Br(l)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:p}function Tr(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function Wm(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cd(){var s=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),s}function $r(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function ua(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ep(s,i,l,u,p,y){var _=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var T=s.entanglements,P=s.expirationTimes,G=s.hiddenUpdates;for(l=_&~l;0<l;){var te=31-Dt(l),se=1<<te;T[te]=0,P[te]=-1;var K=G[te];if(K!==null)for(G[te]=null,te=0;te<K.length;te++){var W=K[te];W!==null&&(W.lane&=-536870913)}l&=~se}u!==0&&da(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(_&~i))}function da(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var u=31-Dt(i);s.entangledLanes|=i,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function gc(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var u=31-Dt(l),p=1<<u;p&i|s[u]&i&&(s[u]|=i),l&=~p}}function yc(s,i){var l=i&-i;return l=(l&42)!==0?1:ha(l),(l&(s.suspendedLanes|i))!==0?0:l}function ha(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function vs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Dd(){var s=de.p;return s!==0?s:(s=window.event,s===void 0?32:dw(s.type))}function Sr(s,i){var l=de.p;try{return de.p=s,i()}finally{de.p=l}}var Ar=Math.random().toString(36).slice(2),zt="__reactFiber$"+Ar,tn="__reactProps$"+Ar,Hr="__reactContainer$"+Ar,Ao="__reactEvents$"+Ar,tp="__reactListeners$"+Ar,jd="__reactHandles$"+Ar,kd="__reactResources$"+Ar,Gr="__reactMarker$"+Ar;function No(s){delete s[zt],delete s[tn],delete s[Ao],delete s[tp],delete s[jd]}function Kr(s){var i=s[zt];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Hr]||l[zt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=Z0(s);s!==null;){if(l=s[zt])return l;s=Z0(s)}return i}s=l,l=s.parentNode}return null}function tr(s){if(s=s[zt]||s[Hr]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Un(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Qr(s){var i=s[kd];return i||(i=s[kd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Lt(s){s[Gr]=!0}var vc=new Set,bc={};function Zr(s,i){Yr(s,i),Yr(s+"Capture",i)}function Yr(s,i){for(bc[s]=i,s=0;s<i.length;s++)vc.add(i[s])}var xc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_c={},wc={};function Od(s){return Mt.call(wc,s)?!0:Mt.call(_c,s)?!1:xc.test(s)?wc[s]=!0:(_c[s]=!0,!1)}function Io(s,i,l){if(Od(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function Fn(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Ut(s,i,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+u)}}function nn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ri(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ec(s,i,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(_){l=""+_,y.call(this,_)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function nt(s){if(!s._valueTracker){var i=ri(s)?"checked":"value";s._valueTracker=Ec(s,i,""+s[i])}}function fa(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return s&&(u=ri(s)?s.checked?"true":"false":s.value),s=u,s!==l?(i.setValue(s),!0):!1}function Xr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ma=/[\n"\\]/g;function Cn(s){return s.replace(ma,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ro(s,i,l,u,p,y,_,T){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),i!=null?_==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+nn(i)):s.value!==""+nn(i)&&(s.value=""+nn(i)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),i!=null?Tc(s,_,nn(i)):l!=null?Tc(s,_,nn(l)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.name=""+nn(T):s.removeAttribute("name")}function Pd(s,i,l,u,p,y,_,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){nt(s);return}l=l!=null?""+nn(l):"",i=i!=null?""+nn(i):l,T||i===s.value||(s.value=i),s.defaultValue=i}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=T?s.checked:!!u,s.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),nt(s)}function Tc(s,i,l){i==="number"&&Xr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function si(s,i,l,u){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+nn(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Md(s,i,l){if(i!=null&&(i=""+nn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+nn(l):""}function ii(s,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(r(92));if(Ze(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=nn(i),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),nt(s)}function Dn(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Vd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sc(s,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":u?s.setProperty(i,l):typeof l!="number"||l===0||Vd.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Ac(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in i)u=i[p],i.hasOwnProperty(p)&&l[p]!==u&&Sc(s,p,u)}else for(var y in i)i.hasOwnProperty(y)&&Sc(s,y,i[y])}function Co(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ai=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Do(s){return ai.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Nr(){}var Nc=null;function nr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var oi=null,Jr=null;function pa(s){var i=tr(s);if(i&&(s=i.stateNode)){var l=s[tn]||null;e:switch(s=i.stateNode,i.type){case"input":if(Ro(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Cn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==s&&u.form===s.form){var p=u[tn]||null;if(!p)throw Error(r(90));Ro(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===s.form&&fa(u)}break e;case"textarea":Md(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&si(s,!!l.multiple,i,!1)}}}var jo=!1;function li(s,i,l){if(jo)return s(i,l);jo=!0;try{var u=s(i);return u}finally{if(jo=!1,(oi!==null||Jr!==null)&&(Dh(),oi&&(i=oi,s=Jr,Jr=oi=null,pa(i),s)))for(i=0;i<s.length;i++)pa(s[i])}}function Ir(s,i){var l=s.stateNode;if(l===null)return null;var u=l[tn]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=!1;if(rr)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){ga=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{ga=!1}var Wr=null,Ic=null,ya=null;function Rc(){if(ya)return ya;var s,i=Ic,l=i.length,u,p="value"in Wr?Wr.value:Wr.textContent,y=p.length;for(s=0;s<l&&i[s]===p[s];s++);var _=l-s;for(u=1;u<=_&&i[l-u]===p[y-u];u++);return ya=p.slice(s,1<u?1-u:void 0)}function va(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function bs(){return!0}function Rr(){return!1}function on(s){function i(l,u,p,y,_){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(l=s[T],this[T]=l?l(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?bs:Rr,this.isPropagationStopped=Rr,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),i}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=on(xs),ci=b({},xs,{view:0,detail:0}),Cc=on(ci),ui,ko,ts,Oo=b({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:di,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ts&&(ts&&s.type==="mousemove"?(ui=s.screenX-ts.screenX,ko=s.screenY-ts.screenY):ko=ui=0,ts=s),ui)},movementY:function(s){return"movementY"in s?s.movementY:ko}}),Dc=on(Oo),ba=b({},Oo,{dataTransfer:0}),Ld=on(ba),Ud=b({},ci,{relatedTarget:0}),xa=on(Ud),jc=b({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Fd=on(jc),Po=b({},xs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bd=on(Po),qd=b({},xs,{data:0}),ns=on(qd),$d={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kd(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Gd[s])?!!i[s]:!1}function di(){return Kd}var _n=b({},ci,{key:function(s){if(s.key){var i=$d[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=va(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:di,charCode:function(s){return s.type==="keypress"?va(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?va(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qd=on(_n),Zd=b({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_s=on(Zd),m=b({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:di}),x=on(m),w=b({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=on(w),q=b({},Oo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=on(q),me=b({},xs,{newState:0,oldState:0}),Pe=on(me),jt=[9,13,27,32],We=rr&&"CompositionEvent"in window,gt=null;rr&&"documentMode"in document&&(gt=document.documentMode);var sr=rr&&"TextEvent"in window&&!gt,rs=rr&&(!We||gt&&8<gt&&11>=gt),Cr=" ",Dr=!1;function _a(s,i){switch(s){case"keyup":return jt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Vo=!1;function OI(s,i){switch(s){case"compositionend":return Mo(i);case"keypress":return i.which!==32?null:(Dr=!0,Cr);case"textInput":return s=i.data,s===Cr&&Dr?null:s;default:return null}}function PI(s,i){if(Vo)return s==="compositionend"||!We&&_a(s,i)?(s=Rc(),ya=Ic=Wr=null,Vo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return rs&&i.locale!=="ko"?null:i.data;default:return null}}var MI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jb(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!MI[s.type]:i==="textarea"}function Wb(s,i,l,u){oi?Jr?Jr.push(u):Jr=[u]:oi=u,i=zh(i,"onChange"),0<i.length&&(l=new es("onChange","change",null,l,u),s.push({event:l,listeners:i}))}var kc=null,Oc=null;function VI(s){P0(s,0)}function Yd(s){var i=Un(s);if(fa(i))return s}function ex(s,i){if(s==="change")return i}var tx=!1;if(rr){var np;if(rr){var rp="oninput"in document;if(!rp){var nx=document.createElement("div");nx.setAttribute("oninput","return;"),rp=typeof nx.oninput=="function"}np=rp}else np=!1;tx=np&&(!document.documentMode||9<document.documentMode)}function rx(){kc&&(kc.detachEvent("onpropertychange",sx),Oc=kc=null)}function sx(s){if(s.propertyName==="value"&&Yd(Oc)){var i=[];Wb(i,Oc,s,nr(s)),li(VI,i)}}function zI(s,i,l){s==="focusin"?(rx(),kc=i,Oc=l,kc.attachEvent("onpropertychange",sx)):s==="focusout"&&rx()}function LI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yd(Oc)}function UI(s,i){if(s==="click")return Yd(i)}function FI(s,i){if(s==="input"||s==="change")return Yd(i)}function BI(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Bn=typeof Object.is=="function"?Object.is:BI;function Pc(s,i){if(Bn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!Mt.call(i,p)||!Bn(s[p],i[p]))return!1}return!0}function ix(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ax(s,i){var l=ix(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=i&&u>=i)return{node:l,offset:i-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ix(l)}}function ox(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?ox(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function lx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Xr(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Xr(s.document)}return i}function sp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var qI=rr&&"documentMode"in document&&11>=document.documentMode,zo=null,ip=null,Mc=null,ap=!1;function cx(s,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ap||zo==null||zo!==Xr(u)||(u=zo,"selectionStart"in u&&sp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Mc&&Pc(Mc,u)||(Mc=u,u=zh(ip,"onSelect"),0<u.length&&(i=new es("onSelect","select",null,i,l),s.push({event:i,listeners:u}),i.target=zo)))}function wa(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Lo={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},op={},ux={};rr&&(ux=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Ea(s){if(op[s])return op[s];if(!Lo[s])return s;var i=Lo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in ux)return op[s]=i[l];return s}var dx=Ea("animationend"),hx=Ea("animationiteration"),fx=Ea("animationstart"),$I=Ea("transitionrun"),HI=Ea("transitionstart"),GI=Ea("transitioncancel"),mx=Ea("transitionend"),px=new Map,lp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lp.push("scrollEnd");function jr(s,i){px.set(s,i),Zr(i,[s])}var Xd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ir=[],Uo=0,cp=0;function Jd(){for(var s=Uo,i=cp=Uo=0;i<s;){var l=ir[i];ir[i++]=null;var u=ir[i];ir[i++]=null;var p=ir[i];ir[i++]=null;var y=ir[i];if(ir[i++]=null,u!==null&&p!==null){var _=u.pending;_===null?p.next=p:(p.next=_.next,_.next=p),u.pending=p}y!==0&&gx(l,p,y)}}function Wd(s,i,l,u){ir[Uo++]=s,ir[Uo++]=i,ir[Uo++]=l,ir[Uo++]=u,cp|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function up(s,i,l,u){return Wd(s,i,l,u),eh(s)}function Ta(s,i){return Wd(s,null,null,i),eh(s)}function gx(s,i,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&i!==null&&(p=31-Dt(l),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[i]:u.push(i),i.lane=l|536870912),y):null}function eh(s){if(50<su)throw su=0,bg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Fo={};function KI(s,i,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(s,i,l,u){return new KI(s,i,l,u)}function dp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ws(s,i){var l=s.alternate;return l===null?(l=qn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function yx(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function th(s,i,l,u,p,y){var _=0;if(u=s,typeof s=="function")dp(s)&&(_=1);else if(typeof s=="string")_=JR(s,l,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=qn(31,l,i,p),s.elementType=C,s.lanes=y,s;case D:return Sa(l.children,p,y,i);case O:_=8,p|=24;break;case J:return s=qn(12,l,i,p|2),s.elementType=J,s.lanes=y,s;case le:return s=qn(13,l,i,p),s.elementType=le,s.lanes=y,s;case fe:return s=qn(19,l,i,p),s.elementType=fe,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Z:_=10;break e;case $:_=9;break e;case ae:_=11;break e;case I:_=14;break e;case S:_=16,u=null;break e}_=29,l=Error(r(130,s===null?"null":typeof s,"")),u=null}return i=qn(_,l,i,p),i.elementType=s,i.type=u,i.lanes=y,i}function Sa(s,i,l,u){return s=qn(7,s,u,i),s.lanes=l,s}function hp(s,i,l){return s=qn(6,s,null,i),s.lanes=l,s}function vx(s){var i=qn(18,null,null,0);return i.stateNode=s,i}function fp(s,i,l){return i=qn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var bx=new WeakMap;function ar(s,i){if(typeof s=="object"&&s!==null){var l=bx.get(s);return l!==void 0?l:(i={value:s,source:i,stack:fc(i)},bx.set(s,i),i)}return{value:s,source:i,stack:fc(i)}}var Bo=[],qo=0,nh=null,Vc=0,or=[],lr=0,hi=null,ss=1,is="";function Es(s,i){Bo[qo++]=Vc,Bo[qo++]=nh,nh=s,Vc=i}function xx(s,i,l){or[lr++]=ss,or[lr++]=is,or[lr++]=hi,hi=s;var u=ss;s=is;var p=32-Dt(u)-1;u&=~(1<<p),l+=1;var y=32-Dt(i)+p;if(30<y){var _=p-p%5;y=(u&(1<<_)-1).toString(32),u>>=_,p-=_,ss=1<<32-Dt(i)+p|l<<p|u,is=y+s}else ss=1<<y|l<<p|u,is=s}function mp(s){s.return!==null&&(Es(s,1),xx(s,1,0))}function pp(s){for(;s===nh;)nh=Bo[--qo],Bo[qo]=null,Vc=Bo[--qo],Bo[qo]=null;for(;s===hi;)hi=or[--lr],or[lr]=null,is=or[--lr],or[lr]=null,ss=or[--lr],or[lr]=null}function _x(s,i){or[lr++]=ss,or[lr++]=is,or[lr++]=hi,ss=i.id,is=i.overflow,hi=s}var ln=null,mt=null,Ge=!1,fi=null,cr=!1,gp=Error(r(519));function mi(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zc(ar(i,s)),gp}function wx(s){var i=s.stateNode,l=s.type,u=s.memoizedProps;switch(i[zt]=s,i[tn]=u,l){case"dialog":Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":case"embed":Fe("load",i);break;case"video":case"audio":for(l=0;l<au.length;l++)Fe(au[l],i);break;case"source":Fe("error",i);break;case"img":case"image":case"link":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"input":Fe("invalid",i),Pd(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Fe("invalid",i);break;case"textarea":Fe("invalid",i),ii(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||L0(i.textContent,l)?(u.popover!=null&&(Fe("beforetoggle",i),Fe("toggle",i)),u.onScroll!=null&&Fe("scroll",i),u.onScrollEnd!=null&&Fe("scrollend",i),u.onClick!=null&&(i.onclick=Nr),i=!0):i=!1,i||mi(s,!0)}function Ex(s){for(ln=s.return;ln;)switch(ln.tag){case 5:case 31:case 13:cr=!1;return;case 27:case 3:cr=!0;return;default:ln=ln.return}}function $o(s){if(s!==ln)return!1;if(!Ge)return Ex(s),Ge=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Og(s.type,s.memoizedProps)),l=!l),l&&mt&&mi(s),Ex(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));mt=Q0(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));mt=Q0(s)}else i===27?(i=mt,Ii(s.type)?(s=Lg,Lg=null,mt=s):mt=i):mt=ln?dr(s.stateNode.nextSibling):null;return!0}function Aa(){mt=ln=null,Ge=!1}function yp(){var s=fi;return s!==null&&(Pn===null?Pn=s:Pn.push.apply(Pn,s),fi=null),s}function zc(s){fi===null?fi=[s]:fi.push(s)}var vp=R(null),Na=null,Ts=null;function pi(s,i,l){ie(vp,i._currentValue),i._currentValue=l}function Ss(s){s._currentValue=vp.current,Q(vp)}function bp(s,i,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),s===l)break;s=s.return}}function xp(s,i,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=p;for(var P=0;P<i.length;P++)if(T.context===i[P]){y.lanes|=l,T=y.alternate,T!==null&&(T.lanes|=l),bp(y.return,l,s),u||(_=null);break e}y=T.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(r(341));_.lanes|=l,y=_.alternate,y!==null&&(y.lanes|=l),bp(_,l,s),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===s){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Ho(s,i,l,u){s=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=p.type;Bn(p.pendingProps.value,_.value)||(s!==null?s.push(T):s=[T])}}else if(p===Ne.current){if(_=p.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(du):s=[du])}p=p.return}s!==null&&xp(i,s,l,u),i.flags|=262144}function rh(s){for(s=s.firstContext;s!==null;){if(!Bn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ia(s){Na=s,Ts=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function cn(s){return Tx(Na,s)}function sh(s,i){return Na===null&&Ia(s),Tx(s,i)}function Tx(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ts===null){if(s===null)throw Error(r(308));Ts=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Ts=Ts.next=i;return l}var QI=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},ZI=t.unstable_scheduleCallback,YI=t.unstable_NormalPriority,Ft={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _p(){return{controller:new QI,data:new Map,refCount:0}}function Lc(s){s.refCount--,s.refCount===0&&ZI(YI,function(){s.controller.abort()})}var Uc=null,wp=0,Go=0,Ko=null;function XI(s,i){if(Uc===null){var l=Uc=[];wp=0,Go=Sg(),Ko={status:"pending",value:void 0,then:function(u){l.push(u)}}}return wp++,i.then(Sx,Sx),i}function Sx(){if(--wp===0&&Uc!==null){Ko!==null&&(Ko.status="fulfilled");var s=Uc;Uc=null,Go=0,Ko=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function JI(s,i){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var Ax=X.S;X.S=function(s,i){c0=xn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&XI(s,i),Ax!==null&&Ax(s,i)};var Ra=R(null);function Ep(){var s=Ra.current;return s!==null?s:ft.pooledCache}function ih(s,i){i===null?ie(Ra,Ra.current):ie(Ra,i.pool)}function Nx(){var s=Ep();return s===null?null:{parent:Ft._currentValue,pool:s}}var Qo=Error(r(460)),Tp=Error(r(474)),ah=Error(r(542)),oh={then:function(){}};function Ix(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Rx(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Nr,Nr),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Dx(s),s;default:if(typeof i.status=="string")i.then(Nr,Nr);else{if(s=ft,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(u){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=u}},function(u){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Dx(s),s}throw Da=i,Qo}}function Ca(s){try{var i=s._init;return i(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Da=l,Qo):l}}var Da=null;function Cx(){if(Da===null)throw Error(r(459));var s=Da;return Da=null,s}function Dx(s){if(s===Qo||s===ah)throw Error(r(483))}var Zo=null,Fc=0;function lh(s){var i=Fc;return Fc+=1,Zo===null&&(Zo=[]),Rx(Zo,s,i)}function Bc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function ch(s,i){throw i.$$typeof===E?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function jx(s){function i(F,z){if(s){var H=F.deletions;H===null?(F.deletions=[z],F.flags|=16):H.push(z)}}function l(F,z){if(!s)return null;for(;z!==null;)i(F,z),z=z.sibling;return null}function u(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function p(F,z){return F=ws(F,z),F.index=0,F.sibling=null,F}function y(F,z,H){return F.index=H,s?(H=F.alternate,H!==null?(H=H.index,H<z?(F.flags|=67108866,z):H):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function _(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function T(F,z,H,ne){return z===null||z.tag!==6?(z=hp(H,F.mode,ne),z.return=F,z):(z=p(z,H),z.return=F,z)}function P(F,z,H,ne){var Ee=H.type;return Ee===D?te(F,z,H.props.children,ne,H.key):z!==null&&(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&Ca(Ee)===z.type)?(z=p(z,H.props),Bc(z,H),z.return=F,z):(z=th(H.type,H.key,H.props,null,F.mode,ne),Bc(z,H),z.return=F,z)}function G(F,z,H,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=fp(H,F.mode,ne),z.return=F,z):(z=p(z,H.children||[]),z.return=F,z)}function te(F,z,H,ne,Ee){return z===null||z.tag!==7?(z=Sa(H,F.mode,ne,Ee),z.return=F,z):(z=p(z,H),z.return=F,z)}function se(F,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=hp(""+z,F.mode,H),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return H=th(z.type,z.key,z.props,null,F.mode,H),Bc(H,z),H.return=F,H;case j:return z=fp(z,F.mode,H),z.return=F,z;case S:return z=Ca(z),se(F,z,H)}if(Ze(z)||U(z))return z=Sa(z,F.mode,H,null),z.return=F,z;if(typeof z.then=="function")return se(F,lh(z),H);if(z.$$typeof===Z)return se(F,sh(F,z),H);ch(F,z)}return null}function K(F,z,H,ne){var Ee=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:T(F,z,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===Ee?P(F,z,H,ne):null;case j:return H.key===Ee?G(F,z,H,ne):null;case S:return H=Ca(H),K(F,z,H,ne)}if(Ze(H)||U(H))return Ee!==null?null:te(F,z,H,ne,null);if(typeof H.then=="function")return K(F,z,lh(H),ne);if(H.$$typeof===Z)return K(F,z,sh(F,H),ne);ch(F,H)}return null}function W(F,z,H,ne,Ee){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return F=F.get(H)||null,T(z,F,""+ne,Ee);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return F=F.get(ne.key===null?H:ne.key)||null,P(z,F,ne,Ee);case j:return F=F.get(ne.key===null?H:ne.key)||null,G(z,F,ne,Ee);case S:return ne=Ca(ne),W(F,z,H,ne,Ee)}if(Ze(ne)||U(ne))return F=F.get(H)||null,te(z,F,ne,Ee,null);if(typeof ne.then=="function")return W(F,z,H,lh(ne),Ee);if(ne.$$typeof===Z)return W(F,z,H,sh(z,ne),Ee);ch(z,ne)}return null}function ye(F,z,H,ne){for(var Ee=null,Ye=null,_e=z,Ve=z=0,qe=null;_e!==null&&Ve<H.length;Ve++){_e.index>Ve?(qe=_e,_e=null):qe=_e.sibling;var Xe=K(F,_e,H[Ve],ne);if(Xe===null){_e===null&&(_e=qe);break}s&&_e&&Xe.alternate===null&&i(F,_e),z=y(Xe,z,Ve),Ye===null?Ee=Xe:Ye.sibling=Xe,Ye=Xe,_e=qe}if(Ve===H.length)return l(F,_e),Ge&&Es(F,Ve),Ee;if(_e===null){for(;Ve<H.length;Ve++)_e=se(F,H[Ve],ne),_e!==null&&(z=y(_e,z,Ve),Ye===null?Ee=_e:Ye.sibling=_e,Ye=_e);return Ge&&Es(F,Ve),Ee}for(_e=u(_e);Ve<H.length;Ve++)qe=W(_e,F,Ve,H[Ve],ne),qe!==null&&(s&&qe.alternate!==null&&_e.delete(qe.key===null?Ve:qe.key),z=y(qe,z,Ve),Ye===null?Ee=qe:Ye.sibling=qe,Ye=qe);return s&&_e.forEach(function(ki){return i(F,ki)}),Ge&&Es(F,Ve),Ee}function Re(F,z,H,ne){if(H==null)throw Error(r(151));for(var Ee=null,Ye=null,_e=z,Ve=z=0,qe=null,Xe=H.next();_e!==null&&!Xe.done;Ve++,Xe=H.next()){_e.index>Ve?(qe=_e,_e=null):qe=_e.sibling;var ki=K(F,_e,Xe.value,ne);if(ki===null){_e===null&&(_e=qe);break}s&&_e&&ki.alternate===null&&i(F,_e),z=y(ki,z,Ve),Ye===null?Ee=ki:Ye.sibling=ki,Ye=ki,_e=qe}if(Xe.done)return l(F,_e),Ge&&Es(F,Ve),Ee;if(_e===null){for(;!Xe.done;Ve++,Xe=H.next())Xe=se(F,Xe.value,ne),Xe!==null&&(z=y(Xe,z,Ve),Ye===null?Ee=Xe:Ye.sibling=Xe,Ye=Xe);return Ge&&Es(F,Ve),Ee}for(_e=u(_e);!Xe.done;Ve++,Xe=H.next())Xe=W(_e,F,Ve,Xe.value,ne),Xe!==null&&(s&&Xe.alternate!==null&&_e.delete(Xe.key===null?Ve:Xe.key),z=y(Xe,z,Ve),Ye===null?Ee=Xe:Ye.sibling=Xe,Ye=Xe);return s&&_e.forEach(function(cC){return i(F,cC)}),Ge&&Es(F,Ve),Ee}function ht(F,z,H,ne){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:e:{for(var Ee=H.key;z!==null;){if(z.key===Ee){if(Ee=H.type,Ee===D){if(z.tag===7){l(F,z.sibling),ne=p(z,H.props.children),ne.return=F,F=ne;break e}}else if(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&Ca(Ee)===z.type){l(F,z.sibling),ne=p(z,H.props),Bc(ne,H),ne.return=F,F=ne;break e}l(F,z);break}else i(F,z);z=z.sibling}H.type===D?(ne=Sa(H.props.children,F.mode,ne,H.key),ne.return=F,F=ne):(ne=th(H.type,H.key,H.props,null,F.mode,ne),Bc(ne,H),ne.return=F,F=ne)}return _(F);case j:e:{for(Ee=H.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){l(F,z.sibling),ne=p(z,H.children||[]),ne.return=F,F=ne;break e}else{l(F,z);break}else i(F,z);z=z.sibling}ne=fp(H,F.mode,ne),ne.return=F,F=ne}return _(F);case S:return H=Ca(H),ht(F,z,H,ne)}if(Ze(H))return ye(F,z,H,ne);if(U(H)){if(Ee=U(H),typeof Ee!="function")throw Error(r(150));return H=Ee.call(H),Re(F,z,H,ne)}if(typeof H.then=="function")return ht(F,z,lh(H),ne);if(H.$$typeof===Z)return ht(F,z,sh(F,H),ne);ch(F,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(l(F,z.sibling),ne=p(z,H),ne.return=F,F=ne):(l(F,z),ne=hp(H,F.mode,ne),ne.return=F,F=ne),_(F)):l(F,z)}return function(F,z,H,ne){try{Fc=0;var Ee=ht(F,z,H,ne);return Zo=null,Ee}catch(_e){if(_e===Qo||_e===ah)throw _e;var Ye=qn(29,_e,null,F.mode);return Ye.lanes=ne,Ye.return=F,Ye}}}var ja=jx(!0),kx=jx(!1),gi=!1;function Sp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ap(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function yi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vi(s,i,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,i=eh(s),gx(s,null,l),i}return Wd(s,u,i,l),eh(s)}function qc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,gc(s,l)}}function Np(s,i){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var Ip=!1;function $c(){if(Ip){var s=Ko;if(s!==null)throw s}}function Hc(s,i,l,u){Ip=!1;var p=s.updateQueue;gi=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var P=T,G=P.next;P.next=null,_===null?y=G:_.next=G,_=P;var te=s.alternate;te!==null&&(te=te.updateQueue,T=te.lastBaseUpdate,T!==_&&(T===null?te.firstBaseUpdate=G:T.next=G,te.lastBaseUpdate=P))}if(y!==null){var se=p.baseState;_=0,te=G=P=null,T=y;do{var K=T.lane&-536870913,W=K!==T.lane;if(W?(Be&K)===K:(u&K)===K){K!==0&&K===Go&&(Ip=!0),te!==null&&(te=te.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ye=s,Re=T;K=i;var ht=l;switch(Re.tag){case 1:if(ye=Re.payload,typeof ye=="function"){se=ye.call(ht,se,K);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Re.payload,K=typeof ye=="function"?ye.call(ht,se,K):ye,K==null)break e;se=b({},se,K);break e;case 2:gi=!0}}K=T.callback,K!==null&&(s.flags|=64,W&&(s.flags|=8192),W=p.callbacks,W===null?p.callbacks=[K]:W.push(K))}else W={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},te===null?(G=te=W,P=se):te=te.next=W,_|=K;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;W=T,T=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);te===null&&(P=se),p.baseState=P,p.firstBaseUpdate=G,p.lastBaseUpdate=te,y===null&&(p.shared.lanes=0),Ei|=_,s.lanes=_,s.memoizedState=se}}function Ox(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Px(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Ox(l[s],i)}var Yo=R(null),uh=R(0);function Mx(s,i){s=Os,ie(uh,s),ie(Yo,i),Os=s|i.baseLanes}function Rp(){ie(uh,Os),ie(Yo,Yo.current)}function Cp(){Os=uh.current,Q(Yo),Q(uh)}var $n=R(null),ur=null;function bi(s){var i=s.alternate;ie(kt,kt.current&1),ie($n,s),ur===null&&(i===null||Yo.current!==null||i.memoizedState!==null)&&(ur=s)}function Dp(s){ie(kt,kt.current),ie($n,s),ur===null&&(ur=s)}function Vx(s){s.tag===22?(ie(kt,kt.current),ie($n,s),ur===null&&(ur=s)):xi()}function xi(){ie(kt,kt.current),ie($n,$n.current)}function Hn(s){Q($n),ur===s&&(ur=null),Q(kt)}var kt=R(0);function dh(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Vg(l)||zg(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var As=0,Me=null,ut=null,Bt=null,hh=!1,Xo=!1,ka=!1,fh=0,Gc=0,Jo=null,WI=0;function At(){throw Error(r(321))}function jp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Bn(s[l],i[l]))return!1;return!0}function kp(s,i,l,u,p,y){return As=y,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=s===null||s.memoizedState===null?x_:Qp,ka=!1,y=l(u,p),ka=!1,Xo&&(y=Lx(i,l,u,p)),zx(s),y}function zx(s){X.H=Zc;var i=ut!==null&&ut.next!==null;if(As=0,Bt=ut=Me=null,hh=!1,Gc=0,Jo=null,i)throw Error(r(300));s===null||qt||(s=s.dependencies,s!==null&&rh(s)&&(qt=!0))}function Lx(s,i,l,u){Me=s;var p=0;do{if(Xo&&(Jo=null),Gc=0,Xo=!1,25<=p)throw Error(r(301));if(p+=1,Bt=ut=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}X.H=__,y=i(l,u)}while(Xo);return y}function eR(){var s=X.H,i=s.useState()[0];return i=typeof i.then=="function"?Kc(i):i,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Me.flags|=1024),i}function Op(){var s=fh!==0;return fh=0,s}function Pp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Mp(s){if(hh){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}hh=!1}As=0,Bt=ut=Me=null,Xo=!1,Gc=fh=0,Jo=null}function wn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Me.memoizedState=Bt=s:Bt=Bt.next=s,Bt}function Ot(){if(ut===null){var s=Me.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var i=Bt===null?Me.memoizedState:Bt.next;if(i!==null)Bt=i,ut=s;else{if(s===null)throw Me.alternate===null?Error(r(467)):Error(r(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Bt===null?Me.memoizedState=Bt=s:Bt=Bt.next=s}return Bt}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kc(s){var i=Gc;return Gc+=1,Jo===null&&(Jo=[]),s=Rx(Jo,s,i),i=Me,(Bt===null?i.memoizedState:Bt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?x_:Qp),s}function ph(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Kc(s);if(s.$$typeof===Z)return cn(s)}throw Error(r(438,String(s)))}function Vp(s){var i=null,l=Me.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=mh(),Me.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),u=0;u<s;u++)l[u]=V;return i.index++,l}function Ns(s,i){return typeof i=="function"?i(s):i}function gh(s){var i=Ot();return zp(i,ut,s)}function zp(s,i,l){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}i.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{i=p.next;var T=_=null,P=null,G=i,te=!1;do{var se=G.lane&-536870913;if(se!==G.lane?(Be&se)===se:(As&se)===se){var K=G.revertLane;if(K===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),se===Go&&(te=!0);else if((As&K)===K){G=G.next,K===Go&&(te=!0);continue}else se={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(T=P=se,_=y):P=P.next=se,Me.lanes|=K,Ei|=K;se=G.action,ka&&l(y,se),y=G.hasEagerState?G.eagerState:l(y,se)}else K={lane:se,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(T=P=K,_=y):P=P.next=K,Me.lanes|=se,Ei|=se;G=G.next}while(G!==null&&G!==i);if(P===null?_=y:P.next=T,!Bn(y,s.memoizedState)&&(qt=!0,te&&(l=Ko,l!==null)))throw l;s.memoizedState=y,s.baseState=_,s.baseQueue=P,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Lp(s){var i=Ot(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do y=s(y,_.action),_=_.next;while(_!==p);Bn(y,i.memoizedState)||(qt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,u]}function Ux(s,i,l){var u=Me,p=Ot(),y=Ge;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=i();var _=!Bn((ut||p).memoizedState,l);if(_&&(p.memoizedState=l,qt=!0),p=p.queue,Bp(qx.bind(null,u,p,s),[s]),p.getSnapshot!==i||_||Bt!==null&&Bt.memoizedState.tag&1){if(u.flags|=2048,Wo(9,{destroy:void 0},Bx.bind(null,u,p,l,i),null),ft===null)throw Error(r(349));y||(As&127)!==0||Fx(u,i,l)}return l}function Fx(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Me.updateQueue,i===null?(i=mh(),Me.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Bx(s,i,l,u){i.value=l,i.getSnapshot=u,$x(i)&&Hx(s)}function qx(s,i,l){return l(function(){$x(i)&&Hx(s)})}function $x(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Bn(s,l)}catch{return!0}}function Hx(s){var i=Ta(s,2);i!==null&&Mn(i,s,2)}function Up(s){var i=wn();if(typeof s=="function"){var l=s;if(s=l(),ka){er(!0);try{l()}finally{er(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:s},i}function Gx(s,i,l,u){return s.baseState=l,zp(s,ut,typeof u=="function"?u:Ns)}function tR(s,i,l,u,p){if(bh(s))throw Error(r(485));if(s=i.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};X.T!==null?l(!0):y.isTransition=!1,u(y),l=i.pending,l===null?(y.next=i.pending=y,Kx(i,y)):(y.next=l.next,i.pending=l.next=y)}}function Kx(s,i){var l=i.action,u=i.payload,p=s.state;if(i.isTransition){var y=X.T,_={};X.T=_;try{var T=l(p,u),P=X.S;P!==null&&P(_,T),Qx(s,i,T)}catch(G){Fp(s,i,G)}finally{y!==null&&_.types!==null&&(y.types=_.types),X.T=y}}else try{y=l(p,u),Qx(s,i,y)}catch(G){Fp(s,i,G)}}function Qx(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Zx(s,i,u)},function(u){return Fp(s,i,u)}):Zx(s,i,l)}function Zx(s,i,l){i.status="fulfilled",i.value=l,Yx(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,Kx(s,l)))}function Fp(s,i,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,Yx(i),i=i.next;while(i!==u)}s.action=null}function Yx(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function Xx(s,i){return i}function Jx(s,i){if(Ge){var l=ft.formState;if(l!==null){e:{var u=Me;if(Ge){if(mt){t:{for(var p=mt,y=cr;p.nodeType!==8;){if(!y){p=null;break t}if(p=dr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){mt=dr(p.nextSibling),u=p.data==="F!";break e}}mi(u)}u=!1}u&&(i=l[0])}}return l=wn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xx,lastRenderedState:i},l.queue=u,l=y_.bind(null,Me,u),u.dispatch=l,u=Up(!1),y=Kp.bind(null,Me,!1,u.queue),u=wn(),p={state:i,dispatch:null,action:s,pending:null},u.queue=p,l=tR.bind(null,Me,p,y,l),p.dispatch=l,u.memoizedState=s,[i,l,!1]}function Wx(s){var i=Ot();return e_(i,ut,s)}function e_(s,i,l){if(i=zp(s,i,Xx)[0],s=gh(Ns)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Kc(i)}catch(_){throw _===Qo?ah:_}else u=i;i=Ot();var p=i.queue,y=p.dispatch;return l!==i.memoizedState&&(Me.flags|=2048,Wo(9,{destroy:void 0},nR.bind(null,p,l),null)),[u,y,s]}function nR(s,i){s.action=i}function t_(s){var i=Ot(),l=ut;if(l!==null)return e_(i,l,s);Ot(),i=i.memoizedState,l=Ot();var u=l.queue.dispatch;return l.memoizedState=s,[i,u,!1]}function Wo(s,i,l,u){return s={tag:s,create:l,deps:u,inst:i,next:null},i=Me.updateQueue,i===null&&(i=mh(),Me.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,i.lastEffect=s),s}function n_(){return Ot().memoizedState}function yh(s,i,l,u){var p=wn();Me.flags|=s,p.memoizedState=Wo(1|i,{destroy:void 0},l,u===void 0?null:u)}function vh(s,i,l,u){var p=Ot();u=u===void 0?null:u;var y=p.memoizedState.inst;ut!==null&&u!==null&&jp(u,ut.memoizedState.deps)?p.memoizedState=Wo(i,y,l,u):(Me.flags|=s,p.memoizedState=Wo(1|i,y,l,u))}function r_(s,i){yh(8390656,8,s,i)}function Bp(s,i){vh(2048,8,s,i)}function rR(s){Me.flags|=4;var i=Me.updateQueue;if(i===null)i=mh(),Me.updateQueue=i,i.events=[s];else{var l=i.events;l===null?i.events=[s]:l.push(s)}}function s_(s){var i=Ot().memoizedState;return rR({ref:i,nextImpl:s}),function(){if((et&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function i_(s,i){return vh(4,2,s,i)}function a_(s,i){return vh(4,4,s,i)}function o_(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function l_(s,i,l){l=l!=null?l.concat([s]):null,vh(4,4,o_.bind(null,i,s),l)}function qp(){}function c_(s,i){var l=Ot();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&jp(i,u[1])?u[0]:(l.memoizedState=[s,i],s)}function u_(s,i){var l=Ot();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&jp(i,u[1]))return u[0];if(u=s(),ka){er(!0);try{s()}finally{er(!1)}}return l.memoizedState=[u,i],u}function $p(s,i,l){return l===void 0||(As&1073741824)!==0&&(Be&261930)===0?s.memoizedState=i:(s.memoizedState=l,s=d0(),Me.lanes|=s,Ei|=s,l)}function d_(s,i,l,u){return Bn(l,i)?l:Yo.current!==null?(s=$p(s,l,u),Bn(s,i)||(qt=!0),s):(As&42)===0||(As&1073741824)!==0&&(Be&261930)===0?(qt=!0,s.memoizedState=l):(s=d0(),Me.lanes|=s,Ei|=s,i)}function h_(s,i,l,u,p){var y=de.p;de.p=y!==0&&8>y?y:8;var _=X.T,T={};X.T=T,Kp(s,!1,i,l);try{var P=p(),G=X.S;if(G!==null&&G(T,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var te=JI(P,u);Qc(s,i,te,Qn(s))}else Qc(s,i,u,Qn(s))}catch(se){Qc(s,i,{then:function(){},status:"rejected",reason:se},Qn())}finally{de.p=y,_!==null&&T.types!==null&&(_.types=T.types),X.T=_}}function sR(){}function Hp(s,i,l,u){if(s.tag!==5)throw Error(r(476));var p=f_(s).queue;h_(s,p,i,oe,l===null?sR:function(){return m_(s),l(u)})}function f_(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:oe},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function m_(s){var i=f_(s);i.next===null&&(i=s.alternate.memoizedState),Qc(s,i.next.queue,{},Qn())}function Gp(){return cn(du)}function p_(){return Ot().memoizedState}function g_(){return Ot().memoizedState}function iR(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Qn();s=yi(l);var u=vi(i,s,l);u!==null&&(Mn(u,i,l),qc(u,i,l)),i={cache:_p()},s.payload=i;return}i=i.return}}function aR(s,i,l){var u=Qn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bh(s)?v_(i,l):(l=up(s,i,l,u),l!==null&&(Mn(l,s,u),b_(l,i,u)))}function y_(s,i,l){var u=Qn();Qc(s,i,l,u)}function Qc(s,i,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(bh(s))v_(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var _=i.lastRenderedState,T=y(_,l);if(p.hasEagerState=!0,p.eagerState=T,Bn(T,_))return Wd(s,i,p,0),ft===null&&Jd(),!1}catch{}if(l=up(s,i,p,u),l!==null)return Mn(l,s,u),b_(l,i,u),!0}return!1}function Kp(s,i,l,u){if(u={lane:2,revertLane:Sg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},bh(s)){if(i)throw Error(r(479))}else i=up(s,l,u,2),i!==null&&Mn(i,s,2)}function bh(s){var i=s.alternate;return s===Me||i!==null&&i===Me}function v_(s,i){Xo=hh=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function b_(s,i,l){if((l&4194048)!==0){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,gc(s,l)}}var Zc={readContext:cn,use:ph,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Zc.useEffectEvent=At;var x_={readContext:cn,use:ph,useCallback:function(s,i){return wn().memoizedState=[s,i===void 0?null:i],s},useContext:cn,useEffect:r_,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,yh(4194308,4,o_.bind(null,i,s),l)},useLayoutEffect:function(s,i){return yh(4194308,4,s,i)},useInsertionEffect:function(s,i){yh(4,2,s,i)},useMemo:function(s,i){var l=wn();i=i===void 0?null:i;var u=s();if(ka){er(!0);try{s()}finally{er(!1)}}return l.memoizedState=[u,i],u},useReducer:function(s,i,l){var u=wn();if(l!==void 0){var p=l(i);if(ka){er(!0);try{l(i)}finally{er(!1)}}}else p=i;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=aR.bind(null,Me,s),[u.memoizedState,s]},useRef:function(s){var i=wn();return s={current:s},i.memoizedState=s},useState:function(s){s=Up(s);var i=s.queue,l=y_.bind(null,Me,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:qp,useDeferredValue:function(s,i){var l=wn();return $p(l,s,i)},useTransition:function(){var s=Up(!1);return s=h_.bind(null,Me,s.queue,!0,!1),wn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var u=Me,p=wn();if(Ge){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),ft===null)throw Error(r(349));(Be&127)!==0||Fx(u,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,r_(qx.bind(null,u,y,s),[s]),u.flags|=2048,Wo(9,{destroy:void 0},Bx.bind(null,u,y,l,i),null),l},useId:function(){var s=wn(),i=ft.identifierPrefix;if(Ge){var l=is,u=ss;l=(u&~(1<<32-Dt(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=fh++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=WI++,i="_"+i+"r_"+l.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:Gp,useFormState:Jx,useActionState:Jx,useOptimistic:function(s){var i=wn();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Kp.bind(null,Me,!0,l),l.dispatch=i,[s,i]},useMemoCache:Vp,useCacheRefresh:function(){return wn().memoizedState=iR.bind(null,Me)},useEffectEvent:function(s){var i=wn(),l={impl:s};return i.memoizedState=l,function(){if((et&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Qp={readContext:cn,use:ph,useCallback:c_,useContext:cn,useEffect:Bp,useImperativeHandle:l_,useInsertionEffect:i_,useLayoutEffect:a_,useMemo:u_,useReducer:gh,useRef:n_,useState:function(){return gh(Ns)},useDebugValue:qp,useDeferredValue:function(s,i){var l=Ot();return d_(l,ut.memoizedState,s,i)},useTransition:function(){var s=gh(Ns)[0],i=Ot().memoizedState;return[typeof s=="boolean"?s:Kc(s),i]},useSyncExternalStore:Ux,useId:p_,useHostTransitionStatus:Gp,useFormState:Wx,useActionState:Wx,useOptimistic:function(s,i){var l=Ot();return Gx(l,ut,s,i)},useMemoCache:Vp,useCacheRefresh:g_};Qp.useEffectEvent=s_;var __={readContext:cn,use:ph,useCallback:c_,useContext:cn,useEffect:Bp,useImperativeHandle:l_,useInsertionEffect:i_,useLayoutEffect:a_,useMemo:u_,useReducer:Lp,useRef:n_,useState:function(){return Lp(Ns)},useDebugValue:qp,useDeferredValue:function(s,i){var l=Ot();return ut===null?$p(l,s,i):d_(l,ut.memoizedState,s,i)},useTransition:function(){var s=Lp(Ns)[0],i=Ot().memoizedState;return[typeof s=="boolean"?s:Kc(s),i]},useSyncExternalStore:Ux,useId:p_,useHostTransitionStatus:Gp,useFormState:t_,useActionState:t_,useOptimistic:function(s,i){var l=Ot();return ut!==null?Gx(l,ut,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Vp,useCacheRefresh:g_};__.useEffectEvent=s_;function Zp(s,i,l,u){i=s.memoizedState,l=l(u,i),l=l==null?i:b({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Yp={enqueueSetState:function(s,i,l){s=s._reactInternals;var u=Qn(),p=yi(u);p.payload=i,l!=null&&(p.callback=l),i=vi(s,p,u),i!==null&&(Mn(i,s,u),qc(i,s,u))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var u=Qn(),p=yi(u);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=vi(s,p,u),i!==null&&(Mn(i,s,u),qc(i,s,u))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Qn(),u=yi(l);u.tag=2,i!=null&&(u.callback=i),i=vi(s,u,l),i!==null&&(Mn(i,s,l),qc(i,s,l))}};function w_(s,i,l,u,p,y,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,_):i.prototype&&i.prototype.isPureReactComponent?!Pc(l,u)||!Pc(p,y):!0}function E_(s,i,l,u){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==s&&Yp.enqueueReplaceState(i,i.state,null)}function Oa(s,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(s=s.defaultProps){l===i&&(l=b({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}function T_(s){Xd(s)}function S_(s){console.error(s)}function A_(s){Xd(s)}function xh(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function N_(s,i,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Xp(s,i,l){return l=yi(l),l.tag=3,l.payload={element:null},l.callback=function(){xh(s,i)},l}function I_(s){return s=yi(s),s.tag=3,s}function R_(s,i,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){N_(i,l,u)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){N_(i,l,u),typeof p!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function oR(s,i,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Ho(i,l,p,!0),l=$n.current,l!==null){switch(l.tag){case 31:case 13:return ur===null?jh():l.alternate===null&&Nt===0&&(Nt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===oh?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),wg(s,u,p)),!1;case 22:return l.flags|=65536,u===oh?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),wg(s,u,p)),!1}throw Error(r(435,l.tag))}return wg(s,u,p),jh(),!1}if(Ge)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,u!==gp&&(s=Error(r(422),{cause:u}),zc(ar(s,l)))):(u!==gp&&(i=Error(r(423),{cause:u}),zc(ar(i,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=ar(u,l),p=Xp(s.stateNode,u,p),Np(s,p),Nt!==4&&(Nt=2)),!1;var y=Error(r(520),{cause:u});if(y=ar(y,l),ru===null?ru=[y]:ru.push(y),Nt!==4&&(Nt=2),i===null)return!0;u=ar(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=Xp(l.stateNode,u,s),Np(l,s),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ti===null||!Ti.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=I_(p),R_(p,s,l,u),Np(l,p),!1}l=l.return}while(l!==null);return!1}var Jp=Error(r(461)),qt=!1;function un(s,i,l,u){i.child=s===null?kx(i,null,l,u):ja(i,s.child,l,u)}function C_(s,i,l,u,p){l=l.render;var y=i.ref;if("ref"in u){var _={};for(var T in u)T!=="ref"&&(_[T]=u[T])}else _=u;return Ia(i),u=kp(s,i,l,_,y,p),T=Op(),s!==null&&!qt?(Pp(s,i,p),Is(s,i,p)):(Ge&&T&&mp(i),i.flags|=1,un(s,i,u,p),i.child)}function D_(s,i,l,u,p){if(s===null){var y=l.type;return typeof y=="function"&&!dp(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,j_(s,i,y,u,p)):(s=th(l.type,null,u,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,!ag(s,p)){var _=y.memoizedProps;if(l=l.compare,l=l!==null?l:Pc,l(_,u)&&s.ref===i.ref)return Is(s,i,p)}return i.flags|=1,s=ws(y,u),s.ref=i.ref,s.return=i,i.child=s}function j_(s,i,l,u,p){if(s!==null){var y=s.memoizedProps;if(Pc(y,u)&&s.ref===i.ref)if(qt=!1,i.pendingProps=u=y,ag(s,p))(s.flags&131072)!==0&&(qt=!0);else return i.lanes=s.lanes,Is(s,i,p)}return Wp(s,i,l,u,p)}function k_(s,i,l,u){var p=u.children,y=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,s!==null){for(u=i.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,i.child=null;return O_(s,i,y,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&ih(i,y!==null?y.cachePool:null),y!==null?Mx(i,y):Rp(),Vx(i);else return u=i.lanes=536870912,O_(s,i,y!==null?y.baseLanes|l:l,l,u)}else y!==null?(ih(i,y.cachePool),Mx(i,y),xi(),i.memoizedState=null):(s!==null&&ih(i,null),Rp(),xi());return un(s,i,p,l),i.child}function Yc(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function O_(s,i,l,u,p){var y=Ep();return y=y===null?null:{parent:Ft._currentValue,pool:y},i.memoizedState={baseLanes:l,cachePool:y},s!==null&&ih(i,null),Rp(),Vx(i),s!==null&&Ho(s,i,u,!0),i.childLanes=p,null}function _h(s,i){return i=Eh({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function P_(s,i,l){return ja(i,s.child,null,l),s=_h(i,i.pendingProps),s.flags|=2,Hn(i),i.memoizedState=null,s}function lR(s,i,l){var u=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Ge){if(u.mode==="hidden")return s=_h(i,u),i.lanes=536870912,Yc(null,s);if(Dp(i),(s=mt)?(s=K0(s,cr),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:hi!==null?{id:ss,overflow:is}:null,retryLane:536870912,hydrationErrors:null},l=vx(s),l.return=i,i.child=l,ln=i,mt=null)):s=null,s===null)throw mi(i);return i.lanes=536870912,null}return _h(i,u)}var y=s.memoizedState;if(y!==null){var _=y.dehydrated;if(Dp(i),p)if(i.flags&256)i.flags&=-257,i=P_(s,i,l);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(qt||Ho(s,i,l,!1),p=(l&s.childLanes)!==0,qt||p){if(u=ft,u!==null&&(_=yc(u,l),_!==0&&_!==y.retryLane))throw y.retryLane=_,Ta(s,_),Mn(u,s,_),Jp;jh(),i=P_(s,i,l)}else s=y.treeContext,mt=dr(_.nextSibling),ln=i,Ge=!0,fi=null,cr=!1,s!==null&&_x(i,s),i=_h(i,u),i.flags|=4096;return i}return s=ws(s.child,{mode:u.mode,children:u.children}),s.ref=i.ref,i.child=s,s.return=i,s}function wh(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function Wp(s,i,l,u,p){return Ia(i),l=kp(s,i,l,u,void 0,p),u=Op(),s!==null&&!qt?(Pp(s,i,p),Is(s,i,p)):(Ge&&u&&mp(i),i.flags|=1,un(s,i,l,p),i.child)}function M_(s,i,l,u,p,y){return Ia(i),i.updateQueue=null,l=Lx(i,u,l,p),zx(s),u=Op(),s!==null&&!qt?(Pp(s,i,y),Is(s,i,y)):(Ge&&u&&mp(i),i.flags|=1,un(s,i,l,y),i.child)}function V_(s,i,l,u,p){if(Ia(i),i.stateNode===null){var y=Fo,_=l.contextType;typeof _=="object"&&_!==null&&(y=cn(_)),y=new l(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Yp,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},Sp(i),_=l.contextType,y.context=typeof _=="object"&&_!==null?cn(_):Fo,y.state=i.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Zp(i,l,_,u),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&Yp.enqueueReplaceState(y,y.state,null),Hc(i,u,y,p),$c(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(s===null){y=i.stateNode;var T=i.memoizedProps,P=Oa(l,T);y.props=P;var G=y.context,te=l.contextType;_=Fo,typeof te=="object"&&te!==null&&(_=cn(te));var se=l.getDerivedStateFromProps;te=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||G!==_)&&E_(i,y,u,_),gi=!1;var K=i.memoizedState;y.state=K,Hc(i,u,y,p),$c(),G=i.memoizedState,T||K!==G||gi?(typeof se=="function"&&(Zp(i,l,se,u),G=i.memoizedState),(P=gi||w_(i,l,P,u,K,G,_))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=G),y.props=u,y.state=G,y.context=_,u=P):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,Ap(s,i),_=i.memoizedProps,te=Oa(l,_),y.props=te,se=i.pendingProps,K=y.context,G=l.contextType,P=Fo,typeof G=="object"&&G!==null&&(P=cn(G)),T=l.getDerivedStateFromProps,(G=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==se||K!==P)&&E_(i,y,u,P),gi=!1,K=i.memoizedState,y.state=K,Hc(i,u,y,p),$c();var W=i.memoizedState;_!==se||K!==W||gi||s!==null&&s.dependencies!==null&&rh(s.dependencies)?(typeof T=="function"&&(Zp(i,l,T,u),W=i.memoizedState),(te=gi||w_(i,l,te,u,K,W,P)||s!==null&&s.dependencies!==null&&rh(s.dependencies))?(G||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,W,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,W,P)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=W),y.props=u,y.state=W,y.context=P,u=te):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),u=!1)}return y=u,wh(s,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,s!==null&&u?(i.child=ja(i,s.child,null,p),i.child=ja(i,null,l,p)):un(s,i,l,p),i.memoizedState=y.state,s=i.child):s=Is(s,i,p),s}function z_(s,i,l,u){return Aa(),i.flags|=256,un(s,i,l,u),i.child}var eg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tg(s){return{baseLanes:s,cachePool:Nx()}}function ng(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Kn),s}function L_(s,i,l){var u=i.pendingProps,p=!1,y=(i.flags&128)!==0,_;if((_=y)||(_=s!==null&&s.memoizedState===null?!1:(kt.current&2)!==0),_&&(p=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,s===null){if(Ge){if(p?bi(i):xi(),(s=mt)?(s=K0(s,cr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:hi!==null?{id:ss,overflow:is}:null,retryLane:536870912,hydrationErrors:null},l=vx(s),l.return=i,i.child=l,ln=i,mt=null)):s=null,s===null)throw mi(i);return zg(s)?i.lanes=32:i.lanes=536870912,null}var T=u.children;return u=u.fallback,p?(xi(),p=i.mode,T=Eh({mode:"hidden",children:T},p),u=Sa(u,p,l,null),T.return=i,u.return=i,T.sibling=u,i.child=T,u=i.child,u.memoizedState=tg(l),u.childLanes=ng(s,_,l),i.memoizedState=eg,Yc(null,u)):(bi(i),rg(i,T))}var P=s.memoizedState;if(P!==null&&(T=P.dehydrated,T!==null)){if(y)i.flags&256?(bi(i),i.flags&=-257,i=sg(s,i,l)):i.memoizedState!==null?(xi(),i.child=s.child,i.flags|=128,i=null):(xi(),T=u.fallback,p=i.mode,u=Eh({mode:"visible",children:u.children},p),T=Sa(T,p,l,null),T.flags|=2,u.return=i,T.return=i,u.sibling=T,i.child=u,ja(i,s.child,null,l),u=i.child,u.memoizedState=tg(l),u.childLanes=ng(s,_,l),i.memoizedState=eg,i=Yc(null,u));else if(bi(i),zg(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var G=_.dgst;_=G,u=Error(r(419)),u.stack="",u.digest=_,zc({value:u,source:null,stack:null}),i=sg(s,i,l)}else if(qt||Ho(s,i,l,!1),_=(l&s.childLanes)!==0,qt||_){if(_=ft,_!==null&&(u=yc(_,l),u!==0&&u!==P.retryLane))throw P.retryLane=u,Ta(s,u),Mn(_,s,u),Jp;Vg(T)||jh(),i=sg(s,i,l)}else Vg(T)?(i.flags|=192,i.child=s.child,i=null):(s=P.treeContext,mt=dr(T.nextSibling),ln=i,Ge=!0,fi=null,cr=!1,s!==null&&_x(i,s),i=rg(i,u.children),i.flags|=4096);return i}return p?(xi(),T=u.fallback,p=i.mode,P=s.child,G=P.sibling,u=ws(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,G!==null?T=ws(G,T):(T=Sa(T,p,l,null),T.flags|=2),T.return=i,u.return=i,u.sibling=T,i.child=u,Yc(null,u),u=i.child,T=s.child.memoizedState,T===null?T=tg(l):(p=T.cachePool,p!==null?(P=Ft._currentValue,p=p.parent!==P?{parent:P,pool:P}:p):p=Nx(),T={baseLanes:T.baseLanes|l,cachePool:p}),u.memoizedState=T,u.childLanes=ng(s,_,l),i.memoizedState=eg,Yc(s.child,u)):(bi(i),l=s.child,s=l.sibling,l=ws(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,s!==null&&(_=i.deletions,_===null?(i.deletions=[s],i.flags|=16):_.push(s)),i.child=l,i.memoizedState=null,l)}function rg(s,i){return i=Eh({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Eh(s,i){return s=qn(22,s,null,i),s.lanes=0,s}function sg(s,i,l){return ja(i,s.child,null,l),s=rg(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function U_(s,i,l){s.lanes|=i;var u=s.alternate;u!==null&&(u.lanes|=i),bp(s.return,i,l)}function ig(s,i,l,u,p,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:y}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=p,_.treeForkCount=y)}function F_(s,i,l){var u=i.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var _=kt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ie(kt,_),un(s,i,u,l),u=Ge?Vc:0,!T&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&U_(s,l,i);else if(s.tag===19)U_(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&dh(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),ig(i,!1,p,l,y,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&dh(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}ig(i,!0,l,null,y,u);break;case"together":ig(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Is(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Ei|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Ho(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=ws(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=ws(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function ag(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&rh(s)))}function cR(s,i,l){switch(i.tag){case 3:St(i,i.stateNode.containerInfo),pi(i,Ft,s.memoizedState.cache),Aa();break;case 27:case 5:Wn(i);break;case 4:St(i,i.stateNode.containerInfo);break;case 10:pi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Dp(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(bi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?L_(s,i,l):(bi(i),s=Is(s,i,l),s!==null?s.sibling:null);bi(i);break;case 19:var p=(s.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Ho(s,i,l,!1),u=(l&i.childLanes)!==0),p){if(u)return F_(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ie(kt,kt.current),u)break;return null;case 22:return i.lanes=0,k_(s,i,l,i.pendingProps);case 24:pi(i,Ft,s.memoizedState.cache)}return Is(s,i,l)}function B_(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)qt=!0;else{if(!ag(s,l)&&(i.flags&128)===0)return qt=!1,cR(s,i,l);qt=(s.flags&131072)!==0}else qt=!1,Ge&&(i.flags&1048576)!==0&&xx(i,Vc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(s=Ca(i.elementType),i.type=s,typeof s=="function")dp(s)?(u=Oa(s,u),i.tag=1,i=V_(null,i,s,u,l)):(i.tag=0,i=Wp(null,i,s,u,l));else{if(s!=null){var p=s.$$typeof;if(p===ae){i.tag=11,i=C_(null,i,s,u,l);break e}else if(p===I){i.tag=14,i=D_(null,i,s,u,l);break e}}throw i=Ke(s)||s,Error(r(306,i,""))}}return i;case 0:return Wp(s,i,i.type,i.pendingProps,l);case 1:return u=i.type,p=Oa(u,i.pendingProps),V_(s,i,u,p,l);case 3:e:{if(St(i,i.stateNode.containerInfo),s===null)throw Error(r(387));u=i.pendingProps;var y=i.memoizedState;p=y.element,Ap(s,i),Hc(i,u,null,l);var _=i.memoizedState;if(u=_.cache,pi(i,Ft,u),u!==y.cache&&xp(i,[Ft],l,!0),$c(),u=_.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=z_(s,i,u,l);break e}else if(u!==p){p=ar(Error(r(424)),i),zc(p),i=z_(s,i,u,l);break e}else for(s=i.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,mt=dr(s.firstChild),ln=i,Ge=!0,fi=null,cr=!0,l=kx(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Aa(),u===p){i=Is(s,i,l);break e}un(s,i,u,l)}i=i.child}return i;case 26:return wh(s,i),s===null?(l=W0(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ge||(l=i.type,s=i.pendingProps,u=Lh(ke.current).createElement(l),u[zt]=i,u[tn]=s,dn(u,l,s),Lt(u),i.stateNode=u):i.memoizedState=W0(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Wn(i),s===null&&Ge&&(u=i.stateNode=Y0(i.type,i.pendingProps,ke.current),ln=i,cr=!0,p=mt,Ii(i.type)?(Lg=p,mt=dr(u.firstChild)):mt=p),un(s,i,i.pendingProps.children,l),wh(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Ge&&((p=u=mt)&&(u=LR(u,i.type,i.pendingProps,cr),u!==null?(i.stateNode=u,ln=i,mt=dr(u.firstChild),cr=!1,p=!0):p=!1),p||mi(i)),Wn(i),p=i.type,y=i.pendingProps,_=s!==null?s.memoizedProps:null,u=y.children,Og(p,y)?u=null:_!==null&&Og(p,_)&&(i.flags|=32),i.memoizedState!==null&&(p=kp(s,i,eR,null,null,l),du._currentValue=p),wh(s,i),un(s,i,u,l),i.child;case 6:return s===null&&Ge&&((s=l=mt)&&(l=UR(l,i.pendingProps,cr),l!==null?(i.stateNode=l,ln=i,mt=null,s=!0):s=!1),s||mi(i)),null;case 13:return L_(s,i,l);case 4:return St(i,i.stateNode.containerInfo),u=i.pendingProps,s===null?i.child=ja(i,null,u,l):un(s,i,u,l),i.child;case 11:return C_(s,i,i.type,i.pendingProps,l);case 7:return un(s,i,i.pendingProps,l),i.child;case 8:return un(s,i,i.pendingProps.children,l),i.child;case 12:return un(s,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,pi(i,i.type,u.value),un(s,i,u.children,l),i.child;case 9:return p=i.type._context,u=i.pendingProps.children,Ia(i),p=cn(p),u=u(p),i.flags|=1,un(s,i,u,l),i.child;case 14:return D_(s,i,i.type,i.pendingProps,l);case 15:return j_(s,i,i.type,i.pendingProps,l);case 19:return F_(s,i,l);case 31:return lR(s,i,l);case 22:return k_(s,i,l,i.pendingProps);case 24:return Ia(i),u=cn(Ft),s===null?(p=Ep(),p===null&&(p=ft,y=_p(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),i.memoizedState={parent:u,cache:p},Sp(i),pi(i,Ft,p)):((s.lanes&l)!==0&&(Ap(s,i),Hc(i,null,null,l),$c()),p=s.memoizedState,y=i.memoizedState,p.parent!==u?(p={parent:u,cache:u},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),pi(i,Ft,u)):(u=y.cache,pi(i,Ft,u),u!==p.cache&&xp(i,[Ft],l,!0))),un(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Rs(s){s.flags|=4}function og(s,i,l,u,p){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(p0())s.flags|=8192;else throw Da=oh,Tp}else s.flags&=-16777217}function q_(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!sw(i))if(p0())s.flags|=8192;else throw Da=oh,Tp}function Th(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Cd():536870912,s.lanes|=i,rl|=i)}function Xc(s,i){if(!Ge)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function pt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,i}function uR(s,i,l){var u=i.pendingProps;switch(pp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(i),null;case 1:return pt(i),null;case 3:return l=i.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ss(Ft),tt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&($o(i)?Rs(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yp())),pt(i),null;case 26:var p=i.type,y=i.memoizedState;return s===null?(Rs(i),y!==null?(pt(i),q_(i,y)):(pt(i),og(i,p,null,u,l))):y?y!==s.memoizedState?(Rs(i),pt(i),q_(i,y)):(pt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==u&&Rs(i),pt(i),og(i,p,s,u,l)),null;case 27:if(Lr(i),l=ke.current,p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Rs(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return pt(i),null}s=ue.current,$o(i)?wx(i):(s=Y0(p,u,l),i.stateNode=s,Rs(i))}return pt(i),null;case 5:if(Lr(i),p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Rs(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return pt(i),null}if(y=ue.current,$o(i))wx(i);else{var _=Lh(ke.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?_.createElement(p,{is:u.is}):_.createElement(p)}}y[zt]=i,y[tn]=u;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=y;e:switch(dn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Rs(i)}}return pt(i),og(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,l),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==u&&Rs(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(s=ke.current,$o(i)){if(s=i.stateNode,l=i.memoizedProps,u=null,p=ln,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[zt]=i,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||L0(s.nodeValue,l)),s||mi(i,!0)}else s=Lh(s).createTextNode(u),s[zt]=i,i.stateNode=s}return pt(i),null;case 31:if(l=i.memoizedState,s===null||s.memoizedState!==null){if(u=$o(i),l!==null){if(s===null){if(!u)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[zt]=i}else Aa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),s=!1}else l=yp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return i.flags&256?(Hn(i),i):(Hn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return pt(i),null;case 13:if(u=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=$o(i),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[zt]=i}else Aa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),p=!1}else p=yp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Hn(i),i):(Hn(i),null)}return Hn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=i.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),l!==s&&l&&(i.child.flags|=8192),Th(i,i.updateQueue),pt(i),null);case 4:return tt(),s===null&&Rg(i.stateNode.containerInfo),pt(i),null;case 10:return Ss(i.type),pt(i),null;case 19:if(Q(kt),u=i.memoizedState,u===null)return pt(i),null;if(p=(i.flags&128)!==0,y=u.rendering,y===null)if(p)Xc(u,!1);else{if(Nt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(y=dh(s),y!==null){for(i.flags|=128,Xc(u,!1),s=y.updateQueue,i.updateQueue=s,Th(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)yx(l,s),l=l.sibling;return ie(kt,kt.current&1|2),Ge&&Es(i,u.treeForkCount),i.child}s=s.sibling}u.tail!==null&&xn()>Rh&&(i.flags|=128,p=!0,Xc(u,!1),i.lanes=4194304)}else{if(!p)if(s=dh(y),s!==null){if(i.flags|=128,p=!0,s=s.updateQueue,i.updateQueue=s,Th(i,s),Xc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Ge)return pt(i),null}else 2*xn()-u.renderingStartTime>Rh&&l!==536870912&&(i.flags|=128,p=!0,Xc(u,!1),i.lanes=4194304);u.isBackwards?(y.sibling=i.child,i.child=y):(s=u.last,s!==null?s.sibling=y:i.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=xn(),s.sibling=null,l=kt.current,ie(kt,p?l&1|2:l&1),Ge&&Es(i,u.treeForkCount),s):(pt(i),null);case 22:case 23:return Hn(i),Cp(),u=i.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(pt(i),i.subtreeFlags&6&&(i.flags|=8192)):pt(i),l=i.updateQueue,l!==null&&Th(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),s!==null&&Q(Ra),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ss(Ft),pt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function dR(s,i){switch(pp(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ss(Ft),tt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Lr(i),null;case 31:if(i.memoizedState!==null){if(Hn(i),i.alternate===null)throw Error(r(340));Aa()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Hn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Aa()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Q(kt),null;case 4:return tt(),null;case 10:return Ss(i.type),null;case 22:case 23:return Hn(i),Cp(),s!==null&&Q(Ra),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Ss(Ft),null;case 25:return null;default:return null}}function $_(s,i){switch(pp(i),i.tag){case 3:Ss(Ft),tt();break;case 26:case 27:case 5:Lr(i);break;case 4:tt();break;case 31:i.memoizedState!==null&&Hn(i);break;case 13:Hn(i);break;case 19:Q(kt);break;case 10:Ss(i.type);break;case 22:case 23:Hn(i),Cp(),s!==null&&Q(Ra);break;case 24:Ss(Ft)}}function Jc(s,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var y=l.create,_=l.inst;u=y(),_.destroy=u}l=l.next}while(l!==p)}}catch(T){st(i,i.return,T)}}function _i(s,i,l){try{var u=i.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var _=u.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,p=i;var P=l,G=T;try{G()}catch(te){st(p,P,te)}}}u=u.next}while(u!==y)}}catch(te){st(i,i.return,te)}}function H_(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{Px(i,l)}catch(u){st(s,s.return,u)}}}function G_(s,i,l){l.props=Oa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){st(s,i,u)}}function Wc(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(p){st(s,i,p)}}function as(s,i){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){st(s,i,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){st(s,i,p)}else l.current=null}function K_(s){var i=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){st(s,s.return,p)}}function lg(s,i,l){try{var u=s.stateNode;kR(u,s.type,l,i),u[tn]=i}catch(p){st(s,s.return,p)}}function Q_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ii(s.type)||s.tag===4}function cg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Q_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ii(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ug(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Nr));else if(u!==4&&(u===27&&Ii(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(ug(s,i,l),s=s.sibling;s!==null;)ug(s,i,l),s=s.sibling}function Sh(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(u!==4&&(u===27&&Ii(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Sh(s,i,l),s=s.sibling;s!==null;)Sh(s,i,l),s=s.sibling}function Z_(s){var i=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);dn(i,u,l),i[zt]=s,i[tn]=l}catch(y){st(s,s.return,y)}}var Cs=!1,$t=!1,dg=!1,Y_=typeof WeakSet=="function"?WeakSet:Set,rn=null;function hR(s,i){if(s=s.containerInfo,jg=Gh,s=lx(s),sp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var _=0,T=-1,P=-1,G=0,te=0,se=s,K=null;t:for(;;){for(var W;se!==l||p!==0&&se.nodeType!==3||(T=_+p),se!==y||u!==0&&se.nodeType!==3||(P=_+u),se.nodeType===3&&(_+=se.nodeValue.length),(W=se.firstChild)!==null;)K=se,se=W;for(;;){if(se===s)break t;if(K===l&&++G===p&&(T=_),K===y&&++te===u&&(P=_),(W=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=W}l=T===-1||P===-1?null:{start:T,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(kg={focusedElem:s,selectionRange:l},Gh=!1,rn=i;rn!==null;)if(i=rn,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,rn=s;else for(;rn!==null;){switch(i=rn,y=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)p=s[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=i,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var ye=Oa(l.type,p);s=u.getSnapshotBeforeUpdate(ye,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Re){st(l,l.return,Re)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Mg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Mg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,rn=s;break}rn=i.return}}function X_(s,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:js(s,l),u&4&&Jc(5,l);break;case 1:if(js(s,l),u&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(_){st(l,l.return,_)}else{var p=Oa(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(p,i,s.__reactInternalSnapshotBeforeUpdate)}catch(_){st(l,l.return,_)}}u&64&&H_(l),u&512&&Wc(l,l.return);break;case 3:if(js(s,l),u&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Px(s,i)}catch(_){st(l,l.return,_)}}break;case 27:i===null&&u&4&&Z_(l);case 26:case 5:js(s,l),i===null&&u&4&&K_(l),u&512&&Wc(l,l.return);break;case 12:js(s,l);break;case 31:js(s,l),u&4&&e0(s,l);break;case 13:js(s,l),u&4&&t0(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=_R.bind(null,l),FR(s,l))));break;case 22:if(u=l.memoizedState!==null||Cs,!u){i=i!==null&&i.memoizedState!==null||$t,p=Cs;var y=$t;Cs=u,($t=i)&&!y?ks(s,l,(l.subtreeFlags&8772)!==0):js(s,l),Cs=p,$t=y}break;case 30:break;default:js(s,l)}}function J_(s){var i=s.alternate;i!==null&&(s.alternate=null,J_(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&No(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var yt=null,jn=!1;function Ds(s,i,l){for(l=l.child;l!==null;)W_(s,i,l),l=l.sibling}function W_(s,i,l){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Er,l)}catch{}switch(l.tag){case 26:$t||as(l,i),Ds(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$t||as(l,i);var u=yt,p=jn;Ii(l.type)&&(yt=l.stateNode,jn=!1),Ds(s,i,l),lu(l.stateNode),yt=u,jn=p;break;case 5:$t||as(l,i);case 6:if(u=yt,p=jn,yt=null,Ds(s,i,l),yt=u,jn=p,yt!==null)if(jn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(l.stateNode)}catch(y){st(l,i,y)}else try{yt.removeChild(l.stateNode)}catch(y){st(l,i,y)}break;case 18:yt!==null&&(jn?(s=yt,H0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),dl(s)):H0(yt,l.stateNode));break;case 4:u=yt,p=jn,yt=l.stateNode.containerInfo,jn=!0,Ds(s,i,l),yt=u,jn=p;break;case 0:case 11:case 14:case 15:_i(2,l,i),$t||_i(4,l,i),Ds(s,i,l);break;case 1:$t||(as(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&G_(l,i,u)),Ds(s,i,l);break;case 21:Ds(s,i,l);break;case 22:$t=(u=$t)||l.memoizedState!==null,Ds(s,i,l),$t=u;break;default:Ds(s,i,l)}}function e0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{dl(s)}catch(l){st(i,i.return,l)}}}function t0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{dl(s)}catch(l){st(i,i.return,l)}}function fR(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new Y_),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new Y_),i;default:throw Error(r(435,s.tag))}}function Ah(s,i){var l=fR(s);i.forEach(function(u){if(!l.has(u)){l.add(u);var p=wR.bind(null,s,u);u.then(p,p)}})}function kn(s,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=s,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ii(T.type)){yt=T.stateNode,jn=!1;break e}break;case 5:yt=T.stateNode,jn=!1;break e;case 3:case 4:yt=T.stateNode.containerInfo,jn=!0;break e}T=T.return}if(yt===null)throw Error(r(160));W_(y,_,p),yt=null,jn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)n0(i,s),i=i.sibling}var kr=null;function n0(s,i){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:kn(i,s),On(s),u&4&&(_i(3,s,s.return),Jc(3,s),_i(5,s,s.return));break;case 1:kn(i,s),On(s),u&512&&($t||l===null||as(l,l.return)),u&64&&Cs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=kr;if(kn(i,s),On(s),u&512&&($t||l===null||as(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Gr]||y[zt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),dn(y,u,l),y[zt]=s,Lt(y),u=y;break e;case"link":var _=nw("link","href",p).get(u+(l.href||""));if(_){for(var T=0;T<_.length;T++)if(y=_[T],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(T,1);break t}}y=p.createElement(u),dn(y,u,l),p.head.appendChild(y);break;case"meta":if(_=nw("meta","content",p).get(u+(l.content||""))){for(T=0;T<_.length;T++)if(y=_[T],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(T,1);break t}}y=p.createElement(u),dn(y,u,l),p.head.appendChild(y);break;default:throw Error(r(468,u))}y[zt]=s,Lt(y),u=y}s.stateNode=u}else rw(p,s.type,s.stateNode);else s.stateNode=tw(p,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?rw(p,s.type,s.stateNode):tw(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&lg(s,s.memoizedProps,l.memoizedProps)}break;case 27:kn(i,s),On(s),u&512&&($t||l===null||as(l,l.return)),l!==null&&u&4&&lg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(kn(i,s),On(s),u&512&&($t||l===null||as(l,l.return)),s.flags&32){p=s.stateNode;try{Dn(p,"")}catch(ye){st(s,s.return,ye)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,lg(s,p,l!==null?l.memoizedProps:p)),u&1024&&(dg=!0);break;case 6:if(kn(i,s),On(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ye){st(s,s.return,ye)}}break;case 3:if(Bh=null,p=kr,kr=Uh(i.containerInfo),kn(i,s),kr=p,On(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{dl(i.containerInfo)}catch(ye){st(s,s.return,ye)}dg&&(dg=!1,r0(s));break;case 4:u=kr,kr=Uh(s.stateNode.containerInfo),kn(i,s),On(s),kr=u;break;case 12:kn(i,s),On(s);break;case 31:kn(i,s),On(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ah(s,u)));break;case 13:kn(i,s),On(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ih=xn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ah(s,u)));break;case 22:p=s.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,G=Cs,te=$t;if(Cs=G||p,$t=te||P,kn(i,s),$t=te,Cs=G,On(s),u&8192)e:for(i=s.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||P||Cs||$t||Pa(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){P=l=i;try{if(y=P.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=P.stateNode;var se=P.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ye){st(P,P.return,ye)}}}else if(i.tag===6){if(l===null){P=i;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(ye){st(P,P.return,ye)}}}else if(i.tag===18){if(l===null){P=i;try{var W=P.stateNode;p?G0(W,!0):G0(P.stateNode,!1)}catch(ye){st(P,P.return,ye)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ah(s,l))));break;case 19:kn(i,s),On(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ah(s,u)));break;case 30:break;case 21:break;default:kn(i,s),On(s)}}function On(s){var i=s.flags;if(i&2){try{for(var l,u=s.return;u!==null;){if(Q_(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,y=cg(s);Sh(s,y,p);break;case 5:var _=l.stateNode;l.flags&32&&(Dn(_,""),l.flags&=-33);var T=cg(s);Sh(s,T,_);break;case 3:case 4:var P=l.stateNode.containerInfo,G=cg(s);ug(s,G,P);break;default:throw Error(r(161))}}catch(te){st(s,s.return,te)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function r0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;r0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function js(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)X_(s,i.alternate,i),i=i.sibling}function Pa(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:_i(4,i,i.return),Pa(i);break;case 1:as(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&G_(i,i.return,l),Pa(i);break;case 27:lu(i.stateNode);case 26:case 5:as(i,i.return),Pa(i);break;case 22:i.memoizedState===null&&Pa(i);break;case 30:Pa(i);break;default:Pa(i)}s=s.sibling}}function ks(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,p=s,y=i,_=y.flags;switch(y.tag){case 0:case 11:case 15:ks(p,y,l),Jc(4,y);break;case 1:if(ks(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){st(u,u.return,G)}if(u=y,p=u.updateQueue,p!==null){var T=u.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)Ox(P[p],T)}catch(G){st(u,u.return,G)}}l&&_&64&&H_(y),Wc(y,y.return);break;case 27:Z_(y);case 26:case 5:ks(p,y,l),l&&u===null&&_&4&&K_(y),Wc(y,y.return);break;case 12:ks(p,y,l);break;case 31:ks(p,y,l),l&&_&4&&e0(p,y);break;case 13:ks(p,y,l),l&&_&4&&t0(p,y);break;case 22:y.memoizedState===null&&ks(p,y,l),Wc(y,y.return);break;case 30:break;default:ks(p,y,l)}i=i.sibling}}function hg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Lc(l))}function fg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Lc(s))}function Or(s,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)s0(s,i,l,u),i=i.sibling}function s0(s,i,l,u){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Or(s,i,l,u),p&2048&&Jc(9,i);break;case 1:Or(s,i,l,u);break;case 3:Or(s,i,l,u),p&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Lc(s)));break;case 12:if(p&2048){Or(s,i,l,u),s=i.stateNode;try{var y=i.memoizedProps,_=y.id,T=y.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(P){st(i,i.return,P)}}else Or(s,i,l,u);break;case 31:Or(s,i,l,u);break;case 13:Or(s,i,l,u);break;case 23:break;case 22:y=i.stateNode,_=i.alternate,i.memoizedState!==null?y._visibility&2?Or(s,i,l,u):eu(s,i):y._visibility&2?Or(s,i,l,u):(y._visibility|=2,el(s,i,l,u,(i.subtreeFlags&10256)!==0||!1)),p&2048&&hg(_,i);break;case 24:Or(s,i,l,u),p&2048&&fg(i.alternate,i);break;default:Or(s,i,l,u)}}function el(s,i,l,u,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=s,_=i,T=l,P=u,G=_.flags;switch(_.tag){case 0:case 11:case 15:el(y,_,T,P,p),Jc(8,_);break;case 23:break;case 22:var te=_.stateNode;_.memoizedState!==null?te._visibility&2?el(y,_,T,P,p):eu(y,_):(te._visibility|=2,el(y,_,T,P,p)),p&&G&2048&&hg(_.alternate,_);break;case 24:el(y,_,T,P,p),p&&G&2048&&fg(_.alternate,_);break;default:el(y,_,T,P,p)}i=i.sibling}}function eu(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,u=i,p=u.flags;switch(u.tag){case 22:eu(l,u),p&2048&&hg(u.alternate,u);break;case 24:eu(l,u),p&2048&&fg(u.alternate,u);break;default:eu(l,u)}i=i.sibling}}var tu=8192;function tl(s,i,l){if(s.subtreeFlags&tu)for(s=s.child;s!==null;)i0(s,i,l),s=s.sibling}function i0(s,i,l){switch(s.tag){case 26:tl(s,i,l),s.flags&tu&&s.memoizedState!==null&&WR(l,kr,s.memoizedState,s.memoizedProps);break;case 5:tl(s,i,l);break;case 3:case 4:var u=kr;kr=Uh(s.stateNode.containerInfo),tl(s,i,l),kr=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=tu,tu=16777216,tl(s,i,l),tu=u):tl(s,i,l));break;default:tl(s,i,l)}}function a0(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function nu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];rn=u,l0(u,s)}a0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o0(s),s=s.sibling}function o0(s){switch(s.tag){case 0:case 11:case 15:nu(s),s.flags&2048&&_i(9,s,s.return);break;case 3:nu(s);break;case 12:nu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Nh(s)):nu(s);break;default:nu(s)}}function Nh(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];rn=u,l0(u,s)}a0(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:_i(8,i,i.return),Nh(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Nh(i));break;default:Nh(i)}s=s.sibling}}function l0(s,i){for(;rn!==null;){var l=rn;switch(l.tag){case 0:case 11:case 15:_i(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Lc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,rn=u;else e:for(l=s;rn!==null;){u=rn;var p=u.sibling,y=u.return;if(J_(u),u===l){rn=null;break e}if(p!==null){p.return=y,rn=p;break e}rn=y}}}var mR={getCacheForType:function(s){var i=cn(Ft),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l},cacheSignal:function(){return cn(Ft).controller.signal}},pR=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,Ue=null,Be=0,rt=0,Gn=null,wi=!1,nl=!1,mg=!1,Os=0,Nt=0,Ei=0,Ma=0,pg=0,Kn=0,rl=0,ru=null,Pn=null,gg=!1,Ih=0,c0=0,Rh=1/0,Ch=null,Ti=null,Yt=0,Si=null,sl=null,Ps=0,yg=0,vg=null,u0=null,su=0,bg=null;function Qn(){return(et&2)!==0&&Be!==0?Be&-Be:X.T!==null?Sg():Dd()}function d0(){if(Kn===0)if((Be&536870912)===0||Ge){var s=ca;ca<<=1,(ca&3932160)===0&&(ca=262144),Kn=s}else Kn=536870912;return s=$n.current,s!==null&&(s.flags|=32),Kn}function Mn(s,i,l){(s===ft&&(rt===2||rt===9)||s.cancelPendingCommit!==null)&&(il(s,0),Ai(s,Be,Kn,!1)),ua(s,l),((et&2)===0||s!==ft)&&(s===ft&&((et&2)===0&&(Ma|=l),Nt===4&&Ai(s,Be,Kn,!1)),os(s))}function h0(s,i,l){if((et&6)!==0)throw Error(r(327));var u=!l&&(i&127)===0&&(i&s.expiredLanes)===0||Tr(s,i),p=u?vR(s,i):_g(s,i,!0),y=u;do{if(p===0){nl&&!u&&Ai(s,i,0,!1);break}else{if(l=s.current.alternate,y&&!gR(l)){p=_g(s,i,!1),y=!1;continue}if(p===2){if(y=i,s.errorRecoveryDisabledLanes&y)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=s;p=ru;var P=T.current.memoizedState.isDehydrated;if(P&&(il(T,_).flags|=256),_=_g(T,_,!1),_!==2){if(mg&&!P){T.errorRecoveryDisabledLanes|=y,Ma|=y,p=4;break e}y=Pn,Pn=p,y!==null&&(Pn===null?Pn=y:Pn.push.apply(Pn,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){il(s,0),Ai(s,i,0,!0);break}e:{switch(u=s,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ai(u,i,Kn,!wi);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(p=Ih+300-xn(),10<p)){if(Ai(u,i,Kn,!wi),qr(u,0,!0)!==0)break e;Ps=i,u.timeoutHandle=q0(f0.bind(null,u,l,Pn,Ch,gg,i,Kn,Ma,rl,wi,y,"Throttled",-0,0),p);break e}f0(u,l,Pn,Ch,gg,i,Kn,Ma,rl,wi,y,null,-0,0)}}break}while(!0);os(s)}function f0(s,i,l,u,p,y,_,T,P,G,te,se,K,W){if(s.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nr},i0(i,y,se);var ye=(y&62914560)===y?Ih-xn():(y&4194048)===y?c0-xn():0;if(ye=eC(se,ye),ye!==null){Ps=y,s.cancelPendingCommit=ye(_0.bind(null,s,i,y,l,u,p,_,T,P,te,se,null,K,W)),Ai(s,y,_,!G);return}}_0(s,i,y,l,u,p,_,T,P)}function gR(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!Bn(y(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ai(s,i,l,u){i&=~pg,i&=~Ma,s.suspendedLanes|=i,s.pingedLanes&=~i,u&&(s.warmLanes|=i),u=s.expirationTimes;for(var p=i;0<p;){var y=31-Dt(p),_=1<<y;u[y]=-1,p&=~_}l!==0&&da(s,l,i)}function Dh(){return(et&6)===0?(iu(0),!1):!0}function xg(){if(Ue!==null){if(rt===0)var s=Ue.return;else s=Ue,Ts=Na=null,Mp(s),Zo=null,Fc=0,s=Ue;for(;s!==null;)$_(s.alternate,s),s=s.return;Ue=null}}function il(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,MR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ps=0,xg(),ft=s,Ue=l=ws(s.current,null),Be=i,rt=0,Gn=null,wi=!1,nl=Tr(s,i),mg=!1,rl=Kn=pg=Ma=Ei=Nt=0,Pn=ru=null,gg=!1,(i&8)!==0&&(i|=i&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=i;0<u;){var p=31-Dt(u),y=1<<p;i|=s[p],u&=~y}return Os=i,Jd(),l}function m0(s,i){Me=null,X.H=Zc,i===Qo||i===ah?(i=Cx(),rt=3):i===Tp?(i=Cx(),rt=4):rt=i===Jp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Gn=i,Ue===null&&(Nt=1,xh(s,ar(i,s.current)))}function p0(){var s=$n.current;return s===null?!0:(Be&4194048)===Be?ur===null:(Be&62914560)===Be||(Be&536870912)!==0?s===ur:!1}function g0(){var s=X.H;return X.H=Zc,s===null?Zc:s}function y0(){var s=X.A;return X.A=mR,s}function jh(){Nt=4,wi||(Be&4194048)!==Be&&$n.current!==null||(nl=!0),(Ei&134217727)===0&&(Ma&134217727)===0||ft===null||Ai(ft,Be,Kn,!1)}function _g(s,i,l){var u=et;et|=2;var p=g0(),y=y0();(ft!==s||Be!==i)&&(Ch=null,il(s,i)),i=!1;var _=Nt;e:do try{if(rt!==0&&Ue!==null){var T=Ue,P=Gn;switch(rt){case 8:xg(),_=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(i=!0);var G=rt;if(rt=0,Gn=null,al(s,T,P,G),l&&nl){_=0;break e}break;default:G=rt,rt=0,Gn=null,al(s,T,P,G)}}yR(),_=Nt;break}catch(te){m0(s,te)}while(!0);return i&&s.shellSuspendCounter++,Ts=Na=null,et=u,X.H=p,X.A=y,Ue===null&&(ft=null,Be=0,Jd()),_}function yR(){for(;Ue!==null;)v0(Ue)}function vR(s,i){var l=et;et|=2;var u=g0(),p=y0();ft!==s||Be!==i?(Ch=null,Rh=xn()+500,il(s,i)):nl=Tr(s,i);e:do try{if(rt!==0&&Ue!==null){i=Ue;var y=Gn;t:switch(rt){case 1:rt=0,Gn=null,al(s,i,y,1);break;case 2:case 9:if(Ix(y)){rt=0,Gn=null,b0(i);break}i=function(){rt!==2&&rt!==9||ft!==s||(rt=7),os(s)},y.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Ix(y)?(rt=0,Gn=null,b0(i)):(rt=0,Gn=null,al(s,i,y,7));break;case 5:var _=null;switch(Ue.tag){case 26:_=Ue.memoizedState;case 5:case 27:var T=Ue;if(_?sw(_):T.stateNode.complete){rt=0,Gn=null;var P=T.sibling;if(P!==null)Ue=P;else{var G=T.return;G!==null?(Ue=G,kh(G)):Ue=null}break t}}rt=0,Gn=null,al(s,i,y,5);break;case 6:rt=0,Gn=null,al(s,i,y,6);break;case 8:xg(),Nt=6;break e;default:throw Error(r(462))}}bR();break}catch(te){m0(s,te)}while(!0);return Ts=Na=null,X.H=u,X.A=p,et=l,Ue!==null?0:(ft=null,Be=0,Jd(),Nt)}function bR(){for(;Ue!==null&&!Xm();)v0(Ue)}function v0(s){var i=B_(s.alternate,s,Os);s.memoizedProps=s.pendingProps,i===null?kh(s):Ue=i}function b0(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=M_(l,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=M_(l,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Mp(i);default:$_(l,i),i=Ue=yx(i,Os),i=B_(l,i,Os)}s.memoizedProps=s.pendingProps,i===null?kh(s):Ue=i}function al(s,i,l,u){Ts=Na=null,Mp(i),Zo=null,Fc=0;var p=i.return;try{if(oR(s,p,i,l,Be)){Nt=1,xh(s,ar(l,s.current)),Ue=null;return}}catch(y){if(p!==null)throw Ue=p,y;Nt=1,xh(s,ar(l,s.current)),Ue=null;return}i.flags&32768?(Ge||u===1?s=!0:nl||(Be&536870912)!==0?s=!1:(wi=s=!0,(u===2||u===9||u===3||u===6)&&(u=$n.current,u!==null&&u.tag===13&&(u.flags|=16384))),x0(i,s)):kh(i)}function kh(s){var i=s;do{if((i.flags&32768)!==0){x0(i,wi);return}s=i.return;var l=uR(i.alternate,i,Os);if(l!==null){Ue=l;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=s}while(i!==null);Nt===0&&(Nt=5)}function x0(s,i){do{var l=dR(s.alternate,s);if(l!==null){l.flags&=32767,Ue=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){Ue=s;return}Ue=s=l}while(s!==null);Nt=6,Ue=null}function _0(s,i,l,u,p,y,_,T,P){s.cancelPendingCommit=null;do Oh();while(Yt!==0);if((et&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(y=i.lanes|i.childLanes,y|=cp,ep(s,l,y,_,T,P),s===ft&&(Ue=ft=null,Be=0),sl=i,Si=s,Ps=l,yg=y,vg=p,u0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ER(ni,function(){return A0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,p=de.p,de.p=2,_=et,et|=4;try{hR(s,i,l)}finally{et=_,de.p=p,X.T=u}}Yt=1,w0(),E0(),T0()}}function w0(){if(Yt===1){Yt=0;var s=Si,i=sl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var u=de.p;de.p=2;var p=et;et|=4;try{n0(i,s);var y=kg,_=lx(s.containerInfo),T=y.focusedElem,P=y.selectionRange;if(_!==T&&T&&T.ownerDocument&&ox(T.ownerDocument.documentElement,T)){if(P!==null&&sp(T)){var G=P.start,te=P.end;if(te===void 0&&(te=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(te,T.value.length);else{var se=T.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var W=K.getSelection(),ye=T.textContent.length,Re=Math.min(P.start,ye),ht=P.end===void 0?Re:Math.min(P.end,ye);!W.extend&&Re>ht&&(_=ht,ht=Re,Re=_);var F=ax(T,Re),z=ax(T,ht);if(F&&z&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var H=se.createRange();H.setStart(F.node,F.offset),W.removeAllRanges(),Re>ht?(W.addRange(H),W.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),W.addRange(H))}}}}for(se=[],W=T;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<se.length;T++){var ne=se[T];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Gh=!!jg,kg=jg=null}finally{et=p,de.p=u,X.T=l}}s.current=i,Yt=2}}function E0(){if(Yt===2){Yt=0;var s=Si,i=sl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var u=de.p;de.p=2;var p=et;et|=4;try{X_(s,i.alternate,i)}finally{et=p,de.p=u,X.T=l}}Yt=3}}function T0(){if(Yt===4||Yt===3){Yt=0,Td();var s=Si,i=sl,l=Ps,u=u0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yt=5:(Yt=0,sl=Si=null,S0(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Ti=null),vs(l),i=i.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Er,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=X.T,p=de.p,de.p=2,X.T=null;try{for(var y=s.onRecoverableError,_=0;_<u.length;_++){var T=u[_];y(T.value,{componentStack:T.stack})}}finally{X.T=i,de.p=p}}(Ps&3)!==0&&Oh(),os(s),p=s.pendingLanes,(l&261930)!==0&&(p&42)!==0?s===bg?su++:(su=0,bg=s):su=0,iu(0)}}function S0(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Lc(i)))}function Oh(){return w0(),E0(),T0(),A0()}function A0(){if(Yt!==5)return!1;var s=Si,i=yg;yg=0;var l=vs(Ps),u=X.T,p=de.p;try{de.p=32>l?32:l,X.T=null,l=vg,vg=null;var y=Si,_=Ps;if(Yt=0,sl=Si=null,Ps=0,(et&6)!==0)throw Error(r(331));var T=et;if(et|=4,o0(y.current),s0(y,y.current,_,l),et=T,iu(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Er,y)}catch{}return!0}finally{de.p=p,X.T=u,S0(s,i)}}function N0(s,i,l){i=ar(l,i),i=Xp(s.stateNode,i,2),s=vi(s,i,2),s!==null&&(ua(s,2),os(s))}function st(s,i,l){if(s.tag===3)N0(s,s,l);else for(;i!==null;){if(i.tag===3){N0(i,s,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ti===null||!Ti.has(u))){s=ar(l,s),l=I_(2),u=vi(i,l,2),u!==null&&(R_(l,u,i,s),ua(u,2),os(u));break}}i=i.return}}function wg(s,i,l){var u=s.pingCache;if(u===null){u=s.pingCache=new pR;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(l)||(mg=!0,p.add(l),s=xR.bind(null,s,i,l),i.then(s,s))}function xR(s,i,l){var u=s.pingCache;u!==null&&u.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ft===s&&(Be&l)===l&&(Nt===4||Nt===3&&(Be&62914560)===Be&&300>xn()-Ih?(et&2)===0&&il(s,0):pg|=l,rl===Be&&(rl=0)),os(s)}function I0(s,i){i===0&&(i=Cd()),s=Ta(s,i),s!==null&&(ua(s,i),os(s))}function _R(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),I0(s,l)}function wR(s,i){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),I0(s,l)}function ER(s,i){return Zt(s,i)}var Ph=null,ol=null,Eg=!1,Mh=!1,Tg=!1,Ni=0;function os(s){s!==ol&&s.next===null&&(ol===null?Ph=ol=s:ol=ol.next=s),Mh=!0,Eg||(Eg=!0,SR())}function iu(s,i){if(!Tg&&Mh){Tg=!0;do for(var l=!1,u=Ph;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var _=u.suspendedLanes,T=u.pingedLanes;y=(1<<31-Dt(42|s)+1)-1,y&=p&~(_&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,j0(u,y))}else y=Be,y=qr(u,u===ft?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Tr(u,y)||(l=!0,j0(u,y));u=u.next}while(l);Tg=!1}}function TR(){R0()}function R0(){Mh=Eg=!1;var s=0;Ni!==0&&PR()&&(s=Ni);for(var i=xn(),l=null,u=Ph;u!==null;){var p=u.next,y=C0(u,i);y===0?(u.next=null,l===null?Ph=p:l.next=p,p===null&&(ol=l)):(l=u,(s!==0||(y&3)!==0)&&(Mh=!0)),u=p}Yt!==0&&Yt!==5||iu(s),Ni!==0&&(Ni=0)}function C0(s,i){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var _=31-Dt(y),T=1<<_,P=p[_];P===-1?((T&l)===0||(T&u)!==0)&&(p[_]=Wm(T,i)):P<=i&&(s.expiredLanes|=T),y&=~T}if(i=ft,l=Be,l=qr(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===i&&(rt===2||rt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ti(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Tr(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(u!==null&&ti(u),vs(l)){case 2:case 8:l=pc;break;case 32:l=ni;break;case 268435456:l=Sd;break;default:l=ni}return u=D0.bind(null,s),l=Zt(l,u),s.callbackPriority=i,s.callbackNode=l,i}return u!==null&&u!==null&&ti(u),s.callbackPriority=2,s.callbackNode=null,2}function D0(s,i){if(Yt!==0&&Yt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Oh()&&s.callbackNode!==l)return null;var u=Be;return u=qr(s,s===ft?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(h0(s,u,i),C0(s,xn()),s.callbackNode!=null&&s.callbackNode===l?D0.bind(null,s):null)}function j0(s,i){if(Oh())return null;h0(s,i,!0)}function SR(){VR(function(){(et&6)!==0?Zt(mc,TR):R0()})}function Sg(){if(Ni===0){var s=Go;s===0&&(s=Fr,Fr<<=1,(Fr&261888)===0&&(Fr=256)),Ni=s}return Ni}function k0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Do(""+s)}function O0(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function AR(s,i,l,u,p){if(i==="submit"&&l&&l.stateNode===p){var y=k0((p[tn]||null).action),_=u.submitter;_&&(i=(i=_[tn]||null)?k0(i.formAction):_.getAttribute("formAction"),i!==null&&(y=i,_=null));var T=new es("action","action",null,u,p);s.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ni!==0){var P=_?O0(p,_):new FormData(p);Hp(l,{pending:!0,data:P,method:p.method,action:y},null,P)}}else typeof y=="function"&&(T.preventDefault(),P=_?O0(p,_):new FormData(p),Hp(l,{pending:!0,data:P,method:p.method,action:y},y,P))},currentTarget:p}]})}}for(var Ag=0;Ag<lp.length;Ag++){var Ng=lp[Ag],NR=Ng.toLowerCase(),IR=Ng[0].toUpperCase()+Ng.slice(1);jr(NR,"on"+IR)}jr(dx,"onAnimationEnd"),jr(hx,"onAnimationIteration"),jr(fx,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr($I,"onTransitionRun"),jr(HI,"onTransitionStart"),jr(GI,"onTransitionCancel"),jr(mx,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function P0(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var _=u.length-1;0<=_;_--){var T=u[_],P=T.instance,G=T.currentTarget;if(T=T.listener,P!==y&&p.isPropagationStopped())break e;y=T,p.currentTarget=G;try{y(p)}catch(te){Xd(te)}p.currentTarget=null,y=P}else for(_=0;_<u.length;_++){if(T=u[_],P=T.instance,G=T.currentTarget,T=T.listener,P!==y&&p.isPropagationStopped())break e;y=T,p.currentTarget=G;try{y(p)}catch(te){Xd(te)}p.currentTarget=null,y=P}}}}function Fe(s,i){var l=i[Ao];l===void 0&&(l=i[Ao]=new Set);var u=s+"__bubble";l.has(u)||(M0(i,s,2,!1),l.add(u))}function Ig(s,i,l){var u=0;i&&(u|=4),M0(l,s,u,i)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function Rg(s){if(!s[Vh]){s[Vh]=!0,vc.forEach(function(l){l!=="selectionchange"&&(RR.has(l)||Ig(l,!1,s),Ig(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Vh]||(i[Vh]=!0,Ig("selectionchange",!1,i))}}function M0(s,i,l,u){switch(dw(i)){case 2:var p=rC;break;case 8:p=sC;break;default:p=$g}l=p.bind(null,i,l,s),p=void 0,!ga||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function Cg(s,i,l,u,p){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===p)break;if(_===4)for(_=u.return;_!==null;){var P=_.tag;if((P===3||P===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;T!==null;){if(_=Kr(T),_===null)return;if(P=_.tag,P===5||P===6||P===26||P===27){u=y=_;continue e}T=T.parentNode}}u=u.return}li(function(){var G=y,te=nr(l),se=[];e:{var K=px.get(s);if(K!==void 0){var W=es,ye=s;switch(s){case"keypress":if(va(l)===0)break e;case"keydown":case"keyup":W=Qd;break;case"focusin":ye="focus",W=xa;break;case"focusout":ye="blur",W=xa;break;case"beforeblur":case"afterblur":W=xa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=x;break;case dx:case hx:case fx:W=Fd;break;case mx:W=N;break;case"scroll":case"scrollend":W=Cc;break;case"wheel":W=Y;break;case"copy":case"cut":case"paste":W=Bd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=_s;break;case"toggle":case"beforetoggle":W=Pe}var Re=(i&4)!==0,ht=!Re&&(s==="scroll"||s==="scrollend"),F=Re?K!==null?K+"Capture":null:K;Re=[];for(var z=G,H;z!==null;){var ne=z;if(H=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||H===null||F===null||(ne=Ir(z,F),ne!=null&&Re.push(ou(z,ne,H))),ht)break;z=z.return}0<Re.length&&(K=new W(K,ye,null,l,te),se.push({event:K,listeners:Re}))}}if((i&7)===0){e:{if(K=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",K&&l!==Nc&&(ye=l.relatedTarget||l.fromElement)&&(Kr(ye)||ye[Hr]))break e;if((W||K)&&(K=te.window===te?te:(K=te.ownerDocument)?K.defaultView||K.parentWindow:window,W?(ye=l.relatedTarget||l.toElement,W=G,ye=ye?Kr(ye):null,ye!==null&&(ht=o(ye),Re=ye.tag,ye!==ht||Re!==5&&Re!==27&&Re!==6)&&(ye=null)):(W=null,ye=G),W!==ye)){if(Re=Dc,ne="onMouseLeave",F="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Re=_s,ne="onPointerLeave",F="onPointerEnter",z="pointer"),ht=W==null?K:Un(W),H=ye==null?K:Un(ye),K=new Re(ne,z+"leave",W,l,te),K.target=ht,K.relatedTarget=H,ne=null,Kr(te)===G&&(Re=new Re(F,z+"enter",ye,l,te),Re.target=H,Re.relatedTarget=ht,ne=Re),ht=ne,W&&ye)t:{for(Re=CR,F=W,z=ye,H=0,ne=F;ne;ne=Re(ne))H++;ne=0;for(var Ee=z;Ee;Ee=Re(Ee))ne++;for(;0<H-ne;)F=Re(F),H--;for(;0<ne-H;)z=Re(z),ne--;for(;H--;){if(F===z||z!==null&&F===z.alternate){Re=F;break t}F=Re(F),z=Re(z)}Re=null}else Re=null;W!==null&&V0(se,K,W,Re,!1),ye!==null&&ht!==null&&V0(se,ht,ye,Re,!0)}}e:{if(K=G?Un(G):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Ye=ex;else if(Jb(K))if(tx)Ye=FI;else{Ye=LI;var _e=zI}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Co(G.elementType)&&(Ye=ex):Ye=UI;if(Ye&&(Ye=Ye(s,G))){Wb(se,Ye,l,te);break e}_e&&_e(s,K,G),s==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Tc(K,"number",K.value)}switch(_e=G?Un(G):window,s){case"focusin":(Jb(_e)||_e.contentEditable==="true")&&(zo=_e,ip=G,Mc=null);break;case"focusout":Mc=ip=zo=null;break;case"mousedown":ap=!0;break;case"contextmenu":case"mouseup":case"dragend":ap=!1,cx(se,l,te);break;case"selectionchange":if(qI)break;case"keydown":case"keyup":cx(se,l,te)}var Ve;if(We)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Vo?_a(s,l)&&(qe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(rs&&l.locale!=="ko"&&(Vo||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Vo&&(Ve=Rc()):(Wr=te,Ic="value"in Wr?Wr.value:Wr.textContent,Vo=!0)),_e=zh(G,qe),0<_e.length&&(qe=new ns(qe,s,null,l,te),se.push({event:qe,listeners:_e}),Ve?qe.data=Ve:(Ve=Mo(l),Ve!==null&&(qe.data=Ve)))),(Ve=sr?OI(s,l):PI(s,l))&&(qe=zh(G,"onBeforeInput"),0<qe.length&&(_e=new ns("onBeforeInput","beforeinput",null,l,te),se.push({event:_e,listeners:qe}),_e.data=Ve)),AR(se,s,G,l,te)}P0(se,i)})}function ou(s,i,l){return{instance:s,listener:i,currentTarget:l}}function zh(s,i){for(var l=i+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ir(s,l),p!=null&&u.unshift(ou(s,p,y)),p=Ir(s,i),p!=null&&u.push(ou(s,p,y))),s.tag===3)return u;s=s.return}return[]}function CR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function V0(s,i,l,u,p){for(var y=i._reactName,_=[];l!==null&&l!==u;){var T=l,P=T.alternate,G=T.stateNode;if(T=T.tag,P!==null&&P===u)break;T!==5&&T!==26&&T!==27||G===null||(P=G,p?(G=Ir(l,y),G!=null&&_.unshift(ou(l,G,P))):p||(G=Ir(l,y),G!=null&&_.push(ou(l,G,P)))),l=l.return}_.length!==0&&s.push({event:i,listeners:_})}var DR=/\r\n?/g,jR=/\u0000|\uFFFD/g;function z0(s){return(typeof s=="string"?s:""+s).replace(DR,`
`).replace(jR,"")}function L0(s,i){return i=z0(i),z0(s)===i}function dt(s,i,l,u,p,y){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Dn(s,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Dn(s,""+u);break;case"className":Fn(s,"class",u);break;case"tabIndex":Fn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(s,l,u);break;case"style":Ac(s,u,y);break;case"data":if(i!=="object"){Fn(s,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Do(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&dt(s,i,"name",p.name,p,null),dt(s,i,"formEncType",p.formEncType,p,null),dt(s,i,"formMethod",p.formMethod,p,null),dt(s,i,"formTarget",p.formTarget,p,null)):(dt(s,i,"encType",p.encType,p,null),dt(s,i,"method",p.method,p,null),dt(s,i,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Do(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Nr);break;case"onScroll":u!=null&&Fe("scroll",s);break;case"onScrollEnd":u!=null&&Fe("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Do(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Fe("beforetoggle",s),Fe("toggle",s),Io(s,"popover",u);break;case"xlinkActuate":Ut(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Io(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zd.get(l)||l,Io(s,l,u))}}function Dg(s,i,l,u,p,y){switch(l){case"style":Ac(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Dn(s,u):(typeof u=="number"||typeof u=="bigint")&&Dn(s,""+u);break;case"onScroll":u!=null&&Fe("scroll",s);break;case"onScrollEnd":u!=null&&Fe("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),y=s[tn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(i,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,u,p);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Io(s,l,u)}}}function dn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",s),Fe("load",s);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var _=l[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(s,i,y,_,l,null)}}p&&dt(s,i,"srcSet",l.srcSet,l,null),u&&dt(s,i,"src",l.src,l,null);return;case"input":Fe("invalid",s);var T=y=_=p=null,P=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var te=l[u];if(te!=null)switch(u){case"name":p=te;break;case"type":_=te;break;case"checked":P=te;break;case"defaultChecked":G=te;break;case"value":y=te;break;case"defaultValue":T=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,i));break;default:dt(s,i,u,te,l,null)}}Pd(s,y,T,P,G,_,p,!1);return;case"select":Fe("invalid",s),u=_=y=null;for(p in l)if(l.hasOwnProperty(p)&&(T=l[p],T!=null))switch(p){case"value":y=T;break;case"defaultValue":_=T;break;case"multiple":u=T;default:dt(s,i,p,T,l,null)}i=y,l=_,s.multiple=!!u,i!=null?si(s,!!u,i,!1):l!=null&&si(s,!!u,l,!0);return;case"textarea":Fe("invalid",s),y=p=u=null;for(_ in l)if(l.hasOwnProperty(_)&&(T=l[_],T!=null))switch(_){case"value":u=T;break;case"defaultValue":p=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:dt(s,i,_,T,l,null)}ii(s,u,p,y);return;case"option":for(P in l)l.hasOwnProperty(P)&&(u=l[P],u!=null)&&(P==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":dt(s,i,P,u,l,null));return;case"dialog":Fe("beforetoggle",s),Fe("toggle",s),Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":Fe("load",s);break;case"video":case"audio":for(u=0;u<au.length;u++)Fe(au[u],s);break;case"image":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"embed":case"source":case"link":Fe("error",s),Fe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(s,i,G,u,l,null)}return;default:if(Co(i)){for(te in l)l.hasOwnProperty(te)&&(u=l[te],u!==void 0&&Dg(s,i,te,u,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(u=l[T],u!=null&&dt(s,i,T,u,l,null))}function kR(s,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,T=null,P=null,G=null,te=null;for(W in l){var se=l[W];if(l.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":P=se;default:u.hasOwnProperty(W)||dt(s,i,W,null,u,se)}}for(var K in u){var W=u[K];if(se=l[K],u.hasOwnProperty(K)&&(W!=null||se!=null))switch(K){case"type":y=W;break;case"name":p=W;break;case"checked":G=W;break;case"defaultChecked":te=W;break;case"value":_=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:W!==se&&dt(s,i,K,W,u,se)}}Ro(s,_,T,P,G,te,y,p);return;case"select":W=_=T=K=null;for(y in l)if(P=l[y],l.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":W=P;default:u.hasOwnProperty(y)||dt(s,i,y,null,u,P)}for(p in u)if(y=u[p],P=l[p],u.hasOwnProperty(p)&&(y!=null||P!=null))switch(p){case"value":K=y;break;case"defaultValue":T=y;break;case"multiple":_=y;default:y!==P&&dt(s,i,p,y,u,P)}i=T,l=_,u=W,K!=null?si(s,!!l,K,!1):!!u!=!!l&&(i!=null?si(s,!!l,i,!0):si(s,!!l,l?[]:"",!1));return;case"textarea":W=K=null;for(T in l)if(p=l[T],l.hasOwnProperty(T)&&p!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:dt(s,i,T,null,u,p)}for(_ in u)if(p=u[_],y=l[_],u.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":K=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&dt(s,i,_,p,u,y)}Md(s,K,W);return;case"option":for(var ye in l)K=l[ye],l.hasOwnProperty(ye)&&K!=null&&!u.hasOwnProperty(ye)&&(ye==="selected"?s.selected=!1:dt(s,i,ye,null,u,K));for(P in u)K=u[P],W=l[P],u.hasOwnProperty(P)&&K!==W&&(K!=null||W!=null)&&(P==="selected"?s.selected=K&&typeof K!="function"&&typeof K!="symbol":dt(s,i,P,K,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in l)K=l[Re],l.hasOwnProperty(Re)&&K!=null&&!u.hasOwnProperty(Re)&&dt(s,i,Re,null,u,K);for(G in u)if(K=u[G],W=l[G],u.hasOwnProperty(G)&&K!==W&&(K!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:dt(s,i,G,K,u,W)}return;default:if(Co(i)){for(var ht in l)K=l[ht],l.hasOwnProperty(ht)&&K!==void 0&&!u.hasOwnProperty(ht)&&Dg(s,i,ht,void 0,u,K);for(te in u)K=u[te],W=l[te],!u.hasOwnProperty(te)||K===W||K===void 0&&W===void 0||Dg(s,i,te,K,u,W);return}}for(var F in l)K=l[F],l.hasOwnProperty(F)&&K!=null&&!u.hasOwnProperty(F)&&dt(s,i,F,null,u,K);for(se in u)K=u[se],W=l[se],!u.hasOwnProperty(se)||K===W||K==null&&W==null||dt(s,i,se,K,u,W)}function U0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],y=p.transferSize,_=p.initiatorType,T=p.duration;if(y&&T&&U0(_)){for(_=0,T=p.responseEnd,u+=1;u<l.length;u++){var P=l[u],G=P.startTime;if(G>T)break;var te=P.transferSize,se=P.initiatorType;te&&U0(se)&&(P=P.responseEnd,_+=te*(P<T?1:(T-G)/(P-G)))}if(--u,i+=8*(y+_)/(p.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var jg=null,kg=null;function Lh(s){return s.nodeType===9?s:s.ownerDocument}function F0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B0(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Og(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pg=null;function PR(){var s=window.event;return s&&s.type==="popstate"?s===Pg?!1:(Pg=s,!0):(Pg=null,!1)}var q0=typeof setTimeout=="function"?setTimeout:void 0,MR=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,VR=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(s){return $0.resolve(null).then(s).catch(zR)}:q0;function zR(s){setTimeout(function(){throw s})}function Ii(s){return s==="head"}function H0(s,i){var l=i,u=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(p),dl(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")lu(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,lu(l);for(var y=l.firstChild;y;){var _=y.nextSibling,T=y.nodeName;y[Gr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=_}}else l==="body"&&lu(s.ownerDocument.body);l=p}while(l);dl(i)}function G0(s,i){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function Mg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Mg(l),No(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function LR(s,i,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Gr])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=dr(s.nextSibling),s===null)break}return null}function UR(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=dr(s.nextSibling),s===null))return null;return s}function K0(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=dr(s.nextSibling),s===null))return null;return s}function Vg(s){return s.data==="$?"||s.data==="$~"}function zg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function FR(s,i){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function dr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var Lg=null;function Q0(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(i===0)return dr(s.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}s=s.nextSibling}return null}function Z0(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return s;i--}else l!=="/$"&&l!=="/&"||i++}s=s.previousSibling}return null}function Y0(s,i,l){switch(i=Lh(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function lu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);No(s)}var hr=new Map,X0=new Set;function Uh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ms=de.d;de.d={f:BR,r:qR,D:$R,C:HR,L:GR,m:KR,X:ZR,S:QR,M:YR};function BR(){var s=Ms.f(),i=Dh();return s||i}function qR(s){var i=tr(s);i!==null&&i.tag===5&&i.type==="form"?m_(i):Ms.r(s)}var ll=typeof document>"u"?null:document;function J0(s,i,l){var u=ll;if(u&&typeof i=="string"&&i){var p=Cn(i);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),X0.has(p)||(X0.add(p),s={rel:s,crossOrigin:l,href:i},u.querySelector(p)===null&&(i=u.createElement("link"),dn(i,"link",s),Lt(i),u.head.appendChild(i)))}}function $R(s){Ms.D(s),J0("dns-prefetch",s,null)}function HR(s,i){Ms.C(s,i),J0("preconnect",s,i)}function GR(s,i,l){Ms.L(s,i,l);var u=ll;if(u&&s&&i){var p='link[rel="preload"][as="'+Cn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Cn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Cn(l.imageSizes)+'"]')):p+='[href="'+Cn(s)+'"]';var y=p;switch(i){case"style":y=cl(s);break;case"script":y=ul(s)}hr.has(y)||(s=b({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),hr.set(y,s),u.querySelector(p)!==null||i==="style"&&u.querySelector(cu(y))||i==="script"&&u.querySelector(uu(y))||(i=u.createElement("link"),dn(i,"link",s),Lt(i),u.head.appendChild(i)))}}function KR(s,i){Ms.m(s,i);var l=ll;if(l&&s){var u=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Cn(u)+'"][href="'+Cn(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ul(s)}if(!hr.has(y)&&(s=b({rel:"modulepreload",href:s},i),hr.set(y,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(uu(y)))return}u=l.createElement("link"),dn(u,"link",s),Lt(u),l.head.appendChild(u)}}}function QR(s,i,l){Ms.S(s,i,l);var u=ll;if(u&&s){var p=Qr(u).hoistableStyles,y=cl(s);i=i||"default";var _=p.get(y);if(!_){var T={loading:0,preload:null};if(_=u.querySelector(cu(y)))T.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":i},l),(l=hr.get(y))&&Ug(s,l);var P=_=u.createElement("link");Lt(P),dn(P,"link",s),P._p=new Promise(function(G,te){P.onload=G,P.onerror=te}),P.addEventListener("load",function(){T.loading|=1}),P.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Fh(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:T},p.set(y,_)}}}function ZR(s,i){Ms.X(s,i);var l=ll;if(l&&s){var u=Qr(l).hoistableScripts,p=ul(s),y=u.get(p);y||(y=l.querySelector(uu(p)),y||(s=b({src:s,async:!0},i),(i=hr.get(p))&&Fg(s,i),y=l.createElement("script"),Lt(y),dn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function YR(s,i){Ms.M(s,i);var l=ll;if(l&&s){var u=Qr(l).hoistableScripts,p=ul(s),y=u.get(p);y||(y=l.querySelector(uu(p)),y||(s=b({src:s,async:!0,type:"module"},i),(i=hr.get(p))&&Fg(s,i),y=l.createElement("script"),Lt(y),dn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function W0(s,i,l,u){var p=(p=ke.current)?Uh(p):null;if(!p)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=cl(l.href),l=Qr(p).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=cl(l.href);var y=Qr(p).hoistableStyles,_=y.get(s);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,_),(y=p.querySelector(cu(s)))&&!y._p&&(_.instance=y,_.state.loading=5),hr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},hr.set(s,l),y||XR(p,s,l,_.state))),i&&u===null)throw Error(r(528,""));return _}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ul(l),l=Qr(p).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function cl(s){return'href="'+Cn(s)+'"'}function cu(s){return'link[rel="stylesheet"]['+s+"]"}function ew(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function XR(s,i,l,u){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=s.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),dn(i,"link",l),Lt(i),s.head.appendChild(i))}function ul(s){return'[src="'+Cn(s)+'"]'}function uu(s){return"script[async]"+s}function tw(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=s.querySelector('style[data-href~="'+Cn(l.href)+'"]');if(u)return i.instance=u,Lt(u),u;var p=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Lt(u),dn(u,"style",p),Fh(u,l.precedence,s),i.instance=u;case"stylesheet":p=cl(l.href);var y=s.querySelector(cu(p));if(y)return i.state.loading|=4,i.instance=y,Lt(y),y;u=ew(l),(p=hr.get(p))&&Ug(u,p),y=(s.ownerDocument||s).createElement("link"),Lt(y);var _=y;return _._p=new Promise(function(T,P){_.onload=T,_.onerror=P}),dn(y,"link",u),i.state.loading|=4,Fh(y,l.precedence,s),i.instance=y;case"script":return y=ul(l.src),(p=s.querySelector(uu(y)))?(i.instance=p,Lt(p),p):(u=l,(p=hr.get(y))&&(u=b({},l),Fg(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Lt(p),dn(p,"link",u),s.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Fh(u,l.precedence,s));return i.instance}function Fh(s,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,_=0;_<u.length;_++){var T=u[_];if(T.dataset.precedence===i)y=T;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Ug(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Fg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Bh=null;function nw(s,i,l){if(Bh===null){var u=new Map,p=Bh=new Map;p.set(l,u)}else p=Bh,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var y=l[p];if(!(y[Gr]||y[zt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(i)||"";_=s+_;var T=u.get(_);T?T.push(y):u.set(_,[y])}}return u}function rw(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function JR(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(s=i.disabled,typeof i.precedence=="string"&&s==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function WR(s,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=cl(u.href),y=i.querySelector(cu(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=qh.bind(s),i.then(s,s)),l.state.loading|=4,l.instance=y,Lt(y);return}y=i.ownerDocument||i,u=ew(u),(p=hr.get(p))&&Ug(u,p),y=y.createElement("link"),Lt(y);var _=y;_._p=new Promise(function(T,P){_.onload=T,_.onerror=P}),dn(y,"link",u),l.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=qh.bind(s),i.addEventListener("load",l),i.addEventListener("error",l))}}var Bg=0;function eC(s,i){return s.stylesheets&&s.count===0&&Hh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Hh(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+i);0<s.imgBytes&&Bg===0&&(Bg=62500*OR());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Hh(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Bg?50:800)+i);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function qh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var $h=null;function Hh(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,$h=new Map,i.forEach(tC,s),$h=null,qh.call(s))}function tC(s,i){if(!(i.state.loading&4)){var l=$h.get(s);if(l)var u=l.get(null);else{l=new Map,$h.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),u=_)}u&&l.set(null,u)}p=i.instance,_=p.getAttribute("data-precedence"),y=l.get(_)||u,y===u&&l.set(null,p),l.set(_,p),this.count++,u=qh.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),i.state.loading|=4}}var du={$$typeof:Z,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function nC(s,i,l,u,p,y,_,T,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.hiddenUpdates=$r(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function iw(s,i,l,u,p,y,_,T,P,G,te,se){return s=new nC(s,i,l,_,P,G,te,se,T),i=1,y===!0&&(i|=24),y=qn(3,null,null,i),s.current=y,y.stateNode=s,i=_p(),i.refCount++,s.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:i},Sp(y),s}function aw(s){return s?(s=Fo,s):Fo}function ow(s,i,l,u,p,y){p=aw(p),u.context===null?u.context=p:u.pendingContext=p,u=yi(i),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=vi(s,u,i),l!==null&&(Mn(l,s,i),qc(l,s,i))}function lw(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function qg(s,i){lw(s,i),(s=s.alternate)&&lw(s,i)}function cw(s){if(s.tag===13||s.tag===31){var i=Ta(s,67108864);i!==null&&Mn(i,s,67108864),qg(s,67108864)}}function uw(s){if(s.tag===13||s.tag===31){var i=Qn();i=ha(i);var l=Ta(s,i);l!==null&&Mn(l,s,i),qg(s,i)}}var Gh=!0;function rC(s,i,l,u){var p=X.T;X.T=null;var y=de.p;try{de.p=2,$g(s,i,l,u)}finally{de.p=y,X.T=p}}function sC(s,i,l,u){var p=X.T;X.T=null;var y=de.p;try{de.p=8,$g(s,i,l,u)}finally{de.p=y,X.T=p}}function $g(s,i,l,u){if(Gh){var p=Hg(u);if(p===null)Cg(s,i,u,Kh,l),hw(s,u);else if(aC(p,s,i,l,u))u.stopPropagation();else if(hw(s,u),i&4&&-1<iC.indexOf(s)){for(;p!==null;){var y=tr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Br(y.pendingLanes);if(_!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var P=1<<31-Dt(_);T.entanglements[1]|=P,_&=~P}os(y),(et&6)===0&&(Rh=xn()+500,iu(0))}}break;case 31:case 13:T=Ta(y,2),T!==null&&Mn(T,y,2),Dh(),qg(y,2)}if(y=Hg(u),y===null&&Cg(s,i,u,Kh,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else Cg(s,i,u,null,l)}}function Hg(s){return s=nr(s),Gg(s)}var Kh=null;function Gg(s){if(Kh=null,s=Kr(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=c(i),s!==null)return s;s=null}else if(l===31){if(s=d(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Kh=s,null}function dw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(la()){case mc:return 2;case pc:return 8;case ni:case Jm:return 32;case Sd:return 268435456;default:return 32}default:return 32}}var Kg=!1,Ri=null,Ci=null,Di=null,hu=new Map,fu=new Map,ji=[],iC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hw(s,i){switch(s){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":hu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(i.pointerId)}}function mu(s,i,l,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},i!==null&&(i=tr(i),i!==null&&cw(i)),s):(s.eventSystemFlags|=u,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function aC(s,i,l,u,p){switch(i){case"focusin":return Ri=mu(Ri,s,i,l,u,p),!0;case"dragenter":return Ci=mu(Ci,s,i,l,u,p),!0;case"mouseover":return Di=mu(Di,s,i,l,u,p),!0;case"pointerover":var y=p.pointerId;return hu.set(y,mu(hu.get(y)||null,s,i,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,fu.set(y,mu(fu.get(y)||null,s,i,l,u,p)),!0}return!1}function fw(s){var i=Kr(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){s.blockedOn=i,Sr(s.priority,function(){uw(l)});return}}else if(i===31){if(i=d(l),i!==null){s.blockedOn=i,Sr(s.priority,function(){uw(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qh(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Hg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Nc=u,l.target.dispatchEvent(u),Nc=null}else return i=tr(l),i!==null&&cw(i),s.blockedOn=l,!1;i.shift()}return!0}function mw(s,i,l){Qh(s)&&l.delete(i)}function oC(){Kg=!1,Ri!==null&&Qh(Ri)&&(Ri=null),Ci!==null&&Qh(Ci)&&(Ci=null),Di!==null&&Qh(Di)&&(Di=null),hu.forEach(mw),fu.forEach(mw)}function Zh(s,i){s.blockedOn===i&&(s.blockedOn=null,Kg||(Kg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oC)))}var Yh=null;function pw(s){Yh!==s&&(Yh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yh===s&&(Yh=null);for(var i=0;i<s.length;i+=3){var l=s[i],u=s[i+1],p=s[i+2];if(typeof u!="function"){if(Gg(u||l)===null)continue;break}var y=tr(l);y!==null&&(s.splice(i,3),i-=3,Hp(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function dl(s){function i(P){return Zh(P,s)}Ri!==null&&Zh(Ri,s),Ci!==null&&Zh(Ci,s),Di!==null&&Zh(Di,s),hu.forEach(i),fu.forEach(i);for(var l=0;l<ji.length;l++){var u=ji[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<ji.length&&(l=ji[0],l.blockedOn===null);)fw(l),l.blockedOn===null&&ji.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],_=p[tn]||null;if(typeof y=="function")_||pw(l);else if(_){var T=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[tn]||null)T=_.formAction;else if(Gg(p)!==null)continue}else T=_.action;typeof T=="function"?l[u+1]=T:(l.splice(u,3),u-=3),pw(l)}}}function gw(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Qg(s){this._internalRoot=s}Xh.prototype.render=Qg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,u=Qn();ow(l,u,s,i,null,null)},Xh.prototype.unmount=Qg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;ow(s.current,2,null,s,null,null),Dh(),i[Hr]=null}};function Xh(s){this._internalRoot=s}Xh.prototype.unstable_scheduleHydration=function(s){if(s){var i=Dd();s={blockedOn:null,target:s,priority:i};for(var l=0;l<ji.length&&i!==0&&i<ji[l].priority;l++);ji.splice(l,0,s),l===0&&fw(s)}};var yw=e.version;if(yw!=="19.2.3")throw Error(r(527,yw,"19.2.3"));de.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=g(i),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var lC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{Er=Jh.inject(lC),an=Jh}catch{}}return gu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,u="",p=T_,y=S_,_=A_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=iw(s,1,!1,null,null,l,u,null,p,y,_,gw),s[Hr]=i.current,Rg(s),new Qg(i)},gu.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var u=!1,p="",y=T_,_=S_,T=A_,P=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),i=iw(s,1,!0,i,l??null,u,p,P,y,_,T,gw),i.context=aw(null),l=i.current,u=Qn(),u=ha(u),p=yi(u),p.callback=null,vi(l,p,u),l=u,i.current.lanes=l,ua(i,l),os(i),s[Hr]=i.current,Rg(s),new Xh(i)},gu.version="19.2.3",gu}var Nw;function bC(){if(Nw)return Xg.exports;Nw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xg.exports=vC(),Xg.exports}var xC=bC();var Iw="popstate";function _C(t={}){function e(a,o){let{pathname:c="/",search:d="",hash:h=""}=bo(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ty("",{pathname:c,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=a.location.href,g=h.indexOf("#");d=g===-1?h:h.slice(0,g)}return d+"#"+(typeof o=="string"?o:Bu(o))}function r(a,o){br(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return EC(e,n,r,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wC(){return Math.random().toString(36).substring(2,10)}function Rw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ty(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||r||wC()}}function Bu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function EC(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,d="POP",h=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let O=v(),J=O==null?null:O-g;g=O,h&&h({action:d,location:D.location,delta:J})}function E(O,J){d="PUSH";let $=Ty(D.location,O,J);n&&n($,O),g=v()+1;let Z=Rw($,g),ae=D.createHref($);try{c.pushState(Z,"",ae)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;a.location.assign(ae)}o&&h&&h({action:d,location:D.location,delta:1})}function A(O,J){d="REPLACE";let $=Ty(D.location,O,J);n&&n($,O),g=v();let Z=Rw($,g),ae=D.createHref($);c.replaceState(Z,"",ae),o&&h&&h({action:d,location:D.location,delta:0})}function j(O){return TC(O)}let D={get action(){return d},get location(){return t(a,c)},listen(O){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Iw,b),h=O,()=>{a.removeEventListener(Iw,b),h=null}},createHref(O){return e(a,O)},createURL:j,encodeLocation(O){let J=j(O);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:E,replace:A,go(O){return c.go(O)}};return D}function TC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Bu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function ET(t,e,n="/"){return SC(t,e,n,!1)}function SC(t,e,n,r){let a=typeof e=="string"?bo(e):e,o=$s(a.pathname||"/",n);if(o==null)return null;let c=TT(t);AC(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let g=VC(o);d=PC(c[h],g,r)}return d}function TT(t,e=[],n=[],r="",a=!1){let o=(c,d,h=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&h)return;Et(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let b=qs([r,v.relativePath]),E=n.concat(v);c.children&&c.children.length>0&&(Et(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),TT(c.children,e,E,b,h)),!(c.path==null&&!c.index)&&e.push({path:b,score:kC(b,c.index),routesMeta:E})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let h of ST(c.path))o(c,d,!0,h)}),e}function ST(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=ST(r.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function AC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:OC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var NC=/^:[\w-]+$/,IC=3,RC=2,CC=1,DC=10,jC=-2,Cw=t=>t==="*";function kC(t,e){let n=t.split("/"),r=n.length;return n.some(Cw)&&(r+=jC),e&&(r+=RC),n.filter(a=>!Cw(a)).reduce((a,o)=>a+(NC.test(o)?IC:o===""?CC:DC),r)}function OC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function PC(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],g=d===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",b=Mf({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},v),E=h.route;if(!b&&g&&n&&!r[r.length-1].route.index&&(b=Mf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:qs([o,b.pathname]),pathnameBase:FC(qs([o,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(o=qs([o,b.pathnameBase]))}return c}function Mf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:b},E)=>{if(v==="*"){let j=d[E]||"";c=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const A=d[E];return b&&!A?g[v]=void 0:g[v]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:t}}function MC(t,e=!1,n=!0){br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function VC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $s(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var AT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zC=t=>AT.test(t);function LC(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?bo(t):t,o;if(n)if(zC(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),br(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?o=Dw(n.substring(1),"/"):o=Dw(n,e)}else o=e;return{pathname:o,search:BC(r),hash:qC(a)}}function Dw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ty(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function NT(t){let e=UC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function IT(t,e,n,r=!1){let a;typeof t=="string"?a=bo(t):(a={...t},Et(!a.pathname||!a.pathname.includes("?"),ty("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),ty("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),ty("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}d=b>=0?e[b]:"/"}let h=LC(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(g||v)&&(h.pathname+="/"),h}var qs=t=>t.join("/").replace(/\/\/+/g,"/"),FC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,$C=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function HC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function GC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var RT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function CT(t,e){let n=t;if(typeof n!="string"||!AT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(RT)try{let o=new URL(window.location.href),c=n.startsWith("//")?new URL(o.protocol+n):new URL(n),d=$s(c.pathname,e);c.origin===o.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{br(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DT=["POST","PUT","PATCH","DELETE"];new Set(DT);var KC=["GET",...DT];new Set(KC);var Yl=L.createContext(null);Yl.displayName="DataRouter";var bm=L.createContext(null);bm.displayName="DataRouterState";var QC=L.createContext(!1),jT=L.createContext({isTransitioning:!1});jT.displayName="ViewTransition";var ZC=L.createContext(new Map);ZC.displayName="Fetchers";var YC=L.createContext(null);YC.displayName="Await";var xr=L.createContext(null);xr.displayName="Navigation";var ad=L.createContext(null);ad.displayName="Location";var ys=L.createContext({outlet:null,matches:[],isDataRoute:!1});ys.displayName="Route";var vv=L.createContext(null);vv.displayName="RouteError";var kT="REACT_ROUTER_ERROR",XC="REDIRECT",JC="ROUTE_ERROR_RESPONSE";function WC(t){if(t.startsWith(`${kT}:${XC}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function eD(t){if(t.startsWith(`${kT}:${JC}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new $C(e.status,e.statusText,e.data)}catch{}}function tD(t,{relative:e}={}){Et(od(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(xr),{hash:a,pathname:o,search:c}=ld(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:qs([n,o])),r.createHref({pathname:d,search:c,hash:a})}function od(){return L.useContext(ad)!=null}function Ys(){return Et(od(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(ad).location}var OT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PT(t){L.useContext(xr).static||L.useLayoutEffect(t)}function MT(){let{isDataRoute:t}=L.useContext(ys);return t?mD():nD()}function nD(){Et(od(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Yl),{basename:e,navigator:n}=L.useContext(xr),{matches:r}=L.useContext(ys),{pathname:a}=Ys(),o=JSON.stringify(NT(r)),c=L.useRef(!1);return PT(()=>{c.current=!0}),L.useCallback((h,g={})=>{if(br(c.current,OT),!c.current)return;if(typeof h=="number"){n.go(h);return}let v=IT(h,JSON.parse(o),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:qs([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,o,a,t])}L.createContext(null);function VT(){let{matches:t}=L.useContext(ys),e=t[t.length-1];return e?e.params:{}}function ld(t,{relative:e}={}){let{matches:n}=L.useContext(ys),{pathname:r}=Ys(),a=JSON.stringify(NT(n));return L.useMemo(()=>IT(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function rD(t,e){return zT(t,e)}function zT(t,e,n,r,a){Et(od(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(xr),{matches:c}=L.useContext(ys),d=c[c.length-1],h=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let $=b&&b.path||"";UT(g,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let E=Ys(),A;if(e){let $=typeof e=="string"?bo(e):e;Et(v==="/"||$.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),A=$}else A=E;let j=A.pathname||"/",D=j;if(v!=="/"){let $=v.replace(/^\//,"").split("/");D="/"+j.replace(/^\//,"").split("/").slice($.length).join("/")}let O=ET(t,{pathname:D});br(b||O!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),br(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=lD(O&&O.map($=>Object.assign({},$,{params:Object.assign({},h,$.params),pathname:qs([v,o.encodeLocation?o.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:qs([v,o.encodeLocation?o.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,n,r,a);return e&&J?L.createElement(ad.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},J):J}function sD(){let t=fD(),e=HC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:a},n):null,c)}var iD=L.createElement(sD,null),LT=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=eD(t.digest);n&&(t=n)}let e=t!==void 0?L.createElement(ys.Provider,{value:this.props.routeContext},L.createElement(vv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?L.createElement(aD,{error:t},e):e}};LT.contextType=QC;var ny=new WeakMap;function aD({children:t,error:e}){let{basename:n}=L.useContext(xr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=WC(e.digest);if(r){let a=ny.get(e);if(a)throw a;let o=CT(r.location,n);if(RT&&!ny.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw ny.set(e,c),c}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function oD({routeContext:t,match:e,children:n}){let r=L.useContext(Yl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ys.Provider,{value:t},n)}function lD(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let v=o.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Et(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let d=!1,h=-1;if(n)for(let v=0;v<o.length;v++){let b=o[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(h=v),b.route.id){let{loaderData:E,errors:A}=n,j=b.route.loader&&!E.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||j){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let g=n&&r?(v,b)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:GC(n.matches),errorInfo:b})}:void 0;return o.reduceRight((v,b,E)=>{let A,j=!1,D=null,O=null;n&&(A=c&&b.route.id?c[b.route.id]:void 0,D=b.route.errorElement||iD,d&&(h<0&&E===0?(UT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,O=null):h===E&&(j=!0,O=b.route.hydrateFallbackElement||null)));let J=e.concat(o.slice(0,E+1)),$=()=>{let Z;return A?Z=D:j?Z=O:b.route.Component?Z=L.createElement(b.route.Component,null):b.route.element?Z=b.route.element:Z=v,L.createElement(oD,{match:b,routeContext:{outlet:v,matches:J,isDataRoute:n!=null},children:Z})};return n&&(b.route.ErrorBoundary||b.route.errorElement||E===0)?L.createElement(LT,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:$(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:g}):$()},null)}function bv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cD(t){let e=L.useContext(Yl);return Et(e,bv(t)),e}function uD(t){let e=L.useContext(bm);return Et(e,bv(t)),e}function dD(t){let e=L.useContext(ys);return Et(e,bv(t)),e}function xv(t){let e=dD(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function hD(){return xv("useRouteId")}function fD(){let t=L.useContext(vv),e=uD("useRouteError"),n=xv("useRouteError");return t!==void 0?t:e.errors?.[n]}function mD(){let{router:t}=cD("useNavigate"),e=xv("useNavigate"),n=L.useRef(!1);return PT(()=>{n.current=!0}),L.useCallback(async(a,o={})=>{br(n.current,OT),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var jw={};function UT(t,e,n){!e&&!jw[t]&&(jw[t]=!0,br(!1,n))}L.memo(pD);function pD({routes:t,future:e,state:n,onError:r}){return zT(t,void 0,n,r,e)}function zs(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){Et(!od(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:d,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[d,a,o,c]);typeof n=="string"&&(n=bo(n));let{pathname:g="/",search:v="",hash:b="",state:E=null,key:A="default"}=n,j=L.useMemo(()=>{let D=$s(g,d);return D==null?null:{location:{pathname:D,search:v,hash:b,state:E,key:A},navigationType:r}},[d,g,v,b,E,A,r]);return br(j!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:L.createElement(xr.Provider,{value:h},L.createElement(ad.Provider,{children:e,value:j}))}function yD({children:t,location:e}){return rD(Sy(t),e)}function Sy(t,e=[]){let n=[];return L.Children.forEach(t,(r,a)=>{if(!L.isValidElement(r))return;let o=[...e,a];if(r.type===L.Fragment){n.push.apply(n,Sy(r.props.children,o));return}Et(r.type===zs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Sy(r.props.children,o)),n.push(c)}),n}var pf="get",gf="application/x-www-form-urlencoded";function xm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function vD(t){return xm(t)&&t.tagName.toLowerCase()==="button"}function bD(t){return xm(t)&&t.tagName.toLowerCase()==="form"}function xD(t){return xm(t)&&t.tagName.toLowerCase()==="input"}function _D(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wD(t,e){return t.button===0&&(!e||e==="_self")&&!_D(t)}var Wh=null;function ED(){if(Wh===null)try{new FormData(document.createElement("form"),0),Wh=!1}catch{Wh=!0}return Wh}var TD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ry(t){return t!=null&&!TD.has(t)?(br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gf}"`),null):t}function SD(t,e){let n,r,a,o,c;if(bD(t)){let d=t.getAttribute("action");r=d?$s(d,e):null,n=t.getAttribute("method")||pf,a=ry(t.getAttribute("enctype"))||gf,o=new FormData(t)}else if(vD(t)||xD(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?$s(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||pf,a=ry(t.getAttribute("formenctype"))||ry(d.getAttribute("enctype"))||gf,o=new FormData(d,t),!ED()){let{name:g,type:v,value:b}=t;if(v==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,b)}}else{if(xm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pf,r=null,a=gf,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _v(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AD(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&$s(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function ND(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ID(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RD(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await ND(o,n);return c.links?c.links():[]}return[]}));return kD(r.flat(1).filter(ID).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function kw(t,e,n,r,a,o){let c=(h,g)=>n[g]?h.route.id!==n[g].route.id:!0,d=(h,g)=>n[g].pathname!==h.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,g)=>c(h,g)||d(h,g)):o==="data"?e.filter((h,g)=>{let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,g)||d(h,g))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function CD(t,e,{includeHydrateFallback:n}={}){return DD(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function DD(t){return[...new Set(t)]}function jD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function kD(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(jD(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function FT(){let t=L.useContext(Yl);return _v(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function OD(){let t=L.useContext(bm);return _v(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wv=L.createContext(void 0);wv.displayName="FrameworkContext";function BT(){let t=L.useContext(wv);return _v(t,"You must render this element inside a <HydratedRouter> element"),t}function PD(t,e){let n=L.useContext(wv),[r,a]=L.useState(!1),[o,c]=L.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,E=L.useRef(null);L.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=J=>{J.forEach($=>{c($.isIntersecting)})},O=new IntersectionObserver(D,{threshold:.5});return E.current&&O.observe(E.current),()=>{O.disconnect()}}},[t]),L.useEffect(()=>{if(r){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[r]);let A=()=>{a(!0)},j=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:yu(d,A),onBlur:yu(h,j),onMouseEnter:yu(g,A),onMouseLeave:yu(v,j),onTouchStart:yu(b,A)}]:[!1,E,{}]}function yu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function MD({page:t,...e}){let{router:n}=FT(),r=L.useMemo(()=>ET(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(zD,{page:t,matches:r,...e}):null}function VD(t){let{manifest:e,routeModules:n}=BT(),[r,a]=L.useState([]);return L.useEffect(()=>{let o=!1;return RD(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),r}function zD({page:t,matches:e,...n}){let r=Ys(),{future:a,manifest:o,routeModules:c}=BT(),{basename:d}=FT(),{loaderData:h,matches:g}=OD(),v=L.useMemo(()=>kw(t,e,g,o,r,"data"),[t,e,g,o,r]),b=L.useMemo(()=>kw(t,e,g,o,r,"assets"),[t,e,g,o,r]),E=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,O=!1;if(e.forEach($=>{let Z=o.routes[$.route.id];!Z||!Z.hasLoader||(!v.some(ae=>ae.route.id===$.route.id)&&$.route.id in h&&c[$.route.id]?.shouldRevalidate||Z.hasClientLoader?O=!0:D.add($.route.id))}),D.size===0)return[];let J=AD(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return O&&D.size>0&&J.searchParams.set("_routes",e.filter($=>D.has($.route.id)).map($=>$.route.id).join(",")),[J.pathname+J.search]},[d,a.unstable_trailingSlashAwareDataRequests,h,r,o,v,e,t,c]),A=L.useMemo(()=>CD(b,o),[b,o]),j=VD(b);return L.createElement(L.Fragment,null,E.map(D=>L.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),A.map(D=>L.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),j.map(({key:D,link:O})=>L.createElement("link",{key:D,nonce:n.nonce,...O})))}function LD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UD&&(window.__reactRouterVersion="7.12.0")}catch{}function FD({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=L.useRef();a.current==null&&(a.current=_C({window:r,v5Compat:!0}));let o=a.current,[c,d]=L.useState({action:o.action,location:o.location}),h=L.useCallback(g=>{n===!1?d(g):L.startTransition(()=>d(g))},[n]);return L.useLayoutEffect(()=>o.listen(h),[o,h]),L.createElement(gD,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n})}var qT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:d,target:h,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:E,...A},j){let{basename:D,unstable_useTransitions:O}=L.useContext(xr),J=typeof g=="string"&&qT.test(g),$=CT(g,D);g=$.to;let Z=tD(g,{relative:a}),[ae,le,fe]=PD(r,A),I=HD(g,{replace:c,state:d,target:h,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:E,unstable_useTransitions:O});function S(V){e&&e(V),V.defaultPrevented||I(V)}let C=L.createElement("a",{...A,...fe,href:$.absoluteURL||Z,onClick:$.isExternal||o?e:S,ref:LD(j,le),target:h,"data-discover":!J&&n==="render"?"true":void 0});return ae&&!J?L.createElement(L.Fragment,null,C,L.createElement(MD,{page:Z})):C});bt.displayName="Link";var BD=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:d,children:h,...g},v){let b=ld(c,{relative:g.relative}),E=Ys(),A=L.useContext(bm),{navigator:j,basename:D}=L.useContext(xr),O=A!=null&&YD(b)&&d===!0,J=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,$=E.pathname,Z=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||($=$.toLowerCase(),Z=Z?Z.toLowerCase():null,J=J.toLowerCase()),Z&&D&&(Z=$s(Z,D)||Z);const ae=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let le=$===J||!a&&$.startsWith(J)&&$.charAt(ae)==="/",fe=Z!=null&&(Z===J||!a&&Z.startsWith(J)&&Z.charAt(J.length)==="/"),I={isActive:le,isPending:fe,isTransitioning:O},S=le?e:void 0,C;typeof r=="function"?C=r(I):C=[r,le?"active":null,fe?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(I):o;return L.createElement(bt,{...g,"aria-current":S,className:C,ref:v,style:V,to:c,viewTransition:d},typeof h=="function"?h(I):h)});BD.displayName="NavLink";var qD=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:c=pf,action:d,onSubmit:h,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:E,...A},j)=>{let{unstable_useTransitions:D}=L.useContext(xr),O=QD(),J=ZD(d,{relative:g}),$=c.toLowerCase()==="get"?"get":"post",Z=typeof d=="string"&&qT.test(d),ae=le=>{if(h&&h(le),le.defaultPrevented)return;le.preventDefault();let fe=le.nativeEvent.submitter,I=fe?.getAttribute("formmethod")||c,S=()=>O(fe||le.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:o,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:E});D&&n!==!1?L.startTransition(()=>S()):S()};return L.createElement("form",{ref:j,method:$,action:J,onSubmit:r?h:ae,...A,"data-discover":!Z&&t==="render"?"true":void 0})});qD.displayName="Form";function $D(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $T(t){let e=L.useContext(Yl);return Et(e,$D(t)),e}function HD(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let g=MT(),v=Ys(),b=ld(t,{relative:o});return L.useCallback(E=>{if(wD(E,e)){E.preventDefault();let A=n!==void 0?n:Bu(v)===Bu(b),j=()=>g(t,{replace:A,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d});h?L.startTransition(()=>j()):j()}},[v,g,b,n,r,e,t,a,o,c,d,h])}var GD=0,KD=()=>`__${String(++GD)}__`;function QD(){let{router:t}=$T("useSubmit"),{basename:e}=L.useContext(xr),n=hD(),r=t.fetch,a=t.navigate;return L.useCallback(async(o,c={})=>{let{action:d,method:h,encType:g,formData:v,body:b}=SD(o,e);if(c.navigate===!1){let E=c.fetcherKey||KD();await r(E,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||h,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||h,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,n])}function ZD(t,{relative:e}={}){let{basename:n}=L.useContext(xr),r=L.useContext(ys);Et(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...ld(t||".",{relative:e})},c=Ys();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(v=>v==="")){d.delete("index"),h.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();o.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:qs([n,o.pathname])),Bu(o)}function YD(t,{relative:e}={}){let n=L.useContext(jT);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$T("useViewTransitionState"),a=ld(t,{relative:e});if(!n.isTransitioning)return!1;let o=$s(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=$s(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mf(a.pathname,c)!=null||Mf(a.pathname,o)!=null}var Xl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},XD={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},JD=class{#e=XD;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Ga=new JD;function WD(t){setTimeout(t,0)}var to=typeof window>"u"||"Deno"in globalThis;function Tn(){}function ej(t,e){return typeof t=="function"?t(e):t}function Ay(t){return typeof t=="number"&&t>=0&&t!==1/0}function HT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $i(t,e){return typeof t=="function"?t(e):t}function fr(t,e){return typeof t=="function"?t(e):t}function Ow(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:c,stale:d}=t;if(c){if(r){if(e.queryHash!==Ev(c,e.options))return!1}else if(!qu(e.queryKey,c))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||o&&!o(e))}function Pw(t,e){const{exact:n,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(no(e.options.mutationKey)!==no(o))return!1}else if(!qu(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Ev(t,e){return(e?.queryKeyHashFn||no)(t)}function no(t){return JSON.stringify(t,(e,n)=>Ny(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function qu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>qu(t[n],e[n])):!1}var tj=Object.prototype.hasOwnProperty;function GT(t,e){if(t===e)return t;const n=Mw(t)&&Mw(e);if(!n&&!(Ny(t)&&Ny(e)))return e;const a=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),c=o.length,d=n?new Array(c):{};let h=0;for(let g=0;g<c;g++){const v=n?g:o[g],b=t[v],E=e[v];if(b===E){d[v]=b,(n?g<a:tj.call(t,v))&&h++;continue}if(b===null||E===null||typeof b!="object"||typeof E!="object"){d[v]=E;continue}const A=GT(b,E);d[v]=A,A===b&&h++}return a===c&&h===a?t:d}function Vf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Mw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ny(t){if(!Vw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Vw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Vw(t){return Object.prototype.toString.call(t)==="[object Object]"}function nj(t){return new Promise(e=>{Ga.setTimeout(e,t)})}function Iy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?GT(t,e):e}function rj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function sj(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Tv=Symbol();function KT(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Tv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Sv(t,e){return typeof t=="function"?t(...e):!!t}function ij(t,e,n){let r=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??=e(),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var aj=class extends Xl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!to&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Av=new aj;function Ry(){let t,e;const n=new Promise((a,o)=>{t=a,e=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}var oj=WD;function lj(){let t=[],e=0,n=d=>{d()},r=d=>{d()},a=oj;const o=d=>{e?t.push(d):a(()=>{n(d)})},c=()=>{const d=t;t=[],d.length&&a(()=>{r(()=>{d.forEach(h=>{n(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{o(()=>{d(...h)})},schedule:o,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{a=d}}}var Jt=lj(),cj=class extends Xl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!to&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},zf=new cj;function uj(t){return Math.min(1e3*2**t,3e4)}function QT(t){return(t??"online")==="online"?zf.isOnline():!0}var Cy=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ZT(t){let e=!1,n=0,r;const a=Ry(),o=()=>a.status!=="pending",c=D=>{if(!o()){const O=new Cy(D);E(O),t.onCancel?.(O)}},d=()=>{e=!0},h=()=>{e=!1},g=()=>Av.isFocused()&&(t.networkMode==="always"||zf.isOnline())&&t.canRun(),v=()=>QT(t.networkMode)&&t.canRun(),b=D=>{o()||(r?.(),a.resolve(D))},E=D=>{o()||(r?.(),a.reject(D))},A=()=>new Promise(D=>{r=O=>{(o()||g())&&D(O)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),j=()=>{if(o())return;let D;const O=n===0?t.initialPromise:void 0;try{D=O??t.fn()}catch(J){D=Promise.reject(J)}Promise.resolve(D).then(b).catch(J=>{if(o())return;const $=t.retry??(to?0:3),Z=t.retryDelay??uj,ae=typeof Z=="function"?Z(n,J):Z,le=$===!0||typeof $=="number"&&n<$||typeof $=="function"&&$(n,J);if(e||!le){E(J);return}n++,t.onFail?.(n,J),nj(ae).then(()=>g()?void 0:A()).then(()=>{e?E(J):j()})})};return{promise:a,status:()=>a.status,cancel:c,continue:()=>(r?.(),a),cancelRetry:d,continueRetry:h,canStart:v,start:()=>(v()?j():A().then(j),a)}}var YT=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ay(this.gcTime)&&(this.#e=Ga.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(to?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ga.clearTimeout(this.#e),this.#e=void 0)}},dj=class extends YT{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Lw(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Lw(this.options);n.data!==void 0&&(this.setState(zw(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=Iy(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>fr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>$i(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!HT(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const h=KT(this.options,n),v=(()=>{const b={client:this.#s,queryKey:this.queryKey,meta:this.meta};return a(b),b})();return this.#o=!1,this.options.persister?this.options.persister(h,v,this):h(v)},d=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return a(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#i({type:"fetch",meta:d.fetchOptions?.meta}),this.#r=ZT({initialPromise:n?.initialPromise,fn:d.fetchFn,onCancel:h=>{h instanceof Cy&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(h,g)=>{this.#i({type:"failed",failureCount:h,error:g})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#r.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Cy){if(h.silent)return this.#r.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#i({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...XT(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...zw(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Jt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function XT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function zw(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Lw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var hj=class extends Xl{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=Ry(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Uw(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dy(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dy(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#_(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!Vf(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Fw(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||fr(this.options.enabled,this.#t)!==fr(e.enabled,this.#t)||$i(this.options.staleTime,this.#t)!==$i(e.staleTime,this.#t))&&this.#g();const a=this.#y();r&&(this.#t!==n||fr(this.options.enabled,this.#t)!==fr(e.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return mj(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Tn)),e}#g(){this.#x();const t=$i(this.options.staleTime,this.#t);if(to||this.#s.isStale||!Ay(t))return;const n=HT(this.#s.dataUpdatedAt,t)+1;this.#c=Ga.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#_(),this.#l=t,!(to||fr(this.options.enabled,this.#t)===!1||!Ay(this.#l)||this.#l===0)&&(this.#u=Ga.setInterval(()=>{(this.options.refetchIntervalInBackground||Av.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(Ga.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(Ga.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,a=this.#s,o=this.#r,c=this.#a,h=t!==n?t.state:this.#n,{state:g}=t;let v={...g},b=!1,E;if(e._optimisticResults){const S=this.hasListeners(),C=!S&&Uw(t,e),V=S&&Fw(t,n,e,r);(C||V)&&(v={...v,...XT(g.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:A,errorUpdatedAt:j,status:D}=v;E=v.data;let O=!1;if(e.placeholderData!==void 0&&E===void 0&&D==="pending"){let S;a?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(S=a.data,O=!0):S=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,S!==void 0&&(D="success",E=Iy(a?.data,S,e),b=!0)}if(e.select&&E!==void 0&&!O)if(a&&E===o?.data&&e.select===this.#p)E=this.#h;else try{this.#p=e.select,E=e.select(E),E=Iy(a?.data,E,e),this.#h=E,this.#i=null}catch(S){this.#i=S}this.#i&&(A=this.#i,E=this.#h,j=Date.now(),D="error");const J=v.fetchStatus==="fetching",$=D==="pending",Z=D==="error",ae=$&&J,le=E!==void 0,I={status:D,fetchStatus:v.fetchStatus,isPending:$,isSuccess:D==="success",isError:Z,isInitialLoading:ae,isLoading:ae,data:E,dataUpdatedAt:v.dataUpdatedAt,error:A,errorUpdatedAt:j,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>h.dataUpdateCount||v.errorUpdateCount>h.errorUpdateCount,isFetching:J,isRefetching:J&&!$,isLoadingError:Z&&!le,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:Z&&le,isStale:Nv(t,e),refetch:this.refetch,promise:this.#o,isEnabled:fr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const S=M=>{I.status==="error"?M.reject(I.error):I.data!==void 0&&M.resolve(I.data)},C=()=>{const M=this.#o=I.promise=Ry();S(M)},V=this.#o;switch(V.status){case"pending":t.queryHash===n.queryHash&&S(V);break;case"fulfilled":(I.status==="error"||I.data!==V.value)&&C();break;case"rejected":(I.status!=="error"||I.error!==V.reason)&&C();break}}return I}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),Vf(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#m.size)return!0;const o=new Set(a??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(c=>{const d=c;return this.#s[d]!==t[d]&&o.has(d)})};this.#E({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#E(t){Jt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function fj(t,e){return fr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Uw(t,e){return fj(t,e)||t.state.data!==void 0&&Dy(t,e,e.refetchOnMount)}function Dy(t,e,n){if(fr(e.enabled,t)!==!1&&$i(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Nv(t,e)}return!1}function Fw(t,e,n,r){return(t!==e||fr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Nv(t,n)}function Nv(t,e){return fr(e.enabled,t)!==!1&&t.isStaleByTime($i(e.staleTime,t))}function mj(t,e){return!Vf(t.getCurrentResult(),e)}function Bw(t){return{onFetch:(e,n)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const g=async()=>{let v=!1;const b=j=>{ij(j,()=>e.signal,()=>v=!0)},E=KT(e.options,e.fetchOptions),A=async(j,D,O)=>{if(v)return Promise.reject();if(D==null&&j.pages.length)return Promise.resolve(j);const $=(()=>{const fe={client:e.client,queryKey:e.queryKey,pageParam:D,direction:O?"backward":"forward",meta:e.options.meta};return b(fe),fe})(),Z=await E($),{maxPages:ae}=e.options,le=O?sj:rj;return{pages:le(j.pages,Z,ae),pageParams:le(j.pageParams,D,ae)}};if(a&&o.length){const j=a==="backward",D=j?pj:qw,O={pages:o,pageParams:c},J=D(r,O);d=await A(O,J,j)}else{const j=t??o.length;do{const D=h===0?c[0]??r.initialPageParam:qw(r,d);if(h>0&&D==null)break;d=await A(d,D),h++}while(h<j)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=g}}}function qw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function pj(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var gj=class extends YT{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||JT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=ZT({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(c,d)=>{this.#r({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",o=!this.#s.canStart();try{if(a)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const d=await this.options.onMutate?.(e,r);d!==this.state.context&&this.#r({type:"pending",context:d,variables:e,isPaused:o})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,e,this.state.context,this,r),await this.options.onSuccess?.(c,e,this.state.context,r),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(c,null,e,this.state.context,r),this.#r({type:"success",data:c}),c}catch(c){try{await this.#n.config.onError?.(c,e,this.state.context,this,r)}catch(d){Promise.reject(d)}try{await this.options.onError?.(c,e,this.state.context,r)}catch(d){Promise.reject(d)}try{await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,r)}catch(d){Promise.reject(d)}try{await this.options.onSettled?.(void 0,c,e,this.state.context,r)}catch(d){Promise.reject(d)}throw this.#r({type:"error",error:c}),c}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Jt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function JT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yj=class extends Xl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new gj({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=ef(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=ef(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=ef(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=ef(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Jt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Pw(e,n))}findAll(t={}){return this.getAll().filter(e=>Pw(t,e))}notify(t){Jt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Jt.batch(()=>Promise.all(t.map(e=>e.continue().catch(Tn))))}};function ef(t){return t.options.scope?.id}var vj=class extends Xl{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Vf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&no(n.mutationKey)!==no(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??JT();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Jt.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(e.data,null,n,r,a)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,e.error,n,r,a)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},bj=class extends Xl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,a=e.queryHash??Ev(r,e);let o=this.get(a);return o||(o=new dj({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Jt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Ow(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Ow(t,n)):e}notify(t){Jt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Jt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Jt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xj=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new bj,this.#t=t.mutationCache||new yj,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Av.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=zf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime($i(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,c=ej(e,o);if(c!==void 0)return this.#e.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Jt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Jt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Jt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Jt.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(Tn).catch(Tn)}invalidateQueries(t,e={}){return Jt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Jt.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(Tn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Tn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime($i(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Tn).catch(Tn)}fetchInfiniteQuery(t){return t.behavior=Bw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Tn).catch(Tn)}ensureInfiniteQueryData(t){return t.behavior=Bw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(no(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{qu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(no(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{qu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ev(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Tv&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},WT=L.createContext(void 0),Jl=t=>{const e=L.useContext(WT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_j=({client:t,children:e})=>(L.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(WT.Provider,{value:t,children:e})),eS=L.createContext(!1),wj=()=>L.useContext(eS);eS.Provider;function Ej(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Tj=L.createContext(Ej()),Sj=()=>L.useContext(Tj),Aj=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?Sv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},Nj=t=>{L.useEffect(()=>{t.clearReset()},[t])},Ij=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||Sv(n,[t.error,r])),Rj=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Cj=(t,e)=>t.isLoading&&t.isFetching&&!e,Dj=(t,e)=>t?.suspense&&e.isPending,$w=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function jj(t,e,n){const r=wj(),a=Sj(),o=Jl(),c=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const d=o.getQueryCache().get(c.queryHash);c._optimisticResults=r?"isRestoring":"optimistic",Rj(c),Aj(c,a,d),Nj(a);const h=!o.getQueryCache().get(c.queryHash),[g]=L.useState(()=>new e(o,c)),v=g.getOptimisticResult(c),b=!r&&t.subscribed!==!1;if(L.useSyncExternalStore(L.useCallback(E=>{const A=b?g.subscribe(Jt.batchCalls(E)):Tn;return g.updateResult(),A},[g,b]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),L.useEffect(()=>{g.setOptions(c)},[c,g]),Dj(c,v))throw $w(c,g,a);if(Ij({result:v,errorResetBoundary:a,throwOnError:c.throwOnError,query:d,suspense:c.suspense}))throw v.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,v),c.experimental_prefetchInRender&&!to&&Cj(v,r)&&(h?$w(c,g,a):d?.promise)?.catch(Tn).finally(()=>{g.updateResult()}),c.notifyOnChangeProps?v:g.trackResult(v)}function tS(t,e){return jj(t,hj)}function _m(t,e){const n=Jl(),[r]=L.useState(()=>new vj(n,t));L.useEffect(()=>{r.setOptions(t)},[r,t]);const a=L.useSyncExternalStore(L.useCallback(c=>r.subscribe(Jt.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=L.useCallback((c,d)=>{r.mutate(c,d).catch(Tn)},[r]);if(a.error&&Sv(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}const kj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Hw=t=>{const e=Oj(t);return e.charAt(0).toUpperCase()+e.slice(1)},nS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Pj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Mj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vj=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...d},h)=>L.createElement("svg",{ref:h,...Mj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nS("lucide",a),...!o&&!Pj(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>L.createElement(g,v)),...Array.isArray(o)?o:[o]]));const Qt=(t,e)=>{const n=L.forwardRef(({className:r,...a},o)=>L.createElement(Vj,{ref:o,iconNode:e,className:nS(`lucide-${kj(Hw(t))}`,`lucide-${t}`,r),...a}));return n.displayName=Hw(t),n};const zj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Gw=Qt("activity",zj);const Lj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Uj=Qt("arrow-left",Lj);const Fj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],sy=Qt("arrow-right",Fj);const Bj=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],qj=Qt("calculator",Bj);const $j=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ro=Qt("calendar",$j);const Hj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Kw=Qt("chevron-left",Hj);const Gj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Lf=Qt("clock",Gj);const Kj=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],rS=Qt("crown",Kj);const Qj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Du=Qt("external-link",Qj);const Zj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Yj=Qt("house",Zj);const Xj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sS=Qt("map-pin",Xj);const Jj=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Wj=Qt("menu",Jj);const ek=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Qw=Qt("star",ek);const tk=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],nk=Qt("swords",tk);const rk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],jl=Qt("target",rk);const sk=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],jy=Qt("trending-up",sk);const ik=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],pr=Qt("trophy",ik);const ak=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ok=Qt("user",ak);const lk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kl=Qt("users",lk);const ck=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uk=Qt("x",ck);function iS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=iS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dk(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=iS(t))&&(r&&(r+=" "),r+=e);return r}const hk=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},fk=(t,e)=>({classGroupId:t,validator:e}),aS=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Uf="-",Zw=[],mk="arbitrary..",pk=t=>{const e=yk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return gk(c);const d=c.split(Uf),h=d[0]===""&&d.length>1?1:0;return oS(d,h,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const h=r[c],g=n[c];return h?g?hk(g,h):h:g||Zw}return n[c]||Zw}}},oS=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],o=n.nextPart.get(a);if(o){const g=oS(t,e+1,o);if(g)return g}const c=n.validators;if(c===null)return;const d=e===0?t.join(Uf):t.slice(e).join(Uf),h=c.length;for(let g=0;g<h;g++){const v=c[g];if(v.validator(d))return v.classGroupId}},gk=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?mk+r:void 0})(),yk=t=>{const{theme:e,classGroups:n}=t;return vk(n,e)},vk=(t,e)=>{const n=aS();for(const r in t){const a=t[r];Iv(a,n,r,e)}return n},Iv=(t,e,n,r)=>{const a=t.length;for(let o=0;o<a;o++){const c=t[o];bk(c,e,n,r)}},bk=(t,e,n,r)=>{if(typeof t=="string"){xk(t,e,n);return}if(typeof t=="function"){_k(t,e,n,r);return}wk(t,e,n,r)},xk=(t,e,n)=>{const r=t===""?e:lS(e,t);r.classGroupId=n},_k=(t,e,n,r)=>{if(Ek(t)){Iv(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(fk(n,t))},wk=(t,e,n,r)=>{const a=Object.entries(t),o=a.length;for(let c=0;c<o;c++){const[d,h]=a[c];Iv(h,lS(e,d),n,r)}},lS=(t,e)=>{let n=t;const r=e.split(Uf),a=r.length;for(let o=0;o<a;o++){const c=r[o];let d=n.nextPart.get(c);d||(d=aS(),n.nextPart.set(c,d)),n=d}return n},Ek=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Tk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(o,c)=>{n[o]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let c=n[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return a(o,c),c},set(o,c){o in n?n[o]=c:a(o,c)}}},ky="!",Yw=":",Sk=[],Xw=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),Ak=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const o=[];let c=0,d=0,h=0,g;const v=a.length;for(let D=0;D<v;D++){const O=a[D];if(c===0&&d===0){if(O===Yw){o.push(a.slice(h,D)),h=D+1;continue}if(O==="/"){g=D;continue}}O==="["?c++:O==="]"?c--:O==="("?d++:O===")"&&d--}const b=o.length===0?a:a.slice(h);let E=b,A=!1;b.endsWith(ky)?(E=b.slice(0,-1),A=!0):b.startsWith(ky)&&(E=b.slice(1),A=!0);const j=g&&g>h?g-h:void 0;return Xw(o,A,E,j)};if(e){const a=e+Yw,o=r;r=c=>c.startsWith(a)?o(c.slice(a.length)):Xw(Sk,!1,c,void 0,!0)}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},Nk=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let o=0;o<n.length;o++){const c=n[o],d=c[0]==="[",h=e.has(c);d||h?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},Ik=t=>({cache:Tk(t.cacheSize),parseClassName:Ak(t),sortModifiers:Nk(t),...pk(t)}),Rk=/\s+/,Ck=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,c=[],d=t.trim().split(Rk);let h="";for(let g=d.length-1;g>=0;g-=1){const v=d[g],{isExternal:b,modifiers:E,hasImportantModifier:A,baseClassName:j,maybePostfixModifierPosition:D}=n(v);if(b){h=v+(h.length>0?" "+h:h);continue}let O=!!D,J=r(O?j.substring(0,D):j);if(!J){if(!O){h=v+(h.length>0?" "+h:h);continue}if(J=r(j),!J){h=v+(h.length>0?" "+h:h);continue}O=!1}const $=E.length===0?"":E.length===1?E[0]:o(E).join(":"),Z=A?$+ky:$,ae=Z+J;if(c.indexOf(ae)>-1)continue;c.push(ae);const le=a(J,O);for(let fe=0;fe<le.length;++fe){const I=le[fe];c.push(Z+I)}h=v+(h.length>0?" "+h:h)}return h},Dk=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=cS(n))&&(a&&(a+=" "),a+=r);return a},cS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=cS(t[r]))&&(n&&(n+=" "),n+=e);return n},jk=(t,...e)=>{let n,r,a,o;const c=h=>{const g=e.reduce((v,b)=>b(v),t());return n=Ik(g),r=n.cache.get,a=n.cache.set,o=d,d(h)},d=h=>{const g=r(h);if(g)return g;const v=Ck(h,n);return a(h,v),v};return o=c,(...h)=>o(Dk(...h))},kk=[],Xt=t=>{const e=n=>n[t]||kk;return e.isThemeGetter=!0,e},uS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ok=/^\d+\/\d+$/,Pk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Mk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hl=t=>Ok.test(t),ze=t=>!!t&&!Number.isNaN(Number(t)),Oi=t=>!!t&&Number.isInteger(Number(t)),iy=t=>t.endsWith("%")&&ze(t.slice(0,-1)),Vs=t=>Pk.test(t),Uk=()=>!0,Fk=t=>Mk.test(t)&&!Vk.test(t),hS=()=>!1,Bk=t=>zk.test(t),qk=t=>Lk.test(t),$k=t=>!ve(t)&&!be(t),Hk=t=>Wl(t,pS,hS),ve=t=>uS.test(t),Va=t=>Wl(t,gS,Fk),ay=t=>Wl(t,Yk,ze),Jw=t=>Wl(t,fS,hS),Gk=t=>Wl(t,mS,qk),tf=t=>Wl(t,yS,Bk),be=t=>dS.test(t),vu=t=>ec(t,gS),Kk=t=>ec(t,Xk),Ww=t=>ec(t,fS),Qk=t=>ec(t,pS),Zk=t=>ec(t,mS),nf=t=>ec(t,yS,!0),Wl=(t,e,n)=>{const r=uS.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ec=(t,e,n=!1)=>{const r=dS.exec(t);return r?r[1]?e(r[1]):n:!1},fS=t=>t==="position"||t==="percentage",mS=t=>t==="image"||t==="url",pS=t=>t==="length"||t==="size"||t==="bg-size",gS=t=>t==="length",Yk=t=>t==="number",Xk=t=>t==="family-name",yS=t=>t==="shadow",Jk=()=>{const t=Xt("color"),e=Xt("font"),n=Xt("text"),r=Xt("font-weight"),a=Xt("tracking"),o=Xt("leading"),c=Xt("breakpoint"),d=Xt("container"),h=Xt("spacing"),g=Xt("radius"),v=Xt("shadow"),b=Xt("inset-shadow"),E=Xt("text-shadow"),A=Xt("drop-shadow"),j=Xt("blur"),D=Xt("perspective"),O=Xt("aspect"),J=Xt("ease"),$=Xt("animate"),Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],le=()=>[...ae(),be,ve],fe=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],S=()=>[be,ve,h],C=()=>[hl,"full","auto",...S()],V=()=>[Oi,"none","subgrid",be,ve],M=()=>["auto",{span:["full",Oi,be,ve]},Oi,be,ve],U=()=>[Oi,"auto",be,ve],k=()=>["auto","min","max","fr",be,ve],Ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ze=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...S()],de=()=>[hl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],oe=()=>[t,be,ve],ge=()=>[...ae(),Ww,Jw,{position:[be,ve]}],Ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",Qk,Hk,{size:[be,ve]}],Q=()=>[iy,vu,Va],ie=()=>["","none","full",g,be,ve],ue=()=>["",ze,vu,Va],Ae=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ne=()=>[ze,iy,Ww,Jw],St=()=>["","none",j,be,ve],tt=()=>["none",ze,be,ve],Wn=()=>["none",ze,be,ve],Lr=()=>[ze,be,ve],wr=()=>[hl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vs],breakpoint:[Vs],color:[Uk],container:[Vs],"drop-shadow":[Vs],ease:["in","out","in-out"],font:[$k],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vs],shadow:[Vs],spacing:["px",ze],text:[Vs],"text-shadow":[Vs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",hl,ve,be,O]}],container:["container"],columns:[{columns:[ze,ve,be,d]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:le()}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Oi,"auto",be,ve]}],basis:[{basis:[hl,"full","auto",d,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,hl,"auto","initial","none",ve]}],grow:[{grow:["",ze,be,ve]}],shrink:[{shrink:["",ze,be,ve]}],order:[{order:[Oi,"first","last","none",be,ve]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Ke(),"normal"]}],"justify-items":[{"justify-items":[...Ze(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ze()]}],"align-content":[{content:["normal",...Ke()]}],"align-items":[{items:[...Ze(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ze(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ke()}],"place-items":[{"place-items":[...Ze(),"baseline"]}],"place-self":[{"place-self":["auto",...Ze()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[d,"screen",...de()]}],"min-w":[{"min-w":[d,"screen","none",...de()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...de()]}],h:[{h:["screen","lh",...de()]}],"min-h":[{"min-h":["screen","lh","none",...de()]}],"max-h":[{"max-h":["screen","lh",...de()]}],"font-size":[{text:["base",n,vu,Va]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,be,ay]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",iy,ve]}],"font-family":[{font:[Kk,ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,be,ve]}],"line-clamp":[{"line-clamp":[ze,"none",be,ay]}],leading:[{leading:[o,...S()]}],"list-image":[{"list-image":["none",be,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:oe()}],"text-color":[{text:oe()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",be,Va]}],"text-decoration-color":[{decoration:oe()}],"underline-offset":[{"underline-offset":[ze,"auto",be,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ge()}],"bg-repeat":[{bg:Ie()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Oi,be,ve],radial:["",be,ve],conic:[Oi,be,ve]},Zk,Gk]}],"bg-color":[{bg:oe()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:oe()}],"gradient-via":[{via:oe()}],"gradient-to":[{to:oe()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:oe()}],"border-color-x":[{"border-x":oe()}],"border-color-y":[{"border-y":oe()}],"border-color-s":[{"border-s":oe()}],"border-color-e":[{"border-e":oe()}],"border-color-t":[{"border-t":oe()}],"border-color-r":[{"border-r":oe()}],"border-color-b":[{"border-b":oe()}],"border-color-l":[{"border-l":oe()}],"divide-color":[{divide:oe()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,be,ve]}],"outline-w":[{outline:["",ze,vu,Va]}],"outline-color":[{outline:oe()}],shadow:[{shadow:["","none",v,nf,tf]}],"shadow-color":[{shadow:oe()}],"inset-shadow":[{"inset-shadow":["none",b,nf,tf]}],"inset-shadow-color":[{"inset-shadow":oe()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:oe()}],"ring-offset-w":[{"ring-offset":[ze,Va]}],"ring-offset-color":[{"ring-offset":oe()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":oe()}],"text-shadow":[{"text-shadow":["none",E,nf,tf]}],"text-shadow-color":[{"text-shadow":oe()}],opacity:[{opacity:[ze,be,ve]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ne()}],"mask-image-linear-from-color":[{"mask-linear-from":oe()}],"mask-image-linear-to-color":[{"mask-linear-to":oe()}],"mask-image-t-from-pos":[{"mask-t-from":Ne()}],"mask-image-t-to-pos":[{"mask-t-to":Ne()}],"mask-image-t-from-color":[{"mask-t-from":oe()}],"mask-image-t-to-color":[{"mask-t-to":oe()}],"mask-image-r-from-pos":[{"mask-r-from":Ne()}],"mask-image-r-to-pos":[{"mask-r-to":Ne()}],"mask-image-r-from-color":[{"mask-r-from":oe()}],"mask-image-r-to-color":[{"mask-r-to":oe()}],"mask-image-b-from-pos":[{"mask-b-from":Ne()}],"mask-image-b-to-pos":[{"mask-b-to":Ne()}],"mask-image-b-from-color":[{"mask-b-from":oe()}],"mask-image-b-to-color":[{"mask-b-to":oe()}],"mask-image-l-from-pos":[{"mask-l-from":Ne()}],"mask-image-l-to-pos":[{"mask-l-to":Ne()}],"mask-image-l-from-color":[{"mask-l-from":oe()}],"mask-image-l-to-color":[{"mask-l-to":oe()}],"mask-image-x-from-pos":[{"mask-x-from":Ne()}],"mask-image-x-to-pos":[{"mask-x-to":Ne()}],"mask-image-x-from-color":[{"mask-x-from":oe()}],"mask-image-x-to-color":[{"mask-x-to":oe()}],"mask-image-y-from-pos":[{"mask-y-from":Ne()}],"mask-image-y-to-pos":[{"mask-y-to":Ne()}],"mask-image-y-from-color":[{"mask-y-from":oe()}],"mask-image-y-to-color":[{"mask-y-to":oe()}],"mask-image-radial":[{"mask-radial":[be,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ne()}],"mask-image-radial-from-color":[{"mask-radial-from":oe()}],"mask-image-radial-to-color":[{"mask-radial-to":oe()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ae()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ne()}],"mask-image-conic-from-color":[{"mask-conic-from":oe()}],"mask-image-conic-to-color":[{"mask-conic-to":oe()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ge()}],"mask-repeat":[{mask:Ie()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,ve]}],filter:[{filter:["","none",be,ve]}],blur:[{blur:St()}],brightness:[{brightness:[ze,be,ve]}],contrast:[{contrast:[ze,be,ve]}],"drop-shadow":[{"drop-shadow":["","none",A,nf,tf]}],"drop-shadow-color":[{"drop-shadow":oe()}],grayscale:[{grayscale:["",ze,be,ve]}],"hue-rotate":[{"hue-rotate":[ze,be,ve]}],invert:[{invert:["",ze,be,ve]}],saturate:[{saturate:[ze,be,ve]}],sepia:[{sepia:["",ze,be,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",be,ve]}],"backdrop-blur":[{"backdrop-blur":St()}],"backdrop-brightness":[{"backdrop-brightness":[ze,be,ve]}],"backdrop-contrast":[{"backdrop-contrast":[ze,be,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,be,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,be,ve]}],"backdrop-invert":[{"backdrop-invert":["",ze,be,ve]}],"backdrop-opacity":[{"backdrop-opacity":[ze,be,ve]}],"backdrop-saturate":[{"backdrop-saturate":[ze,be,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,be,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",be,ve]}],ease:[{ease:["linear","initial",J,be,ve]}],delay:[{delay:[ze,be,ve]}],animate:[{animate:["none",$,be,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[D,be,ve]}],"perspective-origin":[{"perspective-origin":le()}],rotate:[{rotate:tt()}],"rotate-x":[{"rotate-x":tt()}],"rotate-y":[{"rotate-y":tt()}],"rotate-z":[{"rotate-z":tt()}],scale:[{scale:Wn()}],"scale-x":[{"scale-x":Wn()}],"scale-y":[{"scale-y":Wn()}],"scale-z":[{"scale-z":Wn()}],"scale-3d":["scale-3d"],skew:[{skew:Lr()}],"skew-x":[{"skew-x":Lr()}],"skew-y":[{"skew-y":Lr()}],transform:[{transform:[be,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:le()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:wr()}],"translate-x":[{"translate-x":wr()}],"translate-y":[{"translate-y":wr()}],"translate-z":[{"translate-z":wr()}],"translate-none":["translate-none"],accent:[{accent:oe()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:oe()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,ve]}],fill:[{fill:["none",...oe()]}],"stroke-w":[{stroke:[ze,vu,Va,ay]}],stroke:[{stroke:["none",...oe()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Wk=jk(Jk);function Nn(...t){return Wk(dk(t))}const eO=(t,e)=>{let n=null,r=0,a=0;return t.map(o=>{const c=e(o);return a+=1,(n===null||c!==n)&&(r=a,n=c),{...o,rank:r}})},ju=Sl.forwardRef(({variant:t="primary",size:e="md",icon:n,iconPosition:r="left",loading:a=!1,className:o,children:c,disabled:d,...h},g)=>{const v="inline-flex items-center justify-center font-bold rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed",b={primary:"bg-primary text-white hover:bg-primary-hover focus:ring-primary/50 shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 hover:scale-105",secondary:"bg-surface-highlight text-text-main border-2 border-border hover:border-primary/50 hover:bg-surface-alt focus:ring-primary/30 shadow-lg hover:shadow-xl",success:"bg-success text-white hover:bg-success/90 focus:ring-success/50 shadow-lg shadow-success/20 hover:shadow-xl hover:shadow-success/30 hover:scale-105",warning:"bg-warning text-white hover:bg-warning/90 focus:ring-warning/50 shadow-lg shadow-warning/20 hover:shadow-xl hover:shadow-warning/30 hover:scale-105",error:"bg-error text-white hover:bg-error/90 focus:ring-error/50 shadow-lg shadow-error/20 hover:shadow-xl hover:shadow-error/30 hover:scale-105",ghost:"bg-transparent text-text-main hover:bg-surface-highlight border-2 border-transparent hover:border-border focus:ring-primary/30",premium:"bg-gradient-to-r from-primary to-primary-hover text-white hover:from-primary-hover hover:to-primary focus:ring-primary/50 shadow-2xl hover:shadow-3xl transform hover:scale-110"},E={sm:"px-3 py-2 text-sm gap-2 min-h-[2.25rem]",md:"px-4 py-3 text-base gap-2 min-h-[2.75rem]",lg:"px-6 py-4 text-lg gap-3 min-h-[3.25rem]",xl:"px-8 py-5 text-xl gap-3 min-h-[3.75rem]"},A={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6",xl:"h-7 w-7"},j=()=>f.jsx("div",{className:Nn("animate-spin rounded-full border-2 border-current border-t-transparent",A[e])}),D=()=>{if(a)return f.jsx(j,{});if(!n)return null;if(Sl.isValidElement(n)){const O=n.props?.className||"";return Sl.cloneElement(n,{className:Nn(A[e],O)})}return n};return f.jsxs("button",{ref:g,className:Nn(v,b[t]??b.primary,E[e]??E.md,o),disabled:d||a,...h,children:[r==="left"&&D(),a?"Loading...":c,r==="right"&&D()]})});ju.displayName="Button";const tO=({children:t})=>{const[e,n]=L.useState(!1),r=Ys(),a=[{name:"Home",href:"/",icon:Yj},{name:"Standings",href:"/standings",icon:pr},{name:"Schedule",href:"/schedule",icon:ro},{name:"Players",href:"/players",icon:kl},{name:"Format",href:"/format",icon:jl},{name:"Admin",href:"/admin",icon:qj}];return f.jsxs("div",{className:"min-h-screen bg-background",children:[f.jsxs("nav",{className:"bg-gradient-to-r from-surface via-surface-alt to-surface text-text-main sticky top-0 z-50 shadow-2xl border-b border-border/50 backdrop-blur-md",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsx("div",{className:"flex items-center",children:f.jsxs(bt,{to:"/",className:"flex items-center space-x-3 group",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-warning rounded-full blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),f.jsx("div",{className:"relative w-10 h-10 bg-gradient-to-br from-primary to-warning rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-all duration-300",children:f.jsx(pr,{className:"h-6 w-6 text-white"})})]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-black text-xl tracking-tight bg-gradient-to-r from-primary to-warning bg-clip-text text-transparent group-hover:from-warning group-hover:to-primary transition-all duration-300",children:"Paddle Up"}),f.jsx("div",{className:"text-xs text-text-muted font-semibold tracking-wider uppercase",children:"Premier League"})]})]})}),f.jsx("div",{className:"hidden md:block",children:f.jsx("div",{className:"ml-10 flex items-baseline space-x-1",children:a.map(o=>{const c=o.icon,d=r.pathname===o.href;return f.jsxs(bt,{to:o.href,className:Nn("px-4 py-2 rounded-xl text-sm font-bold transition-all duration-300 flex items-center space-x-2 group relative overflow-hidden",d?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30 scale-105":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-105"),children:[f.jsx(c,{className:Nn("h-4 w-4 transition-transform duration-300",d?"text-white":"group-hover:scale-110")}),f.jsx("span",{children:o.name}),d&&f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 to-warning/10 blur-xl -z-10"})]},o.name)})})}),f.jsx("div",{className:"md:hidden",children:f.jsxs(ju,{onClick:()=>n(!e),variant:"ghost",size:"sm",className:"relative overflow-hidden",children:[f.jsx("div",{className:"relative z-10",children:e?f.jsx(uk,{className:"h-6 w-6"}):f.jsx(Wj,{className:"h-6 w-6"})}),e&&f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-warning/20 blur-sm"})]})})]})}),e&&f.jsx("div",{className:"md:hidden",children:f.jsx("div",{className:"px-2 pt-2 pb-3 space-y-2 sm:px-3 bg-gradient-to-br from-surface via-surface-alt to-surface border-t border-border/50 shadow-xl",children:a.map(o=>{const c=o.icon,d=r.pathname===o.href;return f.jsxs(bt,{to:o.href,onClick:()=>n(!1),className:Nn("block px-4 py-3 rounded-xl text-base font-bold flex items-center space-x-3 transition-all duration-300 group relative overflow-hidden",d?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-[1.02]"),children:[f.jsx(c,{className:Nn("h-5 w-5 transition-transform duration-300",d?"text-white":"group-hover:scale-110")}),f.jsx("span",{children:o.name}),d&&f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:f.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]},o.name)})})})]}),f.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsxs("div",{className:"relative",children:[t,f.jsx("div",{className:"fixed top-20 right-10 w-32 h-32 bg-gradient-to-br from-primary/5 to-transparent rounded-full blur-3xl -z-10 pointer-events-none"}),f.jsx("div",{className:"fixed bottom-20 left-10 w-40 h-40 bg-gradient-to-tr from-success/5 to-transparent rounded-full blur-3xl -z-10 pointer-events-none"})]})}),f.jsxs("footer",{className:"relative overflow-hidden bg-gradient-to-br from-surface via-surface-alt to-surface text-text-muted py-12 mt-auto border-t border-border/50",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"text-center space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary/20 to-warning/20 rounded-full flex items-center justify-center",children:f.jsx(pr,{className:"h-5 w-5 text-primary"})}),f.jsx("span",{className:"font-black text-lg text-text-main",children:"Paddle Up Premier League"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:"text-text-main font-semibold",children:[" ",new Date().getFullYear()," Paddle Up Individual Championship League"]}),f.jsx("p",{className:"text-sm text-text-muted max-w-2xl mx-auto leading-relaxed",children:"Competitive Integrity  Merit-Based Rankings  Transparent Scoring"})]}),f.jsxs("div",{className:"flex items-center justify-center space-x-6 pt-6",children:[f.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-primary/10 rounded-xl border border-primary/20",children:[f.jsx(pr,{className:"h-4 w-4 text-primary"}),f.jsx("span",{className:"text-xs font-semibold text-primary",children:"Premier League"})]}),f.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-success/10 rounded-xl border border-success/20",children:[f.jsx(jl,{className:"h-4 w-4 text-success"}),f.jsx("span",{className:"text-xs font-semibold text-success",children:"3.5+ DUPR"})]}),f.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-warning/10 rounded-xl border border-warning/20",children:[f.jsx(kl,{className:"h-4 w-4 text-warning"}),f.jsx("span",{className:"text-xs font-semibold text-warning",children:"Elite Players"})]})]})]})}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})]})},Tu=t=>nO(t),nO=t=>t<1?0:t===1?1e3:t===2?800:t===3?Tu(2)*3/4:t===4?Tu(2)*3/5:t>=11?Math.floor(Tu(t-10)/10):t>=5?Math.floor(Tu(t-3)/2):0,Rv=t=>{if(!t.isCompleted||!Array.isArray(t.standings)||t.standings.length===0)return null;const e=t.standings,n=[];return e.forEach((r,a)=>{const o=a+1,c=Math.ceil(o/4),d=(o-1)%4+1,h=Tu(o);n.push({playerId:r,court:c,position:d,rank:o,pointsEarned:h})}),n},rO=t=>{const e=new Map;return t.forEach(n=>{if(!n.standings||n.standings.length===0)return;const r={id:n.id,date:n.startDateTime?n.startDateTime.toISOString():n.id,isCompleted:!0,standings:n.standings},a=Rv(r);a&&a.forEach(o=>{const c=o.playerId,d=o.pointsEarned||0,h=e.get(c)||{points:0,events:0,champWins:0};h.points+=d,h.events+=1,o.rank===1&&(h.champWins+=1),e.set(c,h)})}),e},sO=()=>{};var eE={};const vS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},iO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],d=t[n++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},bS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,d=c?t[a+1]:0,h=a+2<t.length,g=h?t[a+2]:0,v=o>>2,b=(o&3)<<4|d>>4;let E=(d&15)<<2|g>>6,A=g&63;h||(A=64,c||(E=64)),r.push(n[v],n[b],n[E],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||d==null||g==null||b==null)throw new aO;const E=o<<2|d>>4;if(r.push(E),g!==64){const A=d<<4&240|g>>2;if(r.push(A),b!==64){const j=g<<6&192|b;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oO=function(t){const e=vS(t);return bS.encodeByteArray(e,!0)},Ff=function(t){return oO(t).replace(/\./g,"")},xS=function(t){try{return bS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lO=()=>_S().__FIREBASE_DEFAULTS__,cO=()=>{if(typeof process>"u"||typeof eE>"u")return;const t=eE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xS(t[1]);return e&&JSON.parse(e)},wm=()=>{try{return sO()||lO()||cO()||uO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wS=t=>wm()?.emulatorHosts?.[t],dO=t=>{const e=wS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ES=()=>wm()?.config,TS=t=>wm()?.[`_${t}`];class hO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function tc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SS(t){return(await fetch(t,{credentials:"include"})).ok}function fO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ff(JSON.stringify(n)),Ff(JSON.stringify(c)),""].join(".")}const ku={};function mO(){const t={prod:[],emulator:[]};for(const e of Object.keys(ku))ku[e]?t.emulator.push(e):t.prod.push(e);return t}function pO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tE=!1;function AS(t,e){if(typeof window>"u"||typeof document>"u"||!tc(window.location.host)||ku[t]===e||ku[t]||tE)return;ku[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=mO().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{tE=!0,c()},E}function v(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=pO(r),A=n("text"),j=document.getElementById(A)||document.createElement("span"),D=n("learnmore"),O=document.getElementById(D)||document.createElement("a"),J=n("preprendIcon"),$=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Z=E.element;d(Z),v(O,D);const ae=g();h($,J),Z.append($,j,O,ae),document.body.appendChild(Z)}o?(j.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function NS(){const t=wm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xO(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IS(){return!NS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RS(){return!NS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function CS(){try{return typeof indexedDB=="object"}catch{return!1}}function _O(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const wO="FirebaseError";class Xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wO,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cd.prototype.create)}}class cd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?EO(o,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Xs(a,d,r)}}function EO(t,e){return t.replace(TO,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const TO=/\{\$([^}]+)}/g;function SO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],c=e[a];if(nE(o)&&nE(c)){if(!so(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function nE(t){return t!==null&&typeof t=="object"}function ud(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AO(t,e){const n=new NO(t,e);return n.subscribe.bind(n)}class NO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");IO(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=oy),a.error===void 0&&(a.error=oy),a.complete===void 0&&(a.complete=oy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function oy(){}function bn(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const La="[DEFAULT]";class RO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DO(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CO(t){return t===La?void 0:t}function DO(t){return t.instantiationMode==="EAGER"}class jO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const kO={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},OO=$e.INFO,PO={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},MO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=PO[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cv{constructor(e){this.name=e,this._logLevel=OO,this._logHandler=MO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const VO=(t,e)=>e.some(n=>t instanceof n);let rE,sE;function zO(){return rE||(rE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LO(){return sE||(sE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DS=new WeakMap,Oy=new WeakMap,jS=new WeakMap,ly=new WeakMap,Dv=new WeakMap;function UO(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Hi(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&DS.set(n,t)}).catch(()=>{}),Dv.set(e,t),e}function FO(t){if(Oy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Oy.set(t,e)}let Py={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Oy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BO(t){Py=t(Py)}function qO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cy(this),e,...n);return jS.set(r,e.sort?e.sort():[e]),Hi(r)}:LO().includes(t)?function(...e){return t.apply(cy(this),e),Hi(DS.get(this))}:function(...e){return Hi(t.apply(cy(this),e))}}function $O(t){return typeof t=="function"?qO(t):(t instanceof IDBTransaction&&FO(t),VO(t,zO())?new Proxy(t,Py):t)}function Hi(t){if(t instanceof IDBRequest)return UO(t);if(ly.has(t))return ly.get(t);const e=$O(t);return e!==t&&(ly.set(t,e),Dv.set(e,t)),e}const cy=t=>Dv.get(t);function HO(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),d=Hi(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Hi(c.result),h.oldVersion,h.newVersion,Hi(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const GO=["get","getKey","getAll","getAllKeys","count"],KO=["put","add","delete","clear"],uy=new Map;function iE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uy.get(e))return uy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=KO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||GO.includes(n)))return;const o=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let g=h.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&h.done]))[0]};return uy.set(e,o),o}BO(t=>({...t,get:(e,n,r)=>iE(e,n)||t.get(e,n,r),has:(e,n)=>!!iE(e,n)||t.has(e,n)}));class QO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZO(t){return t.getComponent()?.type==="VERSION"}const My="@firebase/app",aE="0.14.6";const Hs=new Cv("@firebase/app"),YO="@firebase/app-compat",XO="@firebase/analytics-compat",JO="@firebase/analytics",WO="@firebase/app-check-compat",e4="@firebase/app-check",t4="@firebase/auth",n4="@firebase/auth-compat",r4="@firebase/database",s4="@firebase/data-connect",i4="@firebase/database-compat",a4="@firebase/functions",o4="@firebase/functions-compat",l4="@firebase/installations",c4="@firebase/installations-compat",u4="@firebase/messaging",d4="@firebase/messaging-compat",h4="@firebase/performance",f4="@firebase/performance-compat",m4="@firebase/remote-config",p4="@firebase/remote-config-compat",g4="@firebase/storage",y4="@firebase/storage-compat",v4="@firebase/firestore",b4="@firebase/ai",x4="@firebase/firestore-compat",_4="firebase",w4="12.6.0";const Vy="[DEFAULT]",E4={[My]:"fire-core",[YO]:"fire-core-compat",[JO]:"fire-analytics",[XO]:"fire-analytics-compat",[e4]:"fire-app-check",[WO]:"fire-app-check-compat",[t4]:"fire-auth",[n4]:"fire-auth-compat",[r4]:"fire-rtdb",[s4]:"fire-data-connect",[i4]:"fire-rtdb-compat",[a4]:"fire-fn",[o4]:"fire-fn-compat",[l4]:"fire-iid",[c4]:"fire-iid-compat",[u4]:"fire-fcm",[d4]:"fire-fcm-compat",[h4]:"fire-perf",[f4]:"fire-perf-compat",[m4]:"fire-rc",[p4]:"fire-rc-compat",[g4]:"fire-gcs",[y4]:"fire-gcs-compat",[v4]:"fire-fst",[x4]:"fire-fst-compat",[b4]:"fire-vertex","fire-js":"fire-js",[_4]:"fire-js-all"};const $u=new Map,T4=new Map,zy=new Map;function oE(t,e){try{t.container.addComponent(e)}catch(n){Hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ol(t){const e=t.name;if(zy.has(e))return Hs.debug(`There were multiple attempts to register component ${e}.`),!1;zy.set(e,t);for(const n of $u.values())oE(n,t);for(const n of T4.values())oE(n,t);return!0}function jv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return t==null?!1:t.settings!==void 0}const S4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new cd("app","Firebase",S4);class A4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}const nc=w4;function kS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Vy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Gi.create("bad-app-name",{appName:String(a)});if(n||(n=ES()),!n)throw Gi.create("no-options");const o=$u.get(a);if(o){if(so(n,o.options)&&so(r,o.config))return o;throw Gi.create("duplicate-app",{appName:a})}const c=new jO(a);for(const h of zy.values())c.addComponent(h);const d=new A4(n,r,c);return $u.set(a,d),d}function OS(t=Vy){const e=$u.get(t);if(!e&&t===Vy&&ES())return kS();if(!e)throw Gi.create("no-app",{appName:t});return e}function lE(){return Array.from($u.values())}function Ki(t,e,n){let r=E4[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hs.warn(c.join(" "));return}Ol(new io(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const N4="firebase-heartbeat-database",I4=1,Hu="firebase-heartbeat-store";let dy=null;function PS(){return dy||(dy=HO(N4,I4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gi.create("idb-open",{originalErrorMessage:t.message})})),dy}async function R4(t){try{const n=(await PS()).transaction(Hu),r=await n.objectStore(Hu).get(MS(t));return await n.done,r}catch(e){if(e instanceof Xs)Hs.warn(e.message);else{const n=Gi.create("idb-get",{originalErrorMessage:e?.message});Hs.warn(n.message)}}}async function cE(t,e){try{const r=(await PS()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(e,MS(t)),await r.done}catch(n){if(n instanceof Xs)Hs.warn(n.message);else{const r=Gi.create("idb-set",{originalErrorMessage:n?.message});Hs.warn(r.message)}}}function MS(t){return`${t.name}!${t.options.appId}`}const C4=1024,D4=30;class j4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=uE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>D4){const a=P4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uE(),{heartbeatsToSend:n,unsentEntries:r}=k4(this._heartbeatsCache.heartbeats),a=Ff(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Hs.warn(e),""}}}function uE(){return new Date().toISOString().substring(0,10)}function k4(t,e=C4){const n=[];let r=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),dE(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),dE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CS()?_O().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function dE(t){return Ff(JSON.stringify({version:2,heartbeats:t})).length}function P4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function M4(t){Ol(new io("platform-logger",e=>new QO(e),"PRIVATE")),Ol(new io("heartbeat",e=>new j4(e),"PRIVATE")),Ki(My,aE,t),Ki(My,aE,"esm2020"),Ki("fire-js","")}M4("");var hE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qi,VS;(function(){var t;function e(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,M,U){for(var k=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)k[Ke-2]=arguments[Ke];return S.prototype[M].apply(V,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)V[M]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(M=0;M<16;++M)V[M]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],M=I.g[2];let U=I.g[3],k;k=S+(U^C&(M^U))+V[0]+3614090360&4294967295,S=C+(k<<7&4294967295|k>>>25),k=U+(M^S&(C^M))+V[1]+3905402710&4294967295,U=S+(k<<12&4294967295|k>>>20),k=M+(C^U&(S^C))+V[2]+606105819&4294967295,M=U+(k<<17&4294967295|k>>>15),k=C+(S^M&(U^S))+V[3]+3250441966&4294967295,C=M+(k<<22&4294967295|k>>>10),k=S+(U^C&(M^U))+V[4]+4118548399&4294967295,S=C+(k<<7&4294967295|k>>>25),k=U+(M^S&(C^M))+V[5]+1200080426&4294967295,U=S+(k<<12&4294967295|k>>>20),k=M+(C^U&(S^C))+V[6]+2821735955&4294967295,M=U+(k<<17&4294967295|k>>>15),k=C+(S^M&(U^S))+V[7]+4249261313&4294967295,C=M+(k<<22&4294967295|k>>>10),k=S+(U^C&(M^U))+V[8]+1770035416&4294967295,S=C+(k<<7&4294967295|k>>>25),k=U+(M^S&(C^M))+V[9]+2336552879&4294967295,U=S+(k<<12&4294967295|k>>>20),k=M+(C^U&(S^C))+V[10]+4294925233&4294967295,M=U+(k<<17&4294967295|k>>>15),k=C+(S^M&(U^S))+V[11]+2304563134&4294967295,C=M+(k<<22&4294967295|k>>>10),k=S+(U^C&(M^U))+V[12]+1804603682&4294967295,S=C+(k<<7&4294967295|k>>>25),k=U+(M^S&(C^M))+V[13]+4254626195&4294967295,U=S+(k<<12&4294967295|k>>>20),k=M+(C^U&(S^C))+V[14]+2792965006&4294967295,M=U+(k<<17&4294967295|k>>>15),k=C+(S^M&(U^S))+V[15]+1236535329&4294967295,C=M+(k<<22&4294967295|k>>>10),k=S+(M^U&(C^M))+V[1]+4129170786&4294967295,S=C+(k<<5&4294967295|k>>>27),k=U+(C^M&(S^C))+V[6]+3225465664&4294967295,U=S+(k<<9&4294967295|k>>>23),k=M+(S^C&(U^S))+V[11]+643717713&4294967295,M=U+(k<<14&4294967295|k>>>18),k=C+(U^S&(M^U))+V[0]+3921069994&4294967295,C=M+(k<<20&4294967295|k>>>12),k=S+(M^U&(C^M))+V[5]+3593408605&4294967295,S=C+(k<<5&4294967295|k>>>27),k=U+(C^M&(S^C))+V[10]+38016083&4294967295,U=S+(k<<9&4294967295|k>>>23),k=M+(S^C&(U^S))+V[15]+3634488961&4294967295,M=U+(k<<14&4294967295|k>>>18),k=C+(U^S&(M^U))+V[4]+3889429448&4294967295,C=M+(k<<20&4294967295|k>>>12),k=S+(M^U&(C^M))+V[9]+568446438&4294967295,S=C+(k<<5&4294967295|k>>>27),k=U+(C^M&(S^C))+V[14]+3275163606&4294967295,U=S+(k<<9&4294967295|k>>>23),k=M+(S^C&(U^S))+V[3]+4107603335&4294967295,M=U+(k<<14&4294967295|k>>>18),k=C+(U^S&(M^U))+V[8]+1163531501&4294967295,C=M+(k<<20&4294967295|k>>>12),k=S+(M^U&(C^M))+V[13]+2850285829&4294967295,S=C+(k<<5&4294967295|k>>>27),k=U+(C^M&(S^C))+V[2]+4243563512&4294967295,U=S+(k<<9&4294967295|k>>>23),k=M+(S^C&(U^S))+V[7]+1735328473&4294967295,M=U+(k<<14&4294967295|k>>>18),k=C+(U^S&(M^U))+V[12]+2368359562&4294967295,C=M+(k<<20&4294967295|k>>>12),k=S+(C^M^U)+V[5]+4294588738&4294967295,S=C+(k<<4&4294967295|k>>>28),k=U+(S^C^M)+V[8]+2272392833&4294967295,U=S+(k<<11&4294967295|k>>>21),k=M+(U^S^C)+V[11]+1839030562&4294967295,M=U+(k<<16&4294967295|k>>>16),k=C+(M^U^S)+V[14]+4259657740&4294967295,C=M+(k<<23&4294967295|k>>>9),k=S+(C^M^U)+V[1]+2763975236&4294967295,S=C+(k<<4&4294967295|k>>>28),k=U+(S^C^M)+V[4]+1272893353&4294967295,U=S+(k<<11&4294967295|k>>>21),k=M+(U^S^C)+V[7]+4139469664&4294967295,M=U+(k<<16&4294967295|k>>>16),k=C+(M^U^S)+V[10]+3200236656&4294967295,C=M+(k<<23&4294967295|k>>>9),k=S+(C^M^U)+V[13]+681279174&4294967295,S=C+(k<<4&4294967295|k>>>28),k=U+(S^C^M)+V[0]+3936430074&4294967295,U=S+(k<<11&4294967295|k>>>21),k=M+(U^S^C)+V[3]+3572445317&4294967295,M=U+(k<<16&4294967295|k>>>16),k=C+(M^U^S)+V[6]+76029189&4294967295,C=M+(k<<23&4294967295|k>>>9),k=S+(C^M^U)+V[9]+3654602809&4294967295,S=C+(k<<4&4294967295|k>>>28),k=U+(S^C^M)+V[12]+3873151461&4294967295,U=S+(k<<11&4294967295|k>>>21),k=M+(U^S^C)+V[15]+530742520&4294967295,M=U+(k<<16&4294967295|k>>>16),k=C+(M^U^S)+V[2]+3299628645&4294967295,C=M+(k<<23&4294967295|k>>>9),k=S+(M^(C|~U))+V[0]+4096336452&4294967295,S=C+(k<<6&4294967295|k>>>26),k=U+(C^(S|~M))+V[7]+1126891415&4294967295,U=S+(k<<10&4294967295|k>>>22),k=M+(S^(U|~C))+V[14]+2878612391&4294967295,M=U+(k<<15&4294967295|k>>>17),k=C+(U^(M|~S))+V[5]+4237533241&4294967295,C=M+(k<<21&4294967295|k>>>11),k=S+(M^(C|~U))+V[12]+1700485571&4294967295,S=C+(k<<6&4294967295|k>>>26),k=U+(C^(S|~M))+V[3]+2399980690&4294967295,U=S+(k<<10&4294967295|k>>>22),k=M+(S^(U|~C))+V[10]+4293915773&4294967295,M=U+(k<<15&4294967295|k>>>17),k=C+(U^(M|~S))+V[1]+2240044497&4294967295,C=M+(k<<21&4294967295|k>>>11),k=S+(M^(C|~U))+V[8]+1873313359&4294967295,S=C+(k<<6&4294967295|k>>>26),k=U+(C^(S|~M))+V[15]+4264355552&4294967295,U=S+(k<<10&4294967295|k>>>22),k=M+(S^(U|~C))+V[6]+2734768916&4294967295,M=U+(k<<15&4294967295|k>>>17),k=C+(U^(M|~S))+V[13]+1309151649&4294967295,C=M+(k<<21&4294967295|k>>>11),k=S+(M^(C|~U))+V[4]+4149444226&4294967295,S=C+(k<<6&4294967295|k>>>26),k=U+(C^(S|~M))+V[11]+3174756917&4294967295,U=S+(k<<10&4294967295|k>>>22),k=M+(S^(U|~C))+V[2]+718787259&4294967295,M=U+(k<<15&4294967295|k>>>17),k=C+(U^(M|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+U&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,V=this.C;let M=this.h,U=0;for(;U<S;){if(M==0)for(;U<=C;)a(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(V[M++]=I.charCodeAt(U++),M==this.blockSize){a(this,V),M=0;break}}else for(;U<S;)if(V[M++]=I[U++],M==this.blockSize){a(this,V),M=0;break}}this.h=M,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[S++]=this.g[C]>>>V&255;return I};function o(I,S){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function c(I,S){this.h=S;const C=[];let V=!0;for(let M=I.length-1;M>=0;M--){const U=I[M]|0;V&&U==S||(C[M]=U,V=!1)}this.g=C}var d={};function h(I){return-128<=I&&I<128?o(I,function(S){return new c([S|0],S<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return O(g(-I));const S=[];let C=1;for(let V=0;I>=C;V++)S[V]=I/C|0,C*=4294967296;return new c(S,0)}function v(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return O(v(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(S,8));let V=b;for(let U=0;U<I.length;U+=8){var M=Math.min(8,I.length-U);const k=parseInt(I.substring(U,U+M),S);M<8?(M=g(Math.pow(S,M)),V=V.j(M).add(g(k))):(V=V.j(C),V=V.add(g(k)))}return V}var b=h(0),E=h(1),A=h(16777216);t=c.prototype,t.m=function(){if(D(this))return-O(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(D(this))return"-"+O(this).toString(I);const S=g(Math.pow(I,6));var C=this;let V="";for(;;){const M=ae(C,S).g;C=J(C,M.j(S));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=M,j(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function D(I){return I.h==-1}t.l=function(I){return I=J(this,I),D(I)?-1:j(I)?0:1};function O(I){const S=I.g.length,C=[];for(let V=0;V<S;V++)C[V]=~I.g[V];return new c(C,~I.h).add(E)}t.abs=function(){return D(this)?O(this):this},t.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let M=0;M<=S;M++){let U=V+(this.i(M)&65535)+(I.i(M)&65535),k=(U>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);V=k>>>16,U&=65535,k&=65535,C[M]=k<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function J(I,S){return I.add(O(S))}t.j=function(I){if(j(this)||j(I))return b;if(D(this))return D(I)?O(this).j(O(I)):O(O(this).j(I));if(D(I))return O(this.j(O(I)));if(this.l(A)<0&&I.l(A)<0)return g(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<I.g.length;M++){const U=this.i(V)>>>16,k=this.i(V)&65535,Ke=I.i(M)>>>16,Ze=I.i(M)&65535;C[2*V+2*M]+=k*Ze,$(C,2*V+2*M),C[2*V+2*M+1]+=U*Ze,$(C,2*V+2*M+1),C[2*V+2*M+1]+=k*Ke,$(C,2*V+2*M+1),C[2*V+2*M+2]+=U*Ke,$(C,2*V+2*M+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new c(C,0)};function $(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function Z(I,S){this.g=I,this.h=S}function ae(I,S){if(j(S))throw Error("division by zero");if(j(I))return new Z(b,b);if(D(I))return S=ae(O(I),S),new Z(O(S.g),O(S.h));if(D(S))return S=ae(I,O(S)),new Z(O(S.g),S.h);if(I.g.length>30){if(D(I)||D(S))throw Error("slowDivide_ only works with positive integers.");for(var C=E,V=S;V.l(I)<=0;)C=le(C),V=le(V);var M=fe(C,1),U=fe(V,1);for(V=fe(V,2),C=fe(C,2);!j(V);){var k=U.add(V);k.l(I)<=0&&(M=M.add(C),U=k),V=fe(V,1),C=fe(C,1)}return S=J(I,M.j(S)),new Z(M,S)}for(M=b;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=g(C),k=U.j(S);D(k)||k.l(I)>0;)C-=V,U=g(C),k=U.j(S);j(U)&&(U=E),M=M.add(U),I=J(I,k)}return new Z(M,I)}t.B=function(I){return ae(this,I).h},t.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&I.i(V);return new c(C,this.h&I.h)},t.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|I.i(V);return new c(C,this.h|I.h)},t.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^I.i(V);return new c(C,this.h^I.h)};function le(I){const S=I.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new c(C,I.h)}function fe(I,S){const C=S>>5;S%=32;const V=I.g.length-C,M=[];for(let U=0;U<V;U++)M[U]=S>0?I.i(U+C)>>>S|I.i(U+C+1)<<32-S:I.i(U+C);return new c(M,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,VS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Qi=c}).apply(typeof hE<"u"?hE:typeof self<"u"?self:typeof window<"u"?window:{});var rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zS,Su,LS,yf,Ly,US,FS,BS;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof rf=="object"&&rf];for(var x=0;x<m.length;++x){var w=m[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function a(m,x){if(x)e:{var w=r;m=m.split(".");for(var N=0;N<m.length-1;N++){var q=m[N];if(!(q in w))break e;w=w[q]}m=m[m.length-1],N=w[m],x=x(N),x!=N&&x!=null&&e(w,m,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(x){var w=[],N;for(N in x)Object.prototype.hasOwnProperty.call(x,N)&&w.push([N,x[N]]);return w}});var o=o||{},c=this||self;function d(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function h(m,x,w){return m.call.apply(m.bind,arguments)}function g(m,x,w){return g=h,g.apply(null,arguments)}function v(m,x){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),m.apply(this,N)}}function b(m,x){function w(){}w.prototype=x.prototype,m.Z=x.prototype,m.prototype=new w,m.prototype.constructor=m,m.Ob=function(N,q,Y){for(var me=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)me[Pe-2]=arguments[Pe];return x.prototype[q].apply(N,me)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function A(m){const x=m.length;if(x>0){const w=Array(x);for(let N=0;N<x;N++)w[N]=m[N];return w}return[]}function j(m,x){for(let N=1;N<arguments.length;N++){const q=arguments[N];var w=typeof q;if(w=w!="object"?w:q?Array.isArray(q)?"array":w:"null",w=="array"||w=="object"&&typeof q.length=="number"){w=m.length||0;const Y=q.length||0;m.length=w+Y;for(let me=0;me<Y;me++)m[w+me]=q[me]}else m.push(q)}}class D{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function O(m){c.setTimeout(()=>{throw m},0)}function J(){var m=I;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class ${constructor(){this.h=this.g=null}add(x,w){const N=Z.get();N.set(x,w),this.h?this.h.next=N:this.g=N,this.h=N}}var Z=new D(()=>new ae,m=>m.reset());class ae{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let le,fe=!1,I=new $,S=()=>{const m=Promise.resolve(void 0);le=()=>{m.then(C)}};function C(){for(var m;m=J();){try{m.h.call(m.g)}catch(w){O(w)}var x=Z;x.j(m),x.h<100&&(x.h++,m.next=x.g,x.g=m)}fe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const w=()=>{};c.addEventListener("test",w,x),c.removeEventListener("test",w,x)}catch{}return m})();function k(m){return/^[\s\xa0]*$/.test(m)}function Ke(m,x){M.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,x)}b(Ke,M),Ke.prototype.init=function(m,x){const w=this.type=m.type,N=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget,x||(w=="mouseover"?x=m.fromElement:w=="mouseout"&&(x=m.toElement)),this.relatedTarget=x,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),X=0;function de(m,x,w,N,q){this.listener=m,this.proxy=null,this.src=x,this.type=w,this.capture=!!N,this.ha=q,this.key=++X,this.da=this.fa=!1}function oe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ge(m,x,w){for(const N in m)x.call(w,m[N],N,m)}function Ie(m,x){for(const w in m)x.call(void 0,m[w],w,m)}function R(m){const x={};for(const w in m)x[w]=m[w];return x}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(m,x){let w,N;for(let q=1;q<arguments.length;q++){N=arguments[q];for(w in N)m[w]=N[w];for(let Y=0;Y<Q.length;Y++)w=Q[Y],Object.prototype.hasOwnProperty.call(N,w)&&(m[w]=N[w])}}function ue(m){this.src=m,this.g={},this.h=0}ue.prototype.add=function(m,x,w,N,q){const Y=m.toString();m=this.g[Y],m||(m=this.g[Y]=[],this.h++);const me=ke(m,x,N,q);return me>-1?(x=m[me],w||(x.fa=!1)):(x=new de(x,this.src,Y,!!N,q),x.fa=w,m.push(x)),x};function Ae(m,x){const w=x.type;if(w in m.g){var N=m.g[w],q=Array.prototype.indexOf.call(N,x,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(N,q,1),Y&&(oe(x),m.g[w].length==0&&(delete m.g[w],m.h--))}}function ke(m,x,w,N){for(let q=0;q<m.length;++q){const Y=m[q];if(!Y.da&&Y.listener==x&&Y.capture==!!w&&Y.ha==N)return q}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),St={};function tt(m,x,w,N,q){if(Array.isArray(x)){for(let Y=0;Y<x.length;Y++)tt(m,x[Y],w,N,q);return null}return w=fc(w),m&&m[Ze]?m.J(x,w,d(N)?!!N.capture:!1,q):Wn(m,x,w,!1,N,q)}function Wn(m,x,w,N,q,Y){if(!x)throw Error("Invalid event type");const me=d(q)?!!q.capture:!!q;let Pe=oa(m);if(Pe||(m[Ne]=Pe=new ue(m)),w=Pe.add(x,w,N,me,Y),w.proxy)return w;if(N=Lr(),w.proxy=N,N.src=m,N.listener=w,m.addEventListener)U||(q=me),q===void 0&&(q=!1),m.addEventListener(x.toString(),N,q);else if(m.attachEvent)m.attachEvent(Ur(x.toString()),N);else if(m.addListener&&m.removeListener)m.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Lr(){function m(w){return x.call(m.src,m.listener,w)}const x=dc;return m}function wr(m,x,w,N,q){if(Array.isArray(x))for(var Y=0;Y<x.length;Y++)wr(m,x[Y],w,N,q);else N=d(N)?!!N.capture:!!N,w=fc(w),m&&m[Ze]?(m=m.i,Y=String(x).toString(),Y in m.g&&(x=m.g[Y],w=ke(x,w,N,q),w>-1&&(oe(x[w]),Array.prototype.splice.call(x,w,1),x.length==0&&(delete m.g[Y],m.h--)))):m&&(m=oa(m))&&(x=m.g[x.toString()],m=-1,x&&(m=ke(x,w,N,q)),(w=m>-1?x[m]:null)&&To(w))}function To(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[Ze])Ae(x.i,m);else{var w=m.type,N=m.proxy;x.removeEventListener?x.removeEventListener(w,N,m.capture):x.detachEvent?x.detachEvent(Ur(w),N):x.addListener&&x.removeListener&&x.removeListener(N),(w=oa(x))?(Ae(w,m),w.h==0&&(w.src=null,x[Ne]=null)):oe(m)}}}function Ur(m){return m in St?St[m]:St[m]="on"+m}function dc(m,x){if(m.da)m=!0;else{x=new Ke(x,this);const w=m.listener,N=m.ha||m.src;m.fa&&To(m),m=w.call(N,x)}return m}function oa(m){return m=m[Ne],m instanceof ue?m:null}var hc="__closure_events_fn_"+(Math.random()*1e9>>>0);function fc(m){return typeof m=="function"?m:(m[hc]||(m[hc]=function(x){return m.handleEvent(x)}),m[hc])}function Mt(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}b(Mt,V),Mt.prototype[Ze]=!0,Mt.prototype.removeEventListener=function(m,x,w,N){wr(this,m,x,w,N)};function Zt(m,x){var w,N=m.G;if(N)for(w=[];N;N=N.G)w.push(N);if(m=m.M,N=x.type||x,typeof x=="string")x=new M(x,m);else if(x instanceof M)x.target=x.target||m;else{var q=x;x=new M(N,m),ie(x,q)}q=!0;let Y,me;if(w)for(me=w.length-1;me>=0;me--)Y=x.g=w[me],q=ti(Y,N,!0,x)&&q;if(Y=x.g=m,q=ti(Y,N,!0,x)&&q,q=ti(Y,N,!1,x)&&q,w)for(me=0;me<w.length;me++)Y=x.g=w[me],q=ti(Y,N,!1,x)&&q}Mt.prototype.N=function(){if(Mt.Z.N.call(this),this.i){var m=this.i;for(const x in m.g){const w=m.g[x];for(let N=0;N<w.length;N++)oe(w[N]);delete m.g[x],m.h--}}this.G=null},Mt.prototype.J=function(m,x,w,N){return this.i.add(String(m),x,!1,w,N)},Mt.prototype.K=function(m,x,w,N){return this.i.add(String(m),x,!0,w,N)};function ti(m,x,w,N){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();let q=!0;for(let Y=0;Y<x.length;++Y){const me=x[Y];if(me&&!me.da&&me.capture==w){const Pe=me.listener,jt=me.ha||me.src;me.fa&&Ae(m.i,me),q=Pe.call(jt,N)!==!1&&q}}return q&&!N.defaultPrevented}function Xm(m,x){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=g(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(m,x||0)}function Td(m){m.g=Xm(()=>{m.g=null,m.i&&(m.i=!1,Td(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class xn extends V{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Td(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(m){V.call(this),this.h=m,this.g={}}b(la,V);var mc=[];function pc(m){ge(m.g,function(x,w){this.g.hasOwnProperty(w)&&To(x)},m),m.g={}}la.prototype.N=function(){la.Z.N.call(this),pc(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=c.JSON.stringify,Jm=c.JSON.parse,Sd=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Ad(){}function Nd(){}var Er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function an(){M.call(this,"d")}b(an,M);function er(){M.call(this,"c")}b(er,M);var Dt={},Id=null;function So(){return Id=Id||new Mt}Dt.Ia="serverreachability";function Rd(m){M.call(this,Dt.Ia,m)}b(Rd,M);function Fr(m){const x=So();Zt(x,new Rd(x))}Dt.STAT_EVENT="statevent";function ca(m,x){M.call(this,Dt.STAT_EVENT,m),this.stat=x}b(ca,M);function Vt(m){const x=So();Zt(x,new ca(x,m))}Dt.Ja="timingevent";function Br(m,x){M.call(this,Dt.Ja,m),this.size=x}b(Br,M);function qr(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},x)}function Tr(){this.g=!0}Tr.prototype.ua=function(){this.g=!1};function Wm(m,x,w,N,q,Y){m.info(function(){if(m.g)if(Y){var me="",Pe=Y.split("&");for(let We=0;We<Pe.length;We++){var jt=Pe[We].split("=");if(jt.length>1){const gt=jt[0];jt=jt[1];const sr=gt.split("_");me=sr.length>=2&&sr[1]=="type"?me+(gt+"="+jt+"&"):me+(gt+"=redacted&")}}}else me=null;else me=Y;return"XMLHTTP REQ ("+N+") [attempt "+q+"]: "+x+`
`+w+`
`+me})}function Cd(m,x,w,N,q,Y,me){m.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+q+"]: "+x+`
`+w+`
`+Y+" "+me})}function $r(m,x,w,N){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+ep(m,w)+(N?" "+N:"")})}function ua(m,x){m.info(function(){return"TIMEOUT: "+x})}Tr.prototype.info=function(){};function ep(m,x){if(!m.g)return x;if(!x)return null;try{const Y=JSON.parse(x);if(Y){for(m=0;m<Y.length;m++)if(Array.isArray(Y[m])){var w=Y[m];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var q=N[0];if(q!="noop"&&q!="stop"&&q!="close")for(let me=1;me<N.length;me++)N[me]=""}}}}return ni(Y)}catch{return x}}var da={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yc;function ha(){}b(ha,Ad),ha.prototype.g=function(){return new XMLHttpRequest},yc=new ha;function vs(m){return encodeURIComponent(String(m))}function Dd(m){var x=1;m=m.split(":");const w=[];for(;x>0&&m.length;)w.push(m.shift()),x--;return m.length&&w.push(m.join(":")),w}function Sr(m,x,w,N){this.j=m,this.i=x,this.l=w,this.S=N||1,this.V=new la(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ar}function Ar(){this.i=null,this.g="",this.h=!1}var zt={},tn={};function Hr(m,x,w){m.M=1,m.A=fa(Ut(x)),m.u=w,m.R=!0,Ao(m,null)}function Ao(m,x){m.F=Date.now(),Gr(m),m.B=Ut(m.A);var w=m.B,N=m.S;Array.isArray(N)||(N=[String(N)]),Co(w.i,"t",N),m.C=0,w=m.j.L,m.h=new Ar,m.g=Gd(m.j,w?x:null,!m.u),m.P>0&&(m.O=new xn(g(m.Y,m,m.g),m.P)),x=m.V,w=m.g,N=m.ba;var q="readystatechange";Array.isArray(q)||(q&&(mc[0]=q.toString()),q=mc);for(let Y=0;Y<q.length;Y++){const me=tt(w,q[Y],N||x.handleEvent,!1,x.h||x);if(!me)break;x.g[me.key]=me}x=m.J?R(m.J):{},m.u?(m.v||(m.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,x)):(m.v="GET",m.g.ea(m.B,m.v,null,x)),Fr(),Wm(m.i,m.v,m.B,m.l,m.S,m.u)}Sr.prototype.ba=function(m){m=m.target;const x=this.O;x&&Rr(m)==3?x.j():this.Y(m)},Sr.prototype.Y=function(m){try{if(m==this.g)e:{const Pe=Rr(this.g),jt=this.g.ya(),We=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||Pe!=4||jt==7||(jt==8||We<=0?Fr(3):Fr(2)),Kr(this);var x=this.g.ca();this.X=x;var w=tp(this);if(this.o=x==200,Cd(this.i,this.v,this.B,this.l,this.S,Pe,x),this.o){if(this.U&&!this.L){t:{if(this.g){var N,q=this.g;if((N=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(N)){var Y=N;break t}}Y=null}if(m=Y)$r(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qr(this,m);else{this.o=!1,this.m=3,Vt(12),Un(this),tr(this);break e}}if(this.R){m=!0;let gt;for(;!this.K&&this.C<w.length;)if(gt=kd(this,w),gt==tn){Pe==4&&(this.m=4,Vt(14),m=!1),$r(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==zt){this.m=4,Vt(15),$r(this.i,this.l,w,"[Invalid Chunk]"),m=!1;break}else $r(this.i,this.l,gt,null),Qr(this,gt);if(jd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||w.length!=0||this.h.h||(this.m=1,Vt(16),m=!1),this.o=this.o&&m,!m)$r(this.i,this.l,w,"[Invalid Chunked Response]"),Un(this),tr(this);else if(w.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),jc(me),me.P=!0,Vt(11))}}else $r(this.i,this.l,w,null),Qr(this,w);Pe==4&&Un(this),this.o&&!this.K&&(Pe==4?Bd(this.j,this):(this.o=!1,Gr(this)))}else xs(this.g),x==400&&w.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Un(this),tr(this)}}}catch{}};function tp(m){if(!jd(m))return m.g.la();const x=on(m.g);if(x==="")return"";let w="";const N=x.length,q=Rr(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Un(m),tr(m),"";m.h.i=new c.TextDecoder}for(let Y=0;Y<N;Y++)m.h.h=!0,w+=m.h.i.decode(x[Y],{stream:!(q&&Y==N-1)});return x.length=0,m.h.g+=w,m.C=0,m.h.g}function jd(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function kd(m,x){var w=m.C,N=x.indexOf(`
`,w);return N==-1?tn:(w=Number(x.substring(w,N)),isNaN(w)?zt:(N+=1,N+w>x.length?tn:(x=x.slice(N,N+w),m.C=N+w,x)))}Sr.prototype.cancel=function(){this.K=!0,Un(this)};function Gr(m){m.T=Date.now()+m.H,No(m,m.H)}function No(m,x){if(m.D!=null)throw Error("WatchDog timer not null");m.D=qr(g(m.aa,m),x)}function Kr(m){m.D&&(c.clearTimeout(m.D),m.D=null)}Sr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ua(this.i,this.B),this.M!=2&&(Fr(),Vt(17)),Un(this),this.m=2,tr(this)):No(this,this.T-m)};function tr(m){m.j.I==0||m.K||Bd(m.j,m)}function Un(m){Kr(m);var x=m.O;x&&typeof x.dispose=="function"&&x.dispose(),m.O=null,pc(m.V),m.g&&(x=m.g,m.g=null,x.abort(),x.dispose())}function Qr(m,x){try{var w=m.j;if(w.I!=0&&(w.g==m||Yr(w.h,m))){if(!m.L&&Yr(w.h,m)&&w.I==3){try{var N=w.Ba.g.parse(x)}catch{N=null}if(Array.isArray(N)&&N.length==3){var q=N;if(q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<m.F)Po(w),ui(w);else break e;xa(w),Vt(18)}}else w.xa=q[1],0<w.xa-w.K&&q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=qr(g(w.Va,w),6e3));Zr(w.h)<=1&&w.ta&&(w.ta=void 0)}else ns(w,11)}else if((m.L||w.g==m)&&Po(w),!k(x))for(q=w.Ba.g.parse(x),x=0;x<q.length;x++){let We=q[x];const gt=We[0];if(!(gt<=w.K))if(w.K=gt,We=We[1],w.I==2)if(We[0]=="c"){w.M=We[1],w.ba=We[2];const sr=We[3];sr!=null&&(w.ka=sr,w.j.info("VER="+w.ka));const rs=We[4];rs!=null&&(w.za=rs,w.j.info("SVER="+w.za));const Cr=We[5];Cr!=null&&typeof Cr=="number"&&Cr>0&&(N=1.5*Cr,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const Dr=m.g;if(Dr){const _a=Dr.g?Dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var Y=N.h;Y.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(xc(Y,Y.h),Y.h=null))}if(N.G){const Mo=Dr.g?Dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(N.wa=Mo,nt(N.J,N.G,Mo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-m.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var me=m;if(N.na=Hd(N,N.L?N.ba:null,N.W),me.L){_c(N.h,me);var Pe=me,jt=N.O;jt&&(Pe.H=jt),Pe.D&&(Kr(Pe),Gr(Pe)),N.g=me}else Ud(N);w.i.length>0&&ts(w)}else We[0]!="stop"&&We[0]!="close"||ns(w,7);else w.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?ns(w,7):Cc(w):We[0]!="noop"&&w.l&&w.l.qa(We),w.A=0)}}Fr(4)}catch{}}var Lt=class{constructor(m,x){this.g=m,this.map=x}};function vc(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Zr(m){return m.h?1:m.g?m.g.size:0}function Yr(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function xc(m,x){m.g?m.g.add(x):m.h=x}function _c(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}vc.prototype.cancel=function(){if(this.i=wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function wc(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const w of m.g.values())x=x.concat(w.G);return x}return A(m.i)}var Od=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Io(m,x){if(m){m=m.split("&");for(let w=0;w<m.length;w++){const N=m[w].indexOf("=");let q,Y=null;N>=0?(q=m[w].substring(0,N),Y=m[w].substring(N+1)):q=m[w],x(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Fn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;m instanceof Fn?(this.l=m.l,nn(this,m.j),this.o=m.o,this.g=m.g,ri(this,m.u),this.h=m.h,Ec(this,zd(m.i)),this.m=m.m):m&&(x=String(m).match(Od))?(this.l=!1,nn(this,x[1]||"",!0),this.o=Xr(x[2]||""),this.g=Xr(x[3]||"",!0),ri(this,x[4]),this.h=Xr(x[5]||"",!0),Ec(this,x[6]||"",!0),this.m=Xr(x[7]||"")):(this.l=!1,this.i=new ii(null,this.l))}Fn.prototype.toString=function(){const m=[];var x=this.j;x&&m.push(ma(x,Ro,!0),":");var w=this.g;return(w||x=="file")&&(m.push("//"),(x=this.o)&&m.push(ma(x,Ro,!0),"@"),m.push(vs(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&m.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&m.push("/"),m.push(ma(w,w.charAt(0)=="/"?Tc:Pd,!0))),(w=this.i.toString())&&m.push("?",w),(w=this.m)&&m.push("#",ma(w,Md)),m.join("")},Fn.prototype.resolve=function(m){const x=Ut(this);let w=!!m.j;w?nn(x,m.j):w=!!m.o,w?x.o=m.o:w=!!m.g,w?x.g=m.g:w=m.u!=null;var N=m.h;if(w)ri(x,m.u);else if(w=!!m.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var q=x.h.lastIndexOf("/");q!=-1&&(N=x.h.slice(0,q+1)+N)}if(q=N,q==".."||q==".")N="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){N=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let me=0;me<q.length;){const Pe=q[me++];Pe=="."?N&&me==q.length&&Y.push(""):Pe==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),N&&me==q.length&&Y.push("")):(Y.push(Pe),N=!0)}N=Y.join("/")}else N=q}return w?x.h=N:w=m.i.toString()!=="",w?Ec(x,zd(m.i)):w=!!m.m,w&&(x.m=m.m),x};function Ut(m){return new Fn(m)}function nn(m,x,w){m.j=w?Xr(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function ri(m,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);m.u=x}else m.u=null}function Ec(m,x,w){x instanceof ii?(m.i=x,Do(m.i,m.l)):(w||(x=ma(x,si)),m.i=new ii(x,m.l))}function nt(m,x,w){m.i.set(x,w)}function fa(m){return nt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Xr(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ma(m,x,w){return typeof m=="string"?(m=encodeURI(m).replace(x,Cn),w&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Cn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ro=/[#\/\?@]/g,Pd=/[#\?:]/g,Tc=/[#\?]/g,si=/[#\?@]/g,Md=/#/g;function ii(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function Dn(m){m.g||(m.g=new Map,m.h=0,m.i&&Io(m.i,function(x,w){m.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}t=ii.prototype,t.add=function(m,x){Dn(this),this.i=null,m=ai(this,m);let w=this.g.get(m);return w||this.g.set(m,w=[]),w.push(x),this.h+=1,this};function Vd(m,x){Dn(m),x=ai(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function Sc(m,x){return Dn(m),x=ai(m,x),m.g.has(x)}t.forEach=function(m,x){Dn(this),this.g.forEach(function(w,N){w.forEach(function(q){m.call(x,q,N,this)},this)},this)};function Ac(m,x){Dn(m);let w=[];if(typeof x=="string")Sc(m,x)&&(w=w.concat(m.g.get(ai(m,x))));else for(m=Array.from(m.g.values()),x=0;x<m.length;x++)w=w.concat(m[x]);return w}t.set=function(m,x){return Dn(this),this.i=null,m=ai(this,m),Sc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},t.get=function(m,x){return m?(m=Ac(this,m),m.length>0?String(m[0]):x):x};function Co(m,x,w){Vd(m,x),w.length>0&&(m.i=null,m.g.set(ai(m,x),A(w)),m.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(let N=0;N<x.length;N++){var w=x[N];const q=vs(w);w=Ac(this,w);for(let Y=0;Y<w.length;Y++){let me=q;w[Y]!==""&&(me+="="+vs(w[Y])),m.push(me)}}return this.i=m.join("&")};function zd(m){const x=new ii;return x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),x}function ai(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function Do(m,x){x&&!m.j&&(Dn(m),m.i=null,m.g.forEach(function(w,N){const q=N.toLowerCase();N!=q&&(Vd(this,N),Co(this,q,w))},m)),m.j=x}function Nr(m,x){const w=new Tr;if(c.Image){const N=new Image;N.onload=v(nr,w,"TestLoadImage: loaded",!0,x,N),N.onerror=v(nr,w,"TestLoadImage: error",!1,x,N),N.onabort=v(nr,w,"TestLoadImage: abort",!1,x,N),N.ontimeout=v(nr,w,"TestLoadImage: timeout",!1,x,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=m}else x(!1)}function Nc(m,x){const w=new Tr,N=new AbortController,q=setTimeout(()=>{N.abort(),nr(w,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:N.signal}).then(Y=>{clearTimeout(q),Y.ok?nr(w,"TestPingServer: ok",!0,x):nr(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(q),nr(w,"TestPingServer: error",!1,x)})}function nr(m,x,w,N,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),N(w)}catch{}}function oi(){this.g=new Sd}function Jr(m){this.i=m.Sb||null,this.h=m.ab||!1}b(Jr,Ad),Jr.prototype.g=function(){return new pa(this.i,this.h)};function pa(m,x){Mt.call(this),this.H=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(pa,Mt),t=pa.prototype,t.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=x,this.readyState=1,Ir(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(x.body=m),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function jo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?li(this):Ir(this),this.readyState==3&&jo(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,li(this))},t.Na=function(m){this.g&&(this.response=m,li(this))},t.ga=function(){this.g&&li(this)};function li(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Ir(m)}t.setRequestHeader=function(m,x){this.A.append(m,x)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,m.push(w[0]+": "+w[1]),w=x.next();return m.join(`\r
`)};function Ir(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function rr(m){let x="";return ge(m,function(w,N){x+=N,x+=":",x+=w,x+=`\r
`}),x}function ga(m,x,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=rr(w),typeof m=="string"?w!=null&&vs(w):nt(m,x,w))}function ct(m){Mt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ct,Mt);var Wr=/^https?$/i,Ic=["POST","PUT"];t=ct.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,x,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yc.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(Y){ya(this,Y);return}if(m=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var q in N)w.set(q,N[q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Y of N.keys())w.set(Y,N.get(Y));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Ic,x,void 0)>=0)||N||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,me]of w)this.g.setRequestHeader(Y,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Y){ya(this,Y)}};function ya(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.o=5,Rc(m),bs(m)}function Rc(m){m.A||(m.A=!0,Zt(m,"complete"),Zt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Zt(this,"complete"),Zt(this,"abort"),bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?va(this):this.Xa())},t.Xa=function(){va(this)};function va(m){if(m.h&&typeof o<"u"){if(m.v&&Rr(m)==4)setTimeout(m.Ca.bind(m),0);else if(Zt(m,"readystatechange"),Rr(m)==4){m.h=!1;try{const Y=m.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var N;if(N=Y===0){let me=String(m.D).match(Od)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),N=!Wr.test(me?me.toLowerCase():"")}w=N}if(w)Zt(m,"complete"),Zt(m,"success");else{m.o=6;try{var q=Rr(m)>2?m.g.statusText:""}catch{q=""}m.l=q+" ["+m.ca()+"]",Rc(m)}}finally{bs(m)}}}}function bs(m,x){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const w=m.g;m.g=null,x||Zt(m,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Rr(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Rr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),Jm(x)}};function on(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function xs(m){const x={};m=(m.g&&Rr(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<m.length;N++){if(k(m[N]))continue;var w=Dd(m[N]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Y=x[q]||[];x[q]=Y,Y.push(w)}Ie(x,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(m,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[m]||x}function ci(m){this.za=0,this.i=[],this.j=new Tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=es("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=es("baseRetryDelayMs",5e3,m),this.Za=es("retryDelaySeedMs",1e4,m),this.Ta=es("forwardChannelMaxRetries",2,m),this.va=es("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new vc(m&&m.concurrentRequestLimit),this.Ba=new oi,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ci.prototype,t.ka=8,t.I=1,t.connect=function(m,x,w,N){Vt(0),this.W=m,this.H=x||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=Hd(this,null,this.W),ts(this)};function Cc(m){if(ko(m),m.I==3){var x=m.V++,w=Ut(m.J);if(nt(w,"SID",m.M),nt(w,"RID",x),nt(w,"TYPE","terminate"),ba(m,w),x=new Sr(m,m.j,x),x.M=2,x.A=fa(Ut(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=x.A,w=!0),w||(x.g=Gd(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Gr(x)}$d(m)}function ui(m){m.g&&(jc(m),m.g.cancel(),m.g=null)}function ko(m){ui(m),m.v&&(c.clearTimeout(m.v),m.v=null),Po(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function ts(m){if(!bc(m.h)&&!m.m){m.m=!0;var x=m.Ea;le||S(),fe||(le(),fe=!0),I.add(x,m),m.D=0}}function Oo(m,x){return Zr(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=x.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=qr(g(m.Ea,m,x),qd(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const q=new Sr(this,this.j,m);let Y=this.o;if(this.U&&(Y?(Y=R(Y),ie(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(x+=N,x>4096){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=Ld(this,q,x),w=Ut(this.J),nt(w,"RID",m),nt(w,"CVER",22),this.G&&nt(w,"X-HTTP-Session-Id",this.G),ba(this,w),Y&&(this.R?x="headers="+vs(rr(Y))+"&"+x:this.u&&ga(w,this.u,Y)),xc(this.h,q),this.Ra&&nt(w,"TYPE","init"),this.S?(nt(w,"$req",x),nt(w,"SID","null"),q.U=!0,Hr(q,w,null)):Hr(q,w,x),this.I=2}}else this.I==3&&(m?Dc(this,m):this.i.length==0||bc(this.h)||Dc(this))};function Dc(m,x){var w;x?w=x.l:w=m.V++;const N=Ut(m.J);nt(N,"SID",m.M),nt(N,"RID",w),nt(N,"AID",m.K),ba(m,N),m.u&&m.o&&ga(N,m.u,m.o),w=new Sr(m,m.j,w,m.D+1),m.u===null&&(w.J=m.o),x&&(m.i=x.G.concat(m.i)),x=Ld(m,w,1e3),w.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),xc(m.h,w),Hr(w,N,x)}function ba(m,x){m.H&&ge(m.H,function(w,N){nt(x,N,w)}),m.l&&ge({},function(w,N){nt(x,N,w)})}function Ld(m,x,w){w=Math.min(m.i.length,w);const N=m.l?g(m.l.Ka,m.l,m):null;e:{var q=m.i;let Pe=-1;for(;;){const jt=["count="+w];Pe==-1?w>0?(Pe=q[0].g,jt.push("ofs="+Pe)):Pe=0:jt.push("ofs="+Pe);let We=!0;for(let gt=0;gt<w;gt++){var Y=q[gt].g;const sr=q[gt].map;if(Y-=Pe,Y<0)Pe=Math.max(0,q[gt].g-100),We=!1;else try{Y="req"+Y+"_"||"";try{var me=sr instanceof Map?sr:Object.entries(sr);for(const[rs,Cr]of me){let Dr=Cr;d(Cr)&&(Dr=ni(Cr)),jt.push(Y+rs+"="+encodeURIComponent(Dr))}}catch(rs){throw jt.push(Y+"type="+encodeURIComponent("_badmap")),rs}}catch{N&&N(sr)}}if(We){me=jt.join("&");break e}}me=void 0}return m=m.i.splice(0,w),x.G=m,me}function Ud(m){if(!m.g&&!m.v){m.Y=1;var x=m.Da;le||S(),fe||(le(),fe=!0),I.add(x,m),m.A=0}}function xa(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=qr(g(m.Da,m),qd(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Fd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=qr(g(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),ui(this),Fd(this))};function jc(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function Fd(m){m.g=new Sr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var x=Ut(m.na);nt(x,"RID","rpc"),nt(x,"SID",m.M),nt(x,"AID",m.K),nt(x,"CI",m.F?"0":"1"),!m.F&&m.ia&&nt(x,"TO",m.ia),nt(x,"TYPE","xmlhttp"),ba(m,x),m.u&&m.o&&ga(x,m.u,m.o),m.O&&(m.g.H=m.O);var w=m.g;m=m.ba,w.M=1,w.A=fa(Ut(x)),w.u=null,w.R=!0,Ao(w,m)}t.Va=function(){this.C!=null&&(this.C=null,ui(this),xa(this),Vt(19))};function Po(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Bd(m,x){var w=null;if(m.g==x){Po(m),jc(m),m.g=null;var N=2}else if(Yr(m.h,x))w=x.G,_c(m.h,x),N=1;else return;if(m.I!=0){if(x.o)if(N==1){w=x.u?x.u.length:0,x=Date.now()-x.F;var q=m.D;N=So(),Zt(N,new Br(N,w)),ts(m)}else Ud(m);else if(q=x.m,q==3||q==0&&x.X>0||!(N==1&&Oo(m,x)||N==2&&xa(m)))switch(w&&w.length>0&&(x=m.h,x.i=x.i.concat(w)),q){case 1:ns(m,5);break;case 4:ns(m,10);break;case 3:ns(m,6);break;default:ns(m,2)}}}function qd(m,x){let w=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(w*=2),w*x}function ns(m,x){if(m.j.info("Error code "+x),x==2){var w=g(m.bb,m),N=m.Ua;const q=!N;N=new Fn(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||nn(N,"https"),fa(N),q?Nr(N.toString(),w):Nc(N.toString(),w)}else Vt(2);m.I=0,m.l&&m.l.pa(x),$d(m),ko(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function $d(m){if(m.I=0,m.ja=[],m.l){const x=wc(m.h);(x.length!=0||m.i.length!=0)&&(j(m.ja,x),j(m.ja,m.i),m.h.i.length=0,A(m.i),m.i.length=0),m.l.oa()}}function Hd(m,x,w){var N=w instanceof Fn?Ut(w):new Fn(w);if(N.g!="")x&&(N.g=x+"."+N.g),ri(N,N.u);else{var q=c.location;N=q.protocol,x=x?x+"."+q.hostname:q.hostname,q=+q.port;const Y=new Fn(null);N&&nn(Y,N),x&&(Y.g=x),q&&ri(Y,q),w&&(Y.h=w),N=Y}return w=m.G,x=m.wa,w&&x&&nt(N,w,x),nt(N,"VER",m.ka),ba(m,N),N}function Gd(m,x,w){if(x&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Aa&&!m.ma?new ct(new Jr({ab:w})):new ct(m.ma),x.Fa(m.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kd(){}t=Kd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function di(){}di.prototype.g=function(m,x){return new _n(m,x)};function _n(m,x){Mt.call(this),this.g=new ci(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(m?m["X-WebChannel-Client-Profile"]=x.sa:m={"X-WebChannel-Client-Profile":x.sa}),this.g.U=m,(m=x&&x.Qb)&&!k(m)&&(this.g.u=m),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!k(x)&&(this.g.G=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new _s(this)}b(_n,Mt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Cc(this.g)},_n.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var w={};w.__data__=m,m=w}else this.v&&(w={},w.__data__=ni(m),m=w);x.i.push(new Lt(x.Ya++,m)),x.I==3&&ts(x)},_n.prototype.N=function(){this.g.l=null,delete this.j,Cc(this.g),delete this.g,_n.Z.N.call(this)};function Qd(m){an.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const w in x){m=w;break e}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}b(Qd,an);function Zd(){er.call(this),this.status=1}b(Zd,er);function _s(m){this.g=m}b(_s,Kd),_s.prototype.ra=function(){Zt(this.g,"a")},_s.prototype.qa=function(m){Zt(this.g,new Qd(m))},_s.prototype.pa=function(m){Zt(this.g,new Zd)},_s.prototype.oa=function(){Zt(this.g,"b")},di.prototype.createWebChannel=di.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,BS=function(){return new di},FS=function(){return So()},US=Dt,Ly={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},da.NO_ERROR=0,da.TIMEOUT=8,da.HTTP_ERROR=6,yf=da,gc.COMPLETE="complete",LS=gc,Nd.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",Mt.prototype.listen=Mt.prototype.J,Su=Nd,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,zS=ct}).apply(typeof rf<"u"?rf:typeof self<"u"?self:typeof window<"u"?window:{});const fE="@firebase/firestore",mE="4.9.3";class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let rc="12.7.0";const ao=new Cv("@firebase/firestore");function bl(){return ao.logLevel}function ce(t,...e){if(ao.logLevel<=$e.DEBUG){const n=e.map(kv);ao.debug(`Firestore (${rc}): ${t}`,...n)}}function Sn(t,...e){if(ao.logLevel<=$e.ERROR){const n=e.map(kv);ao.error(`Firestore (${rc}): ${t}`,...n)}}function oo(t,...e){if(ao.logLevel<=$e.WARN){const n=e.map(kv);ao.warn(`Firestore (${rc}): ${t}`,...n)}}function kv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qS(t,r,n)}function qS(t,e,n){let r=`FIRESTORE (${rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Sn(r),new Error(r)}function we(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||qS(e,a,r)}function je(t,e){return t}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class z4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class L4{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ds,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},d=h=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ds)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new $S(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class U4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new U4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function q4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Ov{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=q4(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function Uy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return hy(a)===hy(o)?De(a,o):hy(a)?1:-1}return De(t.length,e.length)}const $4=55296,H4=57343;function hy(t){const e=t.charCodeAt(0);return e>=$4&&e<=H4}function Pl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}function HS(t){return t+"\0"}const gE="__name__";class ls{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ls?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=ls.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return De(e.length,n.length)}static compareSegments(e,n){const r=ls.isNumericId(e),a=ls.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ls.extractNumericId(e).compare(ls.extractNumericId(n)):Uy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class Je extends ls{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const G4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends ls{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return G4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gE}static keyField(){return new wt([gE])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(o(),a++)}if(o(),c)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Je.fromString(e))}static fromName(e){return new pe(Je.fromString(e).popFirst(5))}static empty(){return new pe(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Je(e.slice()))}}function GS(t,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function K4(t,e,n,r){if(e===!0&&r===!0)throw new he(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yE(t){if(!pe.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vE(t){if(pe.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function KS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Em(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Em(t);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Q4(t,e){if(e<=0)throw new he(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function dd(t,e){if(!KS(t))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}const bE=-62135596800,xE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xE);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bE)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xE}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dd(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Gt("string",it._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new it(0,0))}static max(){return new Se(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gu=-1;class Bf{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function Fy(t){return t.fields.find((e=>e.kind===2))}function Ua(t){return t.fields.filter((e=>e.kind!==2))}Bf.UNKNOWN_ID=-1;class vf{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ku{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ku(0,Jn.min())}}function Z4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Jn(a,pe.empty(),e)}function QS(t){return new Jn(t.readTime,t.key,Gu)}class Jn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jn(Se.min(),pe.empty(),Gu)}static max(){return new Jn(Se.max(),pe.empty(),Gu)}}function Pv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}const ZS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xo(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==ZS)throw t;ce("LocalStore","Unexpectedly lost primary lease")}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):B.reject(n)}static resolve(e){return new B(((n,r)=>{n(e)}))}static reject(e){return new B(((n,r)=>{r(e)}))}static waitFor(e){return new B(((n,r)=>{let a=0,o=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++o,c&&o===a&&n()}),(h=>r(h)))})),c=!0,o===a&&n()}))}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next((a=>a?B.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new B(((r,a)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const g=h;n(e[g]).next((v=>{c[g]=v,++d,d===o&&r(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new B(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}const Zn="SimpleDb";class Tm{static open(e,n,r,a){try{return new Tm(n,e.transaction(a,r))}catch(o){throw new Ou(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ds,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Ou(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=Mv(r.target.error);this.S.reject(new Ou(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ce(Zn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new X4(n)}}class Zi{static delete(e){return ce(Zn,"Removing database:",e),Ba(_S().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!CS())return!1;if(Zi.F())return!0;const e=Wt(),n=Zi.M(e),r=0<n&&n<10,a=XS(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Zi.M(Wt())===12.2&&Sn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ce(Zn,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const c=o.target.result;n(c)},a.onblocked=()=>{r(new Ou(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const c=o.target.error;c.name==="VersionError"?r(new he(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new he(ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Ou(e,c))},a.onupgradeneeded=o=>{ce(Zn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,a.transaction,o.oldVersion,this.version).next((()=>{ce(Zn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,a){const o=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=Tm.open(this.db,e,o?"readonly":"readwrite",r),h=a(d).next((g=>(d.C(),g))).catch((g=>(d.abort(g),B.reject(g)))).toPromise();return h.catch((()=>{})),await d.D,h}catch(d){const h=d,g=h.name!=="FirebaseError"&&c<3;if(ce(Zn,"Transaction failed with error:",h.message,"Retrying:",g),this.close(),!g)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function XS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Y4{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ba(this.U.delete())}}class Ou extends he{constructor(e,n){super(ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function na(t){return t.name==="IndexedDbTransactionError"}class X4{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ce(Zn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ce(Zn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ba(r)}add(e){return ce(Zn,"ADD",this.store.name,e,e),Ba(this.store.add(e))}get(e){return Ba(this.store.get(e)).next((n=>(n===void 0&&(n=null),ce(Zn,"GET",this.store.name,e,n),n)))}delete(e){return ce(Zn,"DELETE",this.store.name,e),Ba(this.store.delete(e))}count(){return ce(Zn,"COUNT",this.store.name),Ba(this.store.count())}J(e,n){const r=this.options(e,n),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(r.range);return new B(((c,d)=>{o.onerror=h=>{d(h.target.error)},o.onsuccess=h=>{c(h.target.result)}}))}{const o=this.cursor(r),c=[];return this.H(o,((d,h)=>{c.push(h)})).next((()=>c))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B(((a,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}Z(e,n){ce(Zn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const a=this.cursor(r);return this.H(a,((o,c,d)=>d.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.H(a,n)}te(e){const n=this.cursor({});return new B(((r,a)=>{n.onerror=o=>{const c=Mv(o.target.error);a(c)},n.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():r()})):r()}}))}H(e,n){const r=[];return new B(((a,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const h=new Y4(d),g=n(d.primaryKey,d.value,h);if(g instanceof B){const v=g.catch((b=>(h.done(),B.reject(b))));r.push(v)}h.isDone?a():h.G===null?d.continue():d.continue(h.G)}})).next((()=>B.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ba(t){return new B(((e,n)=>{t.onsuccess=r=>{const a=r.target.result;e(a)},t.onerror=r=>{const a=Mv(r.target.error);n(a)}}))}let _E=!1;function Mv(t){const e=Zi.M(Wt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new he("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _E||(_E=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Pu="IndexBackfiller";class J4{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ce(Pu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ce(Pu,`Documents written: ${n}`)}catch(n){na(n)?ce(Pu,"Ignoring IndexedDB error during index backfill: ",n):await xo(n)}await this.re(6e4)}))}}class W4{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let a=n,o=!0;return B.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return ce(Pu,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,r.add(c)}));o=!1})))).next((()=>n-a))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,o))).next((d=>(ce(Pu,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,n,d)))).next((()=>c.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((a,o)=>{const c=QS(o);Pv(c,r)>0&&(r=c)})),new Jn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class gr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gr.ce=-1;const Za=-1;function Sm(t){return t==null}function Qu(t){return t===0&&1/t==-1/0}function eP(t){return typeof t=="number"&&Number.isInteger(t)&&!Qu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const qf="";function vn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=wE(e)),e=tP(t.get(n),e);return wE(e)}function tP(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case qf:n+="";break;default:n+=o}}return n}function wE(t){return t+qf+""}function cs(t){const e=t.length;if(we(e>=2,64408,{path:t}),e===2)return we(t.charAt(0)===qf&&t.charAt(1)==="",56145,{path:t}),Je.emptyPath();const n=e-2,r=[];let a="";for(let o=0;o<e;){const c=t.indexOf(qf,o);switch((c<0||c>n)&&xe(50515,{path:t}),t.charAt(c+1)){case"":const d=t.substring(o,c);let h;a.length===0?h=d:(a+=d,h=a,a=""),r.push(h);break;case"":a+=t.substring(o,c),a+="\0";break;case"":a+=t.substring(o,c+1);break;default:xe(61167,{path:t})}o=c+2}return new Je(r)}const Fa="remoteDocuments",hd="owner",fl="owner",Zu="mutationQueues",nP="userId",Pr="mutations",EE="batchId",Ka="userMutationsIndex",TE=["userId","batchId"];function bf(t,e){return[t,vn(e)]}function JS(t,e,n){return[t,vn(e),n]}const rP={},Ml="documentMutations",$f="remoteDocumentsV14",sP=["prefixPath","collectionGroup","readTime","documentId"],xf="documentKeyIndex",iP=["prefixPath","collectionGroup","documentId"],WS="collectionGroupIndex",aP=["collectionGroup","readTime","prefixPath","documentId"],Yu="remoteDocumentGlobal",By="remoteDocumentGlobalKey",Vl="targets",eA="queryTargetsIndex",oP=["canonicalId","targetId"],zl="targetDocuments",lP=["targetId","path"],Vv="documentTargetsIndex",cP=["path","targetId"],Hf="targetGlobalKey",Ya="targetGlobal",Xu="collectionParents",uP=["collectionId","parent"],Ll="clientMetadata",dP="clientId",Am="bundles",hP="bundleId",Nm="namedQueries",fP="name",zv="indexConfiguration",mP="indexId",qy="collectionGroupIndex",pP="collectionGroup",Mu="indexState",gP=["indexId","uid"],tA="sequenceNumberIndex",yP=["uid","sequenceNumber"],Vu="indexEntries",vP=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nA="documentKeyIndex",bP=["indexId","uid","orderedDocumentKey"],Im="documentOverlays",xP=["userId","collectionPath","documentId"],$y="collectionPathOverlayIndex",_P=["userId","collectionPath","largestBatchId"],rA="collectionGroupOverlayIndex",wP=["userId","collectionGroup","largestBatchId"],Lv="globals",EP="name",sA=[Zu,Pr,Ml,Fa,Vl,hd,Ya,zl,Ll,Yu,Xu,Am,Nm],TP=[...sA,Im],iA=[Zu,Pr,Ml,$f,Vl,hd,Ya,zl,Ll,Yu,Xu,Am,Nm,Im],aA=iA,Uv=[...aA,zv,Mu,Vu],SP=Uv,oA=[...Uv,Lv],AP=oA;class Hy extends YS{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function en(t,e){const n=je(t);return Zi.O(n.le,e)}function SE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class xt{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sf(this.root,e,this.comparator,!0)}}class sf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??fn.RED,this.left=a??fn.EMPTY,this.right=o??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new fn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AE(this.data.getIterator())}getIteratorFrom(e){return new AE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class AE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ml(t){return t.hasNext()?t.getNext():void 0}class yr{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new yr([])}unionWith(e){let n=new lt(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class cA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cA("Invalid base64 string: "+o):o}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const NP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(t){if(we(!!t,39018),typeof t=="string"){let e=0;const n=NP.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ks(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}const uA="server_timestamp",dA="__type__",hA="__previous_value__",fA="__local_write_time__";function Rm(t){return(t?.mapValue?.fields||{})[dA]?.stringValue===uA}function Cm(t){const e=t.mapValue.fields[hA];return Rm(e)?Cm(e):e}function Ju(t){const e=Gs(t.mapValue.fields[fA].timestampValue);return new it(e.seconds,e.nanos)}class IP{constructor(e,n,r,a,o,c,d,h,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=g,this.isUsingEmulator=v}}const Gf="(default)";class lo{constructor(e,n){this.projectId=e,this.database=n||Gf}static empty(){return new lo("","")}get isDefaultDatabase(){return this.database===Gf}isEqual(e){return e instanceof lo&&e.projectId===this.projectId&&e.database===this.database}}const Fv="__type__",mA="__max__",qi={mapValue:{fields:{__type__:{stringValue:mA}}}},Bv="__vector__",Ul="value",_f={nullValue:"NULL_VALUE"};function Xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rm(t)?4:pA(t)?9007199254740991:Dm(t)?10:11:xe(28295,{value:t})}function ps(t,e){if(t===e)return!0;const n=Xi(t);if(n!==Xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ju(t).isEqual(Ju(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Gs(a.timestampValue),d=Gs(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Ks(a.bytesValue).isEqual(Ks(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return vt(a.geoPointValue.latitude)===vt(o.geoPointValue.latitude)&&vt(a.geoPointValue.longitude)===vt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return vt(a.integerValue)===vt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=vt(a.doubleValue),d=vt(o.doubleValue);return c===d?Qu(c)===Qu(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Pl(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(SE(c)!==SE(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!ps(c[h],d[h])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function Wu(t,e){return(t.values||[]).find((n=>ps(n,e)))!==void 0}function Ji(t,e){if(t===e)return 0;const n=Xi(t),r=Xi(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=vt(o.integerValue||o.doubleValue),h=vt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return NE(t.timestampValue,e.timestampValue);case 4:return NE(Ju(t),Ju(e));case 5:return Uy(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=Ks(o),h=Ks(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),h=c.split("/");for(let g=0;g<d.length&&g<h.length;g++){const v=De(d[g],h[g]);if(v!==0)return v}return De(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=De(vt(o.latitude),vt(c.latitude));return d!==0?d:De(vt(o.longitude),vt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return IE(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},h=c.fields||{},g=d[Ul]?.arrayValue,v=h[Ul]?.arrayValue,b=De(g?.values?.length||0,v?.values?.length||0);return b!==0?b:IE(g,v)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===qi.mapValue&&c===qi.mapValue)return 0;if(o===qi.mapValue)return 1;if(c===qi.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),g=c.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let b=0;b<h.length&&b<v.length;++b){const E=Uy(h[b],v[b]);if(E!==0)return E;const A=Ji(d[h[b]],g[v[b]]);if(A!==0)return A}return De(h.length,v.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function NE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=Gs(t),r=Gs(e),a=De(n.seconds,r.seconds);return a!==0?a:De(n.nanos,r.nanos)}function IE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Ji(n[a],r[a]);if(o)return o}return De(n.length,r.length)}function Fl(t){return Gy(t)}function Gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Gs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ks(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Gy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Gy(n.fields[c])}`;return a+"}"})(t.mapValue):xe(61005,{value:t})}function wf(t){switch(Xi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cm(t);return e?16+wf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ks(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+wf(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return _o(r.fields,((o,c)=>{a+=o.length+wf(c)})),a})(t.mapValue);default:throw xe(13486,{value:t})}}function co(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ky(t){return!!t&&"integerValue"in t}function ed(t){return!!t&&"arrayValue"in t}function RE(t){return!!t&&"nullValue"in t}function CE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ef(t){return!!t&&"mapValue"in t}function Dm(t){return(t?.mapValue?.fields||{})[Fv]?.stringValue===Bv}function zu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=zu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return{...t}}function pA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mA}const gA={mapValue:{fields:{[Fv]:{stringValue:Bv},[Ul]:{arrayValue:{}}}}};function RP(t){return"nullValue"in t?_f:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?co(lo.empty(),pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Dm(t)?gA:{mapValue:{}}:xe(35942,{value:t})}function CP(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?co(lo.empty(),pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?gA:"mapValue"in t?Dm(t)?{mapValue:{}}:qi:xe(61959,{value:t})}function DE(t,e){const n=Ji(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function jE(t,e){const n=Ji(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=wt.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=zu(c):a.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Ef(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){_o(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new zn(zu(this.value))}}function yA(t){const e=[];return _o(t.fields,((n,r)=>{const a=new wt([n]);if(Ef(r)){const o=yA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new yr(e)}class It{constructor(e,n,r,a,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new It(e,0,Se.min(),Se.min(),Se.min(),zn.empty(),0)}static newFoundDocument(e,n,r,a){return new It(e,1,n,Se.min(),r,a,0)}static newNoDocument(e,n){return new It(e,2,n,Se.min(),Se.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,Se.min(),Se.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wi{constructor(e,n){this.position=e,this.inclusive=n}}function kE(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(c.referenceValue),n.key):r=Ji(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function OE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ps(t.position[n],e.position[n]))return!1;return!0}class Kf{constructor(e,n="asc"){this.field=e,this.dir=n}}function DP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vA{}class He extends vA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jP(e,n,r):n==="array-contains"?new PP(e,r):n==="in"?new TA(e,r):n==="not-in"?new MP(e,r):n==="array-contains-any"?new VP(e,r):new He(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kP(e,r):new OP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ji(n,this.value)):n!==null&&Xi(this.value)===Xi(n)&&this.matchesComparison(Ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class at extends vA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new at(e,n)}matches(e){return Bl(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bl(t){return t.op==="and"}function Qy(t){return t.op==="or"}function qv(t){return bA(t)&&Bl(t)}function bA(t){for(const e of t.filters)if(e instanceof at)return!1;return!0}function Zy(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(qv(t))return t.filters.map((e=>Zy(e))).join(",");{const e=t.filters.map((n=>Zy(n))).join(",");return`${t.op}(${e})`}}function xA(t,e){return t instanceof He?(function(r,a){return a instanceof He&&r.op===a.op&&r.field.isEqual(a.field)&&ps(r.value,a.value)})(t,e):t instanceof at?(function(r,a){return a instanceof at&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,d)=>o&&xA(c,a.filters[d])),!0):!1})(t,e):void xe(19439)}function _A(t,e){const n=t.filters.concat(e);return at.create(n,t.op)}function wA(t){return t instanceof He?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`})(t):t instanceof at?(function(n){return n.op.toString()+" {"+n.getFilters().map(wA).join(" ,")+"}"})(t):"Filter"}class jP extends He{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class kP extends He{constructor(e,n){super(e,"in",n),this.keys=EA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class OP extends He{constructor(e,n){super(e,"not-in",n),this.keys=EA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function EA(t,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class PP extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ed(n)&&Wu(n.arrayValue,this.value)}}class TA extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wu(this.value.arrayValue,n)}}class MP extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wu(this.value.arrayValue,n)}}class VP extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ed(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Wu(this.value.arrayValue,r)))}}class zP{constructor(e,n=null,r=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function Yy(t,e=null,n=[],r=[],a=null,o=null,c=null){return new zP(t,e,n,r,a,o,c)}function uo(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Zy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Sm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Fl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Fl(r))).join(",")),e.Te=n}return e.Te}function fd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OE(t.startAt,e.startAt)&&OE(t.endAt,e.endAt)}function Qf(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Zf(t,e){return t.filters.filter((n=>n instanceof He&&n.field.isEqual(e)))}function PE(t,e,n){let r=_f,a=!0;for(const o of Zf(t,e)){let c=_f,d=!0;switch(o.op){case"<":case"<=":c=RP(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,d=!1;break;case"!=":case"not-in":c=_f}DE({value:r,inclusive:a},{value:c,inclusive:d})<0&&(r=c,a=d)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];DE({value:r,inclusive:a},{value:c,inclusive:n.inclusive})<0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}function ME(t,e,n){let r=qi,a=!0;for(const o of Zf(t,e)){let c=qi,d=!0;switch(o.op){case">=":case">":c=CP(o.value),d=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,d=!1;break;case"!=":case"not-in":c=qi}jE({value:r,inclusive:a},{value:c,inclusive:d})>0&&(r=c,a=d)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];jE({value:r,inclusive:a},{value:c,inclusive:n.inclusive})>0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}class sc{constructor(e,n=null,r=[],a=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LP(t,e,n,r,a,o,c,d){return new sc(t,e,n,r,a,o,c,d)}function md(t){return new sc(t)}function VE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $v(t){return t.collectionGroup!==null}function Al(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new lt(wt.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Kf(o,r))})),n.has(wt.keyField().canonicalString())||e.Ie.push(new Kf(wt.keyField(),r))}return e.Ie}function vr(t){const e=je(t);return e.Ee||(e.Ee=UP(e,Al(t))),e.Ee}function UP(t,e){if(t.limitType==="F")return Yy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Kf(a.field,o)}));const n=t.endAt?new Wi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wi(t.startAt.position,t.startAt.inclusive):null;return Yy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xy(t,e){const n=t.filters.concat([e]);return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yf(t,e,n){return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jm(t,e){return fd(vr(t),vr(e))&&t.limitType===e.limitType}function SA(t){return`${uo(vr(t))}|lt:${t.limitType}`}function xl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>wA(a))).join(", ")}]`),Sm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Fl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Fl(a))).join(",")),`Target(${r})`})(vr(t))}; limitType=${t.limitType})`}function pd(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of Al(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,h){const g=kE(c,d,h);return c.inclusive?g<=0:g<0})(r.startAt,Al(r),a)||r.endAt&&!(function(c,d,h){const g=kE(c,d,h);return c.inclusive?g>=0:g>0})(r.endAt,Al(r),a))})(t,e)}function FP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AA(t){return(e,n)=>{let r=!1;for(const a of Al(t)){const o=BP(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function BP(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):(function(o,c,d){const h=c.data.field(o),g=d.data.field(o);return h!==null&&g!==null?Ji(h,g):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return lA(this.inner)}size(){return this.innerSize}}const qP=new xt(pe.comparator);function Yn(){return qP}const NA=new xt(pe.comparator);function Au(...t){let e=NA;for(const n of t)e=e.insert(n.key,n);return e}function IA(t){let e=NA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function us(){return Lu()}function RA(){return Lu()}function Lu(){return new Js((t=>t.toString()),((t,e)=>t.isEqual(e)))}const $P=new xt(pe.comparator),HP=new lt(pe.comparator);function Le(...t){let e=HP;for(const n of t)e=e.add(n);return e}const GP=new lt(De);function KP(){return GP}function Hv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(e)?"-0":e}}function CA(t){return{integerValue:""+t}}function QP(t,e){return eP(e)?CA(e):Hv(t,e)}class km{constructor(){this._=void 0}}function ZP(t,e,n){return t instanceof ql?(function(a,o){const c={fields:{[dA]:{stringValue:uA},[fA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Rm(o)&&(o=Cm(o)),o&&(c.fields[hA]=o),{mapValue:c}})(n,e):t instanceof $l?jA(t,e):t instanceof Hl?kA(t,e):(function(a,o){const c=DA(a,o),d=zE(c)+zE(a.Ae);return Ky(c)&&Ky(a.Ae)?CA(d):Hv(a.serializer,d)})(t,e)}function YP(t,e,n){return t instanceof $l?jA(t,e):t instanceof Hl?kA(t,e):n}function DA(t,e){return t instanceof td?(function(r){return Ky(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class ql extends km{}class $l extends km{constructor(e){super(),this.elements=e}}function jA(t,e){const n=OA(e);for(const r of t.elements)n.some((a=>ps(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Hl extends km{constructor(e){super(),this.elements=e}}function kA(t,e){let n=OA(e);for(const r of t.elements)n=n.filter((a=>!ps(a,r)));return{arrayValue:{values:n}}}class td extends km{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zE(t){return vt(t.integerValue||t.doubleValue)}function OA(t){return ed(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class PA{constructor(e,n){this.field=e,this.transform=n}}function XP(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof $l&&a instanceof $l||r instanceof Hl&&a instanceof Hl?Pl(r.elements,a.elements,ps):r instanceof td&&a instanceof td?ps(r.Ae,a.Ae):r instanceof ql&&a instanceof ql})(t.transform,e.transform)}class JP{constructor(e,n){this.version=e,this.transformResults=n}}class In{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Om{}function MA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pm(t.key,In.none()):new ic(t.key,t.data,In.none());{const n=t.data,r=zn.empty();let a=new lt(wt.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new ra(t.key,r,new yr(a.toArray()),In.none())}}function WP(t,e,n){t instanceof ic?(function(a,o,c){const d=a.value.clone(),h=UE(a.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ra?(function(a,o,c){if(!Tf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=UE(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(VA(a)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Uu(t,e,n,r){return t instanceof ic?(function(o,c,d,h){if(!Tf(o.precondition,c))return d;const g=o.value.clone(),v=FE(o.fieldTransforms,h,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,r):t instanceof ra?(function(o,c,d,h){if(!Tf(o.precondition,c))return d;const g=FE(o.fieldTransforms,h,c),v=c.data;return v.setAll(VA(o)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(o,c,d){return Tf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function eM(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=DA(r.transform,a||null);o!=null&&(n===null&&(n=zn.empty()),n.set(r.field,o))}return n||null}function LE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Pl(r,a,((o,c)=>XP(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ic extends Om{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ra extends Om{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function UE(t,e,n){const r=new Map;we(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,d=e.data.field(o.field);r.set(o.field,YP(c,d,n[a]))}return r}function FE(t,e,n){const r=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);r.set(a.field,ZP(o,c,e))}return r}class Pm extends Om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zA extends Om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gv{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&WP(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RA();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(a.key)?null:d;const h=MA(c,d);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Pl(this.mutations,e.mutations,((n,r)=>LE(n,r)))&&Pl(this.baseMutations,e.baseMutations,((n,r)=>LE(n,r)))}}class Kv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return $P})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new Kv(e,n,r,a)}}class Qv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ht,Qe;function nM(t){switch(t){case ee.OK:return xe(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function LA(t){if(t===void 0)return Sn("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Ht.OK:return ee.OK;case Ht.CANCELLED:return ee.CANCELLED;case Ht.UNKNOWN:return ee.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ee.INTERNAL;case Ht.UNAVAILABLE:return ee.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ee.NOT_FOUND;case Ht.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ht.ABORTED:return ee.ABORTED;case Ht.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ht.DATA_LOSS:return ee.DATA_LOSS;default:return xe(39323,{code:t})}}(Qe=Ht||(Ht={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function rM(){return new TextEncoder}const sM=new Qi([4294967295,4294967295],0);function BE(t){const e=rM().encode(t),n=new VS;return n.update(e),new Uint8Array(n.digest())}function qE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qi([n,r],0),new Qi([a,o],0)]}class Zv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nu(`Invalid padding: ${n}`);if(r<0)throw new Nu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qi.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Qi.fromNumber(r)));return a.compare(sM)===1&&(a=new Qi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BE(e),[r,a]=qE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Zv(o,a,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=BE(e),[r,a]=qE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mm{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mm(Se.min(),a,new xt(De),Yn(),Le())}}class gd{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gd(r,n,Le(),Le(),Le())}}class Sf{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class UA{constructor(e,n){this.targetId=e,this.Ce=n}}class FA{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class $E{constructor(){this.ve=0,this.Fe=HE(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:xe(38017,{changeType:o})}})),new gd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=HE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yn(),this.Je=af(),this.He=af(),this.Ye=new xt(De)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(Qf(o))if(r===0){const c=new pe(o.path);this.et(n,c,It.newNoDocument(c,Se.min()))}else we(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),h=d?this.ct(d,e,c):1;if(h!==0){this.it(n);const g=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let c,d;try{c=Ks(r).toUint8Array()}catch(h){if(h instanceof cA)return oo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Zv(c,a,o)}catch(h){return oo(h instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&Qf(d.target)){const h=new pe(d.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,It.newNoDocument(h,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let r=Le();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((h=>{const g=this.ot(h);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Mm(e,n,this.Ye,this.je,r);return this.je=Yn(),this.Je=af(),this.He=af(),this.Ye=new xt(De),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $E,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new lt(De),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new lt(De),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $E),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function af(){return new xt(pe.comparator)}function HE(){return new xt(pe.comparator)}const aM={asc:"ASCENDING",desc:"DESCENDING"},oM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lM={and:"AND",or:"OR"};class cM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jy(t,e){return t.useProto3Json||Sm(e)?e:{value:e}}function Gl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uM(t,e){return Gl(t,e.toTimestamp())}function Rn(t){return we(!!t,49232),Se.fromTimestamp((function(n){const r=Gs(n);return new it(r.seconds,r.nanos)})(t))}function Yv(t,e){return Wy(t,e).canonicalString()}function Wy(t,e){const n=(function(a){return new Je(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function qA(t){const e=Je.fromString(t);return we(JA(e),10190,{key:e.toString()}),e}function Xf(t,e){return Yv(t.databaseId,e.path)}function Xa(t,e){const n=qA(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(GA(n))}function $A(t,e){return Yv(t.databaseId,e)}function HA(t){const e=qA(t);return e.length===4?Je.emptyPath():GA(e)}function ev(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GA(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function GE(t,e,n){return{name:Xf(t,e),fields:n.value.mapValue.fields}}function dM(t,e,n){const r=Xa(t,e.name),a=Rn(e.updateTime),o=e.createTime?Rn(e.createTime):Se.min(),c=new zn({mapValue:{fields:e.fields}}),d=It.newFoundDocument(r,a,o,c);return n&&d.setHasCommittedMutations(),n?d.setHasCommittedMutations():d}function hM(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(g,v){return g.useProto3Json?(we(v===void 0||typeof v=="string",58123),Kt.fromBase64String(v||"")):(we(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Kt.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?ee.UNKNOWN:LA(g.code);return new he(v,g.message||"")})(c);n=new FA(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Xa(t,r.document.name),o=Rn(r.document.updateTime),c=r.document.createTime?Rn(r.document.createTime):Se.min(),d=new zn({mapValue:{fields:r.document.fields}}),h=It.newFoundDocument(a,o,c,d),g=r.targetIds||[],v=r.removedTargetIds||[];n=new Sf(g,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Xa(t,r.document),o=r.readTime?Rn(r.readTime):Se.min(),c=It.newNoDocument(a,o),d=r.removedTargetIds||[];n=new Sf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Xa(t,r.document),o=r.removedTargetIds||[];n=new Sf([],o,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new tM(a,o),d=r.targetId;n=new UA(d,c)}}return n}function Jf(t,e){let n;if(e instanceof ic)n={update:GE(t,e.key,e.value)};else if(e instanceof Pm)n={delete:Xf(t,e.key)};else if(e instanceof ra)n={update:GE(t,e.key,e.data),updateMask:vM(e.fieldMask)};else{if(!(e instanceof zA))return xe(16599,{Vt:e.type});n={verify:Xf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const d=c.transform;if(d instanceof ql)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof $l)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Hl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof td)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw xe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:uM(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe(27497)})(t,e.precondition)),n}function tv(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?In.updateTime(Rn(o.updateTime)):o.exists!==void 0?In.exists(o.exists):In.none()})(e.currentDocument):In.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let h=null;if("setToServerValue"in d)we(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),h=new ql;else if("appendMissingElements"in d){const v=d.appendMissingElements.values||[];h=new $l(v)}else if("removeAllFromArray"in d){const v=d.removeAllFromArray.values||[];h=new Hl(v)}else"increment"in d?h=new td(c,d.increment):xe(16584,{proto:d});const g=wt.fromServerFormat(d.fieldPath);return new PA(g,h)})(t,a))):[];if(e.update){e.update.name;const a=Xa(t,e.update.name),o=new zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(h){const g=h.fieldPaths||[];return new yr(g.map((v=>wt.fromServerFormat(v))))})(e.updateMask);return new ra(a,o,c,n,r)}return new ic(a,o,n,r)}if(e.delete){const a=Xa(t,e.delete);return new Pm(a,n)}if(e.verify){const a=Xa(t,e.verify);return new zA(a,n)}return xe(1463,{proto:e})}function fM(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map((n=>(function(a,o){let c=a.updateTime?Rn(a.updateTime):Rn(o);return c.isEqual(Se.min())&&(c=Rn(o)),new JP(c,a.transformResults||[])})(n,e)))):[]}function KA(t,e){return{documents:[$A(t,e.path)]}}function QA(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$A(t,a);const o=(function(g){if(g.length!==0)return XA(at.create(g,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:_l(E.field),direction:pM(E.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Jy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function ZA(t){let e=HA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){we(r===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];n.where&&(o=(function(b){const E=YA(b);return E instanceof at&&qv(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((E=>(function(j){return new Kf(wl(j.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let E;return E=typeof b=="object"?b.value:b,Sm(E)?null:E})(n.limit));let h=null;n.startAt&&(h=(function(b){const E=!!b.before,A=b.values||[];return new Wi(A,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const E=!b.before,A=b.values||[];return new Wi(A,E)})(n.endAt)),LP(e,a,c,o,d,"F",h,g)}function mM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wl(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=wl(n.unaryFilter.field);return He.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wl(n.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wl(n.unaryFilter.field);return He.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return He.create(wl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return at.create(n.compositeFilter.filters.map((r=>YA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function pM(t){return aM[t]}function gM(t){return oM[t]}function yM(t){return lM[t]}function _l(t){return{fieldPath:t.canonicalString()}}function wl(t){return wt.fromServerFormat(t.fieldPath)}function XA(t){return t instanceof He?(function(n){if(n.op==="=="){if(CE(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NAN"}};if(RE(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CE(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NAN"}};if(RE(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(n.field),op:gM(n.op),value:n.value}}})(t):t instanceof at?(function(n){const r=n.getFilters().map((a=>XA(a)));return r.length===1?r[0]:{compositeFilter:{op:yM(n.op),filters:r}}})(t):xe(54877,{filter:t})}function vM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function JA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Us{constructor(e,n,r,a,o=Se.min(),c=Se.min(),d=Kt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WA{constructor(e){this.yt=e}}function bM(t,e){let n;if(e.document)n=dM(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),a=fo(e.noDocument.readTime);n=It.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return xe(56709);{const r=pe.fromSegments(e.unknownDocument.path),a=fo(e.unknownDocument.version);n=It.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime((function(a){const o=new it(a[0],a[1]);return Se.fromTimestamp(o)})(e.readTime)),n}function KE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Wf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,c){return{name:Xf(o,c.key),fields:c.data.value.mapValue.fields,updateTime:Gl(o,c.version.toTimestamp()),createTime:Gl(o,c.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ho(e.version)};else{if(!e.isUnknownDocument())return xe(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:ho(e.version)}}return r}function Wf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ho(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fo(t){const e=new it(t.seconds,t.nanoseconds);return Se.fromTimestamp(e)}function qa(t,e){const n=(e.baseMutations||[]).map((o=>tv(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const d=e.mutations[o+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>tv(t.yt,o))),a=it.fromMillis(e.localWriteTimeMs);return new Gv(e.batchId,a,n,r)}function Iu(t){const e=fo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?fo(t.lastLimboFreeSnapshotVersion):Se.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const c=o.documents.length;return we(c===1,1966,{count:c}),vr(md(HA(o.documents[0])))})(t.query):(function(o){return vr(ZA(o))})(t.query),new Us(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Kt.fromBase64String(t.resumeToken))}function eN(t,e){const n=ho(e.snapshotVersion),r=ho(e.lastLimboFreeSnapshotVersion);let a;a=Qf(e.target)?KA(t.yt,e.target):QA(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:uo(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function tN(t){const e=ZA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yf(e,e.limit,"L"):e}function fy(t,e){return new Qv(e.largestBatchId,tv(t.yt,e.overlayMutation))}function QE(t,e){const n=e.path.lastSegment();return[t,vn(e.path.popLast()),n]}function ZE(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ho(r.readTime),documentKey:vn(r.documentKey.path),largestBatchId:r.largestBatchId}}class xM{getBundleMetadata(e,n){return YE(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:fo(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return YE(e).put((function(a){return{bundleId:a.id,createTime:ho(Rn(a.createTime)),version:a.version}})(n))}getNamedQuery(e,n){return XE(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:tN(o.bundledQuery),readTime:fo(o.readTime)}})(r)}))}saveNamedQuery(e,n){return XE(e).put((function(a){return{name:a.name,readTime:ho(Rn(a.readTime)),bundledQuery:a.bundledQuery}})(n))}}function YE(t){return en(t,Am)}function XE(t){return en(t,Nm)}class Vm{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Vm(e,r)}getOverlay(e,n){return bu(e).get(QE(this.userId,n)).next((r=>r?fy(this.serializer,r):null))}getOverlays(e,n){const r=us();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){const a=[];return r.forEach(((o,c)=>{const d=new Qv(n,c);a.push(this.St(e,d))})),B.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach((c=>a.add(vn(c.getCollectionPath()))));const o=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(bu(e).Z($y,d))})),B.waitFor(o)}getOverlaysForCollection(e,n,r){const a=us(),o=vn(n),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return bu(e).J($y,c).next((d=>{for(const h of d){const g=fy(this.serializer,h);a.set(g.getKey(),g)}return a}))}getOverlaysForCollectionGroup(e,n,r,a){const o=us();let c;const d=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return bu(e).ee({index:rA,range:d},((h,g,v)=>{const b=fy(this.serializer,g);o.size()<a||b.largestBatchId===c?(o.set(b.getKey(),b),c=b.largestBatchId):v.done()})).next((()=>o))}St(e,n){return bu(e).put((function(a,o,c){const[d,h,g]=QE(o,c.mutation.key);return{userId:o,collectionPath:h,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Jf(a.yt,c.mutation)}})(this.serializer,this.userId,n))}}function bu(t){return en(t,Im)}class _M{bt(e){return en(e,Lv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?Kt.fromUint8Array(r):Kt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class $a{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(vt(e.integerValue));else if("doubleValue"in e){const r=vt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Qu(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Gs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ks(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?pA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Dm(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):xe(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const a of Object.keys(r))this.Ot(a,n),this.Ct(r[a],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const a=Ul,o=r[a].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(vt(o)),this.Ot(a,n),this.Ct(r[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const a of r)this.Ct(a,n)}Lt(e,n){this.Ft(n,37),pe.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}$a.Kt=new $a;const pl=255;function wM(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function JE(t){const e=64-(function(r){let a=0;for(let o=0;o<8;++o){const c=wM(255&r[o]);if(a+=c,c!==8)break}return a})(t);return Math.ceil(e/8)}class EM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=n.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=n.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const n=this.en(e),r=JE(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}nn(e){const n=this.en(e),r=JE(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}rn(){this.sn(pl),this.sn(255)}_n(){this.an(pl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===pl?(this.sn(pl),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===pl?(this.an(pl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class TM{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class SM{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class xu{constructor(){this.cn=new EM,this.ln=new TM(this.cn),this.hn=new SM(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ha{constructor(e,n,r,a){this.Tn=e,this.In=n,this.En=r,this.dn=a}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Ha(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Af(this.En),directionalValue:Af(this.dn),orderedDocumentKey:Af(n),documentKey:r.path.toArray()}}Vn(e,n,r){const a=this.Rn(e,n,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Pi(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=WE(t.En,e.En),n!==0?n:(n=WE(t.dn,e.dn),n!==0?n:pe.comparator(t.In,e.In)))}function WE(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Af(t){return RS()?(function(n){let r="";for(let a=0;a<n.length;a++)r+=String.fromCharCode(n[a]);return r})(t):t}function e1(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(t)}class t1{constructor(e){this.mn=new lt(((n,r)=>wt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(we(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Fy(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ua(e);let a=new Set,o=0,c=0;for(;o<r.length&&this.wn(r[o]);++o)a=a.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const d=this.mn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const h=r[o];if(!this.Sn(d,h)||!this.bn(this.fn[c++],h))return!1}++o}for(;o<r.length;++o){const d=r[o];if(c>=this.fn.length||!this.bn(this.fn[c++],d))return!1}return!0}Dn(){if(this.pn)return null;let e=new lt(wt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new vf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new vf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new vf(r.field,r.dir==="asc"?0:1)));return new Bf(Bf.UNKNOWN_ID,this.collectionId,n,Ku.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function nN(t){if(we(t instanceof He||t instanceof at,20012),t instanceof He){if(t instanceof TA){const n=t.value.arrayValue?.values?.map((r=>He.create(t.field,"==",r)))||[];return at.create(n,"or")}return t}const e=t.filters.map((n=>nN(n)));return at.create(e,t.op)}function AM(t){if(t.getFilters().length===0)return[];const e=sv(nN(t));return we(rN(e),7391),nv(e)||rv(e)?[e]:e.getFilters()}function nv(t){return t instanceof He}function rv(t){return t instanceof at&&qv(t)}function rN(t){return nv(t)||rv(t)||(function(n){if(n instanceof at&&Qy(n)){for(const r of n.getFilters())if(!nv(r)&&!rv(r))return!1;return!0}return!1})(t)}function sv(t){if(we(t instanceof He||t instanceof at,34018),t instanceof He)return t;if(t.filters.length===1)return sv(t.filters[0]);const e=t.filters.map((r=>sv(r)));let n=at.create(e,t.op);return n=em(n),rN(n)?n:(we(n instanceof at,64498),we(Bl(n),40251),we(n.filters.length>1,57927),n.filters.reduce(((r,a)=>Xv(r,a))))}function Xv(t,e){let n;return we(t instanceof He||t instanceof at,38388),we(e instanceof He||e instanceof at,25473),n=t instanceof He?e instanceof He?(function(a,o){return at.create([a,o],"and")})(t,e):n1(t,e):e instanceof He?n1(e,t):(function(a,o){if(we(a.filters.length>0&&o.filters.length>0,48005),Bl(a)&&Bl(o))return _A(a,o.getFilters());const c=Qy(a)?a:o,d=Qy(a)?o:a,h=c.filters.map((g=>Xv(g,d)));return at.create(h,"or")})(t,e),em(n)}function n1(t,e){if(Bl(e))return _A(e,t.getFilters());{const n=e.filters.map((r=>Xv(t,r)));return at.create(n,"or")}}function em(t){if(we(t instanceof He||t instanceof at,11850),t instanceof He)return t;const e=t.getFilters();if(e.length===1)return em(e[0]);if(bA(t))return t;const n=e.map((a=>em(a))),r=[];return n.forEach((a=>{a instanceof He?r.push(a):a instanceof at&&(a.op===t.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:at.create(r,t.op)}class NM{constructor(){this.Cn=new Jv}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Jn.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class Jv{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new lt(Je.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new lt(Je.comparator)).toArray()}}const r1="IndexedDbIndexManager",of=new Uint8Array(0);class IM{constructor(e,n){this.databaseId=n,this.vn=new Jv,this.Fn=new Js((r=>uo(r)),((r,a)=>fd(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:vn(a)};return s1(e).put(o)}return B.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[HS(n),""],!1,!0);return s1(e).J(a).next((o=>{for(const c of o){if(c.collectionId!==n)break;r.push(cs(c.parent))}return r}))}addFieldIndex(e,n){const r=_u(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(n);delete a.indexId;const o=r.add(a);if(n.indexState){const c=yl(e);return o.next((d=>{c.put(ZE(d,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=_u(e),a=yl(e),o=gl(e);return r.delete(n.indexId).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=_u(e),r=gl(e),a=yl(e);return n.Z().next((()=>r.Z())).next((()=>a.Z()))}createTargetIndexes(e,n){return B.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const o=new t1(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=gl(e);let a=!0;const o=new Map;return B.forEach(this.Mn(n),(c=>this.xn(e,c).next((d=>{a&&(a=!!d),o.set(c,d)})))).next((()=>{if(a){let c=Le();const d=[];return B.forEach(o,((h,g)=>{ce(r1,`Using index ${(function(Z){return`id=${Z.indexId}|cg=${Z.collectionGroup}|f=${Z.fields.map((ae=>`${ae.fieldPath}:${ae.kind}`)).join(",")}`})(h)} to execute ${uo(n)}`);const v=(function(Z,ae){const le=Fy(ae);if(le===void 0)return null;for(const fe of Zf(Z,le.fieldPath))switch(fe.op){case"array-contains-any":return fe.value.arrayValue.values||[];case"array-contains":return[fe.value]}return null})(g,h),b=(function(Z,ae){const le=new Map;for(const fe of Ua(ae))for(const I of Zf(Z,fe.fieldPath))switch(I.op){case"==":case"in":le.set(fe.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return le.set(fe.fieldPath.canonicalString(),I.value),Array.from(le.values())}return null})(g,h),E=(function(Z,ae){const le=[];let fe=!0;for(const I of Ua(ae)){const S=I.kind===0?PE(Z,I.fieldPath,Z.startAt):ME(Z,I.fieldPath,Z.startAt);le.push(S.value),fe&&(fe=S.inclusive)}return new Wi(le,fe)})(g,h),A=(function(Z,ae){const le=[];let fe=!0;for(const I of Ua(ae)){const S=I.kind===0?ME(Z,I.fieldPath,Z.endAt):PE(Z,I.fieldPath,Z.endAt);le.push(S.value),fe&&(fe=S.inclusive)}return new Wi(le,fe)})(g,h),j=this.On(h,g,E),D=this.On(h,g,A),O=this.Nn(h,g,b),J=this.Bn(h.indexId,v,j,E.inclusive,D,A.inclusive,O);return B.forEach(J,($=>r.Y($,n.limit).next((Z=>{Z.forEach((ae=>{const le=pe.fromSegments(ae.documentKey);c.has(le)||(c=c.add(le),d.push(le))}))}))))})).next((()=>d))}return B.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=AM(at.create(e.filters,"and")).map((r=>Yy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,a,o,c,d){const h=(n!=null?n.length:1)*Math.max(r.length,o.length),g=h/(n!=null?n.length:1),v=[];for(let b=0;b<h;++b){const E=n?this.Ln(n[b/g]):of,A=this.kn(e,E,r[b%g],a),j=this.qn(e,E,o[b%g],c),D=d.map((O=>this.kn(e,E,O,!0)));v.push(...this.createRange(A,j,D))}return v}kn(e,n,r,a){const o=new Ha(e,pe.empty(),n,r);return a?o:o.An()}qn(e,n,r,a){const o=new Ha(e,pe.empty(),n,r);return a?o.An():o}xn(e,n){const r=new t1(n),a=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let c=null;for(const d of o)r.yn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,n){let r=2;const a=this.Mn(n);return B.forEach(a,(o=>this.xn(e,o).next((c=>{c?r!==0&&c.fields.length<(function(h){let g=new lt(wt.comparator),v=!1;for(const b of h.filters)for(const E of b.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?v=!0:g=g.add(E.field));for(const b of h.orderBy)b.field.isKeyField()||(g=g.add(b.field));return g.size+(v?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(n)&&a.length>1&&r===2?1:r))}Qn(e,n){const r=new xu;for(const a of Ua(e)){const o=n.data.field(a.fieldPath);if(o==null)return null;const c=r.Pn(a.kind);$a.Kt.Dt(o,c)}return r.un()}Ln(e){const n=new xu;return $a.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new xu;return $a.Kt.Dt(co(this.databaseId,n),r.Pn((function(o){const c=Ua(o);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let a=[];a.push(new xu);let o=0;for(const c of Ua(e)){const d=r[o++];for(const h of a)if(this.Un(n,c.fieldPath)&&ed(d))a=this.Kn(a,c,d);else{const g=h.Pn(c.kind);$a.Kt.Dt(d,g)}}return this.Wn(a)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const a=[...e],o=[];for(const c of r.arrayValue.values||[])for(const d of a){const h=new xu;h.seed(d.un()),$a.Kt.Dt(c,h.Pn(n.kind)),o.push(h)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof He&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=_u(e),a=yl(e);return(n?r.J(qy,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const c=[];return B.forEach(o,(d=>a.get([d.indexId,this.uid]).next((h=>{c.push((function(v,b){const E=b?new Ku(b.sequenceNumber,new Jn(fo(b.readTime),new pe(cs(b.documentKey)),b.largestBatchId)):Ku.empty(),A=v.fields.map((([j,D])=>new vf(wt.fromServerFormat(j),D)));return new Bf(v.indexId,v.collectionGroup,A,E)})(d,h))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,a)=>{const o=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,a.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const a=_u(e),o=yl(e);return this.Gn(e).next((c=>a.J(qy,IDBKeyRange.bound(n,n)).next((d=>B.forEach(d,(h=>o.put(ZE(h.indexId,this.uid,c,r))))))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,((a,o)=>{const c=r.get(a.collectionGroup);return(c?B.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(r.set(a.collectionGroup,d),B.forEach(d,(h=>this.zn(e,a,h).next((g=>{const v=this.jn(o,h);return g.isEqual(v)?B.resolve():this.Jn(e,o,h,g,v)})))))))}))}Hn(e,n,r,a){return gl(e).put(a.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,a){return gl(e).delete(a.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const a=gl(e);let o=new lt(Pi);return a.ee({index:nA,range:IDBKeyRange.only([r.indexId,this.uid,Af(this.$n(r,n))])},((c,d)=>{o=o.add(new Ha(r.indexId,n,e1(d.arrayValue),e1(d.directionalValue)))})).next((()=>o))}jn(e,n){let r=new lt(Pi);const a=this.Qn(n,e);if(a==null)return r;const o=Fy(n);if(o!=null){const c=e.data.field(o.fieldPath);if(ed(c))for(const d of c.arrayValue.values||[])r=r.add(new Ha(n.indexId,e.key,this.Ln(d),a))}else r=r.add(new Ha(n.indexId,e.key,of,a));return r}Jn(e,n,r,a,o){ce(r1,"Updating index entries for document '%s'",n.key);const c=[];return(function(h,g,v,b,E){const A=h.getIterator(),j=g.getIterator();let D=ml(A),O=ml(j);for(;D||O;){let J=!1,$=!1;if(D&&O){const Z=v(D,O);Z<0?$=!0:Z>0&&(J=!0)}else D!=null?$=!0:J=!0;J?(b(O),O=ml(j)):$?(E(D),D=ml(A)):(D=ml(A),O=ml(j))}})(a,o,Pi,(d=>{c.push(this.Hn(e,n,r,d))}),(d=>{c.push(this.Yn(e,n,r,d))})),B.waitFor(c)}Gn(e){let n=1;return yl(e).ee({index:tA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,o)=>{o.done(),n=a.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((c,d)=>Pi(c,d))).filter(((c,d,h)=>!d||Pi(c,h[d-1])!==0));const a=[];a.push(e);for(const c of r){const d=Pi(c,e),h=Pi(c,n);if(d===0)a[0]=e.An();else if(d>0&&h<0)a.push(c),a.push(c.An());else if(h>0)break}a.push(n);const o=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const d=a[c].Vn(this.uid,of,pe.empty()),h=a[c+1].Vn(this.uid,of,pe.empty());o.push(IDBKeyRange.bound(d,h))}return o}Zn(e,n){return Pi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(i1)}getMinOffset(e,n){return B.mapArray(this.Mn(n),(r=>this.xn(e,r).next((a=>a||xe(44426))))).next(i1)}}function s1(t){return en(t,Xu)}function gl(t){return en(t,Vu)}function _u(t){return en(t,zv)}function yl(t){return en(t,Mu)}function i1(t){we(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;Pv(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new Jn(e.readTime,e.documentKey,n)}const a1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sN=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function iN(t,e,n){const r=t.store(Pr),a=t.store(Ml),o=[],c=IDBKeyRange.only(n.batchId);let d=0;const h=r.ee({range:c},((v,b,E)=>(d++,E.delete())));o.push(h.next((()=>{we(d===1,47070,{batchId:n.batchId})})));const g=[];for(const v of n.mutations){const b=JS(e,v.key.path,n.batchId);o.push(a.delete(b)),g.push(v.key)}return B.waitFor(o).next((()=>g))}function tm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xe(14731);e=t.noDocument}return JSON.stringify(e).length}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(sN,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class zm{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Xn={}}static wt(e,n,r,a){we(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new zm(o,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mi(e).ee({index:Ka,range:r},((a,o,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(e,n,r,a){const o=El(e),c=Mi(e);return c.add({}).next((d=>{we(typeof d=="number",49019);const h=new Gv(d,n,r,a),g=(function(A,j,D){const O=D.baseMutations.map(($=>Jf(A.yt,$))),J=D.mutations.map(($=>Jf(A.yt,$)));return{userId:j,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:O,mutations:J}})(this.serializer,this.userId,h),v=[];let b=new lt(((E,A)=>De(E.canonicalString(),A.canonicalString())));for(const E of a){const A=JS(this.userId,E.key.path,d);b=b.add(E.key.path.popLast()),v.push(c.put(g)),v.push(o.put(A,rP))}return b.forEach((E=>{v.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[d]=h.keys()})),B.waitFor(v).next((()=>h))}))}lookupMutationBatch(e,n){return Mi(e).get(n).next((r=>r?(we(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),qa(this.serializer,r)):null))}er(e,n){return this.Xn[n]?B.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const a=r.keys();return this.Xn[n]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Mi(e).ee({index:Ka,range:a},((c,d,h)=>{d.userId===this.userId&&(we(d.batchId>=r,47524,{tr:r}),o=qa(this.serializer,d)),h.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Za;return Mi(e).ee({index:Ka,range:n,reverse:!0},((a,o,c)=>{r=o.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Za],[this.userId,Number.POSITIVE_INFINITY]);return Mi(e).J(Ka,n).next((r=>r.map((a=>qa(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=bf(this.userId,n.path),a=IDBKeyRange.lowerBound(r),o=[];return El(e).ee({range:a},((c,d,h)=>{const[g,v,b]=c,E=cs(v);if(g===this.userId&&n.path.isEqual(E))return Mi(e).get(b).next((A=>{if(!A)throw xe(61480,{nr:c,batchId:b});we(A.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:A.userId,batchId:b}),o.push(qa(this.serializer,A))}));h.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(De);const a=[];return n.forEach((o=>{const c=bf(this.userId,o.path),d=IDBKeyRange.lowerBound(c),h=El(e).ee({range:d},((g,v,b)=>{const[E,A,j]=g,D=cs(A);E===this.userId&&o.path.isEqual(D)?r=r.add(j):b.done()}));a.push(h)})),B.waitFor(a).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,o=bf(this.userId,r),c=IDBKeyRange.lowerBound(o);let d=new lt(De);return El(e).ee({range:c},((h,g,v)=>{const[b,E,A]=h,j=cs(E);b===this.userId&&r.isPrefixOf(j)?j.length===a&&(d=d.add(A)):v.done()})).next((()=>this.rr(e,d)))}rr(e,n){const r=[],a=[];return n.forEach((o=>{a.push(Mi(e).get(o).next((c=>{if(c===null)throw xe(35274,{batchId:o});we(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),r.push(qa(this.serializer,c))})))})),B.waitFor(a).next((()=>r))}removeMutationBatch(e,n){return iN(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),B.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return El(e).ee({range:r},((o,c,d)=>{if(o[0]===this.userId){const h=cs(o[1]);a.push(h)}else d.done()})).next((()=>{we(a.length===0,56720,{sr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return aN(e,this.userId,n)}_r(e){return oN(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Za,lastStreamToken:""}))}}function aN(t,e,n){const r=bf(e,n.path),a=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return El(t).ee({range:o,X:!0},((d,h,g)=>{const[v,b,E]=d;v===e&&b===a&&(c=!0),g.done()})).next((()=>c))}function Mi(t){return en(t,Pr)}function El(t){return en(t,Ml)}function oN(t){return en(t,Zu)}class mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}class RM{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new mo(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Se.fromTimestamp(new it(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.hr(e,a))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>vl(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(we(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let a=0;const o=[];return vl(e).ee(((c,d)=>{const h=Iu(d);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(a++,o.push(this.removeTargetData(e,h)))})).next((()=>B.waitFor(o))).next((()=>a))}forEachTarget(e,n){return vl(e).ee(((r,a)=>{const o=Iu(a);n(o)}))}lr(e){return o1(e).get(Hf).next((n=>(we(n!==null,2888),n)))}hr(e,n){return o1(e).put(Hf,n)}Pr(e,n){return vl(e).put(eN(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=uo(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return vl(e).ee({range:a,index:eA},((c,d,h)=>{const g=Iu(d);fd(n,g.target)&&(o=g,h.done())})).next((()=>o))}addMatchingKeys(e,n,r){const a=[],o=Li(e);return n.forEach((c=>{const d=vn(c.path);a.push(o.put({targetId:r,path:d})),a.push(this.referenceDelegate.addReference(e,r,c))})),B.waitFor(a)}removeMatchingKeys(e,n,r){const a=Li(e);return B.forEach(n,(o=>{const c=vn(o.path);return B.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=Li(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=Li(e);let o=Le();return a.ee({range:r,X:!0},((c,d,h)=>{const g=cs(c[1]),v=new pe(g);o=o.add(v)})).next((()=>o))}containsKey(e,n){const r=vn(n.path),a=IDBKeyRange.bound([r],[HS(r)],!1,!0);let o=0;return Li(e).ee({index:Vv,X:!0,range:a},(([c,d],h,g)=>{c!==0&&(o++,g.done())})).next((()=>o>0))}At(e,n){return vl(e).get(n).next((r=>r?Iu(r):null))}}function vl(t){return en(t,Vl)}function o1(t){return en(t,Ya)}function Li(t){return en(t,zl)}const l1="LruGarbageCollector",CM=1048576;function c1([t,e],[n,r]){const a=De(t,n);return a===0?De(e,r):a}class DM{constructor(e){this.Ir=e,this.buffer=new lt(c1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();c1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(l1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){na(n)?ce(l1,"Ignoring IndexedDB error during garbage collection: ",n):await xo(n)}await this.Vr(3e5)}))}}class jM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return B.resolve(gr.ce);const r=new DM(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(a1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,c,d,h,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(r=b,d=Date.now(),this.removeTargets(e,r,n)))).next((b=>(o=b,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(g=Date.now(),bl()<=$e.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${b} documents in `+(g-h)+`ms
Total Duration: ${g-v}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b}))))}}function cN(t,e){return new jM(t,e)}class kM{constructor(e,n){this.db=e,this.garbageCollector=cN(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,a)=>n(a)))}addReference(e,n,r){return lf(e,r)}removeReference(e,n,r){return lf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return lf(e,n)}br(e,n){return(function(a,o){let c=!1;return oN(a).te((d=>aN(a,d,o).next((h=>(h&&(c=!0),B.resolve(!h)))))).next((()=>c))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Sr(e,((c,d)=>{if(d<=n){const h=this.br(e,c).next((g=>{if(!g)return o++,r.getEntry(e,c).next((()=>(r.removeEntry(c,Se.min()),Li(e).delete((function(b){return[0,vn(b.path)]})(c)))))}));a.push(h)}})).next((()=>B.waitFor(a))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return lf(e,n)}Sr(e,n){const r=Li(e);let a,o=gr.ce;return r.ee({index:Vv},(([c,d],{path:h,sequenceNumber:g})=>{c===0?(o!==gr.ce&&n(new pe(cs(a)),o),o=g,a=h):o=gr.ce})).next((()=>{o!==gr.ce&&n(new pe(cs(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lf(t,e){return Li(t).put((function(r,a){return{targetId:0,path:vn(r.path),sequenceNumber:a}})(e,t.currentSequenceNumber))}class uN{constructor(){this.changes=new Js((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return za(e).put(r)}removeEntry(e,n,r){return za(e).delete((function(o,c){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Wf(c),d[d.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=It.newInvalidDocument(n);return za(e).ee({index:xf,range:IDBKeyRange.only(wu(n))},((a,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:It.newInvalidDocument(n)};return za(e).ee({index:xf,range:IDBKeyRange.only(wu(n))},((a,o)=>{r={document:this.Cr(n,o),size:tm(o)}})).next((()=>r))}getEntries(e,n){let r=Yn();return this.Fr(e,n,((a,o)=>{const c=this.Cr(a,o);r=r.insert(a,c)})).next((()=>r))}Mr(e,n){let r=Yn(),a=new xt(pe.comparator);return this.Fr(e,n,((o,c)=>{const d=this.Cr(o,c);r=r.insert(o,d),a=a.insert(o,tm(c))})).next((()=>({documents:r,Or:a})))}Fr(e,n,r){if(n.isEmpty())return B.resolve();let a=new lt(h1);n.forEach((h=>a=a.add(h)));const o=IDBKeyRange.bound(wu(a.first()),wu(a.last())),c=a.getIterator();let d=c.getNext();return za(e).ee({index:xf,range:o},((h,g,v)=>{const b=pe.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&h1(d,b)<0;)r(d,null),d=c.getNext();d&&d.isEqual(b)&&(r(d,g),d=c.hasNext()?c.getNext():null),d?v.j(wu(d)):v.done()})).next((()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,n,r,a,o){const c=n.path,d=[c.popLast().toArray(),c.lastSegment(),Wf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return za(e).J(IDBKeyRange.bound(d,h,!0)).next((g=>{o?.incrementDocumentReadCount(g.length);let v=Yn();for(const b of g){const E=this.Cr(pe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);E.isFoundDocument()&&(pd(n,E)||a.has(E.key))&&(v=v.insert(E.key,E))}return v}))}getAllFromCollectionGroup(e,n,r,a){let o=Yn();const c=d1(n,r),d=d1(n,Jn.max());return za(e).ee({index:WS,range:IDBKeyRange.bound(c,d,!0)},((h,g,v)=>{const b=this.Cr(pe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);o=o.insert(b.key,b),o.size===a&&v.done()})).next((()=>o))}newChangeBuffer(e){return new PM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return u1(e).get(By).next((n=>(we(!!n,20021),n)))}Dr(e,n){return u1(e).put(By,n)}Cr(e,n){if(n){const r=bM(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Se.min())))return r}return It.newInvalidDocument(e)}}function dN(t){return new OM(t)}class PM extends uN{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Js((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const n=[];let r=0,a=new lt(((o,c)=>De(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const d=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,d.readTime)),c.isValidDocument()){const h=KE(this.Nr.serializer,c);a=a.add(o.path.popLast());const g=tm(h);r+=g-d.size,n.push(this.Nr.addEntry(e,o,h))}else if(r-=d.size,this.trackRemovals){const h=KE(this.Nr.serializer,c.convertToNoDocument(Se.min()));n.push(this.Nr.addEntry(e,o,h))}})),a.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:a})=>(a.forEach(((o,c)=>{this.Br.set(o,{size:c,readTime:r.get(o).readTime})})),r)))}}function u1(t){return en(t,Yu)}function za(t){return en(t,$f)}function wu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function d1(t,e){const n=e.documentKey.path.toArray();return[t,Wf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function h1(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(a=De(n[o],r[o]),a)return a;return a=De(n.length,r.length),a||(a=De(n[n.length-2],r[r.length-2]),a||De(n[n.length-1],r[r.length-1]))}class MM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class hN{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Uu(r.mutation,a,yr.empty(),it.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const a=us();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let c=Au();return o.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=us();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,a){let o=Yn();const c=Lu(),d=(function(){return Lu()})();return n.forEach(((h,g)=>{const v=r.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof ra)?o=o.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Uu(v.mutation,g,v.mutation.getFieldMask(),it.now())):c.set(g.key,yr.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>d.set(g,new MM(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Lu();let a=new xt(((c,d)=>c-d)),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((h=>{const g=n.get(h);if(g===null)return;let v=r.get(h)||yr.empty();v=d.applyToLocalView(g,v),r.set(h,v);const b=(a.get(d.batchId)||Le()).add(h);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),g=h.key,v=h.value,b=RA();v.forEach((E=>{if(!o.has(E)){const A=MA(n.get(E),r.get(E));A!==null&&b.set(E,A),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return B.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$v(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):B.resolve(us());let d=Gu,h=o;return c.next((g=>B.forEach(g,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(v)?B.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{h=h.insert(v,E)}))))).next((()=>this.populateOverlays(e,g,o))).next((()=>this.computeViews(e,h,g,Le()))).next((v=>({batchId:d,changes:IA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let a=Au();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let c=Au();return this.indexManager.getCollectionParents(e,o).next((d=>B.forEach(d,(h=>{const g=(function(b,E){return new sc(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((v=>{v.forEach(((b,E)=>{c=c.insert(b,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((c=>{o.forEach(((h,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,It.newInvalidDocument(v)))}));let d=Au();return c.forEach(((h,g)=>{const v=o.get(h);v!==void 0&&Uu(v.mutation,g,yr.empty(),it.now()),pd(n,g)&&(d=d.insert(h,g))})),d}))}}class VM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Rn(a.createTime)}})(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:tN(a.bundledQuery),readTime:Rn(a.readTime)}})(n)),B.resolve()}}class zM{constructor(){this.overlays=new xt(pe.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=us();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),B.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const a=us(),o=n.length+1,c=new pe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,g=h.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new xt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let v=o.get(g.largestBatchId);v===null&&(v=us(),o=o.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=us(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return B.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Qv(n,r));let o=this.qr.get(n);o===void 0&&(o=Le(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class LM{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}class Wv{constructor(){this.Qr=new lt(sn.$r),this.Ur=new lt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new sn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new sn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new Je([])),r=new sn(n,e),a=new sn(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new Je([])),r=new sn(n,e),a=new sn(n,e+1);let o=Le();return this.Ur.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new sn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||De(e.Yr,n.Yr)}static Kr(e,n){return De(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class UM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new lt(sn.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Gv(o,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new sn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return B.resolve(c)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Za:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sn(n,0),a=new sn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);o.push(d)})),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(De);return n.forEach((a=>{const o=new sn(a,0),c=new sn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{r=r.add(d.Yr)}))})),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const c=new sn(new pe(o),0);let d=new lt(De);return this.Zr.forEachWhile((h=>{const g=h.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(d=d.add(h.Yr)),!0)}),c),B.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){we(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,(a=>{const o=new sn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new sn(n,0),a=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class FM{constructor(e){this.ri=e,this.docs=(function(){return new xt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Yn();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():It.newInvalidDocument(a))})),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Yn();const c=n.path,d=new pe(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:g,value:{document:v}}=h.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Pv(QS(v),r)<=0||(a.has(v.key)||pd(n,v))&&(o=o.insert(v.key,v.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,a){xe(9500)}ii(e,n){return B.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new BM(this)}getSize(e){return B.resolve(this.size)}}class BM extends uN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class qM{constructor(e){this.persistence=e,this.si=new Js((n=>uo(n)),fd),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Wv,this.targetCount=0,this.ai=mo.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),B.waitFor(o).next((()=>a))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}class eb{constructor(e,n){this.ui={},this.overlays={},this.ci=new gr(0),this.li=!1,this.li=!0,this.hi=new LM,this.referenceDelegate=e(this),this.Pi=new qM(this),this.indexManager=new NM,this.remoteDocumentCache=(function(a){return new FM(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new WA(n),this.Ii=new VM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new UM(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const a=new $M(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return B.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class $M extends YS{constructor(e){super(),this.currentSequenceNumber=e}}class Lm{constructor(e){this.persistence=e,this.Ri=new Wv,this.Vi=null}static mi(e){return new Lm(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,(r=>{const a=pe.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nm{constructor(e,n){this.persistence=e,this.pi=new Js((r=>vn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=cN(this,n)}static mi(e,n){return new nm(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return B.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?B.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(r++,o.removeEntry(c,Se.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wf(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return B.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class HM{constructor(e){this.serializer=e}k(e,n,r,a){const o=new Tm("createOrUpgrade",n);r<1&&a>=1&&((function(h){h.createObjectStore(hd)})(e),(function(h){h.createObjectStore(Zu,{keyPath:nP}),h.createObjectStore(Pr,{keyPath:EE,autoIncrement:!0}).createIndex(Ka,TE,{unique:!0}),h.createObjectStore(Ml)})(e),f1(e),(function(h){h.createObjectStore(Fa)})(e));let c=B.resolve();return r<3&&a>=3&&(r!==0&&((function(h){h.deleteObjectStore(zl),h.deleteObjectStore(Vl),h.deleteObjectStore(Ya)})(e),f1(e)),c=c.next((()=>(function(h){const g=h.store(Ya),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Se.min().toTimestamp(),targetCount:0};return g.put(Hf,v)})(o)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(h,g){return g.store(Pr).J().next((b=>{h.deleteObjectStore(Pr),h.createObjectStore(Pr,{keyPath:EE,autoIncrement:!0}).createIndex(Ka,TE,{unique:!0});const E=g.store(Pr),A=b.map((j=>E.put(j)));return B.waitFor(A)}))})(e,o)))),c=c.next((()=>{(function(h){h.createObjectStore(Ll,{keyPath:dP})})(e)}))),r<5&&a>=5&&(c=c.next((()=>this.yi(o)))),r<6&&a>=6&&(c=c.next((()=>((function(h){h.createObjectStore(Yu)})(e),this.wi(o))))),r<7&&a>=7&&(c=c.next((()=>this.Si(o)))),r<8&&a>=8&&(c=c.next((()=>this.bi(e,o)))),r<9&&a>=9&&(c=c.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(c=c.next((()=>this.Di(o)))),r<11&&a>=11&&(c=c.next((()=>{(function(h){h.createObjectStore(Am,{keyPath:hP})})(e),(function(h){h.createObjectStore(Nm,{keyPath:fP})})(e)}))),r<12&&a>=12&&(c=c.next((()=>{(function(h){const g=h.createObjectStore(Im,{keyPath:xP});g.createIndex($y,_P,{unique:!1}),g.createIndex(rA,wP,{unique:!1})})(e)}))),r<13&&a>=13&&(c=c.next((()=>(function(h){const g=h.createObjectStore($f,{keyPath:sP});g.createIndex(xf,iP),g.createIndex(WS,aP)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(Fa)))),r<14&&a>=14&&(c=c.next((()=>this.Fi(e,o)))),r<15&&a>=15&&(c=c.next((()=>(function(h){h.createObjectStore(zv,{keyPath:mP,autoIncrement:!0}).createIndex(qy,pP,{unique:!1}),h.createObjectStore(Mu,{keyPath:gP}).createIndex(tA,yP,{unique:!1}),h.createObjectStore(Vu,{keyPath:vP}).createIndex(nA,bP,{unique:!1})})(e)))),r<16&&a>=16&&(c=c.next((()=>{n.objectStore(Mu).clear()})).next((()=>{n.objectStore(Vu).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(h){h.createObjectStore(Lv,{keyPath:EP})})(e)}))),r<18&&a>=18&&RS()&&(c=c.next((()=>{n.objectStore(Mu).clear()})).next((()=>{n.objectStore(Vu).clear()}))),c}wi(e){let n=0;return e.store(Fa).ee(((r,a)=>{n+=tm(a)})).next((()=>{const r={byteSize:n};return e.store(Yu).put(By,r)}))}yi(e){const n=e.store(Zu),r=e.store(Pr);return n.J().next((a=>B.forEach(a,(o=>{const c=IDBKeyRange.bound([o.userId,Za],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Ka,c).next((d=>B.forEach(d,(h=>{we(h.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const g=qa(this.serializer,h);return iN(e,o.userId,g).next((()=>{}))}))))}))))}Si(e){const n=e.store(zl),r=e.store(Fa);return e.store(Ya).get(Hf).next((a=>{const o=[];return r.ee(((c,d)=>{const h=new Je(c),g=(function(b){return[0,vn(b)]})(h);o.push(n.get(g).next((v=>v?B.resolve():(b=>n.put({targetId:0,path:vn(b),sequenceNumber:a.highestListenSequenceNumber}))(h))))})).next((()=>B.waitFor(o)))}))}bi(e,n){e.createObjectStore(Xu,{keyPath:uP});const r=n.store(Xu),a=new Jv,o=c=>{if(a.add(c)){const d=c.lastSegment(),h=c.popLast();return r.put({collectionId:d,parent:vn(h)})}};return n.store(Fa).ee({X:!0},((c,d)=>{const h=new Je(c);return o(h.popLast())})).next((()=>n.store(Ml).ee({X:!0},(([c,d,h],g)=>{const v=cs(d);return o(v.popLast())}))))}Di(e){const n=e.store(Vl);return n.ee(((r,a)=>{const o=Iu(a),c=eN(this.serializer,o);return n.put(c)}))}Ci(e,n){const r=n.store(Fa),a=[];return r.ee(((o,c)=>{const d=n.store($f),h=(function(b){return b.document?new pe(Je.fromString(b.document.name).popFirst(5)):b.noDocument?pe.fromSegments(b.noDocument.path):b.unknownDocument?pe.fromSegments(b.unknownDocument.path):xe(36783)})(c).path.toArray(),g={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(g))})).next((()=>B.waitFor(a)))}Fi(e,n){const r=n.store(Pr),a=dN(this.serializer),o=new eb(Lm.mi,this.serializer.yt);return r.J().next((c=>{const d=new Map;return c.forEach((h=>{let g=d.get(h.userId)??Le();qa(this.serializer,h).keys().forEach((v=>g=g.add(v))),d.set(h.userId,g)})),B.forEach(d,((h,g)=>{const v=new hn(g),b=Vm.wt(this.serializer,v),E=o.getIndexManager(v),A=zm.wt(v,this.serializer,E,o.referenceDelegate);return new hN(a,A,b,E).recalculateAndSaveOverlaysForDocumentKeys(new Hy(n,gr.ce),h).next()}))}))}}function f1(t){t.createObjectStore(zl,{keyPath:lP}).createIndex(Vv,cP,{unique:!0}),t.createObjectStore(Vl,{keyPath:"targetId"}).createIndex(eA,oP,{unique:!0}),t.createObjectStore(Ya)}const Vi="IndexedDbPersistence",my=18e5,py=5e3,gy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",GM="main";class tb{constructor(e,n,r,a,o,c,d,h,g,v,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=c,this.document=d,this.xi=g,this.Oi=v,this.Ni=b,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!tb.v())throw new he(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kM(this,a),this.$i=n+GM,this.serializer=new WA(h),this.Ui=new Zi(this.$i,this.Ni,new HM(this.serializer)),this.hi=new _M,this.Pi=new RM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dN(this.serializer),this.Ii=new xM,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,v===!1&&Sn(Vi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new he(ee.FAILED_PRECONDITION,gy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new gr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>cf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(na(e))return ce(Vi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ce(Vi,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Eu(e).get(fl).next((n=>B.resolve(this.es(n))))}ts(e){return cf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,my)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=en(n,Ll);return r.J().next((a=>{const o=this.ss(a,my),c=a.filter((d=>o.indexOf(d)===-1));return B.forEach(c,(d=>r.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?B.resolve(!0):Eu(e).get(fl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,py)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new he(ee.FAILED_PRECONDITION,gy);return!1}}return!(!this.networkEnabled||!this.inForeground)||cf(e).J().next((r=>this.ss(r,py).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(o||c&&d)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ce(Vi,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[hd,Ll],(e=>{const n=new Hy(e,gr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>cf(e).J().next((n=>this.ss(n,my).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return zm.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new IM(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Vm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce(Vi,"Starting transaction:",e);const a=n==="readonly"?"readonly":"readwrite",o=(function(h){return h===18?AP:h===17?oA:h===16?SP:h===15?Uv:h===14?aA:h===13?iA:h===12?TP:h===11?sA:void xe(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,o,(d=>(c=new Hy(d,this.ci?this.ci.next():gr.ce),n==="readwrite-primary"?this.Hi(c).next((h=>!!h||this.Yi(c))).next((h=>{if(!h)throw Sn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new he(ee.FAILED_PRECONDITION,ZS);return r(c)})).next((h=>this.Xi(c).next((()=>h)))):this.Is(c).next((()=>r(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Is(e){return Eu(e).get(fl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,py)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new he(ee.FAILED_PRECONDITION,gy)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Eu(e).put(fl,n)}static v(){return Zi.v()}Zi(e){const n=Eu(e);return n.get(fl).next((r=>this.es(r)?(ce(Vi,"Releasing primary lease."),n.delete(fl)):B.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Sn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;IS()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return ce(Vi,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Sn(Vi,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Sn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Eu(t){return en(t,hd)}function cf(t){return en(t,Ll)}function KM(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class nb{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Le(),a=Le();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new nb(e,n.fromCache,r,a)}}class QM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IS()?8:XS(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new QM;return this.Ss(e,n,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(bl()<=$e.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",xl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(bl()<=$e.DEBUG&&ce("QueryEngine","Query:",xl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(bl()<=$e.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",xl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):B.resolve())}ys(e,n){if(VE(n))return B.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Yf(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=Le(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const g=this.Ds(n,d);return this.Cs(n,g,c,h.readTime)?this.ys(e,Yf(n,null,"F")):this.vs(e,g,n,h)}))))})))))}ws(e,n,r,a){return VE(n)||a.isEqual(Se.min())?B.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,r,a)?B.resolve(null):(bl()<=$e.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xl(n)),this.vs(e,c,n,Z4(a,Gu)).next((d=>d)))}))}Ds(e,n){let r=new lt(AA(e));return n.forEach(((a,o)=>{pd(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return bl()<=$e.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",xl(n)),this.ps.getDocumentsMatchingQuery(e,n,Jn.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const rb="LocalStore",ZM=3e8;class YM{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new xt(De),this.xs=new Js((o=>uo(o)),fd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function mN(t,e,n,r){return new YM(t,e,n,r)}async function pN(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],d=[];let h=Le();for(const g of a){c.push(g.batchId);for(const v of g.mutations)h=h.add(v.key)}for(const g of o){d.push(g.batchId);for(const v of g.mutations)h=h.add(v.key)}return n.localDocuments.getDocuments(r,h).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function XM(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,g,v){const b=g.batch,E=b.keys();let A=B.resolve();return E.forEach((j=>{A=A.next((()=>v.getEntry(h,j))).next((D=>{const O=g.docVersions.get(j);we(O!==null,48541),D.version.compareTo(O)<0&&(b.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),v.addEntry(D)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(h,b)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=Le();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(h=h.add(d.batch.mutations[g].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function gN(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function JM(t,e){const n=je(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((v,b)=>{const E=a.get(b);if(!E)return;d.push(n.Pi.removeMatchingKeys(o,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,v.addedDocuments,b))));let A=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(Kt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),a=a.insert(b,A),(function(D,O,J){return D.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=ZM?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(E,A,v)&&d.push(n.Pi.updateTargetData(o,A))}));let h=Yn(),g=Le();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,v))})),d.push(WM(o,c,e.documentUpdates).next((v=>{h=v.ks,g=v.qs}))),!r.isEqual(Se.min())){const v=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(v)}return B.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,g))).next((()=>h))})).then((o=>(n.Ms=a,o)))}function WM(t,e,n){let r=Le(),a=Le();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=Yn();return n.forEach(((d,h)=>{const g=o.get(d);h.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Se.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!g.isValidDocument()||h.version.compareTo(g.version)>0||h.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):ce(rb,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function e3(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Za),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function t3(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,B.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new Us(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function iv(t,e,n){const r=je(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!na(c))throw c;ce(rb,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function m1(t,e,n){const r=je(t);let a=Se.min(),o=Le();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,g,v){const b=je(h),E=b.xs.get(v);return E!==void 0?B.resolve(b.Ms.get(E)):b.Pi.getTargetData(g,v)})(r,c,vr(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:Se.min(),n?o:Le()))).next((d=>(n3(r,FP(e),d),{documents:d,Qs:o})))))}function n3(t,e,n){let r=t.Os.get(e)||Se.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class p1{constructor(){this.activeTargetIds=KP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yN{constructor(){this.Mo=new p1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new p1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class r3{Oo(e){}shutdown(){}}const g1="ConnectivityMonitor";class y1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(g1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(g1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uf=null;function av(){return uf===null?uf=(function(){return 268435456+Math.round(2147483648*Math.random())})():uf++,"0x"+uf.toString(16)}const yy="RestConnection",s3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Gf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const c=av(),d=this.zo(e,n.toUriEncodedString());ce(yy,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:g}=new URL(d),v=tc(g);return this.Jo(e,d,h,r,v).then((b=>(ce(yy,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw oo(yy,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",r),b}))}Ho(e,n,r,a,o,c){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=s3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class a3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const gn="WebChannelConnection";class o3 extends i3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const c=av();return new Promise(((d,h)=>{const g=new zS;g.setWithCredentials(!0),g.listenOnce(LS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case yf.NO_ERROR:const b=g.getResponseJson();ce(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case yf.TIMEOUT:ce(gn,`RPC '${e}' ${c} timed out`),h(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const E=g.getStatus();if(ce(gn,`RPC '${e}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const j=A?.error;if(j&&j.status&&j.message){const D=(function(J){const $=J.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf($)>=0?$:ee.UNKNOWN})(j.status);h(new he(D,j.message))}else h(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new he(ee.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(gn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ce(gn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",v,r,15)}))}T_(e,n,r){const a=av(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=BS(),d=FS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(h.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const v=o.join("");ce(gn,`Creating RPC '${e}' stream ${a}: ${v}`,h);const b=c.createWebChannel(v,h);this.I_(b);let E=!1,A=!1;const j=new a3({Yo:O=>{A?ce(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(E||(ce(gn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),ce(gn,`RPC '${e}' stream ${a} sending:`,O),b.send(O))},Zo:()=>b.close()}),D=(O,J,$)=>{O.listen(J,(Z=>{try{$(Z)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return D(b,Su.EventType.OPEN,(()=>{A||(ce(gn,`RPC '${e}' stream ${a} transport opened.`),j.o_())})),D(b,Su.EventType.CLOSE,(()=>{A||(A=!0,ce(gn,`RPC '${e}' stream ${a} transport closed`),j.a_(),this.E_(b))})),D(b,Su.EventType.ERROR,(O=>{A||(A=!0,oo(gn,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),j.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),D(b,Su.EventType.MESSAGE,(O=>{if(!A){const J=O.data[0];we(!!J,16349);const $=J,Z=$?.error||$[0]?.error;if(Z){ce(gn,`RPC '${e}' stream ${a} received error:`,Z);const ae=Z.status;let le=(function(S){const C=Ht[S];if(C!==void 0)return LA(C)})(ae),fe=Z.message;le===void 0&&(le=ee.INTERNAL,fe="Unknown error status: "+ae+" with message "+Z.message),A=!0,j.a_(new he(le,fe)),b.close()}else ce(gn,`RPC '${e}' stream ${a} received:`,J),j.u_(J)}})),D(d,US.STAT_EVENT,(O=>{O.stat===Ly.PROXY?ce(gn,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===Ly.NOPROXY&&ce(gn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function l3(){return typeof window<"u"?window:null}function Nf(){return typeof document<"u"?document:null}function Um(t){return new cM(t,!0)}class vN{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const v1="PersistentStream";class bN{constructor(e,n,r,a,o,c,d,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Sn(n.toString()),Sn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new he(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(v1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(v1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c3 extends bN{constructor(e,n,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hM(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Se.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?Rn(c.readTime):Se.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ev(this.serializer),n.addTarget=(function(o,c){let d;const h=c.target;if(d=Qf(h)?{documents:KA(o,h)}:{query:QA(o,h).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=BA(o,c.resumeToken);const g=Jy(o,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Se.min())>0){d.readTime=Gl(o,c.snapshotVersion.toTimestamp());const g=Jy(o,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const r=mM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ev(this.serializer),n.removeTarget=e,this.q_(n)}}class u3 extends bN{constructor(e,n,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=fM(e.writeResults,e.commitTime),r=Rn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ev(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Jf(this.serializer,r)))};this.q_(n)}}class d3{}class h3 extends d3{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,Wy(n,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(ee.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Wy(n,r),a,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class f3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sn(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const po="RemoteStore";class m3{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{wo(this)&&(ce(po,"Restarting streams for network reachability change."),await(async function(h){const g=je(h);g.Ea.add(4),await yd(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Fm(g)})(this))}))})),this.Ra=new f3(r,a)}}async function Fm(t){if(wo(t))for(const e of t.da)await e(!0)}async function yd(t){for(const e of t.da)await e(!1)}function xN(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ob(n)?ab(n):ac(n).O_()&&ib(n,e))}function sb(t,e){const n=je(t),r=ac(n);n.Ia.delete(e),r.O_()&&_N(n,e),n.Ia.size===0&&(r.O_()?r.L_():wo(n)&&n.Ra.set("Unknown"))}function ib(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ac(t).Y_(e)}function _N(t,e){t.Va.Ue(e),ac(t).Z_(e)}function ab(t){t.Va=new iM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ac(t).start(),t.Ra.ua()}function ob(t){return wo(t)&&!ac(t).x_()&&t.Ia.size>0}function wo(t){return je(t).Ea.size===0}function wN(t){t.Va=void 0}async function p3(t){t.Ra.set("Online")}async function g3(t){t.Ia.forEach(((e,n)=>{ib(t,e)}))}async function y3(t,e){wN(t),ob(t)?(t.Ra.ha(e),ab(t)):t.Ra.set("Unknown")}async function v3(t,e,n){if(t.Ra.set("Online"),e instanceof FA&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const d of o.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){ce(po,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rm(t,r)}else if(e instanceof Sf?t.Va.Ze(e):e instanceof UA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Se.min()))try{const r=await gN(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=o.Ia.get(g);v&&o.Ia.set(g,v.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,g)=>{const v=o.Ia.get(h);if(!v)return;o.Ia.set(h,v.withResumeToken(Kt.EMPTY_BYTE_STRING,v.snapshotVersion)),_N(o,h);const b=new Us(v.target,h,g,v.sequenceNumber);ib(o,b)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){ce(po,"Failed to raise snapshot:",r),await rm(t,r)}}async function rm(t,e,n){if(!na(e))throw e;t.Ea.add(1),await yd(t),t.Ra.set("Offline"),n||(n=()=>gN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(po,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Fm(t)}))}function EN(t,e){return e().catch((n=>rm(t,n,e)))}async function vd(t){const e=je(t),n=ea(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Za;for(;b3(e);)try{const a=await e3(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,x3(e,a)}catch(a){await rm(e,a)}TN(e)&&SN(e)}function b3(t){return wo(t)&&t.Ta.length<10}function x3(t,e){t.Ta.push(e);const n=ea(t);n.O_()&&n.X_&&n.ea(e.mutations)}function TN(t){return wo(t)&&!ea(t).x_()&&t.Ta.length>0}function SN(t){ea(t).start()}async function _3(t){ea(t).ra()}async function w3(t){const e=ea(t);for(const n of t.Ta)e.ea(n.mutations)}async function E3(t,e,n){const r=t.Ta.shift(),a=Kv.from(r,e,n);await EN(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await vd(t)}async function T3(t,e){e&&ea(t).X_&&await(async function(r,a){if((function(c){return nM(c)&&c!==ee.ABORTED})(a.code)){const o=r.Ta.shift();ea(r).B_(),await EN(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await vd(r)}})(t,e),TN(t)&&SN(t)}async function b1(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),ce(po,"RemoteStore received new credentials");const r=wo(n);n.Ea.add(3),await yd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Fm(n)}async function S3(t,e){const n=je(t);e?(n.Ea.delete(2),await Fm(n)):e||(n.Ea.add(2),await yd(n),n.Ra.set("Unknown"))}function ac(t){return t.ma||(t.ma=(function(n,r,a){const o=je(n);return o.sa(),new c3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:p3.bind(null,t),t_:g3.bind(null,t),r_:y3.bind(null,t),H_:v3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ob(t)?ab(t):t.Ra.set("Unknown")):(await t.ma.stop(),wN(t))}))),t.ma}function ea(t){return t.fa||(t.fa=(function(n,r,a){const o=je(n);return o.sa(),new u3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:_3.bind(null,t),r_:T3.bind(null,t),ta:w3.bind(null,t),na:E3.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await vd(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(po,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class lb{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const c=Date.now()+r,d=new lb(e,n,c,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cb(t,e){if(Sn("AsyncQueue",`${e}: ${t}`),na(t))return new he(ee.UNAVAILABLE,`${e}: ${t}`);throw t}class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Au(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class x1{constructor(){this.ga=new xt(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Kl{constructor(e,n,r,a,o,c,d,h,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,a,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Kl(e,n,Nl.emptySet(n),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class A3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class N3{constructor(){this.queries=_1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=je(n),o=a.queries;a.queries=_1(),o.forEach(((c,d)=>{for(const h of d.Sa)h.onError(r)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function _1(){return new Js((t=>SA(t)),jm)}async function ub(t,e){const n=je(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new A3,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=cb(c,`Initialization of query '${xl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&hb(n)}async function db(t,e){const n=je(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function I3(t,e){const n=je(t);let r=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&hb(n)}function R3(t,e,n){const r=je(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function hb(t){t.Ca.forEach((e=>{e.next()}))}var ov,w1;(w1=ov||(ov={})).Ma="default",w1.Cache="cache";class fb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ov.Cache}}class AN{constructor(e){this.key=e}}class NN{constructor(e){this.key=e}}class C3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=AA(e),this.tu=new Nl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new x1,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const E=a.get(v),A=pd(this.query,b)?b:null,j=!!E&&this.mutatedKeys.has(E.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let O=!1;E&&A?E.data.isEqual(A.data)?j!==D&&(r.track({type:3,doc:A}),O=!0):this.su(E,A)||(r.track({type:2,doc:A}),O=!0,(h&&this.eu(A,h)>0||g&&this.eu(A,g)<0)&&(d=!0)):!E&&A?(r.track({type:0,doc:A}),O=!0):E&&!A&&(r.track({type:1,doc:E}),O=!0,(h||g)&&(d=!0)),O&&(A?(c=c.add(A),o=D?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:d,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(A,j){const D=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:O})}};return D(A)-D(j)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,g=h!==this.Za;return this.Za=h,c.length!==0||g?{snapshot:new Kl(this.query,e.tu,o,c,e.mutatedKeys,h===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new NN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new AN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mb="SyncEngine";class D3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class j3{constructor(e){this.key=e,this.hu=!1}}class k3{constructor(e,n,r,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Js((d=>SA(d)),jm),this.Iu=new Map,this.Eu=new Set,this.du=new xt(pe.comparator),this.Au=new Map,this.Ru=new Wv,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function O3(t,e,n=!0){const r=kN(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await IN(r,e,n,!0),a}async function P3(t,e){const n=kN(t);await IN(n,e,!0,!1)}async function IN(t,e,n,r){const a=await t3(t.localStore,vr(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await M3(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&xN(t.remoteStore,a),d}async function M3(t,e,n,r,a){t.pu=(b,E,A)=>(async function(D,O,J,$){let Z=O.view.ru(J);Z.Cs&&(Z=await m1(D.localStore,O.query,!1).then((({documents:I})=>O.view.ru(I,Z))));const ae=$&&$.targetChanges.get(O.targetId),le=$&&$.targetMismatches.get(O.targetId)!=null,fe=O.view.applyChanges(Z,D.isPrimaryClient,ae,le);return T1(D,O.targetId,fe.au),fe.snapshot})(t,b,E,A);const o=await m1(t.localStore,e,!0),c=new C3(e,o.Qs),d=c.ru(o.documents),h=gd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),g=c.applyChanges(d,t.isPrimaryClient,h);T1(t,n,g.au);const v=new D3(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function V3(t,e,n){const r=je(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!jm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await iv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&sb(r.remoteStore,a.targetId),lv(r,a.targetId)})).catch(xo)):(lv(r,a.targetId),await iv(r.localStore,a.targetId,!0))}async function z3(t,e){const n=je(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sb(n.remoteStore,r.targetId))}async function L3(t,e,n){const r=ON(t);try{const a=await(function(c,d){const h=je(c),g=it.now(),v=d.reduce(((A,j)=>A.add(j.key)),Le());let b,E;return h.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let j=Yn(),D=Le();return h.Ns.getEntries(A,v).next((O=>{j=O,j.forEach(((J,$)=>{$.isValidDocument()||(D=D.add(J))}))})).next((()=>h.localDocuments.getOverlayedDocuments(A,j))).next((O=>{b=O;const J=[];for(const $ of d){const Z=eM($,b.get($.key).overlayedDocument);Z!=null&&J.push(new ra($.key,Z,yA(Z.value.mapValue),In.exists(!0)))}return h.mutationQueue.addMutationBatch(A,g,J,d)})).next((O=>{E=O;const J=O.applyToLocalDocumentSet(b,D);return h.documentOverlayCache.saveOverlays(A,O.batchId,J)}))})).then((()=>({batchId:E.batchId,changes:IA(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,h){let g=c.Vu[c.currentUser.toKey()];g||(g=new xt(De)),g=g.insert(d,h),c.Vu[c.currentUser.toKey()]=g})(r,a.batchId,n),await bd(r,a.changes),await vd(r.remoteStore)}catch(a){const o=cb(a,"Failed to persist write");n.reject(o)}}async function RN(t,e){const n=je(t);try{const r=await JM(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(we(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?we(c.hu,14607):a.removedDocuments.size>0&&(we(c.hu,42227),c.hu=!1))})),await bd(n,r,e)}catch(r){await xo(r)}}function E1(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const h=je(c);h.onlineState=d;let g=!1;h.queries.forEach(((v,b)=>{for(const E of b.Sa)E.va(d)&&(g=!0)})),g&&hb(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U3(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new xt(pe.comparator);c=c.insert(o,It.newNoDocument(o,Se.min()));const d=Le().add(o),h=new Mm(Se.min(),new Map,new xt(De),c,d);await RN(r,h),r.du=r.du.remove(o),r.Au.delete(e),pb(r)}else await iv(r.localStore,e,!1).then((()=>lv(r,e,n))).catch(xo)}async function F3(t,e){const n=je(t),r=e.batch.batchId;try{const a=await XM(n.localStore,e);DN(n,r,null),CN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bd(n,a)}catch(a){await xo(a)}}async function B3(t,e,n){const r=je(t);try{const a=await(function(c,d){const h=je(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return h.mutationQueue.lookupMutationBatch(g,d).next((b=>(we(b!==null,37113),v=b.keys(),h.mutationQueue.removeMutationBatch(g,b)))).next((()=>h.mutationQueue.performConsistencyCheck(g))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>h.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);DN(r,e,n),CN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bd(r,a)}catch(a){await xo(a)}}function CN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function DN(t,e,n){const r=je(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function lv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||jN(t,r)}))}function jN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),pb(t))}function T1(t,e,n){for(const r of n)r instanceof AN?(t.Ru.addReference(r.key,e),q3(t,r)):r instanceof NN?(ce(mb,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||jN(t,r.key)):xe(19791,{wu:r})}function q3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ce(mb,"New document in limbo: "+n),t.Eu.add(r),pb(t))}function pb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(Je.fromString(e)),r=t.fu.next();t.Au.set(r,new j3(n)),t.du=t.du.insert(n,r),xN(t.remoteStore,new Us(vr(md(n.path)),r,"TargetPurposeLimboResolution",gr.ce))}}async function bd(t,e,n){const r=je(t),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,h)=>{c.push(r.pu(h,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(g){a.push(g);const v=nb.As(h.targetId,g);o.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,g){const v=je(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>B.forEach(g,(E=>B.forEach(E.Es,(A=>v.persistence.referenceDelegate.addReference(b,E.targetId,A))).next((()=>B.forEach(E.ds,(A=>v.persistence.referenceDelegate.removeReference(b,E.targetId,A)))))))))}catch(b){if(!na(b))throw b;ce(rb,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const A=v.Ms.get(E),j=A.snapshotVersion,D=A.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(E,D)}}})(r.localStore,o))}async function $3(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){ce(mb,"User change. New user:",e.toKey());const r=await pN(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((h=>{h.reject(new he(ee.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bd(n,r.Ls)}}function H3(t,e){const n=je(t),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let a=Le();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function kN(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U3.bind(null,e),e.Pu.H_=I3.bind(null,e.eventManager),e.Pu.yu=R3.bind(null,e.eventManager),e}function ON(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B3.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Um(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mN(this.persistence,new fN,e.initialUser,this.serializer)}Cu(e){return new eb(Lm.mi,this.serializer)}Du(e){return new yN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class G3 extends nd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){we(this.persistence.referenceDelegate instanceof nm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new eb((r=>nm.mi(r,n)),this.serializer)}}class K3 extends nd{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await ON(this.xu.syncEngine),await vd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return mN(this.persistence,new fN,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new lN(r,e.asyncQueue,n)}Mu(e,n){const r=new W4(n,this.persistence);return new J4(e.asyncQueue,r)}Cu(e){const n=KM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new tb(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,l3(),Nf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new yN}}class sm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$3.bind(null,this.syncEngine),await S3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new N3})()}createDatastore(e){const n=Um(e.databaseInfo.databaseId),r=(function(o){return new o3(o)})(e.databaseInfo);return(function(o,c,d,h){return new h3(o,c,d,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,c,d){return new m3(r,a,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>E1(this.syncEngine,n,0)),(function(){return y1.v()?new y1:new r3})())}createSyncEngine(e,n){return(function(a,o,c,d,h,g,v){const b=new k3(a,o,c,d,h,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=je(n);ce(po,"RemoteStore shutting down."),r.Ea.add(5),await yd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sm.provider={build:()=>new sm};class gb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ta="FirestoreClient";class Q3{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=Ov.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ce(ta,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ce(ta,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function vy(t,e){t.asyncQueue.verifyOperationInProgress(),ce(ta,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await pN(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function S1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z3(t);ce(ta,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>b1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>b1(e.remoteStore,a))),t._onlineComponents=e}async function Z3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(ta,"Using user provided OfflineComponentProvider");try{await vy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ee.FAILED_PRECONDITION||a.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await vy(t,new nd)}}else ce(ta,"Using default OfflineComponentProvider"),await vy(t,new G3(void 0));return t._offlineComponents}async function PN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(ta,"Using user provided OnlineComponentProvider"),await S1(t,t._uninitializedComponentsProvider._online)):(ce(ta,"Using default OnlineComponentProvider"),await S1(t,new sm))),t._onlineComponents}function Y3(t){return PN(t).then((e=>e.syncEngine))}async function im(t){const e=await PN(t),n=e.eventManager;return n.onListen=O3.bind(null,e.syncEngine),n.onUnlisten=V3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z3.bind(null,e.syncEngine),n}function X3(t,e,n={}){const r=new ds;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,g){const v=new gb({next:E=>{v.Nu(),c.enqueueAndForget((()=>db(o,b)));const A=E.docs.has(d);!A&&E.fromCache?g.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&h&&h.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new fb(md(d.path),v,{includeMetadataChanges:!0,qa:!0});return ub(o,b)})(await im(t),t.asyncQueue,e,n,r))),r.promise}function J3(t,e,n={}){const r=new ds;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,g){const v=new gb({next:E=>{v.Nu(),c.enqueueAndForget((()=>db(o,b))),E.fromCache&&h.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new fb(d,v,{includeMetadataChanges:!0,qa:!0});return ub(o,b)})(await im(t),t.asyncQueue,e,n,r))),r.promise}function MN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const A1=new Map;const VN="firestore.googleapis.com",N1=!0;class I1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VN,this.ssl=N1}else this.host=e.host,this.ssl=e.ssl??N1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CM)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new V4;switch(r.type){case"firstParty":return new F4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=A1.get(n);r&&(ce("ComponentProvider","Removing Datastore"),A1.delete(n),r.terminate())})(this),Promise.resolve()}}function W3(t,e,n,r={}){t=Xn(t,Bm);const a=tc(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(SS(`https://${d}`),AS("Firestore",!0)),o.host!==VN&&o.host!==d&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:d,ssl:a,emulatorOptions:r};if(!so(h,c)&&(t._setSettings(h),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=hn.MOCK_USER;else{g=fO(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new hn(b)}t._authCredentials=new z4(new $S(g,v))}}class Ws{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class Pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dd(n,Pt._jsonSchema))return new Pt(e,r||null,new pe(Je.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Gt("string",Pt._jsonSchemaVersion),referencePath:Gt("string")};class Yi extends Ws{constructor(e,n,r){super(e,n,md(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new pe(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function yb(t,e,...n){if(t=bn(t),GS("collection","path",e),t instanceof Bm){const r=Je.fromString(e,...n);return vE(r),new Yi(t,null,r)}{if(!(t instanceof Pt||t instanceof Yi))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return vE(r),new Yi(t.firestore,null,r)}}function oc(t,e,...n){if(t=bn(t),arguments.length===1&&(e=Ov.newId()),GS("doc","path",e),t instanceof Bm){const r=Je.fromString(e,...n);return yE(r),new Pt(t,null,new pe(r))}{if(!(t instanceof Pt||t instanceof Yi))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return yE(r),new Pt(t.firestore,t instanceof Yi?t.converter:null,new pe(r))}}const R1="AsyncQueue";class C1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vN(this,"async_queue_retry"),this._c=()=>{const r=Nf();r&&ce(R1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Nf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!na(e))throw e;ce(R1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Sn("INTERNAL UNHANDLED ERROR: ",D1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=lb.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:D1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function D1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function j1(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Qs extends Bm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new C1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C1(e),this._firestoreClient=void 0,await e}}}function eV(t,e){const n=typeof t=="object"?t:OS(),r=typeof t=="string"?t:Gf,a=jv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=dO("firestore");o&&W3(a,...o)}return a}function qm(t){if(t._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zN(t),t._firestoreClient}function zN(t){const e=t._freezeSettings(),n=(function(a,o,c,d){return new IP(a,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,MN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Q3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}function tV(t,e){oo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return nV(t,sm.provider,{build:r=>new K3(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function nV(t,e,n){if((t=Xn(t,Qs))._firestoreClient||t._terminated)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new he(ee.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},zN(t)}class mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mr(Kt.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mr(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dd(e,mr._jsonSchema))return mr.fromBase64String(e.bytes)}}mr._jsonSchemaVersion="firestore/bytes/1.0",mr._jsonSchema={type:Gt("string",mr._jsonSchemaVersion),bytes:Gt("string")};class vb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bb{constructor(e){this._methodName=e}}class hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(e){if(dd(e,hs._jsonSchema))return new hs(e.latitude,e.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:Gt("string",hs._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class fs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dd(e,fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fs(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fs._jsonSchemaVersion="firestore/vectorValue/1.0",fs._jsonSchema={type:Gt("string",fs._jsonSchemaVersion),vectorValues:Gt("object")};const rV=/^__.*__$/;class sV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new ic(e,this.data,n,this.fieldTransforms)}}function LN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class xb{constructor(e,n,r,a,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return am(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LN(this.Ac)&&rV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Um(e)}Cc(e,n,r,a=!1){return new xb({Ac:e,methodName:n,Dc:r,path:wt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $m(t){const e=t._freezeSettings(),n=Um(t._databaseId);return new iV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function UN(t,e,n,r,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);$N("Data must be an object, but it was:",c,r);const d=BN(r,c);let h,g;if(o.merge)h=new yr(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const b of o.mergeFields){const E=aV(e,b,n);if(!c.contains(E))throw new he(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);lV(v,E)||v.push(E)}h=new yr(v),g=c.fieldTransforms.filter((b=>h.covers(b.field)))}else h=null,g=c.fieldTransforms;return new sV(new zn(d),h,g)}class _b extends bb{_toFieldTransform(e){return new PA(e.path,new ql)}isEqual(e){return e instanceof _b}}function FN(t,e,n,r=!1){return wb(n,t.Cc(r?4:3,e))}function wb(t,e){if(qN(t=bn(t)))return $N("Unsupported field value:",e,t),BN(t,e);if(t instanceof bb)return(function(r,a){if(!LN(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const d of r){let h=wb(d,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:Gl(a.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gl(a.serializer,o)}}if(r instanceof hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mr)return{bytesValue:BA(a.serializer,r._byteString)};if(r instanceof Pt){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Yv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof fs)return(function(c,d){return{mapValue:{fields:{[Fv]:{stringValue:Bv},[Ul]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Hv(d.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Em(r)}`)})(t,e)}function BN(t,e){const n={};return lA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,((r,a)=>{const o=wb(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function qN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof hs||t instanceof mr||t instanceof Pt||t instanceof bb||t instanceof fs)}function $N(t,e,n){if(!qN(n)||!KS(n)){const r=Em(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function aV(t,e,n){if((e=bn(e))instanceof vb)return e._internalPath;if(typeof e=="string")return HN(t,e);throw am("Field path arguments must be of type string or ",t,!1,void 0,n)}const oV=new RegExp("[~\\*/\\[\\]]");function HN(t,e,n){if(e.search(oV)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vb(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function am(t,e,n,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new he(ee.INVALID_ARGUMENT,d+t+h)}function lV(t,e){return t.some((n=>n.isEqual(e)))}class Eb{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(GN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cV extends Eb{data(){return super.data()}}function GN(t,e){return typeof e=="string"?HN(t,e):e instanceof vb?e._internalPath:e._delegate._internalPath}function KN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tb{}class Sb extends Tb{}function uV(t,e,...n){let r=[];e instanceof Tb&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((h=>h instanceof Nb)).length,d=o.filter((h=>h instanceof Ab)).length;if(c>1||c>0&&d>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Ab extends Sb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ab(e,n,r)}_apply(e){const n=this._parse(e);return QN(e._query,n),new Ws(e.firestore,e.converter,Xy(e._query,n))}_parse(e){const n=$m(e.firestore);return(function(o,c,d,h,g,v,b){let E;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){O1(b,v);const j=[];for(const D of b)j.push(k1(h,o,D));E={arrayValue:{values:j}}}else E=k1(h,o,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||O1(b,v),E=FN(d,c,b,v==="in"||v==="not-in");return He.create(g,v,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Nb extends Tb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nb(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:at.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const d=o.getFlattenedFilters();for(const h of d)QN(c,h),c=Xy(c,h)})(e._query,n),new Ws(e.firestore,e.converter,Xy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ib extends Sb{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ib(e,n,r)}_apply(e){return new Ws(e.firestore,e.converter,Yf(e._query,this._limit,this._limitType))}}function dV(t){return Q4("limit",t),Ib._create("limit",t,"F")}class Rb extends Sb{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Rb(e,n,r)}_apply(e){const n=fV(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(function(a,o){return new sc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)})(e._query,n))}}function hV(...t){return Rb._create("startAfter",t,!1)}function fV(t,e,n,r){if(n[0]=bn(n[0]),n[0]instanceof Eb)return(function(o,c,d,h,g){if(!h)throw new he(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const v=[];for(const b of Al(o))if(b.field.isKeyField())v.push(co(c,h.key));else{const E=h.data.field(b.field);if(Rm(E))throw new he(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const A=b.field.canonicalString();throw new he(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}v.push(E)}return new Wi(v,g)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=$m(t.firestore);return(function(c,d,h,g,v,b){const E=c.explicitOrderBy;if(v.length>E.length)throw new he(ee.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let j=0;j<v.length;j++){const D=v[j];if(E[j].field.isKeyField()){if(typeof D!="string")throw new he(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof D}`);if(!$v(c)&&D.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${D}' contains a slash.`);const O=c.path.child(Je.fromString(D));if(!pe.isDocumentKey(O))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${O}' is not because it contains an odd number of segments.`);const J=new pe(O);A.push(co(d,J))}else{const O=FN(h,g,D);A.push(O)}}return new Wi(A,b)})(t._query,t.firestore._databaseId,a,e,n,r)}}function k1(t,e,n){if(typeof(n=bn(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$v(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!pe.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return co(t,new pe(r))}if(n instanceof Pt)return co(t,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Em(n)}.`)}function O1(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QN(t,e){const n=(function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mV{convertValue(e,n="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _o(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Ul].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new fs(n)}convertGeoPoint(e){return new hs(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const n=Gs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);we(JA(r),9688,{name:e});const a=new lo(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return a.isEqual(n)||Sn(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function ZN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ru{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ja extends Eb{constructor(e,n,r,a,o,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(GN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ja._jsonSchema={type:Gt("string",Ja._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class If extends Ja{data(e={}){return super.data(e)}}class Wa{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ru(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new If(this._firestore,this._userDataWriter,r.key,r,new Ru(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const h=new If(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ru(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const h=new If(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ru(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:pV(d.type),doc:h,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ov.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}function gV(t){t=Xn(t,Pt);const e=Xn(t.firestore,Qs);return X3(qm(e),t._key).then((n=>JN(e,t,n)))}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:Gt("string",Wa._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Cb extends mV{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function yV(t){t=Xn(t,Ws);const e=Xn(t.firestore,Qs),n=qm(e),r=new Cb(e);return KN(t._query),J3(n,t._query).then((a=>new Wa(e,r,t,a)))}function YN(t,e,n){t=Xn(t,Pt);const r=Xn(t.firestore,Qs),a=ZN(t.converter,e,n);return Db(r,[UN($m(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,In.none())])}function vV(t){return Db(Xn(t.firestore,Qs),[new Pm(t._key,In.none())])}function bV(t,e){const n=Xn(t.firestore,Qs),r=oc(t),a=ZN(t.converter,e);return Db(n,[UN($m(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,In.exists(!1))]).then((()=>r))}function XN(t,...e){t=bn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||j1(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(j1(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,c,d;if(t instanceof Pt)c=Xn(t.firestore,Qs),d=md(t._key.path),o={next:h=>{e[r]&&e[r](JN(c,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Xn(t,Ws);c=Xn(h.firestore,Qs),d=h._query;const g=new Cb(c);o={next:v=>{e[r]&&e[r](new Wa(c,g,h,v))},error:e[r+1],complete:e[r+2]},KN(t._query)}return(function(g,v,b,E){const A=new gb(E),j=new fb(v,A,b);return g.asyncQueue.enqueueAndForget((async()=>ub(await im(g),j))),()=>{A.Nu(),g.asyncQueue.enqueueAndForget((async()=>db(await im(g),j)))}})(qm(c),d,a,o)}function Db(t,e){return(function(r,a){const o=new ds;return r.asyncQueue.enqueueAndForget((async()=>L3(await Y3(r),a,o))),o.promise})(qm(t),e)}function JN(t,e,n){const r=n.docs.get(e._key),a=new Cb(t);return new Ja(t,a,e._key,r,new Ru(n.hasPendingWrites,n.fromCache),e.converter)}function WN(){return new _b("serverTimestamp")}(function(e,n=!0){(function(a){rc=a})(nc),Ol(new io("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new Qs(new L4(r.getProvider("auth-internal")),new B4(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lo(g.options.projectId,v)})(c,a),c);return o={useFetchStreams:n,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Ki(fE,mE,e),Ki(fE,mE,"esm2020")})();var xV="firebase",_V="12.7.0";Ki(xV,_V,"app");function e2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wV=e2,t2=new cd("auth","Firebase",e2());const om=new Cv("@firebase/auth");function EV(t,...e){om.logLevel<=$e.WARN&&om.warn(`Auth (${nc}): ${t}`,...e)}function Rf(t,...e){om.logLevel<=$e.ERROR&&om.error(`Auth (${nc}): ${t}`,...e)}function gs(t,...e){throw kb(t,...e)}function zr(t,...e){return kb(t,...e)}function jb(t,e,n){const r={...wV(),[e]:n};return new cd("auth","Firebase",r).create(e,{appName:t.name})}function eo(t){return jb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gs(t,"argument-error"),jb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return t2.create(t,...e)}function Ce(t,e,...n){if(!t)throw kb(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rf(e),new Error(e)}function Zs(t,e){t||Fs(e)}function cv(){return typeof self<"u"&&self.location?.href||""}function SV(){return P1()==="http:"||P1()==="https:"}function P1(){return typeof self<"u"&&self.location?.protocol||null}function AV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SV()||vO()||"connection"in navigator)?navigator.onLine:!0}function NV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class xd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zs(n>e,"Short delay should be less than long delay!"),this.isMobile=gO()||bO()}get(){return AV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ob(t,e){Zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class n2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CV=new xd(3e4,6e4);function Pb(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function lc(t,e,n,r,a={}){return r2(t,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=ud({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:h,...o};return yO()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&tc(t.emulatorConfig.host)&&(g.credentials="include"),n2.fetch()(await s2(t,t.config.apiHost,n,d),g)})}async function r2(t,e,n){t._canInitEmulator=!1;const r={...IV,...e};try{const a=new jV(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw df(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,g]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw df(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw df(t,"user-disabled",c);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw jb(t,v,g);gs(t,v)}}catch(a){if(a instanceof Xs)throw a;gs(t,"network-request-failed",{message:String(a)})}}async function DV(t,e,n,r,a={}){const o=await lc(t,e,n,r,a);return"mfaPendingCredential"in o&&gs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function s2(t,e,n,r){const a=`${e}${n}?${r}`,o=t,c=o.config.emulator?Ob(t.config,a):`${t.config.apiScheme}://${a}`;return RV.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class jV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),CV.get())})}}function df(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=zr(t,e,r);return a.customData._tokenResponse=n,a}async function kV(t,e){return lc(t,"POST","/v1/accounts:delete",e)}async function lm(t,e){return lc(t,"POST","/v1/accounts:lookup",e)}function Fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OV(t,e=!1){const n=bn(t),r=await n.getIdToken(e),a=Mb(r);Ce(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:Fu(by(a.auth_time)),issuedAtTime:Fu(by(a.iat)),expirationTime:Fu(by(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function by(t){return Number(t)*1e3}function Mb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rf("JWT malformed, contained fewer than 3 sections"),null;try{const a=xS(n);return a?JSON.parse(a):(Rf("Failed to decode base64 JWT payload"),null)}catch(a){return Rf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function M1(t){const e=Mb(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function rd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xs&&PV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class MV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class uv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cm(t){const e=t.auth,n=await t.getIdToken(),r=await rd(t,lm(e,{idToken:n}));Ce(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?i2(a.providerUserInfo):[],c=zV(t.providerData,o),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!c?.length,g=d?h:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new uv(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function VV(t){const e=bn(t);await cm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zV(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function i2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function LV(t,e){const n=await r2(t,{},async()=>{const r=ud({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=await s2(t,a,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&tc(t.emulatorConfig.host)&&(h.credentials="include"),n2.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UV(t,e){return lc(t,"POST","/v2/accounts:revokeToken",Pb(t,e))}class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=M1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await LV(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,c=new Il;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ce(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Ce(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return Fs("not implemented")}}function zi(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vr{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new MV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new uv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await rd(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OV(this,e)}reload(){return VV(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(eo(this.auth));const e=await this.getIdToken();return await rd(this,kV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:A,providerData:j,stsTokenManager:D}=n;Ce(b&&D,e,"internal-error");const O=Il.fromJSON(this.name,D);Ce(typeof b=="string",e,"internal-error"),zi(r,e.name),zi(a,e.name),Ce(typeof E=="boolean",e,"internal-error"),Ce(typeof A=="boolean",e,"internal-error"),zi(o,e.name),zi(c,e.name),zi(d,e.name),zi(h,e.name),zi(g,e.name),zi(v,e.name);const J=new Vr({uid:b,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:A,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:O,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&(J.providerData=j.map($=>({...$}))),h&&(J._redirectEventId=h),J}static async _fromIdTokenResponse(e,n,r=!1){const a=new Il;a.updateFromServerResponse(n);const o=new Vr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await cm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ce(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?i2(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,d=new Il;d.updateFromIdToken(r);const h=new Vr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new uv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,g),h}}const V1=new Map;function Bs(t){Zs(t instanceof Function,"Expected a class definition");let e=V1.get(t);return e?(Zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V1.set(t,e),e)}class a2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}a2.type="NONE";const z1=a2;function Cf(t,e,n){return`firebase:${t}:${e}:${n}`}class Rl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Cf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Cf("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lm(this.auth,{idToken:e}).catch(()=>{});return n?Vr._fromGetAccountInfoResponse(this.auth,n,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Rl(Bs(z1),e,r);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||Bs(z1);const c=Cf(r,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const E=await lm(e,{idToken:v}).catch(()=>{});if(!E)break;b=await Vr._fromGetAccountInfoResponse(e,E,v)}else b=Vr._fromJSON(e,v);g!==o&&(d=b),o=g;break}}catch{}const h=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Rl(o,e,r):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new Rl(o,e,r))}}function L1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(o2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h2(e))return"Blackberry";if(f2(e))return"Webos";if(l2(e))return"Safari";if((e.includes("chrome/")||c2(e))&&!e.includes("edge/"))return"Chrome";if(d2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function o2(t=Wt()){return/firefox\//i.test(t)}function l2(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c2(t=Wt()){return/crios\//i.test(t)}function u2(t=Wt()){return/iemobile/i.test(t)}function d2(t=Wt()){return/android/i.test(t)}function h2(t=Wt()){return/blackberry/i.test(t)}function f2(t=Wt()){return/webos/i.test(t)}function Vb(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FV(t=Wt()){return Vb(t)&&!!window.navigator?.standalone}function BV(){return xO()&&document.documentMode===10}function m2(t=Wt()){return Vb(t)||d2(t)||f2(t)||h2(t)||/windows phone/i.test(t)||u2(t)}function p2(t,e=[]){let n;switch(t){case"Browser":n=L1(Wt());break;case"Worker":n=`${L1(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nc}/${r}`}class qV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function $V(t,e={}){return lc(t,"GET","/v2/passwordPolicy",Pb(t,e))}const HV=6;class GV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class KV{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U1(this),this.idTokenSubscription=new U1(this),this.beforeStateQueue=new qV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lm(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(eo(this));const n=e?bn(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $V(this),n=new GV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await UV(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bs(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[Bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hm(t){return bn(t)}class U1{constructor(e){this.auth=e,this.observer=null,this.addObserver=AO(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QV(t){zb=t}function ZV(t){return zb.loadJS(t)}function YV(){return zb.gapiScript}function XV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function JV(t,e){const n=jv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(so(o,e??{}))return a;gs(a,"already-initialized")}return n.initialize({options:e})}function WV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Bs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function e6(t,e,n){const r=Hm(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=g2(e),{host:c,port:d}=t6(e),h=d===null?"":`:${d}`,g={url:`${o}//${c}${h}/`},v=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(so(g,r.config.emulator)&&so(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,tc(c)?(SS(`${o}//${c}${h}`),AS("Auth",!0)):n6()}function g2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function t6(t){const e=g2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:F1(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:F1(c)}}}function F1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function n6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class y2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}async function Cl(t,e){return DV(t,"POST","/v1/accounts:signInWithIdp",Pb(t,e))}const r6="http://localhost";class go extends y2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const c=new go(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Cl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Cl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cl(e,n)}buildRequest(){const e={requestUri:r6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ud(n)}return e}}class Lb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _d extends Lb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ui extends _d{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";class Ls extends _d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return go._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class Fi extends _d{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";class Bi extends _d{constructor(){super("twitter.com")}static credential(e,n){return go._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bi.credential(n,r)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";class Ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Vr._fromIdTokenResponse(e,r,a),c=B1(r);return new Ql({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=B1(r);return new Ql({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function B1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class um extends Xs{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,um.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new um(e,n,r,a)}}function v2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?um._fromErrorAndOperation(t,o,e,r):o})}async function s6(t,e,n=!1){const r=await rd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ql._forOperation(t,"link",r)}async function i6(t,e,n=!1){const{auth:r}=t;if(Mr(r.app))return Promise.reject(eo(r));const a="reauthenticate";try{const o=await rd(t,v2(r,a,e,t),n);Ce(o.idToken,r,"internal-error");const c=Mb(o.idToken);Ce(c,r,"internal-error");const{sub:d}=c;return Ce(t.uid===d,r,"user-mismatch"),Ql._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&gs(r,"user-mismatch"),o}}async function a6(t,e,n=!1){if(Mr(t.app))return Promise.reject(eo(t));const r="signIn",a=await v2(t,r,e),o=await Ql._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}function o6(t,e,n,r){return bn(t).onIdTokenChanged(e,n,r)}function l6(t,e,n){return bn(t).beforeAuthStateChanged(e,n)}function b2(t,e,n,r){return bn(t).onAuthStateChanged(e,n,r)}function c6(t){return bn(t).signOut()}const dm="__sak";class x2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dm,"1"),this.storage.removeItem(dm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const u6=1e3,d6=10;class _2 extends x2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);BV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,d6):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},u6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_2.type="LOCAL";const h6=_2;class w2 extends x2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}w2.type="SESSION";const E2=w2;function f6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Gm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,o)),h=await f6(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gm.receivers=[];function Ub(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class m6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const g=Ub("",20);a.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(E.data.response);break;default:clearTimeout(v),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ms(){return window}function p6(t){ms().location.href=t}function T2(){return typeof ms().WorkerGlobalScope<"u"&&typeof ms().importScripts=="function"}async function g6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y6(){return navigator?.serviceWorker?.controller||null}function v6(){return T2()?self:null}const S2="firebaseLocalStorageDb",b6=1,hm="firebaseLocalStorage",A2="fbase_key";class wd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Km(t,e){return t.transaction([hm],e?"readwrite":"readonly").objectStore(hm)}function x6(){const t=indexedDB.deleteDatabase(S2);return new wd(t).toPromise()}function dv(){const t=indexedDB.open(S2,b6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hm,{keyPath:A2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hm)?e(r):(r.close(),await x6(),e(await dv()))})})}async function q1(t,e,n){const r=Km(t,!0).put({[A2]:e,value:n});return new wd(r).toPromise()}async function _6(t,e){const n=Km(t,!1).get(e),r=await new wd(n).toPromise();return r===void 0?null:r.value}function $1(t,e){const n=Km(t,!0).delete(e);return new wd(n).toPromise()}const w6=800,E6=3;class N2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>E6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gm._getInstance(v6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await g6(),!this.activeServiceWorker)return;this.sender=new m6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dv();return await q1(e,dm,"1"),await $1(e,dm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Km(a,!1).getAll();return new wd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N2.type="LOCAL";const T6=N2;new xd(3e4,6e4);function I2(t,e){return e?Bs(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Fb extends y2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function S6(t){return a6(t.auth,new Fb(t),t.bypassAuthState)}function A6(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),i6(n,new Fb(t),t.bypassAuthState)}async function N6(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),s6(n,new Fb(t),t.bypassAuthState)}class R2{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S6;case"linkViaPopup":case"linkViaRedirect":return N6;case"reauthViaPopup":case"reauthViaRedirect":return A6;default:gs(this.auth,"internal-error")}}resolve(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const I6=new xd(2e3,1e4);async function R6(t,e,n){if(Mr(t.app))return Promise.reject(zr(t,"operation-not-supported-in-this-environment"));const r=Hm(t);TV(t,e,Lb);const a=I2(r,n);return new Qa(r,"signInViaPopup",e,a).executeNotNull()}class Qa extends R2{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Zs(this.filter.length===1,"Popup operations only handle one event");const e=Ub();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I6.get())};e()}}Qa.currentPopupAction=null;const C6="pendingRedirect",Df=new Map;class D6 extends R2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const r=await j6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j6(t,e){const n=P6(e),r=O6(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function k6(t,e){Df.set(t._key(),e)}function O6(t){return Bs(t._redirectPersistence)}function P6(t){return Cf(C6,t.config.apiKey,t.name)}async function M6(t,e,n=!1){if(Mr(t.app))return Promise.reject(eo(t));const r=Hm(t),a=I2(r,e),c=await new D6(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const V6=600*1e3;class z6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!C2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V6&&this.cachedEventUids.clear(),this.cachedEventUids.has(H1(e))}saveEventToCache(e){this.cachedEventUids.add(H1(e)),this.lastProcessedEventTime=Date.now()}}function H1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function C2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function L6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C2(t);default:return!1}}async function U6(t,e={}){return lc(t,"GET","/v1/projects",e)}const F6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B6=/^https?/;async function q6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U6(t);for(const n of e)try{if($6(n))return}catch{}gs(t,"unauthorized-domain")}function $6(t){const e=cv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!B6.test(n))return!1;if(F6.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const H6=new xd(3e4,6e4);function G1(){const t=ms().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function G6(t){return new Promise((e,n)=>{function r(){G1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G1(),n(zr(t,"network-request-failed"))},timeout:H6.get()})}if(ms().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ms().gapi?.load)r();else{const a=XV("iframefcb");return ms()[a]=()=>{gapi.load?r():n(zr(t,"network-request-failed"))},ZV(`${YV()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw jf=null,e})}let jf=null;function K6(t){return jf=jf||G6(t),jf}const Q6=new xd(5e3,15e3),Z6="__/auth/iframe",Y6="emulator/auth/iframe",X6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W6(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ob(e,Y6):`https://${t.config.authDomain}/${Z6}`,r={apiKey:e.apiKey,appName:t.name,v:nc},a=J6.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ud(r).slice(1)}`}async function ez(t){const e=await K6(t),n=ms().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:W6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X6,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=zr(t,"network-request-failed"),d=ms().setTimeout(()=>{o(c)},Q6.get());function h(){ms().clearTimeout(d),a(r)}r.ping(h).then(h,()=>{o(c)})}))}const tz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nz=500,rz=600,sz="_blank",iz="http://localhost";class K1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function az(t,e,n,r=nz,a=rz){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h={...tz,width:r.toString(),height:a.toString(),top:o,left:c},g=Wt().toLowerCase();n&&(d=c2(g)?sz:n),o2(g)&&(e=e||iz,h.scrollbars="yes");const v=Object.entries(h).reduce((E,[A,j])=>`${E}${A}=${j},`,"");if(FV(g)&&d!=="_self")return oz(e||"",d),new K1(null);const b=window.open(e||"",d,v);Ce(b,t,"popup-blocked");try{b.focus()}catch{}return new K1(b)}function oz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const lz="__/auth/handler",cz="emulator/auth/handler",uz=encodeURIComponent("fac");async function Q1(t,e,n,r,a,o){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nc,eventId:a};if(e instanceof Lb){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",SO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof _d){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const h=await t._getAppCheckToken(),g=h?`#${uz}=${encodeURIComponent(h)}`:"";return`${dz(t)}?${ud(d).slice(1)}${g}`}function dz({config:t}){return t.emulator?Ob(t,cz):`https://${t.authDomain}/${lz}`}const xy="webStorageSupport";class hz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E2,this._completeRedirectFn=M6,this._overrideRedirectResult=k6}async _openPopup(e,n,r,a){Zs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Q1(e,n,r,cv(),a);return az(e,o,Ub())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await Q1(e,n,r,cv(),a);return p6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Zs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ez(e),r=new z6(e);return n.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xy,{type:xy},a=>{const o=a?.[0]?.[xy];o!==void 0&&n(!!o),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=q6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return m2()||l2()||Vb()}}const fz=hz;var Z1="@firebase/auth",Y1="1.12.0";class mz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gz(t){Ol(new io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p2(t)},g=new KV(r,a,o,h);return WV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ol(new io("auth-internal",e=>{const n=Hm(e.getProvider("auth").getImmediate());return(r=>new mz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(Z1,Y1,pz(t)),Ki(Z1,Y1,"esm2020")}const yz=300,vz=TS("authIdTokenMaxAge")||yz;let X1=null;const bz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vz)return;const a=n?.token;X1!==a&&(X1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function xz(t=OS()){const e=jv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JV(t,{popupRedirectResolver:fz,persistence:[T6,h6,E2]}),r=TS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=bz(o.toString());l6(n,c,()=>c(n.currentUser)),o6(n,d=>c(d))}}const a=wS("auth");return a&&e6(n,`http://${a}`),n}function _z(){return document.getElementsByTagName("head")?.[0]??document}QV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=zr("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",_z().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gz("Browser");const wz={apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",storageBucket:void 0,messagingSenderId:"490973136832",appId:"1:490973136832:web:1811051408fdde8fbcea25",measurementId:"G-D3YR1YJXPN"},D2=lE().length?lE()[0]:kS(wz),ei=eV(D2),kf=xz(D2);typeof window<"u"&&tV(ei).catch(t=>{console.debug("IndexedDB persistence not enabled:",t?.code??t?.message??t)});function j2(t,e,n){const r=yb(t,e);return n?r.withConverter(n):r}async function Ez(t,e,n){const r=oc(ei,t,e),a=n?r.withConverter(n):r,o=await gV(a);return o.exists()?o.data():null}async function k2(t,e,n){const r=j2(ei,t,n);return(await bV(r,e)).id}async function Tz(t,e,n,r){const a=oc(ei,t,e),o=r?a.withConverter(r):a;await YN(o,n)}async function Sz(t,e,n,r){const a=oc(ei,t,e),o=r?a.withConverter(r):a;await YN(o,n,{merge:!0})}async function Az(t,e){const n=oc(ei,t,e);await vV(n)}async function Nz(t,e){const{pageSize:n=20,cursor:r=null,additionalConstraints:a=[],converter:o}=e??{},c=j2(ei,t,o),d=[dV(n),...a];r&&d.push(hV(r));const h=uV(c,...d),g=await yV(h),v=g.docs.map(E=>E.data()),b=g.docs[g.docs.length-1]??null;return{docs:v,nextCursor:b?b.id:null}}function re(t,e,n){function r(d,h){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:h,constr:c,traits:new Set},enumerable:!1}),d._zod.traits.has(t))return;d._zod.traits.add(t),e(d,h);const g=c.prototype,v=Object.keys(g);for(let b=0;b<v.length;b++){const E=v[b];E in d||(d[E]=g[E].bind(d))}}const a=n?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function c(d){var h;const g=n?.Parent?new o:this;r(g,d),(h=g._zod).deferred??(h.deferred=[]);for(const v of g._zod.deferred)v();return g}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class Dl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class O2 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const P2={};function yo(t){return P2}function M2(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,a])=>e.indexOf(+r)===-1).map(([r,a])=>a)}function hv(t,e){return typeof e=="bigint"?e.toString():e}function Bb(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function qb(t){return t==null}function $b(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Iz(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h?.[1]&&(a=Number.parseInt(h[1]))}const o=n>a?n:a,c=Number.parseInt(t.toFixed(o).replace(".","")),d=Number.parseInt(e.toFixed(o).replace(".",""));return c%d/10**o}const J1=Symbol("evaluating");function ot(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==J1)return r===void 0&&(r=J1,r=n()),r},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function Eo(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function sa(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function W1(t){return JSON.stringify(t)}function Rz(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const V2="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function fm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Cz=Bb(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function sd(t){if(fm(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(fm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function z2(t){return sd(t)?{...t}:Array.isArray(t)?[...t]:t}const Dz=new Set(["string","number","symbol"]);function Zl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ia(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Te(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function jz(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const kz={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Oz(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=sa(t._zod.def,{get shape(){const c={};for(const d in e){if(!(d in n.shape))throw new Error(`Unrecognized key: "${d}"`);e[d]&&(c[d]=n.shape[d])}return Eo(this,"shape",c),c},checks:[]});return ia(t,o)}function Pz(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=sa(t._zod.def,{get shape(){const c={...t._zod.def.shape};for(const d in e){if(!(d in n.shape))throw new Error(`Unrecognized key: "${d}"`);e[d]&&delete c[d]}return Eo(this,"shape",c),c},checks:[]});return ia(t,o)}function Mz(t,e){if(!sd(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const c in e)if(Object.getOwnPropertyDescriptor(o,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=sa(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return Eo(this,"shape",o),o}});return ia(t,a)}function Vz(t,e){if(!sd(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=sa(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return Eo(this,"shape",r),r}});return ia(t,n)}function zz(t,e){const n=sa(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Eo(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return ia(t,n)}function Lz(t,e,n){const a=e._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=sa(e._zod.def,{get shape(){const d=e._zod.def.shape,h={...d};if(n)for(const g in n){if(!(g in d))throw new Error(`Unrecognized key: "${g}"`);n[g]&&(h[g]=t?new t({type:"optional",innerType:d[g]}):d[g])}else for(const g in d)h[g]=t?new t({type:"optional",innerType:d[g]}):d[g];return Eo(this,"shape",h),h},checks:[]});return ia(e,c)}function Uz(t,e,n){const r=sa(e._zod.def,{get shape(){const a=e._zod.def.shape,o={...a};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(o[c]=new t({type:"nonoptional",innerType:a[c]}))}else for(const c in a)o[c]=new t({type:"nonoptional",innerType:a[c]});return Eo(this,"shape",o),o}});return ia(e,r)}function Tl(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function L2(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function hf(t){return typeof t=="string"?t:t?.message}function vo(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const a=hf(t.inst?._zod.def?.error?.(t))??hf(e?.error?.(t))??hf(n.customError?.(t))??hf(n.localeError?.(t))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Hb(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function id(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const U2=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,hv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},F2=re("$ZodError",U2),B2=re("$ZodError",U2,{Parent:Error});function Fz(t,e=n=>n.message){const n={},r=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}function Bz(t,e=n=>n.message){const n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(c=>r({issues:c}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(e(o));else{let c=n,d=0;for(;d<o.path.length;){const h=o.path[d];d===o.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(e(o))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return r(t),n}const Gb=t=>(e,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise)throw new Dl;if(c.issues.length){const d=new(a?.Err??t)(c.issues.map(h=>vo(h,o,yo())));throw V2(d,a?.callee),d}return c.value},Kb=t=>async(e,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new(a?.Err??t)(c.issues.map(h=>vo(h,o,yo())));throw V2(d,a?.callee),d}return c.value},Qm=t=>(e,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Dl;return o.issues.length?{success:!1,error:new(t??F2)(o.issues.map(c=>vo(c,a,yo())))}:{success:!0,data:o.value}},qz=Qm(B2),Zm=t=>async(e,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(c=>vo(c,a,yo())))}:{success:!0,data:o.value}},$z=Zm(B2),Hz=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Gb(t)(e,n,a)},Gz=t=>(e,n,r)=>Gb(t)(e,n,r),Kz=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Kb(t)(e,n,a)},Qz=t=>async(e,n,r)=>Kb(t)(e,n,r),Zz=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Qm(t)(e,n,a)},Yz=t=>(e,n,r)=>Qm(t)(e,n,r),Xz=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Zm(t)(e,n,a)},Jz=t=>async(e,n,r)=>Zm(t)(e,n,r),Wz=/^[cC][^\s-]{8,}$/,e5=/^[0-9a-z]+$/,t5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,n5=/^[0-9a-vA-V]{20}$/,r5=/^[A-Za-z0-9]{27}$/,s5=/^[a-zA-Z0-9_-]{21}$/,i5=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,a5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,eT=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,o5=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,l5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function c5(){return new RegExp(l5,"u")}const u5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,d5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,h5=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,f5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,m5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,q2=/^[A-Za-z0-9_-]*$/,p5=/^\+[1-9]\d{6,14}$/,$2="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",g5=new RegExp(`^${$2}$`);function H2(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function y5(t){return new RegExp(`^${H2(t)}$`)}function v5(t){const e=H2({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${$2}T(?:${r})$`)}const b5=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},x5=/^-?\d+$/,_5=/^-?\d+(?:\.\d+)?$/,w5=/^[^A-Z]*$/,E5=/^[^a-z]*$/,Ln=re("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),G2={number:"number",bigint:"bigint",object:"date"},K2=re("$ZodCheckLessThan",(t,e)=>{Ln.init(t,e);const n=G2[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Q2=re("$ZodCheckGreaterThan",(t,e)=>{Ln.init(t,e);const n=G2[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),T5=re("$ZodCheckMultipleOf",(t,e)=>{Ln.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):Iz(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),S5=re("$ZodCheckNumberFormat",(t,e)=>{Ln.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[a,o]=kz[e.format];t._zod.onattach.push(c=>{const d=c._zod.bag;d.format=e.format,d.minimum=a,d.maximum=o,n&&(d.pattern=x5)}),t._zod.check=c=>{const d=c.value;if(n){if(!Number.isInteger(d)){c.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:d,inst:t});return}if(!Number.isSafeInteger(d)){d>0?c.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):c.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}d<a&&c.issues.push({origin:"number",input:d,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),d>o&&c.issues.push({origin:"number",input:d,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),A5=re("$ZodCheckMaxLength",(t,e)=>{var n;Ln.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!qb(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const a=r.value;if(a.length<=e.maximum)return;const c=Hb(a);r.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),N5=re("$ZodCheckMinLength",(t,e)=>{var n;Ln.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!qb(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const a=r.value;if(a.length>=e.minimum)return;const c=Hb(a);r.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),I5=re("$ZodCheckLengthEquals",(t,e)=>{var n;Ln.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!qb(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=r=>{const a=r.value,o=a.length;if(o===e.length)return;const c=Hb(a),d=o>e.length;r.issues.push({origin:c,...d?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Ym=re("$ZodCheckStringFormat",(t,e)=>{var n,r;Ln.init(t,e),t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),R5=re("$ZodCheckRegex",(t,e)=>{Ym.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),C5=re("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=w5),Ym.init(t,e)}),D5=re("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=E5),Ym.init(t,e)}),j5=re("$ZodCheckIncludes",(t,e)=>{Ln.init(t,e);const n=Zl(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),k5=re("$ZodCheckStartsWith",(t,e)=>{Ln.init(t,e);const n=new RegExp(`^${Zl(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),O5=re("$ZodCheckEndsWith",(t,e)=>{Ln.init(t,e);const n=new RegExp(`.*${Zl(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),P5=re("$ZodCheckOverwrite",(t,e)=>{Ln.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class M5{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(c=>c),a=Math.min(...r.map(c=>c.length-c.trimStart().length)),o=r.map(c=>c.slice(a)).map(c=>" ".repeat(this.indent*2)+c);for(const c of o)this.content.push(c)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,a.join(`
`))}}const V5={major:4,minor:3,patch:5},Rt=re("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=V5;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const o of a._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(c,d,h)=>{let g=Tl(c),v;for(const b of d){if(b._zod.def.when){if(!b._zod.def.when(c))continue}else if(g)continue;const E=c.issues.length,A=b._zod.check(c);if(A instanceof Promise&&h?.async===!1)throw new Dl;if(v||A instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await A,c.issues.length!==E&&(g||(g=Tl(c,E)))});else{if(c.issues.length===E)continue;g||(g=Tl(c,E))}}return v?v.then(()=>c):c},o=(c,d,h)=>{if(Tl(c))return c.aborted=!0,c;const g=a(d,r,h);if(g instanceof Promise){if(h.async===!1)throw new Dl;return g.then(v=>t._zod.parse(v,h))}return t._zod.parse(g,h)};t._zod.run=(c,d)=>{if(d.skipChecks)return t._zod.parse(c,d);if(d.direction==="backward"){const g=t._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return g instanceof Promise?g.then(v=>o(v,c,d)):o(g,c,d)}const h=t._zod.parse(c,d);if(h instanceof Promise){if(d.async===!1)throw new Dl;return h.then(g=>a(g,r,d))}return a(h,r,d)}}ot(t,"~standard",()=>({validate:a=>{try{const o=qz(t,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return $z(t,a).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}))}),Qb=re("$ZodString",(t,e)=>{Rt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??b5(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),_t=re("$ZodStringFormat",(t,e)=>{Ym.init(t,e),Qb.init(t,e)}),z5=re("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=a5),_t.init(t,e)}),L5=re("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=eT(r))}else e.pattern??(e.pattern=eT());_t.init(t,e)}),U5=re("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=o5),_t.init(t,e)}),F5=re("$ZodURL",(t,e)=>{_t.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),B5=re("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=c5()),_t.init(t,e)}),q5=re("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=s5),_t.init(t,e)}),$5=re("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Wz),_t.init(t,e)}),H5=re("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=e5),_t.init(t,e)}),G5=re("$ZodULID",(t,e)=>{e.pattern??(e.pattern=t5),_t.init(t,e)}),K5=re("$ZodXID",(t,e)=>{e.pattern??(e.pattern=n5),_t.init(t,e)}),Q5=re("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=r5),_t.init(t,e)}),Z5=re("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=v5(e)),_t.init(t,e)}),Y5=re("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=g5),_t.init(t,e)}),X5=re("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=y5(e)),_t.init(t,e)}),J5=re("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=i5),_t.init(t,e)}),W5=re("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=u5),_t.init(t,e),t._zod.bag.format="ipv4"}),eL=re("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=d5),_t.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),tL=re("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=h5),_t.init(t,e)}),nL=re("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=f5),_t.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,o]=r;if(!o)throw new Error;const c=Number(o);if(`${c}`!==o)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function Z2(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const rL=re("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=m5),_t.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{Z2(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function sL(t){if(!q2.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return Z2(n)}const iL=re("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=q2),_t.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{sL(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),aL=re("$ZodE164",(t,e)=>{e.pattern??(e.pattern=p5),_t.init(t,e)});function oL(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const lL=re("$ZodJWT",(t,e)=>{_t.init(t,e),t._zod.check=n=>{oL(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),Y2=re("$ZodNumber",(t,e)=>{Rt.init(t,e),t._zod.pattern=t._zod.bag.pattern??_5,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...o?{received:o}:{}}),n}}),cL=re("$ZodNumberFormat",(t,e)=>{S5.init(t,e),Y2.init(t,e)}),uL=re("$ZodUnknown",(t,e)=>{Rt.init(t,e),t._zod.parse=n=>n}),dL=re("$ZodNever",(t,e)=>{Rt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),hL=re("$ZodDate",(t,e)=>{Rt.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const a=n.value,o=a instanceof Date;return o&&!Number.isNaN(a.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:a,...o?{received:"Invalid Date"}:{},inst:t}),n}});function tT(t,e,n){t.issues.length&&e.issues.push(...L2(n,t.issues)),e.value[n]=t.value}const fL=re("$ZodArray",(t,e)=>{Rt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const o=[];for(let c=0;c<a.length;c++){const d=a[c],h=e.element._zod.run({value:d,issues:[]},r);h instanceof Promise?o.push(h.then(g=>tT(g,n,c))):tT(h,n,c)}return o.length?Promise.all(o).then(()=>n):n}});function mm(t,e,n,r,a){if(t.issues.length){if(a&&!(n in r))return;e.issues.push(...L2(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function X2(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=jz(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function J2(t,e,n,r,a,o){const c=[],d=a.keySet,h=a.catchall._zod,g=h.def.type,v=h.optout==="optional";for(const b in e){if(d.has(b))continue;if(g==="never"){c.push(b);continue}const E=h.run({value:e[b],issues:[]},r);E instanceof Promise?t.push(E.then(A=>mm(A,n,b,e,v))):mm(E,n,b,e,v)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const mL=re("$ZodObject",(t,e)=>{if(Rt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const d=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...d};return Object.defineProperty(e,"shape",{value:h}),h}})}const r=Bb(()=>X2(e));ot(t._zod,"propValues",()=>{const d=e.shape,h={};for(const g in d){const v=d[g]._zod;if(v.values){h[g]??(h[g]=new Set);for(const b of v.values)h[g].add(b)}}return h});const a=fm,o=e.catchall;let c;t._zod.parse=(d,h)=>{c??(c=r.value);const g=d.value;if(!a(g))return d.issues.push({expected:"object",code:"invalid_type",input:g,inst:t}),d;d.value={};const v=[],b=c.shape;for(const E of c.keys){const A=b[E],j=A._zod.optout==="optional",D=A._zod.run({value:g[E],issues:[]},h);D instanceof Promise?v.push(D.then(O=>mm(O,d,E,g,j))):mm(D,d,E,g,j)}return o?J2(v,g,d,h,r.value,t):v.length?Promise.all(v).then(()=>d):d}}),pL=re("$ZodObjectJIT",(t,e)=>{mL.init(t,e);const n=t._zod.parse,r=Bb(()=>X2(e)),a=E=>{const A=new M5(["shape","payload","ctx"]),j=r.value,D=Z=>{const ae=W1(Z);return`shape[${ae}]._zod.run({ value: input[${ae}], issues: [] }, ctx)`};A.write("const input = payload.value;");const O=Object.create(null);let J=0;for(const Z of j.keys)O[Z]=`key_${J++}`;A.write("const newResult = {};");for(const Z of j.keys){const ae=O[Z],le=W1(Z),I=E[Z]?._zod?.optout==="optional";A.write(`const ${ae} = ${D(Z)};`),I?A.write(`
        if (${ae}.issues.length) {
          if (${le} in input) {
            payload.issues = payload.issues.concat(${ae}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${le}, ...iss.path] : [${le}]
            })));
          }
        }
        
        if (${ae}.value === undefined) {
          if (${le} in input) {
            newResult[${le}] = undefined;
          }
        } else {
          newResult[${le}] = ${ae}.value;
        }
        
      `):A.write(`
        if (${ae}.issues.length) {
          payload.issues = payload.issues.concat(${ae}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${le}, ...iss.path] : [${le}]
          })));
        }
        
        if (${ae}.value === undefined) {
          if (${le} in input) {
            newResult[${le}] = undefined;
          }
        } else {
          newResult[${le}] = ${ae}.value;
        }
        
      `)}A.write("payload.value = newResult;"),A.write("return payload;");const $=A.compile();return(Z,ae)=>$(E,Z,ae)};let o;const c=fm,d=!P2.jitless,g=d&&Cz.value,v=e.catchall;let b;t._zod.parse=(E,A)=>{b??(b=r.value);const j=E.value;return c(j)?d&&g&&A?.async===!1&&A.jitless!==!0?(o||(o=a(e.shape)),E=o(E,A),v?J2([],j,E,A,b,t):E):n(E,A):(E.issues.push({expected:"object",code:"invalid_type",input:j,inst:t}),E)}});function nT(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const a=t.filter(o=>!Tl(o));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(c=>vo(c,r,yo())))}),e)}const gL=re("$ZodUnion",(t,e)=>{Rt.init(t,e),ot(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),ot(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),ot(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),ot(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>$b(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(a,o)=>{if(n)return r(a,o);let c=!1;const d=[];for(const h of e.options){const g=h._zod.run({value:a.value,issues:[]},o);if(g instanceof Promise)d.push(g),c=!0;else{if(g.issues.length===0)return g;d.push(g)}}return c?Promise.all(d).then(h=>nT(h,a,t,o)):nT(d,a,t,o)}}),yL=re("$ZodIntersection",(t,e)=>{Rt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value,o=e.left._zod.run({value:a,issues:[]},r),c=e.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||c instanceof Promise?Promise.all([o,c]).then(([h,g])=>rT(n,h,g)):rT(n,o,c)}});function fv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(sd(t)&&sd(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),a={...t,...e};for(const o of r){const c=fv(t[o],e[o]);if(!c.valid)return{valid:!1,mergeErrorPath:[o,...c.mergeErrorPath]};a[o]=c.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const a=t[r],o=e[r],c=fv(a,o);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function rT(t,e,n){const r=new Map;let a;for(const d of e.issues)if(d.code==="unrecognized_keys"){a??(a=d);for(const h of d.keys)r.has(h)||r.set(h,{}),r.get(h).l=!0}else t.issues.push(d);for(const d of n.issues)if(d.code==="unrecognized_keys")for(const h of d.keys)r.has(h)||r.set(h,{}),r.get(h).r=!0;else t.issues.push(d);const o=[...r].filter(([,d])=>d.l&&d.r).map(([d])=>d);if(o.length&&a&&t.issues.push({...a,keys:o}),Tl(t))return t;const c=fv(e.value,n.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return t.value=c.data,t}const vL=re("$ZodEnum",(t,e)=>{Rt.init(t,e);const n=M2(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(a=>Dz.has(typeof a)).map(a=>typeof a=="string"?Zl(a):a.toString()).join("|")})$`),t._zod.parse=(a,o)=>{const c=a.value;return r.has(c)||a.issues.push({code:"invalid_value",values:n,input:c,inst:t}),a}}),bL=re("$ZodLiteral",(t,e)=>{if(Rt.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?Zl(r):r?Zl(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,a)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),r}}),xL=re("$ZodTransform",(t,e)=>{Rt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new O2(t.constructor.name);const a=e.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(c=>(n.value=c,n));if(a instanceof Promise)throw new Dl;return n.value=a,n}});function sT(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const W2=re("$ZodOptional",(t,e)=>{Rt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",ot(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),ot(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${$b(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>sT(o,n.value)):sT(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),_L=re("$ZodExactOptional",(t,e)=>{W2.init(t,e),ot(t._zod,"values",()=>e.innerType._zod.values),ot(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),wL=re("$ZodNullable",(t,e)=>{Rt.init(t,e),ot(t._zod,"optin",()=>e.innerType._zod.optin),ot(t._zod,"optout",()=>e.innerType._zod.optout),ot(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${$b(n.source)}|null)$`):void 0}),ot(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),EL=re("$ZodDefault",(t,e)=>{Rt.init(t,e),t._zod.optin="optional",ot(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>iT(o,e)):iT(a,e)}});function iT(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const TL=re("$ZodPrefault",(t,e)=>{Rt.init(t,e),t._zod.optin="optional",ot(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),SL=re("$ZodNonOptional",(t,e)=>{Rt.init(t,e),ot(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>aT(o,t)):aT(a,t)}});function aT(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const AL=re("$ZodCatch",(t,e)=>{Rt.init(t,e),ot(t._zod,"optin",()=>e.innerType._zod.optin),ot(t._zod,"optout",()=>e.innerType._zod.optout),ot(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(c=>vo(c,r,yo()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(o=>vo(o,r,yo()))},input:n.value}),n.issues=[]),n)}}),NL=re("$ZodPipe",(t,e)=>{Rt.init(t,e),ot(t._zod,"values",()=>e.in._zod.values),ot(t._zod,"optin",()=>e.in._zod.optin),ot(t._zod,"optout",()=>e.out._zod.optout),ot(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(c=>ff(c,e.in,r)):ff(o,e.in,r)}const a=e.in._zod.run(n,r);return a instanceof Promise?a.then(o=>ff(o,e.out,r)):ff(a,e.out,r)}});function ff(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const IL=re("$ZodReadonly",(t,e)=>{Rt.init(t,e),ot(t._zod,"propValues",()=>e.innerType._zod.propValues),ot(t._zod,"values",()=>e.innerType._zod.values),ot(t._zod,"optin",()=>e.innerType?._zod?.optin),ot(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(oT):oT(a)}});function oT(t){return t.value=Object.freeze(t.value),t}const RL=re("$ZodCustom",(t,e)=>{Ln.init(t,e),Rt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,a=e.fn(r);if(a instanceof Promise)return a.then(o=>lT(o,n,r,t));lT(a,n,r,t)}});function lT(t,e,n,r){if(!t){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),e.issues.push(id(a))}}var cT;class CL{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function DL(){return new CL}(cT=globalThis).__zod_globalRegistry??(cT.__zod_globalRegistry=DL());const Cu=globalThis.__zod_globalRegistry;function jL(t,e){return new t({type:"string",...Te(e)})}function kL(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Te(e)})}function uT(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Te(e)})}function OL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Te(e)})}function PL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Te(e)})}function ML(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Te(e)})}function VL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Te(e)})}function zL(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Te(e)})}function LL(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Te(e)})}function UL(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Te(e)})}function FL(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Te(e)})}function BL(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Te(e)})}function qL(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Te(e)})}function $L(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Te(e)})}function HL(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Te(e)})}function GL(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Te(e)})}function KL(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Te(e)})}function QL(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Te(e)})}function ZL(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Te(e)})}function YL(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Te(e)})}function XL(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Te(e)})}function JL(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Te(e)})}function WL(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Te(e)})}function eU(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Te(e)})}function tU(t,e){return new t({type:"string",format:"date",check:"string_format",...Te(e)})}function nU(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Te(e)})}function rU(t,e){return new t({type:"string",format:"duration",check:"string_format",...Te(e)})}function sU(t,e){return new t({type:"number",checks:[],...Te(e)})}function iU(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Te(e)})}function aU(t){return new t({type:"unknown"})}function oU(t,e){return new t({type:"never",...Te(e)})}function lU(t,e){return new t({type:"date",...Te(e)})}function dT(t,e){return new K2({check:"less_than",...Te(e),value:t,inclusive:!1})}function Of(t,e){return new K2({check:"less_than",...Te(e),value:t,inclusive:!0})}function hT(t,e){return new Q2({check:"greater_than",...Te(e),value:t,inclusive:!1})}function Pf(t,e){return new Q2({check:"greater_than",...Te(e),value:t,inclusive:!0})}function fT(t,e){return new T5({check:"multiple_of",...Te(e),value:t})}function eI(t,e){return new A5({check:"max_length",...Te(e),maximum:t})}function pm(t,e){return new N5({check:"min_length",...Te(e),minimum:t})}function tI(t,e){return new I5({check:"length_equals",...Te(e),length:t})}function cU(t,e){return new R5({check:"string_format",format:"regex",...Te(e),pattern:t})}function uU(t){return new C5({check:"string_format",format:"lowercase",...Te(t)})}function dU(t){return new D5({check:"string_format",format:"uppercase",...Te(t)})}function hU(t,e){return new j5({check:"string_format",format:"includes",...Te(e),includes:t})}function fU(t,e){return new k5({check:"string_format",format:"starts_with",...Te(e),prefix:t})}function mU(t,e){return new O5({check:"string_format",format:"ends_with",...Te(e),suffix:t})}function cc(t){return new P5({check:"overwrite",tx:t})}function pU(t){return cc(e=>e.normalize(t))}function gU(){return cc(t=>t.trim())}function yU(){return cc(t=>t.toLowerCase())}function vU(){return cc(t=>t.toUpperCase())}function bU(){return cc(t=>Rz(t))}function xU(t,e,n){return new t({type:"array",element:e,...Te(n)})}function _U(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Te(n)})}function wU(t){const e=EU(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(id(r,n.value,e._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(id(a))}},t(n.value,n)));return e}function EU(t,e){const n=new Ln({check:"custom",...Te(e)});return n._zod.check=t,n}function nI(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Cu,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function mn(t,e,n={path:[],schemaPath:[]}){var r;const a=t._zod.def,o=e.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,c);const d=t._zod.toJSONSchema?.();if(d)c.schema=d;else{const v={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,c.schema,v);else{const E=c.schema,A=e.processors[a.type];if(!A)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);A(t,e,E,v)}const b=t._zod.parent;b&&(c.ref||(c.ref=b),mn(b,e,v),e.seen.get(b).isParent=!0)}const h=e.metadataRegistry.get(t);return h&&Object.assign(c.schema,h),e.io==="input"&&En(t)&&(delete c.schema.examples,delete c.schema.default),e.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,e.seen.get(t).schema}function rI(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const c of t.seen.entries()){const d=t.metadataRegistry.get(c[0])?.id;if(d){const h=r.get(d);if(h&&h!==c[0])throw new Error(`Duplicate schema id "${d}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(d,c[0])}}const a=c=>{const d=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const b=t.external.registry.get(c[0])?.id,E=t.external.uri??(j=>j);if(b)return{ref:E(b)};const A=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=A,{defId:A,ref:`${E("__shared")}#/${d}/${A}`}}if(c[1]===n)return{ref:"#"};const g=`#/${d}/`,v=c[1].schema.id??`__schema${t.counter++}`;return{defId:v,ref:g+v}},o=c=>{if(c[1].schema.$ref)return;const d=c[1],{ref:h,defId:g}=a(c);d.def={...d.schema},g&&(d.defId=g);const v=d.schema;for(const b in v)delete v[b];v.$ref=h};if(t.cycles==="throw")for(const c of t.seen.entries()){const d=c[1];if(d.cycle)throw new Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const d=c[1];if(e===c[0]){o(c);continue}if(t.external){const g=t.external.registry.get(c[0])?.id;if(e!==c[0]&&g){o(c);continue}}if(t.metadataRegistry.get(c[0])?.id){o(c);continue}if(d.cycle){o(c);continue}if(d.count>1&&t.reused==="ref"){o(c);continue}}}function sI(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=c=>{const d=t.seen.get(c);if(d.ref===null)return;const h=d.def??d.schema,g={...h},v=d.ref;if(d.ref=null,v){r(v);const E=t.seen.get(v),A=E.schema;if(A.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(h.allOf=h.allOf??[],h.allOf.push(A)):Object.assign(h,A),Object.assign(h,g),c._zod.parent===v)for(const D in h)D==="$ref"||D==="allOf"||D in g||delete h[D];if(A.$ref)for(const D in h)D==="$ref"||D==="allOf"||D in E.def&&JSON.stringify(h[D])===JSON.stringify(E.def[D])&&delete h[D]}const b=c._zod.parent;if(b&&b!==v){r(b);const E=t.seen.get(b);if(E?.schema.$ref&&(h.$ref=E.schema.$ref,E.def))for(const A in h)A==="$ref"||A==="allOf"||A in E.def&&JSON.stringify(h[A])===JSON.stringify(E.def[A])&&delete h[A]}t.override({zodSchema:c,jsonSchema:h,path:d.path??[]})};for(const c of[...t.seen.entries()].reverse())r(c[0]);const a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const c=t.external.registry.get(e)?.id;if(!c)throw new Error("Schema is missing an `id` property");a.$id=t.external.uri(c)}Object.assign(a,n.def??n.schema);const o=t.external?.defs??{};for(const c of t.seen.entries()){const d=c[1];d.def&&d.defId&&(o[d.defId]=d.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?a.$defs=o:a.definitions=o);try{const c=JSON.parse(JSON.stringify(a));return Object.defineProperty(c,"~standard",{value:{...e["~standard"],jsonSchema:{input:gm(e,"input",t.processors),output:gm(e,"output",t.processors)}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function En(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return En(r.element,n);if(r.type==="set")return En(r.valueType,n);if(r.type==="lazy")return En(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return En(r.innerType,n);if(r.type==="intersection")return En(r.left,n)||En(r.right,n);if(r.type==="record"||r.type==="map")return En(r.keyType,n)||En(r.valueType,n);if(r.type==="pipe")return En(r.in,n)||En(r.out,n);if(r.type==="object"){for(const a in r.shape)if(En(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(En(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(En(a,n))return!0;return!!(r.rest&&En(r.rest,n))}return!1}const TU=(t,e={})=>n=>{const r=nI({...n,processors:e});return mn(t,r),rI(r,t),sI(r,t)},gm=(t,e,n={})=>r=>{const{libraryOptions:a,target:o}=r??{},c=nI({...a??{},target:o,io:e,processors:n});return mn(t,c),rI(c,t),sI(c,t)},SU={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},AU=(t,e,n,r)=>{const a=n;a.type="string";const{minimum:o,maximum:c,format:d,patterns:h,contentEncoding:g}=t._zod.bag;if(typeof o=="number"&&(a.minLength=o),typeof c=="number"&&(a.maxLength=c),d&&(a.format=SU[d]??d,a.format===""&&delete a.format,d==="time"&&delete a.format),g&&(a.contentEncoding=g),h&&h.size>0){const v=[...h];v.length===1?a.pattern=v[0].source:v.length>1&&(a.allOf=[...v.map(b=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:b.source}))])}},NU=(t,e,n,r)=>{const a=n,{minimum:o,maximum:c,format:d,multipleOf:h,exclusiveMaximum:g,exclusiveMinimum:v}=t._zod.bag;typeof d=="string"&&d.includes("int")?a.type="integer":a.type="number",typeof v=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.minimum=v,a.exclusiveMinimum=!0):a.exclusiveMinimum=v),typeof o=="number"&&(a.minimum=o,typeof v=="number"&&e.target!=="draft-04"&&(v>=o?delete a.minimum:delete a.exclusiveMinimum)),typeof g=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.maximum=g,a.exclusiveMaximum=!0):a.exclusiveMaximum=g),typeof c=="number"&&(a.maximum=c,typeof g=="number"&&e.target!=="draft-04"&&(g<=c?delete a.maximum:delete a.exclusiveMaximum)),typeof h=="number"&&(a.multipleOf=h)},IU=(t,e,n,r)=>{n.not={}},RU=(t,e,n,r)=>{},CU=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},DU=(t,e,n,r)=>{const a=t._zod.def,o=M2(a.entries);o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),n.enum=o},jU=(t,e,n,r)=>{const a=t._zod.def,o=[];for(const c of a.values)if(c===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof c=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(c))}else o.push(c);if(o.length!==0)if(o.length===1){const c=o[0];n.type=c===null?"null":typeof c,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[c]:n.const=c}else o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),o.every(c=>typeof c=="boolean")&&(n.type="boolean"),o.every(c=>c===null)&&(n.type="null"),n.enum=o},kU=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},OU=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},PU=(t,e,n,r)=>{const a=n,o=t._zod.def,{minimum:c,maximum:d}=t._zod.bag;typeof c=="number"&&(a.minItems=c),typeof d=="number"&&(a.maxItems=d),a.type="array",a.items=mn(o.element,e,{...r,path:[...r.path,"items"]})},MU=(t,e,n,r)=>{const a=n,o=t._zod.def;a.type="object",a.properties={};const c=o.shape;for(const g in c)a.properties[g]=mn(c[g],e,{...r,path:[...r.path,"properties",g]});const d=new Set(Object.keys(c)),h=new Set([...d].filter(g=>{const v=o.shape[g]._zod;return e.io==="input"?v.optin===void 0:v.optout===void 0}));h.size>0&&(a.required=Array.from(h)),o.catchall?._zod.def.type==="never"?a.additionalProperties=!1:o.catchall?o.catchall&&(a.additionalProperties=mn(o.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(a.additionalProperties=!1)},VU=(t,e,n,r)=>{const a=t._zod.def,o=a.inclusive===!1,c=a.options.map((d,h)=>mn(d,e,{...r,path:[...r.path,o?"oneOf":"anyOf",h]}));o?n.oneOf=c:n.anyOf=c},zU=(t,e,n,r)=>{const a=t._zod.def,o=mn(a.left,e,{...r,path:[...r.path,"allOf",0]}),c=mn(a.right,e,{...r,path:[...r.path,"allOf",1]}),d=g=>"allOf"in g&&Object.keys(g).length===1,h=[...d(o)?o.allOf:[o],...d(c)?c.allOf:[c]];n.allOf=h},LU=(t,e,n,r)=>{const a=t._zod.def,o=mn(a.innerType,e,r),c=e.seen.get(t);e.target==="openapi-3.0"?(c.ref=a.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},UU=(t,e,n,r)=>{const a=t._zod.def;mn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},FU=(t,e,n,r)=>{const a=t._zod.def;mn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},BU=(t,e,n,r)=>{const a=t._zod.def;mn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},qU=(t,e,n,r)=>{const a=t._zod.def;mn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType;let c;try{c=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},$U=(t,e,n,r)=>{const a=t._zod.def,o=e.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;mn(o,e,r);const c=e.seen.get(t);c.ref=o},HU=(t,e,n,r)=>{const a=t._zod.def;mn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.readOnly=!0},iI=(t,e,n,r)=>{const a=t._zod.def;mn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},GU=re("ZodISODateTime",(t,e)=>{Z5.init(t,e),Tt.init(t,e)});function KU(t){return eU(GU,t)}const QU=re("ZodISODate",(t,e)=>{Y5.init(t,e),Tt.init(t,e)});function ZU(t){return tU(QU,t)}const YU=re("ZodISOTime",(t,e)=>{X5.init(t,e),Tt.init(t,e)});function XU(t){return nU(YU,t)}const JU=re("ZodISODuration",(t,e)=>{J5.init(t,e),Tt.init(t,e)});function WU(t){return rU(JU,t)}const e9=(t,e)=>{F2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>Bz(t,n)},flatten:{value:n=>Fz(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,hv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,hv,2)}},isEmpty:{get(){return t.issues.length===0}}})},_r=re("ZodError",e9,{Parent:Error}),t9=Gb(_r),n9=Kb(_r),r9=Qm(_r),s9=Zm(_r),i9=Hz(_r),a9=Gz(_r),o9=Kz(_r),l9=Qz(_r),c9=Zz(_r),u9=Yz(_r),d9=Xz(_r),h9=Jz(_r),Ct=re("ZodType",(t,e)=>(Rt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:gm(t,"input"),output:gm(t,"output")}}),t.toJSONSchema=TU(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(sa(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>ia(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>t9(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>r9(t,n,r),t.parseAsync=async(n,r)=>n9(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>s9(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>i9(t,n,r),t.decode=(n,r)=>a9(t,n,r),t.encodeAsync=async(n,r)=>o9(t,n,r),t.decodeAsync=async(n,r)=>l9(t,n,r),t.safeEncode=(n,r)=>c9(t,n,r),t.safeDecode=(n,r)=>u9(t,n,r),t.safeEncodeAsync=async(n,r)=>d9(t,n,r),t.safeDecodeAsync=async(n,r)=>h9(t,n,r),t.refine=(n,r)=>t.check(a8(n,r)),t.superRefine=n=>t.check(o8(n)),t.overwrite=n=>t.check(cc(n)),t.optional=()=>yT(t),t.exactOptional=()=>K9(t),t.nullable=()=>vT(t),t.nullish=()=>yT(vT(t)),t.nonoptional=n=>W9(t,n),t.array=()=>Zb(t),t.or=n=>Yb([t,n]),t.and=n=>F9(t,n),t.transform=n=>bT(t,H9(n)),t.default=n=>Y9(t,n),t.prefault=n=>J9(t,n),t.catch=n=>t8(t,n),t.pipe=n=>bT(t,n),t.readonly=()=>s8(t),t.describe=n=>{const r=t.clone();return Cu.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Cu.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Cu.get(t);const r=t.clone();return Cu.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),aI=re("_ZodString",(t,e)=>{Qb.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(r,a,o)=>AU(t,r,a);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(cU(...r)),t.includes=(...r)=>t.check(hU(...r)),t.startsWith=(...r)=>t.check(fU(...r)),t.endsWith=(...r)=>t.check(mU(...r)),t.min=(...r)=>t.check(pm(...r)),t.max=(...r)=>t.check(eI(...r)),t.length=(...r)=>t.check(tI(...r)),t.nonempty=(...r)=>t.check(pm(1,...r)),t.lowercase=r=>t.check(uU(r)),t.uppercase=r=>t.check(dU(r)),t.trim=()=>t.check(gU()),t.normalize=(...r)=>t.check(pU(...r)),t.toLowerCase=()=>t.check(yU()),t.toUpperCase=()=>t.check(vU()),t.slugify=()=>t.check(bU())}),f9=re("ZodString",(t,e)=>{Qb.init(t,e),aI.init(t,e),t.email=n=>t.check(kL(m9,n)),t.url=n=>t.check(zL(p9,n)),t.jwt=n=>t.check(WL(C9,n)),t.emoji=n=>t.check(LL(g9,n)),t.guid=n=>t.check(uT(mT,n)),t.uuid=n=>t.check(OL(mf,n)),t.uuidv4=n=>t.check(PL(mf,n)),t.uuidv6=n=>t.check(ML(mf,n)),t.uuidv7=n=>t.check(VL(mf,n)),t.nanoid=n=>t.check(UL(y9,n)),t.guid=n=>t.check(uT(mT,n)),t.cuid=n=>t.check(FL(v9,n)),t.cuid2=n=>t.check(BL(b9,n)),t.ulid=n=>t.check(qL(x9,n)),t.base64=n=>t.check(YL(N9,n)),t.base64url=n=>t.check(XL(I9,n)),t.xid=n=>t.check($L(_9,n)),t.ksuid=n=>t.check(HL(w9,n)),t.ipv4=n=>t.check(GL(E9,n)),t.ipv6=n=>t.check(KL(T9,n)),t.cidrv4=n=>t.check(QL(S9,n)),t.cidrv6=n=>t.check(ZL(A9,n)),t.e164=n=>t.check(JL(R9,n)),t.datetime=n=>t.check(KU(n)),t.date=n=>t.check(ZU(n)),t.time=n=>t.check(XU(n)),t.duration=n=>t.check(WU(n))});function An(t){return jL(f9,t)}const Tt=re("ZodStringFormat",(t,e)=>{_t.init(t,e),aI.init(t,e)}),m9=re("ZodEmail",(t,e)=>{U5.init(t,e),Tt.init(t,e)}),mT=re("ZodGUID",(t,e)=>{z5.init(t,e),Tt.init(t,e)}),mf=re("ZodUUID",(t,e)=>{L5.init(t,e),Tt.init(t,e)}),p9=re("ZodURL",(t,e)=>{F5.init(t,e),Tt.init(t,e)}),g9=re("ZodEmoji",(t,e)=>{B5.init(t,e),Tt.init(t,e)}),y9=re("ZodNanoID",(t,e)=>{q5.init(t,e),Tt.init(t,e)}),v9=re("ZodCUID",(t,e)=>{$5.init(t,e),Tt.init(t,e)}),b9=re("ZodCUID2",(t,e)=>{H5.init(t,e),Tt.init(t,e)}),x9=re("ZodULID",(t,e)=>{G5.init(t,e),Tt.init(t,e)}),_9=re("ZodXID",(t,e)=>{K5.init(t,e),Tt.init(t,e)}),w9=re("ZodKSUID",(t,e)=>{Q5.init(t,e),Tt.init(t,e)}),E9=re("ZodIPv4",(t,e)=>{W5.init(t,e),Tt.init(t,e)}),T9=re("ZodIPv6",(t,e)=>{eL.init(t,e),Tt.init(t,e)}),S9=re("ZodCIDRv4",(t,e)=>{tL.init(t,e),Tt.init(t,e)}),A9=re("ZodCIDRv6",(t,e)=>{nL.init(t,e),Tt.init(t,e)}),N9=re("ZodBase64",(t,e)=>{rL.init(t,e),Tt.init(t,e)}),I9=re("ZodBase64URL",(t,e)=>{iL.init(t,e),Tt.init(t,e)}),R9=re("ZodE164",(t,e)=>{aL.init(t,e),Tt.init(t,e)}),C9=re("ZodJWT",(t,e)=>{lL.init(t,e),Tt.init(t,e)}),oI=re("ZodNumber",(t,e)=>{Y2.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(r,a,o)=>NU(t,r,a),t.gt=(r,a)=>t.check(hT(r,a)),t.gte=(r,a)=>t.check(Pf(r,a)),t.min=(r,a)=>t.check(Pf(r,a)),t.lt=(r,a)=>t.check(dT(r,a)),t.lte=(r,a)=>t.check(Of(r,a)),t.max=(r,a)=>t.check(Of(r,a)),t.int=r=>t.check(pT(r)),t.safe=r=>t.check(pT(r)),t.positive=r=>t.check(hT(0,r)),t.nonnegative=r=>t.check(Pf(0,r)),t.negative=r=>t.check(dT(0,r)),t.nonpositive=r=>t.check(Of(0,r)),t.multipleOf=(r,a)=>t.check(fT(r,a)),t.step=(r,a)=>t.check(fT(r,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function ym(t){return sU(oI,t)}const D9=re("ZodNumberFormat",(t,e)=>{cL.init(t,e),oI.init(t,e)});function pT(t){return iU(D9,t)}const j9=re("ZodUnknown",(t,e)=>{uL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>RU()});function gT(){return aU(j9)}const k9=re("ZodNever",(t,e)=>{dL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>IU(t,n,r)});function O9(t){return oU(k9,t)}const P9=re("ZodDate",(t,e)=>{hL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(r,a,o)=>CU(t,r),t.min=(r,a)=>t.check(Pf(r,a)),t.max=(r,a)=>t.check(Of(r,a));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function M9(t){return lU(P9,t)}const V9=re("ZodArray",(t,e)=>{fL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>PU(t,n,r,a),t.element=e.element,t.min=(n,r)=>t.check(pm(n,r)),t.nonempty=n=>t.check(pm(1,n)),t.max=(n,r)=>t.check(eI(n,r)),t.length=(n,r)=>t.check(tI(n,r)),t.unwrap=()=>t.element});function Zb(t,e){return xU(V9,t,e)}const z9=re("ZodObject",(t,e)=>{pL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>MU(t,n,r,a),ot(t,"shape",()=>e.shape),t.keyof=()=>B9(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:gT()}),t.loose=()=>t.clone({...t._zod.def,catchall:gT()}),t.strict=()=>t.clone({...t._zod.def,catchall:O9()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Mz(t,n),t.safeExtend=n=>Vz(t,n),t.merge=n=>zz(t,n),t.pick=n=>Oz(t,n),t.omit=n=>Pz(t,n),t.partial=(...n)=>Lz(lI,t,n[0]),t.required=(...n)=>Uz(cI,t,n[0])});function Ed(t,e){const n={type:"object",shape:t??{},...Te(e)};return new z9(n)}const L9=re("ZodUnion",(t,e)=>{gL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>VU(t,n,r,a),t.options=e.options});function Yb(t,e){return new L9({type:"union",options:t,...Te(e)})}const U9=re("ZodIntersection",(t,e)=>{yL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>zU(t,n,r,a)});function F9(t,e){return new U9({type:"intersection",left:t,right:e})}const mv=re("ZodEnum",(t,e)=>{vL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(r,a,o)=>DU(t,r,a),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,a)=>{const o={};for(const c of r)if(n.has(c))o[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new mv({...e,checks:[],...Te(a),entries:o})},t.exclude=(r,a)=>{const o={...e.entries};for(const c of r)if(n.has(c))delete o[c];else throw new Error(`Key ${c} not found in enum`);return new mv({...e,checks:[],...Te(a),entries:o})}});function B9(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new mv({type:"enum",entries:n,...Te(e)})}const q9=re("ZodLiteral",(t,e)=>{bL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>jU(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function vm(t,e){return new q9({type:"literal",values:Array.isArray(t)?t:[t],...Te(e)})}const $9=re("ZodTransform",(t,e)=>{xL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>OU(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new O2(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(id(o,n.value,e));else{const c=o;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(id(c))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function H9(t){return new $9({type:"transform",transform:t})}const lI=re("ZodOptional",(t,e)=>{W2.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>iI(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function yT(t){return new lI({type:"optional",innerType:t})}const G9=re("ZodExactOptional",(t,e)=>{_L.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>iI(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function K9(t){return new G9({type:"optional",innerType:t})}const Q9=re("ZodNullable",(t,e)=>{wL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>LU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function vT(t){return new Q9({type:"nullable",innerType:t})}const Z9=re("ZodDefault",(t,e)=>{EL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>FU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Y9(t,e){return new Z9({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():z2(e)}})}const X9=re("ZodPrefault",(t,e)=>{TL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>BU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function J9(t,e){return new X9({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():z2(e)}})}const cI=re("ZodNonOptional",(t,e)=>{SL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>UU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function W9(t,e){return new cI({type:"nonoptional",innerType:t,...Te(e)})}const e8=re("ZodCatch",(t,e)=>{AL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>qU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function t8(t,e){return new e8({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const n8=re("ZodPipe",(t,e)=>{NL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>$U(t,n,r,a),t.in=e.in,t.out=e.out});function bT(t,e){return new n8({type:"pipe",in:t,out:e})}const r8=re("ZodReadonly",(t,e)=>{IL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>HU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function s8(t){return new r8({type:"readonly",innerType:t})}const i8=re("ZodCustom",(t,e)=>{RL.init(t,e),Ct.init(t,e),t._zod.processJSONSchema=(n,r,a)=>kU(t,n)});function a8(t,e={}){return _U(i8,t,e)}function o8(t){return wU(t)}const l8=Ed({id:An().optional(),name:An().min(1),dupr:ym().nonnegative().optional(),imageUrl:An().optional(),createdAt:An().optional()}),Xb=Yb([vm(1),vm(2)]),xT=Ed({player1Id:An(),player2Id:An()}),c8=Ed({id:An().optional(),team1:xT,team2:xT,team1Score:ym().nonnegative().optional(),team2Score:ym().nonnegative().optional(),courtId:An().optional(),roundNumber:Xb}),u8=Ed({id:An().optional(),playerIds:Zb(An()).length(4),roundNumber:Xb,courtNumber:ym().positive()}),d8=Yb([vm("initial"),Xb,vm("standings")]),h8=Ed({id:An(),name:An(),startDateTime:M9(),location:An().optional(),link:An().optional(),ongoingStage:d8.optional(),standings:Zb(An()).optional()}),f8=t=>({EeI9ewBfoKpSajmerLDH:"John Doe",GqsPoUKXTw3kJMSJqwU0:"Jane Smith",RGq6NFnJfWIcvQqdifLt:"Alex Johnson",T28AtFw8KdQU23bXrGKh:"Rock Star",TMUWdVphOwXWWpBD0tg4:"Michael Lee",W3tjD6JMTZvL7h9DBekb:"Sarah Kim",bmIXpKlFhwhNuex6mG3a:"Chris Brown",cFbaelu4ZQhUiUovuSDq:"Hayden Patriquin",de634TOQoQt6DcvdllTE:"David Wilson",ev1yGMQ2TwdWVulSScR3:"Ashley Moore",lR41KMImIthFWUlTfvcq:"Brian Clark",ov1yJixQu0Y7GgSVGOS3:"Olivia Hall",s9CKyNz5sETtOI6s9gJb:"Matthew Young",sBaVpfAOMRsqcUiaVdXN:"Sophia King",sewQTUTqabMCEYb80N8L:"Daniel Wright",tgJHqe0ToCymKcHIthmM:"Megan Scott",v8BhDF0WAc6VgcOwc87B:"Ryan Adams",wekFMjCMfuI7MNNVYVnO:"Lauren Baker",zi6ygH5Iais5EPUVR0Ix:"Kevin Perez","55YtackrvsPralsAJY2V":"Natalie Roberts"})[t];function m8(t){if(t){if(typeof t?.toDate=="function")return t.toDate().toISOString();if(typeof t=="string")return t}}function p8(t){if(t){if(typeof t?.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);if(!isNaN(e.getTime()))return e}}}const g8={toFirestore(t){const{id:e,createdAt:n,...r}=t;return{...r,createdAt:n||WN()}},fromFirestore(t,e){const n=t.data(e),r=f8(t.id);r||console.log("No demo name for player id:",t.id);const a=r||n.name,o={id:t.id,name:a,dupr:n.dupr,imageUrl:n.imageUrl,createdAt:m8(n.createdAt)};return l8.parse(o)}},y8={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,...n};return c8.parse(r)}},v8={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),{playerIds:r,...a}=n,o={playerIds:Array.isArray(r)?r.map(String):[],...a,id:t.id};return u8.parse(o)}},b8={toFirestore(t){const{id:e,...n}=t,{startDateTime:r,...a}=n;return{...a,startDateTime:r||WN()}},fromFirestore(t,e){const n=t.data(e);let r=new Date;try{r=p8(n.startDateTime)||new Date}catch(o){console.log(o)}console.log("Parsed startDateTime:",r);const a={id:t.id,name:n.name,startDateTime:r,location:n.location,link:n.link,standings:Array.isArray(n.standings)?n.standings.map(String):void 0,label:n.label};return h8.parse(a)}};function uI(t,e,n){const r=[e];async function a(d){await t.cancelQueries({queryKey:[e,n]});const h=n?t.getQueryData([e,n]):null,g=t.getQueryData(r),v=d?.id??n,b=v?{...h,...d,id:v}:void 0;return b&&b.id&&(t.setQueryData([e,b.id],b),t.setQueryData(r,E=>{const A=E??[],j=A.findIndex(D=>D.id===b.id);if(j>=0){const D=[...A];return D[j]=b,D}return[b,...A]})),{previousItem:h,previousList:g}}function o(...d){const h=d[d.length-1];h?.previousItem&&n&&t.setQueryData([e,n],h.previousItem),h?.previousList?t.setQueryData(r,h.previousList):t.invalidateQueries({queryKey:r})}function c(...d){const h=d[0];if(typeof h=="string"&&h)t.invalidateQueries({queryKey:[e,h]});else if(h&&typeof h=="object"&&"id"in h){const g=h.id;g&&t.invalidateQueries({queryKey:[e,g]})}t.invalidateQueries({queryKey:r})}return{onMutate:a,onError:o,onSettled:c}}function dI(t,e,n){const r=Jl(),o=tS({queryKey:[t,n],queryFn:async()=>!n||!t?null:Ez(t,n,e),enabled:!!n,staleTime:1e3*60}),c=t?uI(r,t,n):void 0,d=_m({mutationFn:async h=>{if(!t)return h;if(h?.id)return await Tz(t,h.id,h,e),h;{const g=await k2(t,h,e);return{...h,id:g}}},onMutate:c?.onMutate,onError:c?.onError,onSettled:c?.onSettled});return{...o,upsert:d.mutateAsync,upsertState:{status:d.status,error:d.error??null}}}function hI(t,e){const n=tS({queryKey:[t],queryFn:async()=>t?(await Nz(t,{pageSize:1e3,converter:e})).docs:[],staleTime:6e4,enabled:!!t});return t?n:{...n,data:[],isLoading:!1,error:new Error("Missing collectionName")}}function fI(t,e){const n=Jl(),r=_m({mutationFn:async a=>await k2(t,a,e),onMutate:async a=>{await n.cancelQueries({queryKey:[t]});const o=n.getQueryData([t]),c=`__tmp__${Date.now()}`,d={...a,id:c};return n.setQueryData([t],h=>[d,...h??[]]),{previousList:o}},onError:(a,o,c)=>{c?.previousList?n.setQueryData([t],c.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:a=>{n.invalidateQueries({queryKey:[t]}),a&&n.invalidateQueries({queryKey:[t,a]})}});return{create:r.mutateAsync,status:r.status,error:r.error??null}}function mI(t,e){const n=Jl(),r=uI(n,t),a=_m({mutationFn:async o=>{const c=o.id;if(!c)throw new Error("id required for update");await Sz(t,c,o,e)},onMutate:r.onMutate,onError:r.onError,onSettled:r.onSettled});return{update:a.mutateAsync,status:a.status,error:a.error??null}}function pI(t){const e=Jl(),n=_m({mutationFn:async r=>{if(!r)throw new Error("id required for delete");await Az(t,r)},onMutate:async r=>{if(!r)return{};await e.cancelQueries({queryKey:[t]});const a=e.getQueryData([t,r]),o=e.getQueryData([t]);return o&&e.setQueryData([t],o.filter(c=>c.id!==r)),e.setQueryData([t,r],null),{previous:a,previousList:o}},onError:(r,a,o)=>{const c=a;o?.previous&&c&&e.setQueryData([t,c],o.previous),o?.previousList?e.setQueryData([t],o.previousList):e.invalidateQueries({queryKey:[t]})},onSettled:(r,a,o)=>{o&&e.invalidateQueries({queryKey:[t,o]}),e.invalidateQueries({queryKey:[t]})}});return{remove:n.mutateAsync,status:n.status,error:n.error??null}}function gI(t,e,n){const r=!!t&&!!n,[a,o]=L.useState(null),[c,d]=L.useState(null);return L.useEffect(()=>{if(!r)return;const g=yb(ei,t),v=e?g.withConverter(e):g,b=oc(v,n),E=XN(b,A=>{A.exists()?o(A.data()):o(null)},A=>{d(A)});return()=>{E()}},[r,t,n,e]),{data:r?a:null,loading:r&&a===null&&c===null,error:r?c:null}}function yI(t,e){const[n,r]=L.useState(null),[a,o]=L.useState(!0),[c,d]=L.useState(null),[h,g]=L.useState(t);return L.useEffect(()=>{if(!t)return;const v=yb(ei,t),b=e?v.withConverter(e):v,E=XN(b,A=>{const j=A.docs.map(D=>D.data());r(j),o(!1)},A=>{d(A),o(!1)});return()=>{E()}},[t,e]),t?{data:n,loading:a,error:c}:{data:[],loading:!1,error:new Error("Missing collectionName")}}function vI(t,e){function n(g){return dI(t,e,g)}function r(){return hI(t,e)}function a(){return fI(t,e)}function o(){return mI(t,e)}function c(){return pI(t)}function d(g){return gI(t,e,g)}function h(){return yI(t,e)}return{useEntity:n,useEntities:r,useCreate:a,useUpdate:o,useDelete:c,useEntityRealtime:d,useEntitiesRealtime:h}}function x8(t,e){console.log("createNestedEntityHooks buildPath:",t);function n(...g){const v=t(...g),b=hI(v,e);return v?b:{...b,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function r(...g){const v=g.slice(0,-1),b=g[g.length-1],E=t(...v),A=dI(E,e,b);return E?A:{...A,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}function a(...g){const v=t(...g),b=fI(v,e);return v?b:{...b,create:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function o(...g){const v=g,b=t(...v);console.log("useUpdate fullName:",b,"ids:",v);const E=mI(b,e);return b?E:{...E,update:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function c(...g){const v=t(...g),b=pI(v);return v?b:{...b,remove:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function d(...g){const v=t(...g),b=yI(v,e);return v?b:{...b,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function h(...g){const v=g.slice(0,-1),b=g[g.length-1],E=t(...v),A=gI(E,e,b);return E?A:{...A,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}return{useEntities:n,useEntity:r,useCreate:a,useUpdate:o,useDelete:c,useEntitiesRealtime:d,useEntityRealtime:h}}const bI=(t,e,n)=>x8(r=>r?`${t}/${r}/${e}`:void 0,n),{useEntities:uc,useCreate:_8,useEntitiesRealtime:w8}=vI("players",g8),{useEntity:xI,useEntities:aa,useCreate:E8,useUpdate:_I,useEntityRealtime:T8}=vI("events",b8),{useCreate:S8,useDelete:A8,useEntitiesRealtime:wI}=bI("events","courts",v8),{useCreate:N8,useUpdate:I8,useDelete:R8,useEntitiesRealtime:EI}=bI("events","games",y8),TI=({imageUrl:t,name:e,size:n="md",className:r,border:a=!0})=>{const o={sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-xs",lg:"h-12 w-12 text-sm",xl:"h-16 w-16 text-base"},c={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-8 w-8"},d=Nn("rounded-full object-cover flex-shrink-0",o[n],a&&"border border-border",r);if(t){const h=t.startsWith("/")?`/${t.slice(1)}`:t;return f.jsx("img",{src:h,alt:e,className:d})}return f.jsx("div",{className:Nn(d,"bg-surface-highlight flex items-center justify-center"),children:e?f.jsx("span",{className:"font-bold text-text-muted",children:e.charAt(0)}):f.jsx(ok,{className:Nn("text-text-muted",c[n])})})},C8=()=>{const{data:t=[]}=aa(),{data:e=[]}=uc(),n=Sl.useMemo(()=>{const d=new Map,h=new Map;(t||[]).filter(b=>Array.isArray(b.standings)&&b.standings.length>0).forEach(b=>{const E={id:b.id,date:b.startDateTime?b.startDateTime.toISOString():b.id,isCompleted:!0,standings:b.standings};(Rv(E)||[]).forEach(j=>{const D=j.playerId,O=j.pointsEarned||0;d.set(D,(d.get(D)||0)+O),h.set(D,(h.get(D)||0)+1)})});const v=Array.from(d.entries()).map(([b,E])=>({playerId:b,points:E}));return v.sort((b,E)=>E.points-b.points),v.slice(0,3).map((b,E)=>({playerId:b.playerId,points:b.points,events:h.get(b.playerId)||0,rank:E+1}))},[t]),r=(()=>{const d=(t||[]).filter(g=>g.startDateTime instanceof Date&&!isNaN(g.startDateTime.getTime()));if(d.length===0)return"Challenge Series";const h=Array.from(new Set(d.map(g=>g.startDateTime.getFullYear()))).sort();return h.length===1?`${h[0]} Challenge`:`${h[0]}${h[h.length-1]} Challenge`})(),a=Sl.useMemo(()=>{if(!t||t.length===0)return null;const d=t.filter(b=>b.startDateTime instanceof Date&&!isNaN(b.startDateTime.getTime()));d.sort((b,E)=>b.startDateTime.getTime()-E.startDateTime.getTime());const g=new Date().getTime(),v=d.filter(b=>b.startDateTime.getTime()>=g);return v.length>0?v[0]:null},[t]),o=d=>d?d.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"",c=d=>d?d.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";return f.jsxs("div",{className:"space-y-16 pb-12",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx("span",{className:"text-4xl",children:""})}),f.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-success/10 border border-success/20 mb-6",children:[f.jsxs("span",{className:"relative flex h-2 w-2",children:[f.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success opacity-75"}),f.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-success"})]}),f.jsxs("span",{className:"text-sm font-semibold text-success",children:[r," is Live"]})]}),f.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-text-main mb-6 tracking-tight leading-tight",children:[" Paddle Up",f.jsx("br",{}),f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-text-accent",children:"Premier League"})]}),f.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto leading-relaxed",children:"Join our competitive pickleball league designed for advanced players looking to test their skills and climb the rankings each week."}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[f.jsxs(bt,{to:"/standings",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-all duration-300 shadow-lg shadow-primary/20 flex items-center gap-2 hover:scale-105",children:["View Standings ",f.jsx(sy,{className:"h-5 w-5"})]}),f.jsx(bt,{to:"/format",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-all duration-300 flex items-center gap-2",children:"League Format"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 bg-success/5 rounded-full blur-xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(kl,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" League Overview"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Weekly competitive action with structured format and player advancement"})]}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Players"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-primary",children:"16"}),f.jsx("div",{className:"text-text-muted font-medium",children:"per night"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Schedule"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-success",children:"7-10 PM"}),f.jsx("div",{className:"text-text-muted font-medium",children:"Every Sunday"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Prize Pool"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-warning",children:"100"}),f.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Level"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-text-accent",children:"3.5+ DUPR"}),f.jsx("div",{className:"text-text-muted font-medium",children:"Required"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-warning/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-warning/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(pr,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Season Rewards"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Top performers this season earn Joola gear and Paddle Up club points as rewards for their competitive excellence"})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/20 via-warning/10 to-warning/5 border-2 border-warning/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:f.jsx("span",{className:"text-2xl font-black text-white",children:"1st"})}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Champion"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-lg font-bold text-warning",children:"Joola Hat"}),f.jsx("div",{className:"text-2xl font-black text-warning",children:"25"}),f.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),f.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/20 via-text-accent/10 to-text-accent/5 border-2 border-text-accent/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:f.jsx("span",{className:"text-2xl font-black text-white",children:"2nd"})}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Runner-up"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-lg font-bold text-text-accent",children:"Joola Water Bottle"}),f.jsx("div",{className:"text-2xl font-black text-text-accent",children:"15"}),f.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),f.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-bronze/20 via-bronze/10 to-bronze/5 border-2 border-bronze/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-bronze to-bronze/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:f.jsx("span",{className:"text-2xl font-black text-white",children:"3rd"})}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Third Place"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-lg font-bold text-bronze",children:"Joola Wristbands"}),f.jsx("div",{className:"text-2xl font-black text-bronze",children:"10"}),f.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),f.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-success/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-success/20 shadow-2xl h-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:f.jsx(pr,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:" Current Leaders"}),f.jsx("div",{className:"flex items-center justify-center gap-2",children:f.jsxs(bt,{to:"/standings",className:"text-success hover:text-success font-semibold text-sm flex items-center gap-1",children:["Full Standings ",f.jsx(sy,{className:"h-4 w-4"})]})})]}),f.jsx("div",{className:"space-y-4",children:n.map((d,h)=>{const g=e.find(v=>v.id===d.playerId)||{name:"Unknown",imageUrl:""};return f.jsxs(bt,{to:`/player/${d.playerId}`,className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-4 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] block",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:h+1})}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(TI,{imageUrl:g.imageUrl,name:g.name,size:"md",className:"group-hover:ring-2 ring-success transition-all"}),f.jsx("span",{className:"font-bold text-text-main group-hover:text-success transition-colors",children:g.name})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:"block font-bold text-success",children:[d.points," pts"]}),f.jsxs("span",{className:"text-xs text-text-muted",children:[d.events," Events"]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]},d.playerId)})}),f.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-warning/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl h-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:f.jsx(ro,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:" Next Match Night"})]}),a?f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Date"}),f.jsx("div",{className:"text-lg font-bold text-text-main",children:o(a.startDateTime)})]})]})}),f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Time"}),f.jsx("div",{className:"text-lg font-bold text-text-main",children:c(a.startDateTime)})]})]})}),f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Location"}),f.jsx("div",{className:"text-lg font-bold text-text-main",children:a.location})]})]})}),f.jsx("div",{className:"pt-4",children:f.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-primary text-white px-6 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center justify-center gap-2",children:["Register on CourtReserve",f.jsx(Du,{className:"h-5 w-5"})]})})]}):f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"text-center p-8",children:[f.jsx("div",{className:"text-6xl mb-4 opacity-50",children:""}),f.jsx("p",{className:"text-text-muted mb-6",children:"No upcoming match nights are listed. Check the full schedule for details."}),f.jsx(bt,{to:"/schedule",className:"inline-flex items-center justify-center px-6 py-3 bg-primary text-white rounded-xl font-bold transition-colors hover:bg-primary-hover",children:"View Schedule"})]})}),f.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-text-accent/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-text-accent/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-text-accent to-text-accent/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(jl,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Ready to Compete?"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:"We are always looking for competitive players to join the roster. Check out the format and rules to see if you qualify for our premier league."}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[f.jsxs(bt,{to:"/format",className:"bg-text-accent text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent/80 transition-colors shadow-lg shadow-text-accent/20 flex items-center gap-2",children:["View League Format ",f.jsx(sy,{className:"h-5 w-5"})]}),f.jsx(bt,{to:"/standings",className:"bg-surface border-2 border-text-accent text-text-accent px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent hover:text-white transition-colors",children:"Current Standings"})]})]}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})})]})},SI=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"unknown":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`},D8=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Unknown Date":e.toLocaleDateString(void 0,{month:"short",year:"numeric"})},AI=t=>{const e=new Map;return t.forEach(n=>{if(n instanceof Date&&!isNaN(n.getTime())){const r=SI(n);e.has(r)||e.set(r,n)}}),Array.from(e.entries()).sort((n,r)=>r[1].getTime()-n[1].getTime()).map(([n,r])=>({key:n,label:D8(r)}))},NI=(t="all")=>{const{data:e=[]}=uc(),{data:n=[]}=aa();return L.useMemo(()=>{const r=n.filter(d=>Array.isArray(d.standings)&&d.standings.length>0?t==="all"?!0:SI(d.startDateTime)===t:!1),a=rO(r),o=Array.from(a.entries()).map(([d,h])=>({playerId:d,points:h.points,eventsPlayed:h.events,champWins:h.champWins}));return o.sort((d,h)=>h.points-d.points),eO(o,d=>d.points).map(d=>{const h=e.find(g=>g.id===d.playerId);return{...d,name:h?.name||"Unknown",imageUrl:h?.imageUrl||"",dupr:h?.dupr,id:d.playerId}})},[n,e,t])},Vn=Sl.forwardRef(({children:t,className:e,variant:n="default",hover:r=!1,padding:a="md",theme:o="primary",...c},d)=>{const h="rounded-xl border transition-all duration-300",g={sm:"p-4",md:"p-6",lg:"p-8",xl:"p-12"},v={primary:{bg:"from-primary/10 to-primary/5",border:"border-primary/20"},success:{bg:"from-success/10 to-success/5",border:"border-success/20"},warning:{bg:"from-warning/10 to-warning/5",border:"border-warning/20"},error:{bg:"from-error/10 to-error/5",border:"border-error/20"},"text-accent":{bg:"from-text-accent/10 to-text-accent/5",border:"border-text-accent/20"},bronze:{bg:"from-bronze/10 to-bronze/5",border:"border-bronze/20"}},b={default:"bg-surface border-border shadow-sm",premium:`bg-gradient-to-br from-surface via-surface-alt to-surface border-border shadow-2xl ${r?"hover:shadow-3xl hover:scale-[1.02] hover:border-primary/50":""}`,gradient:`bg-gradient-to-br ${v[o].bg} ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`,outlined:"bg-transparent border-border hover:border-primary/50",flat:"bg-surface-alt border-transparent shadow-none",stat:`bg-gradient-to-br ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-105":""}`,info:`bg-gradient-to-r ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`},E=r?"cursor-pointer group":"";return f.jsx("div",{ref:d,className:Nn(h,b[n]??b.default,g[a],E,e),...c,children:t})});Vn.displayName="Card";const j8=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}},II=({rank:t,className:e,size:n="md"})=>{const r={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},a=o=>o===1?"bg-warning/20 text-warning":o===2?"bg-surface-alt text-text-muted":o===3?"bg-bronze/20 text-bronze":"text-text-muted";return f.jsx("span",{className:Nn("flex items-center justify-center rounded-full font-bold",r[n],a(t),e),children:j8(t)})},k8=({data:t,players:e,showEvents:n=!0,showPoints:r=!0,className:a})=>f.jsx(Vn,{className:Nn("p-0 overflow-hidden",a),children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-border",children:[f.jsx("thead",{className:"bg-surface-highlight",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider pl-6",children:"Rank"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Player"}),r&&f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Points"}),n&&f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Events"})]})}),f.jsx("tbody",{className:"bg-surface divide-y divide-border",children:t.map(o=>{const c=e?.find(d=>d.id===o.playerId)||{name:"Unknown",imageUrl:""};return f.jsxs("tr",{className:Nn("hover:bg-surface-highlight transition-colors",(o.rank||0)<=4?"bg-primary-light/10":""),children:[f.jsx("td",{className:"px-4 pl-6 py-4 whitespace-nowrap",children:f.jsx(II,{rank:o.rank??0})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:f.jsxs(bt,{to:`/player/${o.playerId}`,className:"flex items-center group",children:[f.jsx(TI,{imageUrl:c.imageUrl,name:c.name,className:"mr-3 group-hover:ring-2 ring-primary transition-all"}),f.jsx("div",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:c.name}),o.rank===1&&f.jsx(pr,{className:"ml-2 h-4 w-4 text-warning"})]})}),r&&f.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm font-bold text-text-main",children:o.points??0})}),n&&f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-text-muted",children:o.eventsPlayed??0})]},o.playerId)})})]})})}),O8=()=>{const[t,e]=L.useState("all"),{data:n=[]}=uc(),{data:r=[]}=aa(),a=L.useMemo(()=>AI(r.map(d=>d.startDateTime)),[r]),o=NI(t),c=o.slice(0,3);return f.jsxs("div",{className:"space-y-16 pb-12",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-warning/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-warning/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(pr,{className:"h-10 w-10 text-white"})}),f.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Challenge Leaderboard"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Leaderboard derived from Challenge events - track your progress month by month or all time"})]}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),c.length>0&&f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(rS,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Current Champions"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:t==="all"?"All-time leaders":`${a.find(d=>d.key===t)?.label||"Monthly"} champions`})]}),f.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto mb-8",children:c.map((d,h)=>{const g=n.find(E=>E.id===d.playerId),b=[{bg:"from-warning/20 via-warning/10 to-warning/5",border:"border-warning/30",text:"text-warning",emoji:""},{bg:"from-text-accent/20 via-text-accent/10 to-text-accent/5",border:"border-text-accent/30",text:"text-text-accent",emoji:""},{bg:"from-bronze/20 via-bronze/10 to-bronze/5",border:"border-bronze/30",text:"text-bronze",emoji:""}][h];return f.jsxs("div",{className:`group relative overflow-hidden rounded-2xl bg-gradient-to-r ${b.bg} border-2 ${b.border} p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]`,children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${b.text==="text-warning"?"from-warning to-warning/80":b.text==="text-text-accent"?"from-text-accent to-text-accent/80":"from-bronze to-bronze/80"} rounded-full flex items-center justify-center shadow-lg mx-auto mb-4`,children:f.jsx("span",{className:"text-2xl font-black text-white",children:h+1})}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-2",children:g?.name||"Unknown Player"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:`text-3xl font-black ${b.text}`,children:d.points}),f.jsx("div",{className:"text-text-muted font-medium",children:"Points"}),f.jsxs("div",{className:"text-sm text-text-muted",children:[d.eventsPlayed," Events"]})]})]}),f.jsx("div",{className:"text-4xl opacity-50 absolute top-6 right-6",children:b.emoji})]},d.playerId)})}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(jl,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Full Rankings"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:"Complete standings with detailed statistics for all players"}),f.jsxs("div",{className:"inline-flex items-center gap-4 p-2 bg-surface-alt rounded-2xl border border-border shadow-lg",children:[f.jsx("span",{className:"text-sm font-semibold text-text-muted px-3",children:"View:"}),f.jsxs("select",{value:t,onChange:d=>e(d.target.value==="all"?"all":d.target.value),className:"appearance-none bg-primary text-white text-sm font-bold rounded-xl px-4 py-2 border-0 focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"all",children:"All Time"}),a.map(d=>f.jsx("option",{value:d.key,children:d.label},d.key))]})]})]}),f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsx("div",{className:"bg-gradient-to-r from-surface-alt/50 to-surface/50 rounded-2xl border border-border shadow-lg overflow-hidden",children:f.jsx(k8,{data:o,players:n})})}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})})]})},P8=()=>(L.useEffect(()=>{document.title="Pickleball League  Season 1 (Competitive)"},[]),f.jsxs("div",{className:"space-y-16 pb-12",children:[f.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-surface-alt via-surface to-surface-alt border border-border shadow-lg",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-text-muted/5 to-primary/5"}),f.jsx("div",{className:"relative px-6 py-8 md:px-12 md:py-10",children:f.jsx("div",{className:"max-w-4xl mx-auto",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 md:gap-8",children:[f.jsx("div",{className:"flex-shrink-0 text-center md:text-left",children:f.jsx("div",{className:"text-4xl md:text-5xl mb-2",children:""})}),f.jsxs("div",{className:"flex-grow text-center md:text-left",children:[f.jsx("h1",{className:"text-2xl md:text-4xl font-black text-text-main mb-2 leading-tight",children:"Paddle Up Premier League"}),f.jsx("div",{className:"text-lg md:text-xl font-bold text-text-accent mb-3",children:"Season 1 (Competitive)"}),f.jsx("p",{className:"text-text-muted text-sm md:text-base leading-relaxed max-w-2xl",children:"First competitive season  DUPR 3.5+  Two structured rounds  Monthly & seasonal rankings"})]}),f.jsxs("div",{className:"flex-shrink-0 flex flex-col sm:flex-row gap-3",children:[f.jsx(bt,{to:"/schedule",className:"bg-primary text-white px-6 py-3 rounded-xl font-semibold text-sm hover:bg-primary-hover transition-colors shadow-md",children:"Register Tonight"}),f.jsxs("a",{href:"https://paddleup.github.io",className:"bg-surface-highlight border border-border text-text-main px-6 py-3 rounded-xl font-semibold text-sm hover:bg-surface-alt transition-colors flex items-center gap-2",children:["View Standings",f.jsx(Du,{className:"h-4 w-4"})]})]})]})})}),f.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-text-accent/5 rounded-full blur-lg -z-10"})]}),f.jsx("div",{className:"max-w-2xl mx-auto",children:f.jsxs("div",{className:"bg-gradient-to-r from-surface to-surface-alt rounded-2xl p-6 border border-border shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-center gap-3 text-text-main mb-3",children:[f.jsx(Du,{className:"h-6 w-6 text-primary"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xl font-bold",children:"Live Leaderboard & Results"}),f.jsx("span",{className:"text-xs font-semibold text-success bg-success/10 px-2 py-1 rounded-full border border-success/20 animate-pulse",children:"LIVE"})]})]}),f.jsxs("p",{className:"text-text-muted text-center",children:["Track your points, season standings, and all-time rankings in real-time at"," ",f.jsx("a",{href:"https://paddleup.github.io/#/standings",className:"text-primary hover:text-primary-hover font-semibold underline decoration-primary/30 hover:decoration-primary transition-colors",children:"paddleup.github.io"})]})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-warning/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-warning/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(pr,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Season 1 Championship"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Compete for exclusive prizes and eternal glory in our inaugural competitive season"})]}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[f.jsx("div",{className:"text-center lg:text-left",children:f.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-2xl p-8 border border-primary/20 shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[f.jsx(Lf,{className:"h-8 w-8 text-primary"}),f.jsx("h3",{className:"text-2xl font-bold text-text-main",children:"Season Duration"})]}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"text-center lg:text-left",children:[f.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"4"}),f.jsx("div",{className:"text-xl font-semibold text-text-main",children:"Weeks of Competition"}),f.jsx("div",{className:"text-text-muted mt-2",children:"Every Sunday  7PM-10PM"})]})})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-6 text-center lg:text-left",children:" Championship Rewards"}),f.jsx("p",{className:"text-text-muted mb-6 text-center lg:text-left",children:"Top 3 finishers earn exclusive Joola gear and club points:"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/20 via-warning/10 to-warning/5 border-2 border-warning/30 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-2xl font-black text-white",children:"1st"})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-lg font-bold text-text-main mb-1",children:"Champion"}),f.jsxs("div",{className:"text-text-muted",children:[f.jsx("span",{className:"font-semibold text-warning",children:"Joola Hat"})," +",f.jsx("span",{className:"font-semibold text-primary ml-1",children:"25 Club Points"})]})]}),f.jsx("div",{className:"text-3xl opacity-50",children:""})]})}),f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/20 via-text-accent/10 to-text-accent/5 border-2 border-text-accent/30 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-2xl font-black text-white",children:"2nd"})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-lg font-bold text-text-main mb-1",children:"Runner-up"}),f.jsxs("div",{className:"text-text-muted",children:[f.jsx("span",{className:"font-semibold text-text-accent",children:"Joola Water Bottle"})," +",f.jsx("span",{className:"font-semibold text-primary ml-1",children:"15 Club Points"})]})]}),f.jsx("div",{className:"text-3xl opacity-50",children:""})]})}),f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-bronze/20 via-bronze/10 to-bronze/5 border-2 border-bronze/30 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-bronze to-bronze/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-2xl font-black text-white",children:"3rd"})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-lg font-bold text-text-main mb-1",children:"Third Place"}),f.jsxs("div",{className:"text-text-muted",children:[f.jsx("span",{className:"font-semibold text-bronze",children:"Joola Wristbands"})," +",f.jsx("span",{className:"font-semibold text-primary ml-1",children:"10 Club Points"})]})]}),f.jsx("div",{className:"text-3xl opacity-50",children:""})]})})]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(Lf,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Nightly Experience"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Every Sunday brings competitive action with structured rounds and exciting gameplay"})]}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Schedule"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-primary",children:"7PM  10PM"}),f.jsx("div",{className:"text-text-muted font-medium",children:"Every Sunday"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Entry Fee"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-success",children:"$20"}),f.jsx("div",{className:"text-text-muted font-medium",children:"per night"}),f.jsx("div",{className:"text-sm text-success font-semibold bg-success/10 rounded-full px-3 py-1",children:"Free for Annual Members"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Eligibility"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-warning",children:"DUPR 3.5+"}),f.jsx("div",{className:"text-text-muted font-medium",children:"Required Rating"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Format"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-text-accent",children:"2 Rounds"}),f.jsx("div",{className:"text-text-muted font-medium",children:"per night"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(nk,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Game Format"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Structured gameplay with rotating partnerships and dynamic scoring systems"})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-5xl mb-6",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Players per Court"}),f.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"45"}),f.jsx("div",{className:"text-text-muted font-medium",children:"Players"})]}),f.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-5xl mb-6",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Partnership"}),f.jsxs("div",{className:"text-text-muted font-medium leading-relaxed",children:["Every player partners ",f.jsx("strong",{className:"text-warning",children:"once per round"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-warning/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-5xl mb-6",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Scoring"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[f.jsx("div",{className:"font-bold text-text-main text-lg",children:"4-Player Courts"}),f.jsx("div",{className:"text-text-muted font-medium",children:"3 games  15 pts  win by 1"})]}),f.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[f.jsx("div",{className:"font-bold text-text-main text-lg",children:"5-Player Courts"}),f.jsx("div",{className:"text-text-muted font-medium",children:"4 games  11 pts  win by 1"})]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-text-accent/5 rounded-full blur-xl"})]})]}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-success/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:f.jsx(kl,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:" Round 1"}),f.jsx("p",{className:"text-lg text-text-muted font-medium",children:"Initial Seeding"})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"flex-shrink-0 mt-1",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),f.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Courts assigned via ",f.jsx("strong",{className:"text-primary",children:"snake draft"})," ","(back-and-forth order)"]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"flex-shrink-0 mt-1",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Seeding Basis"}),f.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Seeding based on"," ",f.jsx("strong",{className:"text-success",children:"previous weeks' performance"})," (or random for the first week)"]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]})]}),f.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-warning/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-warning/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:f.jsx(Qw,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:" Round 2"}),f.jsx("p",{className:"text-lg text-text-muted font-medium",children:"Ranked Courts"})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"flex-shrink-0 mt-1",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Placement"}),f.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Players ranked by"," ",f.jsx("strong",{className:"text-warning",children:"Round 1 performance"})]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"flex-shrink-0 mt-1",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-lg font-black text-white",children:""})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),f.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Top finishers placed on ",f.jsx("strong",{className:"text-text-accent",children:"Court 1"}),", next group on ",f.jsx("strong",{className:"text-text-accent",children:"Court 2"}),", etc."]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),f.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-warning/10 rounded-2xl p-8 border border-primary/30",children:[f.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[f.jsx(pr,{className:"h-8 w-8 text-warning"})," Points & Prizes"]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Top Finisher Points"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between p-3 bg-warning/20 rounded-lg border border-warning/50",children:[f.jsx("span",{className:"font-bold text-warning",children:"1st Place"}),f.jsx("span",{className:"font-bold text-text-main",children:"1000 points"})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[f.jsx("span",{className:"font-bold text-text-accent",children:"2nd Place"}),f.jsx("span",{className:"font-bold text-text-main",children:"800 points"})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-bronze/20 rounded-lg border border-bronze/50",children:[f.jsx("span",{className:"font-bold text-bronze",children:"3rd Place"}),f.jsx("span",{className:"font-bold text-text-main",children:"600 points"})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[f.jsx("span",{className:"font-bold text-text-main",children:"4th Place"}),f.jsx("span",{className:"font-bold text-text-main",children:"500 points"})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Point System"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"p-4 bg-surface rounded-lg border border-border",children:f.jsxs("p",{className:"text-text-muted",children:[f.jsx("strong",{children:"All finishing positions earn points"}),", with points dropping by half every three ranks (approximate)"]})}),f.jsx("div",{className:"p-4 bg-primary-light rounded-lg border border-primary/50",children:f.jsxs("p",{className:"text-text-main",children:["Points from every game count toward"," ",f.jsx("strong",{children:"monthly and cumulative rankings"})]})})]})]})]})]}),f.jsxs("div",{className:"bg-surface rounded-2xl p-8 border border-border",children:[f.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[f.jsx(Qw,{className:"h-8 w-8 text-success"})," Key Takeaways"]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-success text-lg",children:""}),f.jsxs("p",{className:"text-text-muted",children:["Structured, competitive league for ",f.jsx("strong",{children:"DUPR 3.5+ players"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-success text-lg",children:""}),f.jsxs("p",{className:"text-text-muted",children:["Sunday evenings, ",f.jsx("strong",{children:"7PM10PM"})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-success text-lg",children:""}),f.jsxs("p",{className:"text-text-muted",children:[f.jsx("strong",{children:"Two rounds each night"}),", with partner rotation"]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-success text-lg",children:""}),f.jsxs("p",{className:"text-text-muted",children:["Points determine"," ",f.jsx("strong",{children:"court placement, monthly standings, and season/all-time rankings"})]})]})]})]})]}),f.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[f.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Ready to Compete?"}),f.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"Check your standings online and track points for this season and all-time rankings for every player."}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[f.jsxs("a",{href:"https://paddleup.github.io",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[" Check Your Standings",f.jsx(Du,{className:"h-5 w-5"})]}),f.jsx(bt,{to:"/schedule",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-colors",children:"Register for Tonight"})]})]})]})),M8=()=>{const{data:t=[]}=aa(),[e,n]=L.useState("all"),r=NI(e),a=L.useMemo(()=>AI(t.map(g=>g.startDateTime)),[t]),o=r.length,c=r.filter(g=>g.eventsPlayed>0).length,d=Math.max(...r.map(g=>g.eventsPlayed),0),h=r[0];return f.jsxs("div",{className:"space-y-16 pb-12",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(kl,{className:"h-10 w-10 text-white"})}),f.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Players"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Meet the competitive athletes who make our league exceptional"})]}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-success/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-warning/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(jl,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" League Stats"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:e==="all"?"All-time statistics":`${a.find(g=>g.key===e)?.label||"Monthly"} performance overview`}),f.jsxs("div",{className:"inline-flex items-center gap-4 p-2 bg-surface-alt rounded-2xl border border-border shadow-lg",children:[f.jsx("span",{className:"text-sm font-semibold text-text-muted px-3",children:"View:"}),f.jsxs("select",{value:e,onChange:g=>n(g.target.value==="all"?"all":g.target.value),className:"appearance-none bg-primary text-white text-sm font-bold rounded-xl px-4 py-2 border-0 focus:outline-none focus:ring-2 focus:ring-primary/50",children:[f.jsx("option",{value:"all",children:"All Time"}),a.map(g=>f.jsx("option",{value:g.key,children:g.label},g.key))]})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Total Players"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-primary",children:o}),f.jsx("div",{className:"text-text-muted font-medium",children:"Registered"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Active Players"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-success",children:c}),f.jsx("div",{className:"text-text-muted font-medium",children:"With Events"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Most Events"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-2xl font-black text-warning",children:d}),f.jsx("div",{className:"text-text-muted font-medium",children:"Per Player"})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Current Leader"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-lg font-black text-text-accent truncate",children:h?.name||"N/A"}),f.jsxs("div",{className:"text-text-muted font-medium",children:[h?.points||0," pts"]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-text-accent/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-text-accent/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-text-accent to-text-accent/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(rS,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Player Roster"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Click on any player to view their detailed stats and match history"})]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:r.map(g=>f.jsx(bt,{to:`/player/${g.id}`,className:"block group",children:f.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-surface-alt/80 to-surface border-2 border-border p-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] hover:border-primary/50 flex flex-col h-full",children:[f.jsxs("div",{className:"aspect-square w-full relative bg-surface-highlight overflow-hidden rounded-t-2xl",children:[g.imageUrl?f.jsx("img",{src:g.imageUrl.startsWith("/")?`/${g.imageUrl.slice(1)}`:g.imageUrl,alt:g.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-surface-highlight to-surface",children:f.jsx("span",{className:"text-4xl font-bold text-text-muted opacity-30",children:g.name?.charAt(0)})}),f.jsx("div",{className:"absolute top-3 left-3",children:f.jsxs("div",{className:"bg-primary/90 backdrop-blur-sm border border-primary/50 px-3 py-1 rounded-full text-sm font-bold text-white shadow-lg",children:["#",g.rank??0]})}),f.jsx("div",{className:"absolute top-3 right-3",children:f.jsxs("div",{className:"bg-success/90 backdrop-blur-md border border-success/50 px-3 py-1 rounded-full text-sm font-bold text-white shadow-lg",children:[g.points," pts"]})})]}),f.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[f.jsx("h2",{className:"text-lg font-bold text-text-main mb-1 group-hover:text-primary transition-colors text-center truncate",children:g.name}),f.jsxs("p",{className:"text-xs text-text-muted text-center mb-3",children:["DUPR ",g.dupr??"N/A"]}),f.jsxs("div",{className:"mt-auto grid grid-cols-3 gap-2 pt-3 border-t border-border text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Events"}),f.jsx("p",{className:"font-bold text-sm text-text-main",children:g.eventsPlayed})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Champ Ct"}),f.jsxs("div",{className:"flex items-center justify-center gap-1",children:[f.jsx(jy,{className:"h-3 w-3 text-success"}),f.jsx("p",{className:"font-bold text-sm text-text-main",children:g.champWins})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Rank"}),f.jsx("p",{className:"font-bold text-sm text-text-main",children:g.rank??"-"})]})]})]}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl"})]})},g.id))}),r.length===0&&f.jsxs("div",{className:"text-center p-12",children:[f.jsx("div",{className:"text-6xl mb-6 opacity-50",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"No Players Found"}),f.jsx("p",{className:"text-text-muted",children:"No players have participated in events for the selected time period."})]}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})})]})},V8=({history:t})=>{const[e,n]=L.useState(null);return f.jsxs("div",{className:"flex flex-col gap-4",children:[t.length===0&&f.jsx("p",{className:"text-text-muted text-center py-4",children:"No event placements available."}),t.slice().reverse().map((r,a)=>f.jsxs("div",{className:`rounded-xl shadow-md border border-border bg-surface transition-all duration-200 ${e===a?"ring-2 ring-primary":""}`,children:[f.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 text-lg font-bold text-primary focus:outline-none",onClick:()=>n(e===a?null:a),"aria-expanded":e===a,tabIndex:0,children:[f.jsxs("span",{children:[r.eventName??r.eventId," (",r.date,")"]}),f.jsx("span",{className:"text-xs text-text-muted",children:e===a?"Tap to collapse":"Tap to expand"})]}),f.jsx("div",{className:`overflow-hidden transition-all duration-300 ${e===a?"max-h-[300px] py-2":"max-h-0"}`,children:e===a&&f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"text-sm text-text-muted mb-2",children:["Rank: ",f.jsx("span",{className:"font-bold text-text-main",children:r.rank})]}),f.jsx(bt,{to:`/event/${r.eventId}`,className:"inline-block mt-2 px-4 py-2 bg-primary text-white rounded-lg font-bold hover:bg-primary-hover transition",children:"View Event"})]})})]},r.eventId+a))]})},z8=()=>{const{id:t}=VT(),{data:e}=w8(),{data:n=[]}=aa(),r=e?.find(v=>v.id===t);if(!r)return f.jsxs("div",{className:"text-center py-12",children:[f.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Player Not Found"}),f.jsx(bt,{to:"/players",className:"text-primary hover:underline",children:"Back to Players"})]});const a=n.filter(v=>Array.isArray(v.standings)&&v.standings.length>0).map(v=>{const b={id:v.id,date:v.startDateTime?v.startDateTime.toISOString():v.id,isCompleted:!0,standings:v.standings},E=Rv(b)||[];return{ev:v,finals:E}}),o=new Map;a.forEach(({finals:v})=>{v.forEach(b=>{const E=b.playerId,A=b.pointsEarned||0,j=o.get(E)||{points:0,events:0,champWins:0};j.points+=A,j.events+=1,b.rank===1&&(j.champWins+=1),o.set(E,j)})});const c=Array.from(o.entries()).map(([v,b])=>({playerId:v,points:b.points,eventsPlayed:b.events,champWins:b.champWins})).sort((v,b)=>b.points-v.points);let d=null;c.forEach((v,b)=>{v.playerId===t&&(d=b+1)});const h=o.get(t||"")||{points:0,events:0,champWins:0},g=[];return a.forEach(({ev:v,finals:b})=>{const E=b.find(A=>A.playerId===t);E&&g.push({eventId:v.id,date:v.startDateTime?v.startDateTime.toLocaleDateString():v.id,rank:E.rank})}),f.jsxs("div",{className:"space-y-8 pb-12",children:[f.jsxs(bt,{to:"/players",className:"inline-flex items-center text-text-muted hover:text-primary transition-colors mb-4",children:[f.jsx(Uj,{className:"h-4 w-4 mr-1"})," Back to Players"]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"md:col-span-1 space-y-6",children:[f.jsxs(Vn,{className:"p-0 overflow-hidden border-border",children:[f.jsx("div",{className:"aspect-square w-full relative bg-surface-highlight",children:r.imageUrl?f.jsx("img",{src:r.imageUrl.startsWith("/")?`/${r.imageUrl.slice(1)}`:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("span",{className:"text-6xl font-bold text-text-muted opacity-20",children:r.name.charAt(0)})})}),f.jsxs("div",{className:"p-6 text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-text-main mb-2",children:r.name}),f.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[f.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold border border-primary/20",children:["DUPR ",r.dupr??"N/A"]}),f.jsxs("span",{className:"bg-surface-highlight text-text-muted px-3 py-1 rounded-full text-sm font-medium border border-border",children:["Rank #",d??"-"]})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs(Vn,{className:"p-4 flex flex-col items-center justify-center text-center",children:[f.jsx(pr,{className:"h-6 w-6 text-warning mb-2"}),f.jsx("span",{className:"text-2xl font-bold text-text-main",children:h.points}),f.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Points"})]}),f.jsxs(Vn,{className:"p-4 flex flex-col items-center justify-center text-center",children:[f.jsx(jy,{className:"h-6 w-6 text-success mb-2"}),f.jsx("span",{className:"text-2xl font-bold text-text-main",children:h.champWins}),f.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Top Finishes"})]}),f.jsxs(Vn,{className:"p-4 flex flex-col items-center justify-center text-center",children:[f.jsx(Gw,{className:"h-6 w-6 text-primary mb-2"}),f.jsx("span",{className:"text-2xl font-bold text-text-main",children:g.length}),f.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Events"})]}),f.jsxs(Vn,{className:"p-4 flex flex-col items-center justify-center text-center",children:[f.jsx(ro,{className:"h-6 w-6 text-text-muted mb-2"}),f.jsx("span",{className:"text-2xl font-bold text-text-main",children:h.events}),f.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Appearances"})]})]})]}),f.jsxs("div",{className:"md:col-span-2 space-y-8",children:[f.jsxs(Vn,{children:[f.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[f.jsx(Gw,{className:"h-5 w-5 text-primary"}),"Event Placements"]}),f.jsx(V8,{history:g.map(v=>({...v,eventName:n.find(b=>b.id===v.eventId)?.name}))})]}),f.jsxs(Vn,{children:[f.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[f.jsx(jy,{className:"h-5 w-5 text-primary"}),"Event Rankings"]}),f.jsx("div",{className:"space-y-2",children:g.length>0?g.slice().reverse().map((v,b)=>f.jsxs(bt,{to:`/event/${v.eventId}`,className:"flex items-center justify-between p-2 border-b border-border last:border-0 hover:bg-surface-highlight transition-colors cursor-pointer group",children:[f.jsx("span",{className:"text-sm text-text-muted group-hover:text-text-main transition-colors",children:v.date}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:["Rank #",v.rank]}),f.jsx(II,{rank:v.rank,size:"sm"})]})]},b)):f.jsx("p",{className:"text-text-muted text-center py-4",children:"No event data available."})})]})]})]})]})},L8=({options:t,value:e,onChange:n,className:r})=>f.jsx("div",{className:r,children:f.jsx("div",{className:"inline-flex",children:t.map(a=>f.jsx("button",{onClick:()=>n(a.value),className:Nn("px-6 py-2.5 rounded-lg text-sm font-bold transition-all",e===a.value?"bg-primary text-text-main shadow-md":"text-text-muted hover:text-text-main hover:bg-surface"),children:a.label},a.value))})});function RI(t,e){const n=MT(),r=Ys(),a=L.useMemo(()=>new URLSearchParams(r.search),[r.search]),o=L.useMemo(()=>a.get(t)??void 0,[a,t]),c=L.useCallback(g=>{const v=new URLSearchParams(r.search),b=v.get(t)??void 0;g!==b&&(g===void 0||g===""?v.delete(t):v.set(t,g),n({pathname:r.pathname,search:`?${v.toString()}`,hash:r.hash},{replace:!0}))},[n,r,t]),d=L.useCallback(async g=>{c(g)},[c]),h=L.useCallback(async g=>{c(g)},[c]);return L.useEffect(()=>{e!==void 0&&o===void 0&&h(e)},[e,o]),e===void 0?[o,d]:[o??e,h]}const U8=()=>{const{data:t}=aa(),e=v=>v?v.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",n=v=>v?v.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",r=(t||[]).filter(v=>v.startDateTime instanceof Date&&!isNaN(v.startDateTime.getTime())).slice().sort((v,b)=>v.startDateTime.getTime()-b.startDateTime.getTime()),a=new Date,o=r.filter(v=>v.startDateTime.getTime()>=a.getTime()),c=r.filter(v=>v.startDateTime.getTime()<a.getTime()).slice().reverse(),[d,h]=RI("view","upcoming"),g=d==="upcoming"?o:c;return f.jsxs("div",{className:"space-y-16 pb-12",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(ro,{className:"h-10 w-10 text-white"})}),f.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Season Schedule"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Per-night registration links for 'The Challenge'  register for any night below"})]}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx(L8,{options:[{value:"upcoming",label:"Upcoming"},{value:"past",label:"Past"}],value:d,onChange:v=>h(v)})}),f.jsxs("div",{className:"text-sm text-text-muted",children:[g.length," ",g.length===1?"event":"events"]})]})}),f.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[g.map(v=>f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-surface via-surface-alt to-surface border border-border p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:border-primary/50",children:f.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[f.jsxs("div",{className:"flex-grow",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-2 group-hover:text-primary transition-colors",children:v.name}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-muted",children:[f.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${d==="past"?"bg-success":"bg-primary"}`}),d==="past"?"Completed Event":"Upcoming Event"]})]}),f.jsxs("div",{className:"text-right text-sm text-text-muted",children:[f.jsx("div",{className:"font-semibold",children:e(v.startDateTime)}),f.jsx("div",{children:n(v.startDateTime)})]})]}),f.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/10 rounded-xl border border-primary/20",children:[f.jsx(ro,{className:"h-5 w-5 text-primary flex-shrink-0"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Date"}),f.jsx("div",{className:"font-bold text-text-main truncate",children:e(v.startDateTime)})]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-success/10 rounded-xl border border-success/20",children:[f.jsx(Lf,{className:"h-5 w-5 text-success flex-shrink-0"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Time"}),f.jsx("div",{className:"font-bold text-text-main truncate",children:n(v.startDateTime)})]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-warning/10 rounded-xl border border-warning/20 sm:col-span-2 lg:col-span-1",children:[f.jsx(sS,{className:"h-5 w-5 text-warning flex-shrink-0"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Location"}),f.jsx("div",{className:"font-bold text-text-main truncate",children:v.location})]})]})]})]}),f.jsx("div",{className:"flex-shrink-0 flex flex-col gap-3 lg:w-48",children:d==="past"?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-success/20 border-2 border-success/30 rounded-xl text-success font-bold",children:[f.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-success"}),"Completed"]}),f.jsx(bt,{to:`/event/${encodeURIComponent(v.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"View Results"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-xl font-bold hover:bg-primary-hover transition-all duration-300 shadow-md hover:shadow-lg",children:[f.jsx(Du,{className:"h-5 w-5"}),"Register Now"]}),f.jsx(bt,{to:`/event/${encodeURIComponent(v.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"Event Details"})]})})]})},v.id)),g.length===0&&f.jsxs("div",{className:"text-center p-12 bg-surface rounded-2xl border border-border",children:[f.jsx("div",{className:"text-6xl mb-6 opacity-50",children:d==="upcoming"?"":""}),f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:d==="upcoming"?"No Upcoming Events":"No Past Events"}),f.jsx("p",{className:"text-text-muted",children:d==="upcoming"?"Check back soon for new match nights to register for!":"Past events will appear here once they're completed."})]})]})]})};function CI(){const[t,e]=L.useState(null),[n,r]=L.useState(!1),[a,o]=L.useState(!0);return L.useEffect(()=>{const c=b2(kf,async d=>{if(e(d),!d){r(!1),o(!1);return}const g=(await d.getIdTokenResult(!0)).claims;r(g.admin===!0),o(!1)});return()=>c()},[]),{user:t,isAdmin:n,loading:a}}const F8=({isAdmin:t})=>{const{create:e,status:n,error:r}=E8(),[a,o]=L.useState(""),[c,d]=L.useState(""),[h,g]=L.useState(""),[v,b]=L.useState(""),[E,A]=L.useState(""),[j,D]=L.useState(""),[O,J]=L.useState(""),[$,Z]=L.useState(""),[ae,le]=L.useState(""),fe=async I=>{if(I.preventDefault(),!t){alert("You are not authorized to create events.");return}if(!a.trim()||!c){alert("Name and start date are required.");return}const S=new Date(`${c}T${h||"00:00"}`),C=v?new Date(`${v}T${E||"00:00"}`):void 0,V={name:a.trim(),startDateTime:S,...C?{endDateTime:C}:{},...j.trim()?{location:j.trim()}:{},...O?{status:O}:{},...$.trim()?{label:$.trim()}:{},...ae.trim()?{link:ae.trim()}:{},standings:[],rounds:[]};try{const M=await e(V);alert(`Event created${M?` (id: ${String(M)})`:""}.`),o(""),d(""),g(""),b(""),A(""),D(""),J(""),Z(""),le("")}catch(M){console.error("Create event failed",M),alert("Failed to create event. See console for details.")}};return f.jsxs("form",{onSubmit:fe,className:"space-y-3 max-w-md",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Event name"}),f.jsx("input",{value:a,onChange:I=>o(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Start date"}),f.jsx("input",{type:"date",value:c,onChange:I=>d(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Start time (optional)"}),f.jsx("input",{type:"time",value:h,onChange:I=>g(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"End date (optional)"}),f.jsx("input",{type:"date",value:v,onChange:I=>b(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"End time (optional)"}),f.jsx("input",{type:"time",value:E,onChange:I=>A(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Location (optional)"}),f.jsx("input",{value:j,onChange:I=>D(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Status (optional)"}),f.jsxs("select",{value:O,onChange:I=>J(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1",children:[f.jsx("option",{value:"",children:"(none)"}),f.jsx("option",{value:"open",children:"open"}),f.jsx("option",{value:"closed",children:"closed"}),f.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Label (optional)"}),f.jsx("input",{value:$,onChange:I=>Z(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Link (optional)"}),f.jsx("input",{value:ae,onChange:I=>le(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:!t||n==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:n==="pending"?"Creating...":"Create event"})}),r&&f.jsxs("p",{className:"text-sm text-red-600",children:["Error creating event: ",String(r)]})]})},B8=()=>{const[t,e]=L.useState(null),n=new Ls,{isAdmin:r}=CI(),{create:a,status:o,error:c}=_8(),d=aa(),h=uc(),g=d.data??[],v=h.data??[],[b,E]=L.useState(void 0),[A,j]=L.useState([]),{data:D}=xI(b)??{},{update:O,status:J,error:$}=_I(),[Z,ae]=L.useState(b),[le,fe]=L.useState(D?.standings);(b!==Z||D?.standings!==le)&&(ae(b),fe(D?.standings),D?.standings&&Array.isArray(D.standings)?j([...D.standings]):j([]));const I=R=>{R&&j(Q=>[...Q,R])},S=R=>{j(Q=>Q.filter((ie,ue)=>ue!==R))},C=R=>{R<=0||j(Q=>{const ie=[...Q],ue=ie[R-1];return ie[R-1]=ie[R],ie[R]=ue,ie})},V=R=>{j(Q=>{if(R>=Q.length-1)return Q;const ie=[...Q],ue=ie[R+1];return ie[R+1]=ie[R],ie[R]=ue,ie})},M=async()=>{if(!r){alert("You are not authorized to update events.");return}if(!b){alert("Select an event first.");return}try{await O({id:b,standings:A}),alert("Standings saved.")}catch(R){console.error("Save standings failed",R),alert("Failed to save standings. See console for details.")}},[U,k]=L.useState(""),[Ke,Ze]=L.useState(""),[X,de]=L.useState(""),oe=async R=>{if(R.preventDefault(),!r){alert("You are not authorized to add players.");return}try{const Q=Ke.trim()?Number(Ke):void 0,ie={name:U.trim(),...Q!==void 0&&!Number.isNaN(Q)?{dupr:Q}:{},...X.trim()?{imageUrl:X.trim()}:{},createdAt:new Date().toISOString()};await a(ie),k(""),Ze(""),de(""),alert("Player added.")}catch(Q){console.error("Create player failed",Q),alert("Failed to add player. See console for details.")}};L.useEffect(()=>{const R=b2(kf,Q=>{e(Q)});return()=>R()},[]);const ge=async()=>{try{await R6(kf,n)}catch(R){console.error("Google sign-in failed",R),alert("Sign-in failed. See console for details.")}},Ie=async()=>{try{await c6(kf)}catch(R){console.error("Sign-out failed",R),alert("Sign-out failed. See console for details.")}};return f.jsxs("div",{className:"p-4 space-y-8",children:[f.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin"}),t?f.jsxs("div",{className:"space-y-8",children:[f.jsxs("p",{className:"mb-2",children:["Signed in as ",f.jsx("strong",{children:t.displayName??t.email})]}),f.jsxs("p",{children:["Admin status: ",r?"Yes":"No"]}),f.jsx("button",{onClick:Ie,className:"px-3 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Sign out"}),f.jsxs(Vn,{className:"p-6 mb-6",children:[f.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Protected admin area"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You are authenticated and can now access admin-only features."}),!r&&f.jsx("p",{className:"text-sm text-red-600 mb-4",children:"You are not an admin. Editing is disabled."})]}),f.jsx(Vn,{className:"p-6 mb-6",children:f.jsxs("form",{onSubmit:oe,className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Name"}),f.jsx("input",{value:U,onChange:R=>k(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"DUPR (optional)"}),f.jsx("input",{value:Ke,onChange:R=>Ze(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1",inputMode:"decimal"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium",children:"Image URL (optional)"}),f.jsx("input",{value:X,onChange:R=>de(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:!r||o==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:o==="pending"?"Adding...":"Add player"})}),c&&f.jsxs("p",{className:"text-sm text-red-600",children:["Error creating player: ",String(c)]})]})}),f.jsxs(Vn,{className:"p-6 mb-6",children:[f.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Create Event"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a new Event (start date/time is required)."}),f.jsx(F8,{isAdmin:r})]}),f.jsxs(Vn,{className:"p-6 mb-6",children:[f.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Manage Event Standings"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select an event, build an ordered standings list of players, and save to the event."}),f.jsxs(Vn,{className:"p-6",children:[f.jsxs("div",{className:"md:col-span-1",children:[f.jsx("label",{className:"block text-sm font-medium",children:"Event"}),f.jsxs("select",{value:b??"",onChange:R=>E(R.target.value||void 0),className:"mt-1 block w-full border rounded px-2 py-1",children:[f.jsx("option",{value:"",children:"(select an event)"}),g.map(R=>f.jsx("option",{value:R.id,children:R.name??R.id},R.id))]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("label",{className:"block text-sm font-medium",children:"Players"}),f.jsxs("div",{className:"mt-1 max-h-56 overflow-auto border rounded p-1",children:[v.length===0&&f.jsx("p",{className:"text-sm text-gray-500",children:"No players found."}),v.map(R=>f.jsxs("div",{className:"flex items-center justify-between px-1 py-2",children:[f.jsx("div",{className:"text-base",children:R.name}),f.jsx("div",{children:f.jsx("button",{type:"button",onClick:()=>I(R.id),className:"px-4 py-2 bg-blue-600 text-white rounded text-base",children:"Add"})})]},R.id))]})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium",children:"Standings (ordered)"}),f.jsxs("div",{className:"mt-1 border rounded p-2 bg-white",children:[A.length===0&&f.jsx("p",{className:"text-sm text-gray-500",children:"No players in standings. Add players from the left."}),f.jsx("ul",{children:A.map((R,Q)=>{const ie=v.find(ue=>ue.id===R);return f.jsxs("li",{className:"flex items-center justify-between py-2 border-b",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsxs("div",{className:"text-sm font-medium",children:[Q+1,"."]}),f.jsx("div",{className:"text-sm",children:ie?ie.name:R})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{type:"button",onClick:()=>C(Q),disabled:Q===0,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 text-base",children:""}),f.jsx("button",{type:"button",onClick:()=>V(Q),disabled:Q===A.length-1,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 text-base",children:""}),f.jsx("button",{type:"button",onClick:()=>S(Q),className:"px-4 py-2 bg-red-600 text-white rounded text-base",children:"Remove"})]})]},`${R}-${Q}`)})}),f.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[f.jsx("button",{type:"button",onClick:M,disabled:!r||J==="pending"||!b,className:"px-6 py-3 bg-green-600 text-white rounded disabled:opacity-50 text-base",children:J==="pending"?"Saving...":"Save standings to event"}),f.jsx("button",{type:"button",onClick:()=>{j([])},className:"px-6 py-3 bg-gray-200 rounded text-base",children:"Clear"})]}),$&&f.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error saving: ",String($)]})]})]})]})]})]}):f.jsxs("div",{children:[f.jsx("p",{className:"mb-4",children:"Sign in with a Google account to access admin features."}),f.jsx("button",{onClick:ge,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Sign in with Google"})]})]})},DI=4,jI=(t,e)=>{if(e===3)return t;if(e===2||e===1)return Math.ceil(jI(t,e+1)/3);throw new Error("Invalid round number")},_y=t=>String.fromCharCode(65+t),q8=(t,e)=>t===e?_y(t):`${_y(t)}${_y(e)}`;function $8(t,e=1){const n=Array.from({length:t},()=>[]);for(let r=0;r<DI;r++){const a=e+r*t,o=Array.from({length:t},(d,h)=>a+h),c=r%2===0?o:o.slice().reverse();for(let d=0;d<t;d++)n[d].push(c[d])}return n}const pv=(t,e)=>{if(t<=0)return[];if(![1,2,3].includes(e))return[];const n=jI(t,e),r=Math.floor(t/n),a=t%n,o=[];let c=0,d=1;for(let h=0;h<n;h++){const g=r+(h<a?1:0),v=q8(c,c+g-1),b=$8(g,d);for(let E=0;E<g;E++)o.push({seeds:b[E],tier:v});d+=g*DI,c+=g}return o},H8=(t,e)=>!t||!e||t<=0?[]:pv(t,e),_T=t=>t.includes("")?(t.charCodeAt(0)+t.charCodeAt(2))/2:t.charCodeAt(0),G8=(t,e)=>_T(t)-_T(e),wT=(t,e)=>t.tier!==e.tier?G8(t.tier,e.tier):t.courtRank!==e.courtRank?t.courtRank-e.courtRank:t.wins!==e.wins?e.wins-t.wins:t.pointDifferential!==e.pointDifferential?e.pointDifferential-t.pointDifferential:t.seed-e.seed;function K8(t,e){if(!t?.length)return[];if(![1,2,3].includes(e))return[];const n=pv(t.length,e),r=t.flatMap((o,c)=>{const d=o.playerIds.map((h,g)=>({id:h,courtIndex:c,tier:n[c].tier,courtRank:0,wins:0,losses:0,pointDifferential:0,seed:n[c].seeds[g],roundPlace:0,nextCourt:0,nextTier:""}));return o.games.forEach(h=>{const{team1Player1Id:g,team1Player2Id:v,team2Player1Id:b,team2Player2Id:E,team1Score:A=0,team2Score:j=0}=h,D=(ae,le,fe,I)=>{const S=le>fe||le===fe&&I;ae.wins+=S?1:0,ae.losses+=S?0:1,ae.pointDifferential+=le-fe},O=d.find(ae=>ae.id===g),J=d.find(ae=>ae.id===v),$=d.find(ae=>ae.id===b),Z=d.find(ae=>ae.id===E);D(O,A,j,!0),D(J,A,j,!0),D($,j,A,!1),D(Z,j,A,!1)}),d});r.sort(wT);const a=t.map(()=>1);for(const o of r)o.courtRank=a[o.courtIndex],a[o.courtIndex]+=1;if(r.sort(wT),r.forEach((o,c)=>{o.roundPlace=c+1}),e<3){const o=pv(t.length,e+1);r.forEach(c=>{const d=o.findIndex(h=>h.seeds.includes(c.roundPlace));c.nextCourt=d+1,c.nextTier=o[d].tier})}return r}const wy=(t,e)=>{const{data:n}=wI(t),r=H8(n?.length,e),{data:a}=EI(t);return L.useMemo(()=>{if(!n||!r||!a)return;const c=n.filter(d=>d.roundNumber===e).sort((d,h)=>d.courtNumber-h.courtNumber).map((d,h)=>({...d,seeds:r[h].seeds,tier:r[h].tier,games:a.filter(g=>g.courtId===d.id)}));return{roundNumber:e,courts:c,standings:K8(c,e).map(d=>d.id)}},[n,r,a,e])},kI=(t,e=5)=>{const n=e===5?4:5,r=(o,c)=>{if(o===0)return c;if(o<0||c>=7)return-1;const d=r(o-e,c+1);return d!==-1?d:r(o-n,c+1)},a=r(t,0);if(a<=0)throw new Error("Invalid number of players for court allocation");return a},Q8=t=>{try{return kI(t,5),!0}catch{return!1}},gv=(t,e,n=5)=>{const r=kI(t,n),a=Array.from({length:r},()=>({seeds:[]}));let o=0,c=1;if(e===1)for(let d=1;d<=t;d++)a[o].seeds.push(d),o+=c,(o===r||o===-1)&&(c*=-1,o+=c);else if(e===2){const d=Math.floor(t/r);let h=t%r,g=1;for(let v=0;v<r;v++){const b=d+(h>0?1:0);for(let E=0;E<b;E++)a[v].seeds.push(g++);h>0&&h--}}return a},Z8=(t,e,n=5)=>{const r=t.length;return gv(r,e,n).map((c,d)=>{const h=c.seeds.map(g=>t[g-1]);return{courtNumber:d+1,playerIds:h,roundNumber:e}})},Y8=t=>{const{roundNumber:e,playerIds:n}=t;if(n.length===4){const[r,a,o,c]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:c}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:a,player2Id:o}}].map(h=>({...h,roundNumber:e}))}if(n.length===5){const[r,a,o,c,d]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:a,player2Id:o},team2:{player1Id:c,player2Id:d}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:d}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:o,player2Id:d}},{team1:{player1Id:r,player2Id:d},team2:{player1Id:a,player2Id:c}}].map(g=>({...g,roundNumber:e}))}throw new Error("Invalid number of players for game generation")},X8=(t,e,n)=>n===2&&t.courtNumber!==e.courtNumber?t.courtNumber-e.courtNumber:t.wins!==e.wins?e.wins-t.wins:t.pointDifferential!==e.pointDifferential?e.pointDifferential-t.pointDifferential:t.seed-e.seed;function J8(t,e){if(!t?.length)return[];if(![1,2,3].includes(e))return[];const n=gv(t.length,e),r=t.flatMap((o,c)=>{const d=o.playerIds.map((h,g)=>({id:h,courtNumber:o.courtNumber,wins:0,losses:0,pointDifferential:0,seed:n[c].seeds[g],roundPlace:0,nextCourt:0}));for(const h of o.games){const{team1:g,team2:v,team1Score:b=0,team2Score:E=0}=h,A=($,Z,ae,le)=>{const fe=Z>ae||Z===ae&&le;$.wins+=fe?1:0,$.losses+=fe?0:1,$.pointDifferential+=Z-ae},j=d.find($=>$.id===g.player1Id),D=d.find($=>$.id===g.player2Id),O=d.find($=>$.id===v.player1Id),J=d.find($=>$.id===v.player2Id);A(j,b,E,!0),A(D,b,E,!0),A(O,E,b,!1),A(J,E,b,!1)}return d}),a=(o,c)=>X8(o,c,e);if(r.sort(a),r.forEach((o,c)=>{o.roundPlace=c+1}),e===1){const o=gv(t.length,2);r.forEach(c=>{const d=o.findIndex(h=>h.seeds.includes(c.roundPlace));c.nextCourt=d+1})}return r}const W8=t=>{const{data:e}=aa(),[n,r]=L.useState(t),a=t??n,{data:o}=T8(a),{update:c}=_I(),d=L.useMemo(()=>o?.ongoingStage||"initial",[o]),[h,g]=RI("stage",d),v=L.useCallback(ge=>{g(typeof ge=="string"?ge:ge.toString())},[g]),b=L.useMemo(()=>{if(h==="initial"||h==="standings")return h;const ge=parseInt(h,10);return[1,2,3].includes(ge)?ge:d},[h,d]),E=wy(a,b),A=L.useMemo(()=>d||0,[d]),j=L.useMemo(()=>{if(d==="initial")return 1;if(typeof d=="number"&&d<3)return d+1},[d]),D=L.useCallback(ge=>{o&&c({id:o.id,ongoingStage:ge})},[o,c]),O=wy(a,A),J=wy(a,j),$=L.useMemo(()=>A-1,[A]),{create:Z}=S8(a),{create:ae}=N8(a),{update:le}=I8(a);console.log("effectiveEventId:",a,"updateGame:",le);const{data:fe=[]}=EI(a),{remove:I}=R8(a),{data:S=[]}=wI(a),{remove:C}=A8(a),V=L.useCallback(async()=>{if(window.confirm("Are you sure you want to clear all data and start over?")&&n){for(const ge of fe||[])await I(ge.id);for(const ge of S||[])await C(ge.id);D("initial"),v("initial")}},[n,D,v,fe,I,S,C]),M=L.useCallback(async(ge,Ie)=>{if($>=Ie){console.error(`Cannot setup round: round ${Ie} has already been played`);return}if(Q8(ge.length)===!1){console.error(`Invalid number of players: ${ge.length}. Must be between 8 and 40 players.`);return}const R=Z8(ge,Ie);for(const Q of R){const ie=await Z(Q),ue=Y8(Q);for(const Ae of ue)await ae({courtId:ie,...Ae});D(Ie),v(Ie)}},[$,Z,ae,D,v]),U=L.useCallback(async ge=>await M(ge,1),[M]),k=L.useCallback(async()=>{if(![2].includes(A||0)){alert("Can only advance to next round from rounds 1 or 2.");return}if(!O){alert("No ongoing round data available to advance.");return}if(O.courts.length===0||O.courts.some(Ie=>Ie.games.length===0)){alert("No courts games available in the ongoing round to advance.");return}if(O.courts.some(Ie=>Ie.games.some(R=>R.team1Score===void 0||R.team2Score===void 0))){alert("All match results must be entered before advancing to the next round.");return}if(j===void 0){alert("Cannot determine the next round number.");return}if(J&&J.courts.length>0){alert("Next round courts have already been initialized.");return}const ge=J8(O.courts,A);await M(ge.map(Ie=>Ie.id),2),v(j),D(j)},[J,j,O,A,v,D,M]),Ke=()=>{if(!o){alert("No event selected to finalize.");return}if(d!==2){alert("Event can only be finalized after completing round 2.");return}if(!O?.courts||O.courts.length===0){alert("No courts available to finalize the event.");return}if(O.courts.some(ge=>ge.games.some(Ie=>Ie.team1Score===void 0||Ie.team2Score===void 0))){alert("All match results must be entered before finalizing the event.");return}o.standings&&o.standings.length>0&&window.confirm("Standings already exist. Overwrite?")===!1||(c({id:o.id,standings:O.standings}),v("standings"))},Ze=L.useMemo(()=>fe?.filter(ge=>ge.team1Score!==void 0&&ge.team2Score!==void 0).length||0,[fe]),X=L.useMemo(()=>fe?.length||1,[fe]),de=Math.round(Ze/Math.max(1,X)*100),oe=L.useCallback((ge,Ie,R)=>{console.log("updateGame called with:",ge,Ie,R,le),le({id:ge,[Ie]:R})},[le]);return{events:e,selectedEventId:a,setSelectedEventId:r,ongoingRound:O,currentRoundViewData:E,event:o,currentView:b,setCurrentView:v,ongoingRoundNumber:A,completedMatches:Ze,totalMatches:X,progressPercent:de,handleScoreChange:oe,initializeRoundOne:U,advanceToRoundTwo:k,finalizeEvent:Ke,resetAll:V,apiError:null}},Ey=t=>`px-4 py-1.5 rounded-full text-sm font-semibold transition-all ${t?"bg-primary text-white shadow":"bg-surface-alt text-text-muted hover:text-primary hover:bg-primary/10"}`,eF=({current:t,onSelect:e,showInitialize:n})=>f.jsxs("div",{className:"flex gap-2 mb-2",children:[n&&f.jsx(ju,{type:"button",onClick:()=>e("initial"),className:Ey(t==="initial"),size:"sm",variant:"ghost",children:"Initialize"},"initial"),Array.from({length:3},(r,a)=>f.jsxs(ju,{type:"button",onClick:()=>e(a+1),className:Ey(t===a+1),size:"sm",variant:"ghost",children:["Round ",a+1]},a)),f.jsx(ju,{type:"button",onClick:()=>e("standings"),className:Ey(t==="standings"),size:"sm",variant:"ghost",children:"Standings"},"standings")]}),tF=t=>t.split(" ").map(e=>e[0]).join("").toUpperCase(),nF=({playerIds:t,players:e})=>f.jsx("div",{className:"flex flex-col gap-3",children:t.map((n,r)=>{const a=e.find(o=>o.id===n);return f.jsxs("div",{className:"flex items-center gap-3 bg-surface-alt/60 p-3 rounded-lg border border-border",children:[f.jsx("span",{className:"inline-flex items-center justify-center w-9 h-9 rounded-full bg-primary/10 text-primary font-bold text-base",children:a?.name?tF(a.name):"?"}),f.jsx("span",{className:"flex-1 text-text-main font-semibold text-base truncate",children:a?.name??"Unknown"})]},r)})}),rF=({games:t,editableScores:e,onScoreChange:n})=>{const{data:r}=uc(),a=o=>{const c=r?.find(d=>d.id===o);return c?c.name:"Unknown"};return f.jsx("div",{className:"flex flex-col gap-4",children:t.map((o,c)=>{const d=`${a(o.team1Player1Id)} & ${a(o.team1Player2Id)}`,h=`${a(o.team2Player1Id)} & ${a(o.team2Player2Id)}`;return f.jsxs("div",{className:`rounded-xl p-4 border transition-all duration-300 ${o.team1Score!==void 0&&o.team2Score!==void 0?"bg-success/5 border-success/30 shadow-sm":"bg-surface-alt/50 border-border hover:border-warning/30"}`,children:[f.jsx("div",{className:"flex justify-center mb-2",children:f.jsxs("div",{className:`text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1 ${o.team1Score!==void 0&&o.team2Score!==void 0?"bg-success/20 text-success":"bg-surface text-text-muted"}`,children:["Match ",c+1]})}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-text-main",children:d}),e&&n&&o.id?f.jsx("input",{type:"number",min:0,max:11,value:o.team1Score??"",onChange:g=>n(o.id,"team1Score",Number(g.target.value)),className:"w-16 bg-surface border border-border rounded px-2 py-1.5 text-center text-sm font-bold focus:ring-2 ring-warning/50 outline-none",placeholder:"Team 1"}):f.jsx("span",{className:"px-2 py-1 rounded bg-success/10 text-success font-bold w-12 text-center",children:o.team1Score??"-"})]}),f.jsxs("div",{className:"relative flex items-center py-1",children:[f.jsx("div",{className:"flex-grow border-t border-border"}),f.jsx("span",{className:"flex-shrink-0 mx-2 text-[10px] font-bold text-text-muted uppercase",children:"VS"}),f.jsx("div",{className:"flex-grow border-t border-border"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-text-main",children:h}),e&&n&&o.id?f.jsx("input",{type:"number",min:0,max:11,value:o.team2Score??"",onChange:g=>n(o.id,"team2Score",Number(g.target.value)),className:"w-16 bg-surface border border-border rounded px-2 py-1.5 text-center text-sm font-bold focus:ring-2 ring-warning/50 outline-none",placeholder:"Team 2"}):f.jsx("span",{className:"px-2 py-1 rounded bg-error/10 text-error font-bold w-12 text-center",children:o.team2Score??"-"})]})]})]},c)})})},sF=({court:t,players:e,editableScores:n=!1,onScoreChange:r,roundNumber:a})=>f.jsxs("div",{className:"p-0 overflow-hidden animate-in fade-in slide-in-from-right-4 duration-300 border-t-4 border-primary bg-surface rounded-xl shadow",children:[f.jsx("div",{className:"p-4 border-b border-border bg-surface-highlight/20 flex flex-col gap-1",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"p-2 bg-primary/10 rounded-lg font-bold text-primary",children:["Court ",t.courtNumber]}),f.jsxs("span",{className:"text-xs font-semibold text-accent bg-surface-alt/60 rounded px-2 py-0.5",children:["Tier: ",t.tier]}),f.jsxs("span",{className:"ml-auto text-xs text-text-muted",children:["Round ",a]})]})}),f.jsxs("div",{className:"p-4 space-y-6",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-primary uppercase tracking-wider mb-2",children:"Players"}),f.jsx(nF,{playerIds:t.playerIds,players:e})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-warning uppercase tracking-wider mb-2",children:"Matches"}),f.jsx(rF,{games:t.games,editableScores:n,onScoreChange:r})]})]})]}),iF=t=>t.split(" ").map(e=>e[0]).join("").toUpperCase(),aF=({courts:t,players:e,isAdmin:n,showLiveBanner:r,handleScoreChange:a})=>{const[o,c]=L.useState(null);return f.jsx("div",{className:"flex flex-col gap-4 mt-4",children:t.map((d,h)=>f.jsxs("div",{className:`rounded-xl shadow border border-border bg-surface transition-all duration-200 ${o===h?"ring-2 ring-primary":""}`,children:[f.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-5 text-lg font-bold text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary rounded-xl",onClick:()=>c(o===h?null:h),"aria-expanded":o===h,tabIndex:0,children:[f.jsxs("span",{className:"flex flex-col items-start gap-1",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"font-bold text-text-main",children:["Court ",d.courtNumber??h+1]}),d.tier&&f.jsxs("span",{className:"bg-surface-alt text-text-muted px-2 py-0.5 rounded-full text-xs font-semibold border border-border ml-1",children:["Tier ",d.tier]})]}),f.jsx("span",{className:"flex flex-wrap gap-2 mt-1",children:d.playerIds.map(g=>{const v=e.find(b=>b.id===g);return f.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-surface-alt rounded-full text-xs font-semibold text-text-main border border-border",children:[f.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-primary/10 text-primary font-bold",children:v?.name?iF(v.name):"?"}),f.jsx("span",{className:"truncate max-w-[80px]",children:v?.name??g})]},g)})})]}),f.jsx("span",{className:"text-xs text-text-muted ml-2",children:o===h?"Collapse":"Expand"})]}),f.jsx("div",{className:`overflow-hidden transition-all duration-300 ${o===h?"max-h-[1000px] py-2":"max-h-0"}`,children:o===h&&f.jsx(sF,{court:d,players:e,editableScores:n&&r,onScoreChange:n&&r?a:void 0,roundNumber:h+1})})]},d.id??h))})},oF=()=>{const{id:t}=VT(),e=t?decodeURIComponent(t):"",{data:n,isLoading:r}=xI(e),{data:a=[]}=uc(),{isAdmin:o}=CI(),c=W8(e),d=D=>D?D.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"",h=D=>D?D.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";if(r)return f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsx("div",{className:"relative overflow-hidden",children:f.jsx("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-12 border border-primary/20 shadow-2xl",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary/20 border-t-primary mx-auto mb-6"}),f.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Loading Event"}),f.jsx("p",{className:"text-text-muted",children:"Please wait while we fetch the event details..."})]})})})});if(!n)return f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-error/5 via-surface to-warning/5 rounded-3xl p-12 border border-error/20 shadow-2xl max-w-2xl mx-auto",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-6xl mb-6 opacity-50",children:""}),f.jsx("h1",{className:"text-3xl font-black text-text-main mb-4",children:"Event Not Found"}),f.jsxs("p",{className:"text-text-muted mb-8 leading-relaxed",children:["The event ID"," ",f.jsx("code",{className:"bg-surface-alt px-2 py-1 rounded font-mono text-sm",children:e||"(empty)"})," ","does not match any scheduled event in our system."]}),f.jsxs(bt,{to:"/schedule",className:"inline-flex items-center gap-2 bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-all duration-300 shadow-lg shadow-primary/20 hover:scale-105",children:[f.jsx(Kw,{className:"h-5 w-5"})," Back to Schedule"]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-error/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})})});const g=Array.isArray(n.standings)&&n.standings.length>0,v=n.startDateTime&&new Date(n.startDateTime)<new Date,b=!g&&v,E=c.currentRoundViewData?.courts&&(b||g),j=g?{label:"Completed",color:"success",emoji:""}:v?{label:"Live",color:"warning",emoji:""}:{label:"Upcoming",color:"primary",emoji:""};return f.jsxs("div",{className:"space-y-16 pb-12",children:[f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:`bg-gradient-to-br from-${j.color}/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-${j.color}/20 shadow-2xl`,children:[f.jsx("div",{className:"mb-8",children:f.jsxs(bt,{to:"/schedule",className:"inline-flex items-center gap-2 text-text-muted hover:text-primary transition-colors font-semibold",children:[f.jsx(Kw,{className:"h-5 w-5"}),f.jsx("span",{children:"Back to Schedule"})]})}),f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-${j.color} to-${j.color}/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300`,children:f.jsx(ro,{className:"h-10 w-10 text-white"})}),f.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full bg-${j.color}/10 border border-${j.color}/20 mb-6`,children:[f.jsx("span",{className:"text-2xl",children:j.emoji}),f.jsxs("span",{className:`text-sm font-semibold text-${j.color}`,children:[j.label," Event"]}),j.label==="Live"&&f.jsxs("span",{className:"relative flex h-2 w-2",children:[f.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full bg-${j.color} opacity-75`}),f.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 bg-${j.color}`})]})]}),f.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:n.name})]}),f.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-${j.color}/10 to-transparent rounded-full blur-2xl -z-10`}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(jl,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Event Details"}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Everything you need to know about this match night"})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 via-primary/5 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx(ro,{className:"h-6 w-6 text-white"})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Date"}),f.jsx("div",{className:"font-bold text-text-main",children:d(n.startDateTime)})]})]})}),f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 via-success/5 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx(Lf,{className:"h-6 w-6 text-white"})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Time"}),f.jsx("div",{className:"font-bold text-text-main",children:h(n.startDateTime)})]})]})}),f.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 via-warning/5 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:f.jsx(sS,{className:"h-6 w-6 text-white"})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Location"}),f.jsx("div",{className:"font-bold text-text-main truncate",children:n.location||"TBD"})]})]})})]}),"description"in n&&typeof n.description=="string"&&f.jsx("div",{className:"mt-8 max-w-4xl mx-auto",children:f.jsxs("div",{className:"bg-surface-alt/50 rounded-2xl border border-border p-6 shadow-lg",children:[f.jsx("h3",{className:"text-lg font-bold text-text-main mb-3",children:"Event Description"}),f.jsx("p",{className:"text-text-muted leading-relaxed",children:n.description})]})}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),E&&f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-warning/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(kl,{className:"h-10 w-10 text-white"})}),f.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[f.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-text-main",children:[" ",b?"Live Action":"Final Results"]}),f.jsx(eF,{current:c.currentView,onSelect:c.setCurrentView,showInitialize:o})]}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:b?"Follow the live action on all courts":"Final court assignments and results"})]}),f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsx(aF,{courts:c.currentRoundViewData?.courts??[],players:a,isAdmin:o,showLiveBanner:b,handleScoreChange:c.handleScoreChange})}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})}),f.jsx("div",{className:"relative overflow-hidden",children:f.jsxs("div",{className:"bg-gradient-to-br from-warning/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-warning/20 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:f.jsx(pr,{className:"h-10 w-10 text-white"})}),f.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:[" ",g?"Final Standings":"Standings"]}),f.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:g?"Official results from this event":"Standings will appear after the event concludes"})]}),g?f.jsx("div",{className:"max-w-2xl mx-auto",children:f.jsx("div",{className:"bg-gradient-to-r from-surface-alt/50 to-surface/50 rounded-2xl border border-border shadow-lg overflow-hidden",children:f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-bold text-text-main mb-4 text-center",children:"Final Rankings"}),f.jsx("div",{className:"space-y-3",children:n.standings.map((D,O)=>{const J=a.find(ae=>ae.id===D),$=["text-warning","text-text-accent","text-bronze"],Z=["","",""];return f.jsxs("div",{className:"flex items-center gap-4 p-4 bg-surface rounded-xl border border-border shadow-sm hover:shadow-md transition-all duration-300",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${O<3?`from-${$[O].split("-")[1]} to-${$[O].split("-")[1]}/80`:"from-surface-alt to-surface-highlight"} rounded-full flex items-center justify-center shadow-md`,children:f.jsx("span",{className:"text-lg font-black text-white",children:O<3?Z[O]:`#${O+1}`})})}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("h4",{className:`font-bold ${O<3?$[O]:"text-text-main"} text-lg`,children:J?.name??`Player ${D}`}),f.jsx("p",{className:"text-sm text-text-muted",children:O===0?"Champion":O===1?"Runner-up":O===2?"Third Place":`Position ${O+1}`})]}),f.jsx("div",{className:"text-right",children:f.jsxs("span",{className:`text-2xl font-black ${O<3?$[O]:"text-text-main"}`,children:["#",O+1]})})]},D)})})]})})}):f.jsxs("div",{className:"max-w-xl mx-auto text-center p-12",children:[f.jsx("div",{className:"text-6xl mb-6 opacity-50",children:j.emoji}),f.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:v?"Event In Progress":"Event Not Started"}),f.jsx("p",{className:"text-text-muted",children:v?"Players are currently competing. Final standings will appear here when the event concludes.":"Check back after the event starts to see live updates and final standings."})]}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-2xl -z-10"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),o&&b&&f.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:f.jsx("button",{className:"bg-gradient-to-r from-primary to-primary-hover text-white rounded-full shadow-2xl p-6 text-2xl hover:scale-110 transition-all duration-300 border-2 border-primary/20","aria-label":"Edit Scores",tabIndex:0,children:""})})]})},lF=()=>f.jsx(tO,{children:f.jsxs(yD,{children:[f.jsx(zs,{path:"/",element:f.jsx(C8,{})}),f.jsx(zs,{path:"/standings",element:f.jsx(O8,{})}),f.jsx(zs,{path:"/schedule",element:f.jsx(U8,{})}),f.jsx(zs,{path:"/players",element:f.jsx(M8,{})}),f.jsx(zs,{path:"/player/:id",element:f.jsx(z8,{})}),f.jsx(zs,{path:"/format",element:f.jsx(P8,{})}),f.jsx(zs,{path:"/admin",element:f.jsx(B8,{})}),f.jsx(zs,{path:"/event/:id",element:f.jsx(oF,{})})]})}),cF=new xj;xC.createRoot(document.getElementById("root")).render(f.jsx(L.StrictMode,{children:f.jsx(_j,{client:cF,children:f.jsx(FD,{children:f.jsx(lF,{})})})}));
