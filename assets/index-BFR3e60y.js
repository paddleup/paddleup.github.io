(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function vC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wg={exports:{}},pc={};var Sw;function _C(){if(Sw)return pc;Sw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return pc.Fragment=e,pc.jsx=n,pc.jsxs=n,pc}var Aw;function bC(){return Aw||(Aw=1,Wg.exports=_C()),Wg.exports}var g=bC(),ey={exports:{}},Pe={};var Iw;function xC(){if(Iw)return Pe;Iw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function A(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,V={};function Y(C,Z,ie){this.props=C,this.context=Z,this.refs=V,this.updater=ie||P}Y.prototype.isReactComponent={},Y.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},Y.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Q(){}Q.prototype=Y.prototype;function J(C,Z,ie){this.props=C,this.context=Z,this.refs=V,this.updater=ie||P}var ae=J.prototype=new Q;ae.constructor=J,D(ae,Y.prototype),ae.isPureReactComponent=!0;var le=Array.isArray;function me(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(C,Z,ie){var he=ie.ref;return{$$typeof:t,type:C,key:Z,ref:he!==void 0?he:null,props:ie}}function M(C,Z){return N(C.type,Z,C.props)}function j(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function U(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ie){return Z[ie]})}var k=/\/+/g;function Se(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?U(""+C.key):Z.toString(36)}function Ue(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(me,me):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function $(C,Z,ie,he,Ie){var Oe=typeof C;(Oe==="undefined"||Oe==="boolean")&&(C=null);var Ae=!1;if(C===null)Ae=!0;else switch(Oe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(C.$$typeof){case t:case e:Ae=!0;break;case v:return Ae=C._init,$(Ae(C._payload),Z,ie,he,Ie)}}if(Ae)return Ie=Ie(C),Ae=he===""?"."+Se(C,0):he,le(Ie)?(ie="",Ae!=null&&(ie=Ae.replace(k,"$&/")+"/"),$(Ie,Z,ie,"",function(nr){return nr})):Ie!=null&&(j(Ie)&&(Ie=M(Ie,ie+(Ie.key==null||C&&C.key===Ie.key?"":(""+Ie.key).replace(k,"$&/")+"/")+Ae)),Z.push(Ie)),1;Ae=0;var Rt=he===""?".":he+":";if(le(C))for(var rt=0;rt<C.length;rt++)he=C[rt],Oe=Rt+Se(he,rt),Ae+=$(he,Z,ie,Oe,Ie);else if(rt=A(C),typeof rt=="function")for(C=rt.call(C),rt=0;!(he=C.next()).done;)he=he.value,Oe=Rt+Se(he,rt++),Ae+=$(he,Z,ie,Oe,Ie);else if(Oe==="object"){if(typeof C.then=="function")return $(Ue(C),Z,ie,he,Ie);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function ue(C,Z,ie){if(C==null)return C;var he=[],Ie=0;return $(C,he,"","",function(Oe){return Z.call(ie,Oe,Ie++)}),he}function oe(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(ie){(C._status===0||C._status===-1)&&(C._status=1,C._result=ie)},function(ie){(C._status===0||C._status===-1)&&(C._status=2,C._result=ie)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var Me=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ne={map:ue,forEach:function(C,Z,ie){ue(C,function(){Z.apply(this,arguments)},ie)},count:function(C){var Z=0;return ue(C,function(){Z++}),Z},toArray:function(C){return ue(C,function(Z){return Z})||[]},only:function(C){if(!j(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Pe.Activity=_,Pe.Children=Ne,Pe.Component=Y,Pe.Fragment=n,Pe.Profiler=a,Pe.PureComponent=J,Pe.StrictMode=r,Pe.Suspense=d,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return R.H.useMemoCache(C)}},Pe.cache=function(C){return function(){return C.apply(null,arguments)}},Pe.cacheSignal=function(){return null},Pe.cloneElement=function(C,Z,ie){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var he=D({},C.props),Ie=C.key;if(Z!=null)for(Oe in Z.key!==void 0&&(Ie=""+Z.key),Z)!S.call(Z,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&Z.ref===void 0||(he[Oe]=Z[Oe]);var Oe=arguments.length-2;if(Oe===1)he.children=ie;else if(1<Oe){for(var Ae=Array(Oe),Rt=0;Rt<Oe;Rt++)Ae[Rt]=arguments[Rt+2];he.children=Ae}return N(C.type,Ie,he)},Pe.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},Pe.createElement=function(C,Z,ie){var he,Ie={},Oe=null;if(Z!=null)for(he in Z.key!==void 0&&(Oe=""+Z.key),Z)S.call(Z,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ie[he]=Z[he]);var Ae=arguments.length-2;if(Ae===1)Ie.children=ie;else if(1<Ae){for(var Rt=Array(Ae),rt=0;rt<Ae;rt++)Rt[rt]=arguments[rt+2];Ie.children=Rt}if(C&&C.defaultProps)for(he in Ae=C.defaultProps,Ae)Ie[he]===void 0&&(Ie[he]=Ae[he]);return N(C,Oe,Ie)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(C){return{$$typeof:h,render:C}},Pe.isValidElement=j,Pe.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:oe}},Pe.memo=function(C,Z){return{$$typeof:p,type:C,compare:Z===void 0?null:Z}},Pe.startTransition=function(C){var Z=R.T,ie={};R.T=ie;try{var he=C(),Ie=R.S;Ie!==null&&Ie(ie,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(me,Me)}catch(Oe){Me(Oe)}finally{Z!==null&&ie.types!==null&&(Z.types=ie.types),R.T=Z}},Pe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Pe.use=function(C){return R.H.use(C)},Pe.useActionState=function(C,Z,ie){return R.H.useActionState(C,Z,ie)},Pe.useCallback=function(C,Z){return R.H.useCallback(C,Z)},Pe.useContext=function(C){return R.H.useContext(C)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(C,Z){return R.H.useDeferredValue(C,Z)},Pe.useEffect=function(C,Z){return R.H.useEffect(C,Z)},Pe.useEffectEvent=function(C){return R.H.useEffectEvent(C)},Pe.useId=function(){return R.H.useId()},Pe.useImperativeHandle=function(C,Z,ie){return R.H.useImperativeHandle(C,Z,ie)},Pe.useInsertionEffect=function(C,Z){return R.H.useInsertionEffect(C,Z)},Pe.useLayoutEffect=function(C,Z){return R.H.useLayoutEffect(C,Z)},Pe.useMemo=function(C,Z){return R.H.useMemo(C,Z)},Pe.useOptimistic=function(C,Z){return R.H.useOptimistic(C,Z)},Pe.useReducer=function(C,Z,ie){return R.H.useReducer(C,Z,ie)},Pe.useRef=function(C){return R.H.useRef(C)},Pe.useState=function(C){return R.H.useState(C)},Pe.useSyncExternalStore=function(C,Z,ie){return R.H.useSyncExternalStore(C,Z,ie)},Pe.useTransition=function(){return R.H.useTransition()},Pe.version="19.2.3",Pe}var Rw;function _v(){return Rw||(Rw=1,ey.exports=xC()),ey.exports}var L=_v();const Uc=vC(L);var ty={exports:{}},gc={},ny={exports:{}},ry={};var Nw;function wC(){return Nw||(Nw=1,(function(t){function e($,ue){var oe=$.length;$.push(ue);e:for(;0<oe;){var Me=oe-1>>>1,Ne=$[Me];if(0<a(Ne,ue))$[Me]=ue,$[oe]=Ne,oe=Me;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ue=$[0],oe=$.pop();if(oe!==ue){$[0]=oe;e:for(var Me=0,Ne=$.length,C=Ne>>>1;Me<C;){var Z=2*(Me+1)-1,ie=$[Z],he=Z+1,Ie=$[he];if(0>a(ie,oe))he<Ne&&0>a(Ie,ie)?($[Me]=Ie,$[he]=oe,Me=he):($[Me]=ie,$[Z]=oe,Me=Z);else if(he<Ne&&0>a(Ie,oe))$[Me]=Ie,$[he]=oe,Me=he;else break e}}return ue}function a($,ue){var oe=$.sortIndex-ue.sortIndex;return oe!==0?oe:$.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],v=1,_=null,E=3,A=!1,P=!1,D=!1,V=!1,Y=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ae($){for(var ue=n(p);ue!==null;){if(ue.callback===null)r(p);else if(ue.startTime<=$)r(p),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=n(p)}}function le($){if(D=!1,ae($),!P)if(n(d)!==null)P=!0,me||(me=!0,U());else{var ue=n(p);ue!==null&&Ue(le,ue.startTime-$)}}var me=!1,R=-1,S=5,N=-1;function M(){return V?!0:!(t.unstable_now()-N<S)}function j(){if(V=!1,me){var $=t.unstable_now();N=$;var ue=!0;try{e:{P=!1,D&&(D=!1,Q(R),R=-1),A=!0;var oe=E;try{t:{for(ae($),_=n(d);_!==null&&!(_.expirationTime>$&&M());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,E=_.priorityLevel;var Ne=Me(_.expirationTime<=$);if($=t.unstable_now(),typeof Ne=="function"){_.callback=Ne,ae($),ue=!0;break t}_===n(d)&&r(d),ae($)}else r(d);_=n(d)}if(_!==null)ue=!0;else{var C=n(p);C!==null&&Ue(le,C.startTime-$),ue=!1}}break e}finally{_=null,E=oe,A=!1}ue=void 0}}finally{ue?U():me=!1}}}var U;if(typeof J=="function")U=function(){J(j)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Se=k.port2;k.port1.onmessage=j,U=function(){Se.postMessage(null)}}else U=function(){Y(j,0)};function Ue($,ue){R=Y(function(){$(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function($){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var oe=E;E=ue;try{return $()}finally{E=oe}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function($,ue){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var oe=E;E=$;try{return ue()}finally{E=oe}},t.unstable_scheduleCallback=function($,ue,oe){var Me=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Me+oe:Me):oe=Me,$){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=oe+Ne,$={id:v++,callback:ue,priorityLevel:$,startTime:oe,expirationTime:Ne,sortIndex:-1},oe>Me?($.sortIndex=oe,e(p,$),n(d)===null&&$===n(p)&&(D?(Q(R),R=-1):D=!0,Ue(le,oe-Me))):($.sortIndex=Ne,e(d,$),P||A||(P=!0,me||(me=!0,U()))),$},t.unstable_shouldYield=M,t.unstable_wrapCallback=function($){var ue=E;return function(){var oe=E;E=ue;try{return $.apply(this,arguments)}finally{E=oe}}}})(ry)),ry}var Cw;function EC(){return Cw||(Cw=1,ny.exports=wC()),ny.exports}var sy={exports:{}},vn={};var Dw;function TC(){if(Dw)return vn;Dw=1;var t=_v();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,vn.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,v)},vn.flushSync=function(d){var p=u.T,v=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=v,r.d.f()}},vn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},vn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},vn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var v=p.as,_=h(v,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:A}):v==="script"&&r.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},vn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=h(v,p.crossOrigin);r.d.L(d,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vn.preloadModule=function(d,p){if(typeof d=="string")if(p){var v=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},vn.requestFormReset=function(d){r.d.r(d)},vn.unstable_batchedUpdates=function(d,p){return d(p)},vn.useFormState=function(d,p,v){return u.H.useFormState(d,p,v)},vn.useFormStatus=function(){return u.H.useHostTransitionStatus()},vn.version="19.2.3",vn}var kw;function SC(){if(kw)return sy.exports;kw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sy.exports=TC(),sy.exports}var Ow;function AC(){if(Ow)return gc;Ow=1;var t=EC(),e=_v(),n=SC();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function p(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,c=i;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return d(m),s;if(y===c)return d(m),i;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var x=!1,T=m.child;T;){if(T===l){x=!0,l=m,c=y;break}if(T===c){x=!0,c=m,l=y;break}T=T.sibling}if(!x){for(T=y.child;T;){if(T===l){x=!0,l=y,c=m;break}if(T===c){x=!0,c=y,l=m;break}T=T.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function v(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=v(s),i!==null)return i;s=s.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case Y:return"Profiler";case V:return"StrictMode";case le:return"Suspense";case me:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case P:return"Portal";case J:return s.displayName||"Context";case Q:return(s._context.displayName||"Context")+".Consumer";case ae:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return i=s.displayName||null,i!==null?i:Se(s.type)||"Memo";case S:i=s._payload,s=s._init;try{return Se(s(i))}catch{}}return null}var Ue=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Me=[],Ne=-1;function C(s){return{current:s}}function Z(s){0>Ne||(s.current=Me[Ne],Me[Ne]=null,Ne--)}function ie(s,i){Ne++,Me[Ne]=s.current,s.current=i}var he=C(null),Ie=C(null),Oe=C(null),Ae=C(null);function Rt(s,i){switch(ie(Oe,i),ie(Ie,s),ie(he,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?Q0(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=Q0(i),s=Z0(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Z(he),ie(he,s)}function rt(){Z(he),Z(Ie),Z(Oe)}function nr(s){s.memoizedState!==null&&ie(Ae,s);var i=he.current,l=Z0(i,s.type);i!==l&&(ie(Ie,s),ie(he,l))}function Fr(s){Ie.current===s&&(Z(he),Z(Ie)),Ae.current===s&&(Z(Ae),hc._currentValue=oe)}var Tr,Io;function Br(s){if(Tr===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Tr=i&&i[1]||"",Io=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tr+s+Io}var hu=!1;function ua(s,i){if(!s||hu)return"";hu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var K=W}Reflect.construct(s,[],se)}else{try{se.call()}catch(W){K=W}s.call(se.prototype)}}else{try{throw Error()}catch(W){K=W}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),x=y[0],T=y[1];if(x&&T){var O=x.split(`
`),G=T.split(`
`);for(m=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(c===O.length||m===G.length)for(c=O.length-1,m=G.length-1;1<=c&&0<=m&&O[c]!==G[m];)m--;for(;1<=c&&0<=m;c--,m--)if(O[c]!==G[m]){if(c!==1||m!==1)do if(c--,m--,0>m||O[c]!==G[m]){var te=`
`+O[c].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=c&&0<=m);break}}}finally{hu=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Br(l):""}function du(s,i){switch(s.tag){case 26:case 27:case 5:return Br(s.type);case 16:return Br("Lazy");case 13:return s.child!==i&&i!==null?Br("Suspense Fallback"):Br("Suspense");case 19:return Br("SuspenseList");case 0:case 15:return ua(s.type,!1);case 11:return ua(s.type.render,!1);case 1:return ua(s.type,!0);case 31:return Br("Activity");default:return""}}function fu(s){try{var i="",l=null;do i+=du(s,l),l=s,s=s.return;while(s);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Lt=Object.prototype.hasOwnProperty,Xt=t.unstable_scheduleCallback,ni=t.unstable_cancelCallback,tp=t.unstable_shouldYield,Th=t.unstable_requestPaint,En=t.unstable_now,ca=t.unstable_getCurrentPriorityLevel,mu=t.unstable_ImmediatePriority,pu=t.unstable_UserBlockingPriority,ri=t.unstable_NormalPriority,np=t.unstable_LowPriority,Sh=t.unstable_IdlePriority,Ah=t.log,Ih=t.unstable_setDisableYieldValue,Sr=null,ln=null;function rr(s){if(typeof Ah=="function"&&Ih(s),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Sr,s)}catch{}}var Pt=Math.clz32?Math.clz32:Nh,Rh=Math.log,Ro=Math.LN2;function Nh(s){return s>>>=0,s===0?32:31-(Rh(s)/Ro|0)|0}var qr=256,ha=262144,Ut=4194304;function $r(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Hr(s,i,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,y=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var T=c&134217727;return T!==0?(c=T&~y,c!==0?m=$r(c):(x&=T,x!==0?m=$r(x):l||(l=T&~s,l!==0&&(m=$r(l))))):(T=c&~y,T!==0?m=$r(T):x!==0?m=$r(x):l||(l=c&~s,l!==0&&(m=$r(l)))),m===0?0:i!==0&&i!==m&&(i&y)===0&&(y=m&-m,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:m}function Ar(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function rp(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ch(){var s=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),s}function Gr(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function da(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function sp(s,i,l,c,m,y){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var T=s.entanglements,O=s.expirationTimes,G=s.hiddenUpdates;for(l=x&~l;0<l;){var te=31-Pt(l),se=1<<te;T[te]=0,O[te]=-1;var K=G[te];if(K!==null)for(G[te]=null,te=0;te<K.length;te++){var W=K[te];W!==null&&(W.lane&=-536870913)}l&=~se}c!==0&&fa(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(x&~i))}function fa(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var c=31-Pt(i);s.entangledLanes|=i,s.entanglements[c]=s.entanglements[c]|1073741824|l&261930}function gu(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var c=31-Pt(l),m=1<<c;m&i|s[c]&i&&(s[c]|=i),l&=~m}}function yu(s,i){var l=i&-i;return l=(l&42)!==0?1:ma(l),(l&(s.suspendedLanes|i))!==0?0:l}function ma(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function bs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Dh(){var s=ue.p;return s!==0?s:(s=window.event,s===void 0?32:vw(s.type))}function Ir(s,i){var l=ue.p;try{return ue.p=s,i()}finally{ue.p=l}}var Rr=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Rr,rn="__reactProps$"+Rr,Kr="__reactContainer$"+Rr,No="__reactEvents$"+Rr,ip="__reactListeners$"+Rr,kh="__reactHandles$"+Rr,Oh="__reactResources$"+Rr,Qr="__reactMarker$"+Rr;function Co(s){delete s[Ft],delete s[rn],delete s[No],delete s[ip],delete s[kh]}function Zr(s){var i=s[Ft];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Kr]||l[Ft]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=nw(s);s!==null;){if(l=s[Ft])return l;s=nw(s)}return i}s=l,l=s.parentNode}return null}function sr(s){if(s=s[Ft]||s[Kr]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Fn(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Yr(s){var i=s[Oh];return i||(i=s[Oh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Bt(s){s[Qr]=!0}var vu=new Set,_u={};function Xr(s,i){Jr(s,i),Jr(s+"Capture",i)}function Jr(s,i){for(_u[s]=i,s=0;s<i.length;s++)vu.add(i[s])}var bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xu={},wu={};function Ph(s){return Lt.call(wu,s)?!0:Lt.call(xu,s)?!1:bu.test(s)?wu[s]=!0:(xu[s]=!0,!1)}function Do(s,i,l){if(Ph(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function Bn(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function qt(s,i,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+c)}}function sn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function si(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Eu(s,i,l){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(x){l=""+x,y.call(this,x)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function st(s){if(!s._valueTracker){var i=si(s)?"checked":"value";s._valueTracker=Eu(s,i,""+s[i])}}function pa(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return s&&(c=si(s)?s.checked?"true":"false":s.value),s=c,s!==l?(i.setValue(s),!0):!1}function Wr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ga=/[\n"\\]/g;function kn(s){return s.replace(ga,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ko(s,i,l,c,m,y,x,T){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),i!=null?x==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+sn(i)):s.value!==""+sn(i)&&(s.value=""+sn(i)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),i!=null?Tu(s,x,sn(i)):l!=null?Tu(s,x,sn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.name=""+sn(T):s.removeAttribute("name")}function jh(s,i,l,c,m,y,x,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){st(s);return}l=l!=null?""+sn(l):"",i=i!=null?""+sn(i):l,T||i===s.value||(s.value=i),s.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=T?s.checked:!!c,s.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),st(s)}function Tu(s,i,l){i==="number"&&Wr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ii(s,i,l,c){if(s=s.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=i.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+sn(l),i=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function Mh(s,i,l){if(i!=null&&(i=""+sn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+sn(l):""}function ai(s,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(r(92));if(Ue(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=sn(i),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c),st(s)}function On(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Vh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(s,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":c?s.setProperty(i,l):typeof l!="number"||l===0||Vh.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Au(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&l[m]!==c&&Su(s,m,c)}else for(var y in i)i.hasOwnProperty(y)&&Su(s,y,i[y])}function Oo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Po(s){return oi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Nr(){}var Iu=null;function ir(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var li=null,es=null;function ya(s){var i=sr(s);if(i&&(s=i.stateNode)){var l=s[rn]||null;e:switch(s=i.stateNode,i.type){case"input":if(ko(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+kn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==s&&c.form===s.form){var m=c[rn]||null;if(!m)throw Error(r(90));ko(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===s.form&&pa(c)}break e;case"textarea":Mh(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ii(s,!!l.multiple,i,!1)}}}var jo=!1;function ui(s,i,l){if(jo)return s(i,l);jo=!0;try{var c=s(i);return c}finally{if(jo=!1,(li!==null||es!==null)&&(Dd(),li&&(i=li,s=es,es=li=null,ya(i),s)))for(i=0;i<s.length;i++)ya(s[i])}}function Cr(s,i){var l=s.stateNode;if(l===null)return null;var c=l[rn]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(ar)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){va=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{va=!1}var ts=null,Ru=null,_a=null;function Nu(){if(_a)return _a;var s,i=Ru,l=i.length,c,m="value"in ts?ts.value:ts.textContent,y=m.length;for(s=0;s<l&&i[s]===m[s];s++);var x=l-s;for(c=1;c<=x&&i[l-c]===m[y-c];c++);return _a=m.slice(s,1<c?1-c:void 0)}function ba(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function xs(){return!0}function Dr(){return!1}function un(s){function i(l,c,m,y,x){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(l=s[T],this[T]=l?l(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xs:Dr,this.isPropagationStopped=Dr,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),i}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=un(ws),ci=_({},ws,{view:0,detail:0}),Cu=un(ci),hi,Mo,rs,Vo=_({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:di,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==rs&&(rs&&s.type==="mousemove"?(hi=s.screenX-rs.screenX,Mo=s.screenY-rs.screenY):Mo=hi=0,rs=s),hi)},movementY:function(s){return"movementY"in s?s.movementY:Mo}}),Du=un(Vo),xa=_({},Vo,{dataTransfer:0}),Lh=un(xa),Uh=_({},ci,{relatedTarget:0}),wa=un(Uh),ku=_({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Fh=un(ku),zo=_({},ws,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bh=un(zo),qh=_({},ws,{data:0}),ss=un(qh),$h={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kh(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Gh[s])?!!i[s]:!1}function di(){return Kh}var Tn=_({},ci,{key:function(s){if(s.key){var i=$h[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=ba(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:di,charCode:function(s){return s.type==="keypress"?ba(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ba(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qh=un(Tn),Zh=_({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Es=un(Zh),f=_({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:di}),b=un(f),w=_({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=un(w),q=_({},Vo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=un(q),fe=_({},ws,{newState:0,oldState:0}),Ve=un(fe),jt=[9,13,27,32],tt=ar&&"CompositionEvent"in window,_t=null;ar&&"documentMode"in document&&(_t=document.documentMode);var or=ar&&"TextEvent"in window&&!_t,is=ar&&(!tt||_t&&8<_t&&11>=_t),kr=" ",Or=!1;function Ea(s,i){switch(s){case"keyup":return jt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Uo=!1;function BN(s,i){switch(s){case"compositionend":return Lo(i);case"keypress":return i.which!==32?null:(Or=!0,kr);case"textInput":return s=i.data,s===kr&&Or?null:s;default:return null}}function qN(s,i){if(Uo)return s==="compositionend"||!tt&&Ea(s,i)?(s=Nu(),_a=Ru=ts=null,Uo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return is&&i.locale!=="ko"?null:i.data;default:return null}}var $N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ib(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!$N[s.type]:i==="textarea"}function ab(s,i,l,c){li?es?es.push(c):es=[c]:li=c,i=zd(i,"onChange"),0<i.length&&(l=new ns("onChange","change",null,l,c),s.push({event:l,listeners:i}))}var Ou=null,Pu=null;function HN(s){B0(s,0)}function Yh(s){var i=Fn(s);if(pa(i))return s}function ob(s,i){if(s==="change")return i}var lb=!1;if(ar){var ap;if(ar){var op="oninput"in document;if(!op){var ub=document.createElement("div");ub.setAttribute("oninput","return;"),op=typeof ub.oninput=="function"}ap=op}else ap=!1;lb=ap&&(!document.documentMode||9<document.documentMode)}function cb(){Ou&&(Ou.detachEvent("onpropertychange",hb),Pu=Ou=null)}function hb(s){if(s.propertyName==="value"&&Yh(Pu)){var i=[];ab(i,Pu,s,ir(s)),ui(HN,i)}}function GN(s,i,l){s==="focusin"?(cb(),Ou=i,Pu=l,Ou.attachEvent("onpropertychange",hb)):s==="focusout"&&cb()}function KN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yh(Pu)}function QN(s,i){if(s==="click")return Yh(i)}function ZN(s,i){if(s==="input"||s==="change")return Yh(i)}function YN(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var qn=typeof Object.is=="function"?Object.is:YN;function ju(s,i){if(qn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Lt.call(i,m)||!qn(s[m],i[m]))return!1}return!0}function db(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function fb(s,i){var l=db(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=i&&c>=i)return{node:l,offset:i-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=db(l)}}function mb(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?mb(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function pb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Wr(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Wr(s.document)}return i}function lp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var XN=ar&&"documentMode"in document&&11>=document.documentMode,Fo=null,up=null,Mu=null,cp=!1;function gb(s,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cp||Fo==null||Fo!==Wr(c)||(c=Fo,"selectionStart"in c&&lp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Mu&&ju(Mu,c)||(Mu=c,c=zd(up,"onSelect"),0<c.length&&(i=new ns("onSelect","select",null,i,l),s.push({event:i,listeners:c}),i.target=Fo)))}function Ta(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Bo={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},hp={},yb={};ar&&(yb=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Sa(s){if(hp[s])return hp[s];if(!Bo[s])return s;var i=Bo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in yb)return hp[s]=i[l];return s}var vb=Sa("animationend"),_b=Sa("animationiteration"),bb=Sa("animationstart"),JN=Sa("transitionrun"),WN=Sa("transitionstart"),e2=Sa("transitioncancel"),xb=Sa("transitionend"),wb=new Map,dp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dp.push("scrollEnd");function Pr(s,i){wb.set(s,i),Xr(i,[s])}var Xh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},lr=[],qo=0,fp=0;function Jh(){for(var s=qo,i=fp=qo=0;i<s;){var l=lr[i];lr[i++]=null;var c=lr[i];lr[i++]=null;var m=lr[i];lr[i++]=null;var y=lr[i];if(lr[i++]=null,c!==null&&m!==null){var x=c.pending;x===null?m.next=m:(m.next=x.next,x.next=m),c.pending=m}y!==0&&Eb(l,m,y)}}function Wh(s,i,l,c){lr[qo++]=s,lr[qo++]=i,lr[qo++]=l,lr[qo++]=c,fp|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function mp(s,i,l,c){return Wh(s,i,l,c),ed(s)}function Aa(s,i){return Wh(s,null,null,i),ed(s)}function Eb(s,i,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&i!==null&&(m=31-Pt(l),s=y.hiddenUpdates,c=s[m],c===null?s[m]=[i]:c.push(i),i.lane=l|536870912),y):null}function ed(s){if(50<sc)throw sc=0,Eg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var $o={};function t2(s,i,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(s,i,l,c){return new t2(s,i,l,c)}function pp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ts(s,i){var l=s.alternate;return l===null?(l=$n(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Tb(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function td(s,i,l,c,m,y){var x=0;if(c=s,typeof s=="function")pp(s)&&(x=1);else if(typeof s=="string")x=aC(s,l,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case N:return s=$n(31,l,i,m),s.elementType=N,s.lanes=y,s;case D:return Ia(l.children,m,y,i);case V:x=8,m|=24;break;case Y:return s=$n(12,l,i,m|2),s.elementType=Y,s.lanes=y,s;case le:return s=$n(13,l,i,m),s.elementType=le,s.lanes=y,s;case me:return s=$n(19,l,i,m),s.elementType=me,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case J:x=10;break e;case Q:x=9;break e;case ae:x=11;break e;case R:x=14;break e;case S:x=16,c=null;break e}x=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return i=$n(x,l,i,m),i.elementType=s,i.type=c,i.lanes=y,i}function Ia(s,i,l,c){return s=$n(7,s,c,i),s.lanes=l,s}function gp(s,i,l){return s=$n(6,s,null,i),s.lanes=l,s}function Sb(s){var i=$n(18,null,null,0);return i.stateNode=s,i}function yp(s,i,l){return i=$n(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var Ab=new WeakMap;function ur(s,i){if(typeof s=="object"&&s!==null){var l=Ab.get(s);return l!==void 0?l:(i={value:s,source:i,stack:fu(i)},Ab.set(s,i),i)}return{value:s,source:i,stack:fu(i)}}var Ho=[],Go=0,nd=null,Vu=0,cr=[],hr=0,fi=null,as=1,os="";function Ss(s,i){Ho[Go++]=Vu,Ho[Go++]=nd,nd=s,Vu=i}function Ib(s,i,l){cr[hr++]=as,cr[hr++]=os,cr[hr++]=fi,fi=s;var c=as;s=os;var m=32-Pt(c)-1;c&=~(1<<m),l+=1;var y=32-Pt(i)+m;if(30<y){var x=m-m%5;y=(c&(1<<x)-1).toString(32),c>>=x,m-=x,as=1<<32-Pt(i)+m|l<<m|c,os=y+s}else as=1<<y|l<<m|c,os=s}function vp(s){s.return!==null&&(Ss(s,1),Ib(s,1,0))}function _p(s){for(;s===nd;)nd=Ho[--Go],Ho[Go]=null,Vu=Ho[--Go],Ho[Go]=null;for(;s===fi;)fi=cr[--hr],cr[hr]=null,os=cr[--hr],cr[hr]=null,as=cr[--hr],cr[hr]=null}function Rb(s,i){cr[hr++]=as,cr[hr++]=os,cr[hr++]=fi,as=i.id,os=i.overflow,fi=s}var cn=null,gt=null,Ze=!1,mi=null,dr=!1,bp=Error(r(519));function pi(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zu(ur(i,s)),bp}function Nb(s){var i=s.stateNode,l=s.type,c=s.memoizedProps;switch(i[Ft]=s,i[rn]=c,l){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(l=0;l<ac.length;l++)$e(ac[l],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":$e("invalid",i),jh(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":$e("invalid",i);break;case"textarea":$e("invalid",i),ai(i,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||G0(i.textContent,l)?(c.popover!=null&&($e("beforetoggle",i),$e("toggle",i)),c.onScroll!=null&&$e("scroll",i),c.onScrollEnd!=null&&$e("scrollend",i),c.onClick!=null&&(i.onclick=Nr),i=!0):i=!1,i||pi(s,!0)}function Cb(s){for(cn=s.return;cn;)switch(cn.tag){case 5:case 31:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:cn=cn.return}}function Ko(s){if(s!==cn)return!1;if(!Ze)return Cb(s),Ze=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||zg(s.type,s.memoizedProps)),l=!l),l&&gt&&pi(s),Cb(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));gt=tw(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));gt=tw(s)}else i===27?(i=gt,Ni(s.type)?(s=qg,qg=null,gt=s):gt=i):gt=cn?mr(s.stateNode.nextSibling):null;return!0}function Ra(){gt=cn=null,Ze=!1}function xp(){var s=mi;return s!==null&&(Vn===null?Vn=s:Vn.push.apply(Vn,s),mi=null),s}function zu(s){mi===null?mi=[s]:mi.push(s)}var wp=C(null),Na=null,As=null;function gi(s,i,l){ie(wp,i._currentValue),i._currentValue=l}function Is(s){s._currentValue=wp.current,Z(wp)}function Ep(s,i,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===l)break;s=s.return}}function Tp(s,i,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var x=m.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=m;for(var O=0;O<i.length;O++)if(T.context===i[O]){y.lanes|=l,T=y.alternate,T!==null&&(T.lanes|=l),Ep(y.return,l,s),c||(x=null);break e}y=T.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(r(341));x.lanes|=l,y=x.alternate,y!==null&&(y.lanes|=l),Ep(x,l,s),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function Qo(s,i,l,c){s=null;for(var m=i,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var T=m.type;qn(m.pendingProps.value,x.value)||(s!==null?s.push(T):s=[T])}}else if(m===Ae.current){if(x=m.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(hc):s=[hc])}m=m.return}s!==null&&Tp(i,s,l,c),i.flags|=262144}function rd(s){for(s=s.firstContext;s!==null;){if(!qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ca(s){Na=s,As=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hn(s){return Db(Na,s)}function sd(s,i){return Na===null&&Ca(s),Db(s,i)}function Db(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},As===null){if(s===null)throw Error(r(308));As=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else As=As.next=i;return l}var n2=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},r2=t.unstable_scheduleCallback,s2=t.unstable_NormalPriority,$t={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sp(){return{controller:new n2,data:new Map,refCount:0}}function Lu(s){s.refCount--,s.refCount===0&&r2(s2,function(){s.controller.abort()})}var Uu=null,Ap=0,Zo=0,Yo=null;function i2(s,i){if(Uu===null){var l=Uu=[];Ap=0,Zo=Ng(),Yo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Ap++,i.then(kb,kb),i}function kb(){if(--Ap===0&&Uu!==null){Yo!==null&&(Yo.status="fulfilled");var s=Uu;Uu=null,Zo=0,Yo=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function a2(s,i){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<l.length;m++)(0,l[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var Ob=$.S;$.S=function(s,i){g0=En(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i2(s,i),Ob!==null&&Ob(s,i)};var Da=C(null);function Ip(){var s=Da.current;return s!==null?s:pt.pooledCache}function id(s,i){i===null?ie(Da,Da.current):ie(Da,i.pool)}function Pb(){var s=Ip();return s===null?null:{parent:$t._currentValue,pool:s}}var Xo=Error(r(460)),Rp=Error(r(474)),ad=Error(r(542)),od={then:function(){}};function jb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Mb(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Nr,Nr),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,zb(s),s;default:if(typeof i.status=="string")i.then(Nr,Nr);else{if(s=pt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,zb(s),s}throw Oa=i,Xo}}function ka(s){try{var i=s._init;return i(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Oa=l,Xo):l}}var Oa=null;function Vb(){if(Oa===null)throw Error(r(459));var s=Oa;return Oa=null,s}function zb(s){if(s===Xo||s===ad)throw Error(r(483))}var Jo=null,Fu=0;function ld(s){var i=Fu;return Fu+=1,Jo===null&&(Jo=[]),Mb(Jo,s,i)}function Bu(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function ud(s,i){throw i.$$typeof===E?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Lb(s){function i(F,z){if(s){var H=F.deletions;H===null?(F.deletions=[z],F.flags|=16):H.push(z)}}function l(F,z){if(!s)return null;for(;z!==null;)i(F,z),z=z.sibling;return null}function c(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function m(F,z){return F=Ts(F,z),F.index=0,F.sibling=null,F}function y(F,z,H){return F.index=H,s?(H=F.alternate,H!==null?(H=H.index,H<z?(F.flags|=67108866,z):H):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function x(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function T(F,z,H,ne){return z===null||z.tag!==6?(z=gp(H,F.mode,ne),z.return=F,z):(z=m(z,H),z.return=F,z)}function O(F,z,H,ne){var we=H.type;return we===D?te(F,z,H.props.children,ne,H.key):z!==null&&(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&ka(we)===z.type)?(z=m(z,H.props),Bu(z,H),z.return=F,z):(z=td(H.type,H.key,H.props,null,F.mode,ne),Bu(z,H),z.return=F,z)}function G(F,z,H,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=yp(H,F.mode,ne),z.return=F,z):(z=m(z,H.children||[]),z.return=F,z)}function te(F,z,H,ne,we){return z===null||z.tag!==7?(z=Ia(H,F.mode,ne,we),z.return=F,z):(z=m(z,H),z.return=F,z)}function se(F,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=gp(""+z,F.mode,H),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return H=td(z.type,z.key,z.props,null,F.mode,H),Bu(H,z),H.return=F,H;case P:return z=yp(z,F.mode,H),z.return=F,z;case S:return z=ka(z),se(F,z,H)}if(Ue(z)||U(z))return z=Ia(z,F.mode,H,null),z.return=F,z;if(typeof z.then=="function")return se(F,ld(z),H);if(z.$$typeof===J)return se(F,sd(F,z),H);ud(F,z)}return null}function K(F,z,H,ne){var we=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return we!==null?null:T(F,z,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===we?O(F,z,H,ne):null;case P:return H.key===we?G(F,z,H,ne):null;case S:return H=ka(H),K(F,z,H,ne)}if(Ue(H)||U(H))return we!==null?null:te(F,z,H,ne,null);if(typeof H.then=="function")return K(F,z,ld(H),ne);if(H.$$typeof===J)return K(F,z,sd(F,H),ne);ud(F,H)}return null}function W(F,z,H,ne,we){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return F=F.get(H)||null,T(z,F,""+ne,we);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return F=F.get(ne.key===null?H:ne.key)||null,O(z,F,ne,we);case P:return F=F.get(ne.key===null?H:ne.key)||null,G(z,F,ne,we);case S:return ne=ka(ne),W(F,z,H,ne,we)}if(Ue(ne)||U(ne))return F=F.get(H)||null,te(z,F,ne,we,null);if(typeof ne.then=="function")return W(F,z,H,ld(ne),we);if(ne.$$typeof===J)return W(F,z,H,sd(z,ne),we);ud(z,ne)}return null}function ge(F,z,H,ne){for(var we=null,Je=null,be=z,Le=z=0,Ge=null;be!==null&&Le<H.length;Le++){be.index>Le?(Ge=be,be=null):Ge=be.sibling;var We=K(F,be,H[Le],ne);if(We===null){be===null&&(be=Ge);break}s&&be&&We.alternate===null&&i(F,be),z=y(We,z,Le),Je===null?we=We:Je.sibling=We,Je=We,be=Ge}if(Le===H.length)return l(F,be),Ze&&Ss(F,Le),we;if(be===null){for(;Le<H.length;Le++)be=se(F,H[Le],ne),be!==null&&(z=y(be,z,Le),Je===null?we=be:Je.sibling=be,Je=be);return Ze&&Ss(F,Le),we}for(be=c(be);Le<H.length;Le++)Ge=W(be,F,Le,H[Le],ne),Ge!==null&&(s&&Ge.alternate!==null&&be.delete(Ge.key===null?Le:Ge.key),z=y(Ge,z,Le),Je===null?we=Ge:Je.sibling=Ge,Je=Ge);return s&&be.forEach(function(Pi){return i(F,Pi)}),Ze&&Ss(F,Le),we}function Re(F,z,H,ne){if(H==null)throw Error(r(151));for(var we=null,Je=null,be=z,Le=z=0,Ge=null,We=H.next();be!==null&&!We.done;Le++,We=H.next()){be.index>Le?(Ge=be,be=null):Ge=be.sibling;var Pi=K(F,be,We.value,ne);if(Pi===null){be===null&&(be=Ge);break}s&&be&&Pi.alternate===null&&i(F,be),z=y(Pi,z,Le),Je===null?we=Pi:Je.sibling=Pi,Je=Pi,be=Ge}if(We.done)return l(F,be),Ze&&Ss(F,Le),we;if(be===null){for(;!We.done;Le++,We=H.next())We=se(F,We.value,ne),We!==null&&(z=y(We,z,Le),Je===null?we=We:Je.sibling=We,Je=We);return Ze&&Ss(F,Le),we}for(be=c(be);!We.done;Le++,We=H.next())We=W(be,F,Le,We.value,ne),We!==null&&(s&&We.alternate!==null&&be.delete(We.key===null?Le:We.key),z=y(We,z,Le),Je===null?we=We:Je.sibling=We,Je=We);return s&&be.forEach(function(yC){return i(F,yC)}),Ze&&Ss(F,Le),we}function mt(F,z,H,ne){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:e:{for(var we=H.key;z!==null;){if(z.key===we){if(we=H.type,we===D){if(z.tag===7){l(F,z.sibling),ne=m(z,H.props.children),ne.return=F,F=ne;break e}}else if(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&ka(we)===z.type){l(F,z.sibling),ne=m(z,H.props),Bu(ne,H),ne.return=F,F=ne;break e}l(F,z);break}else i(F,z);z=z.sibling}H.type===D?(ne=Ia(H.props.children,F.mode,ne,H.key),ne.return=F,F=ne):(ne=td(H.type,H.key,H.props,null,F.mode,ne),Bu(ne,H),ne.return=F,F=ne)}return x(F);case P:e:{for(we=H.key;z!==null;){if(z.key===we)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){l(F,z.sibling),ne=m(z,H.children||[]),ne.return=F,F=ne;break e}else{l(F,z);break}else i(F,z);z=z.sibling}ne=yp(H,F.mode,ne),ne.return=F,F=ne}return x(F);case S:return H=ka(H),mt(F,z,H,ne)}if(Ue(H))return ge(F,z,H,ne);if(U(H)){if(we=U(H),typeof we!="function")throw Error(r(150));return H=we.call(H),Re(F,z,H,ne)}if(typeof H.then=="function")return mt(F,z,ld(H),ne);if(H.$$typeof===J)return mt(F,z,sd(F,H),ne);ud(F,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(l(F,z.sibling),ne=m(z,H),ne.return=F,F=ne):(l(F,z),ne=gp(H,F.mode,ne),ne.return=F,F=ne),x(F)):l(F,z)}return function(F,z,H,ne){try{Fu=0;var we=mt(F,z,H,ne);return Jo=null,we}catch(be){if(be===Xo||be===ad)throw be;var Je=$n(29,be,null,F.mode);return Je.lanes=ne,Je.return=F,Je}}}var Pa=Lb(!0),Ub=Lb(!1),yi=!1;function Np(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function vi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _i(s,i,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(nt&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=ed(s),Eb(s,null,l),i}return Wh(s,c,i,l),ed(s)}function qu(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,gu(s,l)}}function Dp(s,i){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=x:y=y.next=x,l=l.next}while(l!==null);y===null?m=y=i:y=y.next=i}else m=y=i;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var kp=!1;function $u(){if(kp){var s=Yo;if(s!==null)throw s}}function Hu(s,i,l,c){kp=!1;var m=s.updateQueue;yi=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var O=T,G=O.next;O.next=null,x===null?y=G:x.next=G,x=O;var te=s.alternate;te!==null&&(te=te.updateQueue,T=te.lastBaseUpdate,T!==x&&(T===null?te.firstBaseUpdate=G:T.next=G,te.lastBaseUpdate=O))}if(y!==null){var se=m.baseState;x=0,te=G=O=null,T=y;do{var K=T.lane&-536870913,W=K!==T.lane;if(W?(He&K)===K:(c&K)===K){K!==0&&K===Zo&&(kp=!0),te!==null&&(te=te.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ge=s,Re=T;K=i;var mt=l;switch(Re.tag){case 1:if(ge=Re.payload,typeof ge=="function"){se=ge.call(mt,se,K);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Re.payload,K=typeof ge=="function"?ge.call(mt,se,K):ge,K==null)break e;se=_({},se,K);break e;case 2:yi=!0}}K=T.callback,K!==null&&(s.flags|=64,W&&(s.flags|=8192),W=m.callbacks,W===null?m.callbacks=[K]:W.push(K))}else W={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},te===null?(G=te=W,O=se):te=te.next=W,x|=K;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;W=T,T=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);te===null&&(O=se),m.baseState=O,m.firstBaseUpdate=G,m.lastBaseUpdate=te,y===null&&(m.shared.lanes=0),Ti|=x,s.lanes=x,s.memoizedState=se}}function Fb(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Bb(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Fb(l[s],i)}var Wo=C(null),cd=C(0);function qb(s,i){s=Ms,ie(cd,s),ie(Wo,i),Ms=s|i.baseLanes}function Op(){ie(cd,Ms),ie(Wo,Wo.current)}function Pp(){Ms=cd.current,Z(Wo),Z(cd)}var Hn=C(null),fr=null;function bi(s){var i=s.alternate;ie(Mt,Mt.current&1),ie(Hn,s),fr===null&&(i===null||Wo.current!==null||i.memoizedState!==null)&&(fr=s)}function jp(s){ie(Mt,Mt.current),ie(Hn,s),fr===null&&(fr=s)}function $b(s){s.tag===22?(ie(Mt,Mt.current),ie(Hn,s),fr===null&&(fr=s)):xi()}function xi(){ie(Mt,Mt.current),ie(Hn,Hn.current)}function Gn(s){Z(Hn),fr===s&&(fr=null),Z(Mt)}var Mt=C(0);function hd(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Fg(l)||Bg(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Rs=0,ze=null,dt=null,Ht=null,dd=!1,el=!1,ja=!1,fd=0,Gu=0,tl=null,o2=0;function Nt(){throw Error(r(321))}function Mp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!qn(s[l],i[l]))return!1;return!0}function Vp(s,i,l,c,m,y){return Rs=y,ze=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=s===null||s.memoizedState===null?Ix:Jp,ja=!1,y=l(c,m),ja=!1,el&&(y=Gb(i,l,c,m)),Hb(s),y}function Hb(s){$.H=Zu;var i=dt!==null&&dt.next!==null;if(Rs=0,Ht=dt=ze=null,dd=!1,Gu=0,tl=null,i)throw Error(r(300));s===null||Gt||(s=s.dependencies,s!==null&&rd(s)&&(Gt=!0))}function Gb(s,i,l,c){ze=s;var m=0;do{if(el&&(tl=null),Gu=0,el=!1,25<=m)throw Error(r(301));if(m+=1,Ht=dt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=Rx,y=i(l,c)}while(el);return y}function l2(){var s=$.H,i=s.useState()[0];return i=typeof i.then=="function"?Ku(i):i,s=s.useState()[0],(dt!==null?dt.memoizedState:null)!==s&&(ze.flags|=1024),i}function zp(){var s=fd!==0;return fd=0,s}function Lp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Up(s){if(dd){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}dd=!1}Rs=0,Ht=dt=ze=null,el=!1,Gu=fd=0,tl=null}function Sn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?ze.memoizedState=Ht=s:Ht=Ht.next=s,Ht}function Vt(){if(dt===null){var s=ze.alternate;s=s!==null?s.memoizedState:null}else s=dt.next;var i=Ht===null?ze.memoizedState:Ht.next;if(i!==null)Ht=i,dt=s;else{if(s===null)throw ze.alternate===null?Error(r(467)):Error(r(310));dt=s,s={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Ht===null?ze.memoizedState=Ht=s:Ht=Ht.next=s}return Ht}function md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ku(s){var i=Gu;return Gu+=1,tl===null&&(tl=[]),s=Mb(tl,s,i),i=ze,(Ht===null?i.memoizedState:Ht.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Ix:Jp),s}function pd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ku(s);if(s.$$typeof===J)return hn(s)}throw Error(r(438,String(s)))}function Fp(s){var i=null,l=ze.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=md(),ze.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),c=0;c<s;c++)l[c]=M;return i.index++,l}function Ns(s,i){return typeof i=="function"?i(s):i}function gd(s){var i=Vt();return Bp(i,dt,s)}function Bp(s,i,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}i.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{i=m.next;var T=x=null,O=null,G=i,te=!1;do{var se=G.lane&-536870913;if(se!==G.lane?(He&se)===se:(Rs&se)===se){var K=G.revertLane;if(K===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),se===Zo&&(te=!0);else if((Rs&K)===K){G=G.next,K===Zo&&(te=!0);continue}else se={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(T=O=se,x=y):O=O.next=se,ze.lanes|=K,Ti|=K;se=G.action,ja&&l(y,se),y=G.hasEagerState?G.eagerState:l(y,se)}else K={lane:se,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(T=O=K,x=y):O=O.next=K,ze.lanes|=se,Ti|=se;G=G.next}while(G!==null&&G!==i);if(O===null?x=y:O.next=T,!qn(y,s.memoizedState)&&(Gt=!0,te&&(l=Yo,l!==null)))throw l;s.memoizedState=y,s.baseState=x,s.baseQueue=O,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function qp(s){var i=Vt(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=i.memoizedState;if(m!==null){l.pending=null;var x=m=m.next;do y=s(y,x.action),x=x.next;while(x!==m);qn(y,i.memoizedState)||(Gt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,c]}function Kb(s,i,l){var c=ze,m=Vt(),y=Ze;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=i();var x=!qn((dt||m).memoizedState,l);if(x&&(m.memoizedState=l,Gt=!0),m=m.queue,Gp(Yb.bind(null,c,m,s),[s]),m.getSnapshot!==i||x||Ht!==null&&Ht.memoizedState.tag&1){if(c.flags|=2048,nl(9,{destroy:void 0},Zb.bind(null,c,m,l,i),null),pt===null)throw Error(r(349));y||(Rs&127)!==0||Qb(c,i,l)}return l}function Qb(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=ze.updateQueue,i===null?(i=md(),ze.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Zb(s,i,l,c){i.value=l,i.getSnapshot=c,Xb(i)&&Jb(s)}function Yb(s,i,l){return l(function(){Xb(i)&&Jb(s)})}function Xb(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!qn(s,l)}catch{return!0}}function Jb(s){var i=Aa(s,2);i!==null&&zn(i,s,2)}function $p(s){var i=Sn();if(typeof s=="function"){var l=s;if(s=l(),ja){rr(!0);try{l()}finally{rr(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:s},i}function Wb(s,i,l,c){return s.baseState=l,Bp(s,dt,typeof c=="function"?c:Ns)}function u2(s,i,l,c,m){if(_d(s))throw Error(r(485));if(s=i.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};$.T!==null?l(!0):y.isTransition=!1,c(y),l=i.pending,l===null?(y.next=i.pending=y,ex(i,y)):(y.next=l.next,i.pending=l.next=y)}}function ex(s,i){var l=i.action,c=i.payload,m=s.state;if(i.isTransition){var y=$.T,x={};$.T=x;try{var T=l(m,c),O=$.S;O!==null&&O(x,T),tx(s,i,T)}catch(G){Hp(s,i,G)}finally{y!==null&&x.types!==null&&(y.types=x.types),$.T=y}}else try{y=l(m,c),tx(s,i,y)}catch(G){Hp(s,i,G)}}function tx(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){nx(s,i,c)},function(c){return Hp(s,i,c)}):nx(s,i,l)}function nx(s,i,l){i.status="fulfilled",i.value=l,rx(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,ex(s,l)))}function Hp(s,i,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,rx(i),i=i.next;while(i!==c)}s.action=null}function rx(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function sx(s,i){return i}function ix(s,i){if(Ze){var l=pt.formState;if(l!==null){e:{var c=ze;if(Ze){if(gt){t:{for(var m=gt,y=dr;m.nodeType!==8;){if(!y){m=null;break t}if(m=mr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){gt=mr(m.nextSibling),c=m.data==="F!";break e}}pi(c)}c=!1}c&&(i=l[0])}}return l=Sn(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sx,lastRenderedState:i},l.queue=c,l=Tx.bind(null,ze,c),c.dispatch=l,c=$p(!1),y=Xp.bind(null,ze,!1,c.queue),c=Sn(),m={state:i,dispatch:null,action:s,pending:null},c.queue=m,l=u2.bind(null,ze,m,y,l),m.dispatch=l,c.memoizedState=s,[i,l,!1]}function ax(s){var i=Vt();return ox(i,dt,s)}function ox(s,i,l){if(i=Bp(s,i,sx)[0],s=gd(Ns)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ku(i)}catch(x){throw x===Xo?ad:x}else c=i;i=Vt();var m=i.queue,y=m.dispatch;return l!==i.memoizedState&&(ze.flags|=2048,nl(9,{destroy:void 0},c2.bind(null,m,l),null)),[c,y,s]}function c2(s,i){s.action=i}function lx(s){var i=Vt(),l=dt;if(l!==null)return ox(i,l,s);Vt(),i=i.memoizedState,l=Vt();var c=l.queue.dispatch;return l.memoizedState=s,[i,c,!1]}function nl(s,i,l,c){return s={tag:s,create:l,deps:c,inst:i,next:null},i=ze.updateQueue,i===null&&(i=md(),ze.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,i.lastEffect=s),s}function ux(){return Vt().memoizedState}function yd(s,i,l,c){var m=Sn();ze.flags|=s,m.memoizedState=nl(1|i,{destroy:void 0},l,c===void 0?null:c)}function vd(s,i,l,c){var m=Vt();c=c===void 0?null:c;var y=m.memoizedState.inst;dt!==null&&c!==null&&Mp(c,dt.memoizedState.deps)?m.memoizedState=nl(i,y,l,c):(ze.flags|=s,m.memoizedState=nl(1|i,y,l,c))}function cx(s,i){yd(8390656,8,s,i)}function Gp(s,i){vd(2048,8,s,i)}function h2(s){ze.flags|=4;var i=ze.updateQueue;if(i===null)i=md(),ze.updateQueue=i,i.events=[s];else{var l=i.events;l===null?i.events=[s]:l.push(s)}}function hx(s){var i=Vt().memoizedState;return h2({ref:i,nextImpl:s}),function(){if((nt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function dx(s,i){return vd(4,2,s,i)}function fx(s,i){return vd(4,4,s,i)}function mx(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function px(s,i,l){l=l!=null?l.concat([s]):null,vd(4,4,mx.bind(null,i,s),l)}function Kp(){}function gx(s,i){var l=Vt();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&Mp(i,c[1])?c[0]:(l.memoizedState=[s,i],s)}function yx(s,i){var l=Vt();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&Mp(i,c[1]))return c[0];if(c=s(),ja){rr(!0);try{s()}finally{rr(!1)}}return l.memoizedState=[c,i],c}function Qp(s,i,l){return l===void 0||(Rs&1073741824)!==0&&(He&261930)===0?s.memoizedState=i:(s.memoizedState=l,s=v0(),ze.lanes|=s,Ti|=s,l)}function vx(s,i,l,c){return qn(l,i)?l:Wo.current!==null?(s=Qp(s,l,c),qn(s,i)||(Gt=!0),s):(Rs&42)===0||(Rs&1073741824)!==0&&(He&261930)===0?(Gt=!0,s.memoizedState=l):(s=v0(),ze.lanes|=s,Ti|=s,i)}function _x(s,i,l,c,m){var y=ue.p;ue.p=y!==0&&8>y?y:8;var x=$.T,T={};$.T=T,Xp(s,!1,i,l);try{var O=m(),G=$.S;if(G!==null&&G(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var te=a2(O,c);Qu(s,i,te,Zn(s))}else Qu(s,i,c,Zn(s))}catch(se){Qu(s,i,{then:function(){},status:"rejected",reason:se},Zn())}finally{ue.p=y,x!==null&&T.types!==null&&(x.types=T.types),$.T=x}}function d2(){}function Zp(s,i,l,c){if(s.tag!==5)throw Error(r(476));var m=bx(s).queue;_x(s,m,i,oe,l===null?d2:function(){return xx(s),l(c)})}function bx(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:oe},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function xx(s){var i=bx(s);i.next===null&&(i=s.alternate.memoizedState),Qu(s,i.next.queue,{},Zn())}function Yp(){return hn(hc)}function wx(){return Vt().memoizedState}function Ex(){return Vt().memoizedState}function f2(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Zn();s=vi(l);var c=_i(i,s,l);c!==null&&(zn(c,i,l),qu(c,i,l)),i={cache:Sp()},s.payload=i;return}i=i.return}}function m2(s,i,l){var c=Zn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_d(s)?Sx(i,l):(l=mp(s,i,l,c),l!==null&&(zn(l,s,c),Ax(l,i,c)))}function Tx(s,i,l){var c=Zn();Qu(s,i,l,c)}function Qu(s,i,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(_d(s))Sx(i,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,T=y(x,l);if(m.hasEagerState=!0,m.eagerState=T,qn(T,x))return Wh(s,i,m,0),pt===null&&Jh(),!1}catch{}if(l=mp(s,i,m,c),l!==null)return zn(l,s,c),Ax(l,i,c),!0}return!1}function Xp(s,i,l,c){if(c={lane:2,revertLane:Ng(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},_d(s)){if(i)throw Error(r(479))}else i=mp(s,l,c,2),i!==null&&zn(i,s,2)}function _d(s){var i=s.alternate;return s===ze||i!==null&&i===ze}function Sx(s,i){el=dd=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Ax(s,i,l){if((l&4194048)!==0){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,gu(s,l)}}var Zu={readContext:hn,use:pd,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Zu.useEffectEvent=Nt;var Ix={readContext:hn,use:pd,useCallback:function(s,i){return Sn().memoizedState=[s,i===void 0?null:i],s},useContext:hn,useEffect:cx,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,yd(4194308,4,mx.bind(null,i,s),l)},useLayoutEffect:function(s,i){return yd(4194308,4,s,i)},useInsertionEffect:function(s,i){yd(4,2,s,i)},useMemo:function(s,i){var l=Sn();i=i===void 0?null:i;var c=s();if(ja){rr(!0);try{s()}finally{rr(!1)}}return l.memoizedState=[c,i],c},useReducer:function(s,i,l){var c=Sn();if(l!==void 0){var m=l(i);if(ja){rr(!0);try{l(i)}finally{rr(!1)}}}else m=i;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=m2.bind(null,ze,s),[c.memoizedState,s]},useRef:function(s){var i=Sn();return s={current:s},i.memoizedState=s},useState:function(s){s=$p(s);var i=s.queue,l=Tx.bind(null,ze,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Kp,useDeferredValue:function(s,i){var l=Sn();return Qp(l,s,i)},useTransition:function(){var s=$p(!1);return s=_x.bind(null,ze,s.queue,!0,!1),Sn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var c=ze,m=Sn();if(Ze){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),pt===null)throw Error(r(349));(He&127)!==0||Qb(c,i,l)}m.memoizedState=l;var y={value:l,getSnapshot:i};return m.queue=y,cx(Yb.bind(null,c,y,s),[s]),c.flags|=2048,nl(9,{destroy:void 0},Zb.bind(null,c,y,l,i),null),l},useId:function(){var s=Sn(),i=pt.identifierPrefix;if(Ze){var l=os,c=as;l=(c&~(1<<32-Pt(c)-1)).toString(32)+l,i="_"+i+"R_"+l,l=fd++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=o2++,i="_"+i+"r_"+l.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:Yp,useFormState:ix,useActionState:ix,useOptimistic:function(s){var i=Sn();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Xp.bind(null,ze,!0,l),l.dispatch=i,[s,i]},useMemoCache:Fp,useCacheRefresh:function(){return Sn().memoizedState=f2.bind(null,ze)},useEffectEvent:function(s){var i=Sn(),l={impl:s};return i.memoizedState=l,function(){if((nt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Jp={readContext:hn,use:pd,useCallback:gx,useContext:hn,useEffect:Gp,useImperativeHandle:px,useInsertionEffect:dx,useLayoutEffect:fx,useMemo:yx,useReducer:gd,useRef:ux,useState:function(){return gd(Ns)},useDebugValue:Kp,useDeferredValue:function(s,i){var l=Vt();return vx(l,dt.memoizedState,s,i)},useTransition:function(){var s=gd(Ns)[0],i=Vt().memoizedState;return[typeof s=="boolean"?s:Ku(s),i]},useSyncExternalStore:Kb,useId:wx,useHostTransitionStatus:Yp,useFormState:ax,useActionState:ax,useOptimistic:function(s,i){var l=Vt();return Wb(l,dt,s,i)},useMemoCache:Fp,useCacheRefresh:Ex};Jp.useEffectEvent=hx;var Rx={readContext:hn,use:pd,useCallback:gx,useContext:hn,useEffect:Gp,useImperativeHandle:px,useInsertionEffect:dx,useLayoutEffect:fx,useMemo:yx,useReducer:qp,useRef:ux,useState:function(){return qp(Ns)},useDebugValue:Kp,useDeferredValue:function(s,i){var l=Vt();return dt===null?Qp(l,s,i):vx(l,dt.memoizedState,s,i)},useTransition:function(){var s=qp(Ns)[0],i=Vt().memoizedState;return[typeof s=="boolean"?s:Ku(s),i]},useSyncExternalStore:Kb,useId:wx,useHostTransitionStatus:Yp,useFormState:lx,useActionState:lx,useOptimistic:function(s,i){var l=Vt();return dt!==null?Wb(l,dt,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Fp,useCacheRefresh:Ex};Rx.useEffectEvent=hx;function Wp(s,i,l,c){i=s.memoizedState,l=l(c,i),l=l==null?i:_({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var eg={enqueueSetState:function(s,i,l){s=s._reactInternals;var c=Zn(),m=vi(c);m.payload=i,l!=null&&(m.callback=l),i=_i(s,m,c),i!==null&&(zn(i,s,c),qu(i,s,c))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var c=Zn(),m=vi(c);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=_i(s,m,c),i!==null&&(zn(i,s,c),qu(i,s,c))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Zn(),c=vi(l);c.tag=2,i!=null&&(c.callback=i),i=_i(s,c,l),i!==null&&(zn(i,s,l),qu(i,s,l))}};function Nx(s,i,l,c,m,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,x):i.prototype&&i.prototype.isPureReactComponent?!ju(l,c)||!ju(m,y):!0}function Cx(s,i,l,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==s&&eg.enqueueReplaceState(i,i.state,null)}function Ma(s,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(s=s.defaultProps){l===i&&(l=_({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}function Dx(s){Xh(s)}function kx(s){console.error(s)}function Ox(s){Xh(s)}function bd(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Px(s,i,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function tg(s,i,l){return l=vi(l),l.tag=3,l.payload={element:null},l.callback=function(){bd(s,i)},l}function jx(s){return s=vi(s),s.tag=3,s}function Mx(s,i,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){Px(i,l,c)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){Px(i,l,c),typeof m!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function p2(s,i,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&Qo(i,l,m,!0),l=Hn.current,l!==null){switch(l.tag){case 31:case 13:return fr===null?kd():l.alternate===null&&Ct===0&&(Ct=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===od?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),Ag(s,c,m)),!1;case 22:return l.flags|=65536,c===od?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),Ag(s,c,m)),!1}throw Error(r(435,l.tag))}return Ag(s,c,m),kd(),!1}if(Ze)return i=Hn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==bp&&(s=Error(r(422),{cause:c}),zu(ur(s,l)))):(c!==bp&&(i=Error(r(423),{cause:c}),zu(ur(i,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=ur(c,l),m=tg(s.stateNode,c,m),Dp(s,m),Ct!==4&&(Ct=2)),!1;var y=Error(r(520),{cause:c});if(y=ur(y,l),rc===null?rc=[y]:rc.push(y),Ct!==4&&(Ct=2),i===null)return!0;c=ur(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=tg(l.stateNode,c,s),Dp(l,s),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Si===null||!Si.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=jx(m),Mx(m,s,l,c),Dp(l,m),!1}l=l.return}while(l!==null);return!1}var ng=Error(r(461)),Gt=!1;function dn(s,i,l,c){i.child=s===null?Ub(i,null,l,c):Pa(i,s.child,l,c)}function Vx(s,i,l,c,m){l=l.render;var y=i.ref;if("ref"in c){var x={};for(var T in c)T!=="ref"&&(x[T]=c[T])}else x=c;return Ca(i),c=Vp(s,i,l,x,y,m),T=zp(),s!==null&&!Gt?(Lp(s,i,m),Cs(s,i,m)):(Ze&&T&&vp(i),i.flags|=1,dn(s,i,c,m),i.child)}function zx(s,i,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!pp(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,Lx(s,i,y,c,m)):(s=td(l.type,null,c,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,!cg(s,m)){var x=y.memoizedProps;if(l=l.compare,l=l!==null?l:ju,l(x,c)&&s.ref===i.ref)return Cs(s,i,m)}return i.flags|=1,s=Ts(y,c),s.ref=i.ref,s.return=i,i.child=s}function Lx(s,i,l,c,m){if(s!==null){var y=s.memoizedProps;if(ju(y,c)&&s.ref===i.ref)if(Gt=!1,i.pendingProps=c=y,cg(s,m))(s.flags&131072)!==0&&(Gt=!0);else return i.lanes=s.lanes,Cs(s,i,m)}return rg(s,i,l,c,m)}function Ux(s,i,l,c){var m=c.children,y=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,s!==null){for(c=i.child=s.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~y}else c=0,i.child=null;return Fx(s,i,y,l,c)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&id(i,y!==null?y.cachePool:null),y!==null?qb(i,y):Op(),$b(i);else return c=i.lanes=536870912,Fx(s,i,y!==null?y.baseLanes|l:l,l,c)}else y!==null?(id(i,y.cachePool),qb(i,y),xi(),i.memoizedState=null):(s!==null&&id(i,null),Op(),xi());return dn(s,i,m,l),i.child}function Yu(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Fx(s,i,l,c,m){var y=Ip();return y=y===null?null:{parent:$t._currentValue,pool:y},i.memoizedState={baseLanes:l,cachePool:y},s!==null&&id(i,null),Op(),$b(i),s!==null&&Qo(s,i,c,!0),i.childLanes=m,null}function xd(s,i){return i=Ed({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function Bx(s,i,l){return Pa(i,s.child,null,l),s=xd(i,i.pendingProps),s.flags|=2,Gn(i),i.memoizedState=null,s}function g2(s,i,l){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Ze){if(c.mode==="hidden")return s=xd(i,c),i.lanes=536870912,Yu(null,s);if(jp(i),(s=gt)?(s=ew(s,dr),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:fi!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},l=Sb(s),l.return=i,i.child=l,cn=i,gt=null)):s=null,s===null)throw pi(i);return i.lanes=536870912,null}return xd(i,c)}var y=s.memoizedState;if(y!==null){var x=y.dehydrated;if(jp(i),m)if(i.flags&256)i.flags&=-257,i=Bx(s,i,l);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(Gt||Qo(s,i,l,!1),m=(l&s.childLanes)!==0,Gt||m){if(c=pt,c!==null&&(x=yu(c,l),x!==0&&x!==y.retryLane))throw y.retryLane=x,Aa(s,x),zn(c,s,x),ng;kd(),i=Bx(s,i,l)}else s=y.treeContext,gt=mr(x.nextSibling),cn=i,Ze=!0,mi=null,dr=!1,s!==null&&Rb(i,s),i=xd(i,c),i.flags|=4096;return i}return s=Ts(s.child,{mode:c.mode,children:c.children}),s.ref=i.ref,i.child=s,s.return=i,s}function wd(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function rg(s,i,l,c,m){return Ca(i),l=Vp(s,i,l,c,void 0,m),c=zp(),s!==null&&!Gt?(Lp(s,i,m),Cs(s,i,m)):(Ze&&c&&vp(i),i.flags|=1,dn(s,i,l,m),i.child)}function qx(s,i,l,c,m,y){return Ca(i),i.updateQueue=null,l=Gb(i,c,l,m),Hb(s),c=zp(),s!==null&&!Gt?(Lp(s,i,y),Cs(s,i,y)):(Ze&&c&&vp(i),i.flags|=1,dn(s,i,l,y),i.child)}function $x(s,i,l,c,m){if(Ca(i),i.stateNode===null){var y=$o,x=l.contextType;typeof x=="object"&&x!==null&&(y=hn(x)),y=new l(c,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=eg,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=c,y.state=i.memoizedState,y.refs={},Np(i),x=l.contextType,y.context=typeof x=="object"&&x!==null?hn(x):$o,y.state=i.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Wp(i,l,x,c),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&eg.enqueueReplaceState(y,y.state,null),Hu(i,c,y,m),$u(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(s===null){y=i.stateNode;var T=i.memoizedProps,O=Ma(l,T);y.props=O;var G=y.context,te=l.contextType;x=$o,typeof te=="object"&&te!==null&&(x=hn(te));var se=l.getDerivedStateFromProps;te=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||G!==x)&&Cx(i,y,c,x),yi=!1;var K=i.memoizedState;y.state=K,Hu(i,c,y,m),$u(),G=i.memoizedState,T||K!==G||yi?(typeof se=="function"&&(Wp(i,l,se,c),G=i.memoizedState),(O=yi||Nx(i,l,O,c,K,G,x))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=G),y.props=c,y.state=G,y.context=x,c=O):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{y=i.stateNode,Cp(s,i),x=i.memoizedProps,te=Ma(l,x),y.props=te,se=i.pendingProps,K=y.context,G=l.contextType,O=$o,typeof G=="object"&&G!==null&&(O=hn(G)),T=l.getDerivedStateFromProps,(G=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==se||K!==O)&&Cx(i,y,c,O),yi=!1,K=i.memoizedState,y.state=K,Hu(i,c,y,m),$u();var W=i.memoizedState;x!==se||K!==W||yi||s!==null&&s.dependencies!==null&&rd(s.dependencies)?(typeof T=="function"&&(Wp(i,l,T,c),W=i.memoizedState),(te=yi||Nx(i,l,te,c,K,W,O)||s!==null&&s.dependencies!==null&&rd(s.dependencies))?(G||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,W,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,W,O)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=W),y.props=c,y.state=W,y.context=O,c=te):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),c=!1)}return y=c,wd(s,i),c=(i.flags&128)!==0,y||c?(y=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,s!==null&&c?(i.child=Pa(i,s.child,null,m),i.child=Pa(i,null,l,m)):dn(s,i,l,m),i.memoizedState=y.state,s=i.child):s=Cs(s,i,m),s}function Hx(s,i,l,c){return Ra(),i.flags|=256,dn(s,i,l,c),i.child}var sg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ig(s){return{baseLanes:s,cachePool:Pb()}}function ag(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Qn),s}function Gx(s,i,l){var c=i.pendingProps,m=!1,y=(i.flags&128)!==0,x;if((x=y)||(x=s!==null&&s.memoizedState===null?!1:(Mt.current&2)!==0),x&&(m=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,s===null){if(Ze){if(m?bi(i):xi(),(s=gt)?(s=ew(s,dr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:fi!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},l=Sb(s),l.return=i,i.child=l,cn=i,gt=null)):s=null,s===null)throw pi(i);return Bg(s)?i.lanes=32:i.lanes=536870912,null}var T=c.children;return c=c.fallback,m?(xi(),m=i.mode,T=Ed({mode:"hidden",children:T},m),c=Ia(c,m,l,null),T.return=i,c.return=i,T.sibling=c,i.child=T,c=i.child,c.memoizedState=ig(l),c.childLanes=ag(s,x,l),i.memoizedState=sg,Yu(null,c)):(bi(i),og(i,T))}var O=s.memoizedState;if(O!==null&&(T=O.dehydrated,T!==null)){if(y)i.flags&256?(bi(i),i.flags&=-257,i=lg(s,i,l)):i.memoizedState!==null?(xi(),i.child=s.child,i.flags|=128,i=null):(xi(),T=c.fallback,m=i.mode,c=Ed({mode:"visible",children:c.children},m),T=Ia(T,m,l,null),T.flags|=2,c.return=i,T.return=i,c.sibling=T,i.child=c,Pa(i,s.child,null,l),c=i.child,c.memoizedState=ig(l),c.childLanes=ag(s,x,l),i.memoizedState=sg,i=Yu(null,c));else if(bi(i),Bg(T)){if(x=T.nextSibling&&T.nextSibling.dataset,x)var G=x.dgst;x=G,c=Error(r(419)),c.stack="",c.digest=x,zu({value:c,source:null,stack:null}),i=lg(s,i,l)}else if(Gt||Qo(s,i,l,!1),x=(l&s.childLanes)!==0,Gt||x){if(x=pt,x!==null&&(c=yu(x,l),c!==0&&c!==O.retryLane))throw O.retryLane=c,Aa(s,c),zn(x,s,c),ng;Fg(T)||kd(),i=lg(s,i,l)}else Fg(T)?(i.flags|=192,i.child=s.child,i=null):(s=O.treeContext,gt=mr(T.nextSibling),cn=i,Ze=!0,mi=null,dr=!1,s!==null&&Rb(i,s),i=og(i,c.children),i.flags|=4096);return i}return m?(xi(),T=c.fallback,m=i.mode,O=s.child,G=O.sibling,c=Ts(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,G!==null?T=Ts(G,T):(T=Ia(T,m,l,null),T.flags|=2),T.return=i,c.return=i,c.sibling=T,i.child=c,Yu(null,c),c=i.child,T=s.child.memoizedState,T===null?T=ig(l):(m=T.cachePool,m!==null?(O=$t._currentValue,m=m.parent!==O?{parent:O,pool:O}:m):m=Pb(),T={baseLanes:T.baseLanes|l,cachePool:m}),c.memoizedState=T,c.childLanes=ag(s,x,l),i.memoizedState=sg,Yu(s.child,c)):(bi(i),l=s.child,s=l.sibling,l=Ts(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,s!==null&&(x=i.deletions,x===null?(i.deletions=[s],i.flags|=16):x.push(s)),i.child=l,i.memoizedState=null,l)}function og(s,i){return i=Ed({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Ed(s,i){return s=$n(22,s,null,i),s.lanes=0,s}function lg(s,i,l){return Pa(i,s.child,null,l),s=og(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Kx(s,i,l){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),Ep(s.return,i,l)}function ug(s,i,l,c,m,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:y}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=l,x.tailMode=m,x.treeForkCount=y)}function Qx(s,i,l){var c=i.pendingProps,m=c.revealOrder,y=c.tail;c=c.children;var x=Mt.current,T=(x&2)!==0;if(T?(x=x&1|2,i.flags|=128):x&=1,ie(Mt,x),dn(s,i,c,l),c=Ze?Vu:0,!T&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Kx(s,l,i);else if(s.tag===19)Kx(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(l=i.child,m=null;l!==null;)s=l.alternate,s!==null&&hd(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),ug(i,!1,m,l,y,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&hd(s)===null){i.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}ug(i,!0,l,null,y,c);break;case"together":ug(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Cs(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Ti|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Qo(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=Ts(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Ts(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function cg(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&rd(s)))}function y2(s,i,l){switch(i.tag){case 3:Rt(i,i.stateNode.containerInfo),gi(i,$t,s.memoizedState.cache),Ra();break;case 27:case 5:nr(i);break;case 4:Rt(i,i.stateNode.containerInfo);break;case 10:gi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,jp(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(bi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Gx(s,i,l):(bi(i),s=Cs(s,i,l),s!==null?s.sibling:null);bi(i);break;case 19:var m=(s.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(Qo(s,i,l,!1),c=(l&i.childLanes)!==0),m){if(c)return Qx(s,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ie(Mt,Mt.current),c)break;return null;case 22:return i.lanes=0,Ux(s,i,l,i.pendingProps);case 24:gi(i,$t,s.memoizedState.cache)}return Cs(s,i,l)}function Zx(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Gt=!0;else{if(!cg(s,l)&&(i.flags&128)===0)return Gt=!1,y2(s,i,l);Gt=(s.flags&131072)!==0}else Gt=!1,Ze&&(i.flags&1048576)!==0&&Ib(i,Vu,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(s=ka(i.elementType),i.type=s,typeof s=="function")pp(s)?(c=Ma(s,c),i.tag=1,i=$x(null,i,s,c,l)):(i.tag=0,i=rg(null,i,s,c,l));else{if(s!=null){var m=s.$$typeof;if(m===ae){i.tag=11,i=Vx(null,i,s,c,l);break e}else if(m===R){i.tag=14,i=zx(null,i,s,c,l);break e}}throw i=Se(s)||s,Error(r(306,i,""))}}return i;case 0:return rg(s,i,i.type,i.pendingProps,l);case 1:return c=i.type,m=Ma(c,i.pendingProps),$x(s,i,c,m,l);case 3:e:{if(Rt(i,i.stateNode.containerInfo),s===null)throw Error(r(387));c=i.pendingProps;var y=i.memoizedState;m=y.element,Cp(s,i),Hu(i,c,null,l);var x=i.memoizedState;if(c=x.cache,gi(i,$t,c),c!==y.cache&&Tp(i,[$t],l,!0),$u(),c=x.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Hx(s,i,c,l);break e}else if(c!==m){m=ur(Error(r(424)),i),zu(m),i=Hx(s,i,c,l);break e}else for(s=i.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,gt=mr(s.firstChild),cn=i,Ze=!0,mi=null,dr=!0,l=Ub(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ra(),c===m){i=Cs(s,i,l);break e}dn(s,i,c,l)}i=i.child}return i;case 26:return wd(s,i),s===null?(l=aw(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ze||(l=i.type,s=i.pendingProps,c=Ld(Oe.current).createElement(l),c[Ft]=i,c[rn]=s,fn(c,l,s),Bt(c),i.stateNode=c):i.memoizedState=aw(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return nr(i),s===null&&Ze&&(c=i.stateNode=rw(i.type,i.pendingProps,Oe.current),cn=i,dr=!0,m=gt,Ni(i.type)?(qg=m,gt=mr(c.firstChild)):gt=m),dn(s,i,i.pendingProps.children,l),wd(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Ze&&((m=c=gt)&&(c=K2(c,i.type,i.pendingProps,dr),c!==null?(i.stateNode=c,cn=i,gt=mr(c.firstChild),dr=!1,m=!0):m=!1),m||pi(i)),nr(i),m=i.type,y=i.pendingProps,x=s!==null?s.memoizedProps:null,c=y.children,zg(m,y)?c=null:x!==null&&zg(m,x)&&(i.flags|=32),i.memoizedState!==null&&(m=Vp(s,i,l2,null,null,l),hc._currentValue=m),wd(s,i),dn(s,i,c,l),i.child;case 6:return s===null&&Ze&&((s=l=gt)&&(l=Q2(l,i.pendingProps,dr),l!==null?(i.stateNode=l,cn=i,gt=null,s=!0):s=!1),s||pi(i)),null;case 13:return Gx(s,i,l);case 4:return Rt(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=Pa(i,null,c,l):dn(s,i,c,l),i.child;case 11:return Vx(s,i,i.type,i.pendingProps,l);case 7:return dn(s,i,i.pendingProps,l),i.child;case 8:return dn(s,i,i.pendingProps.children,l),i.child;case 12:return dn(s,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,gi(i,i.type,c.value),dn(s,i,c.children,l),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,Ca(i),m=hn(m),c=c(m),i.flags|=1,dn(s,i,c,l),i.child;case 14:return zx(s,i,i.type,i.pendingProps,l);case 15:return Lx(s,i,i.type,i.pendingProps,l);case 19:return Qx(s,i,l);case 31:return g2(s,i,l);case 22:return Ux(s,i,l,i.pendingProps);case 24:return Ca(i),c=hn($t),s===null?(m=Ip(),m===null&&(m=pt,y=Sp(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),i.memoizedState={parent:c,cache:m},Np(i),gi(i,$t,m)):((s.lanes&l)!==0&&(Cp(s,i),Hu(i,null,null,l),$u()),m=s.memoizedState,y=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),gi(i,$t,c)):(c=y.cache,gi(i,$t,c),c!==m.cache&&Tp(i,[$t],l,!0))),dn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ds(s){s.flags|=4}function hg(s,i,l,c,m){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(w0())s.flags|=8192;else throw Oa=od,Rp}else s.flags&=-16777217}function Yx(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!hw(i))if(w0())s.flags|=8192;else throw Oa=od,Rp}function Td(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Ch():536870912,s.lanes|=i,al|=i)}function Xu(s,i){if(!Ze)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function yt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(i)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,i}function v2(s,i,l){var c=i.pendingProps;switch(_p(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(i),null;case 1:return yt(i),null;case 3:return l=i.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Is($t),rt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Ko(i)?Ds(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xp())),yt(i),null;case 26:var m=i.type,y=i.memoizedState;return s===null?(Ds(i),y!==null?(yt(i),Yx(i,y)):(yt(i),hg(i,m,null,c,l))):y?y!==s.memoizedState?(Ds(i),yt(i),Yx(i,y)):(yt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==c&&Ds(i),yt(i),hg(i,m,s,c,l)),null;case 27:if(Fr(i),l=Oe.current,m=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&Ds(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return yt(i),null}s=he.current,Ko(i)?Nb(i):(s=rw(m,c,l),i.stateNode=s,Ds(i))}return yt(i),null;case 5:if(Fr(i),m=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&Ds(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return yt(i),null}if(y=he.current,Ko(i))Nb(i);else{var x=Ld(Oe.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?x.createElement(m,{is:c.is}):x.createElement(m)}}y[Ft]=i,y[rn]=c;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=y;e:switch(fn(y,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ds(i)}}return yt(i),hg(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,l),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==c&&Ds(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(s=Oe.current,Ko(i)){if(s=i.stateNode,l=i.memoizedProps,c=null,m=cn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Ft]=i,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||G0(s.nodeValue,l)),s||pi(i,!0)}else s=Ld(s).createTextNode(c),s[Ft]=i,i.stateNode=s}return yt(i),null;case 31:if(l=i.memoizedState,s===null||s.memoizedState!==null){if(c=Ko(i),l!==null){if(s===null){if(!c)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Ft]=i}else Ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),s=!1}else l=xp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return i.flags&256?(Gn(i),i):(Gn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return yt(i),null;case 13:if(c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Ko(i),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Ft]=i}else Ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),m=!1}else m=xp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Gn(i),i):(Gn(i),null)}return Gn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=c!==null,s=s!==null&&s.memoizedState!==null,l&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)),l!==s&&l&&(i.child.flags|=8192),Td(i,i.updateQueue),yt(i),null);case 4:return rt(),s===null&&Og(i.stateNode.containerInfo),yt(i),null;case 10:return Is(i.type),yt(i),null;case 19:if(Z(Mt),c=i.memoizedState,c===null)return yt(i),null;if(m=(i.flags&128)!==0,y=c.rendering,y===null)if(m)Xu(c,!1);else{if(Ct!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(y=hd(s),y!==null){for(i.flags|=128,Xu(c,!1),s=y.updateQueue,i.updateQueue=s,Td(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)Tb(l,s),l=l.sibling;return ie(Mt,Mt.current&1|2),Ze&&Ss(i,c.treeForkCount),i.child}s=s.sibling}c.tail!==null&&En()>Nd&&(i.flags|=128,m=!0,Xu(c,!1),i.lanes=4194304)}else{if(!m)if(s=hd(y),s!==null){if(i.flags|=128,m=!0,s=s.updateQueue,i.updateQueue=s,Td(i,s),Xu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Ze)return yt(i),null}else 2*En()-c.renderingStartTime>Nd&&l!==536870912&&(i.flags|=128,m=!0,Xu(c,!1),i.lanes=4194304);c.isBackwards?(y.sibling=i.child,i.child=y):(s=c.last,s!==null?s.sibling=y:i.child=y,c.last=y)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=En(),s.sibling=null,l=Mt.current,ie(Mt,m?l&1|2:l&1),Ze&&Ss(i,c.treeForkCount),s):(yt(i),null);case 22:case 23:return Gn(i),Pp(),c=i.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(yt(i),i.subtreeFlags&6&&(i.flags|=8192)):yt(i),l=i.updateQueue,l!==null&&Td(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),s!==null&&Z(Da),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Is($t),yt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function _2(s,i){switch(_p(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Is($t),rt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Fr(i),null;case 31:if(i.memoizedState!==null){if(Gn(i),i.alternate===null)throw Error(r(340));Ra()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Gn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ra()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Z(Mt),null;case 4:return rt(),null;case 10:return Is(i.type),null;case 22:case 23:return Gn(i),Pp(),s!==null&&Z(Da),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Is($t),null;case 25:return null;default:return null}}function Xx(s,i){switch(_p(i),i.tag){case 3:Is($t),rt();break;case 26:case 27:case 5:Fr(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&Gn(i);break;case 13:Gn(i);break;case 19:Z(Mt);break;case 10:Is(i.type);break;case 22:case 23:Gn(i),Pp(),s!==null&&Z(Da);break;case 24:Is($t)}}function Ju(s,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,x=l.inst;c=y(),x.destroy=c}l=l.next}while(l!==m)}}catch(T){at(i,i.return,T)}}function wi(s,i,l){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var x=c.inst,T=x.destroy;if(T!==void 0){x.destroy=void 0,m=i;var O=l,G=T;try{G()}catch(te){at(m,O,te)}}}c=c.next}while(c!==y)}}catch(te){at(i,i.return,te)}}function Jx(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{Bb(i,l)}catch(c){at(s,s.return,c)}}}function Wx(s,i,l){l.props=Ma(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){at(s,i,c)}}function Wu(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){at(s,i,m)}}function ls(s,i){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){at(s,i,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){at(s,i,m)}else l.current=null}function e0(s){var i=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){at(s,s.return,m)}}function dg(s,i,l){try{var c=s.stateNode;F2(c,s.type,l,i),c[rn]=i}catch(m){at(s,s.return,m)}}function t0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ni(s.type)||s.tag===4}function fg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||t0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ni(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function mg(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Nr));else if(c!==4&&(c===27&&Ni(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(mg(s,i,l),s=s.sibling;s!==null;)mg(s,i,l),s=s.sibling}function Sd(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(c!==4&&(c===27&&Ni(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Sd(s,i,l),s=s.sibling;s!==null;)Sd(s,i,l),s=s.sibling}function n0(s){var i=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);fn(i,c,l),i[Ft]=s,i[rn]=l}catch(y){at(s,s.return,y)}}var ks=!1,Kt=!1,pg=!1,r0=typeof WeakSet=="function"?WeakSet:Set,an=null;function b2(s,i){if(s=s.containerInfo,Mg=Gd,s=pb(s),lp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var x=0,T=-1,O=-1,G=0,te=0,se=s,K=null;t:for(;;){for(var W;se!==l||m!==0&&se.nodeType!==3||(T=x+m),se!==y||c!==0&&se.nodeType!==3||(O=x+c),se.nodeType===3&&(x+=se.nodeValue.length),(W=se.firstChild)!==null;)K=se,se=W;for(;;){if(se===s)break t;if(K===l&&++G===m&&(T=x),K===y&&++te===c&&(O=x),(W=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=W}l=T===-1||O===-1?null:{start:T,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Vg={focusedElem:s,selectionRange:l},Gd=!1,an=i;an!==null;)if(i=an,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,an=s;else for(;an!==null;){switch(i=an,y=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)m=s[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=i,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var ge=Ma(l.type,m);s=c.getSnapshotBeforeUpdate(ge,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Re){at(l,l.return,Re)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Ug(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ug(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,an=s;break}an=i.return}}function s0(s,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ps(s,l),c&4&&Ju(5,l);break;case 1:if(Ps(s,l),c&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(x){at(l,l.return,x)}else{var m=Ma(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(m,i,s.__reactInternalSnapshotBeforeUpdate)}catch(x){at(l,l.return,x)}}c&64&&Jx(l),c&512&&Wu(l,l.return);break;case 3:if(Ps(s,l),c&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Bb(s,i)}catch(x){at(l,l.return,x)}}break;case 27:i===null&&c&4&&n0(l);case 26:case 5:Ps(s,l),i===null&&c&4&&e0(l),c&512&&Wu(l,l.return);break;case 12:Ps(s,l);break;case 31:Ps(s,l),c&4&&o0(s,l);break;case 13:Ps(s,l),c&4&&l0(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=N2.bind(null,l),Z2(s,l))));break;case 22:if(c=l.memoizedState!==null||ks,!c){i=i!==null&&i.memoizedState!==null||Kt,m=ks;var y=Kt;ks=c,(Kt=i)&&!y?js(s,l,(l.subtreeFlags&8772)!==0):Ps(s,l),ks=m,Kt=y}break;case 30:break;default:Ps(s,l)}}function i0(s){var i=s.alternate;i!==null&&(s.alternate=null,i0(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&Co(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var bt=null,Pn=!1;function Os(s,i,l){for(l=l.child;l!==null;)a0(s,i,l),l=l.sibling}function a0(s,i,l){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Sr,l)}catch{}switch(l.tag){case 26:Kt||ls(l,i),Os(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Kt||ls(l,i);var c=bt,m=Pn;Ni(l.type)&&(bt=l.stateNode,Pn=!1),Os(s,i,l),lc(l.stateNode),bt=c,Pn=m;break;case 5:Kt||ls(l,i);case 6:if(c=bt,m=Pn,bt=null,Os(s,i,l),bt=c,Pn=m,bt!==null)if(Pn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(l.stateNode)}catch(y){at(l,i,y)}else try{bt.removeChild(l.stateNode)}catch(y){at(l,i,y)}break;case 18:bt!==null&&(Pn?(s=bt,J0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),ml(s)):J0(bt,l.stateNode));break;case 4:c=bt,m=Pn,bt=l.stateNode.containerInfo,Pn=!0,Os(s,i,l),bt=c,Pn=m;break;case 0:case 11:case 14:case 15:wi(2,l,i),Kt||wi(4,l,i),Os(s,i,l);break;case 1:Kt||(ls(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Wx(l,i,c)),Os(s,i,l);break;case 21:Os(s,i,l);break;case 22:Kt=(c=Kt)||l.memoizedState!==null,Os(s,i,l),Kt=c;break;default:Os(s,i,l)}}function o0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ml(s)}catch(l){at(i,i.return,l)}}}function l0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ml(s)}catch(l){at(i,i.return,l)}}function x2(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new r0),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new r0),i;default:throw Error(r(435,s.tag))}}function Ad(s,i){var l=x2(s);i.forEach(function(c){if(!l.has(c)){l.add(c);var m=C2.bind(null,s,c);c.then(m,m)}})}function jn(s,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,x=i,T=x;e:for(;T!==null;){switch(T.tag){case 27:if(Ni(T.type)){bt=T.stateNode,Pn=!1;break e}break;case 5:bt=T.stateNode,Pn=!1;break e;case 3:case 4:bt=T.stateNode.containerInfo,Pn=!0;break e}T=T.return}if(bt===null)throw Error(r(160));a0(y,x,m),bt=null,Pn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)u0(i,s),i=i.sibling}var jr=null;function u0(s,i){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:jn(i,s),Mn(s),c&4&&(wi(3,s,s.return),Ju(3,s),wi(5,s,s.return));break;case 1:jn(i,s),Mn(s),c&512&&(Kt||l===null||ls(l,l.return)),c&64&&ks&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=jr;if(jn(i,s),Mn(s),c&512&&(Kt||l===null||ls(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Qr]||y[Ft]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),fn(y,c,l),y[Ft]=s,Bt(y),c=y;break e;case"link":var x=uw("link","href",m).get(c+(l.href||""));if(x){for(var T=0;T<x.length;T++)if(y=x[T],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(T,1);break t}}y=m.createElement(c),fn(y,c,l),m.head.appendChild(y);break;case"meta":if(x=uw("meta","content",m).get(c+(l.content||""))){for(T=0;T<x.length;T++)if(y=x[T],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(T,1);break t}}y=m.createElement(c),fn(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[Ft]=s,Bt(y),c=y}s.stateNode=c}else cw(m,s.type,s.stateNode);else s.stateNode=lw(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?cw(m,s.type,s.stateNode):lw(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&dg(s,s.memoizedProps,l.memoizedProps)}break;case 27:jn(i,s),Mn(s),c&512&&(Kt||l===null||ls(l,l.return)),l!==null&&c&4&&dg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(jn(i,s),Mn(s),c&512&&(Kt||l===null||ls(l,l.return)),s.flags&32){m=s.stateNode;try{On(m,"")}catch(ge){at(s,s.return,ge)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,dg(s,m,l!==null?l.memoizedProps:m)),c&1024&&(pg=!0);break;case 6:if(jn(i,s),Mn(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(ge){at(s,s.return,ge)}}break;case 3:if(Bd=null,m=jr,jr=Ud(i.containerInfo),jn(i,s),jr=m,Mn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{ml(i.containerInfo)}catch(ge){at(s,s.return,ge)}pg&&(pg=!1,c0(s));break;case 4:c=jr,jr=Ud(s.stateNode.containerInfo),jn(i,s),Mn(s),jr=c;break;case 12:jn(i,s),Mn(s);break;case 31:jn(i,s),Mn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Ad(s,c)));break;case 13:jn(i,s),Mn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Rd=En()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Ad(s,c)));break;case 22:m=s.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,G=ks,te=Kt;if(ks=G||m,Kt=te||O,jn(i,s),Kt=te,ks=G,Mn(s),c&8192)e:for(i=s.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(l===null||O||ks||Kt||Va(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){O=l=i;try{if(y=O.stateNode,m)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{T=O.stateNode;var se=O.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ge){at(O,O.return,ge)}}}else if(i.tag===6){if(l===null){O=i;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(ge){at(O,O.return,ge)}}}else if(i.tag===18){if(l===null){O=i;try{var W=O.stateNode;m?W0(W,!0):W0(O.stateNode,!1)}catch(ge){at(O,O.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Ad(s,l))));break;case 19:jn(i,s),Mn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Ad(s,c)));break;case 30:break;case 21:break;default:jn(i,s),Mn(s)}}function Mn(s){var i=s.flags;if(i&2){try{for(var l,c=s.return;c!==null;){if(t0(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=fg(s);Sd(s,y,m);break;case 5:var x=l.stateNode;l.flags&32&&(On(x,""),l.flags&=-33);var T=fg(s);Sd(s,T,x);break;case 3:case 4:var O=l.stateNode.containerInfo,G=fg(s);mg(s,G,O);break;default:throw Error(r(161))}}catch(te){at(s,s.return,te)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function c0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;c0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Ps(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)s0(s,i.alternate,i),i=i.sibling}function Va(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:wi(4,i,i.return),Va(i);break;case 1:ls(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Wx(i,i.return,l),Va(i);break;case 27:lc(i.stateNode);case 26:case 5:ls(i,i.return),Va(i);break;case 22:i.memoizedState===null&&Va(i);break;case 30:Va(i);break;default:Va(i)}s=s.sibling}}function js(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=s,y=i,x=y.flags;switch(y.tag){case 0:case 11:case 15:js(m,y,l),Ju(4,y);break;case 1:if(js(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){at(c,c.return,G)}if(c=y,m=c.updateQueue,m!==null){var T=c.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)Fb(O[m],T)}catch(G){at(c,c.return,G)}}l&&x&64&&Jx(y),Wu(y,y.return);break;case 27:n0(y);case 26:case 5:js(m,y,l),l&&c===null&&x&4&&e0(y),Wu(y,y.return);break;case 12:js(m,y,l);break;case 31:js(m,y,l),l&&x&4&&o0(m,y);break;case 13:js(m,y,l),l&&x&4&&l0(m,y);break;case 22:y.memoizedState===null&&js(m,y,l),Wu(y,y.return);break;case 30:break;default:js(m,y,l)}i=i.sibling}}function gg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Lu(l))}function yg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Lu(s))}function Mr(s,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)h0(s,i,l,c),i=i.sibling}function h0(s,i,l,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Mr(s,i,l,c),m&2048&&Ju(9,i);break;case 1:Mr(s,i,l,c);break;case 3:Mr(s,i,l,c),m&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Lu(s)));break;case 12:if(m&2048){Mr(s,i,l,c),s=i.stateNode;try{var y=i.memoizedProps,x=y.id,T=y.onPostCommit;typeof T=="function"&&T(x,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){at(i,i.return,O)}}else Mr(s,i,l,c);break;case 31:Mr(s,i,l,c);break;case 13:Mr(s,i,l,c);break;case 23:break;case 22:y=i.stateNode,x=i.alternate,i.memoizedState!==null?y._visibility&2?Mr(s,i,l,c):ec(s,i):y._visibility&2?Mr(s,i,l,c):(y._visibility|=2,rl(s,i,l,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&gg(x,i);break;case 24:Mr(s,i,l,c),m&2048&&yg(i.alternate,i);break;default:Mr(s,i,l,c)}}function rl(s,i,l,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=s,x=i,T=l,O=c,G=x.flags;switch(x.tag){case 0:case 11:case 15:rl(y,x,T,O,m),Ju(8,x);break;case 23:break;case 22:var te=x.stateNode;x.memoizedState!==null?te._visibility&2?rl(y,x,T,O,m):ec(y,x):(te._visibility|=2,rl(y,x,T,O,m)),m&&G&2048&&gg(x.alternate,x);break;case 24:rl(y,x,T,O,m),m&&G&2048&&yg(x.alternate,x);break;default:rl(y,x,T,O,m)}i=i.sibling}}function ec(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,c=i,m=c.flags;switch(c.tag){case 22:ec(l,c),m&2048&&gg(c.alternate,c);break;case 24:ec(l,c),m&2048&&yg(c.alternate,c);break;default:ec(l,c)}i=i.sibling}}var tc=8192;function sl(s,i,l){if(s.subtreeFlags&tc)for(s=s.child;s!==null;)d0(s,i,l),s=s.sibling}function d0(s,i,l){switch(s.tag){case 26:sl(s,i,l),s.flags&tc&&s.memoizedState!==null&&oC(l,jr,s.memoizedState,s.memoizedProps);break;case 5:sl(s,i,l);break;case 3:case 4:var c=jr;jr=Ud(s.stateNode.containerInfo),sl(s,i,l),jr=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=tc,tc=16777216,sl(s,i,l),tc=c):sl(s,i,l));break;default:sl(s,i,l)}}function f0(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function nc(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];an=c,p0(c,s)}f0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m0(s),s=s.sibling}function m0(s){switch(s.tag){case 0:case 11:case 15:nc(s),s.flags&2048&&wi(9,s,s.return);break;case 3:nc(s);break;case 12:nc(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Id(s)):nc(s);break;default:nc(s)}}function Id(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];an=c,p0(c,s)}f0(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:wi(8,i,i.return),Id(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Id(i));break;default:Id(i)}s=s.sibling}}function p0(s,i){for(;an!==null;){var l=an;switch(l.tag){case 0:case 11:case 15:wi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Lu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,an=c;else e:for(l=s;an!==null;){c=an;var m=c.sibling,y=c.return;if(i0(c),c===l){an=null;break e}if(m!==null){m.return=y,an=m;break e}an=y}}}var w2={getCacheForType:function(s){var i=hn($t),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l},cacheSignal:function(){return hn($t).controller.signal}},E2=typeof WeakMap=="function"?WeakMap:Map,nt=0,pt=null,qe=null,He=0,it=0,Kn=null,Ei=!1,il=!1,vg=!1,Ms=0,Ct=0,Ti=0,za=0,_g=0,Qn=0,al=0,rc=null,Vn=null,bg=!1,Rd=0,g0=0,Nd=1/0,Cd=null,Si=null,Jt=0,Ai=null,ol=null,Vs=0,xg=0,wg=null,y0=null,sc=0,Eg=null;function Zn(){return(nt&2)!==0&&He!==0?He&-He:$.T!==null?Ng():Dh()}function v0(){if(Qn===0)if((He&536870912)===0||Ze){var s=ha;ha<<=1,(ha&3932160)===0&&(ha=262144),Qn=s}else Qn=536870912;return s=Hn.current,s!==null&&(s.flags|=32),Qn}function zn(s,i,l){(s===pt&&(it===2||it===9)||s.cancelPendingCommit!==null)&&(ll(s,0),Ii(s,He,Qn,!1)),da(s,l),((nt&2)===0||s!==pt)&&(s===pt&&((nt&2)===0&&(za|=l),Ct===4&&Ii(s,He,Qn,!1)),us(s))}function _0(s,i,l){if((nt&6)!==0)throw Error(r(327));var c=!l&&(i&127)===0&&(i&s.expiredLanes)===0||Ar(s,i),m=c?A2(s,i):Sg(s,i,!0),y=c;do{if(m===0){il&&!c&&Ii(s,i,0,!1);break}else{if(l=s.current.alternate,y&&!T2(l)){m=Sg(s,i,!1),y=!1;continue}if(m===2){if(y=i,s.errorRecoveryDisabledLanes&y)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var T=s;m=rc;var O=T.current.memoizedState.isDehydrated;if(O&&(ll(T,x).flags|=256),x=Sg(T,x,!1),x!==2){if(vg&&!O){T.errorRecoveryDisabledLanes|=y,za|=y,m=4;break e}y=Vn,Vn=m,y!==null&&(Vn===null?Vn=y:Vn.push.apply(Vn,y))}m=x}if(y=!1,m!==2)continue}}if(m===1){ll(s,0),Ii(s,i,0,!0);break}e:{switch(c=s,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ii(c,i,Qn,!Ei);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(m=Rd+300-En(),10<m)){if(Ii(c,i,Qn,!Ei),Hr(c,0,!0)!==0)break e;Vs=i,c.timeoutHandle=Y0(b0.bind(null,c,l,Vn,Cd,bg,i,Qn,za,al,Ei,y,"Throttled",-0,0),m);break e}b0(c,l,Vn,Cd,bg,i,Qn,za,al,Ei,y,null,-0,0)}}break}while(!0);us(s)}function b0(s,i,l,c,m,y,x,T,O,G,te,se,K,W){if(s.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nr},d0(i,y,se);var ge=(y&62914560)===y?Rd-En():(y&4194048)===y?g0-En():0;if(ge=lC(se,ge),ge!==null){Vs=y,s.cancelPendingCommit=ge(R0.bind(null,s,i,y,l,c,m,x,T,O,te,se,null,K,W)),Ii(s,y,x,!G);return}}R0(s,i,y,l,c,m,x,T,O)}function T2(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!qn(y(),m))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ii(s,i,l,c){i&=~_g,i&=~za,s.suspendedLanes|=i,s.pingedLanes&=~i,c&&(s.warmLanes|=i),c=s.expirationTimes;for(var m=i;0<m;){var y=31-Pt(m),x=1<<y;c[y]=-1,m&=~x}l!==0&&fa(s,l,i)}function Dd(){return(nt&6)===0?(ic(0),!1):!0}function Tg(){if(qe!==null){if(it===0)var s=qe.return;else s=qe,As=Na=null,Up(s),Jo=null,Fu=0,s=qe;for(;s!==null;)Xx(s.alternate,s),s=s.return;qe=null}}function ll(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,$2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Vs=0,Tg(),pt=s,qe=l=Ts(s.current,null),He=i,it=0,Kn=null,Ei=!1,il=Ar(s,i),vg=!1,al=Qn=_g=za=Ti=Ct=0,Vn=rc=null,bg=!1,(i&8)!==0&&(i|=i&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=i;0<c;){var m=31-Pt(c),y=1<<m;i|=s[m],c&=~y}return Ms=i,Jh(),l}function x0(s,i){ze=null,$.H=Zu,i===Xo||i===ad?(i=Vb(),it=3):i===Rp?(i=Vb(),it=4):it=i===ng?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kn=i,qe===null&&(Ct=1,bd(s,ur(i,s.current)))}function w0(){var s=Hn.current;return s===null?!0:(He&4194048)===He?fr===null:(He&62914560)===He||(He&536870912)!==0?s===fr:!1}function E0(){var s=$.H;return $.H=Zu,s===null?Zu:s}function T0(){var s=$.A;return $.A=w2,s}function kd(){Ct=4,Ei||(He&4194048)!==He&&Hn.current!==null||(il=!0),(Ti&134217727)===0&&(za&134217727)===0||pt===null||Ii(pt,He,Qn,!1)}function Sg(s,i,l){var c=nt;nt|=2;var m=E0(),y=T0();(pt!==s||He!==i)&&(Cd=null,ll(s,i)),i=!1;var x=Ct;e:do try{if(it!==0&&qe!==null){var T=qe,O=Kn;switch(it){case 8:Tg(),x=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(i=!0);var G=it;if(it=0,Kn=null,ul(s,T,O,G),l&&il){x=0;break e}break;default:G=it,it=0,Kn=null,ul(s,T,O,G)}}S2(),x=Ct;break}catch(te){x0(s,te)}while(!0);return i&&s.shellSuspendCounter++,As=Na=null,nt=c,$.H=m,$.A=y,qe===null&&(pt=null,He=0,Jh()),x}function S2(){for(;qe!==null;)S0(qe)}function A2(s,i){var l=nt;nt|=2;var c=E0(),m=T0();pt!==s||He!==i?(Cd=null,Nd=En()+500,ll(s,i)):il=Ar(s,i);e:do try{if(it!==0&&qe!==null){i=qe;var y=Kn;t:switch(it){case 1:it=0,Kn=null,ul(s,i,y,1);break;case 2:case 9:if(jb(y)){it=0,Kn=null,A0(i);break}i=function(){it!==2&&it!==9||pt!==s||(it=7),us(s)},y.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:jb(y)?(it=0,Kn=null,A0(i)):(it=0,Kn=null,ul(s,i,y,7));break;case 5:var x=null;switch(qe.tag){case 26:x=qe.memoizedState;case 5:case 27:var T=qe;if(x?hw(x):T.stateNode.complete){it=0,Kn=null;var O=T.sibling;if(O!==null)qe=O;else{var G=T.return;G!==null?(qe=G,Od(G)):qe=null}break t}}it=0,Kn=null,ul(s,i,y,5);break;case 6:it=0,Kn=null,ul(s,i,y,6);break;case 8:Tg(),Ct=6;break e;default:throw Error(r(462))}}I2();break}catch(te){x0(s,te)}while(!0);return As=Na=null,$.H=c,$.A=m,nt=l,qe!==null?0:(pt=null,He=0,Jh(),Ct)}function I2(){for(;qe!==null&&!tp();)S0(qe)}function S0(s){var i=Zx(s.alternate,s,Ms);s.memoizedProps=s.pendingProps,i===null?Od(s):qe=i}function A0(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=qx(l,i,i.pendingProps,i.type,void 0,He);break;case 11:i=qx(l,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:Up(i);default:Xx(l,i),i=qe=Tb(i,Ms),i=Zx(l,i,Ms)}s.memoizedProps=s.pendingProps,i===null?Od(s):qe=i}function ul(s,i,l,c){As=Na=null,Up(i),Jo=null,Fu=0;var m=i.return;try{if(p2(s,m,i,l,He)){Ct=1,bd(s,ur(l,s.current)),qe=null;return}}catch(y){if(m!==null)throw qe=m,y;Ct=1,bd(s,ur(l,s.current)),qe=null;return}i.flags&32768?(Ze||c===1?s=!0:il||(He&536870912)!==0?s=!1:(Ei=s=!0,(c===2||c===9||c===3||c===6)&&(c=Hn.current,c!==null&&c.tag===13&&(c.flags|=16384))),I0(i,s)):Od(i)}function Od(s){var i=s;do{if((i.flags&32768)!==0){I0(i,Ei);return}s=i.return;var l=v2(i.alternate,i,Ms);if(l!==null){qe=l;return}if(i=i.sibling,i!==null){qe=i;return}qe=i=s}while(i!==null);Ct===0&&(Ct=5)}function I0(s,i){do{var l=_2(s.alternate,s);if(l!==null){l.flags&=32767,qe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){qe=s;return}qe=s=l}while(s!==null);Ct=6,qe=null}function R0(s,i,l,c,m,y,x,T,O){s.cancelPendingCommit=null;do Pd();while(Jt!==0);if((nt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(y=i.lanes|i.childLanes,y|=fp,sp(s,l,y,x,T,O),s===pt&&(qe=pt=null,He=0),ol=i,Ai=s,Vs=l,xg=y,wg=m,y0=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,D2(ri,function(){return O0(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,m=ue.p,ue.p=2,x=nt,nt|=4;try{b2(s,i,l)}finally{nt=x,ue.p=m,$.T=c}}Jt=1,N0(),C0(),D0()}}function N0(){if(Jt===1){Jt=0;var s=Ai,i=ol,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=ue.p;ue.p=2;var m=nt;nt|=4;try{u0(i,s);var y=Vg,x=pb(s.containerInfo),T=y.focusedElem,O=y.selectionRange;if(x!==T&&T&&T.ownerDocument&&mb(T.ownerDocument.documentElement,T)){if(O!==null&&lp(T)){var G=O.start,te=O.end;if(te===void 0&&(te=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(te,T.value.length);else{var se=T.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var W=K.getSelection(),ge=T.textContent.length,Re=Math.min(O.start,ge),mt=O.end===void 0?Re:Math.min(O.end,ge);!W.extend&&Re>mt&&(x=mt,mt=Re,Re=x);var F=fb(T,Re),z=fb(T,mt);if(F&&z&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var H=se.createRange();H.setStart(F.node,F.offset),W.removeAllRanges(),Re>mt?(W.addRange(H),W.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),W.addRange(H))}}}}for(se=[],W=T;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<se.length;T++){var ne=se[T];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Gd=!!Mg,Vg=Mg=null}finally{nt=m,ue.p=c,$.T=l}}s.current=i,Jt=2}}function C0(){if(Jt===2){Jt=0;var s=Ai,i=ol,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=ue.p;ue.p=2;var m=nt;nt|=4;try{s0(s,i.alternate,i)}finally{nt=m,ue.p=c,$.T=l}}Jt=3}}function D0(){if(Jt===4||Jt===3){Jt=0,Th();var s=Ai,i=ol,l=Vs,c=y0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Jt=5:(Jt=0,ol=Ai=null,k0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Si=null),bs(l),i=i.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Sr,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=$.T,m=ue.p,ue.p=2,$.T=null;try{for(var y=s.onRecoverableError,x=0;x<c.length;x++){var T=c[x];y(T.value,{componentStack:T.stack})}}finally{$.T=i,ue.p=m}}(Vs&3)!==0&&Pd(),us(s),m=s.pendingLanes,(l&261930)!==0&&(m&42)!==0?s===Eg?sc++:(sc=0,Eg=s):sc=0,ic(0)}}function k0(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Lu(i)))}function Pd(){return N0(),C0(),D0(),O0()}function O0(){if(Jt!==5)return!1;var s=Ai,i=xg;xg=0;var l=bs(Vs),c=$.T,m=ue.p;try{ue.p=32>l?32:l,$.T=null,l=wg,wg=null;var y=Ai,x=Vs;if(Jt=0,ol=Ai=null,Vs=0,(nt&6)!==0)throw Error(r(331));var T=nt;if(nt|=4,m0(y.current),h0(y,y.current,x,l),nt=T,ic(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Sr,y)}catch{}return!0}finally{ue.p=m,$.T=c,k0(s,i)}}function P0(s,i,l){i=ur(l,i),i=tg(s.stateNode,i,2),s=_i(s,i,2),s!==null&&(da(s,2),us(s))}function at(s,i,l){if(s.tag===3)P0(s,s,l);else for(;i!==null;){if(i.tag===3){P0(i,s,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Si===null||!Si.has(c))){s=ur(l,s),l=jx(2),c=_i(i,l,2),c!==null&&(Mx(l,c,i,s),da(c,2),us(c));break}}i=i.return}}function Ag(s,i,l){var c=s.pingCache;if(c===null){c=s.pingCache=new E2;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(l)||(vg=!0,m.add(l),s=R2.bind(null,s,i,l),i.then(s,s))}function R2(s,i,l){var c=s.pingCache;c!==null&&c.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,pt===s&&(He&l)===l&&(Ct===4||Ct===3&&(He&62914560)===He&&300>En()-Rd?(nt&2)===0&&ll(s,0):_g|=l,al===He&&(al=0)),us(s)}function j0(s,i){i===0&&(i=Ch()),s=Aa(s,i),s!==null&&(da(s,i),us(s))}function N2(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),j0(s,l)}function C2(s,i){var l=0;switch(s.tag){case 31:case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),j0(s,l)}function D2(s,i){return Xt(s,i)}var jd=null,cl=null,Ig=!1,Md=!1,Rg=!1,Ri=0;function us(s){s!==cl&&s.next===null&&(cl===null?jd=cl=s:cl=cl.next=s),Md=!0,Ig||(Ig=!0,O2())}function ic(s,i){if(!Rg&&Md){Rg=!0;do for(var l=!1,c=jd;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var x=c.suspendedLanes,T=c.pingedLanes;y=(1<<31-Pt(42|s)+1)-1,y&=m&~(x&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,L0(c,y))}else y=He,y=Hr(c,c===pt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Ar(c,y)||(l=!0,L0(c,y));c=c.next}while(l);Rg=!1}}function k2(){M0()}function M0(){Md=Ig=!1;var s=0;Ri!==0&&q2()&&(s=Ri);for(var i=En(),l=null,c=jd;c!==null;){var m=c.next,y=V0(c,i);y===0?(c.next=null,l===null?jd=m:l.next=m,m===null&&(cl=l)):(l=c,(s!==0||(y&3)!==0)&&(Md=!0)),c=m}Jt!==0&&Jt!==5||ic(s),Ri!==0&&(Ri=0)}function V0(s,i){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var x=31-Pt(y),T=1<<x,O=m[x];O===-1?((T&l)===0||(T&c)!==0)&&(m[x]=rp(T,i)):O<=i&&(s.expiredLanes|=T),y&=~T}if(i=pt,l=He,l=Hr(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===i&&(it===2||it===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&ni(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Ar(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(c!==null&&ni(c),bs(l)){case 2:case 8:l=pu;break;case 32:l=ri;break;case 268435456:l=Sh;break;default:l=ri}return c=z0.bind(null,s),l=Xt(l,c),s.callbackPriority=i,s.callbackNode=l,i}return c!==null&&c!==null&&ni(c),s.callbackPriority=2,s.callbackNode=null,2}function z0(s,i){if(Jt!==0&&Jt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Pd()&&s.callbackNode!==l)return null;var c=He;return c=Hr(s,s===pt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(_0(s,c,i),V0(s,En()),s.callbackNode!=null&&s.callbackNode===l?z0.bind(null,s):null)}function L0(s,i){if(Pd())return null;_0(s,i,!0)}function O2(){H2(function(){(nt&6)!==0?Xt(mu,k2):M0()})}function Ng(){if(Ri===0){var s=Zo;s===0&&(s=qr,qr<<=1,(qr&261888)===0&&(qr=256)),Ri=s}return Ri}function U0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Po(""+s)}function F0(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function P2(s,i,l,c,m){if(i==="submit"&&l&&l.stateNode===m){var y=U0((m[rn]||null).action),x=c.submitter;x&&(i=(i=x[rn]||null)?U0(i.formAction):x.getAttribute("formAction"),i!==null&&(y=i,x=null));var T=new ns("action","action",null,c,m);s.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ri!==0){var O=x?F0(m,x):new FormData(m);Zp(l,{pending:!0,data:O,method:m.method,action:y},null,O)}}else typeof y=="function"&&(T.preventDefault(),O=x?F0(m,x):new FormData(m),Zp(l,{pending:!0,data:O,method:m.method,action:y},y,O))},currentTarget:m}]})}}for(var Cg=0;Cg<dp.length;Cg++){var Dg=dp[Cg],j2=Dg.toLowerCase(),M2=Dg[0].toUpperCase()+Dg.slice(1);Pr(j2,"on"+M2)}Pr(vb,"onAnimationEnd"),Pr(_b,"onAnimationIteration"),Pr(bb,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(JN,"onTransitionRun"),Pr(WN,"onTransitionStart"),Pr(e2,"onTransitionCancel"),Pr(xb,"onTransitionEnd"),Jr("onMouseEnter",["mouseout","mouseover"]),Jr("onMouseLeave",["mouseout","mouseover"]),Jr("onPointerEnter",["pointerout","pointerover"]),Jr("onPointerLeave",["pointerout","pointerover"]),Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function B0(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(i)for(var x=c.length-1;0<=x;x--){var T=c[x],O=T.instance,G=T.currentTarget;if(T=T.listener,O!==y&&m.isPropagationStopped())break e;y=T,m.currentTarget=G;try{y(m)}catch(te){Xh(te)}m.currentTarget=null,y=O}else for(x=0;x<c.length;x++){if(T=c[x],O=T.instance,G=T.currentTarget,T=T.listener,O!==y&&m.isPropagationStopped())break e;y=T,m.currentTarget=G;try{y(m)}catch(te){Xh(te)}m.currentTarget=null,y=O}}}}function $e(s,i){var l=i[No];l===void 0&&(l=i[No]=new Set);var c=s+"__bubble";l.has(c)||(q0(i,s,2,!1),l.add(c))}function kg(s,i,l){var c=0;i&&(c|=4),q0(l,s,c,i)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function Og(s){if(!s[Vd]){s[Vd]=!0,vu.forEach(function(l){l!=="selectionchange"&&(V2.has(l)||kg(l,!1,s),kg(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Vd]||(i[Vd]=!0,kg("selectionchange",!1,i))}}function q0(s,i,l,c){switch(vw(i)){case 2:var m=hC;break;case 8:m=dC;break;default:m=Qg}l=m.bind(null,i,l,s),m=void 0,!va||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(i,l,{capture:!0,passive:m}):s.addEventListener(i,l,!0):m!==void 0?s.addEventListener(i,l,{passive:m}):s.addEventListener(i,l,!1)}function Pg(s,i,l,c,m){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var T=c.stateNode.containerInfo;if(T===m)break;if(x===4)for(x=c.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;T!==null;){if(x=Zr(T),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){c=y=x;continue e}T=T.parentNode}}c=c.return}ui(function(){var G=y,te=ir(l),se=[];e:{var K=wb.get(s);if(K!==void 0){var W=ns,ge=s;switch(s){case"keypress":if(ba(l)===0)break e;case"keydown":case"keyup":W=Qh;break;case"focusin":ge="focus",W=wa;break;case"focusout":ge="blur",W=wa;break;case"beforeblur":case"afterblur":W=wa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=b;break;case vb:case _b:case bb:W=Fh;break;case xb:W=I;break;case"scroll":case"scrollend":W=Cu;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Es;break;case"toggle":case"beforetoggle":W=Ve}var Re=(i&4)!==0,mt=!Re&&(s==="scroll"||s==="scrollend"),F=Re?K!==null?K+"Capture":null:K;Re=[];for(var z=G,H;z!==null;){var ne=z;if(H=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||H===null||F===null||(ne=Cr(z,F),ne!=null&&Re.push(oc(z,ne,H))),mt)break;z=z.return}0<Re.length&&(K=new W(K,ge,null,l,te),se.push({event:K,listeners:Re}))}}if((i&7)===0){e:{if(K=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",K&&l!==Iu&&(ge=l.relatedTarget||l.fromElement)&&(Zr(ge)||ge[Kr]))break e;if((W||K)&&(K=te.window===te?te:(K=te.ownerDocument)?K.defaultView||K.parentWindow:window,W?(ge=l.relatedTarget||l.toElement,W=G,ge=ge?Zr(ge):null,ge!==null&&(mt=o(ge),Re=ge.tag,ge!==mt||Re!==5&&Re!==27&&Re!==6)&&(ge=null)):(W=null,ge=G),W!==ge)){if(Re=Du,ne="onMouseLeave",F="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Re=Es,ne="onPointerLeave",F="onPointerEnter",z="pointer"),mt=W==null?K:Fn(W),H=ge==null?K:Fn(ge),K=new Re(ne,z+"leave",W,l,te),K.target=mt,K.relatedTarget=H,ne=null,Zr(te)===G&&(Re=new Re(F,z+"enter",ge,l,te),Re.target=H,Re.relatedTarget=mt,ne=Re),mt=ne,W&&ge)t:{for(Re=z2,F=W,z=ge,H=0,ne=F;ne;ne=Re(ne))H++;ne=0;for(var we=z;we;we=Re(we))ne++;for(;0<H-ne;)F=Re(F),H--;for(;0<ne-H;)z=Re(z),ne--;for(;H--;){if(F===z||z!==null&&F===z.alternate){Re=F;break t}F=Re(F),z=Re(z)}Re=null}else Re=null;W!==null&&$0(se,K,W,Re,!1),ge!==null&&mt!==null&&$0(se,mt,ge,Re,!0)}}e:{if(K=G?Fn(G):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Je=ob;else if(ib(K))if(lb)Je=ZN;else{Je=KN;var be=GN}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Oo(G.elementType)&&(Je=ob):Je=QN;if(Je&&(Je=Je(s,G))){ab(se,Je,l,te);break e}be&&be(s,K,G),s==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Tu(K,"number",K.value)}switch(be=G?Fn(G):window,s){case"focusin":(ib(be)||be.contentEditable==="true")&&(Fo=be,up=G,Mu=null);break;case"focusout":Mu=up=Fo=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,gb(se,l,te);break;case"selectionchange":if(XN)break;case"keydown":case"keyup":gb(se,l,te)}var Le;if(tt)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Uo?Ea(s,l)&&(Ge="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ge="onCompositionStart");Ge&&(is&&l.locale!=="ko"&&(Uo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Uo&&(Le=Nu()):(ts=te,Ru="value"in ts?ts.value:ts.textContent,Uo=!0)),be=zd(G,Ge),0<be.length&&(Ge=new ss(Ge,s,null,l,te),se.push({event:Ge,listeners:be}),Le?Ge.data=Le:(Le=Lo(l),Le!==null&&(Ge.data=Le)))),(Le=or?BN(s,l):qN(s,l))&&(Ge=zd(G,"onBeforeInput"),0<Ge.length&&(be=new ss("onBeforeInput","beforeinput",null,l,te),se.push({event:be,listeners:Ge}),be.data=Le)),P2(se,s,G,l,te)}B0(se,i)})}function oc(s,i,l){return{instance:s,listener:i,currentTarget:l}}function zd(s,i){for(var l=i+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Cr(s,l),m!=null&&c.unshift(oc(s,m,y)),m=Cr(s,i),m!=null&&c.push(oc(s,m,y))),s.tag===3)return c;s=s.return}return[]}function z2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function $0(s,i,l,c,m){for(var y=i._reactName,x=[];l!==null&&l!==c;){var T=l,O=T.alternate,G=T.stateNode;if(T=T.tag,O!==null&&O===c)break;T!==5&&T!==26&&T!==27||G===null||(O=G,m?(G=Cr(l,y),G!=null&&x.unshift(oc(l,G,O))):m||(G=Cr(l,y),G!=null&&x.push(oc(l,G,O)))),l=l.return}x.length!==0&&s.push({event:i,listeners:x})}var L2=/\r\n?/g,U2=/\u0000|\uFFFD/g;function H0(s){return(typeof s=="string"?s:""+s).replace(L2,`
`).replace(U2,"")}function G0(s,i){return i=H0(i),H0(s)===i}function ft(s,i,l,c,m,y){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||On(s,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&On(s,""+c);break;case"className":Bn(s,"class",c);break;case"tabIndex":Bn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(s,l,c);break;case"style":Au(s,c,y);break;case"data":if(i!=="object"){Bn(s,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Po(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&ft(s,i,"name",m.name,m,null),ft(s,i,"formEncType",m.formEncType,m,null),ft(s,i,"formMethod",m.formMethod,m,null),ft(s,i,"formTarget",m.formTarget,m,null)):(ft(s,i,"encType",m.encType,m,null),ft(s,i,"method",m.method,m,null),ft(s,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Po(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Nr);break;case"onScroll":c!=null&&$e("scroll",s);break;case"onScrollEnd":c!=null&&$e("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Po(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":$e("beforetoggle",s),$e("toggle",s),Do(s,"popover",c);break;case"xlinkActuate":qt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":qt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":qt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":qt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":qt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":qt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":qt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":qt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":qt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Do(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zh.get(l)||l,Do(s,l,c))}}function jg(s,i,l,c,m,y){switch(l){case"style":Au(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?On(s,c):(typeof c=="number"||typeof c=="bigint")&&On(s,""+c);break;case"onScroll":c!=null&&$e("scroll",s);break;case"onScrollEnd":c!=null&&$e("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_u.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),i=l.slice(2,m?l.length-7:void 0),y=s[rn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(i,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Do(s,l,c)}}}function fn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",s),$e("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var x=l[y];if(x!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(s,i,y,x,l,null)}}m&&ft(s,i,"srcSet",l.srcSet,l,null),c&&ft(s,i,"src",l.src,l,null);return;case"input":$e("invalid",s);var T=y=x=m=null,O=null,G=null;for(c in l)if(l.hasOwnProperty(c)){var te=l[c];if(te!=null)switch(c){case"name":m=te;break;case"type":x=te;break;case"checked":O=te;break;case"defaultChecked":G=te;break;case"value":y=te;break;case"defaultValue":T=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,i));break;default:ft(s,i,c,te,l,null)}}jh(s,y,T,O,G,x,m,!1);return;case"select":$e("invalid",s),c=x=y=null;for(m in l)if(l.hasOwnProperty(m)&&(T=l[m],T!=null))switch(m){case"value":y=T;break;case"defaultValue":x=T;break;case"multiple":c=T;default:ft(s,i,m,T,l,null)}i=y,l=x,s.multiple=!!c,i!=null?ii(s,!!c,i,!1):l!=null&&ii(s,!!c,l,!0);return;case"textarea":$e("invalid",s),y=m=c=null;for(x in l)if(l.hasOwnProperty(x)&&(T=l[x],T!=null))switch(x){case"value":c=T;break;case"defaultValue":m=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ft(s,i,x,T,l,null)}ai(s,c,m,y);return;case"option":for(O in l)l.hasOwnProperty(O)&&(c=l[O],c!=null)&&(O==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":ft(s,i,O,c,l,null));return;case"dialog":$e("beforetoggle",s),$e("toggle",s),$e("cancel",s),$e("close",s);break;case"iframe":case"object":$e("load",s);break;case"video":case"audio":for(c=0;c<ac.length;c++)$e(ac[c],s);break;case"image":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"embed":case"source":case"link":$e("error",s),$e("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(c=l[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(s,i,G,c,l,null)}return;default:if(Oo(i)){for(te in l)l.hasOwnProperty(te)&&(c=l[te],c!==void 0&&jg(s,i,te,c,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(c=l[T],c!=null&&ft(s,i,T,c,l,null))}function F2(s,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,x=null,T=null,O=null,G=null,te=null;for(W in l){var se=l[W];if(l.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=se;default:c.hasOwnProperty(W)||ft(s,i,W,null,c,se)}}for(var K in c){var W=c[K];if(se=l[K],c.hasOwnProperty(K)&&(W!=null||se!=null))switch(K){case"type":y=W;break;case"name":m=W;break;case"checked":G=W;break;case"defaultChecked":te=W;break;case"value":x=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:W!==se&&ft(s,i,K,W,c,se)}}ko(s,x,T,O,G,te,y,m);return;case"select":W=x=T=K=null;for(y in l)if(O=l[y],l.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":W=O;default:c.hasOwnProperty(y)||ft(s,i,y,null,c,O)}for(m in c)if(y=c[m],O=l[m],c.hasOwnProperty(m)&&(y!=null||O!=null))switch(m){case"value":K=y;break;case"defaultValue":T=y;break;case"multiple":x=y;default:y!==O&&ft(s,i,m,y,c,O)}i=T,l=x,c=W,K!=null?ii(s,!!l,K,!1):!!c!=!!l&&(i!=null?ii(s,!!l,i,!0):ii(s,!!l,l?[]:"",!1));return;case"textarea":W=K=null;for(T in l)if(m=l[T],l.hasOwnProperty(T)&&m!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ft(s,i,T,null,c,m)}for(x in c)if(m=c[x],y=l[x],c.hasOwnProperty(x)&&(m!=null||y!=null))switch(x){case"value":K=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ft(s,i,x,m,c,y)}Mh(s,K,W);return;case"option":for(var ge in l)K=l[ge],l.hasOwnProperty(ge)&&K!=null&&!c.hasOwnProperty(ge)&&(ge==="selected"?s.selected=!1:ft(s,i,ge,null,c,K));for(O in c)K=c[O],W=l[O],c.hasOwnProperty(O)&&K!==W&&(K!=null||W!=null)&&(O==="selected"?s.selected=K&&typeof K!="function"&&typeof K!="symbol":ft(s,i,O,K,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in l)K=l[Re],l.hasOwnProperty(Re)&&K!=null&&!c.hasOwnProperty(Re)&&ft(s,i,Re,null,c,K);for(G in c)if(K=c[G],W=l[G],c.hasOwnProperty(G)&&K!==W&&(K!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:ft(s,i,G,K,c,W)}return;default:if(Oo(i)){for(var mt in l)K=l[mt],l.hasOwnProperty(mt)&&K!==void 0&&!c.hasOwnProperty(mt)&&jg(s,i,mt,void 0,c,K);for(te in c)K=c[te],W=l[te],!c.hasOwnProperty(te)||K===W||K===void 0&&W===void 0||jg(s,i,te,K,c,W);return}}for(var F in l)K=l[F],l.hasOwnProperty(F)&&K!=null&&!c.hasOwnProperty(F)&&ft(s,i,F,null,c,K);for(se in c)K=c[se],W=l[se],!c.hasOwnProperty(se)||K===W||K==null&&W==null||ft(s,i,se,K,c,W)}function K0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],y=m.transferSize,x=m.initiatorType,T=m.duration;if(y&&T&&K0(x)){for(x=0,T=m.responseEnd,c+=1;c<l.length;c++){var O=l[c],G=O.startTime;if(G>T)break;var te=O.transferSize,se=O.initiatorType;te&&K0(se)&&(O=O.responseEnd,x+=te*(O<T?1:(T-G)/(O-G)))}if(--c,i+=8*(y+x)/(m.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Mg=null,Vg=null;function Ld(s){return s.nodeType===9?s:s.ownerDocument}function Q0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z0(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function zg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Lg=null;function q2(){var s=window.event;return s&&s.type==="popstate"?s===Lg?!1:(Lg=s,!0):(Lg=null,!1)}var Y0=typeof setTimeout=="function"?setTimeout:void 0,$2=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,H2=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(s){return X0.resolve(null).then(s).catch(G2)}:Y0;function G2(s){setTimeout(function(){throw s})}function Ni(s){return s==="head"}function J0(s,i){var l=i,c=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){s.removeChild(m),ml(i);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")lc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,lc(l);for(var y=l.firstChild;y;){var x=y.nextSibling,T=y.nodeName;y[Qr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=x}}else l==="body"&&lc(s.ownerDocument.body);l=m}while(l);ml(i)}function W0(s,i){var l=s;s=0;do{var c=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=c}while(l)}function Ug(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ug(l),Co(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function K2(s,i,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Qr])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=mr(s.nextSibling),s===null)break}return null}function Q2(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=mr(s.nextSibling),s===null))return null;return s}function ew(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=mr(s.nextSibling),s===null))return null;return s}function Fg(s){return s.data==="$?"||s.data==="$~"}function Bg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Z2(s,i){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||l.readyState!=="loading")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function mr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var qg=null;function tw(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(i===0)return mr(s.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}s=s.nextSibling}return null}function nw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return s;i--}else l!=="/$"&&l!=="/&"||i++}s=s.previousSibling}return null}function rw(s,i,l){switch(i=Ld(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function lc(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Co(s)}var pr=new Map,sw=new Set;function Ud(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var zs=ue.d;ue.d={f:Y2,r:X2,D:J2,C:W2,L:eC,m:tC,X:rC,S:nC,M:sC};function Y2(){var s=zs.f(),i=Dd();return s||i}function X2(s){var i=sr(s);i!==null&&i.tag===5&&i.type==="form"?xx(i):zs.r(s)}var hl=typeof document>"u"?null:document;function iw(s,i,l){var c=hl;if(c&&typeof i=="string"&&i){var m=kn(i);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),sw.has(m)||(sw.add(m),s={rel:s,crossOrigin:l,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),fn(i,"link",s),Bt(i),c.head.appendChild(i)))}}function J2(s){zs.D(s),iw("dns-prefetch",s,null)}function W2(s,i){zs.C(s,i),iw("preconnect",s,i)}function eC(s,i,l){zs.L(s,i,l);var c=hl;if(c&&s&&i){var m='link[rel="preload"][as="'+kn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+kn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+kn(l.imageSizes)+'"]')):m+='[href="'+kn(s)+'"]';var y=m;switch(i){case"style":y=dl(s);break;case"script":y=fl(s)}pr.has(y)||(s=_({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),pr.set(y,s),c.querySelector(m)!==null||i==="style"&&c.querySelector(uc(y))||i==="script"&&c.querySelector(cc(y))||(i=c.createElement("link"),fn(i,"link",s),Bt(i),c.head.appendChild(i)))}}function tC(s,i){zs.m(s,i);var l=hl;if(l&&s){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+kn(c)+'"][href="'+kn(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=fl(s)}if(!pr.has(y)&&(s=_({rel:"modulepreload",href:s},i),pr.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(cc(y)))return}c=l.createElement("link"),fn(c,"link",s),Bt(c),l.head.appendChild(c)}}}function nC(s,i,l){zs.S(s,i,l);var c=hl;if(c&&s){var m=Yr(c).hoistableStyles,y=dl(s);i=i||"default";var x=m.get(y);if(!x){var T={loading:0,preload:null};if(x=c.querySelector(uc(y)))T.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":i},l),(l=pr.get(y))&&$g(s,l);var O=x=c.createElement("link");Bt(O),fn(O,"link",s),O._p=new Promise(function(G,te){O.onload=G,O.onerror=te}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Fd(x,i,c)}x={type:"stylesheet",instance:x,count:1,state:T},m.set(y,x)}}}function rC(s,i){zs.X(s,i);var l=hl;if(l&&s){var c=Yr(l).hoistableScripts,m=fl(s),y=c.get(m);y||(y=l.querySelector(cc(m)),y||(s=_({src:s,async:!0},i),(i=pr.get(m))&&Hg(s,i),y=l.createElement("script"),Bt(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function sC(s,i){zs.M(s,i);var l=hl;if(l&&s){var c=Yr(l).hoistableScripts,m=fl(s),y=c.get(m);y||(y=l.querySelector(cc(m)),y||(s=_({src:s,async:!0,type:"module"},i),(i=pr.get(m))&&Hg(s,i),y=l.createElement("script"),Bt(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function aw(s,i,l,c){var m=(m=Oe.current)?Ud(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=dl(l.href),l=Yr(m).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=dl(l.href);var y=Yr(m).hoistableStyles,x=y.get(s);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,x),(y=m.querySelector(uc(s)))&&!y._p&&(x.instance=y,x.state.loading=5),pr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pr.set(s,l),y||iC(m,s,l,x.state))),i&&c===null)throw Error(r(528,""));return x}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fl(l),l=Yr(m).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function dl(s){return'href="'+kn(s)+'"'}function uc(s){return'link[rel="stylesheet"]['+s+"]"}function ow(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function iC(s,i,l,c){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=s.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),fn(i,"link",l),Bt(i),s.head.appendChild(i))}function fl(s){return'[src="'+kn(s)+'"]'}function cc(s){return"script[async]"+s}function lw(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=s.querySelector('style[data-href~="'+kn(l.href)+'"]');if(c)return i.instance=c,Bt(c),c;var m=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Bt(c),fn(c,"style",m),Fd(c,l.precedence,s),i.instance=c;case"stylesheet":m=dl(l.href);var y=s.querySelector(uc(m));if(y)return i.state.loading|=4,i.instance=y,Bt(y),y;c=ow(l),(m=pr.get(m))&&$g(c,m),y=(s.ownerDocument||s).createElement("link"),Bt(y);var x=y;return x._p=new Promise(function(T,O){x.onload=T,x.onerror=O}),fn(y,"link",c),i.state.loading|=4,Fd(y,l.precedence,s),i.instance=y;case"script":return y=fl(l.src),(m=s.querySelector(cc(y)))?(i.instance=m,Bt(m),m):(c=l,(m=pr.get(y))&&(c=_({},l),Hg(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Bt(m),fn(m,"link",c),s.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Fd(c,l.precedence,s));return i.instance}function Fd(s,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,x=0;x<c.length;x++){var T=c[x];if(T.dataset.precedence===i)y=T;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function $g(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Hg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Bd=null;function uw(s,i,l){if(Bd===null){var c=new Map,m=Bd=new Map;m.set(l,c)}else m=Bd,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[Qr]||y[Ft]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(i)||"";x=s+x;var T=c.get(x);T?T.push(y):c.set(x,[y])}}return c}function cw(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function aC(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(s=i.disabled,typeof i.precedence=="string"&&s==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function hw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function oC(s,i,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=dl(c.href),y=i.querySelector(uc(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=qd.bind(s),i.then(s,s)),l.state.loading|=4,l.instance=y,Bt(y);return}y=i.ownerDocument||i,c=ow(c),(m=pr.get(m))&&$g(c,m),y=y.createElement("link"),Bt(y);var x=y;x._p=new Promise(function(T,O){x.onload=T,x.onerror=O}),fn(y,"link",c),l.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=qd.bind(s),i.addEventListener("load",l),i.addEventListener("error",l))}}var Gg=0;function lC(s,i){return s.stylesheets&&s.count===0&&Hd(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var c=setTimeout(function(){if(s.stylesheets&&Hd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+i);0<s.imgBytes&&Gg===0&&(Gg=62500*B2());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Hd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Gg?50:800)+i);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function qd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var $d=null;function Hd(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,$d=new Map,i.forEach(uC,s),$d=null,qd.call(s))}function uC(s,i){if(!(i.state.loading&4)){var l=$d.get(s);if(l)var c=l.get(null);else{l=new Map,$d.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var x=m[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),c=x)}c&&l.set(null,c)}m=i.instance,x=m.getAttribute("data-precedence"),y=l.get(x)||c,y===c&&l.set(null,m),l.set(x,m),this.count++,c=qd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),i.state.loading|=4}}var hc={$$typeof:J,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function cC(s,i,l,c,m,y,x,T,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function dw(s,i,l,c,m,y,x,T,O,G,te,se){return s=new cC(s,i,l,x,O,G,te,se,T),i=1,y===!0&&(i|=24),y=$n(3,null,null,i),s.current=y,y.stateNode=s,i=Sp(),i.refCount++,s.pooledCache=i,i.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:i},Np(y),s}function fw(s){return s?(s=$o,s):$o}function mw(s,i,l,c,m,y){m=fw(m),c.context===null?c.context=m:c.pendingContext=m,c=vi(i),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=_i(s,c,i),l!==null&&(zn(l,s,i),qu(l,s,i))}function pw(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Kg(s,i){pw(s,i),(s=s.alternate)&&pw(s,i)}function gw(s){if(s.tag===13||s.tag===31){var i=Aa(s,67108864);i!==null&&zn(i,s,67108864),Kg(s,67108864)}}function yw(s){if(s.tag===13||s.tag===31){var i=Zn();i=ma(i);var l=Aa(s,i);l!==null&&zn(l,s,i),Kg(s,i)}}var Gd=!0;function hC(s,i,l,c){var m=$.T;$.T=null;var y=ue.p;try{ue.p=2,Qg(s,i,l,c)}finally{ue.p=y,$.T=m}}function dC(s,i,l,c){var m=$.T;$.T=null;var y=ue.p;try{ue.p=8,Qg(s,i,l,c)}finally{ue.p=y,$.T=m}}function Qg(s,i,l,c){if(Gd){var m=Zg(c);if(m===null)Pg(s,i,c,Kd,l),_w(s,c);else if(mC(m,s,i,l,c))c.stopPropagation();else if(_w(s,c),i&4&&-1<fC.indexOf(s)){for(;m!==null;){var y=sr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=$r(y.pendingLanes);if(x!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;x;){var O=1<<31-Pt(x);T.entanglements[1]|=O,x&=~O}us(y),(nt&6)===0&&(Nd=En()+500,ic(0))}}break;case 31:case 13:T=Aa(y,2),T!==null&&zn(T,y,2),Dd(),Kg(y,2)}if(y=Zg(c),y===null&&Pg(s,i,c,Kd,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Pg(s,i,c,null,l)}}function Zg(s){return s=ir(s),Yg(s)}var Kd=null;function Yg(s){if(Kd=null,s=Zr(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=u(i),s!==null)return s;s=null}else if(l===31){if(s=h(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Kd=s,null}function vw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ca()){case mu:return 2;case pu:return 8;case ri:case np:return 32;case Sh:return 268435456;default:return 32}default:return 32}}var Xg=!1,Ci=null,Di=null,ki=null,dc=new Map,fc=new Map,Oi=[],fC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _w(s,i){switch(s){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":dc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(i.pointerId)}}function mc(s,i,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},i!==null&&(i=sr(i),i!==null&&gw(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function mC(s,i,l,c,m){switch(i){case"focusin":return Ci=mc(Ci,s,i,l,c,m),!0;case"dragenter":return Di=mc(Di,s,i,l,c,m),!0;case"mouseover":return ki=mc(ki,s,i,l,c,m),!0;case"pointerover":var y=m.pointerId;return dc.set(y,mc(dc.get(y)||null,s,i,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,fc.set(y,mc(fc.get(y)||null,s,i,l,c,m)),!0}return!1}function bw(s){var i=Zr(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){s.blockedOn=i,Ir(s.priority,function(){yw(l)});return}}else if(i===31){if(i=h(l),i!==null){s.blockedOn=i,Ir(s.priority,function(){yw(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qd(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Zg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Iu=c,l.target.dispatchEvent(c),Iu=null}else return i=sr(l),i!==null&&gw(i),s.blockedOn=l,!1;i.shift()}return!0}function xw(s,i,l){Qd(s)&&l.delete(i)}function pC(){Xg=!1,Ci!==null&&Qd(Ci)&&(Ci=null),Di!==null&&Qd(Di)&&(Di=null),ki!==null&&Qd(ki)&&(ki=null),dc.forEach(xw),fc.forEach(xw)}function Zd(s,i){s.blockedOn===i&&(s.blockedOn=null,Xg||(Xg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pC)))}var Yd=null;function ww(s){Yd!==s&&(Yd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yd===s&&(Yd=null);for(var i=0;i<s.length;i+=3){var l=s[i],c=s[i+1],m=s[i+2];if(typeof c!="function"){if(Yg(c||l)===null)continue;break}var y=sr(l);y!==null&&(s.splice(i,3),i-=3,Zp(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function ml(s){function i(O){return Zd(O,s)}Ci!==null&&Zd(Ci,s),Di!==null&&Zd(Di,s),ki!==null&&Zd(ki,s),dc.forEach(i),fc.forEach(i);for(var l=0;l<Oi.length;l++){var c=Oi[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Oi.length&&(l=Oi[0],l.blockedOn===null);)bw(l),l.blockedOn===null&&Oi.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],x=m[rn]||null;if(typeof y=="function")x||ww(l);else if(x){var T=null;if(y&&y.hasAttribute("formAction")){if(m=y,x=y[rn]||null)T=x.formAction;else if(Yg(m)!==null)continue}else T=x.action;typeof T=="function"?l[c+1]=T:(l.splice(c,3),c-=3),ww(l)}}}function Ew(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function Jg(s){this._internalRoot=s}Xd.prototype.render=Jg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,c=Zn();mw(l,c,s,i,null,null)},Xd.prototype.unmount=Jg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;mw(s.current,2,null,s,null,null),Dd(),i[Kr]=null}};function Xd(s){this._internalRoot=s}Xd.prototype.unstable_scheduleHydration=function(s){if(s){var i=Dh();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Oi.length&&i!==0&&i<Oi[l].priority;l++);Oi.splice(l,0,s),l===0&&bw(s)}};var Tw=e.version;if(Tw!=="19.2.3")throw Error(r(527,Tw,"19.2.3"));ue.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=p(i),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var gC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{Sr=Jd.inject(gC),ln=Jd}catch{}}return gc.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,c="",m=Dx,y=kx,x=Ox;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=dw(s,1,!1,null,null,l,c,null,m,y,x,Ew),s[Kr]=i.current,Og(s),new Jg(i)},gc.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var c=!1,m="",y=Dx,x=kx,T=Ox,O=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),i=dw(s,1,!0,i,l??null,c,m,O,y,x,T,Ew),i.context=fw(null),l=i.current,c=Zn(),c=ma(c),m=vi(c),m.callback=null,_i(l,m,c),l=c,i.current.lanes=l,da(i,l),us(i),s[Kr]=i.current,Og(s),new Xd(i)},gc.version="19.2.3",gc}var Pw;function IC(){if(Pw)return ty.exports;Pw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ty.exports=AC(),ty.exports}var RC=IC();var jw="popstate";function NC(t={}){function e(a,o){let{pathname:u="/",search:h="",hash:d=""}=wo(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Ry("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof o=="string"?o:Fc(o))}function r(a,o){xr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return DC(e,n,r,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CC(){return Math.random().toString(36).substring(2,10)}function Mw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ry(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:n,key:e&&e.key||r||CC()}}function Fc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function DC(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",d=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function _(){h="POP";let V=v(),Y=V==null?null:V-p;p=V,d&&d({action:h,location:D.location,delta:Y})}function E(V,Y){h="PUSH";let Q=Ry(D.location,V,Y);n&&n(Q,V),p=v()+1;let J=Mw(Q,p),ae=D.createHref(Q);try{u.pushState(J,"",ae)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;a.location.assign(ae)}o&&d&&d({action:h,location:D.location,delta:1})}function A(V,Y){h="REPLACE";let Q=Ry(D.location,V,Y);n&&n(Q,V),p=v();let J=Mw(Q,p),ae=D.createHref(Q);u.replaceState(J,"",ae),o&&d&&d({action:h,location:D.location,delta:0})}function P(V){return kC(V)}let D={get action(){return h},get location(){return t(a,u)},listen(V){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(jw,_),d=V,()=>{a.removeEventListener(jw,_),d=null}},createHref(V){return e(a,V)},createURL:P,encodeLocation(V){let Y=P(V);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:E,replace:A,go(V){return u.go(V)}};return D}function kC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),At(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Fc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function R1(t,e,n="/"){return OC(t,e,n,!1)}function OC(t,e,n,r){let a=typeof e=="string"?wo(e):e,o=Hs(a.pathname||"/",n);if(o==null)return null;let u=N1(t);PC(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=HC(o);h=qC(u[d],p,r)}return h}function N1(t,e=[],n=[],r="",a=!1){let o=(u,h,d=a,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&d)return;At(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=$s([r,v.relativePath]),E=n.concat(v);u.children&&u.children.length>0&&(At(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),N1(u.children,e,E,_,d)),!(u.path==null&&!u.index)&&e.push({path:_,score:FC(_,u.index),routesMeta:E})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of C1(u.path))o(u,h,!0,d)}),e}function C1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=C1(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function PC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jC=/^:[\w-]+$/,MC=3,VC=2,zC=1,LC=10,UC=-2,Vw=t=>t==="*";function FC(t,e){let n=t.split("/"),r=n.length;return n.some(Vw)&&(r+=UC),e&&(r+=VC),n.filter(a=>!Vw(a)).reduce((a,o)=>a+(jC.test(o)?MC:o===""?zC:LC),r)}function BC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function qC(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",_=Vf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},v),E=d.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Vf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:$s([o,_.pathname]),pathnameBase:ZC($s([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=$s([o,_.pathnameBase]))}return u}function Vf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$C(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:_},E)=>{if(v==="*"){let P=h[E]||"";u=o.slice(0,o.length-P.length).replace(/(.)\/+$/,"$1")}const A=h[E];return _&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:t}}function $C(t,e=!1,n=!0){xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function HC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var D1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GC=t=>D1.test(t);function KC(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?wo(t):t,o;if(n)if(GC(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),xr(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?o=zw(n.substring(1),"/"):o=zw(n,e)}else o=e;return{pathname:o,search:YC(r),hash:XC(a)}}function zw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function iy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k1(t){let e=QC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function O1(t,e,n,r=!1){let a;typeof t=="string"?a=wo(t):(a={...t},At(!a.pathname||!a.pathname.includes("?"),iy("?","pathname","search",a)),At(!a.pathname||!a.pathname.includes("#"),iy("#","pathname","hash",a)),At(!a.search||!a.search.includes("#"),iy("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=n;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let d=KC(a,h),p=u&&u!=="/"&&u.endsWith("/"),v=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||v)&&(d.pathname+="/"),d}var $s=t=>t.join("/").replace(/\/\/+/g,"/"),ZC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,JC=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function WC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function eD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var P1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function j1(t,e){let n=t;if(typeof n!="string"||!D1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(P1)try{let o=new URL(window.location.href),u=n.startsWith("//")?new URL(o.protocol+n):new URL(n),h=Hs(u.pathname,e);u.origin===o.origin&&h!=null?n=h+u.search+u.hash:a=!0}catch{xr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var M1=["POST","PUT","PATCH","DELETE"];new Set(M1);var tD=["GET",...M1];new Set(tD);var Yl=L.createContext(null);Yl.displayName="DataRouter";var vm=L.createContext(null);vm.displayName="DataRouterState";var nD=L.createContext(!1),V1=L.createContext({isTransitioning:!1});V1.displayName="ViewTransition";var rD=L.createContext(new Map);rD.displayName="Fetchers";var sD=L.createContext(null);sD.displayName="Await";var wr=L.createContext(null);wr.displayName="Navigation";var ah=L.createContext(null);ah.displayName="Location";var _s=L.createContext({outlet:null,matches:[],isDataRoute:!1});_s.displayName="Route";var bv=L.createContext(null);bv.displayName="RouteError";var z1="REACT_ROUTER_ERROR",iD="REDIRECT",aD="ROUTE_ERROR_RESPONSE";function oD(t){if(t.startsWith(`${z1}:${iD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function lD(t){if(t.startsWith(`${z1}:${aD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new JC(e.status,e.statusText,e.data)}catch{}}function uD(t,{relative:e}={}){At(oh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(wr),{hash:a,pathname:o,search:u}=lh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:$s([n,o])),r.createHref({pathname:h,search:u,hash:a})}function oh(){return L.useContext(ah)!=null}function ra(){return At(oh(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(ah).location}var L1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U1(t){L.useContext(wr).static||L.useLayoutEffect(t)}function cD(){let{isDataRoute:t}=L.useContext(_s);return t?ED():hD()}function hD(){At(oh(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Yl),{basename:e,navigator:n}=L.useContext(wr),{matches:r}=L.useContext(_s),{pathname:a}=ra(),o=JSON.stringify(k1(r)),u=L.useRef(!1);return U1(()=>{u.current=!0}),L.useCallback((d,p={})=>{if(xr(u.current,L1),!u.current)return;if(typeof d=="number"){n.go(d);return}let v=O1(d,JSON.parse(o),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:$s([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,o,a,t])}L.createContext(null);function F1(){let{matches:t}=L.useContext(_s),e=t[t.length-1];return e?e.params:{}}function lh(t,{relative:e}={}){let{matches:n}=L.useContext(_s),{pathname:r}=ra(),a=JSON.stringify(k1(n));return L.useMemo(()=>O1(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function dD(t,e){return B1(t,e)}function B1(t,e,n,r,a){At(oh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(wr),{matches:u}=L.useContext(_s),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let Q=_&&_.path||"";$1(p,!_||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let E=ra(),A;if(e){let Q=typeof e=="string"?wo(e):e;At(v==="/"||Q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),A=Q}else A=E;let P=A.pathname||"/",D=P;if(v!=="/"){let Q=v.replace(/^\//,"").split("/");D="/"+P.replace(/^\//,"").split("/").slice(Q.length).join("/")}let V=R1(t,{pathname:D});xr(_||V!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),xr(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=yD(V&&V.map(Q=>Object.assign({},Q,{params:Object.assign({},d,Q.params),pathname:$s([v,o.encodeLocation?o.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?v:$s([v,o.encodeLocation?o.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),u,n,r,a);return e&&Y?L.createElement(ah.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},Y):Y}function fD(){let t=wD(),e=WC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:a},n):null,u)}var mD=L.createElement(fD,null),q1=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=lD(t.digest);n&&(t=n)}let e=t!==void 0?L.createElement(_s.Provider,{value:this.props.routeContext},L.createElement(bv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?L.createElement(pD,{error:t},e):e}};q1.contextType=nD;var ay=new WeakMap;function pD({children:t,error:e}){let{basename:n}=L.useContext(wr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=oD(e.digest);if(r){let a=ay.get(e);if(a)throw a;let o=j1(r.location,n);if(P1&&!ay.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw ay.set(e,u),u}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function gD({routeContext:t,match:e,children:n}){let r=L.useContext(Yl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(_s.Provider,{value:t},n)}function yD(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n?.errors;if(u!=null){let v=o.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);At(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let h=!1,d=-1;if(n)for(let v=0;v<o.length;v++){let _=o[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=v),_.route.id){let{loaderData:E,errors:A}=n,P=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||P){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let p=n&&r?(v,_)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:eD(n.matches),errorInfo:_})}:void 0;return o.reduceRight((v,_,E)=>{let A,P=!1,D=null,V=null;n&&(A=u&&_.route.id?u[_.route.id]:void 0,D=_.route.errorElement||mD,h&&(d<0&&E===0?($1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,V=null):d===E&&(P=!0,V=_.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,E+1)),Q=()=>{let J;return A?J=D:P?J=V:_.route.Component?J=L.createElement(_.route.Component,null):_.route.element?J=_.route.element:J=v,L.createElement(gD,{match:_,routeContext:{outlet:v,matches:Y,isDataRoute:n!=null},children:J})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?L.createElement(q1,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:Q(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:p}):Q()},null)}function xv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vD(t){let e=L.useContext(Yl);return At(e,xv(t)),e}function _D(t){let e=L.useContext(vm);return At(e,xv(t)),e}function bD(t){let e=L.useContext(_s);return At(e,xv(t)),e}function wv(t){let e=bD(t),n=e.matches[e.matches.length-1];return At(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xD(){return wv("useRouteId")}function wD(){let t=L.useContext(bv),e=_D("useRouteError"),n=wv("useRouteError");return t!==void 0?t:e.errors?.[n]}function ED(){let{router:t}=vD("useNavigate"),e=wv("useNavigate"),n=L.useRef(!1);return U1(()=>{n.current=!0}),L.useCallback(async(a,o={})=>{xr(n.current,L1),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var Lw={};function $1(t,e,n){!e&&!Lw[t]&&(Lw[t]=!0,xr(!1,n))}L.memo(TD);function TD({routes:t,future:e,state:n,onError:r}){return B1(t,void 0,n,r,e)}function Yn(t){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){At(!oh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[h,a,o,u]);typeof n=="string"&&(n=wo(n));let{pathname:p="/",search:v="",hash:_="",state:E=null,key:A="default"}=n,P=L.useMemo(()=>{let D=Hs(p,h);return D==null?null:{location:{pathname:D,search:v,hash:_,state:E,key:A},navigationType:r}},[h,p,v,_,E,A,r]);return xr(P!=null,`<Router basename="${h}"> is not able to match the URL "${p}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:L.createElement(wr.Provider,{value:d},L.createElement(ah.Provider,{children:e,value:P}))}function AD({children:t,location:e}){return dD(Ny(t),e)}function Ny(t,e=[]){let n=[];return L.Children.forEach(t,(r,a)=>{if(!L.isValidElement(r))return;let o=[...e,a];if(r.type===L.Fragment){n.push.apply(n,Ny(r.props.children,o));return}At(r.type===Yn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Ny(r.props.children,o)),n.push(u)}),n}var pf="get",gf="application/x-www-form-urlencoded";function _m(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function ID(t){return _m(t)&&t.tagName.toLowerCase()==="button"}function RD(t){return _m(t)&&t.tagName.toLowerCase()==="form"}function ND(t){return _m(t)&&t.tagName.toLowerCase()==="input"}function CD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function DD(t,e){return t.button===0&&(!e||e==="_self")&&!CD(t)}var Wd=null;function kD(){if(Wd===null)try{new FormData(document.createElement("form"),0),Wd=!1}catch{Wd=!0}return Wd}var OD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function oy(t){return t!=null&&!OD.has(t)?(xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gf}"`),null):t}function PD(t,e){let n,r,a,o,u;if(RD(t)){let h=t.getAttribute("action");r=h?Hs(h,e):null,n=t.getAttribute("method")||pf,a=oy(t.getAttribute("enctype"))||gf,o=new FormData(t)}else if(ID(t)||ND(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Hs(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||pf,a=oy(t.getAttribute("formenctype"))||oy(h.getAttribute("enctype"))||gf,o=new FormData(h,t),!kD()){let{name:p,type:v,value:_}=t;if(v==="image"){let E=p?`${p}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else p&&o.append(p,_)}}else{if(_m(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pf,r=null,a=gf,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ev(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jD(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Hs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function MD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zD(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await MD(o,n);return u.links?u.links():[]}return[]}));return BD(r.flat(1).filter(VD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Uw(t,e,n,r,a,o){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{let v=r.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function LD(t,e,{includeHydrateFallback:n}={}){return UD(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function UD(t){return[...new Set(t)]}function FD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function BD(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(FD(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function H1(){let t=L.useContext(Yl);return Ev(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function qD(){let t=L.useContext(vm);return Ev(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tv=L.createContext(void 0);Tv.displayName="FrameworkContext";function G1(){let t=L.useContext(Tv);return Ev(t,"You must render this element inside a <HydratedRouter> element"),t}function $D(t,e){let n=L.useContext(Tv),[r,a]=L.useState(!1),[o,u]=L.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,E=L.useRef(null);L.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let D=Y=>{Y.forEach(Q=>{u(Q.isIntersecting)})},V=new IntersectionObserver(D,{threshold:.5});return E.current&&V.observe(E.current),()=>{V.disconnect()}}},[t]),L.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let A=()=>{a(!0)},P=()=>{a(!1),u(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:yc(h,A),onBlur:yc(d,P),onMouseEnter:yc(p,A),onMouseLeave:yc(v,P),onTouchStart:yc(_,A)}]:[!1,E,{}]}function yc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function HD({page:t,...e}){let{router:n}=H1(),r=L.useMemo(()=>R1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(KD,{page:t,matches:r,...e}):null}function GD(t){let{manifest:e,routeModules:n}=G1(),[r,a]=L.useState([]);return L.useEffect(()=>{let o=!1;return zD(t,e,n).then(u=>{o||a(u)}),()=>{o=!0}},[t,e,n]),r}function KD({page:t,matches:e,...n}){let r=ra(),{future:a,manifest:o,routeModules:u}=G1(),{basename:h}=H1(),{loaderData:d,matches:p}=qD(),v=L.useMemo(()=>Uw(t,e,p,o,r,"data"),[t,e,p,o,r]),_=L.useMemo(()=>Uw(t,e,p,o,r,"assets"),[t,e,p,o,r]),E=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,V=!1;if(e.forEach(Q=>{let J=o.routes[Q.route.id];!J||!J.hasLoader||(!v.some(ae=>ae.route.id===Q.route.id)&&Q.route.id in d&&u[Q.route.id]?.shouldRevalidate||J.hasClientLoader?V=!0:D.add(Q.route.id))}),D.size===0)return[];let Y=jD(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return V&&D.size>0&&Y.searchParams.set("_routes",e.filter(Q=>D.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[Y.pathname+Y.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,o,v,e,t,u]),A=L.useMemo(()=>LD(_,o),[_,o]),P=GD(_);return L.createElement(L.Fragment,null,E.map(D=>L.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),A.map(D=>L.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),P.map(({key:D,link:V})=>L.createElement("link",{key:D,nonce:n.nonce,...V})))}function QD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZD&&(window.__reactRouterVersion="7.12.0")}catch{}function YD({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=L.useRef();a.current==null&&(a.current=NC({window:r,v5Compat:!0}));let o=a.current,[u,h]=L.useState({action:o.action,location:o.location}),d=L.useCallback(p=>{n===!1?h(p):L.startTransition(()=>h(p))},[n]);return L.useLayoutEffect(()=>o.listen(d),[o,d]),L.createElement(SD,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:n})}var K1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E,...A},P){let{basename:D,unstable_useTransitions:V}=L.useContext(wr),Y=typeof p=="string"&&K1.test(p),Q=j1(p,D);p=Q.to;let J=uD(p,{relative:a}),[ae,le,me]=$D(r,A),R=ek(p,{replace:u,state:h,target:d,preventScrollReset:v,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:V});function S(M){e&&e(M),M.defaultPrevented||R(M)}let N=L.createElement("a",{...A,...me,href:Q.absoluteURL||J,onClick:Q.isExternal||o?e:S,ref:QD(P,le),target:d,"data-discover":!Y&&n==="render"?"true":void 0});return ae&&!Y?L.createElement(L.Fragment,null,N,L.createElement(HD,{page:J})):N});Tt.displayName="Link";var XD=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...p},v){let _=lh(u,{relative:p.relative}),E=ra(),A=L.useContext(vm),{navigator:P,basename:D}=L.useContext(wr),V=A!=null&&ik(_)&&h===!0,Y=P.encodeLocation?P.encodeLocation(_).pathname:_.pathname,Q=E.pathname,J=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),J=J?J.toLowerCase():null,Y=Y.toLowerCase()),J&&D&&(J=Hs(J,D)||J);const ae=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let le=Q===Y||!a&&Q.startsWith(Y)&&Q.charAt(ae)==="/",me=J!=null&&(J===Y||!a&&J.startsWith(Y)&&J.charAt(Y.length)==="/"),R={isActive:le,isPending:me,isTransitioning:V},S=le?e:void 0,N;typeof r=="function"?N=r(R):N=[r,le?"active":null,me?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(R):o;return L.createElement(Tt,{...p,"aria-current":S,className:N,ref:v,style:M,to:u,viewTransition:h},typeof d=="function"?d(R):d)});XD.displayName="NavLink";var JD=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:u=pf,action:h,onSubmit:d,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E,...A},P)=>{let{unstable_useTransitions:D}=L.useContext(wr),V=rk(),Y=sk(h,{relative:p}),Q=u.toLowerCase()==="get"?"get":"post",J=typeof h=="string"&&K1.test(h),ae=le=>{if(d&&d(le),le.defaultPrevented)return;le.preventDefault();let me=le.nativeEvent.submitter,R=me?.getAttribute("formmethod")||u,S=()=>V(me||le.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:o,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E});D&&n!==!1?L.startTransition(()=>S()):S()};return L.createElement("form",{ref:P,method:Q,action:Y,onSubmit:r?d:ae,...A,"data-discover":!J&&t==="render"?"true":void 0})});JD.displayName="Form";function WD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q1(t){let e=L.useContext(Yl);return At(e,WD(t)),e}function ek(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let p=cD(),v=ra(),_=lh(t,{relative:o});return L.useCallback(E=>{if(DD(E,e)){E.preventDefault();let A=n!==void 0?n:Fc(v)===Fc(_),P=()=>p(t,{replace:A,state:r,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h});d?L.startTransition(()=>P()):P()}},[v,p,_,n,r,e,t,a,o,u,h,d])}var tk=0,nk=()=>`__${String(++tk)}__`;function rk(){let{router:t}=Q1("useSubmit"),{basename:e}=L.useContext(wr),n=xD(),r=t.fetch,a=t.navigate;return L.useCallback(async(o,u={})=>{let{action:h,method:d,encType:p,formData:v,body:_}=PD(o,e);if(u.navigate===!1){let E=u.fetcherKey||nk();await r(E,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:_,formMethod:u.method||d,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:_,formMethod:u.method||d,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,e,n])}function sk(t,{relative:e}={}){let{basename:n}=L.useContext(wr),r=L.useContext(_s);At(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...lh(t||".",{relative:e})},u=ra();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(v=>v==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();o.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:$s([n,o.pathname])),Fc(o)}function ik(t,{relative:e}={}){let n=L.useContext(V1);At(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Q1("useViewTransitionState"),a=lh(t,{relative:e});if(!n.isTransitioning)return!1;let o=Hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vf(a.pathname,u)!=null||Vf(a.pathname,o)!=null}var Xl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ak={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ok=class{#e=ak;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Qa=new ok;function lk(t){setTimeout(t,0)}var ro=typeof window>"u"||"Deno"in globalThis;function In(){}function uk(t,e){return typeof t=="function"?t(e):t}function Cy(t){return typeof t=="number"&&t>=0&&t!==1/0}function Z1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Hi(t,e){return typeof t=="function"?t(e):t}function gr(t,e){return typeof t=="function"?t(e):t}function Fw(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:u,stale:h}=t;if(u){if(r){if(e.queryHash!==Sv(u,e.options))return!1}else if(!Bc(e.queryKey,u))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||o&&!o(e))}function Bw(t,e){const{exact:n,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(so(e.options.mutationKey)!==so(o))return!1}else if(!Bc(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Sv(t,e){return(e?.queryKeyHashFn||so)(t)}function so(t){return JSON.stringify(t,(e,n)=>Dy(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Bc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Bc(t[n],e[n])):!1}var ck=Object.prototype.hasOwnProperty;function Y1(t,e){if(t===e)return t;const n=qw(t)&&qw(e);if(!n&&!(Dy(t)&&Dy(e)))return e;const a=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),u=o.length,h=n?new Array(u):{};let d=0;for(let p=0;p<u;p++){const v=n?p:o[p],_=t[v],E=e[v];if(_===E){h[v]=_,(n?p<a:ck.call(t,v))&&d++;continue}if(_===null||E===null||typeof _!="object"||typeof E!="object"){h[v]=E;continue}const A=Y1(_,E);h[v]=A,A===_&&d++}return a===u&&d===a?t:h}function zf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function qw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Dy(t){if(!$w(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$w(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $w(t){return Object.prototype.toString.call(t)==="[object Object]"}function hk(t){return new Promise(e=>{Qa.setTimeout(e,t)})}function ky(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Y1(t,e):e}function dk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function fk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Av=Symbol();function X1(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Av?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Iv(t,e){return typeof t=="function"?t(...e):!!t}function mk(t,e,n){let r=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??=e(),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var pk=class extends Xl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!ro&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Rv=new pk;function Oy(){let t,e;const n=new Promise((a,o)=>{t=a,e=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}var gk=lk;function yk(){let t=[],e=0,n=h=>{h()},r=h=>{h()},a=gk;const o=h=>{e?t.push(h):a(()=>{n(h)})},u=()=>{const h=t;t=[],h.length&&a(()=>{r(()=>{h.forEach(d=>{n(d)})})})};return{batch:h=>{let d;e++;try{d=h()}finally{e--,e||u()}return d},batchCalls:h=>(...d)=>{o(()=>{h(...d)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{a=h}}}var en=yk(),vk=class extends Xl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!ro&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Lf=new vk;function _k(t){return Math.min(1e3*2**t,3e4)}function J1(t){return(t??"online")==="online"?Lf.isOnline():!0}var Py=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function W1(t){let e=!1,n=0,r;const a=Oy(),o=()=>a.status!=="pending",u=D=>{if(!o()){const V=new Py(D);E(V),t.onCancel?.(V)}},h=()=>{e=!0},d=()=>{e=!1},p=()=>Rv.isFocused()&&(t.networkMode==="always"||Lf.isOnline())&&t.canRun(),v=()=>J1(t.networkMode)&&t.canRun(),_=D=>{o()||(r?.(),a.resolve(D))},E=D=>{o()||(r?.(),a.reject(D))},A=()=>new Promise(D=>{r=V=>{(o()||p())&&D(V)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),P=()=>{if(o())return;let D;const V=n===0?t.initialPromise:void 0;try{D=V??t.fn()}catch(Y){D=Promise.reject(Y)}Promise.resolve(D).then(_).catch(Y=>{if(o())return;const Q=t.retry??(ro?0:3),J=t.retryDelay??_k,ae=typeof J=="function"?J(n,Y):J,le=Q===!0||typeof Q=="number"&&n<Q||typeof Q=="function"&&Q(n,Y);if(e||!le){E(Y);return}n++,t.onFail?.(n,Y),hk(ae).then(()=>p()?void 0:A()).then(()=>{e?E(Y):P()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(r?.(),a),cancelRetry:h,continueRetry:d,canStart:v,start:()=>(v()?P():A().then(P),a)}}var eS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cy(this.gcTime)&&(this.#e=Qa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ro?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Qa.clearTimeout(this.#e),this.#e=void 0)}},bk=class extends eS{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Gw(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Gw(this.options);n.data!==void 0&&(this.setState(Hw(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=ky(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(In).catch(In):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>gr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Av||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Hi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Z1(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const d=X1(this.options,n),v=(()=>{const _={client:this.#s,queryKey:this.queryKey,meta:this.meta};return a(_),_})();return this.#o=!1,this.options.persister?this.options.persister(d,v,this):d(v)},h=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return a(d),d})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#i({type:"fetch",meta:h.fetchOptions?.meta}),this.#r=W1({initialPromise:n?.initialPromise,fn:h.fetchFn,onCancel:d=>{d instanceof Py&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,p)=>{this.#i({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Py){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tS(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...Hw(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),en.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function tS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Hw(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Gw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xk=class extends Xl{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=Oy(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#d;#f;#u;#c;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Kw(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jy(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jy(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!zf(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Qw(this.#t,n,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#t!==n||gr(this.options.enabled,this.#t)!==gr(e.enabled,this.#t)||Hi(this.options.staleTime,this.#t)!==Hi(e.staleTime,this.#t))&&this.#g();const a=this.#y();r&&(this.#t!==n||gr(this.options.enabled,this.#t)!==gr(e.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Ek(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(In)),e}#g(){this.#b();const t=Hi(this.options.staleTime,this.#t);if(ro||this.#s.isStale||!Cy(t))return;const n=Z1(this.#s.dataUpdatedAt,t)+1;this.#u=Qa.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#l=t,!(ro||gr(this.options.enabled,this.#t)===!1||!Cy(this.#l)||this.#l===0)&&(this.#c=Qa.setInterval(()=>{(this.options.refetchIntervalInBackground||Rv.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#b(){this.#u&&(Qa.clearTimeout(this.#u),this.#u=void 0)}#x(){this.#c&&(Qa.clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const n=this.#t,r=this.options,a=this.#s,o=this.#r,u=this.#a,d=t!==n?t.state:this.#n,{state:p}=t;let v={...p},_=!1,E;if(e._optimisticResults){const S=this.hasListeners(),N=!S&&Kw(t,e),M=S&&Qw(t,n,e,r);(N||M)&&(v={...v,...tS(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:A,errorUpdatedAt:P,status:D}=v;E=v.data;let V=!1;if(e.placeholderData!==void 0&&E===void 0&&D==="pending"){let S;a?.isPlaceholderData&&e.placeholderData===u?.placeholderData?(S=a.data,V=!0):S=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,S!==void 0&&(D="success",E=ky(a?.data,S,e),_=!0)}if(e.select&&E!==void 0&&!V)if(a&&E===o?.data&&e.select===this.#p)E=this.#d;else try{this.#p=e.select,E=e.select(E),E=ky(a?.data,E,e),this.#d=E,this.#i=null}catch(S){this.#i=S}this.#i&&(A=this.#i,E=this.#d,P=Date.now(),D="error");const Y=v.fetchStatus==="fetching",Q=D==="pending",J=D==="error",ae=Q&&Y,le=E!==void 0,R={status:D,fetchStatus:v.fetchStatus,isPending:Q,isSuccess:D==="success",isError:J,isInitialLoading:ae,isLoading:ae,data:E,dataUpdatedAt:v.dataUpdatedAt,error:A,errorUpdatedAt:P,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>d.dataUpdateCount||v.errorUpdateCount>d.errorUpdateCount,isFetching:Y,isRefetching:Y&&!Q,isLoadingError:J&&!le,isPaused:v.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:J&&le,isStale:Nv(t,e),refetch:this.refetch,promise:this.#o,isEnabled:gr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const S=j=>{R.status==="error"?j.reject(R.error):R.data!==void 0&&j.resolve(R.data)},N=()=>{const j=this.#o=R.promise=Oy();S(j)},M=this.#o;switch(M.status){case"pending":t.queryHash===n.queryHash&&S(M);break;case"fulfilled":(R.status==="error"||R.data!==M.value)&&N();break;case"rejected":(R.status!=="error"||R.error!==M.reason)&&N();break}}return R}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),zf(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#m.size)return!0;const o=new Set(a??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(u=>{const h=u;return this.#s[h]!==t[h]&&o.has(h)})};this.#E({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#E(t){en.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function wk(t,e){return gr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Kw(t,e){return wk(t,e)||t.state.data!==void 0&&jy(t,e,e.refetchOnMount)}function jy(t,e,n){if(gr(e.enabled,t)!==!1&&Hi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Nv(t,e)}return!1}function Qw(t,e,n,r){return(t!==e||gr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Nv(t,n)}function Nv(t,e){return gr(e.enabled,t)!==!1&&t.isStaleByTime(Hi(e.staleTime,t))}function Ek(t,e){return!zf(t.getCurrentResult(),e)}function Zw(t){return{onFetch:(e,n)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},d=0;const p=async()=>{let v=!1;const _=P=>{mk(P,()=>e.signal,()=>v=!0)},E=X1(e.options,e.fetchOptions),A=async(P,D,V)=>{if(v)return Promise.reject();if(D==null&&P.pages.length)return Promise.resolve(P);const Q=(()=>{const me={client:e.client,queryKey:e.queryKey,pageParam:D,direction:V?"backward":"forward",meta:e.options.meta};return _(me),me})(),J=await E(Q),{maxPages:ae}=e.options,le=V?fk:dk;return{pages:le(P.pages,J,ae),pageParams:le(P.pageParams,D,ae)}};if(a&&o.length){const P=a==="backward",D=P?Tk:Yw,V={pages:o,pageParams:u},Y=D(r,V);h=await A(V,Y,P)}else{const P=t??o.length;do{const D=d===0?u[0]??r.initialPageParam:Yw(r,h);if(d>0&&D==null)break;h=await A(h,D),d++}while(d<P)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function Yw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Tk(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Sk=class extends eS{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||nS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=W1({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,h)=>{this.#r({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",o=!this.#s.canStart();try{if(a)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const h=await this.options.onMutate?.(e,r);h!==this.state.context&&this.#r({type:"pending",context:h,variables:e,isPaused:o})}const u=await this.#s.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#r({type:"success",data:u}),u}catch(u){try{await this.#n.config.onError?.(u,e,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onError?.(u,e,this.state.context,r)}catch(h){Promise.reject(h)}try{await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onSettled?.(void 0,u,e,this.state.context,r)}catch(h){Promise.reject(h)}throw this.#r({type:"error",error:u}),u}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),en.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function nS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ak=class extends Xl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new Sk({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=ef(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=ef(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=ef(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=ef(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){en.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Bw(e,n))}findAll(t={}){return this.getAll().filter(e=>Bw(t,e))}notify(t){en.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return en.batch(()=>Promise.all(t.map(e=>e.continue().catch(In))))}};function ef(t){return t.options.scope?.id}var Ik=class extends Xl{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),zf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&so(n.mutationKey)!==so(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??nS();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){en.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(e.data,null,n,r,a)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,e.error,n,r,a)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},Rk=class extends Xl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,a=e.queryHash??Sv(r,e);let o=this.get(a);return o||(o=new bk({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){en.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Fw(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Fw(t,n)):e}notify(t){en.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){en.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){en.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Nk=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new Rk,this.#t=t.mutationCache||new Ak,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Rv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Lf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Hi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,u=uk(e,o);if(u!==void 0)return this.#e.build(this,r).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return en.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;en.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return en.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=en.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(In).catch(In)}invalidateQueries(t,e={}){return en.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=en.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(In)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(In)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Hi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(In).catch(In)}fetchInfiniteQuery(t){return t.behavior=Zw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(In).catch(In)}ensureInfiniteQueryData(t){return t.behavior=Zw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(so(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Bc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(so(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Bc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Av&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},rS=L.createContext(void 0),Jl=t=>{const e=L.useContext(rS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ck=({client:t,children:e})=>(L.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(rS.Provider,{value:t,children:e})),sS=L.createContext(!1),Dk=()=>L.useContext(sS);sS.Provider;function kk(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Ok=L.createContext(kk()),Pk=()=>L.useContext(Ok),jk=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?Iv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},Mk=t=>{L.useEffect(()=>{t.clearReset()},[t])},Vk=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||Iv(n,[t.error,r])),zk=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Lk=(t,e)=>t.isLoading&&t.isFetching&&!e,Uk=(t,e)=>t?.suspense&&e.isPending,Xw=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Fk(t,e,n){const r=Dk(),a=Pk(),o=Jl(),u=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(u);const h=o.getQueryCache().get(u.queryHash);u._optimisticResults=r?"isRestoring":"optimistic",zk(u),jk(u,a,h),Mk(a);const d=!o.getQueryCache().get(u.queryHash),[p]=L.useState(()=>new e(o,u)),v=p.getOptimisticResult(u),_=!r&&t.subscribed!==!1;if(L.useSyncExternalStore(L.useCallback(E=>{const A=_?p.subscribe(en.batchCalls(E)):In;return p.updateResult(),A},[p,_]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),L.useEffect(()=>{p.setOptions(u)},[u,p]),Uk(u,v))throw Xw(u,p,a);if(Vk({result:v,errorResetBoundary:a,throwOnError:u.throwOnError,query:h,suspense:u.suspense}))throw v.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(u,v),u.experimental_prefetchInRender&&!ro&&Lk(v,r)&&(d?Xw(u,p,a):h?.promise)?.catch(In).finally(()=>{p.updateResult()}),u.notifyOnChangeProps?v:p.trackResult(v)}function iS(t,e){return Fk(t,xk)}function bm(t,e){const n=Jl(),[r]=L.useState(()=>new Ik(n,t));L.useEffect(()=>{r.setOptions(t)},[r,t]);const a=L.useSyncExternalStore(L.useCallback(u=>r.subscribe(en.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=L.useCallback((u,h)=>{r.mutate(u,h).catch(In)},[r]);if(a.error&&Iv(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}const Bk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Jw=t=>{const e=qk(t);return e.charAt(0).toUpperCase()+e.slice(1)},aS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),$k=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Hk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Gk=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...h},d)=>L.createElement("svg",{ref:d,...Hk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:aS("lucide",a),...!o&&!$k(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,v])=>L.createElement(p,v)),...Array.isArray(o)?o:[o]]));const vt=(t,e)=>{const n=L.forwardRef(({className:r,...a},o)=>L.createElement(Gk,{ref:o,iconNode:e,className:aS(`lucide-${Bk(Jw(t))}`,`lucide-${t}`,r),...a}));return n.displayName=Jw(t),n};const Kk=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ww=vt("activity",Kk);const Qk=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Zk=vt("arrow-down",Qk);const Yk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Xk=vt("arrow-left",Yk);const Jk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ly=vt("arrow-right",Jk);const Wk=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],eO=vt("arrow-up",Wk);const tO=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],nO=vt("calculator",tO);const rO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],io=vt("calendar",rO);const sO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],eE=vt("chevron-left",sO);const iO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],oS=vt("circle-alert",iO);const aO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xm=vt("circle-check-big",aO);const oO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cv=vt("clock",oO);const lO=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],uO=vt("dollar-sign",lO);const cO=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],wm=vt("external-link",cO);const hO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dO=vt("house",hO);const fO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Em=vt("map-pin",fO);const mO=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Dv=vt("medal",mO);const pO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gO=vt("menu",pO);const yO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],vO=vt("message-square",yO);const _O=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bO=vt("send",_O);const xO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],lS=vt("star",xO);const wO=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],My=vt("trending-up",wO);const EO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Wn=vt("trophy",EO);const TO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uS=vt("user",TO);const SO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wl=vt("users",SO);const AO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],IO=vt("x",AO);function cS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=cS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function RO(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=cS(t))&&(r&&(r+=" "),r+=e);return r}const NO=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},CO=(t,e)=>({classGroupId:t,validator:e}),hS=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Uf="-",tE=[],DO="arbitrary..",kO=t=>{const e=PO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return OO(u);const h=u.split(Uf),d=h[0]===""&&h.length>1?1:0;return dS(h,d,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const d=r[u],p=n[u];return d?p?NO(p,d):d:p||tE}return n[u]||tE}}},dS=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],o=n.nextPart.get(a);if(o){const p=dS(t,e+1,o);if(p)return p}const u=n.validators;if(u===null)return;const h=e===0?t.join(Uf):t.slice(e).join(Uf),d=u.length;for(let p=0;p<d;p++){const v=u[p];if(v.validator(h))return v.classGroupId}},OO=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?DO+r:void 0})(),PO=t=>{const{theme:e,classGroups:n}=t;return jO(n,e)},jO=(t,e)=>{const n=hS();for(const r in t){const a=t[r];kv(a,n,r,e)}return n},kv=(t,e,n,r)=>{const a=t.length;for(let o=0;o<a;o++){const u=t[o];MO(u,e,n,r)}},MO=(t,e,n,r)=>{if(typeof t=="string"){VO(t,e,n);return}if(typeof t=="function"){zO(t,e,n,r);return}LO(t,e,n,r)},VO=(t,e,n)=>{const r=t===""?e:fS(e,t);r.classGroupId=n},zO=(t,e,n,r)=>{if(UO(t)){kv(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(CO(n,t))},LO=(t,e,n,r)=>{const a=Object.entries(t),o=a.length;for(let u=0;u<o;u++){const[h,d]=a[u];kv(d,fS(e,h),n,r)}},fS=(t,e)=>{let n=t;const r=e.split(Uf),a=r.length;for(let o=0;o<a;o++){const u=r[o];let h=n.nextPart.get(u);h||(h=hS(),n.nextPart.set(u,h)),n=h}return n},UO=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,FO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(o,u)=>{n[o]=u,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let u=n[o];if(u!==void 0)return u;if((u=r[o])!==void 0)return a(o,u),u},set(o,u){o in n?n[o]=u:a(o,u)}}},Vy="!",nE=":",BO=[],rE=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),qO=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const o=[];let u=0,h=0,d=0,p;const v=a.length;for(let D=0;D<v;D++){const V=a[D];if(u===0&&h===0){if(V===nE){o.push(a.slice(d,D)),d=D+1;continue}if(V==="/"){p=D;continue}}V==="["?u++:V==="]"?u--:V==="("?h++:V===")"&&h--}const _=o.length===0?a:a.slice(d);let E=_,A=!1;_.endsWith(Vy)?(E=_.slice(0,-1),A=!0):_.startsWith(Vy)&&(E=_.slice(1),A=!0);const P=p&&p>d?p-d:void 0;return rE(o,A,E,P)};if(e){const a=e+nE,o=r;r=u=>u.startsWith(a)?o(u.slice(a.length)):rE(BO,!1,u,void 0,!0)}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},$O=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let o=0;o<n.length;o++){const u=n[o],h=u[0]==="[",d=e.has(u);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(u)):a.push(u)}return a.length>0&&(a.sort(),r.push(...a)),r}},HO=t=>({cache:FO(t.cacheSize),parseClassName:qO(t),sortModifiers:$O(t),...kO(t)}),GO=/\s+/,KO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,u=[],h=t.trim().split(GO);let d="";for(let p=h.length-1;p>=0;p-=1){const v=h[p],{isExternal:_,modifiers:E,hasImportantModifier:A,baseClassName:P,maybePostfixModifierPosition:D}=n(v);if(_){d=v+(d.length>0?" "+d:d);continue}let V=!!D,Y=r(V?P.substring(0,D):P);if(!Y){if(!V){d=v+(d.length>0?" "+d:d);continue}if(Y=r(P),!Y){d=v+(d.length>0?" "+d:d);continue}V=!1}const Q=E.length===0?"":E.length===1?E[0]:o(E).join(":"),J=A?Q+Vy:Q,ae=J+Y;if(u.indexOf(ae)>-1)continue;u.push(ae);const le=a(Y,V);for(let me=0;me<le.length;++me){const R=le[me];u.push(J+R)}d=v+(d.length>0?" "+d:d)}return d},QO=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=mS(n))&&(a&&(a+=" "),a+=r);return a},mS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=mS(t[r]))&&(n&&(n+=" "),n+=e);return n},ZO=(t,...e)=>{let n,r,a,o;const u=d=>{const p=e.reduce((v,_)=>_(v),t());return n=HO(p),r=n.cache.get,a=n.cache.set,o=h,h(d)},h=d=>{const p=r(d);if(p)return p;const v=KO(d,n);return a(d,v),v};return o=u,(...d)=>o(QO(...d))},YO=[],Wt=t=>{const e=n=>n[t]||YO;return e.isThemeGetter=!0,e},pS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,XO=/^\d+\/\d+$/,JO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pl=t=>XO.test(t),Fe=t=>!!t&&!Number.isNaN(Number(t)),ji=t=>!!t&&Number.isInteger(Number(t)),uy=t=>t.endsWith("%")&&Fe(t.slice(0,-1)),Ls=t=>JO.test(t),rP=()=>!0,sP=t=>WO.test(t)&&!eP.test(t),yS=()=>!1,iP=t=>tP.test(t),aP=t=>nP.test(t),oP=t=>!ye(t)&&!ve(t),lP=t=>eu(t,bS,yS),ye=t=>pS.test(t),La=t=>eu(t,xS,sP),cy=t=>eu(t,fP,Fe),sE=t=>eu(t,vS,yS),uP=t=>eu(t,_S,aP),tf=t=>eu(t,wS,iP),ve=t=>gS.test(t),vc=t=>tu(t,xS),cP=t=>tu(t,mP),iE=t=>tu(t,vS),hP=t=>tu(t,bS),dP=t=>tu(t,_S),nf=t=>tu(t,wS,!0),eu=(t,e,n)=>{const r=pS.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},tu=(t,e,n=!1)=>{const r=gS.exec(t);return r?r[1]?e(r[1]):n:!1},vS=t=>t==="position"||t==="percentage",_S=t=>t==="image"||t==="url",bS=t=>t==="length"||t==="size"||t==="bg-size",xS=t=>t==="length",fP=t=>t==="number",mP=t=>t==="family-name",wS=t=>t==="shadow",pP=()=>{const t=Wt("color"),e=Wt("font"),n=Wt("text"),r=Wt("font-weight"),a=Wt("tracking"),o=Wt("leading"),u=Wt("breakpoint"),h=Wt("container"),d=Wt("spacing"),p=Wt("radius"),v=Wt("shadow"),_=Wt("inset-shadow"),E=Wt("text-shadow"),A=Wt("drop-shadow"),P=Wt("blur"),D=Wt("perspective"),V=Wt("aspect"),Y=Wt("ease"),Q=Wt("animate"),J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],le=()=>[...ae(),ve,ye],me=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],S=()=>[ve,ye,d],N=()=>[pl,"full","auto",...S()],M=()=>[ji,"none","subgrid",ve,ye],j=()=>["auto",{span:["full",ji,ve,ye]},ji,ve,ye],U=()=>[ji,"auto",ve,ye],k=()=>["auto","min","max","fr",ve,ye],Se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ue=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...S()],ue=()=>[pl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],oe=()=>[t,ve,ye],Me=()=>[...ae(),iE,sE,{position:[ve,ye]}],Ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",hP,lP,{size:[ve,ye]}],Z=()=>[uy,vc,La],ie=()=>["","none","full",p,ve,ye],he=()=>["",Fe,vc,La],Ie=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>[Fe,uy,iE,sE],Rt=()=>["","none",P,ve,ye],rt=()=>["none",Fe,ve,ye],nr=()=>["none",Fe,ve,ye],Fr=()=>[Fe,ve,ye],Tr=()=>[pl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ls],breakpoint:[Ls],color:[rP],container:[Ls],"drop-shadow":[Ls],ease:["in","out","in-out"],font:[oP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ls],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ls],shadow:[Ls],spacing:["px",Fe],text:[Ls],"text-shadow":[Ls],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",pl,ye,ve,V]}],container:["container"],columns:[{columns:[Fe,ye,ve,h]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:le()}],overflow:[{overflow:me()}],"overflow-x":[{"overflow-x":me()}],"overflow-y":[{"overflow-y":me()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[ji,"auto",ve,ye]}],basis:[{basis:[pl,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fe,pl,"auto","initial","none",ye]}],grow:[{grow:["",Fe,ve,ye]}],shrink:[{shrink:["",Fe,ve,ye]}],order:[{order:[ji,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Se(),"normal"]}],"justify-items":[{"justify-items":[...Ue(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ue()]}],"align-content":[{content:["normal",...Se()]}],"align-items":[{items:[...Ue(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ue(),{baseline:["","last"]}]}],"place-content":[{"place-content":Se()}],"place-items":[{"place-items":[...Ue(),"baseline"]}],"place-self":[{"place-self":["auto",...Ue()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[h,"screen",...ue()]}],"min-w":[{"min-w":[h,"screen","none",...ue()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...ue()]}],h:[{h:["screen","lh",...ue()]}],"min-h":[{"min-h":["screen","lh","none",...ue()]}],"max-h":[{"max-h":["screen","lh",...ue()]}],"font-size":[{text:["base",n,vc,La]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,cy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",uy,ye]}],"font-family":[{font:[cP,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,ye]}],"line-clamp":[{"line-clamp":[Fe,"none",ve,cy]}],leading:[{leading:[o,...S()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:oe()}],"text-color":[{text:oe()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fe,"from-font","auto",ve,La]}],"text-decoration-color":[{decoration:oe()}],"underline-offset":[{"underline-offset":[Fe,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Me()}],"bg-repeat":[{bg:Ne()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ji,ve,ye],radial:["",ve,ye],conic:[ji,ve,ye]},dP,uP]}],"bg-color":[{bg:oe()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:oe()}],"gradient-via":[{via:oe()}],"gradient-to":[{to:oe()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:oe()}],"border-color-x":[{"border-x":oe()}],"border-color-y":[{"border-y":oe()}],"border-color-s":[{"border-s":oe()}],"border-color-e":[{"border-e":oe()}],"border-color-t":[{"border-t":oe()}],"border-color-r":[{"border-r":oe()}],"border-color-b":[{"border-b":oe()}],"border-color-l":[{"border-l":oe()}],"divide-color":[{divide:oe()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fe,ve,ye]}],"outline-w":[{outline:["",Fe,vc,La]}],"outline-color":[{outline:oe()}],shadow:[{shadow:["","none",v,nf,tf]}],"shadow-color":[{shadow:oe()}],"inset-shadow":[{"inset-shadow":["none",_,nf,tf]}],"inset-shadow-color":[{"inset-shadow":oe()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:oe()}],"ring-offset-w":[{"ring-offset":[Fe,La]}],"ring-offset-color":[{"ring-offset":oe()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":oe()}],"text-shadow":[{"text-shadow":["none",E,nf,tf]}],"text-shadow-color":[{"text-shadow":oe()}],opacity:[{opacity:[Fe,ve,ye]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ae()}],"mask-image-linear-from-color":[{"mask-linear-from":oe()}],"mask-image-linear-to-color":[{"mask-linear-to":oe()}],"mask-image-t-from-pos":[{"mask-t-from":Ae()}],"mask-image-t-to-pos":[{"mask-t-to":Ae()}],"mask-image-t-from-color":[{"mask-t-from":oe()}],"mask-image-t-to-color":[{"mask-t-to":oe()}],"mask-image-r-from-pos":[{"mask-r-from":Ae()}],"mask-image-r-to-pos":[{"mask-r-to":Ae()}],"mask-image-r-from-color":[{"mask-r-from":oe()}],"mask-image-r-to-color":[{"mask-r-to":oe()}],"mask-image-b-from-pos":[{"mask-b-from":Ae()}],"mask-image-b-to-pos":[{"mask-b-to":Ae()}],"mask-image-b-from-color":[{"mask-b-from":oe()}],"mask-image-b-to-color":[{"mask-b-to":oe()}],"mask-image-l-from-pos":[{"mask-l-from":Ae()}],"mask-image-l-to-pos":[{"mask-l-to":Ae()}],"mask-image-l-from-color":[{"mask-l-from":oe()}],"mask-image-l-to-color":[{"mask-l-to":oe()}],"mask-image-x-from-pos":[{"mask-x-from":Ae()}],"mask-image-x-to-pos":[{"mask-x-to":Ae()}],"mask-image-x-from-color":[{"mask-x-from":oe()}],"mask-image-x-to-color":[{"mask-x-to":oe()}],"mask-image-y-from-pos":[{"mask-y-from":Ae()}],"mask-image-y-to-pos":[{"mask-y-to":Ae()}],"mask-image-y-from-color":[{"mask-y-from":oe()}],"mask-image-y-to-color":[{"mask-y-to":oe()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ae()}],"mask-image-radial-from-color":[{"mask-radial-from":oe()}],"mask-image-radial-to-color":[{"mask-radial-to":oe()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ae()}],"mask-image-conic-pos":[{"mask-conic":[Fe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ae()}],"mask-image-conic-from-color":[{"mask-conic-from":oe()}],"mask-image-conic-to-color":[{"mask-conic-to":oe()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Me()}],"mask-repeat":[{mask:Ne()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:Rt()}],brightness:[{brightness:[Fe,ve,ye]}],contrast:[{contrast:[Fe,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",A,nf,tf]}],"drop-shadow-color":[{"drop-shadow":oe()}],grayscale:[{grayscale:["",Fe,ve,ye]}],"hue-rotate":[{"hue-rotate":[Fe,ve,ye]}],invert:[{invert:["",Fe,ve,ye]}],saturate:[{saturate:[Fe,ve,ye]}],sepia:[{sepia:["",Fe,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":Rt()}],"backdrop-brightness":[{"backdrop-brightness":[Fe,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Fe,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fe,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fe,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Fe,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Fe,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Fe,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Fe,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fe,"initial",ve,ye]}],ease:[{ease:["linear","initial",Y,ve,ye]}],delay:[{delay:[Fe,ve,ye]}],animate:[{animate:["none",Q,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[D,ve,ye]}],"perspective-origin":[{"perspective-origin":le()}],rotate:[{rotate:rt()}],"rotate-x":[{"rotate-x":rt()}],"rotate-y":[{"rotate-y":rt()}],"rotate-z":[{"rotate-z":rt()}],scale:[{scale:nr()}],"scale-x":[{"scale-x":nr()}],"scale-y":[{"scale-y":nr()}],"scale-z":[{"scale-z":nr()}],"scale-3d":["scale-3d"],skew:[{skew:Fr()}],"skew-x":[{"skew-x":Fr()}],"skew-y":[{"skew-y":Fr()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:le()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Tr()}],"translate-x":[{"translate-x":Tr()}],"translate-y":[{"translate-y":Tr()}],"translate-z":[{"translate-z":Tr()}],"translate-none":["translate-none"],accent:[{accent:oe()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:oe()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...oe()]}],"stroke-w":[{stroke:[Fe,vc,La,cy]}],stroke:[{stroke:["none",...oe()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},gP=ZO(pP);function Cn(...t){return gP(RO(t))}const yP=(t,e)=>{let n=null,r=0,a=0;return t.map(o=>{const u=e(o);return a+=1,(n===null||u!==n)&&(r=a,n=u),{...o,rank:r}})},ao=Uc.forwardRef(({variant:t="primary",size:e="md",className:n,children:r,...a},o)=>{const u="inline-flex items-center justify-center rounded-lg font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",h={primary:"bg-primary text-text-main hover:bg-primary-hover border border-transparent shadow-sm",secondary:"bg-surface-highlight text-text-main border border-border hover:border-primary/50",ghost:"bg-transparent text-text-main hover:bg-surface-highlight"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return g.jsx("button",{ref:o,className:Cn(u,h[t]??h.primary,d[e]??d.md,n),...a,children:r})});ao.displayName="Button";const vP=({children:t})=>{const[e,n]=L.useState(!1),r=ra(),a=[{name:"Home",href:"/",icon:dO},{name:"Standings",href:"/standings",icon:Wn},{name:"Schedule",href:"/schedule",icon:io},{name:"Calculator",href:"/calculator",icon:nO},{name:"Players",href:"/players",icon:Wl},{name:"Format",href:"/format",icon:io},{name:"Champions",href:"/champions",icon:Wn}];return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsxs("nav",{className:"bg-surface text-text-main sticky top-0 z-50 shadow-lg border-b border-border",children:[g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex items-center justify-between h-16",children:[g.jsx("div",{className:"flex items-center",children:g.jsxs(Tt,{to:"/",className:"flex items-center space-x-2",children:[g.jsx(Wn,{className:"h-6 w-6 text-warning"}),g.jsx("span",{className:"font-bold text-lg tracking-tight",children:"Paddle Up"})]})}),g.jsx("div",{className:"hidden md:block",children:g.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:a.map(o=>{const u=o.icon,h=r.pathname===o.href;return g.jsxs(Tt,{to:o.href,className:Cn("px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center space-x-1",h?"bg-surface-highlight text-warning":"text-text-muted hover:bg-surface-highlight hover:text-text-main"),children:[g.jsx(u,{className:"h-4 w-4"}),g.jsx("span",{children:o.name})]},o.name)})})}),g.jsx("div",{className:"md:hidden",children:g.jsx(ao,{onClick:()=>n(!e),variant:"ghost",size:"sm",className:"inline-flex items-center justify-center p-2 rounded-md text-text-muted hover:text-text-main hover:bg-surface-highlight focus:outline-none",children:e?g.jsx(IO,{className:"h-6 w-6"}):g.jsx(gO,{className:"h-6 w-6"})})})]})}),e&&g.jsx("div",{className:"md:hidden",children:g.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-surface border-t border-border",children:a.map(o=>{const u=o.icon,h=r.pathname===o.href;return g.jsxs(Tt,{to:o.href,onClick:()=>n(!1),className:Cn("block px-3 py-2 rounded-md text-base font-medium flex items-center space-x-2",h?"bg-surface-highlight text-warning":"text-text-muted hover:bg-surface-highlight hover:text-text-main"),children:[g.jsx(u,{className:"h-5 w-5"}),g.jsx("span",{children:o.name})]},o.name)})})})]}),g.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),g.jsx("footer",{className:"bg-surface text-text-muted py-8 mt-auto",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[g.jsxs("p",{children:[" ",new Date().getFullYear()," Paddle Up Individual Championship League"]}),g.jsx("p",{className:"text-sm mt-2",children:"Competitive Integrity  Merit-Based  Transparent"})]})})]})},ES={subtitle:"The premier competitive league in St. Louis. Merit-based advancement, weekly stakes, and a path to the championship.",schedule:{day:"Sundays",time:"7:00 - 9:00 PM"},location:{name:"Paddle Up",url:"https://maps.app.goo.gl/dKNY9dnEDiFdM3XK8",city:"Chesterfield"},participant:{type:"Individual",note:"No Partner Needed"},register:{url:"https://courtreserve.com",text:"Register on CourtReserve"},missedWeekNote:"Missed week = 0 points",philosophy:"Competitive integrity is the priority. Rotating partners, merit-based court movement, and transparent standings determine advancement. Top performers earn season rewards and guaranteed spots for the next season, while lower performers must re-qualify to ensure a high level of competition.",seasonStructure:{rosterSize:16,duration:"6 Weeks",when:"Sundays, 7:00 PM  9:00 PM",safeZone:"Top 12 players (of a 16-player roster) automatically qualify for the next season  guaranteed roster spots at the end of the 6-week season.",dropZone:"Bottom 4 players (of a 16-player roster) must re-qualify for the next season. They lose their roster spot at the end of the 6-week season and may re-enter via the Open Qualifiers."},seeding:{overview:"Initial seeding uses DUPR for Week 1; thereafter seeding is based on season points and weekly performance.",week1:"Use DUPR rating (higher DUPR = higher seed). If DUPR missing, use last-seen DUPR or default to league admin placement.",draw:"Balanced 'Snake Draw' across 4 courts.",tieBreakers:["Head-to-head (if available)","Higher DUPR","Most recent higher placement"],promotionRelegation:{summary:"Top 2 on each court advance/move up per round; courts are reassigned between rounds based on performance.",nightlyPromotionBonus:"Players who win promotion to a higher court receive a small bonus (configurable) applied after nightly results."},courts:[{name:"Court 1",seeds:"1, 8, 9, 16"},{name:"Court 2",seeds:"2, 7, 10, 15"},{name:"Court 3",seeds:"3, 6, 11, 14"},{name:"Court 4",seeds:"4, 5, 12, 13"}]},rewards:{firstPlace:{name:"1st",items:["$100 Court Credit","Free Entry Next Season","50 Paddle Up Club Points"]},secondPlace:{name:"2nd",items:["$60 Court Credit","30 Paddle Up Club Points"]},thirdPlace:{name:"3rd",items:["$40 Court Credit","20 Paddle Up Club Points"]},notes:"Court credits are applied to player accounts; club points are tracked separately from league standings."},qualification:{description:"Before each season begins, we host two Open Qualifier events to fill the open roster spots.",who:["New applicants (DUPR 3.6+ required)","Players who must re-qualify from the previous season (bottom 4)"],format:"Round Robin (Rotating Partners)",advancement:["Qualifier #1: The Top 2 finishers earn a spot in the league","Qualifier #2: The Top 2 finishers earn a spot in the league","Remaining roster spots (if any) are filled based on overall points from both events"],note:"If you fail to qualify in the first event, you may register for the second event to try again."},general:["DUPR 3.6+ required","DUPR must be linked in CourtReserve prior to play"],format:[{title:"Round 1: Quarterfinals",description:["Players are divided into 4 courts based on seeding.","Top 2 from each court advance to the Upper Bracket (Courts 1 & 2).","Bottom 2 move to the Lower Bracket (Courts 3 & 4)."]},{title:"Round 2: Semifinals",description:["Bracket play.","Top 2 from each Upper Bracket court advance to the Championship Court (C1); bottom 2 move to Court 2.","Top 2 from each Lower Bracket court advance to Court 3; bottom 2 move to Court 4."]},{title:"Round 3: Finals",description:["Final placement.","You play one last round robin on your assigned court (1-4) to determine your final points and ranking."]}],faqs:[{question:"What happens if I miss a week?",answer:"If you miss a week, you receive 0 points for that night. You must notify the league admin so a substitute can be assigned. You are allowed a maximum of 2 sub replacements per season."},{question:"Can I choose my own sub?",answer:"No. To ensure competitive balance and fairness, all substitutes are assigned by the league administration from the approved sub pool."},{question:"How do I qualify for the next season?",answer:"The top 4 players from the current season automatically qualify for the next season. Other spots may be filled through open registration or qualifying nights."},{question:"Is there a warm-up period?",answer:"Yes, courts are available for warm-up starting at 6:45 PM. League play begins promptly at 7:00 PM."}],scoring:["Traditional scoring","Games to 11  win by 1","Ceiling contact = out"],points:{championship:{1:1e3,2:800,3:600,4:400},court2:{1:300,2:240,3:180,4:120},court3:{1:100,2:80,3:60,4:40},court4:{1:30,2:24,3:18,4:12}},subs:["League players must contact league administration to arrange for a sub ahead of time","Subs will be chosen from from the top performers in the most recent Open Qualifiers","Absent players receive 0 points"]},yf={title:"Paddle Up Individual Championship League",fee:"$80",summary:"Season-long championship format  6 weeks of merit-based play with promotion/relegation, weekly standings, and season prizes. Ideal for players who want sustained competitive play and a path to the championship.",...ES},hy={title:"The Challenge",summary:"Short-form weekly competition  rotating partners, per-night entry, and court promotion each round. Quick, social, and competitive nights focused on weekly performance.",price:{amount:15,unit:"per night",display:"$15",note:"per night"},showSections:{seasonStructure:!1,prizes:!1,qualifiers:!1},...ES},Ye=yf,_P=t=>{const{championship:e,court2:n,court3:r,court4:a}=Ye.points??{championship:{},court2:{},court3:{},court4:{}},o=(u,h)=>{if(!u)return 0;const d=u[h];return typeof d=="number"?d:0};return t<=4?o(e,t):t<=8?o(n,t-4):t<=12?o(r,t-8):t<=16?o(a,t-12):0},Tm=t=>{if(!t.isCompleted||!Array.isArray(t.standings)||t.standings.length===0)return null;const e=t.standings,n=[];return e.forEach((r,a)=>{const o=a+1,u=Math.ceil(o/4),h=(o-1)%4+1,d=_P(o);n.push({playerId:r,court:u,position:h,rank:o,pointsEarned:d})}),n},bP=t=>{const e=new Map;return t.forEach(n=>{if(!n.standings||n.standings.length===0)return;const r={id:n.id,date:n.startDateTime?n.startDateTime.toISOString():n.id,isCompleted:!0,standings:n.standings},a=Tm(r);a&&a.forEach(o=>{const u=o.playerId,h=o.pointsEarned||0,d=e.get(u)||{points:0,events:0,champWins:0};d.points+=h,d.events+=1,o.rank===1&&(d.champWins+=1),e.set(u,d)})}),e},xP=()=>{};var aE={};const TS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},wP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},SS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,v=o>>2,_=(o&3)<<4|h>>4;let E=(h&15)<<2|p>>6,A=p&63;d||(A=64,u||(E=64)),r.push(n[v],n[_],n[E],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||p==null||_==null)throw new EP;const E=o<<2|h>>4;if(r.push(E),p!==64){const A=h<<4&240|p>>2;if(r.push(A),_!==64){const P=p<<6&192|_;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TP=function(t){const e=TS(t);return SS.encodeByteArray(e,!0)},Ff=function(t){return TP(t).replace(/\./g,"")},AS=function(t){try{return SS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function IS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const SP=()=>IS().__FIREBASE_DEFAULTS__,AP=()=>{if(typeof process>"u"||typeof aE>"u")return;const t=aE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AS(t[1]);return e&&JSON.parse(e)},Sm=()=>{try{return xP()||SP()||AP()||IP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RS=t=>Sm()?.emulatorHosts?.[t],RP=t=>{const e=RS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NS=()=>Sm()?.config,CS=t=>Sm()?.[`_${t}`];class NP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function nu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DS(t){return(await fetch(t,{credentials:"include"})).ok}function CP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ff(JSON.stringify(n)),Ff(JSON.stringify(u)),""].join(".")}const Cc={};function DP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cc))Cc[e]?t.emulator.push(e):t.prod.push(e);return t}function kP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let oE=!1;function kS(t,e){if(typeof window>"u"||typeof document>"u"||!nu(window.location.host)||Cc[t]===e||Cc[t]||oE)return;Cc[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=DP().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{oE=!0,u()},E}function v(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=kP(r),A=n("text"),P=document.getElementById(A)||document.createElement("span"),D=n("learnmore"),V=document.getElementById(D)||document.createElement("a"),Y=n("preprendIcon"),Q=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const J=E.element;h(J),v(V,D);const ae=p();d(Q,Y),J.append(Q,P,V,ae),document.body.appendChild(J)}o?(P.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function OS(){const t=Sm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VP(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PS(){return!OS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jS(){return!OS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function MS(){try{return typeof indexedDB=="object"}catch{return!1}}function zP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const LP="FirebaseError";class Xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LP,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uh.prototype.create)}}class uh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?UP(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Xs(a,h,r)}}function UP(t,e){return t.replace(FP,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const FP=/\{\$([^}]+)}/g;function BP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(lE(o)&&lE(u)){if(!oo(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function lE(t){return t!==null&&typeof t=="object"}function ch(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qP(t,e){const n=new $P(t,e);return n.subscribe.bind(n)}class $P{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=dy),a.error===void 0&&(a.error=dy),a.complete===void 0&&(a.complete=dy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dy(){}function wn(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fa="[DEFAULT]";class GP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QP(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KP(t){return t===Fa?void 0:t}function QP(t){return t.instantiationMode==="EAGER"}class ZP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const YP={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},XP=Ke.INFO,JP={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},WP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=JP[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ov{constructor(e){this.name=e,this._logLevel=XP,this._logHandler=WP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const ej=(t,e)=>e.some(n=>t instanceof n);let uE,cE;function tj(){return uE||(uE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nj(){return cE||(cE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VS=new WeakMap,zy=new WeakMap,zS=new WeakMap,fy=new WeakMap,Pv=new WeakMap;function rj(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Gi(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&VS.set(n,t)}).catch(()=>{}),Pv.set(e,t),e}function sj(t){if(zy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});zy.set(t,e)}let Ly={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ij(t){Ly=t(Ly)}function aj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(my(this),e,...n);return zS.set(r,e.sort?e.sort():[e]),Gi(r)}:nj().includes(t)?function(...e){return t.apply(my(this),e),Gi(VS.get(this))}:function(...e){return Gi(t.apply(my(this),e))}}function oj(t){return typeof t=="function"?aj(t):(t instanceof IDBTransaction&&sj(t),ej(t,tj())?new Proxy(t,Ly):t)}function Gi(t){if(t instanceof IDBRequest)return rj(t);if(fy.has(t))return fy.get(t);const e=oj(t);return e!==t&&(fy.set(t,e),Pv.set(e,t)),e}const my=t=>Pv.get(t);function lj(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),h=Gi(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Gi(u.result),d.oldVersion,d.newVersion,Gi(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const uj=["get","getKey","getAll","getAllKeys","count"],cj=["put","add","delete","clear"],py=new Map;function hE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(py.get(e))return py.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=cj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||uj.includes(n)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return py.set(e,o),o}ij(t=>({...t,get:(e,n,r)=>hE(e,n)||t.get(e,n,r),has:(e,n)=>!!hE(e,n)||t.has(e,n)}));class hj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dj(t){return t.getComponent()?.type==="VERSION"}const Uy="@firebase/app",dE="0.14.6";const Gs=new Ov("@firebase/app"),fj="@firebase/app-compat",mj="@firebase/analytics-compat",pj="@firebase/analytics",gj="@firebase/app-check-compat",yj="@firebase/app-check",vj="@firebase/auth",_j="@firebase/auth-compat",bj="@firebase/database",xj="@firebase/data-connect",wj="@firebase/database-compat",Ej="@firebase/functions",Tj="@firebase/functions-compat",Sj="@firebase/installations",Aj="@firebase/installations-compat",Ij="@firebase/messaging",Rj="@firebase/messaging-compat",Nj="@firebase/performance",Cj="@firebase/performance-compat",Dj="@firebase/remote-config",kj="@firebase/remote-config-compat",Oj="@firebase/storage",Pj="@firebase/storage-compat",jj="@firebase/firestore",Mj="@firebase/ai",Vj="@firebase/firestore-compat",zj="firebase",Lj="12.6.0";const Fy="[DEFAULT]",Uj={[Uy]:"fire-core",[fj]:"fire-core-compat",[pj]:"fire-analytics",[mj]:"fire-analytics-compat",[yj]:"fire-app-check",[gj]:"fire-app-check-compat",[vj]:"fire-auth",[_j]:"fire-auth-compat",[bj]:"fire-rtdb",[xj]:"fire-data-connect",[wj]:"fire-rtdb-compat",[Ej]:"fire-fn",[Tj]:"fire-fn-compat",[Sj]:"fire-iid",[Aj]:"fire-iid-compat",[Ij]:"fire-fcm",[Rj]:"fire-fcm-compat",[Nj]:"fire-perf",[Cj]:"fire-perf-compat",[Dj]:"fire-rc",[kj]:"fire-rc-compat",[Oj]:"fire-gcs",[Pj]:"fire-gcs-compat",[jj]:"fire-fst",[Vj]:"fire-fst-compat",[Mj]:"fire-vertex","fire-js":"fire-js",[zj]:"fire-js-all"};const qc=new Map,Fj=new Map,By=new Map;function fE(t,e){try{t.container.addComponent(e)}catch(n){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pl(t){const e=t.name;if(By.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;By.set(e,t);for(const n of qc.values())fE(n,t);for(const n of Fj.values())fE(n,t);return!0}function jv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zr(t){return t==null?!1:t.settings!==void 0}const Bj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new uh("app","Firebase",Bj);class qj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}const ru=Lj;function LS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Fy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ki.create("bad-app-name",{appName:String(a)});if(n||(n=NS()),!n)throw Ki.create("no-options");const o=qc.get(a);if(o){if(oo(n,o.options)&&oo(r,o.config))return o;throw Ki.create("duplicate-app",{appName:a})}const u=new ZP(a);for(const d of By.values())u.addComponent(d);const h=new qj(n,r,u);return qc.set(a,h),h}function US(t=Fy){const e=qc.get(t);if(!e&&t===Fy&&NS())return LS();if(!e)throw Ki.create("no-app",{appName:t});return e}function mE(){return Array.from(qc.values())}function Qi(t,e,n){let r=Uj[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(u.join(" "));return}Pl(new lo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const $j="firebase-heartbeat-database",Hj=1,$c="firebase-heartbeat-store";let gy=null;function FS(){return gy||(gy=lj($j,Hj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($c)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),gy}async function Gj(t){try{const n=(await FS()).transaction($c),r=await n.objectStore($c).get(BS(t));return await n.done,r}catch(e){if(e instanceof Xs)Gs.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e?.message});Gs.warn(n.message)}}}async function pE(t,e){try{const r=(await FS()).transaction($c,"readwrite");await r.objectStore($c).put(e,BS(t)),await r.done}catch(n){if(n instanceof Xs)Gs.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n?.message});Gs.warn(r.message)}}}function BS(t){return`${t.name}!${t.options.appId}`}const Kj=1024,Qj=30;class Zj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Qj){const a=Jj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gE(),{heartbeatsToSend:n,unsentEntries:r}=Yj(this._heartbeatsCache.heartbeats),a=Ff(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Gs.warn(e),""}}}function gE(){return new Date().toISOString().substring(0,10)}function Yj(t,e=Kj){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),yE(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),yE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Xj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MS()?zP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function yE(t){return Ff(JSON.stringify({version:2,heartbeats:t})).length}function Jj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Wj(t){Pl(new lo("platform-logger",e=>new hj(e),"PRIVATE")),Pl(new lo("heartbeat",e=>new Zj(e),"PRIVATE")),Qi(Uy,dE,t),Qi(Uy,dE,"esm2020"),Qi("fire-js","")}Wj("");var vE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zi,qS;(function(){var t;function e(R,S){function N(){}N.prototype=S.prototype,R.F=S.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(M,j,U){for(var k=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)k[Se-2]=arguments[Se];return S.prototype[j].apply(M,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,S,N){N||(N=0);const M=Array(16);if(typeof S=="string")for(var j=0;j<16;++j)M[j]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(j=0;j<16;++j)M[j]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=R.g[0],N=R.g[1],j=R.g[2];let U=R.g[3],k;k=S+(U^N&(j^U))+M[0]+3614090360&4294967295,S=N+(k<<7&4294967295|k>>>25),k=U+(j^S&(N^j))+M[1]+3905402710&4294967295,U=S+(k<<12&4294967295|k>>>20),k=j+(N^U&(S^N))+M[2]+606105819&4294967295,j=U+(k<<17&4294967295|k>>>15),k=N+(S^j&(U^S))+M[3]+3250441966&4294967295,N=j+(k<<22&4294967295|k>>>10),k=S+(U^N&(j^U))+M[4]+4118548399&4294967295,S=N+(k<<7&4294967295|k>>>25),k=U+(j^S&(N^j))+M[5]+1200080426&4294967295,U=S+(k<<12&4294967295|k>>>20),k=j+(N^U&(S^N))+M[6]+2821735955&4294967295,j=U+(k<<17&4294967295|k>>>15),k=N+(S^j&(U^S))+M[7]+4249261313&4294967295,N=j+(k<<22&4294967295|k>>>10),k=S+(U^N&(j^U))+M[8]+1770035416&4294967295,S=N+(k<<7&4294967295|k>>>25),k=U+(j^S&(N^j))+M[9]+2336552879&4294967295,U=S+(k<<12&4294967295|k>>>20),k=j+(N^U&(S^N))+M[10]+4294925233&4294967295,j=U+(k<<17&4294967295|k>>>15),k=N+(S^j&(U^S))+M[11]+2304563134&4294967295,N=j+(k<<22&4294967295|k>>>10),k=S+(U^N&(j^U))+M[12]+1804603682&4294967295,S=N+(k<<7&4294967295|k>>>25),k=U+(j^S&(N^j))+M[13]+4254626195&4294967295,U=S+(k<<12&4294967295|k>>>20),k=j+(N^U&(S^N))+M[14]+2792965006&4294967295,j=U+(k<<17&4294967295|k>>>15),k=N+(S^j&(U^S))+M[15]+1236535329&4294967295,N=j+(k<<22&4294967295|k>>>10),k=S+(j^U&(N^j))+M[1]+4129170786&4294967295,S=N+(k<<5&4294967295|k>>>27),k=U+(N^j&(S^N))+M[6]+3225465664&4294967295,U=S+(k<<9&4294967295|k>>>23),k=j+(S^N&(U^S))+M[11]+643717713&4294967295,j=U+(k<<14&4294967295|k>>>18),k=N+(U^S&(j^U))+M[0]+3921069994&4294967295,N=j+(k<<20&4294967295|k>>>12),k=S+(j^U&(N^j))+M[5]+3593408605&4294967295,S=N+(k<<5&4294967295|k>>>27),k=U+(N^j&(S^N))+M[10]+38016083&4294967295,U=S+(k<<9&4294967295|k>>>23),k=j+(S^N&(U^S))+M[15]+3634488961&4294967295,j=U+(k<<14&4294967295|k>>>18),k=N+(U^S&(j^U))+M[4]+3889429448&4294967295,N=j+(k<<20&4294967295|k>>>12),k=S+(j^U&(N^j))+M[9]+568446438&4294967295,S=N+(k<<5&4294967295|k>>>27),k=U+(N^j&(S^N))+M[14]+3275163606&4294967295,U=S+(k<<9&4294967295|k>>>23),k=j+(S^N&(U^S))+M[3]+4107603335&4294967295,j=U+(k<<14&4294967295|k>>>18),k=N+(U^S&(j^U))+M[8]+1163531501&4294967295,N=j+(k<<20&4294967295|k>>>12),k=S+(j^U&(N^j))+M[13]+2850285829&4294967295,S=N+(k<<5&4294967295|k>>>27),k=U+(N^j&(S^N))+M[2]+4243563512&4294967295,U=S+(k<<9&4294967295|k>>>23),k=j+(S^N&(U^S))+M[7]+1735328473&4294967295,j=U+(k<<14&4294967295|k>>>18),k=N+(U^S&(j^U))+M[12]+2368359562&4294967295,N=j+(k<<20&4294967295|k>>>12),k=S+(N^j^U)+M[5]+4294588738&4294967295,S=N+(k<<4&4294967295|k>>>28),k=U+(S^N^j)+M[8]+2272392833&4294967295,U=S+(k<<11&4294967295|k>>>21),k=j+(U^S^N)+M[11]+1839030562&4294967295,j=U+(k<<16&4294967295|k>>>16),k=N+(j^U^S)+M[14]+4259657740&4294967295,N=j+(k<<23&4294967295|k>>>9),k=S+(N^j^U)+M[1]+2763975236&4294967295,S=N+(k<<4&4294967295|k>>>28),k=U+(S^N^j)+M[4]+1272893353&4294967295,U=S+(k<<11&4294967295|k>>>21),k=j+(U^S^N)+M[7]+4139469664&4294967295,j=U+(k<<16&4294967295|k>>>16),k=N+(j^U^S)+M[10]+3200236656&4294967295,N=j+(k<<23&4294967295|k>>>9),k=S+(N^j^U)+M[13]+681279174&4294967295,S=N+(k<<4&4294967295|k>>>28),k=U+(S^N^j)+M[0]+3936430074&4294967295,U=S+(k<<11&4294967295|k>>>21),k=j+(U^S^N)+M[3]+3572445317&4294967295,j=U+(k<<16&4294967295|k>>>16),k=N+(j^U^S)+M[6]+76029189&4294967295,N=j+(k<<23&4294967295|k>>>9),k=S+(N^j^U)+M[9]+3654602809&4294967295,S=N+(k<<4&4294967295|k>>>28),k=U+(S^N^j)+M[12]+3873151461&4294967295,U=S+(k<<11&4294967295|k>>>21),k=j+(U^S^N)+M[15]+530742520&4294967295,j=U+(k<<16&4294967295|k>>>16),k=N+(j^U^S)+M[2]+3299628645&4294967295,N=j+(k<<23&4294967295|k>>>9),k=S+(j^(N|~U))+M[0]+4096336452&4294967295,S=N+(k<<6&4294967295|k>>>26),k=U+(N^(S|~j))+M[7]+1126891415&4294967295,U=S+(k<<10&4294967295|k>>>22),k=j+(S^(U|~N))+M[14]+2878612391&4294967295,j=U+(k<<15&4294967295|k>>>17),k=N+(U^(j|~S))+M[5]+4237533241&4294967295,N=j+(k<<21&4294967295|k>>>11),k=S+(j^(N|~U))+M[12]+1700485571&4294967295,S=N+(k<<6&4294967295|k>>>26),k=U+(N^(S|~j))+M[3]+2399980690&4294967295,U=S+(k<<10&4294967295|k>>>22),k=j+(S^(U|~N))+M[10]+4293915773&4294967295,j=U+(k<<15&4294967295|k>>>17),k=N+(U^(j|~S))+M[1]+2240044497&4294967295,N=j+(k<<21&4294967295|k>>>11),k=S+(j^(N|~U))+M[8]+1873313359&4294967295,S=N+(k<<6&4294967295|k>>>26),k=U+(N^(S|~j))+M[15]+4264355552&4294967295,U=S+(k<<10&4294967295|k>>>22),k=j+(S^(U|~N))+M[6]+2734768916&4294967295,j=U+(k<<15&4294967295|k>>>17),k=N+(U^(j|~S))+M[13]+1309151649&4294967295,N=j+(k<<21&4294967295|k>>>11),k=S+(j^(N|~U))+M[4]+4149444226&4294967295,S=N+(k<<6&4294967295|k>>>26),k=U+(N^(S|~j))+M[11]+3174756917&4294967295,U=S+(k<<10&4294967295|k>>>22),k=j+(S^(U|~N))+M[2]+718787259&4294967295,j=U+(k<<15&4294967295|k>>>17),k=N+(U^(j|~S))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(j+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+j&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.v=function(R,S){S===void 0&&(S=R.length);const N=S-this.blockSize,M=this.C;let j=this.h,U=0;for(;U<S;){if(j==0)for(;U<=N;)a(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<S;)if(M[j++]=R.charCodeAt(U++),j==this.blockSize){a(this,M),j=0;break}}else for(;U<S;)if(M[j++]=R[U++],j==this.blockSize){a(this,M),j=0;break}}this.h=j,this.o+=S},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)R[S++]=this.g[N]>>>M&255;return R};function o(R,S){var N=h;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=S(R)}function u(R,S){this.h=S;const N=[];let M=!0;for(let j=R.length-1;j>=0;j--){const U=R[j]|0;M&&U==S||(N[j]=U,M=!1)}this.g=N}var h={};function d(R){return-128<=R&&R<128?o(R,function(S){return new u([S|0],S<0?-1:0)}):new u([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return V(p(-R));const S=[];let N=1;for(let M=0;R>=N;M++)S[M]=R/N|0,N*=4294967296;return new u(S,0)}function v(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return V(v(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(S,8));let M=_;for(let U=0;U<R.length;U+=8){var j=Math.min(8,R.length-U);const k=parseInt(R.substring(U,U+j),S);j<8?(j=p(Math.pow(S,j)),M=M.j(j).add(p(k))):(M=M.j(N),M=M.add(p(k)))}return M}var _=d(0),E=d(1),A=d(16777216);t=u.prototype,t.m=function(){if(D(this))return-V(this).m();let R=0,S=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);R+=(M>=0?M:4294967296+M)*S,S*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(D(this))return"-"+V(this).toString(R);const S=p(Math.pow(R,6));var N=this;let M="";for(;;){const j=ae(N,S).g;N=Y(N,j.j(S));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=j,P(N))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function D(R){return R.h==-1}t.l=function(R){return R=Y(this,R),D(R)?-1:P(R)?0:1};function V(R){const S=R.g.length,N=[];for(let M=0;M<S;M++)N[M]=~R.g[M];return new u(N,~R.h).add(E)}t.abs=function(){return D(this)?V(this):this},t.add=function(R){const S=Math.max(this.g.length,R.g.length),N=[];let M=0;for(let j=0;j<=S;j++){let U=M+(this.i(j)&65535)+(R.i(j)&65535),k=(U>>>16)+(this.i(j)>>>16)+(R.i(j)>>>16);M=k>>>16,U&=65535,k&=65535,N[j]=k<<16|U}return new u(N,N[N.length-1]&-2147483648?-1:0)};function Y(R,S){return R.add(V(S))}t.j=function(R){if(P(this)||P(R))return _;if(D(this))return D(R)?V(this).j(V(R)):V(V(this).j(R));if(D(R))return V(this.j(V(R)));if(this.l(A)<0&&R.l(A)<0)return p(this.m()*R.m());const S=this.g.length+R.g.length,N=[];for(var M=0;M<2*S;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let j=0;j<R.g.length;j++){const U=this.i(M)>>>16,k=this.i(M)&65535,Se=R.i(j)>>>16,Ue=R.i(j)&65535;N[2*M+2*j]+=k*Ue,Q(N,2*M+2*j),N[2*M+2*j+1]+=U*Ue,Q(N,2*M+2*j+1),N[2*M+2*j+1]+=k*Se,Q(N,2*M+2*j+1),N[2*M+2*j+2]+=U*Se,Q(N,2*M+2*j+2)}for(R=0;R<S;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=S;R<2*S;R++)N[R]=0;return new u(N,0)};function Q(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function J(R,S){this.g=R,this.h=S}function ae(R,S){if(P(S))throw Error("division by zero");if(P(R))return new J(_,_);if(D(R))return S=ae(V(R),S),new J(V(S.g),V(S.h));if(D(S))return S=ae(R,V(S)),new J(V(S.g),S.h);if(R.g.length>30){if(D(R)||D(S))throw Error("slowDivide_ only works with positive integers.");for(var N=E,M=S;M.l(R)<=0;)N=le(N),M=le(M);var j=me(N,1),U=me(M,1);for(M=me(M,2),N=me(N,2);!P(M);){var k=U.add(M);k.l(R)<=0&&(j=j.add(N),U=k),M=me(M,1),N=me(N,1)}return S=Y(R,j.j(S)),new J(j,S)}for(j=_;R.l(S)>=0;){for(N=Math.max(1,Math.floor(R.m()/S.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=p(N),k=U.j(S);D(k)||k.l(R)>0;)N-=M,U=p(N),k=U.j(S);P(U)&&(U=E),j=j.add(U),R=Y(R,k)}return new J(j,R)}t.B=function(R){return ae(this,R).h},t.and=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)&R.i(M);return new u(N,this.h&R.h)},t.or=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)|R.i(M);return new u(N,this.h|R.h)},t.xor=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)^R.i(M);return new u(N,this.h^R.h)};function le(R){const S=R.g.length+1,N=[];for(let M=0;M<S;M++)N[M]=R.i(M)<<1|R.i(M-1)>>>31;return new u(N,R.h)}function me(R,S){const N=S>>5;S%=32;const M=R.g.length-N,j=[];for(let U=0;U<M;U++)j[U]=S>0?R.i(U+N)>>>S|R.i(U+N+1)<<32-S:R.i(U+N);return new u(j,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qS=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Zi=u}).apply(typeof vE<"u"?vE:typeof self<"u"?self:typeof window<"u"?window:{});var rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $S,Tc,HS,vf,qy,GS,KS,QS;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof rf=="object"&&rf];for(var b=0;b<f.length;++b){var w=f[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function a(f,b){if(b)e:{var w=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var q=f[I];if(!(q in w))break e;w=w[q]}f=f[f.length-1],I=w[f],b=b(I),b!=I&&b!=null&&e(w,f,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(b){var w=[],I;for(I in b)Object.prototype.hasOwnProperty.call(b,I)&&w.push([I,b[I]]);return w}});var o=o||{},u=this||self;function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function d(f,b,w){return f.call.apply(f.bind,arguments)}function p(f,b,w){return p=d,p.apply(null,arguments)}function v(f,b){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function _(f,b){function w(){}w.prototype=b.prototype,f.Z=b.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(I,q,X){for(var fe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)fe[Ve-2]=arguments[Ve];return b.prototype[q].apply(I,fe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const b=f.length;if(b>0){const w=Array(b);for(let I=0;I<b;I++)w[I]=f[I];return w}return[]}function P(f,b){for(let I=1;I<arguments.length;I++){const q=arguments[I];var w=typeof q;if(w=w!="object"?w:q?Array.isArray(q)?"array":w:"null",w=="array"||w=="object"&&typeof q.length=="number"){w=f.length||0;const X=q.length||0;f.length=w+X;for(let fe=0;fe<X;fe++)f[w+fe]=q[fe]}else f.push(q)}}class D{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function V(f){u.setTimeout(()=>{throw f},0)}function Y(){var f=R;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class Q{constructor(){this.h=this.g=null}add(b,w){const I=J.get();I.set(b,w),this.h?this.h.next=I:this.g=I,this.h=I}}var J=new D(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,R=new Q,S=()=>{const f=Promise.resolve(void 0);le=()=>{f.then(N)}};function N(){for(var f;f=Y();){try{f.h.call(f.g)}catch(w){V(w)}var b=J;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}me=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};u.addEventListener("test",w,b),u.removeEventListener("test",w,b)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function Se(f,b){j.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}_(Se,j),Se.prototype.init=function(f,b){const w=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(w=="mouseover"?b=f.fromElement:w=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ue="closure_listenable_"+(Math.random()*1e6|0),$=0;function ue(f,b,w,I,q){this.listener=f,this.proxy=null,this.src=b,this.type=w,this.capture=!!I,this.ha=q,this.key=++$,this.da=this.fa=!1}function oe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f,b,w){for(const I in f)b.call(w,f[I],I,f)}function Ne(f,b){for(const w in f)b.call(void 0,f[w],w,f)}function C(f){const b={};for(const w in f)b[w]=f[w];return b}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(f,b){let w,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(w in I)f[w]=I[w];for(let X=0;X<Z.length;X++)w=Z[X],Object.prototype.hasOwnProperty.call(I,w)&&(f[w]=I[w])}}function he(f){this.src=f,this.g={},this.h=0}he.prototype.add=function(f,b,w,I,q){const X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);const fe=Oe(f,b,I,q);return fe>-1?(b=f[fe],w||(b.fa=!1)):(b=new ue(b,this.src,X,!!I,q),b.fa=w,f.push(b)),b};function Ie(f,b){const w=b.type;if(w in f.g){var I=f.g[w],q=Array.prototype.indexOf.call(I,b,void 0),X;(X=q>=0)&&Array.prototype.splice.call(I,q,1),X&&(oe(b),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Oe(f,b,w,I){for(let q=0;q<f.length;++q){const X=f[q];if(!X.da&&X.listener==b&&X.capture==!!w&&X.ha==I)return q}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),Rt={};function rt(f,b,w,I,q){if(Array.isArray(b)){for(let X=0;X<b.length;X++)rt(f,b[X],w,I,q);return null}return w=fu(w),f&&f[Ue]?f.J(b,w,h(I)?!!I.capture:!1,q):nr(f,b,w,!1,I,q)}function nr(f,b,w,I,q,X){if(!b)throw Error("Invalid event type");const fe=h(q)?!!q.capture:!!q;let Ve=ua(f);if(Ve||(f[Ae]=Ve=new he(f)),w=Ve.add(b,w,I,fe,X),w.proxy)return w;if(I=Fr(),w.proxy=I,I.src=f,I.listener=w,f.addEventListener)U||(q=fe),q===void 0&&(q=!1),f.addEventListener(b.toString(),I,q);else if(f.attachEvent)f.attachEvent(Br(b.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Fr(){function f(w){return b.call(f.src,f.listener,w)}const b=hu;return f}function Tr(f,b,w,I,q){if(Array.isArray(b))for(var X=0;X<b.length;X++)Tr(f,b[X],w,I,q);else I=h(I)?!!I.capture:!!I,w=fu(w),f&&f[Ue]?(f=f.i,X=String(b).toString(),X in f.g&&(b=f.g[X],w=Oe(b,w,I,q),w>-1&&(oe(b[w]),Array.prototype.splice.call(b,w,1),b.length==0&&(delete f.g[X],f.h--)))):f&&(f=ua(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Oe(b,w,I,q)),(w=f>-1?b[f]:null)&&Io(w))}function Io(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ue])Ie(b.i,f);else{var w=f.type,I=f.proxy;b.removeEventListener?b.removeEventListener(w,I,f.capture):b.detachEvent?b.detachEvent(Br(w),I):b.addListener&&b.removeListener&&b.removeListener(I),(w=ua(b))?(Ie(w,f),w.h==0&&(w.src=null,b[Ae]=null)):oe(f)}}}function Br(f){return f in Rt?Rt[f]:Rt[f]="on"+f}function hu(f,b){if(f.da)f=!0;else{b=new Se(b,this);const w=f.listener,I=f.ha||f.src;f.fa&&Io(f),f=w.call(I,b)}return f}function ua(f){return f=f[Ae],f instanceof he?f:null}var du="__closure_events_fn_"+(Math.random()*1e9>>>0);function fu(f){return typeof f=="function"?f:(f[du]||(f[du]=function(b){return f.handleEvent(b)}),f[du])}function Lt(){M.call(this),this.i=new he(this),this.M=this,this.G=null}_(Lt,M),Lt.prototype[Ue]=!0,Lt.prototype.removeEventListener=function(f,b,w,I){Tr(this,f,b,w,I)};function Xt(f,b){var w,I=f.G;if(I)for(w=[];I;I=I.G)w.push(I);if(f=f.M,I=b.type||b,typeof b=="string")b=new j(b,f);else if(b instanceof j)b.target=b.target||f;else{var q=b;b=new j(I,f),ie(b,q)}q=!0;let X,fe;if(w)for(fe=w.length-1;fe>=0;fe--)X=b.g=w[fe],q=ni(X,I,!0,b)&&q;if(X=b.g=f,q=ni(X,I,!0,b)&&q,q=ni(X,I,!1,b)&&q,w)for(fe=0;fe<w.length;fe++)X=b.g=w[fe],q=ni(X,I,!1,b)&&q}Lt.prototype.N=function(){if(Lt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const w=f.g[b];for(let I=0;I<w.length;I++)oe(w[I]);delete f.g[b],f.h--}}this.G=null},Lt.prototype.J=function(f,b,w,I){return this.i.add(String(f),b,!1,w,I)},Lt.prototype.K=function(f,b,w,I){return this.i.add(String(f),b,!0,w,I)};function ni(f,b,w,I){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let q=!0;for(let X=0;X<b.length;++X){const fe=b[X];if(fe&&!fe.da&&fe.capture==w){const Ve=fe.listener,jt=fe.ha||fe.src;fe.fa&&Ie(f.i,fe),q=Ve.call(jt,I)!==!1&&q}}return q&&!I.defaultPrevented}function tp(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(f,b||0)}function Th(f){f.g=tp(()=>{f.g=null,f.i&&(f.i=!1,Th(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class En extends M{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Th(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(f){M.call(this),this.h=f,this.g={}}_(ca,M);var mu=[];function pu(f){Me(f.g,function(b,w){this.g.hasOwnProperty(w)&&Io(b)},f),f.g={}}ca.prototype.N=function(){ca.Z.N.call(this),pu(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=u.JSON.stringify,np=u.JSON.parse,Sh=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Ah(){}function Ih(){}var Sr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){j.call(this,"d")}_(ln,j);function rr(){j.call(this,"c")}_(rr,j);var Pt={},Rh=null;function Ro(){return Rh=Rh||new Lt}Pt.Ia="serverreachability";function Nh(f){j.call(this,Pt.Ia,f)}_(Nh,j);function qr(f){const b=Ro();Xt(b,new Nh(b))}Pt.STAT_EVENT="statevent";function ha(f,b){j.call(this,Pt.STAT_EVENT,f),this.stat=b}_(ha,j);function Ut(f){const b=Ro();Xt(b,new ha(b,f))}Pt.Ja="timingevent";function $r(f,b){j.call(this,Pt.Ja,f),this.size=b}_($r,j);function Hr(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},b)}function Ar(){this.g=!0}Ar.prototype.ua=function(){this.g=!1};function rp(f,b,w,I,q,X){f.info(function(){if(f.g)if(X){var fe="",Ve=X.split("&");for(let tt=0;tt<Ve.length;tt++){var jt=Ve[tt].split("=");if(jt.length>1){const _t=jt[0];jt=jt[1];const or=_t.split("_");fe=or.length>=2&&or[1]=="type"?fe+(_t+"="+jt+"&"):fe+(_t+"=redacted&")}}}else fe=null;else fe=X;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+b+`
`+w+`
`+fe})}function Ch(f,b,w,I,q,X,fe){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+b+`
`+w+`
`+X+" "+fe})}function Gr(f,b,w,I){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+sp(f,w)+(I?" "+I:"")})}function da(f,b){f.info(function(){return"TIMEOUT: "+b})}Ar.prototype.info=function(){};function sp(f,b){if(!f.g)return b;if(!b)return null;try{const X=JSON.parse(b);if(X){for(f=0;f<X.length;f++)if(Array.isArray(X[f])){var w=X[f];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var q=I[0];if(q!="noop"&&q!="stop"&&q!="close")for(let fe=1;fe<I.length;fe++)I[fe]=""}}}}return ri(X)}catch{return b}}var fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yu;function ma(){}_(ma,Ah),ma.prototype.g=function(){return new XMLHttpRequest},yu=new ma;function bs(f){return encodeURIComponent(String(f))}function Dh(f){var b=1;f=f.split(":");const w=[];for(;b>0&&f.length;)w.push(f.shift()),b--;return f.length&&w.push(f.join(":")),w}function Ir(f,b,w,I){this.j=f,this.i=b,this.l=w,this.S=I||1,this.V=new ca(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Rr}function Rr(){this.i=null,this.g="",this.h=!1}var Ft={},rn={};function Kr(f,b,w){f.M=1,f.A=pa(qt(b)),f.u=w,f.R=!0,No(f,null)}function No(f,b){f.F=Date.now(),Qr(f),f.B=qt(f.A);var w=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),Oo(w.i,"t",I),f.C=0,w=f.j.L,f.h=new Rr,f.g=Gh(f.j,w?b:null,!f.u),f.P>0&&(f.O=new En(p(f.Y,f,f.g),f.P)),b=f.V,w=f.g,I=f.ba;var q="readystatechange";Array.isArray(q)||(q&&(mu[0]=q.toString()),q=mu);for(let X=0;X<q.length;X++){const fe=rt(w,q[X],I||b.handleEvent,!1,b.h||b);if(!fe)break;b.g[fe.key]=fe}b=f.J?C(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),qr(),rp(f.i,f.v,f.B,f.l,f.S,f.u)}Ir.prototype.ba=function(f){f=f.target;const b=this.O;b&&Dr(f)==3?b.j():this.Y(f)},Ir.prototype.Y=function(f){try{if(f==this.g)e:{const Ve=Dr(this.g),jt=this.g.ya(),tt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||Ve!=4||jt==7||(jt==8||tt<=0?qr(3):qr(2)),Zr(this);var b=this.g.ca();this.X=b;var w=ip(this);if(this.o=b==200,Ch(this.i,this.v,this.B,this.l,this.S,Ve,b),this.o){if(this.U&&!this.L){t:{if(this.g){var I,q=this.g;if((I=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var X=I;break t}}X=null}if(f=X)Gr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yr(this,f);else{this.o=!1,this.m=3,Ut(12),Fn(this),sr(this);break e}}if(this.R){f=!0;let _t;for(;!this.K&&this.C<w.length;)if(_t=Oh(this,w),_t==rn){Ve==4&&(this.m=4,Ut(14),f=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Ft){this.m=4,Ut(15),Gr(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else Gr(this.i,this.l,_t,null),Yr(this,_t);if(kh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||w.length!=0||this.h.h||(this.m=1,Ut(16),f=!1),this.o=this.o&&f,!f)Gr(this.i,this.l,w,"[Invalid Chunked Response]"),Fn(this),sr(this);else if(w.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),ku(fe),fe.P=!0,Ut(11))}}else Gr(this.i,this.l,w,null),Yr(this,w);Ve==4&&Fn(this),this.o&&!this.K&&(Ve==4?Bh(this.j,this):(this.o=!1,Qr(this)))}else ws(this.g),b==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Fn(this),sr(this)}}}catch{}};function ip(f){if(!kh(f))return f.g.la();const b=un(f.g);if(b==="")return"";let w="";const I=b.length,q=Dr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Fn(f),sr(f),"";f.h.i=new u.TextDecoder}for(let X=0;X<I;X++)f.h.h=!0,w+=f.h.i.decode(b[X],{stream:!(q&&X==I-1)});return b.length=0,f.h.g+=w,f.C=0,f.h.g}function kh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Oh(f,b){var w=f.C,I=b.indexOf(`
`,w);return I==-1?rn:(w=Number(b.substring(w,I)),isNaN(w)?Ft:(I+=1,I+w>b.length?rn:(b=b.slice(I,I+w),f.C=I+w,b)))}Ir.prototype.cancel=function(){this.K=!0,Fn(this)};function Qr(f){f.T=Date.now()+f.H,Co(f,f.H)}function Co(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Hr(p(f.aa,f),b)}function Zr(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Ir.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(da(this.i,this.B),this.M!=2&&(qr(),Ut(17)),Fn(this),this.m=2,sr(this)):Co(this,this.T-f)};function sr(f){f.j.I==0||f.K||Bh(f.j,f)}function Fn(f){Zr(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,pu(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Yr(f,b){try{var w=f.j;if(w.I!=0&&(w.g==f||Jr(w.h,f))){if(!f.L&&Jr(w.h,f)&&w.I==3){try{var I=w.Ba.g.parse(b)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)zo(w),hi(w);else break e;wa(w),Ut(18)}}else w.xa=q[1],0<w.xa-w.K&&q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Hr(p(w.Va,w),6e3));Xr(w.h)<=1&&w.ta&&(w.ta=void 0)}else ss(w,11)}else if((f.L||w.g==f)&&zo(w),!k(b))for(q=w.Ba.g.parse(b),b=0;b<q.length;b++){let tt=q[b];const _t=tt[0];if(!(_t<=w.K))if(w.K=_t,tt=tt[1],w.I==2)if(tt[0]=="c"){w.M=tt[1],w.ba=tt[2];const or=tt[3];or!=null&&(w.ka=or,w.j.info("VER="+w.ka));const is=tt[4];is!=null&&(w.za=is,w.j.info("SVER="+w.za));const kr=tt[5];kr!=null&&typeof kr=="number"&&kr>0&&(I=1.5*kr,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const Or=f.g;if(Or){const Ea=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var X=I.h;X.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(bu(X,X.h),X.h=null))}if(I.G){const Lo=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;Lo&&(I.wa=Lo,st(I.J,I.G,Lo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var fe=f;if(I.na=Hh(I,I.L?I.ba:null,I.W),fe.L){xu(I.h,fe);var Ve=fe,jt=I.O;jt&&(Ve.H=jt),Ve.D&&(Zr(Ve),Qr(Ve)),I.g=fe}else Uh(I);w.i.length>0&&rs(w)}else tt[0]!="stop"&&tt[0]!="close"||ss(w,7);else w.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?ss(w,7):Cu(w):tt[0]!="noop"&&w.l&&w.l.qa(tt),w.A=0)}}qr(4)}catch{}}var Bt=class{constructor(f,b){this.g=f,this.map=b}};function vu(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _u(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Xr(f){return f.h?1:f.g?f.g.size:0}function Jr(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function bu(f,b){f.g?f.g.add(b):f.h=b}function xu(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}vu.prototype.cancel=function(){if(this.i=wu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function wu(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const w of f.g.values())b=b.concat(w.G);return b}return A(f.i)}var Ph=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Do(f,b){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const I=f[w].indexOf("=");let q,X=null;I>=0?(q=f[w].substring(0,I),X=f[w].substring(I+1)):q=f[w],b(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Bn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof Bn?(this.l=f.l,sn(this,f.j),this.o=f.o,this.g=f.g,si(this,f.u),this.h=f.h,Eu(this,zh(f.i)),this.m=f.m):f&&(b=String(f).match(Ph))?(this.l=!1,sn(this,b[1]||"",!0),this.o=Wr(b[2]||""),this.g=Wr(b[3]||"",!0),si(this,b[4]),this.h=Wr(b[5]||"",!0),Eu(this,b[6]||"",!0),this.m=Wr(b[7]||"")):(this.l=!1,this.i=new ai(null,this.l))}Bn.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(ga(b,ko,!0),":");var w=this.g;return(w||b=="file")&&(f.push("//"),(b=this.o)&&f.push(ga(b,ko,!0),"@"),f.push(bs(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(ga(w,w.charAt(0)=="/"?Tu:jh,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",ga(w,Mh)),f.join("")},Bn.prototype.resolve=function(f){const b=qt(this);let w=!!f.j;w?sn(b,f.j):w=!!f.o,w?b.o=f.o:w=!!f.g,w?b.g=f.g:w=f.u!=null;var I=f.h;if(w)si(b,f.u);else if(w=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var q=b.h.lastIndexOf("/");q!=-1&&(I=b.h.slice(0,q+1)+I)}if(q=I,q==".."||q==".")I="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){I=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let fe=0;fe<q.length;){const Ve=q[fe++];Ve=="."?I&&fe==q.length&&X.push(""):Ve==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),I&&fe==q.length&&X.push("")):(X.push(Ve),I=!0)}I=X.join("/")}else I=q}return w?b.h=I:w=f.i.toString()!=="",w?Eu(b,zh(f.i)):w=!!f.m,w&&(b.m=f.m),b};function qt(f){return new Bn(f)}function sn(f,b,w){f.j=w?Wr(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function si(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Eu(f,b,w){b instanceof ai?(f.i=b,Po(f.i,f.l)):(w||(b=ga(b,ii)),f.i=new ai(b,f.l))}function st(f,b,w){f.i.set(b,w)}function pa(f){return st(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Wr(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ga(f,b,w){return typeof f=="string"?(f=encodeURI(f).replace(b,kn),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function kn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ko=/[#\/\?@]/g,jh=/[#\?:]/g,Tu=/[#\?]/g,ii=/[#\?@]/g,Mh=/#/g;function ai(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function On(f){f.g||(f.g=new Map,f.h=0,f.i&&Do(f.i,function(b,w){f.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}t=ai.prototype,t.add=function(f,b){On(this),this.i=null,f=oi(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(b),this.h+=1,this};function Vh(f,b){On(f),b=oi(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Su(f,b){return On(f),b=oi(f,b),f.g.has(b)}t.forEach=function(f,b){On(this),this.g.forEach(function(w,I){w.forEach(function(q){f.call(b,q,I,this)},this)},this)};function Au(f,b){On(f);let w=[];if(typeof b=="string")Su(f,b)&&(w=w.concat(f.g.get(oi(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)w=w.concat(f[b]);return w}t.set=function(f,b){return On(this),this.i=null,f=oi(this,f),Su(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=Au(this,f),f.length>0?String(f[0]):b):b};function Oo(f,b,w){Vh(f,b),w.length>0&&(f.i=null,f.g.set(oi(f,b),A(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let I=0;I<b.length;I++){var w=b[I];const q=bs(w);w=Au(this,w);for(let X=0;X<w.length;X++){let fe=q;w[X]!==""&&(fe+="="+bs(w[X])),f.push(fe)}}return this.i=f.join("&")};function zh(f){const b=new ai;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function oi(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Po(f,b){b&&!f.j&&(On(f),f.i=null,f.g.forEach(function(w,I){const q=I.toLowerCase();I!=q&&(Vh(this,I),Oo(this,q,w))},f)),f.j=b}function Nr(f,b){const w=new Ar;if(u.Image){const I=new Image;I.onload=v(ir,w,"TestLoadImage: loaded",!0,b,I),I.onerror=v(ir,w,"TestLoadImage: error",!1,b,I),I.onabort=v(ir,w,"TestLoadImage: abort",!1,b,I),I.ontimeout=v(ir,w,"TestLoadImage: timeout",!1,b,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else b(!1)}function Iu(f,b){const w=new Ar,I=new AbortController,q=setTimeout(()=>{I.abort(),ir(w,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:I.signal}).then(X=>{clearTimeout(q),X.ok?ir(w,"TestPingServer: ok",!0,b):ir(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),ir(w,"TestPingServer: error",!1,b)})}function ir(f,b,w,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(w)}catch{}}function li(){this.g=new Sh}function es(f){this.i=f.Sb||null,this.h=f.ab||!1}_(es,Ah),es.prototype.g=function(){return new ya(this.i,this.h)};function ya(f,b){Lt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ya,Lt),t=ya.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Cr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function jo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?ui(this):Cr(this),this.readyState==3&&jo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ui(this))},t.Na=function(f){this.g&&(this.response=f,ui(this))},t.ga=function(){this.g&&ui(this)};function ui(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Cr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=b.next();return f.join(`\r
`)};function Cr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ar(f){let b="";return Me(f,function(w,I){b+=I,b+=":",b+=w,b+=`\r
`}),b}function va(f,b,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=ar(w),typeof f=="string"?w!=null&&bs(w):st(f,b,w))}function ht(f){Lt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ht,Lt);var ts=/^https?$/i,Ru=["POST","PUT"];t=ht.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yu.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(X){_a(this,X);return}if(f=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)w.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())w.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),q=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Ru,b,void 0)>=0)||I||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,fe]of w)this.g.setRequestHeader(X,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(X){_a(this,X)}};function _a(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Nu(f),xs(f)}function Nu(f){f.A||(f.A=!0,Xt(f,"complete"),Xt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Xt(this,"complete"),Xt(this,"abort"),xs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),ht.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ba(this):this.Xa())},t.Xa=function(){ba(this)};function ba(f){if(f.h&&typeof o<"u"){if(f.v&&Dr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Xt(f,"readystatechange"),Dr(f)==4){f.h=!1;try{const X=f.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var I;if(I=X===0){let fe=String(f.D).match(Ph)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),I=!ts.test(fe?fe.toLowerCase():"")}w=I}if(w)Xt(f,"complete"),Xt(f,"success");else{f.o=6;try{var q=Dr(f)>2?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.ca()+"]",Nu(f)}}finally{xs(f)}}}}function xs(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,b||Xt(f,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Dr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Dr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),np(b)}};function un(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(f){const b={};f=(f.g&&Dr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(k(f[I]))continue;var w=Dh(f[I]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=b[q]||[];b[q]=X,X.push(w)}Ne(b,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(f,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||b}function ci(f){this.za=0,this.i=[],this.j=new Ar,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ns("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ns("baseRetryDelayMs",5e3,f),this.Za=ns("retryDelaySeedMs",1e4,f),this.Ta=ns("forwardChannelMaxRetries",2,f),this.va=ns("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new vu(f&&f.concurrentRequestLimit),this.Ba=new li,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ci.prototype,t.ka=8,t.I=1,t.connect=function(f,b,w,I){Ut(0),this.W=f,this.H=b||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=Hh(this,null,this.W),rs(this)};function Cu(f){if(Mo(f),f.I==3){var b=f.V++,w=qt(f.J);if(st(w,"SID",f.M),st(w,"RID",b),st(w,"TYPE","terminate"),xa(f,w),b=new Ir(f,f.j,b),b.M=2,b.A=pa(qt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=b.A,w=!0),w||(b.g=Gh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Qr(b)}$h(f)}function hi(f){f.g&&(ku(f),f.g.cancel(),f.g=null)}function Mo(f){hi(f),f.v&&(u.clearTimeout(f.v),f.v=null),zo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function rs(f){if(!_u(f.h)&&!f.m){f.m=!0;var b=f.Ea;le||S(),me||(le(),me=!0),R.add(b,f),f.D=0}}function Vo(f,b){return Xr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Hr(p(f.Ea,f,b),qh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const q=new Ir(this,this.j,f);let X=this.o;if(this.U&&(X?(X=C(X),ie(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(b+=I,b>4096){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=Lh(this,q,b),w=qt(this.J),st(w,"RID",f),st(w,"CVER",22),this.G&&st(w,"X-HTTP-Session-Id",this.G),xa(this,w),X&&(this.R?b="headers="+bs(ar(X))+"&"+b:this.u&&va(w,this.u,X)),bu(this.h,q),this.Ra&&st(w,"TYPE","init"),this.S?(st(w,"$req",b),st(w,"SID","null"),q.U=!0,Kr(q,w,null)):Kr(q,w,b),this.I=2}}else this.I==3&&(f?Du(this,f):this.i.length==0||_u(this.h)||Du(this))};function Du(f,b){var w;b?w=b.l:w=f.V++;const I=qt(f.J);st(I,"SID",f.M),st(I,"RID",w),st(I,"AID",f.K),xa(f,I),f.u&&f.o&&va(I,f.u,f.o),w=new Ir(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),b&&(f.i=b.G.concat(f.i)),b=Lh(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),bu(f.h,w),Kr(w,I,b)}function xa(f,b){f.H&&Me(f.H,function(w,I){st(b,I,w)}),f.l&&Me({},function(w,I){st(b,I,w)})}function Lh(f,b,w){w=Math.min(f.i.length,w);const I=f.l?p(f.l.Ka,f.l,f):null;e:{var q=f.i;let Ve=-1;for(;;){const jt=["count="+w];Ve==-1?w>0?(Ve=q[0].g,jt.push("ofs="+Ve)):Ve=0:jt.push("ofs="+Ve);let tt=!0;for(let _t=0;_t<w;_t++){var X=q[_t].g;const or=q[_t].map;if(X-=Ve,X<0)Ve=Math.max(0,q[_t].g-100),tt=!1;else try{X="req"+X+"_"||"";try{var fe=or instanceof Map?or:Object.entries(or);for(const[is,kr]of fe){let Or=kr;h(kr)&&(Or=ri(kr)),jt.push(X+is+"="+encodeURIComponent(Or))}}catch(is){throw jt.push(X+"type="+encodeURIComponent("_badmap")),is}}catch{I&&I(or)}}if(tt){fe=jt.join("&");break e}}fe=void 0}return f=f.i.splice(0,w),b.G=f,fe}function Uh(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;le||S(),me||(le(),me=!0),R.add(b,f),f.A=0}}function wa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Hr(p(f.Da,f),qh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Fh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Hr(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),hi(this),Fh(this))};function ku(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Fh(f){f.g=new Ir(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=qt(f.na);st(b,"RID","rpc"),st(b,"SID",f.M),st(b,"AID",f.K),st(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&st(b,"TO",f.ia),st(b,"TYPE","xmlhttp"),xa(f,b),f.u&&f.o&&va(b,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=pa(qt(b)),w.u=null,w.R=!0,No(w,f)}t.Va=function(){this.C!=null&&(this.C=null,hi(this),wa(this),Ut(19))};function zo(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Bh(f,b){var w=null;if(f.g==b){zo(f),ku(f),f.g=null;var I=2}else if(Jr(f.h,b))w=b.G,xu(f.h,b),I=1;else return;if(f.I!=0){if(b.o)if(I==1){w=b.u?b.u.length:0,b=Date.now()-b.F;var q=f.D;I=Ro(),Xt(I,new $r(I,w)),rs(f)}else Uh(f);else if(q=b.m,q==3||q==0&&b.X>0||!(I==1&&Vo(f,b)||I==2&&wa(f)))switch(w&&w.length>0&&(b=f.h,b.i=b.i.concat(w)),q){case 1:ss(f,5);break;case 4:ss(f,10);break;case 3:ss(f,6);break;default:ss(f,2)}}}function qh(f,b){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*b}function ss(f,b){if(f.j.info("Error code "+b),b==2){var w=p(f.bb,f),I=f.Ua;const q=!I;I=new Bn(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||sn(I,"https"),pa(I),q?Nr(I.toString(),w):Iu(I.toString(),w)}else Ut(2);f.I=0,f.l&&f.l.pa(b),$h(f),Mo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function $h(f){if(f.I=0,f.ja=[],f.l){const b=wu(f.h);(b.length!=0||f.i.length!=0)&&(P(f.ja,b),P(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function Hh(f,b,w){var I=w instanceof Bn?qt(w):new Bn(w);if(I.g!="")b&&(I.g=b+"."+I.g),si(I,I.u);else{var q=u.location;I=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;const X=new Bn(null);I&&sn(X,I),b&&(X.g=b),q&&si(X,q),w&&(X.h=w),I=X}return w=f.G,b=f.wa,w&&b&&st(I,w,b),st(I,"VER",f.ka),xa(f,I),I}function Gh(f,b,w){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ht(new es({ab:w})):new ht(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kh(){}t=Kh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function di(){}di.prototype.g=function(f,b){return new Tn(f,b)};function Tn(f,b){Lt.call(this),this.g=new ci(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!k(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!k(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Es(this)}_(Tn,Lt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Cu(this.g)},Tn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=ri(f),f=w);b.i.push(new Bt(b.Ya++,f)),b.I==3&&rs(b)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Cu(this.g),delete this.g,Tn.Z.N.call(this)};function Qh(f){ln.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const w in b){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}_(Qh,ln);function Zh(){rr.call(this),this.status=1}_(Zh,rr);function Es(f){this.g=f}_(Es,Kh),Es.prototype.ra=function(){Xt(this.g,"a")},Es.prototype.qa=function(f){Xt(this.g,new Qh(f))},Es.prototype.pa=function(f){Xt(this.g,new Zh)},Es.prototype.oa=function(){Xt(this.g,"b")},di.prototype.createWebChannel=di.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,QS=function(){return new di},KS=function(){return Ro()},GS=Pt,qy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,vf=fa,gu.COMPLETE="complete",HS=gu,Ih.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",Lt.prototype.listen=Lt.prototype.J,Tc=Ih,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,$S=ht}).apply(typeof rf<"u"?rf:typeof self<"u"?self:typeof window<"u"?window:{});const _E="@firebase/firestore",bE="4.9.3";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let su="12.7.0";const uo=new Ov("@firebase/firestore");function wl(){return uo.logLevel}function ce(t,...e){if(uo.logLevel<=Ke.DEBUG){const n=e.map(Mv);uo.debug(`Firestore (${su}): ${t}`,...n)}}function Rn(t,...e){if(uo.logLevel<=Ke.ERROR){const n=e.map(Mv);uo.error(`Firestore (${su}): ${t}`,...n)}}function co(t,...e){if(uo.logLevel<=Ke.WARN){const n=e.map(Mv);uo.warn(`Firestore (${su}): ${t}`,...n)}}function Mv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZS(t,r,n)}function ZS(t,e,n){let r=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rn(r),new Error(r)}function xe(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||ZS(e,a,r)}function ke(t,e){return t}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class YS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class t4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class n4{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fs,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fs)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new YS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class r4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new r4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function a4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Vv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=a4(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function $y(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return yy(a)===yy(o)?De(a,o):yy(a)?1:-1}return De(t.length,e.length)}const o4=55296,l4=57343;function yy(t){const e=t.charCodeAt(0);return e>=o4&&e<=l4}function jl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}function XS(t){return t+"\0"}const wE="__name__";class cs{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=cs.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return De(e.length,n.length)}static compareSegments(e,n){const r=cs.isNumericId(e),a=cs.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?cs.extractNumericId(e).compare(cs.extractNumericId(n)):$y(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zi.fromString(e.substring(4,e.length-2))}}class et extends cs{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const u4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends cs{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return u4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new St([wE])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}function JS(t,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c4(t,e,n,r){if(e===!0&&r===!0)throw new de(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function EE(t){if(!pe.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TE(t){if(pe.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Am(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Am(t);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function h4(t,e){if(e<=0)throw new de(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function hh(t,e){if(!WS(t))throw new de(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new de(ee.INVALID_ARGUMENT,n);return!0}const SE=-62135596800,AE=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*AE);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<SE)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AE}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hh(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-SE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Zt("string",ot._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new ot(0,0))}static max(){return new Te(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hc=-1;class Bf{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function Hy(t){return t.fields.find((e=>e.kind===2))}function Ba(t){return t.fields.filter((e=>e.kind!==2))}Bf.UNKNOWN_ID=-1;class _f{constructor(e,n){this.fieldPath=e,this.kind=n}}class Gc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Gc(0,tr.min())}}function d4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Te.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new tr(a,pe.empty(),e)}function eA(t){return new tr(t.readTime,t.key,Hc)}class tr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new tr(Te.min(),pe.empty(),Hc)}static max(){return new tr(Te.max(),pe.empty(),Hc)}}function zv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}const tA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==tA)throw t;ce("LocalStore","Unexpectedly lost primary lease")}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):B.reject(n)}static resolve(e){return new B(((n,r)=>{n(e)}))}static reject(e){return new B(((n,r)=>{r(e)}))}static waitFor(e){return new B(((n,r)=>{let a=0,o=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&n()}),(d=>r(d)))})),u=!0,o===a&&n()}))}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next((a=>a?B.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new B(((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;n(e[p]).next((v=>{u[p]=v,++h,h===o&&r(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new B(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}const Xn="SimpleDb";class Im{static open(e,n,r,a){try{return new Im(n,e.transaction(a,r))}catch(o){throw new Dc(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new fs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Dc(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=Lv(r.target.error);this.S.reject(new Dc(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ce(Xn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new m4(n)}}class Yi{static delete(e){return ce(Xn,"Removing database:",e),$a(IS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!MS())return!1;if(Yi.F())return!0;const e=tn(),n=Yi.M(e),r=0<n&&n<10,a=rA(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Yi.M(tn())===12.2&&Rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ce(Xn,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const u=o.target.result;n(u)},a.onblocked=()=>{r(new Dc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new de(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new de(ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Dc(e,u))},a.onupgradeneeded=o=>{ce(Xn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,a.transaction,o.oldVersion,this.version).next((()=>{ce(Xn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,a){const o=n==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=Im.open(this.db,e,o?"readonly":"readwrite",r),d=a(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),B.reject(p)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,p=d.name!=="FirebaseError"&&u<3;if(ce(Xn,"Transaction failed with error:",d.message,"Retrying:",p),this.close(),!p)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function rA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class f4{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return $a(this.U.delete())}}class Dc extends de{constructor(e,n){super(ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function sa(t){return t.name==="IndexedDbTransactionError"}class m4{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ce(Xn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ce(Xn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$a(r)}add(e){return ce(Xn,"ADD",this.store.name,e,e),$a(this.store.add(e))}get(e){return $a(this.store.get(e)).next((n=>(n===void 0&&(n=null),ce(Xn,"GET",this.store.name,e,n),n)))}delete(e){return ce(Xn,"DELETE",this.store.name,e),$a(this.store.delete(e))}count(){return ce(Xn,"COUNT",this.store.name),$a(this.store.count())}J(e,n){const r=this.options(e,n),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(r.range);return new B(((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}}))}{const o=this.cursor(r),u=[];return this.H(o,((h,d)=>{u.push(d)})).next((()=>u))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B(((a,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{a(u.target.result)}}))}Z(e,n){ce(Xn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const a=this.cursor(r);return this.H(a,((o,u,h)=>h.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.H(a,n)}te(e){const n=this.cursor({});return new B(((r,a)=>{n.onerror=o=>{const u=Lv(o.target.error);a(u)},n.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():r()})):r()}}))}H(e,n){const r=[];return new B(((a,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const d=new f4(h),p=n(h.primaryKey,h.value,d);if(p instanceof B){const v=p.catch((_=>(d.done(),B.reject(_))));r.push(v)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>B.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function $a(t){return new B(((e,n)=>{t.onsuccess=r=>{const a=r.target.result;e(a)},t.onerror=r=>{const a=Lv(r.target.error);n(a)}}))}let IE=!1;function Lv(t){const e=Yi.M(tn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IE||(IE=!0,setTimeout((()=>{throw r}),0)),r}}return t}const kc="IndexBackfiller";class p4{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ce(kc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ce(kc,`Documents written: ${n}`)}catch(n){sa(n)?ce(kc,"Ignoring IndexedDB error during index backfill: ",n):await Eo(n)}await this.re(6e4)}))}}class g4{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let a=n,o=!0;return B.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!r.has(u))return ce(kc,`Processing collection: ${u}`),this.oe(e,u,a).next((h=>{a-=h,r.add(u)}));o=!1})))).next((()=>n-a))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(a,o))).next((h=>(ce(kc,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,n,h)))).next((()=>u.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((a,o)=>{const u=eA(o);zv(u,r)>0&&(r=u)})),new tr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class vr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vr.ce=-1;const Xa=-1;function Rm(t){return t==null}function Kc(t){return t===0&&1/t==-1/0}function y4(t){return typeof t=="number"&&Number.isInteger(t)&&!Kc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const qf="";function xn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RE(e)),e=v4(t.get(n),e);return RE(e)}function v4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case qf:n+="";break;default:n+=o}}return n}function RE(t){return t+qf+""}function hs(t){const e=t.length;if(xe(e>=2,64408,{path:t}),e===2)return xe(t.charAt(0)===qf&&t.charAt(1)==="",56145,{path:t}),et.emptyPath();const n=e-2,r=[];let a="";for(let o=0;o<e;){const u=t.indexOf(qf,o);switch((u<0||u>n)&&_e(50515,{path:t}),t.charAt(u+1)){case"":const h=t.substring(o,u);let d;a.length===0?d=h:(a+=h,d=a,a=""),r.push(d);break;case"":a+=t.substring(o,u),a+="\0";break;case"":a+=t.substring(o,u+1);break;default:_e(61167,{path:t})}o=u+2}return new et(r)}const qa="remoteDocuments",dh="owner",gl="owner",Qc="mutationQueues",_4="userId",Vr="mutations",NE="batchId",Za="userMutationsIndex",CE=["userId","batchId"];function bf(t,e){return[t,xn(e)]}function sA(t,e,n){return[t,xn(e),n]}const b4={},Ml="documentMutations",$f="remoteDocumentsV14",x4=["prefixPath","collectionGroup","readTime","documentId"],xf="documentKeyIndex",w4=["prefixPath","collectionGroup","documentId"],iA="collectionGroupIndex",E4=["collectionGroup","readTime","prefixPath","documentId"],Zc="remoteDocumentGlobal",Gy="remoteDocumentGlobalKey",Vl="targets",aA="queryTargetsIndex",T4=["canonicalId","targetId"],zl="targetDocuments",S4=["targetId","path"],Uv="documentTargetsIndex",A4=["path","targetId"],Hf="targetGlobalKey",Ja="targetGlobal",Yc="collectionParents",I4=["collectionId","parent"],Ll="clientMetadata",R4="clientId",Nm="bundles",N4="bundleId",Cm="namedQueries",C4="name",Fv="indexConfiguration",D4="indexId",Ky="collectionGroupIndex",k4="collectionGroup",Oc="indexState",O4=["indexId","uid"],oA="sequenceNumberIndex",P4=["uid","sequenceNumber"],Pc="indexEntries",j4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lA="documentKeyIndex",M4=["indexId","uid","orderedDocumentKey"],Dm="documentOverlays",V4=["userId","collectionPath","documentId"],Qy="collectionPathOverlayIndex",z4=["userId","collectionPath","largestBatchId"],uA="collectionGroupOverlayIndex",L4=["userId","collectionGroup","largestBatchId"],Bv="globals",U4="name",cA=[Qc,Vr,Ml,qa,Vl,dh,Ja,zl,Ll,Zc,Yc,Nm,Cm],F4=[...cA,Dm],hA=[Qc,Vr,Ml,$f,Vl,dh,Ja,zl,Ll,Zc,Yc,Nm,Cm,Dm],dA=hA,qv=[...dA,Fv,Oc,Pc],B4=qv,fA=[...qv,Bv],q4=fA;class Zy extends nA{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function nn(t,e){const n=ke(t);return Yi.O(n.le,e)}function DE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class wt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sf(this.root,e,this.comparator,!0)}}class sf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=a??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new pn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ct{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kE(this.data.getIterator())}getIteratorFrom(e){return new kE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class kE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yl(t){return t.hasNext()?t.getNext():void 0}class _r{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new _r([])}unionWith(e){let n=new ct(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class pA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pA("Invalid base64 string: "+o):o}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const $4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=$4.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}const gA="server_timestamp",yA="__type__",vA="__previous_value__",_A="__local_write_time__";function km(t){return(t?.mapValue?.fields||{})[yA]?.stringValue===gA}function Om(t){const e=t.mapValue.fields[vA];return km(e)?Om(e):e}function Xc(t){const e=Ks(t.mapValue.fields[_A].timestampValue);return new ot(e.seconds,e.nanos)}class H4{constructor(e,n,r,a,o,u,h,d,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=v}}const Gf="(default)";class ho{constructor(e,n){this.projectId=e,this.database=n||Gf}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===Gf}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}const $v="__type__",bA="__max__",$i={mapValue:{fields:{__type__:{stringValue:bA}}}},Hv="__vector__",Ul="value",wf={nullValue:"NULL_VALUE"};function Ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?km(t)?4:xA(t)?9007199254740991:Pm(t)?10:11:_e(28295,{value:t})}function ys(t,e){if(t===e)return!0;const n=Ji(t);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xc(t).isEqual(Xc(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Ks(a.timestampValue),h=Ks(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Qs(a.bytesValue).isEqual(Qs(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return xt(a.geoPointValue.latitude)===xt(o.geoPointValue.latitude)&&xt(a.geoPointValue.longitude)===xt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return xt(a.integerValue)===xt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=xt(a.doubleValue),h=xt(o.doubleValue);return u===h?Kc(u)===Kc(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return jl(t.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(DE(u)!==DE(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!ys(u[d],h[d])))return!1;return!0})(t,e);default:return _e(52216,{left:t})}}function Jc(t,e){return(t.values||[]).find((n=>ys(n,e)))!==void 0}function Wi(t,e){if(t===e)return 0;const n=Ji(t),r=Ji(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=xt(o.integerValue||o.doubleValue),d=xt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return OE(t.timestampValue,e.timestampValue);case 4:return OE(Xc(t),Xc(e));case 5:return $y(t.stringValue,e.stringValue);case 6:return(function(o,u){const h=Qs(o),d=Qs(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const v=De(h[p],d[p]);if(v!==0)return v}return De(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=De(xt(o.latitude),xt(u.latitude));return h!==0?h:De(xt(o.longitude),xt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return PE(t.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},d=u.fields||{},p=h[Ul]?.arrayValue,v=d[Ul]?.arrayValue,_=De(p?.values?.length||0,v?.values?.length||0);return _!==0?_:PE(p,v)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===$i.mapValue&&u===$i.mapValue)return 0;if(o===$i.mapValue)return 1;if(u===$i.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=u.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let _=0;_<d.length&&_<v.length;++_){const E=$y(d[_],v[_]);if(E!==0)return E;const A=Wi(h[d[_]],p[v[_]]);if(A!==0)return A}return De(d.length,v.length)})(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function OE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=Ks(t),r=Ks(e),a=De(n.seconds,r.seconds);return a!==0?a:De(n.nanos,r.nanos)}function PE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Wi(n[a],r[a]);if(o)return o}return De(n.length,r.length)}function Fl(t){return Yy(t)}function Yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Qs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Yy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${Yy(n.fields[u])}`;return a+"}"})(t.mapValue):_e(61005,{value:t})}function Ef(t){switch(Ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Om(t);return e?16+Ef(e):16;case 5:return 2*t.stringValue.length;case 6:return Qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Ef(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return To(r.fields,((o,u)=>{a+=o.length+Ef(u)})),a})(t.mapValue);default:throw _e(13486,{value:t})}}function fo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xy(t){return!!t&&"integerValue"in t}function Wc(t){return!!t&&"arrayValue"in t}function jE(t){return!!t&&"nullValue"in t}function ME(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tf(t){return!!t&&"mapValue"in t}function Pm(t){return(t?.mapValue?.fields||{})[$v]?.stringValue===Hv}function jc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=jc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jc(t.arrayValue.values[n]);return e}return{...t}}function xA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bA}const wA={mapValue:{fields:{[$v]:{stringValue:Hv},[Ul]:{arrayValue:{}}}}};function G4(t){return"nullValue"in t?wf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?fo(ho.empty(),pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Pm(t)?wA:{mapValue:{}}:_e(35942,{value:t})}function K4(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?fo(ho.empty(),pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?wA:"mapValue"in t?Pm(t)?{mapValue:{}}:$i:_e(61959,{value:t})}function VE(t,e){const n=Wi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function zE(t,e){const n=Wi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(n)}setAll(e){let n=St.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=jc(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Tf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){To(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Ln(jc(this.value))}}function EA(t){const e=[];return To(t.fields,((n,r)=>{const a=new St([n]);if(Tf(r)){const o=EA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new _r(e)}class Dt{constructor(e,n,r,a,o,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Dt(e,0,Te.min(),Te.min(),Te.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,a){return new Dt(e,1,n,Te.min(),r,a,0)}static newNoDocument(e,n){return new Dt(e,2,n,Te.min(),Te.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,Te.min(),Te.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ea{constructor(e,n){this.position=e,this.inclusive=n}}function LE(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(u.referenceValue),n.key):r=Wi(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function UE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ys(t.position[n],e.position[n]))return!1;return!0}class Kf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Q4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class TA{}class Qe extends TA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z4(e,n,r):n==="array-contains"?new J4(e,r):n==="in"?new CA(e,r):n==="not-in"?new W4(e,r):n==="array-contains-any"?new eM(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Y4(e,r):new X4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wi(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(Wi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends TA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lt(e,n)}matches(e){return Bl(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bl(t){return t.op==="and"}function Jy(t){return t.op==="or"}function Gv(t){return SA(t)&&Bl(t)}function SA(t){for(const e of t.filters)if(e instanceof lt)return!1;return!0}function Wy(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(Gv(t))return t.filters.map((e=>Wy(e))).join(",");{const e=t.filters.map((n=>Wy(n))).join(",");return`${t.op}(${e})`}}function AA(t,e){return t instanceof Qe?(function(r,a){return a instanceof Qe&&r.op===a.op&&r.field.isEqual(a.field)&&ys(r.value,a.value)})(t,e):t instanceof lt?(function(r,a){return a instanceof lt&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,h)=>o&&AA(u,a.filters[h])),!0):!1})(t,e):void _e(19439)}function IA(t,e){const n=t.filters.concat(e);return lt.create(n,t.op)}function RA(t){return t instanceof Qe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`})(t):t instanceof lt?(function(n){return n.op.toString()+" {"+n.getFilters().map(RA).join(" ,")+"}"})(t):"Filter"}class Z4 extends Qe{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Y4 extends Qe{constructor(e,n){super(e,"in",n),this.keys=NA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class X4 extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=NA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function NA(t,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class J4 extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wc(n)&&Jc(n.arrayValue,this.value)}}class CA extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jc(this.value.arrayValue,n)}}class W4 extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jc(this.value.arrayValue,n)}}class eM extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Jc(this.value.arrayValue,r)))}}class tM{constructor(e,n=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function ev(t,e=null,n=[],r=[],a=null,o=null,u=null){return new tM(t,e,n,r,a,o,u)}function mo(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Wy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Rm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Fl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Fl(r))).join(",")),e.Te=n}return e.Te}function fh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Q4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UE(t.startAt,e.startAt)&&UE(t.endAt,e.endAt)}function Qf(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Zf(t,e){return t.filters.filter((n=>n instanceof Qe&&n.field.isEqual(e)))}function FE(t,e,n){let r=wf,a=!0;for(const o of Zf(t,e)){let u=wf,h=!0;switch(o.op){case"<":case"<=":u=G4(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=wf}VE({value:r,inclusive:a},{value:u,inclusive:h})<0&&(r=u,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const u=n.position[o];VE({value:r,inclusive:a},{value:u,inclusive:n.inclusive})<0&&(r=u,a=n.inclusive);break}}return{value:r,inclusive:a}}function BE(t,e,n){let r=$i,a=!0;for(const o of Zf(t,e)){let u=$i,h=!0;switch(o.op){case">=":case">":u=K4(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=$i}zE({value:r,inclusive:a},{value:u,inclusive:h})>0&&(r=u,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const u=n.position[o];zE({value:r,inclusive:a},{value:u,inclusive:n.inclusive})>0&&(r=u,a=n.inclusive);break}}return{value:r,inclusive:a}}class iu{constructor(e,n=null,r=[],a=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nM(t,e,n,r,a,o,u,h){return new iu(t,e,n,r,a,o,u,h)}function mh(t){return new iu(t)}function qE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kv(t){return t.collectionGroup!==null}function Rl(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ct(St.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Kf(o,r))})),n.has(St.keyField().canonicalString())||e.Ie.push(new Kf(St.keyField(),r))}return e.Ie}function br(t){const e=ke(t);return e.Ee||(e.Ee=rM(e,Rl(t))),e.Ee}function rM(t,e){if(t.limitType==="F")return ev(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Kf(a.field,o)}));const n=t.endAt?new ea(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ea(t.startAt.position,t.startAt.inclusive):null;return ev(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tv(t,e){const n=t.filters.concat([e]);return new iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yf(t,e,n){return new iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jm(t,e){return fh(br(t),br(e))&&t.limitType===e.limitType}function DA(t){return`${mo(br(t))}|lt:${t.limitType}`}function El(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>RA(a))).join(", ")}]`),Rm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Fl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Fl(a))).join(",")),`Target(${r})`})(br(t))}; limitType=${t.limitType})`}function ph(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of Rl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,d){const p=LE(u,h,d);return u.inclusive?p<=0:p<0})(r.startAt,Rl(r),a)||r.endAt&&!(function(u,h,d){const p=LE(u,h,d);return u.inclusive?p>=0:p>0})(r.endAt,Rl(r),a))})(t,e)}function sM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kA(t){return(e,n)=>{let r=!1;for(const a of Rl(t)){const o=iM(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function iM(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):(function(o,u,h){const d=u.data.field(o),p=h.data.field(o);return d!==null&&p!==null?Wi(d,p):_e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return mA(this.inner)}size(){return this.innerSize}}const aM=new wt(pe.comparator);function Jn(){return aM}const OA=new wt(pe.comparator);function Sc(...t){let e=OA;for(const n of t)e=e.insert(n.key,n);return e}function PA(t){let e=OA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ds(){return Mc()}function jA(){return Mc()}function Mc(){return new Js((t=>t.toString()),((t,e)=>t.isEqual(e)))}const oM=new wt(pe.comparator),lM=new ct(pe.comparator);function Be(...t){let e=lM;for(const n of t)e=e.add(n);return e}const uM=new ct(De);function cM(){return uM}function Qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function MA(t){return{integerValue:""+t}}function hM(t,e){return y4(e)?MA(e):Qv(t,e)}class Mm{constructor(){this._=void 0}}function dM(t,e,n){return t instanceof ql?(function(a,o){const u={fields:{[yA]:{stringValue:gA},[_A]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&km(o)&&(o=Om(o)),o&&(u.fields[vA]=o),{mapValue:u}})(n,e):t instanceof $l?zA(t,e):t instanceof Hl?LA(t,e):(function(a,o){const u=VA(a,o),h=$E(u)+$E(a.Ae);return Xy(u)&&Xy(a.Ae)?MA(h):Qv(a.serializer,h)})(t,e)}function fM(t,e,n){return t instanceof $l?zA(t,e):t instanceof Hl?LA(t,e):n}function VA(t,e){return t instanceof eh?(function(r){return Xy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class ql extends Mm{}class $l extends Mm{constructor(e){super(),this.elements=e}}function zA(t,e){const n=UA(e);for(const r of t.elements)n.some((a=>ys(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Hl extends Mm{constructor(e){super(),this.elements=e}}function LA(t,e){let n=UA(e);for(const r of t.elements)n=n.filter((a=>!ys(a,r)));return{arrayValue:{values:n}}}class eh extends Mm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $E(t){return xt(t.integerValue||t.doubleValue)}function UA(t){return Wc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class FA{constructor(e,n){this.field=e,this.transform=n}}function mM(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof $l&&a instanceof $l||r instanceof Hl&&a instanceof Hl?jl(r.elements,a.elements,ys):r instanceof eh&&a instanceof eh?ys(r.Ae,a.Ae):r instanceof ql&&a instanceof ql})(t.transform,e.transform)}class pM{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vm{}function BA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zm(t.key,Nn.none()):new au(t.key,t.data,Nn.none());{const n=t.data,r=Ln.empty();let a=new ct(St.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new ia(t.key,r,new _r(a.toArray()),Nn.none())}}function gM(t,e,n){t instanceof au?(function(a,o,u){const h=a.value.clone(),d=GE(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ia?(function(a,o,u){if(!Sf(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=GE(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(qA(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Vc(t,e,n,r){return t instanceof au?(function(o,u,h,d){if(!Sf(o.precondition,u))return h;const p=o.value.clone(),v=KE(o.fieldTransforms,d,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof ia?(function(o,u,h,d){if(!Sf(o.precondition,u))return h;const p=KE(o.fieldTransforms,d,u),v=u.data;return v.setAll(qA(o)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(o,u,h){return Sf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function yM(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=VA(r.transform,a||null);o!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,o))}return n||null}function HE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&jl(r,a,((o,u)=>mM(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class au extends Vm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ia extends Vm{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function GE(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,fM(u,h,n[a]))}return r}function KE(t,e,n){const r=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);r.set(a.field,dM(o,u,e))}return r}class zm extends Vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $A extends Vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zv{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&gM(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jA();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(a.key)?null:h;const d=BA(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&jl(this.mutations,e.mutations,((n,r)=>HE(n,r)))&&jl(this.baseMutations,e.baseMutations,((n,r)=>HE(n,r)))}}class Yv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return oM})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new Yv(e,n,r,a)}}class Xv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Qt,Xe;function _M(t){switch(t){case ee.OK:return _e(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function HA(t){if(t===void 0)return Rn("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Qt.OK:return ee.OK;case Qt.CANCELLED:return ee.CANCELLED;case Qt.UNKNOWN:return ee.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return ee.INTERNAL;case Qt.UNAVAILABLE:return ee.UNAVAILABLE;case Qt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Qt.NOT_FOUND:return ee.NOT_FOUND;case Qt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Qt.ABORTED:return ee.ABORTED;case Qt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Qt.DATA_LOSS:return ee.DATA_LOSS;default:return _e(39323,{code:t})}}(Xe=Qt||(Qt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function bM(){return new TextEncoder}const xM=new Zi([4294967295,4294967295],0);function QE(t){const e=bM().encode(t),n=new qS;return n.update(e),new Uint8Array(n.digest())}function ZE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zi([n,r],0),new Zi([a,o],0)]}class Jv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ac(`Invalid padding: ${n}`);if(r<0)throw new Ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zi.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Zi.fromNumber(r)));return a.compare(xM)===1&&(a=new Zi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=QE(e),[r,a]=ZE(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Jv(o,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=QE(e),[r,a]=ZE(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lm{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,gh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lm(Te.min(),a,new wt(De),Jn(),Be())}}class gh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gh(r,n,Be(),Be(),Be())}}class Af{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class GA{constructor(e,n){this.targetId=e,this.Ce=n}}class KA{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class YE{constructor(){this.ve=0,this.Fe=XE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),r=Be();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:_e(38017,{changeType:o})}})),new gh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=XE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jn(),this.Je=af(),this.He=af(),this.Ye=new wt(De)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(Qf(o))if(r===0){const u=new pe(o.path);this.et(n,u,Dt.newNoDocument(u,Te.min()))}else xe(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let u,h;try{u=Qs(r).toUint8Array()}catch(d){if(d instanceof pA)return co("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Jv(u,a,o)}catch(d){return co(d instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&Qf(h.target)){const d=new pe(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,Dt.newNoDocument(d,e))}o.Be&&(n.set(u,o.ke()),o.qe())}}));let r=Be();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Lm(e,n,this.Ye,this.je,r);return this.je=Jn(),this.Je=af(),this.He=af(),this.Ye=new wt(De),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new YE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ct(De),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ct(De),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function af(){return new wt(pe.comparator)}function XE(){return new wt(pe.comparator)}const EM={asc:"ASCENDING",desc:"DESCENDING"},TM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SM={and:"AND",or:"OR"};class AM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nv(t,e){return t.useProto3Json||Rm(e)?e:{value:e}}function Gl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IM(t,e){return Gl(t,e.toTimestamp())}function Dn(t){return xe(!!t,49232),Te.fromTimestamp((function(n){const r=Ks(n);return new ot(r.seconds,r.nanos)})(t))}function Wv(t,e){return rv(t,e).canonicalString()}function rv(t,e){const n=(function(a){return new et(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ZA(t){const e=et.fromString(t);return xe(sI(e),10190,{key:e.toString()}),e}function Xf(t,e){return Wv(t.databaseId,e.path)}function Wa(t,e){const n=ZA(e);if(n.get(1)!==t.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(JA(n))}function YA(t,e){return Wv(t.databaseId,e)}function XA(t){const e=ZA(t);return e.length===4?et.emptyPath():JA(e)}function sv(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JA(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JE(t,e,n){return{name:Xf(t,e),fields:n.value.mapValue.fields}}function RM(t,e,n){const r=Wa(t,e.name),a=Dn(e.updateTime),o=e.createTime?Dn(e.createTime):Te.min(),u=new Ln({mapValue:{fields:e.fields}}),h=Dt.newFoundDocument(r,a,o,u);return n&&h.setHasCommittedMutations(),n?h.setHasCommittedMutations():h}function NM(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(p,v){return p.useProto3Json?(xe(v===void 0||typeof v=="string",58123),Yt.fromBase64String(v||"")):(xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Yt.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const v=p.code===void 0?ee.UNKNOWN:HA(p.code);return new de(v,p.message||"")})(u);n=new KA(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Wa(t,r.document.name),o=Dn(r.document.updateTime),u=r.document.createTime?Dn(r.document.createTime):Te.min(),h=new Ln({mapValue:{fields:r.document.fields}}),d=Dt.newFoundDocument(a,o,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];n=new Af(p,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Wa(t,r.document),o=r.readTime?Dn(r.readTime):Te.min(),u=Dt.newNoDocument(a,o),h=r.removedTargetIds||[];n=new Af([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Wa(t,r.document),o=r.removedTargetIds||[];n=new Af([],o,a,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new vM(a,o),h=r.targetId;n=new GA(h,u)}}return n}function Jf(t,e){let n;if(e instanceof au)n={update:JE(t,e.key,e.value)};else if(e instanceof zm)n={delete:Xf(t,e.key)};else if(e instanceof ia)n={update:JE(t,e.key,e.data),updateMask:jM(e.fieldMask)};else{if(!(e instanceof $A))return _e(16599,{Vt:e.type});n={verify:Xf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof ql)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof $l)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Hl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof eh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw _e(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:IM(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e(27497)})(t,e.precondition)),n}function iv(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Nn.updateTime(Dn(o.updateTime)):o.exists!==void 0?Nn.exists(o.exists):Nn.none()})(e.currentDocument):Nn.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(u,h){let d=null;if("setToServerValue"in h)xe(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new ql;else if("appendMissingElements"in h){const v=h.appendMissingElements.values||[];d=new $l(v)}else if("removeAllFromArray"in h){const v=h.removeAllFromArray.values||[];d=new Hl(v)}else"increment"in h?d=new eh(u,h.increment):_e(16584,{proto:h});const p=St.fromServerFormat(h.fieldPath);return new FA(p,d)})(t,a))):[];if(e.update){e.update.name;const a=Wa(t,e.update.name),o=new Ln({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(d){const p=d.fieldPaths||[];return new _r(p.map((v=>St.fromServerFormat(v))))})(e.updateMask);return new ia(a,o,u,n,r)}return new au(a,o,n,r)}if(e.delete){const a=Wa(t,e.delete);return new zm(a,n)}if(e.verify){const a=Wa(t,e.verify);return new $A(a,n)}return _e(1463,{proto:e})}function CM(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map((n=>(function(a,o){let u=a.updateTime?Dn(a.updateTime):Dn(o);return u.isEqual(Te.min())&&(u=Dn(o)),new pM(u,a.transformResults||[])})(n,e)))):[]}function WA(t,e){return{documents:[YA(t,e.path)]}}function eI(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YA(t,a);const o=(function(p){if(p.length!==0)return rI(lt.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(p){if(p.length!==0)return p.map((v=>(function(E){return{field:Tl(E.field),direction:kM(E.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=nv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function tI(t){let e=XA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){xe(r===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];n.where&&(o=(function(_){const E=nI(_);return E instanceof lt&&Gv(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((E=>(function(P){return new Kf(Sl(P.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,Rm(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(_){const E=!!_.before,A=_.values||[];return new ea(A,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,A=_.values||[];return new ea(A,E)})(n.endAt)),nM(e,a,u,o,h,"F",d,p)}function DM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sl(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Sl(n.unaryFilter.field);return Qe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Sl(n.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Sl(n.unaryFilter.field);return Qe.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qe.create(Sl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return lt.create(n.compositeFilter.filters.map((r=>nI(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(t):_e(30097,{filter:t})}function kM(t){return EM[t]}function OM(t){return TM[t]}function PM(t){return SM[t]}function Tl(t){return{fieldPath:t.canonicalString()}}function Sl(t){return St.fromServerFormat(t.fieldPath)}function rI(t){return t instanceof Qe?(function(n){if(n.op==="=="){if(ME(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NAN"}};if(jE(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ME(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NAN"}};if(jE(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tl(n.field),op:OM(n.op),value:n.value}}})(t):t instanceof lt?(function(n){const r=n.getFilters().map((a=>rI(a)));return r.length===1?r[0]:{compositeFilter:{op:PM(n.op),filters:r}}})(t):_e(54877,{filter:t})}function jM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function sI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Fs{constructor(e,n,r,a,o=Te.min(),u=Te.min(),h=Yt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iI{constructor(e){this.yt=e}}function MM(t,e){let n;if(e.document)n=RM(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),a=go(e.noDocument.readTime);n=Dt.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e(56709);{const r=pe.fromSegments(e.unknownDocument.path),a=go(e.unknownDocument.version);n=Dt.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime((function(a){const o=new ot(a[0],a[1]);return Te.fromTimestamp(o)})(e.readTime)),n}function WE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Wf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,u){return{name:Xf(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Gl(o,u.version.toTimestamp()),createTime:Gl(o,u.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:po(e.version)};else{if(!e.isUnknownDocument())return _e(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:po(e.version)}}return r}function Wf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function po(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function go(t){const e=new ot(t.seconds,t.nanoseconds);return Te.fromTimestamp(e)}function Ha(t,e){const n=(e.baseMutations||[]).map((o=>iv(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>iv(t.yt,o))),a=ot.fromMillis(e.localWriteTimeMs);return new Zv(e.batchId,a,n,r)}function Ic(t){const e=go(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?go(t.lastLimboFreeSnapshotVersion):Te.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const u=o.documents.length;return xe(u===1,1966,{count:u}),br(mh(XA(o.documents[0])))})(t.query):(function(o){return br(tI(o))})(t.query),new Fs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Yt.fromBase64String(t.resumeToken))}function aI(t,e){const n=po(e.snapshotVersion),r=po(e.lastLimboFreeSnapshotVersion);let a;a=Qf(e.target)?WA(t.yt,e.target):eI(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mo(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function oI(t){const e=tI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yf(e,e.limit,"L"):e}function vy(t,e){return new Xv(e.largestBatchId,iv(t.yt,e.overlayMutation))}function eT(t,e){const n=e.path.lastSegment();return[t,xn(e.path.popLast()),n]}function tT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:po(r.readTime),documentKey:xn(r.documentKey.path),largestBatchId:r.largestBatchId}}class VM{getBundleMetadata(e,n){return nT(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:go(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return nT(e).put((function(a){return{bundleId:a.id,createTime:po(Dn(a.createTime)),version:a.version}})(n))}getNamedQuery(e,n){return rT(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:oI(o.bundledQuery),readTime:go(o.readTime)}})(r)}))}saveNamedQuery(e,n){return rT(e).put((function(a){return{name:a.name,readTime:po(Dn(a.readTime)),bundledQuery:a.bundledQuery}})(n))}}function nT(t){return nn(t,Nm)}function rT(t){return nn(t,Cm)}class Um{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Um(e,r)}getOverlay(e,n){return _c(e).get(eT(this.userId,n)).next((r=>r?vy(this.serializer,r):null))}getOverlays(e,n){const r=ds();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){const a=[];return r.forEach(((o,u)=>{const h=new Xv(n,u);a.push(this.St(e,h))})),B.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach((u=>a.add(xn(u.getCollectionPath()))));const o=[];return a.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(_c(e).Z(Qy,h))})),B.waitFor(o)}getOverlaysForCollection(e,n,r){const a=ds(),o=xn(n),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return _c(e).J(Qy,u).next((h=>{for(const d of h){const p=vy(this.serializer,d);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(e,n,r,a){const o=ds();let u;const h=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return _c(e).ee({index:uA,range:h},((d,p,v)=>{const _=vy(this.serializer,p);o.size()<a||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):v.done()})).next((()=>o))}St(e,n){return _c(e).put((function(a,o,u){const[h,d,p]=eT(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Jf(a.yt,u.mutation)}})(this.serializer,this.userId,n))}}function _c(t){return nn(t,Dm)}class zM{bt(e){return nn(e,Bv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?Yt.fromUint8Array(r):Yt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Ga{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Kc(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ks(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Qs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?xA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Pm(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):_e(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const a of Object.keys(r))this.Ot(a,n),this.Ct(r[a],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const a=Ul,o=r[a].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(xt(o)),this.Ot(a,n),this.Ct(r[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const a of r)this.Ct(a,n)}Lt(e,n){this.Ft(n,37),pe.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Ga.Kt=new Ga;const vl=255;function LM(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function sT(t){const e=64-(function(r){let a=0;for(let o=0;o<8;++o){const u=LM(255&r[o]);if(a+=u,u!==8)break}return a})(t);return Math.ceil(e/8)}class UM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=n.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=n.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const n=this.en(e),r=sT(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}nn(e){const n=this.en(e),r=sT(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}rn(){this.sn(vl),this.sn(255)}_n(){this.an(vl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===vl?(this.sn(vl),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===vl?(this.an(vl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class FM{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class BM{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class bc{constructor(){this.cn=new UM,this.ln=new FM(this.cn),this.hn=new BM(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ka{constructor(e,n,r,a){this.Tn=e,this.In=n,this.En=r,this.dn=a}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Ka(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:If(this.En),directionalValue:If(this.dn),orderedDocumentKey:If(n),documentKey:r.path.toArray()}}Vn(e,n,r){const a=this.Rn(e,n,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Mi(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=iT(t.En,e.En),n!==0?n:(n=iT(t.dn,e.dn),n!==0?n:pe.comparator(t.In,e.In)))}function iT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function If(t){return jS()?(function(n){let r="";for(let a=0;a<n.length;a++)r+=String.fromCharCode(n[a]);return r})(t):t}function aT(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(t)}class oT{constructor(e){this.mn=new ct(((n,r)=>St.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(xe(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Hy(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ba(e);let a=new Set,o=0,u=0;for(;o<r.length&&this.wn(r[o]);++o)a=a.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=r[o];if(!this.Sn(h,d)||!this.bn(this.fn[u++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.fn.length||!this.bn(this.fn[u++],h))return!1}return!0}Dn(){if(this.pn)return null;let e=new ct(St.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new _f(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new _f(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new _f(r.field,r.dir==="asc"?0:1)));return new Bf(Bf.UNKNOWN_ID,this.collectionId,n,Gc.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function lI(t){if(xe(t instanceof Qe||t instanceof lt,20012),t instanceof Qe){if(t instanceof CA){const n=t.value.arrayValue?.values?.map((r=>Qe.create(t.field,"==",r)))||[];return lt.create(n,"or")}return t}const e=t.filters.map((n=>lI(n)));return lt.create(e,t.op)}function qM(t){if(t.getFilters().length===0)return[];const e=lv(lI(t));return xe(uI(e),7391),av(e)||ov(e)?[e]:e.getFilters()}function av(t){return t instanceof Qe}function ov(t){return t instanceof lt&&Gv(t)}function uI(t){return av(t)||ov(t)||(function(n){if(n instanceof lt&&Jy(n)){for(const r of n.getFilters())if(!av(r)&&!ov(r))return!1;return!0}return!1})(t)}function lv(t){if(xe(t instanceof Qe||t instanceof lt,34018),t instanceof Qe)return t;if(t.filters.length===1)return lv(t.filters[0]);const e=t.filters.map((r=>lv(r)));let n=lt.create(e,t.op);return n=em(n),uI(n)?n:(xe(n instanceof lt,64498),xe(Bl(n),40251),xe(n.filters.length>1,57927),n.filters.reduce(((r,a)=>e_(r,a))))}function e_(t,e){let n;return xe(t instanceof Qe||t instanceof lt,38388),xe(e instanceof Qe||e instanceof lt,25473),n=t instanceof Qe?e instanceof Qe?(function(a,o){return lt.create([a,o],"and")})(t,e):lT(t,e):e instanceof Qe?lT(e,t):(function(a,o){if(xe(a.filters.length>0&&o.filters.length>0,48005),Bl(a)&&Bl(o))return IA(a,o.getFilters());const u=Jy(a)?a:o,h=Jy(a)?o:a,d=u.filters.map((p=>e_(p,h)));return lt.create(d,"or")})(t,e),em(n)}function lT(t,e){if(Bl(e))return IA(e,t.getFilters());{const n=e.filters.map((r=>e_(t,r)));return lt.create(n,"or")}}function em(t){if(xe(t instanceof Qe||t instanceof lt,11850),t instanceof Qe)return t;const e=t.getFilters();if(e.length===1)return em(e[0]);if(SA(t))return t;const n=e.map((a=>em(a))),r=[];return n.forEach((a=>{a instanceof Qe?r.push(a):a instanceof lt&&(a.op===t.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:lt.create(r,t.op)}class $M{constructor(){this.Cn=new t_}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(tr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(tr.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class t_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new ct(et.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ct(et.comparator)).toArray()}}const uT="IndexedDbIndexManager",of=new Uint8Array(0);class HM{constructor(e,n){this.databaseId=n,this.vn=new t_,this.Fn=new Js((r=>mo(r)),((r,a)=>fh(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:xn(a)};return cT(e).put(o)}return B.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[XS(n),""],!1,!0);return cT(e).J(a).next((o=>{for(const u of o){if(u.collectionId!==n)break;r.push(hs(u.parent))}return r}))}addFieldIndex(e,n){const r=xc(e),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete a.indexId;const o=r.add(a);if(n.indexState){const u=bl(e);return o.next((h=>{u.put(tT(h,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=xc(e),a=bl(e),o=_l(e);return r.delete(n.indexId).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=xc(e),r=_l(e),a=bl(e);return n.Z().next((()=>r.Z())).next((()=>a.Z()))}createTargetIndexes(e,n){return B.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const o=new oT(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=_l(e);let a=!0;const o=new Map;return B.forEach(this.Mn(n),(u=>this.xn(e,u).next((h=>{a&&(a=!!h),o.set(u,h)})))).next((()=>{if(a){let u=Be();const h=[];return B.forEach(o,((d,p)=>{ce(uT,`Using index ${(function(J){return`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map((ae=>`${ae.fieldPath}:${ae.kind}`)).join(",")}`})(d)} to execute ${mo(n)}`);const v=(function(J,ae){const le=Hy(ae);if(le===void 0)return null;for(const me of Zf(J,le.fieldPath))switch(me.op){case"array-contains-any":return me.value.arrayValue.values||[];case"array-contains":return[me.value]}return null})(p,d),_=(function(J,ae){const le=new Map;for(const me of Ba(ae))for(const R of Zf(J,me.fieldPath))switch(R.op){case"==":case"in":le.set(me.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return le.set(me.fieldPath.canonicalString(),R.value),Array.from(le.values())}return null})(p,d),E=(function(J,ae){const le=[];let me=!0;for(const R of Ba(ae)){const S=R.kind===0?FE(J,R.fieldPath,J.startAt):BE(J,R.fieldPath,J.startAt);le.push(S.value),me&&(me=S.inclusive)}return new ea(le,me)})(p,d),A=(function(J,ae){const le=[];let me=!0;for(const R of Ba(ae)){const S=R.kind===0?BE(J,R.fieldPath,J.endAt):FE(J,R.fieldPath,J.endAt);le.push(S.value),me&&(me=S.inclusive)}return new ea(le,me)})(p,d),P=this.On(d,p,E),D=this.On(d,p,A),V=this.Nn(d,p,_),Y=this.Bn(d.indexId,v,P,E.inclusive,D,A.inclusive,V);return B.forEach(Y,(Q=>r.Y(Q,n.limit).next((J=>{J.forEach((ae=>{const le=pe.fromSegments(ae.documentKey);u.has(le)||(u=u.add(le),h.push(le))}))}))))})).next((()=>h))}return B.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=qM(lt.create(e.filters,"and")).map((r=>ev(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,a,o,u,h){const d=(n!=null?n.length:1)*Math.max(r.length,o.length),p=d/(n!=null?n.length:1),v=[];for(let _=0;_<d;++_){const E=n?this.Ln(n[_/p]):of,A=this.kn(e,E,r[_%p],a),P=this.qn(e,E,o[_%p],u),D=h.map((V=>this.kn(e,E,V,!0)));v.push(...this.createRange(A,P,D))}return v}kn(e,n,r,a){const o=new Ka(e,pe.empty(),n,r);return a?o:o.An()}qn(e,n,r,a){const o=new Ka(e,pe.empty(),n,r);return a?o.An():o}xn(e,n){const r=new oT(n),a=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let u=null;for(const h of o)r.yn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,n){let r=2;const a=this.Mn(n);return B.forEach(a,(o=>this.xn(e,o).next((u=>{u?r!==0&&u.fields.length<(function(d){let p=new ct(St.comparator),v=!1;for(const _ of d.filters)for(const E of _.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?v=!0:p=p.add(E.field));for(const _ of d.orderBy)_.field.isKeyField()||(p=p.add(_.field));return p.size+(v?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(u){return u.limit!==null})(n)&&a.length>1&&r===2?1:r))}Qn(e,n){const r=new bc;for(const a of Ba(e)){const o=n.data.field(a.fieldPath);if(o==null)return null;const u=r.Pn(a.kind);Ga.Kt.Dt(o,u)}return r.un()}Ln(e){const n=new bc;return Ga.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new bc;return Ga.Kt.Dt(fo(this.databaseId,n),r.Pn((function(o){const u=Ba(o);return u.length===0?0:u[u.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let a=[];a.push(new bc);let o=0;for(const u of Ba(e)){const h=r[o++];for(const d of a)if(this.Un(n,u.fieldPath)&&Wc(h))a=this.Kn(a,u,h);else{const p=d.Pn(u.kind);Ga.Kt.Dt(h,p)}}return this.Wn(a)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const a=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of a){const d=new bc;d.seed(h.un()),Ga.Kt.Dt(u,d.Pn(n.kind)),o.push(d)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof Qe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=xc(e),a=bl(e);return(n?r.J(Ky,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const u=[];return B.forEach(o,(h=>a.get([h.indexId,this.uid]).next((d=>{u.push((function(v,_){const E=_?new Gc(_.sequenceNumber,new tr(go(_.readTime),new pe(hs(_.documentKey)),_.largestBatchId)):Gc.empty(),A=v.fields.map((([P,D])=>new _f(St.fromServerFormat(P),D)));return new Bf(v.indexId,v.collectionGroup,A,E)})(h,d))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,a)=>{const o=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,a.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const a=xc(e),o=bl(e);return this.Gn(e).next((u=>a.J(Ky,IDBKeyRange.bound(n,n)).next((h=>B.forEach(h,(d=>o.put(tT(d.indexId,this.uid,u,r))))))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,((a,o)=>{const u=r.get(a.collectionGroup);return(u?B.resolve(u):this.getFieldIndexes(e,a.collectionGroup)).next((h=>(r.set(a.collectionGroup,h),B.forEach(h,(d=>this.zn(e,a,d).next((p=>{const v=this.jn(o,d);return p.isEqual(v)?B.resolve():this.Jn(e,o,d,p,v)})))))))}))}Hn(e,n,r,a){return _l(e).put(a.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,a){return _l(e).delete(a.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const a=_l(e);let o=new ct(Mi);return a.ee({index:lA,range:IDBKeyRange.only([r.indexId,this.uid,If(this.$n(r,n))])},((u,h)=>{o=o.add(new Ka(r.indexId,n,aT(h.arrayValue),aT(h.directionalValue)))})).next((()=>o))}jn(e,n){let r=new ct(Mi);const a=this.Qn(n,e);if(a==null)return r;const o=Hy(n);if(o!=null){const u=e.data.field(o.fieldPath);if(Wc(u))for(const h of u.arrayValue.values||[])r=r.add(new Ka(n.indexId,e.key,this.Ln(h),a))}else r=r.add(new Ka(n.indexId,e.key,of,a));return r}Jn(e,n,r,a,o){ce(uT,"Updating index entries for document '%s'",n.key);const u=[];return(function(d,p,v,_,E){const A=d.getIterator(),P=p.getIterator();let D=yl(A),V=yl(P);for(;D||V;){let Y=!1,Q=!1;if(D&&V){const J=v(D,V);J<0?Q=!0:J>0&&(Y=!0)}else D!=null?Q=!0:Y=!0;Y?(_(V),V=yl(P)):Q?(E(D),D=yl(A)):(D=yl(A),V=yl(P))}})(a,o,Mi,(h=>{u.push(this.Hn(e,n,r,h))}),(h=>{u.push(this.Yn(e,n,r,h))})),B.waitFor(u)}Gn(e){let n=1;return bl(e).ee({index:oA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,o)=>{o.done(),n=a.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((u,h)=>Mi(u,h))).filter(((u,h,d)=>!h||Mi(u,d[h-1])!==0));const a=[];a.push(e);for(const u of r){const h=Mi(u,e),d=Mi(u,n);if(h===0)a[0]=e.An();else if(h>0&&d<0)a.push(u),a.push(u.An());else if(d>0)break}a.push(n);const o=[];for(let u=0;u<a.length;u+=2){if(this.Zn(a[u],a[u+1]))return[];const h=a[u].Vn(this.uid,of,pe.empty()),d=a[u+1].Vn(this.uid,of,pe.empty());o.push(IDBKeyRange.bound(h,d))}return o}Zn(e,n){return Mi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(hT)}getMinOffset(e,n){return B.mapArray(this.Mn(n),(r=>this.xn(e,r).next((a=>a||_e(44426))))).next(hT)}}function cT(t){return nn(t,Yc)}function _l(t){return nn(t,Pc)}function xc(t){return nn(t,Fv)}function bl(t){return nn(t,Oc)}function hT(t){xe(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;zv(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new tr(e.readTime,e.documentKey,n)}const dT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cI=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function hI(t,e,n){const r=t.store(Vr),a=t.store(Ml),o=[],u=IDBKeyRange.only(n.batchId);let h=0;const d=r.ee({range:u},((v,_,E)=>(h++,E.delete())));o.push(d.next((()=>{xe(h===1,47070,{batchId:n.batchId})})));const p=[];for(const v of n.mutations){const _=sA(e,v.key.path,n.batchId);o.push(a.delete(_)),p.push(v.key)}return B.waitFor(o).next((()=>p))}function tm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _e(14731);e=t.noDocument}return JSON.stringify(e).length}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(cI,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Fm{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Xn={}}static wt(e,n,r,a){xe(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Fm(o,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vi(e).ee({index:Za,range:r},((a,o,u)=>{n=!1,u.done()})).next((()=>n))}addMutationBatch(e,n,r,a){const o=Al(e),u=Vi(e);return u.add({}).next((h=>{xe(typeof h=="number",49019);const d=new Zv(h,n,r,a),p=(function(A,P,D){const V=D.baseMutations.map((Q=>Jf(A.yt,Q))),Y=D.mutations.map((Q=>Jf(A.yt,Q)));return{userId:P,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:V,mutations:Y}})(this.serializer,this.userId,d),v=[];let _=new ct(((E,A)=>De(E.canonicalString(),A.canonicalString())));for(const E of a){const A=sA(this.userId,E.key.path,h);_=_.add(E.key.path.popLast()),v.push(u.put(p)),v.push(o.put(A,b4))}return _.forEach((E=>{v.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[h]=d.keys()})),B.waitFor(v).next((()=>d))}))}lookupMutationBatch(e,n){return Vi(e).get(n).next((r=>r?(xe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ha(this.serializer,r)):null))}er(e,n){return this.Xn[n]?B.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const a=r.keys();return this.Xn[n]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Vi(e).ee({index:Za,range:a},((u,h,d)=>{h.userId===this.userId&&(xe(h.batchId>=r,47524,{tr:r}),o=Ha(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Xa;return Vi(e).ee({index:Za,range:n,reverse:!0},((a,o,u)=>{r=o.batchId,u.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Xa],[this.userId,Number.POSITIVE_INFINITY]);return Vi(e).J(Za,n).next((r=>r.map((a=>Ha(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=bf(this.userId,n.path),a=IDBKeyRange.lowerBound(r),o=[];return Al(e).ee({range:a},((u,h,d)=>{const[p,v,_]=u,E=hs(v);if(p===this.userId&&n.path.isEqual(E))return Vi(e).get(_).next((A=>{if(!A)throw _e(61480,{nr:u,batchId:_});xe(A.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:A.userId,batchId:_}),o.push(Ha(this.serializer,A))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(De);const a=[];return n.forEach((o=>{const u=bf(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=Al(e).ee({range:h},((p,v,_)=>{const[E,A,P]=p,D=hs(A);E===this.userId&&o.path.isEqual(D)?r=r.add(P):_.done()}));a.push(d)})),B.waitFor(a).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,o=bf(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new ct(De);return Al(e).ee({range:u},((d,p,v)=>{const[_,E,A]=d,P=hs(E);_===this.userId&&r.isPrefixOf(P)?P.length===a&&(h=h.add(A)):v.done()})).next((()=>this.rr(e,h)))}rr(e,n){const r=[],a=[];return n.forEach((o=>{a.push(Vi(e).get(o).next((u=>{if(u===null)throw _e(35274,{batchId:o});xe(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(Ha(this.serializer,u))})))})),B.waitFor(a).next((()=>r))}removeMutationBatch(e,n){return hI(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),B.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return Al(e).ee({range:r},((o,u,h)=>{if(o[0]===this.userId){const d=hs(o[1]);a.push(d)}else h.done()})).next((()=>{xe(a.length===0,56720,{sr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return dI(e,this.userId,n)}_r(e){return fI(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Xa,lastStreamToken:""}))}}function dI(t,e,n){const r=bf(e,n.path),a=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Al(t).ee({range:o,X:!0},((h,d,p)=>{const[v,_,E]=h;v===e&&_===a&&(u=!0),p.done()})).next((()=>u))}function Vi(t){return nn(t,Vr)}function Al(t){return nn(t,Ml)}function fI(t){return nn(t,Qc)}class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}class GM{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new yo(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Te.fromTimestamp(new ot(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.hr(e,a))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>xl(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(xe(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let a=0;const o=[];return xl(e).ee(((u,h)=>{const d=Ic(h);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(a++,o.push(this.removeTargetData(e,d)))})).next((()=>B.waitFor(o))).next((()=>a))}forEachTarget(e,n){return xl(e).ee(((r,a)=>{const o=Ic(a);n(o)}))}lr(e){return fT(e).get(Hf).next((n=>(xe(n!==null,2888),n)))}hr(e,n){return fT(e).put(Hf,n)}Pr(e,n){return xl(e).put(aI(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=mo(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return xl(e).ee({range:a,index:aA},((u,h,d)=>{const p=Ic(h);fh(n,p.target)&&(o=p,d.done())})).next((()=>o))}addMatchingKeys(e,n,r){const a=[],o=Ui(e);return n.forEach((u=>{const h=xn(u.path);a.push(o.put({targetId:r,path:h})),a.push(this.referenceDelegate.addReference(e,r,u))})),B.waitFor(a)}removeMatchingKeys(e,n,r){const a=Ui(e);return B.forEach(n,(o=>{const u=xn(o.path);return B.waitFor([a.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=Ui(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=Ui(e);let o=Be();return a.ee({range:r,X:!0},((u,h,d)=>{const p=hs(u[1]),v=new pe(p);o=o.add(v)})).next((()=>o))}containsKey(e,n){const r=xn(n.path),a=IDBKeyRange.bound([r],[XS(r)],!1,!0);let o=0;return Ui(e).ee({index:Uv,X:!0,range:a},(([u,h],d,p)=>{u!==0&&(o++,p.done())})).next((()=>o>0))}At(e,n){return xl(e).get(n).next((r=>r?Ic(r):null))}}function xl(t){return nn(t,Vl)}function fT(t){return nn(t,Ja)}function Ui(t){return nn(t,zl)}const mT="LruGarbageCollector",KM=1048576;function pT([t,e],[n,r]){const a=De(t,n);return a===0?De(e,r):a}class QM{constructor(e){this.Ir=e,this.buffer=new ct(pT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(mT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sa(n)?ce(mT,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Vr(3e5)}))}}class ZM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return B.resolve(vr.ce);const r=new QM(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(dT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,u,h,d,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,n)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),wl()<=Ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-v}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_}))))}}function pI(t,e){return new ZM(t,e)}class YM{constructor(e,n){this.db=e,this.garbageCollector=pI(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,a)=>n(a)))}addReference(e,n,r){return lf(e,r)}removeReference(e,n,r){return lf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return lf(e,n)}br(e,n){return(function(a,o){let u=!1;return fI(a).te((h=>dI(a,h,o).next((d=>(d&&(u=!0),B.resolve(!d)))))).next((()=>u))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Sr(e,((u,h)=>{if(h<=n){const d=this.br(e,u).next((p=>{if(!p)return o++,r.getEntry(e,u).next((()=>(r.removeEntry(u,Te.min()),Ui(e).delete((function(_){return[0,xn(_.path)]})(u)))))}));a.push(d)}})).next((()=>B.waitFor(a))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return lf(e,n)}Sr(e,n){const r=Ui(e);let a,o=vr.ce;return r.ee({index:Uv},(([u,h],{path:d,sequenceNumber:p})=>{u===0?(o!==vr.ce&&n(new pe(hs(a)),o),o=p,a=d):o=vr.ce})).next((()=>{o!==vr.ce&&n(new pe(hs(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lf(t,e){return Ui(t).put((function(r,a){return{targetId:0,path:xn(r.path),sequenceNumber:a}})(e,t.currentSequenceNumber))}class gI{constructor(){this.changes=new Js((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ua(e).put(r)}removeEntry(e,n,r){return Ua(e).delete((function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Wf(u),h[h.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Dt.newInvalidDocument(n);return Ua(e).ee({index:xf,range:IDBKeyRange.only(wc(n))},((a,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Dt.newInvalidDocument(n)};return Ua(e).ee({index:xf,range:IDBKeyRange.only(wc(n))},((a,o)=>{r={document:this.Cr(n,o),size:tm(o)}})).next((()=>r))}getEntries(e,n){let r=Jn();return this.Fr(e,n,((a,o)=>{const u=this.Cr(a,o);r=r.insert(a,u)})).next((()=>r))}Mr(e,n){let r=Jn(),a=new wt(pe.comparator);return this.Fr(e,n,((o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h),a=a.insert(o,tm(u))})).next((()=>({documents:r,Or:a})))}Fr(e,n,r){if(n.isEmpty())return B.resolve();let a=new ct(vT);n.forEach((d=>a=a.add(d)));const o=IDBKeyRange.bound(wc(a.first()),wc(a.last())),u=a.getIterator();let h=u.getNext();return Ua(e).ee({index:xf,range:o},((d,p,v)=>{const _=pe.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&vT(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,p),h=u.hasNext()?u.getNext():null),h?v.j(wc(h)):v.done()})).next((()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,n,r,a,o){const u=n.path,h=[u.popLast().toArray(),u.lastSegment(),Wf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ua(e).J(IDBKeyRange.bound(h,d,!0)).next((p=>{o?.incrementDocumentReadCount(p.length);let v=Jn();for(const _ of p){const E=this.Cr(pe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);E.isFoundDocument()&&(ph(n,E)||a.has(E.key))&&(v=v.insert(E.key,E))}return v}))}getAllFromCollectionGroup(e,n,r,a){let o=Jn();const u=yT(n,r),h=yT(n,tr.max());return Ua(e).ee({index:iA,range:IDBKeyRange.bound(u,h,!0)},((d,p,v)=>{const _=this.Cr(pe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);o=o.insert(_.key,_),o.size===a&&v.done()})).next((()=>o))}newChangeBuffer(e){return new JM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return gT(e).get(Gy).next((n=>(xe(!!n,20021),n)))}Dr(e,n){return gT(e).put(Gy,n)}Cr(e,n){if(n){const r=MM(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Te.min())))return r}return Dt.newInvalidDocument(e)}}function yI(t){return new XM(t)}class JM extends gI{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Js((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const n=[];let r=0,a=new ct(((o,u)=>De(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const h=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=WE(this.Nr.serializer,u);a=a.add(o.path.popLast());const p=tm(d);r+=p-h.size,n.push(this.Nr.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=WE(this.Nr.serializer,u.convertToNoDocument(Te.min()));n.push(this.Nr.addEntry(e,o,d))}})),a.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:a})=>(a.forEach(((o,u)=>{this.Br.set(o,{size:u,readTime:r.get(o).readTime})})),r)))}}function gT(t){return nn(t,Zc)}function Ua(t){return nn(t,$f)}function wc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yT(t,e){const n=e.documentKey.path.toArray();return[t,Wf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vT(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(a=De(n[o],r[o]),a)return a;return a=De(n.length,r.length),a||(a=De(n[n.length-2],r[r.length-2]),a||De(n[n.length-1],r[r.length-1]))}class WM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class vI{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Vc(r.mutation,a,_r.empty(),ot.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Be()){const a=ds();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let u=Sc();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Be())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let o=Jn();const u=Mc(),h=(function(){return Mc()})();return n.forEach(((d,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof ia)?o=o.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Vc(v.mutation,p,v.mutation.getFieldMask(),ot.now())):u.set(p.key,_r.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,v)=>u.set(p,v))),n.forEach(((p,v)=>h.set(p,new WM(v,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Mc();let a=new wt(((u,h)=>u-h)),o=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let v=r.get(d)||_r.empty();v=h.applyToLocalView(p,v),r.set(d,v);const _=(a.get(h.batchId)||Be()).add(d);a=a.insert(h.batchId,_)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,v=d.value,_=jA();v.forEach((E=>{if(!o.has(E)){const A=BA(n.get(E),r.get(E));A!==null&&_.set(E,A),o=o.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return B.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):B.resolve(ds());let h=Hc,d=o;return u.next((p=>B.forEach(p,((v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(v)?B.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{d=d.insert(v,E)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,Be()))).next((v=>({batchId:h,changes:PA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let a=Sc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let u=Sc();return this.indexManager.getCollectionParents(e,o).next((h=>B.forEach(h,(d=>{const p=(function(_,E){return new iu(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((v=>{v.forEach(((_,E)=>{u=u.insert(_,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((u=>{o.forEach(((d,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Dt.newInvalidDocument(v)))}));let h=Sc();return u.forEach(((d,p)=>{const v=o.get(d);v!==void 0&&Vc(v.mutation,p,_r.empty(),ot.now()),ph(n,p)&&(h=h.insert(d,p))})),h}))}}class eV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Dn(a.createTime)}})(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:oI(a.bundledQuery),readTime:Dn(a.readTime)}})(n)),B.resolve()}}class tV{constructor(){this.overlays=new wt(pe.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),B.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const a=ds(),o=n.length+1,u=new pe(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new wt(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let v=o.get(p.largestBatchId);v===null&&(v=ds(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=ds(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,v)=>h.set(p,v))),!(h.size()>=a)););return B.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Xv(n,r));let o=this.qr.get(n);o===void 0&&(o=Be(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class nV{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}class n_{constructor(){this.Qr=new ct(on.$r),this.Ur=new ct(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new on(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new et([])),r=new on(n,e),a=new on(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new et([])),r=new on(n,e),a=new on(n,e+1);let o=Be();return this.Ur.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new on(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||De(e.Yr,n.Yr)}static Kr(e,n){return De(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class rV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ct(on.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Zv(o,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new on(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return B.resolve(u)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Xa:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),a=new on(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);o.push(h)})),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(De);return n.forEach((a=>{const o=new on(a,0),u=new on(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{r=r.add(h.Yr)}))})),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const u=new on(new pe(o),0);let h=new ct(De);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),u),B.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,(a=>{const o=new on(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new on(n,0),a=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class sV{constructor(e){this.ri=e,this.docs=(function(){return new wt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Jn();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Dt.newInvalidDocument(a))})),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Jn();const u=n.path,h=new pe(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||zv(eA(v),r)<=0||(a.has(v.key)||ph(n,v))&&(o=o.insert(v.key,v.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,a){_e(9500)}ii(e,n){return B.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new iV(this)}getSize(e){return B.resolve(this.size)}}class iV extends gI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class aV{constructor(e){this.persistence=e,this.si=new Js((n=>mo(n)),fh),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new n_,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),B.waitFor(o).next((()=>a))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}class r_{constructor(e,n){this.ui={},this.overlays={},this.ci=new vr(0),this.li=!1,this.li=!0,this.hi=new nV,this.referenceDelegate=e(this),this.Pi=new aV(this),this.indexManager=new $M,this.remoteDocumentCache=(function(a){return new sV(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new iI(n),this.Ii=new eV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new rV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const a=new oV(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return B.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class oV extends nA{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.Ri=new n_,this.Vi=null}static mi(e){return new Bm(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,(r=>{const a=pe.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nm{constructor(e,n){this.persistence=e,this.pi=new Js((r=>xn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=pI(this,n)}static mi(e,n){return new nm(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return B.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?B.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,o.removeEntry(u,Te.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ef(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return B.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class lV{constructor(e){this.serializer=e}k(e,n,r,a){const o=new Im("createOrUpgrade",n);r<1&&a>=1&&((function(d){d.createObjectStore(dh)})(e),(function(d){d.createObjectStore(Qc,{keyPath:_4}),d.createObjectStore(Vr,{keyPath:NE,autoIncrement:!0}).createIndex(Za,CE,{unique:!0}),d.createObjectStore(Ml)})(e),_T(e),(function(d){d.createObjectStore(qa)})(e));let u=B.resolve();return r<3&&a>=3&&(r!==0&&((function(d){d.deleteObjectStore(zl),d.deleteObjectStore(Vl),d.deleteObjectStore(Ja)})(e),_T(e)),u=u.next((()=>(function(d){const p=d.store(Ja),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Te.min().toTimestamp(),targetCount:0};return p.put(Hf,v)})(o)))),r<4&&a>=4&&(r!==0&&(u=u.next((()=>(function(d,p){return p.store(Vr).J().next((_=>{d.deleteObjectStore(Vr),d.createObjectStore(Vr,{keyPath:NE,autoIncrement:!0}).createIndex(Za,CE,{unique:!0});const E=p.store(Vr),A=_.map((P=>E.put(P)));return B.waitFor(A)}))})(e,o)))),u=u.next((()=>{(function(d){d.createObjectStore(Ll,{keyPath:R4})})(e)}))),r<5&&a>=5&&(u=u.next((()=>this.yi(o)))),r<6&&a>=6&&(u=u.next((()=>((function(d){d.createObjectStore(Zc)})(e),this.wi(o))))),r<7&&a>=7&&(u=u.next((()=>this.Si(o)))),r<8&&a>=8&&(u=u.next((()=>this.bi(e,o)))),r<9&&a>=9&&(u=u.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(u=u.next((()=>this.Di(o)))),r<11&&a>=11&&(u=u.next((()=>{(function(d){d.createObjectStore(Nm,{keyPath:N4})})(e),(function(d){d.createObjectStore(Cm,{keyPath:C4})})(e)}))),r<12&&a>=12&&(u=u.next((()=>{(function(d){const p=d.createObjectStore(Dm,{keyPath:V4});p.createIndex(Qy,z4,{unique:!1}),p.createIndex(uA,L4,{unique:!1})})(e)}))),r<13&&a>=13&&(u=u.next((()=>(function(d){const p=d.createObjectStore($f,{keyPath:x4});p.createIndex(xf,w4),p.createIndex(iA,E4)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(qa)))),r<14&&a>=14&&(u=u.next((()=>this.Fi(e,o)))),r<15&&a>=15&&(u=u.next((()=>(function(d){d.createObjectStore(Fv,{keyPath:D4,autoIncrement:!0}).createIndex(Ky,k4,{unique:!1}),d.createObjectStore(Oc,{keyPath:O4}).createIndex(oA,P4,{unique:!1}),d.createObjectStore(Pc,{keyPath:j4}).createIndex(lA,M4,{unique:!1})})(e)))),r<16&&a>=16&&(u=u.next((()=>{n.objectStore(Oc).clear()})).next((()=>{n.objectStore(Pc).clear()}))),r<17&&a>=17&&(u=u.next((()=>{(function(d){d.createObjectStore(Bv,{keyPath:U4})})(e)}))),r<18&&a>=18&&jS()&&(u=u.next((()=>{n.objectStore(Oc).clear()})).next((()=>{n.objectStore(Pc).clear()}))),u}wi(e){let n=0;return e.store(qa).ee(((r,a)=>{n+=tm(a)})).next((()=>{const r={byteSize:n};return e.store(Zc).put(Gy,r)}))}yi(e){const n=e.store(Qc),r=e.store(Vr);return n.J().next((a=>B.forEach(a,(o=>{const u=IDBKeyRange.bound([o.userId,Xa],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Za,u).next((h=>B.forEach(h,(d=>{xe(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const p=Ha(this.serializer,d);return hI(e,o.userId,p).next((()=>{}))}))))}))))}Si(e){const n=e.store(zl),r=e.store(qa);return e.store(Ja).get(Hf).next((a=>{const o=[];return r.ee(((u,h)=>{const d=new et(u),p=(function(_){return[0,xn(_)]})(d);o.push(n.get(p).next((v=>v?B.resolve():(_=>n.put({targetId:0,path:xn(_),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>B.waitFor(o)))}))}bi(e,n){e.createObjectStore(Yc,{keyPath:I4});const r=n.store(Yc),a=new t_,o=u=>{if(a.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:xn(d)})}};return n.store(qa).ee({X:!0},((u,h)=>{const d=new et(u);return o(d.popLast())})).next((()=>n.store(Ml).ee({X:!0},(([u,h,d],p)=>{const v=hs(h);return o(v.popLast())}))))}Di(e){const n=e.store(Vl);return n.ee(((r,a)=>{const o=Ic(a),u=aI(this.serializer,o);return n.put(u)}))}Ci(e,n){const r=n.store(qa),a=[];return r.ee(((o,u)=>{const h=n.store($f),d=(function(_){return _.document?new pe(et.fromString(_.document.name).popFirst(5)):_.noDocument?pe.fromSegments(_.noDocument.path):_.unknownDocument?pe.fromSegments(_.unknownDocument.path):_e(36783)})(u).path.toArray(),p={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(p))})).next((()=>B.waitFor(a)))}Fi(e,n){const r=n.store(Vr),a=yI(this.serializer),o=new r_(Bm.mi,this.serializer.yt);return r.J().next((u=>{const h=new Map;return u.forEach((d=>{let p=h.get(d.userId)??Be();Ha(this.serializer,d).keys().forEach((v=>p=p.add(v))),h.set(d.userId,p)})),B.forEach(h,((d,p)=>{const v=new mn(p),_=Um.wt(this.serializer,v),E=o.getIndexManager(v),A=Fm.wt(v,this.serializer,E,o.referenceDelegate);return new vI(a,A,_,E).recalculateAndSaveOverlaysForDocumentKeys(new Zy(n,vr.ce),d).next()}))}))}}function _T(t){t.createObjectStore(zl,{keyPath:S4}).createIndex(Uv,A4,{unique:!0}),t.createObjectStore(Vl,{keyPath:"targetId"}).createIndex(aA,T4,{unique:!0}),t.createObjectStore(Ja)}const zi="IndexedDbPersistence",_y=18e5,by=5e3,xy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uV="main";class s_{constructor(e,n,r,a,o,u,h,d,p,v,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=u,this.document=h,this.xi=p,this.Oi=v,this.Ni=_,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!s_.v())throw new de(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YM(this,a),this.$i=n+uV,this.serializer=new iI(d),this.Ui=new Yi(this.$i,this.Ni,new lV(this.serializer)),this.hi=new zM,this.Pi=new GM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yI(this.serializer),this.Ii=new VM,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,v===!1&&Rn(zi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ee.FAILED_PRECONDITION,xy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new vr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>uf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(sa(e))return ce(zi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ce(zi,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Ec(e).get(gl).next((n=>B.resolve(this.es(n))))}ts(e){return uf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,_y)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=nn(n,Ll);return r.J().next((a=>{const o=this.ss(a,_y),u=a.filter((h=>o.indexOf(h)===-1));return B.forEach(u,(h=>r.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?B.resolve(!0):Ec(e).get(gl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,by)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new de(ee.FAILED_PRECONDITION,xy);return!1}}return!(!this.networkEnabled||!this.inForeground)||uf(e).J().next((r=>this.ss(r,by).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(o||u&&h)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ce(zi,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[dh,Ll],(e=>{const n=new Zy(e,vr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>uf(e).J().next((n=>this.ss(n,_y).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Fm.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new HM(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Um.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce(zi,"Starting transaction:",e);const a=n==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?q4:d===17?fA:d===16?B4:d===15?qv:d===14?dA:d===13?hA:d===12?F4:d===11?cA:void _e(60245)})(this.Ni);let u;return this.Ui.runTransaction(e,a,o,(h=>(u=new Zy(h,this.ci?this.ci.next():vr.ce),n==="readwrite-primary"?this.Hi(u).next((d=>!!d||this.Yi(u))).next((d=>{if(!d)throw Rn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new de(ee.FAILED_PRECONDITION,tA);return r(u)})).next((d=>this.Xi(u).next((()=>d)))):this.Is(u).next((()=>r(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Is(e){return Ec(e).get(gl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,by)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new de(ee.FAILED_PRECONDITION,xy)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ec(e).put(gl,n)}static v(){return Yi.v()}Zi(e){const n=Ec(e);return n.get(gl).next((r=>this.es(r)?(ce(zi,"Releasing primary lease."),n.delete(gl)):B.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Rn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;PS()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return ce(zi,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Rn(zi,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Rn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ec(t){return nn(t,dh)}function uf(t){return nn(t,Ll)}function cV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class i_{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Be(),a=Be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new i_(e,n.fromCache,r,a)}}class hV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _I{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PS()?8:rA(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new hV;return this.Ss(e,n,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(wl()<=Ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",El(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(wl()<=Ke.DEBUG&&ce("QueryEngine","Query:",El(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(wl()<=Ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",El(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):B.resolve())}ys(e,n){if(qE(n))return B.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Yf(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=Be(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,u,d.readTime)?this.ys(e,Yf(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,r,a){return qE(n)||a.isEqual(Te.min())?B.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(n,o);return this.Cs(n,u,r,a)?B.resolve(null):(wl()<=Ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),El(n)),this.vs(e,u,n,d4(a,Hc)).next((h=>h)))}))}Ds(e,n){let r=new ct(kA(e));return n.forEach(((a,o)=>{ph(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return wl()<=Ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",El(n)),this.ps.getDocumentsMatchingQuery(e,n,tr.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const a_="LocalStore",dV=3e8;class fV{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new wt(De),this.xs=new Js((o=>mo(o)),fh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function bI(t,e,n,r){return new fV(t,e,n,r)}async function xI(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let d=Be();for(const p of a){u.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}for(const p of o){h.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function mV(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,v){const _=p.batch,E=_.keys();let A=B.resolve();return E.forEach((P=>{A=A.next((()=>v.getEntry(d,P))).next((D=>{const V=p.docVersions.get(P);xe(V!==null,48541),D.version.compareTo(V)<0&&(_.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),v.addEntry(D)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=Be();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function wI(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function pV(t,e){const n=ke(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((v,_)=>{const E=a.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(o,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(o,v.addedDocuments,_))));let A=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(Yt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),a=a.insert(_,A),(function(D,V,Y){return D.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=dV?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(E,A,v)&&h.push(n.Pi.updateTargetData(o,A))}));let d=Jn(),p=Be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(gV(o,u,e.documentUpdates).next((v=>{d=v.ks,p=v.qs}))),!r.isEqual(Te.min())){const v=n.Pi.getLastRemoteSnapshotVersion(o).next((_=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return B.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(n.Ms=a,o)))}function gV(t,e,n){let r=Be(),a=Be();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let u=Jn();return n.forEach(((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Te.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ce(a_,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function yV(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Xa),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function vV(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,B.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new Fs(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function uv(t,e,n){const r=ke(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!sa(u))throw u;ce(a_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function bT(t,e,n){const r=ke(t);let a=Te.min(),o=Be();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,v){const _=ke(d),E=_.xs.get(v);return E!==void 0?B.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,v)})(r,u,br(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:Te.min(),n?o:Be()))).next((h=>(_V(r,sM(e),h),{documents:h,Qs:o})))))}function _V(t,e,n){let r=t.Os.get(e)||Te.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class xT{constructor(){this.activeTargetIds=cM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EI{constructor(){this.Mo=new xT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bV{Oo(e){}shutdown(){}}const wT="ConnectivityMonitor";class ET{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(wT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(wT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let cf=null;function cv(){return cf===null?cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():cf++,"0x"+cf.toString(16)}const wy="RestConnection",xV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Gf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const u=cv(),h=this.zo(e,n.toUriEncodedString());ce(wy,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:p}=new URL(h),v=nu(p);return this.Jo(e,h,d,r,v).then((_=>(ce(wy,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw co(wy,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,n,r,a,o,u){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+su})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=xV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class EV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _n="WebChannelConnection";class TV extends wV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const u=cv();return new Promise(((h,d)=>{const p=new $S;p.setWithCredentials(!0),p.listenOnce(HS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case vf.NO_ERROR:const _=p.getResponseJson();ce(_n,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case vf.TIMEOUT:ce(_n,`RPC '${e}' ${u} timed out`),d(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const E=p.getStatus();if(ce(_n,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const P=A?.error;if(P&&P.status&&P.message){const D=(function(Y){const Q=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Q)>=0?Q:ee.UNKNOWN})(P.status);d(new de(D,P.message))}else d(new de(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new de(ee.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(_n,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);ce(_n,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",v,r,15)}))}T_(e,n,r){const a=cv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=QS(),h=KS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const v=o.join("");ce(_n,`Creating RPC '${e}' stream ${a}: ${v}`,d);const _=u.createWebChannel(v,d);this.I_(_);let E=!1,A=!1;const P=new EV({Yo:V=>{A?ce(_n,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(E||(ce(_n,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),ce(_n,`RPC '${e}' stream ${a} sending:`,V),_.send(V))},Zo:()=>_.close()}),D=(V,Y,Q)=>{V.listen(Y,(J=>{try{Q(J)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return D(_,Tc.EventType.OPEN,(()=>{A||(ce(_n,`RPC '${e}' stream ${a} transport opened.`),P.o_())})),D(_,Tc.EventType.CLOSE,(()=>{A||(A=!0,ce(_n,`RPC '${e}' stream ${a} transport closed`),P.a_(),this.E_(_))})),D(_,Tc.EventType.ERROR,(V=>{A||(A=!0,co(_n,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),P.a_(new de(ee.UNAVAILABLE,"The operation could not be completed")))})),D(_,Tc.EventType.MESSAGE,(V=>{if(!A){const Y=V.data[0];xe(!!Y,16349);const Q=Y,J=Q?.error||Q[0]?.error;if(J){ce(_n,`RPC '${e}' stream ${a} received error:`,J);const ae=J.status;let le=(function(S){const N=Qt[S];if(N!==void 0)return HA(N)})(ae),me=J.message;le===void 0&&(le=ee.INTERNAL,me="Unknown error status: "+ae+" with message "+J.message),A=!0,P.a_(new de(le,me)),_.close()}else ce(_n,`RPC '${e}' stream ${a} received:`,Y),P.u_(Y)}})),D(h,GS.STAT_EVENT,(V=>{V.stat===qy.PROXY?ce(_n,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===qy.NOPROXY&&ce(_n,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function SV(){return typeof window<"u"?window:null}function Rf(){return typeof document<"u"?document:null}function qm(t){return new AM(t,!0)}class TI{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const TT="PersistentStream";class SI{constructor(e,n,r,a,o,u,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Rn(n.toString()),Rn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new de(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(TT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(TT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AV extends SI{constructor(e,n,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=NM(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Te.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Te.min():u.readTime?Dn(u.readTime):Te.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sv(this.serializer),n.addTarget=(function(o,u){let h;const d=u.target;if(h=Qf(d)?{documents:WA(o,d)}:{query:eI(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=QA(o,u.resumeToken);const p=nv(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Te.min())>0){h.readTime=Gl(o,u.snapshotVersion.toTimestamp());const p=nv(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=DM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sv(this.serializer),n.removeTarget=e,this.q_(n)}}class IV extends SI{constructor(e,n,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CM(e.writeResults,e.commitTime),r=Dn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Jf(this.serializer,r)))};this.q_(n)}}class RV{}class NV extends RV{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,rv(n,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ee.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,rv(n,r),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ee.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rn(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vo="RemoteStore";class DV{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{So(this)&&(ce(vo,"Restarting streams for network reachability change."),await(async function(d){const p=ke(d);p.Ea.add(4),await yh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await $m(p)})(this))}))})),this.Ra=new CV(r,a)}}async function $m(t){if(So(t))for(const e of t.da)await e(!0)}async function yh(t){for(const e of t.da)await e(!1)}function AI(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),c_(n)?u_(n):ou(n).O_()&&l_(n,e))}function o_(t,e){const n=ke(t),r=ou(n);n.Ia.delete(e),r.O_()&&II(n,e),n.Ia.size===0&&(r.O_()?r.L_():So(n)&&n.Ra.set("Unknown"))}function l_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ou(t).Y_(e)}function II(t,e){t.Va.Ue(e),ou(t).Z_(e)}function u_(t){t.Va=new wM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ou(t).start(),t.Ra.ua()}function c_(t){return So(t)&&!ou(t).x_()&&t.Ia.size>0}function So(t){return ke(t).Ea.size===0}function RI(t){t.Va=void 0}async function kV(t){t.Ra.set("Online")}async function OV(t){t.Ia.forEach(((e,n)=>{l_(t,e)}))}async function PV(t,e){RI(t),c_(t)?(t.Ra.ha(e),u_(t)):t.Ra.set("Unknown")}async function jV(t,e,n){if(t.Ra.set("Online"),e instanceof KA&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){ce(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rm(t,r)}else if(e instanceof Af?t.Va.Ze(e):e instanceof GA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Te.min()))try{const r=await wI(t.localStore);n.compareTo(r)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=o.Ia.get(p);v&&o.Ia.set(p,v.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const v=o.Ia.get(d);if(!v)return;o.Ia.set(d,v.withResumeToken(Yt.EMPTY_BYTE_STRING,v.snapshotVersion)),II(o,d);const _=new Fs(v.target,d,p,v.sequenceNumber);l_(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ce(vo,"Failed to raise snapshot:",r),await rm(t,r)}}async function rm(t,e,n){if(!sa(e))throw e;t.Ea.add(1),await yh(t),t.Ra.set("Offline"),n||(n=()=>wI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(vo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $m(t)}))}function NI(t,e){return e().catch((n=>rm(t,n,e)))}async function vh(t){const e=ke(t),n=ta(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xa;for(;MV(e);)try{const a=await yV(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,VV(e,a)}catch(a){await rm(e,a)}CI(e)&&DI(e)}function MV(t){return So(t)&&t.Ta.length<10}function VV(t,e){t.Ta.push(e);const n=ta(t);n.O_()&&n.X_&&n.ea(e.mutations)}function CI(t){return So(t)&&!ta(t).x_()&&t.Ta.length>0}function DI(t){ta(t).start()}async function zV(t){ta(t).ra()}async function LV(t){const e=ta(t);for(const n of t.Ta)e.ea(n.mutations)}async function UV(t,e,n){const r=t.Ta.shift(),a=Yv.from(r,e,n);await NI(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await vh(t)}async function FV(t,e){e&&ta(t).X_&&await(async function(r,a){if((function(u){return _M(u)&&u!==ee.ABORTED})(a.code)){const o=r.Ta.shift();ta(r).B_(),await NI(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await vh(r)}})(t,e),CI(t)&&DI(t)}async function ST(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ce(vo,"RemoteStore received new credentials");const r=So(n);n.Ea.add(3),await yh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $m(n)}async function BV(t,e){const n=ke(t);e?(n.Ea.delete(2),await $m(n)):e||(n.Ea.add(2),await yh(n),n.Ra.set("Unknown"))}function ou(t){return t.ma||(t.ma=(function(n,r,a){const o=ke(n);return o.sa(),new AV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:kV.bind(null,t),t_:OV.bind(null,t),r_:PV.bind(null,t),H_:jV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),c_(t)?u_(t):t.Ra.set("Unknown")):(await t.ma.stop(),RI(t))}))),t.ma}function ta(t){return t.fa||(t.fa=(function(n,r,a){const o=ke(n);return o.sa(),new IV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:zV.bind(null,t),r_:FV.bind(null,t),ta:LV.bind(null,t),na:UV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await vh(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(vo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class h_{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const u=Date.now()+r,h=new h_(e,n,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(t,e){if(Rn("AsyncQueue",`${e}: ${t}`),sa(t))return new de(ee.UNAVAILABLE,`${e}: ${t}`);throw t}class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Sc(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class AT{constructor(){this.ga=new wt(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Kl{constructor(e,n,r,a,o,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Kl(e,n,Nl.emptySet(n),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class qV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class $V{constructor(){this.queries=IT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=ke(n),o=a.queries;a.queries=IT(),o.forEach(((u,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function IT(){return new Js((t=>DA(t)),jm)}async function f_(t,e){const n=ke(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new qV,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=d_(u,`Initialization of query '${El(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&p_(n)}async function m_(t,e){const n=ke(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HV(t,e){const n=ke(t);let r=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&p_(n)}function GV(t,e,n){const r=ke(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function p_(t){t.Ca.forEach((e=>{e.next()}))}var hv,RT;(RT=hv||(hv={})).Ma="default",RT.Cache="cache";class g_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hv.Cache}}class kI{constructor(e){this.key=e}}class OI{constructor(e){this.key=e}}class KV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=kA(e),this.tu=new Nl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new AT,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const E=a.get(v),A=ph(this.query,_)?_:null,P=!!E&&this.mutatedKeys.has(E.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let V=!1;E&&A?E.data.isEqual(A.data)?P!==D&&(r.track({type:3,doc:A}),V=!0):this.su(E,A)||(r.track({type:2,doc:A}),V=!0,(d&&this.eu(A,d)>0||p&&this.eu(A,p)<0)&&(h=!0)):!E&&A?(r.track({type:0,doc:A}),V=!0):E&&!A&&(r.track({type:1,doc:E}),V=!0,(d||p)&&(h=!0)),V&&(A?(u=u.add(A),o=D?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(A,P){const D=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:V})}};return D(A)-D(P)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,u.length!==0||p?{snapshot:new Kl(this.query,e.tu,o,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new OI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new kI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const y_="SyncEngine";class QV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZV{constructor(e){this.key=e,this.hu=!1}}class YV{constructor(e,n,r,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Js((h=>DA(h)),jm),this.Iu=new Map,this.Eu=new Set,this.du=new wt(pe.comparator),this.Au=new Map,this.Ru=new n_,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XV(t,e,n=!0){const r=LI(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await PI(r,e,n,!0),a}async function JV(t,e){const n=LI(t);await PI(n,e,!0,!1)}async function PI(t,e,n,r){const a=await vV(t.localStore,br(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await WV(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&AI(t.remoteStore,a),h}async function WV(t,e,n,r,a){t.pu=(_,E,A)=>(async function(D,V,Y,Q){let J=V.view.ru(Y);J.Cs&&(J=await bT(D.localStore,V.query,!1).then((({documents:R})=>V.view.ru(R,J))));const ae=Q&&Q.targetChanges.get(V.targetId),le=Q&&Q.targetMismatches.get(V.targetId)!=null,me=V.view.applyChanges(J,D.isPrimaryClient,ae,le);return CT(D,V.targetId,me.au),me.snapshot})(t,_,E,A);const o=await bT(t.localStore,e,!0),u=new KV(e,o.Qs),h=u.ru(o.documents),d=gh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);CT(t,n,p.au);const v=new QV(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function e6(t,e,n){const r=ke(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!jm(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await uv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&o_(r.remoteStore,a.targetId),dv(r,a.targetId)})).catch(Eo)):(dv(r,a.targetId),await uv(r.localStore,a.targetId,!0))}async function t6(t,e){const n=ke(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),o_(n.remoteStore,r.targetId))}async function n6(t,e,n){const r=UI(t);try{const a=await(function(u,h){const d=ke(u),p=ot.now(),v=h.reduce(((A,P)=>A.add(P.key)),Be());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let P=Jn(),D=Be();return d.Ns.getEntries(A,v).next((V=>{P=V,P.forEach(((Y,Q)=>{Q.isValidDocument()||(D=D.add(Y))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,P))).next((V=>{_=V;const Y=[];for(const Q of h){const J=yM(Q,_.get(Q.key).overlayedDocument);J!=null&&Y.push(new ia(Q.key,J,EA(J.value.mapValue),Nn.exists(!0)))}return d.mutationQueue.addMutationBatch(A,p,Y,h)})).next((V=>{E=V;const Y=V.applyToLocalDocumentSet(_,D);return d.documentOverlayCache.saveOverlays(A,V.batchId,Y)}))})).then((()=>({batchId:E.batchId,changes:PA(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.Vu[u.currentUser.toKey()];p||(p=new wt(De)),p=p.insert(h,d),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,n),await _h(r,a.changes),await vh(r.remoteStore)}catch(a){const o=d_(a,"Failed to persist write");n.reject(o)}}async function jI(t,e){const n=ke(t);try{const r=await pV(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=n.Au.get(o);u&&(xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?xe(u.hu,14607):a.removedDocuments.size>0&&(xe(u.hu,42227),u.hu=!1))})),await _h(n,r,e)}catch(r){await Eo(r)}}function NT(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=ke(u);d.onlineState=h;let p=!1;d.queries.forEach(((v,_)=>{for(const E of _.Sa)E.va(h)&&(p=!0)})),p&&p_(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function r6(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new wt(pe.comparator);u=u.insert(o,Dt.newNoDocument(o,Te.min()));const h=Be().add(o),d=new Lm(Te.min(),new Map,new wt(De),u,h);await jI(r,d),r.du=r.du.remove(o),r.Au.delete(e),v_(r)}else await uv(r.localStore,e,!1).then((()=>dv(r,e,n))).catch(Eo)}async function s6(t,e){const n=ke(t),r=e.batch.batchId;try{const a=await mV(n.localStore,e);VI(n,r,null),MI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _h(n,a)}catch(a){await Eo(a)}}async function i6(t,e,n){const r=ke(t);try{const a=await(function(u,h){const d=ke(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return d.mutationQueue.lookupMutationBatch(p,h).next((_=>(xe(_!==null,37113),v=_.keys(),d.mutationQueue.removeMutationBatch(p,_)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>d.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);VI(r,e,n),MI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _h(r,a)}catch(a){await Eo(a)}}function MI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function VI(t,e,n){const r=ke(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function dv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||zI(t,r)}))}function zI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(o_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),v_(t))}function CT(t,e,n){for(const r of n)r instanceof kI?(t.Ru.addReference(r.key,e),a6(t,r)):r instanceof OI?(ce(y_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||zI(t,r.key)):_e(19791,{wu:r})}function a6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ce(y_,"New document in limbo: "+n),t.Eu.add(r),v_(t))}function v_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(et.fromString(e)),r=t.fu.next();t.Au.set(r,new ZV(n)),t.du=t.du.insert(n,r),AI(t.remoteStore,new Fs(br(mh(n.path)),r,"TargetPurposeLimboResolution",vr.ce))}}async function _h(t,e,n){const r=ke(t),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){a.push(p);const v=i_.As(d.targetId,p);o.push(v)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(d,p){const v=ke(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>B.forEach(p,(E=>B.forEach(E.Es,(A=>v.persistence.referenceDelegate.addReference(_,E.targetId,A))).next((()=>B.forEach(E.ds,(A=>v.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))))))}catch(_){if(!sa(_))throw _;ce(a_,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const A=v.Ms.get(E),P=A.snapshotVersion,D=A.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(E,D)}}})(r.localStore,o))}async function o6(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ce(y_,"User change. New user:",e.toKey());const r=await xI(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new de(ee.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _h(n,r.Ls)}}function l6(t,e){const n=ke(t),r=n.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let a=Be();const o=n.Iu.get(e);if(!o)return a;for(const u of o){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function LI(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r6.bind(null,e),e.Pu.H_=HV.bind(null,e.eventManager),e.Pu.yu=GV.bind(null,e.eventManager),e}function UI(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i6.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bI(this.persistence,new _I,e.initialUser,this.serializer)}Cu(e){return new r_(Bm.mi,this.serializer)}Du(e){return new EI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class u6 extends th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof nm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new r_((r=>nm.mi(r,n)),this.serializer)}}class c6 extends th{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await UI(this.xu.syncEngine),await vh(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return bI(this.persistence,new _I,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new mI(r,e.asyncQueue,n)}Mu(e,n){const r=new g4(n,this.persistence);return new p4(e.asyncQueue,r)}Cu(e){const n=cV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new s_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,SV(),Rf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new EI}}class sm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o6.bind(null,this.syncEngine),await BV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $V})()}createDatastore(e){const n=qm(e.databaseInfo.databaseId),r=(function(o){return new TV(o)})(e.databaseInfo);return(function(o,u,h,d){return new NV(o,u,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,u,h){return new DV(r,a,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>NT(this.syncEngine,n,0)),(function(){return ET.v()?new ET:new bV})())}createSyncEngine(e,n){return(function(a,o,u,h,d,p,v){const _=new YV(a,o,u,h,d,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ke(n);ce(vo,"RemoteStore shutting down."),r.Ea.add(5),await yh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sm.provider={build:()=>new sm};class __{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const na="FirestoreClient";class h6{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=Vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{ce(na,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ce(na,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ey(t,e){t.asyncQueue.verifyOperationInProgress(),ce(na,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await xI(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function DT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await d6(t);ce(na,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>ST(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>ST(e.remoteStore,a))),t._onlineComponents=e}async function d6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(na,"Using user provided OfflineComponentProvider");try{await Ey(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ee.FAILED_PRECONDITION||a.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Ey(t,new th)}}else ce(na,"Using default OfflineComponentProvider"),await Ey(t,new u6(void 0));return t._offlineComponents}async function FI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(na,"Using user provided OnlineComponentProvider"),await DT(t,t._uninitializedComponentsProvider._online)):(ce(na,"Using default OnlineComponentProvider"),await DT(t,new sm))),t._onlineComponents}function f6(t){return FI(t).then((e=>e.syncEngine))}async function im(t){const e=await FI(t),n=e.eventManager;return n.onListen=XV.bind(null,e.syncEngine),n.onUnlisten=e6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t6.bind(null,e.syncEngine),n}function m6(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,p){const v=new __({next:E=>{v.Nu(),u.enqueueAndForget((()=>m_(o,_)));const A=E.docs.has(h);!A&&E.fromCache?p.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&d&&d.source==="server"?p.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new g_(mh(h.path),v,{includeMetadataChanges:!0,qa:!0});return f_(o,_)})(await im(t),t.asyncQueue,e,n,r))),r.promise}function p6(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,p){const v=new __({next:E=>{v.Nu(),u.enqueueAndForget((()=>m_(o,_))),E.fromCache&&d.source==="server"?p.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new g_(h,v,{includeMetadataChanges:!0,qa:!0});return f_(o,_)})(await im(t),t.asyncQueue,e,n,r))),r.promise}function BI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const kT=new Map;const qI="firestore.googleapis.com",OT=!0;class PT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qI,this.ssl=OT}else this.host=e.host,this.ssl=e.ssl??OT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KM)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new e4;switch(r.type){case"firstParty":return new s4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=kT.get(n);r&&(ce("ComponentProvider","Removing Datastore"),kT.delete(n),r.terminate())})(this),Promise.resolve()}}function g6(t,e,n,r={}){t=er(t,Hm);const a=nu(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(DS(`https://${h}`),kS("Firestore",!0)),o.host!==qI&&o.host!==h&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:r};if(!oo(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=mn.MOCK_USER;else{p=CP(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(_)}t._authCredentials=new t4(new YS(p,v))}}class Ws{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hh(n,zt._jsonSchema))return new zt(e,r||null,new pe(et.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Zt("string",zt._jsonSchemaVersion),referencePath:Zt("string")};class Xi extends Ws{constructor(e,n,r){super(e,n,mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new pe(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function b_(t,e,...n){if(t=wn(t),JS("collection","path",e),t instanceof Hm){const r=et.fromString(e,...n);return TE(r),new Xi(t,null,r)}{if(!(t instanceof zt||t instanceof Xi))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return TE(r),new Xi(t.firestore,null,r)}}function lu(t,e,...n){if(t=wn(t),arguments.length===1&&(e=Vv.newId()),JS("doc","path",e),t instanceof Hm){const r=et.fromString(e,...n);return EE(r),new zt(t,null,new pe(r))}{if(!(t instanceof zt||t instanceof Xi))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return EE(r),new zt(t.firestore,t instanceof Xi?t.converter:null,new pe(r))}}const jT="AsyncQueue";class MT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TI(this,"async_queue_retry"),this._c=()=>{const r=Rf();r&&ce(jT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Rf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sa(e))throw e;ce(jT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Rn("INTERNAL UNHANDLED ERROR: ",VT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=h_.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&_e(47125,{Pc:VT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function zT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Zs extends Hm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new MT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MT(e),this._firestoreClient=void 0,await e}}}function y6(t,e){const n=typeof t=="object"?t:US(),r=typeof t=="string"?t:Gf,a=jv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=RP("firestore");o&&g6(a,...o)}return a}function Gm(t){if(t._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$I(t),t._firestoreClient}function $I(t){const e=t._freezeSettings(),n=(function(a,o,u,h){return new H4(a,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,BI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new h6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}function v6(t,e){co("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return _6(t,sm.provider,{build:r=>new c6(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function _6(t,e,n){if((t=er(t,Zs))._firestoreClient||t._terminated)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new de(ee.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},$I(t)}class yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yr(Yt.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yr(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hh(e,yr._jsonSchema))return yr.fromBase64String(e.bytes)}}yr._jsonSchemaVersion="firestore/bytes/1.0",yr._jsonSchema={type:Zt("string",yr._jsonSchemaVersion),bytes:Zt("string")};class x_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class w_{constructor(e){this._methodName=e}}class ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ms._jsonSchemaVersion}}static fromJSON(e){if(hh(e,ms._jsonSchema))return new ms(e.latitude,e.longitude)}}ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:Zt("string",ms._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};class ps{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hh(e,ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ps(e.vectorValues);throw new de(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:Zt("string",ps._jsonSchemaVersion),vectorValues:Zt("object")};const b6=/^__.*__$/;class x6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}function HI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class E_{constructor(e,n,r,a,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new E_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return am(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HI(this.Ac)&&b6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class w6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qm(e)}Cc(e,n,r,a=!1){return new E_({Ac:e,methodName:n,Dc:r,path:St.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Km(t){const e=t._freezeSettings(),n=qm(t._databaseId);return new w6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GI(t,e,n,r,a,o={}){const u=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);YI("Data must be an object, but it was:",u,r);const h=QI(r,u);let d,p;if(o.merge)d=new _r(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const _ of o.mergeFields){const E=E6(e,_,n);if(!u.contains(E))throw new de(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);S6(v,E)||v.push(E)}d=new _r(v),p=u.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,p=u.fieldTransforms;return new x6(new Ln(h),d,p)}class T_ extends w_{_toFieldTransform(e){return new FA(e.path,new ql)}isEqual(e){return e instanceof T_}}function KI(t,e,n,r=!1){return S_(n,t.Cc(r?4:3,e))}function S_(t,e){if(ZI(t=wn(t)))return YI("Unsupported field value:",e,t),QI(t,e);if(t instanceof w_)return(function(r,a){if(!HI(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const h of r){let d=S_(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ot.fromDate(r);return{timestampValue:Gl(a.serializer,o)}}if(r instanceof ot){const o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gl(a.serializer,o)}}if(r instanceof ms)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yr)return{bytesValue:QA(a.serializer,r._byteString)};if(r instanceof zt){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ps)return(function(u,h){return{mapValue:{fields:{[$v]:{stringValue:Hv},[Ul]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Qv(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Am(r)}`)})(t,e)}function QI(t,e){const n={};return mA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,((r,a)=>{const o=S_(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function ZI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof ms||t instanceof yr||t instanceof zt||t instanceof w_||t instanceof ps)}function YI(t,e,n){if(!ZI(n)||!WS(n)){const r=Am(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function E6(t,e,n){if((e=wn(e))instanceof x_)return e._internalPath;if(typeof e=="string")return XI(t,e);throw am("Field path arguments must be of type string or ",t,!1,void 0,n)}const T6=new RegExp("[~\\*/\\[\\]]");function XI(t,e,n){if(e.search(T6)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new x_(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function am(t,e,n,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new de(ee.INVALID_ARGUMENT,h+t+d)}function S6(t,e){return t.some((n=>n.isEqual(e)))}class A_{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(JI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class A6 extends A_{data(){return super.data()}}function JI(t,e){return typeof e=="string"?XI(t,e):e instanceof x_?e._internalPath:e._delegate._internalPath}function WI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I_{}class R_ extends I_{}function I6(t,e,...n){let r=[];e instanceof I_&&r.push(e),r=r.concat(n),(function(o){const u=o.filter((d=>d instanceof C_)).length,h=o.filter((d=>d instanceof N_)).length;if(u>1||u>0&&h>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class N_ extends R_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new N_(e,n,r)}_apply(e){const n=this._parse(e);return eR(e._query,n),new Ws(e.firestore,e.converter,tv(e._query,n))}_parse(e){const n=Km(e.firestore);return(function(o,u,h,d,p,v,_){let E;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){UT(_,v);const P=[];for(const D of _)P.push(LT(d,o,D));E={arrayValue:{values:P}}}else E=LT(d,o,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||UT(_,v),E=KI(h,u,_,v==="in"||v==="not-in");return Qe.create(p,v,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class C_ extends I_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:lt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let u=a;const h=o.getFlattenedFilters();for(const d of h)eR(u,d),u=tv(u,d)})(e._query,n),new Ws(e.firestore,e.converter,tv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D_ extends R_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new D_(e,n,r)}_apply(e){return new Ws(e.firestore,e.converter,Yf(e._query,this._limit,this._limitType))}}function R6(t){return h4("limit",t),D_._create("limit",t,"F")}class k_ extends R_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new k_(e,n,r)}_apply(e){const n=C6(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(function(a,o){return new iu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)})(e._query,n))}}function N6(...t){return k_._create("startAfter",t,!1)}function C6(t,e,n,r){if(n[0]=wn(n[0]),n[0]instanceof A_)return(function(o,u,h,d,p){if(!d)throw new de(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const _ of Rl(o))if(_.field.isKeyField())v.push(fo(u,d.key));else{const E=d.data.field(_.field);if(km(E))throw new de(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const A=_.field.canonicalString();throw new de(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}v.push(E)}return new ea(v,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=Km(t.firestore);return(function(u,h,d,p,v,_){const E=u.explicitOrderBy;if(v.length>E.length)throw new de(ee.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let P=0;P<v.length;P++){const D=v[P];if(E[P].field.isKeyField()){if(typeof D!="string")throw new de(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof D}`);if(!Kv(u)&&D.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${D}' contains a slash.`);const V=u.path.child(et.fromString(D));if(!pe.isDocumentKey(V))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const Y=new pe(V);A.push(fo(h,Y))}else{const V=KI(d,p,D);A.push(V)}}return new ea(A,_)})(t._query,t.firestore._databaseId,a,e,n,r)}}function LT(t,e,n){if(typeof(n=wn(n))=="string"){if(n==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kv(e)&&n.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(et.fromString(n));if(!pe.isDocumentKey(r))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fo(t,new pe(r))}if(n instanceof zt)return fo(t,n._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Am(n)}.`)}function UT(t,e){if(!Array.isArray(t)||t.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eR(t,e){const n=(function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class D6{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Ul].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new ps(n)}convertGeoPoint(e){return new ms(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Om(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);xe(sI(r),9688,{name:e});const a=new ho(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return a.isEqual(n)||Rn(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function tR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends A_{constructor(e,n,r,a,o,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(JI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:Zt("string",eo._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Nf extends eo{data(e={}){return super.data(e)}}class to{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Rc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Nf(this._firestore,this._userDataWriter,r.key,r,new Rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Nf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Rc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Nf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Rc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:k6(h.type),doc:d,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function k6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}function O6(t){t=er(t,zt);const e=er(t.firestore,Zs);return m6(Gm(e),t._key).then((n=>sR(e,t,n)))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Zt("string",to._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class O_ extends D6{constructor(e){super(),this.firestore=e}convertBytes(e){return new yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function P6(t){t=er(t,Ws);const e=er(t.firestore,Zs),n=Gm(e),r=new O_(e);return WI(t._query),p6(n,t._query).then((a=>new to(e,r,t,a)))}function nR(t,e,n){t=er(t,zt);const r=er(t.firestore,Zs),a=tR(t.converter,e,n);return P_(r,[GI(Km(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Nn.none())])}function j6(t){return P_(er(t.firestore,Zs),[new zm(t._key,Nn.none())])}function M6(t,e){const n=er(t.firestore,Zs),r=lu(t),a=tR(t.converter,e);return P_(n,[GI(Km(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Nn.exists(!1))]).then((()=>r))}function rR(t,...e){t=wn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||zT(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(zT(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,u,h;if(t instanceof zt)u=er(t.firestore,Zs),h=mh(t._key.path),o={next:d=>{e[r]&&e[r](sR(u,t,d))},error:e[r+1],complete:e[r+2]};else{const d=er(t,Ws);u=er(d.firestore,Zs),h=d._query;const p=new O_(u);o={next:v=>{e[r]&&e[r](new to(u,p,d,v))},error:e[r+1],complete:e[r+2]},WI(t._query)}return(function(p,v,_,E){const A=new __(E),P=new g_(v,A,_);return p.asyncQueue.enqueueAndForget((async()=>f_(await im(p),P))),()=>{A.Nu(),p.asyncQueue.enqueueAndForget((async()=>m_(await im(p),P)))}})(Gm(u),h,a,o)}function P_(t,e){return(function(r,a){const o=new fs;return r.asyncQueue.enqueueAndForget((async()=>n6(await f6(r),a,o))),o.promise})(Gm(t),e)}function sR(t,e,n){const r=n.docs.get(e._key),a=new O_(t);return new eo(t,a,e._key,r,new Rc(n.hasPendingWrites,n.fromCache),e.converter)}function iR(){return new T_("serverTimestamp")}(function(e,n=!0){(function(a){su=a})(ru),Pl(new lo("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Zs(new n4(r.getProvider("auth-internal")),new i4(u,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(p.options.projectId,v)})(u,a),u);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Qi(_E,bE,e),Qi(_E,bE,"esm2020")})();var V6="firebase",z6="12.7.0";Qi(V6,z6,"app");function aR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L6=aR,oR=new uh("auth","Firebase",aR());const om=new Ov("@firebase/auth");function U6(t,...e){om.logLevel<=Ke.WARN&&om.warn(`Auth (${ru}): ${t}`,...e)}function Cf(t,...e){om.logLevel<=Ke.ERROR&&om.error(`Auth (${ru}): ${t}`,...e)}function vs(t,...e){throw M_(t,...e)}function Ur(t,...e){return M_(t,...e)}function j_(t,e,n){const r={...L6(),[e]:n};return new uh("auth","Firebase",r).create(e,{appName:t.name})}function no(t){return j_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function F6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&vs(t,"argument-error"),j_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function M_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oR.create(t,...e)}function Ce(t,e,...n){if(!t)throw M_(e,...n)}function Bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cf(e),new Error(e)}function Ys(t,e){t||Bs(e)}function fv(){return typeof self<"u"&&self.location?.href||""}function B6(){return FT()==="http:"||FT()==="https:"}function FT(){return typeof self<"u"&&self.location?.protocol||null}function q6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B6()||jP()||"connection"in navigator)?navigator.onLine:!0}function $6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ys(n>e,"Short delay should be less than long delay!"),this.isMobile=OP()||MP()}get(){return q6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V_(t,e){Ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const H6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const G6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K6=new bh(3e4,6e4);function z_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function uu(t,e,n,r,a={}){return uR(t,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=ch({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...o};return PP()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&nu(t.emulatorConfig.host)&&(p.credentials="include"),lR.fetch()(await cR(t,t.config.apiHost,n,h),p)})}async function uR(t,e,n){t._canInitEmulator=!1;const r={...H6,...e};try{const a=new Z6(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw hf(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw hf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw hf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw hf(t,"user-disabled",u);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw j_(t,v,p);vs(t,v)}}catch(a){if(a instanceof Xs)throw a;vs(t,"network-request-failed",{message:String(a)})}}async function Q6(t,e,n,r,a={}){const o=await uu(t,e,n,r,a);return"mfaPendingCredential"in o&&vs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function cR(t,e,n,r){const a=`${e}${n}?${r}`,o=t,u=o.config.emulator?V_(t.config,a):`${t.config.apiScheme}://${a}`;return G6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}class Z6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),K6.get())})}}function hf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ur(t,e,r);return a.customData._tokenResponse=n,a}async function Y6(t,e){return uu(t,"POST","/v1/accounts:delete",e)}async function lm(t,e){return uu(t,"POST","/v1/accounts:lookup",e)}function zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X6(t,e=!1){const n=wn(t),r=await n.getIdToken(e),a=L_(r);Ce(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:zc(Ty(a.auth_time)),issuedAtTime:zc(Ty(a.iat)),expirationTime:zc(Ty(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ty(t){return Number(t)*1e3}function L_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const a=AS(n);return a?JSON.parse(a):(Cf("Failed to decode base64 JWT payload"),null)}catch(a){return Cf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function BT(t){const e=L_(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xs&&J6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function J6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class W6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function um(t){const e=t.auth,n=await t.getIdToken(),r=await nh(t,lm(e,{idToken:n}));Ce(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?hR(a.providerUserInfo):[],u=t3(t.providerData,o),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=h?d:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new mv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function e3(t){const e=wn(t);await um(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t3(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function hR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function n3(t,e){const n=await uR(t,{},async()=>{const r=ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,u=await cR(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&nu(t.emulatorConfig.host)&&(d.credentials="include"),lR.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function r3(t,e){return uu(t,"POST","/v2/accounts:revokeToken",z_(t,e))}class Cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=BT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await n3(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,u=new Cl;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ce(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ce(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cl,this.toJSON())}_performRefresh(){return Bs("not implemented")}}function Li(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Lr{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new W6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new mv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await nh(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return X6(this,e)}reload(){return e3(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await um(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(no(this.auth));const e=await this.getIdToken();return await nh(this,Y6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:A,providerData:P,stsTokenManager:D}=n;Ce(_&&D,e,"internal-error");const V=Cl.fromJSON(this.name,D);Ce(typeof _=="string",e,"internal-error"),Li(r,e.name),Li(a,e.name),Ce(typeof E=="boolean",e,"internal-error"),Ce(typeof A=="boolean",e,"internal-error"),Li(o,e.name),Li(u,e.name),Li(h,e.name),Li(d,e.name),Li(p,e.name),Li(v,e.name);const Y=new Lr({uid:_,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:V,createdAt:p,lastLoginAt:v});return P&&Array.isArray(P)&&(Y.providerData=P.map(Q=>({...Q}))),d&&(Y._redirectEventId=d),Y}static async _fromIdTokenResponse(e,n,r=!1){const a=new Cl;a.updateFromServerResponse(n);const o=new Lr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await um(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ce(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?hR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,h=new Cl;h.updateFromIdToken(r);const d=new Lr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new mv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,p),d}}const qT=new Map;function qs(t){Ys(t instanceof Function,"Expected a class definition");let e=qT.get(t);return e?(Ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qT.set(t,e),e)}class dR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dR.type="NONE";const $T=dR;function Df(t,e,n){return`firebase:${t}:${e}:${n}`}class Dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Df(this.userKey,a.apiKey,o),this.fullPersistenceKey=Df("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lm(this.auth,{idToken:e}).catch(()=>{});return n?Lr._fromGetAccountInfoResponse(this.auth,n,e):null}return Lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Dl(qs($T),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||qs($T);const u=Df(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const v=await p._get(u);if(v){let _;if(typeof v=="string"){const E=await lm(e,{idToken:v}).catch(()=>{});if(!E)break;_=await Lr._fromGetAccountInfoResponse(e,E,v)}else _=Lr._fromJSON(e,v);p!==o&&(h=_),o=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Dl(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new Dl(o,e,r))}}function HT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vR(e))return"Blackberry";if(_R(e))return"Webos";if(mR(e))return"Safari";if((e.includes("chrome/")||pR(e))&&!e.includes("edge/"))return"Chrome";if(yR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fR(t=tn()){return/firefox\//i.test(t)}function mR(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pR(t=tn()){return/crios\//i.test(t)}function gR(t=tn()){return/iemobile/i.test(t)}function yR(t=tn()){return/android/i.test(t)}function vR(t=tn()){return/blackberry/i.test(t)}function _R(t=tn()){return/webos/i.test(t)}function U_(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function s3(t=tn()){return U_(t)&&!!window.navigator?.standalone}function i3(){return VP()&&document.documentMode===10}function bR(t=tn()){return U_(t)||yR(t)||_R(t)||vR(t)||/windows phone/i.test(t)||gR(t)}function xR(t,e=[]){let n;switch(t){case"Browser":n=HT(tn());break;case"Worker":n=`${HT(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ru}/${r}`}class a3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function o3(t,e={}){return uu(t,"GET","/v2/passwordPolicy",z_(t,e))}const l3=6;class u3{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??l3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class c3{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GT(this),this.idTokenSubscription=new GT(this),this.beforeStateQueue=new a3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lm(this,{idToken:e}),r=await Lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await um(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(no(this));const n=e?wn(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(no(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(no(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o3(this),n=new u3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await r3(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qs(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Dl.create(this,[qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&U6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qm(t){return wn(t)}class GT{constructor(e){this.auth=e,this.observer=null,this.addObserver=qP(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let F_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h3(t){F_=t}function d3(t){return F_.loadJS(t)}function f3(){return F_.gapiScript}function m3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function p3(t,e){const n=jv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(oo(o,e??{}))return a;vs(a,"already-initialized")}return n.initialize({options:e})}function g3(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(qs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function y3(t,e,n){const r=Qm(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=wR(e),{host:u,port:h}=v3(e),d=h===null?"":`:${h}`,p={url:`${o}//${u}${d}/`},v=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(oo(p,r.config.emulator)&&oo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,nu(u)?(DS(`${o}//${u}${d}`),kS("Auth",!0)):_3()}function wR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v3(t){const e=wR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:KT(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:KT(u)}}}function KT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class ER{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bs("not implemented")}_getIdTokenResponse(e){return Bs("not implemented")}_linkToIdToken(e,n){return Bs("not implemented")}_getReauthenticationResolver(e){return Bs("not implemented")}}async function kl(t,e){return Q6(t,"POST","/v1/accounts:signInWithIdp",z_(t,e))}const b3="http://localhost";class _o extends ER{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const u=new _o(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return kl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,kl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kl(e,n)}buildRequest(){const e={requestUri:b3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ch(n)}return e}}class B_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xh extends B_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fi extends xh{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";class Us extends xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";class Bi extends xh{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";class qi extends xh{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qi.credential(n,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";class Ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Lr._fromIdTokenResponse(e,r,a),u=QT(r);return new Ql({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=QT(r);return new Ql({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function QT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class cm extends Xs{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,cm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new cm(e,n,r,a)}}function TR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?cm._fromErrorAndOperation(t,o,e,r):o})}async function x3(t,e,n=!1){const r=await nh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ql._forOperation(t,"link",r)}async function w3(t,e,n=!1){const{auth:r}=t;if(zr(r.app))return Promise.reject(no(r));const a="reauthenticate";try{const o=await nh(t,TR(r,a,e,t),n);Ce(o.idToken,r,"internal-error");const u=L_(o.idToken);Ce(u,r,"internal-error");const{sub:h}=u;return Ce(t.uid===h,r,"user-mismatch"),Ql._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&vs(r,"user-mismatch"),o}}async function E3(t,e,n=!1){if(zr(t.app))return Promise.reject(no(t));const r="signIn",a=await TR(t,r,e),o=await Ql._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}function T3(t,e,n,r){return wn(t).onIdTokenChanged(e,n,r)}function S3(t,e,n){return wn(t).beforeAuthStateChanged(e,n)}function SR(t,e,n,r){return wn(t).onAuthStateChanged(e,n,r)}function A3(t){return wn(t).signOut()}const hm="__sak";class AR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hm,"1"),this.storage.removeItem(hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const I3=1e3,R3=10;class IR extends AR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);i3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,R3):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},I3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IR.type="LOCAL";const N3=IR;class RR extends AR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RR.type="SESSION";const NR=RR;function C3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Zm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Zm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,o)),d=await C3(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zm.receivers=[];function q_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class D3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const p=q_("",20);a.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(v),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function gs(){return window}function k3(t){gs().location.href=t}function CR(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function O3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P3(){return navigator?.serviceWorker?.controller||null}function j3(){return CR()?self:null}const DR="firebaseLocalStorageDb",M3=1,dm="firebaseLocalStorage",kR="fbase_key";class wh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ym(t,e){return t.transaction([dm],e?"readwrite":"readonly").objectStore(dm)}function V3(){const t=indexedDB.deleteDatabase(DR);return new wh(t).toPromise()}function pv(){const t=indexedDB.open(DR,M3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dm,{keyPath:kR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dm)?e(r):(r.close(),await V3(),e(await pv()))})})}async function ZT(t,e,n){const r=Ym(t,!0).put({[kR]:e,value:n});return new wh(r).toPromise()}async function z3(t,e){const n=Ym(t,!1).get(e),r=await new wh(n).toPromise();return r===void 0?null:r.value}function YT(t,e){const n=Ym(t,!0).delete(e);return new wh(n).toPromise()}const L3=800,U3=3;class OR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zm._getInstance(j3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await O3(),!this.activeServiceWorker)return;this.sender=new D3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pv();return await ZT(e,hm,"1"),await YT(e,hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ZT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Ym(a,!1).getAll();return new wh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OR.type="LOCAL";const F3=OR;new bh(3e4,6e4);function PR(t,e){return e?qs(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class $_ extends ER{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B3(t){return E3(t.auth,new $_(t),t.bypassAuthState)}function q3(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),w3(n,new $_(t),t.bypassAuthState)}async function $3(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),x3(n,new $_(t),t.bypassAuthState)}class jR{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B3;case"linkViaPopup":case"linkViaRedirect":return $3;case"reauthViaPopup":case"reauthViaRedirect":return q3;default:vs(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const H3=new bh(2e3,1e4);async function G3(t,e,n){if(zr(t.app))return Promise.reject(Ur(t,"operation-not-supported-in-this-environment"));const r=Qm(t);F6(t,e,B_);const a=PR(r,n);return new Ya(r,"signInViaPopup",e,a).executeNotNull()}class Ya extends jR{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H3.get())};e()}}Ya.currentPopupAction=null;const K3="pendingRedirect",kf=new Map;class Q3 extends jR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kf.get(this.auth._key());if(!e){try{const r=await Z3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kf.set(this.auth._key(),e)}return this.bypassAuthState||kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z3(t,e){const n=J3(e),r=X3(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function Y3(t,e){kf.set(t._key(),e)}function X3(t){return qs(t._redirectPersistence)}function J3(t){return Df(K3,t.config.apiKey,t.name)}async function W3(t,e,n=!1){if(zr(t.app))return Promise.reject(no(t));const r=Qm(t),a=PR(r,e),u=await new Q3(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const ez=600*1e3;class tz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!MR(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ur(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ez&&this.cachedEventUids.clear(),this.cachedEventUids.has(XT(e))}saveEventToCache(e){this.cachedEventUids.add(XT(e)),this.lastProcessedEventTime=Date.now()}}function XT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MR(t);default:return!1}}async function rz(t,e={}){return uu(t,"GET","/v1/projects",e)}const sz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iz=/^https?/;async function az(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rz(t);for(const n of e)try{if(oz(n))return}catch{}vs(t,"unauthorized-domain")}function oz(t){const e=fv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!iz.test(n))return!1;if(sz.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const lz=new bh(3e4,6e4);function JT(){const t=gs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uz(t){return new Promise((e,n)=>{function r(){JT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JT(),n(Ur(t,"network-request-failed"))},timeout:lz.get()})}if(gs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gs().gapi?.load)r();else{const a=m3("iframefcb");return gs()[a]=()=>{gapi.load?r():n(Ur(t,"network-request-failed"))},d3(`${f3()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw Of=null,e})}let Of=null;function cz(t){return Of=Of||uz(t),Of}const hz=new bh(5e3,15e3),dz="__/auth/iframe",fz="emulator/auth/iframe",mz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gz(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?V_(e,fz):`https://${t.config.authDomain}/${dz}`,r={apiKey:e.apiKey,appName:t.name,v:ru},a=pz.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ch(r).slice(1)}`}async function yz(t){const e=await cz(t),n=gs().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:gz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mz,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ur(t,"network-request-failed"),h=gs().setTimeout(()=>{o(u)},hz.get());function d(){gs().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(u)})}))}const vz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_z=500,bz=600,xz="_blank",wz="http://localhost";class WT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ez(t,e,n,r=_z,a=bz){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...vz,width:r.toString(),height:a.toString(),top:o,left:u},p=tn().toLowerCase();n&&(h=pR(p)?xz:n),fR(p)&&(e=e||wz,d.scrollbars="yes");const v=Object.entries(d).reduce((E,[A,P])=>`${E}${A}=${P},`,"");if(s3(p)&&h!=="_self")return Tz(e||"",h),new WT(null);const _=window.open(e||"",h,v);Ce(_,t,"popup-blocked");try{_.focus()}catch{}return new WT(_)}function Tz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Sz="__/auth/handler",Az="emulator/auth/handler",Iz=encodeURIComponent("fac");async function e1(t,e,n,r,a,o){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ru,eventId:a};if(e instanceof B_){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",BP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof xh){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const d=await t._getAppCheckToken(),p=d?`#${Iz}=${encodeURIComponent(d)}`:"";return`${Rz(t)}?${ch(h).slice(1)}${p}`}function Rz({config:t}){return t.emulator?V_(t,Az):`https://${t.authDomain}/${Sz}`}const Sy="webStorageSupport";class Nz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NR,this._completeRedirectFn=W3,this._overrideRedirectResult=Y3}async _openPopup(e,n,r,a){Ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await e1(e,n,r,fv(),a);return Ez(e,o,q_())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await e1(e,n,r,fv(),a);return k3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Ys(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yz(e),r=new tz(e);return n.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sy,{type:Sy},a=>{const o=a?.[0]?.[Sy];o!==void 0&&n(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=az(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bR()||mR()||U_()}}const Cz=Nz;var t1="@firebase/auth",n1="1.12.0";class Dz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Oz(t){Pl(new lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xR(t)},p=new c3(r,a,o,d);return g3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pl(new lo("auth-internal",e=>{const n=Qm(e.getProvider("auth").getImmediate());return(r=>new Dz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(t1,n1,kz(t)),Qi(t1,n1,"esm2020")}const Pz=300,jz=CS("authIdTokenMaxAge")||Pz;let r1=null;const Mz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jz)return;const a=n?.token;r1!==a&&(r1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Vz(t=US()){const e=jv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=p3(t,{popupRedirectResolver:Cz,persistence:[F3,N3,NR]}),r=CS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=Mz(o.toString());S3(n,u,()=>u(n.currentUser)),T3(n,h=>u(h))}}const a=RS("auth");return a&&y3(n,`http://${a}`),n}function zz(){return document.getElementsByTagName("head")?.[0]??document}h3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Ur("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",zz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Oz("Browser");const Lz={apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",storageBucket:void 0,messagingSenderId:"490973136832",appId:"1:490973136832:web:1811051408fdde8fbcea25",measurementId:"G-D3YR1YJXPN"},VR=mE().length?mE()[0]:LS(Lz),ei=y6(VR),Pf=Vz(VR);typeof window<"u"&&v6(ei).catch(t=>{console.debug("IndexedDB persistence not enabled:",t?.code??t?.message??t)});function zR(t,e,n){const r=b_(t,e);return n?r.withConverter(n):r}async function Uz(t,e,n){const r=lu(ei,t,e),a=n?r.withConverter(n):r,o=await O6(a);return o.exists()?o.data():null}async function LR(t,e,n){const r=zR(ei,t,n);return(await M6(r,e)).id}async function Fz(t,e,n,r){const a=lu(ei,t,e),o=r?a.withConverter(r):a;await nR(o,n)}async function Bz(t,e,n,r){const a=lu(ei,t,e),o=r?a.withConverter(r):a;await nR(o,n,{merge:!0})}async function qz(t,e){const n=lu(ei,t,e);await j6(n)}async function $z(t,e){const{pageSize:n=20,cursor:r=null,additionalConstraints:a=[],converter:o}=e??{},u=zR(ei,t,o),h=[R6(n),...a];r&&h.push(N6(r));const d=I6(u,...h),p=await P6(d),v=p.docs.map(E=>E.data()),_=p.docs[p.docs.length-1]??null;return{docs:v,nextCursor:_?_.id:null}}function re(t,e,n){function r(h,d){if(h._zod||Object.defineProperty(h,"_zod",{value:{def:d,constr:u,traits:new Set},enumerable:!1}),h._zod.traits.has(t))return;h._zod.traits.add(t),e(h,d);const p=u.prototype,v=Object.keys(p);for(let _=0;_<v.length;_++){const E=v[_];E in h||(h[E]=p[E].bind(h))}}const a=n?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function u(h){var d;const p=n?.Parent?new o:this;r(p,h),(d=p._zod).deferred??(d.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(u,"init",{value:r}),Object.defineProperty(u,Symbol.hasInstance,{value:h=>n?.Parent&&h instanceof n.Parent?!0:h?._zod?.traits?.has(t)}),Object.defineProperty(u,"name",{value:t}),u}class Ol extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class UR extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const FR={};function bo(t){return FR}function BR(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,a])=>e.indexOf(+r)===-1).map(([r,a])=>a)}function gv(t,e){return typeof e=="bigint"?e.toString():e}function H_(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function G_(t){return t==null}function K_(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Hz(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const o=n>a?n:a,u=Number.parseInt(t.toFixed(o).replace(".","")),h=Number.parseInt(e.toFixed(o).replace(".",""));return u%h/10**o}const s1=Symbol("evaluating");function ut(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==s1)return r===void 0&&(r=s1,r=n()),r},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function Ao(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function aa(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function i1(t){return JSON.stringify(t)}function Gz(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const qR="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function fm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Kz=H_(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function rh(t){if(fm(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(fm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function $R(t){return rh(t)?{...t}:Array.isArray(t)?[...t]:t}const Qz=new Set(["string","number","symbol"]);function Zl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function oa(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Ee(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Zz(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Yz={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Xz(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=aa(t._zod.def,{get shape(){const u={};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&(u[h]=n.shape[h])}return Ao(this,"shape",u),u},checks:[]});return oa(t,o)}function Jz(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=aa(t._zod.def,{get shape(){const u={...t._zod.def.shape};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&delete u[h]}return Ao(this,"shape",u),u},checks:[]});return oa(t,o)}function Wz(t,e){if(!rh(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const u in e)if(Object.getOwnPropertyDescriptor(o,u)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=aa(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return Ao(this,"shape",o),o}});return oa(t,a)}function eL(t,e){if(!rh(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=aa(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return Ao(this,"shape",r),r}});return oa(t,n)}function tL(t,e){const n=aa(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Ao(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return oa(t,n)}function nL(t,e,n){const a=e._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const u=aa(e._zod.def,{get shape(){const h=e._zod.def.shape,d={...h};if(n)for(const p in n){if(!(p in h))throw new Error(`Unrecognized key: "${p}"`);n[p]&&(d[p]=t?new t({type:"optional",innerType:h[p]}):h[p])}else for(const p in h)d[p]=t?new t({type:"optional",innerType:h[p]}):h[p];return Ao(this,"shape",d),d},checks:[]});return oa(e,u)}function rL(t,e,n){const r=aa(e._zod.def,{get shape(){const a=e._zod.def.shape,o={...a};if(n)for(const u in n){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(o[u]=new t({type:"nonoptional",innerType:a[u]}))}else for(const u in a)o[u]=new t({type:"nonoptional",innerType:a[u]});return Ao(this,"shape",o),o}});return oa(e,r)}function Il(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function HR(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function df(t){return typeof t=="string"?t:t?.message}function xo(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const a=df(t.inst?._zod.def?.error?.(t))??df(e?.error?.(t))??df(n.customError?.(t))??df(n.localeError?.(t))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Q_(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function sh(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const GR=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,gv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},KR=re("$ZodError",GR),QR=re("$ZodError",GR,{Parent:Error});function sL(t,e=n=>n.message){const n={},r=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}function iL(t,e=n=>n.message){const n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(u=>r({issues:u}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(e(o));else{let u=n,h=0;for(;h<o.path.length;){const d=o.path[h];h===o.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(e(o))):u[d]=u[d]||{_errors:[]},u=u[d],h++}}};return r(t),n}const Z_=t=>(e,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},o);if(u instanceof Promise)throw new Ol;if(u.issues.length){const h=new(a?.Err??t)(u.issues.map(d=>xo(d,o,bo())));throw qR(h,a?.callee),h}return u.value},Y_=t=>async(e,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},o);if(u instanceof Promise&&(u=await u),u.issues.length){const h=new(a?.Err??t)(u.issues.map(d=>xo(d,o,bo())));throw qR(h,a?.callee),h}return u.value},Xm=t=>(e,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Ol;return o.issues.length?{success:!1,error:new(t??KR)(o.issues.map(u=>xo(u,a,bo())))}:{success:!0,data:o.value}},aL=Xm(QR),Jm=t=>async(e,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(u=>xo(u,a,bo())))}:{success:!0,data:o.value}},oL=Jm(QR),lL=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Z_(t)(e,n,a)},uL=t=>(e,n,r)=>Z_(t)(e,n,r),cL=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Y_(t)(e,n,a)},hL=t=>async(e,n,r)=>Y_(t)(e,n,r),dL=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Xm(t)(e,n,a)},fL=t=>(e,n,r)=>Xm(t)(e,n,r),mL=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Jm(t)(e,n,a)},pL=t=>async(e,n,r)=>Jm(t)(e,n,r),gL=/^[cC][^\s-]{8,}$/,yL=/^[0-9a-z]+$/,vL=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,_L=/^[0-9a-vA-V]{20}$/,bL=/^[A-Za-z0-9]{27}$/,xL=/^[a-zA-Z0-9_-]{21}$/,wL=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,EL=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,a1=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,TL=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,SL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function AL(){return new RegExp(SL,"u")}const IL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,RL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,NL=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,CL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,DL=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,ZR=/^[A-Za-z0-9_-]*$/,kL=/^\+[1-9]\d{6,14}$/,YR="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",OL=new RegExp(`^${YR}$`);function XR(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function PL(t){return new RegExp(`^${XR(t)}$`)}function jL(t){const e=XR({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${YR}T(?:${r})$`)}const ML=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},VL=/^-?\d+$/,zL=/^-?\d+(?:\.\d+)?$/,LL=/^[^A-Z]*$/,UL=/^[^a-z]*$/,Un=re("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),JR={number:"number",bigint:"bigint",object:"date"},WR=re("$ZodCheckLessThan",(t,e)=>{Un.init(t,e);const n=JR[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),eN=re("$ZodCheckGreaterThan",(t,e)=>{Un.init(t,e);const n=JR[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),FL=re("$ZodCheckMultipleOf",(t,e)=>{Un.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):Hz(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),BL=re("$ZodCheckNumberFormat",(t,e)=>{Un.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[a,o]=Yz[e.format];t._zod.onattach.push(u=>{const h=u._zod.bag;h.format=e.format,h.minimum=a,h.maximum=o,n&&(h.pattern=VL)}),t._zod.check=u=>{const h=u.value;if(n){if(!Number.isInteger(h)){u.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?u.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):u.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}h<a&&u.issues.push({origin:"number",input:h,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),h>o&&u.issues.push({origin:"number",input:h,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),qL=re("$ZodCheckMaxLength",(t,e)=>{var n;Un.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!G_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const a=r.value;if(a.length<=e.maximum)return;const u=Q_(a);r.issues.push({origin:u,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),$L=re("$ZodCheckMinLength",(t,e)=>{var n;Un.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!G_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const a=r.value;if(a.length>=e.minimum)return;const u=Q_(a);r.issues.push({origin:u,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),HL=re("$ZodCheckLengthEquals",(t,e)=>{var n;Un.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!G_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=r=>{const a=r.value,o=a.length;if(o===e.length)return;const u=Q_(a),h=o>e.length;r.issues.push({origin:u,...h?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Wm=re("$ZodCheckStringFormat",(t,e)=>{var n,r;Un.init(t,e),t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),GL=re("$ZodCheckRegex",(t,e)=>{Wm.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),KL=re("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=LL),Wm.init(t,e)}),QL=re("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=UL),Wm.init(t,e)}),ZL=re("$ZodCheckIncludes",(t,e)=>{Un.init(t,e);const n=Zl(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),YL=re("$ZodCheckStartsWith",(t,e)=>{Un.init(t,e);const n=new RegExp(`^${Zl(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),XL=re("$ZodCheckEndsWith",(t,e)=>{Un.init(t,e);const n=new RegExp(`.*${Zl(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),JL=re("$ZodCheckOverwrite",(t,e)=>{Un.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class WL{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(u=>u),a=Math.min(...r.map(u=>u.length-u.trimStart().length)),o=r.map(u=>u.slice(a)).map(u=>" ".repeat(this.indent*2)+u);for(const u of o)this.content.push(u)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,a.join(`
`))}}const eU={major:4,minor:3,patch:5},kt=re("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=eU;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const o of a._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(u,h,d)=>{let p=Il(u),v;for(const _ of h){if(_._zod.def.when){if(!_._zod.def.when(u))continue}else if(p)continue;const E=u.issues.length,A=_._zod.check(u);if(A instanceof Promise&&d?.async===!1)throw new Ol;if(v||A instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await A,u.issues.length!==E&&(p||(p=Il(u,E)))});else{if(u.issues.length===E)continue;p||(p=Il(u,E))}}return v?v.then(()=>u):u},o=(u,h,d)=>{if(Il(u))return u.aborted=!0,u;const p=a(h,r,d);if(p instanceof Promise){if(d.async===!1)throw new Ol;return p.then(v=>t._zod.parse(v,d))}return t._zod.parse(p,d)};t._zod.run=(u,h)=>{if(h.skipChecks)return t._zod.parse(u,h);if(h.direction==="backward"){const p=t._zod.parse({value:u.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>o(v,u,h)):o(p,u,h)}const d=t._zod.parse(u,h);if(d instanceof Promise){if(h.async===!1)throw new Ol;return d.then(p=>a(p,r,h))}return a(d,r,h)}}ut(t,"~standard",()=>({validate:a=>{try{const o=aL(t,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return oL(t,a).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}))}),X_=re("$ZodString",(t,e)=>{kt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??ML(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Et=re("$ZodStringFormat",(t,e)=>{Wm.init(t,e),X_.init(t,e)}),tU=re("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=EL),Et.init(t,e)}),nU=re("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=a1(r))}else e.pattern??(e.pattern=a1());Et.init(t,e)}),rU=re("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=TL),Et.init(t,e)}),sU=re("$ZodURL",(t,e)=>{Et.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),iU=re("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=AL()),Et.init(t,e)}),aU=re("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=xL),Et.init(t,e)}),oU=re("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=gL),Et.init(t,e)}),lU=re("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=yL),Et.init(t,e)}),uU=re("$ZodULID",(t,e)=>{e.pattern??(e.pattern=vL),Et.init(t,e)}),cU=re("$ZodXID",(t,e)=>{e.pattern??(e.pattern=_L),Et.init(t,e)}),hU=re("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=bL),Et.init(t,e)}),dU=re("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=jL(e)),Et.init(t,e)}),fU=re("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=OL),Et.init(t,e)}),mU=re("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=PL(e)),Et.init(t,e)}),pU=re("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=wL),Et.init(t,e)}),gU=re("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=IL),Et.init(t,e),t._zod.bag.format="ipv4"}),yU=re("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=RL),Et.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),vU=re("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=NL),Et.init(t,e)}),_U=re("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=CL),Et.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,o]=r;if(!o)throw new Error;const u=Number(o);if(`${u}`!==o)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function tN(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const bU=re("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=DL),Et.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{tN(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function xU(t){if(!ZR.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return tN(n)}const wU=re("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=ZR),Et.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{xU(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),EU=re("$ZodE164",(t,e)=>{e.pattern??(e.pattern=kL),Et.init(t,e)});function TU(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const SU=re("$ZodJWT",(t,e)=>{Et.init(t,e),t._zod.check=n=>{TU(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),nN=re("$ZodNumber",(t,e)=>{kt.init(t,e),t._zod.pattern=t._zod.bag.pattern??zL,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...o?{received:o}:{}}),n}}),AU=re("$ZodNumberFormat",(t,e)=>{BL.init(t,e),nN.init(t,e)}),IU=re("$ZodUnknown",(t,e)=>{kt.init(t,e),t._zod.parse=n=>n}),RU=re("$ZodNever",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),NU=re("$ZodDate",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const a=n.value,o=a instanceof Date;return o&&!Number.isNaN(a.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:a,...o?{received:"Invalid Date"}:{},inst:t}),n}});function o1(t,e,n){t.issues.length&&e.issues.push(...HR(n,t.issues)),e.value[n]=t.value}const CU=re("$ZodArray",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const o=[];for(let u=0;u<a.length;u++){const h=a[u],d=e.element._zod.run({value:h,issues:[]},r);d instanceof Promise?o.push(d.then(p=>o1(p,n,u))):o1(d,n,u)}return o.length?Promise.all(o).then(()=>n):n}});function mm(t,e,n,r,a){if(t.issues.length){if(a&&!(n in r))return;e.issues.push(...HR(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function rN(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=Zz(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function sN(t,e,n,r,a,o){const u=[],h=a.keySet,d=a.catchall._zod,p=d.def.type,v=d.optout==="optional";for(const _ in e){if(h.has(_))continue;if(p==="never"){u.push(_);continue}const E=d.run({value:e[_],issues:[]},r);E instanceof Promise?t.push(E.then(A=>mm(A,n,_,e,v))):mm(E,n,_,e,v)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const DU=re("$ZodObject",(t,e)=>{if(kt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const h=e.shape;Object.defineProperty(e,"shape",{get:()=>{const d={...h};return Object.defineProperty(e,"shape",{value:d}),d}})}const r=H_(()=>rN(e));ut(t._zod,"propValues",()=>{const h=e.shape,d={};for(const p in h){const v=h[p]._zod;if(v.values){d[p]??(d[p]=new Set);for(const _ of v.values)d[p].add(_)}}return d});const a=fm,o=e.catchall;let u;t._zod.parse=(h,d)=>{u??(u=r.value);const p=h.value;if(!a(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),h;h.value={};const v=[],_=u.shape;for(const E of u.keys){const A=_[E],P=A._zod.optout==="optional",D=A._zod.run({value:p[E],issues:[]},d);D instanceof Promise?v.push(D.then(V=>mm(V,h,E,p,P))):mm(D,h,E,p,P)}return o?sN(v,p,h,d,r.value,t):v.length?Promise.all(v).then(()=>h):h}}),kU=re("$ZodObjectJIT",(t,e)=>{DU.init(t,e);const n=t._zod.parse,r=H_(()=>rN(e)),a=E=>{const A=new WL(["shape","payload","ctx"]),P=r.value,D=J=>{const ae=i1(J);return`shape[${ae}]._zod.run({ value: input[${ae}], issues: [] }, ctx)`};A.write("const input = payload.value;");const V=Object.create(null);let Y=0;for(const J of P.keys)V[J]=`key_${Y++}`;A.write("const newResult = {};");for(const J of P.keys){const ae=V[J],le=i1(J),R=E[J]?._zod?.optout==="optional";A.write(`const ${ae} = ${D(J)};`),R?A.write(`
        if (${ae}.issues.length) {
          if (${le} in input) {
            payload.issues = payload.issues.concat(${ae}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${le}, ...iss.path] : [${le}]
            })));
          }
        }
        
        if (${ae}.value === undefined) {
          if (${le} in input) {
            newResult[${le}] = undefined;
          }
        } else {
          newResult[${le}] = ${ae}.value;
        }
        
      `):A.write(`
        if (${ae}.issues.length) {
          payload.issues = payload.issues.concat(${ae}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${le}, ...iss.path] : [${le}]
          })));
        }
        
        if (${ae}.value === undefined) {
          if (${le} in input) {
            newResult[${le}] = undefined;
          }
        } else {
          newResult[${le}] = ${ae}.value;
        }
        
      `)}A.write("payload.value = newResult;"),A.write("return payload;");const Q=A.compile();return(J,ae)=>Q(E,J,ae)};let o;const u=fm,h=!FR.jitless,p=h&&Kz.value,v=e.catchall;let _;t._zod.parse=(E,A)=>{_??(_=r.value);const P=E.value;return u(P)?h&&p&&A?.async===!1&&A.jitless!==!0?(o||(o=a(e.shape)),E=o(E,A),v?sN([],P,E,A,_,t):E):n(E,A):(E.issues.push({expected:"object",code:"invalid_type",input:P,inst:t}),E)}});function l1(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const a=t.filter(o=>!Il(o));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(u=>xo(u,r,bo())))}),e)}const OU=re("$ZodUnion",(t,e)=>{kt.init(t,e),ut(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),ut(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),ut(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),ut(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>K_(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(a,o)=>{if(n)return r(a,o);let u=!1;const h=[];for(const d of e.options){const p=d._zod.run({value:a.value,issues:[]},o);if(p instanceof Promise)h.push(p),u=!0;else{if(p.issues.length===0)return p;h.push(p)}}return u?Promise.all(h).then(d=>l1(d,a,t,o)):l1(h,a,t,o)}}),PU=re("$ZodIntersection",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value,o=e.left._zod.run({value:a,issues:[]},r),u=e.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||u instanceof Promise?Promise.all([o,u]).then(([d,p])=>u1(n,d,p)):u1(n,o,u)}});function yv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(rh(t)&&rh(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),a={...t,...e};for(const o of r){const u=yv(t[o],e[o]);if(!u.valid)return{valid:!1,mergeErrorPath:[o,...u.mergeErrorPath]};a[o]=u.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const a=t[r],o=e[r],u=yv(a,o);if(!u.valid)return{valid:!1,mergeErrorPath:[r,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function u1(t,e,n){const r=new Map;let a;for(const h of e.issues)if(h.code==="unrecognized_keys"){a??(a=h);for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else t.issues.push(h);for(const h of n.issues)if(h.code==="unrecognized_keys")for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else t.issues.push(h);const o=[...r].filter(([,h])=>h.l&&h.r).map(([h])=>h);if(o.length&&a&&t.issues.push({...a,keys:o}),Il(t))return t;const u=yv(e.value,n.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return t.value=u.data,t}const jU=re("$ZodEnum",(t,e)=>{kt.init(t,e);const n=BR(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(a=>Qz.has(typeof a)).map(a=>typeof a=="string"?Zl(a):a.toString()).join("|")})$`),t._zod.parse=(a,o)=>{const u=a.value;return r.has(u)||a.issues.push({code:"invalid_value",values:n,input:u,inst:t}),a}}),MU=re("$ZodLiteral",(t,e)=>{if(kt.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?Zl(r):r?Zl(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,a)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),r}}),VU=re("$ZodTransform",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new UR(t.constructor.name);const a=e.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(u=>(n.value=u,n));if(a instanceof Promise)throw new Ol;return n.value=a,n}});function c1(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const iN=re("$ZodOptional",(t,e)=>{kt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",ut(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),ut(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${K_(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>c1(o,n.value)):c1(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),zU=re("$ZodExactOptional",(t,e)=>{iN.init(t,e),ut(t._zod,"values",()=>e.innerType._zod.values),ut(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),LU=re("$ZodNullable",(t,e)=>{kt.init(t,e),ut(t._zod,"optin",()=>e.innerType._zod.optin),ut(t._zod,"optout",()=>e.innerType._zod.optout),ut(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${K_(n.source)}|null)$`):void 0}),ut(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),UU=re("$ZodDefault",(t,e)=>{kt.init(t,e),t._zod.optin="optional",ut(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>h1(o,e)):h1(a,e)}});function h1(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const FU=re("$ZodPrefault",(t,e)=>{kt.init(t,e),t._zod.optin="optional",ut(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),BU=re("$ZodNonOptional",(t,e)=>{kt.init(t,e),ut(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>d1(o,t)):d1(a,t)}});function d1(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const qU=re("$ZodCatch",(t,e)=>{kt.init(t,e),ut(t._zod,"optin",()=>e.innerType._zod.optin),ut(t._zod,"optout",()=>e.innerType._zod.optout),ut(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(u=>xo(u,r,bo()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(o=>xo(o,r,bo()))},input:n.value}),n.issues=[]),n)}}),$U=re("$ZodPipe",(t,e)=>{kt.init(t,e),ut(t._zod,"values",()=>e.in._zod.values),ut(t._zod,"optin",()=>e.in._zod.optin),ut(t._zod,"optout",()=>e.out._zod.optout),ut(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(u=>ff(u,e.in,r)):ff(o,e.in,r)}const a=e.in._zod.run(n,r);return a instanceof Promise?a.then(o=>ff(o,e.out,r)):ff(a,e.out,r)}});function ff(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const HU=re("$ZodReadonly",(t,e)=>{kt.init(t,e),ut(t._zod,"propValues",()=>e.innerType._zod.propValues),ut(t._zod,"values",()=>e.innerType._zod.values),ut(t._zod,"optin",()=>e.innerType?._zod?.optin),ut(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(f1):f1(a)}});function f1(t){return t.value=Object.freeze(t.value),t}const GU=re("$ZodCustom",(t,e)=>{Un.init(t,e),kt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,a=e.fn(r);if(a instanceof Promise)return a.then(o=>m1(o,n,r,t));m1(a,n,r,t)}});function m1(t,e,n,r){if(!t){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),e.issues.push(sh(a))}}var p1;class KU{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function QU(){return new KU}(p1=globalThis).__zod_globalRegistry??(p1.__zod_globalRegistry=QU());const Nc=globalThis.__zod_globalRegistry;function ZU(t,e){return new t({type:"string",...Ee(e)})}function YU(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ee(e)})}function g1(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ee(e)})}function XU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ee(e)})}function JU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ee(e)})}function WU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ee(e)})}function e5(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ee(e)})}function t5(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ee(e)})}function n5(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ee(e)})}function r5(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ee(e)})}function s5(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ee(e)})}function i5(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ee(e)})}function a5(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ee(e)})}function o5(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ee(e)})}function l5(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ee(e)})}function u5(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ee(e)})}function c5(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ee(e)})}function h5(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ee(e)})}function d5(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ee(e)})}function f5(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ee(e)})}function m5(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ee(e)})}function p5(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ee(e)})}function g5(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ee(e)})}function y5(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ee(e)})}function v5(t,e){return new t({type:"string",format:"date",check:"string_format",...Ee(e)})}function _5(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ee(e)})}function b5(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ee(e)})}function x5(t,e){return new t({type:"number",checks:[],...Ee(e)})}function w5(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ee(e)})}function E5(t){return new t({type:"unknown"})}function T5(t,e){return new t({type:"never",...Ee(e)})}function S5(t,e){return new t({type:"date",...Ee(e)})}function y1(t,e){return new WR({check:"less_than",...Ee(e),value:t,inclusive:!1})}function jf(t,e){return new WR({check:"less_than",...Ee(e),value:t,inclusive:!0})}function v1(t,e){return new eN({check:"greater_than",...Ee(e),value:t,inclusive:!1})}function Mf(t,e){return new eN({check:"greater_than",...Ee(e),value:t,inclusive:!0})}function _1(t,e){return new FL({check:"multiple_of",...Ee(e),value:t})}function aN(t,e){return new qL({check:"max_length",...Ee(e),maximum:t})}function pm(t,e){return new $L({check:"min_length",...Ee(e),minimum:t})}function oN(t,e){return new HL({check:"length_equals",...Ee(e),length:t})}function A5(t,e){return new GL({check:"string_format",format:"regex",...Ee(e),pattern:t})}function I5(t){return new KL({check:"string_format",format:"lowercase",...Ee(t)})}function R5(t){return new QL({check:"string_format",format:"uppercase",...Ee(t)})}function N5(t,e){return new ZL({check:"string_format",format:"includes",...Ee(e),includes:t})}function C5(t,e){return new YL({check:"string_format",format:"starts_with",...Ee(e),prefix:t})}function D5(t,e){return new XL({check:"string_format",format:"ends_with",...Ee(e),suffix:t})}function cu(t){return new JL({check:"overwrite",tx:t})}function k5(t){return cu(e=>e.normalize(t))}function O5(){return cu(t=>t.trim())}function P5(){return cu(t=>t.toLowerCase())}function j5(){return cu(t=>t.toUpperCase())}function M5(){return cu(t=>Gz(t))}function V5(t,e,n){return new t({type:"array",element:e,...Ee(n)})}function z5(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Ee(n)})}function L5(t){const e=U5(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(sh(r,n.value,e._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(sh(a))}},t(n.value,n)));return e}function U5(t,e){const n=new Un({check:"custom",...Ee(e)});return n._zod.check=t,n}function lN(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Nc,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function yn(t,e,n={path:[],schemaPath:[]}){var r;const a=t._zod.def,o=e.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const u={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,u);const h=t._zod.toJSONSchema?.();if(h)u.schema=h;else{const v={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,u.schema,v);else{const E=u.schema,A=e.processors[a.type];if(!A)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);A(t,e,E,v)}const _=t._zod.parent;_&&(u.ref||(u.ref=_),yn(_,e,v),e.seen.get(_).isParent=!0)}const d=e.metadataRegistry.get(t);return d&&Object.assign(u.schema,d),e.io==="input"&&An(t)&&(delete u.schema.examples,delete u.schema.default),e.io==="input"&&u.schema._prefault&&((r=u.schema).default??(r.default=u.schema._prefault)),delete u.schema._prefault,e.seen.get(t).schema}function uN(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const u of t.seen.entries()){const h=t.metadataRegistry.get(u[0])?.id;if(h){const d=r.get(h);if(d&&d!==u[0])throw new Error(`Duplicate schema id "${h}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(h,u[0])}}const a=u=>{const h=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const _=t.external.registry.get(u[0])?.id,E=t.external.uri??(P=>P);if(_)return{ref:E(_)};const A=u[1].defId??u[1].schema.id??`schema${t.counter++}`;return u[1].defId=A,{defId:A,ref:`${E("__shared")}#/${h}/${A}`}}if(u[1]===n)return{ref:"#"};const p=`#/${h}/`,v=u[1].schema.id??`__schema${t.counter++}`;return{defId:v,ref:p+v}},o=u=>{if(u[1].schema.$ref)return;const h=u[1],{ref:d,defId:p}=a(u);h.def={...h.schema},p&&(h.defId=p);const v=h.schema;for(const _ in v)delete v[_];v.$ref=d};if(t.cycles==="throw")for(const u of t.seen.entries()){const h=u[1];if(h.cycle)throw new Error(`Cycle detected: #/${h.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of t.seen.entries()){const h=u[1];if(e===u[0]){o(u);continue}if(t.external){const p=t.external.registry.get(u[0])?.id;if(e!==u[0]&&p){o(u);continue}}if(t.metadataRegistry.get(u[0])?.id){o(u);continue}if(h.cycle){o(u);continue}if(h.count>1&&t.reused==="ref"){o(u);continue}}}function cN(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=u=>{const h=t.seen.get(u);if(h.ref===null)return;const d=h.def??h.schema,p={...d},v=h.ref;if(h.ref=null,v){r(v);const E=t.seen.get(v),A=E.schema;if(A.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(A)):Object.assign(d,A),Object.assign(d,p),u._zod.parent===v)for(const D in d)D==="$ref"||D==="allOf"||D in p||delete d[D];if(A.$ref)for(const D in d)D==="$ref"||D==="allOf"||D in E.def&&JSON.stringify(d[D])===JSON.stringify(E.def[D])&&delete d[D]}const _=u._zod.parent;if(_&&_!==v){r(_);const E=t.seen.get(_);if(E?.schema.$ref&&(d.$ref=E.schema.$ref,E.def))for(const A in d)A==="$ref"||A==="allOf"||A in E.def&&JSON.stringify(d[A])===JSON.stringify(E.def[A])&&delete d[A]}t.override({zodSchema:u,jsonSchema:d,path:h.path??[]})};for(const u of[...t.seen.entries()].reverse())r(u[0]);const a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const u=t.external.registry.get(e)?.id;if(!u)throw new Error("Schema is missing an `id` property");a.$id=t.external.uri(u)}Object.assign(a,n.def??n.schema);const o=t.external?.defs??{};for(const u of t.seen.entries()){const h=u[1];h.def&&h.defId&&(o[h.defId]=h.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?a.$defs=o:a.definitions=o);try{const u=JSON.parse(JSON.stringify(a));return Object.defineProperty(u,"~standard",{value:{...e["~standard"],jsonSchema:{input:gm(e,"input",t.processors),output:gm(e,"output",t.processors)}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function An(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return An(r.element,n);if(r.type==="set")return An(r.valueType,n);if(r.type==="lazy")return An(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return An(r.innerType,n);if(r.type==="intersection")return An(r.left,n)||An(r.right,n);if(r.type==="record"||r.type==="map")return An(r.keyType,n)||An(r.valueType,n);if(r.type==="pipe")return An(r.in,n)||An(r.out,n);if(r.type==="object"){for(const a in r.shape)if(An(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(An(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(An(a,n))return!0;return!!(r.rest&&An(r.rest,n))}return!1}const F5=(t,e={})=>n=>{const r=lN({...n,processors:e});return yn(t,r),uN(r,t),cN(r,t)},gm=(t,e,n={})=>r=>{const{libraryOptions:a,target:o}=r??{},u=lN({...a??{},target:o,io:e,processors:n});return yn(t,u),uN(u,t),cN(u,t)},B5={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},q5=(t,e,n,r)=>{const a=n;a.type="string";const{minimum:o,maximum:u,format:h,patterns:d,contentEncoding:p}=t._zod.bag;if(typeof o=="number"&&(a.minLength=o),typeof u=="number"&&(a.maxLength=u),h&&(a.format=B5[h]??h,a.format===""&&delete a.format,h==="time"&&delete a.format),p&&(a.contentEncoding=p),d&&d.size>0){const v=[...d];v.length===1?a.pattern=v[0].source:v.length>1&&(a.allOf=[...v.map(_=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:_.source}))])}},$5=(t,e,n,r)=>{const a=n,{minimum:o,maximum:u,format:h,multipleOf:d,exclusiveMaximum:p,exclusiveMinimum:v}=t._zod.bag;typeof h=="string"&&h.includes("int")?a.type="integer":a.type="number",typeof v=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.minimum=v,a.exclusiveMinimum=!0):a.exclusiveMinimum=v),typeof o=="number"&&(a.minimum=o,typeof v=="number"&&e.target!=="draft-04"&&(v>=o?delete a.minimum:delete a.exclusiveMinimum)),typeof p=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.maximum=p,a.exclusiveMaximum=!0):a.exclusiveMaximum=p),typeof u=="number"&&(a.maximum=u,typeof p=="number"&&e.target!=="draft-04"&&(p<=u?delete a.maximum:delete a.exclusiveMaximum)),typeof d=="number"&&(a.multipleOf=d)},H5=(t,e,n,r)=>{n.not={}},G5=(t,e,n,r)=>{},K5=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},Q5=(t,e,n,r)=>{const a=t._zod.def,o=BR(a.entries);o.every(u=>typeof u=="number")&&(n.type="number"),o.every(u=>typeof u=="string")&&(n.type="string"),n.enum=o},Z5=(t,e,n,r)=>{const a=t._zod.def,o=[];for(const u of a.values)if(u===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof u=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(u))}else o.push(u);if(o.length!==0)if(o.length===1){const u=o[0];n.type=u===null?"null":typeof u,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[u]:n.const=u}else o.every(u=>typeof u=="number")&&(n.type="number"),o.every(u=>typeof u=="string")&&(n.type="string"),o.every(u=>typeof u=="boolean")&&(n.type="boolean"),o.every(u=>u===null)&&(n.type="null"),n.enum=o},Y5=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},X5=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},J5=(t,e,n,r)=>{const a=n,o=t._zod.def,{minimum:u,maximum:h}=t._zod.bag;typeof u=="number"&&(a.minItems=u),typeof h=="number"&&(a.maxItems=h),a.type="array",a.items=yn(o.element,e,{...r,path:[...r.path,"items"]})},W5=(t,e,n,r)=>{const a=n,o=t._zod.def;a.type="object",a.properties={};const u=o.shape;for(const p in u)a.properties[p]=yn(u[p],e,{...r,path:[...r.path,"properties",p]});const h=new Set(Object.keys(u)),d=new Set([...h].filter(p=>{const v=o.shape[p]._zod;return e.io==="input"?v.optin===void 0:v.optout===void 0}));d.size>0&&(a.required=Array.from(d)),o.catchall?._zod.def.type==="never"?a.additionalProperties=!1:o.catchall?o.catchall&&(a.additionalProperties=yn(o.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(a.additionalProperties=!1)},e9=(t,e,n,r)=>{const a=t._zod.def,o=a.inclusive===!1,u=a.options.map((h,d)=>yn(h,e,{...r,path:[...r.path,o?"oneOf":"anyOf",d]}));o?n.oneOf=u:n.anyOf=u},t9=(t,e,n,r)=>{const a=t._zod.def,o=yn(a.left,e,{...r,path:[...r.path,"allOf",0]}),u=yn(a.right,e,{...r,path:[...r.path,"allOf",1]}),h=p=>"allOf"in p&&Object.keys(p).length===1,d=[...h(o)?o.allOf:[o],...h(u)?u.allOf:[u]];n.allOf=d},n9=(t,e,n,r)=>{const a=t._zod.def,o=yn(a.innerType,e,r),u=e.seen.get(t);e.target==="openapi-3.0"?(u.ref=a.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},r9=(t,e,n,r)=>{const a=t._zod.def;yn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},s9=(t,e,n,r)=>{const a=t._zod.def;yn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},i9=(t,e,n,r)=>{const a=t._zod.def;yn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},a9=(t,e,n,r)=>{const a=t._zod.def;yn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType;let u;try{u=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=u},o9=(t,e,n,r)=>{const a=t._zod.def,o=e.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;yn(o,e,r);const u=e.seen.get(t);u.ref=o},l9=(t,e,n,r)=>{const a=t._zod.def;yn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.readOnly=!0},hN=(t,e,n,r)=>{const a=t._zod.def;yn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},u9=re("ZodISODateTime",(t,e)=>{dU.init(t,e),It.init(t,e)});function c9(t){return y5(u9,t)}const h9=re("ZodISODate",(t,e)=>{fU.init(t,e),It.init(t,e)});function d9(t){return v5(h9,t)}const f9=re("ZodISOTime",(t,e)=>{mU.init(t,e),It.init(t,e)});function m9(t){return _5(f9,t)}const p9=re("ZodISODuration",(t,e)=>{pU.init(t,e),It.init(t,e)});function g9(t){return b5(p9,t)}const y9=(t,e)=>{KR.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>iL(t,n)},flatten:{value:n=>sL(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,gv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,gv,2)}},isEmpty:{get(){return t.issues.length===0}}})},Er=re("ZodError",y9,{Parent:Error}),v9=Z_(Er),_9=Y_(Er),b9=Xm(Er),x9=Jm(Er),w9=lL(Er),E9=uL(Er),T9=cL(Er),S9=hL(Er),A9=dL(Er),I9=fL(Er),R9=mL(Er),N9=pL(Er),Ot=re("ZodType",(t,e)=>(kt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:gm(t,"input"),output:gm(t,"output")}}),t.toJSONSchema=F5(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(aa(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>oa(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>v9(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>b9(t,n,r),t.parseAsync=async(n,r)=>_9(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>x9(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>w9(t,n,r),t.decode=(n,r)=>E9(t,n,r),t.encodeAsync=async(n,r)=>T9(t,n,r),t.decodeAsync=async(n,r)=>S9(t,n,r),t.safeEncode=(n,r)=>A9(t,n,r),t.safeDecode=(n,r)=>I9(t,n,r),t.safeEncodeAsync=async(n,r)=>R9(t,n,r),t.safeDecodeAsync=async(n,r)=>N9(t,n,r),t.refine=(n,r)=>t.check(E8(n,r)),t.superRefine=n=>t.check(T8(n)),t.overwrite=n=>t.check(cu(n)),t.optional=()=>E1(t),t.exactOptional=()=>c8(t),t.nullable=()=>T1(t),t.nullish=()=>E1(T1(t)),t.nonoptional=n=>g8(t,n),t.array=()=>J_(t),t.or=n=>W_([t,n]),t.and=n=>s8(t,n),t.transform=n=>S1(t,l8(n)),t.default=n=>f8(t,n),t.prefault=n=>p8(t,n),t.catch=n=>v8(t,n),t.pipe=n=>S1(t,n),t.readonly=()=>x8(t),t.describe=n=>{const r=t.clone();return Nc.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Nc.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Nc.get(t);const r=t.clone();return Nc.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),dN=re("_ZodString",(t,e)=>{X_.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(r,a,o)=>q5(t,r,a);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(A5(...r)),t.includes=(...r)=>t.check(N5(...r)),t.startsWith=(...r)=>t.check(C5(...r)),t.endsWith=(...r)=>t.check(D5(...r)),t.min=(...r)=>t.check(pm(...r)),t.max=(...r)=>t.check(aN(...r)),t.length=(...r)=>t.check(oN(...r)),t.nonempty=(...r)=>t.check(pm(1,...r)),t.lowercase=r=>t.check(I5(r)),t.uppercase=r=>t.check(R5(r)),t.trim=()=>t.check(O5()),t.normalize=(...r)=>t.check(k5(...r)),t.toLowerCase=()=>t.check(P5()),t.toUpperCase=()=>t.check(j5()),t.slugify=()=>t.check(M5())}),C9=re("ZodString",(t,e)=>{X_.init(t,e),dN.init(t,e),t.email=n=>t.check(YU(D9,n)),t.url=n=>t.check(t5(k9,n)),t.jwt=n=>t.check(g5(K9,n)),t.emoji=n=>t.check(n5(O9,n)),t.guid=n=>t.check(g1(b1,n)),t.uuid=n=>t.check(XU(mf,n)),t.uuidv4=n=>t.check(JU(mf,n)),t.uuidv6=n=>t.check(WU(mf,n)),t.uuidv7=n=>t.check(e5(mf,n)),t.nanoid=n=>t.check(r5(P9,n)),t.guid=n=>t.check(g1(b1,n)),t.cuid=n=>t.check(s5(j9,n)),t.cuid2=n=>t.check(i5(M9,n)),t.ulid=n=>t.check(a5(V9,n)),t.base64=n=>t.check(f5($9,n)),t.base64url=n=>t.check(m5(H9,n)),t.xid=n=>t.check(o5(z9,n)),t.ksuid=n=>t.check(l5(L9,n)),t.ipv4=n=>t.check(u5(U9,n)),t.ipv6=n=>t.check(c5(F9,n)),t.cidrv4=n=>t.check(h5(B9,n)),t.cidrv6=n=>t.check(d5(q9,n)),t.e164=n=>t.check(p5(G9,n)),t.datetime=n=>t.check(c9(n)),t.date=n=>t.check(d9(n)),t.time=n=>t.check(m9(n)),t.duration=n=>t.check(g9(n))});function gn(t){return ZU(C9,t)}const It=re("ZodStringFormat",(t,e)=>{Et.init(t,e),dN.init(t,e)}),D9=re("ZodEmail",(t,e)=>{rU.init(t,e),It.init(t,e)}),b1=re("ZodGUID",(t,e)=>{tU.init(t,e),It.init(t,e)}),mf=re("ZodUUID",(t,e)=>{nU.init(t,e),It.init(t,e)}),k9=re("ZodURL",(t,e)=>{sU.init(t,e),It.init(t,e)}),O9=re("ZodEmoji",(t,e)=>{iU.init(t,e),It.init(t,e)}),P9=re("ZodNanoID",(t,e)=>{aU.init(t,e),It.init(t,e)}),j9=re("ZodCUID",(t,e)=>{oU.init(t,e),It.init(t,e)}),M9=re("ZodCUID2",(t,e)=>{lU.init(t,e),It.init(t,e)}),V9=re("ZodULID",(t,e)=>{uU.init(t,e),It.init(t,e)}),z9=re("ZodXID",(t,e)=>{cU.init(t,e),It.init(t,e)}),L9=re("ZodKSUID",(t,e)=>{hU.init(t,e),It.init(t,e)}),U9=re("ZodIPv4",(t,e)=>{gU.init(t,e),It.init(t,e)}),F9=re("ZodIPv6",(t,e)=>{yU.init(t,e),It.init(t,e)}),B9=re("ZodCIDRv4",(t,e)=>{vU.init(t,e),It.init(t,e)}),q9=re("ZodCIDRv6",(t,e)=>{_U.init(t,e),It.init(t,e)}),$9=re("ZodBase64",(t,e)=>{bU.init(t,e),It.init(t,e)}),H9=re("ZodBase64URL",(t,e)=>{wU.init(t,e),It.init(t,e)}),G9=re("ZodE164",(t,e)=>{EU.init(t,e),It.init(t,e)}),K9=re("ZodJWT",(t,e)=>{SU.init(t,e),It.init(t,e)}),fN=re("ZodNumber",(t,e)=>{nN.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(r,a,o)=>$5(t,r,a),t.gt=(r,a)=>t.check(v1(r,a)),t.gte=(r,a)=>t.check(Mf(r,a)),t.min=(r,a)=>t.check(Mf(r,a)),t.lt=(r,a)=>t.check(y1(r,a)),t.lte=(r,a)=>t.check(jf(r,a)),t.max=(r,a)=>t.check(jf(r,a)),t.int=r=>t.check(x1(r)),t.safe=r=>t.check(x1(r)),t.positive=r=>t.check(v1(0,r)),t.nonnegative=r=>t.check(Mf(0,r)),t.negative=r=>t.check(y1(0,r)),t.nonpositive=r=>t.check(jf(0,r)),t.multipleOf=(r,a)=>t.check(_1(r,a)),t.step=(r,a)=>t.check(_1(r,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function ym(t){return x5(fN,t)}const Q9=re("ZodNumberFormat",(t,e)=>{AU.init(t,e),fN.init(t,e)});function x1(t){return w5(Q9,t)}const Z9=re("ZodUnknown",(t,e)=>{IU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>G5()});function w1(){return E5(Z9)}const Y9=re("ZodNever",(t,e)=>{RU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>H5(t,n,r)});function X9(t){return T5(Y9,t)}const J9=re("ZodDate",(t,e)=>{NU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(r,a,o)=>K5(t,r),t.min=(r,a)=>t.check(Mf(r,a)),t.max=(r,a)=>t.check(jf(r,a));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function W9(t){return S5(J9,t)}const e8=re("ZodArray",(t,e)=>{CU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>J5(t,n,r,a),t.element=e.element,t.min=(n,r)=>t.check(pm(n,r)),t.nonempty=n=>t.check(pm(1,n)),t.max=(n,r)=>t.check(aN(n,r)),t.length=(n,r)=>t.check(oN(n,r)),t.unwrap=()=>t.element});function J_(t,e){return V5(e8,t,e)}const t8=re("ZodObject",(t,e)=>{kU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>W5(t,n,r,a),ut(t,"shape",()=>e.shape),t.keyof=()=>i8(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:w1()}),t.loose=()=>t.clone({...t._zod.def,catchall:w1()}),t.strict=()=>t.clone({...t._zod.def,catchall:X9()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Wz(t,n),t.safeExtend=n=>eL(t,n),t.merge=n=>tL(t,n),t.pick=n=>Xz(t,n),t.omit=n=>Jz(t,n),t.partial=(...n)=>nL(mN,t,n[0]),t.required=(...n)=>rL(pN,t,n[0])});function ep(t,e){const n={type:"object",shape:t??{},...Ee(e)};return new t8(n)}const n8=re("ZodUnion",(t,e)=>{OU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>e9(t,n,r,a),t.options=e.options});function W_(t,e){return new n8({type:"union",options:t,...Ee(e)})}const r8=re("ZodIntersection",(t,e)=>{PU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>t9(t,n,r,a)});function s8(t,e){return new r8({type:"intersection",left:t,right:e})}const vv=re("ZodEnum",(t,e)=>{jU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(r,a,o)=>Q5(t,r,a),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,a)=>{const o={};for(const u of r)if(n.has(u))o[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new vv({...e,checks:[],...Ee(a),entries:o})},t.exclude=(r,a)=>{const o={...e.entries};for(const u of r)if(n.has(u))delete o[u];else throw new Error(`Key ${u} not found in enum`);return new vv({...e,checks:[],...Ee(a),entries:o})}});function i8(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new vv({type:"enum",entries:n,...Ee(e)})}const a8=re("ZodLiteral",(t,e)=>{MU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>Z5(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Lc(t,e){return new a8({type:"literal",values:Array.isArray(t)?t:[t],...Ee(e)})}const o8=re("ZodTransform",(t,e)=>{VU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>X5(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new UR(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(sh(o,n.value,e));else{const u=o;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push(sh(u))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function l8(t){return new o8({type:"transform",transform:t})}const mN=re("ZodOptional",(t,e)=>{iN.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>hN(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function E1(t){return new mN({type:"optional",innerType:t})}const u8=re("ZodExactOptional",(t,e)=>{zU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>hN(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function c8(t){return new u8({type:"optional",innerType:t})}const h8=re("ZodNullable",(t,e)=>{LU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>n9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function T1(t){return new h8({type:"nullable",innerType:t})}const d8=re("ZodDefault",(t,e)=>{UU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>s9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function f8(t,e){return new d8({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():$R(e)}})}const m8=re("ZodPrefault",(t,e)=>{FU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>i9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function p8(t,e){return new m8({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():$R(e)}})}const pN=re("ZodNonOptional",(t,e)=>{BU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>r9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function g8(t,e){return new pN({type:"nonoptional",innerType:t,...Ee(e)})}const y8=re("ZodCatch",(t,e)=>{qU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>a9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function v8(t,e){return new y8({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const _8=re("ZodPipe",(t,e)=>{$U.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>o9(t,n,r,a),t.in=e.in,t.out=e.out});function S1(t,e){return new _8({type:"pipe",in:t,out:e})}const b8=re("ZodReadonly",(t,e)=>{HU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>l9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function x8(t){return new b8({type:"readonly",innerType:t})}const w8=re("ZodCustom",(t,e)=>{GU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>Y5(t,n)});function E8(t,e={}){return z5(w8,t,e)}function T8(t){return L5(t)}const S8=ep({id:gn().optional(),name:gn().min(1),dupr:ym().nonnegative().optional(),imageUrl:gn().optional(),createdAt:gn().optional()}),eb=W_([Lc(1),Lc(2),Lc(3)]),A8=ep({id:gn().optional(),team1Player1Id:gn(),team1Player2Id:gn(),team2Player1Id:gn(),team2Player2Id:gn(),team1Score:ym().nonnegative().optional(),team2Score:ym().nonnegative().optional(),courtId:gn().optional(),roundNumber:eb}),I8=ep({id:gn().optional(),playerIds:J_(gn()).length(4),roundNumber:eb,courtNumber:ym().positive()}),R8=W_([Lc("initial"),eb,Lc("standings")]),N8=ep({id:gn(),name:gn(),startDateTime:W9(),location:gn().optional(),link:gn().optional(),ongoingStage:R8.optional(),standings:J_(gn()).optional()});function C8(t){if(t){if(typeof t?.toDate=="function")return t.toDate().toISOString();if(typeof t=="string")return t}}function D8(t){if(t){if(typeof t?.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);if(!isNaN(e.getTime()))return e}}}const k8={toFirestore(t){const{id:e,createdAt:n,...r}=t;return{...r,createdAt:n||iR()}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,name:n.name,dupr:n.dupr,imageUrl:n.imageUrl,createdAt:C8(n.createdAt)};return S8.parse(r)}},O8={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,...n};return A8.parse(r)}},P8={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),{playerIds:r,...a}=n,o={playerIds:Array.isArray(r)?r.map(String):[],...a,id:t.id};return I8.parse(o)}},j8={toFirestore(t){const{id:e,...n}=t,{startDateTime:r,...a}=n;return{...a,startDateTime:r||iR()}},fromFirestore(t,e){const n=t.data(e),r=new Date;try{D8(n.startDateTime)}catch{}const a={id:t.id,name:n.name,startDateTime:r,location:n.location,link:n.link,standings:Array.isArray(n.standings)?n.standings.map(String):void 0,label:n.label};return N8.parse(a)}};function gN(t,e,n){const r=[e];async function a(h){await t.cancelQueries({queryKey:[e,n]});const d=n?t.getQueryData([e,n]):null,p=t.getQueryData(r),v=h?.id??n,_=v?{...d,...h,id:v}:void 0;return _&&_.id&&(t.setQueryData([e,_.id],_),t.setQueryData(r,E=>{const A=E??[],P=A.findIndex(D=>D.id===_.id);if(P>=0){const D=[...A];return D[P]=_,D}return[_,...A]})),{previousItem:d,previousList:p}}function o(...h){const d=h[h.length-1];d?.previousItem&&n&&t.setQueryData([e,n],d.previousItem),d?.previousList?t.setQueryData(r,d.previousList):t.invalidateQueries({queryKey:r})}function u(...h){const d=h[0];if(typeof d=="string"&&d)t.invalidateQueries({queryKey:[e,d]});else if(d&&typeof d=="object"&&"id"in d){const p=d.id;p&&t.invalidateQueries({queryKey:[e,p]})}t.invalidateQueries({queryKey:r})}return{onMutate:a,onError:o,onSettled:u}}function yN(t,e,n){const r=Jl(),o=iS({queryKey:[t,n],queryFn:async()=>!n||!t?null:Uz(t,n,e),enabled:!!n,staleTime:1e3*60}),u=t?gN(r,t,n):void 0,h=bm({mutationFn:async d=>{if(!t)return d;if(d?.id)return await Fz(t,d.id,d,e),d;{const p=await LR(t,d,e);return{...d,id:p}}},onMutate:u?.onMutate,onError:u?.onError,onSettled:u?.onSettled});return{...o,upsert:h.mutateAsync,upsertState:{status:h.status,error:h.error??null}}}function vN(t,e){const n=iS({queryKey:[t],queryFn:async()=>t?(await $z(t,{pageSize:1e3,converter:e})).docs:[],staleTime:6e4,enabled:!!t});return t?n:{...n,data:[],isLoading:!1,error:new Error("Missing collectionName")}}function _N(t,e){const n=Jl(),r=bm({mutationFn:async a=>await LR(t,a,e),onMutate:async a=>{await n.cancelQueries({queryKey:[t]});const o=n.getQueryData([t]),u=`__tmp__${Date.now()}`,h={...a,id:u};return n.setQueryData([t],d=>[h,...d??[]]),{previousList:o}},onError:(a,o,u)=>{u?.previousList?n.setQueryData([t],u.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:a=>{n.invalidateQueries({queryKey:[t]}),a&&n.invalidateQueries({queryKey:[t,a]})}});return{create:r.mutateAsync,status:r.status,error:r.error??null}}function bN(t,e){const n=Jl(),r=gN(n,t),a=bm({mutationFn:async o=>{const u=o.id;if(!u)throw new Error("id required for update");await Bz(t,u,o,e)},onMutate:r.onMutate,onError:r.onError,onSettled:r.onSettled});return{update:a.mutateAsync,status:a.status,error:a.error??null}}function xN(t){const e=Jl(),n=bm({mutationFn:async r=>{if(!r)throw new Error("id required for delete");await qz(t,r)},onMutate:async r=>{if(!r)return{};await e.cancelQueries({queryKey:[t]});const a=e.getQueryData([t,r]),o=e.getQueryData([t]);return o&&e.setQueryData([t],o.filter(u=>u.id!==r)),e.setQueryData([t,r],null),{previous:a,previousList:o}},onError:(r,a,o)=>{const u=a;o?.previous&&u&&e.setQueryData([t,u],o.previous),o?.previousList?e.setQueryData([t],o.previousList):e.invalidateQueries({queryKey:[t]})},onSettled:(r,a,o)=>{o&&e.invalidateQueries({queryKey:[t,o]}),e.invalidateQueries({queryKey:[t]})}});return{remove:n.mutateAsync,status:n.status,error:n.error??null}}function wN(t,e,n){const r=!!t&&!!n,[a,o]=L.useState(null),[u,h]=L.useState(null);return L.useEffect(()=>{if(!r)return;const p=b_(ei,t),v=e?p.withConverter(e):p,_=lu(v,n),E=rR(_,A=>{A.exists()?o(A.data()):o(null)},A=>{h(A)});return()=>{E()}},[r,t,n,e]),{data:r?a:null,loading:r&&a===null&&u===null,error:r?u:null}}function EN(t,e){const[n,r]=L.useState(null),[a,o]=L.useState(!0),[u,h]=L.useState(null),[d,p]=L.useState(t);return L.useEffect(()=>{if(!t)return;const v=b_(ei,t),_=e?v.withConverter(e):v,E=rR(_,A=>{const P=A.docs.map(D=>D.data());r(P),o(!1)},A=>{h(A),o(!1)});return()=>{E()}},[t,e]),t?{data:n,loading:a,error:u}:{data:[],loading:!1,error:new Error("Missing collectionName")}}function TN(t,e){function n(p){return yN(t,e,p)}function r(){return vN(t,e)}function a(){return _N(t,e)}function o(){return bN(t,e)}function u(){return xN(t)}function h(p){return wN(t,e,p)}function d(){return EN(t,e)}return{useEntity:n,useEntities:r,useCreate:a,useUpdate:o,useDelete:u,useEntityRealtime:h,useEntitiesRealtime:d}}function M8(t,e){console.log("createNestedEntityHooks buildPath:",t);function n(...p){const v=t(...p),_=vN(v,e);return v?_:{..._,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function r(...p){const v=p.slice(0,-1),_=p[p.length-1],E=t(...v),A=yN(E,e,_);return E?A:{...A,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}function a(...p){const v=t(...p),_=_N(v,e);return v?_:{..._,create:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function o(...p){const v=p,_=t(...v);console.log("useUpdate fullName:",_,"ids:",v);const E=bN(_,e);return _?E:{...E,update:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function u(...p){const v=t(...p),_=xN(v);return v?_:{..._,remove:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function h(...p){const v=t(...p),_=EN(v,e);return v?_:{..._,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function d(...p){const v=p.slice(0,-1),_=p[p.length-1],E=t(...v),A=wN(E,e,_);return E?A:{...A,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}return{useEntities:n,useEntity:r,useCreate:a,useUpdate:o,useDelete:u,useEntitiesRealtime:h,useEntityRealtime:d}}const SN=(t,e,n)=>M8(r=>r?`${t}/${r}/${e}`:void 0,n),{useEntities:la,useCreate:V8,useEntitiesRealtime:z8}=TN("players",k8),{useEntity:AN,useEntities:ti,useCreate:L8,useUpdate:IN,useEntityRealtime:U8}=TN("events",j8),{useCreate:F8,useDelete:B8,useEntitiesRealtime:RN}=SN("events","courts",P8),{useCreate:q8,useUpdate:$8,useDelete:H8,useEntitiesRealtime:NN}=SN("events","games",O8),je=Uc.forwardRef(({children:t,className:e,variant:n="default",...r},a)=>{const o="bg-surface p-6 rounded-xl shadow-sm border border-border",u={default:o,outlined:"bg-transparent p-6 rounded-xl border border-border",flat:"bg-surface p-4 rounded-lg"};return g.jsx("div",{ref:a,className:Cn(u[n]??o,e),...r,children:t})});je.displayName="Card";const tb=({imageUrl:t,name:e,size:n="md",className:r,border:a=!0})=>{const o={sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-xs",lg:"h-12 w-12 text-sm",xl:"h-16 w-16 text-base"},u={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-8 w-8"},h=Cn("rounded-full object-cover flex-shrink-0",o[n],a&&"border border-border",r);if(t){const d=t.startsWith("/")?`/${t.slice(1)}`:t;return g.jsx("img",{src:d,alt:e,className:h})}return g.jsx("div",{className:Cn(h,"bg-surface-highlight flex items-center justify-center"),children:e?g.jsx("span",{className:"font-bold text-text-muted",children:e.charAt(0)}):g.jsx(uS,{className:Cn("text-text-muted",u[n])})})},G8=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}},nb=({rank:t,className:e,size:n="md"})=>{const r={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},a=o=>o===1?"bg-warning/20 text-warning":o===2?"bg-surface-alt text-text-muted":o===3?"bg-bronze/20 text-bronze":"text-text-muted";return g.jsx("span",{className:Cn("flex items-center justify-center rounded-full font-bold",r[n],a(t),e),children:G8(t)})},K8=()=>{const{data:t=[]}=ti(),{data:e=[]}=la(),n=Uc.useMemo(()=>{const h=new Map,d=new Map;(t||[]).filter(_=>Array.isArray(_.standings)&&_.standings.length>0).forEach(_=>{const E={id:_.id,date:_.startDateTime?_.startDateTime.toISOString():_.id,isCompleted:!0,standings:_.standings};(Tm(E)||[]).forEach(P=>{const D=P.playerId,V=P.pointsEarned||0;h.set(D,(h.get(D)||0)+V),d.set(D,(d.get(D)||0)+1)})});const v=Array.from(h.entries()).map(([_,E])=>({playerId:_,points:E}));return v.sort((_,E)=>E.points-_.points),v.slice(0,3).map((_,E)=>({playerId:_.playerId,points:_.points,events:d.get(_.playerId)||0,rank:E+1}))},[t]),r=(()=>{const h=(t||[]).filter(p=>p.startDateTime instanceof Date&&!isNaN(p.startDateTime.getTime()));if(h.length===0)return"Challenge Series";const d=Array.from(new Set(h.map(p=>p.startDateTime.getFullYear()))).sort();return d.length===1?`${d[0]} Challenge`:`${d[0]}${d[d.length-1]} Challenge`})(),a=Uc.useMemo(()=>{if(!t||t.length===0)return null;const h=t.filter(_=>_.startDateTime instanceof Date&&!isNaN(_.startDateTime.getTime()));h.sort((_,E)=>_.startDateTime.getTime()-E.startDateTime.getTime());const p=new Date().getTime(),v=h.filter(_=>_.startDateTime.getTime()>=p);return v.length>0?v[0]:null},[t]),o=h=>h?h.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"",u=h=>h?h.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";return g.jsxs("div",{className:"space-y-12",children:[g.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-surface border border-border",children:[g.jsx("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-96 h-96 bg-surface-highlight/50 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10 px-8 py-16 md:py-24 text-center max-w-4xl mx-auto",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-surface-highlight border border-border mb-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[g.jsxs("span",{className:"relative flex h-2 w-2",children:[g.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success opacity-75"}),g.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-success"})]}),g.jsxs("span",{className:"text-sm font-medium text-text-main",children:[r," is Live"]})]}),g.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-text-main mb-6 tracking-tight animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100",children:["Paddle Up",g.jsx("br",{}),g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-text-accent",children:"Advanced Challenge"})]}),g.jsx("p",{className:"text-xl text-text-muted mb-10 max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:"Join our competitive pickleball event designed for advanced players looking to test their skills and climb the rankings each week."}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300",children:[g.jsxs(Tt,{to:"/standings",className:"w-full sm:w-auto px-8 py-4 bg-primary text-text-main rounded-xl font-bold text-lg hover:bg-primary-hover transition-all shadow-lg shadow-primary/25 flex items-center justify-center gap-2",children:["View Standings ",g.jsx(ly,{className:"h-5 w-5"})]}),g.jsx(Tt,{to:"/format",className:"w-full sm:w-auto px-8 py-4 bg-surface-highlight text-text-main border border-border rounded-xl font-bold text-lg hover:bg-surface-alt transition-all flex items-center justify-center gap-2",children:"League Format"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[g.jsxs(je,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[g.jsx(Wl,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"16"}),g.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Players per night"})]}),g.jsxs(je,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[g.jsx(io,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"7-10 PM"}),g.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Every Sunday"})]}),g.jsxs(je,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[g.jsx(Wn,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"100"}),g.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Club Points Prize Pool"})]}),g.jsxs(je,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[g.jsx(lS,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"3.6+ DUPR"}),g.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Level Format"})]})]}),g.jsxs("div",{className:"bg-surface-highlight/50 rounded-2xl p-8 border border-border text-center",children:[g.jsxs("h2",{className:"text-2xl font-bold text-text-main mb-4 flex items-center justify-center gap-2",children:[g.jsx(Wn,{className:"h-6 w-6 text-warning"}),"Monthly Prizes"]}),g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto mb-6",children:"At the end of each month, the top 3 players in the monthly standings will receive club points as rewards for their performance."}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-4 max-w-3xl mx-auto",children:[g.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-border",children:[g.jsx("span",{className:"block text-2xl font-bold text-warning mb-1",children:"1st Place"}),g.jsx("span",{className:"text-sm text-text-muted",children:"50 Club Pts"})]}),g.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-border",children:[g.jsx("span",{className:"block text-2xl font-bold text-text-main mb-1",children:"2nd Place"}),g.jsx("span",{className:"text-sm text-text-muted",children:"30 Club Pts"})]}),g.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-border",children:[g.jsx("span",{className:"block text-2xl font-bold text-text-main mb-1",children:"3rd Place"}),g.jsx("span",{className:"text-sm text-text-muted",children:"20 Club Pts"})]})]})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs(je,{className:"h-full flex flex-col",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("h2",{className:"text-2xl font-bold text-text-main flex items-center gap-2",children:[g.jsx(Wn,{className:"h-6 w-6 text-warning"}),"Current Leaders"]}),g.jsxs(Tt,{to:"/standings",className:"text-sm text-primary hover:text-primary-hover font-medium flex items-center gap-1",children:["Full Standings ",g.jsx(ly,{className:"h-4 w-4"})]})]}),g.jsx("div",{className:"space-y-4 flex-1",children:n.map((h,d)=>{const p=e.find(v=>v.id===h.playerId)||{name:"Unknown",imageUrl:""};return g.jsxs(Tt,{to:`/player/${h.playerId}`,className:"flex items-center justify-between p-3 rounded-xl bg-surface-highlight border border-border hover:border-primary/50 transition-colors group",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(nb,{rank:d+1,size:"sm"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(tb,{imageUrl:p.imageUrl,name:p.name,size:"md",className:"group-hover:ring-2 ring-primary transition-all"}),g.jsx("span",{className:"font-bold text-text-main group-hover:text-primary transition-colors",children:p.name})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:"block font-bold text-primary",children:[h.points," pts"]}),g.jsxs("span",{className:"text-xs text-text-muted",children:[h.events," Events"]})]})]},h.playerId)})})]}),g.jsx(je,{className:"h-full flex flex-col bg-gradient-to-br from-surface to-surface-highlight relative overflow-hidden",children:g.jsxs("div",{className:"relative z-10",children:[g.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Next Match Night"}),a?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-text-muted text-sm uppercase tracking-wider mb-1",children:"Date"}),g.jsx("p",{className:"text-xl font-bold text-text-main",children:o(a.startDateTime)})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-text-muted text-sm uppercase tracking-wider mb-1",children:"Time"}),g.jsx("p",{className:"text-xl font-bold text-text-main",children:u(a.startDateTime)})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-text-muted text-sm uppercase tracking-wider mb-1",children:"Location"}),g.jsx("p",{className:"text-xl font-bold text-text-main",children:a.location})]}),g.jsx("div",{className:"pt-4",children:g.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-full px-6 py-3 bg-surface border border-border hover:border-primary/50 rounded-xl text-text-main font-bold transition-colors",children:"Register on CourtReserve"})})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-text-muted",children:"No upcoming match nights are listed. Check the full schedule for details."}),g.jsx(Tt,{to:"/schedule",className:"inline-flex items-center justify-center w-full px-6 py-3 bg-surface border border-border hover:border-primary/50 rounded-xl text-text-main font-bold transition-colors",children:"View Schedule"})]})]})})]}),g.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Want to Join the League?"}),g.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"We are always looking for competitive players to join the roster. Check out the format and rules to see if you qualify."}),g.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:g.jsxs(Tt,{to:"/format",className:"bg-primary text-text-main px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:["View Format ",g.jsx(ly,{className:"h-5 w-5"})]})})]})]})},Eh=({title:t,subtitle:e,children:n,className:r,center:a=!1})=>g.jsx("div",{className:Cn("space-y-4",a&&"text-center",r),children:g.jsxs("div",{className:Cn("flex flex-col gap-4",a?"items-center":"md:flex-row md:items-center justify-between"),children:[g.jsxs("div",{className:a?"w-full":"",children:[g.jsx("h1",{className:"text-3xl font-bold text-text-main",children:t}),e&&g.jsx("p",{className:Cn("text-text-muted mt-1",a?"max-w-2xl mx-auto":""),children:e})]}),n]})}),CN=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"unknown":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`},Q8=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Unknown Date":e.toLocaleDateString(void 0,{month:"short",year:"numeric"})},DN=t=>{const e=new Map;return t.forEach(n=>{if(n instanceof Date&&!isNaN(n.getTime())){const r=CN(n);e.has(r)||e.set(r,n)}}),Array.from(e.entries()).sort((n,r)=>r[1].getTime()-n[1].getTime()).map(([n,r])=>({key:n,label:Q8(r)}))},rb=(t="all")=>{const{data:e=[]}=la(),{data:n=[]}=ti();return L.useMemo(()=>{const r=n.filter(h=>Array.isArray(h.standings)&&h.standings.length>0?t==="all"?!0:CN(h.startDateTime)===t:!1),a=bP(r),o=Array.from(a.entries()).map(([h,d])=>({playerId:h,points:d.points,eventsPlayed:d.events,champWins:d.champWins}));return o.sort((h,d)=>d.points-h.points),yP(o,h=>h.points).map(h=>{const d=e.find(p=>p.id===h.playerId);return{...h,name:d?.name||"Unknown",imageUrl:d?.imageUrl||"",dupr:d?.dupr,id:h.playerId}})},[n,e,t])},kN=({data:t,players:e,showEvents:n=!0,showPoints:r=!0,className:a})=>g.jsx(je,{className:Cn("p-0 overflow-hidden",a),children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-border",children:[g.jsx("thead",{className:"bg-surface-highlight",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider pl-6",children:"Rank"}),g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Player"}),r&&g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Points"}),n&&g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Events"})]})}),g.jsx("tbody",{className:"bg-surface divide-y divide-border",children:t.map(o=>{const u=e?.find(h=>h.id===o.playerId)||{name:"Unknown",imageUrl:""};return g.jsxs("tr",{className:Cn("hover:bg-surface-highlight transition-colors",(o.rank||0)<=4?"bg-primary-light/10":""),children:[g.jsx("td",{className:"px-4 pl-6 py-4 whitespace-nowrap",children:g.jsx(nb,{rank:o.rank??0})}),g.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:g.jsxs(Tt,{to:`/player/${o.playerId}`,className:"flex items-center group",children:[g.jsx(tb,{imageUrl:u.imageUrl,name:u.name,className:"mr-3 group-hover:ring-2 ring-primary transition-all"}),g.jsx("div",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:u.name}),o.rank===1&&g.jsx(Wn,{className:"ml-2 h-4 w-4 text-warning"})]})}),r&&g.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:g.jsx("div",{className:"text-sm font-bold text-text-main",children:o.points??0})}),n&&g.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-text-muted",children:o.eventsPlayed??0})]},o.playerId)})})]})})}),Z8=()=>{const[t,e]=L.useState("all"),{data:n=[]}=la(),{data:r=[]}=ti(),a=L.useMemo(()=>DN(r.map(u=>u.startDateTime)),[r]),o=rb(t);return g.jsxs("div",{className:"space-y-8",children:[g.jsx(Eh,{title:"Challenge Leaderboard",subtitle:"Leaderboard derived from Challenge events (month or all time)",children:g.jsx("div",{className:"flex items-center gap-4",children:g.jsxs("select",{value:t,onChange:u=>e(u.target.value==="all"?"all":u.target.value),className:"appearance-none bg-surface border border-border text-text-main text-sm rounded-lg pl-3 pr-8 py-2",children:[g.jsx("option",{value:"all",children:"All Time"}),a.map(u=>g.jsx("option",{value:u.key,children:u.label},u.key))]})})}),g.jsx(kN,{data:o,players:n})]})},Y8=()=>{const t=Ye.points??{championship:{},court2:{},court3:{},court4:{}},e=[{name:"Championship Court",data:t.championship??{}},{name:"Court 2",data:t.court2??{}},{name:"Court 3",data:t.court3??{}},{name:"Court 4",data:t.court4??{}}];return g.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-border",children:[g.jsxs("h3",{className:"font-bold text-text-main mb-4 flex items-center",children:[g.jsx(Dv,{className:"h-5 w-5 text-primary mr-2"}),"Weekly Point System"]}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map(n=>g.jsxs("div",{className:"bg-surface-highlight p-4 rounded-lg",children:[g.jsx("h3",{className:"font-bold text-text-main mb-2 text-center text-sm md:text-base",children:n.name}),g.jsxs("div",{className:"space-y-1 text-sm text-center",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-text-muted",children:"1st"})," ",g.jsxs("span",{className:"font-bold text-success",children:["+",n.data[1]]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-text-muted",children:"2nd"})," ",g.jsxs("span",{className:"font-bold text-success",children:["+",n.data[2]]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-text-muted",children:"3rd"})," ",g.jsxs("span",{className:"font-bold text-success",children:["+",n.data[3]]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-text-muted",children:"4th"})," ",g.jsxs("span",{className:"font-bold text-success",children:["+",n.data[4]]})]})]})]},n.name))})]})},ON=({options:t,value:e,onChange:n,className:r})=>g.jsx("div",{className:r,children:g.jsx("div",{className:"inline-flex",children:t.map(a=>g.jsx("button",{onClick:()=>n(a.value),className:Cn("px-6 py-2.5 rounded-lg text-sm font-bold transition-all",e===a.value?"bg-primary text-text-main shadow-md":"text-text-muted hover:text-text-main hover:bg-surface"),children:a.label},a.value))})}),X8=({viewRules:t})=>{const e=t??Ye,n="price"in e&&e.price?e.price:{display:Ye.fee,note:Ye.seasonStructure?.duration};return g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto mt-8",children:[g.jsxs(je,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(Cv,{className:"h-6 w-6 text-primary mb-2"}),g.jsx("span",{className:"font-bold text-text-main",children:e.schedule?.day}),g.jsx("span",{className:"text-sm text-text-muted",children:e.schedule?.time})]}),g.jsx("a",{href:e.location?.url,target:"_blank",rel:"noopener noreferrer",className:"block group",children:g.jsxs(je,{className:"p-4 flex flex-col items-center justify-center text-center hover:border-primary/50 transition-colors h-full",children:[g.jsx(Em,{className:"h-6 w-6 text-primary mb-2 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"font-bold text-text-main",children:e.location?.name}),g.jsxs("span",{className:"text-sm text-text-muted flex items-center gap-1",children:[e.location?.city," ",g.jsx(wm,{className:"h-3 w-3"})]})]})}),g.jsxs(je,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(uO,{className:"h-6 w-6 text-primary mb-2"}),g.jsx("span",{className:"font-bold text-text-main",children:n.display}),g.jsx("span",{className:"text-sm text-text-muted",children:n.note})]}),g.jsxs(je,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(uS,{className:"h-6 w-6 text-primary mb-2"}),g.jsx("span",{className:"font-bold text-text-main",children:e.participant?.type}),g.jsx("span",{className:"text-sm text-text-muted",children:e.participant?.note})]})]})},J8=()=>g.jsx("div",{className:"max-w-4xl mx-auto mt-6",children:g.jsxs(je,{className:"p-4",children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"Scoring"}),g.jsx("ul",{className:"text-text-muted list-disc pl-5 space-y-1",children:Array.isArray(Ye.scoring)&&Ye.scoring.length>0?Ye.scoring.map((t,e)=>g.jsx("li",{children:t},e)):g.jsx("li",{className:"text-text-muted",children:"No scoring details available."})})]})}),W8=()=>{const t=Ye.seasonStructure??{};return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Season Structure"}),g.jsxs("p",{className:"text-text-muted max-w-2xl mx-auto",children:[t.duration??"TBD",t.duration&&t.when?"  ":"",t.when??"",t.rosterSize?`  ${t.rosterSize} Players`:""]})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[g.jsxs(je,{className:"p-6 border-success/20 bg-success/5",children:[g.jsxs("h3",{className:"text-xl font-bold text-success mb-4 flex items-center gap-2",children:[g.jsx(xm,{className:"h-5 w-5"}),"The Safe Zone"]}),g.jsx("p",{className:"text-text-main font-medium mb-2",children:`Top ${Math.max(0,Number(t.rosterSize||0)-4)} Players`}),g.jsx("p",{className:"text-text-muted",children:t.safeZone})]}),g.jsxs(je,{className:"p-6 border-error/20 bg-error/5",children:[g.jsxs("h3",{className:"text-xl font-bold text-error mb-4 flex items-center gap-2",children:[g.jsx(oS,{className:"h-5 w-5"}),"The Drop Zone"]}),g.jsx("p",{className:"text-text-main font-medium mb-2",children:"Bottom 4 Players"}),g.jsx("p",{className:"text-text-muted",children:t.dropZone})]})]})]})},PN=({heading:t,subtitle:e,entries:n,notes:r})=>g.jsxs("div",{className:"space-y-8",children:[t&&g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:t}),e&&g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:e})]}),g.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:n.map((a,o)=>g.jsxs(je,{className:`p-6 relative overflow-hidden ${a.accent?"border-warning/50 bg-warning/10":"border-border"}`,children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:g.jsx(Wn,{className:"h-24 w-24 text-warning"})}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:"bg-surface-highlight text-text-muted p-2 rounded-lg border border-border",children:g.jsx("span",{className:"font-bold text-lg",children:a.title})}),g.jsx("h3",{className:"text-xl font-bold text-text-main",children:`${a.title} Place`})]}),g.jsx("ul",{className:"space-y-3",children:a.items.map((u,h)=>g.jsxs("li",{className:`flex items-start gap-2 ${a.accent?"text-text-main font-medium":"text-text-muted"}`,children:[g.jsx(xm,{className:`h-5 w-5 ${a.accent?"text-warning":"text-text-muted"} shrink-0`}),u]},h))})]})]},o))}),r&&g.jsx("div",{className:"text-center",children:g.jsx("p",{className:"text-sm text-text-muted italic",children:r})})]}),eF=()=>{const t=[{title:`${Ye.rewards.firstPlace.name}`,items:Ye.rewards.firstPlace.items,accent:!0},{title:`${Ye.rewards.secondPlace.name}`,items:Ye.rewards.secondPlace.items},{title:`${Ye.rewards.thirdPlace.name}`,items:Ye.rewards.thirdPlace.items}];return g.jsx(PN,{heading:"Prizes & Rewards",subtitle:"Top performers from each season earn court credits, club points, and guaranteed spots for the next season.",entries:t,notes:Ye.rewards.notes})},tF=()=>g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Pre-Season Qualifiers"}),g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:"Before each season begins, we host two Open Qualifier events to fill the open roster spots."})]}),g.jsxs(je,{className:"max-w-4xl mx-auto p-8",children:[g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Wl,{className:"h-5 w-5 text-primary"}),"Who Can Play"]}),g.jsx("ul",{className:"space-y-2",children:Ye.qualification.who.map((t,e)=>g.jsxs("li",{className:"flex items-start text-text-muted",children:[g.jsx("span",{className:"mr-2",children:""}),t]},e))})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Wn,{className:"h-5 w-5 text-primary"}),"Advancement"]}),g.jsx("ul",{className:"space-y-2",children:Ye.qualification.advancement.map((t,e)=>g.jsxs("li",{className:"flex items-start text-text-muted",children:[g.jsx("span",{className:"mr-2",children:""}),t]},e))})]})]}),g.jsx("div",{className:"mt-8 pt-6 border-t border-border text-center",children:g.jsxs("p",{className:"text-text-muted italic",children:[g.jsx("span",{className:"font-bold text-primary",children:"Note:"})," ",Ye.qualification?.note]})})]})]}),nF=()=>g.jsxs("div",{className:"space-y-12",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"The Nightly Format"}),g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:"Three rounds of intense play. Perform well to move up; struggle and you move down."})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-0.5 bg-border -z-10 transform -translate-x-1/2"}),g.jsx("div",{className:"space-y-12",children:Ye.format?.map((t,e)=>g.jsxs("div",{className:"relative",children:[g.jsxs(je,{className:"p-8 max-w-3xl mx-auto",children:[g.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-primary text-text-main px-4 py-1 rounded-full text-sm font-bold",children:`ROUND ${e+1}`}),g.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[g.jsx("div",{className:"bg-primary-light p-4 rounded-full",children:e===0?g.jsx(Wl,{className:"h-8 w-8 text-primary"}):e===1?g.jsx(eO,{className:"h-8 w-8 text-primary"}):g.jsx(Wn,{className:"h-8 w-8 text-warning"})}),g.jsxs("div",{className:"flex-1 text-center md:text-left",children:[g.jsx("h3",{className:"text-xl font-bold text-text-main mb-2",children:t.title}),g.jsx("div",{className:"text-text-muted text-left",children:Array.isArray(t.description)?g.jsx("ul",{className:"list-disc pl-5 space-y-1 inline-block text-left",children:t.description.map((n,r)=>g.jsx("li",{children:n},r))}):g.jsx("p",{children:t.description})})]})]})]}),e<Ye.format.length-1&&g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"bg-surface p-2 rounded-full border border-border shadow-sm",children:g.jsx(Zk,{className:"h-6 w-6 text-text-muted"})})})]},e))})]})]}),rF=({hideChallengeFAQs:t})=>g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main",children:"Frequently Asked Questions"}),g.jsxs("div",{className:"space-y-4 mt-4",children:[!t&&g.jsxs(g.Fragment,{children:[g.jsxs(je,{children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"What happens if I miss a week?"}),g.jsx("p",{className:"text-text-muted",children:"If you miss a week, you receive 0 points for that night. You must notify the league admin so a substitute can be assigned. You are allowed a maximum of 2 sub replacements per season."})]}),g.jsxs(je,{children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"Can I choose my own sub?"}),g.jsx("p",{className:"text-text-muted",children:"No. To ensure competitive balance and fairness, all substitutes are assigned by the league administration from the approved sub pool."})]}),g.jsxs(je,{children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"How do I qualify for the next season?"}),g.jsx("p",{className:"text-text-muted",children:"The top 4 players from the current season automatically qualify for the next season. Other spots may be filled through open registration or qualifying nights."})]})]}),g.jsxs(je,{children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"Is there a warm-up period?"}),g.jsx("p",{className:"text-text-muted",children:"Yes, courts are available for warm-up starting at 6:45 PM. League play begins promptly at 7:00 PM."})]})]})]}),sF=()=>{const[t,e]=L.useState(null),[n,r]=L.useState(!1),a=async o=>{o.preventDefault(),r(!0);const u=new FormData(o.currentTarget),h=Object.fromEntries(u.entries());try{(await fetch("https://formspree.io/f/xanrzonk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,subject:"League Question (Format Page)"})})).ok?(e("success"),o.currentTarget.reset()):e("error")}catch{e("error")}finally{r(!1)}};return t==="success"?g.jsxs("div",{className:"bg-success/20 p-6 rounded-xl border border-success/50 text-center",children:[g.jsx(xm,{className:"h-12 w-12 text-success mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-bold text-success mb-2",children:"Message Sent!"}),g.jsxs("p",{className:"text-success",children:["We","'","ll get back to you shortly."]}),g.jsx(ao,{onClick:()=>e(null),variant:"ghost",size:"sm",className:"mt-4 text-sm text-success hover:underline",children:"Send another"})]}):g.jsxs("form",{onSubmit:a,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-muted mb-1",children:"Your Email"}),g.jsx("input",{type:"email",name:"email",required:!0,className:"w-full rounded-lg bg-surface-highlight border-border text-text-main shadow-sm focus:border-primary focus:ring-primary placeholder:text-text-muted p-3",placeholder:"you@example.com"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-text-muted mb-1",children:"Question"}),g.jsx("textarea",{name:"message",required:!0,rows:4,className:"w-full rounded-lg bg-surface-highlight border-border text-text-main shadow-sm focus:border-primary focus:ring-primary placeholder:text-text-muted p-3",placeholder:"How can we help?"})]}),g.jsx(ao,{type:"submit",disabled:n,variant:"primary",size:"md",className:"w-full py-2.5 font-medium disabled:opacity-50 flex items-center justify-center gap-2",children:n?"Sending...":g.jsxs(g.Fragment,{children:[g.jsx(bO,{className:"h-4 w-4"})," Send Message"]})}),t==="error"&&g.jsx("p",{className:"text-error text-sm text-center",children:"Something went wrong. Please try again."})]})},iF=()=>g.jsxs(je,{className:"sticky top-8",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(vO,{className:"h-5 w-5 text-primary"}),g.jsx("h2",{className:"text-xl font-bold text-text-main",children:"Have Questions?"})]}),g.jsx("p",{className:"text-text-muted text-sm mb-6",children:"Can't find what you're looking for? Send us a message and we'll help you out."}),g.jsx(sF,{})]}),aF=()=>{const[t,e]=L.useState("current"),n=t==="current"?hy:yf,r=t==="current"?hy.price:{display:yf.fee,note:yf.seasonStructure?.duration},a=t==="current"?hy.showSections??{seasonStructure:!1,prizes:!1,qualifiers:!1}:{seasonStructure:!0,prizes:!0,qualifiers:!0};return L.useEffect(()=>{document.title=`${Ye.title}  ${n.title}`},[n.title]),g.jsxs("div",{className:"space-y-16 pb-12",children:[g.jsx(Eh,{title:n.title,subtitle:"Rotating partners, weekly standings with promotion/relegation, weekly points, open qualifiers, and season prizes.",center:!0}),g.jsx("div",{className:"flex justify-center mt-6",children:g.jsx(ON,{options:[{value:"current",label:"The Challenge (Current)"},{value:"future",label:"Championship League (Future)"}],value:t,onChange:o=>e(o),className:"bg-surface-highlight p-1 rounded-xl inline-flex border border-border"})}),g.jsx("div",{className:"max-w-5xl mx-auto mt-6 rounded-3xl overflow-hidden shadow-lg",children:g.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-light p-8 md:p-12 text-white flex flex-col md:flex-row items-center gap-6",children:[g.jsxs("div",{className:"flex-1 text-center md:text-left",children:[g.jsx("h3",{className:"text-3xl md:text-4xl font-extrabold mb-2",children:n.title}),g.jsx("p",{className:"text-lg md:text-xl opacity-90",children:n.summary})]}),g.jsxs("div",{className:"flex-shrink-0 text-center md:text-right",children:[g.jsx("div",{className:"text-2xl font-bold",children:r.display}),g.jsx("div",{className:"text-sm opacity-90 mb-4",children:r.note}),t==="current"?g.jsx(Tt,{to:"/schedule",className:"inline-block bg-white text-primary px-6 py-3 rounded-xl font-bold hover:opacity-90 transition",children:"Register for Tonight"}):g.jsx("a",{href:Ye.register.url,className:"inline-block bg-white text-primary px-6 py-3 rounded-xl font-bold hover:opacity-90 transition",children:"Register for Season"})]})]})}),g.jsx(X8,{viewRules:n}),g.jsx(J8,{}),a.seasonStructure&&g.jsx(W8,{}),a.prizes&&g.jsx(eF,{}),t==="current"&&g.jsx("div",{className:"max-w-4xl mx-auto",children:g.jsx(PN,{heading:"Monthly Prizes",subtitle:"At the end of each month, the top 3 players in the monthly standings will receive club points as rewards for their performance.",entries:[{title:"1st",items:["50 Club Pts"],accent:!0},{title:"2nd",items:["30 Club Pts"]},{title:"3rd",items:["20 Club Pts"]}]})}),a.qualifiers&&g.jsx(tF,{}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Seeding & Assignments"}),g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:Ye.seeding?.overview})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[g.jsxs(je,{className:"p-6",children:[g.jsxs("h3",{className:"text-xl font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Wl,{className:"h-5 w-5 text-primary"}),"Initial Seeding"]}),g.jsx("p",{className:"text-text-muted mb-4",children:Ye.seeding?.week1}),g.jsxs("div",{className:"bg-surface-highlight p-4 rounded-lg border border-border",children:[g.jsx("h4",{className:"font-bold text-sm text-text-main mb-2",children:"Why Seeding Matters"}),g.jsx("p",{className:"text-sm text-text-muted",children:"Higher seeds are placed in groups with lower-seeded opponents in Round 1, giving top players a statistical advantage to finish Top 2 and advance."})]})]}),g.jsxs(je,{className:"p-6",children:[g.jsxs("h3",{className:"text-xl font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Em,{className:"h-5 w-5 text-primary"}),"The Snake Draw"]}),g.jsx("p",{className:"text-text-muted mb-4",children:Ye.seeding?.draw}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[g.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[g.jsx("span",{className:"font-bold block text-primary",children:"Court 1"}),g.jsx("span",{className:"text-text-muted",children:"Seeds 1, 8, 9, 16"})]}),g.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[g.jsx("span",{className:"font-bold block text-primary",children:"Court 2"}),g.jsx("span",{className:"text-text-muted",children:"Seeds 2, 7, 10, 15"})]}),g.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[g.jsx("span",{className:"font-bold block text-primary",children:"Court 3"}),g.jsx("span",{className:"text-text-muted",children:"Seeds 3, 6, 11, 14"})]}),g.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[g.jsx("span",{className:"font-bold block text-primary",children:"Court 4"}),g.jsx("span",{className:"text-text-muted",children:"Seeds 4, 5, 12, 13"})]})]})]})]})]}),g.jsx(nF,{}),g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx(Y8,{}),g.jsx("p",{className:"text-center text-sm text-text-muted mt-4 italic",children:Ye.missedWeekNote})]}),g.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Ready to Compete?"}),g.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"Registration is open for the upcoming season. Secure your spot now."}),g.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:g.jsxs("a",{href:Ye.register.url,className:"bg-primary text-text-main px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[Ye.register.text,g.jsx(wm,{className:"h-5 w-5"})]})}),g.jsx("p",{className:"text-sm text-text-muted mt-6",children:"*Future seasons may require participation in qualifying nights to earn a roster spot."})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs(je,{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx(xm,{className:"h-6 w-6 text-success"}),g.jsx("h2",{className:"text-xl font-bold text-text-main",children:"Eligibility"})]}),g.jsx("ul",{className:"space-y-3",children:Array.isArray(Ye.general)&&Ye.general.length>0?Ye.general.map((o,u)=>g.jsxs("li",{className:"flex items-start text-text-muted",children:[g.jsx("span",{className:"mr-2",children:""}),o]},u)):g.jsx("li",{className:"text-text-muted",children:"No eligibility rules provided."})})]}),t!=="current"&&g.jsxs(je,{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx(oS,{className:"h-6 w-6 text-warning"}),g.jsx("h2",{className:"text-xl font-bold text-text-main",children:"Substitute Policy"})]}),g.jsx("ul",{className:"space-y-3",children:Array.isArray(Ye.subs)&&Ye.subs.length>0?Ye.subs.map((o,u)=>g.jsxs("li",{className:"flex items-start text-text-muted",children:[g.jsx("span",{className:"mr-2",children:""}),o]},u)):g.jsx("li",{className:"text-text-muted",children:"No substitute policy provided."})})]})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[g.jsx("div",{className:"md:col-span-2 space-y-8",children:g.jsx(rF,{hideChallengeFAQs:t==="current"})}),g.jsx("div",{className:"md:col-span-1",children:g.jsx(iF,{})})]})]})},oF=()=>{const{data:t=[]}=ti(),{data:e=[]}=la();return g.jsxs("div",{className:"space-y-12",children:[g.jsx(Eh,{title:"Hall of Champions",subtitle:"Celebrating the elite performers of the Paddle Up Individual Championship League.",center:!0}),(()=>{const n=(t||[]).filter(r=>Array.isArray(r.standings)&&r.standings.length>0);return n.length===0?g.jsxs(je,{className:"text-center py-16 border-dashed",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-warning/20 rounded-full mb-4",children:g.jsx(lS,{className:"h-8 w-8 text-warning"})}),g.jsx("h2",{className:"text-xl font-medium text-text-main mb-2",children:"No completed events yet"}),g.jsx("p",{className:"text-text-muted max-w-md mx-auto",children:"No past Challenge events with results are available yet."})]}):g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((r,a)=>{const o={id:r.id,date:r.startDateTime?r.startDateTime.toISOString():r.id,isCompleted:!0,standings:r.standings},u=(Tm(o)||[]).sort((h,d)=>(h.rank||0)-(d.rank||0)).slice(0,3);return g.jsxs(je,{className:"h-full flex flex-col",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx(Tt,{to:`/event/${r.id}`,className:"bg-primary-light text-primary text-xs font-bold px-3 py-1 rounded-full hover:bg-primary-light/80 transition-colors",children:r.name}),g.jsxs("div",{className:"flex items-center text-xs text-text-muted",children:[g.jsx(io,{className:"h-3 w-3 mr-1"}),r.startDateTime?r.startDateTime.toLocaleDateString():r.id]})]}),g.jsx("div",{className:"space-y-6 flex-1",children:u.map((h,d)=>{const p=e.find(E=>E.id===h.playerId)||{name:"Unknown",imageUrl:""},v=d===0?"text-warning":d===1?"text-text-muted":"text-bronze",_=d===0?"Champion":d===1?"Runner Up":"Third Place";return g.jsxs(Tt,{to:`/player/${h.playerId}`,className:"flex items-center gap-4 group",children:[g.jsxs("div",{className:"relative",children:[g.jsx(tb,{imageUrl:p.imageUrl,name:p.name,size:"lg",className:Cn(d===0?"border-warning":"border-border","group-hover:ring-2 ring-primary transition-all"),border:!0}),g.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-surface shadow-sm flex items-center justify-center border border-border",children:d===0?g.jsx(Wn,{className:"h-3 w-3 text-warning"}):g.jsx(Dv,{className:`h-3 w-3 ${v}`})})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-xs font-bold uppercase tracking-wider ${v}`,children:_}),g.jsx("p",{className:"font-bold text-text-main group-hover:text-primary transition-colors",children:p.name}),g.jsxs("p",{className:"text-xs text-text-muted",children:[h.pointsEarned||0," pts"]})]})]},h.playerId)})})]},a)})})})()]})},lF=()=>{const{data:t=[]}=ti(),[e,n]=L.useState("all"),r=rb(e),a=L.useMemo(()=>DN(t.map(o=>o.startDateTime)),[t]);return g.jsxs("div",{className:"space-y-8",children:[g.jsx(Eh,{title:"Players",subtitle:`${r.length} players  ${e==="all"?"All Time":"Month view"}`,children:g.jsx("div",{className:"flex items-center gap-4",children:g.jsxs("select",{value:e,onChange:o=>n(o.target.value==="all"?"all":o.target.value),className:"appearance-none bg-surface border border-border text-text-main text-sm rounded-lg pl-3 pr-8 py-2",children:[g.jsx("option",{value:"all",children:"All Time"}),a.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))]})})}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:r.map(o=>g.jsx(Tt,{to:`/player/${o.id}`,className:"block group",children:g.jsxs(je,{className:"h-full overflow-hidden p-0 border-border group-hover:border-primary/50 transition-all group-hover:shadow-lg group-hover:shadow-primary/5 flex flex-col",children:[g.jsxs("div",{className:"aspect-square w-full relative bg-surface-highlight overflow-hidden",children:[o.imageUrl?g.jsx("img",{src:o.imageUrl.startsWith("/")?`/${o.imageUrl.slice(1)}`:o.imageUrl,alt:o.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-surface-highlight",children:g.jsx("span",{className:"text-4xl font-bold text-text-muted opacity-20",children:o.name?.charAt(0)})}),g.jsx("div",{className:"absolute top-3 left-3",children:g.jsxs("div",{className:"bg-surface/90 backdrop-blur-sm border border-border px-3 py-1 rounded-full text-sm font-bold text-text-main shadow-sm",children:["#",o.rank??0]})}),g.jsx("div",{className:"absolute top-3 right-3",children:g.jsxs("div",{className:"bg-surface/90 backdrop-blur-md border border-primary/30 px-3 py-1 rounded-full text-sm font-bold text-primary shadow-lg",children:[o.points," pts"]})})]}),g.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[g.jsx("h2",{className:"text-lg font-bold text-text-main mb-1 group-hover:text-primary transition-colors text-center truncate",children:o.name}),g.jsxs("p",{className:"text-xs text-text-muted text-center mb-3",children:["DUPR ",o.dupr??"N/A"]}),g.jsxs("div",{className:"mt-auto grid grid-cols-3 gap-2 pt-3 border-t border-border text-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Events"}),g.jsx("p",{className:"font-bold text-sm text-text-main",children:o.eventsPlayed})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Champ Ct"}),g.jsxs("div",{className:"flex items-center justify-center gap-1",children:[g.jsx(My,{className:"h-3 w-3 text-success"}),g.jsx("p",{className:"font-bold text-sm text-text-main",children:o.champWins})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Rank"}),g.jsx("p",{className:"font-bold text-sm text-text-main",children:o.rank??"-"})]})]})]})]})},o.id))})]})},uF=()=>{const{id:t}=F1(),{data:e}=z8(),{data:n=[]}=ti(),r=e?.find(v=>v.id===t);if(!r)return g.jsxs("div",{className:"text-center py-12",children:[g.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Player Not Found"}),g.jsx(Tt,{to:"/players",className:"text-primary hover:underline",children:"Back to Players"})]});const a=n.filter(v=>Array.isArray(v.standings)&&v.standings.length>0).map(v=>{const _={id:v.id,date:v.startDateTime?v.startDateTime.toISOString():v.id,isCompleted:!0,standings:v.standings},E=Tm(_)||[];return{ev:v,finals:E}}),o=new Map;a.forEach(({finals:v})=>{v.forEach(_=>{const E=_.playerId,A=_.pointsEarned||0,P=o.get(E)||{points:0,events:0,champWins:0};P.points+=A,P.events+=1,_.rank===1&&(P.champWins+=1),o.set(E,P)})});const u=Array.from(o.entries()).map(([v,_])=>({playerId:v,points:_.points,eventsPlayed:_.events,champWins:_.champWins})).sort((v,_)=>_.points-v.points);let h=null;u.forEach((v,_)=>{v.playerId===t&&(h=_+1)});const d=o.get(t||"")||{points:0,events:0,champWins:0},p=[];return a.forEach(({ev:v,finals:_})=>{const E=_.find(A=>A.playerId===t);E&&p.push({eventId:v.id,date:v.startDateTime?v.startDateTime.toLocaleDateString():v.id,rank:E.rank})}),g.jsxs("div",{className:"space-y-8 pb-12",children:[g.jsxs(Tt,{to:"/players",className:"inline-flex items-center text-text-muted hover:text-primary transition-colors mb-4",children:[g.jsx(Xk,{className:"h-4 w-4 mr-1"})," Back to Players"]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"md:col-span-1 space-y-6",children:[g.jsxs(je,{className:"p-0 overflow-hidden border-border",children:[g.jsx("div",{className:"aspect-square w-full relative bg-surface-highlight",children:r.imageUrl?g.jsx("img",{src:r.imageUrl.startsWith("/")?`/${r.imageUrl.slice(1)}`:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("span",{className:"text-6xl font-bold text-text-muted opacity-20",children:r.name.charAt(0)})})}),g.jsxs("div",{className:"p-6 text-center",children:[g.jsx("h1",{className:"text-3xl font-bold text-text-main mb-2",children:r.name}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[g.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold border border-primary/20",children:["DUPR ",r.dupr??"N/A"]}),g.jsxs("span",{className:"bg-surface-highlight text-text-muted px-3 py-1 rounded-full text-sm font-medium border border-border",children:["Rank #",h??"-"]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs(je,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(Wn,{className:"h-6 w-6 text-warning mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.points}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Points"})]}),g.jsxs(je,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(My,{className:"h-6 w-6 text-success mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.champWins}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Top Finishes"})]}),g.jsxs(je,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(Ww,{className:"h-6 w-6 text-primary mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:p.length}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Events"})]}),g.jsxs(je,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(io,{className:"h-6 w-6 text-text-muted mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.events}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Appearances"})]})]})]}),g.jsxs("div",{className:"md:col-span-2 space-y-8",children:[g.jsxs(je,{children:[g.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Ww,{className:"h-5 w-5 text-primary"}),"Event Placements"]}),g.jsx("div",{className:"space-y-3",children:p.length>0?p.slice().reverse().map((v,_)=>g.jsxs(Tt,{to:`/event/${v.eventId}`,className:"flex items-center justify-between p-3 bg-surface-highlight rounded-lg border border-border hover:border-primary/50 transition-colors cursor-pointer group",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:n.find(E=>E.id===v.eventId)?.name||v.eventId}),g.jsx("p",{className:"text-xs text-text-muted",children:v.date})]}),g.jsx("div",{className:"text-right",children:g.jsxs("p",{className:"font-mono font-bold text-text-main",children:["Rank #",v.rank]})})]},_)):g.jsx("p",{className:"text-text-muted text-center py-4",children:"No event placements available."})})]}),g.jsxs(je,{children:[g.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(My,{className:"h-5 w-5 text-primary"}),"Event Rankings"]}),g.jsx("div",{className:"space-y-2",children:p.length>0?p.slice().reverse().map((v,_)=>g.jsxs(Tt,{to:`/event/${v.eventId}`,className:"flex items-center justify-between p-2 border-b border-border last:border-0 hover:bg-surface-highlight transition-colors cursor-pointer group",children:[g.jsx("span",{className:"text-sm text-text-muted group-hover:text-text-main transition-colors",children:v.date}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:["Rank #",v.rank]}),g.jsx(nb,{rank:v.rank,size:"sm"})]})]},_)):g.jsx("p",{className:"text-text-muted text-center py-4",children:"No event data available."})})]})]})]})]})};function cF(){return g.jsx("div",{children:"Calculator Page - Under Construction"})}const hF=()=>{const{data:t}=ti(),e=v=>v?v.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",n=v=>v?v.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",[r,a]=Uc.useState("upcoming"),o=(t||[]).filter(v=>v.startDateTime instanceof Date&&!isNaN(v.startDateTime.getTime())).slice().sort((v,_)=>v.startDateTime.getTime()-_.startDateTime.getTime()),u=new Date,h=o.filter(v=>v.startDateTime.getTime()>=u.getTime()),d=o.filter(v=>v.startDateTime.getTime()<u.getTime()).slice().reverse(),p=r==="upcoming"?h:d;return g.jsxs("div",{className:"space-y-8 pb-12",children:[g.jsx(Eh,{title:"Season Schedule",subtitle:"Per-night registration links for 'The Challenge'  register for any night below.",center:!0}),g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx("div",{className:"flex items-center justify-end gap-2 mb-4",children:g.jsx(ON,{options:[{value:"upcoming",label:"Upcoming"},{value:"past",label:"Past"}],value:r,onChange:v=>a(v)})}),g.jsx("div",{className:"grid gap-6",children:p.map(v=>g.jsx(Tt,{to:`/event/${encodeURIComponent(v.id)}`,className:"group",children:g.jsxs(je,{className:"p-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-4 group-hover:shadow-lg transition",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-text-main mb-1",children:v.name}),g.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-text-muted",children:[g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(io,{className:"h-4 w-4"})," ",e(v.startDateTime)]}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(Cv,{className:"h-4 w-4"})," ",n(v.startDateTime)]}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(Em,{className:"h-4 w-4"})," ",v.location]})]})]}),g.jsx("div",{className:"flex-shrink-0 w-full md:w-auto",children:r==="past"?g.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-3 bg-surface border border-border rounded-xl text-text-muted font-semibold",children:[g.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-success/80"}),"Completed"]}):g.jsxs("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",onClick:_=>_.stopPropagation(),className:"inline-flex items-center justify-center gap-2 px-5 py-3 bg-primary text-text-main rounded-xl font-bold hover:opacity-95 transition shadow",children:["Register on CourtReserve ",g.jsx(wm,{className:"h-4 w-4"})]})})]})},v.id))})]})]})};function dF(){const[t,e]=L.useState(null),[n,r]=L.useState(!1),[a,o]=L.useState(!0);return L.useEffect(()=>{const u=SR(Pf,async h=>{if(e(h),!h){r(!1),o(!1);return}const p=(await h.getIdTokenResult(!0)).claims;r(p.admin===!0),o(!1)});return()=>u()},[]),{user:t,isAdmin:n,loading:a}}const fF=({isAdmin:t})=>{const{create:e,status:n,error:r}=L8(),[a,o]=L.useState(""),[u,h]=L.useState(""),[d,p]=L.useState(""),[v,_]=L.useState(""),[E,A]=L.useState(""),[P,D]=L.useState(""),[V,Y]=L.useState(""),[Q,J]=L.useState(""),[ae,le]=L.useState(""),me=async R=>{if(R.preventDefault(),!t){alert("You are not authorized to create events.");return}if(!a.trim()||!u){alert("Name and start date are required.");return}const S=new Date(`${u}T${d||"00:00"}`),N=v?new Date(`${v}T${E||"00:00"}`):void 0,M={name:a.trim(),startDateTime:S,...N?{endDateTime:N}:{},...P.trim()?{location:P.trim()}:{},...V?{status:V}:{},...Q.trim()?{label:Q.trim()}:{},...ae.trim()?{link:ae.trim()}:{},standings:[],rounds:[]};try{const j=await e(M);alert(`Event created${j?` (id: ${String(j)})`:""}.`),o(""),h(""),p(""),_(""),A(""),D(""),Y(""),J(""),le("")}catch(j){console.error("Create event failed",j),alert("Failed to create event. See console for details.")}};return g.jsxs("form",{onSubmit:me,className:"space-y-3 max-w-md",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Event name"}),g.jsx("input",{value:a,onChange:R=>o(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Start date"}),g.jsx("input",{type:"date",value:u,onChange:R=>h(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Start time (optional)"}),g.jsx("input",{type:"time",value:d,onChange:R=>p(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"End date (optional)"}),g.jsx("input",{type:"date",value:v,onChange:R=>_(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"End time (optional)"}),g.jsx("input",{type:"time",value:E,onChange:R=>A(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Location (optional)"}),g.jsx("input",{value:P,onChange:R=>D(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Status (optional)"}),g.jsxs("select",{value:V,onChange:R=>Y(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1",children:[g.jsx("option",{value:"",children:"(none)"}),g.jsx("option",{value:"open",children:"open"}),g.jsx("option",{value:"closed",children:"closed"}),g.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Label (optional)"}),g.jsx("input",{value:Q,onChange:R=>J(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Link (optional)"}),g.jsx("input",{value:ae,onChange:R=>le(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:!t||n==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:n==="pending"?"Creating...":"Create event"})}),r&&g.jsxs("p",{className:"text-sm text-red-600",children:["Error creating event: ",String(r)]})]})},mF=()=>{const[t,e]=L.useState(null),n=new Us,{isAdmin:r}=dF(),{create:a,status:o,error:u}=V8(),h=ti(),d=la(),p=h.data??[],v=d.data??[],[_,E]=L.useState(void 0),[A,P]=L.useState([]),{data:D}=AN(_)??{},{update:V,status:Y,error:Q}=IN(_),[J,ae]=L.useState(_),[le,me]=L.useState(D?.standings);(_!==J||D?.standings!==le)&&(ae(_),me(D?.standings),D?.standings&&Array.isArray(D.standings)?P([...D.standings]):P([]));const R=C=>{C&&P(Z=>[...Z,C])},S=C=>{P(Z=>Z.filter((ie,he)=>he!==C))},N=C=>{C<=0||P(Z=>{const ie=[...Z],he=ie[C-1];return ie[C-1]=ie[C],ie[C]=he,ie})},M=C=>{P(Z=>{if(C>=Z.length-1)return Z;const ie=[...Z],he=ie[C+1];return ie[C+1]=ie[C],ie[C]=he,ie})},j=async()=>{if(!r){alert("You are not authorized to update events.");return}if(!_){alert("Select an event first.");return}try{await V({standings:A}),alert("Standings saved.")}catch(C){console.error("Save standings failed",C),alert("Failed to save standings. See console for details.")}},[U,k]=L.useState(""),[Se,Ue]=L.useState(""),[$,ue]=L.useState(""),oe=async C=>{if(C.preventDefault(),!r){alert("You are not authorized to add players.");return}try{const Z=Se.trim()?Number(Se):void 0,ie={name:U.trim(),...Z!==void 0&&!Number.isNaN(Z)?{dupr:Z}:{},...$.trim()?{imageUrl:$.trim()}:{},createdAt:new Date().toISOString()};await a(ie),k(""),Ue(""),ue(""),alert("Player added.")}catch(Z){console.error("Create player failed",Z),alert("Failed to add player. See console for details.")}};L.useEffect(()=>{const C=SR(Pf,Z=>{e(Z)});return()=>C()},[]);const Me=async()=>{try{await G3(Pf,n)}catch(C){console.error("Google sign-in failed",C),alert("Sign-in failed. See console for details.")}},Ne=async()=>{try{await A3(Pf)}catch(C){console.error("Sign-out failed",C),alert("Sign-out failed. See console for details.")}};return g.jsxs("div",{className:"p-4",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin"}),t?g.jsxs("div",{children:[g.jsxs("p",{className:"mb-2",children:["Signed in as ",g.jsx("strong",{children:t.displayName??t.email})]}),g.jsxs("p",{children:["Admin status: ",r?"Yes":"No"]}),g.jsx("button",{onClick:Ne,className:"px-3 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Sign out"}),g.jsxs("section",{className:"mt-6",children:[g.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Protected admin area"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You are authenticated and can now access admin-only features."}),!r&&g.jsx("p",{className:"text-sm text-red-600 mb-4",children:"You are not an admin. Editing is disabled."}),g.jsxs("form",{onSubmit:oe,className:"space-y-3 max-w-md",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Name"}),g.jsx("input",{value:U,onChange:C=>k(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"DUPR (optional)"}),g.jsx("input",{value:Se,onChange:C=>Ue(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1",inputMode:"decimal"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Image URL (optional)"}),g.jsx("input",{value:$,onChange:C=>ue(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:!r||o==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:o==="pending"?"Adding...":"Add player"})}),u&&g.jsxs("p",{className:"text-sm text-red-600",children:["Error creating player: ",String(u)]})]})]}),g.jsxs("section",{className:"mt-8",children:[g.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Create Event"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a new Event (start date/time is required)."}),g.jsx(fF,{isAdmin:r})]}),g.jsxs("section",{className:"mt-8",children:[g.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Manage Event Standings"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select an event, build an ordered standings list of players, and save to the event."}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"md:col-span-1",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Event"}),g.jsxs("select",{value:_??"",onChange:C=>E(C.target.value||void 0),className:"mt-1 block w-full border rounded px-2 py-1",children:[g.jsx("option",{value:"",children:"(select an event)"}),p.map(C=>g.jsx("option",{value:C.id,children:C.name??C.id},C.id))]}),g.jsxs("div",{className:"mt-4",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Players"}),g.jsxs("div",{className:"mt-1 max-h-56 overflow-auto border rounded p-1",children:[v.length===0&&g.jsx("p",{className:"text-sm text-gray-500",children:"No players found."}),v.map(C=>g.jsxs("div",{className:"flex items-center justify-between px-1 py-1",children:[g.jsx("div",{className:"text-sm",children:C.name}),g.jsx("div",{children:g.jsx("button",{type:"button",onClick:()=>R(C.id),className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"Add"})})]},C.id))]})]})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Standings (ordered)"}),g.jsxs("div",{className:"mt-1 border rounded p-2 bg-white",children:[A.length===0&&g.jsx("p",{className:"text-sm text-gray-500",children:"No players in standings. Add players from the left."}),g.jsx("ul",{children:A.map((C,Z)=>{const ie=v.find(he=>he.id===C);return g.jsxs("li",{className:"flex items-center justify-between py-2 border-b",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsxs("div",{className:"text-sm font-medium",children:[Z+1,"."]}),g.jsx("div",{className:"text-sm",children:ie?ie.name:C})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{type:"button",onClick:()=>N(Z),disabled:Z===0,className:"px-2 py-1 bg-gray-200 rounded disabled:opacity-50 text-xs",children:""}),g.jsx("button",{type:"button",onClick:()=>M(Z),disabled:Z===A.length-1,className:"px-2 py-1 bg-gray-200 rounded disabled:opacity-50 text-xs",children:""}),g.jsx("button",{type:"button",onClick:()=>S(Z),className:"px-2 py-1 bg-red-600 text-white rounded text-xs",children:"Remove"})]})]},`${C}-${Z}`)})}),g.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[g.jsx("button",{type:"button",onClick:j,disabled:!r||Y==="pending"||!_,className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:Y==="pending"?"Saving...":"Save standings to event"}),g.jsx("button",{type:"button",onClick:()=>{P([])},className:"px-3 py-2 bg-gray-200 rounded",children:"Clear"})]}),Q&&g.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error saving: ",String(Q)]})]})]})]})]})]}):g.jsxs("div",{children:[g.jsx("p",{className:"mb-4",children:"Sign in with a Google account to access admin features."}),g.jsx("button",{onClick:Me,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Sign in with Google"})]})]})},pF=()=>{const{id:t}=F1(),e=t?decodeURIComponent(t):"",{data:n,isLoading:r}=AN(e),{data:a=[]}=la(),o=p=>p?p.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"",u=p=>p?p.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";if(r)return g.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!n)return g.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-4 text-center",children:[g.jsx("h1",{className:"text-3xl font-bold mb-4 text-text-main",children:"Event not found"}),g.jsxs("p",{className:"text-text-muted mb-8",children:["The event ID ",g.jsx("code",{className:"bg-surface-alt px-1 rounded",children:e||"(empty)"})," ","does not match any scheduled event."]}),g.jsxs(Tt,{to:"/schedule",className:"inline-flex items-center gap-2 bg-primary text-text-main px-6 py-3 rounded-xl font-bold",children:[g.jsx(eE,{className:"h-5 w-5"})," Back to schedule"]})]});const h=Array.isArray(n.standings)&&n.standings.length>0,d=n.startDateTime&&new Date(n.startDateTime)<new Date;return g.jsx("div",{className:"space-y-8 pb-16",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:[g.jsxs(Tt,{to:"/schedule",className:"inline-flex items-center gap-1 text-sm text-text-muted hover:text-text-main transition-colors mb-6 group",children:[g.jsx(eE,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform"}),"Back to schedule"]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[h?g.jsx("span",{className:"px-3 py-1 bg-success/10 text-success text-xs font-bold uppercase tracking-wider rounded-full border border-success/20",children:"Completed"}):d?g.jsx("span",{className:"px-3 py-1 bg-warning/10 text-warning text-xs font-bold uppercase tracking-wider rounded-full border border-warning/20",children:"Ongoing"}):g.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary text-xs font-bold uppercase tracking-wider rounded-full border border-primary/20",children:"Upcoming"}),n.label&&g.jsx("span",{className:"px-3 py-1 bg-surface-alt text-text-muted text-xs font-bold uppercase tracking-wider rounded-full border border-border",children:n.label})]}),g.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main tracking-tight leading-tight",children:n.name})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs(je,{className:"p-4 flex items-start gap-4 bg-surface/50 border-border/50",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-xl text-primary mt-1",children:g.jsx(io,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider",children:"Date"}),g.jsx("div",{className:"text-lg font-bold text-text-main",children:o(n.startDateTime)})]})]}),g.jsxs(je,{className:"p-4 flex items-start gap-4 bg-surface/50 border-border/50",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-xl text-primary mt-1",children:g.jsx(Cv,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider",children:"Time"}),g.jsxs("div",{className:"text-lg font-bold text-text-main",children:[u(n.startDateTime),n.endDateTime?` - ${u(n.endDateTime)}`:" - 10:00 PM"]})]})]}),n.location&&g.jsxs(je,{className:"p-4 flex items-start gap-4 bg-surface/50 border-border/50 sm:col-span-2",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-xl text-primary mt-1",children:g.jsx(Em,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider",children:"Location"}),g.jsx("div",{className:"text-lg font-bold text-text-main",children:n.location})]})]})]}),!h&&n.link&&g.jsxs("div",{className:"pt-4",children:[g.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-3 w-full sm:w-auto px-8 py-4 bg-primary text-text-main rounded-2xl font-black text-lg hover:shadow-xl hover:-translate-y-1 transition-all shadow-primary/20 border-b-4 border-primary-hover active:border-b-0 active:translate-y-0",children:["Register on CourtReserve ",g.jsx(wm,{className:"h-5 w-5"})]}),g.jsxs("p",{className:"mt-4 text-sm text-text-muted flex items-center gap-1.5 ml-1",children:[g.jsx(Wl,{className:"h-4 w-4"})," Limited spots available. Register early!"]})]})]}),g.jsx("div",{className:"space-y-6",children:h?g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center justify-between px-2",children:g.jsxs("h2",{className:"text-2xl font-black text-text-main flex items-center gap-2",children:[g.jsx(Wn,{className:"h-6 w-6 text-warning"}),"Final Standings"]})}),g.jsx(je,{className:"overflow-hidden border-border/50 shadow-xl",children:g.jsx(kN,{data:n.standings.map((p,v)=>({playerId:p,rank:v+1})),players:a,showEvents:!1,showPoints:!1})})]}):g.jsxs(je,{className:"p-6 bg-surface-alt/50 border-dashed space-y-4 flex flex-col items-center text-center justify-center min-h-[200px]",children:[g.jsx("div",{className:"p-4 bg-surface rounded-full text-text-muted border border-border",children:g.jsx(Dv,{className:"h-8 w-8 opacity-40"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-text-main",children:"Standings TBD"}),g.jsx("p",{className:"text-sm text-text-muted",children:"Final results will appear here after the event concludes."})]})]})})]}),Array.isArray(n.rounds)&&n.rounds.length>0&&g.jsxs("div",{className:"mt-16 space-y-8",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"h-1 lg:h-px flex-grow bg-gradient-to-r from-transparent via-border to-transparent"}),g.jsx("h2",{className:"text-2xl font-black text-text-main uppercase tracking-widest whitespace-nowrap",children:"Match Results"}),g.jsx("div",{className:"h-1 lg:h-px flex-grow bg-gradient-to-r from-transparent via-border to-transparent"})]}),g.jsx("div",{className:"space-y-12",children:n.rounds.map((p,v)=>g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"h-10 w-10 rounded-xl bg-surface-highlight flex items-center justify-center font-black text-primary border border-primary/20",children:v+1}),g.jsxs("h3",{className:"text-xl font-bold text-text-main",children:["Round ",v+1," Results"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.courts.map((_,E)=>g.jsxs(je,{className:"p-0 overflow-hidden border-border/40 shadow-sm hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"bg-surface-alt px-4 py-2 border-b border-border flex justify-between items-center",children:[g.jsxs("span",{className:"text-sm font-black text-text-muted uppercase tracking-wider",children:["Court ",E+1]}),g.jsx("span",{className:"text-xs text-text-muted font-medium px-2 py-0.5 bg-surface rounded-full border border-border",children:"Fast Format"})]}),g.jsx("div",{className:"p-4 grid grid-cols-2 gap-y-4 gap-x-6",children:_.playerNames.map((A,P)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-primary/40"}),g.jsx("span",{className:"text-sm font-semibold truncate text-text-main",children:A})]},P))}),g.jsx("div",{className:"px-4 py-3 bg-surface-highlight/30 border-t border-border/30 flex items-center justify-center gap-6",children:_.matches.map((A,P)=>g.jsxs("div",{className:"text-center group",children:[g.jsxs("div",{className:"text-[10px] text-text-muted uppercase font-bold tracking-tighter mb-0.5 group-hover:text-primary transition-colors",children:["G",P+1]}),g.jsxs("div",{className:"font-mono font-black text-sm text-text-main",children:[A.scoreA??"-",g.jsx("span",{className:"text-text-muted px-0.5",children:":"}),A.scoreB??"-"]})]},P))})]},E))})]},v))})]})]})})},sb=4,jN=(t,e)=>{if(e===3)return t;if(e===2||e===1)return Math.ceil(jN(t,e+1)/3);throw new Error("Invalid round number")},Ay=t=>String.fromCharCode(65+t),gF=(t,e)=>t===e?Ay(t):`${Ay(t)}${Ay(e)}`;function yF(t,e=1){const n=Array.from({length:t},()=>[]);for(let r=0;r<sb;r++){const a=e+r*t,o=Array.from({length:t},(h,d)=>a+d),u=r%2===0?o:o.slice().reverse();for(let h=0;h<t;h++)n[h].push(u[h])}return n}const ih=(t,e)=>{if(t<=0)return[];if(![1,2,3].includes(e))return[];const n=jN(t,e),r=Math.floor(t/n),a=t%n,o=[];let u=0,h=1;for(let d=0;d<n;d++){const p=r+(d<a?1:0),v=gF(u,u+p-1),_=yF(p,h);for(let E=0;E<p;E++)o.push({seeds:_[E],tier:v});h+=p*sb,u+=p}return o},vF=(t,e)=>!t||!e||t<=0?[]:ih(t,e),A1=t=>t.includes("")?(t.charCodeAt(0)+t.charCodeAt(2))/2:t.charCodeAt(0),_F=(t,e)=>A1(t)-A1(e),I1=(t,e)=>t.tier!==e.tier?_F(t.tier,e.tier):t.courtRank!==e.courtRank?t.courtRank-e.courtRank:t.wins!==e.wins?e.wins-t.wins:t.pointDifferential!==e.pointDifferential?e.pointDifferential-t.pointDifferential:t.seed-e.seed;function MN(t,e){if(!t?.length)return[];if(![1,2,3].includes(e))return[];const n=ih(t.length,e),r=t.flatMap((o,u)=>{const h=o.playerIds.map((d,p)=>({id:d,courtIndex:u,tier:n[u].tier,courtRank:0,wins:0,losses:0,pointDifferential:0,seed:n[u].seeds[p],roundPlace:0,nextCourt:0,nextTier:""}));return o.games.forEach(d=>{const{team1Player1Id:p,team1Player2Id:v,team2Player1Id:_,team2Player2Id:E,team1Score:A=0,team2Score:P=0}=d,D=(ae,le,me,R)=>{const S=le>me||le===me&&R;ae.wins+=S?1:0,ae.losses+=S?0:1,ae.pointDifferential+=le-me},V=h.find(ae=>ae.id===p),Y=h.find(ae=>ae.id===v),Q=h.find(ae=>ae.id===_),J=h.find(ae=>ae.id===E);D(V,A,P,!0),D(Y,A,P,!0),D(Q,P,A,!1),D(J,P,A,!1)}),h});r.sort(I1);const a=t.map(()=>1);for(const o of r)o.courtRank=a[o.courtIndex],a[o.courtIndex]+=1;if(r.sort(I1),r.forEach((o,u)=>{o.roundPlace=u+1}),e<3){const o=ih(t.length,e+1);r.forEach(u=>{const h=o.findIndex(d=>d.seeds.includes(u.roundPlace));u.nextCourt=h+1,u.nextTier=o[h].tier})}return r}const bF=(t,e)=>{const n=e+1,r=Math.ceil(t.length/sb);return ih(r,n).map((u,h)=>({playerIds:u.seeds.map(d=>t.find(p=>p.roundPlace===d)?.id||""),roundNumber:n,courtNumber:h+1}))},Iy=(t,e)=>{const{data:n}=RN(t),r=vF(n?.length,e),{data:a}=NN(t);return L.useMemo(()=>{if(!n||!r||!a)return;const u=n.filter(h=>h.roundNumber===e).sort((h,d)=>h.courtNumber-d.courtNumber).map((h,d)=>({...h,seeds:r[d].seeds,tier:r[d].tier,games:a.filter(p=>p.courtId===h.id)}));return{roundNumber:e,courts:u,standings:MN(u,e).map(h=>h.id)}},[n,r,a,e])},VN=()=>{const{data:t}=ti(),[e,n]=L.useState(void 0),{data:r}=U8(e),{update:a}=IN(),o=L.useMemo(()=>r?.ongoingStage||"initial",[r]),[u,h]=L.useState(o),d=Iy(e,u),p=L.useMemo(()=>o||0,[o]),v=L.useMemo(()=>{if(o==="initial")return 1;if(typeof o=="number"&&o<3)return o+1},[o]),_=L.useCallback(Se=>{r&&a({id:r.id,ongoingStage:Se})},[r,a]),E=Iy(e,p),A=Iy(e,v),P=L.useMemo(()=>p-1,[p]),{create:D}=F8(e),{create:V}=q8(e),{update:Y}=$8(e);console.log("selectedEventId:",e,"updateGame:",Y);const{data:Q=[]}=NN(e),{remove:J}=H8(e),{data:ae=[]}=RN(e),{remove:le}=B8(e),me=L.useCallback(async()=>{if(window.confirm("Are you sure you want to clear all data and start over?")&&e){for(const Se of Q||[])await J(Se.id);for(const Se of ae||[])await le(Se.id);_("initial"),h("initial")}},[e,_,Q,J,ae,le]),R=L.useCallback(async(Se,Ue)=>{if(P>0){console.error("Cannot initialize courts: rounds have already been played");return}const ue=Se*4;if(Ue.length!==ue){console.error(`Not enough players to initialize ${Se} courts. Required: ${ue}, provided: ${Ue.length}`);return}const oe=ih(Se,1);for(let Me=0;Me<Se;Me++){const Ne=oe[Me].seeds.map(Z=>Ue[Z-1]),C=await D({playerIds:Ne,roundNumber:1,courtNumber:Me+1});V({courtId:C,team1Player1Id:Ne[0],team1Player2Id:Ne[1],team2Player1Id:Ne[2],team2Player2Id:Ne[3],roundNumber:1}),V({courtId:C,team1Player1Id:Ne[0],team1Player2Id:Ne[2],team2Player1Id:Ne[1],team2Player2Id:Ne[3],roundNumber:1}),V({courtId:C,team1Player1Id:Ne[0],team1Player2Id:Ne[3],team2Player1Id:Ne[1],team2Player2Id:Ne[2],roundNumber:1})}_(1),h(1)},[P,D,V,_,h]),S=L.useCallback(async()=>{if(![1,2].includes(p||0)){alert("Can only advance to next round from rounds 1 or 2.");return}if(!E){alert("No ongoing round data available to advance.");return}if(E.courts.length===0||E.courts.some($=>$.games.length===0)){alert("No courts games available in the ongoing round to advance.");return}if(E.courts.some($=>$.games.some(ue=>ue.team1Score===void 0||ue.team2Score===void 0))){alert("All match results must be entered before advancing to the next round.");return}if(v===void 0){alert("Cannot determine the next round number.");return}if(A&&A.courts.length>0){alert("Next round courts have already been initialized.");return}const Se=MN(E.courts,p);bF(Se,v).forEach(async $=>{const ue=await D({playerIds:$.playerIds,roundNumber:v,courtNumber:$.courtNumber});V({courtId:ue,team1Player1Id:$.playerIds[0],team1Player2Id:$.playerIds[1],team2Player1Id:$.playerIds[2],team2Player2Id:$.playerIds[3],roundNumber:v}),V({courtId:ue,team1Player1Id:$.playerIds[0],team1Player2Id:$.playerIds[2],team2Player1Id:$.playerIds[1],team2Player2Id:$.playerIds[3],roundNumber:v}),V({courtId:ue,team1Player1Id:$.playerIds[0],team1Player2Id:$.playerIds[3],team2Player1Id:$.playerIds[1],team2Player2Id:$.playerIds[2],roundNumber:v}),h(v)}),_(v)},[p,E,v,A,_,D,V]),N=()=>{if(!r){alert("No event selected to finalize.");return}if(o!==3){alert("Event can only be finalized after completing round 3.");return}if(!E?.courts||E.courts.length===0){alert("No courts available to finalize the event.");return}if(E.courts.some(Se=>Se.games.some(Ue=>Ue.team1Score===void 0||Ue.team2Score===void 0))){alert("All match results must be entered before finalizing the event.");return}r.standings&&r.standings.length>0&&window.confirm("Standings already exist. Overwrite?")===!1||(a({id:r.id,standings:E.standings}),h("standings"))},M=L.useMemo(()=>Q?.filter(Se=>Se.team1Score!==void 0&&Se.team2Score!==void 0).length||0,[Q]),j=L.useMemo(()=>Q?.length||1,[Q]),U=Math.round(M/Math.max(1,j)*100),k=L.useCallback((Se,Ue,$)=>{console.log("updateGame called with:",Se,Ue,$,Y),Y({id:Se,[Ue]:$})},[Y]);return{events:t,selectedEventId:e,setSelectedEventId:n,ongoingRound:E,currentRoundViewData:d,event:r,currentView:u,setCurrentView:h,ongoingRoundNumber:p,completedMatches:M,totalMatches:j,progressPercent:U,handleScoreChange:k,initializeCourts:R,advanceToNextRound:S,finalizeEvent:N,resetAll:me,apiError:null}},zN=({current:t,onSelect:e,showInitialize:n})=>g.jsxs("div",{className:"flex p-1 bg-surface-alt rounded-lg mb-4 gap-2 justify-center",children:[n&&g.jsx("button",{onClick:()=>e("initial"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${t==="initial"?"bg-surface-highlight text-text-main shadow-sm":"text-text-muted hover:text-text-main"}`,children:"Initialize"},"initial"),Array.from({length:3},(r,a)=>g.jsxs("button",{onClick:()=>e(a+1),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${t===a+1?"bg-surface-highlight text-text-main shadow-sm":"text-text-muted hover:text-text-main"}`,children:["Round ",a+1]},a)),g.jsx("button",{onClick:()=>e("standings"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${t==="standings"?"bg-surface-highlight text-text-main shadow-sm":"text-text-muted hover:text-text-main"}`,children:"Standings"},"standings")]}),LN=({events:t,selectedEventId:e,onChange:n,label:r="Select Event",className:a=""})=>g.jsxs("div",{className:a,children:[g.jsx("label",{className:"block text-sm font-medium",children:r}),g.jsxs("select",{value:e??"",onChange:o=>n(o.target.value||void 0),className:"mt-1 block w-full border rounded px-2 py-1 bg-surface-alt",children:[g.jsx("option",{value:"",children:"(select an event)"}),t.map(o=>g.jsx("option",{value:o.id,children:o.name??o.id},o.id))]})]}),UN=({completedMatches:t,totalMatches:e,progressPercent:n,numPlayers:r,numCourts:a,className:o=""})=>g.jsxs("div",{className:`bg-surface p-3 rounded-lg border border-border max-w-md mx-auto mb-6 ${o}`,children:[g.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[g.jsx("span",{className:"text-text-muted font-medium",children:"Round Progress"}),g.jsxs("span",{className:"text-primary font-bold",children:[t," / ",e," Matches"]})]}),g.jsx("div",{className:"h-2 bg-surface-alt rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${n}%`}})}),g.jsxs("div",{className:"text-[10px] text-text-muted mt-1 text-center",children:[r," Players  ",a," Courts"]})]}),xF=({playerIds:t,players:e})=>g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((n,r)=>{const a=e.find(o=>o.id===n);return g.jsxs("div",{className:"flex items-center gap-3 bg-surface-alt/30 p-2 rounded-lg border border-transparent transition-colors",children:[g.jsxs("div",{className:"w-8 text-xs text-text-muted font-mono font-bold",children:["P",r+1]}),g.jsx("div",{className:"flex-1",children:a?.name??"Unknown"})]},r)})}),wF=({games:t,editableScores:e,onScoreChange:n})=>g.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:t.map((r,a)=>g.jsxs("div",{className:`rounded-xl p-4 border transition-all duration-300 ${r.team1Score!==void 0&&r.team2Score!==void 0?"bg-success/5 border-success/30 shadow-sm":"bg-surface-alt/50 border-border hover:border-warning/30"}`,children:[g.jsx("div",{className:"flex justify-center mb-3",children:g.jsxs("div",{className:`text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1 ${r.team1Score!==void 0&&r.team2Score!==void 0?"bg-success/20 text-success":"bg-surface text-text-muted"}`,children:["Match ",a+1]})}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-medium truncate pr-2 w-2/3",children:"Team 1"}),e&&n&&r.id?g.jsx("input",{type:"number",min:0,max:11,value:r.team1Score??"",onChange:o=>n(r.id,"team1Score",Number(o.target.value)),className:"w-full bg-surface border border-border rounded px-2 py-1.5 text-center text-sm font-bold focus:ring-2 ring-warning/50 outline-none",placeholder:"Team 1"}):g.jsx("span",{className:"px-2 py-1 rounded bg-success/10 text-success font-bold w-16 text-center",children:r.team1Score??"-"})]}),g.jsxs("div",{className:"relative flex items-center py-1",children:[g.jsx("div",{className:"flex-grow border-t border-border"}),g.jsx("span",{className:"flex-shrink-0 mx-2 text-[10px] font-bold text-text-muted uppercase",children:"VS"}),g.jsx("div",{className:"flex-grow border-t border-border"})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-medium truncate pr-2 w-2/3",children:"Team 2"}),e&&n&&r.id?g.jsx("input",{type:"number",min:0,max:11,value:r.team2Score??"",onChange:o=>n(r.id,"team2Score",Number(o.target.value)),className:"w-full bg-surface border border-border rounded px-2 py-1.5 text-center text-sm font-bold focus:ring-2 ring-warning/50 outline-none",placeholder:"Team 2"}):g.jsx("span",{className:"px-2 py-1 rounded bg-error/10 text-error font-bold w-16 text-center",children:r.team2Score??"-"})]})]})]},a))}),FN=({court:t,players:e,editableScores:n=!1,onScoreChange:r,roundNumber:a})=>g.jsxs("div",{className:"p-0 overflow-hidden animate-in fade-in slide-in-from-right-4 duration-300 border-t-4 border-primary bg-surface rounded shadow-lg",children:[g.jsx("div",{className:"p-6 border-b border-border bg-surface-highlight/20",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:g.jsxs("span",{className:"font-bold text-primary",children:["Court ",t.courtNumber]})}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold text-text-main",children:["Court ",t.courtNumber]}),g.jsxs("p",{className:"text-sm text-text-muted",children:["Round ",a]}),g.jsxs("span",{className:"inline-block mt-1 text-xs font-semibold text-accent bg-surface-alt/60 rounded px-2 py-0.5",children:["Tier: ",t.tier]})]})]})}),g.jsxs("div",{className:"p-6 space-y-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center gap-2 text-sm font-bold text-primary uppercase tracking-wider",children:"Players"}),g.jsx(xF,{playerIds:t.playerIds,players:e})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center gap-2 text-sm font-bold text-warning uppercase tracking-wider",children:"Matches"}),g.jsx(wF,{games:t.games,editableScores:n,onScoreChange:r})]})]})]}),EF=({numCourts:t,setNumCourts:e,players:n,selectedPlayers:r,setSelectedPlayers:a,allTimeStats:o,onAssignCourts:u,disabled:h,error:d})=>g.jsxs("div",{children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Number of Courts"}),g.jsx("select",{value:t,onChange:p=>e(Number(p.target.value)),className:"mt-1 block w-full border rounded px-2 py-1",children:[2,3,4,5,6,7].map(p=>g.jsx("option",{value:p,children:p},p))})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Select Players"}),g.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(p=>g.jsxs("label",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",checked:r.includes(p.id??""),onChange:v=>{a(v.target.checked?[...r,p.id??""]:r.filter(_=>_!==p.id))}}),p.name," (",o[p.id??""]??0," pts)"]},p.id))})]}),g.jsx(ao,{onClick:u,className:"mb-4",disabled:h,children:"Assign Courts (Snake Draw)"}),g.jsx("div",{className:"text-xs text-error mb-2",children:d})]}),TF=({message:t,className:e=""})=>t?g.jsx("div",{className:`text-sm text-red-600 mt-2 ${e}`,children:t}):null;function SF(t,e){return[...t].filter(n=>t.includes(n??"")).sort((n,r)=>(e[r??""]??0)-(e[n??""]??0))}const AF=()=>{const{events:t,selectedEventId:e,setSelectedEventId:n,currentRoundViewData:r,currentView:a,setCurrentView:o,ongoingRoundNumber:u,initializeCourts:h,advanceToNextRound:d,handleScoreChange:p,resetAll:v}=VN(),{data:_=[]}=la(),E=_.map(S=>({...S,id:S.id??""})),A=rb("all"),P=L.useMemo(()=>{const S={};return A.forEach(N=>{S[N.id??""]=N.points??0}),S},[A]),[D,V]=L.useState(4),[Y,Q]=L.useState([]),[J,ae]=L.useState(0),le=L.useMemo(()=>SF(Y,P),[Y,P]),me=async()=>{h(D,le)},R=async()=>{d()};return g.jsx("div",{className:"space-y-8",children:g.jsxs("div",{className:"min-h-[60vh] bg-background text-text-main p-4 sm:p-6",children:[g.jsxs("div",{className:"mx-auto",children:[g.jsxs("header",{className:"mb-4 text-center",children:[g.jsxs("div",{className:"flex items-center justify-center gap-3",children:[g.jsx("h1",{className:"text-3xl sm:text-2xl font-extrabold tracking-tight",children:"Event Night Admin"}),g.jsxs("div",{className:"text-xs flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold bg-success/10 text-success",children:"Admin"}),e?g.jsxs("span",{className:"text-[11px] text-text-muted",children:["Event: ",e]}):g.jsx("span",{className:"text-[11px] text-text-muted",children:"No event selected"})]})]}),g.jsx("p",{className:"text-sm text-text-muted mt-1 max-w-prose mx-auto",children:"Assign courts, enter scores, and manage rounds for the selected event."}),g.jsx("div",{className:"mt-3 h-0.5 bg-gradient-to-r from-primary via-text-accent to-success rounded"})]}),g.jsx(LN,{events:t??[],selectedEventId:e,onChange:n,className:""})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx(zN,{current:a,onSelect:o,showInitialize:!0}),a==="initial"&&g.jsx(g.Fragment,{children:g.jsx(EF,{numCourts:D,setNumCourts:V,players:E,selectedPlayers:Y,setSelectedPlayers:Q,allTimeStats:P,onAssignCourts:me,disabled:Y.length!==D*4,error:Y.length!==D*4?`Select exactly ${D*4} players for ${D} courts`:""})}),g.jsx(UN,{completedMatches:r?.courts.reduce((S,N)=>S+(N.games.filter(M=>M.team1Score!==void 0&&M.team2Score!==void 0).length??0),0)??0,totalMatches:(r?.courts?.length??0)*3,progressPercent:r?.courts?.length?Math.round(r?.courts.reduce((S,N)=>S+(N.games.filter(M=>M.team1Score!==void 0&&M.team2Score!==void 0).length??0),0)/(r?.courts.length*3)*100):0,numPlayers:(r?.courts.length??0)*4,numCourts:r?.courts?.length??0}),g.jsx("h2",{className:"text-lg font-semibold mb-2 text-center",children:"Court Assignments"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r?.courts?.map((S,N)=>g.jsx(FN,{court:{...S,courtNumber:N+1},players:E,editableScores:!0,onScoreChange:p,roundNumber:J+1},S.id??N))})]}),g.jsxs("div",{className:"flex gap-4 mt-4",children:[g.jsx(ao,{onClick:R,variant:"secondary",disabled:a!==1&&a!==2||u!==a,children:"Generate Next Round"}),g.jsx(ao,{onClick:v,variant:"secondary",children:"Reset All"})]}),g.jsx(TF,{message:void 0})]})})},IF=()=>{const{events:t,selectedEventId:e,setSelectedEventId:n,currentRoundViewData:r,currentView:a,setCurrentView:o,completedMatches:u,totalMatches:h,progressPercent:d}=VN(),{data:p=[]}=la(),v=p.map(_=>({..._,id:_.id??""}));return g.jsxs("div",{className:"min-h-[80vh] bg-background text-text-main px-2 py-4 sm:p-6 max-w-2xl mx-auto",children:[g.jsxs("header",{className:"mb-4 text-center",children:[g.jsx("h1",{className:"text-3xl sm:text-2xl font-extrabold tracking-tight mb-1",children:"Match Night"}),g.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs mb-1",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold bg-primary/10 text-primary",children:"Player View"}),e?g.jsxs("span",{className:"text-[11px] text-text-muted",children:["Event: ",e]}):g.jsx("span",{className:"text-[11px] text-text-muted",children:"No event selected"})]}),g.jsx("div",{className:"mt-2 h-0.5 bg-gradient-to-r from-primary via-text-accent to-success rounded"})]}),g.jsx("div",{className:"mb-4",children:g.jsx(LN,{events:t??[],selectedEventId:e,onChange:n})}),g.jsx(zN,{current:a,onSelect:o}),r?.courts?g.jsxs(g.Fragment,{children:[g.jsx(UN,{completedMatches:u,totalMatches:h,progressPercent:d,numPlayers:(r.courts.length??0)*4,numCourts:r.courts.length??0}),g.jsx("h2",{className:"text-lg font-semibold mb-2 text-center",children:"Court Assignments"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.courts.map((_,E)=>g.jsx(FN,{court:{..._,courtNumber:_.courtNumber??E+1},players:v,editableScores:!1,roundNumber:a+1},_.id??E))}),g.jsxs("div",{className:"mt-6 text-center text-xs text-text-muted",children:["Progress: Round ",a+1," of ",3]})]}):g.jsx("div",{className:"text-center text-text-muted mt-8",children:"No round data available for this event."})]})},RF=()=>g.jsx(vP,{children:g.jsxs(AD,{children:[g.jsx(Yn,{path:"/",element:g.jsx(K8,{})}),g.jsx(Yn,{path:"/standings",element:g.jsx(Z8,{})}),g.jsx(Yn,{path:"/schedule",element:g.jsx(hF,{})}),g.jsx(Yn,{path:"/players",element:g.jsx(lF,{})}),g.jsx(Yn,{path:"/player/:id",element:g.jsx(uF,{})}),g.jsx(Yn,{path:"/format",element:g.jsx(aF,{})}),g.jsx(Yn,{path:"/champions",element:g.jsx(oF,{})}),g.jsx(Yn,{path:"/calculator",element:g.jsx(cF,{})}),g.jsx(Yn,{path:"/admin",element:g.jsx(mF,{})}),g.jsx(Yn,{path:"/event/:id",element:g.jsx(pF,{})}),g.jsx(Yn,{path:"/event-night-admin",element:g.jsx(AF,{})}),g.jsx(Yn,{path:"/event-night-player-view",element:g.jsx(IF,{})})]})}),NF=new Nk;RC.createRoot(document.getElementById("root")).render(g.jsx(L.StrictMode,{children:g.jsx(Ck,{client:NF,children:g.jsx(YD,{children:g.jsx(RF,{})})})}));
