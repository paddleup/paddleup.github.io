(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function wC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ny={exports:{}},_u={};var Ew;function EC(){if(Ew)return _u;Ew=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:o}}return _u.Fragment=e,_u.jsx=n,_u.jsxs=n,_u}var Tw;function TC(){return Tw||(Tw=1,ny.exports=EC()),ny.exports}var g=TC(),ry={exports:{}},ke={};var Sw;function SC(){if(Sw)return ke;Sw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function T(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,V={};function X(N,Q,ae){this.props=N,this.context=Q,this.refs=V,this.updater=ae||D}X.prototype.isReactComponent={},X.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},X.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function $(){}$.prototype=X.prototype;function U(N,Q,ae){this.props=N,this.context=Q,this.refs=V,this.updater=ae||D}var J=U.prototype=new $;J.constructor=U,k(J,X.prototype),J.isPureReactComponent=!0;var se=Array.isArray;function fe(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(N,Q,ae){var ce=ae.ref;return{$$typeof:t,type:N,key:Q,ref:ce!==void 0?ce:null,props:ae}}function P(N,Q){return C(N.type,Q,N.props)}function M(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function F(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return Q[ae]})}var j=/\/+/g;function Ge(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?F(""+N.key):Q.toString(36)}function Ze(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(fe,fe):(N.status="pending",N.then(function(Q){N.status==="pending"&&(N.status="fulfilled",N.value=Q)},function(Q){N.status==="pending"&&(N.status="rejected",N.reason=Q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function W(N,Q,ae,ce,Ee){var Re=typeof N;(Re==="undefined"||Re==="boolean")&&(N=null);var xe=!1;if(N===null)xe=!0;else switch(Re){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(N.$$typeof){case t:case e:xe=!0;break;case v:return xe=N._init,W(xe(N._payload),Q,ae,ce,Ee)}}if(xe)return Ee=Ee(N),xe=ce===""?"."+Ge(N,0):ce,se(Ee)?(ae="",xe!=null&&(ae=xe.replace(j,"$&/")+"/"),W(Ee,Q,ae,"",function(er){return er})):Ee!=null&&(M(Ee)&&(Ee=P(Ee,ae+(Ee.key==null||N&&N.key===Ee.key?"":(""+Ee.key).replace(j,"$&/")+"/")+xe)),Q.push(Ee)),1;xe=0;var St=ce===""?".":ce+":";if(se(N))for(var tt=0;tt<N.length;tt++)ce=N[tt],Re=St+Ge(ce,tt),xe+=W(ce,Q,ae,Re,Ee);else if(tt=T(N),typeof tt=="function")for(N=tt.call(N),tt=0;!(ce=N.next()).done;)ce=ce.value,Re=St+Ge(ce,tt++),xe+=W(ce,Q,ae,Re,Ee);else if(Re==="object"){if(typeof N.then=="function")return W(Ze(N),Q,ae,ce,Ee);throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return xe}function he(N,Q,ae){if(N==null)return N;var ce=[],Ee=0;return W(N,ce,"","",function(Re){return Q.call(ae,Re,Ee++)}),ce}function le(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var Me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Fe={map:he,forEach:function(N,Q,ae){he(N,function(){Q.apply(this,arguments)},ae)},count:function(N){var Q=0;return he(N,function(){Q++}),Q},toArray:function(N){return he(N,function(Q){return Q})||[]},only:function(N){if(!M(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ke.Activity=_,ke.Children=Fe,ke.Component=X,ke.Fragment=n,ke.Profiler=i,ke.PureComponent=U,ke.StrictMode=r,ke.Suspense=d,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,ke.__COMPILER_RUNTIME={__proto__:null,c:function(N){return R.H.useMemoCache(N)}},ke.cache=function(N){return function(){return N.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(N,Q,ae){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ce=k({},N.props),Ee=N.key;if(Q!=null)for(Re in Q.key!==void 0&&(Ee=""+Q.key),Q)!A.call(Q,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Q.ref===void 0||(ce[Re]=Q[Re]);var Re=arguments.length-2;if(Re===1)ce.children=ae;else if(1<Re){for(var xe=Array(Re),St=0;St<Re;St++)xe[St]=arguments[St+2];ce.children=xe}return C(N.type,Ee,ce)},ke.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},ke.createElement=function(N,Q,ae){var ce,Ee={},Re=null;if(Q!=null)for(ce in Q.key!==void 0&&(Re=""+Q.key),Q)A.call(Q,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ee[ce]=Q[ce]);var xe=arguments.length-2;if(xe===1)Ee.children=ae;else if(1<xe){for(var St=Array(xe),tt=0;tt<xe;tt++)St[tt]=arguments[tt+2];Ee.children=St}if(N&&N.defaultProps)for(ce in xe=N.defaultProps,xe)Ee[ce]===void 0&&(Ee[ce]=xe[ce]);return C(N,Re,Ee)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(N){return{$$typeof:h,render:N}},ke.isValidElement=M,ke.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:le}},ke.memo=function(N,Q){return{$$typeof:p,type:N,compare:Q===void 0?null:Q}},ke.startTransition=function(N){var Q=R.T,ae={};R.T=ae;try{var ce=N(),Ee=R.S;Ee!==null&&Ee(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(fe,Me)}catch(Re){Me(Re)}finally{Q!==null&&ae.types!==null&&(Q.types=ae.types),R.T=Q}},ke.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},ke.use=function(N){return R.H.use(N)},ke.useActionState=function(N,Q,ae){return R.H.useActionState(N,Q,ae)},ke.useCallback=function(N,Q){return R.H.useCallback(N,Q)},ke.useContext=function(N){return R.H.useContext(N)},ke.useDebugValue=function(){},ke.useDeferredValue=function(N,Q){return R.H.useDeferredValue(N,Q)},ke.useEffect=function(N,Q){return R.H.useEffect(N,Q)},ke.useEffectEvent=function(N){return R.H.useEffectEvent(N)},ke.useId=function(){return R.H.useId()},ke.useImperativeHandle=function(N,Q,ae){return R.H.useImperativeHandle(N,Q,ae)},ke.useInsertionEffect=function(N,Q){return R.H.useInsertionEffect(N,Q)},ke.useLayoutEffect=function(N,Q){return R.H.useLayoutEffect(N,Q)},ke.useMemo=function(N,Q){return R.H.useMemo(N,Q)},ke.useOptimistic=function(N,Q){return R.H.useOptimistic(N,Q)},ke.useReducer=function(N,Q,ae){return R.H.useReducer(N,Q,ae)},ke.useRef=function(N){return R.H.useRef(N)},ke.useState=function(N){return R.H.useState(N)},ke.useSyncExternalStore=function(N,Q,ae){return R.H.useSyncExternalStore(N,Q,ae)},ke.useTransition=function(){return R.H.useTransition()},ke.version="19.2.3",ke}var Aw;function _v(){return Aw||(Aw=1,ry.exports=SC()),ry.exports}var z=_v();const eo=wC(z);var sy={exports:{}},bu={},iy={exports:{}},ay={};var Iw;function AC(){return Iw||(Iw=1,(function(t){function e(W,he){var le=W.length;W.push(he);e:for(;0<le;){var Me=le-1>>>1,Fe=W[Me];if(0<i(Fe,he))W[Me]=he,W[le]=Fe,le=Me;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var he=W[0],le=W.pop();if(le!==he){W[0]=le;e:for(var Me=0,Fe=W.length,N=Fe>>>1;Me<N;){var Q=2*(Me+1)-1,ae=W[Q],ce=Q+1,Ee=W[ce];if(0>i(ae,le))ce<Fe&&0>i(Ee,ae)?(W[Me]=Ee,W[ce]=le,Me=ce):(W[Me]=ae,W[Q]=le,Me=Q);else if(ce<Fe&&0>i(Ee,le))W[Me]=Ee,W[ce]=le,Me=ce;else break e}}return he}function i(W,he){var le=W.sortIndex-he.sortIndex;return le!==0?le:W.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],p=[],v=1,_=null,w=3,T=!1,D=!1,k=!1,V=!1,X=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function J(W){for(var he=n(p);he!==null;){if(he.callback===null)r(p);else if(he.startTime<=W)r(p),he.sortIndex=he.expirationTime,e(d,he);else break;he=n(p)}}function se(W){if(k=!1,J(W),!D)if(n(d)!==null)D=!0,fe||(fe=!0,F());else{var he=n(p);he!==null&&Ze(se,he.startTime-W)}}var fe=!1,R=-1,A=5,C=-1;function P(){return V?!0:!(t.unstable_now()-C<A)}function M(){if(V=!1,fe){var W=t.unstable_now();C=W;var he=!0;try{e:{D=!1,k&&(k=!1,$(R),R=-1),T=!0;var le=w;try{t:{for(J(W),_=n(d);_!==null&&!(_.expirationTime>W&&P());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,w=_.priorityLevel;var Fe=Me(_.expirationTime<=W);if(W=t.unstable_now(),typeof Fe=="function"){_.callback=Fe,J(W),he=!0;break t}_===n(d)&&r(d),J(W)}else r(d);_=n(d)}if(_!==null)he=!0;else{var N=n(p);N!==null&&Ze(se,N.startTime-W),he=!1}}break e}finally{_=null,w=le,T=!1}he=void 0}}finally{he?F():fe=!1}}}var F;if(typeof U=="function")F=function(){U(M)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Ge=j.port2;j.port1.onmessage=M,F=function(){Ge.postMessage(null)}}else F=function(){X(M,0)};function Ze(W,he){R=X(function(){W(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(W){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var le=w;w=he;try{return W()}finally{w=le}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(W,he){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var le=w;w=W;try{return he()}finally{w=le}},t.unstable_scheduleCallback=function(W,he,le){var Me=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Me+le:Me):le=Me,W){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=le+Fe,W={id:v++,callback:he,priorityLevel:W,startTime:le,expirationTime:Fe,sortIndex:-1},le>Me?(W.sortIndex=le,e(p,W),n(d)===null&&W===n(p)&&(k?($(R),R=-1):k=!0,Ze(se,le-Me))):(W.sortIndex=Fe,e(d,W),D||T||(D=!0,fe||(fe=!0,F()))),W},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(W){var he=w;return function(){var le=w;w=he;try{return W.apply(this,arguments)}finally{w=le}}}})(ay)),ay}var Rw;function IC(){return Rw||(Rw=1,iy.exports=AC()),iy.exports}var oy={exports:{}},yn={};var Nw;function RC(){if(Nw)return yn;Nw=1;var t=_v();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:d,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,v)},yn.flushSync=function(d){var p=c.T,v=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=p,r.p=v,r.d.f()}},yn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},yn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},yn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var v=p.as,_=h(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:T}):v==="script"&&r.d.X(d,{crossOrigin:_,integrity:w,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},yn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},yn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=h(v,p.crossOrigin);r.d.L(d,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},yn.preloadModule=function(d,p){if(typeof d=="string")if(p){var v=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},yn.requestFormReset=function(d){r.d.r(d)},yn.unstable_batchedUpdates=function(d,p){return d(p)},yn.useFormState=function(d,p,v){return c.H.useFormState(d,p,v)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var Cw;function NC(){if(Cw)return oy.exports;Cw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),oy.exports=RC(),oy.exports}var Dw;function CC(){if(Dw)return bu;Dw=1;var t=IC(),e=_v(),n=NC();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function p(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,u=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return d(m),s;if(y===u)return d(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=m,u=y;else{for(var x=!1,S=m.child;S;){if(S===l){x=!0,l=m,u=y;break}if(S===u){x=!0,u=m,l=y;break}S=S.sibling}if(!x){for(S=y.child;S;){if(S===l){x=!0,l=y,u=m;break}if(S===u){x=!0,u=y,l=m;break}S=S.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function v(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=v(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),U=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function Ge(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case X:return"Profiler";case V:return"StrictMode";case se:return"Suspense";case fe:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case U:return s.displayName||"Context";case $:return(s._context.displayName||"Context")+".Consumer";case J:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return a=s.displayName||null,a!==null?a:Ge(s.type)||"Memo";case A:a=s._payload,s=s._init;try{return Ge(s(a))}catch{}}return null}var Ze=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Me=[],Fe=-1;function N(s){return{current:s}}function Q(s){0>Fe||(s.current=Me[Fe],Me[Fe]=null,Fe--)}function ae(s,a){Fe++,Me[Fe]=s.current,s.current=a}var ce=N(null),Ee=N(null),Re=N(null),xe=N(null);function St(s,a){switch(ae(Re,a),ae(Ee,s),ae(ce,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?G0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=G0(a),s=K0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Q(ce),ae(ce,s)}function tt(){Q(ce),Q(Ee),Q(Re)}function er(s){s.memoizedState!==null&&ae(xe,s);var a=ce.current,l=K0(a,s.type);a!==l&&(ae(Ee,s),ae(ce,l))}function Ur(s){Ee.current===s&&(Q(ce),Q(Ee)),xe.current===s&&(Q(xe),pu._currentValue=le)}var Er,Do;function Fr(s){if(Er===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Er=a&&a[1]||"",Do=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Er+s+Do}var pc=!1;function ha(s,a){if(!s||pc)return"";pc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var Z=ee}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(ee){Z=ee}s.call(oe.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),x=y[0],S=y[1];if(x&&S){var O=x.split(`
`),K=S.split(`
`);for(m=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(u===O.length||m===K.length)for(u=O.length-1,m=K.length-1;1<=u&&0<=m&&O[u]!==K[m];)m--;for(;1<=u&&0<=m;u--,m--)if(O[u]!==K[m]){if(u!==1||m!==1)do if(u--,m--,0>m||O[u]!==K[m]){var ne=`
`+O[u].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=u&&0<=m);break}}}finally{pc=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Fr(l):""}function gc(s,a){switch(s.tag){case 26:case 27:case 5:return Fr(s.type);case 16:return Fr("Lazy");case 13:return s.child!==a&&a!==null?Fr("Suspense Fallback"):Fr("Suspense");case 19:return Fr("SuspenseList");case 0:case 15:return ha(s.type,!1);case 11:return ha(s.type.render,!1);case 1:return ha(s.type,!0);case 31:return Fr("Activity");default:return""}}function yc(s){try{var a="",l=null;do a+=gc(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Vt=Object.prototype.hasOwnProperty,Zt=t.unstable_scheduleCallback,si=t.unstable_cancelCallback,sp=t.unstable_shouldYield,Rh=t.unstable_requestPaint,En=t.unstable_now,da=t.unstable_getCurrentPriorityLevel,vc=t.unstable_ImmediatePriority,_c=t.unstable_UserBlockingPriority,ii=t.unstable_NormalPriority,ip=t.unstable_LowPriority,Nh=t.unstable_IdlePriority,Ch=t.log,Dh=t.unstable_setDisableYieldValue,Tr=null,on=null;function tr(s){if(typeof Ch=="function"&&Dh(s),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(Tr,s)}catch{}}var kt=Math.clz32?Math.clz32:jh,kh=Math.log,ko=Math.LN2;function jh(s){return s>>>=0,s===0?32:31-(kh(s)/ko|0)|0}var Br=256,fa=262144,zt=4194304;function qr(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function $r(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var m=0,y=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?m=qr(u):(x&=S,x!==0?m=qr(x):l||(l=S&~s,l!==0&&(m=qr(l))))):(S=u&~y,S!==0?m=qr(S):x!==0?m=qr(x):l||(l=u&~s,l!==0&&(m=qr(l)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:m}function Sr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function ap(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oh(){var s=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),s}function Hr(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function ma(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function op(s,a,l,u,m,y){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,O=s.expirationTimes,K=s.hiddenUpdates;for(l=x&~l;0<l;){var ne=31-kt(l),oe=1<<ne;S[ne]=0,O[ne]=-1;var Z=K[ne];if(Z!==null)for(K[ne]=null,ne=0;ne<Z.length;ne++){var ee=Z[ne];ee!==null&&(ee.lane&=-536870913)}l&=~oe}u!==0&&pa(s,u,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(x&~a))}function pa(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-kt(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function bc(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-kt(l),m=1<<u;m&a|s[u]&a&&(s[u]|=a),l&=~m}}function xc(s,a){var l=a&-a;return l=(l&42)!==0?1:ga(l),(l&(s.suspendedLanes|a))!==0?0:l}function ga(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function bs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ph(){var s=he.p;return s!==0?s:(s=window.event,s===void 0?32:gw(s.type))}function Ar(s,a){var l=he.p;try{return he.p=s,a()}finally{he.p=l}}var Ir=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Ir,tn="__reactProps$"+Ir,Gr="__reactContainer$"+Ir,jo="__reactEvents$"+Ir,lp="__reactListeners$"+Ir,Mh="__reactHandles$"+Ir,Vh="__reactResources$"+Ir,Kr="__reactMarker$"+Ir;function Oo(s){delete s[Lt],delete s[tn],delete s[jo],delete s[lp],delete s[Mh]}function Qr(s){var a=s[Lt];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Gr]||l[Lt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=ew(s);s!==null;){if(l=s[Lt])return l;s=ew(s)}return a}s=l,l=s.parentNode}return null}function nr(s){if(s=s[Lt]||s[Gr]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Fn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Zr(s){var a=s[Vh];return a||(a=s[Vh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ut(s){s[Kr]=!0}var wc=new Set,Ec={};function Yr(s,a){Xr(s,a),Xr(s+"Capture",a)}function Xr(s,a){for(Ec[s]=a,s=0;s<a.length;s++)wc.add(a[s])}var Tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sc={},Ac={};function zh(s){return Vt.call(Ac,s)?!0:Vt.call(Sc,s)?!1:Tc.test(s)?Ac[s]=!0:(Sc[s]=!0,!1)}function Po(s,a,l){if(zh(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Bn(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Ft(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function nn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ai(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ic(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(x){l=""+x,y.call(this,x)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function nt(s){if(!s._valueTracker){var a=ai(s)?"checked":"value";s._valueTracker=Ic(s,a,""+s[a])}}function ya(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=ai(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Jr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var va=/[\n"\\]/g;function kn(s){return s.replace(va,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Mo(s,a,l,u,m,y,x,S){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),a!=null?x==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+nn(a)):s.value!==""+nn(a)&&(s.value=""+nn(a)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),a!=null?Rc(s,x,nn(a)):l!=null?Rc(s,x,nn(l)):u!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+nn(S):s.removeAttribute("name")}function Lh(s,a,l,u,m,y,x,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){nt(s);return}l=l!=null?""+nn(l):"",a=a!=null?""+nn(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),nt(s)}function Rc(s,a,l){a==="number"&&Jr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function oi(s,a,l,u){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&u&&(s[l].defaultSelected=!0)}else{for(l=""+nn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Uh(s,a,l){if(a!=null&&(a=""+nn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+nn(l):""}function li(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(r(92));if(Ze(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=nn(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),nt(s)}function jn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Fh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nc(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Fh.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Cc(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&Nc(s,m,u)}else for(var y in a)a.hasOwnProperty(y)&&Nc(s,y,a[y])}function Vo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ci=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zo(s){return ci.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Rr(){}var Dc=null;function rr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ui=null,Wr=null;function _a(s){var a=nr(s);if(a&&(s=a.stateNode)){var l=s[tn]||null;e:switch(s=a.stateNode,a.type){case"input":if(Mo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+kn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var m=u[tn]||null;if(!m)throw Error(r(90));Mo(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&ya(u)}break e;case"textarea":Uh(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&oi(s,!!l.multiple,a,!1)}}}var Lo=!1;function hi(s,a,l){if(Lo)return s(a,l);Lo=!0;try{var u=s(a);return u}finally{if(Lo=!1,(ui!==null||Wr!==null)&&(Pd(),ui&&(a=ui,s=Wr,Wr=ui=null,_a(a),s)))for(a=0;a<s.length;a++)_a(s[a])}}function Nr(s,a){var l=s.stateNode;if(l===null)return null;var u=l[tn]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(sr)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){ba=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{ba=!1}var es=null,kc=null,xa=null;function jc(){if(xa)return xa;var s,a=kc,l=a.length,u,m="value"in es?es.value:es.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var x=l-s;for(u=1;u<=x&&a[l-u]===m[y-u];u++);return xa=m.slice(s,1<u?1-u:void 0)}function wa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function xs(){return!0}function Cr(){return!1}function ln(s){function a(l,u,m,y,x){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xs:Cr,this.isPropagationStopped=Cr,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),a}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=ln(ws),di=_({},ws,{view:0,detail:0}),Oc=ln(di),fi,Uo,ns,Fo=_({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ns&&(ns&&s.type==="mousemove"?(fi=s.screenX-ns.screenX,Uo=s.screenY-ns.screenY):Uo=fi=0,ns=s),fi)},movementY:function(s){return"movementY"in s?s.movementY:Uo}}),Pc=ln(Fo),Ea=_({},Fo,{dataTransfer:0}),qh=ln(Ea),$h=_({},di,{relatedTarget:0}),Ta=ln($h),Mc=_({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Hh=ln(Mc),Bo=_({},ws,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Gh=ln(Bo),Kh=_({},ws,{data:0}),rs=ln(Kh),Qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Yh[s])?!!a[s]:!1}function mi(){return Xh}var Tn=_({},di,{key:function(s){if(s.key){var a=Qh[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=wa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Zh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mi,charCode:function(s){return s.type==="keypress"?wa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?wa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Jh=ln(Tn),Wh=_({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Es=ln(Wh),f=_({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mi}),b=ln(f),E=_({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=ln(E),H=_({},Fo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=ln(H),me=_({},ws,{newState:0,oldState:0}),je=ln(me),jt=[9,13,27,32],We=sr&&"CompositionEvent"in window,yt=null;sr&&"documentMode"in document&&(yt=document.documentMode);var ir=sr&&"TextEvent"in window&&!yt,ss=sr&&(!We||yt&&8<yt&&11>=yt),Dr=" ",kr=!1;function Sa(s,a){switch(s){case"keyup":return jt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var $o=!1;function GR(s,a){switch(s){case"compositionend":return qo(a);case"keypress":return a.which!==32?null:(kr=!0,Dr);case"textInput":return s=a.data,s===Dr&&kr?null:s;default:return null}}function KR(s,a){if($o)return s==="compositionend"||!We&&Sa(s,a)?(s=jc(),xa=kc=es=null,$o=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ss&&a.locale!=="ko"?null:a.data;default:return null}}var QR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rb(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!QR[s.type]:a==="textarea"}function sb(s,a,l,u){ui?Wr?Wr.push(u):Wr=[u]:ui=u,a=Bd(a,"onChange"),0<a.length&&(l=new ts("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Vc=null,zc=null;function ZR(s){U0(s,0)}function ed(s){var a=Fn(s);if(ya(a))return s}function ib(s,a){if(s==="change")return a}var ab=!1;if(sr){var cp;if(sr){var up="oninput"in document;if(!up){var ob=document.createElement("div");ob.setAttribute("oninput","return;"),up=typeof ob.oninput=="function"}cp=up}else cp=!1;ab=cp&&(!document.documentMode||9<document.documentMode)}function lb(){Vc&&(Vc.detachEvent("onpropertychange",cb),zc=Vc=null)}function cb(s){if(s.propertyName==="value"&&ed(zc)){var a=[];sb(a,zc,s,rr(s)),hi(ZR,a)}}function YR(s,a,l){s==="focusin"?(lb(),Vc=a,zc=l,Vc.attachEvent("onpropertychange",cb)):s==="focusout"&&lb()}function XR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ed(zc)}function JR(s,a){if(s==="click")return ed(a)}function WR(s,a){if(s==="input"||s==="change")return ed(a)}function eN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var qn=typeof Object.is=="function"?Object.is:eN;function Lc(s,a){if(qn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Vt.call(a,m)||!qn(s[m],a[m]))return!1}return!0}function ub(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hb(s,a){var l=ub(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ub(l)}}function db(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?db(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function fb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Jr(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Jr(s.document)}return a}function hp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var tN=sr&&"documentMode"in document&&11>=document.documentMode,Ho=null,dp=null,Uc=null,fp=!1;function mb(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fp||Ho==null||Ho!==Jr(u)||(u=Ho,"selectionStart"in u&&hp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Uc&&Lc(Uc,u)||(Uc=u,u=Bd(dp,"onSelect"),0<u.length&&(a=new ts("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=Ho)))}function Aa(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Go={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},mp={},pb={};sr&&(pb=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Ia(s){if(mp[s])return mp[s];if(!Go[s])return s;var a=Go[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in pb)return mp[s]=a[l];return s}var gb=Ia("animationend"),yb=Ia("animationiteration"),vb=Ia("animationstart"),nN=Ia("transitionrun"),rN=Ia("transitionstart"),sN=Ia("transitioncancel"),_b=Ia("transitionend"),bb=new Map,pp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pp.push("scrollEnd");function jr(s,a){bb.set(s,a),Yr(a,[s])}var td=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ar=[],Ko=0,gp=0;function nd(){for(var s=Ko,a=gp=Ko=0;a<s;){var l=ar[a];ar[a++]=null;var u=ar[a];ar[a++]=null;var m=ar[a];ar[a++]=null;var y=ar[a];if(ar[a++]=null,u!==null&&m!==null){var x=u.pending;x===null?m.next=m:(m.next=x.next,x.next=m),u.pending=m}y!==0&&xb(l,m,y)}}function rd(s,a,l,u){ar[Ko++]=s,ar[Ko++]=a,ar[Ko++]=l,ar[Ko++]=u,gp|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function yp(s,a,l,u){return rd(s,a,l,u),sd(s)}function Ra(s,a){return rd(s,null,null,a),sd(s)}function xb(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&a!==null&&(m=31-kt(l),s=y.hiddenUpdates,u=s[m],u===null?s[m]=[a]:u.push(a),a.lane=l|536870912),y):null}function sd(s){if(50<lu)throw lu=0,Ag=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Qo={};function iN(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(s,a,l,u){return new iN(s,a,l,u)}function vp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ts(s,a){var l=s.alternate;return l===null?(l=$n(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function wb(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function id(s,a,l,u,m,y){var x=0;if(u=s,typeof s=="function")vp(s)&&(x=1);else if(typeof s=="string")x=uC(s,l,ce.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=$n(31,l,a,m),s.elementType=C,s.lanes=y,s;case k:return Na(l.children,m,y,a);case V:x=8,m|=24;break;case X:return s=$n(12,l,a,m|2),s.elementType=X,s.lanes=y,s;case se:return s=$n(13,l,a,m),s.elementType=se,s.lanes=y,s;case fe:return s=$n(19,l,a,m),s.elementType=fe,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:x=10;break e;case $:x=9;break e;case J:x=11;break e;case R:x=14;break e;case A:x=16,u=null;break e}x=29,l=Error(r(130,s===null?"null":typeof s,"")),u=null}return a=$n(x,l,a,m),a.elementType=s,a.type=u,a.lanes=y,a}function Na(s,a,l,u){return s=$n(7,s,u,a),s.lanes=l,s}function _p(s,a,l){return s=$n(6,s,null,a),s.lanes=l,s}function Eb(s){var a=$n(18,null,null,0);return a.stateNode=s,a}function bp(s,a,l){return a=$n(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Tb=new WeakMap;function or(s,a){if(typeof s=="object"&&s!==null){var l=Tb.get(s);return l!==void 0?l:(a={value:s,source:a,stack:yc(a)},Tb.set(s,a),a)}return{value:s,source:a,stack:yc(a)}}var Zo=[],Yo=0,ad=null,Fc=0,lr=[],cr=0,pi=null,is=1,as="";function Ss(s,a){Zo[Yo++]=Fc,Zo[Yo++]=ad,ad=s,Fc=a}function Sb(s,a,l){lr[cr++]=is,lr[cr++]=as,lr[cr++]=pi,pi=s;var u=is;s=as;var m=32-kt(u)-1;u&=~(1<<m),l+=1;var y=32-kt(a)+m;if(30<y){var x=m-m%5;y=(u&(1<<x)-1).toString(32),u>>=x,m-=x,is=1<<32-kt(a)+m|l<<m|u,as=y+s}else is=1<<y|l<<m|u,as=s}function xp(s){s.return!==null&&(Ss(s,1),Sb(s,1,0))}function wp(s){for(;s===ad;)ad=Zo[--Yo],Zo[Yo]=null,Fc=Zo[--Yo],Zo[Yo]=null;for(;s===pi;)pi=lr[--cr],lr[cr]=null,as=lr[--cr],lr[cr]=null,is=lr[--cr],lr[cr]=null}function Ab(s,a){lr[cr++]=is,lr[cr++]=as,lr[cr++]=pi,is=a.id,as=a.overflow,pi=s}var cn=null,pt=null,Ke=!1,gi=null,ur=!1,Ep=Error(r(519));function yi(s){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bc(or(a,s)),Ep}function Ib(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Lt]=s,a[tn]=u,l){case"dialog":Ue("cancel",a),Ue("close",a);break;case"iframe":case"object":case"embed":Ue("load",a);break;case"video":case"audio":for(l=0;l<uu.length;l++)Ue(uu[l],a);break;case"source":Ue("error",a);break;case"img":case"image":case"link":Ue("error",a),Ue("load",a);break;case"details":Ue("toggle",a);break;case"input":Ue("invalid",a),Lh(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ue("invalid",a);break;case"textarea":Ue("invalid",a),li(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||$0(a.textContent,l)?(u.popover!=null&&(Ue("beforetoggle",a),Ue("toggle",a)),u.onScroll!=null&&Ue("scroll",a),u.onScrollEnd!=null&&Ue("scrollend",a),u.onClick!=null&&(a.onclick=Rr),a=!0):a=!1,a||yi(s,!0)}function Rb(s){for(cn=s.return;cn;)switch(cn.tag){case 5:case 31:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:cn=cn.return}}function Xo(s){if(s!==cn)return!1;if(!Ke)return Rb(s),Ke=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Fg(s.type,s.memoizedProps)),l=!l),l&&pt&&yi(s),Rb(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));pt=W0(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));pt=W0(s)}else a===27?(a=pt,Di(s.type)?(s=Gg,Gg=null,pt=s):pt=a):pt=cn?dr(s.stateNode.nextSibling):null;return!0}function Ca(){pt=cn=null,Ke=!1}function Tp(){var s=gi;return s!==null&&(Vn===null?Vn=s:Vn.push.apply(Vn,s),gi=null),s}function Bc(s){gi===null?gi=[s]:gi.push(s)}var Sp=N(null),Da=null,As=null;function vi(s,a,l){ae(Sp,a._currentValue),a._currentValue=l}function Is(s){s._currentValue=Sp.current,Q(Sp)}function Ap(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Ip(s,a,l,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var x=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var O=0;O<a.length;O++)if(S.context===a[O]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),Ap(y.return,l,s),u||(x=null);break e}y=S.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(r(341));x.lanes|=l,y=x.alternate,y!==null&&(y.lanes|=l),Ap(x,l,s),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function Jo(s,a,l,u){s=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var S=m.type;qn(m.pendingProps.value,x.value)||(s!==null?s.push(S):s=[S])}}else if(m===xe.current){if(x=m.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(pu):s=[pu])}m=m.return}s!==null&&Ip(a,s,l,u),a.flags|=262144}function od(s){for(s=s.firstContext;s!==null;){if(!qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ka(s){Da=s,As=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function un(s){return Nb(Da,s)}function ld(s,a){return Da===null&&ka(s),Nb(s,a)}function Nb(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},As===null){if(s===null)throw Error(r(308));As=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else As=As.next=a;return l}var aN=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},oN=t.unstable_scheduleCallback,lN=t.unstable_NormalPriority,Bt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rp(){return{controller:new aN,data:new Map,refCount:0}}function qc(s){s.refCount--,s.refCount===0&&oN(lN,function(){s.controller.abort()})}var $c=null,Np=0,Wo=0,el=null;function cN(s,a){if($c===null){var l=$c=[];Np=0,Wo=kg(),el={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Np++,a.then(Cb,Cb),a}function Cb(){if(--Np===0&&$c!==null){el!==null&&(el.status="fulfilled");var s=$c;$c=null,Wo=0,el=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function uN(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var Db=W.S;W.S=function(s,a){m0=En(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&cN(s,a),Db!==null&&Db(s,a)};var ja=N(null);function Cp(){var s=ja.current;return s!==null?s:mt.pooledCache}function cd(s,a){a===null?ae(ja,ja.current):ae(ja,a.pool)}function kb(){var s=Cp();return s===null?null:{parent:Bt._currentValue,pool:s}}var tl=Error(r(460)),Dp=Error(r(474)),ud=Error(r(542)),hd={then:function(){}};function jb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ob(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Rr,Rr),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Mb(s),s;default:if(typeof a.status=="string")a.then(Rr,Rr);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Mb(s),s}throw Pa=a,tl}}function Oa(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pa=l,tl):l}}var Pa=null;function Pb(){if(Pa===null)throw Error(r(459));var s=Pa;return Pa=null,s}function Mb(s){if(s===tl||s===ud)throw Error(r(483))}var nl=null,Hc=0;function dd(s){var a=Hc;return Hc+=1,nl===null&&(nl=[]),Ob(nl,s,a)}function Gc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function fd(s,a){throw a.$$typeof===w?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Vb(s){function a(B,L){if(s){var G=B.deletions;G===null?(B.deletions=[L],B.flags|=16):G.push(L)}}function l(B,L){if(!s)return null;for(;L!==null;)a(B,L),L=L.sibling;return null}function u(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function m(B,L){return B=Ts(B,L),B.index=0,B.sibling=null,B}function y(B,L,G){return B.index=G,s?(G=B.alternate,G!==null?(G=G.index,G<L?(B.flags|=67108866,L):G):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function x(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function S(B,L,G,re){return L===null||L.tag!==6?(L=_p(G,B.mode,re),L.return=B,L):(L=m(L,G),L.return=B,L)}function O(B,L,G,re){var Te=G.type;return Te===k?ne(B,L,G.props.children,re,G.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Oa(Te)===L.type)?(L=m(L,G.props),Gc(L,G),L.return=B,L):(L=id(G.type,G.key,G.props,null,B.mode,re),Gc(L,G),L.return=B,L)}function K(B,L,G,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=bp(G,B.mode,re),L.return=B,L):(L=m(L,G.children||[]),L.return=B,L)}function ne(B,L,G,re,Te){return L===null||L.tag!==7?(L=Na(G,B.mode,re,Te),L.return=B,L):(L=m(L,G),L.return=B,L)}function oe(B,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=_p(""+L,B.mode,G),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return G=id(L.type,L.key,L.props,null,B.mode,G),Gc(G,L),G.return=B,G;case D:return L=bp(L,B.mode,G),L.return=B,L;case A:return L=Oa(L),oe(B,L,G)}if(Ze(L)||F(L))return L=Na(L,B.mode,G,null),L.return=B,L;if(typeof L.then=="function")return oe(B,dd(L),G);if(L.$$typeof===U)return oe(B,ld(B,L),G);fd(B,L)}return null}function Z(B,L,G,re){var Te=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Te!==null?null:S(B,L,""+G,re);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return G.key===Te?O(B,L,G,re):null;case D:return G.key===Te?K(B,L,G,re):null;case A:return G=Oa(G),Z(B,L,G,re)}if(Ze(G)||F(G))return Te!==null?null:ne(B,L,G,re,null);if(typeof G.then=="function")return Z(B,L,dd(G),re);if(G.$$typeof===U)return Z(B,L,ld(B,G),re);fd(B,G)}return null}function ee(B,L,G,re,Te){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return B=B.get(G)||null,S(L,B,""+re,Te);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return B=B.get(re.key===null?G:re.key)||null,O(L,B,re,Te);case D:return B=B.get(re.key===null?G:re.key)||null,K(L,B,re,Te);case A:return re=Oa(re),ee(B,L,G,re,Te)}if(Ze(re)||F(re))return B=B.get(G)||null,ne(L,B,re,Te,null);if(typeof re.then=="function")return ee(B,L,G,dd(re),Te);if(re.$$typeof===U)return ee(B,L,G,ld(L,re),Te);fd(L,re)}return null}function ge(B,L,G,re){for(var Te=null,Ye=null,be=L,Pe=L=0,qe=null;be!==null&&Pe<G.length;Pe++){be.index>Pe?(qe=be,be=null):qe=be.sibling;var Xe=Z(B,be,G[Pe],re);if(Xe===null){be===null&&(be=qe);break}s&&be&&Xe.alternate===null&&a(B,be),L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe,be=qe}if(Pe===G.length)return l(B,be),Ke&&Ss(B,Pe),Te;if(be===null){for(;Pe<G.length;Pe++)be=oe(B,G[Pe],re),be!==null&&(L=y(be,L,Pe),Ye===null?Te=be:Ye.sibling=be,Ye=be);return Ke&&Ss(B,Pe),Te}for(be=u(be);Pe<G.length;Pe++)qe=ee(be,B,Pe,G[Pe],re),qe!==null&&(s&&qe.alternate!==null&&be.delete(qe.key===null?Pe:qe.key),L=y(qe,L,Pe),Ye===null?Te=qe:Ye.sibling=qe,Ye=qe);return s&&be.forEach(function(Mi){return a(B,Mi)}),Ke&&Ss(B,Pe),Te}function Ie(B,L,G,re){if(G==null)throw Error(r(151));for(var Te=null,Ye=null,be=L,Pe=L=0,qe=null,Xe=G.next();be!==null&&!Xe.done;Pe++,Xe=G.next()){be.index>Pe?(qe=be,be=null):qe=be.sibling;var Mi=Z(B,be,Xe.value,re);if(Mi===null){be===null&&(be=qe);break}s&&be&&Mi.alternate===null&&a(B,be),L=y(Mi,L,Pe),Ye===null?Te=Mi:Ye.sibling=Mi,Ye=Mi,be=qe}if(Xe.done)return l(B,be),Ke&&Ss(B,Pe),Te;if(be===null){for(;!Xe.done;Pe++,Xe=G.next())Xe=oe(B,Xe.value,re),Xe!==null&&(L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe);return Ke&&Ss(B,Pe),Te}for(be=u(be);!Xe.done;Pe++,Xe=G.next())Xe=ee(be,B,Pe,Xe.value,re),Xe!==null&&(s&&Xe.alternate!==null&&be.delete(Xe.key===null?Pe:Xe.key),L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe);return s&&be.forEach(function(xC){return a(B,xC)}),Ke&&Ss(B,Pe),Te}function dt(B,L,G,re){if(typeof G=="object"&&G!==null&&G.type===k&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case T:e:{for(var Te=G.key;L!==null;){if(L.key===Te){if(Te=G.type,Te===k){if(L.tag===7){l(B,L.sibling),re=m(L,G.props.children),re.return=B,B=re;break e}}else if(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Oa(Te)===L.type){l(B,L.sibling),re=m(L,G.props),Gc(re,G),re.return=B,B=re;break e}l(B,L);break}else a(B,L);L=L.sibling}G.type===k?(re=Na(G.props.children,B.mode,re,G.key),re.return=B,B=re):(re=id(G.type,G.key,G.props,null,B.mode,re),Gc(re,G),re.return=B,B=re)}return x(B);case D:e:{for(Te=G.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){l(B,L.sibling),re=m(L,G.children||[]),re.return=B,B=re;break e}else{l(B,L);break}else a(B,L);L=L.sibling}re=bp(G,B.mode,re),re.return=B,B=re}return x(B);case A:return G=Oa(G),dt(B,L,G,re)}if(Ze(G))return ge(B,L,G,re);if(F(G)){if(Te=F(G),typeof Te!="function")throw Error(r(150));return G=Te.call(G),Ie(B,L,G,re)}if(typeof G.then=="function")return dt(B,L,dd(G),re);if(G.$$typeof===U)return dt(B,L,ld(B,G),re);fd(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(l(B,L.sibling),re=m(L,G),re.return=B,B=re):(l(B,L),re=_p(G,B.mode,re),re.return=B,B=re),x(B)):l(B,L)}return function(B,L,G,re){try{Hc=0;var Te=dt(B,L,G,re);return nl=null,Te}catch(be){if(be===tl||be===ud)throw be;var Ye=$n(29,be,null,B.mode);return Ye.lanes=re,Ye.return=B,Ye}}}var Ma=Vb(!0),zb=Vb(!1),_i=!1;function kp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function bi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function xi(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=sd(s),xb(s,null,l),a}return rd(s,u,a,l),sd(s)}function Kc(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,bc(s,l)}}function Op(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=x:y=y.next=x,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Pp=!1;function Qc(){if(Pp){var s=el;if(s!==null)throw s}}function Zc(s,a,l,u){Pp=!1;var m=s.updateQueue;_i=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var O=S,K=O.next;O.next=null,x===null?y=K:x.next=K,x=O;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==x&&(S===null?ne.firstBaseUpdate=K:S.next=K,ne.lastBaseUpdate=O))}if(y!==null){var oe=m.baseState;x=0,ne=K=O=null,S=y;do{var Z=S.lane&-536870913,ee=Z!==S.lane;if(ee?(Be&Z)===Z:(u&Z)===Z){Z!==0&&Z===Wo&&(Pp=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=s,Ie=S;Z=a;var dt=l;switch(Ie.tag){case 1:if(ge=Ie.payload,typeof ge=="function"){oe=ge.call(dt,oe,Z);break e}oe=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ie.payload,Z=typeof ge=="function"?ge.call(dt,oe,Z):ge,Z==null)break e;oe=_({},oe,Z);break e;case 2:_i=!0}}Z=S.callback,Z!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(K=ne=ee,O=oe):ne=ne.next=ee,x|=Z;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);ne===null&&(O=oe),m.baseState=O,m.firstBaseUpdate=K,m.lastBaseUpdate=ne,y===null&&(m.shared.lanes=0),Ai|=x,s.lanes=x,s.memoizedState=oe}}function Lb(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function Ub(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Lb(l[s],a)}var rl=N(null),md=N(0);function Fb(s,a){s=Ms,ae(md,s),ae(rl,a),Ms=s|a.baseLanes}function Mp(){ae(md,Ms),ae(rl,rl.current)}function Vp(){Ms=md.current,Q(rl),Q(md)}var Hn=N(null),hr=null;function wi(s){var a=s.alternate;ae(Ot,Ot.current&1),ae(Hn,s),hr===null&&(a===null||rl.current!==null||a.memoizedState!==null)&&(hr=s)}function zp(s){ae(Ot,Ot.current),ae(Hn,s),hr===null&&(hr=s)}function Bb(s){s.tag===22?(ae(Ot,Ot.current),ae(Hn,s),hr===null&&(hr=s)):Ei()}function Ei(){ae(Ot,Ot.current),ae(Hn,Hn.current)}function Gn(s){Q(Hn),hr===s&&(hr=null),Q(Ot)}var Ot=N(0);function pd(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||$g(l)||Hg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Rs=0,Oe=null,ut=null,qt=null,gd=!1,sl=!1,Va=!1,yd=0,Yc=0,il=null,hN=0;function At(){throw Error(r(321))}function Lp(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!qn(s[l],a[l]))return!1;return!0}function Up(s,a,l,u,m,y){return Rs=y,Oe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=s===null||s.memoizedState===null?Sx:tg,Va=!1,y=l(u,m),Va=!1,sl&&(y=$b(a,l,u,m)),qb(s),y}function qb(s){W.H=Wc;var a=ut!==null&&ut.next!==null;if(Rs=0,qt=ut=Oe=null,gd=!1,Yc=0,il=null,a)throw Error(r(300));s===null||$t||(s=s.dependencies,s!==null&&od(s)&&($t=!0))}function $b(s,a,l,u){Oe=s;var m=0;do{if(sl&&(il=null),Yc=0,sl=!1,25<=m)throw Error(r(301));if(m+=1,qt=ut=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=Ax,y=a(l,u)}while(sl);return y}function dN(){var s=W.H,a=s.useState()[0];return a=typeof a.then=="function"?Xc(a):a,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Oe.flags|=1024),a}function Fp(){var s=yd!==0;return yd=0,s}function Bp(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function qp(s){if(gd){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}gd=!1}Rs=0,qt=ut=Oe=null,sl=!1,Yc=yd=0,il=null}function Sn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Oe.memoizedState=qt=s:qt=qt.next=s,qt}function Pt(){if(ut===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var a=qt===null?Oe.memoizedState:qt.next;if(a!==null)qt=a,ut=s;else{if(s===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},qt===null?Oe.memoizedState=qt=s:qt=qt.next=s}return qt}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xc(s){var a=Yc;return Yc+=1,il===null&&(il=[]),s=Ob(il,s,a),a=Oe,(qt===null?a.memoizedState:qt.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?Sx:tg),s}function _d(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Xc(s);if(s.$$typeof===U)return un(s)}throw Error(r(438,String(s)))}function $p(s){var a=null,l=Oe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=vd(),Oe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=P;return a.index++,l}function Ns(s,a){return typeof a=="function"?a(s):a}function bd(s){var a=Pt();return Hp(a,ut,s)}function Hp(s,a,l){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var m=s.baseQueue,y=u.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}a.baseQueue=m=y,u.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var S=x=null,O=null,K=a,ne=!1;do{var oe=K.lane&-536870913;if(oe!==K.lane?(Be&oe)===oe:(Rs&oe)===oe){var Z=K.revertLane;if(Z===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),oe===Wo&&(ne=!0);else if((Rs&Z)===Z){K=K.next,Z===Wo&&(ne=!0);continue}else oe={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=oe,x=y):O=O.next=oe,Oe.lanes|=Z,Ai|=Z;oe=K.action,Va&&l(y,oe),y=K.hasEagerState?K.eagerState:l(y,oe)}else Z={lane:oe,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=Z,x=y):O=O.next=Z,Oe.lanes|=oe,Ai|=oe;K=K.next}while(K!==null&&K!==a);if(O===null?x=y:O.next=S,!qn(y,s.memoizedState)&&($t=!0,ne&&(l=el,l!==null)))throw l;s.memoizedState=y,s.baseState=x,s.baseQueue=O,u.lastRenderedState=y}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Gp(s){var a=Pt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var x=m=m.next;do y=s(y,x.action),x=x.next;while(x!==m);qn(y,a.memoizedState)||($t=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,u]}function Hb(s,a,l){var u=Oe,m=Pt(),y=Ke;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var x=!qn((ut||m).memoizedState,l);if(x&&(m.memoizedState=l,$t=!0),m=m.queue,Zp(Qb.bind(null,u,m,s),[s]),m.getSnapshot!==a||x||qt!==null&&qt.memoizedState.tag&1){if(u.flags|=2048,al(9,{destroy:void 0},Kb.bind(null,u,m,l,a),null),mt===null)throw Error(r(349));y||(Rs&127)!==0||Gb(u,a,l)}return l}function Gb(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Oe.updateQueue,a===null?(a=vd(),Oe.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Kb(s,a,l,u){a.value=l,a.getSnapshot=u,Zb(a)&&Yb(s)}function Qb(s,a,l){return l(function(){Zb(a)&&Yb(s)})}function Zb(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!qn(s,l)}catch{return!0}}function Yb(s){var a=Ra(s,2);a!==null&&zn(a,s,2)}function Kp(s){var a=Sn();if(typeof s=="function"){var l=s;if(s=l(),Va){tr(!0);try{l()}finally{tr(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:s},a}function Xb(s,a,l,u){return s.baseState=l,Hp(s,ut,typeof u=="function"?u:Ns)}function fN(s,a,l,u,m){if(Ed(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};W.T!==null?l(!0):y.isTransition=!1,u(y),l=a.pending,l===null?(y.next=a.pending=y,Jb(a,y)):(y.next=l.next,a.pending=l.next=y)}}function Jb(s,a){var l=a.action,u=a.payload,m=s.state;if(a.isTransition){var y=W.T,x={};W.T=x;try{var S=l(m,u),O=W.S;O!==null&&O(x,S),Wb(s,a,S)}catch(K){Qp(s,a,K)}finally{y!==null&&x.types!==null&&(y.types=x.types),W.T=y}}else try{y=l(m,u),Wb(s,a,y)}catch(K){Qp(s,a,K)}}function Wb(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){ex(s,a,u)},function(u){return Qp(s,a,u)}):ex(s,a,l)}function ex(s,a,l){a.status="fulfilled",a.value=l,tx(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,Jb(s,l)))}function Qp(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,tx(a),a=a.next;while(a!==u)}s.action=null}function tx(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function nx(s,a){return a}function rx(s,a){if(Ke){var l=mt.formState;if(l!==null){e:{var u=Oe;if(Ke){if(pt){t:{for(var m=pt,y=ur;m.nodeType!==8;){if(!y){m=null;break t}if(m=dr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){pt=dr(m.nextSibling),u=m.data==="F!";break e}}yi(u)}u=!1}u&&(a=l[0])}}return l=Sn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nx,lastRenderedState:a},l.queue=u,l=wx.bind(null,Oe,u),u.dispatch=l,u=Kp(!1),y=eg.bind(null,Oe,!1,u.queue),u=Sn(),m={state:a,dispatch:null,action:s,pending:null},u.queue=m,l=fN.bind(null,Oe,m,y,l),m.dispatch=l,u.memoizedState=s,[a,l,!1]}function sx(s){var a=Pt();return ix(a,ut,s)}function ix(s,a,l){if(a=Hp(s,a,nx)[0],s=bd(Ns)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Xc(a)}catch(x){throw x===tl?ud:x}else u=a;a=Pt();var m=a.queue,y=m.dispatch;return l!==a.memoizedState&&(Oe.flags|=2048,al(9,{destroy:void 0},mN.bind(null,m,l),null)),[u,y,s]}function mN(s,a){s.action=a}function ax(s){var a=Pt(),l=ut;if(l!==null)return ix(a,l,s);Pt(),a=a.memoizedState,l=Pt();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function al(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Oe.updateQueue,a===null&&(a=vd(),Oe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function ox(){return Pt().memoizedState}function xd(s,a,l,u){var m=Sn();Oe.flags|=s,m.memoizedState=al(1|a,{destroy:void 0},l,u===void 0?null:u)}function wd(s,a,l,u){var m=Pt();u=u===void 0?null:u;var y=m.memoizedState.inst;ut!==null&&u!==null&&Lp(u,ut.memoizedState.deps)?m.memoizedState=al(a,y,l,u):(Oe.flags|=s,m.memoizedState=al(1|a,y,l,u))}function lx(s,a){xd(8390656,8,s,a)}function Zp(s,a){wd(2048,8,s,a)}function pN(s){Oe.flags|=4;var a=Oe.updateQueue;if(a===null)a=vd(),Oe.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function cx(s){var a=Pt().memoizedState;return pN({ref:a,nextImpl:s}),function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function ux(s,a){return wd(4,2,s,a)}function hx(s,a){return wd(4,4,s,a)}function dx(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function fx(s,a,l){l=l!=null?l.concat([s]):null,wd(4,4,dx.bind(null,a,s),l)}function Yp(){}function mx(s,a){var l=Pt();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Lp(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function px(s,a){var l=Pt();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Lp(a,u[1]))return u[0];if(u=s(),Va){tr(!0);try{s()}finally{tr(!1)}}return l.memoizedState=[u,a],u}function Xp(s,a,l){return l===void 0||(Rs&1073741824)!==0&&(Be&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=g0(),Oe.lanes|=s,Ai|=s,l)}function gx(s,a,l,u){return qn(l,a)?l:rl.current!==null?(s=Xp(s,l,u),qn(s,a)||($t=!0),s):(Rs&42)===0||(Rs&1073741824)!==0&&(Be&261930)===0?($t=!0,s.memoizedState=l):(s=g0(),Oe.lanes|=s,Ai|=s,a)}function yx(s,a,l,u,m){var y=he.p;he.p=y!==0&&8>y?y:8;var x=W.T,S={};W.T=S,eg(s,!1,a,l);try{var O=m(),K=W.S;if(K!==null&&K(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=uN(O,u);Jc(s,a,ne,Zn(s))}else Jc(s,a,u,Zn(s))}catch(oe){Jc(s,a,{then:function(){},status:"rejected",reason:oe},Zn())}finally{he.p=y,x!==null&&S.types!==null&&(x.types=S.types),W.T=x}}function gN(){}function Jp(s,a,l,u){if(s.tag!==5)throw Error(r(476));var m=vx(s).queue;yx(s,m,a,le,l===null?gN:function(){return _x(s),l(u)})}function vx(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:le},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function _x(s){var a=vx(s);a.next===null&&(a=s.alternate.memoizedState),Jc(s,a.next.queue,{},Zn())}function Wp(){return un(pu)}function bx(){return Pt().memoizedState}function xx(){return Pt().memoizedState}function yN(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Zn();s=bi(l);var u=xi(a,s,l);u!==null&&(zn(u,a,l),Kc(u,a,l)),a={cache:Rp()},s.payload=a;return}a=a.return}}function vN(s,a,l){var u=Zn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ed(s)?Ex(a,l):(l=yp(s,a,l,u),l!==null&&(zn(l,s,u),Tx(l,a,u)))}function wx(s,a,l){var u=Zn();Jc(s,a,l,u)}function Jc(s,a,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ed(s))Ex(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var x=a.lastRenderedState,S=y(x,l);if(m.hasEagerState=!0,m.eagerState=S,qn(S,x))return rd(s,a,m,0),mt===null&&nd(),!1}catch{}if(l=yp(s,a,m,u),l!==null)return zn(l,s,u),Tx(l,a,u),!0}return!1}function eg(s,a,l,u){if(u={lane:2,revertLane:kg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ed(s)){if(a)throw Error(r(479))}else a=yp(s,l,u,2),a!==null&&zn(a,s,2)}function Ed(s){var a=s.alternate;return s===Oe||a!==null&&a===Oe}function Ex(s,a){sl=gd=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Tx(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,bc(s,l)}}var Wc={readContext:un,use:_d,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Wc.useEffectEvent=At;var Sx={readContext:un,use:_d,useCallback:function(s,a){return Sn().memoizedState=[s,a===void 0?null:a],s},useContext:un,useEffect:lx,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,xd(4194308,4,dx.bind(null,a,s),l)},useLayoutEffect:function(s,a){return xd(4194308,4,s,a)},useInsertionEffect:function(s,a){xd(4,2,s,a)},useMemo:function(s,a){var l=Sn();a=a===void 0?null:a;var u=s();if(Va){tr(!0);try{s()}finally{tr(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=Sn();if(l!==void 0){var m=l(a);if(Va){tr(!0);try{l(a)}finally{tr(!1)}}}else m=a;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=vN.bind(null,Oe,s),[u.memoizedState,s]},useRef:function(s){var a=Sn();return s={current:s},a.memoizedState=s},useState:function(s){s=Kp(s);var a=s.queue,l=wx.bind(null,Oe,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Yp,useDeferredValue:function(s,a){var l=Sn();return Xp(l,s,a)},useTransition:function(){var s=Kp(!1);return s=yx.bind(null,Oe,s.queue,!0,!1),Sn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Oe,m=Sn();if(Ke){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),mt===null)throw Error(r(349));(Be&127)!==0||Gb(u,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,lx(Qb.bind(null,u,y,s),[s]),u.flags|=2048,al(9,{destroy:void 0},Kb.bind(null,u,y,l,a),null),l},useId:function(){var s=Sn(),a=mt.identifierPrefix;if(Ke){var l=as,u=is;l=(u&~(1<<32-kt(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=yd++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=hN++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Wp,useFormState:rx,useActionState:rx,useOptimistic:function(s){var a=Sn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=eg.bind(null,Oe,!0,l),l.dispatch=a,[s,a]},useMemoCache:$p,useCacheRefresh:function(){return Sn().memoizedState=yN.bind(null,Oe)},useEffectEvent:function(s){var a=Sn(),l={impl:s};return a.memoizedState=l,function(){if((et&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},tg={readContext:un,use:_d,useCallback:mx,useContext:un,useEffect:Zp,useImperativeHandle:fx,useInsertionEffect:ux,useLayoutEffect:hx,useMemo:px,useReducer:bd,useRef:ox,useState:function(){return bd(Ns)},useDebugValue:Yp,useDeferredValue:function(s,a){var l=Pt();return gx(l,ut.memoizedState,s,a)},useTransition:function(){var s=bd(Ns)[0],a=Pt().memoizedState;return[typeof s=="boolean"?s:Xc(s),a]},useSyncExternalStore:Hb,useId:bx,useHostTransitionStatus:Wp,useFormState:sx,useActionState:sx,useOptimistic:function(s,a){var l=Pt();return Xb(l,ut,s,a)},useMemoCache:$p,useCacheRefresh:xx};tg.useEffectEvent=cx;var Ax={readContext:un,use:_d,useCallback:mx,useContext:un,useEffect:Zp,useImperativeHandle:fx,useInsertionEffect:ux,useLayoutEffect:hx,useMemo:px,useReducer:Gp,useRef:ox,useState:function(){return Gp(Ns)},useDebugValue:Yp,useDeferredValue:function(s,a){var l=Pt();return ut===null?Xp(l,s,a):gx(l,ut.memoizedState,s,a)},useTransition:function(){var s=Gp(Ns)[0],a=Pt().memoizedState;return[typeof s=="boolean"?s:Xc(s),a]},useSyncExternalStore:Hb,useId:bx,useHostTransitionStatus:Wp,useFormState:ax,useActionState:ax,useOptimistic:function(s,a){var l=Pt();return ut!==null?Xb(l,ut,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:$p,useCacheRefresh:xx};Ax.useEffectEvent=cx;function ng(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var rg={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Zn(),m=bi(u);m.payload=a,l!=null&&(m.callback=l),a=xi(s,m,u),a!==null&&(zn(a,s,u),Kc(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Zn(),m=bi(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=xi(s,m,u),a!==null&&(zn(a,s,u),Kc(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Zn(),u=bi(l);u.tag=2,a!=null&&(u.callback=a),a=xi(s,u,l),a!==null&&(zn(a,s,l),Kc(a,s,l))}};function Ix(s,a,l,u,m,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,x):a.prototype&&a.prototype.isPureReactComponent?!Lc(l,u)||!Lc(m,y):!0}function Rx(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&rg.enqueueReplaceState(a,a.state,null)}function za(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}function Nx(s){td(s)}function Cx(s){console.error(s)}function Dx(s){td(s)}function Td(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function kx(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function sg(s,a,l){return l=bi(l),l.tag=3,l.payload={element:null},l.callback=function(){Td(s,a)},l}function jx(s){return s=bi(s),s.tag=3,s}function Ox(s,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;s.payload=function(){return m(y)},s.callback=function(){kx(a,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){kx(a,l,u),typeof m!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function _N(s,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Jo(a,l,m,!0),l=Hn.current,l!==null){switch(l.tag){case 31:case 13:return hr===null?Md():l.alternate===null&&It===0&&(It=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===hd?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Ng(s,u,m)),!1;case 22:return l.flags|=65536,u===hd?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Ng(s,u,m)),!1}throw Error(r(435,l.tag))}return Ng(s,u,m),Md(),!1}if(Ke)return a=Hn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==Ep&&(s=Error(r(422),{cause:u}),Bc(or(s,l)))):(u!==Ep&&(a=Error(r(423),{cause:u}),Bc(or(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=or(u,l),m=sg(s.stateNode,u,m),Op(s,m),It!==4&&(It=2)),!1;var y=Error(r(520),{cause:u});if(y=or(y,l),ou===null?ou=[y]:ou.push(y),It!==4&&(It=2),a===null)return!0;u=or(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=sg(l.stateNode,u,s),Op(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ii===null||!Ii.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=jx(m),Ox(m,s,l,u),Op(l,m),!1}l=l.return}while(l!==null);return!1}var ig=Error(r(461)),$t=!1;function hn(s,a,l,u){a.child=s===null?zb(a,null,l,u):Ma(a,s.child,l,u)}function Px(s,a,l,u,m){l=l.render;var y=a.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return ka(a),u=Up(s,a,l,x,y,m),S=Fp(),s!==null&&!$t?(Bp(s,a,m),Cs(s,a,m)):(Ke&&S&&xp(a),a.flags|=1,hn(s,a,u,m),a.child)}function Mx(s,a,l,u,m){if(s===null){var y=l.type;return typeof y=="function"&&!vp(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,Vx(s,a,y,u,m)):(s=id(l.type,null,u,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!fg(s,m)){var x=y.memoizedProps;if(l=l.compare,l=l!==null?l:Lc,l(x,u)&&s.ref===a.ref)return Cs(s,a,m)}return a.flags|=1,s=Ts(y,u),s.ref=a.ref,s.return=a,a.child=s}function Vx(s,a,l,u,m){if(s!==null){var y=s.memoizedProps;if(Lc(y,u)&&s.ref===a.ref)if($t=!1,a.pendingProps=u=y,fg(s,m))(s.flags&131072)!==0&&($t=!0);else return a.lanes=s.lanes,Cs(s,a,m)}return ag(s,a,l,u,m)}function zx(s,a,l,u){var m=u.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,s!==null){for(u=a.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,a.child=null;return Lx(s,a,y,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&cd(a,y!==null?y.cachePool:null),y!==null?Fb(a,y):Mp(),Bb(a);else return u=a.lanes=536870912,Lx(s,a,y!==null?y.baseLanes|l:l,l,u)}else y!==null?(cd(a,y.cachePool),Fb(a,y),Ei(),a.memoizedState=null):(s!==null&&cd(a,null),Mp(),Ei());return hn(s,a,m,l),a.child}function eu(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Lx(s,a,l,u,m){var y=Cp();return y=y===null?null:{parent:Bt._currentValue,pool:y},a.memoizedState={baseLanes:l,cachePool:y},s!==null&&cd(a,null),Mp(),Bb(a),s!==null&&Jo(s,a,u,!0),a.childLanes=m,null}function Sd(s,a){return a=Id({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Ux(s,a,l){return Ma(a,s.child,null,l),s=Sd(a,a.pendingProps),s.flags|=2,Gn(a),a.memoizedState=null,s}function bN(s,a,l){var u=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Ke){if(u.mode==="hidden")return s=Sd(a,u),a.lanes=536870912,eu(null,s);if(zp(a),(s=pt)?(s=J0(s,ur),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:pi!==null?{id:is,overflow:as}:null,retryLane:536870912,hydrationErrors:null},l=Eb(s),l.return=a,a.child=l,cn=a,pt=null)):s=null,s===null)throw yi(a);return a.lanes=536870912,null}return Sd(a,u)}var y=s.memoizedState;if(y!==null){var x=y.dehydrated;if(zp(a),m)if(a.flags&256)a.flags&=-257,a=Ux(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(r(558));else if($t||Jo(s,a,l,!1),m=(l&s.childLanes)!==0,$t||m){if(u=mt,u!==null&&(x=xc(u,l),x!==0&&x!==y.retryLane))throw y.retryLane=x,Ra(s,x),zn(u,s,x),ig;Md(),a=Ux(s,a,l)}else s=y.treeContext,pt=dr(x.nextSibling),cn=a,Ke=!0,gi=null,ur=!1,s!==null&&Ab(a,s),a=Sd(a,u),a.flags|=4096;return a}return s=Ts(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Ad(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function ag(s,a,l,u,m){return ka(a),l=Up(s,a,l,u,void 0,m),u=Fp(),s!==null&&!$t?(Bp(s,a,m),Cs(s,a,m)):(Ke&&u&&xp(a),a.flags|=1,hn(s,a,l,m),a.child)}function Fx(s,a,l,u,m,y){return ka(a),a.updateQueue=null,l=$b(a,u,l,m),qb(s),u=Fp(),s!==null&&!$t?(Bp(s,a,y),Cs(s,a,y)):(Ke&&u&&xp(a),a.flags|=1,hn(s,a,l,y),a.child)}function Bx(s,a,l,u,m){if(ka(a),a.stateNode===null){var y=Qo,x=l.contextType;typeof x=="object"&&x!==null&&(y=un(x)),y=new l(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=rg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},kp(a),x=l.contextType,y.context=typeof x=="object"&&x!==null?un(x):Qo,y.state=a.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(ng(a,l,x,u),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&rg.enqueueReplaceState(y,y.state,null),Zc(a,u,y,m),Qc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){y=a.stateNode;var S=a.memoizedProps,O=za(l,S);y.props=O;var K=y.context,ne=l.contextType;x=Qo,typeof ne=="object"&&ne!==null&&(x=un(ne));var oe=l.getDerivedStateFromProps;ne=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||K!==x)&&Rx(a,y,u,x),_i=!1;var Z=a.memoizedState;y.state=Z,Zc(a,u,y,m),Qc(),K=a.memoizedState,S||Z!==K||_i?(typeof oe=="function"&&(ng(a,l,oe,u),K=a.memoizedState),(O=_i||Ix(a,l,O,u,Z,K,x))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=K),y.props=u,y.state=K,y.context=x,u=O):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,jp(s,a),x=a.memoizedProps,ne=za(l,x),y.props=ne,oe=a.pendingProps,Z=y.context,K=l.contextType,O=Qo,typeof K=="object"&&K!==null&&(O=un(K)),S=l.getDerivedStateFromProps,(K=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==oe||Z!==O)&&Rx(a,y,u,O),_i=!1,Z=a.memoizedState,y.state=Z,Zc(a,u,y,m),Qc();var ee=a.memoizedState;x!==oe||Z!==ee||_i||s!==null&&s.dependencies!==null&&od(s.dependencies)?(typeof S=="function"&&(ng(a,l,S,u),ee=a.memoizedState),(ne=_i||Ix(a,l,ne,u,Z,ee,O)||s!==null&&s.dependencies!==null&&od(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ee,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ee,O)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=ee),y.props=u,y.state=ee,y.context=O,u=ne):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),u=!1)}return y=u,Ad(s,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&u?(a.child=Ma(a,s.child,null,m),a.child=Ma(a,null,l,m)):hn(s,a,l,m),a.memoizedState=y.state,s=a.child):s=Cs(s,a,m),s}function qx(s,a,l,u){return Ca(),a.flags|=256,hn(s,a,l,u),a.child}var og={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lg(s){return{baseLanes:s,cachePool:kb()}}function cg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Qn),s}function $x(s,a,l){var u=a.pendingProps,m=!1,y=(a.flags&128)!==0,x;if((x=y)||(x=s!==null&&s.memoizedState===null?!1:(Ot.current&2)!==0),x&&(m=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ke){if(m?wi(a):Ei(),(s=pt)?(s=J0(s,ur),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:pi!==null?{id:is,overflow:as}:null,retryLane:536870912,hydrationErrors:null},l=Eb(s),l.return=a,a.child=l,cn=a,pt=null)):s=null,s===null)throw yi(a);return Hg(s)?a.lanes=32:a.lanes=536870912,null}var S=u.children;return u=u.fallback,m?(Ei(),m=a.mode,S=Id({mode:"hidden",children:S},m),u=Na(u,m,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,u=a.child,u.memoizedState=lg(l),u.childLanes=cg(s,x,l),a.memoizedState=og,eu(null,u)):(wi(a),ug(a,S))}var O=s.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(y)a.flags&256?(wi(a),a.flags&=-257,a=hg(s,a,l)):a.memoizedState!==null?(Ei(),a.child=s.child,a.flags|=128,a=null):(Ei(),S=u.fallback,m=a.mode,u=Id({mode:"visible",children:u.children},m),S=Na(S,m,l,null),S.flags|=2,u.return=a,S.return=a,u.sibling=S,a.child=u,Ma(a,s.child,null,l),u=a.child,u.memoizedState=lg(l),u.childLanes=cg(s,x,l),a.memoizedState=og,a=eu(null,u));else if(wi(a),Hg(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var K=x.dgst;x=K,u=Error(r(419)),u.stack="",u.digest=x,Bc({value:u,source:null,stack:null}),a=hg(s,a,l)}else if($t||Jo(s,a,l,!1),x=(l&s.childLanes)!==0,$t||x){if(x=mt,x!==null&&(u=xc(x,l),u!==0&&u!==O.retryLane))throw O.retryLane=u,Ra(s,u),zn(x,s,u),ig;$g(S)||Md(),a=hg(s,a,l)}else $g(S)?(a.flags|=192,a.child=s.child,a=null):(s=O.treeContext,pt=dr(S.nextSibling),cn=a,Ke=!0,gi=null,ur=!1,s!==null&&Ab(a,s),a=ug(a,u.children),a.flags|=4096);return a}return m?(Ei(),S=u.fallback,m=a.mode,O=s.child,K=O.sibling,u=Ts(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,K!==null?S=Ts(K,S):(S=Na(S,m,l,null),S.flags|=2),S.return=a,u.return=a,u.sibling=S,a.child=u,eu(null,u),u=a.child,S=s.child.memoizedState,S===null?S=lg(l):(m=S.cachePool,m!==null?(O=Bt._currentValue,m=m.parent!==O?{parent:O,pool:O}:m):m=kb(),S={baseLanes:S.baseLanes|l,cachePool:m}),u.memoizedState=S,u.childLanes=cg(s,x,l),a.memoizedState=og,eu(s.child,u)):(wi(a),l=s.child,s=l.sibling,l=Ts(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(x=a.deletions,x===null?(a.deletions=[s],a.flags|=16):x.push(s)),a.child=l,a.memoizedState=null,l)}function ug(s,a){return a=Id({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Id(s,a){return s=$n(22,s,null,a),s.lanes=0,s}function hg(s,a,l){return Ma(a,s.child,null,l),s=ug(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Hx(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Ap(s.return,a,l)}function dg(s,a,l,u,m,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:y}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=m,x.treeForkCount=y)}function Gx(s,a,l){var u=a.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var x=Ot.current,S=(x&2)!==0;if(S?(x=x&1|2,a.flags|=128):x&=1,ae(Ot,x),hn(s,a,u,l),u=Ke?Fc:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Hx(s,l,a);else if(s.tag===19)Hx(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&pd(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),dg(a,!1,m,l,y,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&pd(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}dg(a,!0,l,null,y,u);break;case"together":dg(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function Cs(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Ai|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Jo(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=Ts(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Ts(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function fg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&od(s)))}function xN(s,a,l){switch(a.tag){case 3:St(a,a.stateNode.containerInfo),vi(a,Bt,s.memoizedState.cache),Ca();break;case 27:case 5:er(a);break;case 4:St(a,a.stateNode.containerInfo);break;case 10:vi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,zp(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(wi(a),a.flags|=128,null):(l&a.child.childLanes)!==0?$x(s,a,l):(wi(a),s=Cs(s,a,l),s!==null?s.sibling:null);wi(a);break;case 19:var m=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Jo(s,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return Gx(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ae(Ot,Ot.current),u)break;return null;case 22:return a.lanes=0,zx(s,a,l,a.pendingProps);case 24:vi(a,Bt,s.memoizedState.cache)}return Cs(s,a,l)}function Kx(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)$t=!0;else{if(!fg(s,l)&&(a.flags&128)===0)return $t=!1,xN(s,a,l);$t=(s.flags&131072)!==0}else $t=!1,Ke&&(a.flags&1048576)!==0&&Sb(a,Fc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(s=Oa(a.elementType),a.type=s,typeof s=="function")vp(s)?(u=za(s,u),a.tag=1,a=Bx(null,a,s,u,l)):(a.tag=0,a=ag(null,a,s,u,l));else{if(s!=null){var m=s.$$typeof;if(m===J){a.tag=11,a=Px(null,a,s,u,l);break e}else if(m===R){a.tag=14,a=Mx(null,a,s,u,l);break e}}throw a=Ge(s)||s,Error(r(306,a,""))}}return a;case 0:return ag(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=za(u,a.pendingProps),Bx(s,a,u,m,l);case 3:e:{if(St(a,a.stateNode.containerInfo),s===null)throw Error(r(387));u=a.pendingProps;var y=a.memoizedState;m=y.element,jp(s,a),Zc(a,u,null,l);var x=a.memoizedState;if(u=x.cache,vi(a,Bt,u),u!==y.cache&&Ip(a,[Bt],l,!0),Qc(),u=x.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=qx(s,a,u,l);break e}else if(u!==m){m=or(Error(r(424)),a),Bc(m),a=qx(s,a,u,l);break e}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,pt=dr(s.firstChild),cn=a,Ke=!0,gi=null,ur=!0,l=zb(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ca(),u===m){a=Cs(s,a,l);break e}hn(s,a,u,l)}a=a.child}return a;case 26:return Ad(s,a),s===null?(l=sw(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ke||(l=a.type,s=a.pendingProps,u=qd(Re.current).createElement(l),u[Lt]=a,u[tn]=s,dn(u,l,s),Ut(u),a.stateNode=u):a.memoizedState=sw(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return er(a),s===null&&Ke&&(u=a.stateNode=tw(a.type,a.pendingProps,Re.current),cn=a,ur=!0,m=pt,Di(a.type)?(Gg=m,pt=dr(u.firstChild)):pt=m),hn(s,a,a.pendingProps.children,l),Ad(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ke&&((m=u=pt)&&(u=XN(u,a.type,a.pendingProps,ur),u!==null?(a.stateNode=u,cn=a,pt=dr(u.firstChild),ur=!1,m=!0):m=!1),m||yi(a)),er(a),m=a.type,y=a.pendingProps,x=s!==null?s.memoizedProps:null,u=y.children,Fg(m,y)?u=null:x!==null&&Fg(m,x)&&(a.flags|=32),a.memoizedState!==null&&(m=Up(s,a,dN,null,null,l),pu._currentValue=m),Ad(s,a),hn(s,a,u,l),a.child;case 6:return s===null&&Ke&&((s=l=pt)&&(l=JN(l,a.pendingProps,ur),l!==null?(a.stateNode=l,cn=a,pt=null,s=!0):s=!1),s||yi(a)),null;case 13:return $x(s,a,l);case 4:return St(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=Ma(a,null,u,l):hn(s,a,u,l),a.child;case 11:return Px(s,a,a.type,a.pendingProps,l);case 7:return hn(s,a,a.pendingProps,l),a.child;case 8:return hn(s,a,a.pendingProps.children,l),a.child;case 12:return hn(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,vi(a,a.type,u.value),hn(s,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,ka(a),m=un(m),u=u(m),a.flags|=1,hn(s,a,u,l),a.child;case 14:return Mx(s,a,a.type,a.pendingProps,l);case 15:return Vx(s,a,a.type,a.pendingProps,l);case 19:return Gx(s,a,l);case 31:return bN(s,a,l);case 22:return zx(s,a,l,a.pendingProps);case 24:return ka(a),u=un(Bt),s===null?(m=Cp(),m===null&&(m=mt,y=Rp(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:u,cache:m},kp(a),vi(a,Bt,m)):((s.lanes&l)!==0&&(jp(s,a),Zc(a,null,null,l),Qc()),m=s.memoizedState,y=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),vi(a,Bt,u)):(u=y.cache,vi(a,Bt,u),u!==m.cache&&Ip(a,[Bt],l,!0))),hn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Ds(s){s.flags|=4}function mg(s,a,l,u,m){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(b0())s.flags|=8192;else throw Pa=hd,Dp}else s.flags&=-16777217}function Qx(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!cw(a))if(b0())s.flags|=8192;else throw Pa=hd,Dp}function Rd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Oh():536870912,s.lanes|=a,ul|=a)}function tu(s,a){if(!Ke)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function gt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function wN(s,a,l){var u=a.pendingProps;switch(wp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(a),null;case 1:return gt(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Is(Bt),tt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Xo(a)?Ds(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Tp())),gt(a),null;case 26:var m=a.type,y=a.memoizedState;return s===null?(Ds(a),y!==null?(gt(a),Qx(a,y)):(gt(a),mg(a,m,null,u,l))):y?y!==s.memoizedState?(Ds(a),gt(a),Qx(a,y)):(gt(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&Ds(a),gt(a),mg(a,m,s,u,l)),null;case 27:if(Ur(a),l=Re.current,m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Ds(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return gt(a),null}s=ce.current,Xo(a)?Ib(a):(s=tw(m,u,l),a.stateNode=s,Ds(a))}return gt(a),null;case 5:if(Ur(a),m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Ds(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return gt(a),null}if(y=ce.current,Xo(a))Ib(a);else{var x=qd(Re.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?x.createElement(m,{is:u.is}):x.createElement(m)}}y[Lt]=a,y[tn]=u;e:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break e;for(;x.sibling===null;){if(x.return===null||x.return===a)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=y;e:switch(dn(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ds(a)}}return gt(a),mg(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&Ds(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(s=Re.current,Xo(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,m=cn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Lt]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||$0(s.nodeValue,l)),s||yi(a,!0)}else s=qd(s).createTextNode(u),s[Lt]=a,a.stateNode=s}return gt(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=Xo(a),l!==null){if(s===null){if(!u)throw Error(r(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Lt]=a}else Ca(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;gt(a),s=!1}else l=Tp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Gn(a),a):(Gn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return gt(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Xo(a),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Lt]=a}else Ca(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;gt(a),m=!1}else m=Tp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Gn(a),a):(Gn(a),null)}return Gn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),Rd(a,a.updateQueue),gt(a),null);case 4:return tt(),s===null&&Mg(a.stateNode.containerInfo),gt(a),null;case 10:return Is(a.type),gt(a),null;case 19:if(Q(Ot),u=a.memoizedState,u===null)return gt(a),null;if(m=(a.flags&128)!==0,y=u.rendering,y===null)if(m)tu(u,!1);else{if(It!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=pd(s),y!==null){for(a.flags|=128,tu(u,!1),s=y.updateQueue,a.updateQueue=s,Rd(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)wb(l,s),l=l.sibling;return ae(Ot,Ot.current&1|2),Ke&&Ss(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&En()>jd&&(a.flags|=128,m=!0,tu(u,!1),a.lanes=4194304)}else{if(!m)if(s=pd(y),s!==null){if(a.flags|=128,m=!0,s=s.updateQueue,a.updateQueue=s,Rd(a,s),tu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Ke)return gt(a),null}else 2*En()-u.renderingStartTime>jd&&l!==536870912&&(a.flags|=128,m=!0,tu(u,!1),a.lanes=4194304);u.isBackwards?(y.sibling=a.child,a.child=y):(s=u.last,s!==null?s.sibling=y:a.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=En(),s.sibling=null,l=Ot.current,ae(Ot,m?l&1|2:l&1),Ke&&Ss(a,u.treeForkCount),s):(gt(a),null);case 22:case 23:return Gn(a),Vp(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(gt(a),a.subtreeFlags&6&&(a.flags|=8192)):gt(a),l=a.updateQueue,l!==null&&Rd(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&Q(ja),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Is(Bt),gt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function EN(s,a){switch(wp(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Is(Bt),tt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ur(a),null;case 31:if(a.memoizedState!==null){if(Gn(a),a.alternate===null)throw Error(r(340));Ca()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Gn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ca()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Q(Ot),null;case 4:return tt(),null;case 10:return Is(a.type),null;case 22:case 23:return Gn(a),Vp(),s!==null&&Q(ja),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Is(Bt),null;case 25:return null;default:return null}}function Zx(s,a){switch(wp(a),a.tag){case 3:Is(Bt),tt();break;case 26:case 27:case 5:Ur(a);break;case 4:tt();break;case 31:a.memoizedState!==null&&Gn(a);break;case 13:Gn(a);break;case 19:Q(Ot);break;case 10:Is(a.type);break;case 22:case 23:Gn(a),Vp(),s!==null&&Q(ja);break;case 24:Is(Bt)}}function nu(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&s)===s){u=void 0;var y=l.create,x=l.inst;u=y(),x.destroy=u}l=l.next}while(l!==m)}}catch(S){st(a,a.return,S)}}function Ti(s,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&s)===s){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,m=a;var O=l,K=S;try{K()}catch(ne){st(m,O,ne)}}}u=u.next}while(u!==y)}}catch(ne){st(a,a.return,ne)}}function Yx(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Ub(a,l)}catch(u){st(s,s.return,u)}}}function Xx(s,a,l){l.props=za(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){st(s,a,u)}}function ru(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(m){st(s,a,m)}}function os(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){st(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){st(s,a,m)}else l.current=null}function Jx(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){st(s,s.return,m)}}function pg(s,a,l){try{var u=s.stateNode;HN(u,s.type,l,a),u[tn]=a}catch(m){st(s,s.return,m)}}function Wx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Di(s.type)||s.tag===4}function gg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Wx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Di(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yg(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Rr));else if(u!==4&&(u===27&&Di(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(yg(s,a,l),s=s.sibling;s!==null;)yg(s,a,l),s=s.sibling}function Nd(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&Di(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Nd(s,a,l),s=s.sibling;s!==null;)Nd(s,a,l),s=s.sibling}function e0(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);dn(a,u,l),a[Lt]=s,a[tn]=l}catch(y){st(s,s.return,y)}}var ks=!1,Ht=!1,vg=!1,t0=typeof WeakSet=="function"?WeakSet:Set,rn=null;function TN(s,a){if(s=s.containerInfo,Lg=Yd,s=fb(s),hp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var x=0,S=-1,O=-1,K=0,ne=0,oe=s,Z=null;t:for(;;){for(var ee;oe!==l||m!==0&&oe.nodeType!==3||(S=x+m),oe!==y||u!==0&&oe.nodeType!==3||(O=x+u),oe.nodeType===3&&(x+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)Z=oe,oe=ee;for(;;){if(oe===s)break t;if(Z===l&&++K===m&&(S=x),Z===y&&++ne===u&&(O=x),(ee=oe.nextSibling)!==null)break;oe=Z,Z=oe.parentNode}oe=ee}l=S===-1||O===-1?null:{start:S,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ug={focusedElem:s,selectionRange:l},Yd=!1,rn=a;rn!==null;)if(a=rn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,rn=s;else for(;rn!==null;){switch(a=rn,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)m=s[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var ge=za(l.type,m);s=u.getSnapshotBeforeUpdate(ge,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ie){st(l,l.return,Ie)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)qg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":qg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,rn=s;break}rn=a.return}}function n0(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Os(s,l),u&4&&nu(5,l);break;case 1:if(Os(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(x){st(l,l.return,x)}else{var m=za(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(x){st(l,l.return,x)}}u&64&&Yx(l),u&512&&ru(l,l.return);break;case 3:if(Os(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Ub(s,a)}catch(x){st(l,l.return,x)}}break;case 27:a===null&&u&4&&e0(l);case 26:case 5:Os(s,l),a===null&&u&4&&Jx(l),u&512&&ru(l,l.return);break;case 12:Os(s,l);break;case 31:Os(s,l),u&4&&i0(s,l);break;case 13:Os(s,l),u&4&&a0(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=jN.bind(null,l),WN(s,l))));break;case 22:if(u=l.memoizedState!==null||ks,!u){a=a!==null&&a.memoizedState!==null||Ht,m=ks;var y=Ht;ks=u,(Ht=a)&&!y?Ps(s,l,(l.subtreeFlags&8772)!==0):Os(s,l),ks=m,Ht=y}break;case 30:break;default:Os(s,l)}}function r0(s){var a=s.alternate;a!==null&&(s.alternate=null,r0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Oo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vt=null,On=!1;function js(s,a,l){for(l=l.child;l!==null;)s0(s,a,l),l=l.sibling}function s0(s,a,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Tr,l)}catch{}switch(l.tag){case 26:Ht||os(l,a),js(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||os(l,a);var u=vt,m=On;Di(l.type)&&(vt=l.stateNode,On=!1),js(s,a,l),du(l.stateNode),vt=u,On=m;break;case 5:Ht||os(l,a);case 6:if(u=vt,m=On,vt=null,js(s,a,l),vt=u,On=m,vt!==null)if(On)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(y){st(l,a,y)}else try{vt.removeChild(l.stateNode)}catch(y){st(l,a,y)}break;case 18:vt!==null&&(On?(s=vt,Y0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),vl(s)):Y0(vt,l.stateNode));break;case 4:u=vt,m=On,vt=l.stateNode.containerInfo,On=!0,js(s,a,l),vt=u,On=m;break;case 0:case 11:case 14:case 15:Ti(2,l,a),Ht||Ti(4,l,a),js(s,a,l);break;case 1:Ht||(os(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Xx(l,a,u)),js(s,a,l);break;case 21:js(s,a,l);break;case 22:Ht=(u=Ht)||l.memoizedState!==null,js(s,a,l),Ht=u;break;default:js(s,a,l)}}function i0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{vl(s)}catch(l){st(a,a.return,l)}}}function a0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{vl(s)}catch(l){st(a,a.return,l)}}function SN(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new t0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new t0),a;default:throw Error(r(435,s.tag))}}function Cd(s,a){var l=SN(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var m=ON.bind(null,s,u);u.then(m,m)}})}function Pn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],y=s,x=a,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(Di(S.type)){vt=S.stateNode,On=!1;break e}break;case 5:vt=S.stateNode,On=!1;break e;case 3:case 4:vt=S.stateNode.containerInfo,On=!0;break e}S=S.return}if(vt===null)throw Error(r(160));s0(y,x,m),vt=null,On=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)o0(a,s),a=a.sibling}var Or=null;function o0(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Pn(a,s),Mn(s),u&4&&(Ti(3,s,s.return),nu(3,s),Ti(5,s,s.return));break;case 1:Pn(a,s),Mn(s),u&512&&(Ht||l===null||os(l,l.return)),u&64&&ks&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=Or;if(Pn(a,s),Mn(s),u&512&&(Ht||l===null||os(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Kr]||y[Lt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),dn(y,u,l),y[Lt]=s,Ut(y),u=y;break e;case"link":var x=ow("link","href",m).get(u+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(y=x[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}y=m.createElement(u),dn(y,u,l),m.head.appendChild(y);break;case"meta":if(x=ow("meta","content",m).get(u+(l.content||""))){for(S=0;S<x.length;S++)if(y=x[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}y=m.createElement(u),dn(y,u,l),m.head.appendChild(y);break;default:throw Error(r(468,u))}y[Lt]=s,Ut(y),u=y}s.stateNode=u}else lw(m,s.type,s.stateNode);else s.stateNode=aw(m,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?lw(m,s.type,s.stateNode):aw(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&pg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Pn(a,s),Mn(s),u&512&&(Ht||l===null||os(l,l.return)),l!==null&&u&4&&pg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Pn(a,s),Mn(s),u&512&&(Ht||l===null||os(l,l.return)),s.flags&32){m=s.stateNode;try{jn(m,"")}catch(ge){st(s,s.return,ge)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,pg(s,m,l!==null?l.memoizedProps:m)),u&1024&&(vg=!0);break;case 6:if(Pn(a,s),Mn(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ge){st(s,s.return,ge)}}break;case 3:if(Gd=null,m=Or,Or=$d(a.containerInfo),Pn(a,s),Or=m,Mn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{vl(a.containerInfo)}catch(ge){st(s,s.return,ge)}vg&&(vg=!1,l0(s));break;case 4:u=Or,Or=$d(s.stateNode.containerInfo),Pn(a,s),Mn(s),Or=u;break;case 12:Pn(a,s),Mn(s);break;case 31:Pn(a,s),Mn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Cd(s,u)));break;case 13:Pn(a,s),Mn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(kd=En()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Cd(s,u)));break;case 22:m=s.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,K=ks,ne=Ht;if(ks=K||m,Ht=ne||O,Pn(a,s),Ht=ne,ks=K,Mn(s),u&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||O||ks||Ht||La(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){O=l=a;try{if(y=O.stateNode,m)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=O.stateNode;var oe=O.memoizedProps.style,Z=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ge){st(O,O.return,ge)}}}else if(a.tag===6){if(l===null){O=a;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(ge){st(O,O.return,ge)}}}else if(a.tag===18){if(l===null){O=a;try{var ee=O.stateNode;m?X0(ee,!0):X0(O.stateNode,!1)}catch(ge){st(O,O.return,ge)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Cd(s,l))));break;case 19:Pn(a,s),Mn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Cd(s,u)));break;case 30:break;case 21:break;default:Pn(a,s),Mn(s)}}function Mn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Wx(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=gg(s);Nd(s,y,m);break;case 5:var x=l.stateNode;l.flags&32&&(jn(x,""),l.flags&=-33);var S=gg(s);Nd(s,S,x);break;case 3:case 4:var O=l.stateNode.containerInfo,K=gg(s);yg(s,K,O);break;default:throw Error(r(161))}}catch(ne){st(s,s.return,ne)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function l0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;l0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Os(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)n0(s,a.alternate,a),a=a.sibling}function La(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ti(4,a,a.return),La(a);break;case 1:os(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Xx(a,a.return,l),La(a);break;case 27:du(a.stateNode);case 26:case 5:os(a,a.return),La(a);break;case 22:a.memoizedState===null&&La(a);break;case 30:La(a);break;default:La(a)}s=s.sibling}}function Ps(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=s,y=a,x=y.flags;switch(y.tag){case 0:case 11:case 15:Ps(m,y,l),nu(4,y);break;case 1:if(Ps(m,y,l),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){st(u,u.return,K)}if(u=y,m=u.updateQueue,m!==null){var S=u.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)Lb(O[m],S)}catch(K){st(u,u.return,K)}}l&&x&64&&Yx(y),ru(y,y.return);break;case 27:e0(y);case 26:case 5:Ps(m,y,l),l&&u===null&&x&4&&Jx(y),ru(y,y.return);break;case 12:Ps(m,y,l);break;case 31:Ps(m,y,l),l&&x&4&&i0(m,y);break;case 13:Ps(m,y,l),l&&x&4&&a0(m,y);break;case 22:y.memoizedState===null&&Ps(m,y,l),ru(y,y.return);break;case 30:break;default:Ps(m,y,l)}a=a.sibling}}function _g(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&qc(l))}function bg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&qc(s))}function Pr(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)c0(s,a,l,u),a=a.sibling}function c0(s,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Pr(s,a,l,u),m&2048&&nu(9,a);break;case 1:Pr(s,a,l,u);break;case 3:Pr(s,a,l,u),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&qc(s)));break;case 12:if(m&2048){Pr(s,a,l,u),s=a.stateNode;try{var y=a.memoizedProps,x=y.id,S=y.onPostCommit;typeof S=="function"&&S(x,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){st(a,a.return,O)}}else Pr(s,a,l,u);break;case 31:Pr(s,a,l,u);break;case 13:Pr(s,a,l,u);break;case 23:break;case 22:y=a.stateNode,x=a.alternate,a.memoizedState!==null?y._visibility&2?Pr(s,a,l,u):su(s,a):y._visibility&2?Pr(s,a,l,u):(y._visibility|=2,ol(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),m&2048&&_g(x,a);break;case 24:Pr(s,a,l,u),m&2048&&bg(a.alternate,a);break;default:Pr(s,a,l,u)}}function ol(s,a,l,u,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,x=a,S=l,O=u,K=x.flags;switch(x.tag){case 0:case 11:case 15:ol(y,x,S,O,m),nu(8,x);break;case 23:break;case 22:var ne=x.stateNode;x.memoizedState!==null?ne._visibility&2?ol(y,x,S,O,m):su(y,x):(ne._visibility|=2,ol(y,x,S,O,m)),m&&K&2048&&_g(x.alternate,x);break;case 24:ol(y,x,S,O,m),m&&K&2048&&bg(x.alternate,x);break;default:ol(y,x,S,O,m)}a=a.sibling}}function su(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,m=u.flags;switch(u.tag){case 22:su(l,u),m&2048&&_g(u.alternate,u);break;case 24:su(l,u),m&2048&&bg(u.alternate,u);break;default:su(l,u)}a=a.sibling}}var iu=8192;function ll(s,a,l){if(s.subtreeFlags&iu)for(s=s.child;s!==null;)u0(s,a,l),s=s.sibling}function u0(s,a,l){switch(s.tag){case 26:ll(s,a,l),s.flags&iu&&s.memoizedState!==null&&hC(l,Or,s.memoizedState,s.memoizedProps);break;case 5:ll(s,a,l);break;case 3:case 4:var u=Or;Or=$d(s.stateNode.containerInfo),ll(s,a,l),Or=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=iu,iu=16777216,ll(s,a,l),iu=u):ll(s,a,l));break;default:ll(s,a,l)}}function h0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function au(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];rn=u,f0(u,s)}h0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)d0(s),s=s.sibling}function d0(s){switch(s.tag){case 0:case 11:case 15:au(s),s.flags&2048&&Ti(9,s,s.return);break;case 3:au(s);break;case 12:au(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Dd(s)):au(s);break;default:au(s)}}function Dd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];rn=u,f0(u,s)}h0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ti(8,a,a.return),Dd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Dd(a));break;default:Dd(a)}s=s.sibling}}function f0(s,a){for(;rn!==null;){var l=rn;switch(l.tag){case 0:case 11:case 15:Ti(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:qc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,rn=u;else e:for(l=s;rn!==null;){u=rn;var m=u.sibling,y=u.return;if(r0(u),u===l){rn=null;break e}if(m!==null){m.return=y,rn=m;break e}rn=y}}}var AN={getCacheForType:function(s){var a=un(Bt),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return un(Bt).controller.signal}},IN=typeof WeakMap=="function"?WeakMap:Map,et=0,mt=null,Le=null,Be=0,rt=0,Kn=null,Si=!1,cl=!1,xg=!1,Ms=0,It=0,Ai=0,Ua=0,wg=0,Qn=0,ul=0,ou=null,Vn=null,Eg=!1,kd=0,m0=0,jd=1/0,Od=null,Ii=null,Yt=0,Ri=null,hl=null,Vs=0,Tg=0,Sg=null,p0=null,lu=0,Ag=null;function Zn(){return(et&2)!==0&&Be!==0?Be&-Be:W.T!==null?kg():Ph()}function g0(){if(Qn===0)if((Be&536870912)===0||Ke){var s=fa;fa<<=1,(fa&3932160)===0&&(fa=262144),Qn=s}else Qn=536870912;return s=Hn.current,s!==null&&(s.flags|=32),Qn}function zn(s,a,l){(s===mt&&(rt===2||rt===9)||s.cancelPendingCommit!==null)&&(dl(s,0),Ni(s,Be,Qn,!1)),ma(s,l),((et&2)===0||s!==mt)&&(s===mt&&((et&2)===0&&(Ua|=l),It===4&&Ni(s,Be,Qn,!1)),ls(s))}function y0(s,a,l){if((et&6)!==0)throw Error(r(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||Sr(s,a),m=u?CN(s,a):Rg(s,a,!0),y=u;do{if(m===0){cl&&!u&&Ni(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!RN(l)){m=Rg(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;e:{var S=s;m=ou;var O=S.current.memoizedState.isDehydrated;if(O&&(dl(S,x).flags|=256),x=Rg(S,x,!1),x!==2){if(xg&&!O){S.errorRecoveryDisabledLanes|=y,Ua|=y,m=4;break e}y=Vn,Vn=m,y!==null&&(Vn===null?Vn=y:Vn.push.apply(Vn,y))}m=x}if(y=!1,m!==2)continue}}if(m===1){dl(s,0),Ni(s,a,0,!0);break}e:{switch(u=s,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ni(u,a,Qn,!Si);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=kd+300-En(),10<m)){if(Ni(u,a,Qn,!Si),$r(u,0,!0)!==0)break e;Vs=a,u.timeoutHandle=Q0(v0.bind(null,u,l,Vn,Od,Eg,a,Qn,Ua,ul,Si,y,"Throttled",-0,0),m);break e}v0(u,l,Vn,Od,Eg,a,Qn,Ua,ul,Si,y,null,-0,0)}}break}while(!0);ls(s)}function v0(s,a,l,u,m,y,x,S,O,K,ne,oe,Z,ee){if(s.timeoutHandle=-1,oe=a.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rr},u0(a,y,oe);var ge=(y&62914560)===y?kd-En():(y&4194048)===y?m0-En():0;if(ge=dC(oe,ge),ge!==null){Vs=y,s.cancelPendingCommit=ge(A0.bind(null,s,a,y,l,u,m,x,S,O,ne,oe,null,Z,ee)),Ni(s,y,x,!K);return}}A0(s,a,y,l,u,m,x,S,O)}function RN(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],y=m.getSnapshot;m=m.value;try{if(!qn(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ni(s,a,l,u){a&=~wg,a&=~Ua,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var m=a;0<m;){var y=31-kt(m),x=1<<y;u[y]=-1,m&=~x}l!==0&&pa(s,l,a)}function Pd(){return(et&6)===0?(cu(0),!1):!0}function Ig(){if(Le!==null){if(rt===0)var s=Le.return;else s=Le,As=Da=null,qp(s),nl=null,Hc=0,s=Le;for(;s!==null;)Zx(s.alternate,s),s=s.return;Le=null}}function dl(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,QN(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Vs=0,Ig(),mt=s,Le=l=Ts(s.current,null),Be=a,rt=0,Kn=null,Si=!1,cl=Sr(s,a),xg=!1,ul=Qn=wg=Ua=Ai=It=0,Vn=ou=null,Eg=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var m=31-kt(u),y=1<<m;a|=s[m],u&=~y}return Ms=a,nd(),l}function _0(s,a){Oe=null,W.H=Wc,a===tl||a===ud?(a=Pb(),rt=3):a===Dp?(a=Pb(),rt=4):rt=a===ig?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Kn=a,Le===null&&(It=1,Td(s,or(a,s.current)))}function b0(){var s=Hn.current;return s===null?!0:(Be&4194048)===Be?hr===null:(Be&62914560)===Be||(Be&536870912)!==0?s===hr:!1}function x0(){var s=W.H;return W.H=Wc,s===null?Wc:s}function w0(){var s=W.A;return W.A=AN,s}function Md(){It=4,Si||(Be&4194048)!==Be&&Hn.current!==null||(cl=!0),(Ai&134217727)===0&&(Ua&134217727)===0||mt===null||Ni(mt,Be,Qn,!1)}function Rg(s,a,l){var u=et;et|=2;var m=x0(),y=w0();(mt!==s||Be!==a)&&(Od=null,dl(s,a)),a=!1;var x=It;e:do try{if(rt!==0&&Le!==null){var S=Le,O=Kn;switch(rt){case 8:Ig(),x=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(a=!0);var K=rt;if(rt=0,Kn=null,fl(s,S,O,K),l&&cl){x=0;break e}break;default:K=rt,rt=0,Kn=null,fl(s,S,O,K)}}NN(),x=It;break}catch(ne){_0(s,ne)}while(!0);return a&&s.shellSuspendCounter++,As=Da=null,et=u,W.H=m,W.A=y,Le===null&&(mt=null,Be=0,nd()),x}function NN(){for(;Le!==null;)E0(Le)}function CN(s,a){var l=et;et|=2;var u=x0(),m=w0();mt!==s||Be!==a?(Od=null,jd=En()+500,dl(s,a)):cl=Sr(s,a);e:do try{if(rt!==0&&Le!==null){a=Le;var y=Kn;t:switch(rt){case 1:rt=0,Kn=null,fl(s,a,y,1);break;case 2:case 9:if(jb(y)){rt=0,Kn=null,T0(a);break}a=function(){rt!==2&&rt!==9||mt!==s||(rt=7),ls(s)},y.then(a,a);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:jb(y)?(rt=0,Kn=null,T0(a)):(rt=0,Kn=null,fl(s,a,y,7));break;case 5:var x=null;switch(Le.tag){case 26:x=Le.memoizedState;case 5:case 27:var S=Le;if(x?cw(x):S.stateNode.complete){rt=0,Kn=null;var O=S.sibling;if(O!==null)Le=O;else{var K=S.return;K!==null?(Le=K,Vd(K)):Le=null}break t}}rt=0,Kn=null,fl(s,a,y,5);break;case 6:rt=0,Kn=null,fl(s,a,y,6);break;case 8:Ig(),It=6;break e;default:throw Error(r(462))}}DN();break}catch(ne){_0(s,ne)}while(!0);return As=Da=null,W.H=u,W.A=m,et=l,Le!==null?0:(mt=null,Be=0,nd(),It)}function DN(){for(;Le!==null&&!sp();)E0(Le)}function E0(s){var a=Kx(s.alternate,s,Ms);s.memoizedProps=s.pendingProps,a===null?Vd(s):Le=a}function T0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Fx(l,a,a.pendingProps,a.type,void 0,Be);break;case 11:a=Fx(l,a,a.pendingProps,a.type.render,a.ref,Be);break;case 5:qp(a);default:Zx(l,a),a=Le=wb(a,Ms),a=Kx(l,a,Ms)}s.memoizedProps=s.pendingProps,a===null?Vd(s):Le=a}function fl(s,a,l,u){As=Da=null,qp(a),nl=null,Hc=0;var m=a.return;try{if(_N(s,m,a,l,Be)){It=1,Td(s,or(l,s.current)),Le=null;return}}catch(y){if(m!==null)throw Le=m,y;It=1,Td(s,or(l,s.current)),Le=null;return}a.flags&32768?(Ke||u===1?s=!0:cl||(Be&536870912)!==0?s=!1:(Si=s=!0,(u===2||u===9||u===3||u===6)&&(u=Hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),S0(a,s)):Vd(a)}function Vd(s){var a=s;do{if((a.flags&32768)!==0){S0(a,Si);return}s=a.return;var l=wN(a.alternate,a,Ms);if(l!==null){Le=l;return}if(a=a.sibling,a!==null){Le=a;return}Le=a=s}while(a!==null);It===0&&(It=5)}function S0(s,a){do{var l=EN(s.alternate,s);if(l!==null){l.flags&=32767,Le=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Le=s;return}Le=s=l}while(s!==null);It=6,Le=null}function A0(s,a,l,u,m,y,x,S,O){s.cancelPendingCommit=null;do zd();while(Yt!==0);if((et&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=gp,op(s,l,y,x,S,O),s===mt&&(Le=mt=null,Be=0),hl=a,Ri=s,Vs=l,Tg=y,Sg=m,p0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,PN(ii,function(){return D0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,m=he.p,he.p=2,x=et,et|=4;try{TN(s,a,l)}finally{et=x,he.p=m,W.T=u}}Yt=1,I0(),R0(),N0()}}function I0(){if(Yt===1){Yt=0;var s=Ri,a=hl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var u=he.p;he.p=2;var m=et;et|=4;try{o0(a,s);var y=Ug,x=fb(s.containerInfo),S=y.focusedElem,O=y.selectionRange;if(x!==S&&S&&S.ownerDocument&&db(S.ownerDocument.documentElement,S)){if(O!==null&&hp(S)){var K=O.start,ne=O.end;if(ne===void 0&&(ne=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(ne,S.value.length);else{var oe=S.ownerDocument||document,Z=oe&&oe.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),ge=S.textContent.length,Ie=Math.min(O.start,ge),dt=O.end===void 0?Ie:Math.min(O.end,ge);!ee.extend&&Ie>dt&&(x=dt,dt=Ie,Ie=x);var B=hb(S,Ie),L=hb(S,dt);if(B&&L&&(ee.rangeCount!==1||ee.anchorNode!==B.node||ee.anchorOffset!==B.offset||ee.focusNode!==L.node||ee.focusOffset!==L.offset)){var G=oe.createRange();G.setStart(B.node,B.offset),ee.removeAllRanges(),Ie>dt?(ee.addRange(G),ee.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),ee.addRange(G))}}}}for(oe=[],ee=S;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var re=oe[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Yd=!!Lg,Ug=Lg=null}finally{et=m,he.p=u,W.T=l}}s.current=a,Yt=2}}function R0(){if(Yt===2){Yt=0;var s=Ri,a=hl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var u=he.p;he.p=2;var m=et;et|=4;try{n0(s,a.alternate,a)}finally{et=m,he.p=u,W.T=l}}Yt=3}}function N0(){if(Yt===4||Yt===3){Yt=0,Rh();var s=Ri,a=hl,l=Vs,u=p0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Yt=5:(Yt=0,hl=Ri=null,C0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Ii=null),bs(l),a=a.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Tr,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=W.T,m=he.p,he.p=2,W.T=null;try{for(var y=s.onRecoverableError,x=0;x<u.length;x++){var S=u[x];y(S.value,{componentStack:S.stack})}}finally{W.T=a,he.p=m}}(Vs&3)!==0&&zd(),ls(s),m=s.pendingLanes,(l&261930)!==0&&(m&42)!==0?s===Ag?lu++:(lu=0,Ag=s):lu=0,cu(0)}}function C0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,qc(a)))}function zd(){return I0(),R0(),N0(),D0()}function D0(){if(Yt!==5)return!1;var s=Ri,a=Tg;Tg=0;var l=bs(Vs),u=W.T,m=he.p;try{he.p=32>l?32:l,W.T=null,l=Sg,Sg=null;var y=Ri,x=Vs;if(Yt=0,hl=Ri=null,Vs=0,(et&6)!==0)throw Error(r(331));var S=et;if(et|=4,d0(y.current),c0(y,y.current,x,l),et=S,cu(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Tr,y)}catch{}return!0}finally{he.p=m,W.T=u,C0(s,a)}}function k0(s,a,l){a=or(l,a),a=sg(s.stateNode,a,2),s=xi(s,a,2),s!==null&&(ma(s,2),ls(s))}function st(s,a,l){if(s.tag===3)k0(s,s,l);else for(;a!==null;){if(a.tag===3){k0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ii===null||!Ii.has(u))){s=or(l,s),l=jx(2),u=xi(a,l,2),u!==null&&(Ox(l,u,a,s),ma(u,2),ls(u));break}}a=a.return}}function Ng(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new IN;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(xg=!0,m.add(l),s=kN.bind(null,s,a,l),a.then(s,s))}function kN(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(Be&l)===l&&(It===4||It===3&&(Be&62914560)===Be&&300>En()-kd?(et&2)===0&&dl(s,0):wg|=l,ul===Be&&(ul=0)),ls(s)}function j0(s,a){a===0&&(a=Oh()),s=Ra(s,a),s!==null&&(ma(s,a),ls(s))}function jN(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),j0(s,l)}function ON(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),j0(s,l)}function PN(s,a){return Zt(s,a)}var Ld=null,ml=null,Cg=!1,Ud=!1,Dg=!1,Ci=0;function ls(s){s!==ml&&s.next===null&&(ml===null?Ld=ml=s:ml=ml.next=s),Ud=!0,Cg||(Cg=!0,VN())}function cu(s,a){if(!Dg&&Ud){Dg=!0;do for(var l=!1,u=Ld;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var x=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-kt(42|s)+1)-1,y&=m&~(x&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,V0(u,y))}else y=Be,y=$r(u,u===mt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Sr(u,y)||(l=!0,V0(u,y));u=u.next}while(l);Dg=!1}}function MN(){O0()}function O0(){Ud=Cg=!1;var s=0;Ci!==0&&KN()&&(s=Ci);for(var a=En(),l=null,u=Ld;u!==null;){var m=u.next,y=P0(u,a);y===0?(u.next=null,l===null?Ld=m:l.next=m,m===null&&(ml=l)):(l=u,(s!==0||(y&3)!==0)&&(Ud=!0)),u=m}Yt!==0&&Yt!==5||cu(s),Ci!==0&&(Ci=0)}function P0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var x=31-kt(y),S=1<<x,O=m[x];O===-1?((S&l)===0||(S&u)!==0)&&(m[x]=ap(S,a)):O<=a&&(s.expiredLanes|=S),y&=~S}if(a=mt,l=Be,l=$r(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(rt===2||rt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&si(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Sr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&si(u),bs(l)){case 2:case 8:l=_c;break;case 32:l=ii;break;case 268435456:l=Nh;break;default:l=ii}return u=M0.bind(null,s),l=Zt(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&si(u),s.callbackPriority=2,s.callbackNode=null,2}function M0(s,a){if(Yt!==0&&Yt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(zd()&&s.callbackNode!==l)return null;var u=Be;return u=$r(s,s===mt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(y0(s,u,a),P0(s,En()),s.callbackNode!=null&&s.callbackNode===l?M0.bind(null,s):null)}function V0(s,a){if(zd())return null;y0(s,a,!0)}function VN(){ZN(function(){(et&6)!==0?Zt(vc,MN):O0()})}function kg(){if(Ci===0){var s=Wo;s===0&&(s=Br,Br<<=1,(Br&261888)===0&&(Br=256)),Ci=s}return Ci}function z0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:zo(""+s)}function L0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function zN(s,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var y=z0((m[tn]||null).action),x=u.submitter;x&&(a=(a=x[tn]||null)?z0(a.formAction):x.getAttribute("formAction"),a!==null&&(y=a,x=null));var S=new ts("action","action",null,u,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ci!==0){var O=x?L0(m,x):new FormData(m);Jp(l,{pending:!0,data:O,method:m.method,action:y},null,O)}}else typeof y=="function"&&(S.preventDefault(),O=x?L0(m,x):new FormData(m),Jp(l,{pending:!0,data:O,method:m.method,action:y},y,O))},currentTarget:m}]})}}for(var jg=0;jg<pp.length;jg++){var Og=pp[jg],LN=Og.toLowerCase(),UN=Og[0].toUpperCase()+Og.slice(1);jr(LN,"on"+UN)}jr(gb,"onAnimationEnd"),jr(yb,"onAnimationIteration"),jr(vb,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(nN,"onTransitionRun"),jr(rN,"onTransitionStart"),jr(sN,"onTransitionCancel"),jr(_b,"onTransitionEnd"),Xr("onMouseEnter",["mouseout","mouseover"]),Xr("onMouseLeave",["mouseout","mouseover"]),Xr("onPointerEnter",["pointerout","pointerover"]),Xr("onPointerLeave",["pointerout","pointerover"]),Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function U0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],m=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var x=u.length-1;0<=x;x--){var S=u[x],O=S.instance,K=S.currentTarget;if(S=S.listener,O!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=K;try{y(m)}catch(ne){td(ne)}m.currentTarget=null,y=O}else for(x=0;x<u.length;x++){if(S=u[x],O=S.instance,K=S.currentTarget,S=S.listener,O!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=K;try{y(m)}catch(ne){td(ne)}m.currentTarget=null,y=O}}}}function Ue(s,a){var l=a[jo];l===void 0&&(l=a[jo]=new Set);var u=s+"__bubble";l.has(u)||(F0(a,s,2,!1),l.add(u))}function Pg(s,a,l){var u=0;a&&(u|=4),F0(l,s,u,a)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function Mg(s){if(!s[Fd]){s[Fd]=!0,wc.forEach(function(l){l!=="selectionchange"&&(FN.has(l)||Pg(l,!1,s),Pg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Fd]||(a[Fd]=!0,Pg("selectionchange",!1,a))}}function F0(s,a,l,u){switch(gw(a)){case 2:var m=pC;break;case 8:m=gC;break;default:m=Xg}l=m.bind(null,a,l,s),m=void 0,!ba||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Vg(s,a,l,u,m){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===m)break;if(x===4)for(x=u.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;S!==null;){if(x=Qr(S),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){u=y=x;continue e}S=S.parentNode}}u=u.return}hi(function(){var K=y,ne=rr(l),oe=[];e:{var Z=bb.get(s);if(Z!==void 0){var ee=ts,ge=s;switch(s){case"keypress":if(wa(l)===0)break e;case"keydown":case"keyup":ee=Jh;break;case"focusin":ge="focus",ee=Ta;break;case"focusout":ge="blur",ee=Ta;break;case"beforeblur":case"afterblur":ee=Ta;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=b;break;case gb:case yb:case vb:ee=Hh;break;case _b:ee=I;break;case"scroll":case"scrollend":ee=Oc;break;case"wheel":ee=Y;break;case"copy":case"cut":case"paste":ee=Gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Es;break;case"toggle":case"beforetoggle":ee=je}var Ie=(a&4)!==0,dt=!Ie&&(s==="scroll"||s==="scrollend"),B=Ie?Z!==null?Z+"Capture":null:Z;Ie=[];for(var L=K,G;L!==null;){var re=L;if(G=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||G===null||B===null||(re=Nr(L,B),re!=null&&Ie.push(hu(L,re,G))),dt)break;L=L.return}0<Ie.length&&(Z=new ee(Z,ge,null,l,ne),oe.push({event:Z,listeners:Ie}))}}if((a&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",Z&&l!==Dc&&(ge=l.relatedTarget||l.fromElement)&&(Qr(ge)||ge[Gr]))break e;if((ee||Z)&&(Z=ne.window===ne?ne:(Z=ne.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(ge=l.relatedTarget||l.toElement,ee=K,ge=ge?Qr(ge):null,ge!==null&&(dt=o(ge),Ie=ge.tag,ge!==dt||Ie!==5&&Ie!==27&&Ie!==6)&&(ge=null)):(ee=null,ge=K),ee!==ge)){if(Ie=Pc,re="onMouseLeave",B="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=Es,re="onPointerLeave",B="onPointerEnter",L="pointer"),dt=ee==null?Z:Fn(ee),G=ge==null?Z:Fn(ge),Z=new Ie(re,L+"leave",ee,l,ne),Z.target=dt,Z.relatedTarget=G,re=null,Qr(ne)===K&&(Ie=new Ie(B,L+"enter",ge,l,ne),Ie.target=G,Ie.relatedTarget=dt,re=Ie),dt=re,ee&&ge)t:{for(Ie=BN,B=ee,L=ge,G=0,re=B;re;re=Ie(re))G++;re=0;for(var Te=L;Te;Te=Ie(Te))re++;for(;0<G-re;)B=Ie(B),G--;for(;0<re-G;)L=Ie(L),re--;for(;G--;){if(B===L||L!==null&&B===L.alternate){Ie=B;break t}B=Ie(B),L=Ie(L)}Ie=null}else Ie=null;ee!==null&&B0(oe,Z,ee,Ie,!1),ge!==null&&dt!==null&&B0(oe,dt,ge,Ie,!0)}}e:{if(Z=K?Fn(K):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var Ye=ib;else if(rb(Z))if(ab)Ye=WR;else{Ye=XR;var be=YR}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&Vo(K.elementType)&&(Ye=ib):Ye=JR;if(Ye&&(Ye=Ye(s,K))){sb(oe,Ye,l,ne);break e}be&&be(s,Z,K),s==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&Rc(Z,"number",Z.value)}switch(be=K?Fn(K):window,s){case"focusin":(rb(be)||be.contentEditable==="true")&&(Ho=be,dp=K,Uc=null);break;case"focusout":Uc=dp=Ho=null;break;case"mousedown":fp=!0;break;case"contextmenu":case"mouseup":case"dragend":fp=!1,mb(oe,l,ne);break;case"selectionchange":if(tN)break;case"keydown":case"keyup":mb(oe,l,ne)}var Pe;if(We)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else $o?Sa(s,l)&&(qe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(ss&&l.locale!=="ko"&&($o||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&$o&&(Pe=jc()):(es=ne,kc="value"in es?es.value:es.textContent,$o=!0)),be=Bd(K,qe),0<be.length&&(qe=new rs(qe,s,null,l,ne),oe.push({event:qe,listeners:be}),Pe?qe.data=Pe:(Pe=qo(l),Pe!==null&&(qe.data=Pe)))),(Pe=ir?GR(s,l):KR(s,l))&&(qe=Bd(K,"onBeforeInput"),0<qe.length&&(be=new rs("onBeforeInput","beforeinput",null,l,ne),oe.push({event:be,listeners:qe}),be.data=Pe)),zN(oe,s,K,l,ne)}U0(oe,a)})}function hu(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Bd(s,a){for(var l=a+"Capture",u=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Nr(s,l),m!=null&&u.unshift(hu(s,m,y)),m=Nr(s,a),m!=null&&u.push(hu(s,m,y))),s.tag===3)return u;s=s.return}return[]}function BN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function B0(s,a,l,u,m){for(var y=a._reactName,x=[];l!==null&&l!==u;){var S=l,O=S.alternate,K=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||K===null||(O=K,m?(K=Nr(l,y),K!=null&&x.unshift(hu(l,K,O))):m||(K=Nr(l,y),K!=null&&x.push(hu(l,K,O)))),l=l.return}x.length!==0&&s.push({event:a,listeners:x})}var qN=/\r\n?/g,$N=/\u0000|\uFFFD/g;function q0(s){return(typeof s=="string"?s:""+s).replace(qN,`
`).replace($N,"")}function $0(s,a){return a=q0(a),q0(s)===a}function ht(s,a,l,u,m,y){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||jn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&jn(s,""+u);break;case"className":Bn(s,"class",u);break;case"tabIndex":Bn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(s,l,u);break;case"style":Cc(s,u,y);break;case"data":if(a!=="object"){Bn(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=zo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ht(s,a,"name",m.name,m,null),ht(s,a,"formEncType",m.formEncType,m,null),ht(s,a,"formMethod",m.formMethod,m,null),ht(s,a,"formTarget",m.formTarget,m,null)):(ht(s,a,"encType",m.encType,m,null),ht(s,a,"method",m.method,m,null),ht(s,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=zo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Rr);break;case"onScroll":u!=null&&Ue("scroll",s);break;case"onScrollEnd":u!=null&&Ue("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=zo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Ue("beforetoggle",s),Ue("toggle",s),Po(s,"popover",u);break;case"xlinkActuate":Ft(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ft(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ft(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ft(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ft(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ft(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Po(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Bh.get(l)||l,Po(s,l,u))}}function zg(s,a,l,u,m,y){switch(l){case"style":Cc(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof u=="string"?jn(s,u):(typeof u=="number"||typeof u=="bigint")&&jn(s,""+u);break;case"onScroll":u!=null&&Ue("scroll",s);break;case"onScrollEnd":u!=null&&Ue("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ec.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[tn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,m);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Po(s,l,u)}}}function dn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",s),Ue("load",s);var u=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var x=l[y];if(x!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ht(s,a,y,x,l,null)}}m&&ht(s,a,"srcSet",l.srcSet,l,null),u&&ht(s,a,"src",l.src,l,null);return;case"input":Ue("invalid",s);var S=y=x=m=null,O=null,K=null;for(u in l)if(l.hasOwnProperty(u)){var ne=l[u];if(ne!=null)switch(u){case"name":m=ne;break;case"type":x=ne;break;case"checked":O=ne;break;case"defaultChecked":K=ne;break;case"value":y=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ht(s,a,u,ne,l,null)}}Lh(s,y,S,O,K,x,m,!1);return;case"select":Ue("invalid",s),u=x=y=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:ht(s,a,m,S,l,null)}a=y,l=x,s.multiple=!!u,a!=null?oi(s,!!u,a,!1):l!=null&&oi(s,!!u,l,!0);return;case"textarea":Ue("invalid",s),y=m=u=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ht(s,a,x,S,l,null)}li(s,u,m,y);return;case"option":for(O in l)l.hasOwnProperty(O)&&(u=l[O],u!=null)&&(O==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ht(s,a,O,u,l,null));return;case"dialog":Ue("beforetoggle",s),Ue("toggle",s),Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":Ue("load",s);break;case"video":case"audio":for(u=0;u<uu.length;u++)Ue(uu[u],s);break;case"image":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"embed":case"source":case"link":Ue("error",s),Ue("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(u=l[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ht(s,a,K,u,l,null)}return;default:if(Vo(a)){for(ne in l)l.hasOwnProperty(ne)&&(u=l[ne],u!==void 0&&zg(s,a,ne,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&ht(s,a,S,u,l,null))}function HN(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,x=null,S=null,O=null,K=null,ne=null;for(ee in l){var oe=l[ee];if(l.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":O=oe;default:u.hasOwnProperty(ee)||ht(s,a,ee,null,u,oe)}}for(var Z in u){var ee=u[Z];if(oe=l[Z],u.hasOwnProperty(Z)&&(ee!=null||oe!=null))switch(Z){case"type":y=ee;break;case"name":m=ee;break;case"checked":K=ee;break;case"defaultChecked":ne=ee;break;case"value":x=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:ee!==oe&&ht(s,a,Z,ee,u,oe)}}Mo(s,x,S,O,K,ne,y,m);return;case"select":ee=x=S=Z=null;for(y in l)if(O=l[y],l.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":ee=O;default:u.hasOwnProperty(y)||ht(s,a,y,null,u,O)}for(m in u)if(y=u[m],O=l[m],u.hasOwnProperty(m)&&(y!=null||O!=null))switch(m){case"value":Z=y;break;case"defaultValue":S=y;break;case"multiple":x=y;default:y!==O&&ht(s,a,m,y,u,O)}a=S,l=x,u=ee,Z!=null?oi(s,!!l,Z,!1):!!u!=!!l&&(a!=null?oi(s,!!l,a,!0):oi(s,!!l,l?[]:"",!1));return;case"textarea":ee=Z=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ht(s,a,S,null,u,m)}for(x in u)if(m=u[x],y=l[x],u.hasOwnProperty(x)&&(m!=null||y!=null))switch(x){case"value":Z=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ht(s,a,x,m,u,y)}Uh(s,Z,ee);return;case"option":for(var ge in l)Z=l[ge],l.hasOwnProperty(ge)&&Z!=null&&!u.hasOwnProperty(ge)&&(ge==="selected"?s.selected=!1:ht(s,a,ge,null,u,Z));for(O in u)Z=u[O],ee=l[O],u.hasOwnProperty(O)&&Z!==ee&&(Z!=null||ee!=null)&&(O==="selected"?s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":ht(s,a,O,Z,u,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in l)Z=l[Ie],l.hasOwnProperty(Ie)&&Z!=null&&!u.hasOwnProperty(Ie)&&ht(s,a,Ie,null,u,Z);for(K in u)if(Z=u[K],ee=l[K],u.hasOwnProperty(K)&&Z!==ee&&(Z!=null||ee!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:ht(s,a,K,Z,u,ee)}return;default:if(Vo(a)){for(var dt in l)Z=l[dt],l.hasOwnProperty(dt)&&Z!==void 0&&!u.hasOwnProperty(dt)&&zg(s,a,dt,void 0,u,Z);for(ne in u)Z=u[ne],ee=l[ne],!u.hasOwnProperty(ne)||Z===ee||Z===void 0&&ee===void 0||zg(s,a,ne,Z,u,ee);return}}for(var B in l)Z=l[B],l.hasOwnProperty(B)&&Z!=null&&!u.hasOwnProperty(B)&&ht(s,a,B,null,u,Z);for(oe in u)Z=u[oe],ee=l[oe],!u.hasOwnProperty(oe)||Z===ee||Z==null&&ee==null||ht(s,a,oe,Z,u,ee)}function H0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],y=m.transferSize,x=m.initiatorType,S=m.duration;if(y&&S&&H0(x)){for(x=0,S=m.responseEnd,u+=1;u<l.length;u++){var O=l[u],K=O.startTime;if(K>S)break;var ne=O.transferSize,oe=O.initiatorType;ne&&H0(oe)&&(O=O.responseEnd,x+=ne*(O<S?1:(S-K)/(O-K)))}if(--u,a+=8*(y+x)/(m.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Lg=null,Ug=null;function qd(s){return s.nodeType===9?s:s.ownerDocument}function G0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Fg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bg=null;function KN(){var s=window.event;return s&&s.type==="popstate"?s===Bg?!1:(Bg=s,!0):(Bg=null,!1)}var Q0=typeof setTimeout=="function"?setTimeout:void 0,QN=typeof clearTimeout=="function"?clearTimeout:void 0,Z0=typeof Promise=="function"?Promise:void 0,ZN=typeof queueMicrotask=="function"?queueMicrotask:typeof Z0<"u"?function(s){return Z0.resolve(null).then(s).catch(YN)}:Q0;function YN(s){setTimeout(function(){throw s})}function Di(s){return s==="head"}function Y0(s,a){var l=a,u=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(m),vl(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")du(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,du(l);for(var y=l.firstChild;y;){var x=y.nextSibling,S=y.nodeName;y[Kr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=x}}else l==="body"&&du(s.ownerDocument.body);l=m}while(l);vl(a)}function X0(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function qg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qg(l),Oo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function XN(s,a,l,u){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Kr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=dr(s.nextSibling),s===null)break}return null}function JN(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=dr(s.nextSibling),s===null))return null;return s}function J0(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=dr(s.nextSibling),s===null))return null;return s}function $g(s){return s.data==="$?"||s.data==="$~"}function Hg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function WN(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function dr(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Gg=null;function W0(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return dr(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function ew(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function tw(s,a,l){switch(a=qd(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function du(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Oo(s)}var fr=new Map,nw=new Set;function $d(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var zs=he.d;he.d={f:eC,r:tC,D:nC,C:rC,L:sC,m:iC,X:oC,S:aC,M:lC};function eC(){var s=zs.f(),a=Pd();return s||a}function tC(s){var a=nr(s);a!==null&&a.tag===5&&a.type==="form"?_x(a):zs.r(s)}var pl=typeof document>"u"?null:document;function rw(s,a,l){var u=pl;if(u&&typeof a=="string"&&a){var m=kn(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),nw.has(m)||(nw.add(m),s={rel:s,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),dn(a,"link",s),Ut(a),u.head.appendChild(a)))}}function nC(s){zs.D(s),rw("dns-prefetch",s,null)}function rC(s,a){zs.C(s,a),rw("preconnect",s,a)}function sC(s,a,l){zs.L(s,a,l);var u=pl;if(u&&s&&a){var m='link[rel="preload"][as="'+kn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+kn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+kn(l.imageSizes)+'"]')):m+='[href="'+kn(s)+'"]';var y=m;switch(a){case"style":y=gl(s);break;case"script":y=yl(s)}fr.has(y)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),fr.set(y,s),u.querySelector(m)!==null||a==="style"&&u.querySelector(fu(y))||a==="script"&&u.querySelector(mu(y))||(a=u.createElement("link"),dn(a,"link",s),Ut(a),u.head.appendChild(a)))}}function iC(s,a){zs.m(s,a);var l=pl;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+kn(u)+'"][href="'+kn(s)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=yl(s)}if(!fr.has(y)&&(s=_({rel:"modulepreload",href:s},a),fr.set(y,s),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mu(y)))return}u=l.createElement("link"),dn(u,"link",s),Ut(u),l.head.appendChild(u)}}}function aC(s,a,l){zs.S(s,a,l);var u=pl;if(u&&s){var m=Zr(u).hoistableStyles,y=gl(s);a=a||"default";var x=m.get(y);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(fu(y)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=fr.get(y))&&Kg(s,l);var O=x=u.createElement("link");Ut(O),dn(O,"link",s),O._p=new Promise(function(K,ne){O.onload=K,O.onerror=ne}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Hd(x,a,u)}x={type:"stylesheet",instance:x,count:1,state:S},m.set(y,x)}}}function oC(s,a){zs.X(s,a);var l=pl;if(l&&s){var u=Zr(l).hoistableScripts,m=yl(s),y=u.get(m);y||(y=l.querySelector(mu(m)),y||(s=_({src:s,async:!0},a),(a=fr.get(m))&&Qg(s,a),y=l.createElement("script"),Ut(y),dn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function lC(s,a){zs.M(s,a);var l=pl;if(l&&s){var u=Zr(l).hoistableScripts,m=yl(s),y=u.get(m);y||(y=l.querySelector(mu(m)),y||(s=_({src:s,async:!0,type:"module"},a),(a=fr.get(m))&&Qg(s,a),y=l.createElement("script"),Ut(y),dn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function sw(s,a,l,u){var m=(m=Re.current)?$d(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=gl(l.href),l=Zr(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=gl(l.href);var y=Zr(m).hoistableStyles,x=y.get(s);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,x),(y=m.querySelector(fu(s)))&&!y._p&&(x.instance=y,x.state.loading=5),fr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},fr.set(s,l),y||cC(m,s,l,x.state))),a&&u===null)throw Error(r(528,""));return x}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=yl(l),l=Zr(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function gl(s){return'href="'+kn(s)+'"'}function fu(s){return'link[rel="stylesheet"]['+s+"]"}function iw(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function cC(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),dn(a,"link",l),Ut(a),s.head.appendChild(a))}function yl(s){return'[src="'+kn(s)+'"]'}function mu(s){return"script[async]"+s}function aw(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+kn(l.href)+'"]');if(u)return a.instance=u,Ut(u),u;var m=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ut(u),dn(u,"style",m),Hd(u,l.precedence,s),a.instance=u;case"stylesheet":m=gl(l.href);var y=s.querySelector(fu(m));if(y)return a.state.loading|=4,a.instance=y,Ut(y),y;u=iw(l),(m=fr.get(m))&&Kg(u,m),y=(s.ownerDocument||s).createElement("link"),Ut(y);var x=y;return x._p=new Promise(function(S,O){x.onload=S,x.onerror=O}),dn(y,"link",u),a.state.loading|=4,Hd(y,l.precedence,s),a.instance=y;case"script":return y=yl(l.src),(m=s.querySelector(mu(y)))?(a.instance=m,Ut(m),m):(u=l,(m=fr.get(y))&&(u=_({},l),Qg(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ut(m),dn(m,"link",u),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Hd(u,l.precedence,s));return a.instance}function Hd(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===a)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Kg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Qg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Gd=null;function ow(s,a,l){if(Gd===null){var u=new Map,m=Gd=new Map;m.set(l,u)}else m=Gd,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[Kr]||y[Lt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(a)||"";x=s+x;var S=u.get(x);S?S.push(y):u.set(x,[y])}}return u}function lw(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function uC(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function cw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function hC(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=gl(u.href),y=a.querySelector(fu(m));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Kd.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=y,Ut(y);return}y=a.ownerDocument||a,u=iw(u),(m=fr.get(m))&&Kg(u,m),y=y.createElement("link"),Ut(y);var x=y;x._p=new Promise(function(S,O){x.onload=S,x.onerror=O}),dn(y,"link",u),l.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Kd.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var Zg=0;function dC(s,a){return s.stylesheets&&s.count===0&&Zd(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Zd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&Zg===0&&(Zg=62500*GN());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Zd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Zg?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qd=null;function Zd(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qd=new Map,a.forEach(fC,s),Qd=null,Kd.call(s))}function fC(s,a){if(!(a.state.loading&4)){var l=Qd.get(s);if(l)var u=l.get(null);else{l=new Map,Qd.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var x=m[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}m=a.instance,x=m.getAttribute("data-precedence"),y=l.get(x)||u,y===u&&l.set(null,m),l.set(x,m),this.count++,u=Kd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var pu={$$typeof:U,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function mC(s,a,l,u,m,y,x,S,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function uw(s,a,l,u,m,y,x,S,O,K,ne,oe){return s=new mC(s,a,l,x,O,K,ne,oe,S),a=1,y===!0&&(a|=24),y=$n(3,null,null,a),s.current=y,y.stateNode=s,a=Rp(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:a},kp(y),s}function hw(s){return s?(s=Qo,s):Qo}function dw(s,a,l,u,m,y){m=hw(m),u.context===null?u.context=m:u.pendingContext=m,u=bi(a),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=xi(s,u,a),l!==null&&(zn(l,s,a),Kc(l,s,a))}function fw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Yg(s,a){fw(s,a),(s=s.alternate)&&fw(s,a)}function mw(s){if(s.tag===13||s.tag===31){var a=Ra(s,67108864);a!==null&&zn(a,s,67108864),Yg(s,67108864)}}function pw(s){if(s.tag===13||s.tag===31){var a=Zn();a=ga(a);var l=Ra(s,a);l!==null&&zn(l,s,a),Yg(s,a)}}var Yd=!0;function pC(s,a,l,u){var m=W.T;W.T=null;var y=he.p;try{he.p=2,Xg(s,a,l,u)}finally{he.p=y,W.T=m}}function gC(s,a,l,u){var m=W.T;W.T=null;var y=he.p;try{he.p=8,Xg(s,a,l,u)}finally{he.p=y,W.T=m}}function Xg(s,a,l,u){if(Yd){var m=Jg(u);if(m===null)Vg(s,a,u,Xd,l),yw(s,u);else if(vC(m,s,a,l,u))u.stopPropagation();else if(yw(s,u),a&4&&-1<yC.indexOf(s)){for(;m!==null;){var y=nr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=qr(y.pendingLanes);if(x!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var O=1<<31-kt(x);S.entanglements[1]|=O,x&=~O}ls(y),(et&6)===0&&(jd=En()+500,cu(0))}}break;case 31:case 13:S=Ra(y,2),S!==null&&zn(S,y,2),Pd(),Yg(y,2)}if(y=Jg(u),y===null&&Vg(s,a,u,Xd,l),y===m)break;m=y}m!==null&&u.stopPropagation()}else Vg(s,a,u,null,l)}}function Jg(s){return s=rr(s),Wg(s)}var Xd=null;function Wg(s){if(Xd=null,s=Qr(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Xd=s,null}function gw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(da()){case vc:return 2;case _c:return 8;case ii:case ip:return 32;case Nh:return 268435456;default:return 32}default:return 32}}var ey=!1,ki=null,ji=null,Oi=null,gu=new Map,yu=new Map,Pi=[],yC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yw(s,a){switch(s){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":gu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(a.pointerId)}}function vu(s,a,l,u,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},a!==null&&(a=nr(a),a!==null&&mw(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function vC(s,a,l,u,m){switch(a){case"focusin":return ki=vu(ki,s,a,l,u,m),!0;case"dragenter":return ji=vu(ji,s,a,l,u,m),!0;case"mouseover":return Oi=vu(Oi,s,a,l,u,m),!0;case"pointerover":var y=m.pointerId;return gu.set(y,vu(gu.get(y)||null,s,a,l,u,m)),!0;case"gotpointercapture":return y=m.pointerId,yu.set(y,vu(yu.get(y)||null,s,a,l,u,m)),!0}return!1}function vw(s){var a=Qr(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,Ar(s.priority,function(){pw(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,Ar(s.priority,function(){pw(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Jg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Dc=u,l.target.dispatchEvent(u),Dc=null}else return a=nr(l),a!==null&&mw(a),s.blockedOn=l,!1;a.shift()}return!0}function _w(s,a,l){Jd(s)&&l.delete(a)}function _C(){ey=!1,ki!==null&&Jd(ki)&&(ki=null),ji!==null&&Jd(ji)&&(ji=null),Oi!==null&&Jd(Oi)&&(Oi=null),gu.forEach(_w),yu.forEach(_w)}function Wd(s,a){s.blockedOn===a&&(s.blockedOn=null,ey||(ey=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_C)))}var ef=null;function bw(s){ef!==s&&(ef=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ef===s&&(ef=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],m=s[a+2];if(typeof u!="function"){if(Wg(u||l)===null)continue;break}var y=nr(l);y!==null&&(s.splice(a,3),a-=3,Jp(y,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function vl(s){function a(O){return Wd(O,s)}ki!==null&&Wd(ki,s),ji!==null&&Wd(ji,s),Oi!==null&&Wd(Oi,s),gu.forEach(a),yu.forEach(a);for(var l=0;l<Pi.length;l++){var u=Pi[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Pi.length&&(l=Pi[0],l.blockedOn===null);)vw(l),l.blockedOn===null&&Pi.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],y=l[u+1],x=m[tn]||null;if(typeof y=="function")x||bw(l);else if(x){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,x=y[tn]||null)S=x.formAction;else if(Wg(m)!==null)continue}else S=x.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),bw(l)}}}function xw(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function ty(s){this._internalRoot=s}tf.prototype.render=ty.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,u=Zn();dw(l,u,s,a,null,null)},tf.prototype.unmount=ty.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;dw(s.current,2,null,s,null,null),Pd(),a[Gr]=null}};function tf(s){this._internalRoot=s}tf.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ph();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Pi.length&&a!==0&&a<Pi[l].priority;l++);Pi.splice(l,0,s),l===0&&vw(s)}};var ww=e.version;if(ww!=="19.2.3")throw Error(r(527,ww,"19.2.3"));he.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=p(a),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var bC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{Tr=nf.inject(bC),on=nf}catch{}}return bu.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,u="",m=Nx,y=Cx,x=Dx;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=uw(s,1,!1,null,null,l,u,null,m,y,x,xw),s[Gr]=a.current,Mg(s),new ty(a)},bu.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var u=!1,m="",y=Nx,x=Cx,S=Dx,O=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),a=uw(s,1,!0,a,l??null,u,m,O,y,x,S,xw),a.context=hw(null),l=a.current,u=Zn(),u=ga(u),m=bi(u),m.callback=null,xi(l,m,u),l=u,a.current.lanes=l,ma(a,l),ls(a),s[Gr]=a.current,Mg(s),new tf(a)},bu.version="19.2.3",bu}var kw;function DC(){if(kw)return sy.exports;kw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sy.exports=CC(),sy.exports}var kC=DC();var jw="popstate";function jC(t={}){function e(i,o){let{pathname:c="/",search:h="",hash:d=""}=So(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ry("",{pathname:c,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let c=i.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let d=i.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof o=="string"?o:qu(o))}function r(i,o){br(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return PC(e,n,r,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OC(){return Math.random().toString(36).substring(2,10)}function Ow(t,e){return{usr:t.state,key:t.key,idx:e}}function Ry(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?So(e):e,state:n,key:e&&e.key||r||OC()}}function qu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function So(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function PC(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,h="POP",d=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function _(){h="POP";let V=v(),X=V==null?null:V-p;p=V,d&&d({action:h,location:k.location,delta:X})}function w(V,X){h="PUSH";let $=Ry(k.location,V,X);n&&n($,V),p=v()+1;let U=Ow($,p),J=k.createHref($);try{c.pushState(U,"",J)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;i.location.assign(J)}o&&d&&d({action:h,location:k.location,delta:1})}function T(V,X){h="REPLACE";let $=Ry(k.location,V,X);n&&n($,V),p=v();let U=Ow($,p),J=k.createHref($);c.replaceState(U,"",J),o&&d&&d({action:h,location:k.location,delta:0})}function D(V){return MC(V)}let k={get action(){return h},get location(){return t(i,c)},listen(V){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(jw,_),d=V,()=>{i.removeEventListener(jw,_),d=null}},createHref(V){return e(i,V)},createURL:D,encodeLocation(V){let X=D(V);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:w,replace:T,go(V){return c.go(V)}};return k}function MC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function O1(t,e,n="/"){return VC(t,e,n,!1)}function VC(t,e,n,r){let i=typeof e=="string"?So(e):e,o=Ks(i.pathname||"/",n);if(o==null)return null;let c=P1(t);zC(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let p=ZC(o);h=KC(c[d],p,r)}return h}function P1(t,e=[],n=[],r="",i=!1){let o=(c,h,d=i,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&d)return;Et(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=Hs([r,v.relativePath]),w=n.concat(v);c.children&&c.children.length>0&&(Et(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),P1(c.children,e,w,_,d)),!(c.path==null&&!c.index)&&e.push({path:_,score:HC(_,c.index),routesMeta:w})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let d of M1(c.path))o(c,h,!0,d)}),e}function M1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=M1(r.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),i&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function zC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var LC=/^:[\w-]+$/,UC=3,FC=2,BC=1,qC=10,$C=-2,Pw=t=>t==="*";function HC(t,e){let n=t.split("/"),r=n.length;return n.some(Pw)&&(r+=$C),e&&(r+=FC),n.filter(i=>!Pw(i)).reduce((i,o)=>i+(LC.test(o)?UC:o===""?BC:qC),r)}function GC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function KC(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",_=Bf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},v),w=d.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Bf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!_)return null;Object.assign(i,_.params),c.push({params:i,pathname:Hs([o,_.pathname]),pathnameBase:WC(Hs([o,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(o=Hs([o,_.pathnameBase]))}return c}function Bf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:_},w)=>{if(v==="*"){let D=h[w]||"";c=o.slice(0,o.length-D.length).replace(/(.)\/+$/,"$1")}const T=h[w];return _&&!T?p[v]=void 0:p[v]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function QC(t,e=!1,n=!0){br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ks(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var V1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YC=t=>V1.test(t);function XC(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?So(t):t,o;if(n)if(YC(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),br(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?o=Mw(n.substring(1),"/"):o=Mw(n,e)}else o=e;return{pathname:o,search:eD(r),hash:tD(i)}}function Mw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ly(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function z1(t){let e=JC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function L1(t,e,n,r=!1){let i;typeof t=="string"?i=So(t):(i={...t},Et(!i.pathname||!i.pathname.includes("?"),ly("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),ly("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),ly("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,h;if(c==null)h=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}h=_>=0?e[_]:"/"}let d=XC(i,h),p=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||v)&&(d.pathname+="/"),d}var Hs=t=>t.join("/").replace(/\/\/+/g,"/"),WC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,nD=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function rD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function sD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var U1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function F1(t,e){let n=t;if(typeof n!="string"||!V1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(U1)try{let o=new URL(window.location.href),c=n.startsWith("//")?new URL(o.protocol+n):new URL(n),h=Ks(c.pathname,e);c.origin===o.origin&&h!=null?n=h+c.search+c.hash:i=!0}catch{br(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var B1=["POST","PUT","PATCH","DELETE"];new Set(B1);var iD=["GET",...B1];new Set(iD);var tc=z.createContext(null);tc.displayName="DataRouter";var Tm=z.createContext(null);Tm.displayName="DataRouterState";var aD=z.createContext(!1),q1=z.createContext({isTransitioning:!1});q1.displayName="ViewTransition";var oD=z.createContext(new Map);oD.displayName="Fetchers";var lD=z.createContext(null);lD.displayName="Await";var xr=z.createContext(null);xr.displayName="Navigation";var lh=z.createContext(null);lh.displayName="Location";var _s=z.createContext({outlet:null,matches:[],isDataRoute:!1});_s.displayName="Route";var bv=z.createContext(null);bv.displayName="RouteError";var $1="REACT_ROUTER_ERROR",cD="REDIRECT",uD="ROUTE_ERROR_RESPONSE";function hD(t){if(t.startsWith(`${$1}:${cD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function dD(t){if(t.startsWith(`${$1}:${uD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nD(e.status,e.statusText,e.data)}catch{}}function fD(t,{relative:e}={}){Et(ch(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(xr),{hash:i,pathname:o,search:c}=uh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Hs([n,o])),r.createHref({pathname:h,search:c,hash:i})}function ch(){return z.useContext(lh)!=null}function Ws(){return Et(ch(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(lh).location}var H1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G1(t){z.useContext(xr).static||z.useLayoutEffect(t)}function K1(){let{isDataRoute:t}=z.useContext(_s);return t?AD():mD()}function mD(){Et(ch(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(tc),{basename:e,navigator:n}=z.useContext(xr),{matches:r}=z.useContext(_s),{pathname:i}=Ws(),o=JSON.stringify(z1(r)),c=z.useRef(!1);return G1(()=>{c.current=!0}),z.useCallback((d,p={})=>{if(br(c.current,H1),!c.current)return;if(typeof d=="number"){n.go(d);return}let v=L1(d,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Hs([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,o,i,t])}z.createContext(null);function Q1(){let{matches:t}=z.useContext(_s),e=t[t.length-1];return e?e.params:{}}function uh(t,{relative:e}={}){let{matches:n}=z.useContext(_s),{pathname:r}=Ws(),i=JSON.stringify(z1(n));return z.useMemo(()=>L1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function pD(t,e){return Z1(t,e)}function Z1(t,e,n,r,i){Et(ch(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(xr),{matches:c}=z.useContext(_s),h=c[c.length-1],d=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let $=_&&_.path||"";X1(p,!_||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=Ws(),T;if(e){let $=typeof e=="string"?So(e):e;Et(v==="/"||$.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),T=$}else T=w;let D=T.pathname||"/",k=D;if(v!=="/"){let $=v.replace(/^\//,"").split("/");k="/"+D.replace(/^\//,"").split("/").slice($.length).join("/")}let V=O1(t,{pathname:k});br(_||V!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),br(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=bD(V&&V.map($=>Object.assign({},$,{params:Object.assign({},d,$.params),pathname:Hs([v,o.encodeLocation?o.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:Hs([v,o.encodeLocation?o.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,n,r,i);return e&&X?z.createElement(lh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},X):X}function gD(){let t=SD(),e=rD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,c)}var yD=z.createElement(gD,null),Y1=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=dD(t.digest);n&&(t=n)}let e=t!==void 0?z.createElement(_s.Provider,{value:this.props.routeContext},z.createElement(bv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?z.createElement(vD,{error:t},e):e}};Y1.contextType=aD;var cy=new WeakMap;function vD({children:t,error:e}){let{basename:n}=z.useContext(xr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=hD(e.digest);if(r){let i=cy.get(e);if(i)throw i;let o=F1(r.location,n);if(U1&&!cy.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw cy.set(e,c),c}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function _D({routeContext:t,match:e,children:n}){let r=z.useContext(tc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(_s.Provider,{value:t},n)}function bD(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let v=o.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);Et(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let h=!1,d=-1;if(n)for(let v=0;v<o.length;v++){let _=o[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=v),_.route.id){let{loaderData:w,errors:T}=n,D=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||D){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let p=n&&r?(v,_)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:sD(n.matches),errorInfo:_})}:void 0;return o.reduceRight((v,_,w)=>{let T,D=!1,k=null,V=null;n&&(T=c&&_.route.id?c[_.route.id]:void 0,k=_.route.errorElement||yD,h&&(d<0&&w===0?(X1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,V=null):d===w&&(D=!0,V=_.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,w+1)),$=()=>{let U;return T?U=k:D?U=V:_.route.Component?U=z.createElement(_.route.Component,null):_.route.element?U=_.route.element:U=v,z.createElement(_D,{match:_,routeContext:{outlet:v,matches:X,isDataRoute:n!=null},children:U})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?z.createElement(Y1,{location:n.location,revalidation:n.revalidation,component:k,error:T,children:$(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:p}):$()},null)}function xv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xD(t){let e=z.useContext(tc);return Et(e,xv(t)),e}function wD(t){let e=z.useContext(Tm);return Et(e,xv(t)),e}function ED(t){let e=z.useContext(_s);return Et(e,xv(t)),e}function wv(t){let e=ED(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function TD(){return wv("useRouteId")}function SD(){let t=z.useContext(bv),e=wD("useRouteError"),n=wv("useRouteError");return t!==void 0?t:e.errors?.[n]}function AD(){let{router:t}=xD("useNavigate"),e=wv("useNavigate"),n=z.useRef(!1);return G1(()=>{n.current=!0}),z.useCallback(async(i,o={})=>{br(n.current,H1),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var Vw={};function X1(t,e,n){!e&&!Vw[t]&&(Vw[t]=!0,br(!1,n))}z.memo(ID);function ID({routes:t,future:e,state:n,onError:r}){return Z1(t,void 0,n,r,e)}function Bi(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:c}){Et(!ch(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:h,navigator:i,static:o,unstable_useTransitions:c,future:{}}),[h,i,o,c]);typeof n=="string"&&(n=So(n));let{pathname:p="/",search:v="",hash:_="",state:w=null,key:T="default"}=n,D=z.useMemo(()=>{let k=Ks(p,h);return k==null?null:{location:{pathname:k,search:v,hash:_,state:w,key:T},navigationType:r}},[h,p,v,_,w,T,r]);return br(D!=null,`<Router basename="${h}"> is not able to match the URL "${p}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:z.createElement(xr.Provider,{value:d},z.createElement(lh.Provider,{children:e,value:D}))}function ND({children:t,location:e}){return pD(Ny(t),e)}function Ny(t,e=[]){let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let o=[...e,i];if(r.type===z.Fragment){n.push.apply(n,Ny(r.props.children,o));return}Et(r.type===Bi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Ny(r.props.children,o)),n.push(c)}),n}var _f="get",bf="application/x-www-form-urlencoded";function Sm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function CD(t){return Sm(t)&&t.tagName.toLowerCase()==="button"}function DD(t){return Sm(t)&&t.tagName.toLowerCase()==="form"}function kD(t){return Sm(t)&&t.tagName.toLowerCase()==="input"}function jD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OD(t,e){return t.button===0&&(!e||e==="_self")&&!jD(t)}var rf=null;function PD(){if(rf===null)try{new FormData(document.createElement("form"),0),rf=!1}catch{rf=!0}return rf}var MD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uy(t){return t!=null&&!MD.has(t)?(br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bf}"`),null):t}function VD(t,e){let n,r,i,o,c;if(DD(t)){let h=t.getAttribute("action");r=h?Ks(h,e):null,n=t.getAttribute("method")||_f,i=uy(t.getAttribute("enctype"))||bf,o=new FormData(t)}else if(CD(t)||kD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Ks(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||_f,i=uy(t.getAttribute("formenctype"))||uy(h.getAttribute("enctype"))||bf,o=new FormData(h,t),!PD()){let{name:p,type:v,value:_}=t;if(v==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,_)}}else{if(Sm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_f,r=null,i=bf,c=t}return o&&i==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ev(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zD(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&Ks(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function LD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function FD(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await LD(o,n);return c.links?c.links():[]}return[]}));return HD(r.flat(1).filter(UD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function zw(t,e,n,r,i,o){let c=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,p)=>c(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{let v=r.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(c(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function BD(t,e,{includeHydrateFallback:n}={}){return qD(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function qD(t){return[...new Set(t)]}function $D(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function HD(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify($D(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function J1(){let t=z.useContext(tc);return Ev(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GD(){let t=z.useContext(Tm);return Ev(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tv=z.createContext(void 0);Tv.displayName="FrameworkContext";function W1(){let t=z.useContext(Tv);return Ev(t,"You must render this element inside a <HydratedRouter> element"),t}function KD(t,e){let n=z.useContext(Tv),[r,i]=z.useState(!1),[o,c]=z.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,w=z.useRef(null);z.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let k=X=>{X.forEach($=>{c($.isIntersecting)})},V=new IntersectionObserver(k,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[t]),z.useEffect(()=>{if(r){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[r]);let T=()=>{i(!0)},D=()=>{i(!1),c(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:xu(h,T),onBlur:xu(d,D),onMouseEnter:xu(p,T),onMouseLeave:xu(v,D),onTouchStart:xu(_,T)}]:[!1,w,{}]}function xu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function QD({page:t,...e}){let{router:n}=J1(),r=z.useMemo(()=>O1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?z.createElement(YD,{page:t,matches:r,...e}):null}function ZD(t){let{manifest:e,routeModules:n}=W1(),[r,i]=z.useState([]);return z.useEffect(()=>{let o=!1;return FD(t,e,n).then(c=>{o||i(c)}),()=>{o=!0}},[t,e,n]),r}function YD({page:t,matches:e,...n}){let r=Ws(),{future:i,manifest:o,routeModules:c}=W1(),{basename:h}=J1(),{loaderData:d,matches:p}=GD(),v=z.useMemo(()=>zw(t,e,p,o,r,"data"),[t,e,p,o,r]),_=z.useMemo(()=>zw(t,e,p,o,r,"assets"),[t,e,p,o,r]),w=z.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let k=new Set,V=!1;if(e.forEach($=>{let U=o.routes[$.route.id];!U||!U.hasLoader||(!v.some(J=>J.route.id===$.route.id)&&$.route.id in d&&c[$.route.id]?.shouldRevalidate||U.hasClientLoader?V=!0:k.add($.route.id))}),k.size===0)return[];let X=zD(t,h,i.unstable_trailingSlashAwareDataRequests,"data");return V&&k.size>0&&X.searchParams.set("_routes",e.filter($=>k.has($.route.id)).map($=>$.route.id).join(",")),[X.pathname+X.search]},[h,i.unstable_trailingSlashAwareDataRequests,d,r,o,v,e,t,c]),T=z.useMemo(()=>BD(_,o),[_,o]),D=ZD(_);return z.createElement(z.Fragment,null,w.map(k=>z.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),T.map(k=>z.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),D.map(({key:k,link:V})=>z.createElement("link",{key:k,nonce:n.nonce,...V})))}function XD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var JD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JD&&(window.__reactRouterVersion="7.12.0")}catch{}function WD({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=z.useRef();i.current==null&&(i.current=jC({window:r,v5Compat:!0}));let o=i.current,[c,h]=z.useState({action:o.action,location:o.location}),d=z.useCallback(p=>{n===!1?h(p):z.startTransition(()=>h(p))},[n]);return z.useLayoutEffect(()=>o.listen(d),[o,d]),z.createElement(RD,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n})}var eS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:c,state:h,target:d,to:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...T},D){let{basename:k,unstable_useTransitions:V}=z.useContext(xr),X=typeof p=="string"&&eS.test(p),$=F1(p,k);p=$.to;let U=fD(p,{relative:i}),[J,se,fe]=KD(r,T),R=rk(p,{replace:c,state:h,target:d,preventScrollReset:v,relative:i,viewTransition:_,unstable_defaultShouldRevalidate:w,unstable_useTransitions:V});function A(P){e&&e(P),P.defaultPrevented||R(P)}let C=z.createElement("a",{...T,...fe,href:$.absoluteURL||U,onClick:$.isExternal||o?e:A,ref:XD(D,se),target:d,"data-discover":!X&&n==="render"?"true":void 0});return J&&!X?z.createElement(z.Fragment,null,C,z.createElement(QD,{page:U})):C});Rt.displayName="Link";var ek=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:c,viewTransition:h,children:d,...p},v){let _=uh(c,{relative:p.relative}),w=Ws(),T=z.useContext(Tm),{navigator:D,basename:k}=z.useContext(xr),V=T!=null&&lk(_)&&h===!0,X=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,$=w.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||($=$.toLowerCase(),U=U?U.toLowerCase():null,X=X.toLowerCase()),U&&k&&(U=Ks(U,k)||U);const J=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let se=$===X||!i&&$.startsWith(X)&&$.charAt(J)==="/",fe=U!=null&&(U===X||!i&&U.startsWith(X)&&U.charAt(X.length)==="/"),R={isActive:se,isPending:fe,isTransitioning:V},A=se?e:void 0,C;typeof r=="function"?C=r(R):C=[r,se?"active":null,fe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(R):o;return z.createElement(Rt,{...p,"aria-current":A,className:C,ref:v,style:P,to:c,viewTransition:h},typeof d=="function"?d(R):d)});ek.displayName="NavLink";var tk=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:c=_f,action:h,onSubmit:d,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...T},D)=>{let{unstable_useTransitions:k}=z.useContext(xr),V=ak(),X=ok(h,{relative:p}),$=c.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&eS.test(h),J=se=>{if(d&&d(se),se.defaultPrevented)return;se.preventDefault();let fe=se.nativeEvent.submitter,R=fe?.getAttribute("formmethod")||c,A=()=>V(fe||se.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:o,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w});k&&n!==!1?z.startTransition(()=>A()):A()};return z.createElement("form",{ref:D,method:$,action:X,onSubmit:r?d:J,...T,"data-discover":!U&&t==="render"?"true":void 0})});tk.displayName="Form";function nk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tS(t){let e=z.useContext(tc);return Et(e,nk(t)),e}function rk(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let p=K1(),v=Ws(),_=uh(t,{relative:o});return z.useCallback(w=>{if(OD(w,e)){w.preventDefault();let T=n!==void 0?n:qu(v)===qu(_),D=()=>p(t,{replace:T,state:r,preventScrollReset:i,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});d?z.startTransition(()=>D()):D()}},[v,p,_,n,r,e,t,i,o,c,h,d])}var sk=0,ik=()=>`__${String(++sk)}__`;function ak(){let{router:t}=tS("useSubmit"),{basename:e}=z.useContext(xr),n=TD(),r=t.fetch,i=t.navigate;return z.useCallback(async(o,c={})=>{let{action:h,method:d,encType:p,formData:v,body:_}=VD(o,e);if(c.navigate===!1){let w=c.fetcherKey||ik();await r(w,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||d,formEncType:c.encType||p,flushSync:c.flushSync})}else await i(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||d,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,i,e,n])}function ok(t,{relative:e}={}){let{basename:n}=z.useContext(xr),r=z.useContext(_s);Et(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...uh(t||".",{relative:e})},c=Ws();if(t==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(v=>v==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();o.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Hs([n,o.pathname])),qu(o)}function lk(t,{relative:e}={}){let n=z.useContext(q1);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tS("useViewTransitionState"),i=uh(t,{relative:e});if(!n.isTransitioning)return!1;let o=Ks(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ks(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bf(i.pathname,c)!=null||Bf(i.pathname,o)!=null}var nc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ck={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},uk=class{#e=ck;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Xa=new uk;function hk(t){setTimeout(t,0)}var oo=typeof window>"u"||"Deno"in globalThis;function In(){}function dk(t,e){return typeof t=="function"?t(e):t}function Cy(t){return typeof t=="number"&&t>=0&&t!==1/0}function nS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Zi(t,e){return typeof t=="function"?t(e):t}function mr(t,e){return typeof t=="function"?t(e):t}function Lw(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:c,stale:h}=t;if(c){if(r){if(e.queryHash!==Sv(c,e.options))return!1}else if(!$u(e.queryKey,c))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||i&&i!==e.state.fetchStatus||o&&!o(e))}function Uw(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(lo(e.options.mutationKey)!==lo(o))return!1}else if(!$u(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Sv(t,e){return(e?.queryKeyHashFn||lo)(t)}function lo(t){return JSON.stringify(t,(e,n)=>Dy(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function $u(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>$u(t[n],e[n])):!1}var fk=Object.prototype.hasOwnProperty;function rS(t,e){if(t===e)return t;const n=Fw(t)&&Fw(e);if(!n&&!(Dy(t)&&Dy(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),c=o.length,h=n?new Array(c):{};let d=0;for(let p=0;p<c;p++){const v=n?p:o[p],_=t[v],w=e[v];if(_===w){h[v]=_,(n?p<i:fk.call(t,v))&&d++;continue}if(_===null||w===null||typeof _!="object"||typeof w!="object"){h[v]=w;continue}const T=rS(_,w);h[v]=T,T===_&&d++}return i===c&&d===i?t:h}function qf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Fw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Dy(t){if(!Bw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Bw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Bw(t){return Object.prototype.toString.call(t)==="[object Object]"}function mk(t){return new Promise(e=>{Xa.setTimeout(e,t)})}function ky(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?rS(t,e):e}function pk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function gk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Av=Symbol();function sS(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Av?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Iv(t,e){return typeof t=="function"?t(...e):!!t}function yk(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??=e(),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var vk=class extends nc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!oo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Rv=new vk;function jy(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var _k=hk;function bk(){let t=[],e=0,n=h=>{h()},r=h=>{h()},i=_k;const o=h=>{e?t.push(h):i(()=>{n(h)})},c=()=>{const h=t;t=[],h.length&&i(()=>{r(()=>{h.forEach(d=>{n(d)})})})};return{batch:h=>{let d;e++;try{d=h()}finally{e--,e||c()}return d},batchCalls:h=>(...d)=>{o(()=>{h(...d)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{i=h}}}var Jt=bk(),xk=class extends nc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!oo&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},$f=new xk;function wk(t){return Math.min(1e3*2**t,3e4)}function iS(t){return(t??"online")==="online"?$f.isOnline():!0}var Oy=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function aS(t){let e=!1,n=0,r;const i=jy(),o=()=>i.status!=="pending",c=k=>{if(!o()){const V=new Oy(k);w(V),t.onCancel?.(V)}},h=()=>{e=!0},d=()=>{e=!1},p=()=>Rv.isFocused()&&(t.networkMode==="always"||$f.isOnline())&&t.canRun(),v=()=>iS(t.networkMode)&&t.canRun(),_=k=>{o()||(r?.(),i.resolve(k))},w=k=>{o()||(r?.(),i.reject(k))},T=()=>new Promise(k=>{r=V=>{(o()||p())&&k(V)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),D=()=>{if(o())return;let k;const V=n===0?t.initialPromise:void 0;try{k=V??t.fn()}catch(X){k=Promise.reject(X)}Promise.resolve(k).then(_).catch(X=>{if(o())return;const $=t.retry??(oo?0:3),U=t.retryDelay??wk,J=typeof U=="function"?U(n,X):U,se=$===!0||typeof $=="number"&&n<$||typeof $=="function"&&$(n,X);if(e||!se){w(X);return}n++,t.onFail?.(n,X),mk(J).then(()=>p()?void 0:T()).then(()=>{e?w(X):D()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(r?.(),i),cancelRetry:h,continueRetry:d,canStart:v,start:()=>(v()?D():T().then(D),i)}}var oS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cy(this.gcTime)&&(this.#e=Xa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(oo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Xa.clearTimeout(this.#e),this.#e=void 0)}},Ek=class extends oS{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=$w(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=$w(this.options);n.data!==void 0&&(this.setState(qw(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=ky(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(In).catch(In):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>mr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Av||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Zi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!nS(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const d=sS(this.options,n),v=(()=>{const _={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(_),_})();return this.#o=!1,this.options.persister?this.options.persister(d,v,this):d(v)},h=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return i(d),d})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#i({type:"fetch",meta:h.fetchOptions?.meta}),this.#r=aS({initialPromise:n?.initialPromise,fn:h.fetchFn,onCancel:d=>{d instanceof Oy&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,p)=>{this.#i({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Oy){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...lS(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...qw(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Jt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function lS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function qw(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $w(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Tk=class extends nc{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=jy(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#d;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Hw(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Py(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Py(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!qf(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Gw(this.#t,n,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#t!==n||mr(this.options.enabled,this.#t)!==mr(e.enabled,this.#t)||Zi(this.options.staleTime,this.#t)!==Zi(e.staleTime,this.#t))&&this.#g();const i=this.#y();r&&(this.#t!==n||mr(this.options.enabled,this.#t)!==mr(e.enabled,this.#t)||i!==this.#l)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Ak(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(In)),e}#g(){this.#b();const t=Zi(this.options.staleTime,this.#t);if(oo||this.#s.isStale||!Cy(t))return;const n=nS(this.#s.dataUpdatedAt,t)+1;this.#c=Xa.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#l=t,!(oo||mr(this.options.enabled,this.#t)===!1||!Cy(this.#l)||this.#l===0)&&(this.#u=Xa.setInterval(()=>{(this.options.refetchIntervalInBackground||Rv.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#b(){this.#c&&(Xa.clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(Xa.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#s,o=this.#r,c=this.#a,d=t!==n?t.state:this.#n,{state:p}=t;let v={...p},_=!1,w;if(e._optimisticResults){const A=this.hasListeners(),C=!A&&Hw(t,e),P=A&&Gw(t,n,e,r);(C||P)&&(v={...v,...lS(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:T,errorUpdatedAt:D,status:k}=v;w=v.data;let V=!1;if(e.placeholderData!==void 0&&w===void 0&&k==="pending"){let A;i?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(A=i.data,V=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,A!==void 0&&(k="success",w=ky(i?.data,A,e),_=!0)}if(e.select&&w!==void 0&&!V)if(i&&w===o?.data&&e.select===this.#p)w=this.#d;else try{this.#p=e.select,w=e.select(w),w=ky(i?.data,w,e),this.#d=w,this.#i=null}catch(A){this.#i=A}this.#i&&(T=this.#i,w=this.#d,D=Date.now(),k="error");const X=v.fetchStatus==="fetching",$=k==="pending",U=k==="error",J=$&&X,se=w!==void 0,R={status:k,fetchStatus:v.fetchStatus,isPending:$,isSuccess:k==="success",isError:U,isInitialLoading:J,isLoading:J,data:w,dataUpdatedAt:v.dataUpdatedAt,error:T,errorUpdatedAt:D,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>d.dataUpdateCount||v.errorUpdateCount>d.errorUpdateCount,isFetching:X,isRefetching:X&&!$,isLoadingError:U&&!se,isPaused:v.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:U&&se,isStale:Nv(t,e),refetch:this.refetch,promise:this.#o,isEnabled:mr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=M=>{R.status==="error"?M.reject(R.error):R.data!==void 0&&M.resolve(R.data)},C=()=>{const M=this.#o=R.promise=jy();A(M)},P=this.#o;switch(P.status){case"pending":t.queryHash===n.queryHash&&A(P);break;case"fulfilled":(R.status==="error"||R.data!==P.value)&&C();break;case"rejected":(R.status!=="error"||R.error!==P.reason)&&C();break}}return R}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),qf(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#m.size)return!0;const o=new Set(i??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(c=>{const h=c;return this.#s[h]!==t[h]&&o.has(h)})};this.#E({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#E(t){Jt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Sk(t,e){return mr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Hw(t,e){return Sk(t,e)||t.state.data!==void 0&&Py(t,e,e.refetchOnMount)}function Py(t,e,n){if(mr(e.enabled,t)!==!1&&Zi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Nv(t,e)}return!1}function Gw(t,e,n,r){return(t!==e||mr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Nv(t,n)}function Nv(t,e){return mr(e.enabled,t)!==!1&&t.isStaleByTime(Zi(e.staleTime,t))}function Ak(t,e){return!qf(t.getCurrentResult(),e)}function Kw(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},d=0;const p=async()=>{let v=!1;const _=D=>{yk(D,()=>e.signal,()=>v=!0)},w=sS(e.options,e.fetchOptions),T=async(D,k,V)=>{if(v)return Promise.reject();if(k==null&&D.pages.length)return Promise.resolve(D);const $=(()=>{const fe={client:e.client,queryKey:e.queryKey,pageParam:k,direction:V?"backward":"forward",meta:e.options.meta};return _(fe),fe})(),U=await w($),{maxPages:J}=e.options,se=V?gk:pk;return{pages:se(D.pages,U,J),pageParams:se(D.pageParams,k,J)}};if(i&&o.length){const D=i==="backward",k=D?Ik:Qw,V={pages:o,pageParams:c},X=k(r,V);h=await T(V,X,D)}else{const D=t??o.length;do{const k=d===0?c[0]??r.initialPageParam:Qw(r,h);if(d>0&&k==null)break;h=await T(h,k),d++}while(d<D)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function Qw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Ik(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Rk=class extends oS{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||cS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=aS({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(c,h)=>{this.#r({type:"failed",failureCount:c,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",o=!this.#s.canStart();try{if(i)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const h=await this.options.onMutate?.(e,r);h!==this.state.context&&this.#r({type:"pending",context:h,variables:e,isPaused:o})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,e,this.state.context,this,r),await this.options.onSuccess?.(c,e,this.state.context,r),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(c,null,e,this.state.context,r),this.#r({type:"success",data:c}),c}catch(c){try{await this.#n.config.onError?.(c,e,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onError?.(c,e,this.state.context,r)}catch(h){Promise.reject(h)}try{await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onSettled?.(void 0,c,e,this.state.context,r)}catch(h){Promise.reject(h)}throw this.#r({type:"error",error:c}),c}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Jt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function cS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nk=class extends nc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new Rk({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=sf(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=sf(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=sf(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=sf(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Jt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Uw(e,n))}findAll(t={}){return this.getAll().filter(e=>Uw(t,e))}notify(t){Jt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Jt.batch(()=>Promise.all(t.map(e=>e.continue().catch(In))))}};function sf(t){return t.options.scope?.id}var Ck=class extends nc{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),qf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&lo(n.mutationKey)!==lo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??cS();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Jt.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,r,i)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(e.data,null,n,r,i)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,r,i)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,e.error,n,r,i)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},Dk=class extends nc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??Sv(r,e);let o=this.get(i);return o||(o=new Ek({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Jt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Lw(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Lw(t,n)):e}notify(t){Jt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Jt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Jt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},kk=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new Dk,this.#t=t.mutationCache||new Nk,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Rv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=$f.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Zi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,c=dk(e,o);if(c!==void 0)return this.#e.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Jt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Jt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Jt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Jt.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(In).catch(In)}invalidateQueries(t,e={}){return Jt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Jt.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(In)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(In)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Zi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(In).catch(In)}fetchInfiniteQuery(t){return t.behavior=Kw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(In).catch(In)}ensureInfiniteQueryData(t){return t.behavior=Kw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $f.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(lo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{$u(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(lo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{$u(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Av&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},uS=z.createContext(void 0),rc=t=>{const e=z.useContext(uS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},jk=({client:t,children:e})=>(z.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(uS.Provider,{value:t,children:e})),hS=z.createContext(!1),Ok=()=>z.useContext(hS);hS.Provider;function Pk(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Mk=z.createContext(Pk()),Vk=()=>z.useContext(Mk),zk=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?Iv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},Lk=t=>{z.useEffect(()=>{t.clearReset()},[t])},Uk=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||Iv(n,[t.error,r])),Fk=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Bk=(t,e)=>t.isLoading&&t.isFetching&&!e,qk=(t,e)=>t?.suspense&&e.isPending,Zw=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function $k(t,e,n){const r=Ok(),i=Vk(),o=rc(),c=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const h=o.getQueryCache().get(c.queryHash);c._optimisticResults=r?"isRestoring":"optimistic",Fk(c),zk(c,i,h),Lk(i);const d=!o.getQueryCache().get(c.queryHash),[p]=z.useState(()=>new e(o,c)),v=p.getOptimisticResult(c),_=!r&&t.subscribed!==!1;if(z.useSyncExternalStore(z.useCallback(w=>{const T=_?p.subscribe(Jt.batchCalls(w)):In;return p.updateResult(),T},[p,_]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),z.useEffect(()=>{p.setOptions(c)},[c,p]),qk(c,v))throw Zw(c,p,i);if(Uk({result:v,errorResetBoundary:i,throwOnError:c.throwOnError,query:h,suspense:c.suspense}))throw v.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,v),c.experimental_prefetchInRender&&!oo&&Bk(v,r)&&(d?Zw(c,p,i):h?.promise)?.catch(In).finally(()=>{p.updateResult()}),c.notifyOnChangeProps?v:p.trackResult(v)}function dS(t,e){return $k(t,Tk)}function Am(t,e){const n=rc(),[r]=z.useState(()=>new Ck(n,t));z.useEffect(()=>{r.setOptions(t)},[r,t]);const i=z.useSyncExternalStore(z.useCallback(c=>r.subscribe(Jt.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=z.useCallback((c,h)=>{r.mutate(c,h).catch(In)},[r]);if(i.error&&Iv(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}const Hk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Yw=t=>{const e=Gk(t);return e.charAt(0).toUpperCase()+e.slice(1)},fS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Kk=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Qk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Zk=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:c,...h},d)=>z.createElement("svg",{ref:d,...Qk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fS("lucide",i),...!o&&!Kk(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,v])=>z.createElement(p,v)),...Array.isArray(o)?o:[o]]));const ft=(t,e)=>{const n=z.forwardRef(({className:r,...i},o)=>z.createElement(Zk,{ref:o,iconNode:e,className:fS(`lucide-${Hk(Yw(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Yw(t),n};const Yk=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Xw=ft("activity",Yk);const Xk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jk=ft("arrow-left",Xk);const Wk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xf=ft("arrow-right",Wk);const ej=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],tj=ft("calculator",ej);const nj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],co=ft("calendar",nj);const rj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sj=ft("chart-column",rj);const ij=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Cv=ft("chevron-down",ij);const aj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Jw=ft("chevron-left",aj);const oj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],mS=ft("chevron-up",oj);const lj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cj=ft("circle-check-big",lj);const uj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hu=ft("clock",uj);const hj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Dv=ft("external-link",hj);const dj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],fj=ft("house",dj);const mj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pS=ft("map-pin",mj);const pj=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gj=ft("menu",pj);const yj=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],vj=ft("play",yj);const _j=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bj=ft("plus",_j);const xj=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],wj=ft("rotate-ccw",xj);const Ej=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Tj=ft("search",Ej);const Sj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ww=ft("star",Sj);const Aj=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],Ij=ft("swords",Aj);const Rj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],hh=ft("target",Rj);const Nj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],eE=ft("trending-up",Nj);const Cj=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],vr=ft("trophy",Cj);const Dj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kj=ft("user-plus",Dj);const jj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gS=ft("user",jj);const Oj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Im=ft("users",Oj);const Pj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yS=ft("x",Pj);function vS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Mj(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vS(t))&&(r&&(r+=" "),r+=e);return r}const Vj=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},zj=(t,e)=>({classGroupId:t,validator:e}),_S=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Hf="-",tE=[],Lj="arbitrary..",Uj=t=>{const e=Bj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return Fj(c);const h=c.split(Hf),d=h[0]===""&&h.length>1?1:0;return bS(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=r[c],p=n[c];return d?p?Vj(p,d):d:p||tE}return n[c]||tE}}},bS=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],o=n.nextPart.get(i);if(o){const p=bS(t,e+1,o);if(p)return p}const c=n.validators;if(c===null)return;const h=e===0?t.join(Hf):t.slice(e).join(Hf),d=c.length;for(let p=0;p<d;p++){const v=c[p];if(v.validator(h))return v.classGroupId}},Fj=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?Lj+r:void 0})(),Bj=t=>{const{theme:e,classGroups:n}=t;return qj(n,e)},qj=(t,e)=>{const n=_S();for(const r in t){const i=t[r];kv(i,n,r,e)}return n},kv=(t,e,n,r)=>{const i=t.length;for(let o=0;o<i;o++){const c=t[o];$j(c,e,n,r)}},$j=(t,e,n,r)=>{if(typeof t=="string"){Hj(t,e,n);return}if(typeof t=="function"){Gj(t,e,n,r);return}Kj(t,e,n,r)},Hj=(t,e,n)=>{const r=t===""?e:xS(e,t);r.classGroupId=n},Gj=(t,e,n,r)=>{if(Qj(t)){kv(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(zj(n,t))},Kj=(t,e,n,r)=>{const i=Object.entries(t),o=i.length;for(let c=0;c<o;c++){const[h,d]=i[c];kv(d,xS(e,h),n,r)}},xS=(t,e)=>{let n=t;const r=e.split(Hf),i=r.length;for(let o=0;o<i;o++){const c=r[o];let h=n.nextPart.get(c);h||(h=_S(),n.nextPart.set(c,h)),n=h}return n},Qj=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Zj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(o,c)=>{n[o]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let c=n[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return i(o,c),c},set(o,c){o in n?n[o]=c:i(o,c)}}},My="!",nE=":",Yj=[],rE=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),Xj=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let c=0,h=0,d=0,p;const v=i.length;for(let k=0;k<v;k++){const V=i[k];if(c===0&&h===0){if(V===nE){o.push(i.slice(d,k)),d=k+1;continue}if(V==="/"){p=k;continue}}V==="["?c++:V==="]"?c--:V==="("?h++:V===")"&&h--}const _=o.length===0?i:i.slice(d);let w=_,T=!1;_.endsWith(My)?(w=_.slice(0,-1),T=!0):_.startsWith(My)&&(w=_.slice(1),T=!0);const D=p&&p>d?p-d:void 0;return rE(o,T,w,D)};if(e){const i=e+nE,o=r;r=c=>c.startsWith(i)?o(c.slice(i.length)):rE(Yj,!1,c,void 0,!0)}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},Jj=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let o=0;o<n.length;o++){const c=n[o],h=c[0]==="[",d=e.has(c);h||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(c)):i.push(c)}return i.length>0&&(i.sort(),r.push(...i)),r}},Wj=t=>({cache:Zj(t.cacheSize),parseClassName:Xj(t),sortModifiers:Jj(t),...Uj(t)}),eO=/\s+/,tO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,c=[],h=t.trim().split(eO);let d="";for(let p=h.length-1;p>=0;p-=1){const v=h[p],{isExternal:_,modifiers:w,hasImportantModifier:T,baseClassName:D,maybePostfixModifierPosition:k}=n(v);if(_){d=v+(d.length>0?" "+d:d);continue}let V=!!k,X=r(V?D.substring(0,k):D);if(!X){if(!V){d=v+(d.length>0?" "+d:d);continue}if(X=r(D),!X){d=v+(d.length>0?" "+d:d);continue}V=!1}const $=w.length===0?"":w.length===1?w[0]:o(w).join(":"),U=T?$+My:$,J=U+X;if(c.indexOf(J)>-1)continue;c.push(J);const se=i(X,V);for(let fe=0;fe<se.length;++fe){const R=se[fe];c.push(U+R)}d=v+(d.length>0?" "+d:d)}return d},nO=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=wS(n))&&(i&&(i+=" "),i+=r);return i},wS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wS(t[r]))&&(n&&(n+=" "),n+=e);return n},rO=(t,...e)=>{let n,r,i,o;const c=d=>{const p=e.reduce((v,_)=>_(v),t());return n=Wj(p),r=n.cache.get,i=n.cache.set,o=h,h(d)},h=d=>{const p=r(d);if(p)return p;const v=tO(d,n);return i(d,v),v};return o=c,(...d)=>o(nO(...d))},sO=[],Xt=t=>{const e=n=>n[t]||sO;return e.isThemeGetter=!0,e},ES=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,iO=/^\d+\/\d+$/,aO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_l=t=>iO.test(t),Ve=t=>!!t&&!Number.isNaN(Number(t)),Vi=t=>!!t&&Number.isInteger(Number(t)),hy=t=>t.endsWith("%")&&Ve(t.slice(0,-1)),Ls=t=>aO.test(t),hO=()=>!0,dO=t=>oO.test(t)&&!lO.test(t),SS=()=>!1,fO=t=>cO.test(t),mO=t=>uO.test(t),pO=t=>!ye(t)&&!ve(t),gO=t=>sc(t,RS,SS),ye=t=>ES.test(t),Fa=t=>sc(t,NS,dO),dy=t=>sc(t,xO,Ve),sE=t=>sc(t,AS,SS),yO=t=>sc(t,IS,mO),af=t=>sc(t,CS,fO),ve=t=>TS.test(t),wu=t=>ic(t,NS),vO=t=>ic(t,wO),iE=t=>ic(t,AS),_O=t=>ic(t,RS),bO=t=>ic(t,IS),of=t=>ic(t,CS,!0),sc=(t,e,n)=>{const r=ES.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ic=(t,e,n=!1)=>{const r=TS.exec(t);return r?r[1]?e(r[1]):n:!1},AS=t=>t==="position"||t==="percentage",IS=t=>t==="image"||t==="url",RS=t=>t==="length"||t==="size"||t==="bg-size",NS=t=>t==="length",xO=t=>t==="number",wO=t=>t==="family-name",CS=t=>t==="shadow",EO=()=>{const t=Xt("color"),e=Xt("font"),n=Xt("text"),r=Xt("font-weight"),i=Xt("tracking"),o=Xt("leading"),c=Xt("breakpoint"),h=Xt("container"),d=Xt("spacing"),p=Xt("radius"),v=Xt("shadow"),_=Xt("inset-shadow"),w=Xt("text-shadow"),T=Xt("drop-shadow"),D=Xt("blur"),k=Xt("perspective"),V=Xt("aspect"),X=Xt("ease"),$=Xt("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],se=()=>[...J(),ve,ye],fe=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],A=()=>[ve,ye,d],C=()=>[_l,"full","auto",...A()],P=()=>[Vi,"none","subgrid",ve,ye],M=()=>["auto",{span:["full",Vi,ve,ye]},Vi,ve,ye],F=()=>[Vi,"auto",ve,ye],j=()=>["auto","min","max","fr",ve,ye],Ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ze=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...A()],he=()=>[_l,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],le=()=>[t,ve,ye],Me=()=>[...J(),iE,sE,{position:[ve,ye]}],Fe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",_O,gO,{size:[ve,ye]}],Q=()=>[hy,wu,Fa],ae=()=>["","none","full",p,ve,ye],ce=()=>["",Ve,wu,Fa],Ee=()=>["solid","dashed","dotted","double"],Re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[Ve,hy,iE,sE],St=()=>["","none",D,ve,ye],tt=()=>["none",Ve,ve,ye],er=()=>["none",Ve,ve,ye],Ur=()=>[Ve,ve,ye],Er=()=>[_l,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ls],breakpoint:[Ls],color:[hO],container:[Ls],"drop-shadow":[Ls],ease:["in","out","in-out"],font:[pO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ls],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ls],shadow:[Ls],spacing:["px",Ve],text:[Ls],"text-shadow":[Ls],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_l,ye,ve,V]}],container:["container"],columns:[{columns:[Ve,ye,ve,h]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:se()}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Vi,"auto",ve,ye]}],basis:[{basis:[_l,"full","auto",h,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,_l,"auto","initial","none",ye]}],grow:[{grow:["",Ve,ve,ye]}],shrink:[{shrink:["",Ve,ve,ye]}],order:[{order:[Vi,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Ge(),"normal"]}],"justify-items":[{"justify-items":[...Ze(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ze()]}],"align-content":[{content:["normal",...Ge()]}],"align-items":[{items:[...Ze(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ze(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ge()}],"place-items":[{"place-items":[...Ze(),"baseline"]}],"place-self":[{"place-self":["auto",...Ze()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:he()}],w:[{w:[h,"screen",...he()]}],"min-w":[{"min-w":[h,"screen","none",...he()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...he()]}],h:[{h:["screen","lh",...he()]}],"min-h":[{"min-h":["screen","lh","none",...he()]}],"max-h":[{"max-h":["screen","lh",...he()]}],"font-size":[{text:["base",n,wu,Fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,dy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",hy,ye]}],"font-family":[{font:[vO,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ve,ye]}],"line-clamp":[{"line-clamp":[Ve,"none",ve,dy]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:le()}],"text-color":[{text:le()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",ve,Fa]}],"text-decoration-color":[{decoration:le()}],"underline-offset":[{"underline-offset":[Ve,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Me()}],"bg-repeat":[{bg:Fe()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vi,ve,ye],radial:["",ve,ye],conic:[Vi,ve,ye]},bO,yO]}],"bg-color":[{bg:le()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:le()}],"gradient-via":[{via:le()}],"gradient-to":[{to:le()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:le()}],"border-color-x":[{"border-x":le()}],"border-color-y":[{"border-y":le()}],"border-color-s":[{"border-s":le()}],"border-color-e":[{"border-e":le()}],"border-color-t":[{"border-t":le()}],"border-color-r":[{"border-r":le()}],"border-color-b":[{"border-b":le()}],"border-color-l":[{"border-l":le()}],"divide-color":[{divide:le()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,ve,ye]}],"outline-w":[{outline:["",Ve,wu,Fa]}],"outline-color":[{outline:le()}],shadow:[{shadow:["","none",v,of,af]}],"shadow-color":[{shadow:le()}],"inset-shadow":[{"inset-shadow":["none",_,of,af]}],"inset-shadow-color":[{"inset-shadow":le()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:le()}],"ring-offset-w":[{"ring-offset":[Ve,Fa]}],"ring-offset-color":[{"ring-offset":le()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":le()}],"text-shadow":[{"text-shadow":["none",w,of,af]}],"text-shadow-color":[{"text-shadow":le()}],opacity:[{opacity:[Ve,ve,ye]}],"mix-blend":[{"mix-blend":[...Re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":le()}],"mask-image-linear-to-color":[{"mask-linear-to":le()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":le()}],"mask-image-t-to-color":[{"mask-t-to":le()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":le()}],"mask-image-r-to-color":[{"mask-r-to":le()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":le()}],"mask-image-b-to-color":[{"mask-b-to":le()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":le()}],"mask-image-l-to-color":[{"mask-l-to":le()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":le()}],"mask-image-x-to-color":[{"mask-x-to":le()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":le()}],"mask-image-y-to-color":[{"mask-y-to":le()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":le()}],"mask-image-radial-to-color":[{"mask-radial-to":le()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":J()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":le()}],"mask-image-conic-to-color":[{"mask-conic-to":le()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Me()}],"mask-repeat":[{mask:Fe()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:St()}],brightness:[{brightness:[Ve,ve,ye]}],contrast:[{contrast:[Ve,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",T,of,af]}],"drop-shadow-color":[{"drop-shadow":le()}],grayscale:[{grayscale:["",Ve,ve,ye]}],"hue-rotate":[{"hue-rotate":[Ve,ve,ye]}],invert:[{invert:["",Ve,ve,ye]}],saturate:[{saturate:[Ve,ve,ye]}],sepia:[{sepia:["",Ve,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":St()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Ve,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",ve,ye]}],ease:[{ease:["linear","initial",X,ve,ye]}],delay:[{delay:[Ve,ve,ye]}],animate:[{animate:["none",$,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,ve,ye]}],"perspective-origin":[{"perspective-origin":se()}],rotate:[{rotate:tt()}],"rotate-x":[{"rotate-x":tt()}],"rotate-y":[{"rotate-y":tt()}],"rotate-z":[{"rotate-z":tt()}],scale:[{scale:er()}],"scale-x":[{"scale-x":er()}],"scale-y":[{"scale-y":er()}],"scale-z":[{"scale-z":er()}],"scale-3d":["scale-3d"],skew:[{skew:Ur()}],"skew-x":[{"skew-x":Ur()}],"skew-y":[{"skew-y":Ur()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:se()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Er()}],"translate-x":[{"translate-x":Er()}],"translate-y":[{"translate-y":Er()}],"translate-z":[{"translate-z":Er()}],"translate-none":["translate-none"],accent:[{accent:le()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:le()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...le()]}],"stroke-w":[{stroke:[Ve,wu,Fa,dy]}],stroke:[{stroke:["none",...le()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},TO=rO(EO);function bn(...t){return TO(Mj(t))}const SO=(t,e)=>{let n=null,r=0,i=0;return t.map(o=>{const c=e(o);return i+=1,(n===null||c!==n)&&(r=i,n=c),{...o,rank:r}})},fn=eo.forwardRef(({variant:t="primary",size:e="md",icon:n,iconPosition:r="left",loading:i=!1,className:o,children:c,disabled:h,...d},p)=>{const v="inline-flex items-center justify-center font-bold rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed",_={primary:"bg-primary text-white hover:bg-primary-hover focus:ring-primary/50 shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 hover:scale-105",secondary:"bg-surface-highlight text-text-main border-2 border-border hover:border-primary/50 hover:bg-surface-alt focus:ring-primary/30 shadow-lg hover:shadow-xl",success:"bg-success text-white hover:bg-success/90 focus:ring-success/50 shadow-lg shadow-success/20 hover:shadow-xl hover:shadow-success/30 hover:scale-105",warning:"bg-warning text-white hover:bg-warning/90 focus:ring-warning/50 shadow-lg shadow-warning/20 hover:shadow-xl hover:shadow-warning/30 hover:scale-105",error:"bg-error text-white hover:bg-error/90 focus:ring-error/50 shadow-lg shadow-error/20 hover:shadow-xl hover:shadow-error/30 hover:scale-105",ghost:"bg-transparent text-text-main hover:bg-surface-highlight border-2 border-transparent hover:border-border focus:ring-primary/30",premium:"bg-gradient-to-r from-primary to-primary-hover text-white hover:from-primary-hover hover:to-primary focus:ring-primary/50 shadow-2xl hover:shadow-3xl transform hover:scale-110"},w={sm:"px-3 py-2 text-sm gap-2 min-h-[2.25rem]",md:"px-4 py-3 text-base gap-2 min-h-[2.75rem]",lg:"px-6 py-4 text-lg gap-3 min-h-[3.25rem]",xl:"px-8 py-5 text-xl gap-3 min-h-[3.75rem]"},T={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6",xl:"h-7 w-7"},D=()=>g.jsx("div",{className:bn("animate-spin rounded-full border-2 border-current border-t-transparent",T[e])}),k=()=>{if(i)return g.jsx(D,{});if(!n)return null;if(eo.isValidElement(n)){const V=n.props?.className||"";return eo.cloneElement(n,{className:bn(T[e],V)})}return n};return g.jsxs("button",{ref:p,className:bn(v,_[t]??_.primary,w[e]??w.md,o),disabled:h||i,...d,children:[r==="left"&&k(),i?"Loading...":c,r==="right"&&k()]})});fn.displayName="Button";const AO=({isMenuOpen:t,setIsMenuOpen:e,locationPathname:n,navigation:r,children:i})=>g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsxs("nav",{className:"relative bg-gradient-to-br from-primary/10 via-surface to-surface/80 text-text-main sticky top-0 z-50 rounded-3xl border border-primary/20 shadow-2xl mx-4 mt-4 mb-8 backdrop-blur-md",children:[g.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"}),g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex items-center justify-between h-16",children:[g.jsx("div",{className:"flex items-center",children:g.jsxs(Rt,{to:"/",className:"flex items-center space-x-3 group",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-warning rounded-full blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),g.jsx("div",{className:"relative w-10 h-10 bg-gradient-to-br from-primary to-warning rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-all duration-300",children:g.jsx(vr,{className:"h-6 w-6 text-white"})})]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-black text-xl tracking-tight bg-gradient-to-r from-primary to-warning bg-clip-text text-transparent group-hover:from-warning group-hover:to-primary transition-all duration-300",children:"Paddle Up"}),g.jsx("div",{className:"text-xs text-text-muted font-semibold tracking-wider uppercase",children:"Premier League"})]})]})}),g.jsx("div",{className:"hidden md:block",children:g.jsx("div",{className:"ml-10 flex items-baseline space-x-1",children:r.map(o=>{const c=o.icon,h=n===o.href;return g.jsxs(Rt,{to:o.href,className:bn("px-4 py-2 rounded-xl text-sm font-bold transition-all duration-300 flex items-center space-x-2 group relative overflow-hidden",h?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30 scale-105":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-105"),children:[g.jsx(c,{className:bn("h-4 w-4 transition-transform duration-300",h?"text-white":"group-hover:scale-110")}),g.jsx("span",{children:o.name}),h&&g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 to-warning/10 blur-xl -z-10"})]},o.name)})})}),g.jsx("div",{className:"md:hidden",children:g.jsxs(fn,{onClick:()=>e(!t),variant:"ghost",size:"sm",className:"relative overflow-hidden",children:[g.jsx("div",{className:"relative z-10",children:t?g.jsx(yS,{className:"h-6 w-6"}):g.jsx(gj,{className:"h-6 w-6"})}),t&&g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-warning/20 blur-sm"})]})})]})}),t&&g.jsx("div",{className:"md:hidden",children:g.jsx("div",{className:"px-2 pt-2 pb-3 space-y-2 sm:px-3 bg-gradient-to-br from-surface via-surface-alt to-surface border-t border-border/50 shadow-xl",children:r.map(o=>{const c=o.icon,h=n===o.href;return g.jsxs(Rt,{to:o.href,onClick:()=>e(!1),className:bn("block px-4 py-3 rounded-xl text-base font-bold flex items-center space-x-3 transition-all duration-300 group relative overflow-hidden",h?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-[1.02]"),children:[g.jsx(c,{className:bn("h-5 w-5 transition-transform duration-300",h?"text-white":"group-hover:scale-110")}),g.jsx("span",{children:o.name}),h&&g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:g.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]},o.name)})})})]}),g.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:g.jsxs("div",{className:"relative",children:[i,g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),g.jsxs("footer",{className:"relative overflow-hidden bg-gradient-to-br from-surface via-surface-alt to-surface text-text-muted py-12 mt-auto border-t border-border/50",children:[g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[g.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary/20 to-warning/20 rounded-full flex items-center justify-center",children:g.jsx(vr,{className:"h-5 w-5 text-primary"})}),g.jsx("span",{className:"font-black text-lg text-text-main",children:"Paddle Up Premier League"})]}),g.jsxs("div",{className:"flex items-center justify-center space-x-6 pt-6",children:[g.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-primary/10 rounded-xl border border-primary/20",children:[g.jsx(vr,{className:"h-4 w-4 text-primary"}),g.jsx("span",{className:"text-xs font-semibold text-primary",children:"Premier League"})]}),g.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-success/10 rounded-xl border border-success/20",children:[g.jsx(hh,{className:"h-4 w-4 text-success"}),g.jsx("span",{className:"text-xs font-semibold text-success",children:"3.5+ DUPR"})]}),g.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-warning/10 rounded-xl border border-warning/20",children:[g.jsx(Im,{className:"h-4 w-4 text-warning"}),g.jsx("span",{className:"text-xs font-semibold text-warning",children:"Elite Players"})]})]})]})}),g.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})]}),IO=({children:t})=>{const[e,n]=z.useState(!1),r=Ws(),i=[{name:"Home",href:"/",icon:fj},{name:"Standings",href:"/standings",icon:vr},{name:"Schedule",href:"/schedule",icon:co},{name:"Format",href:"/format",icon:hh},{name:"Admin",href:"/admin",icon:tj}];return g.jsx(AO,{isMenuOpen:e,setIsMenuOpen:n,locationPathname:r.pathname,navigation:i,children:t})},RO=()=>{};var aE={};const DS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],c=t[n++],h=t[n++],d=((i&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},kS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],c=i+1<t.length,h=c?t[i+1]:0,d=i+2<t.length,p=d?t[i+2]:0,v=o>>2,_=(o&3)<<4|h>>4;let w=(h&15)<<2|p>>6,T=p&63;d||(T=64,c||(w=64)),r.push(n[v],n[_],n[w],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||h==null||p==null||_==null)throw new CO;const w=o<<2|h>>4;if(r.push(w),p!==64){const T=h<<4&240|p>>2;if(r.push(T),_!==64){const D=p<<6&192|_;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DO=function(t){const e=DS(t);return kS.encodeByteArray(e,!0)},Gf=function(t){return DO(t).replace(/\./g,"")},jS=function(t){try{return kS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function OS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kO=()=>OS().__FIREBASE_DEFAULTS__,jO=()=>{if(typeof process>"u"||typeof aE>"u")return;const t=aE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jS(t[1]);return e&&JSON.parse(e)},Rm=()=>{try{return RO()||kO()||jO()||OO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PS=t=>Rm()?.emulatorHosts?.[t],PO=t=>{const e=PS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MS=()=>Rm()?.config,VS=t=>Rm()?.[`_${t}`];class MO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function ac(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zS(t){return(await fetch(t,{credentials:"include"})).ok}function VO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gf(JSON.stringify(n)),Gf(JSON.stringify(c)),""].join(".")}const Ou={};function zO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ou))Ou[e]?t.emulator.push(e):t.prod.push(e);return t}function LO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let oE=!1;function LS(t,e){if(typeof window>"u"||typeof document>"u"||!ac(window.location.host)||Ou[t]===e||Ou[t]||oE)return;Ou[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=zO().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{oE=!0,c()},w}function v(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=LO(r),T=n("text"),D=document.getElementById(T)||document.createElement("span"),k=n("learnmore"),V=document.getElementById(k)||document.createElement("a"),X=n("preprendIcon"),$=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const U=w.element;h(U),v(V,k);const J=p();d($,X),U.append($,D,V,J),document.body.appendChild(U)}o?(D.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function US(){const t=Rm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $O(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FS(){return!US()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BS(){return!US()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function qS(){try{return typeof indexedDB=="object"}catch{return!1}}function HO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const GO="FirebaseError";class ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GO,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dh.prototype.create)}}class dh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?KO(o,r):"Error",h=`${this.serviceName}: ${c} (${i}).`;return new ei(i,h,r)}}function KO(t,e){return t.replace(QO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QO=/\{\$([^}]+)}/g;function ZO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],c=e[i];if(lE(o)&&lE(c)){if(!uo(o,c))return!1}else if(o!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lE(t){return t!==null&&typeof t=="object"}function fh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function YO(t,e){const n=new XO(t,e);return n.subscribe.bind(n)}class XO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fy),i.error===void 0&&(i.error=fy),i.complete===void 0&&(i.complete=fy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fy(){}function wn(t){return t&&t._delegate?t._delegate:t}class ho{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qa="[DEFAULT]";class WO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tP(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eP(t){return t===qa?void 0:t}function tP(t){return t.instantiationMode==="EAGER"}class nP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const rP={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},sP=$e.INFO,iP={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},aP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jv{constructor(e){this.name=e,this._logLevel=sP,this._logHandler=aP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const oP=(t,e)=>e.some(n=>t instanceof n);let cE,uE;function lP(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cP(){return uE||(uE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $S=new WeakMap,Vy=new WeakMap,HS=new WeakMap,my=new WeakMap,Ov=new WeakMap;function uP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Yi(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&$S.set(n,t)}).catch(()=>{}),Ov.set(e,t),e}function hP(t){if(Vy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Vy.set(t,e)}let zy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dP(t){zy=t(zy)}function fP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(py(this),e,...n);return HS.set(r,e.sort?e.sort():[e]),Yi(r)}:cP().includes(t)?function(...e){return t.apply(py(this),e),Yi($S.get(this))}:function(...e){return Yi(t.apply(py(this),e))}}function mP(t){return typeof t=="function"?fP(t):(t instanceof IDBTransaction&&hP(t),oP(t,lP())?new Proxy(t,zy):t)}function Yi(t){if(t instanceof IDBRequest)return uP(t);if(my.has(t))return my.get(t);const e=mP(t);return e!==t&&(my.set(t,e),Ov.set(e,t)),e}const py=t=>Ov.get(t);function pP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(t,e),h=Yi(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Yi(c.result),d.oldVersion,d.newVersion,Yi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const gP=["get","getKey","getAll","getAllKeys","count"],yP=["put","add","delete","clear"],gy=new Map;function hE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gy.get(e))return gy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gP.includes(n)))return;const o=async function(c,...h){const d=this.transaction(c,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),i&&d.done]))[0]};return gy.set(e,o),o}dP(t=>({...t,get:(e,n,r)=>hE(e,n)||t.get(e,n,r),has:(e,n)=>!!hE(e,n)||t.has(e,n)}));class vP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_P(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _P(t){return t.getComponent()?.type==="VERSION"}const Ly="@firebase/app",dE="0.14.6";const Qs=new jv("@firebase/app"),bP="@firebase/app-compat",xP="@firebase/analytics-compat",wP="@firebase/analytics",EP="@firebase/app-check-compat",TP="@firebase/app-check",SP="@firebase/auth",AP="@firebase/auth-compat",IP="@firebase/database",RP="@firebase/data-connect",NP="@firebase/database-compat",CP="@firebase/functions",DP="@firebase/functions-compat",kP="@firebase/installations",jP="@firebase/installations-compat",OP="@firebase/messaging",PP="@firebase/messaging-compat",MP="@firebase/performance",VP="@firebase/performance-compat",zP="@firebase/remote-config",LP="@firebase/remote-config-compat",UP="@firebase/storage",FP="@firebase/storage-compat",BP="@firebase/firestore",qP="@firebase/ai",$P="@firebase/firestore-compat",HP="firebase",GP="12.6.0";const Uy="[DEFAULT]",KP={[Ly]:"fire-core",[bP]:"fire-core-compat",[wP]:"fire-analytics",[xP]:"fire-analytics-compat",[TP]:"fire-app-check",[EP]:"fire-app-check-compat",[SP]:"fire-auth",[AP]:"fire-auth-compat",[IP]:"fire-rtdb",[RP]:"fire-data-connect",[NP]:"fire-rtdb-compat",[CP]:"fire-fn",[DP]:"fire-fn-compat",[kP]:"fire-iid",[jP]:"fire-iid-compat",[OP]:"fire-fcm",[PP]:"fire-fcm-compat",[MP]:"fire-perf",[VP]:"fire-perf-compat",[zP]:"fire-rc",[LP]:"fire-rc-compat",[UP]:"fire-gcs",[FP]:"fire-gcs-compat",[BP]:"fire-fst",[$P]:"fire-fst-compat",[qP]:"fire-vertex","fire-js":"fire-js",[HP]:"fire-js-all"};const Gu=new Map,QP=new Map,Fy=new Map;function fE(t,e){try{t.container.addComponent(e)}catch(n){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ll(t){const e=t.name;if(Fy.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;Fy.set(e,t);for(const n of Gu.values())fE(n,t);for(const n of QP.values())fE(n,t);return!0}function Pv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vr(t){return t==null?!1:t.settings!==void 0}const ZP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new dh("app","Firebase",ZP);class YP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}const oc=GP;function GS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Uy,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Xi.create("bad-app-name",{appName:String(i)});if(n||(n=MS()),!n)throw Xi.create("no-options");const o=Gu.get(i);if(o){if(uo(n,o.options)&&uo(r,o.config))return o;throw Xi.create("duplicate-app",{appName:i})}const c=new nP(i);for(const d of Fy.values())c.addComponent(d);const h=new YP(n,r,c);return Gu.set(i,h),h}function KS(t=Uy){const e=Gu.get(t);if(!e&&t===Uy&&MS())return GS();if(!e)throw Xi.create("no-app",{appName:t});return e}function mE(){return Array.from(Gu.values())}function Ji(t,e,n){let r=KP[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qs.warn(c.join(" "));return}Ll(new ho(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const XP="firebase-heartbeat-database",JP=1,Ku="firebase-heartbeat-store";let yy=null;function QS(){return yy||(yy=pP(XP,JP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),yy}async function WP(t){try{const n=(await QS()).transaction(Ku),r=await n.objectStore(Ku).get(ZS(t));return await n.done,r}catch(e){if(e instanceof ei)Qs.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e?.message});Qs.warn(n.message)}}}async function pE(t,e){try{const r=(await QS()).transaction(Ku,"readwrite");await r.objectStore(Ku).put(e,ZS(t)),await r.done}catch(n){if(n instanceof ei)Qs.warn(n.message);else{const r=Xi.create("idb-set",{originalErrorMessage:n?.message});Qs.warn(r.message)}}}function ZS(t){return`${t.name}!${t.options.appId}`}const e4=1024,t4=30;class n4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>t4){const i=i4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gE(),{heartbeatsToSend:n,unsentEntries:r}=r4(this._heartbeatsCache.heartbeats),i=Gf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Qs.warn(e),""}}}function gE(){return new Date().toISOString().substring(0,10)}function r4(t,e=e4){const n=[];let r=t.slice();for(const i of t){const o=n.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),yE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class s4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qS()?HO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function yE(t){return Gf(JSON.stringify({version:2,heartbeats:t})).length}function i4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function a4(t){Ll(new ho("platform-logger",e=>new vP(e),"PRIVATE")),Ll(new ho("heartbeat",e=>new n4(e),"PRIVATE")),Ji(Ly,dE,t),Ji(Ly,dE,"esm2020"),Ji("fire-js","")}a4("");var vE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wi,YS;(function(){var t;function e(R,A){function C(){}C.prototype=A.prototype,R.F=A.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(P,M,F){for(var j=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)j[Ge-2]=arguments[Ge];return A.prototype[M].apply(P,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,A,C){C||(C=0);const P=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)P[M]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(M=0;M<16;++M)P[M]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=R.g[0],C=R.g[1],M=R.g[2];let F=R.g[3],j;j=A+(F^C&(M^F))+P[0]+3614090360&4294967295,A=C+(j<<7&4294967295|j>>>25),j=F+(M^A&(C^M))+P[1]+3905402710&4294967295,F=A+(j<<12&4294967295|j>>>20),j=M+(C^F&(A^C))+P[2]+606105819&4294967295,M=F+(j<<17&4294967295|j>>>15),j=C+(A^M&(F^A))+P[3]+3250441966&4294967295,C=M+(j<<22&4294967295|j>>>10),j=A+(F^C&(M^F))+P[4]+4118548399&4294967295,A=C+(j<<7&4294967295|j>>>25),j=F+(M^A&(C^M))+P[5]+1200080426&4294967295,F=A+(j<<12&4294967295|j>>>20),j=M+(C^F&(A^C))+P[6]+2821735955&4294967295,M=F+(j<<17&4294967295|j>>>15),j=C+(A^M&(F^A))+P[7]+4249261313&4294967295,C=M+(j<<22&4294967295|j>>>10),j=A+(F^C&(M^F))+P[8]+1770035416&4294967295,A=C+(j<<7&4294967295|j>>>25),j=F+(M^A&(C^M))+P[9]+2336552879&4294967295,F=A+(j<<12&4294967295|j>>>20),j=M+(C^F&(A^C))+P[10]+4294925233&4294967295,M=F+(j<<17&4294967295|j>>>15),j=C+(A^M&(F^A))+P[11]+2304563134&4294967295,C=M+(j<<22&4294967295|j>>>10),j=A+(F^C&(M^F))+P[12]+1804603682&4294967295,A=C+(j<<7&4294967295|j>>>25),j=F+(M^A&(C^M))+P[13]+4254626195&4294967295,F=A+(j<<12&4294967295|j>>>20),j=M+(C^F&(A^C))+P[14]+2792965006&4294967295,M=F+(j<<17&4294967295|j>>>15),j=C+(A^M&(F^A))+P[15]+1236535329&4294967295,C=M+(j<<22&4294967295|j>>>10),j=A+(M^F&(C^M))+P[1]+4129170786&4294967295,A=C+(j<<5&4294967295|j>>>27),j=F+(C^M&(A^C))+P[6]+3225465664&4294967295,F=A+(j<<9&4294967295|j>>>23),j=M+(A^C&(F^A))+P[11]+643717713&4294967295,M=F+(j<<14&4294967295|j>>>18),j=C+(F^A&(M^F))+P[0]+3921069994&4294967295,C=M+(j<<20&4294967295|j>>>12),j=A+(M^F&(C^M))+P[5]+3593408605&4294967295,A=C+(j<<5&4294967295|j>>>27),j=F+(C^M&(A^C))+P[10]+38016083&4294967295,F=A+(j<<9&4294967295|j>>>23),j=M+(A^C&(F^A))+P[15]+3634488961&4294967295,M=F+(j<<14&4294967295|j>>>18),j=C+(F^A&(M^F))+P[4]+3889429448&4294967295,C=M+(j<<20&4294967295|j>>>12),j=A+(M^F&(C^M))+P[9]+568446438&4294967295,A=C+(j<<5&4294967295|j>>>27),j=F+(C^M&(A^C))+P[14]+3275163606&4294967295,F=A+(j<<9&4294967295|j>>>23),j=M+(A^C&(F^A))+P[3]+4107603335&4294967295,M=F+(j<<14&4294967295|j>>>18),j=C+(F^A&(M^F))+P[8]+1163531501&4294967295,C=M+(j<<20&4294967295|j>>>12),j=A+(M^F&(C^M))+P[13]+2850285829&4294967295,A=C+(j<<5&4294967295|j>>>27),j=F+(C^M&(A^C))+P[2]+4243563512&4294967295,F=A+(j<<9&4294967295|j>>>23),j=M+(A^C&(F^A))+P[7]+1735328473&4294967295,M=F+(j<<14&4294967295|j>>>18),j=C+(F^A&(M^F))+P[12]+2368359562&4294967295,C=M+(j<<20&4294967295|j>>>12),j=A+(C^M^F)+P[5]+4294588738&4294967295,A=C+(j<<4&4294967295|j>>>28),j=F+(A^C^M)+P[8]+2272392833&4294967295,F=A+(j<<11&4294967295|j>>>21),j=M+(F^A^C)+P[11]+1839030562&4294967295,M=F+(j<<16&4294967295|j>>>16),j=C+(M^F^A)+P[14]+4259657740&4294967295,C=M+(j<<23&4294967295|j>>>9),j=A+(C^M^F)+P[1]+2763975236&4294967295,A=C+(j<<4&4294967295|j>>>28),j=F+(A^C^M)+P[4]+1272893353&4294967295,F=A+(j<<11&4294967295|j>>>21),j=M+(F^A^C)+P[7]+4139469664&4294967295,M=F+(j<<16&4294967295|j>>>16),j=C+(M^F^A)+P[10]+3200236656&4294967295,C=M+(j<<23&4294967295|j>>>9),j=A+(C^M^F)+P[13]+681279174&4294967295,A=C+(j<<4&4294967295|j>>>28),j=F+(A^C^M)+P[0]+3936430074&4294967295,F=A+(j<<11&4294967295|j>>>21),j=M+(F^A^C)+P[3]+3572445317&4294967295,M=F+(j<<16&4294967295|j>>>16),j=C+(M^F^A)+P[6]+76029189&4294967295,C=M+(j<<23&4294967295|j>>>9),j=A+(C^M^F)+P[9]+3654602809&4294967295,A=C+(j<<4&4294967295|j>>>28),j=F+(A^C^M)+P[12]+3873151461&4294967295,F=A+(j<<11&4294967295|j>>>21),j=M+(F^A^C)+P[15]+530742520&4294967295,M=F+(j<<16&4294967295|j>>>16),j=C+(M^F^A)+P[2]+3299628645&4294967295,C=M+(j<<23&4294967295|j>>>9),j=A+(M^(C|~F))+P[0]+4096336452&4294967295,A=C+(j<<6&4294967295|j>>>26),j=F+(C^(A|~M))+P[7]+1126891415&4294967295,F=A+(j<<10&4294967295|j>>>22),j=M+(A^(F|~C))+P[14]+2878612391&4294967295,M=F+(j<<15&4294967295|j>>>17),j=C+(F^(M|~A))+P[5]+4237533241&4294967295,C=M+(j<<21&4294967295|j>>>11),j=A+(M^(C|~F))+P[12]+1700485571&4294967295,A=C+(j<<6&4294967295|j>>>26),j=F+(C^(A|~M))+P[3]+2399980690&4294967295,F=A+(j<<10&4294967295|j>>>22),j=M+(A^(F|~C))+P[10]+4293915773&4294967295,M=F+(j<<15&4294967295|j>>>17),j=C+(F^(M|~A))+P[1]+2240044497&4294967295,C=M+(j<<21&4294967295|j>>>11),j=A+(M^(C|~F))+P[8]+1873313359&4294967295,A=C+(j<<6&4294967295|j>>>26),j=F+(C^(A|~M))+P[15]+4264355552&4294967295,F=A+(j<<10&4294967295|j>>>22),j=M+(A^(F|~C))+P[6]+2734768916&4294967295,M=F+(j<<15&4294967295|j>>>17),j=C+(F^(M|~A))+P[13]+1309151649&4294967295,C=M+(j<<21&4294967295|j>>>11),j=A+(M^(C|~F))+P[4]+4149444226&4294967295,A=C+(j<<6&4294967295|j>>>26),j=F+(C^(A|~M))+P[11]+3174756917&4294967295,F=A+(j<<10&4294967295|j>>>22),j=M+(A^(F|~C))+P[2]+718787259&4294967295,M=F+(j<<15&4294967295|j>>>17),j=C+(F^(M|~A))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(M+(j<<21&4294967295|j>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const C=A-this.blockSize,P=this.C;let M=this.h,F=0;for(;F<A;){if(M==0)for(;F<=C;)i(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<A;)if(P[M++]=R.charCodeAt(F++),M==this.blockSize){i(this,P),M=0;break}}else for(;F<A;)if(P[M++]=R[F++],M==this.blockSize){i(this,P),M=0;break}}this.h=M,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)R[A++]=this.g[C]>>>P&255;return R};function o(R,A){var C=h;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=A(R)}function c(R,A){this.h=A;const C=[];let P=!0;for(let M=R.length-1;M>=0;M--){const F=R[M]|0;P&&F==A||(C[M]=F,P=!1)}this.g=C}var h={};function d(R){return-128<=R&&R<128?o(R,function(A){return new c([A|0],A<0?-1:0)}):new c([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return V(p(-R));const A=[];let C=1;for(let P=0;R>=C;P++)A[P]=R/C|0,C*=4294967296;return new c(A,0)}function v(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return V(v(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(A,8));let P=_;for(let F=0;F<R.length;F+=8){var M=Math.min(8,R.length-F);const j=parseInt(R.substring(F,F+M),A);M<8?(M=p(Math.pow(A,M)),P=P.j(M).add(p(j))):(P=P.j(C),P=P.add(p(j)))}return P}var _=d(0),w=d(1),T=d(16777216);t=c.prototype,t.m=function(){if(k(this))return-V(this).m();let R=0,A=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);R+=(P>=0?P:4294967296+P)*A,A*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(k(this))return"-"+V(this).toString(R);const A=p(Math.pow(R,6));var C=this;let P="";for(;;){const M=J(C,A).g;C=X(C,M.j(A));let F=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=M,D(C))return F+P;for(;F.length<6;)F="0"+F;P=F+P}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function k(R){return R.h==-1}t.l=function(R){return R=X(this,R),k(R)?-1:D(R)?0:1};function V(R){const A=R.g.length,C=[];for(let P=0;P<A;P++)C[P]=~R.g[P];return new c(C,~R.h).add(w)}t.abs=function(){return k(this)?V(this):this},t.add=function(R){const A=Math.max(this.g.length,R.g.length),C=[];let P=0;for(let M=0;M<=A;M++){let F=P+(this.i(M)&65535)+(R.i(M)&65535),j=(F>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);P=j>>>16,F&=65535,j&=65535,C[M]=j<<16|F}return new c(C,C[C.length-1]&-2147483648?-1:0)};function X(R,A){return R.add(V(A))}t.j=function(R){if(D(this)||D(R))return _;if(k(this))return k(R)?V(this).j(V(R)):V(V(this).j(R));if(k(R))return V(this.j(V(R)));if(this.l(T)<0&&R.l(T)<0)return p(this.m()*R.m());const A=this.g.length+R.g.length,C=[];for(var P=0;P<2*A;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<R.g.length;M++){const F=this.i(P)>>>16,j=this.i(P)&65535,Ge=R.i(M)>>>16,Ze=R.i(M)&65535;C[2*P+2*M]+=j*Ze,$(C,2*P+2*M),C[2*P+2*M+1]+=F*Ze,$(C,2*P+2*M+1),C[2*P+2*M+1]+=j*Ge,$(C,2*P+2*M+1),C[2*P+2*M+2]+=F*Ge,$(C,2*P+2*M+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new c(C,0)};function $(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function U(R,A){this.g=R,this.h=A}function J(R,A){if(D(A))throw Error("division by zero");if(D(R))return new U(_,_);if(k(R))return A=J(V(R),A),new U(V(A.g),V(A.h));if(k(A))return A=J(R,V(A)),new U(V(A.g),A.h);if(R.g.length>30){if(k(R)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,P=A;P.l(R)<=0;)C=se(C),P=se(P);var M=fe(C,1),F=fe(P,1);for(P=fe(P,2),C=fe(C,2);!D(P);){var j=F.add(P);j.l(R)<=0&&(M=M.add(C),F=j),P=fe(P,1),C=fe(C,1)}return A=X(R,M.j(A)),new U(M,A)}for(M=_;R.l(A)>=0;){for(C=Math.max(1,Math.floor(R.m()/A.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),F=p(C),j=F.j(A);k(j)||j.l(R)>0;)C-=P,F=p(C),j=F.j(A);D(F)&&(F=w),M=M.add(F),R=X(R,j)}return new U(M,R)}t.B=function(R){return J(this,R).h},t.and=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)&R.i(P);return new c(C,this.h&R.h)},t.or=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)|R.i(P);return new c(C,this.h|R.h)},t.xor=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)^R.i(P);return new c(C,this.h^R.h)};function se(R){const A=R.g.length+1,C=[];for(let P=0;P<A;P++)C[P]=R.i(P)<<1|R.i(P-1)>>>31;return new c(C,R.h)}function fe(R,A){const C=A>>5;A%=32;const P=R.g.length-C,M=[];for(let F=0;F<P;F++)M[F]=A>0?R.i(F+C)>>>A|R.i(F+C+1)<<32-A:R.i(F+C);return new c(M,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Wi=c}).apply(typeof vE<"u"?vE:typeof self<"u"?self:typeof window<"u"?window:{});var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var XS,Ru,JS,wf,By,WS,eA,tA;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof lf=="object"&&lf];for(var b=0;b<f.length;++b){var E=f[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(f,b){if(b)e:{var E=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var H=f[I];if(!(H in E))break e;E=E[H]}f=f[f.length-1],I=E[f],b=b(I),b!=I&&b!=null&&e(E,f,{configurable:!0,writable:!0,value:b})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(b){var E=[],I;for(I in b)Object.prototype.hasOwnProperty.call(b,I)&&E.push([I,b[I]]);return E}});var o=o||{},c=this||self;function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function d(f,b,E){return f.call.apply(f.bind,arguments)}function p(f,b,E){return p=d,p.apply(null,arguments)}function v(f,b){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function _(f,b){function E(){}E.prototype=b.prototype,f.Z=b.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(I,H,Y){for(var me=Array(arguments.length-2),je=2;je<arguments.length;je++)me[je-2]=arguments[je];return b.prototype[H].apply(I,me)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function T(f){const b=f.length;if(b>0){const E=Array(b);for(let I=0;I<b;I++)E[I]=f[I];return E}return[]}function D(f,b){for(let I=1;I<arguments.length;I++){const H=arguments[I];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=f.length||0;const Y=H.length||0;f.length=E+Y;for(let me=0;me<Y;me++)f[E+me]=H[me]}else f.push(H)}}class k{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function V(f){c.setTimeout(()=>{throw f},0)}function X(){var f=R;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class ${constructor(){this.h=this.g=null}add(b,E){const I=U.get();I.set(b,E),this.h?this.h.next=I:this.g=I,this.h=I}}var U=new k(()=>new J,f=>f.reset());class J{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,fe=!1,R=new $,A=()=>{const f=Promise.resolve(void 0);se=()=>{f.then(C)}};function C(){for(var f;f=X();){try{f.h.call(f.g)}catch(E){V(E)}var b=U;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}fe=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,b),c.removeEventListener("test",E,b)}catch{}return f})();function j(f){return/^[\s\xa0]*$/.test(f)}function Ge(f,b){M.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}_(Ge,M),Ge.prototype.init=function(f,b){const E=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(E=="mouseover"?b=f.fromElement:E=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),W=0;function he(f,b,E,I,H){this.listener=f,this.proxy=null,this.src=b,this.type=E,this.capture=!!I,this.ha=H,this.key=++W,this.da=this.fa=!1}function le(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f,b,E){for(const I in f)b.call(E,f[I],I,f)}function Fe(f,b){for(const E in f)b.call(void 0,f[E],E,f)}function N(f){const b={};for(const E in f)b[E]=f[E];return b}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(f,b){let E,I;for(let H=1;H<arguments.length;H++){I=arguments[H];for(E in I)f[E]=I[E];for(let Y=0;Y<Q.length;Y++)E=Q[Y],Object.prototype.hasOwnProperty.call(I,E)&&(f[E]=I[E])}}function ce(f){this.src=f,this.g={},this.h=0}ce.prototype.add=function(f,b,E,I,H){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const me=Re(f,b,I,H);return me>-1?(b=f[me],E||(b.fa=!1)):(b=new he(b,this.src,Y,!!I,H),b.fa=E,f.push(b)),b};function Ee(f,b){const E=b.type;if(E in f.g){var I=f.g[E],H=Array.prototype.indexOf.call(I,b,void 0),Y;(Y=H>=0)&&Array.prototype.splice.call(I,H,1),Y&&(le(b),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Re(f,b,E,I){for(let H=0;H<f.length;++H){const Y=f[H];if(!Y.da&&Y.listener==b&&Y.capture==!!E&&Y.ha==I)return H}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),St={};function tt(f,b,E,I,H){if(Array.isArray(b)){for(let Y=0;Y<b.length;Y++)tt(f,b[Y],E,I,H);return null}return E=yc(E),f&&f[Ze]?f.J(b,E,h(I)?!!I.capture:!1,H):er(f,b,E,!1,I,H)}function er(f,b,E,I,H,Y){if(!b)throw Error("Invalid event type");const me=h(H)?!!H.capture:!!H;let je=ha(f);if(je||(f[xe]=je=new ce(f)),E=je.add(b,E,I,me,Y),E.proxy)return E;if(I=Ur(),E.proxy=I,I.src=f,I.listener=E,f.addEventListener)F||(H=me),H===void 0&&(H=!1),f.addEventListener(b.toString(),I,H);else if(f.attachEvent)f.attachEvent(Fr(b.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ur(){function f(E){return b.call(f.src,f.listener,E)}const b=pc;return f}function Er(f,b,E,I,H){if(Array.isArray(b))for(var Y=0;Y<b.length;Y++)Er(f,b[Y],E,I,H);else I=h(I)?!!I.capture:!!I,E=yc(E),f&&f[Ze]?(f=f.i,Y=String(b).toString(),Y in f.g&&(b=f.g[Y],E=Re(b,E,I,H),E>-1&&(le(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete f.g[Y],f.h--)))):f&&(f=ha(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Re(b,E,I,H)),(E=f>-1?b[f]:null)&&Do(E))}function Do(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ze])Ee(b.i,f);else{var E=f.type,I=f.proxy;b.removeEventListener?b.removeEventListener(E,I,f.capture):b.detachEvent?b.detachEvent(Fr(E),I):b.addListener&&b.removeListener&&b.removeListener(I),(E=ha(b))?(Ee(E,f),E.h==0&&(E.src=null,b[xe]=null)):le(f)}}}function Fr(f){return f in St?St[f]:St[f]="on"+f}function pc(f,b){if(f.da)f=!0;else{b=new Ge(b,this);const E=f.listener,I=f.ha||f.src;f.fa&&Do(f),f=E.call(I,b)}return f}function ha(f){return f=f[xe],f instanceof ce?f:null}var gc="__closure_events_fn_"+(Math.random()*1e9>>>0);function yc(f){return typeof f=="function"?f:(f[gc]||(f[gc]=function(b){return f.handleEvent(b)}),f[gc])}function Vt(){P.call(this),this.i=new ce(this),this.M=this,this.G=null}_(Vt,P),Vt.prototype[Ze]=!0,Vt.prototype.removeEventListener=function(f,b,E,I){Er(this,f,b,E,I)};function Zt(f,b){var E,I=f.G;if(I)for(E=[];I;I=I.G)E.push(I);if(f=f.M,I=b.type||b,typeof b=="string")b=new M(b,f);else if(b instanceof M)b.target=b.target||f;else{var H=b;b=new M(I,f),ae(b,H)}H=!0;let Y,me;if(E)for(me=E.length-1;me>=0;me--)Y=b.g=E[me],H=si(Y,I,!0,b)&&H;if(Y=b.g=f,H=si(Y,I,!0,b)&&H,H=si(Y,I,!1,b)&&H,E)for(me=0;me<E.length;me++)Y=b.g=E[me],H=si(Y,I,!1,b)&&H}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const E=f.g[b];for(let I=0;I<E.length;I++)le(E[I]);delete f.g[b],f.h--}}this.G=null},Vt.prototype.J=function(f,b,E,I){return this.i.add(String(f),b,!1,E,I)},Vt.prototype.K=function(f,b,E,I){return this.i.add(String(f),b,!0,E,I)};function si(f,b,E,I){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let H=!0;for(let Y=0;Y<b.length;++Y){const me=b[Y];if(me&&!me.da&&me.capture==E){const je=me.listener,jt=me.ha||me.src;me.fa&&Ee(f.i,me),H=je.call(jt,I)!==!1&&H}}return H&&!I.defaultPrevented}function sp(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(f,b||0)}function Rh(f){f.g=sp(()=>{f.g=null,f.i&&(f.i=!1,Rh(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class En extends P{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Rh(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(f){P.call(this),this.h=f,this.g={}}_(da,P);var vc=[];function _c(f){Me(f.g,function(b,E){this.g.hasOwnProperty(E)&&Do(b)},f),f.g={}}da.prototype.N=function(){da.Z.N.call(this),_c(this)},da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ii=c.JSON.stringify,ip=c.JSON.parse,Nh=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Ch(){}function Dh(){}var Tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function on(){M.call(this,"d")}_(on,M);function tr(){M.call(this,"c")}_(tr,M);var kt={},kh=null;function ko(){return kh=kh||new Vt}kt.Ia="serverreachability";function jh(f){M.call(this,kt.Ia,f)}_(jh,M);function Br(f){const b=ko();Zt(b,new jh(b))}kt.STAT_EVENT="statevent";function fa(f,b){M.call(this,kt.STAT_EVENT,f),this.stat=b}_(fa,M);function zt(f){const b=ko();Zt(b,new fa(b,f))}kt.Ja="timingevent";function qr(f,b){M.call(this,kt.Ja,f),this.size=b}_(qr,M);function $r(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},b)}function Sr(){this.g=!0}Sr.prototype.ua=function(){this.g=!1};function ap(f,b,E,I,H,Y){f.info(function(){if(f.g)if(Y){var me="",je=Y.split("&");for(let We=0;We<je.length;We++){var jt=je[We].split("=");if(jt.length>1){const yt=jt[0];jt=jt[1];const ir=yt.split("_");me=ir.length>=2&&ir[1]=="type"?me+(yt+"="+jt+"&"):me+(yt+"=redacted&")}}}else me=null;else me=Y;return"XMLHTTP REQ ("+I+") [attempt "+H+"]: "+b+`
`+E+`
`+me})}function Oh(f,b,E,I,H,Y,me){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+H+"]: "+b+`
`+E+`
`+Y+" "+me})}function Hr(f,b,E,I){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+op(f,E)+(I?" "+I:"")})}function ma(f,b){f.info(function(){return"TIMEOUT: "+b})}Sr.prototype.info=function(){};function op(f,b){if(!f.g)return b;if(!b)return null;try{const Y=JSON.parse(b);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var E=Y[f];if(!(E.length<2)){var I=E[1];if(Array.isArray(I)&&!(I.length<1)){var H=I[0];if(H!="noop"&&H!="stop"&&H!="close")for(let me=1;me<I.length;me++)I[me]=""}}}}return ii(Y)}catch{return b}}var pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xc;function ga(){}_(ga,Ch),ga.prototype.g=function(){return new XMLHttpRequest},xc=new ga;function bs(f){return encodeURIComponent(String(f))}function Ph(f){var b=1;f=f.split(":");const E=[];for(;b>0&&f.length;)E.push(f.shift()),b--;return f.length&&E.push(f.join(":")),E}function Ar(f,b,E,I){this.j=f,this.i=b,this.l=E,this.S=I||1,this.V=new da(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ir}function Ir(){this.i=null,this.g="",this.h=!1}var Lt={},tn={};function Gr(f,b,E){f.M=1,f.A=ya(Ft(b)),f.u=E,f.R=!0,jo(f,null)}function jo(f,b){f.F=Date.now(),Kr(f),f.B=Ft(f.A);var E=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),Vo(E.i,"t",I),f.C=0,E=f.j.L,f.h=new Ir,f.g=Yh(f.j,E?b:null,!f.u),f.P>0&&(f.O=new En(p(f.Y,f,f.g),f.P)),b=f.V,E=f.g,I=f.ba;var H="readystatechange";Array.isArray(H)||(H&&(vc[0]=H.toString()),H=vc);for(let Y=0;Y<H.length;Y++){const me=tt(E,H[Y],I||b.handleEvent,!1,b.h||b);if(!me)break;b.g[me.key]=me}b=f.J?N(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),Br(),ap(f.i,f.v,f.B,f.l,f.S,f.u)}Ar.prototype.ba=function(f){f=f.target;const b=this.O;b&&Cr(f)==3?b.j():this.Y(f)},Ar.prototype.Y=function(f){try{if(f==this.g)e:{const je=Cr(this.g),jt=this.g.ya(),We=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||je!=4||jt==7||(jt==8||We<=0?Br(3):Br(2)),Qr(this);var b=this.g.ca();this.X=b;var E=lp(this);if(this.o=b==200,Oh(this.i,this.v,this.B,this.l,this.S,je,b),this.o){if(this.U&&!this.L){t:{if(this.g){var I,H=this.g;if((I=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(I)){var Y=I;break t}}Y=null}if(f=Y)Hr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zr(this,f);else{this.o=!1,this.m=3,zt(12),Fn(this),nr(this);break e}}if(this.R){f=!0;let yt;for(;!this.K&&this.C<E.length;)if(yt=Vh(this,E),yt==tn){je==4&&(this.m=4,zt(14),f=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Lt){this.m=4,zt(15),Hr(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Hr(this.i,this.l,yt,null),Zr(this,yt);if(Mh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||E.length!=0||this.h.h||(this.m=1,zt(16),f=!1),this.o=this.o&&f,!f)Hr(this.i,this.l,E,"[Invalid Chunked Response]"),Fn(this),nr(this);else if(E.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Mc(me),me.P=!0,zt(11))}}else Hr(this.i,this.l,E,null),Zr(this,E);je==4&&Fn(this),this.o&&!this.K&&(je==4?Gh(this.j,this):(this.o=!1,Kr(this)))}else ws(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),Fn(this),nr(this)}}}catch{}};function lp(f){if(!Mh(f))return f.g.la();const b=ln(f.g);if(b==="")return"";let E="";const I=b.length,H=Cr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Fn(f),nr(f),"";f.h.i=new c.TextDecoder}for(let Y=0;Y<I;Y++)f.h.h=!0,E+=f.h.i.decode(b[Y],{stream:!(H&&Y==I-1)});return b.length=0,f.h.g+=E,f.C=0,f.h.g}function Mh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Vh(f,b){var E=f.C,I=b.indexOf(`
`,E);return I==-1?tn:(E=Number(b.substring(E,I)),isNaN(E)?Lt:(I+=1,I+E>b.length?tn:(b=b.slice(I,I+E),f.C=I+E,b)))}Ar.prototype.cancel=function(){this.K=!0,Fn(this)};function Kr(f){f.T=Date.now()+f.H,Oo(f,f.H)}function Oo(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=$r(p(f.aa,f),b)}function Qr(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Ar.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ma(this.i,this.B),this.M!=2&&(Br(),zt(17)),Fn(this),this.m=2,nr(this)):Oo(this,this.T-f)};function nr(f){f.j.I==0||f.K||Gh(f.j,f)}function Fn(f){Qr(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,_c(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Zr(f,b){try{var E=f.j;if(E.I!=0&&(E.g==f||Xr(E.h,f))){if(!f.L&&Xr(E.h,f)&&E.I==3){try{var I=E.Ba.g.parse(b)}catch{I=null}if(Array.isArray(I)&&I.length==3){var H=I;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Bo(E),fi(E);else break e;Ta(E),zt(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=$r(p(E.Va,E),6e3));Yr(E.h)<=1&&E.ta&&(E.ta=void 0)}else rs(E,11)}else if((f.L||E.g==f)&&Bo(E),!j(b))for(H=E.Ba.g.parse(b),b=0;b<H.length;b++){let We=H[b];const yt=We[0];if(!(yt<=E.K))if(E.K=yt,We=We[1],E.I==2)if(We[0]=="c"){E.M=We[1],E.ba=We[2];const ir=We[3];ir!=null&&(E.ka=ir,E.j.info("VER="+E.ka));const ss=We[4];ss!=null&&(E.za=ss,E.j.info("SVER="+E.za));const Dr=We[5];Dr!=null&&typeof Dr=="number"&&Dr>0&&(I=1.5*Dr,E.O=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const kr=f.g;if(kr){const Sa=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var Y=I.h;Y.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Tc(Y,Y.h),Y.h=null))}if(I.G){const qo=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(I.wa=qo,nt(I.J,I.G,qo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),I=E;var me=f;if(I.na=Zh(I,I.L?I.ba:null,I.W),me.L){Sc(I.h,me);var je=me,jt=I.O;jt&&(je.H=jt),je.D&&(Qr(je),Kr(je)),I.g=me}else $h(I);E.i.length>0&&ns(E)}else We[0]!="stop"&&We[0]!="close"||rs(E,7);else E.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?rs(E,7):Oc(E):We[0]!="noop"&&E.l&&E.l.qa(We),E.A=0)}}Br(4)}catch{}}var Ut=class{constructor(f,b){this.g=f,this.map=b}};function wc(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ec(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Yr(f){return f.h?1:f.g?f.g.size:0}function Xr(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Tc(f,b){f.g?f.g.add(b):f.h=b}function Sc(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}wc.prototype.cancel=function(){if(this.i=Ac(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ac(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const E of f.g.values())b=b.concat(E.G);return b}return T(f.i)}var zh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Po(f,b){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const I=f[E].indexOf("=");let H,Y=null;I>=0?(H=f[E].substring(0,I),Y=f[E].substring(I+1)):H=f[E],b(H,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Bn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof Bn?(this.l=f.l,nn(this,f.j),this.o=f.o,this.g=f.g,ai(this,f.u),this.h=f.h,Ic(this,Bh(f.i)),this.m=f.m):f&&(b=String(f).match(zh))?(this.l=!1,nn(this,b[1]||"",!0),this.o=Jr(b[2]||""),this.g=Jr(b[3]||"",!0),ai(this,b[4]),this.h=Jr(b[5]||"",!0),Ic(this,b[6]||"",!0),this.m=Jr(b[7]||"")):(this.l=!1,this.i=new li(null,this.l))}Bn.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(va(b,Mo,!0),":");var E=this.g;return(E||b=="file")&&(f.push("//"),(b=this.o)&&f.push(va(b,Mo,!0),"@"),f.push(bs(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(va(E,E.charAt(0)=="/"?Rc:Lh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",va(E,Uh)),f.join("")},Bn.prototype.resolve=function(f){const b=Ft(this);let E=!!f.j;E?nn(b,f.j):E=!!f.o,E?b.o=f.o:E=!!f.g,E?b.g=f.g:E=f.u!=null;var I=f.h;if(E)ai(b,f.u);else if(E=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var H=b.h.lastIndexOf("/");H!=-1&&(I=b.h.slice(0,H+1)+I)}if(H=I,H==".."||H==".")I="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){I=H.lastIndexOf("/",0)==0,H=H.split("/");const Y=[];for(let me=0;me<H.length;){const je=H[me++];je=="."?I&&me==H.length&&Y.push(""):je==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),I&&me==H.length&&Y.push("")):(Y.push(je),I=!0)}I=Y.join("/")}else I=H}return E?b.h=I:E=f.i.toString()!=="",E?Ic(b,Bh(f.i)):E=!!f.m,E&&(b.m=f.m),b};function Ft(f){return new Bn(f)}function nn(f,b,E){f.j=E?Jr(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function ai(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Ic(f,b,E){b instanceof li?(f.i=b,zo(f.i,f.l)):(E||(b=va(b,oi)),f.i=new li(b,f.l))}function nt(f,b,E){f.i.set(b,E)}function ya(f){return nt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Jr(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function va(f,b,E){return typeof f=="string"?(f=encodeURI(f).replace(b,kn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function kn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Mo=/[#\/\?@]/g,Lh=/[#\?:]/g,Rc=/[#\?]/g,oi=/[#\?@]/g,Uh=/#/g;function li(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function jn(f){f.g||(f.g=new Map,f.h=0,f.i&&Po(f.i,function(b,E){f.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=li.prototype,t.add=function(f,b){jn(this),this.i=null,f=ci(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(b),this.h+=1,this};function Fh(f,b){jn(f),b=ci(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Nc(f,b){return jn(f),b=ci(f,b),f.g.has(b)}t.forEach=function(f,b){jn(this),this.g.forEach(function(E,I){E.forEach(function(H){f.call(b,H,I,this)},this)},this)};function Cc(f,b){jn(f);let E=[];if(typeof b=="string")Nc(f,b)&&(E=E.concat(f.g.get(ci(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)E=E.concat(f[b]);return E}t.set=function(f,b){return jn(this),this.i=null,f=ci(this,f),Nc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=Cc(this,f),f.length>0?String(f[0]):b):b};function Vo(f,b,E){Fh(f,b),E.length>0&&(f.i=null,f.g.set(ci(f,b),T(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let I=0;I<b.length;I++){var E=b[I];const H=bs(E);E=Cc(this,E);for(let Y=0;Y<E.length;Y++){let me=H;E[Y]!==""&&(me+="="+bs(E[Y])),f.push(me)}}return this.i=f.join("&")};function Bh(f){const b=new li;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function ci(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function zo(f,b){b&&!f.j&&(jn(f),f.i=null,f.g.forEach(function(E,I){const H=I.toLowerCase();I!=H&&(Fh(this,I),Vo(this,H,E))},f)),f.j=b}function Rr(f,b){const E=new Sr;if(c.Image){const I=new Image;I.onload=v(rr,E,"TestLoadImage: loaded",!0,b,I),I.onerror=v(rr,E,"TestLoadImage: error",!1,b,I),I.onabort=v(rr,E,"TestLoadImage: abort",!1,b,I),I.ontimeout=v(rr,E,"TestLoadImage: timeout",!1,b,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else b(!1)}function Dc(f,b){const E=new Sr,I=new AbortController,H=setTimeout(()=>{I.abort(),rr(E,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:I.signal}).then(Y=>{clearTimeout(H),Y.ok?rr(E,"TestPingServer: ok",!0,b):rr(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(H),rr(E,"TestPingServer: error",!1,b)})}function rr(f,b,E,I,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),I(E)}catch{}}function ui(){this.g=new Nh}function Wr(f){this.i=f.Sb||null,this.h=f.ab||!1}_(Wr,Ch),Wr.prototype.g=function(){return new _a(this.i,this.h)};function _a(f,b){Vt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(_a,Vt),t=_a.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Nr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Lo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?hi(this):Nr(this),this.readyState==3&&Lo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,hi(this))},t.Na=function(f){this.g&&(this.response=f,hi(this))},t.ga=function(){this.g&&hi(this)};function hi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Nr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=b.next();return f.join(`\r
`)};function Nr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function sr(f){let b="";return Me(f,function(E,I){b+=I,b+=":",b+=E,b+=`\r
`}),b}function ba(f,b,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=sr(E),typeof f=="string"?E!=null&&bs(E):nt(f,b,E))}function ct(f){Vt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ct,Vt);var es=/^https?$/i,kc=["POST","PUT"];t=ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xc.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(Y){xa(this,Y);return}if(f=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var H in I)E.set(H,I[H]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Y of I.keys())E.set(Y,I.get(Y));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(kc,b,void 0)>=0)||I||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,me]of E)this.g.setRequestHeader(Y,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){xa(this,Y)}};function xa(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,jc(f),xs(f)}function jc(f){f.A||(f.A=!0,Zt(f,"complete"),Zt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Zt(this,"complete"),Zt(this,"abort"),xs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wa(this):this.Xa())},t.Xa=function(){wa(this)};function wa(f){if(f.h&&typeof o<"u"){if(f.v&&Cr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Zt(f,"readystatechange"),Cr(f)==4){f.h=!1;try{const Y=f.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var I;if(I=Y===0){let me=String(f.D).match(zh)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),I=!es.test(me?me.toLowerCase():"")}E=I}if(E)Zt(f,"complete"),Zt(f,"success");else{f.o=6;try{var H=Cr(f)>2?f.g.statusText:""}catch{H=""}f.l=H+" ["+f.ca()+"]",jc(f)}}finally{xs(f)}}}}function xs(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,b||Zt(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Cr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Cr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),ip(b)}};function ln(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(f){const b={};f=(f.g&&Cr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(j(f[I]))continue;var E=Ph(f[I]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=b[H]||[];b[H]=Y,Y.push(E)}Fe(b,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(f,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||b}function di(f){this.za=0,this.i=[],this.j=new Sr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,f),this.Za=ts("retryDelaySeedMs",1e4,f),this.Ta=ts("forwardChannelMaxRetries",2,f),this.va=ts("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new wc(f&&f.concurrentRequestLimit),this.Ba=new ui,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=di.prototype,t.ka=8,t.I=1,t.connect=function(f,b,E,I){zt(0),this.W=f,this.H=b||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.J=Zh(this,null,this.W),ns(this)};function Oc(f){if(Uo(f),f.I==3){var b=f.V++,E=Ft(f.J);if(nt(E,"SID",f.M),nt(E,"RID",b),nt(E,"TYPE","terminate"),Ea(f,E),b=new Ar(f,f.j,b),b.M=2,b.A=ya(Ft(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=b.A,E=!0),E||(b.g=Yh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Kr(b)}Qh(f)}function fi(f){f.g&&(Mc(f),f.g.cancel(),f.g=null)}function Uo(f){fi(f),f.v&&(c.clearTimeout(f.v),f.v=null),Bo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function ns(f){if(!Ec(f.h)&&!f.m){f.m=!0;var b=f.Ea;se||A(),fe||(se(),fe=!0),R.add(b,f),f.D=0}}function Fo(f,b){return Yr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=$r(p(f.Ea,f,b),Kh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const H=new Ar(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=N(Y),ae(Y,this.U)):Y=this.U),this.u!==null||this.R||(H.J=Y,Y=null),this.S)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(b+=I,b>4096){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=qh(this,H,b),E=Ft(this.J),nt(E,"RID",f),nt(E,"CVER",22),this.G&&nt(E,"X-HTTP-Session-Id",this.G),Ea(this,E),Y&&(this.R?b="headers="+bs(sr(Y))+"&"+b:this.u&&ba(E,this.u,Y)),Tc(this.h,H),this.Ra&&nt(E,"TYPE","init"),this.S?(nt(E,"$req",b),nt(E,"SID","null"),H.U=!0,Gr(H,E,null)):Gr(H,E,b),this.I=2}}else this.I==3&&(f?Pc(this,f):this.i.length==0||Ec(this.h)||Pc(this))};function Pc(f,b){var E;b?E=b.l:E=f.V++;const I=Ft(f.J);nt(I,"SID",f.M),nt(I,"RID",E),nt(I,"AID",f.K),Ea(f,I),f.u&&f.o&&ba(I,f.u,f.o),E=new Ar(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),b&&(f.i=b.G.concat(f.i)),b=qh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Tc(f.h,E),Gr(E,I,b)}function Ea(f,b){f.H&&Me(f.H,function(E,I){nt(b,I,E)}),f.l&&Me({},function(E,I){nt(b,I,E)})}function qh(f,b,E){E=Math.min(f.i.length,E);const I=f.l?p(f.l.Ka,f.l,f):null;e:{var H=f.i;let je=-1;for(;;){const jt=["count="+E];je==-1?E>0?(je=H[0].g,jt.push("ofs="+je)):je=0:jt.push("ofs="+je);let We=!0;for(let yt=0;yt<E;yt++){var Y=H[yt].g;const ir=H[yt].map;if(Y-=je,Y<0)je=Math.max(0,H[yt].g-100),We=!1;else try{Y="req"+Y+"_"||"";try{var me=ir instanceof Map?ir:Object.entries(ir);for(const[ss,Dr]of me){let kr=Dr;h(Dr)&&(kr=ii(Dr)),jt.push(Y+ss+"="+encodeURIComponent(kr))}}catch(ss){throw jt.push(Y+"type="+encodeURIComponent("_badmap")),ss}}catch{I&&I(ir)}}if(We){me=jt.join("&");break e}}me=void 0}return f=f.i.splice(0,E),b.G=f,me}function $h(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;se||A(),fe||(se(),fe=!0),R.add(b,f),f.A=0}}function Ta(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=$r(p(f.Da,f),Kh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Hh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=$r(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),fi(this),Hh(this))};function Mc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Hh(f){f.g=new Ar(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Ft(f.na);nt(b,"RID","rpc"),nt(b,"SID",f.M),nt(b,"AID",f.K),nt(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&nt(b,"TO",f.ia),nt(b,"TYPE","xmlhttp"),Ea(f,b),f.u&&f.o&&ba(b,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=ya(Ft(b)),E.u=null,E.R=!0,jo(E,f)}t.Va=function(){this.C!=null&&(this.C=null,fi(this),Ta(this),zt(19))};function Bo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Gh(f,b){var E=null;if(f.g==b){Bo(f),Mc(f),f.g=null;var I=2}else if(Xr(f.h,b))E=b.G,Sc(f.h,b),I=1;else return;if(f.I!=0){if(b.o)if(I==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var H=f.D;I=ko(),Zt(I,new qr(I,E)),ns(f)}else $h(f);else if(H=b.m,H==3||H==0&&b.X>0||!(I==1&&Fo(f,b)||I==2&&Ta(f)))switch(E&&E.length>0&&(b=f.h,b.i=b.i.concat(E)),H){case 1:rs(f,5);break;case 4:rs(f,10);break;case 3:rs(f,6);break;default:rs(f,2)}}}function Kh(f,b){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*b}function rs(f,b){if(f.j.info("Error code "+b),b==2){var E=p(f.bb,f),I=f.Ua;const H=!I;I=new Bn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||nn(I,"https"),ya(I),H?Rr(I.toString(),E):Dc(I.toString(),E)}else zt(2);f.I=0,f.l&&f.l.pa(b),Qh(f),Uo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Qh(f){if(f.I=0,f.ja=[],f.l){const b=Ac(f.h);(b.length!=0||f.i.length!=0)&&(D(f.ja,b),D(f.ja,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.oa()}}function Zh(f,b,E){var I=E instanceof Bn?Ft(E):new Bn(E);if(I.g!="")b&&(I.g=b+"."+I.g),ai(I,I.u);else{var H=c.location;I=H.protocol,b=b?b+"."+H.hostname:H.hostname,H=+H.port;const Y=new Bn(null);I&&nn(Y,I),b&&(Y.g=b),H&&ai(Y,H),E&&(Y.h=E),I=Y}return E=f.G,b=f.wa,E&&b&&nt(I,E,b),nt(I,"VER",f.ka),Ea(f,I),I}function Yh(f,b,E){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ct(new Wr({ab:E})):new ct(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xh(){}t=Xh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mi(){}mi.prototype.g=function(f,b){return new Tn(f,b)};function Tn(f,b){Vt.call(this),this.g=new di(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!j(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!j(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Es(this)}_(Tn,Vt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Oc(this.g)},Tn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=ii(f),f=E);b.i.push(new Ut(b.Ya++,f)),b.I==3&&ns(b)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Oc(this.g),delete this.g,Tn.Z.N.call(this)};function Jh(f){on.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const E in b){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}_(Jh,on);function Wh(){tr.call(this),this.status=1}_(Wh,tr);function Es(f){this.g=f}_(Es,Xh),Es.prototype.ra=function(){Zt(this.g,"a")},Es.prototype.qa=function(f){Zt(this.g,new Jh(f))},Es.prototype.pa=function(f){Zt(this.g,new Wh)},Es.prototype.oa=function(){Zt(this.g,"b")},mi.prototype.createWebChannel=mi.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,tA=function(){return new mi},eA=function(){return ko()},WS=kt,By={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,wf=pa,bc.COMPLETE="complete",JS=bc,Dh.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Ru=Dh,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,XS=ct}).apply(typeof lf<"u"?lf:typeof self<"u"?self:typeof window<"u"?window:{});const _E="@firebase/firestore",bE="4.9.3";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let lc="12.7.0";const fo=new jv("@firebase/firestore");function Al(){return fo.logLevel}function ue(t,...e){if(fo.logLevel<=$e.DEBUG){const n=e.map(Mv);fo.debug(`Firestore (${lc}): ${t}`,...n)}}function Rn(t,...e){if(fo.logLevel<=$e.ERROR){const n=e.map(Mv);fo.error(`Firestore (${lc}): ${t}`,...n)}}function mo(t,...e){if(fo.logLevel<=$e.WARN){const n=e.map(Mv);fo.warn(`Firestore (${lc}): ${t}`,...n)}}function Mv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nA(t,r,n)}function nA(t,e,n){let r=`FIRESTORE (${lc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rn(r),new Error(r)}function we(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||nA(e,i,r)}function De(t,e){return t}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class rA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class l4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class c4{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fs,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},h=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new rA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class u4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new u4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function f4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Vv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=f4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function qy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return vy(i)===vy(o)?Ce(i,o):vy(i)?1:-1}return Ce(t.length,e.length)}const m4=55296,p4=57343;function vy(t){const e=t.charCodeAt(0);return e>=m4&&e<=p4}function Ul(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function sA(t){return t+"\0"}const wE="__name__";class cs{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=cs.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ce(e.length,n.length)}static compareSegments(e,n){const r=cs.isNumericId(e),i=cs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?cs.extractNumericId(e).compare(cs.extractNumericId(n)):qy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class Je extends cs{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const g4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends cs{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return g4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new wt([wE])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else h==="`"?(c=!c,i++):h!=="."||c?(r+=h,i++):(o(),i++)}if(o(),c)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Je.fromString(e))}static fromName(e){return new pe(Je.fromString(e).popFirst(5))}static empty(){return new pe(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Je(e.slice()))}}function iA(t,e,n){if(!n)throw new de(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function y4(t,e,n,r){if(e===!0&&r===!0)throw new de(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function EE(t){if(!pe.isDocumentKey(t))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TE(t){if(pe.isDocumentKey(t))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function aA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function Jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nm(t);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function v4(t,e){if(e<=0)throw new de(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function mh(t,e){if(!aA(t))throw new de(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new de(te.INVALID_ARGUMENT,n);return!0}const SE=-62135596800,AE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*AE);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<SE)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AE}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mh(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-SE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Kt("string",it._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new it(0,0))}static max(){return new Ae(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qu=-1;class Kf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function $y(t){return t.fields.find((e=>e.kind===2))}function $a(t){return t.fields.filter((e=>e.kind!==2))}Kf.UNKNOWN_ID=-1;class Ef{constructor(e,n){this.fieldPath=e,this.kind=n}}class Zu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Zu(0,Wn.min())}}function _4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Wn(i,pe.empty(),e)}function oA(t){return new Wn(t.readTime,t.key,Qu)}class Wn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wn(Ae.min(),pe.empty(),Qu)}static max(){return new Wn(Ae.max(),pe.empty(),Qu)}}function zv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}const lA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ao(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==lA)throw t;ue("LocalStore","Unexpectedly lost primary lease")}class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):q.reject(n)}static resolve(e){return new q(((n,r)=>{n(e)}))}static reject(e){return new q(((n,r)=>{r(e)}))}static waitFor(e){return new q(((n,r)=>{let i=0,o=0,c=!1;e.forEach((h=>{++i,h.next((()=>{++o,c&&o===i&&n()}),(d=>r(d)))})),c=!0,o===i&&n()}))}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next((i=>i?q.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new q(((r,i)=>{const o=e.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;n(e[p]).next((v=>{c[p]=v,++h,h===o&&r(c)}),(v=>i(v)))}}))}static doWhile(e,n){return new q(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}const Yn="SimpleDb";class Cm{static open(e,n,r,i){try{return new Cm(n,e.transaction(i,r))}catch(o){throw new Pu(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new fs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Pu(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=Lv(r.target.error);this.S.reject(new Pu(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ue(Yn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new x4(n)}}class ea{static delete(e){return ue(Yn,"Removing database:",e),Ka(OS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!qS())return!1;if(ea.F())return!0;const e=Wt(),n=ea.M(e),r=0<n&&n<10,i=uA(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,ea.M(Wt())===12.2&&Rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ue(Yn,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const c=o.target.result;n(c)},i.onblocked=()=>{r(new Pu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const c=o.target.error;c.name==="VersionError"?r(new de(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new de(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Pu(e,c))},i.onupgradeneeded=o=>{ue(Yn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,i.transaction,o.oldVersion,this.version).next((()=>{ue(Yn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const h=Cm.open(this.db,e,o?"readonly":"readwrite",r),d=i(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),q.reject(p)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,p=d.name!=="FirebaseError"&&c<3;if(ue(Yn,"Transaction failed with error:",d.message,"Retrying:",p),this.close(),!p)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function uA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class b4{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ka(this.U.delete())}}class Pu extends de{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function oa(t){return t.name==="IndexedDbTransactionError"}class x4{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ue(Yn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ue(Yn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ka(r)}add(e){return ue(Yn,"ADD",this.store.name,e,e),Ka(this.store.add(e))}get(e){return Ka(this.store.get(e)).next((n=>(n===void 0&&(n=null),ue(Yn,"GET",this.store.name,e,n),n)))}delete(e){return ue(Yn,"DELETE",this.store.name,e),Ka(this.store.delete(e))}count(){return ue(Yn,"COUNT",this.store.name),Ka(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new q(((c,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{c(d.target.result)}}))}{const o=this.cursor(r),c=[];return this.H(o,((h,d)=>{c.push(d)})).next((()=>c))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new q(((i,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{i(c.target.result)}}))}Z(e,n){ue(Yn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((o,c,h)=>h.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new q(((r,i)=>{n.onerror=o=>{const c=Lv(o.target.error);i(c)},n.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((h=>{h?c.continue():r()})):r()}}))}H(e,n){const r=[];return new q(((i,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void i();const d=new b4(h),p=n(h.primaryKey,h.value,d);if(p instanceof q){const v=p.catch((_=>(d.done(),q.reject(_))));r.push(v)}d.isDone?i():d.G===null?h.continue():h.continue(d.G)}})).next((()=>q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ka(t){return new q(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Lv(r.target.error);n(i)}}))}let IE=!1;function Lv(t){const e=ea.M(Wt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IE||(IE=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Mu="IndexBackfiller";class w4{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ue(Mu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ue(Mu,`Documents written: ${n}`)}catch(n){oa(n)?ue(Mu,"Ignoring IndexedDB error during index backfill: ",n):await Ao(n)}await this.re(6e4)}))}}class E4{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,o=!0;return q.doWhile((()=>o===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return ue(Mu,`Processing collection: ${c}`),this.oe(e,c,i).next((h=>{i-=h,r.add(c)}));o=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(i,o))).next((h=>(ue(Mu,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,n,h)))).next((()=>c.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,o)=>{const c=oA(o);zv(c,r)>0&&(r=c)})),new Wn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class gr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gr.ce=-1;const to=-1;function Dm(t){return t==null}function Yu(t){return t===0&&1/t==-1/0}function T4(t){return typeof t=="number"&&Number.isInteger(t)&&!Yu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Qf="";function xn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RE(e)),e=S4(t.get(n),e);return RE(e)}function S4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case Qf:n+="";break;default:n+=o}}return n}function RE(t){return t+Qf+""}function us(t){const e=t.length;if(we(e>=2,64408,{path:t}),e===2)return we(t.charAt(0)===Qf&&t.charAt(1)==="",56145,{path:t}),Je.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const c=t.indexOf(Qf,o);switch((c<0||c>n)&&_e(50515,{path:t}),t.charAt(c+1)){case"":const h=t.substring(o,c);let d;i.length===0?d=h:(i+=h,d=i,i=""),r.push(d);break;case"":i+=t.substring(o,c),i+="\0";break;case"":i+=t.substring(o,c+1);break;default:_e(61167,{path:t})}o=c+2}return new Je(r)}const Ha="remoteDocuments",ph="owner",bl="owner",Xu="mutationQueues",A4="userId",Mr="mutations",NE="batchId",Ja="userMutationsIndex",CE=["userId","batchId"];function Tf(t,e){return[t,xn(e)]}function hA(t,e,n){return[t,xn(e),n]}const I4={},Fl="documentMutations",Zf="remoteDocumentsV14",R4=["prefixPath","collectionGroup","readTime","documentId"],Sf="documentKeyIndex",N4=["prefixPath","collectionGroup","documentId"],dA="collectionGroupIndex",C4=["collectionGroup","readTime","prefixPath","documentId"],Ju="remoteDocumentGlobal",Hy="remoteDocumentGlobalKey",Bl="targets",fA="queryTargetsIndex",D4=["canonicalId","targetId"],ql="targetDocuments",k4=["targetId","path"],Uv="documentTargetsIndex",j4=["path","targetId"],Yf="targetGlobalKey",no="targetGlobal",Wu="collectionParents",O4=["collectionId","parent"],$l="clientMetadata",P4="clientId",km="bundles",M4="bundleId",jm="namedQueries",V4="name",Fv="indexConfiguration",z4="indexId",Gy="collectionGroupIndex",L4="collectionGroup",Vu="indexState",U4=["indexId","uid"],mA="sequenceNumberIndex",F4=["uid","sequenceNumber"],zu="indexEntries",B4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pA="documentKeyIndex",q4=["indexId","uid","orderedDocumentKey"],Om="documentOverlays",$4=["userId","collectionPath","documentId"],Ky="collectionPathOverlayIndex",H4=["userId","collectionPath","largestBatchId"],gA="collectionGroupOverlayIndex",G4=["userId","collectionGroup","largestBatchId"],Bv="globals",K4="name",yA=[Xu,Mr,Fl,Ha,Bl,ph,no,ql,$l,Ju,Wu,km,jm],Q4=[...yA,Om],vA=[Xu,Mr,Fl,Zf,Bl,ph,no,ql,$l,Ju,Wu,km,jm,Om],_A=vA,qv=[..._A,Fv,Vu,zu],Z4=qv,bA=[...qv,Bv],Y4=bA;class Qy extends cA{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function en(t,e){const n=De(t);return ea.O(n.le,e)}function DE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cf(this.root,e,this.comparator,!0)}}class cf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=i??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new pn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kE(this.data.getIterator())}getIteratorFrom(e){return new kE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class kE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xl(t){return t.hasNext()?t.getNext():void 0}class yr{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new yr([])}unionWith(e){let n=new lt(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class wA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wA("Invalid base64 string: "+o):o}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const X4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(t){if(we(!!t,39018),typeof t=="string"){let e=0;const n=X4.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}const EA="server_timestamp",TA="__type__",SA="__previous_value__",AA="__local_write_time__";function Pm(t){return(t?.mapValue?.fields||{})[TA]?.stringValue===EA}function Mm(t){const e=t.mapValue.fields[SA];return Pm(e)?Mm(e):e}function eh(t){const e=Zs(t.mapValue.fields[AA].timestampValue);return new it(e.seconds,e.nanos)}class J4{constructor(e,n,r,i,o,c,h,d,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=v}}const Xf="(default)";class po{constructor(e,n){this.projectId=e,this.database=n||Xf}static empty(){return new po("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(e){return e instanceof po&&e.projectId===this.projectId&&e.database===this.database}}const $v="__type__",IA="__max__",Ki={mapValue:{fields:{__type__:{stringValue:IA}}}},Hv="__vector__",Hl="value",Af={nullValue:"NULL_VALUE"};function na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pm(t)?4:RA(t)?9007199254740991:Vm(t)?10:11:_e(28295,{value:t})}function ys(t,e){if(t===e)return!0;const n=na(t);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eh(t).isEqual(eh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=Zs(i.timestampValue),h=Zs(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Ys(i.bytesValue).isEqual(Ys(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return _t(i.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return _t(i.integerValue)===_t(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=_t(i.doubleValue),h=_t(o.doubleValue);return c===h?Yu(c)===Yu(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Ul(t.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:case 11:return(function(i,o){const c=i.mapValue.fields||{},h=o.mapValue.fields||{};if(DE(c)!==DE(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!ys(c[d],h[d])))return!1;return!0})(t,e);default:return _e(52216,{left:t})}}function th(t,e){return(t.values||[]).find((n=>ys(n,e)))!==void 0}function ra(t,e){if(t===e)return 0;const n=na(t),r=na(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=_t(o.integerValue||o.doubleValue),d=_t(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return jE(t.timestampValue,e.timestampValue);case 4:return jE(eh(t),eh(e));case 5:return qy(t.stringValue,e.stringValue);case 6:return(function(o,c){const h=Ys(o),d=Ys(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let p=0;p<h.length&&p<d.length;p++){const v=Ce(h[p],d[p]);if(v!==0)return v}return Ce(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=Ce(_t(o.latitude),_t(c.latitude));return h!==0?h:Ce(_t(o.longitude),_t(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return OE(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},d=c.fields||{},p=h[Hl]?.arrayValue,v=d[Hl]?.arrayValue,_=Ce(p?.values?.length||0,v?.values?.length||0);return _!==0?_:OE(p,v)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Ki.mapValue&&c===Ki.mapValue)return 0;if(o===Ki.mapValue)return 1;if(c===Ki.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=c.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let _=0;_<d.length&&_<v.length;++_){const w=qy(d[_],v[_]);if(w!==0)return w;const T=ra(h[d[_]],p[v[_]]);if(T!==0)return T}return Ce(d.length,v.length)})(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function jE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Zs(t),r=Zs(e),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function OE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ra(n[i],r[i]);if(o)return o}return Ce(n.length,r.length)}function Gl(t){return Zy(t)}function Zy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Zs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ys(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Zy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const c of r)o?o=!1:i+=",",i+=`${c}:${Zy(n.fields[c])}`;return i+"}"})(t.mapValue):_e(61005,{value:t})}function If(t){switch(na(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mm(t);return e?16+If(e):16;case 5:return 2*t.stringValue.length;case 6:return Ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+If(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Io(r.fields,((o,c)=>{i+=o.length+If(c)})),i})(t.mapValue);default:throw _e(13486,{value:t})}}function go(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yy(t){return!!t&&"integerValue"in t}function nh(t){return!!t&&"arrayValue"in t}function PE(t){return!!t&&"nullValue"in t}function ME(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rf(t){return!!t&&"mapValue"in t}function Vm(t){return(t?.mapValue?.fields||{})[$v]?.stringValue===Hv}function Lu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Io(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Lu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lu(t.arrayValue.values[n]);return e}return{...t}}function RA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===IA}const NA={mapValue:{fields:{[$v]:{stringValue:Hv},[Hl]:{arrayValue:{}}}}};function W4(t){return"nullValue"in t?Af:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?go(po.empty(),pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Vm(t)?NA:{mapValue:{}}:_e(35942,{value:t})}function eM(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?go(po.empty(),pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?NA:"mapValue"in t?Vm(t)?{mapValue:{}}:Ki:_e(61959,{value:t})}function VE(t,e){const n=ra(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function zE(t,e){const n=ra(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=h.popLast()}c?r[h.lastSegment()]=Lu(c):i.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Io(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Ln(Lu(this.value))}}function CA(t){const e=[];return Io(t.fields,((n,r)=>{const i=new wt([n]);if(Rf(r)){const o=CA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)})),new yr(e)}class Nt{constructor(e,n,r,i,o,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Nt(e,0,Ae.min(),Ae.min(),Ae.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Nt(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new Nt(e,2,n,Ae.min(),Ae.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,Ae.min(),Ae.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sa{constructor(e,n){this.position=e,this.inclusive=n}}function LE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],c=t.position[i];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(c.referenceValue),n.key):r=ra(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function UE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ys(t.position[n],e.position[n]))return!1;return!0}class Jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function tM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class DA{}class He extends DA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nM(e,n,r):n==="array-contains"?new iM(e,r):n==="in"?new VA(e,r):n==="not-in"?new aM(e,r):n==="array-contains-any"?new oM(e,r):new He(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rM(e,r):new sM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ra(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(ra(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class at extends DA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new at(e,n)}matches(e){return Kl(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kl(t){return t.op==="and"}function Xy(t){return t.op==="or"}function Gv(t){return kA(t)&&Kl(t)}function kA(t){for(const e of t.filters)if(e instanceof at)return!1;return!0}function Jy(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+Gl(t.value);if(Gv(t))return t.filters.map((e=>Jy(e))).join(",");{const e=t.filters.map((n=>Jy(n))).join(",");return`${t.op}(${e})`}}function jA(t,e){return t instanceof He?(function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&ys(r.value,i.value)})(t,e):t instanceof at?(function(r,i){return i instanceof at&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,c,h)=>o&&jA(c,i.filters[h])),!0):!1})(t,e):void _e(19439)}function OA(t,e){const n=t.filters.concat(e);return at.create(n,t.op)}function PA(t){return t instanceof He?(function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`})(t):t instanceof at?(function(n){return n.op.toString()+" {"+n.getFilters().map(PA).join(" ,")+"}"})(t):"Filter"}class nM extends He{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class rM extends He{constructor(e,n){super(e,"in",n),this.keys=MA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class sM extends He{constructor(e,n){super(e,"not-in",n),this.keys=MA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function MA(t,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class iM extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nh(n)&&th(n.arrayValue,this.value)}}class VA extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&th(this.value.arrayValue,n)}}class aM extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!th(this.value.arrayValue,n)}}class oM extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>th(this.value.arrayValue,r)))}}class lM{constructor(e,n=null,r=[],i=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Wy(t,e=null,n=[],r=[],i=null,o=null,c=null){return new lM(t,e,n,r,i,o,c)}function yo(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Jy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Dm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Gl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Gl(r))).join(",")),e.Te=n}return e.Te}function gh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UE(t.startAt,e.startAt)&&UE(t.endAt,e.endAt)}function Wf(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function em(t,e){return t.filters.filter((n=>n instanceof He&&n.field.isEqual(e)))}function FE(t,e,n){let r=Af,i=!0;for(const o of em(t,e)){let c=Af,h=!0;switch(o.op){case"<":case"<=":c=W4(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=Af}VE({value:r,inclusive:i},{value:c,inclusive:h})<0&&(r=c,i=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];VE({value:r,inclusive:i},{value:c,inclusive:n.inclusive})<0&&(r=c,i=n.inclusive);break}}return{value:r,inclusive:i}}function BE(t,e,n){let r=Ki,i=!0;for(const o of em(t,e)){let c=Ki,h=!0;switch(o.op){case">=":case">":c=eM(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=Ki}zE({value:r,inclusive:i},{value:c,inclusive:h})>0&&(r=c,i=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];zE({value:r,inclusive:i},{value:c,inclusive:n.inclusive})>0&&(r=c,i=n.inclusive);break}}return{value:r,inclusive:i}}class cc{constructor(e,n=null,r=[],i=[],o=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cM(t,e,n,r,i,o,c,h){return new cc(t,e,n,r,i,o,c,h)}function yh(t){return new cc(t)}function qE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kv(t){return t.collectionGroup!==null}function kl(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new lt(wt.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Jf(o,r))})),n.has(wt.keyField().canonicalString())||e.Ie.push(new Jf(wt.keyField(),r))}return e.Ie}function _r(t){const e=De(t);return e.Ee||(e.Ee=uM(e,kl(t))),e.Ee}function uM(t,e){if(t.limitType==="F")return Wy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Jf(i.field,o)}));const n=t.endAt?new sa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sa(t.startAt.position,t.startAt.inclusive):null;return Wy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ev(t,e){const n=t.filters.concat([e]);return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tm(t,e,n){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zm(t,e){return gh(_r(t),_r(e))&&t.limitType===e.limitType}function zA(t){return`${yo(_r(t))}|lt:${t.limitType}`}function Il(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>PA(i))).join(", ")}]`),Dm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Gl(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Gl(i))).join(",")),`Target(${r})`})(_r(t))}; limitType=${t.limitType})`}function vh(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of kl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,h,d){const p=LE(c,h,d);return c.inclusive?p<=0:p<0})(r.startAt,kl(r),i)||r.endAt&&!(function(c,h,d){const p=LE(c,h,d);return c.inclusive?p>=0:p>0})(r.endAt,kl(r),i))})(t,e)}function hM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LA(t){return(e,n)=>{let r=!1;for(const i of kl(t)){const o=dM(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function dM(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):(function(o,c,h){const d=c.data.field(o),p=h.data.field(o);return d!==null&&p!==null?ra(d,p):_e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}class ti{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return xA(this.inner)}size(){return this.innerSize}}const fM=new bt(pe.comparator);function Xn(){return fM}const UA=new bt(pe.comparator);function Nu(...t){let e=UA;for(const n of t)e=e.insert(n.key,n);return e}function FA(t){let e=UA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function hs(){return Uu()}function BA(){return Uu()}function Uu(){return new ti((t=>t.toString()),((t,e)=>t.isEqual(e)))}const mM=new bt(pe.comparator),pM=new lt(pe.comparator);function ze(...t){let e=pM;for(const n of t)e=e.add(n);return e}const gM=new lt(Ce);function yM(){return gM}function Qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function qA(t){return{integerValue:""+t}}function vM(t,e){return T4(e)?qA(e):Qv(t,e)}class Lm{constructor(){this._=void 0}}function _M(t,e,n){return t instanceof Ql?(function(i,o){const c={fields:{[TA]:{stringValue:EA},[AA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Pm(o)&&(o=Mm(o)),o&&(c.fields[SA]=o),{mapValue:c}})(n,e):t instanceof Zl?HA(t,e):t instanceof Yl?GA(t,e):(function(i,o){const c=$A(i,o),h=$E(c)+$E(i.Ae);return Yy(c)&&Yy(i.Ae)?qA(h):Qv(i.serializer,h)})(t,e)}function bM(t,e,n){return t instanceof Zl?HA(t,e):t instanceof Yl?GA(t,e):n}function $A(t,e){return t instanceof rh?(function(r){return Yy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Ql extends Lm{}class Zl extends Lm{constructor(e){super(),this.elements=e}}function HA(t,e){const n=KA(e);for(const r of t.elements)n.some((i=>ys(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Yl extends Lm{constructor(e){super(),this.elements=e}}function GA(t,e){let n=KA(e);for(const r of t.elements)n=n.filter((i=>!ys(i,r)));return{arrayValue:{values:n}}}class rh extends Lm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $E(t){return _t(t.integerValue||t.doubleValue)}function KA(t){return nh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class QA{constructor(e,n){this.field=e,this.transform=n}}function xM(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Zl&&i instanceof Zl||r instanceof Yl&&i instanceof Yl?Ul(r.elements,i.elements,ys):r instanceof rh&&i instanceof rh?ys(r.Ae,i.Ae):r instanceof Ql&&i instanceof Ql})(t.transform,e.transform)}class wM{constructor(e,n){this.version=e,this.transformResults=n}}class Cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Um{}function ZA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fm(t.key,Cn.none()):new uc(t.key,t.data,Cn.none());{const n=t.data,r=Ln.empty();let i=new lt(wt.comparator);for(let o of e.fields)if(!i.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),i=i.add(o)}return new la(t.key,r,new yr(i.toArray()),Cn.none())}}function EM(t,e,n){t instanceof uc?(function(i,o,c){const h=i.value.clone(),d=GE(i.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof la?(function(i,o,c){if(!Nf(i.precondition,o))return void o.convertToUnknownDocument(c.version);const h=GE(i.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(YA(i)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Fu(t,e,n,r){return t instanceof uc?(function(o,c,h,d){if(!Nf(o.precondition,c))return h;const p=o.value.clone(),v=KE(o.fieldTransforms,d,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof la?(function(o,c,h,d){if(!Nf(o.precondition,c))return h;const p=KE(o.fieldTransforms,d,c),v=c.data;return v.setAll(YA(o)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(o,c,h){return Nf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function TM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=$A(r.transform,i||null);o!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,o))}return n||null}function HE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ul(r,i,((o,c)=>xM(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uc extends Um{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class la extends Um{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function YA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function GE(t,e,n){const r=new Map;we(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],c=o.transform,h=e.data.field(o.field);r.set(o.field,bM(c,h,n[i]))}return r}function KE(t,e,n){const r=new Map;for(const i of t){const o=i.transform,c=n.data.field(i.field);r.set(i.field,_M(o,c,e))}return r}class Fm extends Um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XA extends Um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zv{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&EM(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BA();return this.mutations.forEach((i=>{const o=e.get(i.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=n.has(i.key)?null:h;const d=ZA(c,h);d!==null&&r.set(i.key,d),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,((n,r)=>HE(n,r)))&&Ul(this.baseMutations,e.baseMutations,((n,r)=>HE(n,r)))}}class Yv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return mM})();const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new Yv(e,n,r,i)}}class Xv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Gt,Qe;function AM(t){switch(t){case te.OK:return _e(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function JA(t){if(t===void 0)return Rn("GRPC error has no .code"),te.UNKNOWN;switch(t){case Gt.OK:return te.OK;case Gt.CANCELLED:return te.CANCELLED;case Gt.UNKNOWN:return te.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return te.INTERNAL;case Gt.UNAVAILABLE:return te.UNAVAILABLE;case Gt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Gt.NOT_FOUND:return te.NOT_FOUND;case Gt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Gt.ABORTED:return te.ABORTED;case Gt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Gt.DATA_LOSS:return te.DATA_LOSS;default:return _e(39323,{code:t})}}(Qe=Gt||(Gt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function IM(){return new TextEncoder}const RM=new Wi([4294967295,4294967295],0);function QE(t){const e=IM().encode(t),n=new YS;return n.update(e),new Uint8Array(n.digest())}function ZE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wi([n,r],0),new Wi([i,o],0)]}class Jv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cu(`Invalid padding: ${n}`);if(r<0)throw new Cu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Wi.fromNumber(r)));return i.compare(RM)===1&&(i=new Wi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=QE(e),[r,i]=ZE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,i,o);if(!this.we(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Jv(o,i,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=QE(e),[r,i]=ZE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,i,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_h.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bm(Ae.min(),i,new bt(Ce),Xn(),ze())}}class _h{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _h(r,n,ze(),ze(),ze())}}class Cf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class WA{constructor(e,n){this.targetId=e,this.Ce=n}}class eI{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YE{constructor(){this.ve=0,this.Fe=XE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),r=ze();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:o})}})),new _h(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=XE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xn(),this.Je=uf(),this.He=uf(),this.Ye=new bt(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Wf(o))if(r===0){const c=new pe(o.path);this.et(n,c,Nt.newNoDocument(c,Ae.min()))}else we(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let c,h;try{c=Ys(r).toUint8Array()}catch(d){if(d instanceof wA)return mo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Jv(c,i,o)}catch(d){return mo(d instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Wf(h.target)){const d=new pe(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,Nt.newNoDocument(d,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let r=ze();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const i=new Bm(e,n,this.Ye,this.je,r);return this.je=Xn(),this.Je=uf(),this.He=uf(),this.Ye=new bt(Ce),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new YE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new lt(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new lt(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uf(){return new bt(pe.comparator)}function XE(){return new bt(pe.comparator)}const CM={asc:"ASCENDING",desc:"DESCENDING"},DM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kM={and:"AND",or:"OR"};class jM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tv(t,e){return t.useProto3Json||Dm(e)?e:{value:e}}function Xl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OM(t,e){return Xl(t,e.toTimestamp())}function Dn(t){return we(!!t,49232),Ae.fromTimestamp((function(n){const r=Zs(n);return new it(r.seconds,r.nanos)})(t))}function Wv(t,e){return nv(t,e).canonicalString()}function nv(t,e){const n=(function(i){return new Je(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function nI(t){const e=Je.fromString(t);return we(hI(e),10190,{key:e.toString()}),e}function nm(t,e){return Wv(t.databaseId,e.path)}function ro(t,e){const n=nI(e);if(n.get(1)!==t.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(iI(n))}function rI(t,e){return Wv(t.databaseId,e)}function sI(t){const e=nI(t);return e.length===4?Je.emptyPath():iI(e)}function rv(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iI(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JE(t,e,n){return{name:nm(t,e),fields:n.value.mapValue.fields}}function PM(t,e,n){const r=ro(t,e.name),i=Dn(e.updateTime),o=e.createTime?Dn(e.createTime):Ae.min(),c=new Ln({mapValue:{fields:e.fields}}),h=Nt.newFoundDocument(r,i,o,c);return n&&h.setHasCommittedMutations(),n?h.setHasCommittedMutations():h}function MM(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(p,v){return p.useProto3Json?(we(v===void 0||typeof v=="string",58123),Qt.fromBase64String(v||"")):(we(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Qt.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const v=p.code===void 0?te.UNKNOWN:JA(p.code);return new de(v,p.message||"")})(c);n=new eI(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ro(t,r.document.name),o=Dn(r.document.updateTime),c=r.document.createTime?Dn(r.document.createTime):Ae.min(),h=new Ln({mapValue:{fields:r.document.fields}}),d=Nt.newFoundDocument(i,o,c,h),p=r.targetIds||[],v=r.removedTargetIds||[];n=new Cf(p,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ro(t,r.document),o=r.readTime?Dn(r.readTime):Ae.min(),c=Nt.newNoDocument(i,o),h=r.removedTargetIds||[];n=new Cf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ro(t,r.document),o=r.removedTargetIds||[];n=new Cf([],o,i,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,c=new SM(i,o),h=r.targetId;n=new WA(h,c)}}return n}function rm(t,e){let n;if(e instanceof uc)n={update:JE(t,e.key,e.value)};else if(e instanceof Fm)n={delete:nm(t,e.key)};else if(e instanceof la)n={update:JE(t,e.key,e.data),updateMask:BM(e.fieldMask)};else{if(!(e instanceof XA))return _e(16599,{Vt:e.type});n={verify:nm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof Ql)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Zl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof rh)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw _e(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:OM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e(27497)})(t,e.precondition)),n}function sv(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Cn.updateTime(Dn(o.updateTime)):o.exists!==void 0?Cn.exists(o.exists):Cn.none()})(e.currentDocument):Cn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(c,h){let d=null;if("setToServerValue"in h)we(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Ql;else if("appendMissingElements"in h){const v=h.appendMissingElements.values||[];d=new Zl(v)}else if("removeAllFromArray"in h){const v=h.removeAllFromArray.values||[];d=new Yl(v)}else"increment"in h?d=new rh(c,h.increment):_e(16584,{proto:h});const p=wt.fromServerFormat(h.fieldPath);return new QA(p,d)})(t,i))):[];if(e.update){e.update.name;const i=ro(t,e.update.name),o=new Ln({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(d){const p=d.fieldPaths||[];return new yr(p.map((v=>wt.fromServerFormat(v))))})(e.updateMask);return new la(i,o,c,n,r)}return new uc(i,o,n,r)}if(e.delete){const i=ro(t,e.delete);return new Fm(i,n)}if(e.verify){const i=ro(t,e.verify);return new XA(i,n)}return _e(1463,{proto:e})}function VM(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map((n=>(function(i,o){let c=i.updateTime?Dn(i.updateTime):Dn(o);return c.isEqual(Ae.min())&&(c=Dn(o)),new wM(c,i.transformResults||[])})(n,e)))):[]}function aI(t,e){return{documents:[rI(t,e.path)]}}function oI(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rI(t,i);const o=(function(p){if(p.length!==0)return uI(at.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((v=>(function(w){return{field:Rl(w.field),direction:LM(w.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=tv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:i}}function lI(t){let e=sI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){we(r===1,65062);const v=n.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let o=[];n.where&&(o=(function(_){const w=cI(_);return w instanceof at&&Gv(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((w=>(function(D){return new Jf(Nl(D.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let w;return w=typeof _=="object"?_.value:_,Dm(w)?null:w})(n.limit));let d=null;n.startAt&&(d=(function(_){const w=!!_.before,T=_.values||[];return new sa(T,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const w=!_.before,T=_.values||[];return new sa(T,w)})(n.endAt)),cM(e,i,c,o,h,"F",d,p)}function zM(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Nl(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Nl(n.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nl(n.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Nl(n.unaryFilter.field);return He.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return He.create(Nl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return at.create(n.compositeFilter.filters.map((r=>cI(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(t):_e(30097,{filter:t})}function LM(t){return CM[t]}function UM(t){return DM[t]}function FM(t){return kM[t]}function Rl(t){return{fieldPath:t.canonicalString()}}function Nl(t){return wt.fromServerFormat(t.fieldPath)}function uI(t){return t instanceof He?(function(n){if(n.op==="=="){if(ME(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NAN"}};if(PE(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ME(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NOT_NAN"}};if(PE(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(n.field),op:UM(n.op),value:n.value}}})(t):t instanceof at?(function(n){const r=n.getFilters().map((i=>uI(i)));return r.length===1?r[0]:{compositeFilter:{op:FM(n.op),filters:r}}})(t):_e(54877,{filter:t})}function BM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function hI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Fs{constructor(e,n,r,i,o=Ae.min(),c=Ae.min(),h=Qt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dI{constructor(e){this.yt=e}}function qM(t,e){let n;if(e.document)n=PM(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),i=_o(e.noDocument.readTime);n=Nt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e(56709);{const r=pe.fromSegments(e.unknownDocument.path),i=_o(e.unknownDocument.version);n=Nt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const o=new it(i[0],i[1]);return Ae.fromTimestamp(o)})(e.readTime)),n}function WE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:sm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,c){return{name:nm(o,c.key),fields:c.data.value.mapValue.fields,updateTime:Xl(o,c.version.toTimestamp()),createTime:Xl(o,c.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:vo(e.version)};else{if(!e.isUnknownDocument())return _e(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:vo(e.version)}}return r}function sm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function vo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _o(t){const e=new it(t.seconds,t.nanoseconds);return Ae.fromTimestamp(e)}function Qa(t,e){const n=(e.baseMutations||[]).map((o=>sv(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];c.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>sv(t.yt,o))),i=it.fromMillis(e.localWriteTimeMs);return new Zv(e.batchId,i,n,r)}function Du(t){const e=_o(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?_o(t.lastLimboFreeSnapshotVersion):Ae.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const c=o.documents.length;return we(c===1,1966,{count:c}),_r(yh(sI(o.documents[0])))})(t.query):(function(o){return _r(lI(o))})(t.query),new Fs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Qt.fromBase64String(t.resumeToken))}function fI(t,e){const n=vo(e.snapshotVersion),r=vo(e.lastLimboFreeSnapshotVersion);let i;i=Wf(e.target)?aI(t.yt,e.target):oI(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yo(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function mI(t){const e=lI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tm(e,e.limit,"L"):e}function _y(t,e){return new Xv(e.largestBatchId,sv(t.yt,e.overlayMutation))}function eT(t,e){const n=e.path.lastSegment();return[t,xn(e.path.popLast()),n]}function tT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:vo(r.readTime),documentKey:xn(r.documentKey.path),largestBatchId:r.largestBatchId}}class $M{getBundleMetadata(e,n){return nT(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:_o(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return nT(e).put((function(i){return{bundleId:i.id,createTime:vo(Dn(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return rT(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:mI(o.bundledQuery),readTime:_o(o.readTime)}})(r)}))}saveNamedQuery(e,n){return rT(e).put((function(i){return{name:i.name,readTime:vo(Dn(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function nT(t){return en(t,km)}function rT(t){return en(t,jm)}class qm{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new qm(e,r)}getOverlay(e,n){return Eu(e).get(eT(this.userId,n)).next((r=>r?_y(this.serializer,r):null))}getOverlays(e,n){const r=hs();return q.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((o,c)=>{const h=new Xv(n,c);i.push(this.St(e,h))})),q.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((c=>i.add(xn(c.getCollectionPath()))));const o=[];return i.forEach((c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(Eu(e).Z(Ky,h))})),q.waitFor(o)}getOverlaysForCollection(e,n,r){const i=hs(),o=xn(n),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Eu(e).J(Ky,c).next((h=>{for(const d of h){const p=_y(this.serializer,d);i.set(p.getKey(),p)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const o=hs();let c;const h=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Eu(e).ee({index:gA,range:h},((d,p,v)=>{const _=_y(this.serializer,p);o.size()<i||_.largestBatchId===c?(o.set(_.getKey(),_),c=_.largestBatchId):v.done()})).next((()=>o))}St(e,n){return Eu(e).put((function(i,o,c){const[h,d,p]=eT(o,c.mutation.key);return{userId:o,collectionPath:d,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:rm(i.yt,c.mutation)}})(this.serializer,this.userId,n))}}function Eu(t){return en(t,Om)}class HM{bt(e){return en(e,Bv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?Qt.fromUint8Array(r):Qt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Za{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(_t(e.integerValue));else if("doubleValue"in e){const r=_t(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Yu(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Zs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ys(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?RA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Vm(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):_e(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=Hl,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(_t(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),pe.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Za.Kt=new Za;const wl=255;function GM(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function sT(t){const e=64-(function(r){let i=0;for(let o=0;o<8;++o){const c=GM(255&r[o]);if(i+=c,c!==8)break}return i})(t);return Math.ceil(e/8)}class KM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=sT(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=sT(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(wl),this.sn(255)}_n(){this.an(wl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===wl?(this.sn(wl),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===wl?(this.an(wl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class QM{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class ZM{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Tu{constructor(){this.cn=new KM,this.ln=new QM(this.cn),this.hn=new ZM(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ya{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Ya(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Df(this.En),directionalValue:Df(this.dn),orderedDocumentKey:Df(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function zi(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=iT(t.En,e.En),n!==0?n:(n=iT(t.dn,e.dn),n!==0?n:pe.comparator(t.In,e.In)))}function iT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Df(t){return BS()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function aT(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class oT{constructor(e){this.mn=new lt(((n,r)=>wt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(we(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=$y(e);if(n!==void 0&&!this.wn(n))return!1;const r=$a(e);let i=new Set,o=0,c=0;for(;o<r.length&&this.wn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const d=r[o];if(!this.Sn(h,d)||!this.bn(this.fn[c++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(c>=this.fn.length||!this.bn(this.fn[c++],h))return!1}return!0}Dn(){if(this.pn)return null;let e=new lt(wt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ef(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ef(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ef(r.field,r.dir==="asc"?0:1)));return new Kf(Kf.UNKNOWN_ID,this.collectionId,n,Zu.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function pI(t){if(we(t instanceof He||t instanceof at,20012),t instanceof He){if(t instanceof VA){const n=t.value.arrayValue?.values?.map((r=>He.create(t.field,"==",r)))||[];return at.create(n,"or")}return t}const e=t.filters.map((n=>pI(n)));return at.create(e,t.op)}function YM(t){if(t.getFilters().length===0)return[];const e=ov(pI(t));return we(gI(e),7391),iv(e)||av(e)?[e]:e.getFilters()}function iv(t){return t instanceof He}function av(t){return t instanceof at&&Gv(t)}function gI(t){return iv(t)||av(t)||(function(n){if(n instanceof at&&Xy(n)){for(const r of n.getFilters())if(!iv(r)&&!av(r))return!1;return!0}return!1})(t)}function ov(t){if(we(t instanceof He||t instanceof at,34018),t instanceof He)return t;if(t.filters.length===1)return ov(t.filters[0]);const e=t.filters.map((r=>ov(r)));let n=at.create(e,t.op);return n=im(n),gI(n)?n:(we(n instanceof at,64498),we(Kl(n),40251),we(n.filters.length>1,57927),n.filters.reduce(((r,i)=>e_(r,i))))}function e_(t,e){let n;return we(t instanceof He||t instanceof at,38388),we(e instanceof He||e instanceof at,25473),n=t instanceof He?e instanceof He?(function(i,o){return at.create([i,o],"and")})(t,e):lT(t,e):e instanceof He?lT(e,t):(function(i,o){if(we(i.filters.length>0&&o.filters.length>0,48005),Kl(i)&&Kl(o))return OA(i,o.getFilters());const c=Xy(i)?i:o,h=Xy(i)?o:i,d=c.filters.map((p=>e_(p,h)));return at.create(d,"or")})(t,e),im(n)}function lT(t,e){if(Kl(e))return OA(e,t.getFilters());{const n=e.filters.map((r=>e_(t,r)));return at.create(n,"or")}}function im(t){if(we(t instanceof He||t instanceof at,11850),t instanceof He)return t;const e=t.getFilters();if(e.length===1)return im(e[0]);if(kA(t))return t;const n=e.map((i=>im(i))),r=[];return n.forEach((i=>{i instanceof He?r.push(i):i instanceof at&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:at.create(r,t.op)}class XM{constructor(){this.Cn=new t_}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Wn.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Wn.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class t_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Je.comparator)).toArray()}}const cT="IndexedDbIndexManager",hf=new Uint8Array(0);class JM{constructor(e,n){this.databaseId=n,this.vn=new t_,this.Fn=new ti((r=>yo(r)),((r,i)=>gh(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:xn(i)};return uT(e).put(o)}return q.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[sA(n),""],!1,!0);return uT(e).J(i).next((o=>{for(const c of o){if(c.collectionId!==n)break;r.push(us(c.parent))}return r}))}addFieldIndex(e,n){const r=Su(e),i=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete i.indexId;const o=r.add(i);if(n.indexState){const c=Tl(e);return o.next((h=>{c.put(tT(h,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=Su(e),i=Tl(e),o=El(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Su(e),r=El(e),i=Tl(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const o=new oT(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=El(e);let i=!0;const o=new Map;return q.forEach(this.Mn(n),(c=>this.xn(e,c).next((h=>{i&&(i=!!h),o.set(c,h)})))).next((()=>{if(i){let c=ze();const h=[];return q.forEach(o,((d,p)=>{ue(cT,`Using index ${(function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map((J=>`${J.fieldPath}:${J.kind}`)).join(",")}`})(d)} to execute ${yo(n)}`);const v=(function(U,J){const se=$y(J);if(se===void 0)return null;for(const fe of em(U,se.fieldPath))switch(fe.op){case"array-contains-any":return fe.value.arrayValue.values||[];case"array-contains":return[fe.value]}return null})(p,d),_=(function(U,J){const se=new Map;for(const fe of $a(J))for(const R of em(U,fe.fieldPath))switch(R.op){case"==":case"in":se.set(fe.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return se.set(fe.fieldPath.canonicalString(),R.value),Array.from(se.values())}return null})(p,d),w=(function(U,J){const se=[];let fe=!0;for(const R of $a(J)){const A=R.kind===0?FE(U,R.fieldPath,U.startAt):BE(U,R.fieldPath,U.startAt);se.push(A.value),fe&&(fe=A.inclusive)}return new sa(se,fe)})(p,d),T=(function(U,J){const se=[];let fe=!0;for(const R of $a(J)){const A=R.kind===0?BE(U,R.fieldPath,U.endAt):FE(U,R.fieldPath,U.endAt);se.push(A.value),fe&&(fe=A.inclusive)}return new sa(se,fe)})(p,d),D=this.On(d,p,w),k=this.On(d,p,T),V=this.Nn(d,p,_),X=this.Bn(d.indexId,v,D,w.inclusive,k,T.inclusive,V);return q.forEach(X,($=>r.Y($,n.limit).next((U=>{U.forEach((J=>{const se=pe.fromSegments(J.documentKey);c.has(se)||(c=c.add(se),h.push(se))}))}))))})).next((()=>h))}return q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=YM(at.create(e.filters,"and")).map((r=>Wy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,o,c,h){const d=(n!=null?n.length:1)*Math.max(r.length,o.length),p=d/(n!=null?n.length:1),v=[];for(let _=0;_<d;++_){const w=n?this.Ln(n[_/p]):hf,T=this.kn(e,w,r[_%p],i),D=this.qn(e,w,o[_%p],c),k=h.map((V=>this.kn(e,w,V,!0)));v.push(...this.createRange(T,D,k))}return v}kn(e,n,r,i){const o=new Ya(e,pe.empty(),n,r);return i?o:o.An()}qn(e,n,r,i){const o=new Ya(e,pe.empty(),n,r);return i?o.An():o}xn(e,n){const r=new oT(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((o=>{let c=null;for(const h of o)r.yn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return q.forEach(i,(o=>this.xn(e,o).next((c=>{c?r!==0&&c.fields.length<(function(d){let p=new lt(wt.comparator),v=!1;for(const _ of d.filters)for(const w of _.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?v=!0:p=p.add(w.field));for(const _ of d.orderBy)_.field.isKeyField()||(p=p.add(_.field));return p.size+(v?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new Tu;for(const i of $a(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const c=r.Pn(i.kind);Za.Kt.Dt(o,c)}return r.un()}Ln(e){const n=new Tu;return Za.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Tu;return Za.Kt.Dt(go(this.databaseId,n),r.Pn((function(o){const c=$a(o);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Tu);let o=0;for(const c of $a(e)){const h=r[o++];for(const d of i)if(this.Un(n,c.fieldPath)&&nh(h))i=this.Kn(i,c,h);else{const p=d.Pn(c.kind);Za.Kt.Dt(h,p)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],o=[];for(const c of r.arrayValue.values||[])for(const h of i){const d=new Tu;d.seed(h.un()),Za.Kt.Dt(c,d.Pn(n.kind)),o.push(d)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof He&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Su(e),i=Tl(e);return(n?r.J(Gy,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const c=[];return q.forEach(o,(h=>i.get([h.indexId,this.uid]).next((d=>{c.push((function(v,_){const w=_?new Zu(_.sequenceNumber,new Wn(_o(_.readTime),new pe(us(_.documentKey)),_.largestBatchId)):Zu.empty(),T=v.fields.map((([D,k])=>new Ef(wt.fromServerFormat(D),k)));return new Kf(v.indexId,v.collectionGroup,T,w)})(h,d))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Ce(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Su(e),o=Tl(e);return this.Gn(e).next((c=>i.J(Gy,IDBKeyRange.bound(n,n)).next((h=>q.forEach(h,(d=>o.put(tT(d.indexId,this.uid,c,r))))))))}updateIndexEntries(e,n){const r=new Map;return q.forEach(n,((i,o)=>{const c=r.get(i.collectionGroup);return(c?q.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next((h=>(r.set(i.collectionGroup,h),q.forEach(h,(d=>this.zn(e,i,d).next((p=>{const v=this.jn(o,d);return p.isEqual(v)?q.resolve():this.Jn(e,o,d,p,v)})))))))}))}Hn(e,n,r,i){return El(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return El(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=El(e);let o=new lt(zi);return i.ee({index:pA,range:IDBKeyRange.only([r.indexId,this.uid,Df(this.$n(r,n))])},((c,h)=>{o=o.add(new Ya(r.indexId,n,aT(h.arrayValue),aT(h.directionalValue)))})).next((()=>o))}jn(e,n){let r=new lt(zi);const i=this.Qn(n,e);if(i==null)return r;const o=$y(n);if(o!=null){const c=e.data.field(o.fieldPath);if(nh(c))for(const h of c.arrayValue.values||[])r=r.add(new Ya(n.indexId,e.key,this.Ln(h),i))}else r=r.add(new Ya(n.indexId,e.key,hf,i));return r}Jn(e,n,r,i,o){ue(cT,"Updating index entries for document '%s'",n.key);const c=[];return(function(d,p,v,_,w){const T=d.getIterator(),D=p.getIterator();let k=xl(T),V=xl(D);for(;k||V;){let X=!1,$=!1;if(k&&V){const U=v(k,V);U<0?$=!0:U>0&&(X=!0)}else k!=null?$=!0:X=!0;X?(_(V),V=xl(D)):$?(w(k),k=xl(T)):(k=xl(T),V=xl(D))}})(i,o,zi,(h=>{c.push(this.Hn(e,n,r,h))}),(h=>{c.push(this.Yn(e,n,r,h))})),q.waitFor(c)}Gn(e){let n=1;return Tl(e).ee({index:mA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,o)=>{o.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((c,h)=>zi(c,h))).filter(((c,h,d)=>!h||zi(c,d[h-1])!==0));const i=[];i.push(e);for(const c of r){const h=zi(c,e),d=zi(c,n);if(h===0)i[0]=e.An();else if(h>0&&d<0)i.push(c),i.push(c.An());else if(d>0)break}i.push(n);const o=[];for(let c=0;c<i.length;c+=2){if(this.Zn(i[c],i[c+1]))return[];const h=i[c].Vn(this.uid,hf,pe.empty()),d=i[c+1].Vn(this.uid,hf,pe.empty());o.push(IDBKeyRange.bound(h,d))}return o}Zn(e,n){return zi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(hT)}getMinOffset(e,n){return q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||_e(44426))))).next(hT)}}function uT(t){return en(t,Wu)}function El(t){return en(t,zu)}function Su(t){return en(t,Fv)}function Tl(t){return en(t,Vu)}function hT(t){we(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;zv(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Wn(e.readTime,e.documentKey,n)}const dT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yI=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function vI(t,e,n){const r=t.store(Mr),i=t.store(Fl),o=[],c=IDBKeyRange.only(n.batchId);let h=0;const d=r.ee({range:c},((v,_,w)=>(h++,w.delete())));o.push(d.next((()=>{we(h===1,47070,{batchId:n.batchId})})));const p=[];for(const v of n.mutations){const _=hA(e,v.key.path,n.batchId);o.push(i.delete(_)),p.push(v.key)}return q.waitFor(o).next((()=>p))}function am(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _e(14731);e=t.noDocument}return JSON.stringify(e).length}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(yI,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class $m{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){we(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new $m(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Li(e).ee({index:Ja,range:r},((i,o,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const o=Cl(e),c=Li(e);return c.add({}).next((h=>{we(typeof h=="number",49019);const d=new Zv(h,n,r,i),p=(function(T,D,k){const V=k.baseMutations.map(($=>rm(T.yt,$))),X=k.mutations.map(($=>rm(T.yt,$)));return{userId:D,batchId:k.batchId,localWriteTimeMs:k.localWriteTime.toMillis(),baseMutations:V,mutations:X}})(this.serializer,this.userId,d),v=[];let _=new lt(((w,T)=>Ce(w.canonicalString(),T.canonicalString())));for(const w of i){const T=hA(this.userId,w.key.path,h);_=_.add(w.key.path.popLast()),v.push(c.put(p)),v.push(o.put(T,I4))}return _.forEach((w=>{v.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Xn[h]=d.keys()})),q.waitFor(v).next((()=>d))}))}lookupMutationBatch(e,n){return Li(e).get(n).next((r=>r?(we(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Qa(this.serializer,r)):null))}er(e,n){return this.Xn[n]?q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Li(e).ee({index:Ja,range:i},((c,h,d)=>{h.userId===this.userId&&(we(h.batchId>=r,47524,{tr:r}),o=Qa(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=to;return Li(e).ee({index:Ja,range:n,reverse:!0},((i,o,c)=>{r=o.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,to],[this.userId,Number.POSITIVE_INFINITY]);return Li(e).J(Ja,n).next((r=>r.map((i=>Qa(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Tf(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Cl(e).ee({range:i},((c,h,d)=>{const[p,v,_]=c,w=us(v);if(p===this.userId&&n.path.isEqual(w))return Li(e).get(_).next((T=>{if(!T)throw _e(61480,{nr:c,batchId:_});we(T.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:T.userId,batchId:_}),o.push(Qa(this.serializer,T))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(Ce);const i=[];return n.forEach((o=>{const c=Tf(this.userId,o.path),h=IDBKeyRange.lowerBound(c),d=Cl(e).ee({range:h},((p,v,_)=>{const[w,T,D]=p,k=us(T);w===this.userId&&o.path.isEqual(k)?r=r.add(D):_.done()}));i.push(d)})),q.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=Tf(this.userId,r),c=IDBKeyRange.lowerBound(o);let h=new lt(Ce);return Cl(e).ee({range:c},((d,p,v)=>{const[_,w,T]=d,D=us(w);_===this.userId&&r.isPrefixOf(D)?D.length===i&&(h=h.add(T)):v.done()})).next((()=>this.rr(e,h)))}rr(e,n){const r=[],i=[];return n.forEach((o=>{i.push(Li(e).get(o).next((c=>{if(c===null)throw _e(35274,{batchId:o});we(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),r.push(Qa(this.serializer,c))})))})),q.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return vI(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),q.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return q.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),i=[];return Cl(e).ee({range:r},((o,c,h)=>{if(o[0]===this.userId){const d=us(o[1]);i.push(d)}else h.done()})).next((()=>{we(i.length===0,56720,{sr:i.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return _I(e,this.userId,n)}_r(e){return bI(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:to,lastStreamToken:""}))}}function _I(t,e,n){const r=Tf(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return Cl(t).ee({range:o,X:!0},((h,d,p)=>{const[v,_,w]=h;v===e&&_===i&&(c=!0),p.done()})).next((()=>c))}function Li(t){return en(t,Mr)}function Cl(t){return en(t,Fl)}function bI(t){return en(t,Xu)}class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}class WM{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new bo(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ae.fromTimestamp(new it(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Sl(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(we(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const o=[];return Sl(e).ee(((c,h)=>{const d=Du(h);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))})).next((()=>q.waitFor(o))).next((()=>i))}forEachTarget(e,n){return Sl(e).ee(((r,i)=>{const o=Du(i);n(o)}))}lr(e){return fT(e).get(Yf).next((n=>(we(n!==null,2888),n)))}hr(e,n){return fT(e).put(Yf,n)}Pr(e,n){return Sl(e).put(fI(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=yo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Sl(e).ee({range:i,index:fA},((c,h,d)=>{const p=Du(h);gh(n,p.target)&&(o=p,d.done())})).next((()=>o))}addMatchingKeys(e,n,r){const i=[],o=qi(e);return n.forEach((c=>{const h=xn(c.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,c))})),q.waitFor(i)}removeMatchingKeys(e,n,r){const i=qi(e);return q.forEach(n,(o=>{const c=xn(o.path);return q.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=qi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=qi(e);let o=ze();return i.ee({range:r,X:!0},((c,h,d)=>{const p=us(c[1]),v=new pe(p);o=o.add(v)})).next((()=>o))}containsKey(e,n){const r=xn(n.path),i=IDBKeyRange.bound([r],[sA(r)],!1,!0);let o=0;return qi(e).ee({index:Uv,X:!0,range:i},(([c,h],d,p)=>{c!==0&&(o++,p.done())})).next((()=>o>0))}At(e,n){return Sl(e).get(n).next((r=>r?Du(r):null))}}function Sl(t){return en(t,Bl)}function fT(t){return en(t,no)}function qi(t){return en(t,ql)}const mT="LruGarbageCollector",eV=1048576;function pT([t,e],[n,r]){const i=Ce(t,n);return i===0?Ce(e,r):i}class tV{constructor(e){this.Ir=e,this.buffer=new lt(pT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(mT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oa(n)?ue(mT,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.Vr(3e5)}))}}class nV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return q.resolve(gr.ce);const r=new tV(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(dT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,c,h,d,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,c=Date.now(),this.nthSequenceNumber(e,i)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,n)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),Al()<=$e.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${i} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-v}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_}))))}}function wI(t,e){return new nV(t,e)}class rV{constructor(e,n){this.db=e,this.garbageCollector=wI(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return df(e,r)}removeReference(e,n,r){return df(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return df(e,n)}br(e,n){return(function(i,o){let c=!1;return bI(i).te((h=>_I(i,h,o).next((d=>(d&&(c=!0),q.resolve(!d)))))).next((()=>c))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Sr(e,((c,h)=>{if(h<=n){const d=this.br(e,c).next((p=>{if(!p)return o++,r.getEntry(e,c).next((()=>(r.removeEntry(c,Ae.min()),qi(e).delete((function(_){return[0,xn(_.path)]})(c)))))}));i.push(d)}})).next((()=>q.waitFor(i))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return df(e,n)}Sr(e,n){const r=qi(e);let i,o=gr.ce;return r.ee({index:Uv},(([c,h],{path:d,sequenceNumber:p})=>{c===0?(o!==gr.ce&&n(new pe(us(i)),o),o=p,i=d):o=gr.ce})).next((()=>{o!==gr.ce&&n(new pe(us(i)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function df(t,e){return qi(t).put((function(r,i){return{targetId:0,path:xn(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class EI{constructor(){this.changes=new ti((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sV{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ba(e).put(r)}removeEntry(e,n,r){return Ba(e).delete((function(o,c){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],sm(c),h[h.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Nt.newInvalidDocument(n);return Ba(e).ee({index:Sf,range:IDBKeyRange.only(Au(n))},((i,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Nt.newInvalidDocument(n)};return Ba(e).ee({index:Sf,range:IDBKeyRange.only(Au(n))},((i,o)=>{r={document:this.Cr(n,o),size:am(o)}})).next((()=>r))}getEntries(e,n){let r=Xn();return this.Fr(e,n,((i,o)=>{const c=this.Cr(i,o);r=r.insert(i,c)})).next((()=>r))}Mr(e,n){let r=Xn(),i=new bt(pe.comparator);return this.Fr(e,n,((o,c)=>{const h=this.Cr(o,c);r=r.insert(o,h),i=i.insert(o,am(c))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return q.resolve();let i=new lt(vT);n.forEach((d=>i=i.add(d)));const o=IDBKeyRange.bound(Au(i.first()),Au(i.last())),c=i.getIterator();let h=c.getNext();return Ba(e).ee({index:Sf,range:o},((d,p,v)=>{const _=pe.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&vT(h,_)<0;)r(h,null),h=c.getNext();h&&h.isEqual(_)&&(r(h,p),h=c.hasNext()?c.getNext():null),h?v.j(Au(h)):v.done()})).next((()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,o){const c=n.path,h=[c.popLast().toArray(),c.lastSegment(),sm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ba(e).J(IDBKeyRange.bound(h,d,!0)).next((p=>{o?.incrementDocumentReadCount(p.length);let v=Xn();for(const _ of p){const w=this.Cr(pe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);w.isFoundDocument()&&(vh(n,w)||i.has(w.key))&&(v=v.insert(w.key,w))}return v}))}getAllFromCollectionGroup(e,n,r,i){let o=Xn();const c=yT(n,r),h=yT(n,Wn.max());return Ba(e).ee({index:dA,range:IDBKeyRange.bound(c,h,!0)},((d,p,v)=>{const _=this.Cr(pe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);o=o.insert(_.key,_),o.size===i&&v.done()})).next((()=>o))}newChangeBuffer(e){return new iV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return gT(e).get(Hy).next((n=>(we(!!n,20021),n)))}Dr(e,n){return gT(e).put(Hy,n)}Cr(e,n){if(n){const r=qM(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ae.min())))return r}return Nt.newInvalidDocument(e)}}function TI(t){return new sV(t)}class iV extends EI{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new ti((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new lt(((o,c)=>Ce(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const h=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,h.readTime)),c.isValidDocument()){const d=WE(this.Nr.serializer,c);i=i.add(o.path.popLast());const p=am(d);r+=p-h.size,n.push(this.Nr.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=WE(this.Nr.serializer,c.convertToNoDocument(Ae.min()));n.push(this.Nr.addEntry(e,o,d))}})),i.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((o,c)=>{this.Br.set(o,{size:c,readTime:r.get(o).readTime})})),r)))}}function gT(t){return en(t,Ju)}function Ba(t){return en(t,Zf)}function Au(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yT(t,e){const n=e.documentKey.path.toArray();return[t,sm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vT(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Ce(n[o],r[o]),i)return i;return i=Ce(n.length,r.length),i||(i=Ce(n[n.length-2],r[r.length-2]),i||Ce(n[n.length-1],r[r.length-1]))}class aV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class SI{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Fu(r.mutation,i,yr.empty(),it.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ze()){const i=hs();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let c=Nu();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=hs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ze())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,i){let o=Xn();const c=Uu(),h=(function(){return Uu()})();return n.forEach(((d,p)=>{const v=r.get(p.key);i.has(p.key)&&(v===void 0||v.mutation instanceof la)?o=o.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Fu(v.mutation,p,v.mutation.getFieldMask(),it.now())):c.set(p.key,yr.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>h.set(p,new aV(v,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Uu();let i=new bt(((c,h)=>c-h)),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let v=r.get(d)||yr.empty();v=h.applyToLocalView(p,v),r.set(d,v);const _=(i.get(h.batchId)||ze()).add(d);i=i.insert(h.batchId,_)}))})).next((()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,v=d.value,_=BA();v.forEach((w=>{if(!o.has(w)){const T=ZA(n.get(w),r.get(w));T!==null&&_.set(w,T),o=o.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return q.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(c){return pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):q.resolve(hs());let h=Qu,d=o;return c.next((p=>q.forEach(p,((v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(v)?q.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{d=d.insert(v,w)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,ze()))).next((v=>({batchId:h,changes:FA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let i=Nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let c=Nu();return this.indexManager.getCollectionParents(e,o).next((h=>q.forEach(h,(d=>{const p=(function(_,w){return new cc(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((v=>{v.forEach(((_,w)=>{c=c.insert(_,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((c=>{o.forEach(((d,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,Nt.newInvalidDocument(v)))}));let h=Nu();return c.forEach(((d,p)=>{const v=o.get(d);v!==void 0&&Fu(v.mutation,p,yr.empty(),it.now()),vh(n,p)&&(h=h.insert(d,p))})),h}))}}class oV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Dn(i.createTime)}})(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:mI(i.bundledQuery),readTime:Dn(i.readTime)}})(n)),q.resolve()}}class lV{constructor(){this.overlays=new bt(pe.comparator),this.qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hs();return q.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=hs(),o=n.length+1,c=new pe(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new bt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let v=o.get(p.largestBatchId);v===null&&(v=hs(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=hs(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,v)=>h.set(p,v))),!(h.size()>=i)););return q.resolve(h)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Xv(n,r));let o=this.qr.get(n);o===void 0&&(o=ze(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class cV{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}class n_{constructor(){this.Qr=new lt(sn.$r),this.Ur=new lt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new sn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new sn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new Je([])),r=new sn(n,e),i=new sn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new Je([])),r=new sn(n,e),i=new sn(n,e+1);let o=ze();return this.Ur.forEachInRange([r,i],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new sn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class uV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new lt(sn.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Zv(o,n,r,i);this.mutationQueue.push(c);for(const h of i)this.Zr=this.Zr.add(new sn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return q.resolve(c)}lookupMutationBatch(e,n){return q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?to:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sn(n,0),i=new sn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(c=>{const h=this.Xr(c.Yr);o.push(h)})),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(Ce);return n.forEach((i=>{const o=new sn(i,0),c=new sn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{r=r.add(h.Yr)}))})),q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const c=new sn(new pe(o),0);let h=new lt(Ce);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(d.Yr)),!0)}),c),q.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){we(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return q.forEach(n.mutations,(i=>{const o=new sn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new sn(n,0),i=this.Zr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class hV{constructor(e){this.ri=e,this.docs=(function(){return new bt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Nt.newInvalidDocument(i))})),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Xn();const c=n.path,h=new pe(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||zv(oA(v),r)<=0||(i.has(v.key)||vh(n,v))&&(o=o.insert(v.key,v.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){_e(9500)}ii(e,n){return q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new dV(this)}getSize(e){return q.resolve(this.size)}}class dV extends EI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class fV{constructor(e){this.persistence=e,this.si=new ti((n=>yo(n)),gh),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new n_,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Pr(n),q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),q.waitFor(o).next((()=>i))}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((c=>{o.push(i.markPotentiallyOrphaned(e,c))})),q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this._i.containsKey(n))}}class r_{constructor(e,n){this.ui={},this.overlays={},this.ci=new gr(0),this.li=!1,this.li=!0,this.hi=new cV,this.referenceDelegate=e(this),this.Pi=new fV(this),this.indexManager=new XM,this.remoteDocumentCache=(function(i){return new hV(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new dI(n),this.Ii=new oV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new uV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new mV(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class mV extends cA{constructor(e){super(),this.currentSequenceNumber=e}}class Hm{constructor(e){this.persistence=e,this.Ri=new n_,this.Vi=null}static mi(e){return new Hm(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,(r=>{const i=pe.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return q.or([()=>q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class om{constructor(e,n){this.persistence=e,this.pi=new ti((r=>xn(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=wI(this,n)}static mi(e,n){return new om(e,n)}Ei(){}di(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return q.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?q.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(c=>this.br(e,c,n).next((h=>{h||(r++,o.removeEntry(c,Ae.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=If(e.data.value)),n}br(e,n,r){return q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class pV{constructor(e){this.serializer=e}k(e,n,r,i){const o=new Cm("createOrUpgrade",n);r<1&&i>=1&&((function(d){d.createObjectStore(ph)})(e),(function(d){d.createObjectStore(Xu,{keyPath:A4}),d.createObjectStore(Mr,{keyPath:NE,autoIncrement:!0}).createIndex(Ja,CE,{unique:!0}),d.createObjectStore(Fl)})(e),_T(e),(function(d){d.createObjectStore(Ha)})(e));let c=q.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(ql),d.deleteObjectStore(Bl),d.deleteObjectStore(no)})(e),_T(e)),c=c.next((()=>(function(d){const p=d.store(no),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ae.min().toTimestamp(),targetCount:0};return p.put(Yf,v)})(o)))),r<4&&i>=4&&(r!==0&&(c=c.next((()=>(function(d,p){return p.store(Mr).J().next((_=>{d.deleteObjectStore(Mr),d.createObjectStore(Mr,{keyPath:NE,autoIncrement:!0}).createIndex(Ja,CE,{unique:!0});const w=p.store(Mr),T=_.map((D=>w.put(D)));return q.waitFor(T)}))})(e,o)))),c=c.next((()=>{(function(d){d.createObjectStore($l,{keyPath:P4})})(e)}))),r<5&&i>=5&&(c=c.next((()=>this.yi(o)))),r<6&&i>=6&&(c=c.next((()=>((function(d){d.createObjectStore(Ju)})(e),this.wi(o))))),r<7&&i>=7&&(c=c.next((()=>this.Si(o)))),r<8&&i>=8&&(c=c.next((()=>this.bi(e,o)))),r<9&&i>=9&&(c=c.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(c=c.next((()=>this.Di(o)))),r<11&&i>=11&&(c=c.next((()=>{(function(d){d.createObjectStore(km,{keyPath:M4})})(e),(function(d){d.createObjectStore(jm,{keyPath:V4})})(e)}))),r<12&&i>=12&&(c=c.next((()=>{(function(d){const p=d.createObjectStore(Om,{keyPath:$4});p.createIndex(Ky,H4,{unique:!1}),p.createIndex(gA,G4,{unique:!1})})(e)}))),r<13&&i>=13&&(c=c.next((()=>(function(d){const p=d.createObjectStore(Zf,{keyPath:R4});p.createIndex(Sf,N4),p.createIndex(dA,C4)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(Ha)))),r<14&&i>=14&&(c=c.next((()=>this.Fi(e,o)))),r<15&&i>=15&&(c=c.next((()=>(function(d){d.createObjectStore(Fv,{keyPath:z4,autoIncrement:!0}).createIndex(Gy,L4,{unique:!1}),d.createObjectStore(Vu,{keyPath:U4}).createIndex(mA,F4,{unique:!1}),d.createObjectStore(zu,{keyPath:B4}).createIndex(pA,q4,{unique:!1})})(e)))),r<16&&i>=16&&(c=c.next((()=>{n.objectStore(Vu).clear()})).next((()=>{n.objectStore(zu).clear()}))),r<17&&i>=17&&(c=c.next((()=>{(function(d){d.createObjectStore(Bv,{keyPath:K4})})(e)}))),r<18&&i>=18&&BS()&&(c=c.next((()=>{n.objectStore(Vu).clear()})).next((()=>{n.objectStore(zu).clear()}))),c}wi(e){let n=0;return e.store(Ha).ee(((r,i)=>{n+=am(i)})).next((()=>{const r={byteSize:n};return e.store(Ju).put(Hy,r)}))}yi(e){const n=e.store(Xu),r=e.store(Mr);return n.J().next((i=>q.forEach(i,(o=>{const c=IDBKeyRange.bound([o.userId,to],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Ja,c).next((h=>q.forEach(h,(d=>{we(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const p=Qa(this.serializer,d);return vI(e,o.userId,p).next((()=>{}))}))))}))))}Si(e){const n=e.store(ql),r=e.store(Ha);return e.store(no).get(Yf).next((i=>{const o=[];return r.ee(((c,h)=>{const d=new Je(c),p=(function(_){return[0,xn(_)]})(d);o.push(n.get(p).next((v=>v?q.resolve():(_=>n.put({targetId:0,path:xn(_),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>q.waitFor(o)))}))}bi(e,n){e.createObjectStore(Wu,{keyPath:O4});const r=n.store(Wu),i=new t_,o=c=>{if(i.add(c)){const h=c.lastSegment(),d=c.popLast();return r.put({collectionId:h,parent:xn(d)})}};return n.store(Ha).ee({X:!0},((c,h)=>{const d=new Je(c);return o(d.popLast())})).next((()=>n.store(Fl).ee({X:!0},(([c,h,d],p)=>{const v=us(h);return o(v.popLast())}))))}Di(e){const n=e.store(Bl);return n.ee(((r,i)=>{const o=Du(i),c=fI(this.serializer,o);return n.put(c)}))}Ci(e,n){const r=n.store(Ha),i=[];return r.ee(((o,c)=>{const h=n.store(Zf),d=(function(_){return _.document?new pe(Je.fromString(_.document.name).popFirst(5)):_.noDocument?pe.fromSegments(_.noDocument.path):_.unknownDocument?pe.fromSegments(_.unknownDocument.path):_e(36783)})(c).path.toArray(),p={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(h.put(p))})).next((()=>q.waitFor(i)))}Fi(e,n){const r=n.store(Mr),i=TI(this.serializer),o=new r_(Hm.mi,this.serializer.yt);return r.J().next((c=>{const h=new Map;return c.forEach((d=>{let p=h.get(d.userId)??ze();Qa(this.serializer,d).keys().forEach((v=>p=p.add(v))),h.set(d.userId,p)})),q.forEach(h,((d,p)=>{const v=new mn(p),_=qm.wt(this.serializer,v),w=o.getIndexManager(v),T=$m.wt(v,this.serializer,w,o.referenceDelegate);return new SI(i,T,_,w).recalculateAndSaveOverlaysForDocumentKeys(new Qy(n,gr.ce),d).next()}))}))}}function _T(t){t.createObjectStore(ql,{keyPath:k4}).createIndex(Uv,j4,{unique:!0}),t.createObjectStore(Bl,{keyPath:"targetId"}).createIndex(fA,D4,{unique:!0}),t.createObjectStore(no)}const Ui="IndexedDbPersistence",by=18e5,xy=5e3,wy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gV="main";class s_{constructor(e,n,r,i,o,c,h,d,p,v,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=c,this.document=h,this.xi=p,this.Oi=v,this.Ni=_,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!s_.v())throw new de(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rV(this,i),this.$i=n+gV,this.serializer=new dI(d),this.Ui=new ea(this.$i,this.Ni,new pV(this.serializer)),this.hi=new HM,this.Pi=new WM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=TI(this.serializer),this.Ii=new $M,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,v===!1&&Rn(Ui,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(te.FAILED_PRECONDITION,wy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new gr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>ff(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(oa(e))return ue(Ui,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(Ui,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Iu(e).get(bl).next((n=>q.resolve(this.es(n))))}ts(e){return ff(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,by)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=en(n,$l);return r.J().next((i=>{const o=this.ss(i,by),c=i.filter((h=>o.indexOf(h)===-1));return q.forEach(c,(h=>r.delete(h.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?q.resolve(!0):Iu(e).get(bl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,xy)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new de(te.FAILED_PRECONDITION,wy);return!1}}return!(!this.networkEnabled||!this.inForeground)||ff(e).J().next((r=>this.ss(r,xy).find((i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,c=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||c&&h)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ue(Ui,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[ph,$l],(e=>{const n=new Qy(e,gr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>ff(e).J().next((n=>this.ss(n,by).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return $m.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new JM(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return qm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue(Ui,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?Y4:d===17?bA:d===16?Z4:d===15?qv:d===14?_A:d===13?vA:d===12?Q4:d===11?yA:void _e(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,i,o,(h=>(c=new Qy(h,this.ci?this.ci.next():gr.ce),n==="readwrite-primary"?this.Hi(c).next((d=>!!d||this.Yi(c))).next((d=>{if(!d)throw Rn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new de(te.FAILED_PRECONDITION,lA);return r(c)})).next((d=>this.Xi(c).next((()=>d)))):this.Is(c).next((()=>r(c)))))).then((h=>(c.raiseOnCommittedEvent(),h)))}Is(e){return Iu(e).get(bl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,xy)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new de(te.FAILED_PRECONDITION,wy)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Iu(e).put(bl,n)}static v(){return ea.v()}Zi(e){const n=Iu(e);return n.get(bl).next((r=>this.es(r)?(ue(Ui,"Releasing primary lease."),n.delete(bl)):q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Rn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;FS()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return ue(Ui,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Rn(Ui,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Rn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Iu(t){return en(t,ph)}function ff(t){return en(t,$l)}function yV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class i_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ze(),i=ze();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new i_(e,n.fromCache,r,i)}}class vV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FS()?8:uA(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new vV;return this.Ss(e,n,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Al()<=$e.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Al()<=$e.DEBUG&&ue("QueryEngine","Query:",Il(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Al()<=$e.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):q.resolve())}ys(e,n){if(qE(n))return q.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=tm(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=ze(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,c,d.readTime)?this.ys(e,tm(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,r,i){return qE(n)||i.isEqual(Ae.min())?q.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,r,i)?q.resolve(null):(Al()<=$e.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Il(n)),this.vs(e,c,n,_4(i,Qu)).next((h=>h)))}))}Ds(e,n){let r=new lt(LA(e));return n.forEach(((i,o)=>{vh(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Al()<=$e.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Il(n)),this.ps.getDocumentsMatchingQuery(e,n,Wn.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const a_="LocalStore",_V=3e8;class bV{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new bt(Ce),this.xs=new ti((o=>yo(o)),gh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function II(t,e,n,r){return new bV(t,e,n,r)}async function RI(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let d=ze();for(const p of i){c.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}for(const p of o){h.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function xV(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,v){const _=p.batch,w=_.keys();let T=q.resolve();return w.forEach((D=>{T=T.next((()=>v.getEntry(d,D))).next((k=>{const V=p.docVersions.get(D);we(V!==null,48541),k.version.compareTo(V)<0&&(_.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),v.addEntry(k)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=ze();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function NI(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function wV(t,e){const n=De(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const h=[];e.targetChanges.forEach(((v,_)=>{const w=i.get(_);if(!w)return;h.push(n.Pi.removeMatchingKeys(o,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(o,v.addedDocuments,_))));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(v.resumeToken,r)),i=i.insert(_,T),(function(k,V,X){return k.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=_V?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(w,T,v)&&h.push(n.Pi.updateTargetData(o,T))}));let d=Xn(),p=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(EV(o,c,e.documentUpdates).next((v=>{d=v.ks,p=v.qs}))),!r.isEqual(Ae.min())){const v=n.Pi.getLastRemoteSnapshotVersion(o).next((_=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return q.waitFor(h).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(n.Ms=i,o)))}function EV(t,e,n){let r=ze(),i=ze();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=Xn();return n.forEach(((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),d.isNoDocument()&&d.version.isEqual(Ae.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):ue(a_,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:c,qs:i}}))}function TV(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=to),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function SV(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,q.resolve(i)):n.Pi.allocateTargetId(r).next((c=>(i=new Fs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function lv(t,e,n){const r=De(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!oa(c))throw c;ue(a_,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function bT(t,e,n){const r=De(t);let i=Ae.min(),o=ze();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,p,v){const _=De(d),w=_.xs.get(v);return w!==void 0?q.resolve(_.Ms.get(w)):_.Pi.getTargetData(p,v)})(r,c,_r(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?i:Ae.min(),n?o:ze()))).next((h=>(AV(r,hM(e),h),{documents:h,Qs:o})))))}function AV(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class xT{constructor(){this.activeTargetIds=yM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CI{constructor(){this.Mo=new xT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IV{Oo(e){}shutdown(){}}const wT="ConnectivityMonitor";class ET{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(wT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(wT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mf=null;function cv(){return mf===null?mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():mf++,"0x"+mf.toString(16)}const Ey="RestConnection",RV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Xf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const c=cv(),h=this.zo(e,n.toUriEncodedString());ue(Ey,`Sending RPC '${e}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,o);const{host:p}=new URL(h),v=ac(p);return this.Jo(e,h,d,r,v).then((_=>(ue(Ey,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw mo(Ey,`RPC '${e}' ${c} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,n,r,i,o,c){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=RV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class CV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class DV extends NV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const c=cv();return new Promise(((h,d)=>{const p=new XS;p.setWithCredentials(!0),p.listenOnce(JS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case wf.NO_ERROR:const _=p.getResponseJson();ue(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),h(_);break;case wf.TIMEOUT:ue(vn,`RPC '${e}' ${c} timed out`),d(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:const w=p.getStatus();if(ue(vn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const D=T?.error;if(D&&D.status&&D.message){const k=(function(X){const $=X.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf($)>=0?$:te.UNKNOWN})(D.status);d(new de(k,D.message))}else d(new de(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new de(te.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(vn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(i);ue(vn,`RPC '${e}' ${c} sending request:`,i),p.send(n,"POST",v,r,15)}))}T_(e,n,r){const i=cv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=tA(),h=eA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const v=o.join("");ue(vn,`Creating RPC '${e}' stream ${i}: ${v}`,d);const _=c.createWebChannel(v,d);this.I_(_);let w=!1,T=!1;const D=new CV({Yo:V=>{T?ue(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(w||(ue(vn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),ue(vn,`RPC '${e}' stream ${i} sending:`,V),_.send(V))},Zo:()=>_.close()}),k=(V,X,$)=>{V.listen(X,(U=>{try{$(U)}catch(J){setTimeout((()=>{throw J}),0)}}))};return k(_,Ru.EventType.OPEN,(()=>{T||(ue(vn,`RPC '${e}' stream ${i} transport opened.`),D.o_())})),k(_,Ru.EventType.CLOSE,(()=>{T||(T=!0,ue(vn,`RPC '${e}' stream ${i} transport closed`),D.a_(),this.E_(_))})),k(_,Ru.EventType.ERROR,(V=>{T||(T=!0,mo(vn,`RPC '${e}' stream ${i} transport errored. Name:`,V.name,"Message:",V.message),D.a_(new de(te.UNAVAILABLE,"The operation could not be completed")))})),k(_,Ru.EventType.MESSAGE,(V=>{if(!T){const X=V.data[0];we(!!X,16349);const $=X,U=$?.error||$[0]?.error;if(U){ue(vn,`RPC '${e}' stream ${i} received error:`,U);const J=U.status;let se=(function(A){const C=Gt[A];if(C!==void 0)return JA(C)})(J),fe=U.message;se===void 0&&(se=te.INTERNAL,fe="Unknown error status: "+J+" with message "+U.message),T=!0,D.a_(new de(se,fe)),_.close()}else ue(vn,`RPC '${e}' stream ${i} received:`,X),D.u_(X)}})),k(h,WS.STAT_EVENT,(V=>{V.stat===By.PROXY?ue(vn,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===By.NOPROXY&&ue(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function kV(){return typeof window<"u"?window:null}function kf(){return typeof document<"u"?document:null}function Gm(t){return new jM(t,!0)}class DI{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const TT="PersistentStream";class kI{constructor(e,n,r,i,o,c,h,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Rn(n.toString()),Rn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new de(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(TT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(TT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jV extends kI{constructor(e,n,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MM(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ae.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Dn(c.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=rv(this.serializer),n.addTarget=(function(o,c){let h;const d=c.target;if(h=Wf(d)?{documents:aI(o,d)}:{query:oI(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=tI(o,c.resumeToken);const p=tv(o,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ae.min())>0){h.readTime=Xl(o,c.snapshotVersion.toTimestamp());const p=tv(o,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=zM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=rv(this.serializer),n.removeTarget=e,this.q_(n)}}class OV extends kI{constructor(e,n,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=VM(e.writeResults,e.commitTime),r=Dn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=rv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>rm(this.serializer,r)))};this.q_(n)}}class PV{}class MV extends PV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,nv(n,r),i,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(te.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,nv(n,r),i,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rn(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const xo="RemoteStore";class zV{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ro(this)&&(ue(xo,"Restarting streams for network reachability change."),await(async function(d){const p=De(d);p.Ea.add(4),await bh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Km(p)})(this))}))})),this.Ra=new VV(r,i)}}async function Km(t){if(Ro(t))for(const e of t.da)await e(!0)}async function bh(t){for(const e of t.da)await e(!1)}function jI(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),u_(n)?c_(n):hc(n).O_()&&l_(n,e))}function o_(t,e){const n=De(t),r=hc(n);n.Ia.delete(e),r.O_()&&OI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ro(n)&&n.Ra.set("Unknown"))}function l_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hc(t).Y_(e)}function OI(t,e){t.Va.Ue(e),hc(t).Z_(e)}function c_(t){t.Va=new NM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hc(t).start(),t.Ra.ua()}function u_(t){return Ro(t)&&!hc(t).x_()&&t.Ia.size>0}function Ro(t){return De(t).Ea.size===0}function PI(t){t.Va=void 0}async function LV(t){t.Ra.set("Online")}async function UV(t){t.Ia.forEach(((e,n)=>{l_(t,e)}))}async function FV(t,e){PI(t),u_(t)?(t.Ra.ha(e),c_(t)):t.Ra.set("Unknown")}async function BV(t,e,n){if(t.Ra.set("Online"),e instanceof eI&&e.state===2&&e.cause)try{await(async function(i,o){const c=o.cause;for(const h of o.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,c),i.Ia.delete(h),i.Va.removeTarget(h))})(t,e)}catch(r){ue(xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lm(t,r)}else if(e instanceof Cf?t.Va.Ze(e):e instanceof WA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await NI(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=o.Ia.get(p);v&&o.Ia.set(p,v.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,p)=>{const v=o.Ia.get(d);if(!v)return;o.Ia.set(d,v.withResumeToken(Qt.EMPTY_BYTE_STRING,v.snapshotVersion)),OI(o,d);const _=new Fs(v.target,d,p,v.sequenceNumber);l_(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ue(xo,"Failed to raise snapshot:",r),await lm(t,r)}}async function lm(t,e,n){if(!oa(e))throw e;t.Ea.add(1),await bh(t),t.Ra.set("Offline"),n||(n=()=>NI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ue(xo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Km(t)}))}function MI(t,e){return e().catch((n=>lm(t,n,e)))}async function xh(t){const e=De(t),n=ia(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:to;for(;qV(e);)try{const i=await TV(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,$V(e,i)}catch(i){await lm(e,i)}VI(e)&&zI(e)}function qV(t){return Ro(t)&&t.Ta.length<10}function $V(t,e){t.Ta.push(e);const n=ia(t);n.O_()&&n.X_&&n.ea(e.mutations)}function VI(t){return Ro(t)&&!ia(t).x_()&&t.Ta.length>0}function zI(t){ia(t).start()}async function HV(t){ia(t).ra()}async function GV(t){const e=ia(t);for(const n of t.Ta)e.ea(n.mutations)}async function KV(t,e,n){const r=t.Ta.shift(),i=Yv.from(r,e,n);await MI(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await xh(t)}async function QV(t,e){e&&ia(t).X_&&await(async function(r,i){if((function(c){return AM(c)&&c!==te.ABORTED})(i.code)){const o=r.Ta.shift();ia(r).B_(),await MI(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await xh(r)}})(t,e),VI(t)&&zI(t)}async function ST(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),ue(xo,"RemoteStore received new credentials");const r=Ro(n);n.Ea.add(3),await bh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Km(n)}async function ZV(t,e){const n=De(t);e?(n.Ea.delete(2),await Km(n)):e||(n.Ea.add(2),await bh(n),n.Ra.set("Unknown"))}function hc(t){return t.ma||(t.ma=(function(n,r,i){const o=De(n);return o.sa(),new jV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:LV.bind(null,t),t_:UV.bind(null,t),r_:FV.bind(null,t),H_:BV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),u_(t)?c_(t):t.Ra.set("Unknown")):(await t.ma.stop(),PI(t))}))),t.ma}function ia(t){return t.fa||(t.fa=(function(n,r,i){const o=De(n);return o.sa(),new OV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:HV.bind(null,t),r_:QV.bind(null,t),ta:GV.bind(null,t),na:KV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await xh(t)):(await t.fa.stop(),t.Ta.length>0&&(ue(xo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class h_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const c=Date.now()+r,h=new h_(e,n,c,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(t,e){if(Rn("AsyncQueue",`${e}: ${t}`),oa(t))return new de(te.UNAVAILABLE,`${e}: ${t}`);throw t}class jl{static emptySet(e){return new jl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class AT{constructor(){this.ga=new bt(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Jl{constructor(e,n,r,i,o,c,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,o){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Jl(e,n,jl.emptySet(n),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class YV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class XV{constructor(){this.queries=IT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=De(n),o=i.queries;i.queries=IT(),o.forEach(((c,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new de(te.ABORTED,"Firestore shutting down"))}}function IT(){return new ti((t=>zA(t)),zm)}async function f_(t,e){const n=De(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new YV,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const h=d_(c,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&p_(n)}async function m_(t,e){const n=De(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JV(t,e){const n=De(t);let r=!1;for(const i of e){const o=i.query,c=n.queries.get(o);if(c){for(const h of c.Sa)h.Fa(i)&&(r=!0);c.wa=i}}r&&p_(n)}function WV(t,e,n){const r=De(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function p_(t){t.Ca.forEach((e=>{e.next()}))}var uv,RT;(RT=uv||(uv={})).Ma="default",RT.Cache="cache";class g_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Jl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==uv.Cache}}class LI{constructor(e){this.key=e}}class UI{constructor(e){this.key=e}}class e3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=LA(e),this.tu=new jl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new AT,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=i,h=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((v,_)=>{const w=i.get(v),T=vh(this.query,_)?_:null,D=!!w&&this.mutatedKeys.has(w.key),k=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let V=!1;w&&T?w.data.isEqual(T.data)?D!==k&&(r.track({type:3,doc:T}),V=!0):this.su(w,T)||(r.track({type:2,doc:T}),V=!0,(d&&this.eu(T,d)>0||p&&this.eu(T,p)<0)&&(h=!0)):!w&&T?(r.track({type:0,doc:T}),V=!0):w&&!T&&(r.track({type:1,doc:w}),V=!0,(d||p)&&(h=!0)),V&&(T?(c=c.add(T),o=k?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(T,D){const k=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:V})}};return k(T)-k(D)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),i=i??!1;const h=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,p=d!==this.Za;return this.Za=d,c.length!==0||p?{snapshot:new Jl(this.query,e.tu,o,c,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new UI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new LI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Jl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const y_="SyncEngine";class t3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class n3{constructor(e){this.key=e,this.hu=!1}}class r3{constructor(e,n,r,i,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ti((h=>zA(h)),zm),this.Iu=new Map,this.Eu=new Set,this.du=new bt(pe.comparator),this.Au=new Map,this.Ru=new n_,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function s3(t,e,n=!0){const r=GI(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await FI(r,e,n,!0),i}async function i3(t,e){const n=GI(t);await FI(n,e,!0,!1)}async function FI(t,e,n,r){const i=await SV(t.localStore,_r(e)),o=i.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await a3(t,e,o,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&jI(t.remoteStore,i),h}async function a3(t,e,n,r,i){t.pu=(_,w,T)=>(async function(k,V,X,$){let U=V.view.ru(X);U.Cs&&(U=await bT(k.localStore,V.query,!1).then((({documents:R})=>V.view.ru(R,U))));const J=$&&$.targetChanges.get(V.targetId),se=$&&$.targetMismatches.get(V.targetId)!=null,fe=V.view.applyChanges(U,k.isPrimaryClient,J,se);return CT(k,V.targetId,fe.au),fe.snapshot})(t,_,w,T);const o=await bT(t.localStore,e,!0),c=new e3(e,o.Qs),h=c.ru(o.documents),d=_h.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=c.applyChanges(h,t.isPrimaryClient,d);CT(t,n,p.au);const v=new t3(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function o3(t,e,n){const r=De(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((c=>!zm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lv(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&o_(r.remoteStore,i.targetId),hv(r,i.targetId)})).catch(Ao)):(hv(r,i.targetId),await lv(r.localStore,i.targetId,!0))}async function l3(t,e){const n=De(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),o_(n.remoteStore,r.targetId))}async function c3(t,e,n){const r=KI(t);try{const i=await(function(c,h){const d=De(c),p=it.now(),v=h.reduce(((T,D)=>T.add(D.key)),ze());let _,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let D=Xn(),k=ze();return d.Ns.getEntries(T,v).next((V=>{D=V,D.forEach(((X,$)=>{$.isValidDocument()||(k=k.add(X))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,D))).next((V=>{_=V;const X=[];for(const $ of h){const U=TM($,_.get($.key).overlayedDocument);U!=null&&X.push(new la($.key,U,CA(U.value.mapValue),Cn.exists(!0)))}return d.mutationQueue.addMutationBatch(T,p,X,h)})).next((V=>{w=V;const X=V.applyToLocalDocumentSet(_,k);return d.documentOverlayCache.saveOverlays(T,V.batchId,X)}))})).then((()=>({batchId:w.batchId,changes:FA(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,h,d){let p=c.Vu[c.currentUser.toKey()];p||(p=new bt(Ce)),p=p.insert(h,d),c.Vu[c.currentUser.toKey()]=p})(r,i.batchId,n),await wh(r,i.changes),await xh(r.remoteStore)}catch(i){const o=d_(i,"Failed to persist write");n.reject(o)}}async function BI(t,e){const n=De(t);try{const r=await wV(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const c=n.Au.get(o);c&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?we(c.hu,14607):i.removedDocuments.size>0&&(we(c.hu,42227),c.hu=!1))})),await wh(n,r,e)}catch(r){await Ao(r)}}function NT(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(c,h){const d=De(c);d.onlineState=h;let p=!1;d.queries.forEach(((v,_)=>{for(const w of _.Sa)w.va(h)&&(p=!0)})),p&&p_(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function u3(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let c=new bt(pe.comparator);c=c.insert(o,Nt.newNoDocument(o,Ae.min()));const h=ze().add(o),d=new Bm(Ae.min(),new Map,new bt(Ce),c,h);await BI(r,d),r.du=r.du.remove(o),r.Au.delete(e),v_(r)}else await lv(r.localStore,e,!1).then((()=>hv(r,e,n))).catch(Ao)}async function h3(t,e){const n=De(t),r=e.batch.batchId;try{const i=await xV(n.localStore,e);$I(n,r,null),qI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wh(n,i)}catch(i){await Ao(i)}}async function d3(t,e,n){const r=De(t);try{const i=await(function(c,h){const d=De(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return d.mutationQueue.lookupMutationBatch(p,h).next((_=>(we(_!==null,37113),v=_.keys(),d.mutationQueue.removeMutationBatch(p,_)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>d.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);$I(r,e,n),qI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wh(r,i)}catch(i){await Ao(i)}}function qI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function $I(t,e,n){const r=De(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function hv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||HI(t,r)}))}function HI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(o_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),v_(t))}function CT(t,e,n){for(const r of n)r instanceof LI?(t.Ru.addReference(r.key,e),f3(t,r)):r instanceof UI?(ue(y_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||HI(t,r.key)):_e(19791,{wu:r})}function f3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ue(y_,"New document in limbo: "+n),t.Eu.add(r),v_(t))}function v_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(Je.fromString(e)),r=t.fu.next();t.Au.set(r,new n3(n)),t.du=t.du.insert(n,r),jI(t.remoteStore,new Fs(_r(yh(n.path)),r,"TargetPurposeLimboResolution",gr.ce))}}async function wh(t,e,n){const r=De(t),i=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{c.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){i.push(p);const v=i_.As(d.targetId,p);o.push(v)}})))})),await Promise.all(c),r.Pu.H_(i),await(async function(d,p){const v=De(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>q.forEach(p,(w=>q.forEach(w.Es,(T=>v.persistence.referenceDelegate.addReference(_,w.targetId,T))).next((()=>q.forEach(w.ds,(T=>v.persistence.referenceDelegate.removeReference(_,w.targetId,T)))))))))}catch(_){if(!oa(_))throw _;ue(a_,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const T=v.Ms.get(w),D=T.snapshotVersion,k=T.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(w,k)}}})(r.localStore,o))}async function m3(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){ue(y_,"User change. New user:",e.toKey());const r=await RI(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new de(te.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wh(n,r.Ls)}}function p3(t,e){const n=De(t),r=n.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let i=ze();const o=n.Iu.get(e);if(!o)return i;for(const c of o){const h=n.Tu.get(c);i=i.unionWith(h.view.nu)}return i}}function GI(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u3.bind(null,e),e.Pu.H_=JV.bind(null,e.eventManager),e.Pu.yu=WV.bind(null,e.eventManager),e}function KI(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d3.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return II(this.persistence,new AI,e.initialUser,this.serializer)}Cu(e){return new r_(Hm.mi,this.serializer)}Du(e){return new CI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class g3 extends sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){we(this.persistence.referenceDelegate instanceof om,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new r_((r=>om.mi(r,n)),this.serializer)}}class y3 extends sh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await KI(this.xu.syncEngine),await xh(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return II(this.persistence,new AI,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new xI(r,e.asyncQueue,n)}Mu(e,n){const r=new E4(n,this.persistence);return new w4(e.asyncQueue,r)}Cu(e){const n=yV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new s_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,kV(),kf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new CI}}class cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=m3.bind(null,this.syncEngine),await ZV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XV})()}createDatastore(e){const n=Gm(e.databaseInfo.databaseId),r=(function(o){return new DV(o)})(e.databaseInfo);return(function(o,c,h,d){return new MV(o,c,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,c,h){return new zV(r,i,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>NT(this.syncEngine,n,0)),(function(){return ET.v()?new ET:new IV})())}createSyncEngine(e,n){return(function(i,o,c,h,d,p,v){const _=new r3(i,o,c,h,d,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=De(n);ue(xo,"RemoteStore shutting down."),r.Ea.add(5),await bh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cm.provider={build:()=>new cm};class __{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const aa="FirestoreClient";class v3{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=Vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ue(aa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ue(aa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ty(t,e){t.asyncQueue.verifyOperationInProgress(),ue(aa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await RI(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function DT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _3(t);ue(aa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>ST(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>ST(e.remoteStore,i))),t._onlineComponents=e}async function _3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(aa,"Using user provided OfflineComponentProvider");try{await Ty(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Ty(t,new sh)}}else ue(aa,"Using default OfflineComponentProvider"),await Ty(t,new g3(void 0));return t._offlineComponents}async function QI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(aa,"Using user provided OnlineComponentProvider"),await DT(t,t._uninitializedComponentsProvider._online)):(ue(aa,"Using default OnlineComponentProvider"),await DT(t,new cm))),t._onlineComponents}function b3(t){return QI(t).then((e=>e.syncEngine))}async function um(t){const e=await QI(t),n=e.eventManager;return n.onListen=s3.bind(null,e.syncEngine),n.onUnlisten=o3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l3.bind(null,e.syncEngine),n}function x3(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,p){const v=new __({next:w=>{v.Nu(),c.enqueueAndForget((()=>m_(o,_)));const T=w.docs.has(h);!T&&w.fromCache?p.reject(new de(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&d&&d.source==="server"?p.reject(new de(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new g_(yh(h.path),v,{includeMetadataChanges:!0,qa:!0});return f_(o,_)})(await um(t),t.asyncQueue,e,n,r))),r.promise}function w3(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,p){const v=new __({next:w=>{v.Nu(),c.enqueueAndForget((()=>m_(o,_))),w.fromCache&&d.source==="server"?p.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new g_(h,v,{includeMetadataChanges:!0,qa:!0});return f_(o,_)})(await um(t),t.asyncQueue,e,n,r))),r.promise}function ZI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const kT=new Map;const YI="firestore.googleapis.com",jT=!0;class OT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YI,this.ssl=jT}else this.host=e.host,this.ssl=e.ssl??jT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eV)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new o4;switch(r.type){case"firstParty":return new h4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=kT.get(n);r&&(ue("ComponentProvider","Removing Datastore"),kT.delete(n),r.terminate())})(this),Promise.resolve()}}function E3(t,e,n,r={}){t=Jn(t,Qm);const i=ac(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;i&&(zS(`https://${h}`),LS("Firestore",!0)),o.host!==YI&&o.host!==h&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:i,emulatorOptions:r};if(!uo(d,c)&&(t._setSettings(d),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=mn.MOCK_USER;else{p=VO(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(_)}t._authCredentials=new l4(new rA(p,v))}}class ni{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ni(this.firestore,e,this._query)}}class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(mh(n,Mt._jsonSchema))return new Mt(e,r||null,new pe(Je.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Kt("string",Mt._jsonSchemaVersion),referencePath:Kt("string")};class ta extends ni{constructor(e,n,r){super(e,n,yh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new pe(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function b_(t,e,...n){if(t=wn(t),iA("collection","path",e),t instanceof Qm){const r=Je.fromString(e,...n);return TE(r),new ta(t,null,r)}{if(!(t instanceof Mt||t instanceof ta))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return TE(r),new ta(t.firestore,null,r)}}function dc(t,e,...n){if(t=wn(t),arguments.length===1&&(e=Vv.newId()),iA("doc","path",e),t instanceof Qm){const r=Je.fromString(e,...n);return EE(r),new Mt(t,null,new pe(r))}{if(!(t instanceof Mt||t instanceof ta))throw new de(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return EE(r),new Mt(t.firestore,t instanceof ta?t.converter:null,new pe(r))}}const PT="AsyncQueue";class MT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DI(this,"async_queue_retry"),this._c=()=>{const r=kf();r&&ue(PT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=kf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=kf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!oa(e))throw e;ue(PT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Rn("INTERNAL UNHANDLED ERROR: ",VT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=h_.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&_e(47125,{Pc:VT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function zT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Xs extends Qm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MT(e),this._firestoreClient=void 0,await e}}}function T3(t,e){const n=typeof t=="object"?t:KS(),r=typeof t=="string"?t:Xf,i=Pv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=PO("firestore");o&&E3(i,...o)}return i}function Zm(t){if(t._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XI(t),t._firestoreClient}function XI(t){const e=t._freezeSettings(),n=(function(i,o,c,h){return new J4(i,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ZI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new v3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}function S3(t,e){mo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return A3(t,cm.provider,{build:r=>new y3(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function A3(t,e,n){if((t=Jn(t,Xs))._firestoreClient||t._terminated)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new de(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},XI(t)}class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(Qt.fromBase64String(e))}catch(n){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mh(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Kt("string",pr._jsonSchemaVersion),bytes:Kt("string")};class x_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class w_{constructor(e){this._methodName=e}}class ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ms._jsonSchemaVersion}}static fromJSON(e){if(mh(e,ms._jsonSchema))return new ms(e.latitude,e.longitude)}}ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:Kt("string",ms._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};class ps{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mh(e,ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ps(e.vectorValues);throw new de(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:Kt("string",ps._jsonSchemaVersion),vectorValues:Kt("object")};const I3=/^__.*__$/;class R3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,n,this.fieldTransforms):new uc(e,this.data,n,this.fieldTransforms)}}function JI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class E_{constructor(e,n,r,i,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new E_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JI(this.Ac)&&I3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class N3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gm(e)}Cc(e,n,r,i=!1){return new E_({Ac:e,methodName:n,Dc:r,path:wt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ym(t){const e=t._freezeSettings(),n=Gm(t._databaseId);return new N3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WI(t,e,n,r,i,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);r2("Data must be an object, but it was:",c,r);const h=t2(r,c);let d,p;if(o.merge)d=new yr(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const _ of o.mergeFields){const w=C3(e,_,n);if(!c.contains(w))throw new de(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);k3(v,w)||v.push(w)}d=new yr(v),p=c.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,p=c.fieldTransforms;return new R3(new Ln(h),d,p)}class T_ extends w_{_toFieldTransform(e){return new QA(e.path,new Ql)}isEqual(e){return e instanceof T_}}function e2(t,e,n,r=!1){return S_(n,t.Cc(r?4:3,e))}function S_(t,e){if(n2(t=wn(t)))return r2("Unsupported field value:",e,t),t2(t,e);if(t instanceof w_)return(function(r,i){if(!JI(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let c=0;for(const h of r){let d=S_(h,i.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:Xl(i.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xl(i.serializer,o)}}if(r instanceof ms)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pr)return{bytesValue:tI(i.serializer,r._byteString)};if(r instanceof Mt){const o=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw i.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ps)return(function(c,h){return{mapValue:{fields:{[$v]:{stringValue:Hv},[Hl]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Qv(h.serializer,p)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Nm(r)}`)})(t,e)}function t2(t,e){const n={};return xA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(t,((r,i)=>{const o=S_(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function n2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof ms||t instanceof pr||t instanceof Mt||t instanceof w_||t instanceof ps)}function r2(t,e,n){if(!n2(n)||!aA(n)){const r=Nm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function C3(t,e,n){if((e=wn(e))instanceof x_)return e._internalPath;if(typeof e=="string")return s2(t,e);throw hm("Field path arguments must be of type string or ",t,!1,void 0,n)}const D3=new RegExp("[~\\*/\\[\\]]");function s2(t,e,n){if(e.search(D3)>=0)throw hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new x_(...e.split("."))._internalPath}catch{throw hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hm(t,e,n,r,i){const o=r&&!r.isEmpty(),c=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${r}`),c&&(d+=` in document ${i}`),d+=")"),new de(te.INVALID_ARGUMENT,h+t+d)}function k3(t,e){return t.some((n=>n.isEqual(e)))}class A_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(i2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j3 extends A_{data(){return super.data()}}function i2(t,e){return typeof e=="string"?s2(t,e):e instanceof x_?e._internalPath:e._delegate._internalPath}function a2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I_{}class R_ extends I_{}function O3(t,e,...n){let r=[];e instanceof I_&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((d=>d instanceof C_)).length,h=o.filter((d=>d instanceof N_)).length;if(c>1||c>0&&h>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class N_ extends R_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new N_(e,n,r)}_apply(e){const n=this._parse(e);return o2(e._query,n),new ni(e.firestore,e.converter,ev(e._query,n))}_parse(e){const n=Ym(e.firestore);return(function(o,c,h,d,p,v,_){let w;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){UT(_,v);const D=[];for(const k of _)D.push(LT(d,o,k));w={arrayValue:{values:D}}}else w=LT(d,o,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||UT(_,v),w=e2(h,c,_,v==="in"||v==="not-in");return He.create(p,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class C_ extends I_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:at.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let c=i;const h=o.getFlattenedFilters();for(const d of h)o2(c,d),c=ev(c,d)})(e._query,n),new ni(e.firestore,e.converter,ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D_ extends R_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new D_(e,n,r)}_apply(e){return new ni(e.firestore,e.converter,tm(e._query,this._limit,this._limitType))}}function P3(t){return v4("limit",t),D_._create("limit",t,"F")}class k_ extends R_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new k_(e,n,r)}_apply(e){const n=V3(e,this.type,this._docOrFields,this._inclusive);return new ni(e.firestore,e.converter,(function(i,o){return new cc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)})(e._query,n))}}function M3(...t){return k_._create("startAfter",t,!1)}function V3(t,e,n,r){if(n[0]=wn(n[0]),n[0]instanceof A_)return(function(o,c,h,d,p){if(!d)throw new de(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const _ of kl(o))if(_.field.isKeyField())v.push(go(c,d.key));else{const w=d.data.field(_.field);if(Pm(w))throw new de(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const T=_.field.canonicalString();throw new de(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}v.push(w)}return new sa(v,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ym(t.firestore);return(function(c,h,d,p,v,_){const w=c.explicitOrderBy;if(v.length>w.length)throw new de(te.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let D=0;D<v.length;D++){const k=v[D];if(w[D].field.isKeyField()){if(typeof k!="string")throw new de(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof k}`);if(!Kv(c)&&k.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${k}' contains a slash.`);const V=c.path.child(Je.fromString(k));if(!pe.isDocumentKey(V))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const X=new pe(V);T.push(go(h,X))}else{const V=e2(d,p,k);T.push(V)}}return new sa(T,_)})(t._query,t.firestore._databaseId,i,e,n,r)}}function LT(t,e,n){if(typeof(n=wn(n))=="string"){if(n==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kv(e)&&n.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!pe.isDocumentKey(r))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return go(t,new pe(r))}if(n instanceof Mt)return go(t,n._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nm(n)}.`)}function UT(t,e){if(!Array.isArray(t)||t.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o2(t,e){const n=(function(i,o){for(const c of i)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class z3{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Io(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Hl].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new ps(n)}convertGeoPoint(e){return new ms(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Mm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eh(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);we(hI(r),9688,{name:e});const i=new po(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return i.isEqual(n)||Rn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function l2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ku{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class so extends A_{constructor(e,n,r,i,o,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(i2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=so._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}so._jsonSchemaVersion="firestore/documentSnapshot/1.0",so._jsonSchema={type:Kt("string",so._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class jf extends so{data(e={}){return super.data(e)}}class io{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ku(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new jf(this._firestore,this._userDataWriter,r.key,r,new ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((h=>{const d=new jf(i._firestore,i._userDataWriter,h.doc.key,h.doc,new ku(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new jf(i._firestore,i._userDataWriter,h.doc.key,h.doc,new ku(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,v=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:L3(h.type),doc:d,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function L3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}function U3(t){t=Jn(t,Mt);const e=Jn(t.firestore,Xs);return x3(Zm(e),t._key).then((n=>h2(e,t,n)))}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:Kt("string",io._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class j_ extends z3{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function F3(t){t=Jn(t,ni);const e=Jn(t.firestore,Xs),n=Zm(e),r=new j_(e);return a2(t._query),w3(n,t._query).then((i=>new io(e,r,t,i)))}function c2(t,e,n){t=Jn(t,Mt);const r=Jn(t.firestore,Xs),i=l2(t.converter,e,n);return O_(r,[WI(Ym(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Cn.none())])}function B3(t){return O_(Jn(t.firestore,Xs),[new Fm(t._key,Cn.none())])}function q3(t,e){const n=Jn(t.firestore,Xs),r=dc(t),i=l2(t.converter,e);return O_(n,[WI(Ym(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cn.exists(!1))]).then((()=>r))}function u2(t,...e){t=wn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||zT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(zT(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,c,h;if(t instanceof Mt)c=Jn(t.firestore,Xs),h=yh(t._key.path),o={next:d=>{e[r]&&e[r](h2(c,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Jn(t,ni);c=Jn(d.firestore,Xs),h=d._query;const p=new j_(c);o={next:v=>{e[r]&&e[r](new io(c,p,d,v))},error:e[r+1],complete:e[r+2]},a2(t._query)}return(function(p,v,_,w){const T=new __(w),D=new g_(v,T,_);return p.asyncQueue.enqueueAndForget((async()=>f_(await um(p),D))),()=>{T.Nu(),p.asyncQueue.enqueueAndForget((async()=>m_(await um(p),D)))}})(Zm(c),h,i,o)}function O_(t,e){return(function(r,i){const o=new fs;return r.asyncQueue.enqueueAndForget((async()=>c3(await b3(r),i,o))),o.promise})(Zm(t),e)}function h2(t,e,n){const r=n.docs.get(e._key),i=new j_(t);return new so(t,i,e._key,r,new ku(n.hasPendingWrites,n.fromCache),e.converter)}function $3(){return new T_("serverTimestamp")}(function(e,n=!0){(function(i){lc=i})(oc),Ll(new ho("firestore",((r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new Xs(new c4(r.getProvider("auth-internal")),new d4(c,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(p.options.projectId,v)})(c,i),c);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Ji(_E,bE,e),Ji(_E,bE,"esm2020")})();var H3="firebase",G3="12.7.0";Ji(H3,G3,"app");function d2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K3=d2,f2=new dh("auth","Firebase",d2());const dm=new jv("@firebase/auth");function Q3(t,...e){dm.logLevel<=$e.WARN&&dm.warn(`Auth (${oc}): ${t}`,...e)}function Of(t,...e){dm.logLevel<=$e.ERROR&&dm.error(`Auth (${oc}): ${t}`,...e)}function vs(t,...e){throw M_(t,...e)}function Lr(t,...e){return M_(t,...e)}function P_(t,e,n){const r={...K3(),[e]:n};return new dh("auth","Firebase",r).create(e,{appName:t.name})}function ao(t){return P_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&vs(t,"argument-error"),P_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function M_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f2.create(t,...e)}function Ne(t,e,...n){if(!t)throw M_(e,...n)}function Bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Of(e),new Error(e)}function Js(t,e){t||Bs(e)}function dv(){return typeof self<"u"&&self.location?.href||""}function Y3(){return FT()==="http:"||FT()==="https:"}function FT(){return typeof self<"u"&&self.location?.protocol||null}function X3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y3()||BO()||"connection"in navigator)?navigator.onLine:!0}function J3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Eh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Js(n>e,"Short delay should be less than long delay!"),this.isMobile=UO()||qO()}get(){return X3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V_(t,e){Js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class m2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const e6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t6=new Eh(3e4,6e4);function z_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fc(t,e,n,r,i={}){return p2(t,i,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const h=fh({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...o};return FO()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ac(t.emulatorConfig.host)&&(p.credentials="include"),m2.fetch()(await g2(t,t.config.apiHost,n,h),p)})}async function p2(t,e,n){t._canInitEmulator=!1;const r={...W3,...e};try{const i=new r6(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw pf(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw pf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw pf(t,"user-disabled",c);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw P_(t,v,p);vs(t,v)}}catch(i){if(i instanceof ei)throw i;vs(t,"network-request-failed",{message:String(i)})}}async function n6(t,e,n,r,i={}){const o=await fc(t,e,n,r,i);return"mfaPendingCredential"in o&&vs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function g2(t,e,n,r){const i=`${e}${n}?${r}`,o=t,c=o.config.emulator?V_(t.config,i):`${t.config.apiScheme}://${i}`;return e6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class r6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),t6.get())})}}function pf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lr(t,e,r);return i.customData._tokenResponse=n,i}async function s6(t,e){return fc(t,"POST","/v1/accounts:delete",e)}async function fm(t,e){return fc(t,"POST","/v1/accounts:lookup",e)}function Bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i6(t,e=!1){const n=wn(t),r=await n.getIdToken(e),i=L_(r);Ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,c=o?.sign_in_provider;return{claims:i,token:r,authTime:Bu(Sy(i.auth_time)),issuedAtTime:Bu(Sy(i.iat)),expirationTime:Bu(Sy(i.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Sy(t){return Number(t)*1e3}function L_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const i=jS(n);return i?JSON.parse(i):(Of("Failed to decode base64 JWT payload"),null)}catch(i){return Of("Caught error parsing JWT payload as JSON",i?.toString()),null}}function BT(t){const e=L_(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ih(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ei&&a6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function a6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class o6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function mm(t){const e=t.auth,n=await t.getIdToken(),r=await ih(t,fm(e,{idToken:n}));Ne(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?y2(i.providerUserInfo):[],c=c6(t.providerData,o),h=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!c?.length,p=h?d:!1,v={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new fv(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function l6(t){const e=wn(t);await mm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function y2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function u6(t,e){const n=await p2(t,{},async()=>{const r=fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,c=await g2(t,i,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&ac(t.emulatorConfig.host)&&(d.credentials="include"),m2.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function h6(t,e){return fc(t,"POST","/v2/accounts:revokeToken",z_(t,e))}class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=BT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await u6(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,c=new Ol;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),o&&(Ne(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return Bs("not implemented")}}function Fi(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new o6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ih(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i6(this,e)}reload(){return l6(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vr(this.auth.app))return Promise.reject(ao(this.auth));const e=await this.getIdToken();return await ih(this,s6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:T,providerData:D,stsTokenManager:k}=n;Ne(_&&k,e,"internal-error");const V=Ol.fromJSON(this.name,k);Ne(typeof _=="string",e,"internal-error"),Fi(r,e.name),Fi(i,e.name),Ne(typeof w=="boolean",e,"internal-error"),Ne(typeof T=="boolean",e,"internal-error"),Fi(o,e.name),Fi(c,e.name),Fi(h,e.name),Fi(d,e.name),Fi(p,e.name),Fi(v,e.name);const X=new zr({uid:_,auth:e,email:i,emailVerified:w,displayName:r,isAnonymous:T,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:V,createdAt:p,lastLoginAt:v});return D&&Array.isArray(D)&&(X.providerData=D.map($=>({...$}))),d&&(X._redirectEventId=d),X}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ol;i.updateFromServerResponse(n);const o=new zr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ne(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?y2(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!o?.length,h=new Ol;h.updateFromIdToken(r);const d=new zr({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(d,p),d}}const qT=new Map;function qs(t){Js(t instanceof Function,"Expected a class definition");let e=qT.get(t);return e?(Js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qT.set(t,e),e)}class v2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v2.type="NONE";const $T=v2;function Pf(t,e,n){return`firebase:${t}:${e}:${n}`}class Pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Pf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Pf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fm(this.auth,{idToken:e}).catch(()=>{});return n?zr._fromGetAccountInfoResponse(this.auth,n,e):null}return zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pl(qs($T),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||qs($T);const c=Pf(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const v=await p._get(c);if(v){let _;if(typeof v=="string"){const w=await fm(e,{idToken:v}).catch(()=>{});if(!w)break;_=await zr._fromGetAccountInfoResponse(e,w,v)}else _=zr._fromJSON(e,v);p!==o&&(h=_),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Pl(o,e,r):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Pl(o,e,r))}}function HT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T2(e))return"Blackberry";if(S2(e))return"Webos";if(b2(e))return"Safari";if((e.includes("chrome/")||x2(e))&&!e.includes("edge/"))return"Chrome";if(E2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function _2(t=Wt()){return/firefox\//i.test(t)}function b2(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x2(t=Wt()){return/crios\//i.test(t)}function w2(t=Wt()){return/iemobile/i.test(t)}function E2(t=Wt()){return/android/i.test(t)}function T2(t=Wt()){return/blackberry/i.test(t)}function S2(t=Wt()){return/webos/i.test(t)}function U_(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d6(t=Wt()){return U_(t)&&!!window.navigator?.standalone}function f6(){return $O()&&document.documentMode===10}function A2(t=Wt()){return U_(t)||E2(t)||S2(t)||T2(t)||/windows phone/i.test(t)||w2(t)}function I2(t,e=[]){let n;switch(t){case"Browser":n=HT(Wt());break;case"Worker":n=`${HT(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oc}/${r}`}class m6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,h)=>{try{const d=e(o);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function p6(t,e={}){return fc(t,"GET","/v2/passwordPolicy",z_(t,e))}const g6=6;class y6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??g6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class v6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GT(this),this.idTokenSubscription=new GT(this),this.beforeStateQueue=new m6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fm(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vr(this.app))return Promise.reject(ao(this));const n=e?wn(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vr(this.app)?Promise.reject(ao(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vr(this.app)?Promise.reject(ao(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p6(this),n=new y6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await h6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qs(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Q3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xm(t){return wn(t)}class GT{constructor(e){this.auth=e,this.observer=null,this.addObserver=YO(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let F_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _6(t){F_=t}function b6(t){return F_.loadJS(t)}function x6(){return F_.gapiScript}function w6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function E6(t,e){const n=Pv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(uo(o,e??{}))return i;vs(i,"already-initialized")}return n.initialize({options:e})}function T6(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(qs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function S6(t,e,n){const r=Xm(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=R2(e),{host:c,port:h}=A6(e),d=h===null?"":`:${h}`,p={url:`${o}//${c}${d}/`},v=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(uo(p,r.config.emulator)&&uo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ac(c)?(zS(`${o}//${c}${d}`),LS("Auth",!0)):I6()}function R2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A6(t){const e=R2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:KT(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:KT(c)}}}function KT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class N2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bs("not implemented")}_getIdTokenResponse(e){return Bs("not implemented")}_linkToIdToken(e,n){return Bs("not implemented")}_getReauthenticationResolver(e){return Bs("not implemented")}}async function Ml(t,e){return n6(t,"POST","/v1/accounts:signInWithIdp",z_(t,e))}const R6="http://localhost";class wo extends N2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const c=new wo(r,i);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ml(e,n)}buildRequest(){const e={requestUri:R6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fh(n)}return e}}class B_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Th extends B_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $i extends Th{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";class Us extends Th{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wo._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";class Hi extends Th{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";class Gi extends Th{constructor(){super("twitter.com")}static credential(e,n){return wo._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";class Wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await zr._fromIdTokenResponse(e,r,i),c=QT(r);return new Wl({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=QT(r);return new Wl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function QT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class pm extends ei{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new pm(e,n,r,i)}}function C2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?pm._fromErrorAndOperation(t,o,e,r):o})}async function N6(t,e,n=!1){const r=await ih(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wl._forOperation(t,"link",r)}async function C6(t,e,n=!1){const{auth:r}=t;if(Vr(r.app))return Promise.reject(ao(r));const i="reauthenticate";try{const o=await ih(t,C2(r,i,e,t),n);Ne(o.idToken,r,"internal-error");const c=L_(o.idToken);Ne(c,r,"internal-error");const{sub:h}=c;return Ne(t.uid===h,r,"user-mismatch"),Wl._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&vs(r,"user-mismatch"),o}}async function D6(t,e,n=!1){if(Vr(t.app))return Promise.reject(ao(t));const r="signIn",i=await C2(t,r,e),o=await Wl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function k6(t,e,n,r){return wn(t).onIdTokenChanged(e,n,r)}function j6(t,e,n){return wn(t).beforeAuthStateChanged(e,n)}function D2(t,e,n,r){return wn(t).onAuthStateChanged(e,n,r)}function O6(t){return wn(t).signOut()}const gm="__sak";class k2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gm,"1"),this.storage.removeItem(gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const P6=1e3,M6=10;class j2 extends k2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);f6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,M6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}j2.type="LOCAL";const V6=j2;class O2 extends k2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O2.type="SESSION";const P2=O2;function z6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Jm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(c).map(async p=>p(n.origin,o)),d=await z6(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jm.receivers=[];function q_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class L6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const p=q_("",20);i.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(w.data.response);break;default:clearTimeout(v),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function gs(){return window}function U6(t){gs().location.href=t}function M2(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function F6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B6(){return navigator?.serviceWorker?.controller||null}function q6(){return M2()?self:null}const V2="firebaseLocalStorageDb",$6=1,ym="firebaseLocalStorage",z2="fbase_key";class Sh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wm(t,e){return t.transaction([ym],e?"readwrite":"readonly").objectStore(ym)}function H6(){const t=indexedDB.deleteDatabase(V2);return new Sh(t).toPromise()}function mv(){const t=indexedDB.open(V2,$6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ym,{keyPath:z2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ym)?e(r):(r.close(),await H6(),e(await mv()))})})}async function ZT(t,e,n){const r=Wm(t,!0).put({[z2]:e,value:n});return new Sh(r).toPromise()}async function G6(t,e){const n=Wm(t,!1).get(e),r=await new Sh(n).toPromise();return r===void 0?null:r.value}function YT(t,e){const n=Wm(t,!0).delete(e);return new Sh(n).toPromise()}const K6=800,Q6=3;class L2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Q6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jm._getInstance(q6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await F6(),!this.activeServiceWorker)return;this.sender=new L6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mv();return await ZT(e,gm,"1"),await YT(e,gm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ZT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Wm(i,!1).getAll();return new Sh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L2.type="LOCAL";const Z6=L2;new Eh(3e4,6e4);function U2(t,e){return e?qs(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class $_ extends N2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Y6(t){return D6(t.auth,new $_(t),t.bypassAuthState)}function X6(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),C6(n,new $_(t),t.bypassAuthState)}async function J6(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),N6(n,new $_(t),t.bypassAuthState)}class F2{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y6;case"linkViaPopup":case"linkViaRedirect":return J6;case"reauthViaPopup":case"reauthViaRedirect":return X6;default:vs(this.auth,"internal-error")}}resolve(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const W6=new Eh(2e3,1e4);async function ez(t,e,n){if(Vr(t.app))return Promise.reject(Lr(t,"operation-not-supported-in-this-environment"));const r=Xm(t);Z3(t,e,B_);const i=U2(r,n);return new Wa(r,"signInViaPopup",e,i).executeNotNull()}class Wa extends F2{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Js(this.filter.length===1,"Popup operations only handle one event");const e=q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W6.get())};e()}}Wa.currentPopupAction=null;const tz="pendingRedirect",Mf=new Map;class nz extends F2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mf.get(this.auth._key());if(!e){try{const r=await rz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mf.set(this.auth._key(),e)}return this.bypassAuthState||Mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rz(t,e){const n=az(e),r=iz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sz(t,e){Mf.set(t._key(),e)}function iz(t){return qs(t._redirectPersistence)}function az(t){return Pf(tz,t.config.apiKey,t.name)}async function oz(t,e,n=!1){if(Vr(t.app))return Promise.reject(ao(t));const r=Xm(t),i=U2(r,e),c=await new nz(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const lz=600*1e3;class cz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!B2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Lr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lz&&this.cachedEventUids.clear(),this.cachedEventUids.has(XT(e))}saveEventToCache(e){this.cachedEventUids.add(XT(e)),this.lastProcessedEventTime=Date.now()}}function XT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function B2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function uz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B2(t);default:return!1}}async function hz(t,e={}){return fc(t,"GET","/v1/projects",e)}const dz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fz=/^https?/;async function mz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hz(t);for(const n of e)try{if(pz(n))return}catch{}vs(t,"unauthorized-domain")}function pz(t){const e=dv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!fz.test(n))return!1;if(dz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const gz=new Eh(3e4,6e4);function JT(){const t=gs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yz(t){return new Promise((e,n)=>{function r(){JT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JT(),n(Lr(t,"network-request-failed"))},timeout:gz.get()})}if(gs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gs().gapi?.load)r();else{const i=w6("iframefcb");return gs()[i]=()=>{gapi.load?r():n(Lr(t,"network-request-failed"))},b6(`${x6()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function vz(t){return Vf=Vf||yz(t),Vf}const _z=new Eh(5e3,15e3),bz="__/auth/iframe",xz="emulator/auth/iframe",wz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ez=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tz(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?V_(e,xz):`https://${t.config.authDomain}/${bz}`,r={apiKey:e.apiKey,appName:t.name,v:oc},i=Ez.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${fh(r).slice(1)}`}async function Sz(t){const e=await vz(t),n=gs().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:Tz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wz,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const c=Lr(t,"network-request-failed"),h=gs().setTimeout(()=>{o(c)},_z.get());function d(){gs().clearTimeout(h),i(r)}r.ping(d).then(d,()=>{o(c)})}))}const Az={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Iz=500,Rz=600,Nz="_blank",Cz="http://localhost";class WT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dz(t,e,n,r=Iz,i=Rz){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...Az,width:r.toString(),height:i.toString(),top:o,left:c},p=Wt().toLowerCase();n&&(h=x2(p)?Nz:n),_2(p)&&(e=e||Cz,d.scrollbars="yes");const v=Object.entries(d).reduce((w,[T,D])=>`${w}${T}=${D},`,"");if(d6(p)&&h!=="_self")return kz(e||"",h),new WT(null);const _=window.open(e||"",h,v);Ne(_,t,"popup-blocked");try{_.focus()}catch{}return new WT(_)}function kz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const jz="__/auth/handler",Oz="emulator/auth/handler",Pz=encodeURIComponent("fac");async function e1(t,e,n,r,i,o){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oc,eventId:i};if(e instanceof B_){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",ZO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof Th){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const d=await t._getAppCheckToken(),p=d?`#${Pz}=${encodeURIComponent(d)}`:"";return`${Mz(t)}?${fh(h).slice(1)}${p}`}function Mz({config:t}){return t.emulator?V_(t,Oz):`https://${t.authDomain}/${jz}`}const Ay="webStorageSupport";class Vz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P2,this._completeRedirectFn=oz,this._overrideRedirectResult=sz}async _openPopup(e,n,r,i){Js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await e1(e,n,r,dv(),i);return Dz(e,o,q_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await e1(e,n,r,dv(),i);return U6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Js(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Sz(e),r=new cz(e);return n.register("authEvent",i=>(Ne(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ay,{type:Ay},i=>{const o=i?.[0]?.[Ay];o!==void 0&&n(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A2()||b2()||U_()}}const zz=Vz;var t1="@firebase/auth",n1="1.12.0";class Lz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Uz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fz(t){Ll(new ho("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Ne(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I2(t)},p=new v6(r,i,o,d);return T6(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ll(new ho("auth-internal",e=>{const n=Xm(e.getProvider("auth").getImmediate());return(r=>new Lz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(t1,n1,Uz(t)),Ji(t1,n1,"esm2020")}const Bz=300,qz=VS("authIdTokenMaxAge")||Bz;let r1=null;const $z=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qz)return;const i=n?.token;r1!==i&&(r1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Hz(t=KS()){const e=Pv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=E6(t,{popupRedirectResolver:zz,persistence:[Z6,V6,P2]}),r=VS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=$z(o.toString());j6(n,c,()=>c(n.currentUser)),k6(n,h=>c(h))}}const i=PS("auth");return i&&S6(n,`http://${i}`),n}function Gz(){return document.getElementsByTagName("head")?.[0]??document}_6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Lr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Gz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fz("Browser");const Kz={apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",storageBucket:void 0,messagingSenderId:"490973136832",appId:"1:490973136832:web:1811051408fdde8fbcea25",measurementId:"G-D3YR1YJXPN"},q2=mE().length?mE()[0]:GS(Kz),ri=T3(q2),zf=Hz(q2);typeof window<"u"&&S3(ri).catch(t=>{console.debug("IndexedDB persistence not enabled:",t?.code??t?.message??t)});function $2(t,e,n){const r=b_(t,e);return n?r.withConverter(n):r}async function Qz(t,e,n){const r=dc(ri,t,e),i=n?r.withConverter(n):r,o=await U3(i);return o.exists()?o.data():null}async function H2(t,e,n){const r=$2(ri,t,n);return(await q3(r,e)).id}async function Zz(t,e,n,r){const i=dc(ri,t,e),o=r?i.withConverter(r):i;await c2(o,n)}async function Yz(t,e,n,r){const i=dc(ri,t,e),o=r?i.withConverter(r):i;await c2(o,n,{merge:!0})}async function Xz(t,e){const n=dc(ri,t,e);await B3(n)}async function Jz(t,e){const{pageSize:n=20,cursor:r=null,additionalConstraints:i=[],converter:o}=e??{},c=$2(ri,t,o),h=[P3(n),...i];r&&h.push(M3(r));const d=O3(c,...h),p=await F3(d),v=p.docs.map(w=>w.data()),_=p.docs[p.docs.length-1]??null;return{docs:v,nextCursor:_?_.id:null}}function ie(t,e,n){function r(h,d){if(h._zod||Object.defineProperty(h,"_zod",{value:{def:d,constr:c,traits:new Set},enumerable:!1}),h._zod.traits.has(t))return;h._zod.traits.add(t),e(h,d);const p=c.prototype,v=Object.keys(p);for(let _=0;_<v.length;_++){const w=v[_];w in h||(h[w]=p[w].bind(h))}}const i=n?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:t});function c(h){var d;const p=n?.Parent?new o:this;r(p,h),(d=p._zod).deferred??(d.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:h=>n?.Parent&&h instanceof n.Parent?!0:h?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class Vl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class G2 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const K2={};function Eo(t){return K2}function Q2(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function pv(t,e){return typeof e=="bigint"?e.toString():e}function H_(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function G_(t){return t==null}function K_(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Wz(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d?.[1]&&(i=Number.parseInt(d[1]))}const o=n>i?n:i,c=Number.parseInt(t.toFixed(o).replace(".","")),h=Number.parseInt(e.toFixed(o).replace(".",""));return c%h/10**o}const s1=Symbol("evaluating");function ot(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==s1)return r===void 0&&(r=s1,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function No(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ca(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function i1(t){return JSON.stringify(t)}function e5(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Z2="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function vm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const t5=H_(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ah(t){if(vm(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(vm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Y2(t){return ah(t)?{...t}:Array.isArray(t)?[...t]:t}const n5=new Set(["string","number","symbol"]);function ec(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ua(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Se(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function r5(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const s5={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function i5(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=ca(t._zod.def,{get shape(){const c={};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&(c[h]=n.shape[h])}return No(this,"shape",c),c},checks:[]});return ua(t,o)}function a5(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=ca(t._zod.def,{get shape(){const c={...t._zod.def.shape};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&delete c[h]}return No(this,"shape",c),c},checks:[]});return ua(t,o)}function o5(t,e){if(!ah(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const c in e)if(Object.getOwnPropertyDescriptor(o,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=ca(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return No(this,"shape",o),o}});return ua(t,i)}function l5(t,e){if(!ah(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=ca(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return No(this,"shape",r),r}});return ua(t,n)}function c5(t,e){const n=ca(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return No(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return ua(t,n)}function u5(t,e,n){const i=e._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=ca(e._zod.def,{get shape(){const h=e._zod.def.shape,d={...h};if(n)for(const p in n){if(!(p in h))throw new Error(`Unrecognized key: "${p}"`);n[p]&&(d[p]=t?new t({type:"optional",innerType:h[p]}):h[p])}else for(const p in h)d[p]=t?new t({type:"optional",innerType:h[p]}):h[p];return No(this,"shape",d),d},checks:[]});return ua(e,c)}function h5(t,e,n){const r=ca(e._zod.def,{get shape(){const i=e._zod.def.shape,o={...i};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(o[c]=new t({type:"nonoptional",innerType:i[c]}))}else for(const c in i)o[c]=new t({type:"nonoptional",innerType:i[c]});return No(this,"shape",o),o}});return ua(e,r)}function Dl(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function X2(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function gf(t){return typeof t=="string"?t:t?.message}function To(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const i=gf(t.inst?._zod.def?.error?.(t))??gf(e?.error?.(t))??gf(n.customError?.(t))??gf(n.localeError?.(t))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Q_(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function oh(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const J2=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,pv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},W2=ie("$ZodError",J2),eR=ie("$ZodError",J2,{Parent:Error});function d5(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function f5(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(c=>r({issues:c}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(e(o));else{let c=n,h=0;for(;h<o.path.length;){const d=o.path[h];h===o.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(e(o))):c[d]=c[d]||{_errors:[]},c=c[d],h++}}};return r(t),n}const Z_=t=>(e,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise)throw new Vl;if(c.issues.length){const h=new(i?.Err??t)(c.issues.map(d=>To(d,o,Eo())));throw Z2(h,i?.callee),h}return c.value},Y_=t=>async(e,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise&&(c=await c),c.issues.length){const h=new(i?.Err??t)(c.issues.map(d=>To(d,o,Eo())));throw Z2(h,i?.callee),h}return c.value},ep=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new Vl;return o.issues.length?{success:!1,error:new(t??W2)(o.issues.map(c=>To(c,i,Eo())))}:{success:!0,data:o.value}},m5=ep(eR),tp=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(c=>To(c,i,Eo())))}:{success:!0,data:o.value}},p5=tp(eR),g5=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Z_(t)(e,n,i)},y5=t=>(e,n,r)=>Z_(t)(e,n,r),v5=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Y_(t)(e,n,i)},_5=t=>async(e,n,r)=>Y_(t)(e,n,r),b5=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ep(t)(e,n,i)},x5=t=>(e,n,r)=>ep(t)(e,n,r),w5=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return tp(t)(e,n,i)},E5=t=>async(e,n,r)=>tp(t)(e,n,r),T5=/^[cC][^\s-]{8,}$/,S5=/^[0-9a-z]+$/,A5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,I5=/^[0-9a-vA-V]{20}$/,R5=/^[A-Za-z0-9]{27}$/,N5=/^[a-zA-Z0-9_-]{21}$/,C5=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,D5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,a1=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,k5=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,j5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function O5(){return new RegExp(j5,"u")}const P5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,M5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,V5=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,z5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,L5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,tR=/^[A-Za-z0-9_-]*$/,U5=/^\+[1-9]\d{6,14}$/,nR="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",F5=new RegExp(`^${nR}$`);function rR(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function B5(t){return new RegExp(`^${rR(t)}$`)}function q5(t){const e=rR({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${nR}T(?:${r})$`)}const $5=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},H5=/^-?\d+$/,G5=/^-?\d+(?:\.\d+)?$/,K5=/^[^A-Z]*$/,Q5=/^[^a-z]*$/,Un=ie("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),sR={number:"number",bigint:"bigint",object:"date"},iR=ie("$ZodCheckLessThan",(t,e)=>{Un.init(t,e);const n=sR[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,o=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),aR=ie("$ZodCheckGreaterThan",(t,e)=>{Un.init(t,e);const n=sR[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,o=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Z5=ie("$ZodCheckMultipleOf",(t,e)=>{Un.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):Wz(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),Y5=ie("$ZodCheckNumberFormat",(t,e)=>{Un.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[i,o]=s5[e.format];t._zod.onattach.push(c=>{const h=c._zod.bag;h.format=e.format,h.minimum=i,h.maximum=o,n&&(h.pattern=H5)}),t._zod.check=c=>{const h=c.value;if(n){if(!Number.isInteger(h)){c.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?c.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):c.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}h<i&&c.issues.push({origin:"number",input:h,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),h>o&&c.issues.push({origin:"number",input:h,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),X5=ie("$ZodCheckMaxLength",(t,e)=>{var n;Un.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!G_(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const c=Q_(i);r.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),J5=ie("$ZodCheckMinLength",(t,e)=>{var n;Un.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!G_(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const c=Q_(i);r.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),W5=ie("$ZodCheckLengthEquals",(t,e)=>{var n;Un.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!G_(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,o=i.length;if(o===e.length)return;const c=Q_(i),h=o>e.length;r.issues.push({origin:c,...h?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),np=ie("$ZodCheckStringFormat",(t,e)=>{var n,r;Un.init(t,e),t._zod.onattach.push(i=>{const o=i._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),eL=ie("$ZodCheckRegex",(t,e)=>{np.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),tL=ie("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=K5),np.init(t,e)}),nL=ie("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=Q5),np.init(t,e)}),rL=ie("$ZodCheckIncludes",(t,e)=>{Un.init(t,e);const n=ec(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),sL=ie("$ZodCheckStartsWith",(t,e)=>{Un.init(t,e);const n=new RegExp(`^${ec(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),iL=ie("$ZodCheckEndsWith",(t,e)=>{Un.init(t,e);const n=new RegExp(`.*${ec(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),aL=ie("$ZodCheckOverwrite",(t,e)=>{Un.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class oL{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(c=>c),i=Math.min(...r.map(c=>c.length-c.trimStart().length)),o=r.map(c=>c.slice(i)).map(c=>" ".repeat(this.indent*2)+c);for(const c of o)this.content.push(c)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,i.join(`
`))}}const lL={major:4,minor:3,patch:5},Ct=ie("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=lL;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const o of i._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(c,h,d)=>{let p=Dl(c),v;for(const _ of h){if(_._zod.def.when){if(!_._zod.def.when(c))continue}else if(p)continue;const w=c.issues.length,T=_._zod.check(c);if(T instanceof Promise&&d?.async===!1)throw new Vl;if(v||T instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await T,c.issues.length!==w&&(p||(p=Dl(c,w)))});else{if(c.issues.length===w)continue;p||(p=Dl(c,w))}}return v?v.then(()=>c):c},o=(c,h,d)=>{if(Dl(c))return c.aborted=!0,c;const p=i(h,r,d);if(p instanceof Promise){if(d.async===!1)throw new Vl;return p.then(v=>t._zod.parse(v,d))}return t._zod.parse(p,d)};t._zod.run=(c,h)=>{if(h.skipChecks)return t._zod.parse(c,h);if(h.direction==="backward"){const p=t._zod.parse({value:c.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>o(v,c,h)):o(p,c,h)}const d=t._zod.parse(c,h);if(d instanceof Promise){if(h.async===!1)throw new Vl;return d.then(p=>i(p,r,h))}return i(d,r,h)}}ot(t,"~standard",()=>({validate:i=>{try{const o=m5(t,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return p5(t,i).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}))}),X_=ie("$ZodString",(t,e)=>{Ct.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??$5(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),xt=ie("$ZodStringFormat",(t,e)=>{np.init(t,e),X_.init(t,e)}),cL=ie("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=D5),xt.init(t,e)}),uL=ie("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=a1(r))}else e.pattern??(e.pattern=a1());xt.init(t,e)}),hL=ie("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=k5),xt.init(t,e)}),dL=ie("$ZodURL",(t,e)=>{xt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),fL=ie("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=O5()),xt.init(t,e)}),mL=ie("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=N5),xt.init(t,e)}),pL=ie("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=T5),xt.init(t,e)}),gL=ie("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=S5),xt.init(t,e)}),yL=ie("$ZodULID",(t,e)=>{e.pattern??(e.pattern=A5),xt.init(t,e)}),vL=ie("$ZodXID",(t,e)=>{e.pattern??(e.pattern=I5),xt.init(t,e)}),_L=ie("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=R5),xt.init(t,e)}),bL=ie("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=q5(e)),xt.init(t,e)}),xL=ie("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=F5),xt.init(t,e)}),wL=ie("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=B5(e)),xt.init(t,e)}),EL=ie("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=C5),xt.init(t,e)}),TL=ie("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=P5),xt.init(t,e),t._zod.bag.format="ipv4"}),SL=ie("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=M5),xt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),AL=ie("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=V5),xt.init(t,e)}),IL=ie("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=z5),xt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,o]=r;if(!o)throw new Error;const c=Number(o);if(`${c}`!==o)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function oR(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const RL=ie("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=L5),xt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{oR(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function NL(t){if(!tR.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return oR(n)}const CL=ie("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=tR),xt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{NL(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),DL=ie("$ZodE164",(t,e)=>{e.pattern??(e.pattern=U5),xt.init(t,e)});function kL(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const jL=ie("$ZodJWT",(t,e)=>{xt.init(t,e),t._zod.check=n=>{kL(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),lR=ie("$ZodNumber",(t,e)=>{Ct.init(t,e),t._zod.pattern=t._zod.bag.pattern??G5,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...o?{received:o}:{}}),n}}),OL=ie("$ZodNumberFormat",(t,e)=>{Y5.init(t,e),lR.init(t,e)}),PL=ie("$ZodUnknown",(t,e)=>{Ct.init(t,e),t._zod.parse=n=>n}),ML=ie("$ZodNever",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),VL=ie("$ZodDate",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const i=n.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:t}),n}});function o1(t,e,n){t.issues.length&&e.issues.push(...X2(n,t.issues)),e.value[n]=t.value}const zL=ie("$ZodArray",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const o=[];for(let c=0;c<i.length;c++){const h=i[c],d=e.element._zod.run({value:h,issues:[]},r);d instanceof Promise?o.push(d.then(p=>o1(p,n,c))):o1(d,n,c)}return o.length?Promise.all(o).then(()=>n):n}});function _m(t,e,n,r,i){if(t.issues.length){if(i&&!(n in r))return;e.issues.push(...X2(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function cR(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=r5(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function uR(t,e,n,r,i,o){const c=[],h=i.keySet,d=i.catchall._zod,p=d.def.type,v=d.optout==="optional";for(const _ in e){if(h.has(_))continue;if(p==="never"){c.push(_);continue}const w=d.run({value:e[_],issues:[]},r);w instanceof Promise?t.push(w.then(T=>_m(T,n,_,e,v))):_m(w,n,_,e,v)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const LL=ie("$ZodObject",(t,e)=>{if(Ct.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const h=e.shape;Object.defineProperty(e,"shape",{get:()=>{const d={...h};return Object.defineProperty(e,"shape",{value:d}),d}})}const r=H_(()=>cR(e));ot(t._zod,"propValues",()=>{const h=e.shape,d={};for(const p in h){const v=h[p]._zod;if(v.values){d[p]??(d[p]=new Set);for(const _ of v.values)d[p].add(_)}}return d});const i=vm,o=e.catchall;let c;t._zod.parse=(h,d)=>{c??(c=r.value);const p=h.value;if(!i(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),h;h.value={};const v=[],_=c.shape;for(const w of c.keys){const T=_[w],D=T._zod.optout==="optional",k=T._zod.run({value:p[w],issues:[]},d);k instanceof Promise?v.push(k.then(V=>_m(V,h,w,p,D))):_m(k,h,w,p,D)}return o?uR(v,p,h,d,r.value,t):v.length?Promise.all(v).then(()=>h):h}}),UL=ie("$ZodObjectJIT",(t,e)=>{LL.init(t,e);const n=t._zod.parse,r=H_(()=>cR(e)),i=w=>{const T=new oL(["shape","payload","ctx"]),D=r.value,k=U=>{const J=i1(U);return`shape[${J}]._zod.run({ value: input[${J}], issues: [] }, ctx)`};T.write("const input = payload.value;");const V=Object.create(null);let X=0;for(const U of D.keys)V[U]=`key_${X++}`;T.write("const newResult = {};");for(const U of D.keys){const J=V[U],se=i1(U),R=w[U]?._zod?.optout==="optional";T.write(`const ${J} = ${k(U)};`),R?T.write(`
        if (${J}.issues.length) {
          if (${se} in input) {
            payload.issues = payload.issues.concat(${J}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${se}, ...iss.path] : [${se}]
            })));
          }
        }
        
        if (${J}.value === undefined) {
          if (${se} in input) {
            newResult[${se}] = undefined;
          }
        } else {
          newResult[${se}] = ${J}.value;
        }
        
      `):T.write(`
        if (${J}.issues.length) {
          payload.issues = payload.issues.concat(${J}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${se}, ...iss.path] : [${se}]
          })));
        }
        
        if (${J}.value === undefined) {
          if (${se} in input) {
            newResult[${se}] = undefined;
          }
        } else {
          newResult[${se}] = ${J}.value;
        }
        
      `)}T.write("payload.value = newResult;"),T.write("return payload;");const $=T.compile();return(U,J)=>$(w,U,J)};let o;const c=vm,h=!K2.jitless,p=h&&t5.value,v=e.catchall;let _;t._zod.parse=(w,T)=>{_??(_=r.value);const D=w.value;return c(D)?h&&p&&T?.async===!1&&T.jitless!==!0?(o||(o=i(e.shape)),w=o(w,T),v?uR([],D,w,T,_,t):w):n(w,T):(w.issues.push({expected:"object",code:"invalid_type",input:D,inst:t}),w)}});function l1(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const i=t.filter(o=>!Dl(o));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(c=>To(c,r,Eo())))}),e)}const FL=ie("$ZodUnion",(t,e)=>{Ct.init(t,e),ot(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),ot(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),ot(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),ot(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>K_(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,o)=>{if(n)return r(i,o);let c=!1;const h=[];for(const d of e.options){const p=d._zod.run({value:i.value,issues:[]},o);if(p instanceof Promise)h.push(p),c=!0;else{if(p.issues.length===0)return p;h.push(p)}}return c?Promise.all(h).then(d=>l1(d,i,t,o)):l1(h,i,t,o)}}),BL=ie("$ZodIntersection",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,o=e.left._zod.run({value:i,issues:[]},r),c=e.right._zod.run({value:i,issues:[]},r);return o instanceof Promise||c instanceof Promise?Promise.all([o,c]).then(([d,p])=>c1(n,d,p)):c1(n,o,c)}});function gv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(ah(t)&&ah(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),i={...t,...e};for(const o of r){const c=gv(t[o],e[o]);if(!c.valid)return{valid:!1,mergeErrorPath:[o,...c.mergeErrorPath]};i[o]=c.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=e[r],c=gv(i,o);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function c1(t,e,n){const r=new Map;let i;for(const h of e.issues)if(h.code==="unrecognized_keys"){i??(i=h);for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else t.issues.push(h);for(const h of n.issues)if(h.code==="unrecognized_keys")for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else t.issues.push(h);const o=[...r].filter(([,h])=>h.l&&h.r).map(([h])=>h);if(o.length&&i&&t.issues.push({...i,keys:o}),Dl(t))return t;const c=gv(e.value,n.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return t.value=c.data,t}const qL=ie("$ZodEnum",(t,e)=>{Ct.init(t,e);const n=Q2(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>n5.has(typeof i)).map(i=>typeof i=="string"?ec(i):i.toString()).join("|")})$`),t._zod.parse=(i,o)=>{const c=i.value;return r.has(c)||i.issues.push({code:"invalid_value",values:n,input:c,inst:t}),i}}),$L=ie("$ZodLiteral",(t,e)=>{if(Ct.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?ec(r):r?ec(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,i)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),r}}),HL=ie("$ZodTransform",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new G2(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(c=>(n.value=c,n));if(i instanceof Promise)throw new Vl;return n.value=i,n}});function u1(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const hR=ie("$ZodOptional",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",t._zod.optout="optional",ot(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),ot(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${K_(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>u1(o,n.value)):u1(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),GL=ie("$ZodExactOptional",(t,e)=>{hR.init(t,e),ot(t._zod,"values",()=>e.innerType._zod.values),ot(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),KL=ie("$ZodNullable",(t,e)=>{Ct.init(t,e),ot(t._zod,"optin",()=>e.innerType._zod.optin),ot(t._zod,"optout",()=>e.innerType._zod.optout),ot(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${K_(n.source)}|null)$`):void 0}),ot(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),QL=ie("$ZodDefault",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",ot(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>h1(o,e)):h1(i,e)}});function h1(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const ZL=ie("$ZodPrefault",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",ot(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),YL=ie("$ZodNonOptional",(t,e)=>{Ct.init(t,e),ot(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>d1(o,t)):d1(i,t)}});function d1(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const XL=ie("$ZodCatch",(t,e)=>{Ct.init(t,e),ot(t._zod,"optin",()=>e.innerType._zod.optin),ot(t._zod,"optout",()=>e.innerType._zod.optout),ot(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(c=>To(c,r,Eo()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(o=>To(o,r,Eo()))},input:n.value}),n.issues=[]),n)}}),JL=ie("$ZodPipe",(t,e)=>{Ct.init(t,e),ot(t._zod,"values",()=>e.in._zod.values),ot(t._zod,"optin",()=>e.in._zod.optin),ot(t._zod,"optout",()=>e.out._zod.optout),ot(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(c=>yf(c,e.in,r)):yf(o,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(o=>yf(o,e.out,r)):yf(i,e.out,r)}});function yf(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const WL=ie("$ZodReadonly",(t,e)=>{Ct.init(t,e),ot(t._zod,"propValues",()=>e.innerType._zod.propValues),ot(t._zod,"values",()=>e.innerType._zod.values),ot(t._zod,"optin",()=>e.innerType?._zod?.optin),ot(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(f1):f1(i)}});function f1(t){return t.value=Object.freeze(t.value),t}const eU=ie("$ZodCustom",(t,e)=>{Un.init(t,e),Ct.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(o=>m1(o,n,r,t));m1(i,n,r,t)}});function m1(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(oh(i))}}var p1;class tU{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function nU(){return new tU}(p1=globalThis).__zod_globalRegistry??(p1.__zod_globalRegistry=nU());const ju=globalThis.__zod_globalRegistry;function rU(t,e){return new t({type:"string",...Se(e)})}function sU(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Se(e)})}function g1(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Se(e)})}function iU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Se(e)})}function aU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Se(e)})}function oU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Se(e)})}function lU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Se(e)})}function cU(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Se(e)})}function uU(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Se(e)})}function hU(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Se(e)})}function dU(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Se(e)})}function fU(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Se(e)})}function mU(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Se(e)})}function pU(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Se(e)})}function gU(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Se(e)})}function yU(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Se(e)})}function vU(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Se(e)})}function _U(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Se(e)})}function bU(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Se(e)})}function xU(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Se(e)})}function wU(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Se(e)})}function EU(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Se(e)})}function TU(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Se(e)})}function SU(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Se(e)})}function AU(t,e){return new t({type:"string",format:"date",check:"string_format",...Se(e)})}function IU(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Se(e)})}function RU(t,e){return new t({type:"string",format:"duration",check:"string_format",...Se(e)})}function NU(t,e){return new t({type:"number",checks:[],...Se(e)})}function CU(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Se(e)})}function DU(t){return new t({type:"unknown"})}function kU(t,e){return new t({type:"never",...Se(e)})}function jU(t,e){return new t({type:"date",...Se(e)})}function y1(t,e){return new iR({check:"less_than",...Se(e),value:t,inclusive:!1})}function Lf(t,e){return new iR({check:"less_than",...Se(e),value:t,inclusive:!0})}function v1(t,e){return new aR({check:"greater_than",...Se(e),value:t,inclusive:!1})}function Uf(t,e){return new aR({check:"greater_than",...Se(e),value:t,inclusive:!0})}function _1(t,e){return new Z5({check:"multiple_of",...Se(e),value:t})}function dR(t,e){return new X5({check:"max_length",...Se(e),maximum:t})}function bm(t,e){return new J5({check:"min_length",...Se(e),minimum:t})}function fR(t,e){return new W5({check:"length_equals",...Se(e),length:t})}function OU(t,e){return new eL({check:"string_format",format:"regex",...Se(e),pattern:t})}function PU(t){return new tL({check:"string_format",format:"lowercase",...Se(t)})}function MU(t){return new nL({check:"string_format",format:"uppercase",...Se(t)})}function VU(t,e){return new rL({check:"string_format",format:"includes",...Se(e),includes:t})}function zU(t,e){return new sL({check:"string_format",format:"starts_with",...Se(e),prefix:t})}function LU(t,e){return new iL({check:"string_format",format:"ends_with",...Se(e),suffix:t})}function mc(t){return new aL({check:"overwrite",tx:t})}function UU(t){return mc(e=>e.normalize(t))}function FU(){return mc(t=>t.trim())}function BU(){return mc(t=>t.toLowerCase())}function qU(){return mc(t=>t.toUpperCase())}function $U(){return mc(t=>e5(t))}function HU(t,e,n){return new t({type:"array",element:e,...Se(n)})}function GU(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Se(n)})}function KU(t){const e=QU(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(oh(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(oh(i))}},t(n.value,n)));return e}function QU(t,e){const n=new Un({check:"custom",...Se(e)});return n._zod.check=t,n}function mR(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??ju,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function gn(t,e,n={path:[],schemaPath:[]}){var r;const i=t._zod.def,o=e.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,c);const h=t._zod.toJSONSchema?.();if(h)c.schema=h;else{const v={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,c.schema,v);else{const w=c.schema,T=e.processors[i.type];if(!T)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);T(t,e,w,v)}const _=t._zod.parent;_&&(c.ref||(c.ref=_),gn(_,e,v),e.seen.get(_).isParent=!0)}const d=e.metadataRegistry.get(t);return d&&Object.assign(c.schema,d),e.io==="input"&&An(t)&&(delete c.schema.examples,delete c.schema.default),e.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,e.seen.get(t).schema}function pR(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const c of t.seen.entries()){const h=t.metadataRegistry.get(c[0])?.id;if(h){const d=r.get(h);if(d&&d!==c[0])throw new Error(`Duplicate schema id "${h}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(h,c[0])}}const i=c=>{const h=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const _=t.external.registry.get(c[0])?.id,w=t.external.uri??(D=>D);if(_)return{ref:w(_)};const T=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=T,{defId:T,ref:`${w("__shared")}#/${h}/${T}`}}if(c[1]===n)return{ref:"#"};const p=`#/${h}/`,v=c[1].schema.id??`__schema${t.counter++}`;return{defId:v,ref:p+v}},o=c=>{if(c[1].schema.$ref)return;const h=c[1],{ref:d,defId:p}=i(c);h.def={...h.schema},p&&(h.defId=p);const v=h.schema;for(const _ in v)delete v[_];v.$ref=d};if(t.cycles==="throw")for(const c of t.seen.entries()){const h=c[1];if(h.cycle)throw new Error(`Cycle detected: #/${h.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const h=c[1];if(e===c[0]){o(c);continue}if(t.external){const p=t.external.registry.get(c[0])?.id;if(e!==c[0]&&p){o(c);continue}}if(t.metadataRegistry.get(c[0])?.id){o(c);continue}if(h.cycle){o(c);continue}if(h.count>1&&t.reused==="ref"){o(c);continue}}}function gR(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=c=>{const h=t.seen.get(c);if(h.ref===null)return;const d=h.def??h.schema,p={...d},v=h.ref;if(h.ref=null,v){r(v);const w=t.seen.get(v),T=w.schema;if(T.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(T)):Object.assign(d,T),Object.assign(d,p),c._zod.parent===v)for(const k in d)k==="$ref"||k==="allOf"||k in p||delete d[k];if(T.$ref)for(const k in d)k==="$ref"||k==="allOf"||k in w.def&&JSON.stringify(d[k])===JSON.stringify(w.def[k])&&delete d[k]}const _=c._zod.parent;if(_&&_!==v){r(_);const w=t.seen.get(_);if(w?.schema.$ref&&(d.$ref=w.schema.$ref,w.def))for(const T in d)T==="$ref"||T==="allOf"||T in w.def&&JSON.stringify(d[T])===JSON.stringify(w.def[T])&&delete d[T]}t.override({zodSchema:c,jsonSchema:d,path:h.path??[]})};for(const c of[...t.seen.entries()].reverse())r(c[0]);const i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const c=t.external.registry.get(e)?.id;if(!c)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(c)}Object.assign(i,n.def??n.schema);const o=t.external?.defs??{};for(const c of t.seen.entries()){const h=c[1];h.def&&h.defId&&(o[h.defId]=h.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?i.$defs=o:i.definitions=o);try{const c=JSON.parse(JSON.stringify(i));return Object.defineProperty(c,"~standard",{value:{...e["~standard"],jsonSchema:{input:xm(e,"input",t.processors),output:xm(e,"output",t.processors)}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function An(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return An(r.element,n);if(r.type==="set")return An(r.valueType,n);if(r.type==="lazy")return An(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return An(r.innerType,n);if(r.type==="intersection")return An(r.left,n)||An(r.right,n);if(r.type==="record"||r.type==="map")return An(r.keyType,n)||An(r.valueType,n);if(r.type==="pipe")return An(r.in,n)||An(r.out,n);if(r.type==="object"){for(const i in r.shape)if(An(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(An(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(An(i,n))return!0;return!!(r.rest&&An(r.rest,n))}return!1}const ZU=(t,e={})=>n=>{const r=mR({...n,processors:e});return gn(t,r),pR(r,t),gR(r,t)},xm=(t,e,n={})=>r=>{const{libraryOptions:i,target:o}=r??{},c=mR({...i??{},target:o,io:e,processors:n});return gn(t,c),pR(c,t),gR(c,t)},YU={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},XU=(t,e,n,r)=>{const i=n;i.type="string";const{minimum:o,maximum:c,format:h,patterns:d,contentEncoding:p}=t._zod.bag;if(typeof o=="number"&&(i.minLength=o),typeof c=="number"&&(i.maxLength=c),h&&(i.format=YU[h]??h,i.format===""&&delete i.format,h==="time"&&delete i.format),p&&(i.contentEncoding=p),d&&d.size>0){const v=[...d];v.length===1?i.pattern=v[0].source:v.length>1&&(i.allOf=[...v.map(_=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:_.source}))])}},JU=(t,e,n,r)=>{const i=n,{minimum:o,maximum:c,format:h,multipleOf:d,exclusiveMaximum:p,exclusiveMinimum:v}=t._zod.bag;typeof h=="string"&&h.includes("int")?i.type="integer":i.type="number",typeof v=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=v,i.exclusiveMinimum=!0):i.exclusiveMinimum=v),typeof o=="number"&&(i.minimum=o,typeof v=="number"&&e.target!=="draft-04"&&(v>=o?delete i.minimum:delete i.exclusiveMinimum)),typeof p=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=p,i.exclusiveMaximum=!0):i.exclusiveMaximum=p),typeof c=="number"&&(i.maximum=c,typeof p=="number"&&e.target!=="draft-04"&&(p<=c?delete i.maximum:delete i.exclusiveMaximum)),typeof d=="number"&&(i.multipleOf=d)},WU=(t,e,n,r)=>{n.not={}},e9=(t,e,n,r)=>{},t9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},n9=(t,e,n,r)=>{const i=t._zod.def,o=Q2(i.entries);o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),n.enum=o},r9=(t,e,n,r)=>{const i=t._zod.def,o=[];for(const c of i.values)if(c===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof c=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(c))}else o.push(c);if(o.length!==0)if(o.length===1){const c=o[0];n.type=c===null?"null":typeof c,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[c]:n.const=c}else o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),o.every(c=>typeof c=="boolean")&&(n.type="boolean"),o.every(c=>c===null)&&(n.type="null"),n.enum=o},s9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},i9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},a9=(t,e,n,r)=>{const i=n,o=t._zod.def,{minimum:c,maximum:h}=t._zod.bag;typeof c=="number"&&(i.minItems=c),typeof h=="number"&&(i.maxItems=h),i.type="array",i.items=gn(o.element,e,{...r,path:[...r.path,"items"]})},o9=(t,e,n,r)=>{const i=n,o=t._zod.def;i.type="object",i.properties={};const c=o.shape;for(const p in c)i.properties[p]=gn(c[p],e,{...r,path:[...r.path,"properties",p]});const h=new Set(Object.keys(c)),d=new Set([...h].filter(p=>{const v=o.shape[p]._zod;return e.io==="input"?v.optin===void 0:v.optout===void 0}));d.size>0&&(i.required=Array.from(d)),o.catchall?._zod.def.type==="never"?i.additionalProperties=!1:o.catchall?o.catchall&&(i.additionalProperties=gn(o.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},l9=(t,e,n,r)=>{const i=t._zod.def,o=i.inclusive===!1,c=i.options.map((h,d)=>gn(h,e,{...r,path:[...r.path,o?"oneOf":"anyOf",d]}));o?n.oneOf=c:n.anyOf=c},c9=(t,e,n,r)=>{const i=t._zod.def,o=gn(i.left,e,{...r,path:[...r.path,"allOf",0]}),c=gn(i.right,e,{...r,path:[...r.path,"allOf",1]}),h=p=>"allOf"in p&&Object.keys(p).length===1,d=[...h(o)?o.allOf:[o],...h(c)?c.allOf:[c]];n.allOf=d},u9=(t,e,n,r)=>{const i=t._zod.def,o=gn(i.innerType,e,r),c=e.seen.get(t);e.target==="openapi-3.0"?(c.ref=i.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},h9=(t,e,n,r)=>{const i=t._zod.def;gn(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType},d9=(t,e,n,r)=>{const i=t._zod.def;gn(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},f9=(t,e,n,r)=>{const i=t._zod.def;gn(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},m9=(t,e,n,r)=>{const i=t._zod.def;gn(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType;let c;try{c=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},p9=(t,e,n,r)=>{const i=t._zod.def,o=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;gn(o,e,r);const c=e.seen.get(t);c.ref=o},g9=(t,e,n,r)=>{const i=t._zod.def;gn(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType,n.readOnly=!0},yR=(t,e,n,r)=>{const i=t._zod.def;gn(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType},y9=ie("ZodISODateTime",(t,e)=>{bL.init(t,e),Tt.init(t,e)});function v9(t){return SU(y9,t)}const _9=ie("ZodISODate",(t,e)=>{xL.init(t,e),Tt.init(t,e)});function b9(t){return AU(_9,t)}const x9=ie("ZodISOTime",(t,e)=>{wL.init(t,e),Tt.init(t,e)});function w9(t){return IU(x9,t)}const E9=ie("ZodISODuration",(t,e)=>{EL.init(t,e),Tt.init(t,e)});function T9(t){return RU(E9,t)}const S9=(t,e)=>{W2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>f5(t,n)},flatten:{value:n=>d5(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,pv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,pv,2)}},isEmpty:{get(){return t.issues.length===0}}})},wr=ie("ZodError",S9,{Parent:Error}),A9=Z_(wr),I9=Y_(wr),R9=ep(wr),N9=tp(wr),C9=g5(wr),D9=y5(wr),k9=v5(wr),j9=_5(wr),O9=b5(wr),P9=x5(wr),M9=w5(wr),V9=E5(wr),Dt=ie("ZodType",(t,e)=>(Ct.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:xm(t,"input"),output:xm(t,"output")}}),t.toJSONSchema=ZU(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(ca(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>ua(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>A9(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>R9(t,n,r),t.parseAsync=async(n,r)=>I9(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>N9(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>C9(t,n,r),t.decode=(n,r)=>D9(t,n,r),t.encodeAsync=async(n,r)=>k9(t,n,r),t.decodeAsync=async(n,r)=>j9(t,n,r),t.safeEncode=(n,r)=>O9(t,n,r),t.safeDecode=(n,r)=>P9(t,n,r),t.safeEncodeAsync=async(n,r)=>M9(t,n,r),t.safeDecodeAsync=async(n,r)=>V9(t,n,r),t.refine=(n,r)=>t.check(D8(n,r)),t.superRefine=n=>t.check(k8(n)),t.overwrite=n=>t.check(mc(n)),t.optional=()=>E1(t),t.exactOptional=()=>v8(t),t.nullable=()=>T1(t),t.nullish=()=>E1(T1(t)),t.nonoptional=n=>T8(t,n),t.array=()=>J_(t),t.or=n=>W_([t,n]),t.and=n=>d8(t,n),t.transform=n=>S1(t,g8(n)),t.default=n=>x8(t,n),t.prefault=n=>E8(t,n),t.catch=n=>A8(t,n),t.pipe=n=>S1(t,n),t.readonly=()=>N8(t),t.describe=n=>{const r=t.clone();return ju.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return ju.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return ju.get(t);const r=t.clone();return ju.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),vR=ie("_ZodString",(t,e)=>{X_.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,i,o)=>XU(t,r,i);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(OU(...r)),t.includes=(...r)=>t.check(VU(...r)),t.startsWith=(...r)=>t.check(zU(...r)),t.endsWith=(...r)=>t.check(LU(...r)),t.min=(...r)=>t.check(bm(...r)),t.max=(...r)=>t.check(dR(...r)),t.length=(...r)=>t.check(fR(...r)),t.nonempty=(...r)=>t.check(bm(1,...r)),t.lowercase=r=>t.check(PU(r)),t.uppercase=r=>t.check(MU(r)),t.trim=()=>t.check(FU()),t.normalize=(...r)=>t.check(UU(...r)),t.toLowerCase=()=>t.check(BU()),t.toUpperCase=()=>t.check(qU()),t.slugify=()=>t.check($U())}),z9=ie("ZodString",(t,e)=>{X_.init(t,e),vR.init(t,e),t.email=n=>t.check(sU(L9,n)),t.url=n=>t.check(cU(U9,n)),t.jwt=n=>t.check(TU(t8,n)),t.emoji=n=>t.check(uU(F9,n)),t.guid=n=>t.check(g1(b1,n)),t.uuid=n=>t.check(iU(vf,n)),t.uuidv4=n=>t.check(aU(vf,n)),t.uuidv6=n=>t.check(oU(vf,n)),t.uuidv7=n=>t.check(lU(vf,n)),t.nanoid=n=>t.check(hU(B9,n)),t.guid=n=>t.check(g1(b1,n)),t.cuid=n=>t.check(dU(q9,n)),t.cuid2=n=>t.check(fU($9,n)),t.ulid=n=>t.check(mU(H9,n)),t.base64=n=>t.check(xU(J9,n)),t.base64url=n=>t.check(wU(W9,n)),t.xid=n=>t.check(pU(G9,n)),t.ksuid=n=>t.check(gU(K9,n)),t.ipv4=n=>t.check(yU(Q9,n)),t.ipv6=n=>t.check(vU(Z9,n)),t.cidrv4=n=>t.check(_U(Y9,n)),t.cidrv6=n=>t.check(bU(X9,n)),t.e164=n=>t.check(EU(e8,n)),t.datetime=n=>t.check(v9(n)),t.date=n=>t.check(b9(n)),t.time=n=>t.check(w9(n)),t.duration=n=>t.check(T9(n))});function Nn(t){return rU(z9,t)}const Tt=ie("ZodStringFormat",(t,e)=>{xt.init(t,e),vR.init(t,e)}),L9=ie("ZodEmail",(t,e)=>{hL.init(t,e),Tt.init(t,e)}),b1=ie("ZodGUID",(t,e)=>{cL.init(t,e),Tt.init(t,e)}),vf=ie("ZodUUID",(t,e)=>{uL.init(t,e),Tt.init(t,e)}),U9=ie("ZodURL",(t,e)=>{dL.init(t,e),Tt.init(t,e)}),F9=ie("ZodEmoji",(t,e)=>{fL.init(t,e),Tt.init(t,e)}),B9=ie("ZodNanoID",(t,e)=>{mL.init(t,e),Tt.init(t,e)}),q9=ie("ZodCUID",(t,e)=>{pL.init(t,e),Tt.init(t,e)}),$9=ie("ZodCUID2",(t,e)=>{gL.init(t,e),Tt.init(t,e)}),H9=ie("ZodULID",(t,e)=>{yL.init(t,e),Tt.init(t,e)}),G9=ie("ZodXID",(t,e)=>{vL.init(t,e),Tt.init(t,e)}),K9=ie("ZodKSUID",(t,e)=>{_L.init(t,e),Tt.init(t,e)}),Q9=ie("ZodIPv4",(t,e)=>{TL.init(t,e),Tt.init(t,e)}),Z9=ie("ZodIPv6",(t,e)=>{SL.init(t,e),Tt.init(t,e)}),Y9=ie("ZodCIDRv4",(t,e)=>{AL.init(t,e),Tt.init(t,e)}),X9=ie("ZodCIDRv6",(t,e)=>{IL.init(t,e),Tt.init(t,e)}),J9=ie("ZodBase64",(t,e)=>{RL.init(t,e),Tt.init(t,e)}),W9=ie("ZodBase64URL",(t,e)=>{CL.init(t,e),Tt.init(t,e)}),e8=ie("ZodE164",(t,e)=>{DL.init(t,e),Tt.init(t,e)}),t8=ie("ZodJWT",(t,e)=>{jL.init(t,e),Tt.init(t,e)}),_R=ie("ZodNumber",(t,e)=>{lR.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,i,o)=>JU(t,r,i),t.gt=(r,i)=>t.check(v1(r,i)),t.gte=(r,i)=>t.check(Uf(r,i)),t.min=(r,i)=>t.check(Uf(r,i)),t.lt=(r,i)=>t.check(y1(r,i)),t.lte=(r,i)=>t.check(Lf(r,i)),t.max=(r,i)=>t.check(Lf(r,i)),t.int=r=>t.check(x1(r)),t.safe=r=>t.check(x1(r)),t.positive=r=>t.check(v1(0,r)),t.nonnegative=r=>t.check(Uf(0,r)),t.negative=r=>t.check(y1(0,r)),t.nonpositive=r=>t.check(Lf(0,r)),t.multipleOf=(r,i)=>t.check(_1(r,i)),t.step=(r,i)=>t.check(_1(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function wm(t){return NU(_R,t)}const n8=ie("ZodNumberFormat",(t,e)=>{OL.init(t,e),_R.init(t,e)});function x1(t){return CU(n8,t)}const r8=ie("ZodUnknown",(t,e)=>{PL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>e9()});function w1(){return DU(r8)}const s8=ie("ZodNever",(t,e)=>{ML.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>WU(t,n,r)});function i8(t){return kU(s8,t)}const a8=ie("ZodDate",(t,e)=>{VL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,i,o)=>t9(t,r),t.min=(r,i)=>t.check(Uf(r,i)),t.max=(r,i)=>t.check(Lf(r,i));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function o8(t){return jU(a8,t)}const l8=ie("ZodArray",(t,e)=>{zL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>a9(t,n,r,i),t.element=e.element,t.min=(n,r)=>t.check(bm(n,r)),t.nonempty=n=>t.check(bm(1,n)),t.max=(n,r)=>t.check(dR(n,r)),t.length=(n,r)=>t.check(fR(n,r)),t.unwrap=()=>t.element});function J_(t,e){return HU(l8,t,e)}const c8=ie("ZodObject",(t,e)=>{UL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>o9(t,n,r,i),ot(t,"shape",()=>e.shape),t.keyof=()=>f8(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:w1()}),t.loose=()=>t.clone({...t._zod.def,catchall:w1()}),t.strict=()=>t.clone({...t._zod.def,catchall:i8()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>o5(t,n),t.safeExtend=n=>l5(t,n),t.merge=n=>c5(t,n),t.pick=n=>i5(t,n),t.omit=n=>a5(t,n),t.partial=(...n)=>u5(bR,t,n[0]),t.required=(...n)=>h5(xR,t,n[0])});function Ah(t,e){const n={type:"object",shape:t??{},...Se(e)};return new c8(n)}const u8=ie("ZodUnion",(t,e)=>{FL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>l9(t,n,r,i),t.options=e.options});function W_(t,e){return new u8({type:"union",options:t,...Se(e)})}const h8=ie("ZodIntersection",(t,e)=>{BL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>c9(t,n,r,i)});function d8(t,e){return new h8({type:"intersection",left:t,right:e})}const yv=ie("ZodEnum",(t,e)=>{qL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,i,o)=>n9(t,r,i),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const o={};for(const c of r)if(n.has(c))o[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new yv({...e,checks:[],...Se(i),entries:o})},t.exclude=(r,i)=>{const o={...e.entries};for(const c of r)if(n.has(c))delete o[c];else throw new Error(`Key ${c} not found in enum`);return new yv({...e,checks:[],...Se(i),entries:o})}});function f8(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new yv({type:"enum",entries:n,...Se(e)})}const m8=ie("ZodLiteral",(t,e)=>{$L.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>r9(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function vv(t,e){return new m8({type:"literal",values:Array.isArray(t)?t:[t],...Se(e)})}const p8=ie("ZodTransform",(t,e)=>{HL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>i9(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new G2(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(oh(o,n.value,e));else{const c=o;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(oh(c))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(o=>(n.value=o,n)):(n.value=i,n)}});function g8(t){return new p8({type:"transform",transform:t})}const bR=ie("ZodOptional",(t,e)=>{hR.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>yR(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function E1(t){return new bR({type:"optional",innerType:t})}const y8=ie("ZodExactOptional",(t,e)=>{GL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>yR(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function v8(t){return new y8({type:"optional",innerType:t})}const _8=ie("ZodNullable",(t,e)=>{KL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>u9(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function T1(t){return new _8({type:"nullable",innerType:t})}const b8=ie("ZodDefault",(t,e)=>{QL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>d9(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function x8(t,e){return new b8({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Y2(e)}})}const w8=ie("ZodPrefault",(t,e)=>{ZL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>f9(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function E8(t,e){return new w8({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Y2(e)}})}const xR=ie("ZodNonOptional",(t,e)=>{YL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>h9(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function T8(t,e){return new xR({type:"nonoptional",innerType:t,...Se(e)})}const S8=ie("ZodCatch",(t,e)=>{XL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>m9(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function A8(t,e){return new S8({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const I8=ie("ZodPipe",(t,e)=>{JL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>p9(t,n,r,i),t.in=e.in,t.out=e.out});function S1(t,e){return new I8({type:"pipe",in:t,out:e})}const R8=ie("ZodReadonly",(t,e)=>{WL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>g9(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function N8(t){return new R8({type:"readonly",innerType:t})}const C8=ie("ZodCustom",(t,e)=>{eU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>s9(t,n)});function D8(t,e={}){return GU(C8,t,e)}function k8(t){return KU(t)}const j8=Ah({id:Nn().optional(),name:Nn().min(1),dupr:wm().nonnegative().optional(),imageUrl:Nn().optional(),createdAt:Nn().optional()}),eb=W_([vv(1),vv(2)]),A1=Ah({player1Id:Nn(),player2Id:Nn()}),O8=Ah({id:Nn().optional(),team1:A1,team2:A1,team1Score:wm().nonnegative().optional(),team2Score:wm().nonnegative().optional(),courtId:Nn().optional(),roundNumber:eb}),P8=Ah({id:Nn().optional(),playerIds:J_(Nn()).min(4).max(5),roundNumber:eb,courtNumber:wm().positive()}),M8=W_([eb,vv("standings")]),V8=Ah({id:Nn(),name:Nn(),startDateTime:o8(),location:Nn().optional(),link:Nn().optional(),ongoingStage:M8.optional(),standings:J_(Nn()).optional()}),z8=t=>({EeI9ewBfoKpSajmerLDH:"John Doe",GqsPoUKXTw3kJMSJqwU0:"Jane Smith",RGq6NFnJfWIcvQqdifLt:"Alex Johnson",T28AtFw8KdQU23bXrGKh:"Rock Star",TMUWdVphOwXWWpBD0tg4:"Michael Lee",W3tjD6JMTZvL7h9DBekb:"Sarah Kim",bmIXpKlFhwhNuex6mG3a:"Chris Brown",cFbaelu4ZQhUiUovuSDq:"Hayden Patriquin",de634TOQoQt6DcvdllTE:"David Wilson",ev1yGMQ2TwdWVulSScR3:"Ashley Moore",lR41KMImIthFWUlTfvcq:"Brian Clark",ov1yJixQu0Y7GgSVGOS3:"Olivia Hall",s9CKyNz5sETtOI6s9gJb:"Matthew Young",sBaVpfAOMRsqcUiaVdXN:"Sophia King",sewQTUTqabMCEYb80N8L:"Daniel Wright",tgJHqe0ToCymKcHIthmM:"Megan Scott",v8BhDF0WAc6VgcOwc87B:"Ryan Adams",wekFMjCMfuI7MNNVYVnO:"Lauren Baker",zi6ygH5Iais5EPUVR0Ix:"Kevin Perez","55YtackrvsPralsAJY2V":"Natalie Roberts"})[t],wR={champion:{name:"Champion",gradient:["#FFF8DC","#F0E68C"],accent:"#DAA520",text:"#8B4513"},competitive:{name:"Competitive",gradient:["#E6F3FF","#B0D4F1"],accent:"#4682B4",text:"#2F4F4F"},rising:{name:"Rising Star",gradient:["#F0FFF0","#C1E1C1"],accent:"#6B8E23",text:"#2E5D2E"},rookie:{name:"Rookie",gradient:["#FFE4E1","#F5DEB3"],accent:"#CD853F",text:"#8B4513"},default:{name:"Player",gradient:["#F5F5F5","#E0E0E0"],accent:"#808080",text:"#505050"}},I1=["hexagon","diamond","paddle","court","geometric"];function ER(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return Math.abs(e)}function L8(t){const e=ER(t),n=Object.keys(wR);return n[e%n.length]}function R1(t,e){const n=t/2,r=t/2,i=t*.3;let o="";for(let c=0;c<6;c++){const h=(c*60-90)*(Math.PI/180),d=n+i*Math.cos(h),p=r+i*Math.sin(h);o+=c===0?`M ${d} ${p}`:` L ${d} ${p}`}return o+=" Z",`<path d="${o}" fill="${e.accent}" opacity="0.25"/>`}function U8(t,e){const n=t/2,r=t/2,i=t*.25,o=[];for(let c=0;c<3;c++){const h=(c-1)*i*.8,d=`M ${n} ${r-i+h} 
                  L ${n+i*.6} ${r+h} 
                  L ${n} ${r+i+h} 
                  L ${n-i*.6} ${r+h} Z`;o.push(`<path d="${d}" fill="${e.accent}" opacity="${.15+c*.08}"/>`)}return o.join("")}function F8(t,e){const n=t/2,r=t/2,i=`M ${n-2} ${r+t*.2} 
                      L ${n+2} ${r+t*.2} 
                      L ${n+2} ${r+t*.35} 
                      L ${n-2} ${r+t*.35} Z`,o=t*.15;return`
    <path d="${`M ${n-o} ${r-t*.15} 
                    A ${o} ${o} 0 0 1 ${n+o} ${r-t*.15} 
                    L ${n+o} ${r+t*.15} 
                    A ${o} ${o} 0 0 1 ${n-o} ${r+t*.15} Z`}" fill="${e.accent}" opacity="0.2"/>
    <path d="${i}" fill="${e.accent}" opacity="0.3"/>
  `}function B8(t,e){const n=[],i=t/5;for(let o=1;o<5;o++){const c=o*i;n.push(`<line x1="0" y1="${c}" x2="${t}" y2="${c}" stroke="${e.accent}" stroke-width="1" opacity="0.25"/>`)}return n.push(`<line x1="${t/2}" y1="${i}" x2="${t/2}" y2="${t-i}" stroke="${e.accent}" stroke-width="1" opacity="0.3"/>`),n.join("")}function q8(t,e,n){const r=[],i=2+n%3;for(let o=0;o<i;o++){const c=t*.1+n%18,h=n*(o+1)%(t-c),d=n*(o+2)%(t-c),p=.1+o*.05;o%2===0?r.push(`<circle cx="${h+c/2}" cy="${d+c/2}" r="${c/2}" fill="${e.accent}" opacity="${p}"/>`):r.push(`<rect x="${h}" y="${d}" width="${c}" height="${c}" fill="${e.accent}" opacity="${p}"/>`)}return r.join("")}function $8(t,e,n,r){switch(t){case"hexagon":return R1(e,n);case"diamond":return U8(e,n);case"paddle":return F8(e,n);case"court":return B8(e,n);case"geometric":return q8(e,n,r);default:return R1(e,n)}}function H8(t){const{playerId:e,playerName:n,size:r=64}=t,i=ER(e+n),o=L8(e),c=wR[o],h=I1[i%I1.length],d=n.split(" ").map(_=>_.charAt(0).toUpperCase()).slice(0,2).join(""),p=$8(h,r,c,i);return`
    <svg width="${r}" height="${r}" viewBox="0 0 ${r} ${r}" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="bg-gradient-${i}" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:${c.gradient[0]};stop-opacity:1" />
          <stop offset="100%" style="stop-color:${c.gradient[1]};stop-opacity:1" />
        </linearGradient>
      </defs>
      
      <!-- Background -->
      <rect width="${r}" height="${r}" fill="url(#bg-gradient-${i})" rx="${r*.1}" />
      
      <!-- Pattern -->
      ${p}
      
      <!-- Initials -->
      <text 
        x="${r/2}" 
        y="${r/2+5}" 
        text-anchor="middle" 
        font-family="Inter, system-ui, -apple-system, sans-serif" 
        font-size="${r*.35}" 
        font-weight="700" 
        fill="${c.text}"
        opacity="0.9"
      >
        ${d}
      </text>
    </svg>
  `.trim()}function G8(t){const e=H8(t);return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(e)))}`}function K8(t){if(t){if(typeof t?.toDate=="function")return t.toDate().toISOString();if(typeof t=="string")return t}}function Q8(t){if(t){if(typeof t?.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);if(!isNaN(e.getTime()))return e}}}const Z8={toFirestore(t){const{id:e,createdAt:n,...r}=t;return{...r,createdAt:n||$3()}},fromFirestore(t,e){const n=t.data(e),r=z8(t.id);r||console.log("No demo name for player id:",t.id);const i=r||n.name;let o=n.imageUrl;i&&typeof i=="string"&&(o=G8({playerId:t.id,playerName:i,size:64}));const c={id:t.id,name:i,dupr:n.dupr,imageUrl:o,createdAt:K8(n.createdAt)};return j8.parse(c)}},Y8={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,...n};return O8.parse(r)}},X8={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),{playerIds:r,...i}=n,o={playerIds:Array.isArray(r)?r.map(String):[],...i,id:t.id};return P8.parse(o)}},J8={toFirestore(t){const{id:e,...n}=t,{...r}=n;return{...r}},fromFirestore(t,e){const n=t.data(e);let r=new Date;try{r=Q8(n.startDateTime)||new Date}catch(o){console.log(o)}const i={id:t.id,name:n.name,startDateTime:r,location:n.location,link:n.link,standings:Array.isArray(n.standings)?n.standings.map(String):void 0,label:n.label};return V8.parse(i)}};function TR(t,e,n){const r=[e];async function i(h){await t.cancelQueries({queryKey:[e,n]});const d=n?t.getQueryData([e,n]):null,p=t.getQueryData(r),v=h?.id??n,_=v?{...d,...h,id:v}:void 0;return _&&_.id&&(t.setQueryData([e,_.id],_),t.setQueryData(r,w=>{const T=w??[],D=T.findIndex(k=>k.id===_.id);if(D>=0){const k=[...T];return k[D]=_,k}return[_,...T]})),{previousItem:d,previousList:p}}function o(...h){const d=h[h.length-1];d?.previousItem&&n&&t.setQueryData([e,n],d.previousItem),d?.previousList?t.setQueryData(r,d.previousList):t.invalidateQueries({queryKey:r})}function c(...h){const d=h[0];if(typeof d=="string"&&d)t.invalidateQueries({queryKey:[e,d]});else if(d&&typeof d=="object"&&"id"in d){const p=d.id;p&&t.invalidateQueries({queryKey:[e,p]})}t.invalidateQueries({queryKey:r})}return{onMutate:i,onError:o,onSettled:c}}function SR(t,e,n){const r=rc(),o=dS({queryKey:[t,n],queryFn:async()=>!n||!t?null:Qz(t,n,e),enabled:!!n,staleTime:1e3*60}),c=t?TR(r,t,n):void 0,h=Am({mutationFn:async d=>{if(!t)return d;if(d?.id)return await Zz(t,d.id,d,e),d;{const p=await H2(t,d,e);return{...d,id:p}}},onMutate:c?.onMutate,onError:c?.onError,onSettled:c?.onSettled});return{...o,upsert:h.mutateAsync,upsertState:{status:h.status,error:h.error??null}}}function AR(t,e){const n=dS({queryKey:[t],queryFn:async()=>t?(await Jz(t,{pageSize:1e3,converter:e})).docs:[],staleTime:6e4,enabled:!!t});return t?n:{...n,data:[],isLoading:!1,error:new Error("Missing collectionName")}}function W8(t,e){const n=rc();return Am({mutationFn:async r=>await H2(t,r,e),onMutate:async r=>{await n.cancelQueries({queryKey:[t]});const i=n.getQueryData([t]),o=`__tmp__${Date.now()}`,c={...r,id:o};return n.setQueryData([t],h=>[c,...h??[]]),{previousList:i}},onError:(r,i,o)=>{o?.previousList?n.setQueryData([t],o.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:r=>{n.invalidateQueries({queryKey:[t]}),r&&n.invalidateQueries({queryKey:[t,r]})}})}function eF(t,e){const n=rc(),r=TR(n,t);return Am({mutationFn:async i=>{const o=i.id;if(!o)throw new Error("id required for update");await Yz(t,o,i,e)},onMutate:r.onMutate,onError:r.onError,onSettled:r.onSettled})}function tF(t){const e=rc();return Am({mutationFn:async n=>{if(!n)throw new Error("id required for delete");await Xz(t,n)},onMutate:async n=>{if(!n)return{};await e.cancelQueries({queryKey:[t]});const r=e.getQueryData([t,n]),i=e.getQueryData([t]);return i&&e.setQueryData([t],i.filter(o=>o.id!==n)),e.setQueryData([t,n],null),{previous:r,previousList:i}},onError:(n,r,i)=>{const o=r;i?.previous&&o&&e.setQueryData([t,o],i.previous),i?.previousList?e.setQueryData([t],i.previousList):e.invalidateQueries({queryKey:[t]})},onSettled:(n,r,i)=>{i&&e.invalidateQueries({queryKey:[t,i]}),e.invalidateQueries({queryKey:[t]})}})}function IR(t,e){const n=W8(t,e);return{create:n.mutateAsync,status:n.status,error:n.error??null}}function RR(t,e){const n=eF(t,e);return{update:n.mutateAsync,status:n.status,error:n.error??null}}function NR(t){const e=tF(t);return{remove:e.mutateAsync,status:e.status,error:e.error??null}}function CR(t,e,n){const r=!!t&&!!n,[i,o]=z.useState(null),[c,h]=z.useState(null);return z.useEffect(()=>{if(!r)return;const p=b_(ri,t),v=e?p.withConverter(e):p,_=dc(v,n),w=u2(_,T=>{T.exists()?o(T.data()):o(null)},T=>{h(T)});return()=>{w()}},[r,t,n,e]),{data:r?i:null,loading:r&&i===null&&c===null,error:r?c:null}}function DR(t,e){const[n,r]=z.useState(null),[i,o]=z.useState(!0),[c,h]=z.useState(null),[d,p]=z.useState(t);return z.useEffect(()=>{if(!t)return;const v=b_(ri,t),_=e?v.withConverter(e):v,w=u2(_,T=>{const D=T.docs.map(k=>k.data());r(D),o(!1)},T=>{h(T),o(!1)});return()=>{w()}},[t,e]),t?{data:n,loading:i,error:c}:{data:[],loading:!1,error:new Error("Missing collectionName")}}function kR(t,e){function n(p){return SR(t,e,p)}function r(){return AR(t,e)}function i(){return IR(t,e)}function o(){return RR(t,e)}function c(){return NR(t)}function h(p){return CR(t,e,p)}function d(){return DR(t,e)}return{useEntity:n,useEntities:r,useCreate:i,useUpdate:o,useDelete:c,useEntityRealtime:h,useEntitiesRealtime:d}}function nF(t,e){function n(...p){const v=t(...p),_=AR(v,e);return v?_:{..._,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function r(...p){const v=p.slice(0,-1),_=p[p.length-1],w=t(...v),T=SR(w,e,_);return w?T:{...T,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}function i(...p){const v=t(...p),_=IR(v,e);return v?_:{..._,create:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function o(...p){const _=t(...p),w=RR(_,e);return _?w:{...w,update:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function c(...p){const v=t(...p),_=NR(v);return v?_:{..._,remove:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function h(...p){const v=t(...p),_=DR(v,e);return v?_:{..._,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function d(...p){const v=p.slice(0,-1),_=p[p.length-1],w=t(...v),T=CR(w,e,_);return w?T:{...T,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}return{useEntities:n,useEntity:r,useCreate:i,useUpdate:o,useDelete:c,useEntitiesRealtime:h,useEntityRealtime:d}}const jR=(t,e,n)=>nF(r=>r?`${t}/${r}/${e}`:void 0,n),{useEntities:Ih,useCreate:rF,useEntitiesRealtime:sF}=kR("players",Z8),{useEntity:OR,useEntities:Co,useUpdate:PR,useEntityRealtime:iF}=kR("events",J8),{useCreate:aF,useDelete:oF,useEntitiesRealtime:MR}=jR("events","courts",X8),{useCreate:lF,useUpdate:cF,useDelete:uF,useEntitiesRealtime:VR}=jR("events","games",Y8),tb=({imageUrl:t,name:e,size:n="md",className:r,border:i=!0})=>{const o={sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-xs",lg:"h-12 w-12 text-sm",xl:"h-16 w-16 text-base"},c={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-8 w-8"},h=bn("rounded-full object-cover flex-shrink-0",o[n],i&&"border border-border",r);if(t){const d=t.startsWith("/")?`/${t.slice(1)}`:t;return g.jsx("img",{src:d,alt:e,className:h})}return g.jsx("div",{className:bn(h,"bg-surface-highlight flex items-center justify-center"),children:e?g.jsx("span",{className:"font-bold text-text-muted",children:e.charAt(0)}):g.jsx(gS,{className:bn("text-text-muted",c[n])})})},Gs=({children:t,primaryColor:e="primary",secondaryColor:n="success",className:r=""})=>g.jsx("div",{className:`relative overflow-hidden ${r}`,children:g.jsxs("div",{className:`bg-gradient-to-br from-${e}/10 via-surface/5 to-${n}/10 rounded-xl p-4 md:p-8 border border-${e}/20`,children:[t,g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-${e}/10 to-transparent rounded-full blur-2xl -z-10`}),g.jsx("div",{className:`absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-${n}/10 to-transparent rounded-full blur-2xl -z-10`})]})}),$s=({children:t,className:e="",as:n="h2",subtitle:r,icon:i,iconColor:o="primary"})=>{const c=n;return g.jsxs("div",{className:`text-center mb-8 ${e}`,children:[i&&g.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-${o} to-${o}/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300`,children:i}),g.jsx(c,{className:"text-2xl md:text-3xl font-black text-text-main mb-2",children:t}),r&&g.jsx("div",{className:"text-lg text-text-muted max-w-2xl mx-auto",children:r})]})},Qi=({emoji:t,title:e,value:n,description:r,color:i="primary",className:o=""})=>g.jsxs("div",{className:`group relative overflow-hidden rounded-2xl bg-gradient-to-br from-${i}/10 to-${i}/5 border-2 border-${i}/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 ${o}`,children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"mb-4",children:t}),g.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:e}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:`text-2xl font-black text-${i}`,children:n}),r&&g.jsx("div",{className:"text-text-muted font-medium",children:r})]})]}),g.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 bg-${i}/5 rounded-full blur-xl`})]}),zl=({badgeContent:t,title:e,description:n,emoji:r,color:i="primary",className:o=""})=>g.jsx("div",{className:`group relative overflow-hidden rounded-2xl bg-gradient-to-r from-${i}/20 via-${i}/10 to-${i}/5 border-2 border-${i}/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] ${o}`,children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-${i} to-${i}/80 rounded-full flex items-center justify-center shadow-lg`,children:g.jsx("span",{className:"text-2xl font-black text-white",children:t})})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("div",{className:"text-lg font-bold text-text-main mb-1",children:e}),g.jsx("div",{className:"text-text-muted",children:n})]}),r&&g.jsx("div",{className:"text-3xl opacity-50",children:r})]})}),hF=()=>g.jsxs(Gs,{primaryColor:"warning",secondaryColor:"primary",children:[g.jsx($s,{icon:g.jsx(vr,{className:"h-10 w-10 text-white"}),iconColor:"warning",subtitle:"Compete for exclusive prizes and eternal glory in our inaugural competitive season",children:"Season 1 Championship"}),g.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[g.jsx("div",{className:"text-center lg:text-left",children:g.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-2xl p-8 border border-primary/20 shadow-lg",children:[g.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[g.jsx(Hu,{className:"h-8 w-8 text-primary"}),g.jsx("h3",{className:"text-2xl font-bold text-text-main",children:"Season Duration"})]}),g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{className:"text-center lg:text-left",children:[g.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"4"}),g.jsx("div",{className:"text-xl font-semibold text-text-main",children:"Weeks of Competition"}),g.jsx("div",{className:"text-text-muted mt-2",children:"Every Sunday  7PM-10PM"})]})})]})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-bold text-text-main mb-6 text-center lg:text-left",children:"Championship Rewards"}),g.jsx("p",{className:"text-text-muted mb-6 text-center lg:text-left",children:"Top 3 finishers earn exclusive Joola gear and club points:"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(zl,{badgeContent:"1st",title:"Champion",description:g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"font-semibold text-warning",children:"Joola Hat"})," +",g.jsx("span",{className:"font-semibold text-primary ml-1",children:"25 Club Points"})]}),emoji:"",color:"warning"}),g.jsx(zl,{badgeContent:"2nd",title:"Runner-up",description:g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"font-semibold text-text-accent",children:"Joola Water Bottle"})," +",g.jsx("span",{className:"font-semibold text-primary ml-1",children:"15 Club Points"})]}),emoji:"",color:"text-accent"}),g.jsx(zl,{badgeContent:"3rd",title:"Third Place",description:g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"font-semibold text-bronze",children:"Joola Wristbands"})," +",g.jsx("span",{className:"font-semibold text-primary ml-1",children:"10 Club Points"})]}),emoji:"",color:"bronze"})]})]})]})]}),dF=t=>t?t.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"",fF=t=>t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",mF=({players:t,topPlayers:e,seriesLabel:n,nextEvent:r})=>g.jsxs("div",{className:"space-y-16 pb-12",children:[g.jsx("div",{className:"relative overflow-hidden",children:g.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-success/10 border border-success/20 mb-6",children:[g.jsxs("span",{className:"relative flex h-2 w-2",children:[g.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success opacity-75"}),g.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-success"})]}),g.jsxs("span",{className:"text-sm font-semibold text-success",children:[n," is Live"]})]}),g.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-text-main mb-6 tracking-tight leading-tight",children:["Paddle Up",g.jsx("br",{}),g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-text-accent",children:"Premier League"})]}),g.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto leading-relaxed",children:"Join our competitive pickleball league designed for advanced players looking to test their skills and climb the rankings each week."}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[g.jsxs(Rt,{to:"/standings",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-all duration-300 shadow-lg shadow-primary/20 flex items-center gap-2 hover:scale-105",children:["View Standings ",g.jsx(xf,{className:"h-5 w-5"})]}),g.jsx(Rt,{to:"/format",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-all duration-300 flex items-center gap-2",children:"League Format"})]})]}),g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),g.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 bg-success/5 rounded-full blur-xl -z-10"})]})}),g.jsxs(Gs,{primaryColor:"primary",secondaryColor:"success",children:[g.jsx($s,{icon:g.jsx(Im,{className:"h-10 w-10 text-white"}),iconColor:"primary",subtitle:"Weekly competitive action with structured format and player advancement",children:"League Overview"}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsx(Qi,{emoji:"",title:"Players",value:"16",description:"per night",color:"primary"}),g.jsx(Qi,{emoji:"",title:"Schedule",value:"7-10 PM",description:"Every Sunday",color:"success"}),g.jsx(Qi,{emoji:"",title:"Prize Pool",value:"100",description:"Club Points",color:"warning"}),g.jsx(Qi,{emoji:"",title:"Level",value:"3.5+ DUPR",description:"Required",color:"text-accent"})]})]}),g.jsx(hF,{}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsx("div",{className:"relative overflow-hidden",children:g.jsxs("div",{className:"bg-gradient-to-br from-success/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-success/20 shadow-2xl h-full",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:g.jsx(vr,{className:"h-8 w-8 text-white"})}),g.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Current Leaders"}),g.jsx("div",{className:"flex items-center justify-center gap-2",children:g.jsxs(Rt,{to:"/standings",className:"text-success hover:text-success font-semibold text-sm flex items-center gap-1",children:["Full Standings ",g.jsx(xf,{className:"h-4 w-4"})]})})]}),g.jsx("div",{className:"space-y-4",children:e.map((i,o)=>{const c=t.find(h=>h.id===i.playerId)||{name:"Unknown",imageUrl:""};return g.jsxs(Rt,{to:`/player/${i.playerId}`,className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-4 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] block",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:g.jsx("span",{className:"text-lg font-black text-white",children:o+1})}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(tb,{imageUrl:c.imageUrl,name:c.name,size:"md",className:"group-hover:ring-2 ring-success transition-all"}),g.jsx("span",{className:"font-bold text-text-main group-hover:text-success transition-colors",children:c.name})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:"block font-bold text-success",children:[i.points," pts"]}),g.jsxs("span",{className:"text-xs text-text-muted",children:[i.events," Events"]})]})]}),g.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]},i.playerId)})}),g.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),g.jsx("div",{className:"relative overflow-hidden",children:g.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-warning/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl h-full",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:g.jsx(co,{className:"h-8 w-8 text-white"})}),g.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:" Next Match Night"})]}),r?g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:g.jsx("span",{className:"text-lg font-black text-white",children:""})})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Date"}),g.jsx("div",{className:"text-lg font-bold text-text-main",children:dF(r.startDateTime)})]})]})}),g.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:g.jsx("span",{className:"text-lg font-black text-white",children:""})})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Time"}),g.jsx("div",{className:"text-lg font-bold text-text-main",children:fF(r.startDateTime)})]})]})}),g.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:g.jsx("span",{className:"text-lg font-black text-white",children:""})})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Location"}),g.jsx("div",{className:"text-lg font-bold text-text-main",children:r.location})]})]})}),g.jsx("div",{className:"pt-4",children:g.jsxs("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-primary text-white px-6 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center justify-center gap-2",children:["Register on CourtReserve",g.jsx(Dv,{className:"h-5 w-5"})]})})]}):g.jsx("div",{className:"space-y-6",children:g.jsxs("div",{className:"text-center p-8",children:[g.jsx("div",{className:"text-6xl mb-4 opacity-50",children:""}),g.jsx("p",{className:"text-text-muted mb-6",children:"No upcoming match nights are listed. Check the full schedule for details."}),g.jsx(Rt,{to:"/schedule",className:"inline-flex items-center justify-center px-6 py-3 bg-primary text-white rounded-xl font-bold transition-colors hover:bg-primary-hover",children:"View Schedule"})]})}),g.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),g.jsx("div",{className:"relative overflow-hidden",children:g.jsxs("div",{className:"bg-gradient-to-br from-text-accent/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-text-accent/20 shadow-2xl",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-text-accent to-text-accent/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:g.jsx(hh,{className:"h-10 w-10 text-white"})}),g.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Ready to Compete?"}),g.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:"We are always looking for competitive players to join the roster. Check out the format and rules to see if you qualify for our premier league."}),g.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[g.jsxs(Rt,{to:"/format",className:"bg-text-accent text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent/80 transition-colors shadow-lg shadow-text-accent/20 flex items-center gap-2",children:["View League Format ",g.jsx(xf,{className:"h-5 w-5"})]}),g.jsx(Rt,{to:"/standings",className:"bg-surface border-2 border-text-accent text-text-accent px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent hover:text-white transition-colors",children:"Current Standings"})]})]}),g.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),ds=(t,e=3)=>e===5?yF(t):e===2?pF(t):gF(t),pF=t=>t<1?0:t===1?1e3:t===2?700:t>=8?Math.floor(ds(t-7)/10):t>=3?Math.floor(ds(t-2)/2):0,gF=t=>t<1?0:t===1?1e3:t===2?800:t===3?ds(2)*3/4:t===4?ds(2)*3/5:t>=11?Math.floor(ds(t-10)/10):t>=5?Math.floor(ds(t-3)/2):0,yF=t=>t<1?0:t===1?1e3:t===2?875:t===3?750:t===4?650:t===5?575:t>=19?Math.floor(ds(t-18)/10):t>=6?Math.floor(ds(t-5)/2):0,nb=t=>{if(!t.isCompleted||!Array.isArray(t.standings)||t.standings.length===0)return null;const e=t.standings,n=[];return e.forEach((r,i)=>{const o=i+1,c=Math.ceil(o/4),h=(o-1)%4+1,d=ds(o);n.push({playerId:r,court:c,position:h,rank:o,pointsEarned:d})}),n},vF=t=>{const e=new Map;return t.forEach(n=>{if(!n.standings||n.standings.length===0)return;const r={id:n.id,date:n.startDateTime?n.startDateTime.toISOString():n.id,isCompleted:!0,standings:n.standings},i=nb(r);i&&i.forEach(o=>{const c=o.playerId,h=o.pointsEarned||0,d=e.get(c)||{points:0,events:0,champWins:0};d.points+=h,d.events+=1,o.rank===1&&(d.champWins+=1),e.set(c,d)})}),e},_F=()=>{const{data:t=[]}=Co(),{data:e=[]}=Ih(),n=z.useMemo(()=>{const o=new Map,c=new Map;(t||[]).filter(p=>Array.isArray(p.standings)&&p.standings.length>0).forEach(p=>{const v={id:p.id,date:p.startDateTime?p.startDateTime.toISOString():p.id,isCompleted:!0,standings:p.standings};(nb(v)||[]).forEach(w=>{const T=w.playerId,D=w.pointsEarned||0;o.set(T,(o.get(T)||0)+D),c.set(T,(c.get(T)||0)+1)})});const d=Array.from(o.entries()).map(([p,v])=>({playerId:p,points:v}));return d.sort((p,v)=>v.points-p.points),d.slice(0,3).map((p,v)=>({playerId:p.playerId,points:p.points,events:c.get(p.playerId)||0,rank:v+1}))},[t]),r=z.useMemo(()=>{const o=(t||[]).filter(h=>h.startDateTime instanceof Date&&!isNaN(h.startDateTime.getTime()));if(o.length===0)return"Challenge Series";const c=Array.from(new Set(o.map(h=>h.startDateTime.getFullYear()))).sort();return c.length===1?`${c[0]} Challenge`:`${c[0]}${c[c.length-1]} Challenge`},[t]),i=z.useMemo(()=>{if(!t||t.length===0)return null;const o=t.filter(p=>p.startDateTime instanceof Date&&!isNaN(p.startDateTime.getTime()));o.sort((p,v)=>p.startDateTime.getTime()-v.startDateTime.getTime());const h=new Date().getTime(),d=o.filter(p=>p.startDateTime.getTime()>=h);return d.length>0?d[0]:null},[t]);return g.jsx(mF,{players:e,topPlayers:n,seriesLabel:r,nextEvent:i})},zR=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"unknown":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`},bF=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Unknown Date":e.toLocaleDateString(void 0,{month:"short",year:"numeric"})},xF=t=>{const e=new Map;return t.forEach(n=>{if(n instanceof Date&&!isNaN(n.getTime())){const r=zR(n);e.has(r)||e.set(r,n)}}),Array.from(e.entries()).sort((n,r)=>r[1].getTime()-n[1].getTime()).map(([n,r])=>({key:n,label:bF(r)}))},LR=(t="all")=>{const{data:e=[]}=Ih(),{data:n=[]}=Co();return z.useMemo(()=>{const r=n.filter(h=>Array.isArray(h.standings)&&h.standings.length>0?t==="all"?!0:zR(h.startDateTime)===t:!1),i=vF(r),o=Array.from(i.entries()).map(([h,d])=>({playerId:h,points:d.points,eventsPlayed:d.events,champWins:d.champWins}));return o.sort((h,d)=>d.points-h.points),SO(o,h=>h.points).map(h=>{const d=e.find(p=>p.id===h.playerId);return{...h,name:d?.name||"Unknown",imageUrl:d?.imageUrl||"",dupr:d?.dupr,id:h.playerId}})},[n,e,t])},an=eo.forwardRef(({children:t,className:e,variant:n="default",hover:r=!1,padding:i="md",theme:o="primary",...c},h)=>{const d="rounded-xl border transition-all duration-300",p={sm:"p-4",md:"p-6",lg:"p-8",xl:"p-12"},v={primary:{bg:"from-primary/10 to-primary/5",border:"border-primary/20"},success:{bg:"from-success/10 to-success/5",border:"border-success/20"},warning:{bg:"from-warning/10 to-warning/5",border:"border-warning/20"},error:{bg:"from-error/10 to-error/5",border:"border-error/20"},"text-accent":{bg:"from-text-accent/10 to-text-accent/5",border:"border-text-accent/20"},bronze:{bg:"from-bronze/10 to-bronze/5",border:"border-bronze/20"}},_={default:"bg-surface border-border shadow-sm",premium:`bg-gradient-to-br from-surface via-surface-alt to-surface border-border shadow-2xl ${r?"hover:shadow-3xl hover:scale-[1.02] hover:border-primary/50":""}`,gradient:`bg-gradient-to-br ${v[o].bg} ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`,outlined:"bg-transparent border-border hover:border-primary/50",flat:"bg-surface-alt border-transparent shadow-none",stat:`bg-gradient-to-br ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-105":""}`,info:`bg-gradient-to-r ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`},w=r?"cursor-pointer group":"";return g.jsx("div",{ref:h,className:bn(d,_[n]??_.default,p[i],w,e),...c,children:t})});an.displayName="Card";const wF=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}},UR=({rank:t,className:e,size:n="md"})=>{const r={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},i=o=>o===1?"bg-warning/20 text-warning":o===2?"bg-surface-alt text-text-muted":o===3?"bg-bronze/20 text-bronze":"text-text-muted";return g.jsx("span",{className:bn("flex items-center justify-center rounded-full font-bold",r[n],i(t),e),children:wF(t)})},FR=({data:t,players:e,showEvents:n=!0,showPoints:r=!0,className:i,pointsRenderer:o,rowClassName:c})=>g.jsx(an,{className:bn("p-0 overflow-hidden",i),children:g.jsx("div",{className:"overflow-x-auto w-full",children:g.jsxs("table",{className:"w-full divide-y divide-border rounded-2xl bg-gradient-to-br from-surface/80 to-surface-alt/60 shadow-md",children:[g.jsx("thead",{className:"bg-gradient-to-r from-primary-light/30 to-surface-highlight/60",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider pl-6 rounded-tl-2xl",children:"Rank"}),g.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider",children:"Player"}),r&&g.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-text-main uppercase tracking-wider",children:"Points"}),n&&g.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider rounded-tr-2xl",children:"Events"})]})}),g.jsx("tbody",{className:"bg-surface divide-y divide-border",children:t.map((h,d)=>{const p=e?.find(v=>v.id===h.playerId)||{name:"Unknown",imageUrl:"",id:"unknown"};return g.jsxs("tr",{className:bn("hover:bg-surface-highlight/70 transition-colors",c?c(h,d):(h.rank||0)<=4?"bg-primary-light/10":""),children:[g.jsx("td",{className:"px-4 pl-6 py-4 whitespace-nowrap",children:g.jsx(UR,{rank:h.rank??0})}),g.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:g.jsxs(Rt,{to:`/player/${h.playerId}`,className:"flex items-center group",children:[g.jsx(tb,{imageUrl:p.imageUrl,name:p.name,className:"mr-3 group-hover:ring-2 ring-primary transition-all"}),g.jsx("div",{className:"text-sm font-semibold text-text-main group-hover:text-primary transition-colors",children:p.name}),h.rank===1&&g.jsx(vr,{className:"ml-2 h-4 w-4 text-warning"})]})}),r&&g.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:o?o(h,p,d):g.jsx("div",{className:"text-sm font-bold text-success",children:h.points??0})}),n&&g.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-text-muted",children:h.eventsPlayed??0})]},h.playerId)})})]})})}),EF=({value:t,options:e,onChange:n,label:r="View:",className:i=""})=>g.jsxs("div",{className:`inline-flex items-center gap-4 p-2 bg-surface-alt rounded-2xl border border-border shadow-lg ${i}`,children:[g.jsx("span",{className:"text-sm font-semibold text-text-muted px-3",children:r}),g.jsxs("select",{value:t,onChange:o=>n(o.target.value),className:"appearance-none bg-primary text-white text-sm font-bold rounded-xl px-4 py-2 border-0 focus:outline-none focus:ring-2 focus:ring-primary/50",children:[g.jsx("option",{value:"all",children:"All Time"}),e.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))]})]}),TF=({selection:t,setSelection:e,months:n,leaderboard:r,players:i})=>g.jsx("div",{className:"space-y-16 pb-12",children:g.jsxs(Gs,{primaryColor:"primary",secondaryColor:"success",children:[g.jsx($s,{icon:g.jsx(hh,{className:"h-10 w-10 text-white"}),subtitle:"Complete standings with detailed statistics for all players",className:"mb-8",children:"Standings"}),g.jsx("div",{className:"flex justify-center mb-8",children:g.jsx(EF,{value:t,options:n,onChange:o=>e(o==="all"?"all":o)})}),g.jsx("div",{className:"max-w-6xl mx-auto",children:g.jsx("div",{className:"bg-gradient-to-r from-surface-alt/50 to-surface/50 rounded-2xl border border-border shadow-lg overflow-hidden",children:g.jsx(FR,{data:r,players:i})})})]})}),SF=()=>{const[t,e]=z.useState("all"),{data:n=[]}=Ih(),{data:r=[]}=Co(),i=z.useMemo(()=>xF(r.map(c=>c.startDateTime)),[r]),o=LR(t);return g.jsx(TF,{selection:t,setSelection:e,months:i,leaderboard:o,players:n})},AF=()=>(z.useEffect(()=>{document.title="Pickleball League  Season 1 (Competitive)"},[]),g.jsxs("div",{className:"space-y-16 pb-12",children:[g.jsxs(Gs,{primaryColor:"warning",secondaryColor:"primary",children:[g.jsx($s,{icon:g.jsx(vr,{className:"h-10 w-10 text-white"}),iconColor:"warning",subtitle:"Compete for exclusive prizes and eternal glory in our inaugural competitive season",children:"Season 1 Championship"}),g.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[g.jsx("div",{className:"text-center lg:text-left",children:g.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-2xl p-8 border border-primary/20 shadow-lg",children:[g.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[g.jsx(Hu,{className:"h-8 w-8 text-primary"}),g.jsx("h3",{className:"text-2xl font-bold text-text-main",children:"Season Duration"})]}),g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{className:"text-center lg:text-left",children:[g.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"4"}),g.jsx("div",{className:"text-xl font-semibold text-text-main",children:"Weeks of Competition"}),g.jsx("div",{className:"text-text-muted mt-2",children:"Every Sunday  7PM-10PM"})]})})]})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-bold text-text-main mb-6 text-center lg:text-left",children:"Championship Rewards"}),g.jsx("p",{className:"text-text-muted mb-6 text-center lg:text-left",children:"Top 3 finishers earn exclusive Joola gear and club points:"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(zl,{badgeContent:"1st",title:"Champion",description:g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"font-semibold text-warning",children:"Joola Hat"})," +",g.jsx("span",{className:"font-semibold text-primary ml-1",children:"25 Club Points"})]}),emoji:"",color:"warning"}),g.jsx(zl,{badgeContent:"2nd",title:"Runner-up",description:g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"font-semibold text-text-accent",children:"Joola Water Bottle"})," +",g.jsx("span",{className:"font-semibold text-primary ml-1",children:"15 Club Points"})]}),emoji:"",color:"text-accent"}),g.jsx(zl,{badgeContent:"3rd",title:"Third Place",description:g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"font-semibold text-bronze",children:"Joola Wristbands"})," +",g.jsx("span",{className:"font-semibold text-primary ml-1",children:"10 Club Points"})]}),emoji:"",color:"bronze"})]})]})]})]}),g.jsxs(Gs,{primaryColor:"primary",secondaryColor:"success",children:[g.jsx($s,{icon:g.jsx(Hu,{className:"h-10 w-10 text-white"}),iconColor:"primary",subtitle:"Every Sunday brings competitive action with structured rounds and exciting gameplay",children:"Nightly Experience"}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsx(Qi,{emoji:"",title:"Schedule",value:"7PM  10PM",description:"Every Sunday",color:"primary"}),g.jsx(Qi,{emoji:"",title:"Entry Fee",value:"$20",description:g.jsxs("div",{className:"space-y-1",children:[g.jsx("div",{children:"per night"}),g.jsx("div",{className:"text-sm text-success font-semibold bg-success/10 rounded-full px-3 py-1",children:"Free for Annual Members"})]}),color:"success"}),g.jsx(Qi,{emoji:"",title:"Eligibility",value:"DUPR 3.5+",description:"Required Rating",color:"warning"}),g.jsx(Qi,{emoji:"",title:"Format",value:"2 Rounds",description:"per night",color:"text-accent"})]})]}),g.jsx("div",{className:"relative overflow-hidden",children:g.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:g.jsx(Ij,{className:"h-10 w-10 text-white"})}),g.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Game Format"}),g.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Structured gameplay with rotating partnerships and dynamic scoring systems"})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-5xl mb-6",children:""}),g.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Players per Court"}),g.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"45"}),g.jsx("div",{className:"text-text-muted font-medium",children:"Players"})]}),g.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-xl"})]}),g.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-5xl mb-6",children:""}),g.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Partnership"}),g.jsxs("div",{className:"text-text-muted font-medium leading-relaxed",children:["Every player partners ",g.jsx("strong",{className:"text-warning",children:"once per round"})]})]}),g.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-warning/5 rounded-full blur-xl"})]}),g.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-5xl mb-6",children:""}),g.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Scoring"}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[g.jsx("div",{className:"font-bold text-text-main text-lg",children:"4-Player Courts"}),g.jsx("div",{className:"text-text-muted font-medium",children:"3 games  15 pts  win by 1"})]}),g.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[g.jsx("div",{className:"font-bold text-text-main text-lg",children:"5-Player Courts"}),g.jsx("div",{className:"text-text-muted font-medium",children:"4 games  11 pts  win by 1"})]})]})]}),g.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-text-accent/5 rounded-full blur-xl"})]})]}),g.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-2xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsx("div",{className:"relative overflow-hidden",children:g.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-success/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:g.jsx(Im,{className:"h-8 w-8 text-white"})}),g.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Round 1: Initial Seeding"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"flex-shrink-0 mt-1",children:g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:g.jsx("span",{className:"text-lg font-black text-white",children:""})})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),g.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Courts assigned via ",g.jsx("strong",{className:"text-primary",children:"snake draft"})," ","(back-and-forth order)"]})]})]}),g.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),g.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"flex-shrink-0 mt-1",children:g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:g.jsx("span",{className:"text-lg font-black text-white",children:""})})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Seeding Basis"}),g.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Seeding based on"," ",g.jsx("strong",{className:"text-success",children:"previous weeks' performance"})," (or random for the first week)"]})]})]}),g.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]})]}),g.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),g.jsx("div",{className:"relative overflow-hidden",children:g.jsxs("div",{className:"bg-gradient-to-br from-warning/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-warning/20 shadow-2xl",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:g.jsx(Ww,{className:"h-8 w-8 text-white"})}),g.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Round 2"}),g.jsx("p",{className:"text-lg text-text-muted font-medium",children:"Ranked Courts"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"flex-shrink-0 mt-1",children:g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:g.jsx("span",{className:"text-lg font-black text-white",children:""})})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Placement"}),g.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Players ranked by"," ",g.jsx("strong",{className:"text-warning",children:"Round 1 performance"})]})]})]}),g.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),g.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"flex-shrink-0 mt-1",children:g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg",children:g.jsx("span",{className:"text-lg font-black text-white",children:""})})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),g.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Top finishers placed on ",g.jsx("strong",{className:"text-text-accent",children:"Court 1"}),", next group on ",g.jsx("strong",{className:"text-text-accent",children:"Court 2"}),", etc."]})]})]}),g.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),g.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),g.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-warning/10 rounded-2xl p-8 border border-primary/30",children:[g.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[g.jsx(vr,{className:"h-8 w-8 text-warning"}),"Points & Prizes"]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Top Finisher Points"}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between p-3 bg-warning/20 rounded-lg border border-warning/50",children:[g.jsx("span",{className:"font-bold text-warning",children:"1st Place"}),g.jsx("span",{className:"font-bold text-text-main",children:"1000 points"})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[g.jsx("span",{className:"font-bold text-text-accent",children:"2nd Place"}),g.jsx("span",{className:"font-bold text-text-main",children:"800 points"})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-bronze/20 rounded-lg border border-bronze/50",children:[g.jsx("span",{className:"font-bold text-bronze",children:"3rd Place"}),g.jsx("span",{className:"font-bold text-text-main",children:"600 points"})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[g.jsx("span",{className:"font-bold text-text-main",children:"4th Place"}),g.jsx("span",{className:"font-bold text-text-main",children:"500 points"})]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Point System"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"p-4 bg-surface rounded-lg border border-border",children:g.jsxs("p",{className:"text-text-muted",children:[g.jsx("strong",{children:"All finishing positions earn points"}),", with points dropping by half every three ranks (approximate)"]})}),g.jsx("div",{className:"p-4 bg-primary-light rounded-lg border border-primary/50",children:g.jsxs("p",{className:"text-text-main",children:["Points from every game count toward"," ",g.jsx("strong",{children:"monthly and cumulative rankings"})]})})]})]})]})]}),g.jsxs("div",{className:"bg-surface rounded-2xl p-8 border border-border",children:[g.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[g.jsx(Ww,{className:"h-8 w-8 text-success"})," Key Takeaways"]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"text-success text-lg",children:""}),g.jsxs("p",{className:"text-text-muted",children:["Structured, competitive league for ",g.jsx("strong",{children:"DUPR 3.5+ players"})]})]}),g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"text-success text-lg",children:""}),g.jsxs("p",{className:"text-text-muted",children:["Sunday evenings, ",g.jsx("strong",{children:"7PM10PM"})]})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"text-success text-lg",children:""}),g.jsxs("p",{className:"text-text-muted",children:[g.jsx("strong",{children:"Two rounds each night"}),", with partner rotation"]})]}),g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"text-success text-lg",children:""}),g.jsxs("p",{className:"text-text-muted",children:["Points determine"," ",g.jsx("strong",{children:"court placement, monthly standings, and season/all-time rankings"})]})]})]})]})]}),g.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Ready to Compete?"}),g.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"Check your standings online and track points for this season and all-time rankings for every player."}),g.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[g.jsxs("a",{href:"https://paddleup.github.io",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[" Check Your Standings",g.jsx(Dv,{className:"h-5 w-5"})]}),g.jsx(Rt,{to:"/schedule",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-colors",children:"Register for an event"})]})]}),g.jsxs(Gs,{primaryColor:"primary",secondaryColor:"warning",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Full League Rules & Structure"}),g.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Everything you need to know about how the Paddle Up Premier League works."})]}),g.jsxs("div",{className:"prose prose-invert max-w-3xl mx-auto text-left",children:[g.jsx("h3",{children:"Season Format"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Season runs for 1 month (4 weeks)"}),g.jsx("li",{children:"Two rounds per night, every Sunday 710PM"}),g.jsx("li",{children:"Open to DUPR 3.5+ players"})]}),g.jsx("h3",{children:"Night Structure"}),g.jsxs("ul",{children:[g.jsx("li",{children:"45 players per court, every player partners once per round"}),g.jsx("li",{children:"Scoring: 4-player courts: 3 games to 15, win by 1; 5-player courts: 4 games to 11, win by 1"}),g.jsx("li",{children:"Round 1: Snake draft seeding; Round 2: Ranked by performance"})]}),g.jsx("h3",{children:"Points & Standings"}),g.jsxs("ul",{children:[g.jsx("li",{children:"1st: 1000 pts, 2nd: 800, 3rd: 600, 4th: 500, then halves every 3 ranks"}),g.jsx("li",{children:"Points count toward monthly, seasonal, and all-time rankings"}),g.jsx("li",{children:"Top 3 for the season win prizes (see above)"})]}),g.jsx("h3",{children:"Promotion & Court Movement"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Round 2 courts assigned by Round 1 results"}),g.jsx("li",{children:"Top finishers move up, others move down or stay"})]}),g.jsx("h3",{children:"Attendance & Sub Policy"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Zero tolerance for missed nights (0 points), or 1 grace week per season (admin discretion)"}),g.jsx("li",{children:"Subs must be approved and match DUPR as closely as possible"})]}),g.jsx("h3",{children:"Prizes"}),g.jsxs("ul",{children:[g.jsx("li",{children:"1st: Joola Hat + 25 Club Points"}),g.jsx("li",{children:"2nd: Joola Water Bottle + 15 Club Points"}),g.jsx("li",{children:"3rd: Joola Wristbands + 10 Club Points"})]}),g.jsxs("h3",{children:["See full rules on the Standings page or at"," ",g.jsx("a",{href:"https://paddleup.github.io",target:"_blank",rel:"noopener noreferrer",children:"paddleup.github.io"})]})]})]})]})),IF=()=>(z.useEffect(()=>{document.title="Pickleball League  Season 1 (Competitive)"},[]),g.jsx(AF,{})),RF=({history:t,openIdx:e,onToggle:n})=>g.jsxs("div",{className:"flex flex-col gap-4",children:[t.length===0&&g.jsx("p",{className:"text-text-muted text-center py-4",children:"No event placements available."}),t.slice().reverse().map((r,i)=>g.jsxs("div",{className:`rounded-xl shadow-md border border-border bg-surface transition-all duration-200 ${e===i?"ring-2 ring-primary":""}`,children:[g.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 text-lg font-bold text-primary focus:outline-none",onClick:()=>n(i),"aria-expanded":e===i,tabIndex:0,children:[g.jsxs("span",{children:[r.eventName??r.eventId," (",r.date,")"]}),g.jsx("span",{className:"text-xs text-text-muted",children:e===i?"Tap to collapse":"Tap to expand"})]}),g.jsx("div",{className:`overflow-hidden transition-all duration-300 ${e===i?"max-h-[300px] py-2":"max-h-0"}`,children:e===i&&g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"text-sm text-text-muted mb-2",children:["Rank: ",g.jsx("span",{className:"font-bold text-text-main",children:r.rank})]}),g.jsx(Rt,{to:`/event/${r.eventId}`,className:"inline-block mt-2 px-4 py-2 bg-primary text-white rounded-lg font-bold hover:bg-primary-hover transition",children:"View Event"})]})})]},r.eventId+i))]}),NF=({history:t})=>{const[e,n]=z.useState(null),r=i=>{n(e===i?null:i)};return g.jsx(RF,{history:t,openIdx:e,onToggle:r})},CF=({player:t,overallRank:e,currentStats:n,weeklyHistory:r,challengeEvents:i})=>t?g.jsxs("div",{className:"space-y-8 pb-12",children:[g.jsxs(Rt,{to:"/players",className:"inline-flex items-center text-text-muted hover:text-primary transition-colors mb-4",children:[g.jsx(Jk,{className:"h-4 w-4 mr-1"})," Back to Players"]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"md:col-span-1 space-y-6",children:[g.jsxs(an,{className:"p-0 overflow-hidden border-border",children:[g.jsx("div",{className:"aspect-square w-full relative bg-surface-highlight",children:t.imageUrl?g.jsx("img",{src:t.imageUrl.startsWith("/")?`/${t.imageUrl.slice(1)}`:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("span",{className:"text-6xl font-bold text-text-muted opacity-20",children:t.name.charAt(0)})})}),g.jsxs("div",{className:"p-6 text-center",children:[g.jsx("h1",{className:"text-3xl font-bold text-text-main mb-2",children:t.name}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[g.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold border border-primary/20",children:["DUPR ",t.dupr??"N/A"]}),g.jsxs("span",{className:"bg-surface-highlight text-text-muted px-3 py-1 rounded-full text-sm font-medium border border-border",children:["Rank #",e??"-"]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs(an,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(vr,{className:"h-6 w-6 text-warning mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:n.points}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Points"})]}),g.jsxs(an,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(eE,{className:"h-6 w-6 text-success mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:n.champWins}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Top Finishes"})]}),g.jsxs(an,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(Xw,{className:"h-6 w-6 text-primary mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:r.length}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Events"})]}),g.jsxs(an,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(co,{className:"h-6 w-6 text-text-muted mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:n.events}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Appearances"})]})]})]}),g.jsxs("div",{className:"md:col-span-2 space-y-8",children:[g.jsxs(an,{children:[g.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Xw,{className:"h-5 w-5 text-primary"}),"Event Placements"]}),g.jsx(NF,{history:r.map(o=>({...o,eventName:i.find(c=>c.id===o.eventId)?.name}))})]}),g.jsxs(an,{children:[g.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(eE,{className:"h-5 w-5 text-primary"}),"Event Rankings"]}),g.jsx("div",{className:"space-y-2",children:r.length>0?r.slice().reverse().map((o,c)=>g.jsxs(Rt,{to:`/event/${o.eventId}`,className:"flex items-center justify-between p-2 border-b border-border last:border-0 hover:bg-surface-highlight transition-colors cursor-pointer group",children:[g.jsx("span",{className:"text-sm text-text-muted group-hover:text-text-main transition-colors",children:o.date}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:["Rank #",o.rank]}),g.jsx(UR,{rank:o.rank,size:"sm"})]})]},c)):g.jsx("p",{className:"text-text-muted text-center py-4",children:"No event data available."})})]})]})]})]}):g.jsxs("div",{className:"text-center py-12",children:[g.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Player Not Found"}),g.jsx(Rt,{to:"/players",className:"text-primary hover:underline",children:"Back to Players"})]}),DF=()=>{const{id:t}=Q1(),{data:e}=sF(),{data:n=[]}=Co(),r=e?.find(v=>v.id===t),i=n.filter(v=>Array.isArray(v.standings)&&v.standings.length>0).map(v=>{const _={id:v.id,date:v.startDateTime?v.startDateTime.toISOString():v.id,isCompleted:!0,standings:v.standings},w=nb(_)||[];return{ev:v,finals:w}}),o=new Map;i.forEach(({finals:v})=>{v.forEach(_=>{const w=_.playerId,T=_.pointsEarned||0,D=o.get(w)||{points:0,events:0,champWins:0};D.points+=T,D.events+=1,_.rank===1&&(D.champWins+=1),o.set(w,D)})});const c=Array.from(o.entries()).map(([v,_])=>({playerId:v,points:_.points,eventsPlayed:_.events,champWins:_.champWins})).sort((v,_)=>_.points-v.points);let h=null;c.forEach((v,_)=>{v.playerId===t&&(h=_+1)});const d=o.get(t||"")||{points:0,events:0,champWins:0},p=[];return i.forEach(({ev:v,finals:_})=>{const w=_.find(T=>T.playerId===t);w&&p.push({eventId:v.id,date:v.startDateTime?v.startDateTime.toLocaleDateString():v.id,rank:w.rank})}),g.jsx(CF,{player:r,overallRank:h,currentStats:d,weeklyHistory:p,challengeEvents:n})};function BR(t,e){const n=K1(),r=Ws(),i=z.useMemo(()=>new URLSearchParams(r.search),[r.search]),o=z.useMemo(()=>i.get(t)??void 0,[i,t]),c=z.useCallback(p=>{const v=new URLSearchParams(r.search),_=v.get(t)??void 0;p!==_&&(p===void 0||p===""?v.delete(t):v.set(t,p),n({pathname:r.pathname,search:`?${v.toString()}`,hash:r.hash},{replace:!0}))},[n,r,t]),h=z.useCallback(async p=>{c(p)},[c]),d=z.useCallback(async p=>{c(p)},[c]);return z.useEffect(()=>{e!==void 0&&o===void 0&&d(e)},[e,o]),e===void 0?[o,h]:[o??e,d]}const kF=({options:t,value:e,onChange:n,className:r})=>g.jsx("div",{className:r,children:g.jsx("div",{className:"inline-flex",children:t.map(i=>g.jsx("button",{onClick:()=>n(i.value),className:bn("px-6 py-2.5 rounded-lg text-sm font-bold transition-all",e===i.value?"bg-primary text-text-main shadow-md":"text-text-muted hover:text-text-main hover:bg-surface"),children:i.label},i.value))})}),Iy=({icon:t,label:e,value:n,color:r="primary",className:i=""})=>g.jsxs("div",{className:bn("flex items-center gap-3 p-3 rounded-xl border",`bg-${r}/10 border-${r}/20`,i),children:[g.jsx("div",{className:`flex-shrink-0 text-${r}`,children:t}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:e}),g.jsx("div",{className:"font-bold text-text-main truncate",children:n})]})]}),N1=t=>t?t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",C1=t=>t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",jF=({event:t,view:e,onClick:n,children:r})=>g.jsx(Gs,{primaryColor:"primary",secondaryColor:"success",className:"group rounded-3xl p-8 md:p-12 shadow-2xl hover:shadow-2xl transition-all duration-300 hover:border-primary/50 cursor-pointer",children:g.jsxs("div",{className:"flex flex-col md:flex-row gap-8 md:gap-12",onClick:n,children:[g.jsxs("div",{className:"flex-grow",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-bold text-text-main mb-2 group-hover:text-primary transition-colors",children:t.name}),g.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-muted",children:[g.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${e==="past"?"bg-success":"bg-primary"}`}),e==="past"?"Completed Event":"Upcoming Event"]})]}),g.jsxs("div",{className:"text-right text-sm text-text-muted",children:[g.jsx("div",{className:"font-semibold",children:N1(t.startDateTime)}),g.jsx("div",{children:C1(t.startDateTime)})]})]}),g.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[g.jsx(Iy,{icon:g.jsx(co,{className:"h-5 w-5"}),label:"Date",value:N1(t.startDateTime),color:"primary"}),g.jsx(Iy,{icon:g.jsx(Hu,{className:"h-5 w-5"}),label:"Time",value:C1(t.startDateTime),color:"success"}),g.jsx(Iy,{icon:g.jsx(pS,{className:"h-5 w-5"}),label:"Location",value:t.location??"TBD",color:"warning",className:"sm:col-span-2 lg:col-span-1"})]})]}),r]})}),OF=({view:t,setView:e,displayed:n})=>g.jsxs("div",{className:"space-y-16 pb-12",children:[g.jsx("div",{className:"relative overflow-hidden",children:g.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:g.jsx(co,{className:"h-10 w-10 text-white"})}),g.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Season Schedule"}),g.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Per-night registration links for The Challenge  register for any night below"})]}),g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),g.jsx("div",{className:"flex justify-center mb-8",children:g.jsx(kF,{options:[{value:"upcoming",label:"Upcoming"},{value:"past",label:"Past"}],value:t,onChange:r=>e(r)})}),g.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 px-2 md:px-0",children:[n.map(r=>g.jsx(jF,{event:r,view:t,onClick:i=>{i.target.closest("a,button")||(window.location.href=`/#/event/${encodeURIComponent(r.id)}`)},children:g.jsx("div",{className:"flex-shrink-0 flex flex-col gap-3 lg:w-48",children:t==="past"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-success/20 border-2 border-success/30 rounded-xl text-success font-bold",children:[g.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-success"}),"Completed"]}),g.jsx(Rt,{to:`/event/${encodeURIComponent(r.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"View Results"})]}):g.jsxs(g.Fragment,{children:[g.jsxs("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-xl font-bold hover:bg-primary-hover transition-all duration-300 shadow-md hover:shadow-lg",children:[g.jsx(Dv,{className:"h-5 w-5"}),"Register Now"]}),g.jsx(Rt,{to:`/#/event/${encodeURIComponent(r.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"Event Details"})]})})},r.id)),n.length===0&&g.jsxs("div",{className:"text-center p-12 bg-surface rounded-2xl border border-border",children:[g.jsx("div",{className:"text-6xl mb-6 opacity-50",children:t==="upcoming"?"":""}),g.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:t==="upcoming"?"No Upcoming Events":"No Past Events"}),g.jsx("p",{className:"text-text-muted",children:t==="upcoming"?"Check back soon for new match nights to register for!":"Past events will appear here once they&#39;re completed."})]})]})]}),PF=()=>{const{data:t}=Co(),e=(t||[]).filter(d=>d.startDateTime instanceof Date&&!isNaN(d.startDateTime.getTime())).slice().sort((d,p)=>d.startDateTime.getTime()-p.startDateTime.getTime()),n=new Date,r=e.filter(d=>d.startDateTime.getTime()>=n.getTime()),i=e.filter(d=>d.startDateTime.getTime()<n.getTime()).slice().reverse(),[o,c]=BR("view","upcoming"),h=o==="upcoming"?r:i;return g.jsx(OF,{view:o,setView:d=>c(d),displayed:h})};function qR(){const[t,e]=z.useState(null),[n,r]=z.useState(!1),[i,o]=z.useState(!0);return z.useEffect(()=>{const c=D2(zf,async h=>{if(e(h),!h){r(!1),o(!1);return}const p=(await h.getIdTokenResult(!0)).claims;r(p.admin===!0),o(!1)});return()=>c()},[]),{user:t,isAdmin:n,loading:i}}const Ff=t=>g.jsx("input",{className:"block w-full border border-border rounded px-2 py-1 bg-surface text-text-main focus:outline-none focus:ring-2 focus:ring-primary/50",...t}),MF=t=>g.jsx("select",{className:"block w-full border border-border rounded px-2 py-1 bg-surface text-text-main focus:outline-none focus:ring-2 focus:ring-primary/50",...t,children:t.children}),Ga=eo.forwardRef(({className:t="",...e},n)=>g.jsx("label",{ref:n,className:`block text-sm font-medium text-text-main mb-1 ${t}`,...e}));Ga.displayName="Label";const D1=t=>g.jsx("ul",{className:"divide-y divide-border",...t}),k1=t=>g.jsx("li",{className:"flex items-center justify-between py-2",...t}),$R=eo.forwardRef(({className:t="",children:e,...n},r)=>g.jsx("p",{ref:r,className:`text-sm text-error mt-1 ${t}`,...n,children:e}));$R.displayName="ErrorText";const VF=({user:t,isAdmin:e,handleSignIn:n,handleSignOut:r,name:i,setName:o,dupr:c,setDupr:h,imageUrl:d,setImageUrl:p,handleCreate:v,createStatus:_,createError:w,events:T,players:D,selectedEventId:k,setSelectedEventId:V,standingsList:X,setStandingsList:$,addPlayerToStandings:U,removeFromStandings:J,moveUp:se,moveDown:fe,handleSaveStandings:R,updateStatus:A,updateError:C})=>g.jsxs("div",{className:"p-4 space-y-8",children:[g.jsx($s,{as:"h1",className:"mb-4",children:"Admin"}),t?g.jsxs("div",{className:"space-y-8",children:[g.jsxs("p",{className:"mb-2",children:["Signed in as ",g.jsx("strong",{children:t.displayName??t.email})]}),g.jsxs("p",{children:["Admin status: ",e?"Yes":"No"]}),g.jsx(fn,{onClick:r,children:"Sign out"}),g.jsxs(an,{children:[g.jsx($s,{as:"h2",className:"mb-2",children:"Protected admin area"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You are authenticated and can now access admin-only features."}),!e&&g.jsx("p",{className:"text-sm text-red-600 mb-4",children:"You are not an admin. Editing is disabled."})]}),g.jsx(an,{className:"p-6 mb-6",children:g.jsxs("form",{onSubmit:v,className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx(Ga,{children:"Name"}),g.jsx(Ff,{value:i,onChange:P=>o(P.target.value),required:!0})]}),g.jsxs("div",{children:[g.jsx(Ga,{children:"DUPR (optional)"}),g.jsx(Ff,{value:c,onChange:P=>h(P.target.value),inputMode:"decimal"})]}),g.jsxs("div",{children:[g.jsx(Ga,{children:"Image URL (optional)"}),g.jsx(Ff,{value:d,onChange:P=>p(P.target.value)})]}),g.jsx("div",{children:g.jsx(fn,{type:"submit",disabled:!e||_==="pending",color:"success",children:_==="pending"?"Adding...":"Add player"})}),w&&g.jsxs($R,{children:["Error creating player: ",String(w)]})]})}),g.jsxs(an,{className:"p-6 mb-6",children:[g.jsx($s,{as:"h2",className:"mb-2",children:"Create Event"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a new Event (start date/time is required)."})]}),g.jsxs(an,{className:"p-6 mb-6",children:[g.jsx($s,{as:"h2",className:"mb-2",children:"Manage Event Standings"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select an event, build an ordered standings list of players, and save to the event."}),g.jsxs(an,{children:[g.jsxs("div",{className:"md:col-span-1",children:[g.jsx(Ga,{children:"Event"}),g.jsxs(MF,{value:k??"",onChange:P=>V(P.target.value||void 0),children:[g.jsx("option",{value:"",children:"(select an event)"}),T.map(P=>g.jsx("option",{value:P.id,children:P.name??P.id},P.id))]}),g.jsxs("div",{className:"mt-4",children:[g.jsx(Ga,{children:"Players"}),g.jsxs("div",{className:"mt-1 max-h-56 overflow-auto border rounded p-1",children:[D.length===0&&g.jsx("p",{className:"text-sm text-gray-500",children:"No players found."}),g.jsx(D1,{children:D.map(P=>g.jsxs(k1,{children:[g.jsx("div",{className:"text-base",children:P.name}),g.jsx("div",{children:g.jsx(fn,{type:"button",color:"primary",size:"sm",onClick:()=>U(P.id),children:"Add"})})]},P.id))})]})]})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx(Ga,{children:"Standings (ordered)"}),g.jsxs("div",{className:"mt-1 border rounded p-2 bg-white",children:[X.length===0&&g.jsx("p",{className:"text-sm text-gray-500",children:"No players in standings. Add players from the left."}),g.jsx(D1,{children:X.map((P,M)=>{const F=D.find(j=>j.id===P);return g.jsxs(k1,{children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsxs("div",{className:"text-sm font-medium",children:[M+1,"."]}),g.jsx("div",{className:"text-sm",children:F?F.name:P})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(fn,{type:"button",size:"sm",onClick:()=>se(M),disabled:M===0,children:""}),g.jsx(fn,{type:"button",size:"sm",onClick:()=>fe(M),disabled:M===X.length-1,children:""}),g.jsx(fn,{type:"button",color:"error",size:"sm",onClick:()=>J(M),children:"Remove"})]})]},`${P}-${M}`)})}),g.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[g.jsx(fn,{type:"button",onClick:R,disabled:!e||A==="pending"||!k,color:"success",className:"px-6 py-3 text-base",children:A==="pending"?"Saving...":"Save standings to event"}),g.jsx(fn,{type:"button",onClick:()=>{$([])},color:"surface",className:"px-6 py-3 text-base",children:"Clear"})]}),C&&g.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error saving: ",String(C)]})]})]})]})]})]}):g.jsxs("div",{children:[g.jsx("p",{className:"mb-4",children:"Sign in with a Google account to access admin features."}),g.jsx(fn,{color:"primary",onClick:n,children:"Sign in with Google"})]})]}),zF=()=>{const[t,e]=z.useState(null),n=new Us,{isAdmin:r}=qR(),{create:i,status:o,error:c}=rF(),h=Co(),d=Ih(),p=h.data??[],v=d.data??[],[_,w]=z.useState(void 0),[T,D]=z.useState([]),{data:k}=OR(_)??{},{update:V,status:X,error:$}=PR(),[U,J]=z.useState(_),[se,fe]=z.useState(k?.standings);z.useEffect(()=>{(_!==U||k?.standings!==se)&&(J(_),fe(k?.standings),k?.standings&&Array.isArray(k.standings)?D([...k.standings]):D([]))},[_,k?.standings]);const R=N=>{N&&D(Q=>[...Q,N])},A=N=>{D(Q=>Q.filter((ae,ce)=>ce!==N))},C=N=>{N<=0||D(Q=>{const ae=[...Q],ce=ae[N-1];return ae[N-1]=ae[N],ae[N]=ce,ae})},P=N=>{D(Q=>{if(N>=Q.length-1)return Q;const ae=[...Q],ce=ae[N+1];return ae[N+1]=ae[N],ae[N]=ce,ae})},M=async()=>{if(!r){alert("You are not authorized to update events.");return}if(!_){alert("Select an event first.");return}try{await V({id:_,standings:T}),alert("Standings saved.")}catch(N){console.error("Save standings failed",N),alert("Failed to save standings. See console for details.")}},[F,j]=z.useState(""),[Ge,Ze]=z.useState(""),[W,he]=z.useState(""),le=async N=>{if(N.preventDefault(),!r){alert("You are not authorized to add players.");return}try{const Q=Ge.trim()?Number(Ge):void 0,ae={name:F.trim(),...Q!==void 0&&!Number.isNaN(Q)?{dupr:Q}:{},...W.trim()?{imageUrl:W.trim()}:{},createdAt:new Date().toISOString()};await i(ae),j(""),Ze(""),he(""),alert("Player added.")}catch(Q){console.error("Create player failed",Q),alert("Failed to add player. See console for details.")}};z.useEffect(()=>{const N=D2(zf,Q=>{e(Q)});return()=>N()},[]);const Me=async()=>{try{await ez(zf,n)}catch(N){console.error("Google sign-in failed",N),alert("Sign-in failed. See console for details.")}},Fe=async()=>{try{await O6(zf)}catch(N){console.error("Sign-out failed",N),alert("Sign-out failed. See console for details.")}};return g.jsx(VF,{user:t,isAdmin:r,handleSignIn:Me,handleSignOut:Fe,name:F,setName:j,dupr:Ge,setDupr:Ze,imageUrl:W,setImageUrl:he,handleCreate:le,createStatus:o,createError:c,events:p,players:v,selectedEventId:_,setSelectedEventId:w,standingsList:T,setStandingsList:D,addPlayerToStandings:R,removeFromStandings:A,moveUp:C,moveDown:P,handleSaveStandings:M,updateStatus:X,updateError:$})},HR=(t,e=5)=>{const n=e===5?4:5,r=(o,c)=>{if(o===0)return c;if(o<0||c>=7)return-1;const h=r(o-e,c+1);return h!==-1?h:r(o-n,c+1)},i=r(t,0);if(i<=0)throw new Error("Invalid number of players for court allocation");return i},LF=t=>{try{return HR(t,5),!0}catch{return!1}},Em=(t,e,n=5)=>{const r=HR(t,n),i=Array.from({length:r},()=>({seeds:[]}));let o=0,c=1;if(e===1)for(let h=1;h<=t;h++)i[o].seeds.push(h),o+=c,(o===r||o===-1)&&(c*=-1,o+=c);else if(e===2){const h=Math.floor(t/r);let d=t%r,p=1;for(let v=0;v<r;v++){const _=h+(d>0?1:0);for(let w=0;w<_;w++)i[v].seeds.push(p++);d>0&&d--}}return i},UF=(t,e,n=5)=>{const r=t.length;return Em(r,e,n).map((c,h)=>{const d=c.seeds.map(p=>t[p-1]);return{courtNumber:h+1,playerIds:d,roundNumber:e}})},FF=t=>{const{roundNumber:e,playerIds:n}=t;if(n.length===4){const[r,i,o,c]=n;return[{team1:{player1Id:r,player2Id:i},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:i,player2Id:c}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:i,player2Id:o}}].map(d=>({...d,roundNumber:e}))}if(n.length===5){const[r,i,o,c,h]=n;return[{team1:{player1Id:r,player2Id:i},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:i,player2Id:o},team2:{player1Id:c,player2Id:h}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:i,player2Id:h}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:o,player2Id:h}},{team1:{player1Id:r,player2Id:h},team2:{player1Id:i,player2Id:c}}].map(p=>({...p,roundNumber:e}))}throw new Error("Invalid number of players for game generation")},BF=(t,e,n)=>n===2&&t.courtNumber!==e.courtNumber?t.courtNumber-e.courtNumber:t.pointWinRate!==e.pointWinRate?e.pointWinRate-t.pointWinRate:t.seed-e.seed;function rp(t,e){if(!t?.length)return[];if(![1,2,3].includes(e))return[];const n=t.reduce((c,h)=>c+h.playerIds.length,0),r=Em(n,e),i=t.flatMap((c,h)=>{const d=c.playerIds.map((p,v)=>({id:p,courtNumber:c.courtNumber,wins:0,losses:0,pointDifferential:0,pointsEarned:0,pointsAgainst:0,pointWinRate:0,seed:r[h].seeds[v],roundPlace:0,nextCourt:0}));for(const p of c.games){const{team1:v,team2:_,team1Score:w,team2Score:T}=p,D=(U,J,se,fe)=>{if(J===void 0||se===void 0)return;const R=J>se||J===se&&fe;U.wins+=R?1:0,U.losses+=R?0:1,U.pointsEarned+=J,U.pointsAgainst+=se;const A=J+se;U.pointWinRate=A===0?0:U.pointsEarned/A,U.pointDifferential+=J-se},k=d.find(U=>U.id===v.player1Id),V=d.find(U=>U.id===v.player2Id),X=d.find(U=>U.id===_.player1Id),$=d.find(U=>U.id===_.player2Id);D(k,w,T,!0),D(V,w,T,!0),D(X,T,w,!1),D($,T,w,!1)}return d}),o=(c,h)=>BF(c,h,e);if(i.sort(o),i.forEach((c,h)=>{c.roundPlace=h+1}),e===1){const c=t.reduce((d,p)=>d+p.playerIds.length,0),h=Em(c,2);i.forEach(d=>{const p=h.findIndex(v=>v.seeds.includes(d.roundPlace));d.nextCourt=p+1})}return i}const j1=(t,e)=>{const{data:n}=MR(t),{data:r}=VR(t);return z.useMemo(()=>{if(typeof e!="number"||![1,2].includes(e)||!n||!r||n.length===0)return;const o=n.reduce((d,p)=>d+p.playerIds.length,0),c=Em(o,e),h=n.filter(d=>d.roundNumber===e).sort((d,p)=>d.courtNumber-p.courtNumber).map((d,p)=>({...d,seeds:c[p].seeds,games:r.filter(v=>v.courtId===d.id)}));if(h.length!==0)return{roundNumber:e,courts:h,standings:rp(h,e).map(d=>d.id)}},[n,r,e])},qF=t=>{const{data:e}=Co(),[n,r]=z.useState(t),i=t??n,{data:o}=iF(i),{update:c}=PR(),h=j1(i,1),d=j1(i,2),p=z.useCallback(N=>{const Q=N===1?h:d;return Q!==void 0&&Q.courts.length>0},[h,d]),v=z.useCallback(N=>{const Q=N===1?h:d;return Q?Q.courts.every(ae=>ae.games.every(ce=>ce.team1Score!==void 0&&ce.team2Score!==void 0)):!1},[h,d]),_=z.useMemo(()=>o?.ongoingStage||1,[o]),[w,T]=BR("stage",_),D=z.useCallback(N=>{T(typeof N=="string"?N:N.toString())},[T]),k=z.useMemo(()=>{if(w==="initial"||w==="standings")return w;const N=parseInt(w,10);return[1,2,3].includes(N)?N:_},[w,_]),V=z.useCallback(N=>{o&&c({id:o.id,ongoingStage:N})},[o,c]),{create:X}=aF(i),{create:$}=lF(i),{update:U}=cF(i),{data:J=[]}=VR(i),{remove:se}=uF(i),{data:fe=[]}=MR(i),{remove:R}=oF(i),A=z.useCallback(async()=>{if(window.confirm("Are you sure you want to clear all data and start over?")&&n){for(const N of J||[])await se(N.id);for(const N of fe||[])await R(N.id);V(1),D(1)}},[n,V,D,J,se,fe,R]),C=z.useCallback(async(N,Q)=>{if(p(Q)){console.error(`Round ${Q} has already been created.`);return}if(LF(N.length)===!1){console.error(`Invalid number of players: ${N.length}. Must be between 8 and 35 players.`);return}const ae=UF(N,Q);for(const ce of ae){const Ee=await X(ce),Re=FF(ce);for(const xe of Re)await $({courtId:Ee,...xe});V(Q),D(Q)}},[p,X,V,D,$]),P=LR(),M=z.useCallback(async N=>{const Q=N.sort((ae,ce)=>{const Ee=P.find(xe=>xe.playerId===ae);return(P.find(xe=>xe.playerId===ce)?.points||0)-(Ee?.points||0)});await C(Q,1)},[C,P]),F=z.useCallback(async()=>{if(!v(1)){alert("Cannot advance to round 2: round 1 is not complete.");return}if(p(2)){alert("Round 2 has already been created.");return}if(!h?.courts||h.courts.length===0){alert("No courts available from round 1 to advance to round 2.");return}const N=rp(h.courts,1);await C(N.map(Q=>Q.id),2),D(2),V(2)},[v,p,h,D,V,C]),j=()=>{if(!o){alert("No event selected to finalize.");return}if(!d){alert("Cannot finalize event: round 2 data is missing.");return}if(!v(2)){alert("Cannot finalize event: round 2 is not complete.");return}o.standings&&o.standings.length>0&&window.confirm("Standings already exist. Overwrite?")===!1||(c({id:o.id,standings:d.standings}),D("standings"))},Ge=z.useMemo(()=>J?.filter(N=>N.team1Score!==void 0&&N.team2Score!==void 0).length||0,[J]),Ze=z.useMemo(()=>J?.length||1,[J]),W=Math.round(Ge/Math.max(1,Ze)*100),he=z.useCallback((N,Q,ae)=>{U({id:N,[Q]:ae})},[U]),le=z.useMemo(()=>p(2)===!1,[p]),Me=z.useMemo(()=>o?.standings===void 0||o.standings.length===0,[o]),Fe=z.useMemo(()=>p(1)===!1,[p]);return{events:e,selectedEventId:i,setSelectedEventId:r,round1:h,round2:d,needsInitialization:Fe,event:o,currentView:k,setCurrentView:D,completedMatches:Ge,totalMatches:Ze,progressPercent:W,handleScoreChange:he,areRound1UpdatesAllowed:le,areRound2UpdatesAllowed:Me,initializeRoundOne:M,advanceToRoundTwo:F,finalizeEvent:j,resetAll:A,apiError:null}},$F=({roundNumber:t,playerRankings:e,players:n,completedGames:r,totalGames:i,isExpanded:o,onToggleExpand:c,completionPercentage:h,getMovementIndicator:d,formatWinPercentage:p,previousRoundRankings:v})=>g.jsxs("div",{className:"mb-6",children:[g.jsx("button",{onClick:c,className:"w-full bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 border border-primary/30 rounded-xl p-4 hover:bg-primary/15 transition-all duration-200",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary/70 rounded-full flex items-center justify-center",children:g.jsx(vr,{className:"h-5 w-5 text-white"})}),g.jsxs("div",{className:"text-left",children:[g.jsxs("h3",{className:"font-bold text-text-main",children:["Round ",t," Rankings"]}),g.jsxs("p",{className:"text-sm text-text-muted",children:[r,"/",i," games (",h,"%)"]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-sm text-text-muted",children:[o?"Hide":"Show"," Rankings"]}),o?g.jsx(mS,{className:"h-5 w-5 text-text-muted"}):g.jsx(Cv,{className:"h-5 w-5 text-text-muted"})]})]})}),o&&g.jsx("div",{className:"mt-3 bg-surface rounded-xl border border-border overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{className:"bg-surface-alt border-b border-border",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Rank"}),g.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Player"}),g.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Court"}),t===1&&g.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Projected Next Court"}),g.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"W-L"}),g.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Win %"}),g.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Diff"}),g.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Movement"})]})}),g.jsx("tbody",{className:"divide-y divide-border",children:e.map((_,w)=>{const T=n.find(k=>k.id===_.id),D=w+1;return g.jsxs("tr",{className:`transition-colors ${D<=3?D===1?"bg-warning/5 hover:bg-warning/10":D===2?"bg-text-accent/5 hover:bg-text-accent/10":"bg-bronze/5 hover:bg-bronze/10":"hover:bg-surface-highlight"}`,children:[g.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${D===1?"bg-gradient-to-br from-warning to-warning/70 text-white":D===2?"bg-gradient-to-br from-text-accent to-text-accent/70 text-white":D===3?"bg-gradient-to-br from-bronze to-bronze/70 text-white":"bg-surface-alt text-text-main"}`,children:D===1?"":D===2?"":D===3?"":D})}),g.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[g.jsx("div",{className:"font-semibold text-text-main",children:T?.name||`Player ${_.id}`}),g.jsxs("div",{className:"text-xs text-text-muted",children:["Seed #",_.seed]})]}),g.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:g.jsx("span",{className:"text-sm font-medium text-text-main",children:_.courtNumber})}),t===1&&g.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:g.jsx("span",{className:"text-sm font-medium text-text-accent",children:typeof _.nextCourt=="number"&&_.nextCourt>0?_.nextCourt:"-"})}),g.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:g.jsxs("span",{className:"text-sm font-semibold text-text-main",children:[_.wins,"-",_.losses]})}),g.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:g.jsx("span",{className:"text-sm font-medium text-text-main",children:p(_.wins,_.losses)})}),g.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:g.jsxs("span",{className:`text-sm font-semibold ${_.pointDifferential>0?"text-success":_.pointDifferential<0?"text-error":"text-text-muted"}`,children:[_.pointDifferential>0?"+":"",_.pointDifferential]})}),g.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:d(D,_.id)})]},_.id)})})]})})})]}),HF=({roundNumber:t,playerRankings:e,players:n,completedGames:r,totalGames:i,previousRoundRankings:o})=>{const[c,h]=z.useState(!1),d=i>0?Math.round(r/i*100):0,p=(_,w)=>{let T,D;if(t===1){const k=e.find(V=>V.id===w)?.seed;T=k,D=k?`Seed #${k}`:"No seed"}else if(o)T=o.find(k=>k.id===w)?.roundPlace,D=T?`Round 1 #${T}`:"No previous rank";else return null;return T?_<T?g.jsx("div",{title:`Moved up from ${D}`,children:g.jsx("span",{className:"sr-only",children:"Up"})}):_>T?g.jsx("div",{title:`Moved down from ${D}`,children:g.jsx("span",{className:"sr-only",children:"Down"})}):g.jsx("div",{title:`Same as ${D}`,children:g.jsx("div",{className:"w-2 h-2 rounded-full bg-text-muted mx-auto"})}):null},v=(_,w)=>{const T=_+w;return T===0?"0%":`${Math.round(_/T*100)}%`};return g.jsx($F,{roundNumber:t,playerRankings:e,players:n,completedGames:r,totalGames:i,isExpanded:c,onToggleExpand:()=>h(_=>!_),completionPercentage:d,getMovementIndicator:p,formatWinPercentage:v,previousRoundRankings:o})},GF=({courtNumber:t,sortedPlayerStats:e,players:n,totalGamesForCourt:r,completedGamesForCourt:i,isExpanded:o,onToggleExpand:c,completionPercentage:h,formatWinPercentage:d})=>g.jsxs("div",{className:"mt-3",children:[g.jsx("button",{onClick:c,className:"w-full bg-gradient-to-r from-success/10 via-success/5 to-success/10 border border-success/30 rounded-lg p-3 hover:bg-success/15 transition-all duration-200",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-success to-success/70 rounded-full flex items-center justify-center",children:g.jsx(sj,{className:"h-4 w-4 text-white"})}),g.jsxs("div",{className:"text-left",children:[g.jsxs("h4",{className:"text-sm font-bold text-text-main",children:["Court ",t," Stats"]}),g.jsxs("p",{className:"text-xs text-text-muted",children:[i,"/",r," games (",h,"%)"]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-xs text-text-muted",children:o?"Hide":"Show"}),o?g.jsx(mS,{className:"h-4 w-4 text-text-muted"}):g.jsx(Cv,{className:"h-4 w-4 text-text-muted"})]})]})}),o&&g.jsxs("div",{className:"mt-2 bg-surface-alt/30 rounded-lg border border-border/50 overflow-hidden",children:[g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{className:"bg-surface-alt/50 border-b border-border/30",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Rank"}),g.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Player"}),g.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"W-L"}),g.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Win %"}),g.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Diff"}),g.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Games"})]})}),g.jsx("tbody",{className:"divide-y divide-border/30",children:e.map((p,v)=>{const _=n.find(T=>T.id===p.id),w=v+1;return g.jsxs("tr",{className:`transition-colors ${w===1?"bg-success/5 hover:bg-success/10":"hover:bg-surface-highlight"}`,children:[g.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:g.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${w===1?"bg-gradient-to-br from-success to-success/70 text-white":"bg-surface-alt text-text-main"}`,children:w===1?"":w})}),g.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[g.jsx("div",{className:"text-sm font-semibold text-text-main",children:_?.name||`Player ${p.id}`}),_?.dupr&&g.jsxs("div",{className:"text-xs text-text-muted",children:["DUPR: ",_.dupr]})]}),g.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:g.jsxs("span",{className:"text-sm font-semibold text-text-main",children:[p.wins,"-",p.losses]})}),g.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:g.jsx("span",{className:"text-sm font-medium text-text-main",children:d(p.wins,p.losses)})}),g.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:g.jsxs("span",{className:`text-sm font-semibold ${p.pointDifferential>0?"text-success":p.pointDifferential<0?"text-error":"text-text-muted"}`,children:[p.pointDifferential>0?"+":"",p.pointDifferential]})}),g.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:g.jsxs("span",{className:"text-sm font-medium text-text-main",children:[p.wins+p.losses,"/",e.length===5?4:r]})})]},p.id)})})]})}),i===r&&g.jsx("div",{className:"p-3 border-t border-border/30 bg-surface-alt/20",children:g.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[g.jsx(hh,{className:"h-4 w-4"}),g.jsxs("span",{children:["Court ",t," complete  Leader advances to next round"]})]})})]})]}),KF=({courtNumber:t,playerStats:e,players:n,totalGamesForCourt:r,completedGamesForCourt:i})=>{const[o,c]=z.useState(!1),h=r>0?Math.round(i/r*100):0,d=(v,_)=>{const w=v+_;return w===0?"0%":`${Math.round(v/w*100)}%`},p=[...e].sort((v,_)=>v.wins!==_.wins?_.wins-v.wins:v.pointDifferential!==_.pointDifferential?_.pointDifferential-v.pointDifferential:v.seed-_.seed);return g.jsx(GF,{courtNumber:t,sortedPlayerStats:p,players:n,totalGamesForCourt:r,completedGamesForCourt:i,isExpanded:o,onToggleExpand:()=>c(v=>!v),completionPercentage:h,formatWinPercentage:d})},QF=({searchTerm:t,onInputChange:e,onClear:n,placeholder:r="Find your name...",className:i="",isOpen:o,filteredPlayers:c,onPlayerClick:h})=>g.jsxs("div",{className:`relative ${i}`,children:[g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:t,onChange:d=>e(d.target.value),placeholder:r,className:"w-full h-12 pl-12 pr-12 bg-surface border-2 border-border rounded-xl text-text-main placeholder-text-muted focus:outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all duration-200"}),g.jsx(Tj,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-text-muted"}),t&&g.jsx("button",{onClick:n,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 bg-surface-alt rounded-full flex items-center justify-center hover:bg-surface-highlight transition-colors",children:g.jsx(yS,{className:"h-4 w-4 text-text-muted"})})]}),o&&c.length>0&&g.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-2 bg-surface border-2 border-border rounded-xl shadow-xl max-h-64 overflow-y-auto",children:g.jsx("div",{className:"p-2",children:c.map(d=>g.jsxs("button",{onClick:()=>h(d.id||""),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-surface-highlight transition-colors text-left",children:[g.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary/20 to-primary/10 rounded-full flex items-center justify-center",children:g.jsx(gS,{className:"h-4 w-4 text-primary"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"font-semibold text-text-main truncate",children:d.name}),d.dupr&&g.jsxs("div",{className:"text-sm text-text-muted",children:["DUPR: ",d.dupr]})]})]},d.id))})}),o&&t&&c.length===0&&g.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-2 bg-surface border-2 border-border rounded-xl shadow-xl p-4 text-center",children:g.jsxs("div",{className:"text-text-muted",children:["No players found matching ",t,""]})})]}),ZF=({players:t,onPlayerSelect:e,onClear:n,placeholder:r="Find your name...",className:i=""})=>{const[o,c]=z.useState(""),[h,d]=z.useState(!1),p=z.useMemo(()=>o.trim()?t.filter(T=>T.name.toLowerCase().includes(o.toLowerCase())).slice(0,8).sort((T,D)=>T.name.localeCompare(D.name)):[],[t,o]),v=T=>{const D=t.find(k=>k.id===T);D&&(c(D.name),d(!1),e(T))},_=()=>{c(""),d(!1),n()},w=T=>{c(T),d(T.length>0)};return g.jsx(QF,{searchTerm:o,onInputChange:w,onClear:_,placeholder:r,className:i,isOpen:h,filteredPlayers:p,onPlayerClick:v})},YF=({court:t,courtPlayers:e,highlightedPlayerId:n,isAdmin:r,expanded:i,onToggleExpand:o,completedGamesForCourt:c,totalGamesForCourt:h,handleScoreChange:d,isEditable:p,courtPlayerStats:v,players:_})=>g.jsx(Gs,{primaryColor:"primary",secondaryColor:"success",className:`rounded-xl p-8 ${t.playerIds.some(w=>w===n)?"ring-2 ring-primary/50 bg-primary/5":""}`,children:g.jsxs("div",{id:`court-${t.id}`,children:[g.jsxs("button",{className:"w-full flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 focus:outline-none",onClick:o,"aria-expanded":i,type:"button",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 flex-1",children:[g.jsx("div",{className:"flex items-center gap-3",children:g.jsxs("h3",{className:"text-2xl font-bold text-text-main",children:["Court ",t.courtNumber]})}),g.jsx("div",{className:"flex flex-wrap gap-1 mt-1 sm:mt-0",children:e.map(w=>w?g.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-text-muted bg-surface-alt px-2 py-0.5 rounded",children:[g.jsx(tb,{imageUrl:w.imageUrl,name:w.name,size:"sm",border:!1,className:"ring-1 ring-surface"}),w.name]},w.id+"-name"):null)})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-sm px-3 py-1 bg-primary/20 text-primary rounded-lg font-semibold",children:[c,"/",h," games"]}),g.jsxs("span",{className:"text-sm px-3 py-1 bg-success/20 text-success rounded-lg font-semibold",children:[t.playerIds.length," players"]}),g.jsx("span",{className:"text-xs px-2 py-1 bg-surface-alt text-text-muted rounded font-medium border border-border",children:t.playerIds.length===4?"First to 15, win by 1":t.playerIds.length===5?"First to 11, win by 1":""}),g.jsx(Cv,{className:`ml-2 h-6 w-6 text-text-muted transition-transform duration-200 ${i?"rotate-180":"rotate-0"}`,"aria-hidden":"true"})]})]}),i&&g.jsx("div",{className:"space-y-4 mt-4",children:g.jsxs("div",{className:"space-y-3",children:[g.jsx(KF,{courtNumber:t.courtNumber,playerStats:v,players:_,totalGamesForCourt:h,completedGamesForCourt:c}),t.games.map((w,T)=>{const D=_.find($=>$.id===w.team1.player1Id),k=_.find($=>$.id===w.team1.player2Id),V=_.find($=>$.id===w.team2.player1Id),X=_.find($=>$.id===w.team2.player2Id);return g.jsxs(eo.Fragment,{children:[g.jsx("div",{className:"mt-7 mb-2 mx-3",children:g.jsxs("span",{className:"text-xs font-semibold text-text-muted uppercase tracking-wide",children:["Game ",T+1]})}),g.jsxs("div",{className:"border border-border bg-surface rounded-none",style:{boxShadow:"none"},children:[g.jsxs("div",{className:`flex items-center justify-between border-b border-border px-3 py-2 ${typeof w.team1Score=="number"&&typeof w.team2Score=="number"&&w.team1Score>w.team2Score?"bg-success/10":""}`,children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-text-main",children:D?.name}),g.jsx("div",{className:"font-medium text-text-main",children:k?.name})]}),g.jsx("div",{className:"text-2xl font-bold text-right min-w-[48px] text-black dark:text-white",children:r&&p?g.jsx("input",{type:"number",className:"w-12 px-1 py-0.5 border border-border rounded text-center text-lg font-bold",value:w.team1Score??"",onChange:$=>d(w.id,"team1Score",Number($.target.value))}):w.team1Score??""})]}),g.jsxs("div",{className:`flex items-center justify-between px-3 py-2 ${typeof w.team1Score=="number"&&typeof w.team2Score=="number"&&w.team2Score>w.team1Score?"bg-success/10":""}`,children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-text-main",children:V?.name}),g.jsx("div",{className:"font-medium text-text-main",children:X?.name})]}),g.jsx("div",{className:"text-2xl font-bold text-right min-w-[48px] text-black dark:text-white",children:r&&p?g.jsx("input",{type:"number",className:"w-12 px-1 py-0.5 border border-border rounded text-center text-lg font-bold",value:w.team2Score??"",onChange:$=>d(w.id,"team2Score",Number($.target.value))}):w.team2Score??""})]})]})]},w.id)})]})})]})}),XF=({court:t,players:e,roundNumber:n,highlightedPlayerId:r,isAdmin:i,handleScoreChange:o})=>{const[c,h]=z.useState(!0),d=rp([t],n),p=t.games.filter(T=>T.roundNumber===n&&T.team1Score!==void 0&&T.team2Score!==void 0).length,v=t.games.filter(T=>T.roundNumber===n).length,_=n===1&&(typeof window.areRound1UpdatesAllowed=="boolean"?window.areRound1UpdatesAllowed:!0)||n===2&&(typeof window.areRound2UpdatesAllowed=="boolean"?window.areRound2UpdatesAllowed:!0),w=t.playerIds.map(T=>e.find(D=>D.id===T)).filter(Boolean);return g.jsx(YF,{court:t,courtPlayers:w,roundNumber:n,highlightedPlayerId:r,isAdmin:i,expanded:c,onToggleExpand:()=>h(T=>!T),completedGamesForCourt:p,totalGamesForCourt:v,handleScoreChange:o,isEditable:_,courtPlayerStats:d,players:e})};function JF(t){return t?t.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"}):""}function WF(t){return t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):""}const eB=({event:t,eventLoading:e,players:n,isAdmin:r,challenge:i,selectedPlayerIds:o,searchTerm:c,setSearchTerm:h,isInitializing:d,highlightedPlayerId:p,setHighlightedPlayerId:v,filteredPlayers:_,handlePlayerToggle:w,handleInitializeRound:T,handleAdvanceToRoundTwo:D,handleFinalizeEvent:k,calculatePlayerRankings:V,getPointsForRank:X})=>{if(e)return g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:g.jsxs(an,{variant:"premium",padding:"xl",className:"max-w-md w-full text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary/20 border-t-primary mx-auto mb-6"}),g.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Loading Event"}),g.jsx("p",{className:"text-text-muted",children:"Please wait while we fetch the event details..."})]})});if(!t)return g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:g.jsxs(an,{variant:"gradient",theme:"error",padding:"xl",className:"max-w-2xl w-full text-center",children:[g.jsx("div",{className:"text-6xl mb-6 opacity-50",children:""}),g.jsx("h1",{className:"text-3xl font-black text-text-main mb-4",children:"Event Not Found"}),g.jsxs("p",{className:"text-text-muted mb-8 leading-relaxed",children:["The event ID"," ",g.jsx("code",{className:"bg-surface-alt px-2 py-1 rounded font-mono text-sm",children:i?.eventId||"(empty)"})," ","does not match any scheduled event in our system."]}),g.jsx(Rt,{to:"/schedule",children:g.jsx(fn,{variant:"primary",size:"lg",icon:g.jsx(Jw,{}),iconPosition:"left",children:"Back to Schedule"})})]})});const $=i.currentView===1?i.round1:i.currentView===2?i.round2:null;return g.jsxs("div",{className:"space-y-8 pb-12 px-4 max-w-7xl mx-auto",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs(Rt,{to:"/schedule",className:"inline-flex items-center gap-2 text-text-muted hover:text-primary transition-colors font-semibold",children:[g.jsx(Jw,{className:"h-5 w-5"}),g.jsx("span",{children:"Back to Schedule"})]}),g.jsxs(Gs,{primaryColor:"primary",secondaryColor:"success",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:g.jsx(co,{className:"h-10 w-10 text-white"})}),g.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:t.name})]}),g.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[g.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/10 rounded-xl border border-primary/20",children:[g.jsx(co,{className:"h-5 w-5 text-primary flex-shrink-0"}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Date"}),g.jsx("div",{className:"font-bold text-text-main truncate",children:JF(t.startDateTime)})]})]}),g.jsxs("div",{className:"flex items-center gap-3 p-3 bg-success/10 rounded-xl border border-success/20",children:[g.jsx(Hu,{className:"h-5 w-5 text-success flex-shrink-0"}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Time"}),g.jsx("div",{className:"font-bold text-text-main truncate",children:WF(t.startDateTime)})]})]}),g.jsxs("div",{className:"flex items-center gap-3 p-3 bg-warning/10 rounded-xl border border-warning/20 sm:col-span-2 lg:col-span-1",children:[g.jsx(pS,{className:"h-5 w-5 text-warning flex-shrink-0"}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Location"}),g.jsx("div",{className:"font-bold text-text-main truncate",children:t.location??"TBD"})]})]})]})]})]}),r&&i.needsInitialization&&g.jsxs(an,{variant:"gradient",theme:"primary",padding:"lg",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4",children:g.jsx(kj,{className:"h-8 w-8 text-white"})}),g.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Initialize Event"}),g.jsx("p",{className:"text-text-muted",children:"Select 8-35 players to start the event"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(Ff,{placeholder:"Search players by name...",value:c,onChange:U=>h(U.target.value)}),g.jsx("div",{className:"text-center",children:g.jsxs("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${o.length>=8&&o.length<=35?"bg-success/20 text-success":"bg-warning/20 text-warning"}`,children:[o.length," / 35 players selected",o.length<8&&" (minimum 8)"]})}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-96 overflow-y-auto p-2",children:_.map(U=>{const J=o.includes(U.id||"");return g.jsx("div",{onClick:()=>w(U.id||""),className:`p-3 rounded-xl border-2 cursor-pointer transition-all duration-200 ${J?"border-primary bg-primary/10 shadow-md":"border-border hover:border-primary/50 bg-surface"}`,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${J?"border-primary bg-primary":"border-border"}`,children:J&&g.jsx(cj,{className:"h-4 w-4 text-white"})}),g.jsxs("div",{className:"flex-1 text-left",children:[g.jsx("div",{className:"font-semibold text-text-main",children:U.name}),U.dupr&&g.jsxs("div",{className:"text-xs text-text-muted",children:["DUPR: ",U.dupr]})]})]})},U.id)})}),g.jsx("div",{className:"text-center pt-4",children:g.jsx(fn,{variant:"primary",size:"lg",icon:g.jsx(vj,{}),onClick:T,disabled:o.length<8||o.length>35||d,loading:d,children:"Initialize Round 1"})})]})]}),!i.needsInitialization&&g.jsx("div",{className:"mb-6",children:g.jsx("button",{className:"w-full bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 border border-primary/30 rounded-xl p-4 hover:bg-primary/15 transition-all duration-200",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[g.jsx("div",{className:"flex items-center gap-2",children:[1,2,"standings"].map(U=>{const J=i.currentView===U,se=U===1||U===2&&i.round1||U==="standings"&&i.round2;return g.jsx(fn,{variant:J?"primary":"ghost",size:"sm",onClick:()=>i.setCurrentView(U),disabled:!se,children:U==="standings"?"Final Standings":`Round ${U}`},U)})}),g.jsxs("div",{className:"text-sm text-text-muted",children:["Progress: ",i.completedMatches,"/",i.totalMatches," matches (",i.progressPercent,"%)"]})]})})}),!i.needsInitialization&&$&&g.jsx(ZF,{players:n.filter(U=>$.courts.some(J=>J.playerIds.includes(U.id||""))),onPlayerSelect:U=>{v(U);const J=$.courts.find(se=>se.playerIds.includes(U));if(J){const se=document.getElementById(`court-${J.id}`);se&&se.scrollIntoView({behavior:"smooth",block:"center"})}},onClear:()=>v(null),placeholder:"Find a player on the courts...",className:"mb-6"}),$&&g.jsxs("div",{className:"space-y-6",children:[(()=>{const U=V($.courts,i.currentView),J=i.currentView===2&&i.round1?V(i.round1.courts,1):void 0,se=$.courts.flatMap(R=>R.games.filter(A=>A.roundNumber===i.currentView)),fe=se.filter(R=>R.team1Score!==void 0&&R.team2Score!==void 0).length;return g.jsx(HF,{roundNumber:i.currentView,playerRankings:U,players:n,completedGames:fe,totalGames:se.length,previousRoundRankings:J})})(),g.jsx(an,{variant:"gradient",theme:"success",padding:"sm",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-success to-success/70 rounded-full flex items-center justify-center",children:g.jsx(Im,{className:"h-5 w-5 text-white"})}),g.jsxs("div",{children:[g.jsxs("h2",{className:"font-bold text-text-main",children:["Round ",i.currentView," Courts"]}),g.jsxs("p",{className:"text-text-muted text-sm",children:[$.courts.length," courts  Live scoring enabled"]})]})]}),r&&g.jsxs("div",{className:"flex gap-2",children:[g.jsx(fn,{variant:"secondary",size:"sm",icon:g.jsx(wj,{}),onClick:i.resetAll,children:"Reset All"}),i.currentView===1&&i.round1&&g.jsx(fn,{variant:"primary",size:"sm",icon:g.jsx(xf,{}),onClick:D,disabled:!i.round1.courts.every(U=>U.games.every(J=>J.team1Score!==void 0&&J.team2Score!==void 0)),children:"Advance to Round 2"}),i.currentView===2&&i.round2&&g.jsx(fn,{variant:"primary",size:"sm",icon:g.jsx(vr,{}),onClick:k,disabled:!i.round2.courts.every(U=>U.games.every(J=>J.team1Score!==void 0&&J.team2Score!==void 0)),children:"Finalize Event"})]})]})}),g.jsx("div",{className:"grid grid-cols-1 gap-4",children:$.courts.map(U=>g.jsx(XF,{court:U,players:n,roundNumber:i.currentView,highlightedPlayerId:p,isAdmin:r,handleScoreChange:i.handleScoreChange},U.id))})]}),i.currentView==="standings"&&t.standings&&g.jsx(FR,{data:t.standings.map((U,J)=>({playerId:U,rank:J+1,points:X(J+1)})),players:n,showEvents:!1,showPoints:!0,className:"rounded-xl border border-border",pointsRenderer:(U,J,se)=>g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsxs("div",{className:"flex items-center justify-center gap-1 text-l font-bold text-success",children:[g.jsx(bj,{className:"h-5 w-5"}),X(se+1).toLocaleString()]}),g.jsx("div",{className:"text-sm text-text-muted",children:"points"})]}),rowClassName:(U,J)=>J===0?"bg-warning/5 hover:bg-warning/10":J===1?"bg-text-accent/5 hover:bg-text-accent/10":J===2?"bg-bronze/5 hover:bg-bronze/10":"hover:bg-surface-highlight"})]})},tB=()=>{const{id:t}=Q1(),e=t?decodeURIComponent(t):"",{data:n,isLoading:r}=OR(e),{data:i=[]}=Ih(),{isAdmin:o}=qR(),c=qF(e),[h,d]=z.useState([]),[p,v]=z.useState(""),[_,w]=z.useState(!1),[T,D]=z.useState(null),k=z.useMemo(()=>i.filter(J=>J.name.toLowerCase().includes(p.toLowerCase())).sort((J,se)=>J.name.localeCompare(se.name)),[i,p]),V=J=>{d(se=>se.includes(J)?se.filter(fe=>fe!==J):[...se,J])},X=async()=>{if(h.length<8||h.length>35){alert("Please select between 8-35 players");return}w(!0);try{await c.initializeRoundOne(h),d([])}catch(J){console.error("Failed to initialize round:",J),alert("Failed to initialize round. Please try again.")}finally{w(!1)}},$=async()=>{if(window.confirm("Are you sure you want to advance to Round 2? This cannot be undone."))try{await c.advanceToRoundTwo()}catch(J){console.error("Failed to advance to round 2:",J),alert("Failed to advance to Round 2. Please try again.")}},U=()=>{window.confirm("Are you sure you want to finalize this event? Final standings will be published.")&&c.finalizeEvent()};return g.jsx(eB,{event:n,eventLoading:r,players:i,isAdmin:o,challenge:c,selectedPlayerIds:h,searchTerm:p,setSearchTerm:v,isInitializing:_,highlightedPlayerId:T,setHighlightedPlayerId:D,filteredPlayers:k,handlePlayerToggle:V,handleInitializeRound:X,handleAdvanceToRoundTwo:$,handleFinalizeEvent:U,calculatePlayerRankings:rp,getPointsForRank:ds})},nB=()=>g.jsx(IO,{children:g.jsxs(ND,{children:[g.jsx(Bi,{path:"/",element:g.jsx(_F,{})}),g.jsx(Bi,{path:"/standings",element:g.jsx(SF,{})}),g.jsx(Bi,{path:"/schedule",element:g.jsx(PF,{})}),g.jsx(Bi,{path:"/player/:id",element:g.jsx(DF,{})}),g.jsx(Bi,{path:"/format",element:g.jsx(IF,{})}),g.jsx(Bi,{path:"/admin",element:g.jsx(zF,{})}),g.jsx(Bi,{path:"/event/:id",element:g.jsx(tB,{})})]})}),rB=new kk;kC.createRoot(document.getElementById("root")).render(g.jsx(z.StrictMode,{children:g.jsx(jk,{client:rB,children:g.jsx(WD,{children:g.jsx(nB,{})})})}));
