function NP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function DP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jv={exports:{}},dd={};var HT;function OP(){if(HT)return dd;HT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return dd.Fragment=e,dd.jsx=n,dd.jsxs=n,dd}var GT;function kP(){return GT||(GT=1,jv.exports=OP()),jv.exports}var g=kP(),Vv={exports:{}},Le={};var KT;function PP(){if(KT)return Le;KT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function E(M){return M===null||typeof M!="object"?null:(M=_&&M[_]||M["@@iterator"],typeof M=="function"?M:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,D={};function L(M,B,se){this.props=M,this.context=B,this.refs=D,this.updater=se||A}L.prototype.isReactComponent={},L.prototype.setState=function(M,B){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,B,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function F(){}F.prototype=L.prototype;function $(M,B,se){this.props=M,this.context=B,this.refs=D,this.updater=se||A}var Q=$.prototype=new F;Q.constructor=$,R(Q,L.prototype),Q.isPureReactComponent=!0;var W=Array.isArray;function re(){}var C={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function k(M,B,se){var de=se.ref;return{$$typeof:t,type:M,key:B,ref:de!==void 0?de:null,props:se}}function j(M,B){return k(M.type,B,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function z(M){var B={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return B[se]})}var P=/\/+/g;function ve(M,B){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):B.toString(36)}function me(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(re,re):(M.status="pending",M.then(function(B){M.status==="pending"&&(M.status="fulfilled",M.value=B)},function(B){M.status==="pending"&&(M.status="rejected",M.reason=B)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,B,se,de,xe){var we=typeof M;(we==="undefined"||we==="boolean")&&(M=null);var _e=!1;if(M===null)_e=!0;else switch(we){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(M.$$typeof){case t:case e:_e=!0;break;case y:return _e=M._init,H(_e(M._payload),B,se,de,xe)}}if(_e)return xe=xe(M),_e=de===""?"."+ve(M,0):de,W(xe)?(se="",_e!=null&&(se=_e.replace(P,"$&/")+"/"),H(xe,B,se,"",function(Fn){return Fn})):xe!=null&&(V(xe)&&(xe=j(xe,se+(xe.key==null||M&&M.key===xe.key?"":(""+xe.key).replace(P,"$&/")+"/")+_e)),B.push(xe)),1;_e=0;var ke=de===""?".":de+":";if(W(M))for(var He=0;He<M.length;He++)de=M[He],we=ke+ve(de,He),_e+=H(de,B,se,we,xe);else if(He=E(M),typeof He=="function")for(M=He.call(M),He=0;!(de=M.next()).done;)de=de.value,we=ke+ve(de,He++),_e+=H(de,B,se,we,xe);else if(we==="object"){if(typeof M.then=="function")return H(me(M),B,se,de,xe);throw B=String(M),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return _e}function oe(M,B,se){if(M==null)return M;var de=[],xe=0;return H(M,de,"","",function(we){return B.call(se,we,xe++)}),de}function Y(M){if(M._status===-1){var B=M._result;B=B(),B.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=B)}if(M._status===1)return M._result.default;throw M._result}var ye=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},be={map:oe,forEach:function(M,B,se){oe(M,function(){B.apply(this,arguments)},se)},count:function(M){var B=0;return oe(M,function(){B++}),B},toArray:function(M){return oe(M,function(B){return B})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Le.Activity=b,Le.Children=be,Le.Component=L,Le.Fragment=n,Le.Profiler=i,Le.PureComponent=$,Le.StrictMode=r,Le.Suspense=h,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Le.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Le.cache=function(M){return function(){return M.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(M,B,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var de=R({},M.props),xe=M.key;if(B!=null)for(we in B.key!==void 0&&(xe=""+B.key),B)!I.call(B,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&B.ref===void 0||(de[we]=B[we]);var we=arguments.length-2;if(we===1)de.children=se;else if(1<we){for(var _e=Array(we),ke=0;ke<we;ke++)_e[ke]=arguments[ke+2];de.children=_e}return k(M.type,xe,de)},Le.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},Le.createElement=function(M,B,se){var de,xe={},we=null;if(B!=null)for(de in B.key!==void 0&&(we=""+B.key),B)I.call(B,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(xe[de]=B[de]);var _e=arguments.length-2;if(_e===1)xe.children=se;else if(1<_e){for(var ke=Array(_e),He=0;He<_e;He++)ke[He]=arguments[He+2];xe.children=ke}if(M&&M.defaultProps)for(de in _e=M.defaultProps,_e)xe[de]===void 0&&(xe[de]=_e[de]);return k(M,we,xe)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(M){return{$$typeof:u,render:M}},Le.isValidElement=V,Le.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:Y}},Le.memo=function(M,B){return{$$typeof:f,type:M,compare:B===void 0?null:B}},Le.startTransition=function(M){var B=C.T,se={};C.T=se;try{var de=M(),xe=C.S;xe!==null&&xe(se,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(re,ye)}catch(we){ye(we)}finally{B!==null&&se.types!==null&&(B.types=se.types),C.T=B}},Le.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Le.use=function(M){return C.H.use(M)},Le.useActionState=function(M,B,se){return C.H.useActionState(M,B,se)},Le.useCallback=function(M,B){return C.H.useCallback(M,B)},Le.useContext=function(M){return C.H.useContext(M)},Le.useDebugValue=function(){},Le.useDeferredValue=function(M,B){return C.H.useDeferredValue(M,B)},Le.useEffect=function(M,B){return C.H.useEffect(M,B)},Le.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Le.useId=function(){return C.H.useId()},Le.useImperativeHandle=function(M,B,se){return C.H.useImperativeHandle(M,B,se)},Le.useInsertionEffect=function(M,B){return C.H.useInsertionEffect(M,B)},Le.useLayoutEffect=function(M,B){return C.H.useLayoutEffect(M,B)},Le.useMemo=function(M,B){return C.H.useMemo(M,B)},Le.useOptimistic=function(M,B){return C.H.useOptimistic(M,B)},Le.useReducer=function(M,B,se){return C.H.useReducer(M,B,se)},Le.useRef=function(M){return C.H.useRef(M)},Le.useState=function(M){return C.H.useState(M)},Le.useSyncExternalStore=function(M,B,se){return C.H.useSyncExternalStore(M,B,se)},Le.useTransition=function(){return C.H.useTransition()},Le.version="19.2.3",Le}var QT;function Bp(){return QT||(QT=1,Vv.exports=PP()),Vv.exports}var S=Bp();const $e=DP(S),MP=NP({__proto__:null,default:$e},[S]);var Lv={exports:{}},hd={},zv={exports:{}},Uv={};var ZT;function jP(){return ZT||(ZT=1,(function(t){function e(H,oe){var Y=H.length;H.push(oe);e:for(;0<Y;){var ye=Y-1>>>1,be=H[ye];if(0<i(be,oe))H[ye]=oe,H[Y]=be,Y=ye;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var oe=H[0],Y=H.pop();if(Y!==oe){H[0]=Y;e:for(var ye=0,be=H.length,M=be>>>1;ye<M;){var B=2*(ye+1)-1,se=H[B],de=B+1,xe=H[de];if(0>i(se,Y))de<be&&0>i(xe,se)?(H[ye]=xe,H[de]=Y,ye=de):(H[ye]=se,H[B]=Y,ye=B);else if(de<be&&0>i(xe,Y))H[ye]=xe,H[de]=Y,ye=de;else break e}}return oe}function i(H,oe){var Y=H.sortIndex-oe.sortIndex;return Y!==0?Y:H.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],y=1,b=null,_=3,E=!1,A=!1,R=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Q(H){for(var oe=n(f);oe!==null;){if(oe.callback===null)r(f);else if(oe.startTime<=H)r(f),oe.sortIndex=oe.expirationTime,e(h,oe);else break;oe=n(f)}}function W(H){if(R=!1,Q(H),!A)if(n(h)!==null)A=!0,re||(re=!0,z());else{var oe=n(f);oe!==null&&me(W,oe.startTime-H)}}var re=!1,C=-1,I=5,k=-1;function j(){return D?!0:!(t.unstable_now()-k<I)}function V(){if(D=!1,re){var H=t.unstable_now();k=H;var oe=!0;try{e:{A=!1,R&&(R=!1,F(C),C=-1),E=!0;var Y=_;try{t:{for(Q(H),b=n(h);b!==null&&!(b.expirationTime>H&&j());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,_=b.priorityLevel;var be=ye(b.expirationTime<=H);if(H=t.unstable_now(),typeof be=="function"){b.callback=be,Q(H),oe=!0;break t}b===n(h)&&r(h),Q(H)}else r(h);b=n(h)}if(b!==null)oe=!0;else{var M=n(f);M!==null&&me(W,M.startTime-H),oe=!1}}break e}finally{b=null,_=Y,E=!1}oe=void 0}}finally{oe?z():re=!1}}}var z;if(typeof $=="function")z=function(){$(V)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ve=P.port2;P.port1.onmessage=V,z=function(){ve.postMessage(null)}}else z=function(){L(V,0)};function me(H,oe){C=L(function(){H(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(H){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var Y=_;_=oe;try{return H()}finally{_=Y}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(H,oe){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=_;_=H;try{return oe()}finally{_=Y}},t.unstable_scheduleCallback=function(H,oe,Y){var ye=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ye+Y:ye):Y=ye,H){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Y+be,H={id:y++,callback:oe,priorityLevel:H,startTime:Y,expirationTime:be,sortIndex:-1},Y>ye?(H.sortIndex=Y,e(f,H),n(h)===null&&H===n(f)&&(R?(F(C),C=-1):R=!0,me(W,Y-ye))):(H.sortIndex=be,e(h,H),A||E||(A=!0,re||(re=!0,z()))),H},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(H){var oe=_;return function(){var Y=_;_=oe;try{return H.apply(this,arguments)}finally{_=Y}}}})(Uv)),Uv}var YT;function VP(){return YT||(YT=1,zv.exports=jP()),zv.exports}var $v={exports:{}},Tn={};var WT;function LP(){if(WT)return Tn;WT=1;var t=Bp();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,f,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:h,containerInfo:f,implementation:y}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(h,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,y)},Tn.flushSync=function(h){var f=l.T,y=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=y,r.d.f()}},Tn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},Tn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Tn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var y=f.as,b=u(y,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;y==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:E}):y==="script"&&r.d.X(h,{crossOrigin:b,integrity:_,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Tn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var y=u(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},Tn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var y=f.as,b=u(y,f.crossOrigin);r.d.L(h,y,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Tn.preloadModule=function(h,f){if(typeof h=="string")if(f){var y=u(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},Tn.requestFormReset=function(h){r.d.r(h)},Tn.unstable_batchedUpdates=function(h,f){return h(f)},Tn.useFormState=function(h,f,y){return l.H.useFormState(h,f,y)},Tn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Tn.version="19.2.3",Tn}var XT;function qI(){if(XT)return $v.exports;XT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$v.exports=LP(),$v.exports}var JT;function zP(){if(JT)return hd;JT=1;var t=VP(),e=Bp(),n=qI();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var c=s,d=a;;){var p=c.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===c)return h(p),s;if(v===d)return h(p),a;v=v.sibling}throw Error(r(188))}if(c.return!==d.return)c=p,d=v;else{for(var w=!1,N=p.child;N;){if(N===c){w=!0,c=p,d=v;break}if(N===d){w=!0,d=p,c=v;break}N=N.sibling}if(!w){for(N=v.child;N;){if(N===c){w=!0,c=v,d=p;break}if(N===d){w=!0,d=v,c=p;break}N=N.sibling}if(!w)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:a}function y(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=y(s),a!==null)return a;s=s.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var P=Symbol.for("react.client.reference");function ve(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===P?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case L:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case re:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case $:return s.displayName||"Context";case F:return(s._context.displayName||"Context")+".Consumer";case Q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return a=s.displayName||null,a!==null?a:ve(s.type)||"Memo";case I:a=s._payload,s=s._init;try{return ve(s(a))}catch{}}return null}var me=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},ye=[],be=-1;function M(s){return{current:s}}function B(s){0>be||(s.current=ye[be],ye[be]=null,be--)}function se(s,a){be++,ye[be]=s.current,s.current=a}var de=M(null),xe=M(null),we=M(null),_e=M(null);function ke(s,a){switch(se(we,a),se(xe,s),se(de,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?mT(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=mT(a),s=pT(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}B(de),se(de,s)}function He(){B(de),B(xe),B(we)}function Fn(s){s.memoizedState!==null&&se(_e,s);var a=de.current,c=pT(a,s.type);a!==c&&(se(xe,s),se(de,c))}function gt(s){xe.current===s&&(B(de),B(xe)),_e.current===s&&(B(_e),od._currentValue=Y)}var Vr,fl;function is(s){if(Vr===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Vr=a&&a[1]||"",fl=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vr+s+fl}var ou=!1;function Va(s,a){if(!s||ou)return"";ou=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var ee=ne}Reflect.construct(s,[],ue)}else{try{ue.call()}catch(ne){ee=ne}s.call(ue.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ue=s())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),w=v[0],N=v[1];if(w&&N){var U=w.split(`
`),J=N.split(`
`);for(p=d=0;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(d===U.length||p===J.length)for(d=U.length-1,p=J.length-1;1<=d&&0<=p&&U[d]!==J[p];)p--;for(;1<=d&&0<=p;d--,p--)if(U[d]!==J[p]){if(d!==1||p!==1)do if(d--,p--,0>p||U[d]!==J[p]){var ae=`
`+U[d].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=d&&0<=p);break}}}finally{ou=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?is(c):""}function lu(s,a){switch(s.tag){case 26:case 27:case 5:return is(s.type);case 16:return is("Lazy");case 13:return s.child!==a&&a!==null?is("Suspense Fallback"):is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return Va(s.type,!1);case 11:return Va(s.type.render,!1);case 1:return Va(s.type,!0);case 31:return is("Activity");default:return""}}function cu(s){try{var a="",c=null;do a+=lu(s,c),c=s,s=s.return;while(s);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Bt=Object.prototype.hasOwnProperty,nn=t.unstable_scheduleCallback,Ai=t.unstable_cancelCallback,Lg=t.unstable_shouldYield,jh=t.unstable_requestPaint,Dn=t.unstable_now,La=t.unstable_getCurrentPriorityLevel,uu=t.unstable_ImmediatePriority,du=t.unstable_UserBlockingPriority,Ii=t.unstable_NormalPriority,zg=t.unstable_LowPriority,Vh=t.unstable_IdlePriority,Lh=t.log,zh=t.unstable_setDisableYieldValue,Lr=null,pn=null;function mr(s){if(typeof Lh=="function"&&zh(s),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Lr,s)}catch{}}var Lt=Math.clz32?Math.clz32:$h,Uh=Math.log,ml=Math.LN2;function $h(s){return s>>>=0,s===0?32:31-(Uh(s)/ml|0)|0}var as=256,za=262144,qt=4194304;function os(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ls(s,a,c){var d=s.pendingLanes;if(d===0)return 0;var p=0,v=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var N=d&134217727;return N!==0?(d=N&~v,d!==0?p=os(d):(w&=N,w!==0?p=os(w):c||(c=N&~s,c!==0&&(p=os(c))))):(N=d&~v,N!==0?p=os(N):w!==0?p=os(w):c||(c=d&~s,c!==0&&(p=os(c)))),p===0?0:a!==0&&a!==p&&(a&v)===0&&(v=p&-p,c=a&-a,v>=c||v===32&&(c&4194048)!==0)?a:p}function zr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Ug(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fh(){var s=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),s}function cs(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Ua(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $g(s,a,c,d,p,v){var w=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var N=s.entanglements,U=s.expirationTimes,J=s.hiddenUpdates;for(c=w&~c;0<c;){var ae=31-Lt(c),ue=1<<ae;N[ae]=0,U[ae]=-1;var ee=J[ae];if(ee!==null)for(J[ae]=null,ae=0;ae<ee.length;ae++){var ne=ee[ae];ne!==null&&(ne.lane&=-536870913)}c&=~ue}d!==0&&$a(s,d,0),v!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=v&~(w&~a))}function $a(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var d=31-Lt(a);s.entangledLanes|=a,s.entanglements[d]=s.entanglements[d]|1073741824|c&261930}function hu(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var d=31-Lt(c),p=1<<d;p&a|s[d]&a&&(s[d]|=a),c&=~p}}function fu(s,a){var c=a&-a;return c=(c&42)!==0?1:Fa(c),(c&(s.suspendedLanes|a))!==0?0:c}function Fa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Bs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Bh(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:LT(s.type))}function Ur(s,a){var c=oe.p;try{return oe.p=s,a()}finally{oe.p=c}}var $r=Math.random().toString(36).slice(2),Ht="__reactFiber$"+$r,cn="__reactProps$"+$r,us="__reactContainer$"+$r,pl="__reactEvents$"+$r,Fg="__reactListeners$"+$r,qh="__reactHandles$"+$r,Hh="__reactResources$"+$r,ds="__reactMarker$"+$r;function gl(s){delete s[Ht],delete s[cn],delete s[pl],delete s[Fg],delete s[qh]}function hs(s){var a=s[Ht];if(a)return a;for(var c=s.parentNode;c;){if(a=c[us]||c[Ht]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=wT(s);s!==null;){if(c=s[Ht])return c;s=wT(s)}return a}s=c,c=s.parentNode}return null}function pr(s){if(s=s[Ht]||s[us]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Jn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function fs(s){var a=s[Hh];return a||(a=s[Hh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Gt(s){s[ds]=!0}var mu=new Set,pu={};function ms(s,a){ps(s,a),ps(s+"Capture",a)}function ps(s,a){for(pu[s]=a,s=0;s<a.length;s++)mu.add(a[s])}var gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yu={},vu={};function Gh(s){return Bt.call(vu,s)?!0:Bt.call(yu,s)?!1:gu.test(s)?vu[s]=!0:(yu[s]=!0,!1)}function yl(s,a,c){if(Gh(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function er(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function Kt(s,a,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+d)}}function un(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ri(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function bu(s,a,c){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,v=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(w){c=""+w,v.call(this,w)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ct(s){if(!s._valueTracker){var a=Ri(s)?"checked":"value";s._valueTracker=bu(s,a,""+s[a])}}function Ba(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),d="";return s&&(d=Ri(s)?s.checked?"true":"false":s.value),s=d,s!==c?(a.setValue(s),!0):!1}function gs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qa=/[\n"\\]/g;function Bn(s){return s.replace(qa,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function vl(s,a,c,d,p,v,w,N){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),a!=null?w==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+un(a)):s.value!==""+un(a)&&(s.value=""+un(a)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),a!=null?_u(s,w,un(a)):c!=null?_u(s,w,un(c)):d!=null&&s.removeAttribute("value"),p==null&&v!=null&&(s.defaultChecked=!!v),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+un(N):s.removeAttribute("name")}function Kh(s,a,c,d,p,v,w,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),a!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||a!=null)){ct(s);return}c=c!=null?""+un(c):"",a=a!=null?""+un(a):c,N||a===s.value||(s.value=a),s.defaultValue=a}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=N?s.checked:!!d,s.defaultChecked=!!d,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),ct(s)}function _u(s,a,c){a==="number"&&gs(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Ci(s,a,c,d){if(s=s.options,a){a={};for(var p=0;p<c.length;p++)a["$"+c[p]]=!0;for(c=0;c<s.length;c++)p=a.hasOwnProperty("$"+s[c].value),s[c].selected!==p&&(s[c].selected=p),p&&d&&(s[c].defaultSelected=!0)}else{for(c=""+un(c),a=null,p=0;p<s.length;p++){if(s[p].value===c){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function Qh(s,a,c){if(a!=null&&(a=""+un(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+un(c):""}function Ni(s,a,c,d){if(a==null){if(d!=null){if(c!=null)throw Error(r(92));if(me(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),a=c}c=un(a),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d),ct(s)}function qn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Zh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(s,a,c){var d=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":d?s.setProperty(a,c):typeof c!="number"||c===0||Zh.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function wu(s,a,c){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var p in a)d=a[p],a.hasOwnProperty(p)&&c[p]!==d&&xu(s,p,d)}else for(var v in a)a.hasOwnProperty(v)&&xu(s,v,a[v])}function bl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Di=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(s){return Di.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Fr(){}var Eu=null;function gr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Oi=null,ys=null;function Ha(s){var a=pr(s);if(a&&(s=a.stateNode)){var c=s[cn]||null;e:switch(s=a.stateNode,a.type){case"input":if(vl(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Bn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var d=c[a];if(d!==s&&d.form===s.form){var p=d[cn]||null;if(!p)throw Error(r(90));vl(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<c.length;a++)d=c[a],d.form===s.form&&Ba(d)}break e;case"textarea":Qh(s,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&Ci(s,!!c.multiple,a,!1)}}}var xl=!1;function ki(s,a,c){if(xl)return s(a,c);xl=!0;try{var d=s(a);return d}finally{if(xl=!1,(Oi!==null||ys!==null)&&(qf(),Oi&&(a=Oi,s=ys,ys=Oi=null,Ha(a),s)))for(a=0;a<s.length;a++)Ha(s[a])}}function Br(s,a){var c=s.stateNode;if(c===null)return null;var d=c[cn]||null;if(d===null)return null;c=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ga=!1;if(yr)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{Ga=!1}var vs=null,Tu=null,Ka=null;function Su(){if(Ka)return Ka;var s,a=Tu,c=a.length,d,p="value"in vs?vs.value:vs.textContent,v=p.length;for(s=0;s<c&&a[s]===p[s];s++);var w=c-s;for(d=1;d<=w&&a[c-d]===p[v-d];d++);return Ka=p.slice(s,1<d?1-d:void 0)}function Qa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function qs(){return!0}function qr(){return!1}function gn(s){function a(c,d,p,v,w){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(c=s[N],this[N]=c?c(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?qs:qr,this.isPropagationStopped=qr,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),a}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=gn(Hs),Pi=b({},Hs,{view:0,detail:0}),Au=gn(Pi),Mi,wl,_s,El=b({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ji,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==_s&&(_s&&s.type==="mousemove"?(Mi=s.screenX-_s.screenX,wl=s.screenY-_s.screenY):wl=Mi=0,_s=s),Mi)},movementY:function(s){return"movementY"in s?s.movementY:wl}}),Iu=gn(El),Za=b({},El,{dataTransfer:0}),Wh=gn(Za),Xh=b({},Pi,{relatedTarget:0}),Ya=gn(Xh),Ru=b({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Jh=gn(Ru),Tl=b({},Hs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ef=gn(Tl),tf=b({},Hs,{data:0}),xs=gn(tf),nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function af(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=sf[s])?!!a[s]:!1}function ji(){return af}var On=b({},Pi,{key:function(s){if(s.key){var a=nf[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Qa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?rf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ji,charCode:function(s){return s.type==="keypress"?Qa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),of=gn(On),lf=b({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=gn(lf),m=b({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ji}),x=gn(m),T=b({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=gn(T),Z=b({},El,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),te=gn(Z),pe=b({},Hs,{newState:0,oldState:0}),ze=gn(pe),zt=[9,13,27,32],at=yr&&"CompositionEvent"in window,Tt=null;yr&&"documentMode"in document&&(Tt=document.documentMode);var vr=yr&&"TextEvent"in window&&!Tt,ws=yr&&(!at||Tt&&8<Tt&&11>=Tt),Hr=" ",Gr=!1;function Wa(s,a){switch(s){case"keyup":return zt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sl(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Al=!1;function ek(s,a){switch(s){case"compositionend":return Sl(a);case"keypress":return a.which!==32?null:(Gr=!0,Hr);case"textInput":return s=a.data,s===Hr&&Gr?null:s;default:return null}}function tk(s,a){if(Al)return s==="compositionend"||!at&&Wa(s,a)?(s=Su(),Ka=Tu=vs=null,Al=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ws&&a.locale!=="ko"?null:a.data;default:return null}}var nk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!nk[s.type]:a==="textarea"}function A0(s,a,c,d){Oi?ys?ys.push(d):ys=[d]:Oi=d,a=Wf(a,"onChange"),0<a.length&&(c=new bs("onChange","change",null,c,d),s.push({event:c,listeners:a}))}var Cu=null,Nu=null;function rk(s){lT(s,0)}function cf(s){var a=Jn(s);if(Ba(a))return s}function I0(s,a){if(s==="change")return a}var R0=!1;if(yr){var Bg;if(yr){var qg="oninput"in document;if(!qg){var C0=document.createElement("div");C0.setAttribute("oninput","return;"),qg=typeof C0.oninput=="function"}Bg=qg}else Bg=!1;R0=Bg&&(!document.documentMode||9<document.documentMode)}function N0(){Cu&&(Cu.detachEvent("onpropertychange",D0),Nu=Cu=null)}function D0(s){if(s.propertyName==="value"&&cf(Nu)){var a=[];A0(a,Nu,s,gr(s)),ki(rk,a)}}function sk(s,a,c){s==="focusin"?(N0(),Cu=a,Nu=c,Cu.attachEvent("onpropertychange",D0)):s==="focusout"&&N0()}function ik(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return cf(Nu)}function ak(s,a){if(s==="click")return cf(a)}function ok(s,a){if(s==="input"||s==="change")return cf(a)}function lk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var tr=typeof Object.is=="function"?Object.is:lk;function Du(s,a){if(tr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),d=Object.keys(a);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!Bt.call(a,p)||!tr(s[p],a[p]))return!1}return!0}function O0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function k0(s,a){var c=O0(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=a&&d>=a)return{node:c,offset:a-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=O0(c)}}function P0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?P0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function M0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=gs(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=gs(s.document)}return a}function Hg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var ck=yr&&"documentMode"in document&&11>=document.documentMode,Il=null,Gg=null,Ou=null,Kg=!1;function j0(s,a,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Kg||Il==null||Il!==gs(d)||(d=Il,"selectionStart"in d&&Hg(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ou&&Du(Ou,d)||(Ou=d,d=Wf(Gg,"onSelect"),0<d.length&&(a=new bs("onSelect","select",null,a,c),s.push({event:a,listeners:d}),a.target=Il)))}function Xa(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Rl={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},Qg={},V0={};yr&&(V0=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function Ja(s){if(Qg[s])return Qg[s];if(!Rl[s])return s;var a=Rl[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in V0)return Qg[s]=a[c];return s}var L0=Ja("animationend"),z0=Ja("animationiteration"),U0=Ja("animationstart"),uk=Ja("transitionrun"),dk=Ja("transitionstart"),hk=Ja("transitioncancel"),$0=Ja("transitionend"),F0=new Map,Zg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zg.push("scrollEnd");function Kr(s,a){F0.set(s,a),ms(a,[s])}var uf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},br=[],Cl=0,Yg=0;function df(){for(var s=Cl,a=Yg=Cl=0;a<s;){var c=br[a];br[a++]=null;var d=br[a];br[a++]=null;var p=br[a];br[a++]=null;var v=br[a];if(br[a++]=null,d!==null&&p!==null){var w=d.pending;w===null?p.next=p:(p.next=w.next,w.next=p),d.pending=p}v!==0&&B0(c,p,v)}}function hf(s,a,c,d){br[Cl++]=s,br[Cl++]=a,br[Cl++]=c,br[Cl++]=d,Yg|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Wg(s,a,c,d){return hf(s,a,c,d),ff(s)}function eo(s,a){return hf(s,null,null,a),ff(s)}function B0(s,a,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var p=!1,v=s.return;v!==null;)v.childLanes|=c,d=v.alternate,d!==null&&(d.childLanes|=c),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(p=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,p&&a!==null&&(p=31-Lt(c),s=v.hiddenUpdates,d=s[p],d===null?s[p]=[a]:d.push(a),a.lane=c|536870912),v):null}function ff(s){if(50<ed)throw ed=0,av=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Nl={};function fk(s,a,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(s,a,c,d){return new fk(s,a,c,d)}function Xg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ks(s,a){var c=s.alternate;return c===null?(c=nr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function q0(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function mf(s,a,c,d,p,v){var w=0;if(d=s,typeof s=="function")Xg(s)&&(w=1);else if(typeof s=="string")w=vP(s,c,de.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=nr(31,c,a,p),s.elementType=k,s.lanes=v,s;case R:return to(c.children,p,v,a);case D:w=8,p|=24;break;case L:return s=nr(12,c,a,p|2),s.elementType=L,s.lanes=v,s;case W:return s=nr(13,c,a,p),s.elementType=W,s.lanes=v,s;case re:return s=nr(19,c,a,p),s.elementType=re,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:w=10;break e;case F:w=9;break e;case Q:w=11;break e;case C:w=14;break e;case I:w=16,d=null;break e}w=29,c=Error(r(130,s===null?"null":typeof s,"")),d=null}return a=nr(w,c,a,p),a.elementType=s,a.type=d,a.lanes=v,a}function to(s,a,c,d){return s=nr(7,s,d,a),s.lanes=c,s}function Jg(s,a,c){return s=nr(6,s,null,a),s.lanes=c,s}function H0(s){var a=nr(18,null,null,0);return a.stateNode=s,a}function ey(s,a,c){return a=nr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var G0=new WeakMap;function _r(s,a){if(typeof s=="object"&&s!==null){var c=G0.get(s);return c!==void 0?c:(a={value:s,source:a,stack:cu(a)},G0.set(s,a),a)}return{value:s,source:a,stack:cu(a)}}var Dl=[],Ol=0,pf=null,ku=0,xr=[],wr=0,Vi=null,Es=1,Ts="";function Qs(s,a){Dl[Ol++]=ku,Dl[Ol++]=pf,pf=s,ku=a}function K0(s,a,c){xr[wr++]=Es,xr[wr++]=Ts,xr[wr++]=Vi,Vi=s;var d=Es;s=Ts;var p=32-Lt(d)-1;d&=~(1<<p),c+=1;var v=32-Lt(a)+p;if(30<v){var w=p-p%5;v=(d&(1<<w)-1).toString(32),d>>=w,p-=w,Es=1<<32-Lt(a)+p|c<<p|d,Ts=v+s}else Es=1<<v|c<<p|d,Ts=s}function ty(s){s.return!==null&&(Qs(s,1),K0(s,1,0))}function ny(s){for(;s===pf;)pf=Dl[--Ol],Dl[Ol]=null,ku=Dl[--Ol],Dl[Ol]=null;for(;s===Vi;)Vi=xr[--wr],xr[wr]=null,Ts=xr[--wr],xr[wr]=null,Es=xr[--wr],xr[wr]=null}function Q0(s,a){xr[wr++]=Es,xr[wr++]=Ts,xr[wr++]=Vi,Es=a.id,Ts=a.overflow,Vi=s}var yn=null,wt=null,Je=!1,Li=null,Er=!1,ry=Error(r(519));function zi(s){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pu(_r(a,s)),ry}function Z0(s){var a=s.stateNode,c=s.type,d=s.memoizedProps;switch(a[Ht]=s,a[cn]=d,c){case"dialog":Ke("cancel",a),Ke("close",a);break;case"iframe":case"object":case"embed":Ke("load",a);break;case"video":case"audio":for(c=0;c<nd.length;c++)Ke(nd[c],a);break;case"source":Ke("error",a);break;case"img":case"image":case"link":Ke("error",a),Ke("load",a);break;case"details":Ke("toggle",a);break;case"input":Ke("invalid",a),Kh(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ke("invalid",a);break;case"textarea":Ke("invalid",a),Ni(a,d.value,d.defaultValue,d.children)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||d.suppressHydrationWarning===!0||hT(a.textContent,c)?(d.popover!=null&&(Ke("beforetoggle",a),Ke("toggle",a)),d.onScroll!=null&&Ke("scroll",a),d.onScrollEnd!=null&&Ke("scrollend",a),d.onClick!=null&&(a.onclick=Fr),a=!0):a=!1,a||zi(s,!0)}function Y0(s){for(yn=s.return;yn;)switch(yn.tag){case 5:case 31:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:yn=yn.return}}function kl(s){if(s!==yn)return!1;if(!Je)return Y0(s),Je=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||xv(s.type,s.memoizedProps)),c=!c),c&&wt&&zi(s),Y0(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=xT(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=xT(s)}else a===27?(a=wt,Ji(s.type)?(s=Av,Av=null,wt=s):wt=a):wt=yn?Sr(s.stateNode.nextSibling):null;return!0}function no(){wt=yn=null,Je=!1}function sy(){var s=Li;return s!==null&&(Qn===null?Qn=s:Qn.push.apply(Qn,s),Li=null),s}function Pu(s){Li===null?Li=[s]:Li.push(s)}var iy=M(null),ro=null,Zs=null;function Ui(s,a,c){se(iy,a._currentValue),a._currentValue=c}function Ys(s){s._currentValue=iy.current,B(iy)}function ay(s,a,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===c)break;s=s.return}}function oy(s,a,c,d){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var v=p.dependencies;if(v!==null){var w=p.child;v=v.firstContext;e:for(;v!==null;){var N=v;v=p;for(var U=0;U<a.length;U++)if(N.context===a[U]){v.lanes|=c,N=v.alternate,N!==null&&(N.lanes|=c),ay(v.return,c,s),d||(w=null);break e}v=N.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=c,v=w.alternate,v!==null&&(v.lanes|=c),ay(w,c,s),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===s){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Pl(s,a,c,d){s=null;for(var p=a,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var N=p.type;tr(p.pendingProps.value,w.value)||(s!==null?s.push(N):s=[N])}}else if(p===_e.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(od):s=[od])}p=p.return}s!==null&&oy(a,s,c,d),a.flags|=262144}function gf(s){for(s=s.firstContext;s!==null;){if(!tr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function so(s){ro=s,Zs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function vn(s){return W0(ro,s)}function yf(s,a){return ro===null&&so(s),W0(s,a)}function W0(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Zs===null){if(s===null)throw Error(r(308));Zs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Zs=Zs.next=a;return c}var mk=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},pk=t.unstable_scheduleCallback,gk=t.unstable_NormalPriority,Qt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ly(){return{controller:new mk,data:new Map,refCount:0}}function Mu(s){s.refCount--,s.refCount===0&&pk(gk,function(){s.controller.abort()})}var ju=null,cy=0,Ml=0,jl=null;function yk(s,a){if(ju===null){var c=ju=[];cy=0,Ml=hv(),jl={status:"pending",value:void 0,then:function(d){c.push(d)}}}return cy++,a.then(X0,X0),a}function X0(){if(--cy===0&&ju!==null){jl!==null&&(jl.status="fulfilled");var s=ju;ju=null,Ml=0,jl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function vk(s,a){var c=[],d={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return s.then(function(){d.status="fulfilled",d.value=a;for(var p=0;p<c.length;p++)(0,c[p])(a)},function(p){for(d.status="rejected",d.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),d}var J0=H.S;H.S=function(s,a){jE=Dn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&yk(s,a),J0!==null&&J0(s,a)};var io=M(null);function uy(){var s=io.current;return s!==null?s:xt.pooledCache}function vf(s,a){a===null?se(io,io.current):se(io,a.pool)}function ew(){var s=uy();return s===null?null:{parent:Qt._currentValue,pool:s}}var Vl=Error(r(460)),dy=Error(r(474)),bf=Error(r(542)),_f={then:function(){}};function tw(s){return s=s.status,s==="fulfilled"||s==="rejected"}function nw(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Fr,Fr),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,sw(s),s;default:if(typeof a.status=="string")a.then(Fr,Fr);else{if(s=xt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(d){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=d}},function(d){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,sw(s),s}throw oo=a,Vl}}function ao(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(oo=c,Vl):c}}var oo=null;function rw(){if(oo===null)throw Error(r(459));var s=oo;return oo=null,s}function sw(s){if(s===Vl||s===bf)throw Error(r(483))}var Ll=null,Vu=0;function xf(s){var a=Vu;return Vu+=1,Ll===null&&(Ll=[]),nw(Ll,s,a)}function Lu(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function wf(s,a){throw a.$$typeof===_?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function iw(s){function a(G,q){if(s){var X=G.deletions;X===null?(G.deletions=[q],G.flags|=16):X.push(q)}}function c(G,q){if(!s)return null;for(;q!==null;)a(G,q),q=q.sibling;return null}function d(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function p(G,q){return G=Ks(G,q),G.index=0,G.sibling=null,G}function v(G,q,X){return G.index=X,s?(X=G.alternate,X!==null?(X=X.index,X<q?(G.flags|=67108866,q):X):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function w(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function N(G,q,X,le){return q===null||q.tag!==6?(q=Jg(X,G.mode,le),q.return=G,q):(q=p(q,X),q.return=G,q)}function U(G,q,X,le){var Ce=X.type;return Ce===R?ae(G,q,X.props.children,le,X.key):q!==null&&(q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&ao(Ce)===q.type)?(q=p(q,X.props),Lu(q,X),q.return=G,q):(q=mf(X.type,X.key,X.props,null,G.mode,le),Lu(q,X),q.return=G,q)}function J(G,q,X,le){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=ey(X,G.mode,le),q.return=G,q):(q=p(q,X.children||[]),q.return=G,q)}function ae(G,q,X,le,Ce){return q===null||q.tag!==7?(q=to(X,G.mode,le,Ce),q.return=G,q):(q=p(q,X),q.return=G,q)}function ue(G,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Jg(""+q,G.mode,X),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return X=mf(q.type,q.key,q.props,null,G.mode,X),Lu(X,q),X.return=G,X;case A:return q=ey(q,G.mode,X),q.return=G,q;case I:return q=ao(q),ue(G,q,X)}if(me(q)||z(q))return q=to(q,G.mode,X,null),q.return=G,q;if(typeof q.then=="function")return ue(G,xf(q),X);if(q.$$typeof===$)return ue(G,yf(G,q),X);wf(G,q)}return null}function ee(G,q,X,le){var Ce=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ce!==null?null:N(G,q,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return X.key===Ce?U(G,q,X,le):null;case A:return X.key===Ce?J(G,q,X,le):null;case I:return X=ao(X),ee(G,q,X,le)}if(me(X)||z(X))return Ce!==null?null:ae(G,q,X,le,null);if(typeof X.then=="function")return ee(G,q,xf(X),le);if(X.$$typeof===$)return ee(G,q,yf(G,X),le);wf(G,X)}return null}function ne(G,q,X,le,Ce){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return G=G.get(X)||null,N(q,G,""+le,Ce);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case E:return G=G.get(le.key===null?X:le.key)||null,U(q,G,le,Ce);case A:return G=G.get(le.key===null?X:le.key)||null,J(q,G,le,Ce);case I:return le=ao(le),ne(G,q,X,le,Ce)}if(me(le)||z(le))return G=G.get(X)||null,ae(q,G,le,Ce,null);if(typeof le.then=="function")return ne(G,q,X,xf(le),Ce);if(le.$$typeof===$)return ne(G,q,X,yf(q,le),Ce);wf(q,le)}return null}function Ee(G,q,X,le){for(var Ce=null,rt=null,Ie=q,Fe=q=0,Ye=null;Ie!==null&&Fe<X.length;Fe++){Ie.index>Fe?(Ye=Ie,Ie=null):Ye=Ie.sibling;var st=ee(G,Ie,X[Fe],le);if(st===null){Ie===null&&(Ie=Ye);break}s&&Ie&&st.alternate===null&&a(G,Ie),q=v(st,q,Fe),rt===null?Ce=st:rt.sibling=st,rt=st,Ie=Ye}if(Fe===X.length)return c(G,Ie),Je&&Qs(G,Fe),Ce;if(Ie===null){for(;Fe<X.length;Fe++)Ie=ue(G,X[Fe],le),Ie!==null&&(q=v(Ie,q,Fe),rt===null?Ce=Ie:rt.sibling=Ie,rt=Ie);return Je&&Qs(G,Fe),Ce}for(Ie=d(Ie);Fe<X.length;Fe++)Ye=ne(Ie,G,Fe,X[Fe],le),Ye!==null&&(s&&Ye.alternate!==null&&Ie.delete(Ye.key===null?Fe:Ye.key),q=v(Ye,q,Fe),rt===null?Ce=Ye:rt.sibling=Ye,rt=Ye);return s&&Ie.forEach(function(sa){return a(G,sa)}),Je&&Qs(G,Fe),Ce}function Oe(G,q,X,le){if(X==null)throw Error(r(151));for(var Ce=null,rt=null,Ie=q,Fe=q=0,Ye=null,st=X.next();Ie!==null&&!st.done;Fe++,st=X.next()){Ie.index>Fe?(Ye=Ie,Ie=null):Ye=Ie.sibling;var sa=ee(G,Ie,st.value,le);if(sa===null){Ie===null&&(Ie=Ye);break}s&&Ie&&sa.alternate===null&&a(G,Ie),q=v(sa,q,Fe),rt===null?Ce=sa:rt.sibling=sa,rt=sa,Ie=Ye}if(st.done)return c(G,Ie),Je&&Qs(G,Fe),Ce;if(Ie===null){for(;!st.done;Fe++,st=X.next())st=ue(G,st.value,le),st!==null&&(q=v(st,q,Fe),rt===null?Ce=st:rt.sibling=st,rt=st);return Je&&Qs(G,Fe),Ce}for(Ie=d(Ie);!st.done;Fe++,st=X.next())st=ne(Ie,G,Fe,st.value,le),st!==null&&(s&&st.alternate!==null&&Ie.delete(st.key===null?Fe:st.key),q=v(st,q,Fe),rt===null?Ce=st:rt.sibling=st,rt=st);return s&&Ie.forEach(function(CP){return a(G,CP)}),Je&&Qs(G,Fe),Ce}function _t(G,q,X,le){if(typeof X=="object"&&X!==null&&X.type===R&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case E:e:{for(var Ce=X.key;q!==null;){if(q.key===Ce){if(Ce=X.type,Ce===R){if(q.tag===7){c(G,q.sibling),le=p(q,X.props.children),le.return=G,G=le;break e}}else if(q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===I&&ao(Ce)===q.type){c(G,q.sibling),le=p(q,X.props),Lu(le,X),le.return=G,G=le;break e}c(G,q);break}else a(G,q);q=q.sibling}X.type===R?(le=to(X.props.children,G.mode,le,X.key),le.return=G,G=le):(le=mf(X.type,X.key,X.props,null,G.mode,le),Lu(le,X),le.return=G,G=le)}return w(G);case A:e:{for(Ce=X.key;q!==null;){if(q.key===Ce)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){c(G,q.sibling),le=p(q,X.children||[]),le.return=G,G=le;break e}else{c(G,q);break}else a(G,q);q=q.sibling}le=ey(X,G.mode,le),le.return=G,G=le}return w(G);case I:return X=ao(X),_t(G,q,X,le)}if(me(X))return Ee(G,q,X,le);if(z(X)){if(Ce=z(X),typeof Ce!="function")throw Error(r(150));return X=Ce.call(X),Oe(G,q,X,le)}if(typeof X.then=="function")return _t(G,q,xf(X),le);if(X.$$typeof===$)return _t(G,q,yf(G,X),le);wf(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(c(G,q.sibling),le=p(q,X),le.return=G,G=le):(c(G,q),le=Jg(X,G.mode,le),le.return=G,G=le),w(G)):c(G,q)}return function(G,q,X,le){try{Vu=0;var Ce=_t(G,q,X,le);return Ll=null,Ce}catch(Ie){if(Ie===Vl||Ie===bf)throw Ie;var rt=nr(29,Ie,null,G.mode);return rt.lanes=le,rt.return=G,rt}}}var lo=iw(!0),aw=iw(!1),$i=!1;function hy(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fy(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Fi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Bi(s,a,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(ot&2)!==0){var p=d.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),d.pending=a,a=ff(s),B0(s,null,c),a}return hf(s,d,a,c),ff(s)}function zu(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var d=a.lanes;d&=s.pendingLanes,c|=d,a.lanes=c,hu(s,c)}}function my(s,a){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var w={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?p=v=w:v=v.next=w,c=c.next}while(c!==null);v===null?p=v=a:v=v.next=a}else p=v=a;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var py=!1;function Uu(){if(py){var s=jl;if(s!==null)throw s}}function $u(s,a,c,d){py=!1;var p=s.updateQueue;$i=!1;var v=p.firstBaseUpdate,w=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var U=N,J=U.next;U.next=null,w===null?v=J:w.next=J,w=U;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,N=ae.lastBaseUpdate,N!==w&&(N===null?ae.firstBaseUpdate=J:N.next=J,ae.lastBaseUpdate=U))}if(v!==null){var ue=p.baseState;w=0,ae=J=U=null,N=v;do{var ee=N.lane&-536870913,ne=ee!==N.lane;if(ne?(Ze&ee)===ee:(d&ee)===ee){ee!==0&&ee===Ml&&(py=!0),ae!==null&&(ae=ae.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ee=s,Oe=N;ee=a;var _t=c;switch(Oe.tag){case 1:if(Ee=Oe.payload,typeof Ee=="function"){ue=Ee.call(_t,ue,ee);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Oe.payload,ee=typeof Ee=="function"?Ee.call(_t,ue,ee):Ee,ee==null)break e;ue=b({},ue,ee);break e;case 2:$i=!0}}ee=N.callback,ee!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=p.callbacks,ne===null?p.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ae===null?(J=ae=ne,U=ue):ae=ae.next=ne,w|=ee;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);ae===null&&(U=ue),p.baseState=U,p.firstBaseUpdate=J,p.lastBaseUpdate=ae,v===null&&(p.shared.lanes=0),Qi|=w,s.lanes=w,s.memoizedState=ue}}function ow(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function lw(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)ow(c[s],a)}var zl=M(null),Ef=M(0);function cw(s,a){s=ii,se(Ef,s),se(zl,a),ii=s|a.baseLanes}function gy(){se(Ef,ii),se(zl,zl.current)}function yy(){ii=Ef.current,B(zl),B(Ef)}var rr=M(null),Tr=null;function qi(s){var a=s.alternate;se(Ut,Ut.current&1),se(rr,s),Tr===null&&(a===null||zl.current!==null||a.memoizedState!==null)&&(Tr=s)}function vy(s){se(Ut,Ut.current),se(rr,s),Tr===null&&(Tr=s)}function uw(s){s.tag===22?(se(Ut,Ut.current),se(rr,s),Tr===null&&(Tr=s)):Hi()}function Hi(){se(Ut,Ut.current),se(rr,rr.current)}function sr(s){B(rr),Tr===s&&(Tr=null),B(Ut)}var Ut=M(0);function Tf(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Tv(c)||Sv(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ws=0,Ue=null,vt=null,Zt=null,Sf=!1,Ul=!1,co=!1,Af=0,Fu=0,$l=null,bk=0;function kt(){throw Error(r(321))}function by(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!tr(s[c],a[c]))return!1;return!0}function _y(s,a,c,d,p,v){return Ws=v,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=s===null||s.memoizedState===null?Kw:My,co=!1,v=c(d,p),co=!1,Ul&&(v=hw(a,c,d,p)),dw(s),v}function dw(s){H.H=Hu;var a=vt!==null&&vt.next!==null;if(Ws=0,Zt=vt=Ue=null,Sf=!1,Fu=0,$l=null,a)throw Error(r(300));s===null||Yt||(s=s.dependencies,s!==null&&gf(s)&&(Yt=!0))}function hw(s,a,c,d){Ue=s;var p=0;do{if(Ul&&($l=null),Fu=0,Ul=!1,25<=p)throw Error(r(301));if(p+=1,Zt=vt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}H.H=Qw,v=a(c,d)}while(Ul);return v}function _k(){var s=H.H,a=s.useState()[0];return a=typeof a.then=="function"?Bu(a):a,s=s.useState()[0],(vt!==null?vt.memoizedState:null)!==s&&(Ue.flags|=1024),a}function xy(){var s=Af!==0;return Af=0,s}function wy(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function Ey(s){if(Sf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Sf=!1}Ws=0,Zt=vt=Ue=null,Ul=!1,Fu=Af=0,$l=null}function kn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ue.memoizedState=Zt=s:Zt=Zt.next=s,Zt}function $t(){if(vt===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=vt.next;var a=Zt===null?Ue.memoizedState:Zt.next;if(a!==null)Zt=a,vt=s;else{if(s===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));vt=s,s={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Zt===null?Ue.memoizedState=Zt=s:Zt=Zt.next=s}return Zt}function If(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bu(s){var a=Fu;return Fu+=1,$l===null&&($l=[]),s=nw($l,s,a),a=Ue,(Zt===null?a.memoizedState:Zt.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?Kw:My),s}function Rf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Bu(s);if(s.$$typeof===$)return vn(s)}throw Error(r(438,String(s)))}function Ty(s){var a=null,c=Ue.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var d=Ue.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=If(),Ue.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),d=0;d<s;d++)c[d]=j;return a.index++,c}function Xs(s,a){return typeof a=="function"?a(s):a}function Cf(s){var a=$t();return Sy(a,vt,s)}function Sy(s,a,c){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var p=s.baseQueue,v=d.pending;if(v!==null){if(p!==null){var w=p.next;p.next=v.next,v.next=w}a.baseQueue=p=v,d.pending=null}if(v=s.baseState,p===null)s.memoizedState=v;else{a=p.next;var N=w=null,U=null,J=a,ae=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(Ze&ue)===ue:(Ws&ue)===ue){var ee=J.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===Ml&&(ae=!0);else if((Ws&ee)===ee){J=J.next,ee===Ml&&(ae=!0);continue}else ue={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(N=U=ue,w=v):U=U.next=ue,Ue.lanes|=ee,Qi|=ee;ue=J.action,co&&c(v,ue),v=J.hasEagerState?J.eagerState:c(v,ue)}else ee={lane:ue,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(N=U=ee,w=v):U=U.next=ee,Ue.lanes|=ue,Qi|=ue;J=J.next}while(J!==null&&J!==a);if(U===null?w=v:U.next=N,!tr(v,s.memoizedState)&&(Yt=!0,ae&&(c=jl,c!==null)))throw c;s.memoizedState=v,s.baseState=w,s.baseQueue=U,d.lastRenderedState=v}return p===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Ay(s){var a=$t(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var d=c.dispatch,p=c.pending,v=a.memoizedState;if(p!==null){c.pending=null;var w=p=p.next;do v=s(v,w.action),w=w.next;while(w!==p);tr(v,a.memoizedState)||(Yt=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,d]}function fw(s,a,c){var d=Ue,p=$t(),v=Je;if(v){if(c===void 0)throw Error(r(407));c=c()}else c=a();var w=!tr((vt||p).memoizedState,c);if(w&&(p.memoizedState=c,Yt=!0),p=p.queue,Cy(gw.bind(null,d,p,s),[s]),p.getSnapshot!==a||w||Zt!==null&&Zt.memoizedState.tag&1){if(d.flags|=2048,Fl(9,{destroy:void 0},pw.bind(null,d,p,c,a),null),xt===null)throw Error(r(349));v||(Ws&127)!==0||mw(d,a,c)}return c}function mw(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Ue.updateQueue,a===null?(a=If(),Ue.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function pw(s,a,c,d){a.value=c,a.getSnapshot=d,yw(a)&&vw(s)}function gw(s,a,c){return c(function(){yw(a)&&vw(s)})}function yw(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!tr(s,c)}catch{return!0}}function vw(s){var a=eo(s,2);a!==null&&Zn(a,s,2)}function Iy(s){var a=kn();if(typeof s=="function"){var c=s;if(s=c(),co){mr(!0);try{c()}finally{mr(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:s},a}function bw(s,a,c,d){return s.baseState=c,Sy(s,vt,typeof d=="function"?d:Xs)}function xk(s,a,c,d,p){if(Of(s))throw Error(r(485));if(s=a.action,s!==null){var v={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};H.T!==null?c(!0):v.isTransition=!1,d(v),c=a.pending,c===null?(v.next=a.pending=v,_w(a,v)):(v.next=c.next,a.pending=c.next=v)}}function _w(s,a){var c=a.action,d=a.payload,p=s.state;if(a.isTransition){var v=H.T,w={};H.T=w;try{var N=c(p,d),U=H.S;U!==null&&U(w,N),xw(s,a,N)}catch(J){Ry(s,a,J)}finally{v!==null&&w.types!==null&&(v.types=w.types),H.T=v}}else try{v=c(p,d),xw(s,a,v)}catch(J){Ry(s,a,J)}}function xw(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){ww(s,a,d)},function(d){return Ry(s,a,d)}):ww(s,a,c)}function ww(s,a,c){a.status="fulfilled",a.value=c,Ew(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,_w(s,c)))}function Ry(s,a,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=c,Ew(a),a=a.next;while(a!==d)}s.action=null}function Ew(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Tw(s,a){return a}function Sw(s,a){if(Je){var c=xt.formState;if(c!==null){e:{var d=Ue;if(Je){if(wt){t:{for(var p=wt,v=Er;p.nodeType!==8;){if(!v){p=null;break t}if(p=Sr(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){wt=Sr(p.nextSibling),d=p.data==="F!";break e}}zi(d)}d=!1}d&&(a=c[0])}}return c=kn(),c.memoizedState=c.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tw,lastRenderedState:a},c.queue=d,c=qw.bind(null,Ue,d),d.dispatch=c,d=Iy(!1),v=Py.bind(null,Ue,!1,d.queue),d=kn(),p={state:a,dispatch:null,action:s,pending:null},d.queue=p,c=xk.bind(null,Ue,p,v,c),p.dispatch=c,d.memoizedState=s,[a,c,!1]}function Aw(s){var a=$t();return Iw(a,vt,s)}function Iw(s,a,c){if(a=Sy(s,a,Tw)[0],s=Cf(Xs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Bu(a)}catch(w){throw w===Vl?bf:w}else d=a;a=$t();var p=a.queue,v=p.dispatch;return c!==a.memoizedState&&(Ue.flags|=2048,Fl(9,{destroy:void 0},wk.bind(null,p,c),null)),[d,v,s]}function wk(s,a){s.action=a}function Rw(s){var a=$t(),c=vt;if(c!==null)return Iw(a,c,s);$t(),a=a.memoizedState,c=$t();var d=c.queue.dispatch;return c.memoizedState=s,[a,d,!1]}function Fl(s,a,c,d){return s={tag:s,create:c,deps:d,inst:a,next:null},a=Ue.updateQueue,a===null&&(a=If(),Ue.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,a.lastEffect=s),s}function Cw(){return $t().memoizedState}function Nf(s,a,c,d){var p=kn();Ue.flags|=s,p.memoizedState=Fl(1|a,{destroy:void 0},c,d===void 0?null:d)}function Df(s,a,c,d){var p=$t();d=d===void 0?null:d;var v=p.memoizedState.inst;vt!==null&&d!==null&&by(d,vt.memoizedState.deps)?p.memoizedState=Fl(a,v,c,d):(Ue.flags|=s,p.memoizedState=Fl(1|a,v,c,d))}function Nw(s,a){Nf(8390656,8,s,a)}function Cy(s,a){Df(2048,8,s,a)}function Ek(s){Ue.flags|=4;var a=Ue.updateQueue;if(a===null)a=If(),Ue.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function Dw(s){var a=$t().memoizedState;return Ek({ref:a,nextImpl:s}),function(){if((ot&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Ow(s,a){return Df(4,2,s,a)}function kw(s,a){return Df(4,4,s,a)}function Pw(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Mw(s,a,c){c=c!=null?c.concat([s]):null,Df(4,4,Pw.bind(null,a,s),c)}function Ny(){}function jw(s,a){var c=$t();a=a===void 0?null:a;var d=c.memoizedState;return a!==null&&by(a,d[1])?d[0]:(c.memoizedState=[s,a],s)}function Vw(s,a){var c=$t();a=a===void 0?null:a;var d=c.memoizedState;if(a!==null&&by(a,d[1]))return d[0];if(d=s(),co){mr(!0);try{s()}finally{mr(!1)}}return c.memoizedState=[d,a],d}function Dy(s,a,c){return c===void 0||(Ws&1073741824)!==0&&(Ze&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=LE(),Ue.lanes|=s,Qi|=s,c)}function Lw(s,a,c,d){return tr(c,a)?c:zl.current!==null?(s=Dy(s,c,d),tr(s,a)||(Yt=!0),s):(Ws&42)===0||(Ws&1073741824)!==0&&(Ze&261930)===0?(Yt=!0,s.memoizedState=c):(s=LE(),Ue.lanes|=s,Qi|=s,a)}function zw(s,a,c,d,p){var v=oe.p;oe.p=v!==0&&8>v?v:8;var w=H.T,N={};H.T=N,Py(s,!1,a,c);try{var U=p(),J=H.S;if(J!==null&&J(N,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=vk(U,d);qu(s,a,ae,or(s))}else qu(s,a,d,or(s))}catch(ue){qu(s,a,{then:function(){},status:"rejected",reason:ue},or())}finally{oe.p=v,w!==null&&N.types!==null&&(w.types=N.types),H.T=w}}function Tk(){}function Oy(s,a,c,d){if(s.tag!==5)throw Error(r(476));var p=Uw(s).queue;zw(s,p,a,Y,c===null?Tk:function(){return $w(s),c(d)})}function Uw(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:Y},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function $w(s){var a=Uw(s);a.next===null&&(a=s.alternate.memoizedState),qu(s,a.next.queue,{},or())}function ky(){return vn(od)}function Fw(){return $t().memoizedState}function Bw(){return $t().memoizedState}function Sk(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=or();s=Fi(c);var d=Bi(a,s,c);d!==null&&(Zn(d,a,c),zu(d,a,c)),a={cache:ly()},s.payload=a;return}a=a.return}}function Ak(s,a,c){var d=or();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Of(s)?Hw(a,c):(c=Wg(s,a,c,d),c!==null&&(Zn(c,s,d),Gw(c,a,d)))}function qw(s,a,c){var d=or();qu(s,a,c,d)}function qu(s,a,c,d){var p={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Of(s))Hw(a,p);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var w=a.lastRenderedState,N=v(w,c);if(p.hasEagerState=!0,p.eagerState=N,tr(N,w))return hf(s,a,p,0),xt===null&&df(),!1}catch{}if(c=Wg(s,a,p,d),c!==null)return Zn(c,s,d),Gw(c,a,d),!0}return!1}function Py(s,a,c,d){if(d={lane:2,revertLane:hv(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Of(s)){if(a)throw Error(r(479))}else a=Wg(s,c,d,2),a!==null&&Zn(a,s,2)}function Of(s){var a=s.alternate;return s===Ue||a!==null&&a===Ue}function Hw(s,a){Ul=Sf=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Gw(s,a,c){if((c&4194048)!==0){var d=a.lanes;d&=s.pendingLanes,c|=d,a.lanes=c,hu(s,c)}}var Hu={readContext:vn,use:Rf,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};Hu.useEffectEvent=kt;var Kw={readContext:vn,use:Rf,useCallback:function(s,a){return kn().memoizedState=[s,a===void 0?null:a],s},useContext:vn,useEffect:Nw,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,Nf(4194308,4,Pw.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Nf(4194308,4,s,a)},useInsertionEffect:function(s,a){Nf(4,2,s,a)},useMemo:function(s,a){var c=kn();a=a===void 0?null:a;var d=s();if(co){mr(!0);try{s()}finally{mr(!1)}}return c.memoizedState=[d,a],d},useReducer:function(s,a,c){var d=kn();if(c!==void 0){var p=c(a);if(co){mr(!0);try{c(a)}finally{mr(!1)}}}else p=a;return d.memoizedState=d.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},d.queue=s,s=s.dispatch=Ak.bind(null,Ue,s),[d.memoizedState,s]},useRef:function(s){var a=kn();return s={current:s},a.memoizedState=s},useState:function(s){s=Iy(s);var a=s.queue,c=qw.bind(null,Ue,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:Ny,useDeferredValue:function(s,a){var c=kn();return Dy(c,s,a)},useTransition:function(){var s=Iy(!1);return s=zw.bind(null,Ue,s.queue,!0,!1),kn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var d=Ue,p=kn();if(Je){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),xt===null)throw Error(r(349));(Ze&127)!==0||mw(d,a,c)}p.memoizedState=c;var v={value:c,getSnapshot:a};return p.queue=v,Nw(gw.bind(null,d,v,s),[s]),d.flags|=2048,Fl(9,{destroy:void 0},pw.bind(null,d,v,c,a),null),c},useId:function(){var s=kn(),a=xt.identifierPrefix;if(Je){var c=Ts,d=Es;c=(d&~(1<<32-Lt(d)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Af++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=bk++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:ky,useFormState:Sw,useActionState:Sw,useOptimistic:function(s){var a=kn();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Py.bind(null,Ue,!0,c),c.dispatch=a,[s,a]},useMemoCache:Ty,useCacheRefresh:function(){return kn().memoizedState=Sk.bind(null,Ue)},useEffectEvent:function(s){var a=kn(),c={impl:s};return a.memoizedState=c,function(){if((ot&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},My={readContext:vn,use:Rf,useCallback:jw,useContext:vn,useEffect:Cy,useImperativeHandle:Mw,useInsertionEffect:Ow,useLayoutEffect:kw,useMemo:Vw,useReducer:Cf,useRef:Cw,useState:function(){return Cf(Xs)},useDebugValue:Ny,useDeferredValue:function(s,a){var c=$t();return Lw(c,vt.memoizedState,s,a)},useTransition:function(){var s=Cf(Xs)[0],a=$t().memoizedState;return[typeof s=="boolean"?s:Bu(s),a]},useSyncExternalStore:fw,useId:Fw,useHostTransitionStatus:ky,useFormState:Aw,useActionState:Aw,useOptimistic:function(s,a){var c=$t();return bw(c,vt,s,a)},useMemoCache:Ty,useCacheRefresh:Bw};My.useEffectEvent=Dw;var Qw={readContext:vn,use:Rf,useCallback:jw,useContext:vn,useEffect:Cy,useImperativeHandle:Mw,useInsertionEffect:Ow,useLayoutEffect:kw,useMemo:Vw,useReducer:Ay,useRef:Cw,useState:function(){return Ay(Xs)},useDebugValue:Ny,useDeferredValue:function(s,a){var c=$t();return vt===null?Dy(c,s,a):Lw(c,vt.memoizedState,s,a)},useTransition:function(){var s=Ay(Xs)[0],a=$t().memoizedState;return[typeof s=="boolean"?s:Bu(s),a]},useSyncExternalStore:fw,useId:Fw,useHostTransitionStatus:ky,useFormState:Rw,useActionState:Rw,useOptimistic:function(s,a){var c=$t();return vt!==null?bw(c,vt,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Ty,useCacheRefresh:Bw};Qw.useEffectEvent=Dw;function jy(s,a,c,d){a=s.memoizedState,c=c(d,a),c=c==null?a:b({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Vy={enqueueSetState:function(s,a,c){s=s._reactInternals;var d=or(),p=Fi(d);p.payload=a,c!=null&&(p.callback=c),a=Bi(s,p,d),a!==null&&(Zn(a,s,d),zu(a,s,d))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var d=or(),p=Fi(d);p.tag=1,p.payload=a,c!=null&&(p.callback=c),a=Bi(s,p,d),a!==null&&(Zn(a,s,d),zu(a,s,d))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=or(),d=Fi(c);d.tag=2,a!=null&&(d.callback=a),a=Bi(s,d,c),a!==null&&(Zn(a,s,c),zu(a,s,c))}};function Zw(s,a,c,d,p,v,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,w):a.prototype&&a.prototype.isPureReactComponent?!Du(c,d)||!Du(p,v):!0}function Yw(s,a,c,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,d),a.state!==s&&Vy.enqueueReplaceState(a,a.state,null)}function uo(s,a){var c=a;if("ref"in a){c={};for(var d in a)d!=="ref"&&(c[d]=a[d])}if(s=s.defaultProps){c===a&&(c=b({},c));for(var p in s)c[p]===void 0&&(c[p]=s[p])}return c}function Ww(s){uf(s)}function Xw(s){console.error(s)}function Jw(s){uf(s)}function kf(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function eE(s,a,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ly(s,a,c){return c=Fi(c),c.tag=3,c.payload={element:null},c.callback=function(){kf(s,a)},c}function tE(s){return s=Fi(s),s.tag=3,s}function nE(s,a,c,d){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var v=d.value;s.payload=function(){return p(v)},s.callback=function(){eE(a,c,d)}}var w=c.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){eE(a,c,d),typeof p!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function Ik(s,a,c,d,p){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=c.alternate,a!==null&&Pl(a,c,p,!0),c=rr.current,c!==null){switch(c.tag){case 31:case 13:return Tr===null?Hf():c.alternate===null&&Pt===0&&(Pt=3),c.flags&=-257,c.flags|=65536,c.lanes=p,d===_f?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([d]):a.add(d),cv(s,d,p)),!1;case 22:return c.flags|=65536,d===_f?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([d]):c.add(d)),cv(s,d,p)),!1}throw Error(r(435,c.tag))}return cv(s,d,p),Hf(),!1}if(Je)return a=rr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,d!==ry&&(s=Error(r(422),{cause:d}),Pu(_r(s,c)))):(d!==ry&&(a=Error(r(423),{cause:d}),Pu(_r(a,c))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,d=_r(d,c),p=Ly(s.stateNode,d,p),my(s,p),Pt!==4&&(Pt=2)),!1;var v=Error(r(520),{cause:d});if(v=_r(v,c),Ju===null?Ju=[v]:Ju.push(v),Pt!==4&&(Pt=2),a===null)return!0;d=_r(d,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=p&-p,c.lanes|=s,s=Ly(c.stateNode,d,s),my(c,s),!1;case 1:if(a=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Zi===null||!Zi.has(v))))return c.flags|=65536,p&=-p,c.lanes|=p,p=tE(p),nE(p,s,c,d),my(c,p),!1}c=c.return}while(c!==null);return!1}var zy=Error(r(461)),Yt=!1;function bn(s,a,c,d){a.child=s===null?aw(a,null,c,d):lo(a,s.child,c,d)}function rE(s,a,c,d,p){c=c.render;var v=a.ref;if("ref"in d){var w={};for(var N in d)N!=="ref"&&(w[N]=d[N])}else w=d;return so(a),d=_y(s,a,c,w,v,p),N=xy(),s!==null&&!Yt?(wy(s,a,p),Js(s,a,p)):(Je&&N&&ty(a),a.flags|=1,bn(s,a,d,p),a.child)}function sE(s,a,c,d,p){if(s===null){var v=c.type;return typeof v=="function"&&!Xg(v)&&v.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=v,iE(s,a,v,d,p)):(s=mf(c.type,null,d,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(v=s.child,!Ky(s,p)){var w=v.memoizedProps;if(c=c.compare,c=c!==null?c:Du,c(w,d)&&s.ref===a.ref)return Js(s,a,p)}return a.flags|=1,s=Ks(v,d),s.ref=a.ref,s.return=a,a.child=s}function iE(s,a,c,d,p){if(s!==null){var v=s.memoizedProps;if(Du(v,d)&&s.ref===a.ref)if(Yt=!1,a.pendingProps=d=v,Ky(s,p))(s.flags&131072)!==0&&(Yt=!0);else return a.lanes=s.lanes,Js(s,a,p)}return Uy(s,a,c,d,p)}function aE(s,a,c,d){var p=d.children,v=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(v=v!==null?v.baseLanes|c:c,s!==null){for(d=a.child=s.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~v}else d=0,a.child=null;return oE(s,a,v,c,d)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&vf(a,v!==null?v.cachePool:null),v!==null?cw(a,v):gy(),uw(a);else return d=a.lanes=536870912,oE(s,a,v!==null?v.baseLanes|c:c,c,d)}else v!==null?(vf(a,v.cachePool),cw(a,v),Hi(),a.memoizedState=null):(s!==null&&vf(a,null),gy(),Hi());return bn(s,a,p,c),a.child}function Gu(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function oE(s,a,c,d,p){var v=uy();return v=v===null?null:{parent:Qt._currentValue,pool:v},a.memoizedState={baseLanes:c,cachePool:v},s!==null&&vf(a,null),gy(),uw(a),s!==null&&Pl(s,a,d,!0),a.childLanes=p,null}function Pf(s,a){return a=jf({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function lE(s,a,c){return lo(a,s.child,null,c),s=Pf(a,a.pendingProps),s.flags|=2,sr(a),a.memoizedState=null,s}function Rk(s,a,c){var d=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Je){if(d.mode==="hidden")return s=Pf(a,d),a.lanes=536870912,Gu(null,s);if(vy(a),(s=wt)?(s=_T(s,Er),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Vi!==null?{id:Es,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},c=H0(s),c.return=a,a.child=c,yn=a,wt=null)):s=null,s===null)throw zi(a);return a.lanes=536870912,null}return Pf(a,d)}var v=s.memoizedState;if(v!==null){var w=v.dehydrated;if(vy(a),p)if(a.flags&256)a.flags&=-257,a=lE(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(r(558));else if(Yt||Pl(s,a,c,!1),p=(c&s.childLanes)!==0,Yt||p){if(d=xt,d!==null&&(w=fu(d,c),w!==0&&w!==v.retryLane))throw v.retryLane=w,eo(s,w),Zn(d,s,w),zy;Hf(),a=lE(s,a,c)}else s=v.treeContext,wt=Sr(w.nextSibling),yn=a,Je=!0,Li=null,Er=!1,s!==null&&Q0(a,s),a=Pf(a,d),a.flags|=4096;return a}return s=Ks(s.child,{mode:d.mode,children:d.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Mf(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Uy(s,a,c,d,p){return so(a),c=_y(s,a,c,d,void 0,p),d=xy(),s!==null&&!Yt?(wy(s,a,p),Js(s,a,p)):(Je&&d&&ty(a),a.flags|=1,bn(s,a,c,p),a.child)}function cE(s,a,c,d,p,v){return so(a),a.updateQueue=null,c=hw(a,d,c,p),dw(s),d=xy(),s!==null&&!Yt?(wy(s,a,v),Js(s,a,v)):(Je&&d&&ty(a),a.flags|=1,bn(s,a,c,v),a.child)}function uE(s,a,c,d,p){if(so(a),a.stateNode===null){var v=Nl,w=c.contextType;typeof w=="object"&&w!==null&&(v=vn(w)),v=new c(d,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Vy,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=d,v.state=a.memoizedState,v.refs={},hy(a),w=c.contextType,v.context=typeof w=="object"&&w!==null?vn(w):Nl,v.state=a.memoizedState,w=c.getDerivedStateFromProps,typeof w=="function"&&(jy(a,c,w,d),v.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&Vy.enqueueReplaceState(v,v.state,null),$u(a,d,v,p),Uu(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(s===null){v=a.stateNode;var N=a.memoizedProps,U=uo(c,N);v.props=U;var J=v.context,ae=c.contextType;w=Nl,typeof ae=="object"&&ae!==null&&(w=vn(ae));var ue=c.getDerivedStateFromProps;ae=typeof ue=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,ae||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||J!==w)&&Yw(a,v,d,w),$i=!1;var ee=a.memoizedState;v.state=ee,$u(a,d,v,p),Uu(),J=a.memoizedState,N||ee!==J||$i?(typeof ue=="function"&&(jy(a,c,ue,d),J=a.memoizedState),(U=$i||Zw(a,c,U,d,ee,J,w))?(ae||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=J),v.props=d,v.state=J,v.context=w,d=U):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{v=a.stateNode,fy(s,a),w=a.memoizedProps,ae=uo(c,w),v.props=ae,ue=a.pendingProps,ee=v.context,J=c.contextType,U=Nl,typeof J=="object"&&J!==null&&(U=vn(J)),N=c.getDerivedStateFromProps,(J=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==ue||ee!==U)&&Yw(a,v,d,U),$i=!1,ee=a.memoizedState,v.state=ee,$u(a,d,v,p),Uu();var ne=a.memoizedState;w!==ue||ee!==ne||$i||s!==null&&s.dependencies!==null&&gf(s.dependencies)?(typeof N=="function"&&(jy(a,c,N,d),ne=a.memoizedState),(ae=$i||Zw(a,c,ae,d,ee,ne,U)||s!==null&&s.dependencies!==null&&gf(s.dependencies))?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,ne,U),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,ne,U)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=ne),v.props=d,v.state=ne,v.context=U,d=ae):(typeof v.componentDidUpdate!="function"||w===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),d=!1)}return v=d,Mf(s,a),d=(a.flags&128)!==0,v||d?(v=a.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,s!==null&&d?(a.child=lo(a,s.child,null,p),a.child=lo(a,null,c,p)):bn(s,a,c,p),a.memoizedState=v.state,s=a.child):s=Js(s,a,p),s}function dE(s,a,c,d){return no(),a.flags|=256,bn(s,a,c,d),a.child}var $y={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fy(s){return{baseLanes:s,cachePool:ew()}}function By(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=ar),s}function hE(s,a,c){var d=a.pendingProps,p=!1,v=(a.flags&128)!==0,w;if((w=v)||(w=s!==null&&s.memoizedState===null?!1:(Ut.current&2)!==0),w&&(p=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,s===null){if(Je){if(p?qi(a):Hi(),(s=wt)?(s=_T(s,Er),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Vi!==null?{id:Es,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},c=H0(s),c.return=a,a.child=c,yn=a,wt=null)):s=null,s===null)throw zi(a);return Sv(s)?a.lanes=32:a.lanes=536870912,null}var N=d.children;return d=d.fallback,p?(Hi(),p=a.mode,N=jf({mode:"hidden",children:N},p),d=to(d,p,c,null),N.return=a,d.return=a,N.sibling=d,a.child=N,d=a.child,d.memoizedState=Fy(c),d.childLanes=By(s,w,c),a.memoizedState=$y,Gu(null,d)):(qi(a),qy(a,N))}var U=s.memoizedState;if(U!==null&&(N=U.dehydrated,N!==null)){if(v)a.flags&256?(qi(a),a.flags&=-257,a=Hy(s,a,c)):a.memoizedState!==null?(Hi(),a.child=s.child,a.flags|=128,a=null):(Hi(),N=d.fallback,p=a.mode,d=jf({mode:"visible",children:d.children},p),N=to(N,p,c,null),N.flags|=2,d.return=a,N.return=a,d.sibling=N,a.child=d,lo(a,s.child,null,c),d=a.child,d.memoizedState=Fy(c),d.childLanes=By(s,w,c),a.memoizedState=$y,a=Gu(null,d));else if(qi(a),Sv(N)){if(w=N.nextSibling&&N.nextSibling.dataset,w)var J=w.dgst;w=J,d=Error(r(419)),d.stack="",d.digest=w,Pu({value:d,source:null,stack:null}),a=Hy(s,a,c)}else if(Yt||Pl(s,a,c,!1),w=(c&s.childLanes)!==0,Yt||w){if(w=xt,w!==null&&(d=fu(w,c),d!==0&&d!==U.retryLane))throw U.retryLane=d,eo(s,d),Zn(w,s,d),zy;Tv(N)||Hf(),a=Hy(s,a,c)}else Tv(N)?(a.flags|=192,a.child=s.child,a=null):(s=U.treeContext,wt=Sr(N.nextSibling),yn=a,Je=!0,Li=null,Er=!1,s!==null&&Q0(a,s),a=qy(a,d.children),a.flags|=4096);return a}return p?(Hi(),N=d.fallback,p=a.mode,U=s.child,J=U.sibling,d=Ks(U,{mode:"hidden",children:d.children}),d.subtreeFlags=U.subtreeFlags&65011712,J!==null?N=Ks(J,N):(N=to(N,p,c,null),N.flags|=2),N.return=a,d.return=a,d.sibling=N,a.child=d,Gu(null,d),d=a.child,N=s.child.memoizedState,N===null?N=Fy(c):(p=N.cachePool,p!==null?(U=Qt._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=ew(),N={baseLanes:N.baseLanes|c,cachePool:p}),d.memoizedState=N,d.childLanes=By(s,w,c),a.memoizedState=$y,Gu(s.child,d)):(qi(a),c=s.child,s=c.sibling,c=Ks(c,{mode:"visible",children:d.children}),c.return=a,c.sibling=null,s!==null&&(w=a.deletions,w===null?(a.deletions=[s],a.flags|=16):w.push(s)),a.child=c,a.memoizedState=null,c)}function qy(s,a){return a=jf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function jf(s,a){return s=nr(22,s,null,a),s.lanes=0,s}function Hy(s,a,c){return lo(a,s.child,null,c),s=qy(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function fE(s,a,c){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),ay(s.return,a,c)}function Gy(s,a,c,d,p,v){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p,treeForkCount:v}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=c,w.tailMode=p,w.treeForkCount=v)}function mE(s,a,c){var d=a.pendingProps,p=d.revealOrder,v=d.tail;d=d.children;var w=Ut.current,N=(w&2)!==0;if(N?(w=w&1|2,a.flags|=128):w&=1,se(Ut,w),bn(s,a,d,c),d=Je?ku:0,!N&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&fE(s,c,a);else if(s.tag===19)fE(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(c=a.child,p=null;c!==null;)s=c.alternate,s!==null&&Tf(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=a.child,a.child=null):(p=c.sibling,c.sibling=null),Gy(a,!1,p,c,v,d);break;case"backwards":case"unstable_legacy-backwards":for(c=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&Tf(s)===null){a.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}Gy(a,!0,c,null,v,d);break;case"together":Gy(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function Js(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Qi|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(Pl(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,c=Ks(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Ks(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Ky(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&gf(s)))}function Ck(s,a,c){switch(a.tag){case 3:ke(a,a.stateNode.containerInfo),Ui(a,Qt,s.memoizedState.cache),no();break;case 27:case 5:Fn(a);break;case 4:ke(a,a.stateNode.containerInfo);break;case 10:Ui(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,vy(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(qi(a),a.flags|=128,null):(c&a.child.childLanes)!==0?hE(s,a,c):(qi(a),s=Js(s,a,c),s!==null?s.sibling:null);qi(a);break;case 19:var p=(s.flags&128)!==0;if(d=(c&a.childLanes)!==0,d||(Pl(s,a,c,!1),d=(c&a.childLanes)!==0),p){if(d)return mE(s,a,c);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),se(Ut,Ut.current),d)break;return null;case 22:return a.lanes=0,aE(s,a,c,a.pendingProps);case 24:Ui(a,Qt,s.memoizedState.cache)}return Js(s,a,c)}function pE(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)Yt=!0;else{if(!Ky(s,c)&&(a.flags&128)===0)return Yt=!1,Ck(s,a,c);Yt=(s.flags&131072)!==0}else Yt=!1,Je&&(a.flags&1048576)!==0&&K0(a,ku,a.index);switch(a.lanes=0,a.tag){case 16:e:{var d=a.pendingProps;if(s=ao(a.elementType),a.type=s,typeof s=="function")Xg(s)?(d=uo(s,d),a.tag=1,a=uE(null,a,s,d,c)):(a.tag=0,a=Uy(null,a,s,d,c));else{if(s!=null){var p=s.$$typeof;if(p===Q){a.tag=11,a=rE(null,a,s,d,c);break e}else if(p===C){a.tag=14,a=sE(null,a,s,d,c);break e}}throw a=ve(s)||s,Error(r(306,a,""))}}return a;case 0:return Uy(s,a,a.type,a.pendingProps,c);case 1:return d=a.type,p=uo(d,a.pendingProps),uE(s,a,d,p,c);case 3:e:{if(ke(a,a.stateNode.containerInfo),s===null)throw Error(r(387));d=a.pendingProps;var v=a.memoizedState;p=v.element,fy(s,a),$u(a,d,null,c);var w=a.memoizedState;if(d=w.cache,Ui(a,Qt,d),d!==v.cache&&oy(a,[Qt],c,!0),Uu(),d=w.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=dE(s,a,d,c);break e}else if(d!==p){p=_r(Error(r(424)),a),Pu(p),a=dE(s,a,d,c);break e}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,wt=Sr(s.firstChild),yn=a,Je=!0,Li=null,Er=!0,c=aw(a,null,d,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(no(),d===p){a=Js(s,a,c);break e}bn(s,a,d,c)}a=a.child}return a;case 26:return Mf(s,a),s===null?(c=AT(a.type,null,a.pendingProps,null))?a.memoizedState=c:Je||(c=a.type,s=a.pendingProps,d=Xf(we.current).createElement(c),d[Ht]=a,d[cn]=s,_n(d,c,s),Gt(d),a.stateNode=d):a.memoizedState=AT(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Fn(a),s===null&&Je&&(d=a.stateNode=ET(a.type,a.pendingProps,we.current),yn=a,Er=!0,p=wt,Ji(a.type)?(Av=p,wt=Sr(d.firstChild)):wt=p),bn(s,a,a.pendingProps.children,c),Mf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Je&&((p=d=wt)&&(d=iP(d,a.type,a.pendingProps,Er),d!==null?(a.stateNode=d,yn=a,wt=Sr(d.firstChild),Er=!1,p=!0):p=!1),p||zi(a)),Fn(a),p=a.type,v=a.pendingProps,w=s!==null?s.memoizedProps:null,d=v.children,xv(p,v)?d=null:w!==null&&xv(p,w)&&(a.flags|=32),a.memoizedState!==null&&(p=_y(s,a,_k,null,null,c),od._currentValue=p),Mf(s,a),bn(s,a,d,c),a.child;case 6:return s===null&&Je&&((s=c=wt)&&(c=aP(c,a.pendingProps,Er),c!==null?(a.stateNode=c,yn=a,wt=null,s=!0):s=!1),s||zi(a)),null;case 13:return hE(s,a,c);case 4:return ke(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=lo(a,null,d,c):bn(s,a,d,c),a.child;case 11:return rE(s,a,a.type,a.pendingProps,c);case 7:return bn(s,a,a.pendingProps,c),a.child;case 8:return bn(s,a,a.pendingProps.children,c),a.child;case 12:return bn(s,a,a.pendingProps.children,c),a.child;case 10:return d=a.pendingProps,Ui(a,a.type,d.value),bn(s,a,d.children,c),a.child;case 9:return p=a.type._context,d=a.pendingProps.children,so(a),p=vn(p),d=d(p),a.flags|=1,bn(s,a,d,c),a.child;case 14:return sE(s,a,a.type,a.pendingProps,c);case 15:return iE(s,a,a.type,a.pendingProps,c);case 19:return mE(s,a,c);case 31:return Rk(s,a,c);case 22:return aE(s,a,c,a.pendingProps);case 24:return so(a),d=vn(Qt),s===null?(p=uy(),p===null&&(p=xt,v=ly(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=c),p=v),a.memoizedState={parent:d,cache:p},hy(a),Ui(a,Qt,p)):((s.lanes&c)!==0&&(fy(s,a),$u(a,null,null,c),Uu()),p=s.memoizedState,v=a.memoizedState,p.parent!==d?(p={parent:d,cache:d},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Ui(a,Qt,d)):(d=v.cache,Ui(a,Qt,d),d!==p.cache&&oy(a,[Qt],c,!0))),bn(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ei(s){s.flags|=4}function Qy(s,a,c,d,p){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(FE())s.flags|=8192;else throw oo=_f,dy}else s.flags&=-16777217}function gE(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!DT(a))if(FE())s.flags|=8192;else throw oo=_f,dy}function Vf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Fh():536870912,s.lanes|=a,Gl|=a)}function Ku(s,a){if(!Je)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Et(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(a)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=c,a}function Nk(s,a,c){var d=a.pendingProps;switch(ny(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(a),null;case 1:return Et(a),null;case 3:return c=a.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Ys(Qt),He(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(kl(a)?ei(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,sy())),Et(a),null;case 26:var p=a.type,v=a.memoizedState;return s===null?(ei(a),v!==null?(Et(a),gE(a,v)):(Et(a),Qy(a,p,null,d,c))):v?v!==s.memoizedState?(ei(a),Et(a),gE(a,v)):(Et(a),a.flags&=-16777217):(s=s.memoizedProps,s!==d&&ei(a),Et(a),Qy(a,p,s,d,c)),null;case 27:if(gt(a),c=we.current,p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&ei(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return Et(a),null}s=de.current,kl(a)?Z0(a):(s=ET(p,d,c),a.stateNode=s,ei(a))}return Et(a),null;case 5:if(gt(a),p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&ei(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return Et(a),null}if(v=de.current,kl(a))Z0(a);else{var w=Xf(we.current);switch(v){case 1:v=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=w.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof d.is=="string"?w.createElement("select",{is:d.is}):w.createElement("select"),d.multiple?v.multiple=!0:d.size&&(v.size=d.size);break;default:v=typeof d.is=="string"?w.createElement(p,{is:d.is}):w.createElement(p)}}v[Ht]=a,v[cn]=d;e:for(w=a.child;w!==null;){if(w.tag===5||w.tag===6)v.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break e;for(;w.sibling===null;){if(w.return===null||w.return===a)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}a.stateNode=v;e:switch(_n(v,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ei(a)}}return Et(a),Qy(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==d&&ei(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(r(166));if(s=we.current,kl(a)){if(s=a.stateNode,c=a.memoizedProps,d=null,p=yn,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}s[Ht]=a,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||hT(s.nodeValue,c)),s||zi(a,!0)}else s=Xf(s).createTextNode(d),s[Ht]=a,a.stateNode=s}return Et(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(d=kl(a),c!==null){if(s===null){if(!d)throw Error(r(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Ht]=a}else no(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Et(a),s=!1}else c=sy(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(sr(a),a):(sr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Et(a),null;case 13:if(d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=kl(a),d!==null&&d.dehydrated!==null){if(s===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Ht]=a}else no(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Et(a),p=!1}else p=sy(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(sr(a),a):(sr(a),null)}return sr(a),(a.flags&128)!==0?(a.lanes=c,a):(c=d!==null,s=s!==null&&s.memoizedState!==null,c&&(d=a.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==p&&(d.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),Vf(a,a.updateQueue),Et(a),null);case 4:return He(),s===null&&gv(a.stateNode.containerInfo),Et(a),null;case 10:return Ys(a.type),Et(a),null;case 19:if(B(Ut),d=a.memoizedState,d===null)return Et(a),null;if(p=(a.flags&128)!==0,v=d.rendering,v===null)if(p)Ku(d,!1);else{if(Pt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(v=Tf(s),v!==null){for(a.flags|=128,Ku(d,!1),s=v.updateQueue,a.updateQueue=s,Vf(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)q0(c,s),c=c.sibling;return se(Ut,Ut.current&1|2),Je&&Qs(a,d.treeForkCount),a.child}s=s.sibling}d.tail!==null&&Dn()>Ff&&(a.flags|=128,p=!0,Ku(d,!1),a.lanes=4194304)}else{if(!p)if(s=Tf(v),s!==null){if(a.flags|=128,p=!0,s=s.updateQueue,a.updateQueue=s,Vf(a,s),Ku(d,!0),d.tail===null&&d.tailMode==="hidden"&&!v.alternate&&!Je)return Et(a),null}else 2*Dn()-d.renderingStartTime>Ff&&c!==536870912&&(a.flags|=128,p=!0,Ku(d,!1),a.lanes=4194304);d.isBackwards?(v.sibling=a.child,a.child=v):(s=d.last,s!==null?s.sibling=v:a.child=v,d.last=v)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Dn(),s.sibling=null,c=Ut.current,se(Ut,p?c&1|2:c&1),Je&&Qs(a,d.treeForkCount),s):(Et(a),null);case 22:case 23:return sr(a),yy(),d=a.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(c&536870912)!==0&&(a.flags&128)===0&&(Et(a),a.subtreeFlags&6&&(a.flags|=8192)):Et(a),c=a.updateQueue,c!==null&&Vf(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==c&&(a.flags|=2048),s!==null&&B(io),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ys(Qt),Et(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Dk(s,a){switch(ny(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ys(Qt),He(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return gt(a),null;case 31:if(a.memoizedState!==null){if(sr(a),a.alternate===null)throw Error(r(340));no()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(sr(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));no()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return B(Ut),null;case 4:return He(),null;case 10:return Ys(a.type),null;case 22:case 23:return sr(a),yy(),s!==null&&B(io),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ys(Qt),null;case 25:return null;default:return null}}function yE(s,a){switch(ny(a),a.tag){case 3:Ys(Qt),He();break;case 26:case 27:case 5:gt(a);break;case 4:He();break;case 31:a.memoizedState!==null&&sr(a);break;case 13:sr(a);break;case 19:B(Ut);break;case 10:Ys(a.type);break;case 22:case 23:sr(a),yy(),s!==null&&B(io);break;case 24:Ys(Qt)}}function Qu(s,a){try{var c=a.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&s)===s){d=void 0;var v=c.create,w=c.inst;d=v(),w.destroy=d}c=c.next}while(c!==p)}}catch(N){dt(a,a.return,N)}}function Gi(s,a,c){try{var d=a.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var v=p.next;d=v;do{if((d.tag&s)===s){var w=d.inst,N=w.destroy;if(N!==void 0){w.destroy=void 0,p=a;var U=c,J=N;try{J()}catch(ae){dt(p,U,ae)}}}d=d.next}while(d!==v)}}catch(ae){dt(a,a.return,ae)}}function vE(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{lw(a,c)}catch(d){dt(s,s.return,d)}}}function bE(s,a,c){c.props=uo(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){dt(s,a,d)}}function Zu(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof c=="function"?s.refCleanup=c(d):c.current=d}}catch(p){dt(s,a,p)}}function Ss(s,a){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(p){dt(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){dt(s,a,p)}else c.current=null}function _E(s){var a=s.type,c=s.memoizedProps,d=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(p){dt(s,s.return,p)}}function Zy(s,a,c){try{var d=s.stateNode;Jk(d,s.type,c,a),d[cn]=a}catch(p){dt(s,s.return,p)}}function xE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ji(s.type)||s.tag===4}function Yy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||xE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ji(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wy(s,a,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Fr));else if(d!==4&&(d===27&&Ji(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(Wy(s,a,c),s=s.sibling;s!==null;)Wy(s,a,c),s=s.sibling}function Lf(s,a,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(d!==4&&(d===27&&Ji(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Lf(s,a,c),s=s.sibling;s!==null;)Lf(s,a,c),s=s.sibling}function wE(s){var a=s.stateNode,c=s.memoizedProps;try{for(var d=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);_n(a,d,c),a[Ht]=s,a[cn]=c}catch(v){dt(s,s.return,v)}}var ti=!1,Wt=!1,Xy=!1,EE=typeof WeakSet=="function"?WeakSet:Set,dn=null;function Ok(s,a){if(s=s.containerInfo,bv=im,s=M0(s),Hg(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var w=0,N=-1,U=-1,J=0,ae=0,ue=s,ee=null;t:for(;;){for(var ne;ue!==c||p!==0&&ue.nodeType!==3||(N=w+p),ue!==v||d!==0&&ue.nodeType!==3||(U=w+d),ue.nodeType===3&&(w+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)ee=ue,ue=ne;for(;;){if(ue===s)break t;if(ee===c&&++J===p&&(N=w),ee===v&&++ae===d&&(U=w),(ne=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=ne}c=N===-1||U===-1?null:{start:N,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(_v={focusedElem:s,selectionRange:c},im=!1,dn=a;dn!==null;)if(a=dn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,dn=s;else for(;dn!==null;){switch(a=dn,v=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)p=s[c],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,c=a,p=v.memoizedProps,v=v.memoizedState,d=c.stateNode;try{var Ee=uo(c.type,p);s=d.getSnapshotBeforeUpdate(Ee,v),d.__reactInternalSnapshotBeforeUpdate=s}catch(Oe){dt(c,c.return,Oe)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)Ev(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ev(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,dn=s;break}dn=a.return}}function TE(s,a,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:ri(s,c),d&4&&Qu(5,c);break;case 1:if(ri(s,c),d&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(w){dt(c,c.return,w)}else{var p=uo(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(w){dt(c,c.return,w)}}d&64&&vE(c),d&512&&Zu(c,c.return);break;case 3:if(ri(s,c),d&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{lw(s,a)}catch(w){dt(c,c.return,w)}}break;case 27:a===null&&d&4&&wE(c);case 26:case 5:ri(s,c),a===null&&d&4&&_E(c),d&512&&Zu(c,c.return);break;case 12:ri(s,c);break;case 31:ri(s,c),d&4&&IE(s,c);break;case 13:ri(s,c),d&4&&RE(s,c),d&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=$k.bind(null,c),oP(s,c))));break;case 22:if(d=c.memoizedState!==null||ti,!d){a=a!==null&&a.memoizedState!==null||Wt,p=ti;var v=Wt;ti=d,(Wt=a)&&!v?si(s,c,(c.subtreeFlags&8772)!==0):ri(s,c),ti=p,Wt=v}break;case 30:break;default:ri(s,c)}}function SE(s){var a=s.alternate;a!==null&&(s.alternate=null,SE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&gl(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var St=null,Hn=!1;function ni(s,a,c){for(c=c.child;c!==null;)AE(s,a,c),c=c.sibling}function AE(s,a,c){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Lr,c)}catch{}switch(c.tag){case 26:Wt||Ss(c,a),ni(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Wt||Ss(c,a);var d=St,p=Hn;Ji(c.type)&&(St=c.stateNode,Hn=!1),ni(s,a,c),sd(c.stateNode),St=d,Hn=p;break;case 5:Wt||Ss(c,a);case 6:if(d=St,p=Hn,St=null,ni(s,a,c),St=d,Hn=p,St!==null)if(Hn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(c.stateNode)}catch(v){dt(c,a,v)}else try{St.removeChild(c.stateNode)}catch(v){dt(c,a,v)}break;case 18:St!==null&&(Hn?(s=St,vT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),ec(s)):vT(St,c.stateNode));break;case 4:d=St,p=Hn,St=c.stateNode.containerInfo,Hn=!0,ni(s,a,c),St=d,Hn=p;break;case 0:case 11:case 14:case 15:Gi(2,c,a),Wt||Gi(4,c,a),ni(s,a,c);break;case 1:Wt||(Ss(c,a),d=c.stateNode,typeof d.componentWillUnmount=="function"&&bE(c,a,d)),ni(s,a,c);break;case 21:ni(s,a,c);break;case 22:Wt=(d=Wt)||c.memoizedState!==null,ni(s,a,c),Wt=d;break;default:ni(s,a,c)}}function IE(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ec(s)}catch(c){dt(a,a.return,c)}}}function RE(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ec(s)}catch(c){dt(a,a.return,c)}}function kk(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new EE),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new EE),a;default:throw Error(r(435,s.tag))}}function zf(s,a){var c=kk(s);a.forEach(function(d){if(!c.has(d)){c.add(d);var p=Fk.bind(null,s,d);d.then(p,p)}})}function Gn(s,a){var c=a.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d],v=s,w=a,N=w;e:for(;N!==null;){switch(N.tag){case 27:if(Ji(N.type)){St=N.stateNode,Hn=!1;break e}break;case 5:St=N.stateNode,Hn=!1;break e;case 3:case 4:St=N.stateNode.containerInfo,Hn=!0;break e}N=N.return}if(St===null)throw Error(r(160));AE(v,w,p),St=null,Hn=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)CE(a,s),a=a.sibling}var Qr=null;function CE(s,a){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Gn(a,s),Kn(s),d&4&&(Gi(3,s,s.return),Qu(3,s),Gi(5,s,s.return));break;case 1:Gn(a,s),Kn(s),d&512&&(Wt||c===null||Ss(c,c.return)),d&64&&ti&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var p=Qr;if(Gn(a,s),Kn(s),d&512&&(Wt||c===null||Ss(c,c.return)),d&4){var v=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){e:{d=s.type,c=s.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":v=p.getElementsByTagName("title")[0],(!v||v[ds]||v[Ht]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(d),p.head.insertBefore(v,p.querySelector("head > title"))),_n(v,d,c),v[Ht]=s,Gt(v),d=v;break e;case"link":var w=CT("link","href",p).get(d+(c.href||""));if(w){for(var N=0;N<w.length;N++)if(v=w[N],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){w.splice(N,1);break t}}v=p.createElement(d),_n(v,d,c),p.head.appendChild(v);break;case"meta":if(w=CT("meta","content",p).get(d+(c.content||""))){for(N=0;N<w.length;N++)if(v=w[N],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){w.splice(N,1);break t}}v=p.createElement(d),_n(v,d,c),p.head.appendChild(v);break;default:throw Error(r(468,d))}v[Ht]=s,Gt(v),d=v}s.stateNode=d}else NT(p,s.type,s.stateNode);else s.stateNode=RT(p,d,s.memoizedProps);else v!==d?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,d===null?NT(p,s.type,s.stateNode):RT(p,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Zy(s,s.memoizedProps,c.memoizedProps)}break;case 27:Gn(a,s),Kn(s),d&512&&(Wt||c===null||Ss(c,c.return)),c!==null&&d&4&&Zy(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Gn(a,s),Kn(s),d&512&&(Wt||c===null||Ss(c,c.return)),s.flags&32){p=s.stateNode;try{qn(p,"")}catch(Ee){dt(s,s.return,Ee)}}d&4&&s.stateNode!=null&&(p=s.memoizedProps,Zy(s,p,c!==null?c.memoizedProps:p)),d&1024&&(Xy=!0);break;case 6:if(Gn(a,s),Kn(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(Ee){dt(s,s.return,Ee)}}break;case 3:if(tm=null,p=Qr,Qr=Jf(a.containerInfo),Gn(a,s),Qr=p,Kn(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{ec(a.containerInfo)}catch(Ee){dt(s,s.return,Ee)}Xy&&(Xy=!1,NE(s));break;case 4:d=Qr,Qr=Jf(s.stateNode.containerInfo),Gn(a,s),Kn(s),Qr=d;break;case 12:Gn(a,s),Kn(s);break;case 31:Gn(a,s),Kn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,zf(s,d)));break;case 13:Gn(a,s),Kn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&($f=Dn()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,zf(s,d)));break;case 22:p=s.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,J=ti,ae=Wt;if(ti=J||p,Wt=ae||U,Gn(a,s),Wt=ae,ti=J,Kn(s),d&8192)e:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(c===null||U||ti||Wt||ho(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){U=c=a;try{if(v=U.stateNode,p)w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{N=U.stateNode;var ue=U.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;N.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ee){dt(U,U.return,Ee)}}}else if(a.tag===6){if(c===null){U=a;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(Ee){dt(U,U.return,Ee)}}}else if(a.tag===18){if(c===null){U=a;try{var ne=U.stateNode;p?bT(ne,!0):bT(U.stateNode,!1)}catch(Ee){dt(U,U.return,Ee)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,zf(s,c))));break;case 19:Gn(a,s),Kn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,zf(s,d)));break;case 30:break;case 21:break;default:Gn(a,s),Kn(s)}}function Kn(s){var a=s.flags;if(a&2){try{for(var c,d=s.return;d!==null;){if(xE(d)){c=d;break}d=d.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var p=c.stateNode,v=Yy(s);Lf(s,v,p);break;case 5:var w=c.stateNode;c.flags&32&&(qn(w,""),c.flags&=-33);var N=Yy(s);Lf(s,N,w);break;case 3:case 4:var U=c.stateNode.containerInfo,J=Yy(s);Wy(s,J,U);break;default:throw Error(r(161))}}catch(ae){dt(s,s.return,ae)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function NE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;NE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ri(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)TE(s,a.alternate,a),a=a.sibling}function ho(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Gi(4,a,a.return),ho(a);break;case 1:Ss(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&bE(a,a.return,c),ho(a);break;case 27:sd(a.stateNode);case 26:case 5:Ss(a,a.return),ho(a);break;case 22:a.memoizedState===null&&ho(a);break;case 30:ho(a);break;default:ho(a)}s=s.sibling}}function si(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,p=s,v=a,w=v.flags;switch(v.tag){case 0:case 11:case 15:si(p,v,c),Qu(4,v);break;case 1:if(si(p,v,c),d=v,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){dt(d,d.return,J)}if(d=v,p=d.updateQueue,p!==null){var N=d.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)ow(U[p],N)}catch(J){dt(d,d.return,J)}}c&&w&64&&vE(v),Zu(v,v.return);break;case 27:wE(v);case 26:case 5:si(p,v,c),c&&d===null&&w&4&&_E(v),Zu(v,v.return);break;case 12:si(p,v,c);break;case 31:si(p,v,c),c&&w&4&&IE(p,v);break;case 13:si(p,v,c),c&&w&4&&RE(p,v);break;case 22:v.memoizedState===null&&si(p,v,c),Zu(v,v.return);break;case 30:break;default:si(p,v,c)}a=a.sibling}}function Jy(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Mu(c))}function ev(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Mu(s))}function Zr(s,a,c,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)DE(s,a,c,d),a=a.sibling}function DE(s,a,c,d){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Zr(s,a,c,d),p&2048&&Qu(9,a);break;case 1:Zr(s,a,c,d);break;case 3:Zr(s,a,c,d),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Mu(s)));break;case 12:if(p&2048){Zr(s,a,c,d),s=a.stateNode;try{var v=a.memoizedProps,w=v.id,N=v.onPostCommit;typeof N=="function"&&N(w,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){dt(a,a.return,U)}}else Zr(s,a,c,d);break;case 31:Zr(s,a,c,d);break;case 13:Zr(s,a,c,d);break;case 23:break;case 22:v=a.stateNode,w=a.alternate,a.memoizedState!==null?v._visibility&2?Zr(s,a,c,d):Yu(s,a):v._visibility&2?Zr(s,a,c,d):(v._visibility|=2,Bl(s,a,c,d,(a.subtreeFlags&10256)!==0||!1)),p&2048&&Jy(w,a);break;case 24:Zr(s,a,c,d),p&2048&&ev(a.alternate,a);break;default:Zr(s,a,c,d)}}function Bl(s,a,c,d,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var v=s,w=a,N=c,U=d,J=w.flags;switch(w.tag){case 0:case 11:case 15:Bl(v,w,N,U,p),Qu(8,w);break;case 23:break;case 22:var ae=w.stateNode;w.memoizedState!==null?ae._visibility&2?Bl(v,w,N,U,p):Yu(v,w):(ae._visibility|=2,Bl(v,w,N,U,p)),p&&J&2048&&Jy(w.alternate,w);break;case 24:Bl(v,w,N,U,p),p&&J&2048&&ev(w.alternate,w);break;default:Bl(v,w,N,U,p)}a=a.sibling}}function Yu(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,d=a,p=d.flags;switch(d.tag){case 22:Yu(c,d),p&2048&&Jy(d.alternate,d);break;case 24:Yu(c,d),p&2048&&ev(d.alternate,d);break;default:Yu(c,d)}a=a.sibling}}var Wu=8192;function ql(s,a,c){if(s.subtreeFlags&Wu)for(s=s.child;s!==null;)OE(s,a,c),s=s.sibling}function OE(s,a,c){switch(s.tag){case 26:ql(s,a,c),s.flags&Wu&&s.memoizedState!==null&&bP(c,Qr,s.memoizedState,s.memoizedProps);break;case 5:ql(s,a,c);break;case 3:case 4:var d=Qr;Qr=Jf(s.stateNode.containerInfo),ql(s,a,c),Qr=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=Wu,Wu=16777216,ql(s,a,c),Wu=d):ql(s,a,c));break;default:ql(s,a,c)}}function kE(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Xu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];dn=d,ME(d,s)}kE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)PE(s),s=s.sibling}function PE(s){switch(s.tag){case 0:case 11:case 15:Xu(s),s.flags&2048&&Gi(9,s,s.return);break;case 3:Xu(s);break;case 12:Xu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Uf(s)):Xu(s);break;default:Xu(s)}}function Uf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];dn=d,ME(d,s)}kE(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Gi(8,a,a.return),Uf(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Uf(a));break;default:Uf(a)}s=s.sibling}}function ME(s,a){for(;dn!==null;){var c=dn;switch(c.tag){case 0:case 11:case 15:Gi(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Mu(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,dn=d;else e:for(c=s;dn!==null;){d=dn;var p=d.sibling,v=d.return;if(SE(d),d===c){dn=null;break e}if(p!==null){p.return=v,dn=p;break e}dn=v}}}var Pk={getCacheForType:function(s){var a=vn(Qt),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return vn(Qt).controller.signal}},Mk=typeof WeakMap=="function"?WeakMap:Map,ot=0,xt=null,Ge=null,Ze=0,ut=0,ir=null,Ki=!1,Hl=!1,tv=!1,ii=0,Pt=0,Qi=0,fo=0,nv=0,ar=0,Gl=0,Ju=null,Qn=null,rv=!1,$f=0,jE=0,Ff=1/0,Bf=null,Zi=null,rn=0,Yi=null,Kl=null,ai=0,sv=0,iv=null,VE=null,ed=0,av=null;function or(){return(ot&2)!==0&&Ze!==0?Ze&-Ze:H.T!==null?hv():Bh()}function LE(){if(ar===0)if((Ze&536870912)===0||Je){var s=za;za<<=1,(za&3932160)===0&&(za=262144),ar=s}else ar=536870912;return s=rr.current,s!==null&&(s.flags|=32),ar}function Zn(s,a,c){(s===xt&&(ut===2||ut===9)||s.cancelPendingCommit!==null)&&(Ql(s,0),Wi(s,Ze,ar,!1)),Ua(s,c),((ot&2)===0||s!==xt)&&(s===xt&&((ot&2)===0&&(fo|=c),Pt===4&&Wi(s,Ze,ar,!1)),As(s))}function zE(s,a,c){if((ot&6)!==0)throw Error(r(327));var d=!c&&(a&127)===0&&(a&s.expiredLanes)===0||zr(s,a),p=d?Lk(s,a):lv(s,a,!0),v=d;do{if(p===0){Hl&&!d&&Wi(s,a,0,!1);break}else{if(c=s.current.alternate,v&&!jk(c)){p=lv(s,a,!1),v=!1;continue}if(p===2){if(v=a,s.errorRecoveryDisabledLanes&v)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var N=s;p=Ju;var U=N.current.memoizedState.isDehydrated;if(U&&(Ql(N,w).flags|=256),w=lv(N,w,!1),w!==2){if(tv&&!U){N.errorRecoveryDisabledLanes|=v,fo|=v,p=4;break e}v=Qn,Qn=p,v!==null&&(Qn===null?Qn=v:Qn.push.apply(Qn,v))}p=w}if(v=!1,p!==2)continue}}if(p===1){Ql(s,0),Wi(s,a,0,!0);break}e:{switch(d=s,v=p,v){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Wi(d,a,ar,!Ki);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=$f+300-Dn(),10<p)){if(Wi(d,a,ar,!Ki),ls(d,0,!0)!==0)break e;ai=a,d.timeoutHandle=gT(UE.bind(null,d,c,Qn,Bf,rv,a,ar,fo,Gl,Ki,v,"Throttled",-0,0),p);break e}UE(d,c,Qn,Bf,rv,a,ar,fo,Gl,Ki,v,null,-0,0)}}break}while(!0);As(s)}function UE(s,a,c,d,p,v,w,N,U,J,ae,ue,ee,ne){if(s.timeoutHandle=-1,ue=a.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fr},OE(a,v,ue);var Ee=(v&62914560)===v?$f-Dn():(v&4194048)===v?jE-Dn():0;if(Ee=_P(ue,Ee),Ee!==null){ai=v,s.cancelPendingCommit=Ee(QE.bind(null,s,a,v,c,d,p,w,N,U,ae,ue,null,ee,ne)),Wi(s,v,w,!J);return}}QE(s,a,v,c,d,p,w,N,U)}function jk(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var p=c[d],v=p.getSnapshot;p=p.value;try{if(!tr(v(),p))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Wi(s,a,c,d){a&=~nv,a&=~fo,s.suspendedLanes|=a,s.pingedLanes&=~a,d&&(s.warmLanes|=a),d=s.expirationTimes;for(var p=a;0<p;){var v=31-Lt(p),w=1<<v;d[v]=-1,p&=~w}c!==0&&$a(s,c,a)}function qf(){return(ot&6)===0?(td(0),!1):!0}function ov(){if(Ge!==null){if(ut===0)var s=Ge.return;else s=Ge,Zs=ro=null,Ey(s),Ll=null,Vu=0,s=Ge;for(;s!==null;)yE(s.alternate,s),s=s.return;Ge=null}}function Ql(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,nP(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),ai=0,ov(),xt=s,Ge=c=Ks(s.current,null),Ze=a,ut=0,ir=null,Ki=!1,Hl=zr(s,a),tv=!1,Gl=ar=nv=fo=Qi=Pt=0,Qn=Ju=null,rv=!1,(a&8)!==0&&(a|=a&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=a;0<d;){var p=31-Lt(d),v=1<<p;a|=s[p],d&=~v}return ii=a,df(),c}function $E(s,a){Ue=null,H.H=Hu,a===Vl||a===bf?(a=rw(),ut=3):a===dy?(a=rw(),ut=4):ut=a===zy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ir=a,Ge===null&&(Pt=1,kf(s,_r(a,s.current)))}function FE(){var s=rr.current;return s===null?!0:(Ze&4194048)===Ze?Tr===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?s===Tr:!1}function BE(){var s=H.H;return H.H=Hu,s===null?Hu:s}function qE(){var s=H.A;return H.A=Pk,s}function Hf(){Pt=4,Ki||(Ze&4194048)!==Ze&&rr.current!==null||(Hl=!0),(Qi&134217727)===0&&(fo&134217727)===0||xt===null||Wi(xt,Ze,ar,!1)}function lv(s,a,c){var d=ot;ot|=2;var p=BE(),v=qE();(xt!==s||Ze!==a)&&(Bf=null,Ql(s,a)),a=!1;var w=Pt;e:do try{if(ut!==0&&Ge!==null){var N=Ge,U=ir;switch(ut){case 8:ov(),w=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(a=!0);var J=ut;if(ut=0,ir=null,Zl(s,N,U,J),c&&Hl){w=0;break e}break;default:J=ut,ut=0,ir=null,Zl(s,N,U,J)}}Vk(),w=Pt;break}catch(ae){$E(s,ae)}while(!0);return a&&s.shellSuspendCounter++,Zs=ro=null,ot=d,H.H=p,H.A=v,Ge===null&&(xt=null,Ze=0,df()),w}function Vk(){for(;Ge!==null;)HE(Ge)}function Lk(s,a){var c=ot;ot|=2;var d=BE(),p=qE();xt!==s||Ze!==a?(Bf=null,Ff=Dn()+500,Ql(s,a)):Hl=zr(s,a);e:do try{if(ut!==0&&Ge!==null){a=Ge;var v=ir;t:switch(ut){case 1:ut=0,ir=null,Zl(s,a,v,1);break;case 2:case 9:if(tw(v)){ut=0,ir=null,GE(a);break}a=function(){ut!==2&&ut!==9||xt!==s||(ut=7),As(s)},v.then(a,a);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:tw(v)?(ut=0,ir=null,GE(a)):(ut=0,ir=null,Zl(s,a,v,7));break;case 5:var w=null;switch(Ge.tag){case 26:w=Ge.memoizedState;case 5:case 27:var N=Ge;if(w?DT(w):N.stateNode.complete){ut=0,ir=null;var U=N.sibling;if(U!==null)Ge=U;else{var J=N.return;J!==null?(Ge=J,Gf(J)):Ge=null}break t}}ut=0,ir=null,Zl(s,a,v,5);break;case 6:ut=0,ir=null,Zl(s,a,v,6);break;case 8:ov(),Pt=6;break e;default:throw Error(r(462))}}zk();break}catch(ae){$E(s,ae)}while(!0);return Zs=ro=null,H.H=d,H.A=p,ot=c,Ge!==null?0:(xt=null,Ze=0,df(),Pt)}function zk(){for(;Ge!==null&&!Lg();)HE(Ge)}function HE(s){var a=pE(s.alternate,s,ii);s.memoizedProps=s.pendingProps,a===null?Gf(s):Ge=a}function GE(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=cE(c,a,a.pendingProps,a.type,void 0,Ze);break;case 11:a=cE(c,a,a.pendingProps,a.type.render,a.ref,Ze);break;case 5:Ey(a);default:yE(c,a),a=Ge=q0(a,ii),a=pE(c,a,ii)}s.memoizedProps=s.pendingProps,a===null?Gf(s):Ge=a}function Zl(s,a,c,d){Zs=ro=null,Ey(a),Ll=null,Vu=0;var p=a.return;try{if(Ik(s,p,a,c,Ze)){Pt=1,kf(s,_r(c,s.current)),Ge=null;return}}catch(v){if(p!==null)throw Ge=p,v;Pt=1,kf(s,_r(c,s.current)),Ge=null;return}a.flags&32768?(Je||d===1?s=!0:Hl||(Ze&536870912)!==0?s=!1:(Ki=s=!0,(d===2||d===9||d===3||d===6)&&(d=rr.current,d!==null&&d.tag===13&&(d.flags|=16384))),KE(a,s)):Gf(a)}function Gf(s){var a=s;do{if((a.flags&32768)!==0){KE(a,Ki);return}s=a.return;var c=Nk(a.alternate,a,ii);if(c!==null){Ge=c;return}if(a=a.sibling,a!==null){Ge=a;return}Ge=a=s}while(a!==null);Pt===0&&(Pt=5)}function KE(s,a){do{var c=Dk(s.alternate,s);if(c!==null){c.flags&=32767,Ge=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){Ge=s;return}Ge=s=c}while(s!==null);Pt=6,Ge=null}function QE(s,a,c,d,p,v,w,N,U){s.cancelPendingCommit=null;do Kf();while(rn!==0);if((ot&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(v=a.lanes|a.childLanes,v|=Yg,$g(s,c,v,w,N,U),s===xt&&(Ge=xt=null,Ze=0),Kl=a,Yi=s,ai=c,sv=v,iv=p,VE=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Bk(Ii,function(){return JE(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=H.T,H.T=null,p=oe.p,oe.p=2,w=ot,ot|=4;try{Ok(s,a,c)}finally{ot=w,oe.p=p,H.T=d}}rn=1,ZE(),YE(),WE()}}function ZE(){if(rn===1){rn=0;var s=Yi,a=Kl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=H.T,H.T=null;var d=oe.p;oe.p=2;var p=ot;ot|=4;try{CE(a,s);var v=_v,w=M0(s.containerInfo),N=v.focusedElem,U=v.selectionRange;if(w!==N&&N&&N.ownerDocument&&P0(N.ownerDocument.documentElement,N)){if(U!==null&&Hg(N)){var J=U.start,ae=U.end;if(ae===void 0&&(ae=J),"selectionStart"in N)N.selectionStart=J,N.selectionEnd=Math.min(ae,N.value.length);else{var ue=N.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),Ee=N.textContent.length,Oe=Math.min(U.start,Ee),_t=U.end===void 0?Oe:Math.min(U.end,Ee);!ne.extend&&Oe>_t&&(w=_t,_t=Oe,Oe=w);var G=k0(N,Oe),q=k0(N,_t);if(G&&q&&(ne.rangeCount!==1||ne.anchorNode!==G.node||ne.anchorOffset!==G.offset||ne.focusNode!==q.node||ne.focusOffset!==q.offset)){var X=ue.createRange();X.setStart(G.node,G.offset),ne.removeAllRanges(),Oe>_t?(ne.addRange(X),ne.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),ne.addRange(X))}}}}for(ue=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ue.length;N++){var le=ue[N];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}im=!!bv,_v=bv=null}finally{ot=p,oe.p=d,H.T=c}}s.current=a,rn=2}}function YE(){if(rn===2){rn=0;var s=Yi,a=Kl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=H.T,H.T=null;var d=oe.p;oe.p=2;var p=ot;ot|=4;try{TE(s,a.alternate,a)}finally{ot=p,oe.p=d,H.T=c}}rn=3}}function WE(){if(rn===4||rn===3){rn=0,jh();var s=Yi,a=Kl,c=ai,d=VE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?rn=5:(rn=0,Kl=Yi=null,XE(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Zi=null),Bs(c),a=a.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Lr,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=H.T,p=oe.p,oe.p=2,H.T=null;try{for(var v=s.onRecoverableError,w=0;w<d.length;w++){var N=d[w];v(N.value,{componentStack:N.stack})}}finally{H.T=a,oe.p=p}}(ai&3)!==0&&Kf(),As(s),p=s.pendingLanes,(c&261930)!==0&&(p&42)!==0?s===av?ed++:(ed=0,av=s):ed=0,td(0)}}function XE(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Mu(a)))}function Kf(){return ZE(),YE(),WE(),JE()}function JE(){if(rn!==5)return!1;var s=Yi,a=sv;sv=0;var c=Bs(ai),d=H.T,p=oe.p;try{oe.p=32>c?32:c,H.T=null,c=iv,iv=null;var v=Yi,w=ai;if(rn=0,Kl=Yi=null,ai=0,(ot&6)!==0)throw Error(r(331));var N=ot;if(ot|=4,PE(v.current),DE(v,v.current,w,c),ot=N,td(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Lr,v)}catch{}return!0}finally{oe.p=p,H.T=d,XE(s,a)}}function eT(s,a,c){a=_r(c,a),a=Ly(s.stateNode,a,2),s=Bi(s,a,2),s!==null&&(Ua(s,2),As(s))}function dt(s,a,c){if(s.tag===3)eT(s,s,c);else for(;a!==null;){if(a.tag===3){eT(a,s,c);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Zi===null||!Zi.has(d))){s=_r(c,s),c=tE(2),d=Bi(a,c,2),d!==null&&(nE(c,d,a,s),Ua(d,2),As(d));break}}a=a.return}}function cv(s,a,c){var d=s.pingCache;if(d===null){d=s.pingCache=new Mk;var p=new Set;d.set(a,p)}else p=d.get(a),p===void 0&&(p=new Set,d.set(a,p));p.has(c)||(tv=!0,p.add(c),s=Uk.bind(null,s,a,c),a.then(s,s))}function Uk(s,a,c){var d=s.pingCache;d!==null&&d.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,xt===s&&(Ze&c)===c&&(Pt===4||Pt===3&&(Ze&62914560)===Ze&&300>Dn()-$f?(ot&2)===0&&Ql(s,0):nv|=c,Gl===Ze&&(Gl=0)),As(s)}function tT(s,a){a===0&&(a=Fh()),s=eo(s,a),s!==null&&(Ua(s,a),As(s))}function $k(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),tT(s,c)}function Fk(s,a){var c=0;switch(s.tag){case 31:case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(a),tT(s,c)}function Bk(s,a){return nn(s,a)}var Qf=null,Yl=null,uv=!1,Zf=!1,dv=!1,Xi=0;function As(s){s!==Yl&&s.next===null&&(Yl===null?Qf=Yl=s:Yl=Yl.next=s),Zf=!0,uv||(uv=!0,Hk())}function td(s,a){if(!dv&&Zf){dv=!0;do for(var c=!1,d=Qf;d!==null;){if(s!==0){var p=d.pendingLanes;if(p===0)var v=0;else{var w=d.suspendedLanes,N=d.pingedLanes;v=(1<<31-Lt(42|s)+1)-1,v&=p&~(w&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,iT(d,v))}else v=Ze,v=ls(d,d===xt?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||zr(d,v)||(c=!0,iT(d,v));d=d.next}while(c);dv=!1}}function qk(){nT()}function nT(){Zf=uv=!1;var s=0;Xi!==0&&tP()&&(s=Xi);for(var a=Dn(),c=null,d=Qf;d!==null;){var p=d.next,v=rT(d,a);v===0?(d.next=null,c===null?Qf=p:c.next=p,p===null&&(Yl=c)):(c=d,(s!==0||(v&3)!==0)&&(Zf=!0)),d=p}rn!==0&&rn!==5||td(s),Xi!==0&&(Xi=0)}function rT(s,a){for(var c=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var w=31-Lt(v),N=1<<w,U=p[w];U===-1?((N&c)===0||(N&d)!==0)&&(p[w]=Ug(N,a)):U<=a&&(s.expiredLanes|=N),v&=~N}if(a=xt,c=Ze,c=ls(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,c===0||s===a&&(ut===2||ut===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Ai(d),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||zr(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(d!==null&&Ai(d),Bs(c)){case 2:case 8:c=du;break;case 32:c=Ii;break;case 268435456:c=Vh;break;default:c=Ii}return d=sT.bind(null,s),c=nn(c,d),s.callbackPriority=a,s.callbackNode=c,a}return d!==null&&d!==null&&Ai(d),s.callbackPriority=2,s.callbackNode=null,2}function sT(s,a){if(rn!==0&&rn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Kf()&&s.callbackNode!==c)return null;var d=Ze;return d=ls(s,s===xt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(zE(s,d,a),rT(s,Dn()),s.callbackNode!=null&&s.callbackNode===c?sT.bind(null,s):null)}function iT(s,a){if(Kf())return null;zE(s,a,!0)}function Hk(){rP(function(){(ot&6)!==0?nn(uu,qk):nT()})}function hv(){if(Xi===0){var s=Ml;s===0&&(s=as,as<<=1,(as&261888)===0&&(as=256)),Xi=s}return Xi}function aT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:_l(""+s)}function oT(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function Gk(s,a,c,d,p){if(a==="submit"&&c&&c.stateNode===p){var v=aT((p[cn]||null).action),w=d.submitter;w&&(a=(a=w[cn]||null)?aT(a.formAction):w.getAttribute("formAction"),a!==null&&(v=a,w=null));var N=new bs("action","action",null,d,p);s.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Xi!==0){var U=w?oT(p,w):new FormData(p);Oy(c,{pending:!0,data:U,method:p.method,action:v},null,U)}}else typeof v=="function"&&(N.preventDefault(),U=w?oT(p,w):new FormData(p),Oy(c,{pending:!0,data:U,method:p.method,action:v},v,U))},currentTarget:p}]})}}for(var fv=0;fv<Zg.length;fv++){var mv=Zg[fv],Kk=mv.toLowerCase(),Qk=mv[0].toUpperCase()+mv.slice(1);Kr(Kk,"on"+Qk)}Kr(L0,"onAnimationEnd"),Kr(z0,"onAnimationIteration"),Kr(U0,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(uk,"onTransitionRun"),Kr(dk,"onTransitionStart"),Kr(hk,"onTransitionCancel"),Kr($0,"onTransitionEnd"),ps("onMouseEnter",["mouseout","mouseover"]),ps("onMouseLeave",["mouseout","mouseover"]),ps("onPointerEnter",["pointerout","pointerover"]),ps("onPointerLeave",["pointerout","pointerover"]),ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nd));function lT(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],p=d.event;d=d.listeners;e:{var v=void 0;if(a)for(var w=d.length-1;0<=w;w--){var N=d[w],U=N.instance,J=N.currentTarget;if(N=N.listener,U!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=J;try{v(p)}catch(ae){uf(ae)}p.currentTarget=null,v=U}else for(w=0;w<d.length;w++){if(N=d[w],U=N.instance,J=N.currentTarget,N=N.listener,U!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=J;try{v(p)}catch(ae){uf(ae)}p.currentTarget=null,v=U}}}}function Ke(s,a){var c=a[pl];c===void 0&&(c=a[pl]=new Set);var d=s+"__bubble";c.has(d)||(cT(a,s,2,!1),c.add(d))}function pv(s,a,c){var d=0;a&&(d|=4),cT(c,s,d,a)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function gv(s){if(!s[Yf]){s[Yf]=!0,mu.forEach(function(c){c!=="selectionchange"&&(Zk.has(c)||pv(c,!1,s),pv(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Yf]||(a[Yf]=!0,pv("selectionchange",!1,a))}}function cT(s,a,c,d){switch(LT(a)){case 2:var p=EP;break;case 8:p=TP;break;default:p=Dv}c=p.bind(null,a,c,s),p=void 0,!Ga||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(a,c,{capture:!0,passive:p}):s.addEventListener(a,c,!0):p!==void 0?s.addEventListener(a,c,{passive:p}):s.addEventListener(a,c,!1)}function yv(s,a,c,d,p){var v=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var N=d.stateNode.containerInfo;if(N===p)break;if(w===4)for(w=d.return;w!==null;){var U=w.tag;if((U===3||U===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;N!==null;){if(w=hs(N),w===null)return;if(U=w.tag,U===5||U===6||U===26||U===27){d=v=w;continue e}N=N.parentNode}}d=d.return}ki(function(){var J=v,ae=gr(c),ue=[];e:{var ee=F0.get(s);if(ee!==void 0){var ne=bs,Ee=s;switch(s){case"keypress":if(Qa(c)===0)break e;case"keydown":case"keyup":ne=of;break;case"focusin":Ee="focus",ne=Ya;break;case"focusout":Ee="blur",ne=Ya;break;case"beforeblur":case"afterblur":ne=Ya;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=x;break;case L0:case z0:case U0:ne=Jh;break;case $0:ne=O;break;case"scroll":case"scrollend":ne=Au;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Gs;break;case"toggle":case"beforetoggle":ne=ze}var Oe=(a&4)!==0,_t=!Oe&&(s==="scroll"||s==="scrollend"),G=Oe?ee!==null?ee+"Capture":null:ee;Oe=[];for(var q=J,X;q!==null;){var le=q;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||G===null||(le=Br(q,G),le!=null&&Oe.push(rd(q,le,X))),_t)break;q=q.return}0<Oe.length&&(ee=new ne(ee,Ee,null,c,ae),ue.push({event:ee,listeners:Oe}))}}if((a&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",ee&&c!==Eu&&(Ee=c.relatedTarget||c.fromElement)&&(hs(Ee)||Ee[us]))break e;if((ne||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(Ee=c.relatedTarget||c.toElement,ne=J,Ee=Ee?hs(Ee):null,Ee!==null&&(_t=o(Ee),Oe=Ee.tag,Ee!==_t||Oe!==5&&Oe!==27&&Oe!==6)&&(Ee=null)):(ne=null,Ee=J),ne!==Ee)){if(Oe=Iu,le="onMouseLeave",G="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Oe=Gs,le="onPointerLeave",G="onPointerEnter",q="pointer"),_t=ne==null?ee:Jn(ne),X=Ee==null?ee:Jn(Ee),ee=new Oe(le,q+"leave",ne,c,ae),ee.target=_t,ee.relatedTarget=X,le=null,hs(ae)===J&&(Oe=new Oe(G,q+"enter",Ee,c,ae),Oe.target=X,Oe.relatedTarget=_t,le=Oe),_t=le,ne&&Ee)t:{for(Oe=Yk,G=ne,q=Ee,X=0,le=G;le;le=Oe(le))X++;le=0;for(var Ce=q;Ce;Ce=Oe(Ce))le++;for(;0<X-le;)G=Oe(G),X--;for(;0<le-X;)q=Oe(q),le--;for(;X--;){if(G===q||q!==null&&G===q.alternate){Oe=G;break t}G=Oe(G),q=Oe(q)}Oe=null}else Oe=null;ne!==null&&uT(ue,ee,ne,Oe,!1),Ee!==null&&_t!==null&&uT(ue,_t,Ee,Oe,!0)}}e:{if(ee=J?Jn(J):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var rt=I0;else if(S0(ee))if(R0)rt=ok;else{rt=ik;var Ie=sk}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&bl(J.elementType)&&(rt=I0):rt=ak;if(rt&&(rt=rt(s,J))){A0(ue,rt,c,ae);break e}Ie&&Ie(s,ee,J),s==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&_u(ee,"number",ee.value)}switch(Ie=J?Jn(J):window,s){case"focusin":(S0(Ie)||Ie.contentEditable==="true")&&(Il=Ie,Gg=J,Ou=null);break;case"focusout":Ou=Gg=Il=null;break;case"mousedown":Kg=!0;break;case"contextmenu":case"mouseup":case"dragend":Kg=!1,j0(ue,c,ae);break;case"selectionchange":if(ck)break;case"keydown":case"keyup":j0(ue,c,ae)}var Fe;if(at)e:{switch(s){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Al?Wa(s,c)&&(Ye="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ye="onCompositionStart");Ye&&(ws&&c.locale!=="ko"&&(Al||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Al&&(Fe=Su()):(vs=ae,Tu="value"in vs?vs.value:vs.textContent,Al=!0)),Ie=Wf(J,Ye),0<Ie.length&&(Ye=new xs(Ye,s,null,c,ae),ue.push({event:Ye,listeners:Ie}),Fe?Ye.data=Fe:(Fe=Sl(c),Fe!==null&&(Ye.data=Fe)))),(Fe=vr?ek(s,c):tk(s,c))&&(Ye=Wf(J,"onBeforeInput"),0<Ye.length&&(Ie=new xs("onBeforeInput","beforeinput",null,c,ae),ue.push({event:Ie,listeners:Ye}),Ie.data=Fe)),Gk(ue,s,J,c,ae)}lT(ue,a)})}function rd(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Wf(s,a){for(var c=a+"Capture",d=[];s!==null;){var p=s,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Br(s,c),p!=null&&d.unshift(rd(s,p,v)),p=Br(s,a),p!=null&&d.push(rd(s,p,v))),s.tag===3)return d;s=s.return}return[]}function Yk(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function uT(s,a,c,d,p){for(var v=a._reactName,w=[];c!==null&&c!==d;){var N=c,U=N.alternate,J=N.stateNode;if(N=N.tag,U!==null&&U===d)break;N!==5&&N!==26&&N!==27||J===null||(U=J,p?(J=Br(c,v),J!=null&&w.unshift(rd(c,J,U))):p||(J=Br(c,v),J!=null&&w.push(rd(c,J,U)))),c=c.return}w.length!==0&&s.push({event:a,listeners:w})}var Wk=/\r\n?/g,Xk=/\u0000|\uFFFD/g;function dT(s){return(typeof s=="string"?s:""+s).replace(Wk,`
`).replace(Xk,"")}function hT(s,a){return a=dT(a),dT(s)===a}function bt(s,a,c,d,p,v){switch(c){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||qn(s,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&qn(s,""+d);break;case"className":er(s,"class",d);break;case"tabIndex":er(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":er(s,c,d);break;case"style":wu(s,d,v);break;case"data":if(a!=="object"){er(s,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=_l(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(a!=="input"&&bt(s,a,"name",p.name,p,null),bt(s,a,"formEncType",p.formEncType,p,null),bt(s,a,"formMethod",p.formMethod,p,null),bt(s,a,"formTarget",p.formTarget,p,null)):(bt(s,a,"encType",p.encType,p,null),bt(s,a,"method",p.method,p,null),bt(s,a,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=_l(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=Fr);break;case"onScroll":d!=null&&Ke("scroll",s);break;case"onScrollEnd":d!=null&&Ke("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=_l(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":Ke("beforetoggle",s),Ke("toggle",s),yl(s,"popover",d);break;case"xlinkActuate":Kt(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Kt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Kt(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Kt(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Kt(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Kt(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Kt(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Kt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Kt(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":yl(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Yh.get(c)||c,yl(s,c,d))}}function vv(s,a,c,d,p,v){switch(c){case"style":wu(s,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof d=="string"?qn(s,d):(typeof d=="number"||typeof d=="bigint")&&qn(s,""+d);break;case"onScroll":d!=null&&Ke("scroll",s);break;case"onScrollEnd":d!=null&&Ke("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Fr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pu.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),a=c.slice(2,p?c.length-7:void 0),v=s[cn]||null,v=v!=null?v[c]:null,typeof v=="function"&&s.removeEventListener(a,v,p),typeof d=="function")){typeof v!="function"&&v!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,d,p);break e}c in s?s[c]=d:d===!0?s.setAttribute(c,""):yl(s,c,d)}}}function _n(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",s),Ke("load",s);var d=!1,p=!1,v;for(v in c)if(c.hasOwnProperty(v)){var w=c[v];if(w!=null)switch(v){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:bt(s,a,v,w,c,null)}}p&&bt(s,a,"srcSet",c.srcSet,c,null),d&&bt(s,a,"src",c.src,c,null);return;case"input":Ke("invalid",s);var N=v=w=p=null,U=null,J=null;for(d in c)if(c.hasOwnProperty(d)){var ae=c[d];if(ae!=null)switch(d){case"name":p=ae;break;case"type":w=ae;break;case"checked":U=ae;break;case"defaultChecked":J=ae;break;case"value":v=ae;break;case"defaultValue":N=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,a));break;default:bt(s,a,d,ae,c,null)}}Kh(s,v,N,U,J,w,p,!1);return;case"select":Ke("invalid",s),d=w=v=null;for(p in c)if(c.hasOwnProperty(p)&&(N=c[p],N!=null))switch(p){case"value":v=N;break;case"defaultValue":w=N;break;case"multiple":d=N;default:bt(s,a,p,N,c,null)}a=v,c=w,s.multiple=!!d,a!=null?Ci(s,!!d,a,!1):c!=null&&Ci(s,!!d,c,!0);return;case"textarea":Ke("invalid",s),v=p=d=null;for(w in c)if(c.hasOwnProperty(w)&&(N=c[w],N!=null))switch(w){case"value":d=N;break;case"defaultValue":p=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:bt(s,a,w,N,c,null)}Ni(s,d,p,v);return;case"option":for(U in c)c.hasOwnProperty(U)&&(d=c[U],d!=null)&&(U==="selected"?s.selected=d&&typeof d!="function"&&typeof d!="symbol":bt(s,a,U,d,c,null));return;case"dialog":Ke("beforetoggle",s),Ke("toggle",s),Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":Ke("load",s);break;case"video":case"audio":for(d=0;d<nd.length;d++)Ke(nd[d],s);break;case"image":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"embed":case"source":case"link":Ke("error",s),Ke("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(d=c[J],d!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:bt(s,a,J,d,c,null)}return;default:if(bl(a)){for(ae in c)c.hasOwnProperty(ae)&&(d=c[ae],d!==void 0&&vv(s,a,ae,d,c,void 0));return}}for(N in c)c.hasOwnProperty(N)&&(d=c[N],d!=null&&bt(s,a,N,d,c,null))}function Jk(s,a,c,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,w=null,N=null,U=null,J=null,ae=null;for(ne in c){var ue=c[ne];if(c.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":U=ue;default:d.hasOwnProperty(ne)||bt(s,a,ne,null,d,ue)}}for(var ee in d){var ne=d[ee];if(ue=c[ee],d.hasOwnProperty(ee)&&(ne!=null||ue!=null))switch(ee){case"type":v=ne;break;case"name":p=ne;break;case"checked":J=ne;break;case"defaultChecked":ae=ne;break;case"value":w=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==ue&&bt(s,a,ee,ne,d,ue)}}vl(s,w,N,U,J,ae,v,p);return;case"select":ne=w=N=ee=null;for(v in c)if(U=c[v],c.hasOwnProperty(v)&&U!=null)switch(v){case"value":break;case"multiple":ne=U;default:d.hasOwnProperty(v)||bt(s,a,v,null,d,U)}for(p in d)if(v=d[p],U=c[p],d.hasOwnProperty(p)&&(v!=null||U!=null))switch(p){case"value":ee=v;break;case"defaultValue":N=v;break;case"multiple":w=v;default:v!==U&&bt(s,a,p,v,d,U)}a=N,c=w,d=ne,ee!=null?Ci(s,!!c,ee,!1):!!d!=!!c&&(a!=null?Ci(s,!!c,a,!0):Ci(s,!!c,c?[]:"",!1));return;case"textarea":ne=ee=null;for(N in c)if(p=c[N],c.hasOwnProperty(N)&&p!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:bt(s,a,N,null,d,p)}for(w in d)if(p=d[w],v=c[w],d.hasOwnProperty(w)&&(p!=null||v!=null))switch(w){case"value":ee=p;break;case"defaultValue":ne=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==v&&bt(s,a,w,p,d,v)}Qh(s,ee,ne);return;case"option":for(var Ee in c)ee=c[Ee],c.hasOwnProperty(Ee)&&ee!=null&&!d.hasOwnProperty(Ee)&&(Ee==="selected"?s.selected=!1:bt(s,a,Ee,null,d,ee));for(U in d)ee=d[U],ne=c[U],d.hasOwnProperty(U)&&ee!==ne&&(ee!=null||ne!=null)&&(U==="selected"?s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":bt(s,a,U,ee,d,ne));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in c)ee=c[Oe],c.hasOwnProperty(Oe)&&ee!=null&&!d.hasOwnProperty(Oe)&&bt(s,a,Oe,null,d,ee);for(J in d)if(ee=d[J],ne=c[J],d.hasOwnProperty(J)&&ee!==ne&&(ee!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:bt(s,a,J,ee,d,ne)}return;default:if(bl(a)){for(var _t in c)ee=c[_t],c.hasOwnProperty(_t)&&ee!==void 0&&!d.hasOwnProperty(_t)&&vv(s,a,_t,void 0,d,ee);for(ae in d)ee=d[ae],ne=c[ae],!d.hasOwnProperty(ae)||ee===ne||ee===void 0&&ne===void 0||vv(s,a,ae,ee,d,ne);return}}for(var G in c)ee=c[G],c.hasOwnProperty(G)&&ee!=null&&!d.hasOwnProperty(G)&&bt(s,a,G,null,d,ee);for(ue in d)ee=d[ue],ne=c[ue],!d.hasOwnProperty(ue)||ee===ne||ee==null&&ne==null||bt(s,a,ue,ee,d,ne)}function fT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eP(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),d=0;d<c.length;d++){var p=c[d],v=p.transferSize,w=p.initiatorType,N=p.duration;if(v&&N&&fT(w)){for(w=0,N=p.responseEnd,d+=1;d<c.length;d++){var U=c[d],J=U.startTime;if(J>N)break;var ae=U.transferSize,ue=U.initiatorType;ae&&fT(ue)&&(U=U.responseEnd,w+=ae*(U<N?1:(N-J)/(U-J)))}if(--d,a+=8*(v+w)/(p.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var bv=null,_v=null;function Xf(s){return s.nodeType===9?s:s.ownerDocument}function mT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pT(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function xv(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var wv=null;function tP(){var s=window.event;return s&&s.type==="popstate"?s===wv?!1:(wv=s,!0):(wv=null,!1)}var gT=typeof setTimeout=="function"?setTimeout:void 0,nP=typeof clearTimeout=="function"?clearTimeout:void 0,yT=typeof Promise=="function"?Promise:void 0,rP=typeof queueMicrotask=="function"?queueMicrotask:typeof yT<"u"?function(s){return yT.resolve(null).then(s).catch(sP)}:gT;function sP(s){setTimeout(function(){throw s})}function Ji(s){return s==="head"}function vT(s,a){var c=a,d=0;do{var p=c.nextSibling;if(s.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"||c==="/&"){if(d===0){s.removeChild(p),ec(a);return}d--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")d++;else if(c==="html")sd(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,sd(c);for(var v=c.firstChild;v;){var w=v.nextSibling,N=v.nodeName;v[ds]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||c.removeChild(v),v=w}}else c==="body"&&sd(s.ownerDocument.body);c=p}while(c);ec(a)}function bT(s,a){var c=s;s=0;do{var d=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),d&&d.nodeType===8)if(c=d.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=d}while(c)}function Ev(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Ev(c),gl(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function iP(s,a,c,d){for(;s.nodeType===1;){var p=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[ds])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=Sr(s.nextSibling),s===null)break}return null}function aP(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Sr(s.nextSibling),s===null))return null;return s}function _T(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Sr(s.nextSibling),s===null))return null;return s}function Tv(s){return s.data==="$?"||s.data==="$~"}function Sv(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function oP(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var d=function(){a(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Sr(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Av=null;function xT(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return Sr(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function wT(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function ET(s,a,c){switch(a=Xf(c),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function sd(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);gl(s)}var Ar=new Map,TT=new Set;function Jf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var oi=oe.d;oe.d={f:lP,r:cP,D:uP,C:dP,L:hP,m:fP,X:pP,S:mP,M:gP};function lP(){var s=oi.f(),a=qf();return s||a}function cP(s){var a=pr(s);a!==null&&a.tag===5&&a.type==="form"?$w(a):oi.r(s)}var Wl=typeof document>"u"?null:document;function ST(s,a,c){var d=Wl;if(d&&typeof a=="string"&&a){var p=Bn(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),TT.has(p)||(TT.add(p),s={rel:s,crossOrigin:c,href:a},d.querySelector(p)===null&&(a=d.createElement("link"),_n(a,"link",s),Gt(a),d.head.appendChild(a)))}}function uP(s){oi.D(s),ST("dns-prefetch",s,null)}function dP(s,a){oi.C(s,a),ST("preconnect",s,a)}function hP(s,a,c){oi.L(s,a,c);var d=Wl;if(d&&s&&a){var p='link[rel="preload"][as="'+Bn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+Bn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+Bn(c.imageSizes)+'"]')):p+='[href="'+Bn(s)+'"]';var v=p;switch(a){case"style":v=Xl(s);break;case"script":v=Jl(s)}Ar.has(v)||(s=b({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),Ar.set(v,s),d.querySelector(p)!==null||a==="style"&&d.querySelector(id(v))||a==="script"&&d.querySelector(ad(v))||(a=d.createElement("link"),_n(a,"link",s),Gt(a),d.head.appendChild(a)))}}function fP(s,a){oi.m(s,a);var c=Wl;if(c&&s){var d=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Bn(d)+'"][href="'+Bn(s)+'"]',v=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Jl(s)}if(!Ar.has(v)&&(s=b({rel:"modulepreload",href:s},a),Ar.set(v,s),c.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ad(v)))return}d=c.createElement("link"),_n(d,"link",s),Gt(d),c.head.appendChild(d)}}}function mP(s,a,c){oi.S(s,a,c);var d=Wl;if(d&&s){var p=fs(d).hoistableStyles,v=Xl(s);a=a||"default";var w=p.get(v);if(!w){var N={loading:0,preload:null};if(w=d.querySelector(id(v)))N.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":a},c),(c=Ar.get(v))&&Iv(s,c);var U=w=d.createElement("link");Gt(U),_n(U,"link",s),U._p=new Promise(function(J,ae){U.onload=J,U.onerror=ae}),U.addEventListener("load",function(){N.loading|=1}),U.addEventListener("error",function(){N.loading|=2}),N.loading|=4,em(w,a,d)}w={type:"stylesheet",instance:w,count:1,state:N},p.set(v,w)}}}function pP(s,a){oi.X(s,a);var c=Wl;if(c&&s){var d=fs(c).hoistableScripts,p=Jl(s),v=d.get(p);v||(v=c.querySelector(ad(p)),v||(s=b({src:s,async:!0},a),(a=Ar.get(p))&&Rv(s,a),v=c.createElement("script"),Gt(v),_n(v,"link",s),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function gP(s,a){oi.M(s,a);var c=Wl;if(c&&s){var d=fs(c).hoistableScripts,p=Jl(s),v=d.get(p);v||(v=c.querySelector(ad(p)),v||(s=b({src:s,async:!0,type:"module"},a),(a=Ar.get(p))&&Rv(s,a),v=c.createElement("script"),Gt(v),_n(v,"link",s),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(p,v))}}function AT(s,a,c,d){var p=(p=we.current)?Jf(p):null;if(!p)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Xl(c.href),c=fs(p).hoistableStyles,d=c.get(a),d||(d={type:"style",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Xl(c.href);var v=fs(p).hoistableStyles,w=v.get(s);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,w),(v=p.querySelector(id(s)))&&!v._p&&(w.instance=v,w.state.loading=5),Ar.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ar.set(s,c),v||yP(p,s,c,w.state))),a&&d===null)throw Error(r(528,""));return w}if(a&&d!==null)throw Error(r(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Jl(c),c=fs(p).hoistableScripts,d=c.get(a),d||(d={type:"script",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Xl(s){return'href="'+Bn(s)+'"'}function id(s){return'link[rel="stylesheet"]['+s+"]"}function IT(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function yP(s,a,c,d){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=s.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),_n(a,"link",c),Gt(a),s.head.appendChild(a))}function Jl(s){return'[src="'+Bn(s)+'"]'}function ad(s){return"script[async]"+s}function RT(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var d=s.querySelector('style[data-href~="'+Bn(c.href)+'"]');if(d)return a.instance=d,Gt(d),d;var p=b({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Gt(d),_n(d,"style",p),em(d,c.precedence,s),a.instance=d;case"stylesheet":p=Xl(c.href);var v=s.querySelector(id(p));if(v)return a.state.loading|=4,a.instance=v,Gt(v),v;d=IT(c),(p=Ar.get(p))&&Iv(d,p),v=(s.ownerDocument||s).createElement("link"),Gt(v);var w=v;return w._p=new Promise(function(N,U){w.onload=N,w.onerror=U}),_n(v,"link",d),a.state.loading|=4,em(v,c.precedence,s),a.instance=v;case"script":return v=Jl(c.src),(p=s.querySelector(ad(v)))?(a.instance=p,Gt(p),p):(d=c,(p=Ar.get(v))&&(d=b({},c),Rv(d,p)),s=s.ownerDocument||s,p=s.createElement("script"),Gt(p),_n(p,"link",d),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,em(d,c.precedence,s));return a.instance}function em(s,a,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,v=p,w=0;w<d.length;w++){var N=d[w];if(N.dataset.precedence===a)v=N;else if(v!==p)break}v?v.parentNode.insertBefore(s,v.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function Iv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Rv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var tm=null;function CT(s,a,c){if(tm===null){var d=new Map,p=tm=new Map;p.set(c,d)}else p=tm,d=p.get(c),d||(d=new Map,p.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),p=0;p<c.length;p++){var v=c[p];if(!(v[ds]||v[Ht]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(a)||"";w=s+w;var N=d.get(w);N?N.push(v):d.set(w,[v])}}return d}function NT(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function vP(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function DT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function bP(s,a,c,d){if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var p=Xl(d.href),v=a.querySelector(id(p));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=nm.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=v,Gt(v);return}v=a.ownerDocument||a,d=IT(d),(p=Ar.get(p))&&Iv(d,p),v=v.createElement("link"),Gt(v);var w=v;w._p=new Promise(function(N,U){w.onload=N,w.onerror=U}),_n(v,"link",d),c.instance=v}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=nm.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var Cv=0;function _P(s,a){return s.stylesheets&&s.count===0&&sm(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var d=setTimeout(function(){if(s.stylesheets&&sm(s,s.stylesheets),s.unsuspend){var v=s.unsuspend;s.unsuspend=null,v()}},6e4+a);0<s.imgBytes&&Cv===0&&(Cv=62500*eP());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&sm(s,s.stylesheets),s.unsuspend)){var v=s.unsuspend;s.unsuspend=null,v()}},(s.imgBytes>Cv?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function nm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var rm=null;function sm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,rm=new Map,a.forEach(xP,s),rm=null,nm.call(s))}function xP(s,a){if(!(a.state.loading&4)){var c=rm.get(s);if(c)var d=c.get(null);else{c=new Map,rm.set(s,c);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var w=p[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(c.set(w.dataset.precedence,w),d=w)}d&&c.set(null,d)}p=a.instance,w=p.getAttribute("data-precedence"),v=c.get(w)||d,v===d&&c.set(null,p),c.set(w,p),this.count++,d=nm.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),v?v.parentNode.insertBefore(p,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var od={$$typeof:$,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function wP(s,a,c,d,p,v,w,N,U){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cs(0),this.hiddenUpdates=cs(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function OT(s,a,c,d,p,v,w,N,U,J,ae,ue){return s=new wP(s,a,c,w,U,J,ae,ue,N),a=1,v===!0&&(a|=24),v=nr(3,null,null,a),s.current=v,v.stateNode=s,a=ly(),a.refCount++,s.pooledCache=a,a.refCount++,v.memoizedState={element:d,isDehydrated:c,cache:a},hy(v),s}function kT(s){return s?(s=Nl,s):Nl}function PT(s,a,c,d,p,v){p=kT(p),d.context===null?d.context=p:d.pendingContext=p,d=Fi(a),d.payload={element:c},v=v===void 0?null:v,v!==null&&(d.callback=v),c=Bi(s,d,a),c!==null&&(Zn(c,s,a),zu(c,s,a))}function MT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Nv(s,a){MT(s,a),(s=s.alternate)&&MT(s,a)}function jT(s){if(s.tag===13||s.tag===31){var a=eo(s,67108864);a!==null&&Zn(a,s,67108864),Nv(s,67108864)}}function VT(s){if(s.tag===13||s.tag===31){var a=or();a=Fa(a);var c=eo(s,a);c!==null&&Zn(c,s,a),Nv(s,a)}}var im=!0;function EP(s,a,c,d){var p=H.T;H.T=null;var v=oe.p;try{oe.p=2,Dv(s,a,c,d)}finally{oe.p=v,H.T=p}}function TP(s,a,c,d){var p=H.T;H.T=null;var v=oe.p;try{oe.p=8,Dv(s,a,c,d)}finally{oe.p=v,H.T=p}}function Dv(s,a,c,d){if(im){var p=Ov(d);if(p===null)yv(s,a,d,am,c),zT(s,d);else if(AP(p,s,a,c,d))d.stopPropagation();else if(zT(s,d),a&4&&-1<SP.indexOf(s)){for(;p!==null;){var v=pr(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=os(v.pendingLanes);if(w!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;w;){var U=1<<31-Lt(w);N.entanglements[1]|=U,w&=~U}As(v),(ot&6)===0&&(Ff=Dn()+500,td(0))}}break;case 31:case 13:N=eo(v,2),N!==null&&Zn(N,v,2),qf(),Nv(v,2)}if(v=Ov(d),v===null&&yv(s,a,d,am,c),v===p)break;p=v}p!==null&&d.stopPropagation()}else yv(s,a,d,null,c)}}function Ov(s){return s=gr(s),kv(s)}var am=null;function kv(s){if(am=null,s=hs(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return am=s,null}function LT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(La()){case uu:return 2;case du:return 8;case Ii:case zg:return 32;case Vh:return 268435456;default:return 32}default:return 32}}var Pv=!1,ea=null,ta=null,na=null,ld=new Map,cd=new Map,ra=[],SP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zT(s,a){switch(s){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":ld.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":cd.delete(a.pointerId)}}function ud(s,a,c,d,p,v){return s===null||s.nativeEvent!==v?(s={blockedOn:a,domEventName:c,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},a!==null&&(a=pr(a),a!==null&&jT(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function AP(s,a,c,d,p){switch(a){case"focusin":return ea=ud(ea,s,a,c,d,p),!0;case"dragenter":return ta=ud(ta,s,a,c,d,p),!0;case"mouseover":return na=ud(na,s,a,c,d,p),!0;case"pointerover":var v=p.pointerId;return ld.set(v,ud(ld.get(v)||null,s,a,c,d,p)),!0;case"gotpointercapture":return v=p.pointerId,cd.set(v,ud(cd.get(v)||null,s,a,c,d,p)),!0}return!1}function UT(s){var a=hs(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,Ur(s.priority,function(){VT(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,Ur(s.priority,function(){VT(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function om(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Ov(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);Eu=d,c.target.dispatchEvent(d),Eu=null}else return a=pr(c),a!==null&&jT(a),s.blockedOn=c,!1;a.shift()}return!0}function $T(s,a,c){om(s)&&c.delete(a)}function IP(){Pv=!1,ea!==null&&om(ea)&&(ea=null),ta!==null&&om(ta)&&(ta=null),na!==null&&om(na)&&(na=null),ld.forEach($T),cd.forEach($T)}function lm(s,a){s.blockedOn===a&&(s.blockedOn=null,Pv||(Pv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,IP)))}var cm=null;function FT(s){cm!==s&&(cm=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){cm===s&&(cm=null);for(var a=0;a<s.length;a+=3){var c=s[a],d=s[a+1],p=s[a+2];if(typeof d!="function"){if(kv(d||c)===null)continue;break}var v=pr(c);v!==null&&(s.splice(a,3),a-=3,Oy(v,{pending:!0,data:p,method:c.method,action:d},d,p))}}))}function ec(s){function a(U){return lm(U,s)}ea!==null&&lm(ea,s),ta!==null&&lm(ta,s),na!==null&&lm(na,s),ld.forEach(a),cd.forEach(a);for(var c=0;c<ra.length;c++){var d=ra[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<ra.length&&(c=ra[0],c.blockedOn===null);)UT(c),c.blockedOn===null&&ra.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var p=c[d],v=c[d+1],w=p[cn]||null;if(typeof v=="function")w||FT(c);else if(w){var N=null;if(v&&v.hasAttribute("formAction")){if(p=v,w=v[cn]||null)N=w.formAction;else if(kv(p)!==null)continue}else N=w.action;typeof N=="function"?c[d+1]=N:(c.splice(d,3),d-=3),FT(c)}}}function BT(){function s(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),d||setTimeout(c,20)}function c(){if(!d&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Mv(s){this._internalRoot=s}um.prototype.render=Mv.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var c=a.current,d=or();PT(c,d,s,a,null,null)},um.prototype.unmount=Mv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;PT(s.current,2,null,s,null,null),qf(),a[us]=null}};function um(s){this._internalRoot=s}um.prototype.unstable_scheduleHydration=function(s){if(s){var a=Bh();s={blockedOn:null,target:s,priority:a};for(var c=0;c<ra.length&&a!==0&&a<ra[c].priority;c++);ra.splice(c,0,s),c===0&&UT(s)}};var qT=e.version;if(qT!=="19.2.3")throw Error(r(527,qT,"19.2.3"));oe.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(a),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var RP={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dm.isDisabled&&dm.supportsFiber)try{Lr=dm.inject(RP),pn=dm}catch{}}return hd.createRoot=function(s,a){if(!i(s))throw Error(r(299));var c=!1,d="",p=Ww,v=Xw,w=Jw;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=OT(s,1,!1,null,null,c,d,null,p,v,w,BT),s[us]=a.current,gv(s),new Mv(a)},hd.hydrateRoot=function(s,a,c){if(!i(s))throw Error(r(299));var d=!1,p="",v=Ww,w=Xw,N=Jw,U=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),a=OT(s,1,!0,a,c??null,d,p,U,v,w,N,BT),a.context=kT(null),c=a.current,d=or(),d=Fa(d),p=Fi(d),p.callback=null,Bi(c,p,d),c=d,a.current.lanes=c,Ua(a,c),As(a),s[us]=a.current,gv(s),new um(a)},hd.version="19.2.3",hd}var e1;function UP(){if(e1)return Lv.exports;e1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lv.exports=zP(),Lv.exports}var $P=UP();var t1="popstate";function FP(t={}){function e(i,o){let{pathname:l="/",search:u="",hash:h=""}=il(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),wb("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=i.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof o=="string"?o:Fd(o))}function r(i,o){kr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return qP(e,n,r,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BP(){return Math.random().toString(36).substring(2,10)}function n1(t,e){return{usr:t.state,key:t.key,idx:e}}function wb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?il(e):e,state:n,key:e&&e.key||r||BP()}}function Fd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qP(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",h=null,f=y();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function y(){return(l.state||{idx:null}).idx}function b(){u="POP";let D=y(),L=D==null?null:D-f;f=D,h&&h({action:u,location:R.location,delta:L})}function _(D,L){u="PUSH";let F=wb(R.location,D,L);n&&n(F,D),f=y()+1;let $=n1(F,f),Q=R.createHref(F);try{l.pushState($,"",Q)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(Q)}o&&h&&h({action:u,location:R.location,delta:1})}function E(D,L){u="REPLACE";let F=wb(R.location,D,L);n&&n(F,D),f=y();let $=n1(F,f),Q=R.createHref(F);l.replaceState($,"",Q),o&&h&&h({action:u,location:R.location,delta:0})}function A(D){return HP(D)}let R={get action(){return u},get location(){return t(i,l)},listen(D){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(t1,b),h=D,()=>{i.removeEventListener(t1,b),h=null}},createHref(D){return e(i,D)},createURL:A,encodeLocation(D){let L=A(D);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:_,replace:E,go(D){return l.go(D)}};return R}function HP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Fd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function HI(t,e,n="/"){return GP(t,e,n,!1)}function GP(t,e,n,r){let i=typeof e=="string"?il(e):e,o=pi(i.pathname||"/",n);if(o==null)return null;let l=GI(t);KP(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=sM(o);u=nM(l[h],f,r)}return u}function GI(t,e=[],n=[],r="",i=!1){let o=(l,u,h=i,f)=>{let y={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&h)return;Dt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let b=mi([r,y.relativePath]),_=n.concat(y);l.children&&l.children.length>0&&(Dt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),GI(l.children,e,_,b,h)),!(l.path==null&&!l.index)&&e.push({path:b,score:eM(b,l.index),routesMeta:_})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let h of KI(l.path))o(l,u,!0,h)}),e}function KI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=KI(r.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function KP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var QP=/^:[\w-]+$/,ZP=3,YP=2,WP=1,XP=10,JP=-2,r1=t=>t==="*";function eM(t,e){let n=t.split("/"),r=n.length;return n.some(r1)&&(r+=JP),e&&(r+=YP),n.filter(i=>!r1(i)).reduce((i,o)=>i+(QP.test(o)?ZP:o===""?WP:XP),r)}function tM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function nM(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",b=np({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},y),_=h.route;if(!b&&f&&n&&!r[r.length-1].route.index&&(b=np({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!b)return null;Object.assign(i,b.params),l.push({params:i,pathname:mi([o,b.pathname]),pathnameBase:lM(mi([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=mi([o,b.pathnameBase]))}return l}function np(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:y,isOptional:b},_)=>{if(y==="*"){let A=u[_]||"";l=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const E=u[_];return b&&!E?f[y]=void 0:f[y]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function rM(t,e=!1,n=!0){kr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function pi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var QI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iM=t=>QI.test(t);function aM(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?il(t):t,o;if(n)if(iM(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),kr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?o=s1(n.substring(1),"/"):o=s1(n,e)}else o=e;return{pathname:o,search:cM(r),hash:uM(i)}}function s1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ZI(t){let e=oM(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function YI(t,e,n,r=!1){let i;typeof t=="string"?i=il(t):(i={...t},Dt(!i.pathname||!i.pathname.includes("?"),Fv("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),Fv("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),Fv("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let b=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),b-=1;i.pathname=_.join("/")}u=b>=0?e[b]:"/"}let h=aM(i,u),f=l&&l!=="/"&&l.endsWith("/"),y=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||y)&&(h.pathname+="/"),h}var mi=t=>t.join("/").replace(/\/\/+/g,"/"),lM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,dM=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function hM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function fM(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var WI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function XI(t,e){let n=t;if(typeof n!="string"||!QI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(WI)try{let o=new URL(window.location.href),l=n.startsWith("//")?new URL(o.protocol+n):new URL(n),u=pi(l.pathname,e);l.origin===o.origin&&u!=null?n=u+l.search+l.hash:i=!0}catch{kr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JI=["POST","PUT","PATCH","DELETE"];new Set(JI);var mM=["GET",...JI];new Set(mM);var $c=S.createContext(null);$c.displayName="DataRouter";var qp=S.createContext(null);qp.displayName="DataRouterState";var pM=S.createContext(!1),eR=S.createContext({isTransitioning:!1});eR.displayName="ViewTransition";var gM=S.createContext(new Map);gM.displayName="Fetchers";var yM=S.createContext(null);yM.displayName="Await";var Pr=S.createContext(null);Pr.displayName="Navigation";var dh=S.createContext(null);dh.displayName="Location";var $s=S.createContext({outlet:null,matches:[],isDataRoute:!1});$s.displayName="Route";var D_=S.createContext(null);D_.displayName="RouteError";var tR="REACT_ROUTER_ERROR",vM="REDIRECT",bM="ROUTE_ERROR_RESPONSE";function _M(t){if(t.startsWith(`${tR}:${vM}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xM(t){if(t.startsWith(`${tR}:${bM}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new dM(e.status,e.statusText,e.data)}catch{}}function wM(t,{relative:e}={}){Dt(hh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Pr),{hash:i,pathname:o,search:l}=fh(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:mi([n,o])),r.createHref({pathname:u,search:l,hash:i})}function hh(){return S.useContext(dh)!=null}function Ca(){return Dt(hh(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(dh).location}var nR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rR(t){S.useContext(Pr).static||S.useLayoutEffect(t)}function EM(){let{isDataRoute:t}=S.useContext($s);return t?jM():TM()}function TM(){Dt(hh(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext($c),{basename:e,navigator:n}=S.useContext(Pr),{matches:r}=S.useContext($s),{pathname:i}=Ca(),o=JSON.stringify(ZI(r)),l=S.useRef(!1);return rR(()=>{l.current=!0}),S.useCallback((h,f={})=>{if(kr(l.current,nR),!l.current)return;if(typeof h=="number"){n.go(h);return}let y=YI(h,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:mi([e,y.pathname])),(f.replace?n.replace:n.push)(y,f.state,f)},[e,n,o,i,t])}S.createContext(null);function sR(){let{matches:t}=S.useContext($s),e=t[t.length-1];return e?e.params:{}}function fh(t,{relative:e}={}){let{matches:n}=S.useContext($s),{pathname:r}=Ca(),i=JSON.stringify(ZI(n));return S.useMemo(()=>YI(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function SM(t,e){return iR(t,e)}function iR(t,e,n,r,i){Dt(hh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=S.useContext(Pr),{matches:l}=S.useContext($s),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",y=u?u.pathnameBase:"/",b=u&&u.route;{let F=b&&b.path||"";oR(f,!b||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=Ca(),E;if(e){let F=typeof e=="string"?il(e):e;Dt(y==="/"||F.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),E=F}else E=_;let A=E.pathname||"/",R=A;if(y!=="/"){let F=y.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(F.length).join("/")}let D=HI(t,{pathname:R});kr(b||D!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),kr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=NM(D&&D.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:mi([y,o.encodeLocation?o.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:mi([y,o.encodeLocation?o.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),l,n,r,i);return e&&L?S.createElement(dh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},L):L}function AM(){let t=MM(),e=hM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,l)}var IM=S.createElement(AM,null),aR=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=xM(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement($s.Provider,{value:this.props.routeContext},S.createElement(D_.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(RM,{error:t},e):e}};aR.contextType=pM;var Bv=new WeakMap;function RM({children:t,error:e}){let{basename:n}=S.useContext(Pr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=_M(e.digest);if(r){let i=Bv.get(e);if(i)throw i;let o=XI(r.location,n);if(WI&&!Bv.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Bv.set(e,l),l}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function CM({routeContext:t,match:e,children:n}){let r=S.useContext($c);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement($s.Provider,{value:t},n)}function NM(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let y=o.findIndex(b=>b.route.id&&l?.[b.route.id]!==void 0);Dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let u=!1,h=-1;if(n)for(let y=0;y<o.length;y++){let b=o[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(h=y),b.route.id){let{loaderData:_,errors:E}=n,A=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!E||E[b.route.id]===void 0);if(b.route.lazy||A){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let f=n&&r?(y,b)=>{r(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:fM(n.matches),errorInfo:b})}:void 0;return o.reduceRight((y,b,_)=>{let E,A=!1,R=null,D=null;n&&(E=l&&b.route.id?l[b.route.id]:void 0,R=b.route.errorElement||IM,u&&(h<0&&_===0?(oR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,D=null):h===_&&(A=!0,D=b.route.hydrateFallbackElement||null)));let L=e.concat(o.slice(0,_+1)),F=()=>{let $;return E?$=R:A?$=D:b.route.Component?$=S.createElement(b.route.Component,null):b.route.element?$=b.route.element:$=y,S.createElement(CM,{match:b,routeContext:{outlet:y,matches:L,isDataRoute:n!=null},children:$})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?S.createElement(aR,{location:n.location,revalidation:n.revalidation,component:R,error:E,children:F(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:f}):F()},null)}function O_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DM(t){let e=S.useContext($c);return Dt(e,O_(t)),e}function OM(t){let e=S.useContext(qp);return Dt(e,O_(t)),e}function kM(t){let e=S.useContext($s);return Dt(e,O_(t)),e}function k_(t){let e=kM(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function PM(){return k_("useRouteId")}function MM(){let t=S.useContext(D_),e=OM("useRouteError"),n=k_("useRouteError");return t!==void 0?t:e.errors?.[n]}function jM(){let{router:t}=DM("useNavigate"),e=k_("useNavigate"),n=S.useRef(!1);return rR(()=>{n.current=!0}),S.useCallback(async(i,o={})=>{kr(n.current,nR),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var i1={};function oR(t,e,n){!e&&!i1[t]&&(i1[t]=!0,kr(!1,n))}S.memo(VM);function VM({routes:t,future:e,state:n,onError:r}){return iR(t,void 0,n,r,e)}function Yr(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:l}){Dt(!hh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:u,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[u,i,o,l]);typeof n=="string"&&(n=il(n));let{pathname:f="/",search:y="",hash:b="",state:_=null,key:E="default"}=n,A=S.useMemo(()=>{let R=pi(f,u);return R==null?null:{location:{pathname:R,search:y,hash:b,state:_,key:E},navigationType:r}},[u,f,y,b,_,E,r]);return kr(A!=null,`<Router basename="${u}"> is not able to match the URL "${f}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:S.createElement(Pr.Provider,{value:h},S.createElement(dh.Provider,{children:e,value:A}))}function zM({children:t,location:e}){return SM(Eb(t),e)}function Eb(t,e=[]){let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let o=[...e,i];if(r.type===S.Fragment){n.push.apply(n,Eb(r.props.children,o));return}Dt(r.type===Yr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Eb(r.props.children,o)),n.push(l)}),n}var Om="get",km="application/x-www-form-urlencoded";function Hp(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function UM(t){return Hp(t)&&t.tagName.toLowerCase()==="button"}function $M(t){return Hp(t)&&t.tagName.toLowerCase()==="form"}function FM(t){return Hp(t)&&t.tagName.toLowerCase()==="input"}function BM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qM(t,e){return t.button===0&&(!e||e==="_self")&&!BM(t)}var hm=null;function HM(){if(hm===null)try{new FormData(document.createElement("form"),0),hm=!1}catch{hm=!0}return hm}var GM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qv(t){return t!=null&&!GM.has(t)?(kr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${km}"`),null):t}function KM(t,e){let n,r,i,o,l;if($M(t)){let u=t.getAttribute("action");r=u?pi(u,e):null,n=t.getAttribute("method")||Om,i=qv(t.getAttribute("enctype"))||km,o=new FormData(t)}else if(UM(t)||FM(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?pi(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Om,i=qv(t.getAttribute("formenctype"))||qv(u.getAttribute("enctype"))||km,o=new FormData(u,t),!HM()){let{name:f,type:y,value:b}=t;if(y==="image"){let _=f?`${f}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else f&&o.append(f,b)}}else{if(Hp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Om,r=null,i=km,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function P_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function QM(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&pi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function ZM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WM(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await ZM(o,n);return l.links?l.links():[]}return[]}));return tj(r.flat(1).filter(YM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function a1(t,e,n,r,i,o){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,u=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):o==="data"?e.filter((h,f)=>{let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function XM(t,e,{includeHydrateFallback:n}={}){return JM(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function JM(t){return[...new Set(t)]}function ej(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function tj(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(ej(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function lR(){let t=S.useContext($c);return P_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function nj(){let t=S.useContext(qp);return P_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var M_=S.createContext(void 0);M_.displayName="FrameworkContext";function cR(){let t=S.useContext(M_);return P_(t,"You must render this element inside a <HydratedRouter> element"),t}function rj(t,e){let n=S.useContext(M_),[r,i]=S.useState(!1),[o,l]=S.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:y,onTouchStart:b}=e,_=S.useRef(null);S.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let R=L=>{L.forEach(F=>{l(F.isIntersecting)})},D=new IntersectionObserver(R,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[t]),S.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let E=()=>{i(!0)},A=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:fd(u,E),onBlur:fd(h,A),onMouseEnter:fd(f,E),onMouseLeave:fd(y,A),onTouchStart:fd(b,E)}]:[!1,_,{}]}function fd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function sj({page:t,...e}){let{router:n}=lR(),r=S.useMemo(()=>HI(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(aj,{page:t,matches:r,...e}):null}function ij(t){let{manifest:e,routeModules:n}=cR(),[r,i]=S.useState([]);return S.useEffect(()=>{let o=!1;return WM(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function aj({page:t,matches:e,...n}){let r=Ca(),{future:i,manifest:o,routeModules:l}=cR(),{basename:u}=lR(),{loaderData:h,matches:f}=nj(),y=S.useMemo(()=>a1(t,e,f,o,r,"data"),[t,e,f,o,r]),b=S.useMemo(()=>a1(t,e,f,o,r,"assets"),[t,e,f,o,r]),_=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let R=new Set,D=!1;if(e.forEach(F=>{let $=o.routes[F.route.id];!$||!$.hasLoader||(!y.some(Q=>Q.route.id===F.route.id)&&F.route.id in h&&l[F.route.id]?.shouldRevalidate||$.hasClientLoader?D=!0:R.add(F.route.id))}),R.size===0)return[];let L=QM(t,u,i.unstable_trailingSlashAwareDataRequests,"data");return D&&R.size>0&&L.searchParams.set("_routes",e.filter(F=>R.has(F.route.id)).map(F=>F.route.id).join(",")),[L.pathname+L.search]},[u,i.unstable_trailingSlashAwareDataRequests,h,r,o,y,e,t,l]),E=S.useMemo(()=>XM(b,o),[b,o]),A=ij(b);return S.createElement(S.Fragment,null,_.map(R=>S.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),E.map(R=>S.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),A.map(({key:R,link:D})=>S.createElement("link",{key:R,nonce:n.nonce,...D})))}function oj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var lj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lj&&(window.__reactRouterVersion="7.12.0")}catch{}function cj({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=S.useRef();i.current==null&&(i.current=FP({window:r,v5Compat:!0}));let o=i.current,[l,u]=S.useState({action:o.action,location:o.location}),h=S.useCallback(f=>{n===!1?u(f):S.startTransition(()=>u(f))},[n]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.createElement(LM,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:n})}var uR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ct=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_,...E},A){let{basename:R,unstable_useTransitions:D}=S.useContext(Pr),L=typeof f=="string"&&uR.test(f),F=XI(f,R);f=F.to;let $=wM(f,{relative:i}),[Q,W,re]=rj(r,E),C=fj(f,{replace:l,state:u,target:h,preventScrollReset:y,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:D});function I(j){e&&e(j),j.defaultPrevented||C(j)}let k=S.createElement("a",{...E,...re,href:F.absoluteURL||$,onClick:F.isExternal||o?e:I,ref:oj(A,W),target:h,"data-discover":!L&&n==="render"?"true":void 0});return Q&&!L?S.createElement(S.Fragment,null,k,S.createElement(sj,{page:$})):k});Ct.displayName="Link";var uj=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:h,...f},y){let b=fh(l,{relative:f.relative}),_=Ca(),E=S.useContext(qp),{navigator:A,basename:R}=S.useContext(Pr),D=E!=null&&vj(b)&&u===!0,L=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,F=_.pathname,$=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(F=F.toLowerCase(),$=$?$.toLowerCase():null,L=L.toLowerCase()),$&&R&&($=pi($,R)||$);const Q=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let W=F===L||!i&&F.startsWith(L)&&F.charAt(Q)==="/",re=$!=null&&($===L||!i&&$.startsWith(L)&&$.charAt(L.length)==="/"),C={isActive:W,isPending:re,isTransitioning:D},I=W?e:void 0,k;typeof r=="function"?k=r(C):k=[r,W?"active":null,re?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(C):o;return S.createElement(Ct,{...f,"aria-current":I,className:k,ref:y,style:j,to:l,viewTransition:u},typeof h=="function"?h(C):h)});uj.displayName="NavLink";var dj=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Om,action:u,onSubmit:h,relative:f,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_,...E},A)=>{let{unstable_useTransitions:R}=S.useContext(Pr),D=gj(),L=yj(u,{relative:f}),F=l.toLowerCase()==="get"?"get":"post",$=typeof u=="string"&&uR.test(u),Q=W=>{if(h&&h(W),W.defaultPrevented)return;W.preventDefault();let re=W.nativeEvent.submitter,C=re?.getAttribute("formmethod")||l,I=()=>D(re||W.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:i,state:o,relative:f,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_});R&&n!==!1?S.startTransition(()=>I()):I()};return S.createElement("form",{ref:A,method:F,action:L,onSubmit:r?h:Q,...E,"data-discover":!$&&t==="render"?"true":void 0})});dj.displayName="Form";function hj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dR(t){let e=S.useContext($c);return Dt(e,hj(t)),e}function fj(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:h}={}){let f=EM(),y=Ca(),b=fh(t,{relative:o});return S.useCallback(_=>{if(qM(_,e)){_.preventDefault();let E=n!==void 0?n:Fd(y)===Fd(b),A=()=>f(t,{replace:E,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});h?S.startTransition(()=>A()):A()}},[y,f,b,n,r,e,t,i,o,l,u,h])}var mj=0,pj=()=>`__${String(++mj)}__`;function gj(){let{router:t}=dR("useSubmit"),{basename:e}=S.useContext(Pr),n=PM(),r=t.fetch,i=t.navigate;return S.useCallback(async(o,l={})=>{let{action:u,method:h,encType:f,formData:y,body:b}=KM(o,e);if(l.navigate===!1){let _=l.fetcherKey||pj();await r(_,n,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:y,body:b,formMethod:l.method||h,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:y,body:b,formMethod:l.method||h,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function yj(t,{relative:e}={}){let{basename:n}=S.useContext(Pr),r=S.useContext($s);Dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...fh(t||".",{relative:e})},l=Ca();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(y=>y==="")){u.delete("index"),h.filter(b=>b).forEach(b=>u.append("index",b));let y=u.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:mi([n,o.pathname])),Fd(o)}function vj(t,{relative:e}={}){let n=S.useContext(eR);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dR("useViewTransitionState"),i=fh(t,{relative:e});if(!n.isTransitioning)return!1;let o=pi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=pi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return np(i.pathname,l)!=null||np(i.pathname,o)!=null}var Wn=qI(),Fc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bj={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},_j=class{#e=bj;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},So=new _j;function xj(t){setTimeout(t,0)}var zo=typeof window>"u"||"Deno"in globalThis;function jn(){}function wj(t,e){return typeof t=="function"?t(e):t}function Tb(t){return typeof t=="number"&&t>=0&&t!==1/0}function hR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function pa(t,e){return typeof t=="function"?t(e):t}function Rr(t,e){return typeof t=="function"?t(e):t}function o1(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:l,stale:u}=t;if(l){if(r){if(e.queryHash!==j_(l,e.options))return!1}else if(!Bd(e.queryKey,l))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||o&&!o(e))}function l1(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Uo(e.options.mutationKey)!==Uo(o))return!1}else if(!Bd(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function j_(t,e){return(e?.queryKeyHashFn||Uo)(t)}function Uo(t){return JSON.stringify(t,(e,n)=>Sb(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Bd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Bd(t[n],e[n])):!1}var Ej=Object.prototype.hasOwnProperty;function fR(t,e){if(t===e)return t;const n=c1(t)&&c1(e);if(!n&&!(Sb(t)&&Sb(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),l=o.length,u=n?new Array(l):{};let h=0;for(let f=0;f<l;f++){const y=n?f:o[f],b=t[y],_=e[y];if(b===_){u[y]=b,(n?f<i:Ej.call(t,y))&&h++;continue}if(b===null||_===null||typeof b!="object"||typeof _!="object"){u[y]=_;continue}const E=fR(b,_);u[y]=E,E===b&&h++}return i===l&&h===i?t:u}function rp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function c1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sb(t){if(!u1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!u1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function u1(t){return Object.prototype.toString.call(t)==="[object Object]"}function Tj(t){return new Promise(e=>{So.setTimeout(e,t)})}function Ab(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?fR(t,e):e}function Sj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Aj(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var V_=Symbol();function mR(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===V_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function L_(t,e){return typeof t=="function"?t(...e):!!t}function Ij(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??=e(),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var Rj=class extends Fc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!zo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},z_=new Rj;function Ib(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var Cj=xj;function Nj(){let t=[],e=0,n=u=>{u()},r=u=>{u()},i=Cj;const o=u=>{e?t.push(u):i(()=>{n(u)})},l=()=>{const u=t;t=[],u.length&&i(()=>{r(()=>{u.forEach(h=>{n(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||l()}return h},batchCalls:u=>(...h)=>{o(()=>{u(...h)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var an=Nj(),Dj=class extends Fc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!zo&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},sp=new Dj;function Oj(t){return Math.min(1e3*2**t,3e4)}function pR(t){return(t??"online")==="online"?sp.isOnline():!0}var Rb=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function gR(t){let e=!1,n=0,r;const i=Ib(),o=()=>i.status!=="pending",l=R=>{if(!o()){const D=new Rb(R);_(D),t.onCancel?.(D)}},u=()=>{e=!0},h=()=>{e=!1},f=()=>z_.isFocused()&&(t.networkMode==="always"||sp.isOnline())&&t.canRun(),y=()=>pR(t.networkMode)&&t.canRun(),b=R=>{o()||(r?.(),i.resolve(R))},_=R=>{o()||(r?.(),i.reject(R))},E=()=>new Promise(R=>{r=D=>{(o()||f())&&R(D)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),A=()=>{if(o())return;let R;const D=n===0?t.initialPromise:void 0;try{R=D??t.fn()}catch(L){R=Promise.reject(L)}Promise.resolve(R).then(b).catch(L=>{if(o())return;const F=t.retry??(zo?0:3),$=t.retryDelay??Oj,Q=typeof $=="function"?$(n,L):$,W=F===!0||typeof F=="number"&&n<F||typeof F=="function"&&F(n,L);if(e||!W){_(L);return}n++,t.onFail?.(n,L),Tj(Q).then(()=>f()?void 0:E()).then(()=>{e?_(L):A()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r?.(),i),cancelRetry:u,continueRetry:h,canStart:y,start:()=>(y()?A():E().then(A),i)}}var yR=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Tb(this.gcTime)&&(this.#e=So.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(zo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(So.clearTimeout(this.#e),this.#e=void 0)}},kj=class extends yR{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=h1(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=h1(this.options);n.data!==void 0&&(this.setState(d1(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=Ab(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(jn).catch(jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Rr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===V_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>pa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!hR(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const h=mR(this.options,n),y=(()=>{const b={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(b),b})();return this.#o=!1,this.options.persister?this.options.persister(h,y,this):h(y)},u=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return i(h),h})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=gR({initialPromise:n?.initialPromise,fn:u.fetchFn,onCancel:h=>{h instanceof Rb&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(h,f)=>{this.#i({type:"failed",failureCount:h,error:f})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const h=await this.#r.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Rb){if(h.silent)return this.#r.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#i({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...vR(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...d1(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),an.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function vR(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function d1(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function h1(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Pj=class extends Fc{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=Ib(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),f1(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cb(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cb(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!rp(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&m1(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||Rr(this.options.enabled,this.#t)!==Rr(e.enabled,this.#t)||pa(this.options.staleTime,this.#t)!==pa(e.staleTime,this.#t))&&this.#g();const i=this.#y();r&&(this.#t!==n||Rr(this.options.enabled,this.#t)!==Rr(e.enabled,this.#t)||i!==this.#l)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return jj(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(jn)),e}#g(){this.#_();const t=pa(this.options.staleTime,this.#t);if(zo||this.#s.isStale||!Tb(t))return;const n=hR(this.#s.dataUpdatedAt,t)+1;this.#c=So.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#l=t,!(zo||Rr(this.options.enabled,this.#t)===!1||!Tb(this.#l)||this.#l===0)&&(this.#u=So.setInterval(()=>{(this.options.refetchIntervalInBackground||z_.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#_(){this.#c&&(So.clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(So.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#s,o=this.#r,l=this.#a,h=t!==n?t.state:this.#n,{state:f}=t;let y={...f},b=!1,_;if(e._optimisticResults){const I=this.hasListeners(),k=!I&&f1(t,e),j=I&&m1(t,n,e,r);(k||j)&&(y={...y,...vR(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:E,errorUpdatedAt:A,status:R}=y;_=y.data;let D=!1;if(e.placeholderData!==void 0&&_===void 0&&R==="pending"){let I;i?.isPlaceholderData&&e.placeholderData===l?.placeholderData?(I=i.data,D=!0):I=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,I!==void 0&&(R="success",_=Ab(i?.data,I,e),b=!0)}if(e.select&&_!==void 0&&!D)if(i&&_===o?.data&&e.select===this.#p)_=this.#h;else try{this.#p=e.select,_=e.select(_),_=Ab(i?.data,_,e),this.#h=_,this.#i=null}catch(I){this.#i=I}this.#i&&(E=this.#i,_=this.#h,A=Date.now(),R="error");const L=y.fetchStatus==="fetching",F=R==="pending",$=R==="error",Q=F&&L,W=_!==void 0,C={status:R,fetchStatus:y.fetchStatus,isPending:F,isSuccess:R==="success",isError:$,isInitialLoading:Q,isLoading:Q,data:_,dataUpdatedAt:y.dataUpdatedAt,error:E,errorUpdatedAt:A,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>h.dataUpdateCount||y.errorUpdateCount>h.errorUpdateCount,isFetching:L,isRefetching:L&&!F,isLoadingError:$&&!W,isPaused:y.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:$&&W,isStale:U_(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Rr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=V=>{C.status==="error"?V.reject(C.error):C.data!==void 0&&V.resolve(C.data)},k=()=>{const V=this.#o=C.promise=Ib();I(V)},j=this.#o;switch(j.status){case"pending":t.queryHash===n.queryHash&&I(j);break;case"fulfilled":(C.status==="error"||C.data!==j.value)&&k();break;case"rejected":(C.status!=="error"||C.error!==j.reason)&&k();break}}return C}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),rp(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#m.size)return!0;const o=new Set(i??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(l=>{const u=l;return this.#s[u]!==t[u]&&o.has(u)})};this.#E({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#E(t){an.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Mj(t,e){return Rr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function f1(t,e){return Mj(t,e)||t.state.data!==void 0&&Cb(t,e,e.refetchOnMount)}function Cb(t,e,n){if(Rr(e.enabled,t)!==!1&&pa(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&U_(t,e)}return!1}function m1(t,e,n,r){return(t!==e||Rr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&U_(t,n)}function U_(t,e){return Rr(e.enabled,t)!==!1&&t.isStaleByTime(pa(e.staleTime,t))}function jj(t,e){return!rp(t.getCurrentResult(),e)}function p1(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},h=0;const f=async()=>{let y=!1;const b=A=>{Ij(A,()=>e.signal,()=>y=!0)},_=mR(e.options,e.fetchOptions),E=async(A,R,D)=>{if(y)return Promise.reject();if(R==null&&A.pages.length)return Promise.resolve(A);const F=(()=>{const re={client:e.client,queryKey:e.queryKey,pageParam:R,direction:D?"backward":"forward",meta:e.options.meta};return b(re),re})(),$=await _(F),{maxPages:Q}=e.options,W=D?Aj:Sj;return{pages:W(A.pages,$,Q),pageParams:W(A.pageParams,R,Q)}};if(i&&o.length){const A=i==="backward",R=A?Vj:g1,D={pages:o,pageParams:l},L=R(r,D);u=await E(D,L,A)}else{const A=t??o.length;do{const R=h===0?l[0]??r.initialPageParam:g1(r,u);if(h>0&&R==null)break;u=await E(u,R),h++}while(h<A)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function g1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Vj(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Lj=class extends yR{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||bR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=gR({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",o=!this.#s.canStart();try{if(i)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const u=await this.options.onMutate?.(e,r);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:o})}const l=await this.#s.start();return await this.#n.config.onSuccess?.(l,e,this.state.context,this,r),await this.options.onSuccess?.(l,e,this.state.context,r),await this.#n.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,e,this.state.context,r),this.#r({type:"success",data:l}),l}catch(l){try{await this.#n.config.onError?.(l,e,this.state.context,this,r)}catch(u){Promise.reject(u)}try{await this.options.onError?.(l,e,this.state.context,r)}catch(u){Promise.reject(u)}try{await this.#n.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r)}catch(u){Promise.reject(u)}try{await this.options.onSettled?.(void 0,l,e,this.state.context,r)}catch(u){Promise.reject(u)}throw this.#r({type:"error",error:l}),l}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),an.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function bR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zj=class extends Fc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new Lj({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=fm(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=fm(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=fm(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=fm(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){an.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>l1(e,n))}findAll(t={}){return this.getAll().filter(e=>l1(t,e))}notify(t){an.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return an.batch(()=>Promise.all(t.map(e=>e.continue().catch(jn))))}};function fm(t){return t.options.scope?.id}var Uj=class extends Fc{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),rp(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Uo(n.mutationKey)!==Uo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??bR();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){an.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,r,i)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(e.data,null,n,r,i)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,r,i)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,e.error,n,r,i)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},$j=class extends Fc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??j_(r,e);let o=this.get(i);return o||(o=new kj({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){an.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>o1(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>o1(t,n)):e}notify(t){an.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){an.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fj=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new $j,this.#t=t.mutationCache||new zj,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=z_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=sp.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(pa(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,l=wj(e,o);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return an.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;an.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return an.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=an.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(jn).catch(jn)}invalidateQueries(t,e={}){return an.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=an.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(jn)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(jn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(pa(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(jn).catch(jn)}fetchInfiniteQuery(t){return t.behavior=p1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(jn).catch(jn)}ensureInfiniteQueryData(t){return t.behavior=p1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return sp.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(Uo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Bd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Uo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Bd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=j_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===V_&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},_R=S.createContext(void 0),Bc=t=>{const e=S.useContext(_R);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Bj=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(_R.Provider,{value:t,children:e})),xR=S.createContext(!1),qj=()=>S.useContext(xR);xR.Provider;function Hj(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Gj=S.createContext(Hj()),Kj=()=>S.useContext(Gj),Qj=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?L_(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},Zj=t=>{S.useEffect(()=>{t.clearReset()},[t])},Yj=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||L_(n,[t.error,r])),Wj=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Xj=(t,e)=>t.isLoading&&t.isFetching&&!e,Jj=(t,e)=>t?.suspense&&e.isPending,y1=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function e4(t,e,n){const r=qj(),i=Kj(),o=Bc(),l=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(l);const u=o.getQueryCache().get(l.queryHash);l._optimisticResults=r?"isRestoring":"optimistic",Wj(l),Qj(l,i,u),Zj(i);const h=!o.getQueryCache().get(l.queryHash),[f]=S.useState(()=>new e(o,l)),y=f.getOptimisticResult(l),b=!r&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(_=>{const E=b?f.subscribe(an.batchCalls(_)):jn;return f.updateResult(),E},[f,b]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),S.useEffect(()=>{f.setOptions(l)},[l,f]),Jj(l,y))throw y1(l,f,i);if(Yj({result:y,errorResetBoundary:i,throwOnError:l.throwOnError,query:u,suspense:l.suspense}))throw y.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(l,y),l.experimental_prefetchInRender&&!zo&&Xj(y,r)&&(h?y1(l,f,i):u?.promise)?.catch(jn).finally(()=>{f.updateResult()}),l.notifyOnChangeProps?y:f.trackResult(y)}function wR(t,e){return e4(t,Pj)}function Gp(t,e){const n=Bc(),[r]=S.useState(()=>new Uj(n,t));S.useEffect(()=>{r.setOptions(t)},[r,t]);const i=S.useSyncExternalStore(S.useCallback(l=>r.subscribe(an.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=S.useCallback((l,u)=>{r.mutate(l,u).catch(jn)},[r]);if(i.error&&L_(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}const t4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),v1=t=>{const e=n4(t);return e.charAt(0).toUpperCase()+e.slice(1)},ER=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),r4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var s4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const i4=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},h)=>S.createElement("svg",{ref:h,...s4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ER("lucide",i),...!o&&!r4(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,y])=>S.createElement(f,y)),...Array.isArray(o)?o:[o]]));const lt=(t,e)=>{const n=S.forwardRef(({className:r,...i},o)=>S.createElement(i4,{ref:o,iconNode:e,className:ER(`lucide-${t4(v1(t))}`,`lucide-${t}`,r),...i}));return n.displayName=v1(t),n};const a4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Nb=lt("activity",a4);const o4=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],TR=lt("arrow-down",o4);const l4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],c4=lt("arrow-left",l4);const u4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Hv=lt("arrow-right",u4);const d4=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],SR=lt("arrow-up",d4);const h4=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],f4=lt("calculator",h4);const m4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$o=lt("calendar",m4);const p4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],b1=lt("chevron-left",p4);const g4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],AR=lt("circle-alert",g4);const y4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kp=lt("circle-check-big",y4);const v4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_1=lt("circle-check",v4);const b4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],_4=lt("clipboard-list",b4);const x4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$_=lt("clock",x4);const w4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],E4=lt("copy",w4);const T4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],S4=lt("dollar-sign",T4);const A4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Qp=lt("external-link",A4);const I4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],R4=lt("house",I4);const C4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],x1=lt("layout-grid",C4);const N4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Zp=lt("map-pin",N4);const D4=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],F_=lt("medal",D4);const O4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],k4=lt("menu",O4);const P4=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],M4=lt("message-square",P4);const j4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],V4=lt("save",j4);const L4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],z4=lt("send",L4);const U4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],IR=lt("star",U4);const $4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],F4=lt("trash-2",$4);const B4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Db=lt("trending-up",B4);const q4=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Un=lt("trophy",q4);const H4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],RR=lt("user",H4);const G4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],al=lt("users",G4);const K4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Q4=lt("x",K4);function CR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Z4(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CR(t))&&(r&&(r+=" "),r+=e);return r}const Y4=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},W4=(t,e)=>({classGroupId:t,validator:e}),NR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),ip="-",w1=[],X4="arbitrary..",J4=t=>{const e=tV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return eV(l);const u=l.split(ip),h=u[0]===""&&u.length>1?1:0;return DR(u,h,e)},getConflictingClassGroupIds:(l,u)=>{if(u){const h=r[l],f=n[l];return h?f?Y4(f,h):h:f||w1}return n[l]||w1}}},DR=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],o=n.nextPart.get(i);if(o){const f=DR(t,e+1,o);if(f)return f}const l=n.validators;if(l===null)return;const u=e===0?t.join(ip):t.slice(e).join(ip),h=l.length;for(let f=0;f<h;f++){const y=l[f];if(y.validator(u))return y.classGroupId}},eV=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?X4+r:void 0})(),tV=t=>{const{theme:e,classGroups:n}=t;return nV(n,e)},nV=(t,e)=>{const n=NR();for(const r in t){const i=t[r];B_(i,n,r,e)}return n},B_=(t,e,n,r)=>{const i=t.length;for(let o=0;o<i;o++){const l=t[o];rV(l,e,n,r)}},rV=(t,e,n,r)=>{if(typeof t=="string"){sV(t,e,n);return}if(typeof t=="function"){iV(t,e,n,r);return}aV(t,e,n,r)},sV=(t,e,n)=>{const r=t===""?e:OR(e,t);r.classGroupId=n},iV=(t,e,n,r)=>{if(oV(t)){B_(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(W4(n,t))},aV=(t,e,n,r)=>{const i=Object.entries(t),o=i.length;for(let l=0;l<o;l++){const[u,h]=i[l];B_(h,OR(e,u),n,r)}},OR=(t,e)=>{let n=t;const r=e.split(ip),i=r.length;for(let o=0;o<i;o++){const l=r[o];let u=n.nextPart.get(l);u||(u=NR(),n.nextPart.set(l,u)),n=u}return n},oV=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,lV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(o,l)=>{n[o]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=r[o])!==void 0)return i(o,l),l},set(o,l){o in n?n[o]=l:i(o,l)}}},Ob="!",E1=":",cV=[],T1=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),uV=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let l=0,u=0,h=0,f;const y=i.length;for(let R=0;R<y;R++){const D=i[R];if(l===0&&u===0){if(D===E1){o.push(i.slice(h,R)),h=R+1;continue}if(D==="/"){f=R;continue}}D==="["?l++:D==="]"?l--:D==="("?u++:D===")"&&u--}const b=o.length===0?i:i.slice(h);let _=b,E=!1;b.endsWith(Ob)?(_=b.slice(0,-1),E=!0):b.startsWith(Ob)&&(_=b.slice(1),E=!0);const A=f&&f>h?f-h:void 0;return T1(o,E,_,A)};if(e){const i=e+E1,o=r;r=l=>l.startsWith(i)?o(l.slice(i.length)):T1(cV,!1,l,void 0,!0)}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},dV=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let o=0;o<n.length;o++){const l=n[o],u=l[0]==="[",h=e.has(l);u||h?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},hV=t=>({cache:lV(t.cacheSize),parseClassName:uV(t),sortModifiers:dV(t),...J4(t)}),fV=/\s+/,mV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,l=[],u=t.trim().split(fV);let h="";for(let f=u.length-1;f>=0;f-=1){const y=u[f],{isExternal:b,modifiers:_,hasImportantModifier:E,baseClassName:A,maybePostfixModifierPosition:R}=n(y);if(b){h=y+(h.length>0?" "+h:h);continue}let D=!!R,L=r(D?A.substring(0,R):A);if(!L){if(!D){h=y+(h.length>0?" "+h:h);continue}if(L=r(A),!L){h=y+(h.length>0?" "+h:h);continue}D=!1}const F=_.length===0?"":_.length===1?_[0]:o(_).join(":"),$=E?F+Ob:F,Q=$+L;if(l.indexOf(Q)>-1)continue;l.push(Q);const W=i(L,D);for(let re=0;re<W.length;++re){const C=W[re];l.push($+C)}h=y+(h.length>0?" "+h:h)}return h},pV=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=kR(n))&&(i&&(i+=" "),i+=r);return i},kR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=kR(t[r]))&&(n&&(n+=" "),n+=e);return n},gV=(t,...e)=>{let n,r,i,o;const l=h=>{const f=e.reduce((y,b)=>b(y),t());return n=hV(f),r=n.cache.get,i=n.cache.set,o=u,u(h)},u=h=>{const f=r(h);if(f)return f;const y=mV(h,n);return i(h,y),y};return o=l,(...h)=>o(pV(...h))},yV=[],sn=t=>{const e=n=>n[t]||yV;return e.isThemeGetter=!0,e},PR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,MR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vV=/^\d+\/\d+$/,bV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_V=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,wV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tc=t=>vV.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),ia=t=>!!t&&Number.isInteger(Number(t)),Gv=t=>t.endsWith("%")&&Be(t.slice(0,-1)),li=t=>bV.test(t),TV=()=>!0,SV=t=>_V.test(t)&&!xV.test(t),jR=()=>!1,AV=t=>wV.test(t),IV=t=>EV.test(t),RV=t=>!Te(t)&&!Se(t),CV=t=>qc(t,zR,jR),Te=t=>PR.test(t),mo=t=>qc(t,UR,SV),Kv=t=>qc(t,PV,Be),S1=t=>qc(t,VR,jR),NV=t=>qc(t,LR,IV),mm=t=>qc(t,$R,AV),Se=t=>MR.test(t),md=t=>Hc(t,UR),DV=t=>Hc(t,MV),A1=t=>Hc(t,VR),OV=t=>Hc(t,zR),kV=t=>Hc(t,LR),pm=t=>Hc(t,$R,!0),qc=(t,e,n)=>{const r=PR.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Hc=(t,e,n=!1)=>{const r=MR.exec(t);return r?r[1]?e(r[1]):n:!1},VR=t=>t==="position"||t==="percentage",LR=t=>t==="image"||t==="url",zR=t=>t==="length"||t==="size"||t==="bg-size",UR=t=>t==="length",PV=t=>t==="number",MV=t=>t==="family-name",$R=t=>t==="shadow",jV=()=>{const t=sn("color"),e=sn("font"),n=sn("text"),r=sn("font-weight"),i=sn("tracking"),o=sn("leading"),l=sn("breakpoint"),u=sn("container"),h=sn("spacing"),f=sn("radius"),y=sn("shadow"),b=sn("inset-shadow"),_=sn("text-shadow"),E=sn("drop-shadow"),A=sn("blur"),R=sn("perspective"),D=sn("aspect"),L=sn("ease"),F=sn("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...Q(),Se,Te],re=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],I=()=>[Se,Te,h],k=()=>[tc,"full","auto",...I()],j=()=>[ia,"none","subgrid",Se,Te],V=()=>["auto",{span:["full",ia,Se,Te]},ia,Se,Te],z=()=>[ia,"auto",Se,Te],P=()=>["auto","min","max","fr",Se,Te],ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...I()],oe=()=>[tc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],Y=()=>[t,Se,Te],ye=()=>[...Q(),A1,S1,{position:[Se,Te]}],be=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",OV,CV,{size:[Se,Te]}],B=()=>[Gv,md,mo],se=()=>["","none","full",f,Se,Te],de=()=>["",Be,md,mo],xe=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_e=()=>[Be,Gv,A1,S1],ke=()=>["","none",A,Se,Te],He=()=>["none",Be,Se,Te],Fn=()=>["none",Be,Se,Te],gt=()=>[Be,Se,Te],Vr=()=>[tc,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[li],breakpoint:[li],color:[TV],container:[li],"drop-shadow":[li],ease:["in","out","in-out"],font:[RV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[li],shadow:[li],spacing:["px",Be],text:[li],"text-shadow":[li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",tc,Te,Se,D]}],container:["container"],columns:[{columns:[Be,Te,Se,u]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[ia,"auto",Se,Te]}],basis:[{basis:[tc,"full","auto",u,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,tc,"auto","initial","none",Te]}],grow:[{grow:["",Be,Se,Te]}],shrink:[{shrink:["",Be,Se,Te]}],order:[{order:[ia,"first","last","none",Se,Te]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ve(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...ve()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":ve()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:oe()}],w:[{w:[u,"screen",...oe()]}],"min-w":[{"min-w":[u,"screen","none",...oe()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...oe()]}],h:[{h:["screen","lh",...oe()]}],"min-h":[{"min-h":["screen","lh","none",...oe()]}],"max-h":[{"max-h":["screen","lh",...oe()]}],"font-size":[{text:["base",n,md,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Se,Kv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gv,Te]}],"font-family":[{font:[DV,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Se,Te]}],"line-clamp":[{"line-clamp":[Be,"none",Se,Kv]}],leading:[{leading:[o,...I()]}],"list-image":[{"list-image":["none",Se,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",Se,mo]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[Be,"auto",Se,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ye()}],"bg-repeat":[{bg:be()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ia,Se,Te],radial:["",Se,Te],conic:[ia,Se,Te]},kV,NV]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,Se,Te]}],"outline-w":[{outline:["",Be,md,mo]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",y,pm,mm]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",b,pm,mm]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[Be,mo]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",_,pm,mm]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[Be,Se,Te]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":_e()}],"mask-image-linear-to-pos":[{"mask-linear-to":_e()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":_e()}],"mask-image-t-to-pos":[{"mask-t-to":_e()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":_e()}],"mask-image-r-to-pos":[{"mask-r-to":_e()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":_e()}],"mask-image-b-to-pos":[{"mask-b-to":_e()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":_e()}],"mask-image-l-to-pos":[{"mask-l-to":_e()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":_e()}],"mask-image-x-to-pos":[{"mask-x-to":_e()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":_e()}],"mask-image-y-to-pos":[{"mask-y-to":_e()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[Se,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":_e()}],"mask-image-radial-to-pos":[{"mask-radial-to":_e()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Q()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":_e()}],"mask-image-conic-to-pos":[{"mask-conic-to":_e()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ye()}],"mask-repeat":[{mask:be()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Te]}],filter:[{filter:["","none",Se,Te]}],blur:[{blur:ke()}],brightness:[{brightness:[Be,Se,Te]}],contrast:[{contrast:[Be,Se,Te]}],"drop-shadow":[{"drop-shadow":["","none",E,pm,mm]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",Be,Se,Te]}],"hue-rotate":[{"hue-rotate":[Be,Se,Te]}],invert:[{invert:["",Be,Se,Te]}],saturate:[{saturate:[Be,Se,Te]}],sepia:[{sepia:["",Be,Se,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Te]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[Be,Se,Te]}],"backdrop-contrast":[{"backdrop-contrast":[Be,Se,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,Se,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,Se,Te]}],"backdrop-invert":[{"backdrop-invert":["",Be,Se,Te]}],"backdrop-opacity":[{"backdrop-opacity":[Be,Se,Te]}],"backdrop-saturate":[{"backdrop-saturate":[Be,Se,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,Se,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",Se,Te]}],ease:[{ease:["linear","initial",L,Se,Te]}],delay:[{delay:[Be,Se,Te]}],animate:[{animate:["none",F,Se,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,Se,Te]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:He()}],"rotate-x":[{"rotate-x":He()}],"rotate-y":[{"rotate-y":He()}],"rotate-z":[{"rotate-z":He()}],scale:[{scale:Fn()}],"scale-x":[{"scale-x":Fn()}],"scale-y":[{"scale-y":Fn()}],"scale-z":[{"scale-z":Fn()}],"scale-3d":["scale-3d"],skew:[{skew:gt()}],"skew-x":[{"skew-x":gt()}],"skew-y":[{"skew-y":gt()}],transform:[{transform:[Se,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Vr()}],"translate-x":[{"translate-x":Vr()}],"translate-y":[{"translate-y":Vr()}],"translate-z":[{"translate-z":Vr()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Te]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[Be,md,mo,Kv]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},VV=gV(jV);function Rn(...t){return VV(Z4(t))}const LV=(t,e)=>{let n=null,r=0,i=0;return t.map(o=>{const l=e(o);return i+=1,(n===null||l!==n)&&(r=i,n=l),{...o,rank:r}})},Do=$e.forwardRef(({variant:t="primary",size:e="md",className:n,children:r,...i},o)=>{const l="inline-flex items-center justify-center rounded-lg font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",u={primary:"bg-primary text-text-main hover:bg-primary-hover border border-transparent shadow-sm",secondary:"bg-surface-highlight text-text-main border border-border hover:border-primary/50",ghost:"bg-transparent text-text-main hover:bg-surface-highlight"},h={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return g.jsx("button",{ref:o,className:Rn(l,u[t]??u.primary,h[e]??h.md,n),...i,children:r})});Do.displayName="Button";const zV=({children:t})=>{const[e,n]=S.useState(!1),r=Ca(),i=[{name:"Home",href:"/",icon:R4},{name:"Standings",href:"/standings",icon:Un},{name:"Schedule",href:"/schedule",icon:$o},{name:"Calculator",href:"/calculator",icon:f4},{name:"Players",href:"/players",icon:al},{name:"Format",href:"/format",icon:$o},{name:"Champions",href:"/champions",icon:Un}];return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsxs("nav",{className:"bg-surface text-text-main sticky top-0 z-50 shadow-lg border-b border-border",children:[g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex items-center justify-between h-16",children:[g.jsx("div",{className:"flex items-center",children:g.jsxs(Ct,{to:"/",className:"flex items-center space-x-2",children:[g.jsx(Un,{className:"h-6 w-6 text-warning"}),g.jsx("span",{className:"font-bold text-lg tracking-tight",children:"Paddle Up"})]})}),g.jsx("div",{className:"hidden md:block",children:g.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:i.map(o=>{const l=o.icon,u=r.pathname===o.href;return g.jsxs(Ct,{to:o.href,className:Rn("px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center space-x-1",u?"bg-surface-highlight text-warning":"text-text-muted hover:bg-surface-highlight hover:text-text-main"),children:[g.jsx(l,{className:"h-4 w-4"}),g.jsx("span",{children:o.name})]},o.name)})})}),g.jsx("div",{className:"md:hidden",children:g.jsx(Do,{onClick:()=>n(!e),variant:"ghost",size:"sm",className:"inline-flex items-center justify-center p-2 rounded-md text-text-muted hover:text-text-main hover:bg-surface-highlight focus:outline-none",children:e?g.jsx(Q4,{className:"h-6 w-6"}):g.jsx(k4,{className:"h-6 w-6"})})})]})}),e&&g.jsx("div",{className:"md:hidden",children:g.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-surface border-t border-border",children:i.map(o=>{const l=o.icon,u=r.pathname===o.href;return g.jsxs(Ct,{to:o.href,onClick:()=>n(!1),className:Rn("block px-3 py-2 rounded-md text-base font-medium flex items-center space-x-2",u?"bg-surface-highlight text-warning":"text-text-muted hover:bg-surface-highlight hover:text-text-main"),children:[g.jsx(l,{className:"h-5 w-5"}),g.jsx("span",{children:o.name})]},o.name)})})})]}),g.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),g.jsx("footer",{className:"bg-surface text-text-muted py-8 mt-auto",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[g.jsxs("p",{children:[" ",new Date().getFullYear()," Paddle Up Individual Championship League"]}),g.jsx("p",{className:"text-sm mt-2",children:"Competitive Integrity  Merit-Based  Transparent"})]})})]})},FR={subtitle:"The premier competitive league in St. Louis. Merit-based advancement, weekly stakes, and a path to the championship.",schedule:{day:"Sundays",time:"7:00 - 9:00 PM"},location:{name:"Paddle Up",url:"https://maps.app.goo.gl/dKNY9dnEDiFdM3XK8",city:"Chesterfield"},participant:{type:"Individual",note:"No Partner Needed"},register:{url:"https://courtreserve.com",text:"Register on CourtReserve"},missedWeekNote:"Missed week = 0 points",philosophy:"Competitive integrity is the priority. Rotating partners, merit-based court movement, and transparent standings determine advancement. Top performers earn season rewards and guaranteed spots for the next season, while lower performers must re-qualify to ensure a high level of competition.",seasonStructure:{rosterSize:16,duration:"6 Weeks",when:"Sundays, 7:00 PM  9:00 PM",safeZone:"Top 12 players (of a 16-player roster) automatically qualify for the next season  guaranteed roster spots at the end of the 6-week season.",dropZone:"Bottom 4 players (of a 16-player roster) must re-qualify for the next season. They lose their roster spot at the end of the 6-week season and may re-enter via the Open Qualifiers."},seeding:{overview:"Initial seeding uses DUPR for Week 1; thereafter seeding is based on season points and weekly performance.",week1:"Use DUPR rating (higher DUPR = higher seed). If DUPR missing, use last-seen DUPR or default to league admin placement.",draw:"Balanced 'Snake Draw' across 4 courts.",tieBreakers:["Head-to-head (if available)","Higher DUPR","Most recent higher placement"],promotionRelegation:{summary:"Top 2 on each court advance/move up per round; courts are reassigned between rounds based on performance.",nightlyPromotionBonus:"Players who win promotion to a higher court receive a small bonus (configurable) applied after nightly results."},courts:[{name:"Court 1",seeds:"1, 8, 9, 16"},{name:"Court 2",seeds:"2, 7, 10, 15"},{name:"Court 3",seeds:"3, 6, 11, 14"},{name:"Court 4",seeds:"4, 5, 12, 13"}]},rewards:{firstPlace:{name:"1st",items:["$100 Court Credit","Free Entry Next Season","50 Paddle Up Club Points"]},secondPlace:{name:"2nd",items:["$60 Court Credit","30 Paddle Up Club Points"]},thirdPlace:{name:"3rd",items:["$40 Court Credit","20 Paddle Up Club Points"]},notes:"Court credits are applied to player accounts; club points are tracked separately from league standings."},qualification:{description:"Before each season begins, we host two Open Qualifier events to fill the open roster spots.",who:["New applicants (DUPR 3.6+ required)","Players who must re-qualify from the previous season (bottom 4)"],format:"Round Robin (Rotating Partners)",advancement:["Qualifier #1: The Top 2 finishers earn a spot in the league","Qualifier #2: The Top 2 finishers earn a spot in the league","Remaining roster spots (if any) are filled based on overall points from both events"],note:"If you fail to qualify in the first event, you may register for the second event to try again."},general:["DUPR 3.6+ required","DUPR must be linked in CourtReserve prior to play"],format:[{title:"Round 1: Quarterfinals",description:["Players are divided into 4 courts based on seeding.","Top 2 from each court advance to the Upper Bracket (Courts 1 & 2).","Bottom 2 move to the Lower Bracket (Courts 3 & 4)."]},{title:"Round 2: Semifinals",description:["Bracket play.","Top 2 from each Upper Bracket court advance to the Championship Court (C1); bottom 2 move to Court 2.","Top 2 from each Lower Bracket court advance to Court 3; bottom 2 move to Court 4."]},{title:"Round 3: Finals",description:["Final placement.","You play one last round robin on your assigned court (1-4) to determine your final points and ranking."]}],faqs:[{question:"What happens if I miss a week?",answer:"If you miss a week, you receive 0 points for that night. You must notify the league admin so a substitute can be assigned. You are allowed a maximum of 2 sub replacements per season."},{question:"Can I choose my own sub?",answer:"No. To ensure competitive balance and fairness, all substitutes are assigned by the league administration from the approved sub pool."},{question:"How do I qualify for the next season?",answer:"The top 4 players from the current season automatically qualify for the next season. Other spots may be filled through open registration or qualifying nights."},{question:"Is there a warm-up period?",answer:"Yes, courts are available for warm-up starting at 6:45 PM. League play begins promptly at 7:00 PM."}],scoring:["Traditional scoring","Games to 11  win by 1","Ceiling contact = out"],points:{championship:{1:1e3,2:800,3:600,4:400},court2:{1:300,2:240,3:180,4:120},court3:{1:100,2:80,3:60,4:40},court4:{1:30,2:24,3:18,4:12}},subs:["League players must contact league administration to arrange for a sub ahead of time","Subs will be chosen from from the top performers in the most recent Open Qualifiers","Absent players receive 0 points"]},Pm={title:"Paddle Up Individual Championship League",fee:"$80",summary:"Season-long championship format  6 weeks of merit-based play with promotion/relegation, weekly standings, and season prizes. Ideal for players who want sustained competitive play and a path to the championship.",...FR},Qv={title:"The Challenge",summary:"Short-form weekly competition  rotating partners, per-night entry, and court promotion each round. Quick, social, and competitive nights focused on weekly performance.",price:{amount:15,unit:"per night",display:"$15",note:"per night"},showSections:{seasonStructure:!1,prizes:!1,qualifiers:!1},...FR},et=Pm,UV=t=>{const{championship:e,court2:n,court3:r,court4:i}=et.points??{championship:{},court2:{},court3:{},court4:{}},o=(l,u)=>{if(!l)return 0;const h=l[u];return typeof h=="number"?h:0};return t<=4?o(e,t):t<=8?o(n,t-4):t<=12?o(r,t-8):t<=16?o(i,t-12):0},Yp=t=>{if(!t.isCompleted||!Array.isArray(t.standings)||t.standings.length===0)return null;const e=t.standings,n=[];return e.forEach((r,i)=>{const o=i+1,l=Math.ceil(o/4),u=(o-1)%4+1,h=UV(o);n.push({playerId:r,court:l,position:u,rank:o,pointsEarned:h})}),n},$V=t=>{const e=new Map;return t.forEach(n=>{if(!n.standings||n.standings.length===0)return;const r={id:n.id,date:n.startDateTime?n.startDateTime.toISOString():n.id,isCompleted:!0,standings:n.standings},i=Yp(r);i&&i.forEach(o=>{const l=o.playerId,u=o.pointsEarned||0,h=e.get(l)||{points:0,events:0,champWins:0};h.points+=u,h.events+=1,o.rank===1&&(h.champWins+=1),e.set(l,h)})}),e},FV=()=>{};var I1={};const BR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},qR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,y=o>>2,b=(o&3)<<4|u>>4;let _=(u&15)<<2|f>>6,E=f&63;h||(E=64,l||(_=64)),r.push(n[y],n[b],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const b=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||b==null)throw new qV;const _=o<<2|u>>4;if(r.push(_),f!==64){const E=u<<4&240|f>>2;if(r.push(E),b!==64){const A=f<<6&192|b;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HV=function(t){const e=BR(t);return qR.encodeByteArray(e,!0)},ap=function(t){return HV(t).replace(/\./g,"")},HR=function(t){try{return qR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function GR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GV=()=>GR().__FIREBASE_DEFAULTS__,KV=()=>{if(typeof process>"u"||typeof I1>"u")return;const t=I1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HR(t[1]);return e&&JSON.parse(e)},Wp=()=>{try{return FV()||GV()||KV()||QV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KR=t=>Wp()?.emulatorHosts?.[t],ZV=t=>{const e=KR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QR=()=>Wp()?.config,ZR=t=>Wp()?.[`_${t}`];class YV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Gc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YR(t){return(await fetch(t,{credentials:"include"})).ok}function WV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ap(JSON.stringify(n)),ap(JSON.stringify(l)),""].join(".")}const Dd={};function XV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dd))Dd[e]?t.emulator.push(e):t.prod.push(e);return t}function JV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let R1=!1;function WR(t,e){if(typeof window>"u"||typeof document>"u"||!Gc(window.location.host)||Dd[t]===e||Dd[t]||R1)return;Dd[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=XV().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{R1=!0,l()},_}function y(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=JV(r),E=n("text"),A=document.getElementById(E)||document.createElement("span"),R=n("learnmore"),D=document.getElementById(R)||document.createElement("a"),L=n("preprendIcon"),F=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const $=_.element;u($),y(D,R);const Q=f();h(F,L),$.append(F,A,D,Q),document.body.appendChild($)}o?(A.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function XR(){const t=Wp()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function r6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s6(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JR(){return!XR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eC(){return!XR()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function tC(){try{return typeof indexedDB=="object"}catch{return!1}}function i6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const a6="FirebaseError";class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=a6,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mh.prototype.create)}}class mh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?o6(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new xi(i,u,r)}}function o6(t,e){return t.replace(l6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const l6=/\{\$([^}]+)}/g;function c6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(C1(o)&&C1(l)){if(!Fo(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function C1(t){return t!==null&&typeof t=="object"}function ph(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function u6(t,e){const n=new d6(t,e);return n.subscribe.bind(n)}class d6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zv),i.error===void 0&&(i.error=Zv),i.complete===void 0&&(i.complete=Zv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zv(){}function Nn(t){return t&&t._delegate?t._delegate:t}class Bo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const go="[DEFAULT]";class f6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p6(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m6(t){return t===go?void 0:t}function p6(t){return t.instantiationMode==="EAGER"}class g6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const y6={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},v6=We.INFO,b6={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},_6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=b6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class q_{constructor(e){this.name=e,this._logLevel=v6,this._logHandler=_6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const x6=(t,e)=>e.some(n=>t instanceof n);let N1,D1;function w6(){return N1||(N1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E6(){return D1||(D1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nC=new WeakMap,kb=new WeakMap,rC=new WeakMap,Yv=new WeakMap,H_=new WeakMap;function T6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(ga(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&nC.set(n,t)}).catch(()=>{}),H_.set(e,t),e}function S6(t){if(kb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});kb.set(t,e)}let Pb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ga(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A6(t){Pb=t(Pb)}function I6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wv(this),e,...n);return rC.set(r,e.sort?e.sort():[e]),ga(r)}:E6().includes(t)?function(...e){return t.apply(Wv(this),e),ga(nC.get(this))}:function(...e){return ga(t.apply(Wv(this),e))}}function R6(t){return typeof t=="function"?I6(t):(t instanceof IDBTransaction&&S6(t),x6(t,w6())?new Proxy(t,Pb):t)}function ga(t){if(t instanceof IDBRequest)return T6(t);if(Yv.has(t))return Yv.get(t);const e=R6(t);return e!==t&&(Yv.set(t,e),H_.set(e,t)),e}const Wv=t=>H_.get(t);function C6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=ga(l);return r&&l.addEventListener("upgradeneeded",h=>{r(ga(l.result),h.oldVersion,h.newVersion,ga(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const N6=["get","getKey","getAll","getAllKeys","count"],D6=["put","add","delete","clear"],Xv=new Map;function O1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xv.get(e))return Xv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=D6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||N6.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&h.done]))[0]};return Xv.set(e,o),o}A6(t=>({...t,get:(e,n,r)=>O1(e,n)||t.get(e,n,r),has:(e,n)=>!!O1(e,n)||t.has(e,n)}));class O6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(k6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function k6(t){return t.getComponent()?.type==="VERSION"}const Mb="@firebase/app",k1="0.14.6";const gi=new q_("@firebase/app"),P6="@firebase/app-compat",M6="@firebase/analytics-compat",j6="@firebase/analytics",V6="@firebase/app-check-compat",L6="@firebase/app-check",z6="@firebase/auth",U6="@firebase/auth-compat",$6="@firebase/database",F6="@firebase/data-connect",B6="@firebase/database-compat",q6="@firebase/functions",H6="@firebase/functions-compat",G6="@firebase/installations",K6="@firebase/installations-compat",Q6="@firebase/messaging",Z6="@firebase/messaging-compat",Y6="@firebase/performance",W6="@firebase/performance-compat",X6="@firebase/remote-config",J6="@firebase/remote-config-compat",e3="@firebase/storage",t3="@firebase/storage-compat",n3="@firebase/firestore",r3="@firebase/ai",s3="@firebase/firestore-compat",i3="firebase",a3="12.6.0";const jb="[DEFAULT]",o3={[Mb]:"fire-core",[P6]:"fire-core-compat",[j6]:"fire-analytics",[M6]:"fire-analytics-compat",[L6]:"fire-app-check",[V6]:"fire-app-check-compat",[z6]:"fire-auth",[U6]:"fire-auth-compat",[$6]:"fire-rtdb",[F6]:"fire-data-connect",[B6]:"fire-rtdb-compat",[q6]:"fire-fn",[H6]:"fire-fn-compat",[G6]:"fire-iid",[K6]:"fire-iid-compat",[Q6]:"fire-fcm",[Z6]:"fire-fcm-compat",[Y6]:"fire-perf",[W6]:"fire-perf-compat",[X6]:"fire-rc",[J6]:"fire-rc-compat",[e3]:"fire-gcs",[t3]:"fire-gcs-compat",[n3]:"fire-fst",[s3]:"fire-fst-compat",[r3]:"fire-vertex","fire-js":"fire-js",[i3]:"fire-js-all"};const qd=new Map,l3=new Map,Vb=new Map;function P1(t,e){try{t.container.addComponent(e)}catch(n){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tc(t){const e=t.name;if(Vb.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;Vb.set(e,t);for(const n of qd.values())P1(n,t);for(const n of l3.values())P1(n,t);return!0}function G_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jr(t){return t==null?!1:t.settings!==void 0}const c3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new mh("app","Firebase",c3);class u3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}const Kc=a3;function K_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:jb,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ya.create("bad-app-name",{appName:String(i)});if(n||(n=QR()),!n)throw ya.create("no-options");const o=qd.get(i);if(o){if(Fo(n,o.options)&&Fo(r,o.config))return o;throw ya.create("duplicate-app",{appName:i})}const l=new g6(i);for(const h of Vb.values())l.addComponent(h);const u=new u3(n,r,l);return qd.set(i,u),u}function sC(t=jb){const e=qd.get(t);if(!e&&t===jb&&QR())return K_();if(!e)throw ya.create("no-app",{appName:t});return e}function Lb(){return Array.from(qd.values())}function va(t,e,n){let r=o3[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(l.join(" "));return}Tc(new Bo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const d3="firebase-heartbeat-database",h3=1,Hd="firebase-heartbeat-store";let Jv=null;function iC(){return Jv||(Jv=C6(d3,h3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ya.create("idb-open",{originalErrorMessage:t.message})})),Jv}async function f3(t){try{const n=(await iC()).transaction(Hd),r=await n.objectStore(Hd).get(aC(t));return await n.done,r}catch(e){if(e instanceof xi)gi.warn(e.message);else{const n=ya.create("idb-get",{originalErrorMessage:e?.message});gi.warn(n.message)}}}async function M1(t,e){try{const r=(await iC()).transaction(Hd,"readwrite");await r.objectStore(Hd).put(e,aC(t)),await r.done}catch(n){if(n instanceof xi)gi.warn(n.message);else{const r=ya.create("idb-set",{originalErrorMessage:n?.message});gi.warn(r.message)}}}function aC(t){return`${t.name}!${t.options.appId}`}const m3=1024,p3=30;class g3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=j1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>p3){const i=b3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=j1(),{heartbeatsToSend:n,unsentEntries:r}=y3(this._heartbeatsCache.heartbeats),i=ap(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return gi.warn(e),""}}}function j1(){return new Date().toISOString().substring(0,10)}function y3(t,e=m3){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),V1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),V1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class v3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tC()?i6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await f3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return M1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return M1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function V1(t){return ap(JSON.stringify({version:2,heartbeats:t})).length}function b3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function _3(t){Tc(new Bo("platform-logger",e=>new O6(e),"PRIVATE")),Tc(new Bo("heartbeat",e=>new g3(e),"PRIVATE")),va(Mb,k1,t),va(Mb,k1,"esm2020"),va("fire-js","")}_3("");var L1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ba,oC;(function(){var t;function e(C,I){function k(){}k.prototype=I.prototype,C.F=I.prototype,C.prototype=new k,C.prototype.constructor=C,C.D=function(j,V,z){for(var P=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)P[ve-2]=arguments[ve];return I.prototype[V].apply(j,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,k){k||(k=0);const j=Array(16);if(typeof I=="string")for(var V=0;V<16;++V)j[V]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(V=0;V<16;++V)j[V]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=C.g[0],k=C.g[1],V=C.g[2];let z=C.g[3],P;P=I+(z^k&(V^z))+j[0]+3614090360&4294967295,I=k+(P<<7&4294967295|P>>>25),P=z+(V^I&(k^V))+j[1]+3905402710&4294967295,z=I+(P<<12&4294967295|P>>>20),P=V+(k^z&(I^k))+j[2]+606105819&4294967295,V=z+(P<<17&4294967295|P>>>15),P=k+(I^V&(z^I))+j[3]+3250441966&4294967295,k=V+(P<<22&4294967295|P>>>10),P=I+(z^k&(V^z))+j[4]+4118548399&4294967295,I=k+(P<<7&4294967295|P>>>25),P=z+(V^I&(k^V))+j[5]+1200080426&4294967295,z=I+(P<<12&4294967295|P>>>20),P=V+(k^z&(I^k))+j[6]+2821735955&4294967295,V=z+(P<<17&4294967295|P>>>15),P=k+(I^V&(z^I))+j[7]+4249261313&4294967295,k=V+(P<<22&4294967295|P>>>10),P=I+(z^k&(V^z))+j[8]+1770035416&4294967295,I=k+(P<<7&4294967295|P>>>25),P=z+(V^I&(k^V))+j[9]+2336552879&4294967295,z=I+(P<<12&4294967295|P>>>20),P=V+(k^z&(I^k))+j[10]+4294925233&4294967295,V=z+(P<<17&4294967295|P>>>15),P=k+(I^V&(z^I))+j[11]+2304563134&4294967295,k=V+(P<<22&4294967295|P>>>10),P=I+(z^k&(V^z))+j[12]+1804603682&4294967295,I=k+(P<<7&4294967295|P>>>25),P=z+(V^I&(k^V))+j[13]+4254626195&4294967295,z=I+(P<<12&4294967295|P>>>20),P=V+(k^z&(I^k))+j[14]+2792965006&4294967295,V=z+(P<<17&4294967295|P>>>15),P=k+(I^V&(z^I))+j[15]+1236535329&4294967295,k=V+(P<<22&4294967295|P>>>10),P=I+(V^z&(k^V))+j[1]+4129170786&4294967295,I=k+(P<<5&4294967295|P>>>27),P=z+(k^V&(I^k))+j[6]+3225465664&4294967295,z=I+(P<<9&4294967295|P>>>23),P=V+(I^k&(z^I))+j[11]+643717713&4294967295,V=z+(P<<14&4294967295|P>>>18),P=k+(z^I&(V^z))+j[0]+3921069994&4294967295,k=V+(P<<20&4294967295|P>>>12),P=I+(V^z&(k^V))+j[5]+3593408605&4294967295,I=k+(P<<5&4294967295|P>>>27),P=z+(k^V&(I^k))+j[10]+38016083&4294967295,z=I+(P<<9&4294967295|P>>>23),P=V+(I^k&(z^I))+j[15]+3634488961&4294967295,V=z+(P<<14&4294967295|P>>>18),P=k+(z^I&(V^z))+j[4]+3889429448&4294967295,k=V+(P<<20&4294967295|P>>>12),P=I+(V^z&(k^V))+j[9]+568446438&4294967295,I=k+(P<<5&4294967295|P>>>27),P=z+(k^V&(I^k))+j[14]+3275163606&4294967295,z=I+(P<<9&4294967295|P>>>23),P=V+(I^k&(z^I))+j[3]+4107603335&4294967295,V=z+(P<<14&4294967295|P>>>18),P=k+(z^I&(V^z))+j[8]+1163531501&4294967295,k=V+(P<<20&4294967295|P>>>12),P=I+(V^z&(k^V))+j[13]+2850285829&4294967295,I=k+(P<<5&4294967295|P>>>27),P=z+(k^V&(I^k))+j[2]+4243563512&4294967295,z=I+(P<<9&4294967295|P>>>23),P=V+(I^k&(z^I))+j[7]+1735328473&4294967295,V=z+(P<<14&4294967295|P>>>18),P=k+(z^I&(V^z))+j[12]+2368359562&4294967295,k=V+(P<<20&4294967295|P>>>12),P=I+(k^V^z)+j[5]+4294588738&4294967295,I=k+(P<<4&4294967295|P>>>28),P=z+(I^k^V)+j[8]+2272392833&4294967295,z=I+(P<<11&4294967295|P>>>21),P=V+(z^I^k)+j[11]+1839030562&4294967295,V=z+(P<<16&4294967295|P>>>16),P=k+(V^z^I)+j[14]+4259657740&4294967295,k=V+(P<<23&4294967295|P>>>9),P=I+(k^V^z)+j[1]+2763975236&4294967295,I=k+(P<<4&4294967295|P>>>28),P=z+(I^k^V)+j[4]+1272893353&4294967295,z=I+(P<<11&4294967295|P>>>21),P=V+(z^I^k)+j[7]+4139469664&4294967295,V=z+(P<<16&4294967295|P>>>16),P=k+(V^z^I)+j[10]+3200236656&4294967295,k=V+(P<<23&4294967295|P>>>9),P=I+(k^V^z)+j[13]+681279174&4294967295,I=k+(P<<4&4294967295|P>>>28),P=z+(I^k^V)+j[0]+3936430074&4294967295,z=I+(P<<11&4294967295|P>>>21),P=V+(z^I^k)+j[3]+3572445317&4294967295,V=z+(P<<16&4294967295|P>>>16),P=k+(V^z^I)+j[6]+76029189&4294967295,k=V+(P<<23&4294967295|P>>>9),P=I+(k^V^z)+j[9]+3654602809&4294967295,I=k+(P<<4&4294967295|P>>>28),P=z+(I^k^V)+j[12]+3873151461&4294967295,z=I+(P<<11&4294967295|P>>>21),P=V+(z^I^k)+j[15]+530742520&4294967295,V=z+(P<<16&4294967295|P>>>16),P=k+(V^z^I)+j[2]+3299628645&4294967295,k=V+(P<<23&4294967295|P>>>9),P=I+(V^(k|~z))+j[0]+4096336452&4294967295,I=k+(P<<6&4294967295|P>>>26),P=z+(k^(I|~V))+j[7]+1126891415&4294967295,z=I+(P<<10&4294967295|P>>>22),P=V+(I^(z|~k))+j[14]+2878612391&4294967295,V=z+(P<<15&4294967295|P>>>17),P=k+(z^(V|~I))+j[5]+4237533241&4294967295,k=V+(P<<21&4294967295|P>>>11),P=I+(V^(k|~z))+j[12]+1700485571&4294967295,I=k+(P<<6&4294967295|P>>>26),P=z+(k^(I|~V))+j[3]+2399980690&4294967295,z=I+(P<<10&4294967295|P>>>22),P=V+(I^(z|~k))+j[10]+4293915773&4294967295,V=z+(P<<15&4294967295|P>>>17),P=k+(z^(V|~I))+j[1]+2240044497&4294967295,k=V+(P<<21&4294967295|P>>>11),P=I+(V^(k|~z))+j[8]+1873313359&4294967295,I=k+(P<<6&4294967295|P>>>26),P=z+(k^(I|~V))+j[15]+4264355552&4294967295,z=I+(P<<10&4294967295|P>>>22),P=V+(I^(z|~k))+j[6]+2734768916&4294967295,V=z+(P<<15&4294967295|P>>>17),P=k+(z^(V|~I))+j[13]+1309151649&4294967295,k=V+(P<<21&4294967295|P>>>11),P=I+(V^(k|~z))+j[4]+4149444226&4294967295,I=k+(P<<6&4294967295|P>>>26),P=z+(k^(I|~V))+j[11]+3174756917&4294967295,z=I+(P<<10&4294967295|P>>>22),P=V+(I^(z|~k))+j[2]+718787259&4294967295,V=z+(P<<15&4294967295|P>>>17),P=k+(z^(V|~I))+j[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+z&4294967295}r.prototype.v=function(C,I){I===void 0&&(I=C.length);const k=I-this.blockSize,j=this.C;let V=this.h,z=0;for(;z<I;){if(V==0)for(;z<=k;)i(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<I;)if(j[V++]=C.charCodeAt(z++),V==this.blockSize){i(this,j),V=0;break}}else for(;z<I;)if(j[V++]=C[z++],V==this.blockSize){i(this,j),V=0;break}}this.h=V,this.o+=I},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;I=this.o*8;for(var k=C.length-8;k<C.length;++k)C[k]=I&255,I/=256;for(this.v(C),C=Array(16),I=0,k=0;k<4;++k)for(let j=0;j<32;j+=8)C[I++]=this.g[k]>>>j&255;return C};function o(C,I){var k=u;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=I(C)}function l(C,I){this.h=I;const k=[];let j=!0;for(let V=C.length-1;V>=0;V--){const z=C[V]|0;j&&z==I||(k[V]=z,j=!1)}this.g=k}var u={};function h(C){return-128<=C&&C<128?o(C,function(I){return new l([I|0],I<0?-1:0)}):new l([C|0],C<0?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return D(f(-C));const I=[];let k=1;for(let j=0;C>=k;j++)I[j]=C/k|0,k*=4294967296;return new l(I,0)}function y(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return D(y(C.substring(1),I));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=f(Math.pow(I,8));let j=b;for(let z=0;z<C.length;z+=8){var V=Math.min(8,C.length-z);const P=parseInt(C.substring(z,z+V),I);V<8?(V=f(Math.pow(I,V)),j=j.j(V).add(f(P))):(j=j.j(k),j=j.add(f(P)))}return j}var b=h(0),_=h(1),E=h(16777216);t=l.prototype,t.m=function(){if(R(this))return-D(this).m();let C=0,I=1;for(let k=0;k<this.g.length;k++){const j=this.i(k);C+=(j>=0?j:4294967296+j)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(A(this))return"0";if(R(this))return"-"+D(this).toString(C);const I=f(Math.pow(C,6));var k=this;let j="";for(;;){const V=Q(k,I).g;k=L(k,V.j(I));let z=((k.g.length>0?k.g[0]:k.h)>>>0).toString(C);if(k=V,A(k))return z+j;for(;z.length<6;)z="0"+z;j=z+j}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function A(C){if(C.h!=0)return!1;for(let I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function R(C){return C.h==-1}t.l=function(C){return C=L(this,C),R(C)?-1:A(C)?0:1};function D(C){const I=C.g.length,k=[];for(let j=0;j<I;j++)k[j]=~C.g[j];return new l(k,~C.h).add(_)}t.abs=function(){return R(this)?D(this):this},t.add=function(C){const I=Math.max(this.g.length,C.g.length),k=[];let j=0;for(let V=0;V<=I;V++){let z=j+(this.i(V)&65535)+(C.i(V)&65535),P=(z>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);j=P>>>16,z&=65535,P&=65535,k[V]=P<<16|z}return new l(k,k[k.length-1]&-2147483648?-1:0)};function L(C,I){return C.add(D(I))}t.j=function(C){if(A(this)||A(C))return b;if(R(this))return R(C)?D(this).j(D(C)):D(D(this).j(C));if(R(C))return D(this.j(D(C)));if(this.l(E)<0&&C.l(E)<0)return f(this.m()*C.m());const I=this.g.length+C.g.length,k=[];for(var j=0;j<2*I;j++)k[j]=0;for(j=0;j<this.g.length;j++)for(let V=0;V<C.g.length;V++){const z=this.i(j)>>>16,P=this.i(j)&65535,ve=C.i(V)>>>16,me=C.i(V)&65535;k[2*j+2*V]+=P*me,F(k,2*j+2*V),k[2*j+2*V+1]+=z*me,F(k,2*j+2*V+1),k[2*j+2*V+1]+=P*ve,F(k,2*j+2*V+1),k[2*j+2*V+2]+=z*ve,F(k,2*j+2*V+2)}for(C=0;C<I;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=I;C<2*I;C++)k[C]=0;return new l(k,0)};function F(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function $(C,I){this.g=C,this.h=I}function Q(C,I){if(A(I))throw Error("division by zero");if(A(C))return new $(b,b);if(R(C))return I=Q(D(C),I),new $(D(I.g),D(I.h));if(R(I))return I=Q(C,D(I)),new $(D(I.g),I.h);if(C.g.length>30){if(R(C)||R(I))throw Error("slowDivide_ only works with positive integers.");for(var k=_,j=I;j.l(C)<=0;)k=W(k),j=W(j);var V=re(k,1),z=re(j,1);for(j=re(j,2),k=re(k,2);!A(j);){var P=z.add(j);P.l(C)<=0&&(V=V.add(k),z=P),j=re(j,1),k=re(k,1)}return I=L(C,V.j(I)),new $(V,I)}for(V=b;C.l(I)>=0;){for(k=Math.max(1,Math.floor(C.m()/I.m())),j=Math.ceil(Math.log(k)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),z=f(k),P=z.j(I);R(P)||P.l(C)>0;)k-=j,z=f(k),P=z.j(I);A(z)&&(z=_),V=V.add(z),C=L(C,P)}return new $(V,C)}t.B=function(C){return Q(this,C).h},t.and=function(C){const I=Math.max(this.g.length,C.g.length),k=[];for(let j=0;j<I;j++)k[j]=this.i(j)&C.i(j);return new l(k,this.h&C.h)},t.or=function(C){const I=Math.max(this.g.length,C.g.length),k=[];for(let j=0;j<I;j++)k[j]=this.i(j)|C.i(j);return new l(k,this.h|C.h)},t.xor=function(C){const I=Math.max(this.g.length,C.g.length),k=[];for(let j=0;j<I;j++)k[j]=this.i(j)^C.i(j);return new l(k,this.h^C.h)};function W(C){const I=C.g.length+1,k=[];for(let j=0;j<I;j++)k[j]=C.i(j)<<1|C.i(j-1)>>>31;return new l(k,C.h)}function re(C,I){const k=I>>5;I%=32;const j=C.g.length-k,V=[];for(let z=0;z<j;z++)V[z]=I>0?C.i(z+k)>>>I|C.i(z+k+1)<<32-I:C.i(z+k);return new l(V,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=y,ba=l}).apply(typeof L1<"u"?L1:typeof self<"u"?self:typeof window<"u"?window:{});var gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lC,xd,cC,Mm,zb,uC,dC,hC;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof gm=="object"&&gm];for(var x=0;x<m.length;++x){var T=m[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(m,x){if(x)e:{var T=r;m=m.split(".");for(var O=0;O<m.length-1;O++){var Z=m[O];if(!(Z in T))break e;T=T[Z]}m=m[m.length-1],O=T[m],x=x(O),x!=O&&x!=null&&e(T,m,{configurable:!0,writable:!0,value:x})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(x){var T=[],O;for(O in x)Object.prototype.hasOwnProperty.call(x,O)&&T.push([O,x[O]]);return T}});var o=o||{},l=this||self;function u(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function h(m,x,T){return m.call.apply(m.bind,arguments)}function f(m,x,T){return f=h,f.apply(null,arguments)}function y(m,x){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),m.apply(this,O)}}function b(m,x){function T(){}T.prototype=x.prototype,m.Z=x.prototype,m.prototype=new T,m.prototype.constructor=m,m.Ob=function(O,Z,te){for(var pe=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)pe[ze-2]=arguments[ze];return x.prototype[Z].apply(O,pe)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function E(m){const x=m.length;if(x>0){const T=Array(x);for(let O=0;O<x;O++)T[O]=m[O];return T}return[]}function A(m,x){for(let O=1;O<arguments.length;O++){const Z=arguments[O];var T=typeof Z;if(T=T!="object"?T:Z?Array.isArray(Z)?"array":T:"null",T=="array"||T=="object"&&typeof Z.length=="number"){T=m.length||0;const te=Z.length||0;m.length=T+te;for(let pe=0;pe<te;pe++)m[T+pe]=Z[pe]}else m.push(Z)}}class R{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function D(m){l.setTimeout(()=>{throw m},0)}function L(){var m=C;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class F{constructor(){this.h=this.g=null}add(x,T){const O=$.get();O.set(x,T),this.h?this.h.next=O:this.g=O,this.h=O}}var $=new R(()=>new Q,m=>m.reset());class Q{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let W,re=!1,C=new F,I=()=>{const m=Promise.resolve(void 0);W=()=>{m.then(k)}};function k(){for(var m;m=L();){try{m.h.call(m.g)}catch(T){D(T)}var x=$;x.j(m),x.h<100&&(x.h++,m.next=x.g,x.g=m)}re=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};l.addEventListener("test",T,x),l.removeEventListener("test",T,x)}catch{}return m})();function P(m){return/^[\s\xa0]*$/.test(m)}function ve(m,x){V.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,x)}b(ve,V),ve.prototype.init=function(m,x){const T=this.type=m.type,O=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget,x||(T=="mouseover"?x=m.fromElement:T=="mouseout"&&(x=m.toElement)),this.relatedTarget=x,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),H=0;function oe(m,x,T,O,Z){this.listener=m,this.proxy=null,this.src=x,this.type=T,this.capture=!!O,this.ha=Z,this.key=++H,this.da=this.fa=!1}function Y(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ye(m,x,T){for(const O in m)x.call(T,m[O],O,m)}function be(m,x){for(const T in m)x.call(void 0,m[T],T,m)}function M(m){const x={};for(const T in m)x[T]=m[T];return x}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(m,x){let T,O;for(let Z=1;Z<arguments.length;Z++){O=arguments[Z];for(T in O)m[T]=O[T];for(let te=0;te<B.length;te++)T=B[te],Object.prototype.hasOwnProperty.call(O,T)&&(m[T]=O[T])}}function de(m){this.src=m,this.g={},this.h=0}de.prototype.add=function(m,x,T,O,Z){const te=m.toString();m=this.g[te],m||(m=this.g[te]=[],this.h++);const pe=we(m,x,O,Z);return pe>-1?(x=m[pe],T||(x.fa=!1)):(x=new oe(x,this.src,te,!!O,Z),x.fa=T,m.push(x)),x};function xe(m,x){const T=x.type;if(T in m.g){var O=m.g[T],Z=Array.prototype.indexOf.call(O,x,void 0),te;(te=Z>=0)&&Array.prototype.splice.call(O,Z,1),te&&(Y(x),m.g[T].length==0&&(delete m.g[T],m.h--))}}function we(m,x,T,O){for(let Z=0;Z<m.length;++Z){const te=m[Z];if(!te.da&&te.listener==x&&te.capture==!!T&&te.ha==O)return Z}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),ke={};function He(m,x,T,O,Z){if(Array.isArray(x)){for(let te=0;te<x.length;te++)He(m,x[te],T,O,Z);return null}return T=cu(T),m&&m[me]?m.J(x,T,u(O)?!!O.capture:!1,Z):Fn(m,x,T,!1,O,Z)}function Fn(m,x,T,O,Z,te){if(!x)throw Error("Invalid event type");const pe=u(Z)?!!Z.capture:!!Z;let ze=Va(m);if(ze||(m[_e]=ze=new de(m)),T=ze.add(x,T,O,pe,te),T.proxy)return T;if(O=gt(),T.proxy=O,O.src=m,O.listener=T,m.addEventListener)z||(Z=pe),Z===void 0&&(Z=!1),m.addEventListener(x.toString(),O,Z);else if(m.attachEvent)m.attachEvent(is(x.toString()),O);else if(m.addListener&&m.removeListener)m.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function gt(){function m(T){return x.call(m.src,m.listener,T)}const x=ou;return m}function Vr(m,x,T,O,Z){if(Array.isArray(x))for(var te=0;te<x.length;te++)Vr(m,x[te],T,O,Z);else O=u(O)?!!O.capture:!!O,T=cu(T),m&&m[me]?(m=m.i,te=String(x).toString(),te in m.g&&(x=m.g[te],T=we(x,T,O,Z),T>-1&&(Y(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete m.g[te],m.h--)))):m&&(m=Va(m))&&(x=m.g[x.toString()],m=-1,x&&(m=we(x,T,O,Z)),(T=m>-1?x[m]:null)&&fl(T))}function fl(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[me])xe(x.i,m);else{var T=m.type,O=m.proxy;x.removeEventListener?x.removeEventListener(T,O,m.capture):x.detachEvent?x.detachEvent(is(T),O):x.addListener&&x.removeListener&&x.removeListener(O),(T=Va(x))?(xe(T,m),T.h==0&&(T.src=null,x[_e]=null)):Y(m)}}}function is(m){return m in ke?ke[m]:ke[m]="on"+m}function ou(m,x){if(m.da)m=!0;else{x=new ve(x,this);const T=m.listener,O=m.ha||m.src;m.fa&&fl(m),m=T.call(O,x)}return m}function Va(m){return m=m[_e],m instanceof de?m:null}var lu="__closure_events_fn_"+(Math.random()*1e9>>>0);function cu(m){return typeof m=="function"?m:(m[lu]||(m[lu]=function(x){return m.handleEvent(x)}),m[lu])}function Bt(){j.call(this),this.i=new de(this),this.M=this,this.G=null}b(Bt,j),Bt.prototype[me]=!0,Bt.prototype.removeEventListener=function(m,x,T,O){Vr(this,m,x,T,O)};function nn(m,x){var T,O=m.G;if(O)for(T=[];O;O=O.G)T.push(O);if(m=m.M,O=x.type||x,typeof x=="string")x=new V(x,m);else if(x instanceof V)x.target=x.target||m;else{var Z=x;x=new V(O,m),se(x,Z)}Z=!0;let te,pe;if(T)for(pe=T.length-1;pe>=0;pe--)te=x.g=T[pe],Z=Ai(te,O,!0,x)&&Z;if(te=x.g=m,Z=Ai(te,O,!0,x)&&Z,Z=Ai(te,O,!1,x)&&Z,T)for(pe=0;pe<T.length;pe++)te=x.g=T[pe],Z=Ai(te,O,!1,x)&&Z}Bt.prototype.N=function(){if(Bt.Z.N.call(this),this.i){var m=this.i;for(const x in m.g){const T=m.g[x];for(let O=0;O<T.length;O++)Y(T[O]);delete m.g[x],m.h--}}this.G=null},Bt.prototype.J=function(m,x,T,O){return this.i.add(String(m),x,!1,T,O)},Bt.prototype.K=function(m,x,T,O){return this.i.add(String(m),x,!0,T,O)};function Ai(m,x,T,O){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();let Z=!0;for(let te=0;te<x.length;++te){const pe=x[te];if(pe&&!pe.da&&pe.capture==T){const ze=pe.listener,zt=pe.ha||pe.src;pe.fa&&xe(m.i,pe),Z=ze.call(zt,O)!==!1&&Z}}return Z&&!O.defaultPrevented}function Lg(m,x){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:l.setTimeout(m,x||0)}function jh(m){m.g=Lg(()=>{m.g=null,m.i&&(m.i=!1,jh(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class Dn extends j{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:jh(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(m){j.call(this),this.h=m,this.g={}}b(La,j);var uu=[];function du(m){ye(m.g,function(x,T){this.g.hasOwnProperty(T)&&fl(x)},m),m.g={}}La.prototype.N=function(){La.Z.N.call(this),du(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=l.JSON.stringify,zg=l.JSON.parse,Vh=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Lh(){}function zh(){}var Lr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){V.call(this,"d")}b(pn,V);function mr(){V.call(this,"c")}b(mr,V);var Lt={},Uh=null;function ml(){return Uh=Uh||new Bt}Lt.Ia="serverreachability";function $h(m){V.call(this,Lt.Ia,m)}b($h,V);function as(m){const x=ml();nn(x,new $h(x))}Lt.STAT_EVENT="statevent";function za(m,x){V.call(this,Lt.STAT_EVENT,m),this.stat=x}b(za,V);function qt(m){const x=ml();nn(x,new za(x,m))}Lt.Ja="timingevent";function os(m,x){V.call(this,Lt.Ja,m),this.size=x}b(os,V);function ls(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},x)}function zr(){this.g=!0}zr.prototype.ua=function(){this.g=!1};function Ug(m,x,T,O,Z,te){m.info(function(){if(m.g)if(te){var pe="",ze=te.split("&");for(let at=0;at<ze.length;at++){var zt=ze[at].split("=");if(zt.length>1){const Tt=zt[0];zt=zt[1];const vr=Tt.split("_");pe=vr.length>=2&&vr[1]=="type"?pe+(Tt+"="+zt+"&"):pe+(Tt+"=redacted&")}}}else pe=null;else pe=te;return"XMLHTTP REQ ("+O+") [attempt "+Z+"]: "+x+`
`+T+`
`+pe})}function Fh(m,x,T,O,Z,te,pe){m.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Z+"]: "+x+`
`+T+`
`+te+" "+pe})}function cs(m,x,T,O){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+$g(m,T)+(O?" "+O:"")})}function Ua(m,x){m.info(function(){return"TIMEOUT: "+x})}zr.prototype.info=function(){};function $g(m,x){if(!m.g)return x;if(!x)return null;try{const te=JSON.parse(x);if(te){for(m=0;m<te.length;m++)if(Array.isArray(te[m])){var T=te[m];if(!(T.length<2)){var O=T[1];if(Array.isArray(O)&&!(O.length<1)){var Z=O[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let pe=1;pe<O.length;pe++)O[pe]=""}}}}return Ii(te)}catch{return x}}var $a={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fu;function Fa(){}b(Fa,Lh),Fa.prototype.g=function(){return new XMLHttpRequest},fu=new Fa;function Bs(m){return encodeURIComponent(String(m))}function Bh(m){var x=1;m=m.split(":");const T=[];for(;x>0&&m.length;)T.push(m.shift()),x--;return m.length&&T.push(m.join(":")),T}function Ur(m,x,T,O){this.j=m,this.i=x,this.l=T,this.S=O||1,this.V=new La(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $r}function $r(){this.i=null,this.g="",this.h=!1}var Ht={},cn={};function us(m,x,T){m.M=1,m.A=Ba(Kt(x)),m.u=T,m.R=!0,pl(m,null)}function pl(m,x){m.F=Date.now(),ds(m),m.B=Kt(m.A);var T=m.B,O=m.S;Array.isArray(O)||(O=[String(O)]),bl(T.i,"t",O),m.C=0,T=m.j.L,m.h=new $r,m.g=sf(m.j,T?x:null,!m.u),m.P>0&&(m.O=new Dn(f(m.Y,m,m.g),m.P)),x=m.V,T=m.g,O=m.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(uu[0]=Z.toString()),Z=uu);for(let te=0;te<Z.length;te++){const pe=He(T,Z[te],O||x.handleEvent,!1,x.h||x);if(!pe)break;x.g[pe.key]=pe}x=m.J?M(m.J):{},m.u?(m.v||(m.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,x)):(m.v="GET",m.g.ea(m.B,m.v,null,x)),as(),Ug(m.i,m.v,m.B,m.l,m.S,m.u)}Ur.prototype.ba=function(m){m=m.target;const x=this.O;x&&qr(m)==3?x.j():this.Y(m)},Ur.prototype.Y=function(m){try{if(m==this.g)e:{const ze=qr(this.g),zt=this.g.ya(),at=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||ze!=4||zt==7||(zt==8||at<=0?as(3):as(2)),hs(this);var x=this.g.ca();this.X=x;var T=Fg(this);if(this.o=x==200,Fh(this.i,this.v,this.B,this.l,this.S,ze,x),this.o){if(this.U&&!this.L){t:{if(this.g){var O,Z=this.g;if((O=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(O)){var te=O;break t}}te=null}if(m=te)cs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fs(this,m);else{this.o=!1,this.m=3,qt(12),Jn(this),pr(this);break e}}if(this.R){m=!0;let Tt;for(;!this.K&&this.C<T.length;)if(Tt=Hh(this,T),Tt==cn){ze==4&&(this.m=4,qt(14),m=!1),cs(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Ht){this.m=4,qt(15),cs(this.i,this.l,T,"[Invalid Chunk]"),m=!1;break}else cs(this.i,this.l,Tt,null),fs(this,Tt);if(qh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||T.length!=0||this.h.h||(this.m=1,qt(16),m=!1),this.o=this.o&&m,!m)cs(this.i,this.l,T,"[Invalid Chunked Response]"),Jn(this),pr(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ru(pe),pe.P=!0,qt(11))}}else cs(this.i,this.l,T,null),fs(this,T);ze==4&&Jn(this),this.o&&!this.K&&(ze==4?ef(this.j,this):(this.o=!1,ds(this)))}else Hs(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Jn(this),pr(this)}}}catch{}};function Fg(m){if(!qh(m))return m.g.la();const x=gn(m.g);if(x==="")return"";let T="";const O=x.length,Z=qr(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Jn(m),pr(m),"";m.h.i=new l.TextDecoder}for(let te=0;te<O;te++)m.h.h=!0,T+=m.h.i.decode(x[te],{stream:!(Z&&te==O-1)});return x.length=0,m.h.g+=T,m.C=0,m.h.g}function qh(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Hh(m,x){var T=m.C,O=x.indexOf(`
`,T);return O==-1?cn:(T=Number(x.substring(T,O)),isNaN(T)?Ht:(O+=1,O+T>x.length?cn:(x=x.slice(O,O+T),m.C=O+T,x)))}Ur.prototype.cancel=function(){this.K=!0,Jn(this)};function ds(m){m.T=Date.now()+m.H,gl(m,m.H)}function gl(m,x){if(m.D!=null)throw Error("WatchDog timer not null");m.D=ls(f(m.aa,m),x)}function hs(m){m.D&&(l.clearTimeout(m.D),m.D=null)}Ur.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Ua(this.i,this.B),this.M!=2&&(as(),qt(17)),Jn(this),this.m=2,pr(this)):gl(this,this.T-m)};function pr(m){m.j.I==0||m.K||ef(m.j,m)}function Jn(m){hs(m);var x=m.O;x&&typeof x.dispose=="function"&&x.dispose(),m.O=null,du(m.V),m.g&&(x=m.g,m.g=null,x.abort(),x.dispose())}function fs(m,x){try{var T=m.j;if(T.I!=0&&(T.g==m||ps(T.h,m))){if(!m.L&&ps(T.h,m)&&T.I==3){try{var O=T.Ba.g.parse(x)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Z=O;if(Z[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<m.F)Tl(T),Mi(T);else break e;Ya(T),qt(18)}}else T.xa=Z[1],0<T.xa-T.K&&Z[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ls(f(T.Va,T),6e3));ms(T.h)<=1&&T.ta&&(T.ta=void 0)}else xs(T,11)}else if((m.L||T.g==m)&&Tl(T),!P(x))for(Z=T.Ba.g.parse(x),x=0;x<Z.length;x++){let at=Z[x];const Tt=at[0];if(!(Tt<=T.K))if(T.K=Tt,at=at[1],T.I==2)if(at[0]=="c"){T.M=at[1],T.ba=at[2];const vr=at[3];vr!=null&&(T.ka=vr,T.j.info("VER="+T.ka));const ws=at[4];ws!=null&&(T.za=ws,T.j.info("SVER="+T.za));const Hr=at[5];Hr!=null&&typeof Hr=="number"&&Hr>0&&(O=1.5*Hr,T.O=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const Gr=m.g;if(Gr){const Wa=Gr.g?Gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var te=O.h;te.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(gu(te,te.h),te.h=null))}if(O.G){const Sl=Gr.g?Gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Sl&&(O.wa=Sl,ct(O.J,O.G,Sl))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-m.F,T.j.info("Handshake RTT: "+T.T+"ms")),O=T;var pe=m;if(O.na=rf(O,O.L?O.ba:null,O.W),pe.L){yu(O.h,pe);var ze=pe,zt=O.O;zt&&(ze.H=zt),ze.D&&(hs(ze),ds(ze)),O.g=pe}else Xh(O);T.i.length>0&&_s(T)}else at[0]!="stop"&&at[0]!="close"||xs(T,7);else T.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?xs(T,7):Au(T):at[0]!="noop"&&T.l&&T.l.qa(at),T.A=0)}}as(4)}catch{}}var Gt=class{constructor(m,x){this.g=m,this.map=x}};function mu(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pu(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ms(m){return m.h?1:m.g?m.g.size:0}function ps(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function gu(m,x){m.g?m.g.add(x):m.h=x}function yu(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}mu.prototype.cancel=function(){if(this.i=vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function vu(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const T of m.g.values())x=x.concat(T.G);return x}return E(m.i)}var Gh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yl(m,x){if(m){m=m.split("&");for(let T=0;T<m.length;T++){const O=m[T].indexOf("=");let Z,te=null;O>=0?(Z=m[T].substring(0,O),te=m[T].substring(O+1)):Z=m[T],x(Z,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function er(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;m instanceof er?(this.l=m.l,un(this,m.j),this.o=m.o,this.g=m.g,Ri(this,m.u),this.h=m.h,bu(this,Yh(m.i)),this.m=m.m):m&&(x=String(m).match(Gh))?(this.l=!1,un(this,x[1]||"",!0),this.o=gs(x[2]||""),this.g=gs(x[3]||"",!0),Ri(this,x[4]),this.h=gs(x[5]||"",!0),bu(this,x[6]||"",!0),this.m=gs(x[7]||"")):(this.l=!1,this.i=new Ni(null,this.l))}er.prototype.toString=function(){const m=[];var x=this.j;x&&m.push(qa(x,vl,!0),":");var T=this.g;return(T||x=="file")&&(m.push("//"),(x=this.o)&&m.push(qa(x,vl,!0),"@"),m.push(Bs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&m.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(qa(T,T.charAt(0)=="/"?_u:Kh,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",qa(T,Qh)),m.join("")},er.prototype.resolve=function(m){const x=Kt(this);let T=!!m.j;T?un(x,m.j):T=!!m.o,T?x.o=m.o:T=!!m.g,T?x.g=m.g:T=m.u!=null;var O=m.h;if(T)Ri(x,m.u);else if(T=!!m.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var Z=x.h.lastIndexOf("/");Z!=-1&&(O=x.h.slice(0,Z+1)+O)}if(Z=O,Z==".."||Z==".")O="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){O=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const te=[];for(let pe=0;pe<Z.length;){const ze=Z[pe++];ze=="."?O&&pe==Z.length&&te.push(""):ze==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),O&&pe==Z.length&&te.push("")):(te.push(ze),O=!0)}O=te.join("/")}else O=Z}return T?x.h=O:T=m.i.toString()!=="",T?bu(x,Yh(m.i)):T=!!m.m,T&&(x.m=m.m),x};function Kt(m){return new er(m)}function un(m,x,T){m.j=T?gs(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function Ri(m,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);m.u=x}else m.u=null}function bu(m,x,T){x instanceof Ni?(m.i=x,_l(m.i,m.l)):(T||(x=qa(x,Ci)),m.i=new Ni(x,m.l))}function ct(m,x,T){m.i.set(x,T)}function Ba(m){return ct(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function gs(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function qa(m,x,T){return typeof m=="string"?(m=encodeURI(m).replace(x,Bn),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Bn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var vl=/[#\/\?@]/g,Kh=/[#\?:]/g,_u=/[#\?]/g,Ci=/[#\?@]/g,Qh=/#/g;function Ni(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function qn(m){m.g||(m.g=new Map,m.h=0,m.i&&yl(m.i,function(x,T){m.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=Ni.prototype,t.add=function(m,x){qn(this),this.i=null,m=Di(this,m);let T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(x),this.h+=1,this};function Zh(m,x){qn(m),x=Di(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function xu(m,x){return qn(m),x=Di(m,x),m.g.has(x)}t.forEach=function(m,x){qn(this),this.g.forEach(function(T,O){T.forEach(function(Z){m.call(x,Z,O,this)},this)},this)};function wu(m,x){qn(m);let T=[];if(typeof x=="string")xu(m,x)&&(T=T.concat(m.g.get(Di(m,x))));else for(m=Array.from(m.g.values()),x=0;x<m.length;x++)T=T.concat(m[x]);return T}t.set=function(m,x){return qn(this),this.i=null,m=Di(this,m),xu(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},t.get=function(m,x){return m?(m=wu(this,m),m.length>0?String(m[0]):x):x};function bl(m,x,T){Zh(m,x),T.length>0&&(m.i=null,m.g.set(Di(m,x),E(T)),m.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(let O=0;O<x.length;O++){var T=x[O];const Z=Bs(T);T=wu(this,T);for(let te=0;te<T.length;te++){let pe=Z;T[te]!==""&&(pe+="="+Bs(T[te])),m.push(pe)}}return this.i=m.join("&")};function Yh(m){const x=new Ni;return x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),x}function Di(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function _l(m,x){x&&!m.j&&(qn(m),m.i=null,m.g.forEach(function(T,O){const Z=O.toLowerCase();O!=Z&&(Zh(this,O),bl(this,Z,T))},m)),m.j=x}function Fr(m,x){const T=new zr;if(l.Image){const O=new Image;O.onload=y(gr,T,"TestLoadImage: loaded",!0,x,O),O.onerror=y(gr,T,"TestLoadImage: error",!1,x,O),O.onabort=y(gr,T,"TestLoadImage: abort",!1,x,O),O.ontimeout=y(gr,T,"TestLoadImage: timeout",!1,x,O),l.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=m}else x(!1)}function Eu(m,x){const T=new zr,O=new AbortController,Z=setTimeout(()=>{O.abort(),gr(T,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:O.signal}).then(te=>{clearTimeout(Z),te.ok?gr(T,"TestPingServer: ok",!0,x):gr(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Z),gr(T,"TestPingServer: error",!1,x)})}function gr(m,x,T,O,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),O(T)}catch{}}function Oi(){this.g=new Vh}function ys(m){this.i=m.Sb||null,this.h=m.ab||!1}b(ys,Lh),ys.prototype.g=function(){return new Ha(this.i,this.h)};function Ha(m,x){Bt.call(this),this.H=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ha,Bt),t=Ha.prototype,t.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=x,this.readyState=1,Br(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(x.body=m),(this.H||l).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ki(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xl(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function xl(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?ki(this):Br(this),this.readyState==3&&xl(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,ki(this))},t.Na=function(m){this.g&&(this.response=m,ki(this))},t.ga=function(){this.g&&ki(this)};function ki(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Br(m)}t.setRequestHeader=function(m,x){this.A.append(m,x)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=x.next();return m.join(`\r
`)};function Br(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function yr(m){let x="";return ye(m,function(T,O){x+=O,x+=":",x+=T,x+=`\r
`}),x}function Ga(m,x,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=yr(T),typeof m=="string"?T!=null&&Bs(T):ct(m,x,T))}function yt(m){Bt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(yt,Bt);var vs=/^https?$/i,Tu=["POST","PUT"];t=yt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,x,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fu.g(),this.g.onreadystatechange=_(f(this.Ca,this));try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(te){Ka(this,te);return}if(m=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Z in O)T.set(Z,O[Z]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const te of O.keys())T.set(te,O.get(te));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(te=>te.toLowerCase()=="content-type"),Z=l.FormData&&m instanceof l.FormData,!(Array.prototype.indexOf.call(Tu,x,void 0)>=0)||O||Z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,pe]of T)this.g.setRequestHeader(te,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(te){Ka(this,te)}};function Ka(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.o=5,Su(m),qs(m)}function Su(m){m.A||(m.A=!0,nn(m,"complete"),nn(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,nn(this,"complete"),nn(this,"abort"),qs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qs(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qa(this):this.Xa())},t.Xa=function(){Qa(this)};function Qa(m){if(m.h&&typeof o<"u"){if(m.v&&qr(m)==4)setTimeout(m.Ca.bind(m),0);else if(nn(m,"readystatechange"),qr(m)==4){m.h=!1;try{const te=m.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var O;if(O=te===0){let pe=String(m.D).match(Gh)[1]||null;!pe&&l.self&&l.self.location&&(pe=l.self.location.protocol.slice(0,-1)),O=!vs.test(pe?pe.toLowerCase():"")}T=O}if(T)nn(m,"complete"),nn(m,"success");else{m.o=6;try{var Z=qr(m)>2?m.g.statusText:""}catch{Z=""}m.l=Z+" ["+m.ca()+"]",Su(m)}}finally{qs(m)}}}}function qs(m,x){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const T=m.g;m.g=null,x||nn(m,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function qr(m){return m.g?m.g.readyState:0}t.ca=function(){try{return qr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),zg(x)}};function gn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Hs(m){const x={};m=(m.g&&qr(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<m.length;O++){if(P(m[O]))continue;var T=Bh(m[O]);const Z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const te=x[Z]||[];x[Z]=te,te.push(T)}be(x,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(m,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||x}function Pi(m){this.za=0,this.i=[],this.j=new zr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bs("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bs("baseRetryDelayMs",5e3,m),this.Za=bs("retryDelaySeedMs",1e4,m),this.Ta=bs("forwardChannelMaxRetries",2,m),this.va=bs("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new mu(m&&m.concurrentRequestLimit),this.Ba=new Oi,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Pi.prototype,t.ka=8,t.I=1,t.connect=function(m,x,T,O){qt(0),this.W=m,this.H=x||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.J=rf(this,null,this.W),_s(this)};function Au(m){if(wl(m),m.I==3){var x=m.V++,T=Kt(m.J);if(ct(T,"SID",m.M),ct(T,"RID",x),ct(T,"TYPE","terminate"),Za(m,T),x=new Ur(m,m.j,x),x.M=2,x.A=Ba(Kt(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&l.Image&&(new Image().src=x.A,T=!0),T||(x.g=sf(x.j,null),x.g.ea(x.A)),x.F=Date.now(),ds(x)}nf(m)}function Mi(m){m.g&&(Ru(m),m.g.cancel(),m.g=null)}function wl(m){Mi(m),m.v&&(l.clearTimeout(m.v),m.v=null),Tl(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&l.clearTimeout(m.m),m.m=null)}function _s(m){if(!pu(m.h)&&!m.m){m.m=!0;var x=m.Ea;W||I(),re||(W(),re=!0),C.add(x,m),m.D=0}}function El(m,x){return ms(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=x.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=ls(f(m.Ea,m,x),tf(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Z=new Ur(this,this.j,m);let te=this.o;if(this.U&&(te?(te=M(te),se(te,this.U)):te=this.U),this.u!==null||this.R||(Z.J=te,te=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(x+=O,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=Wh(this,Z,x),T=Kt(this.J),ct(T,"RID",m),ct(T,"CVER",22),this.G&&ct(T,"X-HTTP-Session-Id",this.G),Za(this,T),te&&(this.R?x="headers="+Bs(yr(te))+"&"+x:this.u&&Ga(T,this.u,te)),gu(this.h,Z),this.Ra&&ct(T,"TYPE","init"),this.S?(ct(T,"$req",x),ct(T,"SID","null"),Z.U=!0,us(Z,T,null)):us(Z,T,x),this.I=2}}else this.I==3&&(m?Iu(this,m):this.i.length==0||pu(this.h)||Iu(this))};function Iu(m,x){var T;x?T=x.l:T=m.V++;const O=Kt(m.J);ct(O,"SID",m.M),ct(O,"RID",T),ct(O,"AID",m.K),Za(m,O),m.u&&m.o&&Ga(O,m.u,m.o),T=new Ur(m,m.j,T,m.D+1),m.u===null&&(T.J=m.o),x&&(m.i=x.G.concat(m.i)),x=Wh(m,T,1e3),T.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),gu(m.h,T),us(T,O,x)}function Za(m,x){m.H&&ye(m.H,function(T,O){ct(x,O,T)}),m.l&&ye({},function(T,O){ct(x,O,T)})}function Wh(m,x,T){T=Math.min(m.i.length,T);const O=m.l?f(m.l.Ka,m.l,m):null;e:{var Z=m.i;let ze=-1;for(;;){const zt=["count="+T];ze==-1?T>0?(ze=Z[0].g,zt.push("ofs="+ze)):ze=0:zt.push("ofs="+ze);let at=!0;for(let Tt=0;Tt<T;Tt++){var te=Z[Tt].g;const vr=Z[Tt].map;if(te-=ze,te<0)ze=Math.max(0,Z[Tt].g-100),at=!1;else try{te="req"+te+"_"||"";try{var pe=vr instanceof Map?vr:Object.entries(vr);for(const[ws,Hr]of pe){let Gr=Hr;u(Hr)&&(Gr=Ii(Hr)),zt.push(te+ws+"="+encodeURIComponent(Gr))}}catch(ws){throw zt.push(te+"type="+encodeURIComponent("_badmap")),ws}}catch{O&&O(vr)}}if(at){pe=zt.join("&");break e}}pe=void 0}return m=m.i.splice(0,T),x.G=m,pe}function Xh(m){if(!m.g&&!m.v){m.Y=1;var x=m.Da;W||I(),re||(W(),re=!0),C.add(x,m),m.A=0}}function Ya(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=ls(f(m.Da,m),tf(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Jh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=ls(f(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),Mi(this),Jh(this))};function Ru(m){m.B!=null&&(l.clearTimeout(m.B),m.B=null)}function Jh(m){m.g=new Ur(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var x=Kt(m.na);ct(x,"RID","rpc"),ct(x,"SID",m.M),ct(x,"AID",m.K),ct(x,"CI",m.F?"0":"1"),!m.F&&m.ia&&ct(x,"TO",m.ia),ct(x,"TYPE","xmlhttp"),Za(m,x),m.u&&m.o&&Ga(x,m.u,m.o),m.O&&(m.g.H=m.O);var T=m.g;m=m.ba,T.M=1,T.A=Ba(Kt(x)),T.u=null,T.R=!0,pl(T,m)}t.Va=function(){this.C!=null&&(this.C=null,Mi(this),Ya(this),qt(19))};function Tl(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function ef(m,x){var T=null;if(m.g==x){Tl(m),Ru(m),m.g=null;var O=2}else if(ps(m.h,x))T=x.G,yu(m.h,x),O=1;else return;if(m.I!=0){if(x.o)if(O==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var Z=m.D;O=ml(),nn(O,new os(O,T)),_s(m)}else Xh(m);else if(Z=x.m,Z==3||Z==0&&x.X>0||!(O==1&&El(m,x)||O==2&&Ya(m)))switch(T&&T.length>0&&(x=m.h,x.i=x.i.concat(T)),Z){case 1:xs(m,5);break;case 4:xs(m,10);break;case 3:xs(m,6);break;default:xs(m,2)}}}function tf(m,x){let T=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(T*=2),T*x}function xs(m,x){if(m.j.info("Error code "+x),x==2){var T=f(m.bb,m),O=m.Ua;const Z=!O;O=new er(O||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||un(O,"https"),Ba(O),Z?Fr(O.toString(),T):Eu(O.toString(),T)}else qt(2);m.I=0,m.l&&m.l.pa(x),nf(m),wl(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function nf(m){if(m.I=0,m.ja=[],m.l){const x=vu(m.h);(x.length!=0||m.i.length!=0)&&(A(m.ja,x),A(m.ja,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.oa()}}function rf(m,x,T){var O=T instanceof er?Kt(T):new er(T);if(O.g!="")x&&(O.g=x+"."+O.g),Ri(O,O.u);else{var Z=l.location;O=Z.protocol,x=x?x+"."+Z.hostname:Z.hostname,Z=+Z.port;const te=new er(null);O&&un(te,O),x&&(te.g=x),Z&&Ri(te,Z),T&&(te.h=T),O=te}return T=m.G,x=m.wa,T&&x&&ct(O,T,x),ct(O,"VER",m.ka),Za(m,O),O}function sf(m,x,T){if(x&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Aa&&!m.ma?new yt(new ys({ab:T})):new yt(m.ma),x.Fa(m.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function af(){}t=af.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ji(){}ji.prototype.g=function(m,x){return new On(m,x)};function On(m,x){Bt.call(this),this.g=new Pi(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(m?m["X-WebChannel-Client-Profile"]=x.sa:m={"X-WebChannel-Client-Profile":x.sa}),this.g.U=m,(m=x&&x.Qb)&&!P(m)&&(this.g.u=m),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!P(x)&&(this.g.G=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new Gs(this)}b(On,Bt),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){Au(this.g)},On.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.v&&(T={},T.__data__=Ii(m),m=T);x.i.push(new Gt(x.Ya++,m)),x.I==3&&_s(x)},On.prototype.N=function(){this.g.l=null,delete this.j,Au(this.g),delete this.g,On.Z.N.call(this)};function of(m){pn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const T in x){m=T;break e}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}b(of,pn);function lf(){mr.call(this),this.status=1}b(lf,mr);function Gs(m){this.g=m}b(Gs,af),Gs.prototype.ra=function(){nn(this.g,"a")},Gs.prototype.qa=function(m){nn(this.g,new of(m))},Gs.prototype.pa=function(m){nn(this.g,new lf)},Gs.prototype.oa=function(){nn(this.g,"b")},ji.prototype.createWebChannel=ji.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,hC=function(){return new ji},dC=function(){return ml()},uC=Lt,zb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$a.NO_ERROR=0,$a.TIMEOUT=8,$a.HTTP_ERROR=6,Mm=$a,hu.COMPLETE="complete",cC=hu,zh.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",Bt.prototype.listen=Bt.prototype.J,xd=zh,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,lC=yt}).apply(typeof gm<"u"?gm:typeof self<"u"?self:typeof window<"u"?window:{});const z1="@firebase/firestore",U1="4.9.3";class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let Qc="12.7.0";const qo=new q_("@firebase/firestore");function cc(){return qo.logLevel}function he(t,...e){if(qo.logLevel<=We.DEBUG){const n=e.map(Q_);qo.debug(`Firestore (${Qc}): ${t}`,...n)}}function Vn(t,...e){if(qo.logLevel<=We.ERROR){const n=e.map(Q_);qo.error(`Firestore (${Qc}): ${t}`,...n)}}function Ho(t,...e){if(qo.logLevel<=We.WARN){const n=e.map(Q_);qo.warn(`Firestore (${Qc}): ${t}`,...n)}}function Q_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fC(t,r,n)}function fC(t,e,n){let r=`FIRESTORE (${Qc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vn(r),new Error(r)}function Re(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||fC(e,i,r)}function Ve(t,e){return t}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class mC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class w3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class E3{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ds,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},u=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ds)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new mC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class T3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new T3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function I3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Z_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=I3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function Ub(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return eb(i)===eb(o)?je(i,o):eb(i)?1:-1}return je(t.length,e.length)}const R3=55296,C3=57343;function eb(t){const e=t.charCodeAt(0);return e>=R3&&e<=C3}function Sc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function pC(t){return t+"\0"}const F1="__name__";class Rs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Rs.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return je(e.length,n.length)}static compareSegments(e,n){const r=Rs.isNumericId(e),i=Rs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Rs.extractNumericId(e).compare(Rs.extractNumericId(n)):Ub(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class it extends Rs{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const N3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Rs{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return N3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F1}static keyField(){return new Nt([F1])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}function gC(t,e,n){if(!n)throw new fe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function D3(t,e,n,r){if(e===!0&&r===!0)throw new fe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B1(t){if(!ge.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function q1(t){if(ge.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function dr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(t);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function O3(t,e){if(e<=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function gh(t,e){if(!yC(t))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new fe(ie.INVALID_ARGUMENT,n);return!0}const H1=-62135596800,G1=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*G1);return new ht(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H1)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G1}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gh(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Jt("string",ht._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new ht(0,0))}static max(){return new De(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gd=-1;class op{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function $b(t){return t.fields.find((e=>e.kind===2))}function yo(t){return t.fields.filter((e=>e.kind!==2))}op.UNKNOWN_ID=-1;class jm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Kd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Kd(0,fr.min())}}function k3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new fr(i,ge.empty(),e)}function vC(t){return new fr(t.readTime,t.key,Gd)}class fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fr(De.min(),ge.empty(),Gd)}static max(){return new fr(De.max(),ge.empty(),Gd)}}function Y_(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}const bC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _C{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ol(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==bC)throw t;he("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):K.reject(n)}static resolve(e){return new K(((n,r)=>{n(e)}))}static reject(e){return new K(((n,r)=>{r(e)}))}static waitFor(e){return new K(((n,r)=>{let i=0,o=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++o,l&&o===i&&n()}),(h=>r(h)))})),l=!0,o===i&&n()}))}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next((i=>i?K.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new K(((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next((y=>{l[f]=y,++u,u===o&&r(l)}),(y=>i(y)))}}))}static doWhile(e,n){return new K(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}const lr="SimpleDb";class Jp{static open(e,n,r,i){try{return new Jp(n,e.transaction(i,r))}catch(o){throw new Od(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ds,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Od(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=W_(r.target.error);this.S.reject(new Od(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(he(lr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new M3(n)}}class _a{static delete(e){return he(lr,"Removing database:",e),_o(GR().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!tC())return!1;if(_a.F())return!0;const e=on(),n=_a.M(e),r=0<n&&n<10,i=xC(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,_a.M(on())===12.2&&Vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(he(lr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const l=o.target.result;n(l)},i.onblocked=()=>{r(new Od(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const l=o.target.error;l.name==="VersionError"?r(new fe(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new fe(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Od(e,l))},i.onupgradeneeded=o=>{he(lr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;this.N.k(l,i.transaction,o.oldVersion,this.version).next((()=>{he(lr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=Jp.open(this.db,e,o?"readonly":"readwrite",r),h=i(u).next((f=>(u.C(),f))).catch((f=>(u.abort(f),K.reject(f)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,f=h.name!=="FirebaseError"&&l<3;if(he(lr,"Transaction failed with error:",h.message,"Retrying:",f),this.close(),!f)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function xC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class P3{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return _o(this.U.delete())}}class Od extends fe{constructor(e,n){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Na(t){return t.name==="IndexedDbTransactionError"}class M3{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(he(lr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(he(lr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),_o(r)}add(e){return he(lr,"ADD",this.store.name,e,e),_o(this.store.add(e))}get(e){return _o(this.store.get(e)).next((n=>(n===void 0&&(n=null),he(lr,"GET",this.store.name,e,n),n)))}delete(e){return he(lr,"DELETE",this.store.name,e),_o(this.store.delete(e))}count(){return he(lr,"COUNT",this.store.name),_o(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new K(((l,u)=>{o.onerror=h=>{u(h.target.error)},o.onsuccess=h=>{l(h.target.result)}}))}{const o=this.cursor(r),l=[];return this.H(o,((u,h)=>{l.push(h)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new K(((i,o)=>{r.onerror=l=>{o(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){he(lr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((o,l,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new K(((r,i)=>{n.onerror=o=>{const l=W_(o.target.error);i(l)},n.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}H(e,n){const r=[];return new K(((i,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const h=new P3(u),f=n(u.primaryKey,u.value,h);if(f instanceof K){const y=f.catch((b=>(h.done(),K.reject(b))));r.push(y)}h.isDone?i():h.G===null?u.continue():u.continue(h.G)}})).next((()=>K.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function _o(t){return new K(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=W_(r.target.error);n(i)}}))}let K1=!1;function W_(t){const e=_a.M(on());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return K1||(K1=!0,setTimeout((()=>{throw r}),0)),r}}return t}const kd="IndexBackfiller";class j3{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){he(kd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();he(kd,`Documents written: ${n}`)}catch(n){Na(n)?he(kd,"Ignoring IndexedDB error during index backfill: ",n):await ol(n)}await this.re(6e4)}))}}class V3{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,o=!0;return K.doWhile((()=>o===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return he(kd,`Processing collection: ${l}`),this.oe(e,l,i).next((u=>{i-=u,r.add(l)}));o=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,o))).next((u=>(he(kd,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,o)=>{const l=vC(o);Y_(l,r)>0&&(r=l)})),new fr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Nr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nr.ce=-1;const Oo=-1;function eg(t){return t==null}function Qd(t){return t===0&&1/t==-1/0}function L3(t){return typeof t=="number"&&Number.isInteger(t)&&!Qd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const lp="";function Cn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Q1(e)),e=z3(t.get(n),e);return Q1(e)}function z3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case lp:n+="";break;default:n+=o}}return n}function Q1(t){return t+lp+""}function Cs(t){const e=t.length;if(Re(e>=2,64408,{path:t}),e===2)return Re(t.charAt(0)===lp&&t.charAt(1)==="",56145,{path:t}),it.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const l=t.indexOf(lp,o);switch((l<0||l>n)&&Ae(50515,{path:t}),t.charAt(l+1)){case"":const u=t.substring(o,l);let h;i.length===0?h=u:(i+=u,h=i,i=""),r.push(h);break;case"":i+=t.substring(o,l),i+="\0";break;case"":i+=t.substring(o,l+1);break;default:Ae(61167,{path:t})}o=l+2}return new it(r)}const vo="remoteDocuments",yh="owner",nc="owner",Zd="mutationQueues",U3="userId",Wr="mutations",Z1="batchId",Ao="userMutationsIndex",Y1=["userId","batchId"];function Vm(t,e){return[t,Cn(e)]}function wC(t,e,n){return[t,Cn(e),n]}const $3={},Ac="documentMutations",cp="remoteDocumentsV14",F3=["prefixPath","collectionGroup","readTime","documentId"],Lm="documentKeyIndex",B3=["prefixPath","collectionGroup","documentId"],EC="collectionGroupIndex",q3=["collectionGroup","readTime","prefixPath","documentId"],Yd="remoteDocumentGlobal",Fb="remoteDocumentGlobalKey",Ic="targets",TC="queryTargetsIndex",H3=["canonicalId","targetId"],Rc="targetDocuments",G3=["targetId","path"],X_="documentTargetsIndex",K3=["path","targetId"],up="targetGlobalKey",ko="targetGlobal",Wd="collectionParents",Q3=["collectionId","parent"],Cc="clientMetadata",Z3="clientId",tg="bundles",Y3="bundleId",ng="namedQueries",W3="name",J_="indexConfiguration",X3="indexId",Bb="collectionGroupIndex",J3="collectionGroup",Pd="indexState",eL=["indexId","uid"],SC="sequenceNumberIndex",tL=["uid","sequenceNumber"],Md="indexEntries",nL=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],AC="documentKeyIndex",rL=["indexId","uid","orderedDocumentKey"],rg="documentOverlays",sL=["userId","collectionPath","documentId"],qb="collectionPathOverlayIndex",iL=["userId","collectionPath","largestBatchId"],IC="collectionGroupOverlayIndex",aL=["userId","collectionGroup","largestBatchId"],ex="globals",oL="name",RC=[Zd,Wr,Ac,vo,Ic,yh,ko,Rc,Cc,Yd,Wd,tg,ng],lL=[...RC,rg],CC=[Zd,Wr,Ac,cp,Ic,yh,ko,Rc,Cc,Yd,Wd,tg,ng,rg],NC=CC,tx=[...NC,J_,Pd,Md],cL=tx,DC=[...tx,ex],uL=DC;class Hb extends _C{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function ln(t,e){const n=Ve(t);return _a.O(n.le,e)}function W1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ll(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class It{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ym(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ym(this.root,e,this.comparator,!1)}getReverseIterator(){return new ym(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ym(this.root,e,this.comparator,!0)}}class ym{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=o??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new wn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X1(this.data.getIterator())}getIteratorFrom(e){return new X1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class X1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rc(t){return t.hasNext()?t.getNext():void 0}class Dr{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Dr([])}unionWith(e){let n=new pt(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class kC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new kC("Invalid base64 string: "+o):o}})(e);return new en(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const dL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=dL.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vi(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}const PC="server_timestamp",MC="__type__",jC="__previous_value__",VC="__local_write_time__";function sg(t){return(t?.mapValue?.fields||{})[MC]?.stringValue===PC}function ig(t){const e=t.mapValue.fields[jC];return sg(e)?ig(e):e}function Xd(t){const e=yi(t.mapValue.fields[VC].timestampValue);return new ht(e.seconds,e.nanos)}class hL{constructor(e,n,r,i,o,l,u,h,f,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=y}}const dp="(default)";class Go{constructor(e,n){this.projectId=e,this.database=n||dp}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database===dp}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}const nx="__type__",LC="__max__",ma={mapValue:{fields:{__type__:{stringValue:LC}}}},rx="__vector__",Nc="value",zm={nullValue:"NULL_VALUE"};function wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sg(t)?4:zC(t)?9007199254740991:ag(t)?10:11:Ae(28295,{value:t})}function Vs(t,e){if(t===e)return!0;const n=wa(t);if(n!==wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xd(t).isEqual(Xd(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=yi(i.timestampValue),u=yi(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return vi(i.bytesValue).isEqual(vi(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return At(i.geoPointValue.latitude)===At(o.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return At(i.integerValue)===At(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=At(i.doubleValue),u=At(o.doubleValue);return l===u?Qd(l)===Qd(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Sc(t.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(W1(l)!==W1(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Vs(l[h],u[h])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function Jd(t,e){return(t.values||[]).find((n=>Vs(n,e)))!==void 0}function Ea(t,e){if(t===e)return 0;const n=wa(t),r=wa(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=At(o.integerValue||o.doubleValue),h=At(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return J1(t.timestampValue,e.timestampValue);case 4:return J1(Xd(t),Xd(e));case 5:return Ub(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=vi(o),h=vi(l);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const y=je(u[f],h[f]);if(y!==0)return y}return je(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=je(At(o.latitude),At(l.latitude));return u!==0?u:je(At(o.longitude),At(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return eS(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const u=o.fields||{},h=l.fields||{},f=u[Nc]?.arrayValue,y=h[Nc]?.arrayValue,b=je(f?.values?.length||0,y?.values?.length||0);return b!==0?b:eS(f,y)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===ma.mapValue&&l===ma.mapValue)return 0;if(o===ma.mapValue)return 1;if(l===ma.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=l.fields||{},y=Object.keys(f);h.sort(),y.sort();for(let b=0;b<h.length&&b<y.length;++b){const _=Ub(h[b],y[b]);if(_!==0)return _;const E=Ea(u[h[b]],f[y[b]]);if(E!==0)return E}return je(h.length,y.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function J1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=yi(t),r=yi(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function eS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ea(n[i],r[i]);if(o)return o}return je(n.length,r.length)}function Dc(t){return Gb(t)}function Gb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=yi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return vi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Gb(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Gb(n.fields[l])}`;return i+"}"})(t.mapValue):Ae(61005,{value:t})}function Um(t){switch(wa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ig(t);return e?16+Um(e):16;case 5:return 2*t.stringValue.length;case 6:return vi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Um(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ll(r.fields,((o,l)=>{i+=o.length+Um(l)})),i})(t.mapValue);default:throw Ae(13486,{value:t})}}function Ko(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kb(t){return!!t&&"integerValue"in t}function eh(t){return!!t&&"arrayValue"in t}function tS(t){return!!t&&"nullValue"in t}function nS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $m(t){return!!t&&"mapValue"in t}function ag(t){return(t?.mapValue?.fields||{})[nx]?.stringValue===rx}function jd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ll(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=jd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jd(t.arrayValue.values[n]);return e}return{...t}}function zC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LC}const UC={mapValue:{fields:{[nx]:{stringValue:rx},[Nc]:{arrayValue:{}}}}};function fL(t){return"nullValue"in t?zm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ko(Go.empty(),ge.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?ag(t)?UC:{mapValue:{}}:Ae(35942,{value:t})}function mL(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ko(Go.empty(),ge.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?UC:"mapValue"in t?ag(t)?{mapValue:{}}:ma:Ae(61959,{value:t})}function rS(t,e){const n=Ea(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function sS(t,e){const n=Ea(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$m(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=jd(l):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());$m(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$m(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ll(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Yn(jd(this.value))}}function $C(t){const e=[];return ll(t.fields,((n,r)=>{const i=new Nt([n]);if($m(r)){const o=$C(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new Dr(e)}class Mt{constructor(e,n,r,i,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Mt(e,0,De.min(),De.min(),De.min(),Yn.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,De.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,De.min(),De.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,De.min(),De.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ta{constructor(e,n){this.position=e,this.inclusive=n}}function iS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=ge.comparator(ge.fromName(l.referenceValue),n.key):r=Ea(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function aS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vs(t.position[n],e.position[n]))return!1;return!0}class hp{constructor(e,n="asc"){this.field=e,this.dir=n}}function pL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class FC{}class Xe extends FC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gL(e,n,r):n==="array-contains"?new bL(e,r):n==="in"?new QC(e,r):n==="not-in"?new _L(e,r):n==="array-contains-any"?new xL(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yL(e,r):new vL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ea(n,this.value)):n!==null&&wa(this.value)===wa(n)&&this.matchesComparison(Ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ft extends FC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ft(e,n)}matches(e){return Oc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Oc(t){return t.op==="and"}function Qb(t){return t.op==="or"}function sx(t){return BC(t)&&Oc(t)}function BC(t){for(const e of t.filters)if(e instanceof ft)return!1;return!0}function Zb(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+Dc(t.value);if(sx(t))return t.filters.map((e=>Zb(e))).join(",");{const e=t.filters.map((n=>Zb(n))).join(",");return`${t.op}(${e})`}}function qC(t,e){return t instanceof Xe?(function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Vs(r.value,i.value)})(t,e):t instanceof ft?(function(r,i){return i instanceof ft&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,u)=>o&&qC(l,i.filters[u])),!0):!1})(t,e):void Ae(19439)}function HC(t,e){const n=t.filters.concat(e);return ft.create(n,t.op)}function GC(t){return t instanceof Xe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Dc(n.value)}`})(t):t instanceof ft?(function(n){return n.op.toString()+" {"+n.getFilters().map(GC).join(" ,")+"}"})(t):"Filter"}class gL extends Xe{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class yL extends Xe{constructor(e,n){super(e,"in",n),this.keys=KC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vL extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=KC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function KC(t,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class bL extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eh(n)&&Jd(n.arrayValue,this.value)}}class QC extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jd(this.value.arrayValue,n)}}class _L extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jd(this.value.arrayValue,n)}}class xL extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Jd(this.value.arrayValue,r)))}}class wL{constructor(e,n=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function Yb(t,e=null,n=[],r=[],i=null,o=null,l=null){return new wL(t,e,n,r,i,o,l)}function Qo(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Zb(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),eg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Dc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Dc(r))).join(",")),e.Te=n}return e.Te}function vh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aS(t.startAt,e.startAt)&&aS(t.endAt,e.endAt)}function fp(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function mp(t,e){return t.filters.filter((n=>n instanceof Xe&&n.field.isEqual(e)))}function oS(t,e,n){let r=zm,i=!0;for(const o of mp(t,e)){let l=zm,u=!0;switch(o.op){case"<":case"<=":l=fL(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,u=!1;break;case"!=":case"not-in":l=zm}rS({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const l=n.position[o];rS({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function lS(t,e,n){let r=ma,i=!0;for(const o of mp(t,e)){let l=ma,u=!0;switch(o.op){case">=":case">":l=mL(o.value),u=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,u=!1;break;case"!=":case"not-in":l=ma}sS({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const l=n.position[o];sS({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}class Zc{constructor(e,n=null,r=[],i=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EL(t,e,n,r,i,o,l,u){return new Zc(t,e,n,r,i,o,l,u)}function bh(t){return new Zc(t)}function cS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ix(t){return t.collectionGroup!==null}function gc(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new pt(Nt.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new hp(o,r))})),n.has(Nt.keyField().canonicalString())||e.Ie.push(new hp(Nt.keyField(),r))}return e.Ie}function Or(t){const e=Ve(t);return e.Ee||(e.Ee=TL(e,gc(t))),e.Ee}function TL(t,e){if(t.limitType==="F")return Yb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new hp(i.field,o)}));const n=t.endAt?new Ta(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ta(t.startAt.position,t.startAt.inclusive):null;return Yb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wb(t,e){const n=t.filters.concat([e]);return new Zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pp(t,e,n){return new Zc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function og(t,e){return vh(Or(t),Or(e))&&t.limitType===e.limitType}function ZC(t){return`${Qo(Or(t))}|lt:${t.limitType}`}function uc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>GC(i))).join(", ")}]`),eg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Dc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Dc(i))).join(",")),`Target(${r})`})(Or(t))}; limitType=${t.limitType})`}function _h(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ge.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of gc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,h){const f=iS(l,u,h);return l.inclusive?f<=0:f<0})(r.startAt,gc(r),i)||r.endAt&&!(function(l,u,h){const f=iS(l,u,h);return l.inclusive?f>=0:f>0})(r.endAt,gc(r),i))})(t,e)}function SL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YC(t){return(e,n)=>{let r=!1;for(const i of gc(t)){const o=AL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function AL(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):(function(o,l,u){const h=l.data.field(o),f=u.data.field(o);return h!==null&&f!==null?Ea(h,f):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:t.dir})}}class wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ll(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return OC(this.inner)}size(){return this.innerSize}}const IL=new It(ge.comparator);function ur(){return IL}const WC=new It(ge.comparator);function wd(...t){let e=WC;for(const n of t)e=e.insert(n.key,n);return e}function XC(t){let e=WC;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ns(){return Vd()}function JC(){return Vd()}function Vd(){return new wi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const RL=new It(ge.comparator),CL=new pt(ge.comparator);function qe(...t){let e=CL;for(const n of t)e=e.add(n);return e}const NL=new pt(je);function DL(){return NL}function ax(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qd(e)?"-0":e}}function eN(t){return{integerValue:""+t}}function OL(t,e){return L3(e)?eN(e):ax(t,e)}class lg{constructor(){this._=void 0}}function kL(t,e,n){return t instanceof kc?(function(i,o){const l={fields:{[MC]:{stringValue:PC},[VC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&sg(o)&&(o=ig(o)),o&&(l.fields[jC]=o),{mapValue:l}})(n,e):t instanceof Pc?nN(t,e):t instanceof Mc?rN(t,e):(function(i,o){const l=tN(i,o),u=uS(l)+uS(i.Ae);return Kb(l)&&Kb(i.Ae)?eN(u):ax(i.serializer,u)})(t,e)}function PL(t,e,n){return t instanceof Pc?nN(t,e):t instanceof Mc?rN(t,e):n}function tN(t,e){return t instanceof th?(function(r){return Kb(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class kc extends lg{}class Pc extends lg{constructor(e){super(),this.elements=e}}function nN(t,e){const n=sN(e);for(const r of t.elements)n.some((i=>Vs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Mc extends lg{constructor(e){super(),this.elements=e}}function rN(t,e){let n=sN(e);for(const r of t.elements)n=n.filter((i=>!Vs(i,r)));return{arrayValue:{values:n}}}class th extends lg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function uS(t){return At(t.integerValue||t.doubleValue)}function sN(t){return eh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class iN{constructor(e,n){this.field=e,this.transform=n}}function ML(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Pc&&i instanceof Pc||r instanceof Mc&&i instanceof Mc?Sc(r.elements,i.elements,Vs):r instanceof th&&i instanceof th?Vs(r.Ae,i.Ae):r instanceof kc&&i instanceof kc})(t.transform,e.transform)}class jL{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cg{}function aN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ug(t.key,Ln.none()):new Yc(t.key,t.data,Ln.none());{const n=t.data,r=Yn.empty();let i=new pt(Nt.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Da(t.key,r,new Dr(i.toArray()),Ln.none())}}function VL(t,e,n){t instanceof Yc?(function(i,o,l){const u=i.value.clone(),h=hS(i.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Da?(function(i,o,l){if(!Fm(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=hS(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(oN(i)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Ld(t,e,n,r){return t instanceof Yc?(function(o,l,u,h){if(!Fm(o.precondition,l))return u;const f=o.value.clone(),y=fS(o.fieldTransforms,h,l);return f.setAll(y),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Da?(function(o,l,u,h){if(!Fm(o.precondition,l))return u;const f=fS(o.fieldTransforms,h,l),y=l.data;return y.setAll(oN(o)),y.setAll(f),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(o,l,u){return Fm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function LL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=tN(r.transform,i||null);o!=null&&(n===null&&(n=Yn.empty()),n.set(r.field,o))}return n||null}function dS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Sc(r,i,((o,l)=>ML(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yc extends cg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Da extends cg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function oN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function hS(t,e,n){const r=new Map;Re(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,PL(l,u,n[i]))}return r}function fS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,kL(o,l,e))}return r}class ug extends cg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lN extends cg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ox{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&VL(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ld(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ld(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JC();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(i.key)?null:u;const h=aN(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Sc(this.mutations,e.mutations,((n,r)=>dS(n,r)))&&Sc(this.baseMutations,e.baseMutations,((n,r)=>dS(n,r)))}}class lx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return RL})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new lx(e,n,r,i)}}class cx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zL{constructor(e,n){this.count=e,this.unchangedNames=n}}var Xt,nt;function UL(t){switch(t){case ie.OK:return Ae(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function cN(t){if(t===void 0)return Vn("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Xt.OK:return ie.OK;case Xt.CANCELLED:return ie.CANCELLED;case Xt.UNKNOWN:return ie.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return ie.INTERNAL;case Xt.UNAVAILABLE:return ie.UNAVAILABLE;case Xt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Xt.NOT_FOUND:return ie.NOT_FOUND;case Xt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Xt.ABORTED:return ie.ABORTED;case Xt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Xt.DATA_LOSS:return ie.DATA_LOSS;default:return Ae(39323,{code:t})}}(nt=Xt||(Xt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";function $L(){return new TextEncoder}const FL=new ba([4294967295,4294967295],0);function mS(t){const e=$L().encode(t),n=new oC;return n.update(e),new Uint8Array(n.digest())}function pS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ba([n,r],0),new ba([i,o],0)]}class ux{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ed(`Invalid padding: ${n}`);if(r<0)throw new Ed(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ed(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ed(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ba.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ba.fromNumber(r)));return i.compare(FL)===1&&(i=new ba([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=mS(e),[r,i]=pS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new ux(o,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=mS(e),[r,i]=pS(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ed extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dg(De.min(),i,new It(je),ur(),qe())}}class xh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xh(r,n,qe(),qe(),qe())}}class Bm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class uN{constructor(e,n){this.targetId=e,this.Ce=n}}class dN{constructor(e,n,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gS{constructor(){this.ve=0,this.Fe=yS(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),r=qe();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ae(38017,{changeType:o})}})),new xh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=yS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BL{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.Je=vm(),this.He=vm(),this.Ye=new It(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(fp(o))if(r===0){const l=new ge(o.path);this.et(n,l,Mt.newNoDocument(l,De.min()))}else Re(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,u;try{l=vi(r).toUint8Array()}catch(h){if(h instanceof kC)return Ho("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new ux(l,i,o)}catch(h){return Ho(h instanceof Ed?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&fp(u.target)){const h=new ge(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Mt.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=qe();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new dg(e,n,this.Ye,this.je,r);return this.je=ur(),this.Je=vm(),this.He=vm(),this.Ye=new It(je),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new gS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function vm(){return new It(ge.comparator)}function yS(){return new It(ge.comparator)}const qL={asc:"ASCENDING",desc:"DESCENDING"},HL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GL={and:"AND",or:"OR"};class KL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xb(t,e){return t.useProto3Json||eg(e)?e:{value:e}}function jc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QL(t,e){return jc(t,e.toTimestamp())}function $n(t){return Re(!!t,49232),De.fromTimestamp((function(n){const r=yi(n);return new ht(r.seconds,r.nanos)})(t))}function dx(t,e){return Jb(t,e).canonicalString()}function Jb(t,e){const n=(function(i){return new it(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function fN(t){const e=it.fromString(t);return Re(wN(e),10190,{key:e.toString()}),e}function gp(t,e){return dx(t.databaseId,e.path)}function Po(t,e){const n=fN(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(gN(n))}function mN(t,e){return dx(t.databaseId,e)}function pN(t){const e=fN(t);return e.length===4?it.emptyPath():gN(e)}function e_(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gN(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vS(t,e,n){return{name:gp(t,e),fields:n.value.mapValue.fields}}function ZL(t,e,n){const r=Po(t,e.name),i=$n(e.updateTime),o=e.createTime?$n(e.createTime):De.min(),l=new Yn({mapValue:{fields:e.fields}}),u=Mt.newFoundDocument(r,i,o,l);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function YL(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ae(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,y){return f.useProto3Json?(Re(y===void 0||typeof y=="string",58123),en.fromBase64String(y||"")):(Re(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),en.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const y=f.code===void 0?ie.UNKNOWN:cN(f.code);return new fe(y,f.message||"")})(l);n=new dN(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Po(t,r.document.name),o=$n(r.document.updateTime),l=r.document.createTime?$n(r.document.createTime):De.min(),u=new Yn({mapValue:{fields:r.document.fields}}),h=Mt.newFoundDocument(i,o,l,u),f=r.targetIds||[],y=r.removedTargetIds||[];n=new Bm(f,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Po(t,r.document),o=r.readTime?$n(r.readTime):De.min(),l=Mt.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Bm([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Po(t,r.document),o=r.removedTargetIds||[];n=new Bm([],o,i,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new zL(i,o),u=r.targetId;n=new uN(u,l)}}return n}function yp(t,e){let n;if(e instanceof Yc)n={update:vS(t,e.key,e.value)};else if(e instanceof ug)n={delete:gp(t,e.key)};else if(e instanceof Da)n={update:vS(t,e.key,e.data),updateMask:nz(e.fieldMask)};else{if(!(e instanceof lN))return Ae(16599,{Vt:e.type});n={verify:gp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof kc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Pc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Mc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof th)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ae(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:QL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae(27497)})(t,e.precondition)),n}function t_(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Ln.updateTime($n(o.updateTime)):o.exists!==void 0?Ln.exists(o.exists):Ln.none()})(e.currentDocument):Ln.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,u){let h=null;if("setToServerValue"in u)Re(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),h=new kc;else if("appendMissingElements"in u){const y=u.appendMissingElements.values||[];h=new Pc(y)}else if("removeAllFromArray"in u){const y=u.removeAllFromArray.values||[];h=new Mc(y)}else"increment"in u?h=new th(l,u.increment):Ae(16584,{proto:u});const f=Nt.fromServerFormat(u.fieldPath);return new iN(f,h)})(t,i))):[];if(e.update){e.update.name;const i=Po(t,e.update.name),o=new Yn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(h){const f=h.fieldPaths||[];return new Dr(f.map((y=>Nt.fromServerFormat(y))))})(e.updateMask);return new Da(i,o,l,n,r)}return new Yc(i,o,n,r)}if(e.delete){const i=Po(t,e.delete);return new ug(i,n)}if(e.verify){const i=Po(t,e.verify);return new lN(i,n)}return Ae(1463,{proto:e})}function WL(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?$n(i.updateTime):$n(o);return l.isEqual(De.min())&&(l=$n(o)),new jL(l,i.transformResults||[])})(n,e)))):[]}function yN(t,e){return{documents:[mN(t,e.path)]}}function vN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mN(t,i);const o=(function(f){if(f.length!==0)return xN(ft.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((y=>(function(_){return{field:dc(_.field),direction:JL(_.dir)}})(y)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Xb(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function bN(t){let e=pN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1,65062);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=(function(b){const _=_N(b);return _ instanceof ft&&sx(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(b){return b.map((_=>(function(A){return new hp(hc(A.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(_)))})(n.orderBy));let u=null;n.limit&&(u=(function(b){let _;return _=typeof b=="object"?b.value:b,eg(_)?null:_})(n.limit));let h=null;n.startAt&&(h=(function(b){const _=!!b.before,E=b.values||[];return new Ta(E,_)})(n.startAt));let f=null;return n.endAt&&(f=(function(b){const _=!b.before,E=b.values||[];return new Ta(E,_)})(n.endAt)),EL(e,i,l,o,u,"F",h,f)}function XL(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _N(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hc(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hc(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=hc(n.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=hc(n.unaryFilter.field);return Xe.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xe.create(hc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ft.create(n.compositeFilter.filters.map((r=>_N(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function JL(t){return qL[t]}function ez(t){return HL[t]}function tz(t){return GL[t]}function dc(t){return{fieldPath:t.canonicalString()}}function hc(t){return Nt.fromServerFormat(t.fieldPath)}function xN(t){return t instanceof Xe?(function(n){if(n.op==="=="){if(nS(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NAN"}};if(tS(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nS(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NOT_NAN"}};if(tS(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dc(n.field),op:ez(n.op),value:n.value}}})(t):t instanceof ft?(function(n){const r=n.getFilters().map((i=>xN(i)));return r.length===1?r[0]:{compositeFilter:{op:tz(n.op),filters:r}}})(t):Ae(54877,{filter:t})}function nz(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function wN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class ui{constructor(e,n,r,i,o=De.min(),l=De.min(),u=en.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class EN{constructor(e){this.yt=e}}function rz(t,e){let n;if(e.document)n=ZL(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ge.fromSegments(e.noDocument.path),i=Yo(e.noDocument.readTime);n=Mt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ae(56709);{const r=ge.fromSegments(e.unknownDocument.path),i=Yo(e.unknownDocument.version);n=Mt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const o=new ht(i[0],i[1]);return De.fromTimestamp(o)})(e.readTime)),n}function bS(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:vp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,l){return{name:gp(o,l.key),fields:l.data.value.mapValue.fields,updateTime:jc(o,l.version.toTimestamp()),createTime:jc(o,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Zo(e.version)};else{if(!e.isUnknownDocument())return Ae(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Zo(e.version)}}return r}function vp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Zo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Yo(t){const e=new ht(t.seconds,t.nanoseconds);return De.fromTimestamp(e)}function xo(t,e){const n=(e.baseMutations||[]).map((o=>t_(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const u=e.mutations[o+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>t_(t.yt,o))),i=ht.fromMillis(e.localWriteTimeMs);return new ox(e.batchId,i,n,r)}function Td(t){const e=Yo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Yo(t.lastLimboFreeSnapshotVersion):De.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const l=o.documents.length;return Re(l===1,1966,{count:l}),Or(bh(pN(o.documents[0])))})(t.query):(function(o){return Or(bN(o))})(t.query),new ui(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,en.fromBase64String(t.resumeToken))}function TN(t,e){const n=Zo(e.snapshotVersion),r=Zo(e.lastLimboFreeSnapshotVersion);let i;i=fp(e.target)?yN(t.yt,e.target):vN(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qo(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function SN(t){const e=bN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pp(e,e.limit,"L"):e}function tb(t,e){return new cx(e.largestBatchId,t_(t.yt,e.overlayMutation))}function _S(t,e){const n=e.path.lastSegment();return[t,Cn(e.path.popLast()),n]}function xS(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Zo(r.readTime),documentKey:Cn(r.documentKey.path),largestBatchId:r.largestBatchId}}class sz{getBundleMetadata(e,n){return wS(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:Yo(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return wS(e).put((function(i){return{bundleId:i.id,createTime:Zo($n(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return ES(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:SN(o.bundledQuery),readTime:Yo(o.readTime)}})(r)}))}saveNamedQuery(e,n){return ES(e).put((function(i){return{name:i.name,readTime:Zo($n(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function wS(t){return ln(t,tg)}function ES(t){return ln(t,ng)}class hg{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new hg(e,r)}getOverlay(e,n){return pd(e).get(_S(this.userId,n)).next((r=>r?tb(this.serializer,r):null))}getOverlays(e,n){const r=Ns();return K.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((o,l)=>{const u=new cx(n,l);i.push(this.St(e,u))})),K.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(Cn(l.getCollectionPath()))));const o=[];return i.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);o.push(pd(e).Z(qb,u))})),K.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Ns(),o=Cn(n),l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return pd(e).J(qb,l).next((u=>{for(const h of u){const f=tb(this.serializer,h);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const o=Ns();let l;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return pd(e).ee({index:IC,range:u},((h,f,y)=>{const b=tb(this.serializer,f);o.size()<i||b.largestBatchId===l?(o.set(b.getKey(),b),l=b.largestBatchId):y.done()})).next((()=>o))}St(e,n){return pd(e).put((function(i,o,l){const[u,h,f]=_S(o,l.mutation.key);return{userId:o,collectionPath:h,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:yp(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function pd(t){return ln(t,rg)}class iz{bt(e){return ln(e,ex)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?en.fromUint8Array(r):en.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class wo{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(At(e.integerValue));else if("doubleValue"in e){const r=At(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Qd(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=yi(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(vi(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?zC(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):ag(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ae(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=Nc,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(At(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),ge.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}wo.Kt=new wo;const sc=255;function az(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function TS(t){const e=64-(function(r){let i=0;for(let o=0;o<8;++o){const l=az(255&r[o]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class oz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=TS(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=TS(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(sc),this.sn(255)}_n(){this.an(sc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===sc?(this.sn(sc),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===sc?(this.an(sc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class lz{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class cz{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class gd{constructor(){this.cn=new oz,this.ln=new lz(this.cn),this.hn=new cz(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Eo{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Eo(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:qm(this.En),directionalValue:qm(this.dn),orderedDocumentKey:qm(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function aa(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=SS(t.En,e.En),n!==0?n:(n=SS(t.dn,e.dn),n!==0?n:ge.comparator(t.In,e.In)))}function SS(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function qm(t){return eC()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function AS(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class IS{constructor(e){this.mn=new pt(((n,r)=>Nt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Re(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=$b(e);if(n!==void 0&&!this.wn(n))return!1;const r=yo(e);let i=new Set,o=0,l=0;for(;o<r.length&&this.wn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const h=r[o];if(!this.Sn(u,h)||!this.bn(this.fn[l++],h))return!1}++o}for(;o<r.length;++o){const u=r[o];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new pt(Nt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new jm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new jm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new jm(r.field,r.dir==="asc"?0:1)));return new op(op.UNKNOWN_ID,this.collectionId,n,Kd.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function AN(t){if(Re(t instanceof Xe||t instanceof ft,20012),t instanceof Xe){if(t instanceof QC){const n=t.value.arrayValue?.values?.map((r=>Xe.create(t.field,"==",r)))||[];return ft.create(n,"or")}return t}const e=t.filters.map((n=>AN(n)));return ft.create(e,t.op)}function uz(t){if(t.getFilters().length===0)return[];const e=s_(AN(t));return Re(IN(e),7391),n_(e)||r_(e)?[e]:e.getFilters()}function n_(t){return t instanceof Xe}function r_(t){return t instanceof ft&&sx(t)}function IN(t){return n_(t)||r_(t)||(function(n){if(n instanceof ft&&Qb(n)){for(const r of n.getFilters())if(!n_(r)&&!r_(r))return!1;return!0}return!1})(t)}function s_(t){if(Re(t instanceof Xe||t instanceof ft,34018),t instanceof Xe)return t;if(t.filters.length===1)return s_(t.filters[0]);const e=t.filters.map((r=>s_(r)));let n=ft.create(e,t.op);return n=bp(n),IN(n)?n:(Re(n instanceof ft,64498),Re(Oc(n),40251),Re(n.filters.length>1,57927),n.filters.reduce(((r,i)=>hx(r,i))))}function hx(t,e){let n;return Re(t instanceof Xe||t instanceof ft,38388),Re(e instanceof Xe||e instanceof ft,25473),n=t instanceof Xe?e instanceof Xe?(function(i,o){return ft.create([i,o],"and")})(t,e):RS(t,e):e instanceof Xe?RS(e,t):(function(i,o){if(Re(i.filters.length>0&&o.filters.length>0,48005),Oc(i)&&Oc(o))return HC(i,o.getFilters());const l=Qb(i)?i:o,u=Qb(i)?o:i,h=l.filters.map((f=>hx(f,u)));return ft.create(h,"or")})(t,e),bp(n)}function RS(t,e){if(Oc(e))return HC(e,t.getFilters());{const n=e.filters.map((r=>hx(t,r)));return ft.create(n,"or")}}function bp(t){if(Re(t instanceof Xe||t instanceof ft,11850),t instanceof Xe)return t;const e=t.getFilters();if(e.length===1)return bp(e[0]);if(BC(t))return t;const n=e.map((i=>bp(i))),r=[];return n.forEach((i=>{i instanceof Xe?r.push(i):i instanceof ft&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:ft.create(r,t.op)}class dz{constructor(){this.Cn=new fx}addToCollectionParentIndex(e,n){return this.Cn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(fr.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class fx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(it.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(it.comparator)).toArray()}}const CS="IndexedDbIndexManager",bm=new Uint8Array(0);class hz{constructor(e,n){this.databaseId=n,this.vn=new fx,this.Fn=new wi((r=>Qo(r)),((r,i)=>vh(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:Cn(i)};return NS(e).put(o)}return K.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[pC(n),""],!1,!0);return NS(e).J(i).next((o=>{for(const l of o){if(l.collectionId!==n)break;r.push(Cs(l.parent))}return r}))}addFieldIndex(e,n){const r=yd(e),i=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(n);delete i.indexId;const o=r.add(i);if(n.indexState){const l=ac(e);return o.next((u=>{l.put(xS(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=yd(e),i=ac(e),o=ic(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=yd(e),r=ic(e),i=ac(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return K.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const o=new IS(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=ic(e);let i=!0;const o=new Map;return K.forEach(this.Mn(n),(l=>this.xn(e,l).next((u=>{i&&(i=!!u),o.set(l,u)})))).next((()=>{if(i){let l=qe();const u=[];return K.forEach(o,((h,f)=>{he(CS,`Using index ${(function($){return`id=${$.indexId}|cg=${$.collectionGroup}|f=${$.fields.map((Q=>`${Q.fieldPath}:${Q.kind}`)).join(",")}`})(h)} to execute ${Qo(n)}`);const y=(function($,Q){const W=$b(Q);if(W===void 0)return null;for(const re of mp($,W.fieldPath))switch(re.op){case"array-contains-any":return re.value.arrayValue.values||[];case"array-contains":return[re.value]}return null})(f,h),b=(function($,Q){const W=new Map;for(const re of yo(Q))for(const C of mp($,re.fieldPath))switch(C.op){case"==":case"in":W.set(re.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return W.set(re.fieldPath.canonicalString(),C.value),Array.from(W.values())}return null})(f,h),_=(function($,Q){const W=[];let re=!0;for(const C of yo(Q)){const I=C.kind===0?oS($,C.fieldPath,$.startAt):lS($,C.fieldPath,$.startAt);W.push(I.value),re&&(re=I.inclusive)}return new Ta(W,re)})(f,h),E=(function($,Q){const W=[];let re=!0;for(const C of yo(Q)){const I=C.kind===0?lS($,C.fieldPath,$.endAt):oS($,C.fieldPath,$.endAt);W.push(I.value),re&&(re=I.inclusive)}return new Ta(W,re)})(f,h),A=this.On(h,f,_),R=this.On(h,f,E),D=this.Nn(h,f,b),L=this.Bn(h.indexId,y,A,_.inclusive,R,E.inclusive,D);return K.forEach(L,(F=>r.Y(F,n.limit).next(($=>{$.forEach((Q=>{const W=ge.fromSegments(Q.documentKey);l.has(W)||(l=l.add(W),u.push(W))}))}))))})).next((()=>u))}return K.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=uz(ft.create(e.filters,"and")).map((r=>Yb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,o,l,u){const h=(n!=null?n.length:1)*Math.max(r.length,o.length),f=h/(n!=null?n.length:1),y=[];for(let b=0;b<h;++b){const _=n?this.Ln(n[b/f]):bm,E=this.kn(e,_,r[b%f],i),A=this.qn(e,_,o[b%f],l),R=u.map((D=>this.kn(e,_,D,!0)));y.push(...this.createRange(E,A,R))}return y}kn(e,n,r,i){const o=new Eo(e,ge.empty(),n,r);return i?o:o.An()}qn(e,n,r,i){const o=new Eo(e,ge.empty(),n,r);return i?o.An():o}xn(e,n){const r=new IS(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((o=>{let l=null;for(const u of o)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return K.forEach(i,(o=>this.xn(e,o).next((l=>{l?r!==0&&l.fields.length<(function(h){let f=new pt(Nt.comparator),y=!1;for(const b of h.filters)for(const _ of b.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?y=!0:f=f.add(_.field));for(const b of h.orderBy)b.field.isKeyField()||(f=f.add(b.field));return f.size+(y?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new gd;for(const i of yo(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const l=r.Pn(i.kind);wo.Kt.Dt(o,l)}return r.un()}Ln(e){const n=new gd;return wo.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new gd;return wo.Kt.Dt(Ko(this.databaseId,n),r.Pn((function(o){const l=yo(o);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new gd);let o=0;for(const l of yo(e)){const u=r[o++];for(const h of i)if(this.Un(n,l.fieldPath)&&eh(u))i=this.Kn(i,l,u);else{const f=h.Pn(l.kind);wo.Kt.Dt(u,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],o=[];for(const l of r.arrayValue.values||[])for(const u of i){const h=new gd;h.seed(u.un()),wo.Kt.Dt(l,h.Pn(n.kind)),o.push(h)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof Xe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=yd(e),i=ac(e);return(n?r.J(Bb,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const l=[];return K.forEach(o,(u=>i.get([u.indexId,this.uid]).next((h=>{l.push((function(y,b){const _=b?new Kd(b.sequenceNumber,new fr(Yo(b.readTime),new ge(Cs(b.documentKey)),b.largestBatchId)):Kd.empty(),E=y.fields.map((([A,R])=>new jm(Nt.fromServerFormat(A),R)));return new op(y.indexId,y.collectionGroup,E,_)})(u,h))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:je(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=yd(e),o=ac(e);return this.Gn(e).next((l=>i.J(Bb,IDBKeyRange.bound(n,n)).next((u=>K.forEach(u,(h=>o.put(xS(h.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return K.forEach(n,((i,o)=>{const l=r.get(i.collectionGroup);return(l?K.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((u=>(r.set(i.collectionGroup,u),K.forEach(u,(h=>this.zn(e,i,h).next((f=>{const y=this.jn(o,h);return f.isEqual(y)?K.resolve():this.Jn(e,o,h,f,y)})))))))}))}Hn(e,n,r,i){return ic(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return ic(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=ic(e);let o=new pt(aa);return i.ee({index:AC,range:IDBKeyRange.only([r.indexId,this.uid,qm(this.$n(r,n))])},((l,u)=>{o=o.add(new Eo(r.indexId,n,AS(u.arrayValue),AS(u.directionalValue)))})).next((()=>o))}jn(e,n){let r=new pt(aa);const i=this.Qn(n,e);if(i==null)return r;const o=$b(n);if(o!=null){const l=e.data.field(o.fieldPath);if(eh(l))for(const u of l.arrayValue.values||[])r=r.add(new Eo(n.indexId,e.key,this.Ln(u),i))}else r=r.add(new Eo(n.indexId,e.key,bm,i));return r}Jn(e,n,r,i,o){he(CS,"Updating index entries for document '%s'",n.key);const l=[];return(function(h,f,y,b,_){const E=h.getIterator(),A=f.getIterator();let R=rc(E),D=rc(A);for(;R||D;){let L=!1,F=!1;if(R&&D){const $=y(R,D);$<0?F=!0:$>0&&(L=!0)}else R!=null?F=!0:L=!0;L?(b(D),D=rc(A)):F?(_(R),R=rc(E)):(R=rc(E),D=rc(A))}})(i,o,aa,(u=>{l.push(this.Hn(e,n,r,u))}),(u=>{l.push(this.Yn(e,n,r,u))})),K.waitFor(l)}Gn(e){let n=1;return ac(e).ee({index:SC,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,o)=>{o.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,u)=>aa(l,u))).filter(((l,u,h)=>!u||aa(l,h[u-1])!==0));const i=[];i.push(e);for(const l of r){const u=aa(l,e),h=aa(l,n);if(u===0)i[0]=e.An();else if(u>0&&h<0)i.push(l),i.push(l.An());else if(h>0)break}i.push(n);const o=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const u=i[l].Vn(this.uid,bm,ge.empty()),h=i[l+1].Vn(this.uid,bm,ge.empty());o.push(IDBKeyRange.bound(u,h))}return o}Zn(e,n){return aa(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(DS)}getMinOffset(e,n){return K.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Ae(44426))))).next(DS)}}function NS(t){return ln(t,Wd)}function ic(t){return ln(t,Md)}function yd(t){return ln(t,J_)}function ac(t){return ln(t,Pd)}function DS(t){Re(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Y_(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new fr(e.readTime,e.documentKey,n)}const OS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RN=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function CN(t,e,n){const r=t.store(Wr),i=t.store(Ac),o=[],l=IDBKeyRange.only(n.batchId);let u=0;const h=r.ee({range:l},((y,b,_)=>(u++,_.delete())));o.push(h.next((()=>{Re(u===1,47070,{batchId:n.batchId})})));const f=[];for(const y of n.mutations){const b=wC(e,y.key.path,n.batchId);o.push(i.delete(b)),f.push(y.key)}return K.waitFor(o).next((()=>f))}function _p(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ae(14731);e=t.noDocument}return JSON.stringify(e).length}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(RN,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class fg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Re(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new fg(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oa(e).ee({index:Ao,range:r},((i,o,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const o=fc(e),l=oa(e);return l.add({}).next((u=>{Re(typeof u=="number",49019);const h=new ox(u,n,r,i),f=(function(E,A,R){const D=R.baseMutations.map((F=>yp(E.yt,F))),L=R.mutations.map((F=>yp(E.yt,F)));return{userId:A,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:D,mutations:L}})(this.serializer,this.userId,h),y=[];let b=new pt(((_,E)=>je(_.canonicalString(),E.canonicalString())));for(const _ of i){const E=wC(this.userId,_.key.path,u);b=b.add(_.key.path.popLast()),y.push(l.put(f)),y.push(o.put(E,$3))}return b.forEach((_=>{y.push(this.indexManager.addToCollectionParentIndex(e,_))})),e.addOnCommittedListener((()=>{this.Xn[u]=h.keys()})),K.waitFor(y).next((()=>h))}))}lookupMutationBatch(e,n){return oa(e).get(n).next((r=>r?(Re(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),xo(this.serializer,r)):null))}er(e,n){return this.Xn[n]?K.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return oa(e).ee({index:Ao,range:i},((l,u,h)=>{u.userId===this.userId&&(Re(u.batchId>=r,47524,{tr:r}),o=xo(this.serializer,u)),h.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Oo;return oa(e).ee({index:Ao,range:n,reverse:!0},((i,o,l)=>{r=o.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Oo],[this.userId,Number.POSITIVE_INFINITY]);return oa(e).J(Ao,n).next((r=>r.map((i=>xo(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Vm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return fc(e).ee({range:i},((l,u,h)=>{const[f,y,b]=l,_=Cs(y);if(f===this.userId&&n.path.isEqual(_))return oa(e).get(b).next((E=>{if(!E)throw Ae(61480,{nr:l,batchId:b});Re(E.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:E.userId,batchId:b}),o.push(xo(this.serializer,E))}));h.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(je);const i=[];return n.forEach((o=>{const l=Vm(this.userId,o.path),u=IDBKeyRange.lowerBound(l),h=fc(e).ee({range:u},((f,y,b)=>{const[_,E,A]=f,R=Cs(E);_===this.userId&&o.path.isEqual(R)?r=r.add(A):b.done()}));i.push(h)})),K.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=Vm(this.userId,r),l=IDBKeyRange.lowerBound(o);let u=new pt(je);return fc(e).ee({range:l},((h,f,y)=>{const[b,_,E]=h,A=Cs(_);b===this.userId&&r.isPrefixOf(A)?A.length===i&&(u=u.add(E)):y.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],i=[];return n.forEach((o=>{i.push(oa(e).get(o).next((l=>{if(l===null)throw Ae(35274,{batchId:o});Re(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:o}),r.push(xo(this.serializer,l))})))})),K.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return CN(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),K.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return K.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return fc(e).ee({range:r},((o,l,u)=>{if(o[0]===this.userId){const h=Cs(o[1]);i.push(h)}else u.done()})).next((()=>{Re(i.length===0,56720,{sr:i.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return NN(e,this.userId,n)}_r(e){return DN(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Oo,lastStreamToken:""}))}}function NN(t,e,n){const r=Vm(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let l=!1;return fc(t).ee({range:o,X:!0},((u,h,f)=>{const[y,b,_]=u;y===e&&b===i&&(l=!0),f.done()})).next((()=>l))}function oa(t){return ln(t,Wr)}function fc(t){return ln(t,Ac)}function DN(t){return ln(t,Zd)}class Wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wo(0)}static cr(){return new Wo(-1)}}class fz{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Wo(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>De.fromTimestamp(new ht(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>oc(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Re(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const o=[];return oc(e).ee(((l,u)=>{const h=Td(u);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(i++,o.push(this.removeTargetData(e,h)))})).next((()=>K.waitFor(o))).next((()=>i))}forEachTarget(e,n){return oc(e).ee(((r,i)=>{const o=Td(i);n(o)}))}lr(e){return kS(e).get(up).next((n=>(Re(n!==null,2888),n)))}hr(e,n){return kS(e).put(up,n)}Pr(e,n){return oc(e).put(TN(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Qo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return oc(e).ee({range:i,index:TC},((l,u,h)=>{const f=Td(u);vh(n,f.target)&&(o=f,h.done())})).next((()=>o))}addMatchingKeys(e,n,r){const i=[],o=ua(e);return n.forEach((l=>{const u=Cn(l.path);i.push(o.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))})),K.waitFor(i)}removeMatchingKeys(e,n,r){const i=ua(e);return K.forEach(n,(o=>{const l=Cn(o.path);return K.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=ua(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ua(e);let o=qe();return i.ee({range:r,X:!0},((l,u,h)=>{const f=Cs(l[1]),y=new ge(f);o=o.add(y)})).next((()=>o))}containsKey(e,n){const r=Cn(n.path),i=IDBKeyRange.bound([r],[pC(r)],!1,!0);let o=0;return ua(e).ee({index:X_,X:!0,range:i},(([l,u],h,f)=>{l!==0&&(o++,f.done())})).next((()=>o>0))}At(e,n){return oc(e).get(n).next((r=>r?Td(r):null))}}function oc(t){return ln(t,Ic)}function kS(t){return ln(t,ko)}function ua(t){return ln(t,Rc)}const PS="LruGarbageCollector",mz=1048576;function MS([t,e],[n,r]){const i=je(t,n);return i===0?je(e,r):i}class pz{constructor(e){this.Ir=e,this.buffer=new pt(MS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();MS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ON{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(PS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Na(n)?he(PS,"Ignoring IndexedDB error during garbage collection: ",n):await ol(n)}await this.Vr(3e5)}))}}class gz{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return K.resolve(Nr.ce);const r=new pz(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(OS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,l,u,h,f;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,l=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(r=b,u=Date.now(),this.removeTargets(e,r,n)))).next((b=>(o=b,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(f=Date.now(),cc()<=We.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${b} documents in `+(f-h)+`ms
Total Duration: ${f-y}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:b}))))}}function kN(t,e){return new gz(t,e)}class yz{constructor(e,n){this.db=e,this.garbageCollector=kN(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return _m(e,r)}removeReference(e,n,r){return _m(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return _m(e,n)}br(e,n){return(function(i,o){let l=!1;return DN(i).te((u=>NN(i,u,o).next((h=>(h&&(l=!0),K.resolve(!h)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Sr(e,((l,u)=>{if(u<=n){const h=this.br(e,l).next((f=>{if(!f)return o++,r.getEntry(e,l).next((()=>(r.removeEntry(l,De.min()),ua(e).delete((function(b){return[0,Cn(b.path)]})(l)))))}));i.push(h)}})).next((()=>K.waitFor(i))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return _m(e,n)}Sr(e,n){const r=ua(e);let i,o=Nr.ce;return r.ee({index:X_},(([l,u],{path:h,sequenceNumber:f})=>{l===0?(o!==Nr.ce&&n(new ge(Cs(i)),o),o=f,i=h):o=Nr.ce})).next((()=>{o!==Nr.ce&&n(new ge(Cs(i)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _m(t,e){return ua(t).put((function(r,i){return{targetId:0,path:Cn(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class PN{constructor(){this.changes=new wi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return po(e).put(r)}removeEntry(e,n,r){return po(e).delete((function(o,l){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],vp(l),u[u.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Mt.newInvalidDocument(n);return po(e).ee({index:Lm,range:IDBKeyRange.only(vd(n))},((i,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Mt.newInvalidDocument(n)};return po(e).ee({index:Lm,range:IDBKeyRange.only(vd(n))},((i,o)=>{r={document:this.Cr(n,o),size:_p(o)}})).next((()=>r))}getEntries(e,n){let r=ur();return this.Fr(e,n,((i,o)=>{const l=this.Cr(i,o);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=ur(),i=new It(ge.comparator);return this.Fr(e,n,((o,l)=>{const u=this.Cr(o,l);r=r.insert(o,u),i=i.insert(o,_p(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return K.resolve();let i=new pt(LS);n.forEach((h=>i=i.add(h)));const o=IDBKeyRange.bound(vd(i.first()),vd(i.last())),l=i.getIterator();let u=l.getNext();return po(e).ee({index:Lm,range:o},((h,f,y)=>{const b=ge.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&LS(u,b)<0;)r(u,null),u=l.getNext();u&&u.isEqual(b)&&(r(u,f),u=l.hasNext()?l.getNext():null),u?y.j(vd(u)):y.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,o){const l=n.path,u=[l.popLast().toArray(),l.lastSegment(),vp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return po(e).J(IDBKeyRange.bound(u,h,!0)).next((f=>{o?.incrementDocumentReadCount(f.length);let y=ur();for(const b of f){const _=this.Cr(ge.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);_.isFoundDocument()&&(_h(n,_)||i.has(_.key))&&(y=y.insert(_.key,_))}return y}))}getAllFromCollectionGroup(e,n,r,i){let o=ur();const l=VS(n,r),u=VS(n,fr.max());return po(e).ee({index:EC,range:IDBKeyRange.bound(l,u,!0)},((h,f,y)=>{const b=this.Cr(ge.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(b.key,b),o.size===i&&y.done()})).next((()=>o))}newChangeBuffer(e){return new bz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return jS(e).get(Fb).next((n=>(Re(!!n,20021),n)))}Dr(e,n){return jS(e).put(Fb,n)}Cr(e,n){if(n){const r=rz(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(De.min())))return r}return Mt.newInvalidDocument(e)}}function MN(t){return new vz(t)}class bz extends PN{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new wi((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new pt(((o,l)=>je(o.canonicalString(),l.canonicalString())));return this.changes.forEach(((o,l)=>{const u=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,u.readTime)),l.isValidDocument()){const h=bS(this.Nr.serializer,l);i=i.add(o.path.popLast());const f=_p(h);r+=f-u.size,n.push(this.Nr.addEntry(e,o,h))}else if(r-=u.size,this.trackRemovals){const h=bS(this.Nr.serializer,l.convertToNoDocument(De.min()));n.push(this.Nr.addEntry(e,o,h))}})),i.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),K.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((o,l)=>{this.Br.set(o,{size:l,readTime:r.get(o).readTime})})),r)))}}function jS(t){return ln(t,Yd)}function po(t){return ln(t,cp)}function vd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function VS(t,e){const n=e.documentKey.path.toArray();return[t,vp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function LS(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=je(n[o],r[o]),i)return i;return i=je(n.length,r.length),i||(i=je(n[n.length-2],r[r.length-2]),i||je(n[n.length-1],r[r.length-1]))}class _z{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class jN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Ld(r.mutation,i,Dr.empty(),ht.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=qe()){const i=Ns();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=wd();return o.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ns();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,qe())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let o=ur();const l=Vd(),u=(function(){return Vd()})();return n.forEach(((h,f)=>{const y=r.get(f.key);i.has(f.key)&&(y===void 0||y.mutation instanceof Da)?o=o.insert(f.key,f):y!==void 0?(l.set(f.key,y.mutation.getFieldMask()),Ld(y.mutation,f,y.mutation.getFieldMask(),ht.now())):l.set(f.key,Dr.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,y)=>l.set(f,y))),n.forEach(((f,y)=>u.set(f,new _z(y,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Vd();let i=new It(((l,u)=>l-u)),o=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let y=r.get(h)||Dr.empty();y=u.applyToLocalView(f,y),r.set(h,y);const b=(i.get(u.batchId)||qe()).add(h);i=i.insert(u.batchId,b)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,y=h.value,b=JC();y.forEach((_=>{if(!o.has(_)){const E=aN(n.get(_),r.get(_));E!==null&&b.set(_,E),o=o.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,b))}return K.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ge.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ix(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):K.resolve(Ns());let u=Gd,h=o;return l.next((f=>K.forEach(f,((y,b)=>(u<b.largestBatchId&&(u=b.largestBatchId),o.get(y)?K.resolve():this.remoteDocumentCache.getEntry(e,y).next((_=>{h=h.insert(y,_)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,qe()))).next((y=>({batchId:u,changes:XC(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let i=wd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=wd();return this.indexManager.getCollectionParents(e,o).next((u=>K.forEach(u,(h=>{const f=(function(b,_){return new Zc(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((y=>{y.forEach(((b,_)=>{l=l.insert(b,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((h,f)=>{const y=f.getKey();l.get(y)===null&&(l=l.insert(y,Mt.newInvalidDocument(y)))}));let u=wd();return l.forEach(((h,f)=>{const y=o.get(h);y!==void 0&&Ld(y.mutation,f,Dr.empty(),ht.now()),_h(n,f)&&(u=u.insert(h,f))})),u}))}}class xz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return K.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:$n(i.createTime)}})(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:SN(i.bundledQuery),readTime:$n(i.readTime)}})(n)),K.resolve()}}class wz{constructor(){this.overlays=new It(ge.comparator),this.qr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ns();return K.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=Ns(),o=n.length+1,l=new ge(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new It(((f,y)=>f-y));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let y=o.get(f.largestBatchId);y===null&&(y=Ns(),o=o.insert(f.largestBatchId,y)),y.set(f.getKey(),f)}}const u=Ns(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,y)=>u.set(f,y))),!(u.size()>=i)););return K.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new cx(n,r));let o=this.qr.get(n);o===void 0&&(o=qe(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class Ez{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}class mx{constructor(){this.Qr=new pt(hn.$r),this.Ur=new pt(hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new hn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ge(new it([])),r=new hn(n,e),i=new hn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new it([])),r=new hn(n,e),i=new hn(n,e+1);let o=qe();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new hn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class Tz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(hn.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new ox(o,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new hn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return K.resolve(l)}lookupMutationBatch(e,n){return K.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Oo:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),i=new hn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);o.push(u)})),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(je);return n.forEach((i=>{const o=new hn(i,0),l=new hn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{r=r.add(u.Yr)}))})),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ge.isDocumentKey(o)||(o=o.child(""));const l=new hn(new ge(o),0);let u=new pt(je);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(h.Yr)),!0)}),l),K.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(n.mutations,(i=>{const o=new hn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new hn(n,0),i=this.Zr.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Sz{constructor(e){this.ri=e,this.docs=(function(){return new It(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=ur();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Mt.newInvalidDocument(i))})),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ur();const l=n.path,u=new ge(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:y}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||Y_(vC(y),r)<=0||(i.has(y.key)||_h(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ae(9500)}ii(e,n){return K.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Az(this)}getSize(e){return K.resolve(this.size)}}class Az extends PN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),K.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Iz{constructor(e){this.persistence=e,this.si=new wi((n=>Qo(n)),vh),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new mx,this.targetCount=0,this.ai=Wo.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),K.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Pr(n),K.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),K.waitFor(o).next((()=>i))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this._i.containsKey(n))}}class px{constructor(e,n){this.ui={},this.overlays={},this.ci=new Nr(0),this.li=!1,this.li=!0,this.hi=new Ez,this.referenceDelegate=e(this),this.Pi=new Iz(this),this.indexManager=new dz,this.remoteDocumentCache=(function(i){return new Sz(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new EN(n),this.Ii=new xz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Tz(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new Rz(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return K.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Rz extends _C{constructor(e){super(),this.currentSequenceNumber=e}}class mg{constructor(e){this.persistence=e,this.Ri=new mx,this.Vi=null}static mi(e){return new mg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(r=>{const i=ge.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return K.or([()=>K.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xp{constructor(e,n){this.persistence=e,this.pi=new wi((r=>Cn(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=kN(this,n)}static mi(e,n){return new xp(e,n)}Ei(){}di(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return K.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?K.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,o.removeEntry(l,De.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Um(e.data.value)),n}br(e,n,r){return K.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return K.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cz{constructor(e){this.serializer=e}k(e,n,r,i){const o=new Jp("createOrUpgrade",n);r<1&&i>=1&&((function(h){h.createObjectStore(yh)})(e),(function(h){h.createObjectStore(Zd,{keyPath:U3}),h.createObjectStore(Wr,{keyPath:Z1,autoIncrement:!0}).createIndex(Ao,Y1,{unique:!0}),h.createObjectStore(Ac)})(e),zS(e),(function(h){h.createObjectStore(vo)})(e));let l=K.resolve();return r<3&&i>=3&&(r!==0&&((function(h){h.deleteObjectStore(Rc),h.deleteObjectStore(Ic),h.deleteObjectStore(ko)})(e),zS(e)),l=l.next((()=>(function(h){const f=h.store(ko),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:De.min().toTimestamp(),targetCount:0};return f.put(up,y)})(o)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(h,f){return f.store(Wr).J().next((b=>{h.deleteObjectStore(Wr),h.createObjectStore(Wr,{keyPath:Z1,autoIncrement:!0}).createIndex(Ao,Y1,{unique:!0});const _=f.store(Wr),E=b.map((A=>_.put(A)));return K.waitFor(E)}))})(e,o)))),l=l.next((()=>{(function(h){h.createObjectStore(Cc,{keyPath:Z3})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(o)))),r<6&&i>=6&&(l=l.next((()=>((function(h){h.createObjectStore(Yd)})(e),this.wi(o))))),r<7&&i>=7&&(l=l.next((()=>this.Si(o)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,o)))),r<9&&i>=9&&(l=l.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(o)))),r<11&&i>=11&&(l=l.next((()=>{(function(h){h.createObjectStore(tg,{keyPath:Y3})})(e),(function(h){h.createObjectStore(ng,{keyPath:W3})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(h){const f=h.createObjectStore(rg,{keyPath:sL});f.createIndex(qb,iL,{unique:!1}),f.createIndex(IC,aL,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(h){const f=h.createObjectStore(cp,{keyPath:F3});f.createIndex(Lm,B3),f.createIndex(EC,q3)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(vo)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,o)))),r<15&&i>=15&&(l=l.next((()=>(function(h){h.createObjectStore(J_,{keyPath:X3,autoIncrement:!0}).createIndex(Bb,J3,{unique:!1}),h.createObjectStore(Pd,{keyPath:eL}).createIndex(SC,tL,{unique:!1}),h.createObjectStore(Md,{keyPath:nL}).createIndex(AC,rL,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(Pd).clear()})).next((()=>{n.objectStore(Md).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(h){h.createObjectStore(ex,{keyPath:oL})})(e)}))),r<18&&i>=18&&eC()&&(l=l.next((()=>{n.objectStore(Pd).clear()})).next((()=>{n.objectStore(Md).clear()}))),l}wi(e){let n=0;return e.store(vo).ee(((r,i)=>{n+=_p(i)})).next((()=>{const r={byteSize:n};return e.store(Yd).put(Fb,r)}))}yi(e){const n=e.store(Zd),r=e.store(Wr);return n.J().next((i=>K.forEach(i,(o=>{const l=IDBKeyRange.bound([o.userId,Oo],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Ao,l).next((u=>K.forEach(u,(h=>{Re(h.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const f=xo(this.serializer,h);return CN(e,o.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(Rc),r=e.store(vo);return e.store(ko).get(up).next((i=>{const o=[];return r.ee(((l,u)=>{const h=new it(l),f=(function(b){return[0,Cn(b)]})(h);o.push(n.get(f).next((y=>y?K.resolve():(b=>n.put({targetId:0,path:Cn(b),sequenceNumber:i.highestListenSequenceNumber}))(h))))})).next((()=>K.waitFor(o)))}))}bi(e,n){e.createObjectStore(Wd,{keyPath:Q3});const r=n.store(Wd),i=new fx,o=l=>{if(i.add(l)){const u=l.lastSegment(),h=l.popLast();return r.put({collectionId:u,parent:Cn(h)})}};return n.store(vo).ee({X:!0},((l,u)=>{const h=new it(l);return o(h.popLast())})).next((()=>n.store(Ac).ee({X:!0},(([l,u,h],f)=>{const y=Cs(u);return o(y.popLast())}))))}Di(e){const n=e.store(Ic);return n.ee(((r,i)=>{const o=Td(i),l=TN(this.serializer,o);return n.put(l)}))}Ci(e,n){const r=n.store(vo),i=[];return r.ee(((o,l)=>{const u=n.store(cp),h=(function(b){return b.document?new ge(it.fromString(b.document.name).popFirst(5)):b.noDocument?ge.fromSegments(b.noDocument.path):b.unknownDocument?ge.fromSegments(b.unknownDocument.path):Ae(36783)})(l).path.toArray(),f={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(f))})).next((()=>K.waitFor(i)))}Fi(e,n){const r=n.store(Wr),i=MN(this.serializer),o=new px(mg.mi,this.serializer.yt);return r.J().next((l=>{const u=new Map;return l.forEach((h=>{let f=u.get(h.userId)??qe();xo(this.serializer,h).keys().forEach((y=>f=f.add(y))),u.set(h.userId,f)})),K.forEach(u,((h,f)=>{const y=new xn(f),b=hg.wt(this.serializer,y),_=o.getIndexManager(y),E=fg.wt(y,this.serializer,_,o.referenceDelegate);return new jN(i,E,b,_).recalculateAndSaveOverlaysForDocumentKeys(new Hb(n,Nr.ce),h).next()}))}))}}function zS(t){t.createObjectStore(Rc,{keyPath:G3}).createIndex(X_,K3,{unique:!0}),t.createObjectStore(Ic,{keyPath:"targetId"}).createIndex(TC,H3,{unique:!0}),t.createObjectStore(ko)}const la="IndexedDbPersistence",nb=18e5,rb=5e3,sb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Nz="main";class gx{constructor(e,n,r,i,o,l,u,h,f,y,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=l,this.document=u,this.xi=f,this.Oi=y,this.Ni=b,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=_=>Promise.resolve(),!gx.v())throw new fe(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yz(this,i),this.$i=n+Nz,this.serializer=new EN(h),this.Ui=new _a(this.$i,this.Ni,new Cz(this.serializer)),this.hi=new iz,this.Pi=new fz(this.referenceDelegate,this.serializer),this.remoteDocumentCache=MN(this.serializer),this.Ii=new sz,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,y===!1&&Vn(la,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(ie.FAILED_PRECONDITION,sb);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Nr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>xm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Na(e))return he(la,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he(la,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return bd(e).get(nc).next((n=>K.resolve(this.es(n))))}ts(e){return xm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,nb)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=ln(n,Cc);return r.J().next((i=>{const o=this.ss(i,nb),l=i.filter((u=>o.indexOf(u)===-1));return K.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?K.resolve(!0):bd(e).get(nc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,rb)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new fe(ie.FAILED_PRECONDITION,sb);return!1}}return!(!this.networkEnabled||!this.inForeground)||xm(e).J().next((r=>this.ss(r,rb).find((i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(o||l&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&he(la,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[yh,Cc],(e=>{const n=new Hb(e,Nr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>xm(e).J().next((n=>this.ss(n,nb).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return fg.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hz(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return hg.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){he(la,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=(function(h){return h===18?uL:h===17?DC:h===16?cL:h===15?tx:h===14?NC:h===13?CC:h===12?lL:h===11?RC:void Ae(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,o,(u=>(l=new Hb(u,this.ci?this.ci.next():Nr.ce),n==="readwrite-primary"?this.Hi(l).next((h=>!!h||this.Yi(l))).next((h=>{if(!h)throw Vn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new fe(ie.FAILED_PRECONDITION,bC);return r(l)})).next((h=>this.Xi(l).next((()=>h)))):this.Is(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return bd(e).get(nc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,rb)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new fe(ie.FAILED_PRECONDITION,sb)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bd(e).put(nc,n)}static v(){return _a.v()}Zi(e){const n=bd(e);return n.get(nc).next((r=>this.es(r)?(he(la,"Releasing primary lease."),n.delete(nc)):K.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Vn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;JR()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return he(la,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Vn(la,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Vn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bd(t){return ln(t,yh)}function xm(t){return ln(t,Cc)}function Dz(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class yx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=qe(),i=qe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new yx(e,n.fromCache,r,i)}}class Oz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class VN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JR()?8:xC(on())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new Oz;return this.Ss(e,n,l).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(cc()<=We.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",uc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(cc()<=We.DEBUG&&he("QueryEngine","Query:",uc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(cc()<=We.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",uc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(n))):K.resolve())}ys(e,n){if(cS(n))return K.resolve(null);let r=Or(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=pp(n,null,"F"),r=Or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=qe(...o);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,u);return this.Cs(n,f,l,h.readTime)?this.ys(e,pp(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,i){return cS(n)||i.isEqual(De.min())?K.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,i)?K.resolve(null):(cc()<=We.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uc(n)),this.vs(e,l,n,k3(i,Gd)).next((u=>u)))}))}Ds(e,n){let r=new pt(YC(e));return n.forEach(((i,o)=>{_h(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return cc()<=We.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",uc(n)),this.ps.getDocumentsMatchingQuery(e,n,fr.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const vx="LocalStore",kz=3e8;class Pz{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new It(je),this.xs=new wi((o=>Qo(o)),vh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function LN(t,e,n,r){return new Pz(t,e,n,r)}async function zN(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let h=qe();for(const f of i){l.push(f.batchId);for(const y of f.mutations)h=h.add(y.key)}for(const f of o){u.push(f.batchId);for(const y of f.mutations)h=h.add(y.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function Mz(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,f,y){const b=f.batch,_=b.keys();let E=K.resolve();return _.forEach((A=>{E=E.next((()=>y.getEntry(h,A))).next((R=>{const D=f.docVersions.get(A);Re(D!==null,48541),R.version.compareTo(D)<0&&(b.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),y.addEntry(R)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(h,b)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=qe();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function UN(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function jz(t,e){const n=Ve(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((y,b)=>{const _=i.get(b);if(!_)return;u.push(n.Pi.removeMatchingKeys(o,y.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,y.addedDocuments,b))));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?E=E.withResumeToken(en.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,r)),i=i.insert(b,E),(function(R,D,L){return R.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=kz?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(_,E,y)&&u.push(n.Pi.updateTargetData(o,E))}));let h=ur(),f=qe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))})),u.push(Vz(o,l,e.documentUpdates).next((y=>{h=y.ks,f=y.qs}))),!r.isEqual(De.min())){const y=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(y)}return K.waitFor(u).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,f))).next((()=>h))})).then((o=>(n.Ms=i,o)))}function Vz(t,e,n){let r=qe(),i=qe();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=ur();return n.forEach(((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(De.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):he(vx,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function Lz(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Oo),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zz(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,K.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new ui(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function i_(t,e,n){const r=Ve(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Na(l))throw l;he(vx,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function US(t,e,n){const r=Ve(t);let i=De.min(),o=qe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,y){const b=Ve(h),_=b.xs.get(y);return _!==void 0?K.resolve(b.Ms.get(_)):b.Pi.getTargetData(f,y)})(r,l,Or(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:De.min(),n?o:qe()))).next((u=>(Uz(r,SL(e),u),{documents:u,Qs:o})))))}function Uz(t,e,n){let r=t.Os.get(e)||De.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class $S{constructor(){this.activeTargetIds=DL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $N{constructor(){this.Mo=new $S,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $S,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $z{Oo(e){}shutdown(){}}const FS="ConnectivityMonitor";class BS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(FS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(FS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wm=null;function a_(){return wm===null?wm=(function(){return 268435456+Math.round(2147483648*Math.random())})():wm++,"0x"+wm.toString(16)}const ib="RestConnection",Fz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===dp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const l=a_(),u=this.zo(e,n.toUriEncodedString());he(ib,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,o);const{host:f}=new URL(u),y=Gc(f);return this.Jo(e,u,h,r,y).then((b=>(he(ib,`Received RPC '${e}' ${l}: `,b),b)),(b=>{throw Ho(ib,`RPC '${e}' ${l} failed with error: `,b,"url: ",u,"request:",r),b}))}Ho(e,n,r,i,o,l){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=Fz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class qz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Sn="WebChannelConnection";class Hz extends Bz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=a_();return new Promise(((u,h)=>{const f=new lC;f.setWithCredentials(!0),f.listenOnce(cC.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Mm.NO_ERROR:const b=f.getResponseJson();he(Sn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(b)),u(b);break;case Mm.TIMEOUT:he(Sn,`RPC '${e}' ${l} timed out`),h(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Mm.HTTP_ERROR:const _=f.getStatus();if(he(Sn,`RPC '${e}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E?.error;if(A&&A.status&&A.message){const R=(function(L){const F=L.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(F)>=0?F:ie.UNKNOWN})(A.status);h(new fe(R,A.message))}else h(new fe(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{he(Sn,`RPC '${e}' ${l} completed.`)}}));const y=JSON.stringify(i);he(Sn,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",y,r,15)}))}T_(e,n,r){const i=a_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=hC(),u=dC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const y=o.join("");he(Sn,`Creating RPC '${e}' stream ${i}: ${y}`,h);const b=l.createWebChannel(y,h);this.I_(b);let _=!1,E=!1;const A=new qz({Yo:D=>{E?he(Sn,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(_||(he(Sn,`Opening RPC '${e}' stream ${i} transport.`),b.open(),_=!0),he(Sn,`RPC '${e}' stream ${i} sending:`,D),b.send(D))},Zo:()=>b.close()}),R=(D,L,F)=>{D.listen(L,($=>{try{F($)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return R(b,xd.EventType.OPEN,(()=>{E||(he(Sn,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),R(b,xd.EventType.CLOSE,(()=>{E||(E=!0,he(Sn,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(b))})),R(b,xd.EventType.ERROR,(D=>{E||(E=!0,Ho(Sn,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),A.a_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),R(b,xd.EventType.MESSAGE,(D=>{if(!E){const L=D.data[0];Re(!!L,16349);const F=L,$=F?.error||F[0]?.error;if($){he(Sn,`RPC '${e}' stream ${i} received error:`,$);const Q=$.status;let W=(function(I){const k=Xt[I];if(k!==void 0)return cN(k)})(Q),re=$.message;W===void 0&&(W=ie.INTERNAL,re="Unknown error status: "+Q+" with message "+$.message),E=!0,A.a_(new fe(W,re)),b.close()}else he(Sn,`RPC '${e}' stream ${i} received:`,L),A.u_(L)}})),R(u,uC.STAT_EVENT,(D=>{D.stat===zb.PROXY?he(Sn,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===zb.NOPROXY&&he(Sn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Gz(){return typeof window<"u"?window:null}function Hm(){return typeof document<"u"?document:null}function pg(t){return new KL(t,!0)}class FN{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const qS="PersistentStream";class BN{constructor(e,n,r,i,o,l,u,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Vn(n.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new fe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(qS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(qS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Kz extends BN{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YL(this.serializer,e),r=(function(o){if(!("targetChange"in o))return De.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?$n(l.readTime):De.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=e_(this.serializer),n.addTarget=(function(o,l){let u;const h=l.target;if(u=fp(h)?{documents:yN(o,h)}:{query:vN(o,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=hN(o,l.resumeToken);const f=Xb(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(De.min())>0){u.readTime=jc(o,l.snapshotVersion.toTimestamp());const f=Xb(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=XL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=e_(this.serializer),n.removeTarget=e,this.q_(n)}}class Qz extends BN{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WL(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=e_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>yp(this.serializer,r)))};this.q_(n)}}class Zz{}class Yz extends Zz{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,Jb(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ie.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Jb(n,r),i,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ie.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Wz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vn(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xo="RemoteStore";class Xz{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{cl(this)&&(he(Xo,"Restarting streams for network reachability change."),await(async function(h){const f=Ve(h);f.Ea.add(4),await wh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await gg(f)})(this))}))})),this.Ra=new Wz(r,i)}}async function gg(t){if(cl(t))for(const e of t.da)await e(!0)}async function wh(t){for(const e of t.da)await e(!1)}function qN(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wx(n)?xx(n):Wc(n).O_()&&_x(n,e))}function bx(t,e){const n=Ve(t),r=Wc(n);n.Ia.delete(e),r.O_()&&HN(n,e),n.Ia.size===0&&(r.O_()?r.L_():cl(n)&&n.Ra.set("Unknown"))}function _x(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wc(t).Y_(e)}function HN(t,e){t.Va.Ue(e),Wc(t).Z_(e)}function xx(t){t.Va=new BL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Wc(t).start(),t.Ra.ua()}function wx(t){return cl(t)&&!Wc(t).x_()&&t.Ia.size>0}function cl(t){return Ve(t).Ea.size===0}function GN(t){t.Va=void 0}async function Jz(t){t.Ra.set("Online")}async function e5(t){t.Ia.forEach(((e,n)=>{_x(t,e)}))}async function t5(t,e){GN(t),wx(t)?(t.Ra.ha(e),xx(t)):t.Ra.set("Unknown")}async function n5(t,e,n){if(t.Ra.set("Online"),e instanceof dN&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){he(Xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wp(t,r)}else if(e instanceof Bm?t.Va.Ze(e):e instanceof uN?t.Va.st(e):t.Va.tt(e),!n.isEqual(De.min()))try{const r=await UN(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const y=o.Ia.get(f);y&&o.Ia.set(f,y.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,f)=>{const y=o.Ia.get(h);if(!y)return;o.Ia.set(h,y.withResumeToken(en.EMPTY_BYTE_STRING,y.snapshotVersion)),HN(o,h);const b=new ui(y.target,h,f,y.sequenceNumber);_x(o,b)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){he(Xo,"Failed to raise snapshot:",r),await wp(t,r)}}async function wp(t,e,n){if(!Na(e))throw e;t.Ea.add(1),await wh(t),t.Ra.set("Offline"),n||(n=()=>UN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(Xo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gg(t)}))}function KN(t,e){return e().catch((n=>wp(t,n,e)))}async function Eh(t){const e=Ve(t),n=Sa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Oo;for(;r5(e);)try{const i=await Lz(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,s5(e,i)}catch(i){await wp(e,i)}QN(e)&&ZN(e)}function r5(t){return cl(t)&&t.Ta.length<10}function s5(t,e){t.Ta.push(e);const n=Sa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function QN(t){return cl(t)&&!Sa(t).x_()&&t.Ta.length>0}function ZN(t){Sa(t).start()}async function i5(t){Sa(t).ra()}async function a5(t){const e=Sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function o5(t,e,n){const r=t.Ta.shift(),i=lx.from(r,e,n);await KN(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Eh(t)}async function l5(t,e){e&&Sa(t).X_&&await(async function(r,i){if((function(l){return UL(l)&&l!==ie.ABORTED})(i.code)){const o=r.Ta.shift();Sa(r).B_(),await KN(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Eh(r)}})(t,e),QN(t)&&ZN(t)}async function HS(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),he(Xo,"RemoteStore received new credentials");const r=cl(n);n.Ea.add(3),await wh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gg(n)}async function c5(t,e){const n=Ve(t);e?(n.Ea.delete(2),await gg(n)):e||(n.Ea.add(2),await wh(n),n.Ra.set("Unknown"))}function Wc(t){return t.ma||(t.ma=(function(n,r,i){const o=Ve(n);return o.sa(),new Kz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Jz.bind(null,t),t_:e5.bind(null,t),r_:t5.bind(null,t),H_:n5.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),wx(t)?xx(t):t.Ra.set("Unknown")):(await t.ma.stop(),GN(t))}))),t.ma}function Sa(t){return t.fa||(t.fa=(function(n,r,i){const o=Ve(n);return o.sa(),new Qz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:i5.bind(null,t),r_:l5.bind(null,t),ta:a5.bind(null,t),na:o5.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Eh(t)):(await t.fa.stop(),t.Ta.length>0&&(he(Xo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Ex{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,u=new Ex(e,n,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tx(t,e){if(Vn("AsyncQueue",`${e}: ${t}`),Na(t))return new fe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}class yc{static emptySet(e){return new yc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=wd(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class GS{constructor(){this.ga=new It(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Vc{constructor(e,n,r,i,o,l,u,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Vc(e,n,yc.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class u5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class d5{constructor(){this.queries=KS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ve(n),o=i.queries;i.queries=KS(),o.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function KS(){return new wi((t=>ZC(t)),og)}async function Sx(t,e){const n=Ve(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new u5,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=Tx(l,`Initialization of query '${uc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Ix(n)}async function Ax(t,e){const n=Ve(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function h5(t,e){const n=Ve(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&Ix(n)}function f5(t,e,n){const r=Ve(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function Ix(t){t.Ca.forEach((e=>{e.next()}))}var o_,QS;(QS=o_||(o_={})).Ma="default",QS.Cache="cache";class Rx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==o_.Cache}}class YN{constructor(e){this.key=e}}class WN{constructor(e){this.key=e}}class m5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=YC(e),this.tu=new yc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new GS,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,b)=>{const _=i.get(y),E=_h(this.query,b)?b:null,A=!!_&&this.mutatedKeys.has(_.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;_&&E?_.data.isEqual(E.data)?A!==R&&(r.track({type:3,doc:E}),D=!0):this.su(_,E)||(r.track({type:2,doc:E}),D=!0,(h&&this.eu(E,h)>0||f&&this.eu(E,f)<0)&&(u=!0)):!_&&E?(r.track({type:0,doc:E}),D=!0):_&&!E&&(r.track({type:1,doc:_}),D=!0,(h||f)&&(u=!0)),D&&(E?(l=l.add(E),o=R?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{tu:l,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((y,b)=>(function(E,A){const R=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:D})}};return R(E)-R(A)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Vc(this.query,e.tu,o,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new WN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new YN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cx="SyncEngine";class p5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class g5{constructor(e){this.key=e,this.hu=!1}}class y5{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new wi((u=>ZC(u)),og),this.Iu=new Map,this.Eu=new Set,this.du=new It(ge.comparator),this.Au=new Map,this.Ru=new mx,this.Vu={},this.mu=new Map,this.fu=Wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v5(t,e,n=!0){const r=r2(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await XN(r,e,n,!0),i}async function b5(t,e){const n=r2(t);await XN(n,e,!0,!1)}async function XN(t,e,n,r){const i=await zz(t.localStore,Or(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await _5(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&qN(t.remoteStore,i),u}async function _5(t,e,n,r,i){t.pu=(b,_,E)=>(async function(R,D,L,F){let $=D.view.ru(L);$.Cs&&($=await US(R.localStore,D.query,!1).then((({documents:C})=>D.view.ru(C,$))));const Q=F&&F.targetChanges.get(D.targetId),W=F&&F.targetMismatches.get(D.targetId)!=null,re=D.view.applyChanges($,R.isPrimaryClient,Q,W);return YS(R,D.targetId,re.au),re.snapshot})(t,b,_,E);const o=await US(t.localStore,e,!0),l=new m5(e,o.Qs),u=l.ru(o.documents),h=xh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(u,t.isPrimaryClient,h);YS(t,n,f.au);const y=new p5(e,n,l);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function x5(t,e,n){const r=Ve(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!og(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await i_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bx(r.remoteStore,i.targetId),l_(r,i.targetId)})).catch(ol)):(l_(r,i.targetId),await i_(r.localStore,i.targetId,!0))}async function w5(t,e){const n=Ve(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bx(n.remoteStore,r.targetId))}async function E5(t,e,n){const r=s2(t);try{const i=await(function(l,u){const h=Ve(l),f=ht.now(),y=u.reduce(((E,A)=>E.add(A.key)),qe());let b,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let A=ur(),R=qe();return h.Ns.getEntries(E,y).next((D=>{A=D,A.forEach(((L,F)=>{F.isValidDocument()||(R=R.add(L))}))})).next((()=>h.localDocuments.getOverlayedDocuments(E,A))).next((D=>{b=D;const L=[];for(const F of u){const $=LL(F,b.get(F.key).overlayedDocument);$!=null&&L.push(new Da(F.key,$,$C($.value.mapValue),Ln.exists(!0)))}return h.mutationQueue.addMutationBatch(E,f,L,u)})).next((D=>{_=D;const L=D.applyToLocalDocumentSet(b,R);return h.documentOverlayCache.saveOverlays(E,D.batchId,L)}))})).then((()=>({batchId:_.batchId,changes:XC(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new It(je)),f=f.insert(u,h),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await Th(r,i.changes),await Eh(r.remoteStore)}catch(i){const o=Tx(i,"Failed to persist write");n.reject(o)}}async function JN(t,e){const n=Ve(t);try{const r=await jz(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Re(l.hu,14607):i.removedDocuments.size>0&&(Re(l.hu,42227),l.hu=!1))})),await Th(n,r,e)}catch(r){await ol(r)}}function ZS(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const h=Ve(l);h.onlineState=u;let f=!1;h.queries.forEach(((y,b)=>{for(const _ of b.Sa)_.va(u)&&(f=!0)})),f&&Ix(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T5(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new It(ge.comparator);l=l.insert(o,Mt.newNoDocument(o,De.min()));const u=qe().add(o),h=new dg(De.min(),new Map,new It(je),l,u);await JN(r,h),r.du=r.du.remove(o),r.Au.delete(e),Nx(r)}else await i_(r.localStore,e,!1).then((()=>l_(r,e,n))).catch(ol)}async function S5(t,e){const n=Ve(t),r=e.batch.batchId;try{const i=await Mz(n.localStore,e);t2(n,r,null),e2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Th(n,i)}catch(i){await ol(i)}}async function A5(t,e,n){const r=Ve(t);try{const i=await(function(l,u){const h=Ve(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let y;return h.mutationQueue.lookupMutationBatch(f,u).next((b=>(Re(b!==null,37113),y=b.keys(),h.mutationQueue.removeMutationBatch(f,b)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,y,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,y))).next((()=>h.localDocuments.getDocuments(f,y)))}))})(r.localStore,e);t2(r,e,n),e2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Th(r,i)}catch(i){await ol(i)}}function e2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function t2(t,e,n){const r=Ve(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function l_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||n2(t,r)}))}function n2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(bx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Nx(t))}function YS(t,e,n){for(const r of n)r instanceof YN?(t.Ru.addReference(r.key,e),I5(t,r)):r instanceof WN?(he(Cx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||n2(t,r.key)):Ae(19791,{wu:r})}function I5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he(Cx,"New document in limbo: "+n),t.Eu.add(r),Nx(t))}function Nx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(it.fromString(e)),r=t.fu.next();t.Au.set(r,new g5(n)),t.du=t.du.insert(n,r),qN(t.remoteStore,new ui(Or(bh(n.path)),r,"TargetPurposeLimboResolution",Nr.ce))}}async function Th(t,e,n){const r=Ve(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const y=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){i.push(f);const y=yx.As(h.targetId,f);o.push(y)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,f){const y=Ve(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>K.forEach(f,(_=>K.forEach(_.Es,(E=>y.persistence.referenceDelegate.addReference(b,_.targetId,E))).next((()=>K.forEach(_.ds,(E=>y.persistence.referenceDelegate.removeReference(b,_.targetId,E)))))))))}catch(b){if(!Na(b))throw b;he(vx,"Failed to update sequence numbers: "+b)}for(const b of f){const _=b.targetId;if(!b.fromCache){const E=y.Ms.get(_),A=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(A);y.Ms=y.Ms.insert(_,R)}}})(r.localStore,o))}async function R5(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){he(Cx,"User change. New user:",e.toKey());const r=await zN(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((h=>{h.reject(new fe(ie.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Th(n,r.Ls)}}function C5(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let i=qe();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function r2(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T5.bind(null,e),e.Pu.H_=h5.bind(null,e.eventManager),e.Pu.yu=f5.bind(null,e.eventManager),e}function s2(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A5.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LN(this.persistence,new VN,e.initialUser,this.serializer)}Cu(e){return new px(mg.mi,this.serializer)}Du(e){return new $N}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class N5 extends nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Re(this.persistence.referenceDelegate instanceof xp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ON(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new px((r=>xp.mi(r,n)),this.serializer)}}class D5 extends nh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await s2(this.xu.syncEngine),await Eh(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return LN(this.persistence,new VN,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new ON(r,e.asyncQueue,n)}Mu(e,n){const r=new V3(n,this.persistence);return new j3(e.asyncQueue,r)}Cu(e){const n=Dz(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new gx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Gz(),Hm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new $N}}class Ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R5.bind(null,this.syncEngine),await c5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new d5})()}createDatastore(e){const n=pg(e.databaseInfo.databaseId),r=(function(o){return new Hz(o)})(e.databaseInfo);return(function(o,l,u,h){return new Yz(o,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,u){return new Xz(r,i,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>ZS(this.syncEngine,n,0)),(function(){return BS.v()?new BS:new $z})())}createSyncEngine(e,n){return(function(i,o,l,u,h,f,y){const b=new y5(i,o,l,u,h,f);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ve(n);he(Xo,"RemoteStore shutting down."),r.Ea.add(5),await wh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ep.provider={build:()=>new Ep};class Dx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Aa="FirestoreClient";class O5{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xn.UNAUTHENTICATED,this.clientId=Z_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{he(Aa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(he(Aa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ab(t,e){t.asyncQueue.verifyOperationInProgress(),he(Aa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await zN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function WS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await k5(t);he(Aa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>HS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>HS(e.remoteStore,i))),t._onlineComponents=e}async function k5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Aa,"Using user provided OfflineComponentProvider");try{await ab(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ho("Error using user provided cache. Falling back to memory cache: "+n),await ab(t,new nh)}}else he(Aa,"Using default OfflineComponentProvider"),await ab(t,new N5(void 0));return t._offlineComponents}async function i2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Aa,"Using user provided OnlineComponentProvider"),await WS(t,t._uninitializedComponentsProvider._online)):(he(Aa,"Using default OnlineComponentProvider"),await WS(t,new Ep))),t._onlineComponents}function P5(t){return i2(t).then((e=>e.syncEngine))}async function Tp(t){const e=await i2(t),n=e.eventManager;return n.onListen=v5.bind(null,e.syncEngine),n.onUnlisten=x5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w5.bind(null,e.syncEngine),n}function M5(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,h,f){const y=new Dx({next:_=>{y.Nu(),l.enqueueAndForget((()=>Ax(o,b)));const E=_.docs.has(u);!E&&_.fromCache?f.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&h&&h.source==="server"?f.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),b=new Rx(bh(u.path),y,{includeMetadataChanges:!0,qa:!0});return Sx(o,b)})(await Tp(t),t.asyncQueue,e,n,r))),r.promise}function j5(t,e,n={}){const r=new Ds;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,h,f){const y=new Dx({next:_=>{y.Nu(),l.enqueueAndForget((()=>Ax(o,b))),_.fromCache&&h.source==="server"?f.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),b=new Rx(u,y,{includeMetadataChanges:!0,qa:!0});return Sx(o,b)})(await Tp(t),t.asyncQueue,e,n,r))),r.promise}function a2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const XS=new Map;const o2="firestore.googleapis.com",JS=!0;class eA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o2,this.ssl=JS}else this.host=e.host,this.ssl=e.ssl??JS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mz)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a2(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new x3;switch(r.type){case"firstParty":return new S3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=XS.get(n);r&&(he("ComponentProvider","Removing Datastore"),XS.delete(n),r.terminate())})(this),Promise.resolve()}}function V5(t,e,n,r={}){t=dr(t,yg);const i=Gc(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(YR(`https://${u}`),WR("Firestore",!0)),o.host!==o2&&o.host!==u&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:u,ssl:i,emulatorOptions:r};if(!Fo(h,l)&&(t._setSettings(h),r.mockUserToken)){let f,y;if(typeof r.mockUserToken=="string")f=r.mockUserToken,y=xn.MOCK_USER;else{f=WV(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new xn(b)}t._authCredentials=new w3(new mC(f,y))}}class Ei{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ei(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gh(n,Ft._jsonSchema))return new Ft(e,r||null,new ge(it.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Jt("string",Ft._jsonSchemaVersion),referencePath:Jt("string")};class xa extends Ei{constructor(e,n,r){super(e,n,bh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new ge(e))}withConverter(e){return new xa(this.firestore,e,this._path)}}function Ox(t,e,...n){if(t=Nn(t),gC("collection","path",e),t instanceof yg){const r=it.fromString(e,...n);return q1(r),new xa(t,null,r)}{if(!(t instanceof Ft||t instanceof xa))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return q1(r),new xa(t.firestore,null,r)}}function Xc(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=Z_.newId()),gC("doc","path",e),t instanceof yg){const r=it.fromString(e,...n);return B1(r),new Ft(t,null,new ge(r))}{if(!(t instanceof Ft||t instanceof xa))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return B1(r),new Ft(t.firestore,t instanceof xa?t.converter:null,new ge(r))}}const tA="AsyncQueue";class nA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FN(this,"async_queue_retry"),this._c=()=>{const r=Hm();r&&he(tA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Na(e))throw e;he(tA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vn("INTERNAL UNHANDLED ERROR: ",rA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ex.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Ae(47125,{Pc:rA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function sA(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class bi extends yg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nA,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nA(e),this._firestoreClient=void 0,await e}}}function l2(t,e){const n=typeof t=="object"?t:sC(),r=typeof t=="string"?t:dp,i=G_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=ZV("firestore");o&&V5(i,...o)}return i}function vg(t){if(t._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||c2(t),t._firestoreClient}function c2(t){const e=t._freezeSettings(),n=(function(i,o,l,u){return new hL(i,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,a2(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new O5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}function L5(t,e){Ho("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return z5(t,Ep.provider,{build:r=>new D5(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function z5(t,e,n){if((t=dr(t,bi))._firestoreClient||t._terminated)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new fe(ie.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},c2(t)}class Cr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cr(en.fromBase64String(e))}catch(n){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cr(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gh(e,Cr._jsonSchema))return Cr.fromBase64String(e.bytes)}}Cr._jsonSchemaVersion="firestore/bytes/1.0",Cr._jsonSchema={type:Jt("string",Cr._jsonSchemaVersion),bytes:Jt("string")};class kx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Px{constructor(e){this._methodName=e}}class Os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(e){if(gh(e,Os._jsonSchema))return new Os(e.latitude,e.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:Jt("string",Os._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};class ks{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gh(e,ks._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ks(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ks._jsonSchemaVersion="firestore/vectorValue/1.0",ks._jsonSchema={type:Jt("string",ks._jsonSchemaVersion),vectorValues:Jt("object")};const U5=/^__.*__$/;class $5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Da(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yc(e,this.data,n,this.fieldTransforms)}}function u2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class Mx{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(u2(this.Ac)&&U5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class F5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pg(e)}Cc(e,n,r,i=!1){return new Mx({Ac:e,methodName:n,Dc:r,path:Nt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bg(t){const e=t._freezeSettings(),n=pg(t._databaseId);return new F5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function d2(t,e,n,r,i,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);p2("Data must be an object, but it was:",l,r);const u=f2(r,l);let h,f;if(o.merge)h=new Dr(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const _=B5(e,b,n);if(!l.contains(_))throw new fe(ie.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);H5(y,_)||y.push(_)}h=new Dr(y),f=l.fieldTransforms.filter((b=>h.covers(b.field)))}else h=null,f=l.fieldTransforms;return new $5(new Yn(u),h,f)}class jx extends Px{_toFieldTransform(e){return new iN(e.path,new kc)}isEqual(e){return e instanceof jx}}function h2(t,e,n,r=!1){return Vx(n,t.Cc(r?4:3,e))}function Vx(t,e){if(m2(t=Nn(t)))return p2("Unsupported field value:",e,t),f2(t,e);if(t instanceof Px)return(function(r,i){if(!u2(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const u of r){let h=Vx(u,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ht.fromDate(r);return{timestampValue:jc(i.serializer,o)}}if(r instanceof ht){const o=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jc(i.serializer,o)}}if(r instanceof Os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cr)return{bytesValue:hN(i.serializer,r._byteString)};if(r instanceof Ft){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ks)return(function(l,u){return{mapValue:{fields:{[nx]:{stringValue:rx},[Nc]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return ax(u.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Xp(r)}`)})(t,e)}function f2(t,e){const n={};return OC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ll(t,((r,i)=>{const o=Vx(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function m2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof Os||t instanceof Cr||t instanceof Ft||t instanceof Px||t instanceof ks)}function p2(t,e,n){if(!m2(n)||!yC(n)){const r=Xp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function B5(t,e,n){if((e=Nn(e))instanceof kx)return e._internalPath;if(typeof e=="string")return g2(t,e);throw Sp("Field path arguments must be of type string or ",t,!1,void 0,n)}const q5=new RegExp("[~\\*/\\[\\]]");function g2(t,e,n){if(e.search(q5)>=0)throw Sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kx(...e.split("."))._internalPath}catch{throw Sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sp(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new fe(ie.INVALID_ARGUMENT,u+t+h)}function H5(t,e){return t.some((n=>n.isEqual(e)))}class Lx{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(y2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G5 extends Lx{data(){return super.data()}}function y2(t,e){return typeof e=="string"?g2(t,e):e instanceof kx?e._internalPath:e._delegate._internalPath}function v2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zx{}class Ux extends zx{}function K5(t,e,...n){let r=[];e instanceof zx&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((h=>h instanceof Fx)).length,u=o.filter((h=>h instanceof $x)).length;if(l>1||l>0&&u>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class $x extends Ux{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $x(e,n,r)}_apply(e){const n=this._parse(e);return b2(e._query,n),new Ei(e.firestore,e.converter,Wb(e._query,n))}_parse(e){const n=bg(e.firestore);return(function(o,l,u,h,f,y,b){let _;if(f.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){aA(b,y);const A=[];for(const R of b)A.push(iA(h,o,R));_={arrayValue:{values:A}}}else _=iA(h,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||aA(b,y),_=h2(u,l,b,y==="in"||y==="not-in");return Xe.create(f,y,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Fx extends zx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fx(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ft.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let l=i;const u=o.getFlattenedFilters();for(const h of u)b2(l,h),l=Wb(l,h)})(e._query,n),new Ei(e.firestore,e.converter,Wb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bx extends Ux{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Bx(e,n,r)}_apply(e){return new Ei(e.firestore,e.converter,pp(e._query,this._limit,this._limitType))}}function Q5(t){return O3("limit",t),Bx._create("limit",t,"F")}class qx extends Ux{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new qx(e,n,r)}_apply(e){const n=Y5(e,this.type,this._docOrFields,this._inclusive);return new Ei(e.firestore,e.converter,(function(i,o){return new Zc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)})(e._query,n))}}function Z5(...t){return qx._create("startAfter",t,!1)}function Y5(t,e,n,r){if(n[0]=Nn(n[0]),n[0]instanceof Lx)return(function(o,l,u,h,f){if(!h)throw new fe(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const b of gc(o))if(b.field.isKeyField())y.push(Ko(l,h.key));else{const _=h.data.field(b.field);if(sg(_))throw new fe(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const E=b.field.canonicalString();throw new fe(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}y.push(_)}return new Ta(y,f)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=bg(t.firestore);return(function(l,u,h,f,y,b){const _=l.explicitOrderBy;if(y.length>_.length)throw new fe(ie.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let A=0;A<y.length;A++){const R=y[A];if(_[A].field.isKeyField()){if(typeof R!="string")throw new fe(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof R}`);if(!ix(l)&&R.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${R}' contains a slash.`);const D=l.path.child(it.fromString(R));if(!ge.isDocumentKey(D))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const L=new ge(D);E.push(Ko(u,L))}else{const D=h2(h,f,R);E.push(D)}}return new Ta(E,b)})(t._query,t.firestore._databaseId,i,e,n,r)}}function iA(t,e,n){if(typeof(n=Nn(n))=="string"){if(n==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ix(e)&&n.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!ge.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ko(t,new ge(r))}if(n instanceof Ft)return Ko(t,n._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xp(n)}.`)}function aA(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b2(t,e){const n=(function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class W5{convertValue(e,n="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ll(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Nc].arrayValue?.values?.map((r=>At(r.doubleValue)));return new ks(n)}convertGeoPoint(e){return new Os(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ig(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xd(e));default:return null}}convertTimestamp(e){const n=yi(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Re(wN(r),9688,{name:e});const i=new Go(r.get(1),r.get(3)),o=new ge(r.popFirst(5));return i.isEqual(n)||Vn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function _2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Sd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mo extends Lx{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(y2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Mo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mo._jsonSchema={type:Jt("string",Mo._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Gm extends Mo{data(e={}){return super.data(e)}}class jo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Gm(this._firestore,this._userDataWriter,r.key,r,new Sd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const h=new Gm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Sd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const h=new Gm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Sd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,y=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:X5(u.type),doc:h,oldIndex:f,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Z_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}function J5(t){t=dr(t,Ft);const e=dr(t.firestore,bi);return M5(vg(e),t._key).then((n=>E2(e,t,n)))}jo._jsonSchemaVersion="firestore/querySnapshot/1.0",jo._jsonSchema={type:Jt("string",jo._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Hx extends W5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function eU(t){t=dr(t,Ei);const e=dr(t.firestore,bi),n=vg(e),r=new Hx(e);return v2(t._query),j5(n,t._query).then((i=>new jo(e,r,t,i)))}function x2(t,e,n){t=dr(t,Ft);const r=dr(t.firestore,bi),i=_2(t.converter,e,n);return Gx(r,[d2(bg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ln.none())])}function tU(t){return Gx(dr(t.firestore,bi),[new ug(t._key,Ln.none())])}function nU(t,e){const n=dr(t.firestore,bi),r=Xc(t),i=_2(t.converter,e);return Gx(n,[d2(bg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ln.exists(!1))]).then((()=>r))}function w2(t,...e){t=Nn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||sA(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(sA(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,l,u;if(t instanceof Ft)l=dr(t.firestore,bi),u=bh(t._key.path),o={next:h=>{e[r]&&e[r](E2(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=dr(t,Ei);l=dr(h.firestore,bi),u=h._query;const f=new Hx(l);o={next:y=>{e[r]&&e[r](new jo(l,f,h,y))},error:e[r+1],complete:e[r+2]},v2(t._query)}return(function(f,y,b,_){const E=new Dx(_),A=new Rx(y,E,b);return f.asyncQueue.enqueueAndForget((async()=>Sx(await Tp(f),A))),()=>{E.Nu(),f.asyncQueue.enqueueAndForget((async()=>Ax(await Tp(f),A)))}})(vg(l),u,i,o)}function Gx(t,e){return(function(r,i){const o=new Ds;return r.asyncQueue.enqueueAndForget((async()=>E5(await P5(r),i,o))),o.promise})(vg(t),e)}function E2(t,e,n){const r=n.docs.get(e._key),i=new Hx(t);return new Mo(t,i,e._key,r,new Sd(n.hasPendingWrites,n.fromCache),e.converter)}function T2(){return new jx("serverTimestamp")}(function(e,n=!0){(function(i){Qc=i})(Kc),Tc(new Bo("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new bi(new E3(r.getProvider("auth-internal")),new A3(l,r.getProvider("app-check-internal")),(function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(f.options.projectId,y)})(l,i),l);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),va(z1,U1,e),va(z1,U1,"esm2020")})();var rU="firebase",sU="12.7.0";va(rU,sU,"app");function S2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iU=S2,A2=new mh("auth","Firebase",S2());const Ap=new q_("@firebase/auth");function aU(t,...e){Ap.logLevel<=We.WARN&&Ap.warn(`Auth (${Kc}): ${t}`,...e)}function Km(t,...e){Ap.logLevel<=We.ERROR&&Ap.error(`Auth (${Kc}): ${t}`,...e)}function Ls(t,...e){throw Qx(t,...e)}function ts(t,...e){return Qx(t,...e)}function Kx(t,e,n){const r={...iU(),[e]:n};return new mh("auth","Firebase",r).create(e,{appName:t.name})}function Vo(t){return Kx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ls(t,"argument-error"),Kx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return A2.create(t,...e)}function Pe(t,e,...n){if(!t)throw Qx(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Km(e),new Error(e)}function _i(t,e){t||di(e)}function c_(){return typeof self<"u"&&self.location?.href||""}function lU(){return oA()==="http:"||oA()==="https:"}function oA(){return typeof self<"u"&&self.location?.protocol||null}function cU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lU()||n6()||"connection"in navigator)?navigator.onLine:!0}function uU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Sh{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=e6()||r6()}get(){return cU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zx(t,e){_i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class I2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fU=new Sh(3e4,6e4);function Yx(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Jc(t,e,n,r,i={}){return R2(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=ph({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...o};return t6()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Gc(t.emulatorConfig.host)&&(f.credentials="include"),I2.fetch()(await C2(t,t.config.apiHost,n,u),f)})}async function R2(t,e,n){t._canInitEmulator=!1;const r={...dU,...e};try{const i=new pU(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Em(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Em(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Em(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Em(t,"user-disabled",l);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Kx(t,y,f);Ls(t,y)}}catch(i){if(i instanceof xi)throw i;Ls(t,"network-request-failed",{message:String(i)})}}async function mU(t,e,n,r,i={}){const o=await Jc(t,e,n,r,i);return"mfaPendingCredential"in o&&Ls(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function C2(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?Zx(t.config,i):`${t.config.apiScheme}://${i}`;return hU.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class pU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ts(this.auth,"network-request-failed")),fU.get())})}}function Em(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ts(t,e,r);return i.customData._tokenResponse=n,i}async function gU(t,e){return Jc(t,"POST","/v1/accounts:delete",e)}async function Ip(t,e){return Jc(t,"POST","/v1/accounts:lookup",e)}function zd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yU(t,e=!1){const n=Nn(t),r=await n.getIdToken(e),i=Wx(r);Pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:zd(ob(i.auth_time)),issuedAtTime:zd(ob(i.iat)),expirationTime:zd(ob(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function ob(t){return Number(t)*1e3}function Wx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Km("JWT malformed, contained fewer than 3 sections"),null;try{const i=HR(n);return i?JSON.parse(i):(Km("Failed to decode base64 JWT payload"),null)}catch(i){return Km("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lA(t){const e=Wx(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function rh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xi&&vU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class bU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class u_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zd(this.lastLoginAt),this.creationTime=zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rp(t){const e=t.auth,n=await t.getIdToken(),r=await rh(t,Ip(e,{idToken:n}));Pe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?N2(i.providerUserInfo):[],l=xU(t.providerData,o),u=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,f=u?h:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new u_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,y)}async function _U(t){const e=Nn(t);await Rp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function N2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function wU(t,e){const n=await R2(t,{},async()=>{const r=ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await C2(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&Gc(t.emulatorConfig.host)&&(h.credentials="include"),I2.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EU(t,e){return Jc(t,"POST","/v2/accounts:revokeToken",Yx(t,e))}class vc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=lA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await wU(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new vc;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Pe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Pe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vc,this.toJSON())}_performRefresh(){return di("not implemented")}}function ca(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class es{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new bU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new u_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await rh(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yU(this,e)}reload(){return _U(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new es({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(Vo(this.auth));const e=await this.getIdToken();return await rh(this,gU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:b,emailVerified:_,isAnonymous:E,providerData:A,stsTokenManager:R}=n;Pe(b&&R,e,"internal-error");const D=vc.fromJSON(this.name,R);Pe(typeof b=="string",e,"internal-error"),ca(r,e.name),ca(i,e.name),Pe(typeof _=="boolean",e,"internal-error"),Pe(typeof E=="boolean",e,"internal-error"),ca(o,e.name),ca(l,e.name),ca(u,e.name),ca(h,e.name),ca(f,e.name),ca(y,e.name);const L=new es({uid:b,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:E,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:D,createdAt:f,lastLoginAt:y});return A&&Array.isArray(A)&&(L.providerData=A.map(F=>({...F}))),h&&(L._redirectEventId=h),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new vc;i.updateFromServerResponse(n);const o=new es({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Rp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Pe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?N2(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,u=new vc;u.updateFromIdToken(r);const h=new es({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new u_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(h,f),h}}const cA=new Map;function hi(t){_i(t instanceof Function,"Expected a class definition");let e=cA.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cA.set(t,e),e)}class D2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}D2.type="NONE";const uA=D2;function Qm(t,e,n){return`firebase:${t}:${e}:${n}`}class bc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Qm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ip(this.auth,{idToken:e}).catch(()=>{});return n?es._fromGetAccountInfoResponse(this.auth,n,e):null}return es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bc(hi(uA),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||hi(uA);const l=Qm(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const y=await f._get(l);if(y){let b;if(typeof y=="string"){const _=await Ip(e,{idToken:y}).catch(()=>{});if(!_)break;b=await es._fromGetAccountInfoResponse(e,_,y)}else b=es._fromJSON(e,y);f!==o&&(u=b),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new bc(o,e,r):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new bc(o,e,r))}}function dA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V2(e))return"Blackberry";if(L2(e))return"Webos";if(k2(e))return"Safari";if((e.includes("chrome/")||P2(e))&&!e.includes("edge/"))return"Chrome";if(j2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function O2(t=on()){return/firefox\//i.test(t)}function k2(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P2(t=on()){return/crios\//i.test(t)}function M2(t=on()){return/iemobile/i.test(t)}function j2(t=on()){return/android/i.test(t)}function V2(t=on()){return/blackberry/i.test(t)}function L2(t=on()){return/webos/i.test(t)}function Xx(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TU(t=on()){return Xx(t)&&!!window.navigator?.standalone}function SU(){return s6()&&document.documentMode===10}function z2(t=on()){return Xx(t)||j2(t)||L2(t)||V2(t)||/windows phone/i.test(t)||M2(t)}function U2(t,e=[]){let n;switch(t){case"Browser":n=dA(on());break;case"Worker":n=`${dA(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kc}/${r}`}class AU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function IU(t,e={}){return Jc(t,"GET","/v2/passwordPolicy",Yx(t,e))}const RU=6;class CU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??RU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class NU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hA(this),this.idTokenSubscription=new hA(this),this.beforeStateQueue=new AU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ip(this,{idToken:e}),r=await es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(Vo(this));const n=e?Nn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(Vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(Vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IU(this),n=new CU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hi(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await bc.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&aU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _g(t){return Nn(t)}class hA{constructor(e){this.auth=e,this.observer=null,this.addObserver=u6(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DU(t){Jx=t}function OU(t){return Jx.loadJS(t)}function kU(){return Jx.gapiScript}function PU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function MU(t,e){const n=G_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Fo(o,e??{}))return i;Ls(i,"already-initialized")}return n.initialize({options:e})}function jU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(hi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function VU(t,e,n){const r=_g(t);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=$2(e),{host:l,port:u}=LU(e),h=u===null?"":`:${u}`,f={url:`${o}//${l}${h}/`},y=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(Fo(f,r.config.emulator)&&Fo(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Gc(l)?(YR(`${o}//${l}${h}`),WR("Auth",!0)):zU()}function $2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LU(t){const e=$2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:fA(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:fA(l)}}}function fA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class F2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function _c(t,e){return mU(t,"POST","/v1/accounts:signInWithIdp",Yx(t,e))}const UU="http://localhost";class Jo extends F2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ls("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new Jo(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return _c(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_c(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_c(e,n)}buildRequest(){const e={requestUri:UU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ph(n)}return e}}class e0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ah extends e0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class da extends Ah{constructor(){super("facebook.com")}static credential(e){return Jo._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.FACEBOOK_SIGN_IN_METHOD="facebook.com";da.PROVIDER_ID="facebook.com";class ci extends Ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jo._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";class ha extends Ah{constructor(){super("github.com")}static credential(e){return Jo._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.GITHUB_SIGN_IN_METHOD="github.com";ha.PROVIDER_ID="github.com";class fa extends Ah{constructor(){super("twitter.com")}static credential(e,n){return Jo._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fa.credential(n,r)}catch{return null}}}fa.TWITTER_SIGN_IN_METHOD="twitter.com";fa.PROVIDER_ID="twitter.com";class Lc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await es._fromIdTokenResponse(e,r,i),l=mA(r);return new Lc({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mA(r);return new Lc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Cp extends xi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cp(e,n,r,i)}}function B2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cp._fromErrorAndOperation(t,o,e,r):o})}async function $U(t,e,n=!1){const r=await rh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lc._forOperation(t,"link",r)}async function FU(t,e,n=!1){const{auth:r}=t;if(Jr(r.app))return Promise.reject(Vo(r));const i="reauthenticate";try{const o=await rh(t,B2(r,i,e,t),n);Pe(o.idToken,r,"internal-error");const l=Wx(o.idToken);Pe(l,r,"internal-error");const{sub:u}=l;return Pe(t.uid===u,r,"user-mismatch"),Lc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ls(r,"user-mismatch"),o}}async function BU(t,e,n=!1){if(Jr(t.app))return Promise.reject(Vo(t));const r="signIn",i=await B2(t,r,e),o=await Lc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function qU(t,e,n,r){return Nn(t).onIdTokenChanged(e,n,r)}function HU(t,e,n){return Nn(t).beforeAuthStateChanged(e,n)}function q2(t,e,n,r){return Nn(t).onAuthStateChanged(e,n,r)}function GU(t){return Nn(t).signOut()}const Np="__sak";class H2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Np,"1"),this.storage.removeItem(Np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const KU=1e3,QU=10;class G2 extends H2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);SU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}G2.type="LOCAL";const ZU=G2;class K2 extends H2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}K2.type="SESSION";const Q2=K2;function YU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class xg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(n.origin,o)),h=await YU(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xg.receivers=[];function t0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class WU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=t0("",20);i.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(b){const _=b;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(y),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Ps(){return window}function XU(t){Ps().location.href=t}function Z2(){return typeof Ps().WorkerGlobalScope<"u"&&typeof Ps().importScripts=="function"}async function JU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e9(){return navigator?.serviceWorker?.controller||null}function t9(){return Z2()?self:null}const Y2="firebaseLocalStorageDb",n9=1,Dp="firebaseLocalStorage",W2="fbase_key";class Ih{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wg(t,e){return t.transaction([Dp],e?"readwrite":"readonly").objectStore(Dp)}function r9(){const t=indexedDB.deleteDatabase(Y2);return new Ih(t).toPromise()}function d_(){const t=indexedDB.open(Y2,n9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dp,{keyPath:W2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dp)?e(r):(r.close(),await r9(),e(await d_()))})})}async function pA(t,e,n){const r=wg(t,!0).put({[W2]:e,value:n});return new Ih(r).toPromise()}async function s9(t,e){const n=wg(t,!1).get(e),r=await new Ih(n).toPromise();return r===void 0?null:r.value}function gA(t,e){const n=wg(t,!0).delete(e);return new Ih(n).toPromise()}const i9=800,a9=3;class X2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>a9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xg._getInstance(t9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JU(),!this.activeServiceWorker)return;this.sender=new WU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await d_();return await pA(e,Np,"1"),await gA(e,Np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>s9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=wg(i,!1).getAll();return new Ih(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X2.type="LOCAL";const o9=X2;new Sh(3e4,6e4);function J2(t,e){return e?hi(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class n0 extends F2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _c(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _c(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _c(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l9(t){return BU(t.auth,new n0(t),t.bypassAuthState)}function c9(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),FU(n,new n0(t),t.bypassAuthState)}async function u9(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),$U(n,new n0(t),t.bypassAuthState)}class eD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l9;case"linkViaPopup":case"linkViaRedirect":return u9;case"reauthViaPopup":case"reauthViaRedirect":return c9;default:Ls(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const d9=new Sh(2e3,1e4);async function h9(t,e,n){if(Jr(t.app))return Promise.reject(ts(t,"operation-not-supported-in-this-environment"));const r=_g(t);oU(t,e,e0);const i=J2(r,n);return new Io(r,"signInViaPopup",e,i).executeNotNull()}class Io extends eD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=t0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d9.get())};e()}}Io.currentPopupAction=null;const f9="pendingRedirect",Zm=new Map;class m9 extends eD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zm.get(this.auth._key());if(!e){try{const r=await p9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zm.set(this.auth._key(),e)}return this.bypassAuthState||Zm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p9(t,e){const n=v9(e),r=y9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function g9(t,e){Zm.set(t._key(),e)}function y9(t){return hi(t._redirectPersistence)}function v9(t){return Qm(f9,t.config.apiKey,t.name)}async function b9(t,e,n=!1){if(Jr(t.app))return Promise.reject(Vo(t));const r=_g(t),i=J2(r,e),l=await new m9(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const _9=600*1e3;class x9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!tD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ts(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_9&&this.cachedEventUids.clear(),this.cachedEventUids.has(yA(e))}saveEventToCache(e){this.cachedEventUids.add(yA(e)),this.lastProcessedEventTime=Date.now()}}function yA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function w9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tD(t);default:return!1}}async function E9(t,e={}){return Jc(t,"GET","/v1/projects",e)}const T9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S9=/^https?/;async function A9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await E9(t);for(const n of e)try{if(I9(n))return}catch{}Ls(t,"unauthorized-domain")}function I9(t){const e=c_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!S9.test(n))return!1;if(T9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const R9=new Sh(3e4,6e4);function vA(){const t=Ps().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C9(t){return new Promise((e,n)=>{function r(){vA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vA(),n(ts(t,"network-request-failed"))},timeout:R9.get()})}if(Ps().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ps().gapi?.load)r();else{const i=PU("iframefcb");return Ps()[i]=()=>{gapi.load?r():n(ts(t,"network-request-failed"))},OU(`${kU()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Ym=null,e})}let Ym=null;function N9(t){return Ym=Ym||C9(t),Ym}const D9=new Sh(5e3,15e3),O9="__/auth/iframe",k9="emulator/auth/iframe",P9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j9(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zx(e,k9):`https://${t.config.authDomain}/${O9}`,r={apiKey:e.apiKey,appName:t.name,v:Kc},i=M9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ph(r).slice(1)}`}async function V9(t){const e=await N9(t),n=Ps().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:j9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=ts(t,"network-request-failed"),u=Ps().setTimeout(()=>{o(l)},D9.get());function h(){Ps().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{o(l)})}))}const L9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z9=500,U9=600,$9="_blank",F9="http://localhost";class bA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B9(t,e,n,r=z9,i=U9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...L9,width:r.toString(),height:i.toString(),top:o,left:l},f=on().toLowerCase();n&&(u=P2(f)?$9:n),O2(f)&&(e=e||F9,h.scrollbars="yes");const y=Object.entries(h).reduce((_,[E,A])=>`${_}${E}=${A},`,"");if(TU(f)&&u!=="_self")return q9(e||"",u),new bA(null);const b=window.open(e||"",u,y);Pe(b,t,"popup-blocked");try{b.focus()}catch{}return new bA(b)}function q9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const H9="__/auth/handler",G9="emulator/auth/handler",K9=encodeURIComponent("fac");async function _A(t,e,n,r,i,o){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Kc,eventId:i};if(e instanceof e0){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",c6(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))l[y]=b}if(e instanceof Ah){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(l.scopes=y.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const h=await t._getAppCheckToken(),f=h?`#${K9}=${encodeURIComponent(h)}`:"";return`${Q9(t)}?${ph(u).slice(1)}${f}`}function Q9({config:t}){return t.emulator?Zx(t,G9):`https://${t.authDomain}/${H9}`}const lb="webStorageSupport";class Z9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q2,this._completeRedirectFn=b9,this._overrideRedirectResult=g9}async _openPopup(e,n,r,i){_i(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await _A(e,n,r,c_(),i);return B9(e,o,t0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await _A(e,n,r,c_(),i);return XU(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_i(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await V9(e),r=new x9(e);return n.register("authEvent",i=>(Pe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lb,{type:lb},i=>{const o=i?.[0]?.[lb];o!==void 0&&n(!!o),Ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return z2()||k2()||Xx()}}const Y9=Z9;var xA="@firebase/auth",wA="1.12.0";class W9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function X9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J9(t){Tc(new Bo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U2(t)},f=new NU(r,i,o,h);return jU(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tc(new Bo("auth-internal",e=>{const n=_g(e.getProvider("auth").getImmediate());return(r=>new W9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),va(xA,wA,X9(t)),va(xA,wA,"esm2020")}const e$=300,t$=ZR("authIdTokenMaxAge")||e$;let EA=null;const n$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>t$)return;const i=n?.token;EA!==i&&(EA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function r$(t=sC()){const e=G_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MU(t,{popupRedirectResolver:Y9,persistence:[o9,ZU,Q2]}),r=ZR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=n$(o.toString());HU(n,l,()=>l(n.currentUser)),qU(n,u=>l(u))}}const i=KR("auth");return i&&VU(n,`http://${i}`),n}function s$(){return document.getElementsByTagName("head")?.[0]??document}DU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ts("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",s$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J9("Browser");const i$={apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",storageBucket:void 0,messagingSenderId:"490973136832",appId:"1:490973136832:web:1811051408fdde8fbcea25",measurementId:"G-D3YR1YJXPN"},nD=Lb().length?Lb()[0]:K_(i$),Ti=l2(nD),Wm=r$(nD);typeof window<"u"&&L5(Ti).catch(t=>{console.debug("IndexedDB persistence not enabled:",t?.code??t?.message??t)});function rD(t,e,n){const r=Ox(t,e);return n?r.withConverter(n):r}async function a$(t,e,n){const r=Xc(Ti,t,e),i=n?r.withConverter(n):r,o=await J5(i);return o.exists()?o.data():null}async function sD(t,e,n){const r=rD(Ti,t,n);return(await nU(r,e)).id}async function o$(t,e,n,r){const i=Xc(Ti,t,e),o=r?i.withConverter(r):i;await x2(o,n)}async function l$(t,e,n,r){const i=Xc(Ti,t,e),o=r?i.withConverter(r):i;await x2(o,n,{merge:!0})}async function c$(t,e){const n=Xc(Ti,t,e);await tU(n)}async function u$(t,e){const{pageSize:n=20,cursor:r=null,additionalConstraints:i=[],converter:o}=e??{},l=rD(Ti,t,o),u=[Q5(n),...i];r&&u.push(Z5(r));const h=K5(l,...u);console.log("getCollectionPaginated running query:",h);const f=await eU(h);console.log("getCollectionPaginated received snapshot with",f.docs.length,"docs");const y=f.docs.map(_=>_.data()),b=f.docs[f.docs.length-1]??null;return{docs:y,nextCursor:b?b.id:null}}function ce(t,e,n){function r(u,h){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:h,constr:l,traits:new Set},enumerable:!1}),u._zod.traits.has(t))return;u._zod.traits.add(t),e(u,h);const f=l.prototype,y=Object.keys(f);for(let b=0;b<y.length;b++){const _=y[b];_ in u||(u[_]=f[_].bind(u))}}const i=n?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:t});function l(u){var h;const f=n?.Parent?new o:this;r(f,u),(h=f._zod).deferred??(h.deferred=[]);for(const y of f._zod.deferred)y();return f}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>n?.Parent&&u instanceof n.Parent?!0:u?._zod?.traits?.has(t)}),Object.defineProperty(l,"name",{value:t}),l}class xc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class iD extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const aD={};function el(t){return aD}function oD(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function h_(t,e){return typeof e=="bigint"?e.toString():e}function r0(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function s0(t){return t==null}function i0(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function d$(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h?.[1]&&(i=Number.parseInt(h[1]))}const o=n>i?n:i,l=Number.parseInt(t.toFixed(o).replace(".","")),u=Number.parseInt(e.toFixed(o).replace(".",""));return l%u/10**o}const TA=Symbol("evaluating");function mt(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==TA)return r===void 0&&(r=TA,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function ul(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Oa(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function SA(t){return JSON.stringify(t)}function h$(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const lD="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Op(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const f$=r0(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function sh(t){if(Op(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Op(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function cD(t){return sh(t)?{...t}:Array.isArray(t)?[...t]:t}const m$=new Set(["string","number","symbol"]);function Eg(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ka(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Ne(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function p$(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const g$={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function y$(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=Oa(t._zod.def,{get shape(){const l={};for(const u in e){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);e[u]&&(l[u]=n.shape[u])}return ul(this,"shape",l),l},checks:[]});return ka(t,o)}function v$(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=Oa(t._zod.def,{get shape(){const l={...t._zod.def.shape};for(const u in e){if(!(u in n.shape))throw new Error(`Unrecognized key: "${u}"`);e[u]&&delete l[u]}return ul(this,"shape",l),l},checks:[]});return ka(t,o)}function b$(t,e){if(!sh(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const l in e)if(Object.getOwnPropertyDescriptor(o,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=Oa(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return ul(this,"shape",o),o}});return ka(t,i)}function _$(t,e){if(!sh(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Oa(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return ul(this,"shape",r),r}});return ka(t,n)}function x$(t,e){const n=Oa(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return ul(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return ka(t,n)}function w$(t,e,n){const i=e._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=Oa(e._zod.def,{get shape(){const u=e._zod.def.shape,h={...u};if(n)for(const f in n){if(!(f in u))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(h[f]=t?new t({type:"optional",innerType:u[f]}):u[f])}else for(const f in u)h[f]=t?new t({type:"optional",innerType:u[f]}):u[f];return ul(this,"shape",h),h},checks:[]});return ka(e,l)}function E$(t,e,n){const r=Oa(e._zod.def,{get shape(){const i=e._zod.def.shape,o={...i};if(n)for(const l in n){if(!(l in o))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(o[l]=new t({type:"nonoptional",innerType:i[l]}))}else for(const l in i)o[l]=new t({type:"nonoptional",innerType:i[l]});return ul(this,"shape",o),o}});return ka(e,r)}function mc(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function uD(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Tm(t){return typeof t=="string"?t:t?.message}function tl(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const i=Tm(t.inst?._zod.def?.error?.(t))??Tm(e?.error?.(t))??Tm(n.customError?.(t))??Tm(n.localeError?.(t))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function a0(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function ih(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const dD=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,h_,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},hD=ce("$ZodError",dD),fD=ce("$ZodError",dD,{Parent:Error});function T$(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function S$(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(l=>r({issues:l}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(e(o));else{let l=n,u=0;for(;u<o.path.length;){const h=o.path[u];u===o.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(e(o))):l[h]=l[h]||{_errors:[]},l=l[h],u++}}};return r(t),n}const o0=t=>(e,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},o);if(l instanceof Promise)throw new xc;if(l.issues.length){const u=new(i?.Err??t)(l.issues.map(h=>tl(h,o,el())));throw lD(u,i?.callee),u}return l.value},l0=t=>async(e,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},o);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(i?.Err??t)(l.issues.map(h=>tl(h,o,el())));throw lD(u,i?.callee),u}return l.value},Tg=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new xc;return o.issues.length?{success:!1,error:new(t??hD)(o.issues.map(l=>tl(l,i,el())))}:{success:!0,data:o.value}},A$=Tg(fD),Sg=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(l=>tl(l,i,el())))}:{success:!0,data:o.value}},I$=Sg(fD),R$=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return o0(t)(e,n,i)},C$=t=>(e,n,r)=>o0(t)(e,n,r),N$=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return l0(t)(e,n,i)},D$=t=>async(e,n,r)=>l0(t)(e,n,r),O$=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Tg(t)(e,n,i)},k$=t=>(e,n,r)=>Tg(t)(e,n,r),P$=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Sg(t)(e,n,i)},M$=t=>async(e,n,r)=>Sg(t)(e,n,r),j$=/^[cC][^\s-]{8,}$/,V$=/^[0-9a-z]+$/,L$=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,z$=/^[0-9a-vA-V]{20}$/,U$=/^[A-Za-z0-9]{27}$/,$$=/^[a-zA-Z0-9_-]{21}$/,F$=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,B$=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,AA=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,q$=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,H$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function G$(){return new RegExp(H$,"u")}const K$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Q$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Z$=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Y$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,W$=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,mD=/^[A-Za-z0-9_-]*$/,X$=/^\+[1-9]\d{6,14}$/,pD="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",J$=new RegExp(`^${pD}$`);function gD(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function eF(t){return new RegExp(`^${gD(t)}$`)}function tF(t){const e=gD({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${pD}T(?:${r})$`)}const nF=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},rF=/^-?\d+$/,sF=/^-?\d+(?:\.\d+)?$/,iF=/^(?:true|false)$/i,aF=/^[^A-Z]*$/,oF=/^[^a-z]*$/,Xn=ce("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),yD={number:"number",bigint:"bigint",object:"date"},vD=ce("$ZodCheckLessThan",(t,e)=>{Xn.init(t,e);const n=yD[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,o=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),bD=ce("$ZodCheckGreaterThan",(t,e)=>{Xn.init(t,e);const n=yD[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,o=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),lF=ce("$ZodCheckMultipleOf",(t,e)=>{Xn.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):d$(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),cF=ce("$ZodCheckNumberFormat",(t,e)=>{Xn.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[i,o]=g$[e.format];t._zod.onattach.push(l=>{const u=l._zod.bag;u.format=e.format,u.minimum=i,u.maximum=o,n&&(u.pattern=rF)}),t._zod.check=l=>{const u=l.value;if(n){if(!Number.isInteger(u)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:u,inst:t});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}u<i&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),u>o&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),uF=ce("$ZodCheckMaxLength",(t,e)=>{var n;Xn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!s0(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const l=a0(i);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),dF=ce("$ZodCheckMinLength",(t,e)=>{var n;Xn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!s0(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const l=a0(i);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),hF=ce("$ZodCheckLengthEquals",(t,e)=>{var n;Xn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!s0(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,o=i.length;if(o===e.length)return;const l=a0(i),u=o>e.length;r.issues.push({origin:l,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Ag=ce("$ZodCheckStringFormat",(t,e)=>{var n,r;Xn.init(t,e),t._zod.onattach.push(i=>{const o=i._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),fF=ce("$ZodCheckRegex",(t,e)=>{Ag.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),mF=ce("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=aF),Ag.init(t,e)}),pF=ce("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=oF),Ag.init(t,e)}),gF=ce("$ZodCheckIncludes",(t,e)=>{Xn.init(t,e);const n=Eg(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),yF=ce("$ZodCheckStartsWith",(t,e)=>{Xn.init(t,e);const n=new RegExp(`^${Eg(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),vF=ce("$ZodCheckEndsWith",(t,e)=>{Xn.init(t,e);const n=new RegExp(`.*${Eg(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),bF=ce("$ZodCheckOverwrite",(t,e)=>{Xn.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class _F{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),i=Math.min(...r.map(l=>l.length-l.trimStart().length)),o=r.map(l=>l.slice(i)).map(l=>" ".repeat(this.indent*2)+l);for(const l of o)this.content.push(l)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,i.join(`
`))}}const xF={major:4,minor:3,patch:5},jt=ce("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=xF;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const o of i._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(l,u,h)=>{let f=mc(l),y;for(const b of u){if(b._zod.def.when){if(!b._zod.def.when(l))continue}else if(f)continue;const _=l.issues.length,E=b._zod.check(l);if(E instanceof Promise&&h?.async===!1)throw new xc;if(y||E instanceof Promise)y=(y??Promise.resolve()).then(async()=>{await E,l.issues.length!==_&&(f||(f=mc(l,_)))});else{if(l.issues.length===_)continue;f||(f=mc(l,_))}}return y?y.then(()=>l):l},o=(l,u,h)=>{if(mc(l))return l.aborted=!0,l;const f=i(u,r,h);if(f instanceof Promise){if(h.async===!1)throw new xc;return f.then(y=>t._zod.parse(y,h))}return t._zod.parse(f,h)};t._zod.run=(l,u)=>{if(u.skipChecks)return t._zod.parse(l,u);if(u.direction==="backward"){const f=t._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return f instanceof Promise?f.then(y=>o(y,l,u)):o(f,l,u)}const h=t._zod.parse(l,u);if(h instanceof Promise){if(u.async===!1)throw new xc;return h.then(f=>i(f,r,u))}return i(h,r,u)}}mt(t,"~standard",()=>({validate:i=>{try{const o=A$(t,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return I$(t,i).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}))}),c0=ce("$ZodString",(t,e)=>{jt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??nF(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Rt=ce("$ZodStringFormat",(t,e)=>{Ag.init(t,e),c0.init(t,e)}),wF=ce("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=B$),Rt.init(t,e)}),EF=ce("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=AA(r))}else e.pattern??(e.pattern=AA());Rt.init(t,e)}),TF=ce("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=q$),Rt.init(t,e)}),SF=ce("$ZodURL",(t,e)=>{Rt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),AF=ce("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=G$()),Rt.init(t,e)}),IF=ce("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=$$),Rt.init(t,e)}),RF=ce("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=j$),Rt.init(t,e)}),CF=ce("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=V$),Rt.init(t,e)}),NF=ce("$ZodULID",(t,e)=>{e.pattern??(e.pattern=L$),Rt.init(t,e)}),DF=ce("$ZodXID",(t,e)=>{e.pattern??(e.pattern=z$),Rt.init(t,e)}),OF=ce("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=U$),Rt.init(t,e)}),kF=ce("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=tF(e)),Rt.init(t,e)}),PF=ce("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=J$),Rt.init(t,e)}),MF=ce("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=eF(e)),Rt.init(t,e)}),jF=ce("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=F$),Rt.init(t,e)}),VF=ce("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=K$),Rt.init(t,e),t._zod.bag.format="ipv4"}),LF=ce("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Q$),Rt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),zF=ce("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Z$),Rt.init(t,e)}),UF=ce("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=Y$),Rt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,o]=r;if(!o)throw new Error;const l=Number(o);if(`${l}`!==o)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function _D(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const $F=ce("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=W$),Rt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{_D(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function FF(t){if(!mD.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return _D(n)}const BF=ce("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=mD),Rt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{FF(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),qF=ce("$ZodE164",(t,e)=>{e.pattern??(e.pattern=X$),Rt.init(t,e)});function HF(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const GF=ce("$ZodJWT",(t,e)=>{Rt.init(t,e),t._zod.check=n=>{HF(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),xD=ce("$ZodNumber",(t,e)=>{jt.init(t,e),t._zod.pattern=t._zod.bag.pattern??sF,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...o?{received:o}:{}}),n}}),KF=ce("$ZodNumberFormat",(t,e)=>{cF.init(t,e),xD.init(t,e)}),QF=ce("$ZodBoolean",(t,e)=>{jt.init(t,e),t._zod.pattern=iF,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),ZF=ce("$ZodUnknown",(t,e)=>{jt.init(t,e),t._zod.parse=n=>n}),YF=ce("$ZodNever",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),WF=ce("$ZodDate",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const i=n.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:t}),n}});function IA(t,e,n){t.issues.length&&e.issues.push(...uD(n,t.issues)),e.value[n]=t.value}const XF=ce("$ZodArray",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const o=[];for(let l=0;l<i.length;l++){const u=i[l],h=e.element._zod.run({value:u,issues:[]},r);h instanceof Promise?o.push(h.then(f=>IA(f,n,l))):IA(h,n,l)}return o.length?Promise.all(o).then(()=>n):n}});function kp(t,e,n,r,i){if(t.issues.length){if(i&&!(n in r))return;e.issues.push(...uD(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function wD(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=p$(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function ED(t,e,n,r,i,o){const l=[],u=i.keySet,h=i.catchall._zod,f=h.def.type,y=h.optout==="optional";for(const b in e){if(u.has(b))continue;if(f==="never"){l.push(b);continue}const _=h.run({value:e[b],issues:[]},r);_ instanceof Promise?t.push(_.then(E=>kp(E,n,b,e,y))):kp(_,n,b,e,y)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const JF=ce("$ZodObject",(t,e)=>{if(jt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const u=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...u};return Object.defineProperty(e,"shape",{value:h}),h}})}const r=r0(()=>wD(e));mt(t._zod,"propValues",()=>{const u=e.shape,h={};for(const f in u){const y=u[f]._zod;if(y.values){h[f]??(h[f]=new Set);for(const b of y.values)h[f].add(b)}}return h});const i=Op,o=e.catchall;let l;t._zod.parse=(u,h)=>{l??(l=r.value);const f=u.value;if(!i(f))return u.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),u;u.value={};const y=[],b=l.shape;for(const _ of l.keys){const E=b[_],A=E._zod.optout==="optional",R=E._zod.run({value:f[_],issues:[]},h);R instanceof Promise?y.push(R.then(D=>kp(D,u,_,f,A))):kp(R,u,_,f,A)}return o?ED(y,f,u,h,r.value,t):y.length?Promise.all(y).then(()=>u):u}}),e8=ce("$ZodObjectJIT",(t,e)=>{JF.init(t,e);const n=t._zod.parse,r=r0(()=>wD(e)),i=_=>{const E=new _F(["shape","payload","ctx"]),A=r.value,R=$=>{const Q=SA($);return`shape[${Q}]._zod.run({ value: input[${Q}], issues: [] }, ctx)`};E.write("const input = payload.value;");const D=Object.create(null);let L=0;for(const $ of A.keys)D[$]=`key_${L++}`;E.write("const newResult = {};");for(const $ of A.keys){const Q=D[$],W=SA($),C=_[$]?._zod?.optout==="optional";E.write(`const ${Q} = ${R($)};`),C?E.write(`
        if (${Q}.issues.length) {
          if (${W} in input) {
            payload.issues = payload.issues.concat(${Q}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${W}, ...iss.path] : [${W}]
            })));
          }
        }
        
        if (${Q}.value === undefined) {
          if (${W} in input) {
            newResult[${W}] = undefined;
          }
        } else {
          newResult[${W}] = ${Q}.value;
        }
        
      `):E.write(`
        if (${Q}.issues.length) {
          payload.issues = payload.issues.concat(${Q}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${W}, ...iss.path] : [${W}]
          })));
        }
        
        if (${Q}.value === undefined) {
          if (${W} in input) {
            newResult[${W}] = undefined;
          }
        } else {
          newResult[${W}] = ${Q}.value;
        }
        
      `)}E.write("payload.value = newResult;"),E.write("return payload;");const F=E.compile();return($,Q)=>F(_,$,Q)};let o;const l=Op,u=!aD.jitless,f=u&&f$.value,y=e.catchall;let b;t._zod.parse=(_,E)=>{b??(b=r.value);const A=_.value;return l(A)?u&&f&&E?.async===!1&&E.jitless!==!0?(o||(o=i(e.shape)),_=o(_,E),y?ED([],A,_,E,b,t):_):n(_,E):(_.issues.push({expected:"object",code:"invalid_type",input:A,inst:t}),_)}});function RA(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const i=t.filter(o=>!mc(o));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(l=>tl(l,r,el())))}),e)}const t8=ce("$ZodUnion",(t,e)=>{jt.init(t,e),mt(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),mt(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),mt(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),mt(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>i0(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,o)=>{if(n)return r(i,o);let l=!1;const u=[];for(const h of e.options){const f=h._zod.run({value:i.value,issues:[]},o);if(f instanceof Promise)u.push(f),l=!0;else{if(f.issues.length===0)return f;u.push(f)}}return l?Promise.all(u).then(h=>RA(h,i,t,o)):RA(u,i,t,o)}}),n8=ce("$ZodIntersection",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,o=e.left._zod.run({value:i,issues:[]},r),l=e.right._zod.run({value:i,issues:[]},r);return o instanceof Promise||l instanceof Promise?Promise.all([o,l]).then(([h,f])=>CA(n,h,f)):CA(n,o,l)}});function f_(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(sh(t)&&sh(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),i={...t,...e};for(const o of r){const l=f_(t[o],e[o]);if(!l.valid)return{valid:!1,mergeErrorPath:[o,...l.mergeErrorPath]};i[o]=l.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=e[r],l=f_(i,o);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function CA(t,e,n){const r=new Map;let i;for(const u of e.issues)if(u.code==="unrecognized_keys"){i??(i=u);for(const h of u.keys)r.has(h)||r.set(h,{}),r.get(h).l=!0}else t.issues.push(u);for(const u of n.issues)if(u.code==="unrecognized_keys")for(const h of u.keys)r.has(h)||r.set(h,{}),r.get(h).r=!0;else t.issues.push(u);const o=[...r].filter(([,u])=>u.l&&u.r).map(([u])=>u);if(o.length&&i&&t.issues.push({...i,keys:o}),mc(t))return t;const l=f_(e.value,n.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return t.value=l.data,t}const r8=ce("$ZodEnum",(t,e)=>{jt.init(t,e);const n=oD(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>m$.has(typeof i)).map(i=>typeof i=="string"?Eg(i):i.toString()).join("|")})$`),t._zod.parse=(i,o)=>{const l=i.value;return r.has(l)||i.issues.push({code:"invalid_value",values:n,input:l,inst:t}),i}}),s8=ce("$ZodTransform",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new iD(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(l=>(n.value=l,n));if(i instanceof Promise)throw new xc;return n.value=i,n}});function NA(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const TD=ce("$ZodOptional",(t,e)=>{jt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",mt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),mt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${i0(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>NA(o,n.value)):NA(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),i8=ce("$ZodExactOptional",(t,e)=>{TD.init(t,e),mt(t._zod,"values",()=>e.innerType._zod.values),mt(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),a8=ce("$ZodNullable",(t,e)=>{jt.init(t,e),mt(t._zod,"optin",()=>e.innerType._zod.optin),mt(t._zod,"optout",()=>e.innerType._zod.optout),mt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${i0(n.source)}|null)$`):void 0}),mt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),o8=ce("$ZodDefault",(t,e)=>{jt.init(t,e),t._zod.optin="optional",mt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>DA(o,e)):DA(i,e)}});function DA(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const l8=ce("$ZodPrefault",(t,e)=>{jt.init(t,e),t._zod.optin="optional",mt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),c8=ce("$ZodNonOptional",(t,e)=>{jt.init(t,e),mt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>OA(o,t)):OA(i,t)}});function OA(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const u8=ce("$ZodCatch",(t,e)=>{jt.init(t,e),mt(t._zod,"optin",()=>e.innerType._zod.optin),mt(t._zod,"optout",()=>e.innerType._zod.optout),mt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(l=>tl(l,r,el()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(o=>tl(o,r,el()))},input:n.value}),n.issues=[]),n)}}),d8=ce("$ZodPipe",(t,e)=>{jt.init(t,e),mt(t._zod,"values",()=>e.in._zod.values),mt(t._zod,"optin",()=>e.in._zod.optin),mt(t._zod,"optout",()=>e.out._zod.optout),mt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(l=>Sm(l,e.in,r)):Sm(o,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(o=>Sm(o,e.out,r)):Sm(i,e.out,r)}});function Sm(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const h8=ce("$ZodReadonly",(t,e)=>{jt.init(t,e),mt(t._zod,"propValues",()=>e.innerType._zod.propValues),mt(t._zod,"values",()=>e.innerType._zod.values),mt(t._zod,"optin",()=>e.innerType?._zod?.optin),mt(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(kA):kA(i)}});function kA(t){return t.value=Object.freeze(t.value),t}const f8=ce("$ZodCustom",(t,e)=>{Xn.init(t,e),jt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(o=>PA(o,n,r,t));PA(i,n,r,t)}});function PA(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(ih(i))}}var MA;class m8{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function p8(){return new m8}(MA=globalThis).__zod_globalRegistry??(MA.__zod_globalRegistry=p8());const Ad=globalThis.__zod_globalRegistry;function g8(t,e){return new t({type:"string",...Ne(e)})}function y8(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ne(e)})}function jA(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ne(e)})}function v8(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ne(e)})}function b8(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ne(e)})}function _8(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ne(e)})}function x8(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ne(e)})}function w8(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ne(e)})}function E8(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ne(e)})}function T8(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ne(e)})}function S8(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ne(e)})}function A8(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ne(e)})}function I8(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ne(e)})}function R8(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ne(e)})}function C8(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ne(e)})}function N8(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ne(e)})}function D8(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ne(e)})}function O8(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ne(e)})}function k8(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ne(e)})}function P8(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ne(e)})}function M8(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ne(e)})}function j8(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ne(e)})}function V8(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ne(e)})}function L8(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ne(e)})}function z8(t,e){return new t({type:"string",format:"date",check:"string_format",...Ne(e)})}function U8(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ne(e)})}function $8(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ne(e)})}function F8(t,e){return new t({type:"number",checks:[],...Ne(e)})}function B8(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ne(e)})}function q8(t,e){return new t({type:"boolean",...Ne(e)})}function H8(t){return new t({type:"unknown"})}function G8(t,e){return new t({type:"never",...Ne(e)})}function K8(t,e){return new t({type:"date",...Ne(e)})}function VA(t,e){return new vD({check:"less_than",...Ne(e),value:t,inclusive:!1})}function Xm(t,e){return new vD({check:"less_than",...Ne(e),value:t,inclusive:!0})}function LA(t,e){return new bD({check:"greater_than",...Ne(e),value:t,inclusive:!1})}function Jm(t,e){return new bD({check:"greater_than",...Ne(e),value:t,inclusive:!0})}function zA(t,e){return new lF({check:"multiple_of",...Ne(e),value:t})}function SD(t,e){return new uF({check:"max_length",...Ne(e),maximum:t})}function Pp(t,e){return new dF({check:"min_length",...Ne(e),minimum:t})}function AD(t,e){return new hF({check:"length_equals",...Ne(e),length:t})}function Q8(t,e){return new fF({check:"string_format",format:"regex",...Ne(e),pattern:t})}function Z8(t){return new mF({check:"string_format",format:"lowercase",...Ne(t)})}function Y8(t){return new pF({check:"string_format",format:"uppercase",...Ne(t)})}function W8(t,e){return new gF({check:"string_format",format:"includes",...Ne(e),includes:t})}function X8(t,e){return new yF({check:"string_format",format:"starts_with",...Ne(e),prefix:t})}function J8(t,e){return new vF({check:"string_format",format:"ends_with",...Ne(e),suffix:t})}function eu(t){return new bF({check:"overwrite",tx:t})}function eB(t){return eu(e=>e.normalize(t))}function tB(){return eu(t=>t.trim())}function nB(){return eu(t=>t.toLowerCase())}function rB(){return eu(t=>t.toUpperCase())}function sB(){return eu(t=>h$(t))}function iB(t,e,n){return new t({type:"array",element:e,...Ne(n)})}function aB(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Ne(n)})}function oB(t){const e=lB(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(ih(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(ih(i))}},t(n.value,n)));return e}function lB(t,e){const n=new Xn({check:"custom",...Ne(e)});return n._zod.check=t,n}function ID(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Ad,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function En(t,e,n={path:[],schemaPath:[]}){var r;const i=t._zod.def,o=e.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,l);const u=t._zod.toJSONSchema?.();if(u)l.schema=u;else{const y={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,l.schema,y);else{const _=l.schema,E=e.processors[i.type];if(!E)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);E(t,e,_,y)}const b=t._zod.parent;b&&(l.ref||(l.ref=b),En(b,e,y),e.seen.get(b).isParent=!0)}const h=e.metadataRegistry.get(t);return h&&Object.assign(l.schema,h),e.io==="input"&&Pn(t)&&(delete l.schema.examples,delete l.schema.default),e.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,e.seen.get(t).schema}function RD(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const l of t.seen.entries()){const u=t.metadataRegistry.get(l[0])?.id;if(u){const h=r.get(u);if(h&&h!==l[0])throw new Error(`Duplicate schema id "${u}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(u,l[0])}}const i=l=>{const u=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const b=t.external.registry.get(l[0])?.id,_=t.external.uri??(A=>A);if(b)return{ref:_(b)};const E=l[1].defId??l[1].schema.id??`schema${t.counter++}`;return l[1].defId=E,{defId:E,ref:`${_("__shared")}#/${u}/${E}`}}if(l[1]===n)return{ref:"#"};const f=`#/${u}/`,y=l[1].schema.id??`__schema${t.counter++}`;return{defId:y,ref:f+y}},o=l=>{if(l[1].schema.$ref)return;const u=l[1],{ref:h,defId:f}=i(l);u.def={...u.schema},f&&(u.defId=f);const y=u.schema;for(const b in y)delete y[b];y.$ref=h};if(t.cycles==="throw")for(const l of t.seen.entries()){const u=l[1];if(u.cycle)throw new Error(`Cycle detected: #/${u.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const l of t.seen.entries()){const u=l[1];if(e===l[0]){o(l);continue}if(t.external){const f=t.external.registry.get(l[0])?.id;if(e!==l[0]&&f){o(l);continue}}if(t.metadataRegistry.get(l[0])?.id){o(l);continue}if(u.cycle){o(l);continue}if(u.count>1&&t.reused==="ref"){o(l);continue}}}function CD(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=l=>{const u=t.seen.get(l);if(u.ref===null)return;const h=u.def??u.schema,f={...h},y=u.ref;if(u.ref=null,y){r(y);const _=t.seen.get(y),E=_.schema;if(E.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(h.allOf=h.allOf??[],h.allOf.push(E)):Object.assign(h,E),Object.assign(h,f),l._zod.parent===y)for(const R in h)R==="$ref"||R==="allOf"||R in f||delete h[R];if(E.$ref)for(const R in h)R==="$ref"||R==="allOf"||R in _.def&&JSON.stringify(h[R])===JSON.stringify(_.def[R])&&delete h[R]}const b=l._zod.parent;if(b&&b!==y){r(b);const _=t.seen.get(b);if(_?.schema.$ref&&(h.$ref=_.schema.$ref,_.def))for(const E in h)E==="$ref"||E==="allOf"||E in _.def&&JSON.stringify(h[E])===JSON.stringify(_.def[E])&&delete h[E]}t.override({zodSchema:l,jsonSchema:h,path:u.path??[]})};for(const l of[...t.seen.entries()].reverse())r(l[0]);const i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const l=t.external.registry.get(e)?.id;if(!l)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(l)}Object.assign(i,n.def??n.schema);const o=t.external?.defs??{};for(const l of t.seen.entries()){const u=l[1];u.def&&u.defId&&(o[u.defId]=u.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?i.$defs=o:i.definitions=o);try{const l=JSON.parse(JSON.stringify(i));return Object.defineProperty(l,"~standard",{value:{...e["~standard"],jsonSchema:{input:Mp(e,"input",t.processors),output:Mp(e,"output",t.processors)}},enumerable:!1,writable:!1}),l}catch{throw new Error("Error converting schema to JSON.")}}function Pn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Pn(r.element,n);if(r.type==="set")return Pn(r.valueType,n);if(r.type==="lazy")return Pn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Pn(r.innerType,n);if(r.type==="intersection")return Pn(r.left,n)||Pn(r.right,n);if(r.type==="record"||r.type==="map")return Pn(r.keyType,n)||Pn(r.valueType,n);if(r.type==="pipe")return Pn(r.in,n)||Pn(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Pn(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Pn(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Pn(i,n))return!0;return!!(r.rest&&Pn(r.rest,n))}return!1}const cB=(t,e={})=>n=>{const r=ID({...n,processors:e});return En(t,r),RD(r,t),CD(r,t)},Mp=(t,e,n={})=>r=>{const{libraryOptions:i,target:o}=r??{},l=ID({...i??{},target:o,io:e,processors:n});return En(t,l),RD(l,t),CD(l,t)},uB={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},dB=(t,e,n,r)=>{const i=n;i.type="string";const{minimum:o,maximum:l,format:u,patterns:h,contentEncoding:f}=t._zod.bag;if(typeof o=="number"&&(i.minLength=o),typeof l=="number"&&(i.maxLength=l),u&&(i.format=uB[u]??u,i.format===""&&delete i.format,u==="time"&&delete i.format),f&&(i.contentEncoding=f),h&&h.size>0){const y=[...h];y.length===1?i.pattern=y[0].source:y.length>1&&(i.allOf=[...y.map(b=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:b.source}))])}},hB=(t,e,n,r)=>{const i=n,{minimum:o,maximum:l,format:u,multipleOf:h,exclusiveMaximum:f,exclusiveMinimum:y}=t._zod.bag;typeof u=="string"&&u.includes("int")?i.type="integer":i.type="number",typeof y=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=y,i.exclusiveMinimum=!0):i.exclusiveMinimum=y),typeof o=="number"&&(i.minimum=o,typeof y=="number"&&e.target!=="draft-04"&&(y>=o?delete i.minimum:delete i.exclusiveMinimum)),typeof f=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=f,i.exclusiveMaximum=!0):i.exclusiveMaximum=f),typeof l=="number"&&(i.maximum=l,typeof f=="number"&&e.target!=="draft-04"&&(f<=l?delete i.maximum:delete i.exclusiveMaximum)),typeof h=="number"&&(i.multipleOf=h)},fB=(t,e,n,r)=>{n.type="boolean"},mB=(t,e,n,r)=>{n.not={}},pB=(t,e,n,r)=>{},gB=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},yB=(t,e,n,r)=>{const i=t._zod.def,o=oD(i.entries);o.every(l=>typeof l=="number")&&(n.type="number"),o.every(l=>typeof l=="string")&&(n.type="string"),n.enum=o},vB=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},bB=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},_B=(t,e,n,r)=>{const i=n,o=t._zod.def,{minimum:l,maximum:u}=t._zod.bag;typeof l=="number"&&(i.minItems=l),typeof u=="number"&&(i.maxItems=u),i.type="array",i.items=En(o.element,e,{...r,path:[...r.path,"items"]})},xB=(t,e,n,r)=>{const i=n,o=t._zod.def;i.type="object",i.properties={};const l=o.shape;for(const f in l)i.properties[f]=En(l[f],e,{...r,path:[...r.path,"properties",f]});const u=new Set(Object.keys(l)),h=new Set([...u].filter(f=>{const y=o.shape[f]._zod;return e.io==="input"?y.optin===void 0:y.optout===void 0}));h.size>0&&(i.required=Array.from(h)),o.catchall?._zod.def.type==="never"?i.additionalProperties=!1:o.catchall?o.catchall&&(i.additionalProperties=En(o.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},wB=(t,e,n,r)=>{const i=t._zod.def,o=i.inclusive===!1,l=i.options.map((u,h)=>En(u,e,{...r,path:[...r.path,o?"oneOf":"anyOf",h]}));o?n.oneOf=l:n.anyOf=l},EB=(t,e,n,r)=>{const i=t._zod.def,o=En(i.left,e,{...r,path:[...r.path,"allOf",0]}),l=En(i.right,e,{...r,path:[...r.path,"allOf",1]}),u=f=>"allOf"in f&&Object.keys(f).length===1,h=[...u(o)?o.allOf:[o],...u(l)?l.allOf:[l]];n.allOf=h},TB=(t,e,n,r)=>{const i=t._zod.def,o=En(i.innerType,e,r),l=e.seen.get(t);e.target==="openapi-3.0"?(l.ref=i.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},SB=(t,e,n,r)=>{const i=t._zod.def;En(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType},AB=(t,e,n,r)=>{const i=t._zod.def;En(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},IB=(t,e,n,r)=>{const i=t._zod.def;En(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},RB=(t,e,n,r)=>{const i=t._zod.def;En(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType;let l;try{l=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},CB=(t,e,n,r)=>{const i=t._zod.def,o=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;En(o,e,r);const l=e.seen.get(t);l.ref=o},NB=(t,e,n,r)=>{const i=t._zod.def;En(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType,n.readOnly=!0},ND=(t,e,n,r)=>{const i=t._zod.def;En(i.innerType,e,r);const o=e.seen.get(t);o.ref=i.innerType},DB=ce("ZodISODateTime",(t,e)=>{kF.init(t,e),Ot.init(t,e)});function OB(t){return L8(DB,t)}const kB=ce("ZodISODate",(t,e)=>{PF.init(t,e),Ot.init(t,e)});function PB(t){return z8(kB,t)}const MB=ce("ZodISOTime",(t,e)=>{MF.init(t,e),Ot.init(t,e)});function jB(t){return U8(MB,t)}const VB=ce("ZodISODuration",(t,e)=>{jF.init(t,e),Ot.init(t,e)});function LB(t){return $8(VB,t)}const zB=(t,e)=>{hD.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>S$(t,n)},flatten:{value:n=>T$(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,h_,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,h_,2)}},isEmpty:{get(){return t.issues.length===0}}})},Mr=ce("ZodError",zB,{Parent:Error}),UB=o0(Mr),$B=l0(Mr),FB=Tg(Mr),BB=Sg(Mr),qB=R$(Mr),HB=C$(Mr),GB=N$(Mr),KB=D$(Mr),QB=O$(Mr),ZB=k$(Mr),YB=P$(Mr),WB=M$(Mr),Vt=ce("ZodType",(t,e)=>(jt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:Mp(t,"input"),output:Mp(t,"output")}}),t.toJSONSchema=cB(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Oa(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>ka(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>UB(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>FB(t,n,r),t.parseAsync=async(n,r)=>$B(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>BB(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>qB(t,n,r),t.decode=(n,r)=>HB(t,n,r),t.encodeAsync=async(n,r)=>GB(t,n,r),t.decodeAsync=async(n,r)=>KB(t,n,r),t.safeEncode=(n,r)=>QB(t,n,r),t.safeDecode=(n,r)=>ZB(t,n,r),t.safeEncodeAsync=async(n,r)=>YB(t,n,r),t.safeDecodeAsync=async(n,r)=>WB(t,n,r),t.refine=(n,r)=>t.check(H7(n,r)),t.superRefine=n=>t.check(G7(n)),t.overwrite=n=>t.check(eu(n)),t.optional=()=>qA(t),t.exactOptional=()=>O7(t),t.nullable=()=>HA(t),t.nullish=()=>qA(HA(t)),t.nonoptional=n=>L7(t,n),t.array=()=>zc(t),t.or=n=>A7([t,n]),t.and=n=>R7(t,n),t.transform=n=>GA(t,N7(n)),t.default=n=>M7(t,n),t.prefault=n=>V7(t,n),t.catch=n=>U7(t,n),t.pipe=n=>GA(t,n),t.readonly=()=>B7(t),t.describe=n=>{const r=t.clone();return Ad.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Ad.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Ad.get(t);const r=t.clone();return Ad.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),DD=ce("_ZodString",(t,e)=>{c0.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(r,i,o)=>dB(t,r,i);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(Q8(...r)),t.includes=(...r)=>t.check(W8(...r)),t.startsWith=(...r)=>t.check(X8(...r)),t.endsWith=(...r)=>t.check(J8(...r)),t.min=(...r)=>t.check(Pp(...r)),t.max=(...r)=>t.check(SD(...r)),t.length=(...r)=>t.check(AD(...r)),t.nonempty=(...r)=>t.check(Pp(1,...r)),t.lowercase=r=>t.check(Z8(r)),t.uppercase=r=>t.check(Y8(r)),t.trim=()=>t.check(tB()),t.normalize=(...r)=>t.check(eB(...r)),t.toLowerCase=()=>t.check(nB()),t.toUpperCase=()=>t.check(rB()),t.slugify=()=>t.check(sB())}),XB=ce("ZodString",(t,e)=>{c0.init(t,e),DD.init(t,e),t.email=n=>t.check(y8(JB,n)),t.url=n=>t.check(w8(e7,n)),t.jwt=n=>t.check(V8(p7,n)),t.emoji=n=>t.check(E8(t7,n)),t.guid=n=>t.check(jA(UA,n)),t.uuid=n=>t.check(v8(Am,n)),t.uuidv4=n=>t.check(b8(Am,n)),t.uuidv6=n=>t.check(_8(Am,n)),t.uuidv7=n=>t.check(x8(Am,n)),t.nanoid=n=>t.check(T8(n7,n)),t.guid=n=>t.check(jA(UA,n)),t.cuid=n=>t.check(S8(r7,n)),t.cuid2=n=>t.check(A8(s7,n)),t.ulid=n=>t.check(I8(i7,n)),t.base64=n=>t.check(P8(h7,n)),t.base64url=n=>t.check(M8(f7,n)),t.xid=n=>t.check(R8(a7,n)),t.ksuid=n=>t.check(C8(o7,n)),t.ipv4=n=>t.check(N8(l7,n)),t.ipv6=n=>t.check(D8(c7,n)),t.cidrv4=n=>t.check(O8(u7,n)),t.cidrv6=n=>t.check(k8(d7,n)),t.e164=n=>t.check(j8(m7,n)),t.datetime=n=>t.check(OB(n)),t.date=n=>t.check(PB(n)),t.time=n=>t.check(jB(n)),t.duration=n=>t.check(LB(n))});function Xr(t){return g8(XB,t)}const Ot=ce("ZodStringFormat",(t,e)=>{Rt.init(t,e),DD.init(t,e)}),JB=ce("ZodEmail",(t,e)=>{TF.init(t,e),Ot.init(t,e)}),UA=ce("ZodGUID",(t,e)=>{wF.init(t,e),Ot.init(t,e)}),Am=ce("ZodUUID",(t,e)=>{EF.init(t,e),Ot.init(t,e)}),e7=ce("ZodURL",(t,e)=>{SF.init(t,e),Ot.init(t,e)}),t7=ce("ZodEmoji",(t,e)=>{AF.init(t,e),Ot.init(t,e)}),n7=ce("ZodNanoID",(t,e)=>{IF.init(t,e),Ot.init(t,e)}),r7=ce("ZodCUID",(t,e)=>{RF.init(t,e),Ot.init(t,e)}),s7=ce("ZodCUID2",(t,e)=>{CF.init(t,e),Ot.init(t,e)}),i7=ce("ZodULID",(t,e)=>{NF.init(t,e),Ot.init(t,e)}),a7=ce("ZodXID",(t,e)=>{DF.init(t,e),Ot.init(t,e)}),o7=ce("ZodKSUID",(t,e)=>{OF.init(t,e),Ot.init(t,e)}),l7=ce("ZodIPv4",(t,e)=>{VF.init(t,e),Ot.init(t,e)}),c7=ce("ZodIPv6",(t,e)=>{LF.init(t,e),Ot.init(t,e)}),u7=ce("ZodCIDRv4",(t,e)=>{zF.init(t,e),Ot.init(t,e)}),d7=ce("ZodCIDRv6",(t,e)=>{UF.init(t,e),Ot.init(t,e)}),h7=ce("ZodBase64",(t,e)=>{$F.init(t,e),Ot.init(t,e)}),f7=ce("ZodBase64URL",(t,e)=>{BF.init(t,e),Ot.init(t,e)}),m7=ce("ZodE164",(t,e)=>{qF.init(t,e),Ot.init(t,e)}),p7=ce("ZodJWT",(t,e)=>{GF.init(t,e),Ot.init(t,e)}),OD=ce("ZodNumber",(t,e)=>{xD.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(r,i,o)=>hB(t,r,i),t.gt=(r,i)=>t.check(LA(r,i)),t.gte=(r,i)=>t.check(Jm(r,i)),t.min=(r,i)=>t.check(Jm(r,i)),t.lt=(r,i)=>t.check(VA(r,i)),t.lte=(r,i)=>t.check(Xm(r,i)),t.max=(r,i)=>t.check(Xm(r,i)),t.int=r=>t.check($A(r)),t.safe=r=>t.check($A(r)),t.positive=r=>t.check(LA(0,r)),t.nonnegative=r=>t.check(Jm(0,r)),t.negative=r=>t.check(VA(0,r)),t.nonpositive=r=>t.check(Xm(0,r)),t.multipleOf=(r,i)=>t.check(zA(r,i)),t.step=(r,i)=>t.check(zA(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function m_(t){return F8(OD,t)}const g7=ce("ZodNumberFormat",(t,e)=>{KF.init(t,e),OD.init(t,e)});function $A(t){return B8(g7,t)}const y7=ce("ZodBoolean",(t,e)=>{QF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>fB(t,n,r)});function v7(t){return q8(y7,t)}const b7=ce("ZodUnknown",(t,e)=>{ZF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>pB()});function FA(){return H8(b7)}const _7=ce("ZodNever",(t,e)=>{YF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>mB(t,n,r)});function x7(t){return G8(_7,t)}const w7=ce("ZodDate",(t,e)=>{WF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(r,i,o)=>gB(t,r),t.min=(r,i)=>t.check(Jm(r,i)),t.max=(r,i)=>t.check(Xm(r,i));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function BA(t){return K8(w7,t)}const E7=ce("ZodArray",(t,e)=>{XF.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>_B(t,n,r,i),t.element=e.element,t.min=(n,r)=>t.check(Pp(n,r)),t.nonempty=n=>t.check(Pp(1,n)),t.max=(n,r)=>t.check(SD(n,r)),t.length=(n,r)=>t.check(AD(n,r)),t.unwrap=()=>t.element});function zc(t,e){return iB(E7,t,e)}const T7=ce("ZodObject",(t,e)=>{e8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>xB(t,n,r,i),mt(t,"shape",()=>e.shape),t.keyof=()=>kD(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:FA()}),t.loose=()=>t.clone({...t._zod.def,catchall:FA()}),t.strict=()=>t.clone({...t._zod.def,catchall:x7()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>b$(t,n),t.safeExtend=n=>_$(t,n),t.merge=n=>x$(t,n),t.pick=n=>y$(t,n),t.omit=n=>v$(t,n),t.partial=(...n)=>w$(PD,t,n[0]),t.required=(...n)=>E$(MD,t,n[0])});function Rh(t,e){const n={type:"object",shape:t??{},...Ne(e)};return new T7(n)}const S7=ce("ZodUnion",(t,e)=>{t8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>wB(t,n,r,i),t.options=e.options});function A7(t,e){return new S7({type:"union",options:t,...Ne(e)})}const I7=ce("ZodIntersection",(t,e)=>{n8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>EB(t,n,r,i)});function R7(t,e){return new I7({type:"intersection",left:t,right:e})}const p_=ce("ZodEnum",(t,e)=>{r8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(r,i,o)=>yB(t,r,i),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const o={};for(const l of r)if(n.has(l))o[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new p_({...e,checks:[],...Ne(i),entries:o})},t.exclude=(r,i)=>{const o={...e.entries};for(const l of r)if(n.has(l))delete o[l];else throw new Error(`Key ${l} not found in enum`);return new p_({...e,checks:[],...Ne(i),entries:o})}});function kD(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new p_({type:"enum",entries:n,...Ne(e)})}const C7=ce("ZodTransform",(t,e)=>{s8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>bB(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new iD(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(ih(o,n.value,e));else{const l=o;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=t),n.issues.push(ih(l))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(o=>(n.value=o,n)):(n.value=i,n)}});function N7(t){return new C7({type:"transform",transform:t})}const PD=ce("ZodOptional",(t,e)=>{TD.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>ND(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function qA(t){return new PD({type:"optional",innerType:t})}const D7=ce("ZodExactOptional",(t,e)=>{i8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>ND(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function O7(t){return new D7({type:"optional",innerType:t})}const k7=ce("ZodNullable",(t,e)=>{a8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>TB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function HA(t){return new k7({type:"nullable",innerType:t})}const P7=ce("ZodDefault",(t,e)=>{o8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>AB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function M7(t,e){return new P7({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():cD(e)}})}const j7=ce("ZodPrefault",(t,e)=>{l8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>IB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function V7(t,e){return new j7({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():cD(e)}})}const MD=ce("ZodNonOptional",(t,e)=>{c8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>SB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function L7(t,e){return new MD({type:"nonoptional",innerType:t,...Ne(e)})}const z7=ce("ZodCatch",(t,e)=>{u8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>RB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function U7(t,e){return new z7({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const $7=ce("ZodPipe",(t,e)=>{d8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>CB(t,n,r,i),t.in=e.in,t.out=e.out});function GA(t,e){return new $7({type:"pipe",in:t,out:e})}const F7=ce("ZodReadonly",(t,e)=>{h8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>NB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function B7(t){return new F7({type:"readonly",innerType:t})}const q7=ce("ZodCustom",(t,e)=>{f8.init(t,e),Vt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>vB(t,n)});function H7(t,e={}){return aB(q7,t,e)}function G7(t){return oB(t)}const K7=Rh({id:Xr().optional(),name:Xr().min(1),dupr:m_().nonnegative().optional(),imageUrl:Xr().optional(),createdAt:Xr().optional()}),Q7=Rh({scoreA:m_().optional(),scoreB:m_().optional()}),Z7=Rh({playerNames:zc(Xr()).length(4),matches:zc(Q7).length(3)}),Y7=Rh({courts:zc(Z7)}),W7=Rh({id:Xr(),name:Xr(),startDateTime:BA(),endDateTime:BA().optional(),allDay:v7().optional(),location:Xr().optional(),status:kD(["open","closed","cancelled"]).optional(),link:Xr().optional(),standings:zc(Xr()).optional(),label:Xr().optional(),rounds:zc(Y7).optional()});function X7(t){if(t){if(typeof t?.toDate=="function")return t.toDate().toISOString();if(typeof t=="string")return t}}function KA(t){if(t){if(typeof t?.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);if(!isNaN(e.getTime()))return e}}}const J7={toFirestore(t){const{id:e,createdAt:n,...r}=t;return{...r,createdAt:n||T2()}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,name:n.name,dupr:n.dupr,imageUrl:n.imageUrl,createdAt:X7(n.createdAt)};return K7.parse(r)}},eq={toFirestore(t){const{id:e,...n}=t,{startDateTime:r,endDateTime:i,...o}=n;return{...o,startDateTime:r||T2(),endDateTime:i||null}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,name:n.name,startDateTime:KA(n.startDateTime),endDateTime:KA(n.endDateTime),location:n.location,status:n.status,link:n.link,standings:Array.isArray(n.standings)?n.standings.map(String):void 0,label:n.label,rounds:Array.isArray(n.rounds)?n.rounds:void 0};return W7.parse(r)}};function jD(t,e,n){const r=[e];async function i(u){await t.cancelQueries({queryKey:[e,n]});const h=n?t.getQueryData([e,n]):null,f=t.getQueryData(r),y=u?.id??n,b=y?{...h,...u,id:y}:void 0;return b&&b.id&&(t.setQueryData([e,b.id],b),t.setQueryData(r,_=>{const E=_??[],A=E.findIndex(R=>R.id===b.id);if(A>=0){const R=[...E];return R[A]=b,R}return[b,...E]})),{previousItem:h,previousList:f}}function o(...u){const h=u[u.length-1];h?.previousItem&&n&&t.setQueryData([e,n],h.previousItem),h?.previousList?t.setQueryData(r,h.previousList):t.invalidateQueries({queryKey:r})}function l(...u){const h=u[0];if(typeof h=="string"&&h)t.invalidateQueries({queryKey:[e,h]});else if(h&&typeof h=="object"&&"id"in h){const f=h.id;f&&t.invalidateQueries({queryKey:[e,f]})}t.invalidateQueries({queryKey:r})}return{onMutate:i,onError:o,onSettled:l}}function tq(t,e,n){const r=Bc(),o=wR({queryKey:[t,n],queryFn:async()=>n?a$(t,n,e):null,enabled:!!n,staleTime:1e3*60}),l=jD(r,t,n),u=Gp({mutationFn:async h=>{if(h?.id)return await o$(t,h.id,h,e),h;{const f=await sD(t,h,e);return{...h,id:f}}},onMutate:l.onMutate,onError:l.onError,onSettled:l.onSettled});return{...o,upsert:u.mutateAsync,upsertState:{status:u.status,error:u.error??null}}}function nq(t,e){const n=wR({queryKey:[t],queryFn:async()=>{const r=await u$(t,{pageSize:1e3,converter:e});return console.log("useFirestoreEntities fetched",r.docs.length,"items from",t),r.docs},staleTime:6e4});return console.log("useFirestoreEntities query:",n,"collectionName:",t),n}function rq(t,e){const n=Bc(),r=Gp({mutationFn:async i=>await sD(t,i,e),onMutate:async i=>{await n.cancelQueries({queryKey:[t]});const o=n.getQueryData([t]),l=`__tmp__${Date.now()}`,u={...i,id:l};return n.setQueryData([t],h=>[u,...h??[]]),{previousList:o}},onError:(i,o,l)=>{l?.previousList?n.setQueryData([t],l.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:i=>{n.invalidateQueries({queryKey:[t]}),i&&n.invalidateQueries({queryKey:[t,i]})}});return{create:r.mutateAsync,status:r.status,error:r.error??null}}function sq(t,e,n){const r=Bc(),i=jD(r,t,n),o=Gp({mutationFn:async l=>{if(!n)throw new Error("id required for update");await l$(t,n,l,e)},onMutate:i.onMutate,onError:i.onError,onSettled:i.onSettled});return{update:o.mutateAsync,status:o.status,error:o.error??null}}function iq(t,e){const n=Bc(),r=Gp({mutationFn:async()=>{if(!e)throw new Error("id required for delete");await c$(t,e)},onMutate:async()=>{if(!e)return{};await n.cancelQueries({queryKey:[t]});const i=n.getQueryData([t,e]),o=n.getQueryData([t]);return o&&n.setQueryData([t],o.filter(l=>l.id!==e)),n.setQueryData([t,e],null),{previous:i,previousList:o}},onError:(i,o,l)=>{l?.previous&&e&&n.setQueryData([t,e],l.previous),l?.previousList?n.setQueryData([t],l.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:()=>{e&&n.invalidateQueries({queryKey:[t,e]}),n.invalidateQueries({queryKey:[t]})}});return{remove:r.mutateAsync,status:r.status,error:r.error??null}}function aq(t,e,n){const[r,i]=S.useState(null),[o,l]=S.useState(!!n),[u,h]=S.useState(null),[f,y]=S.useState(n);return n!==f&&(y(n),h(null),n?l(!0):(i(null),l(!1))),S.useEffect(()=>{if(!n)return;const b=Ox(Ti,t),_=e?b.withConverter(e):b,E=Xc(_,n),A=w2(E,R=>{R.exists()?i(R.data()):i(null),l(!1)},R=>{h(R),l(!1)});return()=>{A()}},[t,n,e]),{data:r,loading:o,error:u}}function oq(t,e){const[n,r]=S.useState(null),[i,o]=S.useState(!0),[l,u]=S.useState(null),[h,f]=S.useState(t);return t!==h&&(f(t),u(null),o(!0)),S.useEffect(()=>{const y=Ox(Ti,t),b=e?y.withConverter(e):y,_=w2(b,E=>{const A=E.docs.map(R=>R.data());r(A),o(!1)},E=>{u(E),o(!1)});return()=>{_()}},[t,e]),{data:n,loading:i,error:l}}function VD(t,e){function n(f){return tq(t,e,f)}function r(){return nq(t,e)}function i(){return rq(t,e)}function o(f){return sq(t,e,f)}function l(f){return iq(t,f)}function u(f){return aq(t,e,f)}function h(){return oq(t,e)}return{useEntity:n,useEntities:r,useCreate:i,useUpdate:o,useDelete:l,useEntityRealtime:u,useEntitiesRealtime:h}}const{useEntities:tu,useCreate:lq,useEntitiesRealtime:cq}=VD("players",J7),{useEntity:LD,useEntities:Pa,useCreate:uq,useUpdate:dq}=VD("events",eq),Me=$e.forwardRef(({children:t,className:e,variant:n="default",...r},i)=>{const o="bg-surface p-6 rounded-xl shadow-sm border border-border",l={default:o,outlined:"bg-transparent p-6 rounded-xl border border-border",flat:"bg-surface p-4 rounded-lg"};return g.jsx("div",{ref:i,className:Rn(l[n]??o,e),...r,children:t})});Me.displayName="Card";const u0=({imageUrl:t,name:e,size:n="md",className:r,border:i=!0})=>{const o={sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-xs",lg:"h-12 w-12 text-sm",xl:"h-16 w-16 text-base"},l={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-8 w-8"},u=Rn("rounded-full object-cover flex-shrink-0",o[n],i&&"border border-border",r);if(t){const h=t.startsWith("/")?`/${t.slice(1)}`:t;return g.jsx("img",{src:h,alt:e,className:u})}return g.jsx("div",{className:Rn(u,"bg-surface-highlight flex items-center justify-center"),children:e?g.jsx("span",{className:"font-bold text-text-muted",children:e.charAt(0)}):g.jsx(RR,{className:Rn("text-text-muted",l[n])})})},hq=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}},Ig=({rank:t,className:e,size:n="md"})=>{const r={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},i=o=>o===1?"bg-warning/20 text-warning":o===2?"bg-surface-alt text-text-muted":o===3?"bg-bronze/20 text-bronze":"text-text-muted";return g.jsx("span",{className:Rn("flex items-center justify-center rounded-full font-bold",r[n],i(t),e),children:hq(t)})},fq=()=>{const{data:t=[]}=Pa(),{data:e=[]}=tu(),n=$e.useMemo(()=>{const u=new Map,h=new Map;(t||[]).filter(b=>Array.isArray(b.standings)&&b.standings.length>0).forEach(b=>{const _={id:b.id,date:b.startDateTime?b.startDateTime.toISOString():b.id,isCompleted:!0,standings:b.standings};(Yp(_)||[]).forEach(A=>{const R=A.playerId,D=A.pointsEarned||0;u.set(R,(u.get(R)||0)+D),h.set(R,(h.get(R)||0)+1)})});const y=Array.from(u.entries()).map(([b,_])=>({playerId:b,points:_}));return y.sort((b,_)=>_.points-b.points),y.slice(0,3).map((b,_)=>({playerId:b.playerId,points:b.points,events:h.get(b.playerId)||0,rank:_+1}))},[t]),r=(()=>{const u=(t||[]).filter(f=>f.startDateTime instanceof Date&&!isNaN(f.startDateTime.getTime()));if(u.length===0)return"Challenge Series";const h=Array.from(new Set(u.map(f=>f.startDateTime.getFullYear()))).sort();return h.length===1?`${h[0]} Challenge`:`${h[0]}${h[h.length-1]} Challenge`})(),i=$e.useMemo(()=>{if(!t||t.length===0)return null;const u=t.filter(b=>b.startDateTime instanceof Date&&!isNaN(b.startDateTime.getTime()));u.sort((b,_)=>b.startDateTime.getTime()-_.startDateTime.getTime());const f=new Date().getTime(),y=u.filter(b=>b.startDateTime.getTime()>=f);return y.length>0?y[0]:null},[t]),o=u=>u?u.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"",l=u=>u?u.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";return g.jsxs("div",{className:"space-y-12",children:[g.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-surface border border-border",children:[g.jsx("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-96 h-96 bg-surface-highlight/50 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10 px-8 py-16 md:py-24 text-center max-w-4xl mx-auto",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-surface-highlight border border-border mb-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[g.jsxs("span",{className:"relative flex h-2 w-2",children:[g.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success opacity-75"}),g.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-success"})]}),g.jsxs("span",{className:"text-sm font-medium text-text-main",children:[r," is Live"]})]}),g.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-text-main mb-6 tracking-tight animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100",children:["Paddle Up",g.jsx("br",{}),g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-text-accent",children:"Advanced Challenge"})]}),g.jsx("p",{className:"text-xl text-text-muted mb-10 max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:"Join our competitive pickleball event designed for advanced players looking to test their skills and climb the rankings each week."}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300",children:[g.jsxs(Ct,{to:"/standings",className:"w-full sm:w-auto px-8 py-4 bg-primary text-text-main rounded-xl font-bold text-lg hover:bg-primary-hover transition-all shadow-lg shadow-primary/25 flex items-center justify-center gap-2",children:["View Standings ",g.jsx(Hv,{className:"h-5 w-5"})]}),g.jsx(Ct,{to:"/format",className:"w-full sm:w-auto px-8 py-4 bg-surface-highlight text-text-main border border-border rounded-xl font-bold text-lg hover:bg-surface-alt transition-all flex items-center justify-center gap-2",children:"League Format"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[g.jsxs(Me,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[g.jsx(al,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"16"}),g.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Players per night"})]}),g.jsxs(Me,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[g.jsx($o,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"7-10 PM"}),g.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Every Sunday"})]}),g.jsxs(Me,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[g.jsx(Un,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"100"}),g.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Club Points Prize Pool"})]}),g.jsxs(Me,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[g.jsx(IR,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"3.6+ DUPR"}),g.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Level Format"})]})]}),g.jsxs("div",{className:"bg-surface-highlight/50 rounded-2xl p-8 border border-border text-center",children:[g.jsxs("h2",{className:"text-2xl font-bold text-text-main mb-4 flex items-center justify-center gap-2",children:[g.jsx(Un,{className:"h-6 w-6 text-warning"}),"Monthly Prizes"]}),g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto mb-6",children:"At the end of each month, the top 3 players in the monthly standings will receive club points as rewards for their performance."}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-4 max-w-3xl mx-auto",children:[g.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-border",children:[g.jsx("span",{className:"block text-2xl font-bold text-warning mb-1",children:"1st Place"}),g.jsx("span",{className:"text-sm text-text-muted",children:"50 Club Pts"})]}),g.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-border",children:[g.jsx("span",{className:"block text-2xl font-bold text-text-main mb-1",children:"2nd Place"}),g.jsx("span",{className:"text-sm text-text-muted",children:"30 Club Pts"})]}),g.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-border",children:[g.jsx("span",{className:"block text-2xl font-bold text-text-main mb-1",children:"3rd Place"}),g.jsx("span",{className:"text-sm text-text-muted",children:"20 Club Pts"})]})]})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs(Me,{className:"h-full flex flex-col",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("h2",{className:"text-2xl font-bold text-text-main flex items-center gap-2",children:[g.jsx(Un,{className:"h-6 w-6 text-warning"}),"Current Leaders"]}),g.jsxs(Ct,{to:"/standings",className:"text-sm text-primary hover:text-primary-hover font-medium flex items-center gap-1",children:["Full Standings ",g.jsx(Hv,{className:"h-4 w-4"})]})]}),g.jsx("div",{className:"space-y-4 flex-1",children:n.map((u,h)=>{const f=e.find(y=>y.id===u.playerId)||{name:"Unknown",imageUrl:""};return g.jsxs(Ct,{to:`/player/${u.playerId}`,className:"flex items-center justify-between p-3 rounded-xl bg-surface-highlight border border-border hover:border-primary/50 transition-colors group",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(Ig,{rank:h+1,size:"sm"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(u0,{imageUrl:f.imageUrl,name:f.name,size:"md",className:"group-hover:ring-2 ring-primary transition-all"}),g.jsx("span",{className:"font-bold text-text-main group-hover:text-primary transition-colors",children:f.name})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:"block font-bold text-primary",children:[u.points," pts"]}),g.jsxs("span",{className:"text-xs text-text-muted",children:[u.events," Events"]})]})]},u.playerId)})})]}),g.jsx(Me,{className:"h-full flex flex-col bg-gradient-to-br from-surface to-surface-highlight relative overflow-hidden",children:g.jsxs("div",{className:"relative z-10",children:[g.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Next Match Night"}),i?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-text-muted text-sm uppercase tracking-wider mb-1",children:"Date"}),g.jsx("p",{className:"text-xl font-bold text-text-main",children:o(i.startDateTime)})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-text-muted text-sm uppercase tracking-wider mb-1",children:"Time"}),g.jsx("p",{className:"text-xl font-bold text-text-main",children:l(i.startDateTime)})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-text-muted text-sm uppercase tracking-wider mb-1",children:"Location"}),g.jsx("p",{className:"text-xl font-bold text-text-main",children:i.location})]}),g.jsx("div",{className:"pt-4",children:g.jsx("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-full px-6 py-3 bg-surface border border-border hover:border-primary/50 rounded-xl text-text-main font-bold transition-colors",children:"Register on CourtReserve"})})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-text-muted",children:"No upcoming match nights are listed. Check the full schedule for details."}),g.jsx(Ct,{to:"/schedule",className:"inline-flex items-center justify-center w-full px-6 py-3 bg-surface border border-border hover:border-primary/50 rounded-xl text-text-main font-bold transition-colors",children:"View Schedule"})]})]})})]}),g.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Want to Join the League?"}),g.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"We are always looking for competitive players to join the roster. Check out the format and rules to see if you qualify."}),g.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:g.jsxs(Ct,{to:"/format",className:"bg-primary text-text-main px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:["View Format ",g.jsx(Hv,{className:"h-5 w-5"})]})})]})]})},Ch=({title:t,subtitle:e,children:n,className:r,center:i=!1})=>g.jsx("div",{className:Rn("space-y-4",i&&"text-center",r),children:g.jsxs("div",{className:Rn("flex flex-col gap-4",i?"items-center":"md:flex-row md:items-center justify-between"),children:[g.jsxs("div",{className:i?"w-full":"",children:[g.jsx("h1",{className:"text-3xl font-bold text-text-main",children:t}),e&&g.jsx("p",{className:Rn("text-text-muted mt-1",i?"max-w-2xl mx-auto":""),children:e})]}),n]})}),zD=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"unknown":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`},mq=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Unknown Date":e.toLocaleDateString(void 0,{month:"short",year:"numeric"})},UD=t=>{const e=new Map;return t.forEach(n=>{if(n instanceof Date&&!isNaN(n.getTime())){const r=zD(n);e.has(r)||e.set(r,n)}}),Array.from(e.entries()).sort((n,r)=>r[1].getTime()-n[1].getTime()).map(([n,r])=>({key:n,label:mq(r)}))},$D=(t="all")=>{const{data:e=[]}=tu(),{data:n=[]}=Pa();return S.useMemo(()=>{const r=n.filter(u=>Array.isArray(u.standings)&&u.standings.length>0?t==="all"?!0:zD(u.startDateTime)===t:!1),i=$V(r),o=Array.from(i.entries()).map(([u,h])=>({playerId:u,points:h.points,eventsPlayed:h.events,champWins:h.champWins}));return o.sort((u,h)=>h.points-u.points),LV(o,u=>u.points).map(u=>{const h=e.find(f=>f.id===u.playerId);return{...u,name:h?.name||"Unknown",imageUrl:h?.imageUrl||"",dupr:h?.dupr,id:u.playerId}})},[n,e,t])},FD=({data:t,players:e,showEvents:n=!0,showPoints:r=!0,className:i})=>g.jsx(Me,{className:Rn("p-0 overflow-hidden",i),children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-border",children:[g.jsx("thead",{className:"bg-surface-highlight",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider pl-6",children:"Rank"}),g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Player"}),r&&g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Points"}),n&&g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Events"})]})}),g.jsx("tbody",{className:"bg-surface divide-y divide-border",children:t.map(o=>{const l=e?.find(u=>u.id===o.playerId)||{name:"Unknown",imageUrl:""};return g.jsxs("tr",{className:Rn("hover:bg-surface-highlight transition-colors",(o.rank||0)<=4?"bg-primary-light/10":""),children:[g.jsx("td",{className:"px-4 pl-6 py-4 whitespace-nowrap",children:g.jsx(Ig,{rank:o.rank??0})}),g.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:g.jsxs(Ct,{to:`/player/${o.playerId}`,className:"flex items-center group",children:[g.jsx(u0,{imageUrl:l.imageUrl,name:l.name,className:"mr-3 group-hover:ring-2 ring-primary transition-all"}),g.jsx("div",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:l.name}),o.rank===1&&g.jsx(Un,{className:"ml-2 h-4 w-4 text-warning"})]})}),r&&g.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:g.jsx("div",{className:"text-sm font-bold text-text-main",children:o.points??0})}),n&&g.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-text-muted",children:o.eventsPlayed??0})]},o.playerId)})})]})})}),pq=()=>{const[t,e]=S.useState("all"),{data:n=[]}=tu(),{data:r=[]}=Pa(),i=S.useMemo(()=>UD(r.map(l=>l.startDateTime)),[r]),o=$D(t);return g.jsxs("div",{className:"space-y-8",children:[g.jsx(Ch,{title:"Challenge Leaderboard",subtitle:"Leaderboard derived from Challenge events (month or all time)",children:g.jsx("div",{className:"flex items-center gap-4",children:g.jsxs("select",{value:t,onChange:l=>e(l.target.value==="all"?"all":l.target.value),className:"appearance-none bg-surface border border-border text-text-main text-sm rounded-lg pl-3 pr-8 py-2",children:[g.jsx("option",{value:"all",children:"All Time"}),i.map(l=>g.jsx("option",{value:l.key,children:l.label},l.key))]})})}),g.jsx(FD,{data:o,players:n})]})},gq=()=>{const t=et.points??{championship:{},court2:{},court3:{},court4:{}},e=[{name:"Championship Court",data:t.championship??{}},{name:"Court 2",data:t.court2??{}},{name:"Court 3",data:t.court3??{}},{name:"Court 4",data:t.court4??{}}];return g.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-border",children:[g.jsxs("h3",{className:"font-bold text-text-main mb-4 flex items-center",children:[g.jsx(F_,{className:"h-5 w-5 text-primary mr-2"}),"Weekly Point System"]}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map(n=>g.jsxs("div",{className:"bg-surface-highlight p-4 rounded-lg",children:[g.jsx("h3",{className:"font-bold text-text-main mb-2 text-center text-sm md:text-base",children:n.name}),g.jsxs("div",{className:"space-y-1 text-sm text-center",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-text-muted",children:"1st"})," ",g.jsxs("span",{className:"font-bold text-success",children:["+",n.data[1]]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-text-muted",children:"2nd"})," ",g.jsxs("span",{className:"font-bold text-success",children:["+",n.data[2]]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-text-muted",children:"3rd"})," ",g.jsxs("span",{className:"font-bold text-success",children:["+",n.data[3]]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-text-muted",children:"4th"})," ",g.jsxs("span",{className:"font-bold text-success",children:["+",n.data[4]]})]})]})]},n.name))})]})},BD=({options:t,value:e,onChange:n,className:r})=>g.jsx("div",{className:r,children:g.jsx("div",{className:"inline-flex",children:t.map(i=>g.jsx("button",{onClick:()=>n(i.value),className:Rn("px-6 py-2.5 rounded-lg text-sm font-bold transition-all",e===i.value?"bg-primary text-text-main shadow-md":"text-text-muted hover:text-text-main hover:bg-surface"),children:i.label},i.value))})}),yq=({viewRules:t})=>{const e=t??et,n="price"in e&&e.price?e.price:{display:et.fee,note:et.seasonStructure?.duration};return g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto mt-8",children:[g.jsxs(Me,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx($_,{className:"h-6 w-6 text-primary mb-2"}),g.jsx("span",{className:"font-bold text-text-main",children:e.schedule?.day}),g.jsx("span",{className:"text-sm text-text-muted",children:e.schedule?.time})]}),g.jsx("a",{href:e.location?.url,target:"_blank",rel:"noopener noreferrer",className:"block group",children:g.jsxs(Me,{className:"p-4 flex flex-col items-center justify-center text-center hover:border-primary/50 transition-colors h-full",children:[g.jsx(Zp,{className:"h-6 w-6 text-primary mb-2 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"font-bold text-text-main",children:e.location?.name}),g.jsxs("span",{className:"text-sm text-text-muted flex items-center gap-1",children:[e.location?.city," ",g.jsx(Qp,{className:"h-3 w-3"})]})]})}),g.jsxs(Me,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(S4,{className:"h-6 w-6 text-primary mb-2"}),g.jsx("span",{className:"font-bold text-text-main",children:n.display}),g.jsx("span",{className:"text-sm text-text-muted",children:n.note})]}),g.jsxs(Me,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(RR,{className:"h-6 w-6 text-primary mb-2"}),g.jsx("span",{className:"font-bold text-text-main",children:e.participant?.type}),g.jsx("span",{className:"text-sm text-text-muted",children:e.participant?.note})]})]})},vq=()=>g.jsx("div",{className:"max-w-4xl mx-auto mt-6",children:g.jsxs(Me,{className:"p-4",children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"Scoring"}),g.jsx("ul",{className:"text-text-muted list-disc pl-5 space-y-1",children:Array.isArray(et.scoring)&&et.scoring.length>0?et.scoring.map((t,e)=>g.jsx("li",{children:t},e)):g.jsx("li",{className:"text-text-muted",children:"No scoring details available."})})]})}),bq=()=>{const t=et.seasonStructure??{};return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Season Structure"}),g.jsxs("p",{className:"text-text-muted max-w-2xl mx-auto",children:[t.duration??"TBD",t.duration&&t.when?"  ":"",t.when??"",t.rosterSize?`  ${t.rosterSize} Players`:""]})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[g.jsxs(Me,{className:"p-6 border-success/20 bg-success/5",children:[g.jsxs("h3",{className:"text-xl font-bold text-success mb-4 flex items-center gap-2",children:[g.jsx(Kp,{className:"h-5 w-5"}),"The Safe Zone"]}),g.jsx("p",{className:"text-text-main font-medium mb-2",children:`Top ${Math.max(0,Number(t.rosterSize||0)-4)} Players`}),g.jsx("p",{className:"text-text-muted",children:t.safeZone})]}),g.jsxs(Me,{className:"p-6 border-error/20 bg-error/5",children:[g.jsxs("h3",{className:"text-xl font-bold text-error mb-4 flex items-center gap-2",children:[g.jsx(AR,{className:"h-5 w-5"}),"The Drop Zone"]}),g.jsx("p",{className:"text-text-main font-medium mb-2",children:"Bottom 4 Players"}),g.jsx("p",{className:"text-text-muted",children:t.dropZone})]})]})]})},qD=({heading:t,subtitle:e,entries:n,notes:r})=>g.jsxs("div",{className:"space-y-8",children:[t&&g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:t}),e&&g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:e})]}),g.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:n.map((i,o)=>g.jsxs(Me,{className:`p-6 relative overflow-hidden ${i.accent?"border-warning/50 bg-warning/10":"border-border"}`,children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:g.jsx(Un,{className:"h-24 w-24 text-warning"})}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:"bg-surface-highlight text-text-muted p-2 rounded-lg border border-border",children:g.jsx("span",{className:"font-bold text-lg",children:i.title})}),g.jsx("h3",{className:"text-xl font-bold text-text-main",children:`${i.title} Place`})]}),g.jsx("ul",{className:"space-y-3",children:i.items.map((l,u)=>g.jsxs("li",{className:`flex items-start gap-2 ${i.accent?"text-text-main font-medium":"text-text-muted"}`,children:[g.jsx(Kp,{className:`h-5 w-5 ${i.accent?"text-warning":"text-text-muted"} shrink-0`}),l]},u))})]})]},o))}),r&&g.jsx("div",{className:"text-center",children:g.jsx("p",{className:"text-sm text-text-muted italic",children:r})})]}),_q=()=>{const t=[{title:`${et.rewards.firstPlace.name}`,items:et.rewards.firstPlace.items,accent:!0},{title:`${et.rewards.secondPlace.name}`,items:et.rewards.secondPlace.items},{title:`${et.rewards.thirdPlace.name}`,items:et.rewards.thirdPlace.items}];return g.jsx(qD,{heading:"Prizes & Rewards",subtitle:"Top performers from each season earn court credits, club points, and guaranteed spots for the next season.",entries:t,notes:et.rewards.notes})},xq=()=>g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Pre-Season Qualifiers"}),g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:"Before each season begins, we host two Open Qualifier events to fill the open roster spots."})]}),g.jsxs(Me,{className:"max-w-4xl mx-auto p-8",children:[g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(al,{className:"h-5 w-5 text-primary"}),"Who Can Play"]}),g.jsx("ul",{className:"space-y-2",children:et.qualification.who.map((t,e)=>g.jsxs("li",{className:"flex items-start text-text-muted",children:[g.jsx("span",{className:"mr-2",children:""}),t]},e))})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Un,{className:"h-5 w-5 text-primary"}),"Advancement"]}),g.jsx("ul",{className:"space-y-2",children:et.qualification.advancement.map((t,e)=>g.jsxs("li",{className:"flex items-start text-text-muted",children:[g.jsx("span",{className:"mr-2",children:""}),t]},e))})]})]}),g.jsx("div",{className:"mt-8 pt-6 border-t border-border text-center",children:g.jsxs("p",{className:"text-text-muted italic",children:[g.jsx("span",{className:"font-bold text-primary",children:"Note:"})," ",et.qualification?.note]})})]})]}),wq=()=>g.jsxs("div",{className:"space-y-12",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"The Nightly Format"}),g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:"Three rounds of intense play. Perform well to move up; struggle and you move down."})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-0.5 bg-border -z-10 transform -translate-x-1/2"}),g.jsx("div",{className:"space-y-12",children:et.format?.map((t,e)=>g.jsxs("div",{className:"relative",children:[g.jsxs(Me,{className:"p-8 max-w-3xl mx-auto",children:[g.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-primary text-text-main px-4 py-1 rounded-full text-sm font-bold",children:`ROUND ${e+1}`}),g.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[g.jsx("div",{className:"bg-primary-light p-4 rounded-full",children:e===0?g.jsx(al,{className:"h-8 w-8 text-primary"}):e===1?g.jsx(SR,{className:"h-8 w-8 text-primary"}):g.jsx(Un,{className:"h-8 w-8 text-warning"})}),g.jsxs("div",{className:"flex-1 text-center md:text-left",children:[g.jsx("h3",{className:"text-xl font-bold text-text-main mb-2",children:t.title}),g.jsx("div",{className:"text-text-muted text-left",children:Array.isArray(t.description)?g.jsx("ul",{className:"list-disc pl-5 space-y-1 inline-block text-left",children:t.description.map((n,r)=>g.jsx("li",{children:n},r))}):g.jsx("p",{children:t.description})})]})]})]}),e<et.format.length-1&&g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"bg-surface p-2 rounded-full border border-border shadow-sm",children:g.jsx(TR,{className:"h-6 w-6 text-text-muted"})})})]},e))})]})]}),Eq=({hideChallengeFAQs:t})=>g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main",children:"Frequently Asked Questions"}),g.jsxs("div",{className:"space-y-4 mt-4",children:[!t&&g.jsxs(g.Fragment,{children:[g.jsxs(Me,{children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"What happens if I miss a week?"}),g.jsx("p",{className:"text-text-muted",children:"If you miss a week, you receive 0 points for that night. You must notify the league admin so a substitute can be assigned. You are allowed a maximum of 2 sub replacements per season."})]}),g.jsxs(Me,{children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"Can I choose my own sub?"}),g.jsx("p",{className:"text-text-muted",children:"No. To ensure competitive balance and fairness, all substitutes are assigned by the league administration from the approved sub pool."})]}),g.jsxs(Me,{children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"How do I qualify for the next season?"}),g.jsx("p",{className:"text-text-muted",children:"The top 4 players from the current season automatically qualify for the next season. Other spots may be filled through open registration or qualifying nights."})]})]}),g.jsxs(Me,{children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"Is there a warm-up period?"}),g.jsx("p",{className:"text-text-muted",children:"Yes, courts are available for warm-up starting at 6:45 PM. League play begins promptly at 7:00 PM."})]})]})]}),Tq=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!1),i=async o=>{o.preventDefault(),r(!0);const l=new FormData(o.currentTarget),u=Object.fromEntries(l.entries());try{(await fetch("https://formspree.io/f/xanrzonk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...u,subject:"League Question (Format Page)"})})).ok?(e("success"),o.currentTarget.reset()):e("error")}catch{e("error")}finally{r(!1)}};return t==="success"?g.jsxs("div",{className:"bg-success/20 p-6 rounded-xl border border-success/50 text-center",children:[g.jsx(Kp,{className:"h-12 w-12 text-success mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-bold text-success mb-2",children:"Message Sent!"}),g.jsxs("p",{className:"text-success",children:["We","'","ll get back to you shortly."]}),g.jsx(Do,{onClick:()=>e(null),variant:"ghost",size:"sm",className:"mt-4 text-sm text-success hover:underline",children:"Send another"})]}):g.jsxs("form",{onSubmit:i,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-muted mb-1",children:"Your Email"}),g.jsx("input",{type:"email",name:"email",required:!0,className:"w-full rounded-lg bg-surface-highlight border-border text-text-main shadow-sm focus:border-primary focus:ring-primary placeholder:text-text-muted p-3",placeholder:"you@example.com"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-text-muted mb-1",children:"Question"}),g.jsx("textarea",{name:"message",required:!0,rows:4,className:"w-full rounded-lg bg-surface-highlight border-border text-text-main shadow-sm focus:border-primary focus:ring-primary placeholder:text-text-muted p-3",placeholder:"How can we help?"})]}),g.jsx(Do,{type:"submit",disabled:n,variant:"primary",size:"md",className:"w-full py-2.5 font-medium disabled:opacity-50 flex items-center justify-center gap-2",children:n?"Sending...":g.jsxs(g.Fragment,{children:[g.jsx(z4,{className:"h-4 w-4"})," Send Message"]})}),t==="error"&&g.jsx("p",{className:"text-error text-sm text-center",children:"Something went wrong. Please try again."})]})},Sq=()=>g.jsxs(Me,{className:"sticky top-8",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(M4,{className:"h-5 w-5 text-primary"}),g.jsx("h2",{className:"text-xl font-bold text-text-main",children:"Have Questions?"})]}),g.jsx("p",{className:"text-text-muted text-sm mb-6",children:"Can't find what you're looking for? Send us a message and we'll help you out."}),g.jsx(Tq,{})]}),Aq=()=>{const[t,e]=S.useState("current"),n=t==="current"?Qv:Pm,r=t==="current"?Qv.price:{display:Pm.fee,note:Pm.seasonStructure?.duration},i=t==="current"?Qv.showSections??{seasonStructure:!1,prizes:!1,qualifiers:!1}:{seasonStructure:!0,prizes:!0,qualifiers:!0};return S.useEffect(()=>{document.title=`${et.title}  ${n.title}`},[n.title]),g.jsxs("div",{className:"space-y-16 pb-12",children:[g.jsx(Ch,{title:n.title,subtitle:"Rotating partners, weekly standings with promotion/relegation, weekly points, open qualifiers, and season prizes.",center:!0}),g.jsx("div",{className:"flex justify-center mt-6",children:g.jsx(BD,{options:[{value:"current",label:"The Challenge (Current)"},{value:"future",label:"Championship League (Future)"}],value:t,onChange:o=>e(o),className:"bg-surface-highlight p-1 rounded-xl inline-flex border border-border"})}),g.jsx("div",{className:"max-w-5xl mx-auto mt-6 rounded-3xl overflow-hidden shadow-lg",children:g.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-light p-8 md:p-12 text-white flex flex-col md:flex-row items-center gap-6",children:[g.jsxs("div",{className:"flex-1 text-center md:text-left",children:[g.jsx("h3",{className:"text-3xl md:text-4xl font-extrabold mb-2",children:n.title}),g.jsx("p",{className:"text-lg md:text-xl opacity-90",children:n.summary})]}),g.jsxs("div",{className:"flex-shrink-0 text-center md:text-right",children:[g.jsx("div",{className:"text-2xl font-bold",children:r.display}),g.jsx("div",{className:"text-sm opacity-90 mb-4",children:r.note}),t==="current"?g.jsx(Ct,{to:"/schedule",className:"inline-block bg-white text-primary px-6 py-3 rounded-xl font-bold hover:opacity-90 transition",children:"Register for Tonight"}):g.jsx("a",{href:et.register.url,className:"inline-block bg-white text-primary px-6 py-3 rounded-xl font-bold hover:opacity-90 transition",children:"Register for Season"})]})]})}),g.jsx(yq,{viewRules:n}),g.jsx(vq,{}),i.seasonStructure&&g.jsx(bq,{}),i.prizes&&g.jsx(_q,{}),t==="current"&&g.jsx("div",{className:"max-w-4xl mx-auto",children:g.jsx(qD,{heading:"Monthly Prizes",subtitle:"At the end of each month, the top 3 players in the monthly standings will receive club points as rewards for their performance.",entries:[{title:"1st",items:["50 Club Pts"],accent:!0},{title:"2nd",items:["30 Club Pts"]},{title:"3rd",items:["20 Club Pts"]}]})}),i.qualifiers&&g.jsx(xq,{}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Seeding & Assignments"}),g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:et.seeding?.overview})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[g.jsxs(Me,{className:"p-6",children:[g.jsxs("h3",{className:"text-xl font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(al,{className:"h-5 w-5 text-primary"}),"Initial Seeding"]}),g.jsx("p",{className:"text-text-muted mb-4",children:et.seeding?.week1}),g.jsxs("div",{className:"bg-surface-highlight p-4 rounded-lg border border-border",children:[g.jsx("h4",{className:"font-bold text-sm text-text-main mb-2",children:"Why Seeding Matters"}),g.jsx("p",{className:"text-sm text-text-muted",children:"Higher seeds are placed in groups with lower-seeded opponents in Round 1, giving top players a statistical advantage to finish Top 2 and advance."})]})]}),g.jsxs(Me,{className:"p-6",children:[g.jsxs("h3",{className:"text-xl font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Zp,{className:"h-5 w-5 text-primary"}),"The Snake Draw"]}),g.jsx("p",{className:"text-text-muted mb-4",children:et.seeding?.draw}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[g.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[g.jsx("span",{className:"font-bold block text-primary",children:"Court 1"}),g.jsx("span",{className:"text-text-muted",children:"Seeds 1, 8, 9, 16"})]}),g.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[g.jsx("span",{className:"font-bold block text-primary",children:"Court 2"}),g.jsx("span",{className:"text-text-muted",children:"Seeds 2, 7, 10, 15"})]}),g.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[g.jsx("span",{className:"font-bold block text-primary",children:"Court 3"}),g.jsx("span",{className:"text-text-muted",children:"Seeds 3, 6, 11, 14"})]}),g.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[g.jsx("span",{className:"font-bold block text-primary",children:"Court 4"}),g.jsx("span",{className:"text-text-muted",children:"Seeds 4, 5, 12, 13"})]})]})]})]})]}),g.jsx(wq,{}),g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx(gq,{}),g.jsx("p",{className:"text-center text-sm text-text-muted mt-4 italic",children:et.missedWeekNote})]}),g.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Ready to Compete?"}),g.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"Registration is open for the upcoming season. Secure your spot now."}),g.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:g.jsxs("a",{href:et.register.url,className:"bg-primary text-text-main px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[et.register.text,g.jsx(Qp,{className:"h-5 w-5"})]})}),g.jsx("p",{className:"text-sm text-text-muted mt-6",children:"*Future seasons may require participation in qualifying nights to earn a roster spot."})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs(Me,{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx(Kp,{className:"h-6 w-6 text-success"}),g.jsx("h2",{className:"text-xl font-bold text-text-main",children:"Eligibility"})]}),g.jsx("ul",{className:"space-y-3",children:Array.isArray(et.general)&&et.general.length>0?et.general.map((o,l)=>g.jsxs("li",{className:"flex items-start text-text-muted",children:[g.jsx("span",{className:"mr-2",children:""}),o]},l)):g.jsx("li",{className:"text-text-muted",children:"No eligibility rules provided."})})]}),t!=="current"&&g.jsxs(Me,{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx(AR,{className:"h-6 w-6 text-warning"}),g.jsx("h2",{className:"text-xl font-bold text-text-main",children:"Substitute Policy"})]}),g.jsx("ul",{className:"space-y-3",children:Array.isArray(et.subs)&&et.subs.length>0?et.subs.map((o,l)=>g.jsxs("li",{className:"flex items-start text-text-muted",children:[g.jsx("span",{className:"mr-2",children:""}),o]},l)):g.jsx("li",{className:"text-text-muted",children:"No substitute policy provided."})})]})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[g.jsx("div",{className:"md:col-span-2 space-y-8",children:g.jsx(Eq,{hideChallengeFAQs:t==="current"})}),g.jsx("div",{className:"md:col-span-1",children:g.jsx(Sq,{})})]})]})},Iq=()=>{const{data:t=[]}=Pa(),{data:e=[]}=tu();return g.jsxs("div",{className:"space-y-12",children:[g.jsx(Ch,{title:"Hall of Champions",subtitle:"Celebrating the elite performers of the Paddle Up Individual Championship League.",center:!0}),(()=>{const n=(t||[]).filter(r=>Array.isArray(r.standings)&&r.standings.length>0);return n.length===0?g.jsxs(Me,{className:"text-center py-16 border-dashed",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-warning/20 rounded-full mb-4",children:g.jsx(IR,{className:"h-8 w-8 text-warning"})}),g.jsx("h2",{className:"text-xl font-medium text-text-main mb-2",children:"No completed events yet"}),g.jsx("p",{className:"text-text-muted max-w-md mx-auto",children:"No past Challenge events with results are available yet."})]}):g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((r,i)=>{const o={id:r.id,date:r.startDateTime?r.startDateTime.toISOString():r.id,isCompleted:!0,standings:r.standings},l=(Yp(o)||[]).sort((u,h)=>(u.rank||0)-(h.rank||0)).slice(0,3);return g.jsxs(Me,{className:"h-full flex flex-col",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx(Ct,{to:`/event/${r.id}`,className:"bg-primary-light text-primary text-xs font-bold px-3 py-1 rounded-full hover:bg-primary-light/80 transition-colors",children:r.name}),g.jsxs("div",{className:"flex items-center text-xs text-text-muted",children:[g.jsx($o,{className:"h-3 w-3 mr-1"}),r.startDateTime?r.startDateTime.toLocaleDateString():r.id]})]}),g.jsx("div",{className:"space-y-6 flex-1",children:l.map((u,h)=>{const f=e.find(_=>_.id===u.playerId)||{name:"Unknown",imageUrl:""},y=h===0?"text-warning":h===1?"text-text-muted":"text-bronze",b=h===0?"Champion":h===1?"Runner Up":"Third Place";return g.jsxs(Ct,{to:`/player/${u.playerId}`,className:"flex items-center gap-4 group",children:[g.jsxs("div",{className:"relative",children:[g.jsx(u0,{imageUrl:f.imageUrl,name:f.name,size:"lg",className:Rn(h===0?"border-warning":"border-border","group-hover:ring-2 ring-primary transition-all"),border:!0}),g.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-surface shadow-sm flex items-center justify-center border border-border",children:h===0?g.jsx(Un,{className:"h-3 w-3 text-warning"}):g.jsx(F_,{className:`h-3 w-3 ${y}`})})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-xs font-bold uppercase tracking-wider ${y}`,children:b}),g.jsx("p",{className:"font-bold text-text-main group-hover:text-primary transition-colors",children:f.name}),g.jsxs("p",{className:"text-xs text-text-muted",children:[u.pointsEarned||0," pts"]})]})]},u.playerId)})})]},i)})})})()]})},Rq=()=>{const{data:t=[]}=Pa(),[e,n]=S.useState("all"),r=$D(e),i=S.useMemo(()=>UD(t.map(o=>o.startDateTime)),[t]);return g.jsxs("div",{className:"space-y-8",children:[g.jsx(Ch,{title:"Players",subtitle:`${r.length} players  ${e==="all"?"All Time":"Month view"}`,children:g.jsx("div",{className:"flex items-center gap-4",children:g.jsxs("select",{value:e,onChange:o=>n(o.target.value==="all"?"all":o.target.value),className:"appearance-none bg-surface border border-border text-text-main text-sm rounded-lg pl-3 pr-8 py-2",children:[g.jsx("option",{value:"all",children:"All Time"}),i.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))]})})}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:r.map(o=>g.jsx(Ct,{to:`/player/${o.id}`,className:"block group",children:g.jsxs(Me,{className:"h-full overflow-hidden p-0 border-border group-hover:border-primary/50 transition-all group-hover:shadow-lg group-hover:shadow-primary/5 flex flex-col",children:[g.jsxs("div",{className:"aspect-square w-full relative bg-surface-highlight overflow-hidden",children:[o.imageUrl?g.jsx("img",{src:o.imageUrl.startsWith("/")?`/${o.imageUrl.slice(1)}`:o.imageUrl,alt:o.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-surface-highlight",children:g.jsx("span",{className:"text-4xl font-bold text-text-muted opacity-20",children:o.name?.charAt(0)})}),g.jsx("div",{className:"absolute top-3 left-3",children:g.jsxs("div",{className:"bg-surface/90 backdrop-blur-sm border border-border px-3 py-1 rounded-full text-sm font-bold text-text-main shadow-sm",children:["#",o.rank??0]})}),g.jsx("div",{className:"absolute top-3 right-3",children:g.jsxs("div",{className:"bg-surface/90 backdrop-blur-md border border-primary/30 px-3 py-1 rounded-full text-sm font-bold text-primary shadow-lg",children:[o.points," pts"]})})]}),g.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[g.jsx("h2",{className:"text-lg font-bold text-text-main mb-1 group-hover:text-primary transition-colors text-center truncate",children:o.name}),g.jsxs("p",{className:"text-xs text-text-muted text-center mb-3",children:["DUPR ",o.dupr??"N/A"]}),g.jsxs("div",{className:"mt-auto grid grid-cols-3 gap-2 pt-3 border-t border-border text-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Events"}),g.jsx("p",{className:"font-bold text-sm text-text-main",children:o.eventsPlayed})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Champ Ct"}),g.jsxs("div",{className:"flex items-center justify-center gap-1",children:[g.jsx(Db,{className:"h-3 w-3 text-success"}),g.jsx("p",{className:"font-bold text-sm text-text-main",children:o.champWins})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Rank"}),g.jsx("p",{className:"font-bold text-sm text-text-main",children:o.rank??"-"})]})]})]})]})},o.id))})]})},Cq=()=>{const{id:t}=sR(),{data:e}=cq(),{data:n=[]}=Pa();console.log("Players in profile:",e);const r=e?.find(y=>y.id===t);if(!r)return g.jsxs("div",{className:"text-center py-12",children:[g.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Player Not Found"}),g.jsx(Ct,{to:"/players",className:"text-primary hover:underline",children:"Back to Players"})]});const i=n.filter(y=>Array.isArray(y.standings)&&y.standings.length>0).map(y=>{const b={id:y.id,date:y.startDateTime?y.startDateTime.toISOString():y.id,isCompleted:!0,standings:y.standings},_=Yp(b)||[];return{ev:y,finals:_}}),o=new Map;i.forEach(({finals:y})=>{y.forEach(b=>{const _=b.playerId,E=b.pointsEarned||0,A=o.get(_)||{points:0,events:0,champWins:0};A.points+=E,A.events+=1,b.rank===1&&(A.champWins+=1),o.set(_,A)})});const l=Array.from(o.entries()).map(([y,b])=>({playerId:y,points:b.points,eventsPlayed:b.events,champWins:b.champWins})).sort((y,b)=>b.points-y.points);let u=null;l.forEach((y,b)=>{y.playerId===t&&(u=b+1)});const h=o.get(t||"")||{points:0,events:0,champWins:0},f=[];return i.forEach(({ev:y,finals:b})=>{const _=b.find(E=>E.playerId===t);_&&f.push({eventId:y.id,date:y.startDateTime?y.startDateTime.toLocaleDateString():y.id,rank:_.rank})}),g.jsxs("div",{className:"space-y-8 pb-12",children:[g.jsxs(Ct,{to:"/players",className:"inline-flex items-center text-text-muted hover:text-primary transition-colors mb-4",children:[g.jsx(c4,{className:"h-4 w-4 mr-1"})," Back to Players"]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"md:col-span-1 space-y-6",children:[g.jsxs(Me,{className:"p-0 overflow-hidden border-border",children:[g.jsx("div",{className:"aspect-square w-full relative bg-surface-highlight",children:r.imageUrl?g.jsx("img",{src:r.imageUrl.startsWith("/")?`/${r.imageUrl.slice(1)}`:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("span",{className:"text-6xl font-bold text-text-muted opacity-20",children:r.name.charAt(0)})})}),g.jsxs("div",{className:"p-6 text-center",children:[g.jsx("h1",{className:"text-3xl font-bold text-text-main mb-2",children:r.name}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[g.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold border border-primary/20",children:["DUPR ",r.dupr??"N/A"]}),g.jsxs("span",{className:"bg-surface-highlight text-text-muted px-3 py-1 rounded-full text-sm font-medium border border-border",children:["Rank #",u??"-"]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs(Me,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(Un,{className:"h-6 w-6 text-warning mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:h.points}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Points"})]}),g.jsxs(Me,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(Db,{className:"h-6 w-6 text-success mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:h.champWins}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Top Finishes"})]}),g.jsxs(Me,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(Nb,{className:"h-6 w-6 text-primary mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:f.length}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Events"})]}),g.jsxs(Me,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx($o,{className:"h-6 w-6 text-text-muted mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:h.events}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Appearances"})]})]})]}),g.jsxs("div",{className:"md:col-span-2 space-y-8",children:[g.jsxs(Me,{children:[g.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Nb,{className:"h-5 w-5 text-primary"}),"Event Placements"]}),g.jsx("div",{className:"space-y-3",children:f.length>0?f.slice().reverse().map((y,b)=>g.jsxs(Ct,{to:`/event/${y.eventId}`,className:"flex items-center justify-between p-3 bg-surface-highlight rounded-lg border border-border hover:border-primary/50 transition-colors cursor-pointer group",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:n.find(_=>_.id===y.eventId)?.name||y.eventId}),g.jsx("p",{className:"text-xs text-text-muted",children:y.date})]}),g.jsx("div",{className:"text-right",children:g.jsxs("p",{className:"font-mono font-bold text-text-main",children:["Rank #",y.rank]})})]},b)):g.jsx("p",{className:"text-text-muted text-center py-4",children:"No event placements available."})})]}),g.jsxs(Me,{children:[g.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Db,{className:"h-5 w-5 text-primary"}),"Event Rankings"]}),g.jsx("div",{className:"space-y-2",children:f.length>0?f.slice().reverse().map((y,b)=>g.jsxs(Ct,{to:`/event/${y.eventId}`,className:"flex items-center justify-between p-2 border-b border-border last:border-0 hover:bg-surface-highlight transition-colors cursor-pointer group",children:[g.jsx("span",{className:"text-sm text-text-muted group-hover:text-text-main transition-colors",children:y.date}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:["Rank #",y.rank]}),g.jsx(Ig,{rank:y.rank,size:"sm"})]})]},b)):g.jsx("p",{className:"text-text-muted text-center py-4",children:"No event data available."})})]})]})]})]})},QA={A:"bg-yellow-300 text-yellow-900 ring-yellow-400",B:"bg-slate-100 text-slate-900 ring-slate-200",C:"bg-amber-400 text-amber-900 ring-amber-500",D:"bg-teal-100 text-teal-900 ring-teal-200",Default:"bg-surface-alt text-text-muted"},Nq={xs:"px-2 py-0.5 text-[10px] rounded",sm:"px-2.5 py-0.5 text-xs rounded-md",md:"px-3 py-0.5 text-sm rounded-md"};function ZA({tierId:t,size:e="sm",className:n}){const r=`Tier ${t}`,i=QA[t.charAt(0)]||QA.Default;return g.jsx("span",{role:"status","aria-label":r,className:Rn("inline-flex items-center font-semibold shadow-sm",Nq[e],"ring-1 ring-border/10",i,n),children:r})}const Dq=typeof document<"u"?$e.useLayoutEffect:()=>{},Ma=t=>{var e;return(e=t?.ownerDocument)!==null&&e!==void 0?e:document},Ro=t=>t&&"window"in t&&t.window===t?t:Ma(t).defaultView||window;function Oq(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function kq(t){return Oq(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let Pq=!1;function d0(){return Pq}function HD(t,e){if(!d0())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:kq(n)?n=n.host:n=n.parentNode}return!1}const g_=(t=document)=>{var e;if(!d0())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function GD(t){return d0()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function Mq(t){if(jq())t.focus({preventScroll:!0});else{let e=Vq(t);t.focus(),Lq(e)}}let Im=null;function jq(){if(Im==null){Im=!1;try{document.createElement("div").focus({get preventScroll(){return Im=!0,!0}})}catch{}}return Im}function Vq(t){let e=t.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==r;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function Lq(t){for(let{element:e,scrollTop:n,scrollLeft:r}of t)e.scrollTop=n,e.scrollLeft=r}function Rg(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function KD(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function nu(t){let e=null;return()=>(e==null&&(e=t()),e)}const jp=nu(function(){return KD(/^Mac/i)}),zq=nu(function(){return KD(/^iPad/i)||jp()&&navigator.maxTouchPoints>1}),Uq=nu(function(){return Rg(/AppleWebKit/i)&&!$q()}),$q=nu(function(){return Rg(/Chrome/i)}),Fq=nu(function(){return Rg(/Android/i)}),Bq=nu(function(){return Rg(/Firefox/i)});function ah(t,e,n=!0){var r,i;let{metaKey:o,ctrlKey:l,altKey:u,shiftKey:h}=e;Bq()&&(!((i=window.event)===null||i===void 0||(r=i.type)===null||r===void 0)&&r.startsWith("key"))&&t.target==="_blank"&&(jp()?o=!0:l=!0);let f=Uq()&&jp()&&!zq()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:l,altKey:u,shiftKey:h}):new MouseEvent("click",{metaKey:o,ctrlKey:l,altKey:u,shiftKey:h,detail:1,bubbles:!0,cancelable:!0});ah.isOpening=n,Mq(t),t.dispatchEvent(f),ah.isOpening=!1}ah.isOpening=!1;function QD(){let t=S.useRef(new Map),e=S.useCallback((i,o,l,u)=>{let h=u?.once?(...f)=>{t.current.delete(l),l(...f)}:l;t.current.set(l,{type:o,eventTarget:i,fn:h,options:u}),i.addEventListener(o,h,u)},[]),n=S.useCallback((i,o,l,u)=>{var h;let f=((h=t.current.get(l))===null||h===void 0?void 0:h.fn)||l;i.removeEventListener(o,f,u),t.current.delete(l)},[]),r=S.useCallback(()=>{t.current.forEach((i,o)=>{n(i.eventTarget,i.type,o,i.options)})},[n]);return S.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function qq(t){return t.pointerType===""&&t.isTrusted?!0:Fq()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function ZD(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function Hq(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function YD(t){let e=S.useRef({isFocused:!1,observer:null});return Dq(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]),S.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let r=n.target,i=o=>{if(e.current.isFocused=!1,r.disabled){let l=ZD(o);t?.(l)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&r.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let l=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),e.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let Gq=!1,Nh=null,y_=new Set,Ud=new Map,nl=!1,v_=!1;const Kq={Tab:!0,Escape:!0};function h0(t,e){for(let n of y_)n(t,e)}function Qq(t){return!(t.metaKey||!jp()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Vp(t){nl=!0,!ah.isOpening&&Qq(t)&&(Nh="keyboard",h0("keyboard",t))}function wc(t){Nh="pointer","pointerType"in t&&t.pointerType,(t.type==="mousedown"||t.type==="pointerdown")&&(nl=!0,h0("pointer",t))}function WD(t){!ah.isOpening&&qq(t)&&(nl=!0,Nh="virtual")}function XD(t){t.target===window||t.target===document||Gq||!t.isTrusted||(!nl&&!v_&&(Nh="virtual",h0("virtual",t)),nl=!1,v_=!1)}function JD(){nl=!1,v_=!0}function b_(t){if(typeof window>"u"||typeof document>"u"||Ud.get(Ro(t)))return;const e=Ro(t),n=Ma(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){nl=!0,r.apply(this,arguments)},n.addEventListener("keydown",Vp,!0),n.addEventListener("keyup",Vp,!0),n.addEventListener("click",WD,!0),e.addEventListener("focus",XD,!0),e.addEventListener("blur",JD,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",wc,!0),n.addEventListener("pointermove",wc,!0),n.addEventListener("pointerup",wc,!0)),e.addEventListener("beforeunload",()=>{eO(t)},{once:!0}),Ud.set(e,{focus:r})}const eO=(t,e)=>{const n=Ro(t),r=Ma(t);e&&r.removeEventListener("DOMContentLoaded",e),Ud.has(n)&&(n.HTMLElement.prototype.focus=Ud.get(n).focus,r.removeEventListener("keydown",Vp,!0),r.removeEventListener("keyup",Vp,!0),r.removeEventListener("click",WD,!0),n.removeEventListener("focus",XD,!0),n.removeEventListener("blur",JD,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",wc,!0),r.removeEventListener("pointermove",wc,!0),r.removeEventListener("pointerup",wc,!0)),Ud.delete(n))};function Zq(t){const e=Ma(t);let n;return e.readyState!=="loading"?b_(t):(n=()=>{b_(t)},e.addEventListener("DOMContentLoaded",n)),()=>eO(t,n)}typeof document<"u"&&Zq();function tO(){return Nh!=="pointer"}const Yq=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Wq(t,e,n){let r=Ma(n?.target);const i=typeof window<"u"?Ro(n?.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Ro(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?Ro(n?.target).HTMLElement:HTMLElement,u=typeof window<"u"?Ro(n?.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!Yq.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof l&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof u&&!Kq[n.key])}function Xq(t,e,n){b_(),S.useEffect(()=>{let r=(i,o)=>{Wq(!!n?.isTextInput,i,o)&&t(tO())};return y_.add(r),()=>{y_.delete(r)}},e)}function Jq(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const o=S.useCallback(h=>{if(h.target===h.currentTarget)return r&&r(h),i&&i(!1),!0},[r,i]),l=YD(o),u=S.useCallback(h=>{const f=Ma(h.target),y=f?g_(f):g_();h.target===h.currentTarget&&y===GD(h.nativeEvent)&&(n&&n(h),i&&i(!0),l(h))},[i,n,l]);return{focusProps:{onFocus:!e&&(n||i||r)?u:void 0,onBlur:!e&&(r||i)?o:void 0}}}function eH(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,o=S.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:u}=QD(),h=S.useCallback(b=>{b.currentTarget.contains(b.target)&&o.current.isFocusWithin&&!b.currentTarget.contains(b.relatedTarget)&&(o.current.isFocusWithin=!1,u(),n&&n(b),i&&i(!1))},[n,i,o,u]),f=YD(h),y=S.useCallback(b=>{if(!b.currentTarget.contains(b.target))return;const _=Ma(b.target),E=g_(_);if(!o.current.isFocusWithin&&E===GD(b.nativeEvent)){r&&r(b),i&&i(!0),o.current.isFocusWithin=!0,f(b);let A=b.currentTarget;l(_,"focus",R=>{if(o.current.isFocusWithin&&!HD(A,R.target)){let D=new _.defaultView.FocusEvent("blur",{relatedTarget:R.target});Hq(D,A);let L=ZD(D);h(L)}},{capture:!0})}},[r,i,f,l,h]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:y,onBlur:h}}}let __=!1,Rm=0;function tH(){__=!0,setTimeout(()=>{__=!1},50)}function YA(t){t.pointerType==="touch"&&tH()}function nH(){if(!(typeof document>"u"))return Rm===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",YA),Rm++,()=>{Rm--,!(Rm>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",YA)}}function nO(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[o,l]=S.useState(!1),u=S.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;S.useEffect(nH,[]);let{addGlobalListener:h,removeAllGlobalListeners:f}=QD(),{hoverProps:y,triggerHoverEnd:b}=S.useMemo(()=>{let _=(R,D)=>{if(u.pointerType=D,i||D==="touch"||u.isHovered||!R.currentTarget.contains(R.target))return;u.isHovered=!0;let L=R.currentTarget;u.target=L,h(Ma(R.target),"pointerover",F=>{u.isHovered&&u.target&&!HD(u.target,F.target)&&E(F,F.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:L,pointerType:D}),n&&n(!0),l(!0)},E=(R,D)=>{let L=u.target;u.pointerType="",u.target=null,!(D==="touch"||!u.isHovered||!L)&&(u.isHovered=!1,f(),r&&r({type:"hoverend",target:L,pointerType:D}),n&&n(!1),l(!1))},A={};return typeof PointerEvent<"u"&&(A.onPointerEnter=R=>{__&&R.pointerType==="mouse"||_(R,R.pointerType)},A.onPointerLeave=R=>{!i&&R.currentTarget.contains(R.target)&&E(R,R.pointerType)}),{hoverProps:A,triggerHoverEnd:E}},[e,n,r,i,u,h,f]);return S.useEffect(()=>{i&&b({currentTarget:u.target},u.pointerType)},[i]),{hoverProps:y,isHovered:o}}function rO(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=S.useRef({isFocused:!1,isFocusVisible:e||tO()}),[o,l]=S.useState(!1),[u,h]=S.useState(()=>i.current.isFocused&&i.current.isFocusVisible),f=S.useCallback(()=>h(i.current.isFocused&&i.current.isFocusVisible),[]),y=S.useCallback(E=>{i.current.isFocused=E,l(E),f()},[f]);Xq(E=>{i.current.isFocusVisible=E,f()},[],{isTextInput:n});let{focusProps:b}=Jq({isDisabled:r,onFocusChange:y}),{focusWithinProps:_}=eH({isDisabled:!r,onFocusWithinChange:y});return{isFocused:o,isFocusVisible:u,focusProps:r?_:b}}var rH=Object.defineProperty,sH=(t,e,n)=>e in t?rH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cb=(t,e,n)=>(sH(t,typeof e!="symbol"?e+"":e,n),n);let iH=class{constructor(){cb(this,"current",this.detect()),cb(this,"handoffState","pending"),cb(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Lo=new iH;function Dh(t){var e;return Lo.isServer?null:t==null?document:(e=t?.ownerDocument)!=null?e:document}function aH(t){var e,n;return Lo.isServer?null:t==null?document:(n=(e=t?.getRootNode)==null?void 0:e.call(t))!=null?n:document}function oH(t){var e,n;return(n=(e=aH(t))==null?void 0:e.activeElement)!=null?n:null}function sO(t){return oH(t)===t}function iO(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function jr(){let t=[],e={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),e.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return iO(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=jr();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function ru(){let[t]=S.useState(jr);return S.useEffect(()=>()=>t.dispose(),[t]),t}let tn=(t,e)=>{Lo.isServer?S.useEffect(t,e):S.useLayoutEffect(t,e)};function dl(t){let e=S.useRef(t);return tn(()=>{e.current=t},[t]),e}let tt=function(t){let e=dl(t);return $e.useCallback((...n)=>e.current(...n),[e])};function lH(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function cH(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function uH({disabled:t=!1}={}){let e=S.useRef(null),[n,r]=S.useState(!1),i=ru(),o=tt(()=>{e.current=null,r(!1),i.dispose()}),l=tt(u=>{if(i.dispose(),e.current===null){e.current=u.currentTarget,r(!0);{let h=Dh(u.currentTarget);i.addEventListener(h,"pointerup",o,!1),i.addEventListener(h,"pointermove",f=>{if(e.current){let y=lH(f);r(cH(y,e.current.getBoundingClientRect()))}},!1),i.addEventListener(h,"pointercancel",o,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:l,onPointerUp:o,onClick:o}}}function hl(t){return S.useMemo(()=>t,Object.values(t))}let dH=S.createContext(void 0);function f0(){return S.useContext(dH)}function WA(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function zs(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,zs),r}var x_=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(x_||{}),hH=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(hH||{});function rs(){let t=mH();return S.useCallback(e=>fH({mergeRefs:t,...e}),[t])}function fH({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:o=!0,name:l,mergeRefs:u}){u=u??pH;let h=aO(e,t);if(o)return Cm(h,n,r,l,u);let f=i??0;if(f&2){let{static:y=!1,...b}=h;if(y)return Cm(b,n,r,l,u)}if(f&1){let{unmount:y=!0,...b}=h;return zs(y?0:1,{0(){return null},1(){return Cm({...b,hidden:!0,style:{display:"none"}},n,r,l,u)}})}return Cm(h,n,r,l,u)}function Cm(t,e={},n,r,i){let{as:o=n,children:l,refName:u="ref",...h}=ub(t,["unmount","static"]),f=t.ref!==void 0?{[u]:t.ref}:{},y=typeof l=="function"?l(e):l;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(e)),h["aria-labelledby"]&&h["aria-labelledby"]===h.id&&(h["aria-labelledby"]=void 0);let b={};if(e){let _=!1,E=[];for(let[A,R]of Object.entries(e))typeof R=="boolean"&&(_=!0),R===!0&&E.push(A.replace(/([A-Z])/g,D=>`-${D.toLowerCase()}`));if(_){b["data-headlessui-state"]=E.join(" ");for(let A of E)b[`data-${A}`]=""}}if(ep(o)&&(Object.keys(bo(h)).length>0||Object.keys(bo(b)).length>0))if(!S.isValidElement(y)||Array.isArray(y)&&y.length>1||yH(y)){if(Object.keys(bo(h)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(bo(h)).concat(Object.keys(bo(b))).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`))}else{let _=y.props,E=_?.className,A=typeof E=="function"?(...L)=>WA(E(...L),h.className):WA(E,h.className),R=A?{className:A}:{},D=aO(y.props,bo(ub(h,["ref"])));for(let L in b)L in D&&delete b[L];return S.cloneElement(y,Object.assign({},D,b,f,{ref:i(gH(y),f.ref)},R))}return S.createElement(o,Object.assign({},ub(h,["ref"]),!ep(o)&&f,!ep(o)&&b),y)}function mH(){let t=S.useRef([]),e=S.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function pH(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function aO(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i?.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...o){let l=n[r];for(let u of l){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;u(i,...o)}}});return e}function m0(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let o=n[r];for(let l of o)l?.(...i)}});return e}function ss(t){var e;return Object.assign(S.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function bo(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function ub(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function gH(t){return $e.version.split(".")[0]>="19"?t.props.ref:t.ref}function ep(t){return t===S.Fragment||t===Symbol.for("react.fragment")}function yH(t){return ep(t.type)}function vH(t,e,n){let[r,i]=S.useState(n),o=t!==void 0,l=S.useRef(o),u=S.useRef(!1),h=S.useRef(!1);return o&&!l.current&&!u.current?(u.current=!0,l.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&l.current&&!h.current&&(h.current=!0,l.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?t:r,tt(f=>(o||Wn.flushSync(()=>i(f)),e?.(f)))]}function bH(t){let[e]=S.useState(t);return e}function oO(t={},e=null,n=[]){for(let[r,i]of Object.entries(t))cO(n,lO(e,r),i);return n}function lO(t,e){return t?t+"["+e+"]":e}function cO(t,e,n){if(Array.isArray(n))for(let[r,i]of n.entries())cO(t,lO(e,r.toString()),i);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):_H(n)&&!S.isValidElement(n)&&oO(n,e,t)}function _H(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}let xH="span";var p0=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(p0||{});function wH(t,e){var n;let{features:r=1,...i}=t,o={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return rs()({ourProps:o,theirProps:i,slot:{},defaultTag:xH,name:"Hidden"})}let uO=ss(wH),EH=S.createContext(null);function TH({children:t}){let e=S.useContext(EH);if(!e)return $e.createElement($e.Fragment,null,t);let{target:n}=e;return n?Wn.createPortal($e.createElement($e.Fragment,null,t),n):null}function SH({data:t,form:e,disabled:n,onReset:r,overrides:i}){let[o,l]=S.useState(null),u=ru();return S.useEffect(()=>{if(r&&o)return u.addEventListener(o,"reset",r)},[o,e,r]),$e.createElement(TH,null,$e.createElement(AH,{setForm:l,formId:e}),oO(t).map(([h,f])=>$e.createElement(uO,{features:p0.Hidden,...bo({key:h,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:n,name:h,value:f,...i})})))}function AH({setForm:t,formId:e}){return S.useEffect(()=>{if(e){let n=document.getElementById(e);n&&t(n)}},[t,e]),e?null:$e.createElement(uO,{features:p0.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&t(r)}})}let IH=S.createContext(void 0);function dO(){return S.useContext(IH)}function hO(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Cg(t){return hO(t)&&"tagName"in t}function ja(t){return Cg(t)&&"accessKey"in t}function Co(t){return Cg(t)&&"tabIndex"in t}function RH(t){return Cg(t)&&"style"in t}function CH(t){return ja(t)&&t.nodeName==="IFRAME"}function Lp(t){return ja(t)&&t.nodeName==="INPUT"}function XA(t){return ja(t)&&t.nodeName==="LABEL"}function NH(t){return ja(t)&&t.nodeName==="FIELDSET"}function fO(t){return ja(t)&&t.nodeName==="LEGEND"}function DH(t){return Cg(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function JA(t){let e=t.parentElement,n=null;for(;e&&!NH(e);)fO(e)&&(n=e),e=e.parentElement;let r=e?.getAttribute("disabled")==="";return r&&OH(n)?!1:r}function OH(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(fO(e))return!1;e=e.previousElementSibling}return!0}let mO=Symbol();function kH(t,e=!0){return Object.assign(t,{[mO]:e})}function Si(...t){let e=S.useRef(t);S.useEffect(()=>{e.current=t},[t]);let n=tt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||r?.[mO])?void 0:n}let g0=S.createContext(null);g0.displayName="DescriptionContext";function pO(){let t=S.useContext(g0);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,pO),e}return t}function PH(){var t,e;return(e=(t=S.useContext(g0))==null?void 0:t.value)!=null?e:void 0}let MH="p";function jH(t,e){let n=S.useId(),r=f0(),{id:i=`headlessui-description-${n}`,...o}=t,l=pO(),u=Si(e);tn(()=>l.register(i),[i,l.register]);let h=hl({...l.slot,disabled:r||!1}),f={ref:u,...l.props,id:i};return rs()({ourProps:f,theirProps:o,slot:h,defaultTag:MH,name:l.name||"Description"})}let VH=ss(jH);Object.assign(VH,{});var Mn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Mn||{});let Ng=S.createContext(null);Ng.displayName="LabelContext";function gO(){let t=S.useContext(Ng);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,gO),e}return t}function Dg(t){var e,n,r;let i=(n=(e=S.useContext(Ng))==null?void 0:e.value)!=null?n:void 0;return((r=t?.length)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function LH({inherit:t=!1}={}){let e=Dg(),[n,r]=S.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,S.useMemo(()=>function(o){let l=tt(h=>(r(f=>[...f,h]),()=>r(f=>{let y=f.slice(),b=y.indexOf(h);return b!==-1&&y.splice(b,1),y}))),u=S.useMemo(()=>({register:l,slot:o.slot,name:o.name,props:o.props,value:o.value}),[l,o.slot,o.name,o.props,o.value]);return $e.createElement(Ng.Provider,{value:u},o.children)},[r])]}let zH="label";function UH(t,e){var n;let r=S.useId(),i=gO(),o=dO(),l=f0(),{id:u=`headlessui-label-${r}`,htmlFor:h=o??((n=i.props)==null?void 0:n.htmlFor),passive:f=!1,...y}=t,b=Si(e);tn(()=>i.register(u),[u,i.register]);let _=tt(R=>{let D=R.currentTarget;if(!(R.target!==R.currentTarget&&DH(R.target))&&(XA(D)&&R.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(R),XA(D))){let L=document.getElementById(D.htmlFor);if(L){let F=L.getAttribute("disabled");if(F==="true"||F==="")return;let $=L.getAttribute("aria-disabled");if($==="true"||$==="")return;(Lp(L)&&(L.type==="file"||L.type==="radio"||L.type==="checkbox")||L.role==="radio"||L.role==="checkbox"||L.role==="switch")&&L.click(),L.focus({preventScroll:!0})}}}),E=hl({...i.slot,disabled:l||!1}),A={ref:b,...i.props,id:u,htmlFor:h,onClick:_};return f&&("onClick"in A&&(delete A.htmlFor,delete A.onClick),"onClick"in y&&delete y.onClick),rs()({ourProps:A,theirProps:y,slot:E,defaultTag:h?zH:"div",name:i.name||"Label"})}let $H=ss(UH),FH=Object.assign($H,{});function lc(t,e,n){let r=n.initialDeps??[],i,o=!0;function l(){var u,h,f;let y;n.key&&((u=n.debug)!=null&&u.call(n))&&(y=Date.now());const b=t();if(!(b.length!==r.length||b.some((A,R)=>r[R]!==A)))return i;r=b;let E;if(n.key&&((h=n.debug)!=null&&h.call(n))&&(E=Date.now()),i=e(...b),n.key&&((f=n.debug)!=null&&f.call(n))){const A=Math.round((Date.now()-y)*100)/100,R=Math.round((Date.now()-E)*100)/100,D=R/16,L=(F,$)=>{for(F=String(F);F.length<$;)F=" "+F;return F};console.info(`%c ${L(R,5)} /${L(A,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*D,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(o&&n.skipInitialOnChange)&&n.onChange(i),o=!1,i}return l.updateDeps=u=>{r=u},l}function eI(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const BH=(t,e)=>Math.abs(t-e)<1.01,qH=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},tI=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},HH=t=>t,GH=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},KH=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=l=>{const{width:u,height:h}=l;e({width:Math.round(u),height:Math.round(h)})};if(i(tI(n)),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(l=>{const u=()=>{const h=l[0];if(h?.borderBoxSize){const f=h.borderBoxSize[0];if(f){i({width:f.inlineSize,height:f.blockSize});return}}i(tI(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(u):u()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},nI={passive:!0},rI=typeof window>"u"?!0:"onscrollend"in window,QH=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const o=t.options.useScrollendEvent&&rI?()=>{}:qH(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),l=y=>()=>{const{horizontal:b,isRtl:_}=t.options;i=b?n.scrollLeft*(_&&-1||1):n.scrollTop,o(),e(i,y)},u=l(!0),h=l(!1);n.addEventListener("scroll",u,nI);const f=t.options.useScrollendEvent&&rI;return f&&n.addEventListener("scrollend",h,nI),()=>{n.removeEventListener("scroll",u),f&&n.removeEventListener("scrollend",h)}},ZH=(t,e,n)=>{if(e?.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},YH=(t,{adjustments:e=0,behavior:n},r)=>{var i,o;const l=t+e;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:l,behavior:n})};class WH{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{const l=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:HH,rangeExtractor:GH,onChange:()=>{},measureElement:ZH,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=lc(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let l=r-1;l>=0;l--){const u=n[l];if(i.has(u.lane))continue;const h=o.get(u.lane);if(h==null||u.end>h.end?o.set(u.lane,u):u.end<h.end&&i.set(u.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((l,u)=>l.end===u.end?l.index-u.index:l.end-u.end)[0]:void 0},this.getMeasurementOptions=lc(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,i,o,l,u)=>(this.prevLanes!==void 0&&this.prevLanes!==u&&(this.lanesChangedFlag=!0),this.prevLanes=u,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:l,lanes:u}),{key:!1}),this.getMeasurements=lc(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:l,lanes:u},h)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const _ of this.laneAssignments.keys())_>=n&&this.laneAssignments.delete(_);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(_=>{this.itemSizeCache.set(_.key,_.size)}));const f=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const y=this.measurementsCache.slice(0,f),b=new Array(u).fill(void 0);for(let _=0;_<f;_++){const E=y[_];E&&(b[E.lane]=_)}for(let _=f;_<n;_++){const E=o(_),A=this.laneAssignments.get(_);let R,D;if(A!==void 0&&this.options.lanes>1){R=A;const Q=b[R],W=Q!==void 0?y[Q]:void 0;D=W?W.end+this.options.gap:r+i}else{const Q=this.options.lanes===1?y[_-1]:this.getFurthestMeasurement(y,_);D=Q?Q.end+this.options.gap:r+i,R=Q?Q.lane:_%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(_,R)}const L=h.get(E),F=typeof L=="number"?L:this.options.estimateSize(_),$=D+F;y[_]={index:_,start:D,size:F,end:$,key:E,lane:R},b[R]=_}return this.measurementsCache=y,y},{key:!1,debug:()=>this.options.debug}),this.calculateRange=lc(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,o)=>this.range=n.length>0&&r>0?XH({measurements:n,outerSize:r,scrollOffset:i,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=lc(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,o,l)=>o===null||l===null?[]:n({startIndex:o,endIndex:l,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),o=this.measurementsCache[i];if(!o)return;const l=o.key,u=this.elementsCache.get(l);u!==n&&(u&&this.observer.unobserve(u),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,l=r-o;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,l,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=lc(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,l=n.length;o<l;o++){const u=n[o],h=r[u];i.push(h)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return eI(r[yO(0,r.length-1,i=>eI(r[i]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,r,i=0)=>{if(!this.scrollElement)return 0;const o=this.getSize(),l=this.getScrollOffset();r==="auto"&&(r=n>=l+o?"end":"start"),r==="center"?n+=(i-o)/2:r==="end"&&(n-=o);const u=this.getMaxScrollOffset();return Math.max(Math.min(u,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const o=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(i.end>=l+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];if(r==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),r];const u=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(u,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let o=0;const l=10,u=f=>{if(!this.targetWindow)return;const y=this.getOffsetForIndex(n,f);if(!y){console.warn("Failed to get offset for index:",n);return}const[b,_]=y;this._scrollToOffset(b,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const E=()=>{if(this.currentScrollToIndex!==n)return;const A=this.getScrollOffset(),R=this.getOffsetForIndex(n,_);if(!R){console.warn("Failed to get offset for index:",n);return}BH(R[0],A)||h(_)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(E):E()})},h=f=>{this.targetWindow&&this.currentScrollToIndex===n&&(o++,o<l?this.targetWindow.requestAnimationFrame(()=>u(f)):console.warn(`Failed to scroll to index ${n} after ${l} attempts.`))};u(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const o=Array(this.options.lanes).fill(null);let l=r.length-1;for(;l>=0&&o.some(u=>u===null);){const u=r[l];o[u.lane]===null&&(o[u.lane]=u.end),l--}i=Math.max(...o.filter(u=>u!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}const yO=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,o=n(i);if(o<r)t=i+1;else if(o>r)e=i-1;else return i}return t>0?t-1:0};function XH({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,o=h=>t[h].start;if(t.length<=r)return{startIndex:0,endIndex:i};let l=yO(0,i,o,n),u=l;if(r===1)for(;u<i&&t[u].end<n+e;)u++;else if(r>1){const h=Array(r).fill(0);for(;u<i&&h.some(y=>y<n+e);){const y=t[u];h[y.lane]=y.end,u++}const f=Array(r).fill(n+e);for(;l>=0&&f.some(y=>y>=n);){const y=t[l];f[y.lane]=y.start,l--}l=Math.max(0,l-l%r),u=Math.min(i,u+(r-1-u%r))}return{startIndex:l,endIndex:u}}const sI=typeof document<"u"?S.useLayoutEffect:S.useEffect;function JH({useFlushSync:t=!0,...e}){const n=S.useReducer(()=>({}),{})[1],r={...e,onChange:(o,l)=>{var u;t&&l?Wn.flushSync(n):n(),(u=e.onChange)==null||u.call(e,o,l)}},[i]=S.useState(()=>new WH(r));return i.setOptions(r),sI(()=>i._didMount(),[]),sI(()=>i._willUpdate()),i}function eG(t){return JH({observeElementRect:KH,observeElementOffset:QH,scrollToFn:YH,...t})}function tG(t,e){return t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"&&"id"in t&&"id"in e?t.id===e.id:t===e}function nG(t=tG){return S.useCallback((e,n)=>{if(typeof t=="string"){let r=t;return e?.[r]===n?.[r]}return t(e,n)},[t])}function iI(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function aI(t,e,n=!1){let[r,i]=S.useState(()=>iI(e));return tn(()=>{if(!e||!t)return;let o=jr();return o.requestAnimationFrame(function l(){o.requestAnimationFrame(l),i(u=>{let h=iI(e);return h.width===u.width&&h.height===u.height?u:h})}),()=>{o.dispose()}},[e,t]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var y0=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(y0||{});function rG(t){let e=S.useRef(null),n=tt(i=>{e.current=i.pointerType,!JA(i.currentTarget)&&i.pointerType==="mouse"&&i.button===y0.Left&&(i.preventDefault(),t(i))}),r=tt(i=>{e.current!=="mouse"&&(JA(i.currentTarget)||t(i))});return{onPointerDown:n,onClick:r}}let vO=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var sG=Object.defineProperty,iG=(t,e,n)=>e in t?sG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,aG=(t,e,n)=>(iG(t,e+"",n),n),bO=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ir=(t,e,n)=>(bO(t,e,"read from private field"),n?n.call(t):e.get(t)),db=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},oI=(t,e,n,r)=>(bO(t,e,"write to private field"),e.set(t,n),n),Is,Id,Rd;let _O=class{constructor(e){db(this,Is,{}),db(this,Id,new vO(()=>new Set)),db(this,Rd,new Set),aG(this,"disposables",jr()),oI(this,Is,e),Lo.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Ir(this,Is)}subscribe(e,n){if(Lo.isServer)return()=>{};let r={selector:e,callback:n,current:e(Ir(this,Is))};return Ir(this,Rd).add(r),this.disposables.add(()=>{Ir(this,Rd).delete(r)})}on(e,n){return Lo.isServer?()=>{}:(Ir(this,Id).get(e).add(n),this.disposables.add(()=>{Ir(this,Id).get(e).delete(n)}))}send(e){let n=this.reduce(Ir(this,Is),e);if(n!==Ir(this,Is)){oI(this,Is,n);for(let r of Ir(this,Rd)){let i=r.selector(Ir(this,Is));xO(r.current,i)||(r.current=i,r.callback(i))}for(let r of Ir(this,Id).get(e.type))r(Ir(this,Is),e)}}};Is=new WeakMap,Id=new WeakMap,Rd=new WeakMap;function xO(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:hb(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:hb(t.entries(),e.entries()):lI(t)&&lI(e)?hb(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function hb(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function lI(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var oG=Object.defineProperty,lG=(t,e,n)=>e in t?oG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cI=(t,e,n)=>(lG(t,typeof e!="symbol"?e+"":e,n),n),wO=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(wO||{});let cG={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let o=t.stack.slice();return o.splice(i,1),o.push(n),r=o,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},uG=class EO extends _O{constructor(){super(...arguments),cI(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),cI(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new EO({stack:[]})}reduce(e,n){return zs(n.type,cG,e,n)}};const v0=new vO(()=>uG.new());var fb={exports:{}},mb={};var uI;function dG(){if(uI)return mb;uI=1;var t=Bp();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return mb.useSyncExternalStoreWithSelector=function(h,f,y,b,_){var E=i(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=l(function(){function D(W){if(!L){if(L=!0,F=W,W=b(W),_!==void 0&&A.hasValue){var re=A.value;if(_(re,W))return $=re}return $=W}if(re=$,n(F,W))return re;var C=b(W);return _!==void 0&&_(re,C)?(F=W,re):(F=W,$=C)}var L=!1,F,$,Q=y===void 0?null:y;return[function(){return D(f())},Q===null?void 0:function(){return D(Q())}]},[f,y,b,_]);var R=r(h,E[0],E[1]);return o(function(){A.hasValue=!0,A.value=R},[R]),u(R),R},mb}var dI;function hG(){return dI||(dI=1,fb.exports=dG()),fb.exports}var fG=hG();function mn(t,e,n=xO){return fG.useSyncExternalStoreWithSelector(tt(r=>t.subscribe(mG,r)),tt(()=>t.state),tt(()=>t.state),tt(e),n)}function mG(t){return t}function TO(t,e){let n=S.useId(),r=v0.get(e),[i,o]=mn(r,S.useCallback(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return tn(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?o?i:!0:!1}let w_=new Map,$d=new Map;function hI(t){var e;let n=(e=$d.get(t))!=null?e:0;return $d.set(t,n+1),n!==0?()=>fI(t):(w_.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>fI(t))}function fI(t){var e;let n=(e=$d.get(t))!=null?e:1;if(n===1?$d.delete(t):$d.set(t,n-1),n!==1)return;let r=w_.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,w_.delete(t))}function pG(t,{allowed:e,disallowed:n}={}){let r=TO(t,"inert-others");tn(()=>{var i,o;if(!r)return;let l=jr();for(let h of(i=n?.())!=null?i:[])h&&l.add(hI(h));let u=(o=e?.())!=null?o:[];for(let h of u){if(!h)continue;let f=Dh(h);if(!f)continue;let y=h.parentElement;for(;y&&y!==f.body;){for(let b of y.children)u.some(_=>b.contains(_))||l.add(hI(b));y=y.parentElement}}return l.dispose},[r,e,n])}function gG(t,e,n){let r=dl(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});S.useEffect(()=>{if(!t)return;let i=e===null?null:ja(e)?e:e.current;if(!i)return;let o=jr();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(i));l.observe(i),o.add(()=>l.disconnect())}return()=>o.dispose()},[e,r,t])}let E_=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var yG=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(yG||{}),vG=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(vG||{}),bG=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(bG||{}),SO=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(SO||{});function _G(t,e=0){var n;return t===((n=Dh(t))==null?void 0:n.body)?!1:zs(e,{0(){return t.matches(E_)},1(){let r=t;for(;r!==null;){if(r.matches(E_))return!0;r=r.parentElement}return!1}})}var xG=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(xG||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function wG(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),o=e(r);if(i===null||o===null)return 0;let l=i.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function AO(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function EG(){return/Android/gi.test(window.navigator.userAgent)}function T_(){return AO()||EG()}function pc(t,e,n,r){let i=dl(n);S.useEffect(()=>{if(!t)return;function o(l){i.current(l)}return document.addEventListener(e,o,r),()=>document.removeEventListener(e,o,r)},[t,e,r])}function TG(t,e,n,r){let i=dl(n);S.useEffect(()=>{if(!t)return;function o(l){i.current(l)}return window.addEventListener(e,o,r),()=>window.removeEventListener(e,o,r)},[t,e,r])}const mI=30;function SG(t,e,n){let r=dl(n),i=S.useCallback(function(u,h){if(u.defaultPrevented)return;let f=h(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let y=(function b(_){return typeof _=="function"?b(_()):Array.isArray(_)||_ instanceof Set?_:[_]})(e);for(let b of y)if(b!==null&&(b.contains(f)||u.composed&&u.composedPath().includes(b)))return;return!_G(f,SO.Loose)&&f.tabIndex!==-1&&u.preventDefault(),r.current(u,f)},[r,e]),o=S.useRef(null);pc(t,"pointerdown",u=>{var h,f;T_()||(o.current=((f=(h=u.composedPath)==null?void 0:h.call(u))==null?void 0:f[0])||u.target)},!0),pc(t,"pointerup",u=>{if(T_()||!o.current)return;let h=o.current;return o.current=null,i(u,()=>h)},!0);let l=S.useRef({x:0,y:0});pc(t,"touchstart",u=>{l.current.x=u.touches[0].clientX,l.current.y=u.touches[0].clientY},!0),pc(t,"touchend",u=>{let h={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(h.x-l.current.x)>=mI||Math.abs(h.y-l.current.y)>=mI))return i(u,()=>Co(u.target)?u.target:null)},!0),TG(t,"blur",u=>i(u,()=>CH(window.document.activeElement)?window.document.activeElement:null),!0)}function S_(...t){return S.useMemo(()=>Dh(...t),[...t])}var AG=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(AG||{});const _d={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},IG=200,pI=5;function RG(t,{trigger:e,action:n,close:r,select:i}){let o=S.useRef(null),l=S.useRef(null),u=S.useRef(null);pc(t&&e!==null,"pointerdown",h=>{hO(h?.target)&&e!=null&&e.contains(h.target)&&(l.current=h.x,u.current=h.y,o.current=h.timeStamp)}),pc(t&&e!==null,"pointerup",h=>{var f,y;let b=o.current;if(b===null||(o.current=null,!Co(h.target))||Math.abs(h.x-((f=l.current)!=null?f:h.x))<pI&&Math.abs(h.y-((y=u.current)!=null?y:h.y))<pI)return;let _=n(h);switch(_.kind){case 0:return;case 1:{h.timeStamp-b>IG&&(i(_.target),r());break}case 2:{r();break}}},{capture:!0})}function CG(t,e,n,r){let i=dl(n);S.useEffect(()=>{t=t??window;function o(l){i.current(l)}return t.addEventListener(e,o,r),()=>t.removeEventListener(e,o,r)},[t,e,r])}function IO(t){let e=S.useRef({value:"",selectionStart:null,selectionEnd:null});return CG(t,"blur",n=>{let r=n.target;Lp(r)&&(e.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),tt(()=>{if(!sO(t)&&Lp(t)&&t.isConnected){if(t.focus({preventScroll:!0}),t.value!==e.current.value)t.setSelectionRange(t.value.length,t.value.length);else{let{selectionStart:n,selectionEnd:r}=e.current;n!==null&&r!==null&&t.setSelectionRange(n,r)}e.current={value:"",selectionStart:null,selectionEnd:null}}})}function NG(t,e){return S.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||e?.tagName==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function DG(t){return S.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function OG(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let l=e[i].call(n,...o);l&&(n=l,r.forEach(u=>u()))}}}function kG(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,t-i);n.style(r,"paddingRight",`${o}px`)}}}function PG(){return AO()?{before({doc:t,d:e,meta:n}){function r(i){for(let o of n().containers)for(let l of o())if(l.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let u=jr();u.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>u.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;e.addEventListener(t,"click",u=>{if(Co(u.target))try{let h=u.target.closest("a");if(!h)return;let{hash:f}=new URL(h.href),y=t.querySelector(f);Co(y)&&!r(y)&&(l=y)}catch{}},!0),e.group(u=>{e.addEventListener(t,"touchstart",h=>{if(u.dispose(),Co(h.target)&&RH(h.target))if(r(h.target)){let f=h.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(h.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",u=>{if(Co(u.target)){if(Lp(u.target))return;if(r(u.target)){let h=u.target;for(;h.parentElement&&h.dataset.headlessuiPortal!==""&&!(h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth);)h=h.parentElement;h.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),e.add(()=>{var u;let h=(u=window.scrollY)!=null?u:window.pageYOffset;o!==h&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function MG(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function gI(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let No=OG(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:jr(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=gI(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=gI(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[PG(),kG(),MG()];n.forEach(({before:r})=>r?.(e)),n.forEach(({after:r})=>r?.(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});No.subscribe(()=>{let t=No.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&No.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&No.dispatch("TEARDOWN",n)}});function jG(t,e,n=()=>({containers:[]})){let r=DG(No),i=e?r.get(e):void 0,o=i?i.count>0:!1;return tn(()=>{if(!(!e||!t))return No.dispatch("PUSH",e,n),()=>No.dispatch("POP",e,n)},[t,e]),o}function VG(t,e,n=()=>[document.body]){let r=TO(t,"scroll-lock");jG(r,e,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function yI(t){return[t.screenX,t.screenY]}function LG(){let t=S.useRef([-1,-1]);return{wasMoved(e){let n=yI(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=yI(e)}}}function zG(t=0){let[e,n]=S.useState(t),r=S.useCallback(h=>n(h),[]),i=S.useCallback(h=>n(f=>f|h),[]),o=S.useCallback(h=>(e&h)===h,[e]),l=S.useCallback(h=>n(f=>f&~h),[]),u=S.useCallback(h=>n(f=>f^h),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:o,removeFlag:l,toggleFlag:u}}var UG={},vI,bI;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((vI=process==null?void 0:UG)==null?void 0:vI.NODE_ENV)==="test"&&typeof((bI=Element?.prototype)==null?void 0:bI.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var $G=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))($G||{});function FG(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function BG(t,e,n,r){let[i,o]=S.useState(n),{hasFlag:l,addFlag:u,removeFlag:h}=zG(t&&i?3:0),f=S.useRef(!1),y=S.useRef(!1),b=ru();return tn(()=>{var _;if(t){if(n&&o(!0),!e){n&&u(3);return}return(_=void 0)==null||_.call(r,n),qG(e,{inFlight:f,prepare(){y.current?y.current=!1:y.current=f.current,f.current=!0,!y.current&&(n?(u(3),h(4)):(u(4),h(2)))},run(){y.current?n?(h(3),u(4)):(h(4),u(3)):n?h(1):u(1)},done(){var E;y.current&&KG(e)||(f.current=!1,h(7),n||o(!1),(E=void 0)==null||E.call(r,n))}})}},[t,n,e,b]),t?[i,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function qG(t,{prepare:e,run:n,done:r,inFlight:i}){let o=jr();return GG(t,{prepare:e,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(HG(t,r))})}),o.dispose}function HG(t,e){var n,r;let i=jr();if(!t)return i.dispose;let o=!1;i.add(()=>{o=!0});let l=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(u=>u instanceof CSSTransition))!=null?r:[];return l.length===0?(e(),i.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{o||e()}),i.dispose)}function GG(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function KG(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function QG(t,{container:e,accept:n,walk:r}){let i=S.useRef(n),o=S.useRef(r);S.useEffect(()=>{i.current=n,o.current=r},[n,r]),tn(()=>{if(!e||!t)return;let l=Dh(e);if(!l)return;let u=i.current,h=o.current,f=Object.assign(b=>u(b),{acceptNode:u}),y=l.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,f,!1);for(;y.nextNode();)h(y.currentNode)},[e,t,i,o])}function _I(t,e){let n=S.useRef([]),r=tt(t);S.useEffect(()=>{let i=[...n.current];for(let[o,l]of e.entries())if(n.current[o]!==l){let u=r(e,i);return n.current=e,u}},[r,...e])}function Og(){return typeof window<"u"}function su(t){return RO(t)?(t.nodeName||"").toLowerCase():"#document"}function hr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fs(t){var e;return(e=(RO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function RO(t){return Og()?t instanceof Node||t instanceof hr(t).Node:!1}function zn(t){return Og()?t instanceof Element||t instanceof hr(t).Element:!1}function Us(t){return Og()?t instanceof HTMLElement||t instanceof hr(t).HTMLElement:!1}function xI(t){return!Og()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hr(t).ShadowRoot}const ZG=new Set(["inline","contents"]);function Oh(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ns(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!ZG.has(i)}const YG=new Set(["table","td","th"]);function WG(t){return YG.has(su(t))}const XG=[":popover-open",":modal"];function kg(t){return XG.some(e=>{try{return t.matches(e)}catch{return!1}})}const JG=["transform","translate","scale","rotate","perspective"],eK=["transform","translate","scale","rotate","perspective","filter"],tK=["paint","layout","strict","content"];function b0(t){const e=_0(),n=zn(t)?ns(t):t;return JG.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||eK.some(r=>(n.willChange||"").includes(r))||tK.some(r=>(n.contain||"").includes(r))}function nK(t){let e=Ia(t);for(;Us(e)&&!Uc(e);){if(b0(e))return e;if(kg(e))return null;e=Ia(e)}return null}function _0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rK=new Set(["html","body","#document"]);function Uc(t){return rK.has(su(t))}function ns(t){return hr(t).getComputedStyle(t)}function Pg(t){return zn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ia(t){if(su(t)==="html")return t;const e=t.assignedSlot||t.parentNode||xI(t)&&t.host||Fs(t);return xI(e)?e.host:e}function CO(t){const e=Ia(t);return Uc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Us(e)&&Oh(e)?e:CO(e)}function oh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=CO(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),l=hr(i);if(o){const u=A_(l);return e.concat(l,l.visualViewport||[],Oh(i)?i:[],u&&n?oh(u):[])}return e.concat(i,oh(i,[],n))}function A_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sK(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const rl=Math.min,In=Math.max,lh=Math.round,Nm=Math.floor,Ms=t=>({x:t,y:t}),iK={left:"right",right:"left",bottom:"top",top:"bottom"},aK={start:"end",end:"start"};function wI(t,e,n){return In(t,rl(e,n))}function iu(t,e){return typeof t=="function"?t(e):t}function Ra(t){return t.split("-")[0]}function kh(t){return t.split("-")[1]}function NO(t){return t==="x"?"y":"x"}function DO(t){return t==="y"?"height":"width"}const oK=new Set(["top","bottom"]);function fi(t){return oK.has(Ra(t))?"y":"x"}function OO(t){return NO(fi(t))}function lK(t,e,n){n===void 0&&(n=!1);const r=kh(t),i=OO(t),o=DO(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=zp(l)),[l,zp(l)]}function cK(t){const e=zp(t);return[I_(t),e,I_(e)]}function I_(t){return t.replace(/start|end/g,e=>aK[e])}const EI=["left","right"],TI=["right","left"],uK=["top","bottom"],dK=["bottom","top"];function hK(t,e,n){switch(t){case"top":case"bottom":return n?e?TI:EI:e?EI:TI;case"left":case"right":return e?uK:dK;default:return[]}}function fK(t,e,n,r){const i=kh(t);let o=hK(Ra(t),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(I_)))),o}function zp(t){return t.replace(/left|right|bottom|top/g,e=>iK[e])}function mK(t){return{top:0,right:0,bottom:0,left:0,...t}}function pK(t){return typeof t!="number"?mK(t):{top:t,right:t,bottom:t,left:t}}function Up(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function SI(t,e,n){let{reference:r,floating:i}=t;const o=fi(e),l=OO(e),u=DO(l),h=Ra(e),f=o==="y",y=r.x+r.width/2-i.width/2,b=r.y+r.height/2-i.height/2,_=r[u]/2-i[u]/2;let E;switch(h){case"top":E={x:y,y:r.y-i.height};break;case"bottom":E={x:y,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:b};break;case"left":E={x:r.x-i.width,y:b};break;default:E={x:r.x,y:r.y}}switch(kh(e)){case"start":E[l]-=_*(n&&f?-1:1);break;case"end":E[l]+=_*(n&&f?-1:1);break}return E}const gK=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:y,y:b}=SI(f,r,h),_=r,E={},A=0;for(let R=0;R<u.length;R++){const{name:D,fn:L}=u[R],{x:F,y:$,data:Q,reset:W}=await L({x:y,y:b,initialPlacement:r,placement:_,strategy:i,middlewareData:E,rects:f,platform:l,elements:{reference:t,floating:e}});y=F??y,b=$??b,E={...E,[D]:{...E[D],...Q}},W&&A<=50&&(A++,typeof W=="object"&&(W.placement&&(_=W.placement),W.rects&&(f=W.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):W.rects),{x:y,y:b}=SI(f,_,h)),R=-1)}return{x:y,y:b,placement:_,strategy:i,middlewareData:E}};async function Mg(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:l,elements:u,strategy:h}=t,{boundary:f="clippingAncestors",rootBoundary:y="viewport",elementContext:b="floating",altBoundary:_=!1,padding:E=0}=iu(e,t),A=pK(E),D=u[_?b==="floating"?"reference":"floating":b],L=Up(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(D)))==null||n?D:D.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:y,strategy:h})),F=b==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),Q=await(o.isElement==null?void 0:o.isElement($))?await(o.getScale==null?void 0:o.getScale($))||{x:1,y:1}:{x:1,y:1},W=Up(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:F,offsetParent:$,strategy:h}):F);return{top:(L.top-W.top+A.top)/Q.y,bottom:(W.bottom-L.bottom+A.bottom)/Q.y,left:(L.left-W.left+A.left)/Q.x,right:(W.right-L.right+A.right)/Q.x}}const yK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:h,elements:f}=e,{mainAxis:y=!0,crossAxis:b=!0,fallbackPlacements:_,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:R=!0,...D}=iu(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const L=Ra(i),F=fi(u),$=Ra(u)===u,Q=await(h.isRTL==null?void 0:h.isRTL(f.floating)),W=_||($||!R?[zp(u)]:cK(u)),re=A!=="none";!_&&re&&W.push(...fK(u,R,A,Q));const C=[u,...W],I=await Mg(e,D),k=[];let j=((r=o.flip)==null?void 0:r.overflows)||[];if(y&&k.push(I[L]),b){const ve=lK(i,l,Q);k.push(I[ve[0]],I[ve[1]])}if(j=[...j,{placement:i,overflows:k}],!k.every(ve=>ve<=0)){var V,z;const ve=(((V=o.flip)==null?void 0:V.index)||0)+1,me=C[ve];if(me&&(!(b==="alignment"?F!==fi(me):!1)||j.every(Y=>fi(Y.placement)===F?Y.overflows[0]>0:!0)))return{data:{index:ve,overflows:j},reset:{placement:me}};let H=(z=j.filter(oe=>oe.overflows[0]<=0).sort((oe,Y)=>oe.overflows[1]-Y.overflows[1])[0])==null?void 0:z.placement;if(!H)switch(E){case"bestFit":{var P;const oe=(P=j.filter(Y=>{if(re){const ye=fi(Y.placement);return ye===F||ye==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(ye=>ye>0).reduce((ye,be)=>ye+be,0)]).sort((Y,ye)=>Y[1]-ye[1])[0])==null?void 0:P[0];oe&&(H=oe);break}case"initialPlacement":H=u;break}if(i!==H)return{reset:{placement:H}}}return{}}}},vK=new Set(["left","top"]);async function bK(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Ra(n),u=kh(n),h=fi(n)==="y",f=vK.has(l)?-1:1,y=o&&h?-1:1,b=iu(e,t);let{mainAxis:_,crossAxis:E,alignmentAxis:A}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return u&&typeof A=="number"&&(E=u==="end"?A*-1:A),h?{x:E*y,y:_*f}:{x:_*f,y:E*y}}const _K=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:l,middlewareData:u}=e,h=await bK(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+h.x,y:o+h.y,data:{...h,placement:l}}}}},xK=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:D=>{let{x:L,y:F}=D;return{x:L,y:F}}},...h}=iu(t,e),f={x:n,y:r},y=await Mg(e,h),b=fi(Ra(i)),_=NO(b);let E=f[_],A=f[b];if(o){const D=_==="y"?"top":"left",L=_==="y"?"bottom":"right",F=E+y[D],$=E-y[L];E=wI(F,E,$)}if(l){const D=b==="y"?"top":"left",L=b==="y"?"bottom":"right",F=A+y[D],$=A-y[L];A=wI(F,A,$)}const R=u.fn({...e,[_]:E,[b]:A});return{...R,data:{x:R.x-n,y:R.y-r,enabled:{[_]:o,[b]:l}}}}}},wK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:l,elements:u}=e,{apply:h=()=>{},...f}=iu(t,e),y=await Mg(e,f),b=Ra(i),_=kh(i),E=fi(i)==="y",{width:A,height:R}=o.floating;let D,L;b==="top"||b==="bottom"?(D=b,L=_===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(L=b,D=_==="end"?"top":"bottom");const F=R-y.top-y.bottom,$=A-y.left-y.right,Q=rl(R-y[D],F),W=rl(A-y[L],$),re=!e.middlewareData.shift;let C=Q,I=W;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=$),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=F),re&&!_){const j=In(y.left,0),V=In(y.right,0),z=In(y.top,0),P=In(y.bottom,0);E?I=A-2*(j!==0||V!==0?j+V:In(y.left,y.right)):C=R-2*(z!==0||P!==0?z+P:In(y.top,y.bottom))}await h({...e,availableWidth:I,availableHeight:C});const k=await l.getDimensions(u.floating);return A!==k.width||R!==k.height?{reset:{rects:!0}}:{}}}};function kO(t){const e=ns(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Us(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:r,u=lh(n)!==o||lh(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function x0(t){return zn(t)?t:t.contextElement}function Ec(t){const e=x0(t);if(!Us(e))return Ms(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=kO(e);let l=(o?lh(n.width):n.width)/r,u=(o?lh(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const EK=Ms(0);function PO(t){const e=hr(t);return!_0()||!e.visualViewport?EK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==hr(t)?!1:e}function sl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=x0(t);let l=Ms(1);e&&(r?zn(r)&&(l=Ec(r)):l=Ec(t));const u=TK(o,n,r)?PO(o):Ms(0);let h=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,y=i.width/l.x,b=i.height/l.y;if(o){const _=hr(o),E=r&&zn(r)?hr(r):r;let A=_,R=A_(A);for(;R&&r&&E!==A;){const D=Ec(R),L=R.getBoundingClientRect(),F=ns(R),$=L.left+(R.clientLeft+parseFloat(F.paddingLeft))*D.x,Q=L.top+(R.clientTop+parseFloat(F.paddingTop))*D.y;h*=D.x,f*=D.y,y*=D.x,b*=D.y,h+=$,f+=Q,A=hr(R),R=A_(A)}}return Up({width:y,height:b,x:h,y:f})}function jg(t,e){const n=Pg(t).scrollLeft;return e?e.left+n:sl(Fs(t)).left+n}function MO(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-jg(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function SK(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",l=Fs(r),u=e?kg(e.floating):!1;if(r===l||u&&o)return n;let h={scrollLeft:0,scrollTop:0},f=Ms(1);const y=Ms(0),b=Us(r);if((b||!b&&!o)&&((su(r)!=="body"||Oh(l))&&(h=Pg(r)),Us(r))){const E=sl(r);f=Ec(r),y.x=E.x+r.clientLeft,y.y=E.y+r.clientTop}const _=l&&!b&&!o?MO(l,h):Ms(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+y.x+_.x,y:n.y*f.y-h.scrollTop*f.y+y.y+_.y}}function AK(t){return Array.from(t.getClientRects())}function IK(t){const e=Fs(t),n=Pg(t),r=t.ownerDocument.body,i=In(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=In(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+jg(t);const u=-n.scrollTop;return ns(r).direction==="rtl"&&(l+=In(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:u}}const AI=25;function RK(t,e){const n=hr(t),r=Fs(t),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,h=0;if(i){o=i.width,l=i.height;const y=_0();(!y||y&&e==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}const f=jg(r);if(f<=0){const y=r.ownerDocument,b=y.body,_=getComputedStyle(b),E=y.compatMode==="CSS1Compat"&&parseFloat(_.marginLeft)+parseFloat(_.marginRight)||0,A=Math.abs(r.clientWidth-b.clientWidth-E);A<=AI&&(o-=A)}else f<=AI&&(o+=f);return{width:o,height:l,x:u,y:h}}const CK=new Set(["absolute","fixed"]);function NK(t,e){const n=sl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Us(t)?Ec(t):Ms(1),l=t.clientWidth*o.x,u=t.clientHeight*o.y,h=i*o.x,f=r*o.y;return{width:l,height:u,x:h,y:f}}function II(t,e,n){let r;if(e==="viewport")r=RK(t,n);else if(e==="document")r=IK(Fs(t));else if(zn(e))r=NK(e,n);else{const i=PO(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Up(r)}function jO(t,e){const n=Ia(t);return n===e||!zn(n)||Uc(n)?!1:ns(n).position==="fixed"||jO(n,e)}function DK(t,e){const n=e.get(t);if(n)return n;let r=oh(t,[],!1).filter(u=>zn(u)&&su(u)!=="body"),i=null;const o=ns(t).position==="fixed";let l=o?Ia(t):t;for(;zn(l)&&!Uc(l);){const u=ns(l),h=b0(l);!h&&u.position==="fixed"&&(i=null),(o?!h&&!i:!h&&u.position==="static"&&!!i&&CK.has(i.position)||Oh(l)&&!h&&jO(t,l))?r=r.filter(y=>y!==l):i=u,l=Ia(l)}return e.set(t,r),r}function OK(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?kg(e)?[]:DK(e,this._c):[].concat(n),r],u=l[0],h=l.reduce((f,y)=>{const b=II(e,y,i);return f.top=In(b.top,f.top),f.right=rl(b.right,f.right),f.bottom=rl(b.bottom,f.bottom),f.left=In(b.left,f.left),f},II(e,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function kK(t){const{width:e,height:n}=kO(t);return{width:e,height:n}}function PK(t,e,n){const r=Us(e),i=Fs(e),o=n==="fixed",l=sl(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const h=Ms(0);function f(){h.x=jg(i)}if(r||!r&&!o)if((su(e)!=="body"||Oh(i))&&(u=Pg(e)),r){const E=sl(e,!0,o,e);h.x=E.x+e.clientLeft,h.y=E.y+e.clientTop}else i&&f();o&&!r&&i&&f();const y=i&&!r&&!o?MO(i,u):Ms(0),b=l.left+u.scrollLeft-h.x-y.x,_=l.top+u.scrollTop-h.y-y.y;return{x:b,y:_,width:l.width,height:l.height}}function pb(t){return ns(t).position==="static"}function RI(t,e){if(!Us(t)||ns(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Fs(t)===n&&(n=n.ownerDocument.body),n}function VO(t,e){const n=hr(t);if(kg(t))return n;if(!Us(t)){let i=Ia(t);for(;i&&!Uc(i);){if(zn(i)&&!pb(i))return i;i=Ia(i)}return n}let r=RI(t,e);for(;r&&WG(r)&&pb(r);)r=RI(r,e);return r&&Uc(r)&&pb(r)&&!b0(r)?n:r||nK(t)||n}const MK=async function(t){const e=this.getOffsetParent||VO,n=this.getDimensions,r=await n(t.floating);return{reference:PK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jK(t){return ns(t).direction==="rtl"}const VK={convertOffsetParentRelativeRectToViewportRelativeRect:SK,getDocumentElement:Fs,getClippingRect:OK,getOffsetParent:VO,getElementRects:MK,getClientRects:AK,getDimensions:kK,getScale:Ec,isElement:zn,isRTL:jK};function LO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function LK(t,e){let n=null,r;const i=Fs(t);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),o();const f=t.getBoundingClientRect(),{left:y,top:b,width:_,height:E}=f;if(u||e(),!_||!E)return;const A=Nm(b),R=Nm(i.clientWidth-(y+_)),D=Nm(i.clientHeight-(b+E)),L=Nm(y),$={rootMargin:-A+"px "+-R+"px "+-D+"px "+-L+"px",threshold:In(0,rl(1,h))||1};let Q=!0;function W(re){const C=re[0].intersectionRatio;if(C!==h){if(!Q)return l();C?l(!1,C):r=setTimeout(()=>{l(!1,1e-7)},1e3)}C===1&&!LO(f,t.getBoundingClientRect())&&l(),Q=!1}try{n=new IntersectionObserver(W,{...$,root:i.ownerDocument})}catch{n=new IntersectionObserver(W,$)}n.observe(t)}return l(!0),o}function zK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,f=x0(t),y=i||o?[...f?oh(f):[],...oh(e)]:[];y.forEach(L=>{i&&L.addEventListener("scroll",n,{passive:!0}),o&&L.addEventListener("resize",n)});const b=f&&u?LK(f,n):null;let _=-1,E=null;l&&(E=new ResizeObserver(L=>{let[F]=L;F&&F.target===f&&E&&(E.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var $;($=E)==null||$.observe(e)})),n()}),f&&!h&&E.observe(f),E.observe(e));let A,R=h?sl(t):null;h&&D();function D(){const L=sl(t);R&&!LO(R,L)&&n(),R=L,A=requestAnimationFrame(D)}return n(),()=>{var L;y.forEach(F=>{i&&F.removeEventListener("scroll",n),o&&F.removeEventListener("resize",n)}),b?.(),(L=E)==null||L.disconnect(),E=null,h&&cancelAnimationFrame(A)}}const gb=Mg,UK=_K,$K=xK,FK=yK,BK=wK,qK=(t,e,n)=>{const r=new Map,i={platform:VK,...n},o={...i.platform,_c:r};return gK(t,e,{...i,platform:o})};var HK=typeof document<"u",GK=function(){},tp=HK?S.useLayoutEffect:GK;function $p(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!$p(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!$p(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function zO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function CI(t,e){const n=zO(t);return Math.round(e*n)/n}function yb(t){const e=S.useRef(t);return tp(()=>{e.current=t}),e}function KK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:h,open:f}=t,[y,b]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[_,E]=S.useState(r);$p(_,r)||E(r);const[A,R]=S.useState(null),[D,L]=S.useState(null),F=S.useCallback(Y=>{Y!==re.current&&(re.current=Y,R(Y))},[]),$=S.useCallback(Y=>{Y!==C.current&&(C.current=Y,L(Y))},[]),Q=o||A,W=l||D,re=S.useRef(null),C=S.useRef(null),I=S.useRef(y),k=h!=null,j=yb(h),V=yb(i),z=yb(f),P=S.useCallback(()=>{if(!re.current||!C.current)return;const Y={placement:e,strategy:n,middleware:_};V.current&&(Y.platform=V.current),qK(re.current,C.current,Y).then(ye=>{const be={...ye,isPositioned:z.current!==!1};ve.current&&!$p(I.current,be)&&(I.current=be,Wn.flushSync(()=>{b(be)}))})},[_,e,n,V,z]);tp(()=>{f===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,b(Y=>({...Y,isPositioned:!1})))},[f]);const ve=S.useRef(!1);tp(()=>(ve.current=!0,()=>{ve.current=!1}),[]),tp(()=>{if(Q&&(re.current=Q),W&&(C.current=W),Q&&W){if(j.current)return j.current(Q,W,P);P()}},[Q,W,P,j,k]);const me=S.useMemo(()=>({reference:re,floating:C,setReference:F,setFloating:$}),[F,$]),H=S.useMemo(()=>({reference:Q,floating:W}),[Q,W]),oe=S.useMemo(()=>{const Y={position:n,left:0,top:0};if(!H.floating)return Y;const ye=CI(H.floating,y.x),be=CI(H.floating,y.y);return u?{...Y,transform:"translate("+ye+"px, "+be+"px)",...zO(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ye,top:be}},[n,u,H.floating,y.x,y.y]);return S.useMemo(()=>({...y,update:P,refs:me,elements:H,floatingStyles:oe}),[y,P,me,H,oe])}const UO=(t,e)=>({...UK(t),options:[t,e]}),QK=(t,e)=>({...$K(t),options:[t,e]}),ZK=(t,e)=>({...FK(t),options:[t,e]}),YK=(t,e)=>({...BK(t),options:[t,e]}),$O={...MP},WK=$O.useInsertionEffect,XK=WK||(t=>t());function FO(t){const e=S.useRef(()=>{});return XK(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var R_=typeof document<"u"?S.useLayoutEffect:S.useEffect;let NI=!1,JK=0;const DI=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+JK++;function eQ(){const[t,e]=S.useState(()=>NI?DI():void 0);return R_(()=>{t==null&&e(DI())},[]),S.useEffect(()=>{NI=!0},[]),t}const tQ=$O.useId,nQ=tQ||eQ;function rQ(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const sQ=S.createContext(null),iQ=S.createContext(null),aQ=()=>{var t;return((t=S.useContext(sQ))==null?void 0:t.id)||null},oQ=()=>S.useContext(iQ),lQ="data-floating-ui-focusable";function cQ(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=nQ(),o=S.useRef({}),[l]=S.useState(()=>rQ()),u=aQ()!=null,[h,f]=S.useState(r.reference),y=FO((E,A,R)=>{o.current.openEvent=E?A:void 0,l.emit("openchange",{open:E,event:A,reason:R,nested:u}),n?.(E,A,R)}),b=S.useMemo(()=>({setPositionReference:f}),[]),_=S.useMemo(()=>({reference:h||r.reference||null,floating:r.floating||null,domReference:r.reference}),[h,r.reference,r.floating]);return S.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:_,events:l,floatingId:i,refs:b}),[e,y,_,l,i,b])}function uQ(t){t===void 0&&(t={});const{nodeId:e}=t,n=cQ({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[o,l]=S.useState(null),[u,h]=S.useState(null),y=i?.domReference||o,b=S.useRef(null),_=oQ();R_(()=>{y&&(b.current=y)},[y]);const E=KK({...t,elements:{...i,...u&&{reference:u}}}),A=S.useCallback($=>{const Q=zn($)?{getBoundingClientRect:()=>$.getBoundingClientRect(),contextElement:$}:$;h(Q),E.refs.setReference(Q)},[E.refs]),R=S.useCallback($=>{(zn($)||$===null)&&(b.current=$,l($)),(zn(E.refs.reference.current)||E.refs.reference.current===null||$!==null&&!zn($))&&E.refs.setReference($)},[E.refs]),D=S.useMemo(()=>({...E.refs,setReference:R,setPositionReference:A,domReference:b}),[E.refs,R,A]),L=S.useMemo(()=>({...E.elements,domReference:y}),[E.elements,y]),F=S.useMemo(()=>({...E,...r,refs:D,elements:L,nodeId:e}),[E,D,L,e,r]);return R_(()=>{r.dataRef.current.floatingContext=F;const $=_?.nodesRef.current.find(Q=>Q.id===e);$&&($.context=F)}),S.useMemo(()=>({...E,context:F,refs:D,elements:L}),[E,D,L,F])}const OI="active",kI="selected";function vb(t,e,n){const r=new Map,i=n==="item";let o=t;if(i&&t){const{[OI]:l,[kI]:u,...h}=t;o=h}return{...n==="floating"&&{tabIndex:-1,[lQ]:""},...o,...e.map(l=>{const u=l?l[n]:null;return typeof u=="function"?t?u(t):null:u}).concat(t).reduce((l,u)=>(u&&Object.entries(u).forEach(h=>{let[f,y]=h;if(!(i&&[OI,kI].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof y=="function"){var b;(b=r.get(f))==null||b.push(y),l[f]=function(){for(var _,E=arguments.length,A=new Array(E),R=0;R<E;R++)A[R]=arguments[R];return(_=r.get(f))==null?void 0:_.map(D=>D(...A)).find(D=>D!==void 0)}}}else l[f]=y}),l),{})}}function dQ(t){t===void 0&&(t=[]);const e=t.map(u=>u?.reference),n=t.map(u=>u?.floating),r=t.map(u=>u?.item),i=S.useCallback(u=>vb(u,t,"reference"),e),o=S.useCallback(u=>vb(u,t,"floating"),n),l=S.useCallback(u=>vb(u,t,"item"),r);return S.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:l}),[i,o,l])}function PI(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const hQ=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:l=0,minItemsVisible:u=4,referenceOverflowThreshold:h=0,scrollRef:f,...y}=iu(t,e),{rects:b,elements:{floating:_}}=e,E=n.current[l],A=f?.current||_,R=_.clientTop||A.clientTop,D=_.clientTop!==0,L=A.clientTop!==0,F=_===A;if(!E)return{};const $={...e,...await UO(-E.offsetTop-_.clientTop-b.reference.height/2-E.offsetHeight/2-o).fn(e)},Q=await gb(PI($,A.scrollHeight+R+_.clientTop),y),W=await gb($,{...y,elementContext:"reference"}),re=In(0,Q.top),C=$.y+re,j=(A.scrollHeight>A.clientHeight?V=>V:lh)(In(0,A.scrollHeight+(D&&F||L?R*2:0)-re-In(0,Q.bottom)));if(A.style.maxHeight=j+"px",A.scrollTop=re,i){const V=A.offsetHeight<E.offsetHeight*rl(u,n.current.length)-1||W.top>=-h||W.bottom>=-h;Wn.flushSync(()=>i(V))}return r&&(r.current=await gb(PI({...$,y:C},A.offsetHeight+R+_.clientTop),y)),{y:C}}});function fQ(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:o,scrollRef:l,onChange:u}=e,h=FO(u),f=S.useRef(!1),y=S.useRef(null),b=S.useRef(null);S.useEffect(()=>{if(!i)return;function E(R){if(R.ctrlKey||!A||o.current==null)return;const D=R.deltaY,L=o.current.top>=-.5,F=o.current.bottom>=-.5,$=A.scrollHeight-A.clientHeight,Q=D<0?-1:1,W=D<0?"max":"min";A.scrollHeight<=A.clientHeight||(!L&&D>0||!F&&D<0?(R.preventDefault(),Wn.flushSync(()=>{h(re=>re+Math[W](D,$*Q))})):/firefox/i.test(sK())&&(A.scrollTop+=D))}const A=l?.current||r.floating;if(n&&A)return A.addEventListener("wheel",E),requestAnimationFrame(()=>{y.current=A.scrollTop,o.current!=null&&(b.current={...o.current})}),()=>{y.current=null,b.current=null,A.removeEventListener("wheel",E)}},[i,n,r.floating,o,l,h]);const _=S.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const E=l?.current||r.floating;if(!(!o.current||!E||!f.current)){if(y.current!==null){const A=E.scrollTop-y.current;(o.current.bottom<-.5&&A<-1||o.current.top<-.5&&A>1)&&Wn.flushSync(()=>h(R=>R+A))}requestAnimationFrame(()=>{y.current=E.scrollTop})}}}),[r.floating,h,o,l]);return S.useMemo(()=>i?{floating:_}:{},[i,_])}let Ph=S.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Ph.displayName="FloatingContext";let w0=S.createContext(null);w0.displayName="PlacementContext";function mQ(t){return S.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function pQ(){return S.useContext(Ph).setReference}function gQ(){let{getFloatingProps:t,slot:e}=S.useContext(Ph);return S.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function yQ(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=S.useContext(w0),n=S.useMemo(()=>t,[JSON.stringify(t,(i,o)=>{var l;return(l=o?.outerHTML)!=null?l:o})]);tn(()=>{e?.(n??null)},[e,n]);let r=S.useContext(Ph);return S.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let MI=4;function vQ({children:t,enabled:e=!0}){let[n,r]=S.useState(null),[i,o]=S.useState(0),l=S.useRef(null),[u,h]=S.useState(null);bQ(u);let f=e&&n!==null&&u!==null,{to:y="bottom",gap:b=0,offset:_=0,padding:E=0,inner:A}=_Q(n,u),[R,D="center"]=y.split(" ");tn(()=>{f&&o(0)},[f]);let{refs:L,floatingStyles:F,context:$}=uQ({open:f,placement:R==="selection"?D==="center"?"bottom":`bottom-${D}`:D==="center"?`${R}`:`${R}-${D}`,strategy:"absolute",transform:!1,middleware:[UO({mainAxis:R==="selection"?0:b,crossAxis:_}),QK({padding:E}),R!=="selection"&&ZK({padding:E}),R==="selection"&&A?hQ({...A,padding:E,overflowRef:l,offset:i,minItemsVisible:MI,referenceOverflowThreshold:E,onFallbackChange(V){var z,P;if(!V)return;let ve=$.elements.floating;if(!ve)return;let me=parseFloat(getComputedStyle(ve).scrollPaddingBottom)||0,H=Math.min(MI,ve.childElementCount),oe=0,Y=0;for(let ye of(P=(z=$.elements.floating)==null?void 0:z.childNodes)!=null?P:[])if(ja(ye)){let be=ye.offsetTop,M=be+ye.clientHeight+me,B=ve.scrollTop,se=B+ve.clientHeight;if(be>=B&&M<=se)H--;else{Y=Math.max(0,Math.min(M,se)-Math.max(be,B)),oe=ye.clientHeight;break}}H>=1&&o(ye=>{let be=oe*H-Y+me;return ye>=be?ye:be})}}):null,YK({padding:E,apply({availableWidth:V,availableHeight:z,elements:P}){Object.assign(P.floating.style,{overflow:"auto",maxWidth:`${V}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${z}px)`})}})].filter(Boolean),whileElementsMounted:zK}),[Q=R,W=D]=$.placement.split("-");R==="selection"&&(Q="selection");let re=S.useMemo(()=>({anchor:[Q,W].filter(Boolean).join(" ")}),[Q,W]),C=fQ($,{overflowRef:l,onChange:o}),{getReferenceProps:I,getFloatingProps:k}=dQ([C]),j=tt(V=>{h(V),L.setFloating(V)});return S.createElement(w0.Provider,{value:r},S.createElement(Ph.Provider,{value:{setFloating:j,setReference:L.setReference,styles:F,getReferenceProps:I,getFloatingProps:k,slot:re}},t))}function bQ(t){tn(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function _Q(t,e){var n,r,i;let o=bb((n=t?.gap)!=null?n:"var(--anchor-gap, 0)",e),l=bb((r=t?.offset)!=null?r:"var(--anchor-offset, 0)",e),u=bb((i=t?.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:o,offset:l,padding:u}}function bb(t,e,n=void 0){let r=ru(),i=tt((h,f)=>{if(h==null)return[n,null];if(typeof h=="number")return[h,null];if(typeof h=="string"){if(!f)return[n,null];let y=jI(h,f);return[y,b=>{let _=BO(h);{let E=_.map(A=>window.getComputedStyle(f).getPropertyValue(A));r.requestAnimationFrame(function A(){r.nextFrame(A);let R=!1;for(let[L,F]of _.entries()){let $=window.getComputedStyle(f).getPropertyValue(F);if(E[L]!==$){E[L]=$,R=!0;break}}if(!R)return;let D=jI(h,f);y!==D&&(b(D),y=D)})}return r.dispose}]}return[n,null]}),o=S.useMemo(()=>i(t,e)[0],[t,e]),[l=o,u]=S.useState();return tn(()=>{let[h,f]=i(t,e);if(u(h),!!f)return f(u)},[t,e]),l}function BO(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...BO(i)]:[r]}return[]}function jI(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}function xQ({children:t,freeze:e},n){let r=C_(e,t);return S.isValidElement(r)?S.cloneElement(r,{ref:n}):$e.createElement($e.Fragment,null,r)}const wQ=$e.forwardRef(xQ);function C_(t,e){let[n,r]=S.useState(e);return!t&&n!==e&&r(e),t?n:e}let E0=S.createContext(null);E0.displayName="OpenClosedContext";var ch=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(ch||{});function EQ(){return S.useContext(E0)}function TQ({value:t,children:e}){return $e.createElement(E0.Provider,{value:t},e)}function SQ(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let To=[];SQ(()=>{function t(e){if(!Co(e.target)||e.target===document.body||To[0]===e.target)return;let n=e.target;n=n.closest(E_),To.unshift(n??e.target),To=To.filter(r=>r!=null&&r.isConnected),To.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function AQ(t){throw new Error("Unexpected object: "+t)}var fn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(fn||{});function VI(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let o=0;o<n.length;++o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(e.resolveId(n[o],o,n)===t.id)return o;return r}case 5:return null;default:AQ(t)}}function qO(t){let e=tt(t),n=S.useRef(!1);S.useEffect(()=>(n.current=!1,()=>{n.current=!0,iO(()=>{n.current&&e()})}),[e])}let IQ=S.createContext(!1);function RQ(){return S.useContext(IQ)}function CQ(t){let e=RQ(),n=S.useContext(GO),[r,i]=S.useState(()=>{var o;if(!e&&n!==null)return(o=n.current)!=null?o:null;if(Lo.isServer)return null;let l=t?.getElementById("headlessui-portal-root");if(l)return l;if(t===null)return null;let u=t.createElement("div");return u.setAttribute("id","headlessui-portal-root"),t.body.appendChild(u)});return S.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),S.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let HO=S.Fragment,NQ=ss(function(t,e){let{ownerDocument:n=null,...r}=t,i=S.useRef(null),o=Si(kH(_=>{i.current=_}),e),l=S_(i.current),u=n??l,h=CQ(u),f=S.useContext(PQ),y=ru(),b=rs();return qO(()=>{var _;h&&h.childNodes.length<=0&&((_=h.parentElement)==null||_.removeChild(h))}),h?Wn.createPortal($e.createElement("div",{"data-headlessui-portal":"",ref:_=>{y.dispose(),f&&_&&y.add(f.register(_))}},b({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:HO,name:"Portal"})),h):null});function DQ(t,e){let n=Si(e),{enabled:r=!0,ownerDocument:i,...o}=t,l=rs();return r?$e.createElement(NQ,{...o,ownerDocument:i,ref:n}):l({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:HO,name:"Portal"})}let OQ=S.Fragment,GO=S.createContext(null);function kQ(t,e){let{target:n,...r}=t,i={ref:Si(e)},o=rs();return $e.createElement(GO.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:OQ,name:"Popover.Group"}))}let PQ=S.createContext(null),MQ=ss(DQ),jQ=ss(kQ),VQ=Object.assign(MQ,{Group:jQ});const Cd={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function KO(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function LQ(t,e,n){let r=jr();if(e.kind==="Tracked"){let i=function(){o!==KO(t)&&(r.dispose(),n())},{position:o}=e,l=new ResizeObserver(i);l.observe(t),r.add(()=>l.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}var zQ=Object.defineProperty,UQ=(t,e,n)=>e in t?zQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LI=(t,e,n)=>(UQ(t,typeof e!="symbol"?e+"":e,n),n),Qe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Qe||{}),cr=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(cr||{}),js=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(js||{}),QO=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.SetTyping=3]="SetTyping",t[t.RegisterOption=4]="RegisterOption",t[t.UnregisterOption=5]="UnregisterOption",t[t.DefaultToFirstOption=6]="DefaultToFirstOption",t[t.SetActivationTrigger=7]="SetActivationTrigger",t[t.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",t[t.SetInputElement=9]="SetInputElement",t[t.SetButtonElement=10]="SetButtonElement",t[t.SetOptionsElement=11]="SetOptionsElement",t[t.MarkInputAsMoved=12]="MarkInputAsMoved",t))(QO||{});function _b(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=e(t.options.slice()),i=r.length>0&&r[0].dataRef.current.order!==null?r.sort((l,u)=>l.dataRef.current.order-u.dataRef.current.order):wG(r,l=>l.dataRef.current.domRef.current),o=n?i.indexOf(n):null;return o===-1&&(o=null),{options:i,activeOptionIndex:o}}let $Q={1(t){var e;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1)return t;let n=t.inputElement?Cd.Tracked(KO(t.inputElement)):t.inputPositionState;return{...t,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,inputPositionState:n,__demoMode:!1}},0(t){var e,n;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((n=t.dataRef.current)!=null&&n.value){let r=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(r!==-1)return{...t,activeOptionIndex:r,comboboxState:0,__demoMode:!1,inputPositionState:Cd.Idle}}return{...t,comboboxState:0,inputPositionState:Cd.Idle,__demoMode:!1}},3(t,e){return t.isTyping===e.isTyping?t:{...t,isTyping:e.isTyping}},2(t,e){var n,r,i,o;if((n=t.dataRef.current)!=null&&n.disabled||t.optionsElement&&!((r=t.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let{options:f,disabled:y}=t.virtual,b=e.focus===fn.Specific?e.idx:VI(e,{resolveItems:()=>f,resolveActiveIndex:()=>{var E,A;return(A=(E=t.activeOptionIndex)!=null?E:f.findIndex(R=>!y(R)))!=null?A:null},resolveDisabled:y,resolveId(){throw new Error("Function not implemented.")}}),_=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===b&&t.activationTrigger===_?t:{...t,activeOptionIndex:b,activationTrigger:_,isTyping:!1,__demoMode:!1}}let l=_b(t);if(l.activeOptionIndex===null){let f=l.options.findIndex(y=>!y.dataRef.current.disabled);f!==-1&&(l.activeOptionIndex=f)}let u=e.focus===fn.Specific?e.idx:VI(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled}),h=(o=e.trigger)!=null?o:2;return t.activeOptionIndex===u&&t.activationTrigger===h?t:{...t,...l,isTyping:!1,activeOptionIndex:u,activationTrigger:h,__demoMode:!1}},4:(t,e)=>{var n,r,i,o;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:[...t.options,e.payload]};let l=e.payload,u=_b(t,f=>(f.push(l),f));t.activeOptionIndex===null&&(i=(r=t.dataRef.current).isSelected)!=null&&i.call(r,e.payload.dataRef.current.value)&&(u.activeOptionIndex=u.options.indexOf(l));let h={...t,...u,activationTrigger:2};return(o=t.dataRef.current)!=null&&o.__demoMode&&t.dataRef.current.value===void 0&&(h.activeOptionIndex=0),h},5:(t,e)=>{var n;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:t.options.filter(i=>i.id!==e.id)};let r=_b(t,i=>{let o=i.findIndex(l=>l.id===e.id);return o!==-1&&i.splice(o,1),i});return{...t,...r,activationTrigger:2}},6:(t,e)=>t.defaultToFirstOption===e.value?t:{...t,defaultToFirstOption:e.value},7:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},8:(t,e)=>{var n,r;if(t.virtual===null)return{...t,virtual:{options:e.options,disabled:(n=e.disabled)!=null?n:()=>!1}};if(t.virtual.options===e.options&&t.virtual.disabled===e.disabled)return t;let i=t.activeOptionIndex;if(t.activeOptionIndex!==null){let o=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);o!==-1?i=o:i=null}return{...t,activeOptionIndex:i,virtual:{options:e.options,disabled:(r=e.disabled)!=null?r:()=>!1}}},9:(t,e)=>t.inputElement===e.element?t:{...t,inputElement:e.element},10:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},11:(t,e)=>t.optionsElement===e.element?t:{...t,optionsElement:e.element},12(t){return t.inputPositionState.kind!=="Tracked"?t:{...t,inputPositionState:Cd.Moved}}};class T0 extends _O{constructor(e){super(e),LI(this,"actions",{onChange:n=>{let{onChange:r,compare:i,mode:o,value:l}=this.state.dataRef.current;return zs(o,{0:()=>r?.(n),1:()=>{let u=l.slice(),h=u.findIndex(f=>i(f,n));return h===-1?u.push(n):u.splice(h,1),r?.(u)}})},registerOption:(n,r)=>(this.send({type:4,payload:{id:n,dataRef:r}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(r.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:n})}),goToOption:(n,r)=>(this.send({type:6,value:!1}),this.send({type:2,...n,trigger:r})),setIsTyping:n=>{this.send({type:3,isTyping:n})},closeCombobox:()=>{var n,r;this.send({type:1}),this.send({type:6,value:!1}),(r=(n=this.state.dataRef.current).onClose)==null||r.call(n)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:n=>{this.send({type:7,trigger:n})},selectActiveOption:()=>{let n=this.selectors.activeOptionIndex(this.state);if(n!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[n]);else{let{dataRef:r}=this.state.options[n];this.actions.onChange(r.current.value)}this.actions.goToOption({focus:fn.Specific,idx:n})}},setInputElement:n=>{this.send({type:9,element:n})},setButtonElement:n=>{this.send({type:10,element:n})},setOptionsElement:n=>{this.send({type:11,element:n})}}),LI(this,"selectors",{activeDescendantId:n=>{var r,i;let o=this.selectors.activeOptionIndex(n);if(o!==null)return n.virtual?(i=n.options.find(l=>!l.dataRef.current.disabled&&n.dataRef.current.compare(l.dataRef.current.value,n.virtual.options[o])))==null?void 0:i.id:(r=n.options[o])==null?void 0:r.id},activeOptionIndex:n=>{if(n.defaultToFirstOption&&n.activeOptionIndex===null&&(n.virtual?n.virtual.options.length>0:n.options.length>0)){if(n.virtual){let{options:i,disabled:o}=n.virtual,l=i.findIndex(u=>{var h;return!((h=o?.(u))!=null&&h)});if(l!==-1)return l}let r=n.options.findIndex(i=>!i.dataRef.current.disabled);if(r!==-1)return r}return n.activeOptionIndex},activeOption:n=>{var r,i;let o=this.selectors.activeOptionIndex(n);return o===null?null:n.virtual?n.virtual.options[o??0]:(i=(r=n.options[o])==null?void 0:r.dataRef.current.value)!=null?i:null},isActive:(n,r,i)=>{var o;let l=this.selectors.activeOptionIndex(n);return l===null?!1:n.virtual?l===n.dataRef.current.calculateIndex(r):((o=n.options[l])==null?void 0:o.id)===i},shouldScrollIntoView:(n,r,i)=>!(n.virtual||n.__demoMode||n.comboboxState!==0||n.activationTrigger===0||!this.selectors.isActive(n,r,i)),didInputMove(n){return n.inputPositionState.kind==="Moved"}});{let n=this.state.id,r=v0.get(null);this.disposables.add(r.on(wO.Push,i=>{!r.selectors.isTop(i,n)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.inputElement&&(n.dispose(),n.add(LQ(r.inputElement,r.inputPositionState,()=>{this.send({type:12})})))})})}static new({id:e,virtual:n=null,__demoMode:r=!1}){var i;return new T0({id:e,dataRef:{current:{}},comboboxState:r?0:1,isTyping:!1,options:[],virtual:n?{options:n.options,disabled:(i=n.disabled)!=null?i:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:r,inputPositionState:Cd.Idle})}reduce(e,n){return zs(n.type,$Q,e,n)}}const ZO=S.createContext(null);function Mh(t){let e=S.useContext(ZO);if(e===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,YO),n}return e}function YO({id:t,virtual:e=null,__demoMode:n=!1}){let r=S.useMemo(()=>T0.new({id:t,virtual:e,__demoMode:n}),[]);return qO(()=>r.dispose()),r}let uh=S.createContext(null);uh.displayName="ComboboxDataContext";function au(t){let e=S.useContext(uh);if(e===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,au),n}return e}let WO=S.createContext(null);function FQ(t){let e=Mh("VirtualProvider"),n=au("VirtualProvider"),{options:r}=n.virtual,i=mn(e,E=>E.optionsElement),[o,l]=S.useMemo(()=>{let E=i;if(!E)return[0,0];let A=window.getComputedStyle(E);return[parseFloat(A.paddingBlockStart||A.paddingTop),parseFloat(A.paddingBlockEnd||A.paddingBottom)]},[i]),u=eG({enabled:r.length!==0,scrollPaddingStart:o,scrollPaddingEnd:l,count:r.length,estimateSize(){return 40},getScrollElement(){return e.state.optionsElement},overscan:12}),[h,f]=S.useState(0);tn(()=>{f(E=>E+1)},[r]);let y=u.getVirtualItems(),b=mn(e,E=>E.activationTrigger===js.Pointer),_=mn(e,e.selectors.activeOptionIndex);return y.length===0?null:$e.createElement(WO.Provider,{value:u},$e.createElement("div",{style:{position:"relative",width:"100%",height:`${u.getTotalSize()}px`},ref:E=>{E&&(b||_!==null&&r.length>_&&u.scrollToIndex(_))}},y.map(E=>{var A;return $e.createElement(S.Fragment,{key:E.key},$e.cloneElement((A=t.children)==null?void 0:A.call(t,{...t.slot,option:r[E.index]}),{key:`${h}-${E.key}`,"data-index":E.index,"aria-setsize":r.length,"aria-posinset":E.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${E.start}px)`,overflowAnchor:"none"}}))})))}let BQ=S.Fragment;function qQ(t,e){let n=S.useId(),r=f0(),{value:i,defaultValue:o,onChange:l,form:u,name:h,by:f,invalid:y=!1,disabled:b=r||!1,onClose:_,__demoMode:E=!1,multiple:A=!1,immediate:R=!1,virtual:D=null,nullable:L,...F}=t,$=bH(o),[Q=A?[]:void 0,W]=vH(i,l,$),re=YO({id:n,virtual:D,__demoMode:E}),C=S.useRef({static:!1,hold:!1}),I=nG(f),k=tt(ke=>D?f===null?D.options.indexOf(ke):D.options.findIndex(He=>I(He,ke)):re.state.options.findIndex(He=>I(He.dataRef.current.value,ke))),j=S.useCallback(ke=>zs(P.mode,{[cr.Multi]:()=>Q.some(He=>I(He,ke)),[cr.Single]:()=>I(Q,ke)}),[Q]),V=mn(re,ke=>ke.virtual),z=tt(()=>_?.()),P=S.useMemo(()=>({__demoMode:E,immediate:R,optionsPropsRef:C,value:Q,defaultValue:$,disabled:b,invalid:y,mode:A?cr.Multi:cr.Single,virtual:D?V:null,onChange:W,isSelected:j,calculateIndex:k,compare:I,onClose:z}),[E,R,C,Q,$,b,y,A,D,V,W,j,k,I,z]);tn(()=>{var ke;D&&re.send({type:QO.UpdateVirtualConfiguration,options:D.options,disabled:(ke=D.disabled)!=null?ke:null})},[D,D?.options,D?.disabled]),tn(()=>{re.state.dataRef.current=P},[P]);let[ve,me,H,oe]=mn(re,ke=>[ke.comboboxState,ke.buttonElement,ke.inputElement,ke.optionsElement]),Y=v0.get(null),ye=mn(Y,S.useCallback(ke=>Y.selectors.isTop(ke,n),[Y,n]));SG(ye,[me,H,oe],()=>re.actions.closeCombobox());let be=mn(re,re.selectors.activeOptionIndex),M=mn(re,re.selectors.activeOption),B=hl({open:ve===Qe.Open,disabled:b,invalid:y,activeIndex:be,activeOption:M,value:Q}),[se,de]=LH(),xe=e===null?{}:{ref:e},we=S.useCallback(()=>{if($!==void 0)return W?.($)},[W,$]),_e=rs();return $e.createElement(de,{value:se,props:{htmlFor:H?.id},slot:{open:ve===Qe.Open,disabled:b}},$e.createElement(vQ,null,$e.createElement(uh.Provider,{value:P},$e.createElement(ZO.Provider,{value:re},$e.createElement(TQ,{value:zs(ve,{[Qe.Open]:ch.Open,[Qe.Closed]:ch.Closed})},h!=null&&$e.createElement(SH,{disabled:b,data:Q!=null?{[h]:Q}:{},form:u,onReset:we}),_e({ourProps:xe,theirProps:F,slot:B,defaultTag:BQ,name:"Combobox"}))))))}let HQ="input";function GQ(t,e){var n,r;let i=Mh("Combobox.Input"),o=au("Combobox.Input"),l=S.useId(),u=dO(),{id:h=u||`headlessui-combobox-input-${l}`,onChange:f,displayValue:y,disabled:b=o.disabled||!1,autoFocus:_=!1,type:E="text",...A}=t,R=S.useRef(null),D=Si(R,e,pQ(),i.actions.setInputElement),[L,F]=mn(i,B=>[B.comboboxState,B.isTyping]),$=ru(),Q=tt(()=>{i.actions.onChange(null),i.state.optionsElement&&(i.state.optionsElement.scrollTop=0),i.actions.goToOption({focus:fn.Nothing})}),W=S.useMemo(()=>{var B;return typeof y=="function"&&o.value!==void 0?(B=y(o.value))!=null?B:"":typeof o.value=="string"?o.value:""},[o.value,y]);_I(([B,se],[de,xe])=>{if(i.state.isTyping)return;let we=R.current;we&&((xe===Qe.Open&&se===Qe.Closed||B!==de)&&(we.value=B),requestAnimationFrame(()=>{if(i.state.isTyping||!we||sO(we))return;let{selectionStart:_e,selectionEnd:ke}=we;Math.abs((ke??0)-(_e??0))===0&&_e===0&&we.setSelectionRange(we.value.length,we.value.length)}))},[W,L,F]),_I(([B],[se])=>{if(B===Qe.Open&&se===Qe.Closed){if(i.state.isTyping)return;let de=R.current;if(!de)return;let xe=de.value,{selectionStart:we,selectionEnd:_e,selectionDirection:ke}=de;de.value="",de.value=xe,ke!==null?de.setSelectionRange(we,_e,ke):de.setSelectionRange(we,_e)}},[L]);let re=S.useRef(!1),C=tt(()=>{re.current=!0}),I=tt(()=>{$.nextFrame(()=>{re.current=!1})}),k=tt(B=>{switch(i.actions.setIsTyping(!0),B.key){case Mn.Enter:if(i.state.comboboxState!==Qe.Open||re.current)return;if(B.preventDefault(),B.stopPropagation(),i.selectors.activeOptionIndex(i.state)===null){i.actions.closeCombobox();return}i.actions.selectActiveOption(),o.mode===cr.Single&&i.actions.closeCombobox();break;case Mn.ArrowDown:return B.preventDefault(),B.stopPropagation(),zs(i.state.comboboxState,{[Qe.Open]:()=>i.actions.goToOption({focus:fn.Next}),[Qe.Closed]:()=>i.actions.openCombobox()});case Mn.ArrowUp:return B.preventDefault(),B.stopPropagation(),zs(i.state.comboboxState,{[Qe.Open]:()=>i.actions.goToOption({focus:fn.Previous}),[Qe.Closed]:()=>{Wn.flushSync(()=>i.actions.openCombobox()),o.value||i.actions.goToOption({focus:fn.Last})}});case Mn.Home:if(i.state.comboboxState===Qe.Closed||B.shiftKey)break;return B.preventDefault(),B.stopPropagation(),i.actions.goToOption({focus:fn.First});case Mn.PageUp:return B.preventDefault(),B.stopPropagation(),i.actions.goToOption({focus:fn.First});case Mn.End:if(i.state.comboboxState===Qe.Closed||B.shiftKey)break;return B.preventDefault(),B.stopPropagation(),i.actions.goToOption({focus:fn.Last});case Mn.PageDown:return B.preventDefault(),B.stopPropagation(),i.actions.goToOption({focus:fn.Last});case Mn.Escape:return i.state.comboboxState!==Qe.Open?void 0:(B.preventDefault(),i.state.optionsElement&&!o.optionsPropsRef.current.static&&B.stopPropagation(),o.mode===cr.Single&&o.value===null&&Q(),i.actions.closeCombobox());case Mn.Tab:if(i.actions.setIsTyping(!1),i.state.comboboxState!==Qe.Open)return;o.mode===cr.Single&&i.state.activationTrigger!==js.Focus&&i.actions.selectActiveOption(),i.actions.closeCombobox();break}}),j=tt(B=>{f?.(B),o.mode===cr.Single&&B.target.value===""&&Q(),i.actions.openCombobox()}),V=tt(B=>{var se,de,xe;let we=(se=B.relatedTarget)!=null?se:To.find(_e=>_e!==B.currentTarget);if(!((de=i.state.optionsElement)!=null&&de.contains(we))&&!((xe=i.state.buttonElement)!=null&&xe.contains(we))&&i.state.comboboxState===Qe.Open)return B.preventDefault(),o.mode===cr.Single&&o.value===null&&Q(),i.actions.closeCombobox()}),z=tt(B=>{var se,de,xe;let we=(se=B.relatedTarget)!=null?se:To.find(_e=>_e!==B.currentTarget);(de=i.state.buttonElement)!=null&&de.contains(we)||(xe=i.state.optionsElement)!=null&&xe.contains(we)||o.disabled||o.immediate&&i.state.comboboxState!==Qe.Open&&$.microTask(()=>{Wn.flushSync(()=>i.actions.openCombobox()),i.actions.setActivationTrigger(js.Focus)})}),P=Dg(),ve=PH(),{isFocused:me,focusProps:H}=rO({autoFocus:_}),{isHovered:oe,hoverProps:Y}=nO({isDisabled:b}),ye=mn(i,B=>B.optionsElement),be=hl({open:L===Qe.Open,disabled:b,invalid:o.invalid,hover:oe,focus:me,autofocus:_}),M=m0({ref:D,id:h,role:"combobox",type:E,"aria-controls":ye?.id,"aria-expanded":L===Qe.Open,"aria-activedescendant":mn(i,i.selectors.activeDescendantId),"aria-labelledby":P,"aria-describedby":ve,"aria-autocomplete":"list",defaultValue:(r=(n=t.defaultValue)!=null?n:o.defaultValue!==void 0?y?.(o.defaultValue):null)!=null?r:o.defaultValue,disabled:b||void 0,autoFocus:_,onCompositionStart:C,onCompositionEnd:I,onKeyDown:k,onChange:j,onFocus:z,onBlur:V},H,Y);return rs()({ourProps:M,theirProps:A,slot:be,defaultTag:HQ,name:"Combobox.Input"})}let KQ="button";function QQ(t,e){let n=Mh("Combobox.Button"),r=au("Combobox.Button"),[i,o]=S.useState(null),l=Si(e,o,n.actions.setButtonElement),u=S.useId(),{id:h=`headlessui-combobox-button-${u}`,disabled:f=r.disabled||!1,autoFocus:y=!1,...b}=t,[_,E,A]=mn(n,z=>[z.comboboxState,z.inputElement,z.optionsElement]),R=IO(E),D=_===Qe.Open;RG(D,{trigger:i,action:S.useCallback(z=>{if(i!=null&&i.contains(z.target)||E!=null&&E.contains(z.target))return _d.Ignore;let P=z.target.closest('[role="option"]:not([data-disabled])');return ja(P)?_d.Select(P):A!=null&&A.contains(z.target)?_d.Ignore:_d.Close},[i,E,A]),close:n.actions.closeCombobox,select:n.actions.selectActiveOption});let L=tt(z=>{switch(z.key){case Mn.Space:case Mn.Enter:z.preventDefault(),z.stopPropagation(),n.state.comboboxState===Qe.Closed&&Wn.flushSync(()=>n.actions.openCombobox()),R();return;case Mn.ArrowDown:z.preventDefault(),z.stopPropagation(),n.state.comboboxState===Qe.Closed&&(Wn.flushSync(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:fn.First})),R();return;case Mn.ArrowUp:z.preventDefault(),z.stopPropagation(),n.state.comboboxState===Qe.Closed&&(Wn.flushSync(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:fn.Last})),R();return;case Mn.Escape:if(n.state.comboboxState!==Qe.Open)return;z.preventDefault(),n.state.optionsElement&&!r.optionsPropsRef.current.static&&z.stopPropagation(),Wn.flushSync(()=>n.actions.closeCombobox()),R();return;default:return}}),F=rG(()=>{n.state.comboboxState===Qe.Open?n.actions.closeCombobox():n.actions.openCombobox(),R()}),$=Dg([h]),{isFocusVisible:Q,focusProps:W}=rO({autoFocus:y}),{isHovered:re,hoverProps:C}=nO({isDisabled:f}),{pressed:I,pressProps:k}=uH({disabled:f}),j=hl({open:_===Qe.Open,active:I||_===Qe.Open,disabled:f,invalid:r.invalid,value:r.value,hover:re,focus:Q}),V=m0({ref:l,id:h,type:NG(t,i),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":A?.id,"aria-expanded":_===Qe.Open,"aria-labelledby":$,disabled:f||void 0,autoFocus:y,onKeyDown:L},F,W,C,k);return rs()({ourProps:V,theirProps:b,slot:j,defaultTag:KQ,name:"Combobox.Button"})}let ZQ="div",YQ=x_.RenderStrategy|x_.Static;function WQ(t,e){var n,r,i;let o=S.useId(),{id:l=`headlessui-combobox-options-${o}`,hold:u=!1,anchor:h,portal:f=!1,modal:y=!0,transition:b=!1,..._}=t,E=Mh("Combobox.Options"),A=au("Combobox.Options"),R=mQ(h);R&&(f=!0);let[D,L]=yQ(R),[F,$]=S.useState(null),Q=gQ(),W=Si(e,R?D:null,E.actions.setOptionsElement,$),[re,C,I,k,j]=mn(E,gt=>[gt.comboboxState,gt.inputElement,gt.buttonElement,gt.optionsElement,gt.activationTrigger]),V=S_(C||I),z=S_(k),P=EQ(),[ve,me]=BG(b,F,P!==null?(P&ch.Open)===ch.Open:re===Qe.Open);gG(ve,C,E.actions.closeCombobox);let H=A.__demoMode?!1:y&&re===Qe.Open;VG(H,z);let oe=A.__demoMode?!1:y&&re===Qe.Open;pG(oe,{allowed:S.useCallback(()=>[C,I,k],[C,I,k])});let Y=mn(E,E.selectors.didInputMove)?!1:ve;tn(()=>{var gt;A.optionsPropsRef.current.static=(gt=t.static)!=null?gt:!1},[A.optionsPropsRef,t.static]),tn(()=>{A.optionsPropsRef.current.hold=u},[A.optionsPropsRef,u]),QG(re===Qe.Open,{container:k,accept(gt){return gt.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:gt.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(gt){gt.setAttribute("role","none")}});let ye=Dg([I?.id]),be=hl({open:re===Qe.Open,option:void 0}),M=tt(()=>{E.actions.setActivationTrigger(js.Pointer)}),B=tt(gt=>{gt.preventDefault(),E.actions.setActivationTrigger(js.Pointer)}),se=m0(R?Q():{},{"aria-labelledby":ye,role:"listbox","aria-multiselectable":A.mode===cr.Multi?!0:void 0,id:l,ref:W,style:{..._.style,...L,"--input-width":aI(ve,C,!0).width,"--button-width":aI(ve,I,!0).width},onWheel:j===js.Pointer?void 0:M,onMouseDown:B,...FG(me)}),de=ve&&re===Qe.Closed&&!t.static,xe=C_(de,(n=A.virtual)==null?void 0:n.options),we=C_(de,A.value),_e=S.useCallback(gt=>A.compare(we,gt),[A.compare,we]),ke=S.useMemo(()=>{if(!A.virtual)return A;if(xe===void 0)throw new Error("Missing `options` in virtual mode");return xe!==A.virtual.options?{...A,virtual:{...A.virtual,options:xe}}:A},[A,xe,(r=A.virtual)==null?void 0:r.options]);A.virtual&&Object.assign(_,{children:$e.createElement(uh.Provider,{value:ke},$e.createElement(FQ,{slot:be},_.children))});let He=rs(),Fn=S.useMemo(()=>A.mode===cr.Multi?A:{...A,isSelected:_e},[A,_e]);return $e.createElement(VQ,{enabled:f?t.static||ve:!1,ownerDocument:V},$e.createElement(uh.Provider,{value:Fn},He({ourProps:se,theirProps:{..._,children:$e.createElement(wQ,{freeze:de},typeof _.children=="function"?(i=_.children)==null?void 0:i.call(_,be):_.children)},slot:be,defaultTag:ZQ,features:YQ,visible:Y,name:"Combobox.Options"})))}let XQ="div";function JQ(t,e){var n,r,i;let o=au("Combobox.Option"),l=Mh("Combobox.Option"),u=S.useId(),{id:h=`headlessui-combobox-option-${u}`,value:f,disabled:y=(i=(r=(n=o.virtual)==null?void 0:n.disabled)==null?void 0:r.call(n,f))!=null?i:!1,order:b=null,..._}=t,[E]=mn(l,me=>[me.inputElement]),A=IO(E),R=mn(l,S.useCallback(me=>l.selectors.isActive(me,f,h),[f,h])),D=o.isSelected(f),L=S.useRef(null),F=dl({disabled:y,value:f,domRef:L,order:b}),$=S.useContext(WO),Q=Si(e,L,$?$.measureElement:null),W=tt(()=>{l.actions.setIsTyping(!1),l.actions.onChange(f)});tn(()=>l.actions.registerOption(h,F),[F,h]);let re=mn(l,S.useCallback(me=>l.selectors.shouldScrollIntoView(me,f,h),[f,h]));tn(()=>{if(re)return jr().requestAnimationFrame(()=>{var me,H;(H=(me=L.current)==null?void 0:me.scrollIntoView)==null||H.call(me,{block:"nearest"})})},[re,L]);let C=tt(me=>{me.preventDefault(),me.button===y0.Left&&(y||(W(),T_()||requestAnimationFrame(()=>A()),o.mode===cr.Single&&l.actions.closeCombobox()))}),I=tt(()=>{if(y)return l.actions.goToOption({focus:fn.Nothing});let me=o.calculateIndex(f);l.actions.goToOption({focus:fn.Specific,idx:me})}),k=LG(),j=tt(me=>k.update(me)),V=tt(me=>{if(!k.wasMoved(me)||y||R&&l.state.activationTrigger===js.Pointer)return;let H=o.calculateIndex(f);l.actions.goToOption({focus:fn.Specific,idx:H},js.Pointer)}),z=tt(me=>{k.wasMoved(me)&&(y||R&&(o.optionsPropsRef.current.hold||l.state.activationTrigger===js.Pointer&&l.actions.goToOption({focus:fn.Nothing})))}),P=hl({active:R,focus:R,selected:D,disabled:y}),ve={id:h,ref:Q,role:"option",tabIndex:y===!0?void 0:-1,"aria-disabled":y===!0?!0:void 0,"aria-selected":D,disabled:void 0,onMouseDown:C,onFocus:I,onPointerEnter:j,onMouseEnter:j,onPointerMove:V,onMouseMove:V,onPointerLeave:z,onMouseLeave:z};return rs()({ourProps:ve,theirProps:_,slot:P,defaultTag:XQ,name:"Combobox.Option"})}let eZ=ss(qQ),tZ=ss(QQ),nZ=ss(GQ),rZ=FH,sZ=ss(WQ),iZ=ss(JQ),Dm=Object.assign(eZ,{Input:nZ,Button:tZ,Label:rZ,Options:sZ,Option:iZ});const aZ=[],XO=$e.memo(function({value:e,seed:n,placeholder:r,onSelect:i}){const[o,l]=S.useState(e??""),[u,h]=S.useState([]),f=$e.useRef(null),[y,b]=S.useState(e);e!==y&&(b(e),l(e??"")),S.useEffect(()=>()=>{f.current&&window.clearTimeout(f.current)},[]);function _(A){const R=A?.trim()??"";i(R||null),h([])}function E(A,R=250){f.current&&window.clearTimeout(f.current),f.current=window.setTimeout(()=>{_(A),f.current=null},R)}return g.jsx(Dm,{value:e,onChange:A=>{f.current&&(window.clearTimeout(f.current),f.current=null),i(A),h([])},children:g.jsxs("div",{className:"relative mt-1",children:[g.jsx(Dm.Input,{className:"w-full px-3 py-2 rounded bg-surface border border-border text-text-main",value:o,onChange:A=>{const R=A.target.value;l(R),h(aZ.filter(D=>D.toLowerCase().includes(R.toLowerCase()))),E(R)},onBlur:()=>{f.current&&window.clearTimeout(f.current),_(o)},onKeyDown:A=>{(A.key==="Enter"||A.key==="Tab")&&(f.current&&window.clearTimeout(f.current),_(o))},placeholder:r}),u.length>0&&g.jsx(Dm.Options,{className:"absolute mt-1 w-full bg-surface border border-border rounded-md shadow-lg max-h-56 overflow-auto z-10",children:u.map(A=>g.jsx(Dm.Option,{value:A,className:({active:R})=>`px-3 py-2 cursor-pointer ${R?"bg-surface-highlight":""}`,children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"truncate",children:A}),g.jsxs("span",{className:"text-xs text-text-muted",children:["seed ",n]})]})},A))})]})})});XO.displayName="PlayerCombobox";function zI({isUp:t,isDown:e}){return t?g.jsx("span",{className:"inline-flex items-center",children:g.jsx(SR,{className:"mx-1 h-4 w-4 text-success"})}):e?g.jsx("span",{className:"inline-flex items-center",children:g.jsx(TR,{className:"mx-1 h-4 w-4 text-error"})}):g.jsx("span",{className:"inline-flex items-center",children:g.jsx("span",{className:"mx-2 h-2 w-2 bg-text-muted rounded-full"})})}function UI(t,e){const[n,r]=S.useState(()=>{const o=localStorage.getItem(t);if(o)try{return JSON.parse(o)}catch{}return typeof e=="function"?e():e});S.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(n))}catch{}},[t,n]);const i=S.useCallback(()=>{r(typeof e=="function"?e():e);try{localStorage.removeItem(t)}catch{}},[t,e]);return[n,r,i]}const Nd={playerNames:["","","",""],matches:[{},{},{}]},oZ=[Nd,Nd,Nd,Nd];function lZ(){const[t,e,n]=UI("paddleup_courts",oZ),[r,i,o]=UI("paddleup_round",1),l=S.useCallback(()=>{n(),o()},[n,o]);return{courts:t,setCourts:e,resetCourts:n,round:r,setRound:i,resetRound:o,resetAllStorage:l}}function cZ(){return Lb().length||K_({apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",appId:"1:490973136832:web:1811051408fdde8fbcea25",messagingSenderId:"490973136832"}),l2()}function uZ(t){const e=cZ(),[n,r]=S.useState(null),[i,o]=S.useState(!1),l=S.useRef(!1);S.useRef(null),S.useRef(null),S.useEffect(()=>{{o(!1),r(null);return}},[e,t]);const u=S.useCallback(async h=>{},[e,t]);return{data:n,write:u,connected:i,pending:l.current}}function dZ(t){const{courts:e,setCourts:n,round:r,setRound:i,resetAllStorage:o}=lZ(),{data:l,write:u,connected:h,pending:f}=uZ(t),y=S.useCallback(async _=>{const E=typeof _=="function"?_(e):_;return n(E),!0},[e,n,u,t]),b=S.useCallback(async _=>{i(_)},[i,u,t]);return{courts:e,setCourts:y,round:r,setRound:b,resetAllStorage:o,remoteData:l,writeRemote:u,connected:h,pending:f}}const Vg=4,JO=(t,e)=>{if(e===3)return t;if(e===2||e===1)return Math.ceil(JO(t,e+1)/3);throw new Error("Invalid round number")},xb=t=>String.fromCharCode(65+t),hZ=(t,e)=>t===e?xb(t):`${xb(t)}${xb(e)}`;function fZ(t,e=1){const n=Array.from({length:t},()=>[]);for(let r=0;r<Vg;r++){const i=e+r*t,o=Array.from({length:t},(u,h)=>i+h),l=r%2===0?o:o.slice().reverse();for(let u=0;u<t;u++)n[u].push(l[u])}return n}const Fp=(t,e)=>{if(t<=0)throw new Error("totalCourts must be greater than zero.");const n=JO(t,e),r=Math.floor(t/n),i=t%n,o=[];let l=0,u=1;for(let h=0;h<n;h++){const f=r+(h<i?1:0),y=hZ(l,l+f-1),b=fZ(f,u);for(let _=0;_<f;_++)o.push({seeds:b[_],tier:y,round:e});u+=f*Vg,l+=f}return o},$I=t=>t.includes("")?(t.charCodeAt(0)+t.charCodeAt(2))/2:t.charCodeAt(0),N_=(t,e)=>$I(t)-$I(e),FI=(t,e)=>t.tier!==e.tier?N_(t.tier,e.tier):t.courtRank!==e.courtRank?t.courtRank-e.courtRank:t.wins!==e.wins?e.wins-t.wins:t.pointDifferential!==e.pointDifferential?e.pointDifferential-t.pointDifferential:t.seed-e.seed;function mZ(t,e){if(!t?.length)throw new Error("courts array is required.");if(![1,2,3].includes(e))throw new Error("Supported rounds are 1, 2, or 3.");const n=Fp(t.length,e),r=t.flatMap((o,l)=>{const u=o.playerNames.map((f,y)=>({name:f,courtIndex:l,tier:n[l].tier,courtRank:0,wins:0,losses:0,pointDifferential:0,seed:n[l].seeds[y],roundPlace:0,nextCourt:0,nextTier:""}));return[{teamA:[0,1],teamB:[2,3],score:o.matches[0]},{teamA:[0,2],teamB:[1,3],score:o.matches[1]},{teamA:[0,3],teamB:[1,2],score:o.matches[2]}].forEach(f=>{const{scoreA:y=0,scoreB:b=0}=f.score;f.teamA.forEach(_=>{const E=u[_];E.pointDifferential+=y-b,y>b?E.wins+=1:E.losses+=1}),f.teamB.forEach(_=>{const E=u[_];E.pointDifferential+=b-y,b>y?E.wins+=1:E.losses+=1})}),u});r.sort(FI);const i=t.map(()=>1);for(const o of r)o.courtRank=i[o.courtIndex],i[o.courtIndex]+=1;if(r.sort(FI),r.forEach((o,l)=>{o.roundPlace=l+1}),e<3){const o=Fp(t.length,e+1);r.forEach(l=>{const u=o.findIndex(h=>h.seeds.includes(l.roundPlace));l.nextCourt=u+1,l.nextTier=o[u].tier})}return r}const pZ=(t,e)=>{const n=e+1,r=Math.ceil(t.length/Vg);return Fp(r,n).map(l=>({playerNames:l.seeds.map(u=>t.find(h=>h.roundPlace===u)?.name||""),matches:[{},{},{}]}))};function gZ(){const{courts:e,setCourts:n,round:r,setRound:i,resetAllStorage:o,remoteData:l,writeRemote:u,connected:h,pending:f}=dZ(null),[y,b]=S.useState(null),_=y??l?.courts??e,E=l?.round??r,A=S.useCallback(me=>{const H=typeof me=="function"?me(_):me;console.log("[useMatchCalculator] setCourts -> next courts count:",Array.isArray(H)?H.length:typeof H),b(H);const oe=n(H);oe&&typeof oe.then=="function"&&oe.then(Y=>{Y||b(null)}).catch(()=>b(null))},[n,_,b]),R=S.useCallback(me=>{i(me)},[i]),[D,L]=S.useState(null),[F,$]=S.useState(0),[Q]=S.useState(!1),W=S.useCallback((me,H,oe)=>{const Y=(oe??"").toString(),ye=new Set;_.forEach((be,M)=>be.playerNames.forEach((B,se)=>{M===me&&se===H||B&&ye.add(B)})),!Y||!ye.has(Y)||_[me].playerNames[H]===Y?(L(null),A(be=>be.map((M,B)=>B!==me?M:{...M,playerNames:M.playerNames.map((se,de)=>de===H?Y:se)}))):L(`${Y} is already selected in another slot`)},[_,A]),re=S.useCallback((me,H,oe,Y)=>{A(ye=>ye.map((be,M)=>M!==me?be:{...be,matches:be.matches.map((B,se)=>se===H?{...B,[oe]:Y}:B)}))},[A]),C=S.useMemo(()=>mZ(_,E),[_,E]),I=S.useCallback(()=>{const me=pZ(C,E);R(E+1),A(me)},[C,E,A,R]),k=S.useCallback(()=>{window.confirm("Are you sure you want to clear all data and start over?")&&(o(),L(null))},[o,null,u,_.length]),j=S.useCallback(()=>{},[]),V=_.length*3,z=_.reduce((me,H)=>me+H.matches.filter(oe=>oe.scoreA!==void 0&&oe.scoreB!==void 0).length,0),P=Math.round(z/Math.max(1,V)*100);return{draws:S.useMemo(()=>Fp(_.length,E),[_.length,E]),courts:_,setCourts:A,round:E,setRound:R,duplicateError:D,activeView:F,setActiveView:$,copyFeedback:Q,connected:!!l&&!!h,pending:f??!1,liveMatchId:null,setPlayerName:W,setScore:re,advanceToNextRound:I,resetAll:k,copyRankingsToClipboard:j,playerRankings:C,totalMatches:V,completedMatches:z,progressPercent:P}}const BI=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}};function yZ(){const{draws:t,courts:e,round:n,setRound:r,duplicateError:i,activeView:o,setActiveView:l,copyFeedback:u,connected:h,setCourts:f,setPlayerName:y,setScore:b,advanceToNextRound:_,resetAll:E,copyRankingsToClipboard:A,totalMatches:R,completedMatches:D,progressPercent:L,playerRankings:F}=gZ(),$=S.useCallback(({tier:C,nextTier:I})=>{const k=N_(C,I)>0,j=N_(C,I)<0;return g.jsx(zI,{isUp:k,isDown:j})},[]),Q=S.useCallback(({seed:C,roundPlace:I})=>{const k=C>I,j=C<I;return g.jsx(zI,{isUp:k,isDown:j})},[]),W=D<R,re=W?"w-full bg-surface text-text-muted shadow-none cursor-not-allowed":"w-full bg-success text-white hover:bg-success/90 shadow-lg shadow-success/20";return g.jsx("div",{className:"space-y-8",children:g.jsx("div",{className:"min-h-[60vh] bg-background text-text-main p-4 sm:p-6",children:g.jsxs("div",{className:"mx-auto",children:[g.jsxs("header",{className:"mb-4 text-center",children:[g.jsxs("div",{className:"flex items-center justify-center gap-3",children:[g.jsx("h1",{className:"text-3xl sm:text-2xl font-extrabold tracking-tight",children:"Match Calculator"}),g.jsxs("div",{className:"text-xs flex items-center gap-2",children:[g.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold ${h?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:h?"Live":"Offline"}),g.jsx("span",{className:"text-[11px] text-text-muted",children:"Local mode"})]})]}),g.jsx("p",{className:"text-sm text-text-muted mt-1 max-w-prose mx-auto",children:"Enter scores to compute round rankings and next courts."}),g.jsx("div",{className:"mt-3 h-0.5 bg-gradient-to-r from-primary via-text-accent to-success rounded"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 items-start",children:[g.jsxs("div",{className:"lg:col-span-1 space-y-4 sticky top-4 z-20",children:[g.jsx(Me,{className:"p-2 bg-surface shadow-md",children:g.jsx("div",{className:"flex p-1 bg-surface-alt rounded-lg",children:[1,2,3].map(C=>g.jsxs("button",{onClick:()=>{r(C)},className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${n===C?"bg-surface-highlight text-text-main shadow-sm":"text-text-muted hover:text-text-main"}`,children:["Round ",C]},C))})}),g.jsx("div",{className:"lg:hidden overflow-x-auto pb-2",children:g.jsxs("div",{className:"flex gap-2 min-w-max",children:[e.map((C,I)=>g.jsxs("button",{onClick:()=>l(I),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${o===I?"bg-primary text-white shadow-md":"bg-surface text-text-main border border-border hover:bg-surface-highlight"}`,children:[g.jsxs("span",{children:["Court ",I+1]}),g.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${o===I?"bg-white/20 text-white":"bg-surface-highlight text-text-muted"}`,children:t[I].tier})]},I)),g.jsx("div",{className:"w-px bg-border mx-1"}),g.jsx("button",{onClick:()=>l("rankings"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o==="rankings"?"bg-warning text-surface shadow-md":"bg-surface text-text-main border border-border hover:bg-surface-highlight"}`,children:"Rankings"})]})}),g.jsxs("div",{className:"hidden lg:flex flex-col gap-2",children:[e.map((C,I)=>g.jsxs("button",{onClick:()=>l(I),className:`flex items-center justify-between px-4 py-3 rounded-lg text-sm font-medium transition-all text-left group ${o===I?"bg-primary/10 text-primary border-l-4 border-primary shadow-sm":"bg-surface text-text-muted border-l-4 border-transparent hover:bg-surface-highlight hover:text-text-main"}`,children:[g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(x1,{className:"h-4 w-4 opacity-70"}),"Court ",I+1]}),g.jsx(ZA,{tierId:t[I].tier,size:"xs"})]},I)),g.jsx("div",{className:"h-px bg-border my-2"}),g.jsxs("button",{onClick:()=>l("rankings"),className:`flex items-center gap-2 px-4 py-3 rounded-lg text-sm font-medium transition-all text-left ${o==="rankings"?"bg-warning/10 text-warning border-l-4 border-warning shadow-sm":"bg-surface text-text-muted border-l-4 border-transparent hover:bg-surface-highlight hover:text-text-main"}`,children:[g.jsx(Un,{className:"h-4 w-4 opacity-70"}),"Round Rankings"]})]}),g.jsxs("div",{className:"hidden lg:block pt-4 space-y-4",children:[g.jsxs("div",{className:"bg-surface p-3 rounded-lg border border-border",children:[g.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[g.jsx("span",{className:"text-text-muted font-medium",children:"Round Progress"}),g.jsxs("span",{className:"text-primary font-bold",children:[L,"%"]})]}),g.jsx("div",{className:"h-2 bg-surface-alt rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${L}%`}})}),g.jsxs("div",{className:"text-[10px] text-text-muted mt-1 text-center",children:[D," / ",R," Matches"]})]}),g.jsxs("div",{className:"text-xs text-text-muted text-center",children:[e.length*Vg," Players  ",e.length," Courts"]}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{htmlFor:"court-count",className:"text-xs text-text-muted",children:"Courts"}),g.jsx("select",{id:"court-count",className:"text-sm bg-surface border border-border rounded px-2 py-1",value:String(e.length),onChange:C=>{const I=Math.max(2,Math.min(7,parseInt(C.target.value,10)||4));f(Array.from({length:I},()=>Nd))},children:[2,3,4,5,6,7].map(C=>g.jsx("option",{value:C,children:C},C))})]}),g.jsxs(Do,{onClick:E,variant:"ghost",size:"sm",className:"w-full justify-start text-xs text-error hover:bg-error/10 flex items-center gap-2",children:[g.jsx(F4,{className:"h-3 w-3"})," Reset All Data"]})]}),g.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-text-muted opacity-60",children:[g.jsx(V4,{className:"h-3 w-3"})," Auto-saving enabled"]})]})]}),g.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[o==="rankings"?g.jsxs(Me,{className:"p-0 overflow-hidden animate-in fade-in duration-300 border-t-4 border-warning",children:[g.jsxs("div",{className:"p-6 border-b border-border bg-surface-highlight/20 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-warning/10 rounded-lg",children:g.jsx(Un,{className:"h-6 w-6 text-warning"})}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold text-text-main",children:["Round ",n," Rankings"]}),g.jsx("p",{className:"text-sm text-text-muted",children:"Overall standings and next round assignments"})]})]}),g.jsx("div",{className:"flex gap-2",children:g.jsxs(Do,{onClick:A,variant:"secondary",size:"sm",className:"bg-surface border border-border flex items-center gap-1",children:[u?g.jsx(_1,{className:"h-4 w-4 text-success"}):g.jsx(E4,{className:"h-4 w-4"}),u?"Copied!":"Copy"]})})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"text-left text-xs text-text-muted border-b border-border bg-surface-alt/50",children:[g.jsx("th",{className:"py-3 pl-6",children:n===3?"Final Rank":"Rank"}),g.jsx("th",{className:"py-3",children:"Player"}),n===3&&g.jsx("th",{className:"py-3",children:"Pts"}),n!==3&&g.jsx("th",{className:"py-3",children:"Next court"})]})}),g.jsx("tbody",{children:F.map((C,I)=>g.jsxs("tr",{className:"border-b border-border last:border-0 hover:bg-surface-highlight/50 transition-colors",children:[g.jsx("td",{className:"py-4 pl-6 text-text-main font-bold",children:n===3?g.jsxs("div",{className:"flex items-center gap-3 whitespace-nowrap",children:[Q(C),g.jsx(Ig,{rank:I+1,size:"md"})]}):g.jsxs(g.Fragment,{children:[Q(C),BI(I+1)]})}),g.jsx("td",{className:"py-4 text-text-main font-medium",children:C.name}),n===3?g.jsx("td",{className:"py-4 text-text-main font-medium",children:[1e3,800,600,400,300,240,180,120,100,80,60,40,30,24,18,12][I]}):null,g.jsx("td",{className:"py-4 text-text-muted text-sm",children:n===3?g.jsx(g.Fragment,{}):g.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[$(C),g.jsx("span",{className:"px-2 py-0.5 rounded text-xs",children:g.jsx(ZA,{tierId:C.nextTier??C.tier,size:"xs",label:C.nextTier??void 0})}),g.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-semibold bg-primary text-white ml-2",children:`Court ${C.nextCourt}`})]})})]},I))})]})})]}):e.map((C,I)=>I!==o?null:g.jsxs(Me,{className:"p-0 overflow-hidden animate-in fade-in slide-in-from-right-4 duration-300 border-t-4 border-primary",children:[g.jsx("div",{className:"p-6 border-b border-border bg-surface-highlight/20",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:g.jsx(x1,{className:"h-6 w-6 text-primary"})}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold text-text-main",children:["Court ",I+1]}),g.jsxs("p",{className:"text-sm text-text-muted",children:["Tier ",t[I].tier,"  Round ",n]})]})]})}),g.jsxs("div",{className:"p-6 space-y-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-primary uppercase tracking-wider",children:[g.jsx(al,{className:"h-4 w-4"})," Players"]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.playerNames.map((k,j)=>g.jsxs("div",{className:"flex items-center gap-3 bg-surface-alt/30 p-2 rounded-lg border border-transparent focus-within:border-primary/30 transition-colors",children:[g.jsxs("div",{className:"w-8 text-xs text-text-muted font-mono font-bold",children:["P",j+1]}),g.jsx("div",{className:"flex-1",children:g.jsx(XO,{value:k,seed:t[I].seeds[j],placeholder:`Select Player ${j+1}`,onSelect:V=>y(I,j,V)})}),g.jsxs("div",{className:"text-right text-xs text-text-muted bg-surface px-2 py-1 rounded",children:["Seed ",t[I].seeds[j]]})]},j))})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-warning uppercase tracking-wider",children:[g.jsx(Nb,{className:"h-4 w-4"})," Matches"]}),g.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:C.matches.map((k,j)=>{const V=C.playerNames[0]||"P1",z=C.playerNames[1]||"P2",P=C.playerNames[2]||"P3",ve=C.playerNames[3]||"P4",me=j===0?[V,z]:j===1?[V,P]:[V,ve],H=j===0?[P,ve]:j===1?[z,ve]:[z,P],oe=k.scoreA!==null&&k.scoreB!==null;return g.jsxs("div",{className:`rounded-xl p-4 border transition-all duration-300 ${oe?"bg-success/5 border-success/30 shadow-sm":"bg-surface-alt/50 border-border hover:border-warning/30"}`,children:[g.jsx("div",{className:"flex justify-center mb-3",children:g.jsxs("div",{className:`text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1 ${oe?"bg-success/20 text-success":"bg-surface text-text-muted"}`,children:[oe&&g.jsx(_1,{className:"h-3 w-3"})," Match"," ",j+1]})}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-medium truncate pr-2 w-2/3",title:me.join(" & "),children:me.join(" & ")}),g.jsx("div",{className:"w-20",children:g.jsx("input",{type:"number",min:0,max:11,inputMode:"numeric",pattern:"[0-9]*",className:"w-full bg-surface border border-border rounded px-2 py-1.5 text-center text-sm font-bold focus:ring-2 ring-warning/50 outline-none",value:k.scoreA??"",onChange:Y=>{const ye=Y.target.value,be=ye===""?void 0:Math.max(0,Math.min(11,parseInt(ye,10)||0));b(I,j,"scoreA",be)},onBlur:Y=>{Y.currentTarget.value===""&&b(I,j,"scoreA",void 0)}})})]}),g.jsxs("div",{className:"relative flex items-center py-1",children:[g.jsx("div",{className:"flex-grow border-t border-border"}),g.jsx("span",{className:"flex-shrink-0 mx-2 text-[10px] font-bold text-text-muted uppercase",children:"VS"}),g.jsx("div",{className:"flex-grow border-t border-border"})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-medium truncate pr-2 w-2/3",title:H.join(" & "),children:H.join(" & ")}),g.jsx("div",{className:"w-20",children:g.jsx("input",{type:"number",min:0,max:11,inputMode:"numeric",pattern:"[0-9]*",className:"w-full bg-surface border border-border rounded px-2 py-1.5 text-center text-sm font-bold focus:ring-2 ring-warning/50 outline-none",value:k.scoreB??"",onChange:Y=>{const ye=Y.target.value,be=ye===""?void 0:Math.max(0,Math.min(11,parseInt(ye,10)||0));b(I,j,"scoreB",be)},onBlur:Y=>{Y.currentTarget.value===""&&b(I,j,"scoreB",void 0)}})})]})]})]},j)})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-success uppercase tracking-wider mb-3",children:[g.jsx(_4,{className:"h-4 w-4"})," Court Standings"]}),g.jsx("div",{className:"overflow-x-auto rounded-lg border border-border",children:g.jsxs("table",{className:"w-full text-sm",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"text-left text-xs text-text-muted bg-surface-alt",children:[g.jsx("th",{className:"p-3 font-bold",children:"Place"}),g.jsx("th",{className:"p-3 font-bold",children:"Player"}),g.jsx("th",{className:"p-3 font-bold",children:"W-L"}),g.jsx("th",{className:"p-3 font-bold",children:"Diff"})]})}),g.jsx("tbody",{children:F.filter(k=>k.courtIndex===I).map(k=>{const j=k.wins??0,V=Math.max(0,3-j),z=`${k.pointDifferential>=0?"+":""}${k.pointDifferential}`;return g.jsxs("tr",{className:"border-b border-border last:border-0 hover:bg-surface-highlight/20",children:[g.jsx("td",{className:"p-3 font-bold text-text-main",children:k.courtRank?BI(k.courtRank):"-"}),g.jsx("td",{className:"p-3 text-text-main font-medium truncate max-w-[150px]",children:k.name}),g.jsx("td",{className:"p-3 text-text-muted",children:`${k.wins}-${V}`}),g.jsx("td",{className:`p-3 font-bold ${(k.pointDifferential??0)>0?"text-success":(k.pointDifferential??0)<0?"text-error":"text-text-muted"}`,children:z})]},k.seed)})})]})})]})]})]},I)),g.jsxs("div",{className:"sticky bottom-4 z-10",children:[i&&g.jsx("div",{className:"bg-error/10 border border-error/20 text-error text-sm p-3 rounded-lg mb-3 text-center animate-in slide-in-from-bottom-2 shadow-lg backdrop-blur-md",children:i}),n<3&&g.jsx("div",{className:"flex gap-4 p-4 bg-surface/80 backdrop-blur-md border border-border rounded-2xl shadow-xl",children:g.jsx(Do,{onClick:()=>{_(),window.scrollTo({top:0,behavior:"smooth"})},variant:"primary",size:"lg",className:re,disabled:W,children:"Next Round"})})]})]})]})]})})})}const vZ=()=>{const{data:t}=Pa(),e=y=>y?y.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",n=y=>y?y.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",[r,i]=$e.useState("upcoming"),o=(t||[]).filter(y=>y.startDateTime instanceof Date&&!isNaN(y.startDateTime.getTime())).slice().sort((y,b)=>y.startDateTime.getTime()-b.startDateTime.getTime()),l=new Date,u=o.filter(y=>y.startDateTime.getTime()>=l.getTime()),h=o.filter(y=>y.startDateTime.getTime()<l.getTime()).slice().reverse(),f=r==="upcoming"?u:h;return g.jsxs("div",{className:"space-y-8 pb-12",children:[g.jsx(Ch,{title:"Season Schedule",subtitle:"Per-night registration links for 'The Challenge'  register for any night below.",center:!0}),g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx("div",{className:"flex items-center justify-end gap-2 mb-4",children:g.jsx(BD,{options:[{value:"upcoming",label:"Upcoming"},{value:"past",label:"Past"}],value:r,onChange:y=>i(y)})}),g.jsx("div",{className:"grid gap-6",children:f.map(y=>g.jsx(Ct,{to:`/event/${encodeURIComponent(y.id)}`,className:"group",children:g.jsxs(Me,{className:"p-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-4 group-hover:shadow-lg transition",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-text-main mb-1",children:y.name}),g.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-text-muted",children:[g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx($o,{className:"h-4 w-4"})," ",e(y.startDateTime)]}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx($_,{className:"h-4 w-4"})," ",n(y.startDateTime)]}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(Zp,{className:"h-4 w-4"})," ",y.location]})]})]}),g.jsx("div",{className:"flex-shrink-0 w-full md:w-auto",children:r==="past"?g.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-3 bg-surface border border-border rounded-xl text-text-muted font-semibold",children:[g.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-success/80"}),"Completed"]}):g.jsxs("a",{href:y.link,target:"_blank",rel:"noopener noreferrer",onClick:b=>b.stopPropagation(),className:"inline-flex items-center justify-center gap-2 px-5 py-3 bg-primary text-text-main rounded-xl font-bold hover:opacity-95 transition shadow",children:["Register on CourtReserve ",g.jsx(Qp,{className:"h-4 w-4"})]})})]})},y.id))})]})]})};function bZ(){const[t,e]=S.useState(null),[n,r]=S.useState(!1),[i,o]=S.useState(!0);return S.useEffect(()=>{const l=q2(Wm,async u=>{if(e(u),!u){r(!1),o(!1);return}const f=(await u.getIdTokenResult(!0)).claims;r(f.admin===!0),o(!1)});return()=>l()},[]),{user:t,isAdmin:n,loading:i}}const _Z=({isAdmin:t})=>{const{create:e,status:n,error:r}=uq(),[i,o]=S.useState(""),[l,u]=S.useState(""),[h,f]=S.useState(""),[y,b]=S.useState(""),[_,E]=S.useState(""),[A,R]=S.useState(""),[D,L]=S.useState(""),[F,$]=S.useState(""),[Q,W]=S.useState(""),re=async C=>{if(C.preventDefault(),!t){alert("You are not authorized to create events.");return}if(!i.trim()||!l){alert("Name and start date are required.");return}const I=new Date(`${l}T${h||"00:00"}`),k=y?new Date(`${y}T${_||"00:00"}`):void 0,j={name:i.trim(),startDateTime:I,...k?{endDateTime:k}:{},...A.trim()?{location:A.trim()}:{},...D?{status:D}:{},...F.trim()?{label:F.trim()}:{},...Q.trim()?{link:Q.trim()}:{},standings:[],rounds:[]};try{const V=await e(j);alert(`Event created${V?` (id: ${String(V)})`:""}.`),o(""),u(""),f(""),b(""),E(""),R(""),L(""),$(""),W("")}catch(V){console.error("Create event failed",V),alert("Failed to create event. See console for details.")}};return g.jsxs("form",{onSubmit:re,className:"space-y-3 max-w-md",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Event name"}),g.jsx("input",{value:i,onChange:C=>o(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Start date"}),g.jsx("input",{type:"date",value:l,onChange:C=>u(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Start time (optional)"}),g.jsx("input",{type:"time",value:h,onChange:C=>f(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"End date (optional)"}),g.jsx("input",{type:"date",value:y,onChange:C=>b(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"End time (optional)"}),g.jsx("input",{type:"time",value:_,onChange:C=>E(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Location (optional)"}),g.jsx("input",{value:A,onChange:C=>R(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Status (optional)"}),g.jsxs("select",{value:D,onChange:C=>L(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1",children:[g.jsx("option",{value:"",children:"(none)"}),g.jsx("option",{value:"open",children:"open"}),g.jsx("option",{value:"closed",children:"closed"}),g.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Label (optional)"}),g.jsx("input",{value:F,onChange:C=>$(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Link (optional)"}),g.jsx("input",{value:Q,onChange:C=>W(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:!t||n==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:n==="pending"?"Creating...":"Create event"})}),r&&g.jsxs("p",{className:"text-sm text-red-600",children:["Error creating event: ",String(r)]})]})},xZ=()=>{const[t,e]=S.useState(null),n=new ci,{isAdmin:r}=bZ(),{create:i,status:o,error:l}=lq(),u=Pa(),h=tu(),f=u.data??[],y=h.data??[],[b,_]=S.useState(void 0),[E,A]=S.useState([]),{data:R}=LD(b)??{},{update:D,status:L,error:F}=dq(b),[$,Q]=S.useState(b),[W,re]=S.useState(R?.standings);(b!==$||R?.standings!==W)&&(Q(b),re(R?.standings),R?.standings&&Array.isArray(R.standings)?A([...R.standings]):A([]));const C=M=>{M&&A(B=>[...B,M])},I=M=>{A(B=>B.filter((se,de)=>de!==M))},k=M=>{M<=0||A(B=>{const se=[...B],de=se[M-1];return se[M-1]=se[M],se[M]=de,se})},j=M=>{A(B=>{if(M>=B.length-1)return B;const se=[...B],de=se[M+1];return se[M+1]=se[M],se[M]=de,se})},V=async()=>{if(!r){alert("You are not authorized to update events.");return}if(!b){alert("Select an event first.");return}try{await D({standings:E}),alert("Standings saved.")}catch(M){console.error("Save standings failed",M),alert("Failed to save standings. See console for details.")}},[z,P]=S.useState(""),[ve,me]=S.useState(""),[H,oe]=S.useState(""),Y=async M=>{if(M.preventDefault(),!r){alert("You are not authorized to add players.");return}try{const B=ve.trim()?Number(ve):void 0,se={name:z.trim(),...B!==void 0&&!Number.isNaN(B)?{dupr:B}:{},...H.trim()?{imageUrl:H.trim()}:{},createdAt:new Date().toISOString()};await i(se),P(""),me(""),oe(""),alert("Player added.")}catch(B){console.error("Create player failed",B),alert("Failed to add player. See console for details.")}};console.log("Current user in Admin page:",t),S.useEffect(()=>{const M=q2(Wm,B=>{e(B)});return()=>M()},[]);const ye=async()=>{try{await h9(Wm,n)}catch(M){console.error("Google sign-in failed",M),alert("Sign-in failed. See console for details.")}},be=async()=>{try{await GU(Wm)}catch(M){console.error("Sign-out failed",M),alert("Sign-out failed. See console for details.")}};return g.jsxs("div",{className:"p-4",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin"}),t?g.jsxs("div",{children:[g.jsxs("p",{className:"mb-2",children:["Signed in as ",g.jsx("strong",{children:t.displayName??t.email})]}),g.jsxs("p",{children:["Admin status: ",r?"Yes":"No"]}),g.jsx("button",{onClick:be,className:"px-3 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Sign out"}),g.jsxs("section",{className:"mt-6",children:[g.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Protected admin area"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You are authenticated and can now access admin-only features."}),!r&&g.jsx("p",{className:"text-sm text-red-600 mb-4",children:"You are not an admin. Editing is disabled."}),g.jsxs("form",{onSubmit:Y,className:"space-y-3 max-w-md",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Name"}),g.jsx("input",{value:z,onChange:M=>P(M.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"DUPR (optional)"}),g.jsx("input",{value:ve,onChange:M=>me(M.target.value),className:"mt-1 block w-full border rounded px-2 py-1",inputMode:"decimal"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Image URL (optional)"}),g.jsx("input",{value:H,onChange:M=>oe(M.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:!r||o==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:o==="pending"?"Adding...":"Add player"})}),l&&g.jsxs("p",{className:"text-sm text-red-600",children:["Error creating player: ",String(l)]})]})]}),g.jsxs("section",{className:"mt-8",children:[g.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Create Event"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a new Event (start date/time is required)."}),g.jsx(_Z,{isAdmin:r})]}),g.jsxs("section",{className:"mt-8",children:[g.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Manage Event Standings"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select an event, build an ordered standings list of players, and save to the event."}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"md:col-span-1",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Event"}),g.jsxs("select",{value:b??"",onChange:M=>_(M.target.value||void 0),className:"mt-1 block w-full border rounded px-2 py-1",children:[g.jsx("option",{value:"",children:"(select an event)"}),f.map(M=>g.jsx("option",{value:M.id,children:M.name??M.id},M.id))]}),g.jsxs("div",{className:"mt-4",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Players"}),g.jsxs("div",{className:"mt-1 max-h-56 overflow-auto border rounded p-1",children:[y.length===0&&g.jsx("p",{className:"text-sm text-gray-500",children:"No players found."}),y.map(M=>g.jsxs("div",{className:"flex items-center justify-between px-1 py-1",children:[g.jsx("div",{className:"text-sm",children:M.name}),g.jsx("div",{children:g.jsx("button",{type:"button",onClick:()=>C(M.id),className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"Add"})})]},M.id))]})]})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Standings (ordered)"}),g.jsxs("div",{className:"mt-1 border rounded p-2 bg-white",children:[E.length===0&&g.jsx("p",{className:"text-sm text-gray-500",children:"No players in standings. Add players from the left."}),g.jsx("ul",{children:E.map((M,B)=>{const se=y.find(de=>de.id===M);return g.jsxs("li",{className:"flex items-center justify-between py-2 border-b",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsxs("div",{className:"text-sm font-medium",children:[B+1,"."]}),g.jsx("div",{className:"text-sm",children:se?se.name:M})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{type:"button",onClick:()=>k(B),disabled:B===0,className:"px-2 py-1 bg-gray-200 rounded disabled:opacity-50 text-xs",children:""}),g.jsx("button",{type:"button",onClick:()=>j(B),disabled:B===E.length-1,className:"px-2 py-1 bg-gray-200 rounded disabled:opacity-50 text-xs",children:""}),g.jsx("button",{type:"button",onClick:()=>I(B),className:"px-2 py-1 bg-red-600 text-white rounded text-xs",children:"Remove"})]})]},`${M}-${B}`)})}),g.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[g.jsx("button",{type:"button",onClick:V,disabled:!r||L==="pending"||!b,className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:L==="pending"?"Saving...":"Save standings to event"}),g.jsx("button",{type:"button",onClick:()=>{A([])},className:"px-3 py-2 bg-gray-200 rounded",children:"Clear"})]}),F&&g.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error saving: ",String(F)]})]})]})]})]})]}):g.jsxs("div",{children:[g.jsx("p",{className:"mb-4",children:"Sign in with a Google account to access admin features."}),g.jsx("button",{onClick:ye,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Sign in with Google"})]})]})},wZ=()=>{const{id:t}=sR(),e=t?decodeURIComponent(t):"",{data:n,isLoading:r}=LD(e),{data:i=[]}=tu(),o=f=>f?f.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"",l=f=>f?f.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";if(r)return g.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!n)return g.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-4 text-center",children:[g.jsx("h1",{className:"text-3xl font-bold mb-4 text-text-main",children:"Event not found"}),g.jsxs("p",{className:"text-text-muted mb-8",children:["The event ID ",g.jsx("code",{className:"bg-surface-alt px-1 rounded",children:e||"(empty)"})," ","does not match any scheduled event."]}),g.jsxs(Ct,{to:"/schedule",className:"inline-flex items-center gap-2 bg-primary text-text-main px-6 py-3 rounded-xl font-bold",children:[g.jsx(b1,{className:"h-5 w-5"})," Back to schedule"]})]});const u=Array.isArray(n.standings)&&n.standings.length>0,h=n.startDateTime&&new Date(n.startDateTime)<new Date;return g.jsx("div",{className:"space-y-8 pb-16",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:[g.jsxs(Ct,{to:"/schedule",className:"inline-flex items-center gap-1 text-sm text-text-muted hover:text-text-main transition-colors mb-6 group",children:[g.jsx(b1,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform"}),"Back to schedule"]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u?g.jsx("span",{className:"px-3 py-1 bg-success/10 text-success text-xs font-bold uppercase tracking-wider rounded-full border border-success/20",children:"Completed"}):h?g.jsx("span",{className:"px-3 py-1 bg-warning/10 text-warning text-xs font-bold uppercase tracking-wider rounded-full border border-warning/20",children:"Ongoing"}):g.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary text-xs font-bold uppercase tracking-wider rounded-full border border-primary/20",children:"Upcoming"}),n.label&&g.jsx("span",{className:"px-3 py-1 bg-surface-alt text-text-muted text-xs font-bold uppercase tracking-wider rounded-full border border-border",children:n.label})]}),g.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main tracking-tight leading-tight",children:n.name})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs(Me,{className:"p-4 flex items-start gap-4 bg-surface/50 border-border/50",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-xl text-primary mt-1",children:g.jsx($o,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider",children:"Date"}),g.jsx("div",{className:"text-lg font-bold text-text-main",children:o(n.startDateTime)})]})]}),g.jsxs(Me,{className:"p-4 flex items-start gap-4 bg-surface/50 border-border/50",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-xl text-primary mt-1",children:g.jsx($_,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider",children:"Time"}),g.jsxs("div",{className:"text-lg font-bold text-text-main",children:[l(n.startDateTime),n.endDateTime?` - ${l(n.endDateTime)}`:" - 10:00 PM"]})]})]}),n.location&&g.jsxs(Me,{className:"p-4 flex items-start gap-4 bg-surface/50 border-border/50 sm:col-span-2",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-xl text-primary mt-1",children:g.jsx(Zp,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider",children:"Location"}),g.jsx("div",{className:"text-lg font-bold text-text-main",children:n.location})]})]})]}),!u&&n.link&&g.jsxs("div",{className:"pt-4",children:[g.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-3 w-full sm:w-auto px-8 py-4 bg-primary text-text-main rounded-2xl font-black text-lg hover:shadow-xl hover:-translate-y-1 transition-all shadow-primary/20 border-b-4 border-primary-hover active:border-b-0 active:translate-y-0",children:["Register on CourtReserve ",g.jsx(Qp,{className:"h-5 w-5"})]}),g.jsxs("p",{className:"mt-4 text-sm text-text-muted flex items-center gap-1.5 ml-1",children:[g.jsx(al,{className:"h-4 w-4"})," Limited spots available. Register early!"]})]})]}),g.jsx("div",{className:"space-y-6",children:u?g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center justify-between px-2",children:g.jsxs("h2",{className:"text-2xl font-black text-text-main flex items-center gap-2",children:[g.jsx(Un,{className:"h-6 w-6 text-warning"}),"Final Standings"]})}),g.jsx(Me,{className:"overflow-hidden border-border/50 shadow-xl",children:g.jsx(FD,{data:n.standings.map((f,y)=>({playerId:f,rank:y+1})),players:i,showEvents:!1,showPoints:!1})})]}):g.jsxs(Me,{className:"p-6 bg-surface-alt/50 border-dashed space-y-4 flex flex-col items-center text-center justify-center min-h-[200px]",children:[g.jsx("div",{className:"p-4 bg-surface rounded-full text-text-muted border border-border",children:g.jsx(F_,{className:"h-8 w-8 opacity-40"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-text-main",children:"Standings TBD"}),g.jsx("p",{className:"text-sm text-text-muted",children:"Final results will appear here after the event concludes."})]})]})})]}),Array.isArray(n.rounds)&&n.rounds.length>0&&g.jsxs("div",{className:"mt-16 space-y-8",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"h-1 lg:h-px flex-grow bg-gradient-to-r from-transparent via-border to-transparent"}),g.jsx("h2",{className:"text-2xl font-black text-text-main uppercase tracking-widest whitespace-nowrap",children:"Match Results"}),g.jsx("div",{className:"h-1 lg:h-px flex-grow bg-gradient-to-r from-transparent via-border to-transparent"})]}),g.jsx("div",{className:"space-y-12",children:n.rounds.map((f,y)=>g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"h-10 w-10 rounded-xl bg-surface-highlight flex items-center justify-center font-black text-primary border border-primary/20",children:y+1}),g.jsxs("h3",{className:"text-xl font-bold text-text-main",children:["Round ",y+1," Results"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.courts.map((b,_)=>g.jsxs(Me,{className:"p-0 overflow-hidden border-border/40 shadow-sm hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"bg-surface-alt px-4 py-2 border-b border-border flex justify-between items-center",children:[g.jsxs("span",{className:"text-sm font-black text-text-muted uppercase tracking-wider",children:["Court ",_+1]}),g.jsx("span",{className:"text-xs text-text-muted font-medium px-2 py-0.5 bg-surface rounded-full border border-border",children:"Fast Format"})]}),g.jsx("div",{className:"p-4 grid grid-cols-2 gap-y-4 gap-x-6",children:b.playerNames.map((E,A)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-primary/40"}),g.jsx("span",{className:"text-sm font-semibold truncate text-text-main",children:E})]},A))}),g.jsx("div",{className:"px-4 py-3 bg-surface-highlight/30 border-t border-border/30 flex items-center justify-center gap-6",children:b.matches.map((E,A)=>g.jsxs("div",{className:"text-center group",children:[g.jsxs("div",{className:"text-[10px] text-text-muted uppercase font-bold tracking-tighter mb-0.5 group-hover:text-primary transition-colors",children:["G",A+1]}),g.jsxs("div",{className:"font-mono font-black text-sm text-text-main",children:[E.scoreA??"-",g.jsx("span",{className:"text-text-muted px-0.5",children:":"}),E.scoreB??"-"]})]},A))})]},_))})]},y))})]})]})})},EZ=()=>g.jsx(zV,{children:g.jsxs(zM,{children:[g.jsx(Yr,{path:"/",element:g.jsx(fq,{})}),g.jsx(Yr,{path:"/standings",element:g.jsx(pq,{})}),g.jsx(Yr,{path:"/schedule",element:g.jsx(vZ,{})}),g.jsx(Yr,{path:"/players",element:g.jsx(Rq,{})}),g.jsx(Yr,{path:"/player/:id",element:g.jsx(Cq,{})}),g.jsx(Yr,{path:"/format",element:g.jsx(Aq,{})}),g.jsx(Yr,{path:"/champions",element:g.jsx(Iq,{})}),g.jsx(Yr,{path:"/calculator",element:g.jsx(yZ,{})}),g.jsx(Yr,{path:"/admin",element:g.jsx(xZ,{})}),g.jsx(Yr,{path:"/event/:id",element:g.jsx(wZ,{})})]})}),TZ=new Fj;$P.createRoot(document.getElementById("root")).render(g.jsx(S.StrictMode,{children:g.jsx(Bj,{client:TZ,children:g.jsx(cj,{children:g.jsx(EZ,{})})})}));
