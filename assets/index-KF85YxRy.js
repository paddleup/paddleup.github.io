(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function xC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ey={exports:{}},vu={};var ww;function wC(){if(ww)return vu;ww=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:o}}return vu.Fragment=e,vu.jsx=n,vu.jsxs=n,vu}var Ew;function EC(){return Ew||(Ew=1,ey.exports=wC()),ey.exports}var m=EC(),ty={exports:{}},je={};var Tw;function TC(){if(Tw)return je;Tw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function T(R){return R===null||typeof R!="object"?null:(R=E&&R[E]||R["@@iterator"],typeof R=="function"?R:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,P={};function Z(R,$,se){this.props=R,this.context=$,this.refs=P,this.updater=se||D}Z.prototype.isReactComponent={},Z.prototype.setState=function(R,$){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,$,"setState")},Z.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function X(){}X.prototype=Z.prototype;function K(R,$,se){this.props=R,this.context=$,this.refs=P,this.updater=se||D}var le=K.prototype=new X;le.constructor=K,j(le,Z.prototype),le.isPureReactComponent=!0;var Q=Array.isArray;function ae(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(R,$,se){var ue=se.ref;return{$$typeof:t,type:R,key:$,ref:ue!==void 0?ue:null,props:se}}function z(R,$){return C(R.type,$,R.props)}function V(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function U(R){var $={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(se){return $[se]})}var k=/\/+/g;function Ge(R,$){return typeof R=="object"&&R!==null&&R.key!=null?U(""+R.key):$.toString(36)}function Ze(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ae,ae):(R.status="pending",R.then(function($){R.status==="pending"&&(R.status="fulfilled",R.value=$)},function($){R.status==="pending"&&(R.status="rejected",R.reason=$)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function W(R,$,se,ue,Ee){var Ne=typeof R;(Ne==="undefined"||Ne==="boolean")&&(R=null);var xe=!1;if(R===null)xe=!0;else switch(Ne){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(R.$$typeof){case t:case e:xe=!0;break;case v:return xe=R._init,W(xe(R._payload),$,se,ue,Ee)}}if(xe)return Ee=Ee(R),xe=ue===""?"."+Ge(R,0):ue,Q(Ee)?(se="",xe!=null&&(se=xe.replace(k,"$&/")+"/"),W(Ee,$,se,"",function(er){return er})):Ee!=null&&(V(Ee)&&(Ee=z(Ee,se+(Ee.key==null||R&&R.key===Ee.key?"":(""+Ee.key).replace(k,"$&/")+"/")+xe)),$.push(Ee)),1;xe=0;var At=ue===""?".":ue+":";if(Q(R))for(var nt=0;nt<R.length;nt++)ue=R[nt],Ne=At+Ge(ue,nt),xe+=W(ue,$,se,Ne,Ee);else if(nt=T(R),typeof nt=="function")for(R=nt.call(R),nt=0;!(ue=R.next()).done;)ue=ue.value,Ne=At+Ge(ue,nt++),xe+=W(ue,$,se,Ne,Ee);else if(Ne==="object"){if(typeof R.then=="function")return W(Ze(R),$,se,ue,Ee);throw $=String(R),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return xe}function de(R,$,se){if(R==null)return R;var ue=[],Ee=0;return W(R,ue,"","",function(Ne){return $.call(se,Ne,Ee++)}),ue}function ce(R){if(R._status===-1){var $=R._result;$=$(),$.then(function(se){(R._status===0||R._status===-1)&&(R._status=1,R._result=se)},function(se){(R._status===0||R._status===-1)&&(R._status=2,R._result=se)}),R._status===-1&&(R._status=0,R._result=$)}if(R._status===1)return R._result.default;throw R._result}var Me=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Fe={map:de,forEach:function(R,$,se){de(R,function(){$.apply(this,arguments)},se)},count:function(R){var $=0;return de(R,function(){$++}),$},toArray:function(R){return de(R,function($){return $})||[]},only:function(R){if(!V(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return je.Activity=_,je.Children=Fe,je.Component=Z,je.Fragment=n,je.Profiler=a,je.PureComponent=K,je.StrictMode=r,je.Suspense=d,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,je.__COMPILER_RUNTIME={__proto__:null,c:function(R){return N.H.useMemoCache(R)}},je.cache=function(R){return function(){return R.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(R,$,se){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ue=j({},R.props),Ee=R.key;if($!=null)for(Ne in $.key!==void 0&&(Ee=""+$.key),$)!A.call($,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&$.ref===void 0||(ue[Ne]=$[Ne]);var Ne=arguments.length-2;if(Ne===1)ue.children=se;else if(1<Ne){for(var xe=Array(Ne),At=0;At<Ne;At++)xe[At]=arguments[At+2];ue.children=xe}return C(R.type,Ee,ue)},je.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},je.createElement=function(R,$,se){var ue,Ee={},Ne=null;if($!=null)for(ue in $.key!==void 0&&(Ne=""+$.key),$)A.call($,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ee[ue]=$[ue]);var xe=arguments.length-2;if(xe===1)Ee.children=se;else if(1<xe){for(var At=Array(xe),nt=0;nt<xe;nt++)At[nt]=arguments[nt+2];Ee.children=At}if(R&&R.defaultProps)for(ue in xe=R.defaultProps,xe)Ee[ue]===void 0&&(Ee[ue]=xe[ue]);return C(R,Ne,Ee)},je.createRef=function(){return{current:null}},je.forwardRef=function(R){return{$$typeof:h,render:R}},je.isValidElement=V,je.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:ce}},je.memo=function(R,$){return{$$typeof:g,type:R,compare:$===void 0?null:$}},je.startTransition=function(R){var $=N.T,se={};N.T=se;try{var ue=R(),Ee=N.S;Ee!==null&&Ee(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ae,Me)}catch(Ne){Me(Ne)}finally{$!==null&&se.types!==null&&($.types=se.types),N.T=$}},je.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},je.use=function(R){return N.H.use(R)},je.useActionState=function(R,$,se){return N.H.useActionState(R,$,se)},je.useCallback=function(R,$){return N.H.useCallback(R,$)},je.useContext=function(R){return N.H.useContext(R)},je.useDebugValue=function(){},je.useDeferredValue=function(R,$){return N.H.useDeferredValue(R,$)},je.useEffect=function(R,$){return N.H.useEffect(R,$)},je.useEffectEvent=function(R){return N.H.useEffectEvent(R)},je.useId=function(){return N.H.useId()},je.useImperativeHandle=function(R,$,se){return N.H.useImperativeHandle(R,$,se)},je.useInsertionEffect=function(R,$){return N.H.useInsertionEffect(R,$)},je.useLayoutEffect=function(R,$){return N.H.useLayoutEffect(R,$)},je.useMemo=function(R,$){return N.H.useMemo(R,$)},je.useOptimistic=function(R,$){return N.H.useOptimistic(R,$)},je.useReducer=function(R,$,se){return N.H.useReducer(R,$,se)},je.useRef=function(R){return N.H.useRef(R)},je.useState=function(R){return N.H.useState(R)},je.useSyncExternalStore=function(R,$,se){return N.H.useSyncExternalStore(R,$,se)},je.useTransition=function(){return N.H.useTransition()},je.version="19.2.3",je}var Sw;function _v(){return Sw||(Sw=1,ty.exports=TC()),ty.exports}var M=_v();const Hs=xC(M);var ny={exports:{}},_u={},ry={exports:{}},sy={};var Aw;function SC(){return Aw||(Aw=1,(function(t){function e(W,de){var ce=W.length;W.push(de);e:for(;0<ce;){var Me=ce-1>>>1,Fe=W[Me];if(0<a(Fe,de))W[Me]=de,W[ce]=Fe,ce=Me;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var de=W[0],ce=W.pop();if(ce!==de){W[0]=ce;e:for(var Me=0,Fe=W.length,R=Fe>>>1;Me<R;){var $=2*(Me+1)-1,se=W[$],ue=$+1,Ee=W[ue];if(0>a(se,ce))ue<Fe&&0>a(Ee,se)?(W[Me]=Ee,W[ue]=ce,Me=ue):(W[Me]=se,W[$]=ce,Me=$);else if(ue<Fe&&0>a(Ee,ce))W[Me]=Ee,W[ue]=ce,Me=ue;else break e}}return de}function a(W,de){var ce=W.sortIndex-de.sortIndex;return ce!==0?ce:W.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],g=[],v=1,_=null,E=3,T=!1,D=!1,j=!1,P=!1,Z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function le(W){for(var de=n(g);de!==null;){if(de.callback===null)r(g);else if(de.startTime<=W)r(g),de.sortIndex=de.expirationTime,e(d,de);else break;de=n(g)}}function Q(W){if(j=!1,le(W),!D)if(n(d)!==null)D=!0,ae||(ae=!0,U());else{var de=n(g);de!==null&&Ze(Q,de.startTime-W)}}var ae=!1,N=-1,A=5,C=-1;function z(){return P?!0:!(t.unstable_now()-C<A)}function V(){if(P=!1,ae){var W=t.unstable_now();C=W;var de=!0;try{e:{D=!1,j&&(j=!1,X(N),N=-1),T=!0;var ce=E;try{t:{for(le(W),_=n(d);_!==null&&!(_.expirationTime>W&&z());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,E=_.priorityLevel;var Fe=Me(_.expirationTime<=W);if(W=t.unstable_now(),typeof Fe=="function"){_.callback=Fe,le(W),de=!0;break t}_===n(d)&&r(d),le(W)}else r(d);_=n(d)}if(_!==null)de=!0;else{var R=n(g);R!==null&&Ze(Q,R.startTime-W),de=!1}}break e}finally{_=null,E=ce,T=!1}de=void 0}}finally{de?U():ae=!1}}}var U;if(typeof K=="function")U=function(){K(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Ge=k.port2;k.port1.onmessage=V,U=function(){Ge.postMessage(null)}}else U=function(){Z(V,0)};function Ze(W,de){N=Z(function(){W(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(W){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var ce=E;E=de;try{return W()}finally{E=ce}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(W,de){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=E;E=W;try{return de()}finally{E=ce}},t.unstable_scheduleCallback=function(W,de,ce){var Me=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Me+ce:Me):ce=Me,W){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ce+Fe,W={id:v++,callback:de,priorityLevel:W,startTime:ce,expirationTime:Fe,sortIndex:-1},ce>Me?(W.sortIndex=ce,e(g,W),n(d)===null&&W===n(g)&&(j?(X(N),N=-1):j=!0,Ze(Q,ce-Me))):(W.sortIndex=Fe,e(d,W),D||T||(D=!0,ae||(ae=!0,U()))),W},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(W){var de=E;return function(){var ce=E;E=de;try{return W.apply(this,arguments)}finally{E=ce}}}})(sy)),sy}var Iw;function AC(){return Iw||(Iw=1,ry.exports=SC()),ry.exports}var iy={exports:{}},yn={};var Nw;function IC(){if(Nw)return yn;Nw=1;var t=_v();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(d,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(d,g,null,v)},yn.flushSync=function(d){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=g,r.p=v,r.d.f()}},yn.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(d,g))},yn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},yn.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:T}):v==="script"&&r.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);r.d.M(d,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(d)},yn.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin);r.d.L(d,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(d,g){if(typeof d=="string")if(g){var v=h(g.as,g.crossOrigin);r.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(d)},yn.requestFormReset=function(d){r.d.r(d)},yn.unstable_batchedUpdates=function(d,g){return d(g)},yn.useFormState=function(d,g,v){return c.H.useFormState(d,g,v)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var Rw;function NC(){if(Rw)return iy.exports;Rw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iy.exports=IC(),iy.exports}var Cw;function RC(){if(Cw)return _u;Cw=1;var t=AC(),e=_v(),n=NC();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function c(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function g(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,u=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return d(p),s;if(y===u)return d(p),i;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=p,u=y;else{for(var x=!1,S=p.child;S;){if(S===l){x=!0,l=p,u=y;break}if(S===u){x=!0,u=p,l=y;break}S=S.sibling}if(!x){for(S=y.child;S;){if(S===l){x=!0,l=y,u=p;break}if(S===u){x=!0,u=y,l=p;break}S=S.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function v(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=v(s),i!==null)return i;s=s.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),K=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Ge(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case Z:return"Profiler";case P:return"StrictMode";case Q:return"Suspense";case ae:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case K:return s.displayName||"Context";case X:return(s._context.displayName||"Context")+".Consumer";case le:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return i=s.displayName||null,i!==null?i:Ge(s.type)||"Memo";case A:i=s._payload,s=s._init;try{return Ge(s(i))}catch{}}return null}var Ze=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Me=[],Fe=-1;function R(s){return{current:s}}function $(s){0>Fe||(s.current=Me[Fe],Me[Fe]=null,Fe--)}function se(s,i){Fe++,Me[Fe]=s.current,s.current=i}var ue=R(null),Ee=R(null),Ne=R(null),xe=R(null);function At(s,i){switch(se(Ne,i),se(Ee,s),se(ue,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?H0(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=H0(i),s=G0(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}$(ue),se(ue,s)}function nt(){$(ue),$(Ee),$(Ne)}function er(s){s.memoizedState!==null&&se(xe,s);var i=ue.current,l=G0(i,s.type);i!==l&&(se(Ee,s),se(ue,l))}function Ur(s){Ee.current===s&&($(ue),$(Ee)),xe.current===s&&($(xe),mu._currentValue=ce)}var Er,Ro;function Fr(s){if(Er===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Er=i&&i[1]||"",Ro=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Er+s+Ro}var mc=!1;function ha(s,i){if(!s||mc)return"";mc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var Y=ee}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(ee){Y=ee}s.call(oe.prototype)}}else{try{throw Error()}catch(ee){Y=ee}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&Y&&typeof ee.stack=="string")return[ee.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),x=y[0],S=y[1];if(x&&S){var O=x.split(`
`),G=S.split(`
`);for(p=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(u===O.length||p===G.length)for(u=O.length-1,p=G.length-1;1<=u&&0<=p&&O[u]!==G[p];)p--;for(;1<=u&&0<=p;u--,p--)if(O[u]!==G[p]){if(u!==1||p!==1)do if(u--,p--,0>p||O[u]!==G[p]){var ne=`
`+O[u].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=u&&0<=p);break}}}finally{mc=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Fr(l):""}function pc(s,i){switch(s.tag){case 26:case 27:case 5:return Fr(s.type);case 16:return Fr("Lazy");case 13:return s.child!==i&&i!==null?Fr("Suspense Fallback"):Fr("Suspense");case 19:return Fr("SuspenseList");case 0:case 15:return ha(s.type,!1);case 11:return ha(s.type.render,!1);case 1:return ha(s.type,!0);case 31:return Fr("Activity");default:return""}}function gc(s){try{var i="",l=null;do i+=pc(s,l),l=s,s=s.return;while(s);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var zt=Object.prototype.hasOwnProperty,Yt=t.unstable_scheduleCallback,si=t.unstable_cancelCallback,np=t.unstable_shouldYield,Nh=t.unstable_requestPaint,wn=t.unstable_now,da=t.unstable_getCurrentPriorityLevel,yc=t.unstable_ImmediatePriority,vc=t.unstable_UserBlockingPriority,ii=t.unstable_NormalPriority,rp=t.unstable_LowPriority,Rh=t.unstable_IdlePriority,Ch=t.log,Dh=t.unstable_setDisableYieldValue,Tr=null,ln=null;function tr(s){if(typeof Ch=="function"&&Dh(s),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Tr,s)}catch{}}var jt=Math.clz32?Math.clz32:kh,jh=Math.log,Co=Math.LN2;function kh(s){return s>>>=0,s===0?32:31-(jh(s)/Co|0)|0}var Br=256,fa=262144,Lt=4194304;function qr(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function $r(s,i,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?p=qr(u):(x&=S,x!==0?p=qr(x):l||(l=S&~s,l!==0&&(p=qr(l))))):(S=u&~y,S!==0?p=qr(S):x!==0?p=qr(x):l||(l=u&~s,l!==0&&(p=qr(l)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:p}function Sr(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function sp(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oh(){var s=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),s}function Hr(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function ma(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ip(s,i,l,u,p,y){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,O=s.expirationTimes,G=s.hiddenUpdates;for(l=x&~l;0<l;){var ne=31-jt(l),oe=1<<ne;S[ne]=0,O[ne]=-1;var Y=G[ne];if(Y!==null)for(G[ne]=null,ne=0;ne<Y.length;ne++){var ee=Y[ne];ee!==null&&(ee.lane&=-536870913)}l&=~oe}u!==0&&pa(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(x&~i))}function pa(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var u=31-jt(i);s.entangledLanes|=i,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function _c(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var u=31-jt(l),p=1<<u;p&i|s[u]&i&&(s[u]|=i),l&=~p}}function bc(s,i){var l=i&-i;return l=(l&42)!==0?1:ga(l),(l&(s.suspendedLanes|i))!==0?0:l}function ga(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function bs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ph(){var s=de.p;return s!==0?s:(s=window.event,s===void 0?32:pw(s.type))}function Ar(s,i){var l=de.p;try{return de.p=s,i()}finally{de.p=l}}var Ir=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Ir,nn="__reactProps$"+Ir,Gr="__reactContainer$"+Ir,Do="__reactEvents$"+Ir,ap="__reactListeners$"+Ir,Mh="__reactHandles$"+Ir,Vh="__reactResources$"+Ir,Kr="__reactMarker$"+Ir;function jo(s){delete s[Ut],delete s[nn],delete s[Do],delete s[ap],delete s[Mh]}function Qr(s){var i=s[Ut];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Gr]||l[Ut]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=W0(s);s!==null;){if(l=s[Ut])return l;s=W0(s)}return i}s=l,l=s.parentNode}return null}function nr(s){if(s=s[Ut]||s[Gr]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Un(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Zr(s){var i=s[Vh];return i||(i=s[Vh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ft(s){s[Kr]=!0}var xc=new Set,wc={};function Yr(s,i){Xr(s,i),Xr(s+"Capture",i)}function Xr(s,i){for(wc[s]=i,s=0;s<i.length;s++)xc.add(i[s])}var Ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tc={},Sc={};function zh(s){return zt.call(Sc,s)?!0:zt.call(Tc,s)?!1:Ec.test(s)?Sc[s]=!0:(Tc[s]=!0,!1)}function ko(s,i,l){if(zh(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function Fn(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Bt(s,i,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+u)}}function rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ai(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ac(s,i,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(x){l=""+x,y.call(this,x)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function rt(s){if(!s._valueTracker){var i=ai(s)?"checked":"value";s._valueTracker=Ac(s,i,""+s[i])}}function ya(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return s&&(u=ai(s)?s.checked?"true":"false":s.value),s=u,s!==l?(i.setValue(s),!0):!1}function Jr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var va=/[\n"\\]/g;function Dn(s){return s.replace(va,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oo(s,i,l,u,p,y,x,S){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),i!=null?x==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+rn(i)):s.value!==""+rn(i)&&(s.value=""+rn(i)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),i!=null?Ic(s,x,rn(i)):l!=null?Ic(s,x,rn(l)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+rn(S):s.removeAttribute("name")}function Lh(s,i,l,u,p,y,x,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){rt(s);return}l=l!=null?""+rn(l):"",i=i!=null?""+rn(i):l,S||i===s.value||(s.value=i),s.defaultValue=i}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),rt(s)}function Ic(s,i,l){i==="number"&&Jr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function oi(s,i,l,u){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+rn(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Uh(s,i,l){if(i!=null&&(i=""+rn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+rn(l):""}function li(s,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(r(92));if(Ze(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=rn(i),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),rt(s)}function jn(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Fh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nc(s,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":u?s.setProperty(i,l):typeof l!="number"||l===0||Fh.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Rc(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in i)u=i[p],i.hasOwnProperty(p)&&l[p]!==u&&Nc(s,p,u)}else for(var y in i)i.hasOwnProperty(y)&&Nc(s,y,i[y])}function Po(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ci=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(s){return ci.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Nr(){}var Cc=null;function rr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ui=null,Wr=null;function _a(s){var i=nr(s);if(i&&(s=i.stateNode)){var l=s[nn]||null;e:switch(s=i.stateNode,i.type){case"input":if(Oo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==s&&u.form===s.form){var p=u[nn]||null;if(!p)throw Error(r(90));Oo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===s.form&&ya(u)}break e;case"textarea":Uh(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&oi(s,!!l.multiple,i,!1)}}}var Vo=!1;function hi(s,i,l){if(Vo)return s(i,l);Vo=!0;try{var u=s(i);return u}finally{if(Vo=!1,(ui!==null||Wr!==null)&&(Pd(),ui&&(i=ui,s=Wr,Wr=ui=null,_a(i),s)))for(i=0;i<s.length;i++)_a(s[i])}}function Rr(s,i){var l=s.stateNode;if(l===null)return null;var u=l[nn]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(sr)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){ba=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{ba=!1}var es=null,Dc=null,xa=null;function jc(){if(xa)return xa;var s,i=Dc,l=i.length,u,p="value"in es?es.value:es.textContent,y=p.length;for(s=0;s<l&&i[s]===p[s];s++);var x=l-s;for(u=1;u<=x&&i[l-u]===p[y-u];u++);return xa=p.slice(s,1<u?1-u:void 0)}function wa(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function xs(){return!0}function Cr(){return!1}function cn(s){function i(l,u,p,y,x){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xs:Cr,this.isPropagationStopped=Cr,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),i}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=cn(ws),di=_({},ws,{view:0,detail:0}),kc=cn(di),fi,zo,ns,Lo=_({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ns&&(ns&&s.type==="mousemove"?(fi=s.screenX-ns.screenX,zo=s.screenY-ns.screenY):zo=fi=0,ns=s),fi)},movementY:function(s){return"movementY"in s?s.movementY:zo}}),Oc=cn(Lo),Ea=_({},Lo,{dataTransfer:0}),qh=cn(Ea),$h=_({},di,{relatedTarget:0}),Ta=cn($h),Pc=_({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Hh=cn(Pc),Uo=_({},ws,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Gh=cn(Uo),Kh=_({},ws,{data:0}),rs=cn(Kh),Qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xh(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Yh[s])?!!i[s]:!1}function mi(){return Xh}var En=_({},di,{key:function(s){if(s.key){var i=Qh[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=wa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Zh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mi,charCode:function(s){return s.type==="keypress"?wa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?wa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Jh=cn(En),Wh=_({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Es=cn(Wh),f=_({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mi}),b=cn(f),w=_({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=cn(w),q=_({},Lo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),J=cn(q),me=_({},ws,{newState:0,oldState:0}),ke=cn(me),kt=[9,13,27,32],et=sr&&"CompositionEvent"in window,yt=null;sr&&"documentMode"in document&&(yt=document.documentMode);var ir=sr&&"TextEvent"in window&&!yt,ss=sr&&(!et||yt&&8<yt&&11>=yt),Dr=" ",jr=!1;function Sa(s,i){switch(s){case"keyup":return kt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Bo=!1;function HN(s,i){switch(s){case"compositionend":return Fo(i);case"keypress":return i.which!==32?null:(jr=!0,Dr);case"textInput":return s=i.data,s===Dr&&jr?null:s;default:return null}}function GN(s,i){if(Bo)return s==="compositionend"||!et&&Sa(s,i)?(s=jc(),xa=Dc=es=null,Bo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ss&&i.locale!=="ko"?null:i.data;default:return null}}var KN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nb(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!KN[s.type]:i==="textarea"}function rb(s,i,l,u){ui?Wr?Wr.push(u):Wr=[u]:ui=u,i=Bd(i,"onChange"),0<i.length&&(l=new ts("onChange","change",null,l,u),s.push({event:l,listeners:i}))}var Mc=null,Vc=null;function QN(s){L0(s,0)}function ed(s){var i=Un(s);if(ya(i))return s}function sb(s,i){if(s==="change")return i}var ib=!1;if(sr){var op;if(sr){var lp="oninput"in document;if(!lp){var ab=document.createElement("div");ab.setAttribute("oninput","return;"),lp=typeof ab.oninput=="function"}op=lp}else op=!1;ib=op&&(!document.documentMode||9<document.documentMode)}function ob(){Mc&&(Mc.detachEvent("onpropertychange",lb),Vc=Mc=null)}function lb(s){if(s.propertyName==="value"&&ed(Vc)){var i=[];rb(i,Vc,s,rr(s)),hi(QN,i)}}function ZN(s,i,l){s==="focusin"?(ob(),Mc=i,Vc=l,Mc.attachEvent("onpropertychange",lb)):s==="focusout"&&ob()}function YN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ed(Vc)}function XN(s,i){if(s==="click")return ed(i)}function JN(s,i){if(s==="input"||s==="change")return ed(i)}function WN(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Bn=typeof Object.is=="function"?Object.is:WN;function zc(s,i){if(Bn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!zt.call(i,p)||!Bn(s[p],i[p]))return!1}return!0}function cb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ub(s,i){var l=cb(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=i&&u>=i)return{node:l,offset:i-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cb(l)}}function hb(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?hb(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function db(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Jr(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Jr(s.document)}return i}function cp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var eR=sr&&"documentMode"in document&&11>=document.documentMode,qo=null,up=null,Lc=null,hp=!1;function fb(s,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hp||qo==null||qo!==Jr(u)||(u=qo,"selectionStart"in u&&cp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Lc&&zc(Lc,u)||(Lc=u,u=Bd(up,"onSelect"),0<u.length&&(i=new ts("onSelect","select",null,i,l),s.push({event:i,listeners:u}),i.target=qo)))}function Aa(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var $o={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},dp={},mb={};sr&&(mb=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Ia(s){if(dp[s])return dp[s];if(!$o[s])return s;var i=$o[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in mb)return dp[s]=i[l];return s}var pb=Ia("animationend"),gb=Ia("animationiteration"),yb=Ia("animationstart"),tR=Ia("transitionrun"),nR=Ia("transitionstart"),rR=Ia("transitioncancel"),vb=Ia("transitionend"),_b=new Map,fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fp.push("scrollEnd");function kr(s,i){_b.set(s,i),Yr(i,[s])}var td=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ar=[],Ho=0,mp=0;function nd(){for(var s=Ho,i=mp=Ho=0;i<s;){var l=ar[i];ar[i++]=null;var u=ar[i];ar[i++]=null;var p=ar[i];ar[i++]=null;var y=ar[i];if(ar[i++]=null,u!==null&&p!==null){var x=u.pending;x===null?p.next=p:(p.next=x.next,x.next=p),u.pending=p}y!==0&&bb(l,p,y)}}function rd(s,i,l,u){ar[Ho++]=s,ar[Ho++]=i,ar[Ho++]=l,ar[Ho++]=u,mp|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function pp(s,i,l,u){return rd(s,i,l,u),sd(s)}function Na(s,i){return rd(s,null,null,i),sd(s)}function bb(s,i,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&i!==null&&(p=31-jt(l),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[i]:u.push(i),i.lane=l|536870912),y):null}function sd(s){if(50<ou)throw ou=0,Tg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Go={};function sR(s,i,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(s,i,l,u){return new sR(s,i,l,u)}function gp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ts(s,i){var l=s.alternate;return l===null?(l=qn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function xb(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function id(s,i,l,u,p,y){var x=0;if(u=s,typeof s=="function")gp(s)&&(x=1);else if(typeof s=="string")x=cC(s,l,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=qn(31,l,i,p),s.elementType=C,s.lanes=y,s;case j:return Ra(l.children,p,y,i);case P:x=8,p|=24;break;case Z:return s=qn(12,l,i,p|2),s.elementType=Z,s.lanes=y,s;case Q:return s=qn(13,l,i,p),s.elementType=Q,s.lanes=y,s;case ae:return s=qn(19,l,i,p),s.elementType=ae,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:x=10;break e;case X:x=9;break e;case le:x=11;break e;case N:x=14;break e;case A:x=16,u=null;break e}x=29,l=Error(r(130,s===null?"null":typeof s,"")),u=null}return i=qn(x,l,i,p),i.elementType=s,i.type=u,i.lanes=y,i}function Ra(s,i,l,u){return s=qn(7,s,u,i),s.lanes=l,s}function yp(s,i,l){return s=qn(6,s,null,i),s.lanes=l,s}function wb(s){var i=qn(18,null,null,0);return i.stateNode=s,i}function vp(s,i,l){return i=qn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var Eb=new WeakMap;function or(s,i){if(typeof s=="object"&&s!==null){var l=Eb.get(s);return l!==void 0?l:(i={value:s,source:i,stack:gc(i)},Eb.set(s,i),i)}return{value:s,source:i,stack:gc(i)}}var Ko=[],Qo=0,ad=null,Uc=0,lr=[],cr=0,pi=null,is=1,as="";function Ss(s,i){Ko[Qo++]=Uc,Ko[Qo++]=ad,ad=s,Uc=i}function Tb(s,i,l){lr[cr++]=is,lr[cr++]=as,lr[cr++]=pi,pi=s;var u=is;s=as;var p=32-jt(u)-1;u&=~(1<<p),l+=1;var y=32-jt(i)+p;if(30<y){var x=p-p%5;y=(u&(1<<x)-1).toString(32),u>>=x,p-=x,is=1<<32-jt(i)+p|l<<p|u,as=y+s}else is=1<<y|l<<p|u,as=s}function _p(s){s.return!==null&&(Ss(s,1),Tb(s,1,0))}function bp(s){for(;s===ad;)ad=Ko[--Qo],Ko[Qo]=null,Uc=Ko[--Qo],Ko[Qo]=null;for(;s===pi;)pi=lr[--cr],lr[cr]=null,as=lr[--cr],lr[cr]=null,is=lr[--cr],lr[cr]=null}function Sb(s,i){lr[cr++]=is,lr[cr++]=as,lr[cr++]=pi,is=i.id,as=i.overflow,pi=s}var un=null,pt=null,Ke=!1,gi=null,ur=!1,xp=Error(r(519));function yi(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fc(or(i,s)),xp}function Ab(s){var i=s.stateNode,l=s.type,u=s.memoizedProps;switch(i[Ut]=s,i[nn]=u,l){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(l=0;l<cu.length;l++)Ue(cu[l],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),Lh(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),li(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||q0(i.textContent,l)?(u.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),u.onScroll!=null&&Ue("scroll",i),u.onScrollEnd!=null&&Ue("scrollend",i),u.onClick!=null&&(i.onclick=Nr),i=!0):i=!1,i||yi(s,!0)}function Ib(s){for(un=s.return;un;)switch(un.tag){case 5:case 31:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:un=un.return}}function Zo(s){if(s!==un)return!1;if(!Ke)return Ib(s),Ke=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Lg(s.type,s.memoizedProps)),l=!l),l&&pt&&yi(s),Ib(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));pt=J0(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));pt=J0(s)}else i===27?(i=pt,Di(s.type)?(s=$g,$g=null,pt=s):pt=i):pt=un?dr(s.stateNode.nextSibling):null;return!0}function Ca(){pt=un=null,Ke=!1}function wp(){var s=gi;return s!==null&&(Mn===null?Mn=s:Mn.push.apply(Mn,s),gi=null),s}function Fc(s){gi===null?gi=[s]:gi.push(s)}var Ep=R(null),Da=null,As=null;function vi(s,i,l){se(Ep,i._currentValue),i._currentValue=l}function Is(s){s._currentValue=Ep.current,$(Ep)}function Tp(s,i,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),s===l)break;s=s.return}}function Sp(s,i,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var x=p.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=p;for(var O=0;O<i.length;O++)if(S.context===i[O]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),Tp(y.return,l,s),u||(x=null);break e}y=S.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(r(341));x.lanes|=l,y=x.alternate,y!==null&&(y.lanes|=l),Tp(x,l,s),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===s){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Yo(s,i,l,u){s=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var S=p.type;Bn(p.pendingProps.value,x.value)||(s!==null?s.push(S):s=[S])}}else if(p===xe.current){if(x=p.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(mu):s=[mu])}p=p.return}s!==null&&Sp(i,s,l,u),i.flags|=262144}function od(s){for(s=s.firstContext;s!==null;){if(!Bn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ja(s){Da=s,As=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hn(s){return Nb(Da,s)}function ld(s,i){return Da===null&&ja(s),Nb(s,i)}function Nb(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},As===null){if(s===null)throw Error(r(308));As=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else As=As.next=i;return l}var iR=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},aR=t.unstable_scheduleCallback,oR=t.unstable_NormalPriority,qt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ap(){return{controller:new iR,data:new Map,refCount:0}}function Bc(s){s.refCount--,s.refCount===0&&aR(oR,function(){s.controller.abort()})}var qc=null,Ip=0,Xo=0,Jo=null;function lR(s,i){if(qc===null){var l=qc=[];Ip=0,Xo=Cg(),Jo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ip++,i.then(Rb,Rb),i}function Rb(){if(--Ip===0&&qc!==null){Jo!==null&&(Jo.status="fulfilled");var s=qc;qc=null,Xo=0,Jo=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function cR(s,i){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var Cb=W.S;W.S=function(s,i){f0=wn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&lR(s,i),Cb!==null&&Cb(s,i)};var ka=R(null);function Np(){var s=ka.current;return s!==null?s:mt.pooledCache}function cd(s,i){i===null?se(ka,ka.current):se(ka,i.pool)}function Db(){var s=Np();return s===null?null:{parent:qt._currentValue,pool:s}}var Wo=Error(r(460)),Rp=Error(r(474)),ud=Error(r(542)),hd={then:function(){}};function jb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function kb(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Nr,Nr),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Pb(s),s;default:if(typeof i.status=="string")i.then(Nr,Nr);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(u){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=u}},function(u){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Pb(s),s}throw Pa=i,Wo}}function Oa(s){try{var i=s._init;return i(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pa=l,Wo):l}}var Pa=null;function Ob(){if(Pa===null)throw Error(r(459));var s=Pa;return Pa=null,s}function Pb(s){if(s===Wo||s===ud)throw Error(r(483))}var el=null,$c=0;function dd(s){var i=$c;return $c+=1,el===null&&(el=[]),kb(el,s,i)}function Hc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function fd(s,i){throw i.$$typeof===E?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Mb(s){function i(F,L){if(s){var H=F.deletions;H===null?(F.deletions=[L],F.flags|=16):H.push(L)}}function l(F,L){if(!s)return null;for(;L!==null;)i(F,L),L=L.sibling;return null}function u(F){for(var L=new Map;F!==null;)F.key!==null?L.set(F.key,F):L.set(F.index,F),F=F.sibling;return L}function p(F,L){return F=Ts(F,L),F.index=0,F.sibling=null,F}function y(F,L,H){return F.index=H,s?(H=F.alternate,H!==null?(H=H.index,H<L?(F.flags|=67108866,L):H):(F.flags|=67108866,L)):(F.flags|=1048576,L)}function x(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function S(F,L,H,re){return L===null||L.tag!==6?(L=yp(H,F.mode,re),L.return=F,L):(L=p(L,H),L.return=F,L)}function O(F,L,H,re){var Te=H.type;return Te===j?ne(F,L,H.props.children,re,H.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Oa(Te)===L.type)?(L=p(L,H.props),Hc(L,H),L.return=F,L):(L=id(H.type,H.key,H.props,null,F.mode,re),Hc(L,H),L.return=F,L)}function G(F,L,H,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=vp(H,F.mode,re),L.return=F,L):(L=p(L,H.children||[]),L.return=F,L)}function ne(F,L,H,re,Te){return L===null||L.tag!==7?(L=Ra(H,F.mode,re,Te),L.return=F,L):(L=p(L,H),L.return=F,L)}function oe(F,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=yp(""+L,F.mode,H),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return H=id(L.type,L.key,L.props,null,F.mode,H),Hc(H,L),H.return=F,H;case D:return L=vp(L,F.mode,H),L.return=F,L;case A:return L=Oa(L),oe(F,L,H)}if(Ze(L)||U(L))return L=Ra(L,F.mode,H,null),L.return=F,L;if(typeof L.then=="function")return oe(F,dd(L),H);if(L.$$typeof===K)return oe(F,ld(F,L),H);fd(F,L)}return null}function Y(F,L,H,re){var Te=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Te!==null?null:S(F,L,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===Te?O(F,L,H,re):null;case D:return H.key===Te?G(F,L,H,re):null;case A:return H=Oa(H),Y(F,L,H,re)}if(Ze(H)||U(H))return Te!==null?null:ne(F,L,H,re,null);if(typeof H.then=="function")return Y(F,L,dd(H),re);if(H.$$typeof===K)return Y(F,L,ld(F,H),re);fd(F,H)}return null}function ee(F,L,H,re,Te){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(H)||null,S(L,F,""+re,Te);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return F=F.get(re.key===null?H:re.key)||null,O(L,F,re,Te);case D:return F=F.get(re.key===null?H:re.key)||null,G(L,F,re,Te);case A:return re=Oa(re),ee(F,L,H,re,Te)}if(Ze(re)||U(re))return F=F.get(H)||null,ne(L,F,re,Te,null);if(typeof re.then=="function")return ee(F,L,H,dd(re),Te);if(re.$$typeof===K)return ee(F,L,H,ld(L,re),Te);fd(L,re)}return null}function ge(F,L,H,re){for(var Te=null,Ye=null,be=L,Pe=L=0,qe=null;be!==null&&Pe<H.length;Pe++){be.index>Pe?(qe=be,be=null):qe=be.sibling;var Xe=Y(F,be,H[Pe],re);if(Xe===null){be===null&&(be=qe);break}s&&be&&Xe.alternate===null&&i(F,be),L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe,be=qe}if(Pe===H.length)return l(F,be),Ke&&Ss(F,Pe),Te;if(be===null){for(;Pe<H.length;Pe++)be=oe(F,H[Pe],re),be!==null&&(L=y(be,L,Pe),Ye===null?Te=be:Ye.sibling=be,Ye=be);return Ke&&Ss(F,Pe),Te}for(be=u(be);Pe<H.length;Pe++)qe=ee(be,F,Pe,H[Pe],re),qe!==null&&(s&&qe.alternate!==null&&be.delete(qe.key===null?Pe:qe.key),L=y(qe,L,Pe),Ye===null?Te=qe:Ye.sibling=qe,Ye=qe);return s&&be.forEach(function(Mi){return i(F,Mi)}),Ke&&Ss(F,Pe),Te}function Ie(F,L,H,re){if(H==null)throw Error(r(151));for(var Te=null,Ye=null,be=L,Pe=L=0,qe=null,Xe=H.next();be!==null&&!Xe.done;Pe++,Xe=H.next()){be.index>Pe?(qe=be,be=null):qe=be.sibling;var Mi=Y(F,be,Xe.value,re);if(Mi===null){be===null&&(be=qe);break}s&&be&&Mi.alternate===null&&i(F,be),L=y(Mi,L,Pe),Ye===null?Te=Mi:Ye.sibling=Mi,Ye=Mi,be=qe}if(Xe.done)return l(F,be),Ke&&Ss(F,Pe),Te;if(be===null){for(;!Xe.done;Pe++,Xe=H.next())Xe=oe(F,Xe.value,re),Xe!==null&&(L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe);return Ke&&Ss(F,Pe),Te}for(be=u(be);!Xe.done;Pe++,Xe=H.next())Xe=ee(be,F,Pe,Xe.value,re),Xe!==null&&(s&&Xe.alternate!==null&&be.delete(Xe.key===null?Pe:Xe.key),L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe);return s&&be.forEach(function(bC){return i(F,bC)}),Ke&&Ss(F,Pe),Te}function ft(F,L,H,re){if(typeof H=="object"&&H!==null&&H.type===j&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var Te=H.key;L!==null;){if(L.key===Te){if(Te=H.type,Te===j){if(L.tag===7){l(F,L.sibling),re=p(L,H.props.children),re.return=F,F=re;break e}}else if(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Oa(Te)===L.type){l(F,L.sibling),re=p(L,H.props),Hc(re,H),re.return=F,F=re;break e}l(F,L);break}else i(F,L);L=L.sibling}H.type===j?(re=Ra(H.props.children,F.mode,re,H.key),re.return=F,F=re):(re=id(H.type,H.key,H.props,null,F.mode,re),Hc(re,H),re.return=F,F=re)}return x(F);case D:e:{for(Te=H.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){l(F,L.sibling),re=p(L,H.children||[]),re.return=F,F=re;break e}else{l(F,L);break}else i(F,L);L=L.sibling}re=vp(H,F.mode,re),re.return=F,F=re}return x(F);case A:return H=Oa(H),ft(F,L,H,re)}if(Ze(H))return ge(F,L,H,re);if(U(H)){if(Te=U(H),typeof Te!="function")throw Error(r(150));return H=Te.call(H),Ie(F,L,H,re)}if(typeof H.then=="function")return ft(F,L,dd(H),re);if(H.$$typeof===K)return ft(F,L,ld(F,H),re);fd(F,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(l(F,L.sibling),re=p(L,H),re.return=F,F=re):(l(F,L),re=yp(H,F.mode,re),re.return=F,F=re),x(F)):l(F,L)}return function(F,L,H,re){try{$c=0;var Te=ft(F,L,H,re);return el=null,Te}catch(be){if(be===Wo||be===ud)throw be;var Ye=qn(29,be,null,F.mode);return Ye.lanes=re,Ye.return=F,Ye}}}var Ma=Mb(!0),Vb=Mb(!1),_i=!1;function Cp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function bi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function xi(s,i,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(tt&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,i=sd(s),bb(s,null,l),i}return rd(s,u,i,l),sd(s)}function Gc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,_c(s,l)}}function jp(s,i){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=x:y=y.next=x,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var kp=!1;function Kc(){if(kp){var s=Jo;if(s!==null)throw s}}function Qc(s,i,l,u){kp=!1;var p=s.updateQueue;_i=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var O=S,G=O.next;O.next=null,x===null?y=G:x.next=G,x=O;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==x&&(S===null?ne.firstBaseUpdate=G:S.next=G,ne.lastBaseUpdate=O))}if(y!==null){var oe=p.baseState;x=0,ne=G=O=null,S=y;do{var Y=S.lane&-536870913,ee=Y!==S.lane;if(ee?(Be&Y)===Y:(u&Y)===Y){Y!==0&&Y===Xo&&(kp=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=s,Ie=S;Y=i;var ft=l;switch(Ie.tag){case 1:if(ge=Ie.payload,typeof ge=="function"){oe=ge.call(ft,oe,Y);break e}oe=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ie.payload,Y=typeof ge=="function"?ge.call(ft,oe,Y):ge,Y==null)break e;oe=_({},oe,Y);break e;case 2:_i=!0}}Y=S.callback,Y!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[Y]:ee.push(Y))}else ee={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(G=ne=ee,O=oe):ne=ne.next=ee,x|=Y;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);ne===null&&(O=oe),p.baseState=O,p.firstBaseUpdate=G,p.lastBaseUpdate=ne,y===null&&(p.shared.lanes=0),Ai|=x,s.lanes=x,s.memoizedState=oe}}function zb(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Lb(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)zb(l[s],i)}var tl=R(null),md=R(0);function Ub(s,i){s=Ms,se(md,s),se(tl,i),Ms=s|i.baseLanes}function Op(){se(md,Ms),se(tl,tl.current)}function Pp(){Ms=md.current,$(tl),$(md)}var $n=R(null),hr=null;function wi(s){var i=s.alternate;se(Ot,Ot.current&1),se($n,s),hr===null&&(i===null||tl.current!==null||i.memoizedState!==null)&&(hr=s)}function Mp(s){se(Ot,Ot.current),se($n,s),hr===null&&(hr=s)}function Fb(s){s.tag===22?(se(Ot,Ot.current),se($n,s),hr===null&&(hr=s)):Ei()}function Ei(){se(Ot,Ot.current),se($n,$n.current)}function Hn(s){$($n),hr===s&&(hr=null),$(Ot)}var Ot=R(0);function pd(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Bg(l)||qg(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ns=0,Oe=null,ht=null,$t=null,gd=!1,nl=!1,Va=!1,yd=0,Zc=0,rl=null,uR=0;function It(){throw Error(r(321))}function Vp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Bn(s[l],i[l]))return!1;return!0}function zp(s,i,l,u,p,y){return Ns=y,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=s===null||s.memoizedState===null?Tx:Wp,Va=!1,y=l(u,p),Va=!1,nl&&(y=qb(i,l,u,p)),Bb(s),y}function Bb(s){W.H=Jc;var i=ht!==null&&ht.next!==null;if(Ns=0,$t=ht=Oe=null,gd=!1,Zc=0,rl=null,i)throw Error(r(300));s===null||Ht||(s=s.dependencies,s!==null&&od(s)&&(Ht=!0))}function qb(s,i,l,u){Oe=s;var p=0;do{if(nl&&(rl=null),Zc=0,nl=!1,25<=p)throw Error(r(301));if(p+=1,$t=ht=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=Sx,y=i(l,u)}while(nl);return y}function hR(){var s=W.H,i=s.useState()[0];return i=typeof i.then=="function"?Yc(i):i,s=s.useState()[0],(ht!==null?ht.memoizedState:null)!==s&&(Oe.flags|=1024),i}function Lp(){var s=yd!==0;return yd=0,s}function Up(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Fp(s){if(gd){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}gd=!1}Ns=0,$t=ht=Oe=null,nl=!1,Zc=yd=0,rl=null}function Tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Oe.memoizedState=$t=s:$t=$t.next=s,$t}function Pt(){if(ht===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=ht.next;var i=$t===null?Oe.memoizedState:$t.next;if(i!==null)$t=i,ht=s;else{if(s===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));ht=s,s={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},$t===null?Oe.memoizedState=$t=s:$t=$t.next=s}return $t}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yc(s){var i=Zc;return Zc+=1,rl===null&&(rl=[]),s=kb(rl,s,i),i=Oe,($t===null?i.memoizedState:$t.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?Tx:Wp),s}function _d(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Yc(s);if(s.$$typeof===K)return hn(s)}throw Error(r(438,String(s)))}function Bp(s){var i=null,l=Oe.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=vd(),Oe.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),u=0;u<s;u++)l[u]=z;return i.index++,l}function Rs(s,i){return typeof i=="function"?i(s):i}function bd(s){var i=Pt();return qp(i,ht,s)}function qp(s,i,l){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}i.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{i=p.next;var S=x=null,O=null,G=i,ne=!1;do{var oe=G.lane&-536870913;if(oe!==G.lane?(Be&oe)===oe:(Ns&oe)===oe){var Y=G.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),oe===Xo&&(ne=!0);else if((Ns&Y)===Y){G=G.next,Y===Xo&&(ne=!0);continue}else oe={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(S=O=oe,x=y):O=O.next=oe,Oe.lanes|=Y,Ai|=Y;oe=G.action,Va&&l(y,oe),y=G.hasEagerState?G.eagerState:l(y,oe)}else Y={lane:oe,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(S=O=Y,x=y):O=O.next=Y,Oe.lanes|=oe,Ai|=oe;G=G.next}while(G!==null&&G!==i);if(O===null?x=y:O.next=S,!Bn(y,s.memoizedState)&&(Ht=!0,ne&&(l=Jo,l!==null)))throw l;s.memoizedState=y,s.baseState=x,s.baseQueue=O,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function $p(s){var i=Pt(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var x=p=p.next;do y=s(y,x.action),x=x.next;while(x!==p);Bn(y,i.memoizedState)||(Ht=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,u]}function $b(s,i,l){var u=Oe,p=Pt(),y=Ke;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=i();var x=!Bn((ht||p).memoizedState,l);if(x&&(p.memoizedState=l,Ht=!0),p=p.queue,Kp(Kb.bind(null,u,p,s),[s]),p.getSnapshot!==i||x||$t!==null&&$t.memoizedState.tag&1){if(u.flags|=2048,sl(9,{destroy:void 0},Gb.bind(null,u,p,l,i),null),mt===null)throw Error(r(349));y||(Ns&127)!==0||Hb(u,i,l)}return l}function Hb(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Oe.updateQueue,i===null?(i=vd(),Oe.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Gb(s,i,l,u){i.value=l,i.getSnapshot=u,Qb(i)&&Zb(s)}function Kb(s,i,l){return l(function(){Qb(i)&&Zb(s)})}function Qb(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Bn(s,l)}catch{return!0}}function Zb(s){var i=Na(s,2);i!==null&&Vn(i,s,2)}function Hp(s){var i=Tn();if(typeof s=="function"){var l=s;if(s=l(),Va){tr(!0);try{l()}finally{tr(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:s},i}function Yb(s,i,l,u){return s.baseState=l,qp(s,ht,typeof u=="function"?u:Rs)}function dR(s,i,l,u,p){if(Ed(s))throw Error(r(485));if(s=i.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};W.T!==null?l(!0):y.isTransition=!1,u(y),l=i.pending,l===null?(y.next=i.pending=y,Xb(i,y)):(y.next=l.next,i.pending=l.next=y)}}function Xb(s,i){var l=i.action,u=i.payload,p=s.state;if(i.isTransition){var y=W.T,x={};W.T=x;try{var S=l(p,u),O=W.S;O!==null&&O(x,S),Jb(s,i,S)}catch(G){Gp(s,i,G)}finally{y!==null&&x.types!==null&&(y.types=x.types),W.T=y}}else try{y=l(p,u),Jb(s,i,y)}catch(G){Gp(s,i,G)}}function Jb(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Wb(s,i,u)},function(u){return Gp(s,i,u)}):Wb(s,i,l)}function Wb(s,i,l){i.status="fulfilled",i.value=l,ex(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,Xb(s,l)))}function Gp(s,i,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,ex(i),i=i.next;while(i!==u)}s.action=null}function ex(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function tx(s,i){return i}function nx(s,i){if(Ke){var l=mt.formState;if(l!==null){e:{var u=Oe;if(Ke){if(pt){t:{for(var p=pt,y=ur;p.nodeType!==8;){if(!y){p=null;break t}if(p=dr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){pt=dr(p.nextSibling),u=p.data==="F!";break e}}yi(u)}u=!1}u&&(i=l[0])}}return l=Tn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tx,lastRenderedState:i},l.queue=u,l=xx.bind(null,Oe,u),u.dispatch=l,u=Hp(!1),y=Jp.bind(null,Oe,!1,u.queue),u=Tn(),p={state:i,dispatch:null,action:s,pending:null},u.queue=p,l=dR.bind(null,Oe,p,y,l),p.dispatch=l,u.memoizedState=s,[i,l,!1]}function rx(s){var i=Pt();return sx(i,ht,s)}function sx(s,i,l){if(i=qp(s,i,tx)[0],s=bd(Rs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Yc(i)}catch(x){throw x===Wo?ud:x}else u=i;i=Pt();var p=i.queue,y=p.dispatch;return l!==i.memoizedState&&(Oe.flags|=2048,sl(9,{destroy:void 0},fR.bind(null,p,l),null)),[u,y,s]}function fR(s,i){s.action=i}function ix(s){var i=Pt(),l=ht;if(l!==null)return sx(i,l,s);Pt(),i=i.memoizedState,l=Pt();var u=l.queue.dispatch;return l.memoizedState=s,[i,u,!1]}function sl(s,i,l,u){return s={tag:s,create:l,deps:u,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=vd(),Oe.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,i.lastEffect=s),s}function ax(){return Pt().memoizedState}function xd(s,i,l,u){var p=Tn();Oe.flags|=s,p.memoizedState=sl(1|i,{destroy:void 0},l,u===void 0?null:u)}function wd(s,i,l,u){var p=Pt();u=u===void 0?null:u;var y=p.memoizedState.inst;ht!==null&&u!==null&&Vp(u,ht.memoizedState.deps)?p.memoizedState=sl(i,y,l,u):(Oe.flags|=s,p.memoizedState=sl(1|i,y,l,u))}function ox(s,i){xd(8390656,8,s,i)}function Kp(s,i){wd(2048,8,s,i)}function mR(s){Oe.flags|=4;var i=Oe.updateQueue;if(i===null)i=vd(),Oe.updateQueue=i,i.events=[s];else{var l=i.events;l===null?i.events=[s]:l.push(s)}}function lx(s){var i=Pt().memoizedState;return mR({ref:i,nextImpl:s}),function(){if((tt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function cx(s,i){return wd(4,2,s,i)}function ux(s,i){return wd(4,4,s,i)}function hx(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function dx(s,i,l){l=l!=null?l.concat([s]):null,wd(4,4,hx.bind(null,i,s),l)}function Qp(){}function fx(s,i){var l=Pt();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Vp(i,u[1])?u[0]:(l.memoizedState=[s,i],s)}function mx(s,i){var l=Pt();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Vp(i,u[1]))return u[0];if(u=s(),Va){tr(!0);try{s()}finally{tr(!1)}}return l.memoizedState=[u,i],u}function Zp(s,i,l){return l===void 0||(Ns&1073741824)!==0&&(Be&261930)===0?s.memoizedState=i:(s.memoizedState=l,s=p0(),Oe.lanes|=s,Ai|=s,l)}function px(s,i,l,u){return Bn(l,i)?l:tl.current!==null?(s=Zp(s,l,u),Bn(s,i)||(Ht=!0),s):(Ns&42)===0||(Ns&1073741824)!==0&&(Be&261930)===0?(Ht=!0,s.memoizedState=l):(s=p0(),Oe.lanes|=s,Ai|=s,i)}function gx(s,i,l,u,p){var y=de.p;de.p=y!==0&&8>y?y:8;var x=W.T,S={};W.T=S,Jp(s,!1,i,l);try{var O=p(),G=W.S;if(G!==null&&G(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=cR(O,u);Xc(s,i,ne,Qn(s))}else Xc(s,i,u,Qn(s))}catch(oe){Xc(s,i,{then:function(){},status:"rejected",reason:oe},Qn())}finally{de.p=y,x!==null&&S.types!==null&&(x.types=S.types),W.T=x}}function pR(){}function Yp(s,i,l,u){if(s.tag!==5)throw Error(r(476));var p=yx(s).queue;gx(s,p,i,ce,l===null?pR:function(){return vx(s),l(u)})}function yx(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:ce},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function vx(s){var i=yx(s);i.next===null&&(i=s.alternate.memoizedState),Xc(s,i.next.queue,{},Qn())}function Xp(){return hn(mu)}function _x(){return Pt().memoizedState}function bx(){return Pt().memoizedState}function gR(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Qn();s=bi(l);var u=xi(i,s,l);u!==null&&(Vn(u,i,l),Gc(u,i,l)),i={cache:Ap()},s.payload=i;return}i=i.return}}function yR(s,i,l){var u=Qn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ed(s)?wx(i,l):(l=pp(s,i,l,u),l!==null&&(Vn(l,s,u),Ex(l,i,u)))}function xx(s,i,l){var u=Qn();Xc(s,i,l,u)}function Xc(s,i,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ed(s))wx(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,S=y(x,l);if(p.hasEagerState=!0,p.eagerState=S,Bn(S,x))return rd(s,i,p,0),mt===null&&nd(),!1}catch{}if(l=pp(s,i,p,u),l!==null)return Vn(l,s,u),Ex(l,i,u),!0}return!1}function Jp(s,i,l,u){if(u={lane:2,revertLane:Cg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ed(s)){if(i)throw Error(r(479))}else i=pp(s,l,u,2),i!==null&&Vn(i,s,2)}function Ed(s){var i=s.alternate;return s===Oe||i!==null&&i===Oe}function wx(s,i){nl=gd=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Ex(s,i,l){if((l&4194048)!==0){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,_c(s,l)}}var Jc={readContext:hn,use:_d,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};Jc.useEffectEvent=It;var Tx={readContext:hn,use:_d,useCallback:function(s,i){return Tn().memoizedState=[s,i===void 0?null:i],s},useContext:hn,useEffect:ox,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,xd(4194308,4,hx.bind(null,i,s),l)},useLayoutEffect:function(s,i){return xd(4194308,4,s,i)},useInsertionEffect:function(s,i){xd(4,2,s,i)},useMemo:function(s,i){var l=Tn();i=i===void 0?null:i;var u=s();if(Va){tr(!0);try{s()}finally{tr(!1)}}return l.memoizedState=[u,i],u},useReducer:function(s,i,l){var u=Tn();if(l!==void 0){var p=l(i);if(Va){tr(!0);try{l(i)}finally{tr(!1)}}}else p=i;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=yR.bind(null,Oe,s),[u.memoizedState,s]},useRef:function(s){var i=Tn();return s={current:s},i.memoizedState=s},useState:function(s){s=Hp(s);var i=s.queue,l=xx.bind(null,Oe,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Qp,useDeferredValue:function(s,i){var l=Tn();return Zp(l,s,i)},useTransition:function(){var s=Hp(!1);return s=gx.bind(null,Oe,s.queue,!0,!1),Tn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var u=Oe,p=Tn();if(Ke){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),mt===null)throw Error(r(349));(Be&127)!==0||Hb(u,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,ox(Kb.bind(null,u,y,s),[s]),u.flags|=2048,sl(9,{destroy:void 0},Gb.bind(null,u,y,l,i),null),l},useId:function(){var s=Tn(),i=mt.identifierPrefix;if(Ke){var l=as,u=is;l=(u&~(1<<32-jt(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=yd++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=uR++,i="_"+i+"r_"+l.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:Xp,useFormState:nx,useActionState:nx,useOptimistic:function(s){var i=Tn();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Jp.bind(null,Oe,!0,l),l.dispatch=i,[s,i]},useMemoCache:Bp,useCacheRefresh:function(){return Tn().memoizedState=gR.bind(null,Oe)},useEffectEvent:function(s){var i=Tn(),l={impl:s};return i.memoizedState=l,function(){if((tt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Wp={readContext:hn,use:_d,useCallback:fx,useContext:hn,useEffect:Kp,useImperativeHandle:dx,useInsertionEffect:cx,useLayoutEffect:ux,useMemo:mx,useReducer:bd,useRef:ax,useState:function(){return bd(Rs)},useDebugValue:Qp,useDeferredValue:function(s,i){var l=Pt();return px(l,ht.memoizedState,s,i)},useTransition:function(){var s=bd(Rs)[0],i=Pt().memoizedState;return[typeof s=="boolean"?s:Yc(s),i]},useSyncExternalStore:$b,useId:_x,useHostTransitionStatus:Xp,useFormState:rx,useActionState:rx,useOptimistic:function(s,i){var l=Pt();return Yb(l,ht,s,i)},useMemoCache:Bp,useCacheRefresh:bx};Wp.useEffectEvent=lx;var Sx={readContext:hn,use:_d,useCallback:fx,useContext:hn,useEffect:Kp,useImperativeHandle:dx,useInsertionEffect:cx,useLayoutEffect:ux,useMemo:mx,useReducer:$p,useRef:ax,useState:function(){return $p(Rs)},useDebugValue:Qp,useDeferredValue:function(s,i){var l=Pt();return ht===null?Zp(l,s,i):px(l,ht.memoizedState,s,i)},useTransition:function(){var s=$p(Rs)[0],i=Pt().memoizedState;return[typeof s=="boolean"?s:Yc(s),i]},useSyncExternalStore:$b,useId:_x,useHostTransitionStatus:Xp,useFormState:ix,useActionState:ix,useOptimistic:function(s,i){var l=Pt();return ht!==null?Yb(l,ht,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Bp,useCacheRefresh:bx};Sx.useEffectEvent=lx;function eg(s,i,l,u){i=s.memoizedState,l=l(u,i),l=l==null?i:_({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var tg={enqueueSetState:function(s,i,l){s=s._reactInternals;var u=Qn(),p=bi(u);p.payload=i,l!=null&&(p.callback=l),i=xi(s,p,u),i!==null&&(Vn(i,s,u),Gc(i,s,u))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var u=Qn(),p=bi(u);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=xi(s,p,u),i!==null&&(Vn(i,s,u),Gc(i,s,u))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Qn(),u=bi(l);u.tag=2,i!=null&&(u.callback=i),i=xi(s,u,l),i!==null&&(Vn(i,s,l),Gc(i,s,l))}};function Ax(s,i,l,u,p,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,x):i.prototype&&i.prototype.isPureReactComponent?!zc(l,u)||!zc(p,y):!0}function Ix(s,i,l,u){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==s&&tg.enqueueReplaceState(i,i.state,null)}function za(s,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(s=s.defaultProps){l===i&&(l=_({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}function Nx(s){td(s)}function Rx(s){console.error(s)}function Cx(s){td(s)}function Td(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Dx(s,i,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ng(s,i,l){return l=bi(l),l.tag=3,l.payload={element:null},l.callback=function(){Td(s,i)},l}function jx(s){return s=bi(s),s.tag=3,s}function kx(s,i,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){Dx(i,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){Dx(i,l,u),typeof p!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function vR(s,i,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Yo(i,l,p,!0),l=$n.current,l!==null){switch(l.tag){case 31:case 13:return hr===null?Md():l.alternate===null&&Nt===0&&(Nt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===hd?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Ig(s,u,p)),!1;case 22:return l.flags|=65536,u===hd?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Ig(s,u,p)),!1}throw Error(r(435,l.tag))}return Ig(s,u,p),Md(),!1}if(Ke)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,u!==xp&&(s=Error(r(422),{cause:u}),Fc(or(s,l)))):(u!==xp&&(i=Error(r(423),{cause:u}),Fc(or(i,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=or(u,l),p=ng(s.stateNode,u,p),jp(s,p),Nt!==4&&(Nt=2)),!1;var y=Error(r(520),{cause:u});if(y=or(y,l),au===null?au=[y]:au.push(y),Nt!==4&&(Nt=2),i===null)return!0;u=or(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=ng(l.stateNode,u,s),jp(l,s),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ii===null||!Ii.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=jx(p),kx(p,s,l,u),jp(l,p),!1}l=l.return}while(l!==null);return!1}var rg=Error(r(461)),Ht=!1;function dn(s,i,l,u){i.child=s===null?Vb(i,null,l,u):Ma(i,s.child,l,u)}function Ox(s,i,l,u,p){l=l.render;var y=i.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return ja(i),u=zp(s,i,l,x,y,p),S=Lp(),s!==null&&!Ht?(Up(s,i,p),Cs(s,i,p)):(Ke&&S&&_p(i),i.flags|=1,dn(s,i,u,p),i.child)}function Px(s,i,l,u,p){if(s===null){var y=l.type;return typeof y=="function"&&!gp(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,Mx(s,i,y,u,p)):(s=id(l.type,null,u,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,!hg(s,p)){var x=y.memoizedProps;if(l=l.compare,l=l!==null?l:zc,l(x,u)&&s.ref===i.ref)return Cs(s,i,p)}return i.flags|=1,s=Ts(y,u),s.ref=i.ref,s.return=i,i.child=s}function Mx(s,i,l,u,p){if(s!==null){var y=s.memoizedProps;if(zc(y,u)&&s.ref===i.ref)if(Ht=!1,i.pendingProps=u=y,hg(s,p))(s.flags&131072)!==0&&(Ht=!0);else return i.lanes=s.lanes,Cs(s,i,p)}return sg(s,i,l,u,p)}function Vx(s,i,l,u){var p=u.children,y=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,s!==null){for(u=i.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,i.child=null;return zx(s,i,y,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&cd(i,y!==null?y.cachePool:null),y!==null?Ub(i,y):Op(),Fb(i);else return u=i.lanes=536870912,zx(s,i,y!==null?y.baseLanes|l:l,l,u)}else y!==null?(cd(i,y.cachePool),Ub(i,y),Ei(),i.memoizedState=null):(s!==null&&cd(i,null),Op(),Ei());return dn(s,i,p,l),i.child}function Wc(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function zx(s,i,l,u,p){var y=Np();return y=y===null?null:{parent:qt._currentValue,pool:y},i.memoizedState={baseLanes:l,cachePool:y},s!==null&&cd(i,null),Op(),Fb(i),s!==null&&Yo(s,i,u,!0),i.childLanes=p,null}function Sd(s,i){return i=Id({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function Lx(s,i,l){return Ma(i,s.child,null,l),s=Sd(i,i.pendingProps),s.flags|=2,Hn(i),i.memoizedState=null,s}function _R(s,i,l){var u=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Ke){if(u.mode==="hidden")return s=Sd(i,u),i.lanes=536870912,Wc(null,s);if(Mp(i),(s=pt)?(s=X0(s,ur),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:pi!==null?{id:is,overflow:as}:null,retryLane:536870912,hydrationErrors:null},l=wb(s),l.return=i,i.child=l,un=i,pt=null)):s=null,s===null)throw yi(i);return i.lanes=536870912,null}return Sd(i,u)}var y=s.memoizedState;if(y!==null){var x=y.dehydrated;if(Mp(i),p)if(i.flags&256)i.flags&=-257,i=Lx(s,i,l);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ht||Yo(s,i,l,!1),p=(l&s.childLanes)!==0,Ht||p){if(u=mt,u!==null&&(x=bc(u,l),x!==0&&x!==y.retryLane))throw y.retryLane=x,Na(s,x),Vn(u,s,x),rg;Md(),i=Lx(s,i,l)}else s=y.treeContext,pt=dr(x.nextSibling),un=i,Ke=!0,gi=null,ur=!1,s!==null&&Sb(i,s),i=Sd(i,u),i.flags|=4096;return i}return s=Ts(s.child,{mode:u.mode,children:u.children}),s.ref=i.ref,i.child=s,s.return=i,s}function Ad(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function sg(s,i,l,u,p){return ja(i),l=zp(s,i,l,u,void 0,p),u=Lp(),s!==null&&!Ht?(Up(s,i,p),Cs(s,i,p)):(Ke&&u&&_p(i),i.flags|=1,dn(s,i,l,p),i.child)}function Ux(s,i,l,u,p,y){return ja(i),i.updateQueue=null,l=qb(i,u,l,p),Bb(s),u=Lp(),s!==null&&!Ht?(Up(s,i,y),Cs(s,i,y)):(Ke&&u&&_p(i),i.flags|=1,dn(s,i,l,y),i.child)}function Fx(s,i,l,u,p){if(ja(i),i.stateNode===null){var y=Go,x=l.contextType;typeof x=="object"&&x!==null&&(y=hn(x)),y=new l(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=tg,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},Cp(i),x=l.contextType,y.context=typeof x=="object"&&x!==null?hn(x):Go,y.state=i.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(eg(i,l,x,u),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&tg.enqueueReplaceState(y,y.state,null),Qc(i,u,y,p),Kc(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(s===null){y=i.stateNode;var S=i.memoizedProps,O=za(l,S);y.props=O;var G=y.context,ne=l.contextType;x=Go,typeof ne=="object"&&ne!==null&&(x=hn(ne));var oe=l.getDerivedStateFromProps;ne=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||G!==x)&&Ix(i,y,u,x),_i=!1;var Y=i.memoizedState;y.state=Y,Qc(i,u,y,p),Kc(),G=i.memoizedState,S||Y!==G||_i?(typeof oe=="function"&&(eg(i,l,oe,u),G=i.memoizedState),(O=_i||Ax(i,l,O,u,Y,G,x))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=G),y.props=u,y.state=G,y.context=x,u=O):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,Dp(s,i),x=i.memoizedProps,ne=za(l,x),y.props=ne,oe=i.pendingProps,Y=y.context,G=l.contextType,O=Go,typeof G=="object"&&G!==null&&(O=hn(G)),S=l.getDerivedStateFromProps,(G=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==oe||Y!==O)&&Ix(i,y,u,O),_i=!1,Y=i.memoizedState,y.state=Y,Qc(i,u,y,p),Kc();var ee=i.memoizedState;x!==oe||Y!==ee||_i||s!==null&&s.dependencies!==null&&od(s.dependencies)?(typeof S=="function"&&(eg(i,l,S,u),ee=i.memoizedState),(ne=_i||Ax(i,l,ne,u,Y,ee,O)||s!==null&&s.dependencies!==null&&od(s.dependencies))?(G||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ee,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ee,O)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ee),y.props=u,y.state=ee,y.context=O,u=ne):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(i.flags|=1024),u=!1)}return y=u,Ad(s,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,s!==null&&u?(i.child=Ma(i,s.child,null,p),i.child=Ma(i,null,l,p)):dn(s,i,l,p),i.memoizedState=y.state,s=i.child):s=Cs(s,i,p),s}function Bx(s,i,l,u){return Ca(),i.flags|=256,dn(s,i,l,u),i.child}var ig={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ag(s){return{baseLanes:s,cachePool:Db()}}function og(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Kn),s}function qx(s,i,l){var u=i.pendingProps,p=!1,y=(i.flags&128)!==0,x;if((x=y)||(x=s!==null&&s.memoizedState===null?!1:(Ot.current&2)!==0),x&&(p=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,s===null){if(Ke){if(p?wi(i):Ei(),(s=pt)?(s=X0(s,ur),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:pi!==null?{id:is,overflow:as}:null,retryLane:536870912,hydrationErrors:null},l=wb(s),l.return=i,i.child=l,un=i,pt=null)):s=null,s===null)throw yi(i);return qg(s)?i.lanes=32:i.lanes=536870912,null}var S=u.children;return u=u.fallback,p?(Ei(),p=i.mode,S=Id({mode:"hidden",children:S},p),u=Ra(u,p,l,null),S.return=i,u.return=i,S.sibling=u,i.child=S,u=i.child,u.memoizedState=ag(l),u.childLanes=og(s,x,l),i.memoizedState=ig,Wc(null,u)):(wi(i),lg(i,S))}var O=s.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(y)i.flags&256?(wi(i),i.flags&=-257,i=cg(s,i,l)):i.memoizedState!==null?(Ei(),i.child=s.child,i.flags|=128,i=null):(Ei(),S=u.fallback,p=i.mode,u=Id({mode:"visible",children:u.children},p),S=Ra(S,p,l,null),S.flags|=2,u.return=i,S.return=i,u.sibling=S,i.child=u,Ma(i,s.child,null,l),u=i.child,u.memoizedState=ag(l),u.childLanes=og(s,x,l),i.memoizedState=ig,i=Wc(null,u));else if(wi(i),qg(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var G=x.dgst;x=G,u=Error(r(419)),u.stack="",u.digest=x,Fc({value:u,source:null,stack:null}),i=cg(s,i,l)}else if(Ht||Yo(s,i,l,!1),x=(l&s.childLanes)!==0,Ht||x){if(x=mt,x!==null&&(u=bc(x,l),u!==0&&u!==O.retryLane))throw O.retryLane=u,Na(s,u),Vn(x,s,u),rg;Bg(S)||Md(),i=cg(s,i,l)}else Bg(S)?(i.flags|=192,i.child=s.child,i=null):(s=O.treeContext,pt=dr(S.nextSibling),un=i,Ke=!0,gi=null,ur=!1,s!==null&&Sb(i,s),i=lg(i,u.children),i.flags|=4096);return i}return p?(Ei(),S=u.fallback,p=i.mode,O=s.child,G=O.sibling,u=Ts(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,G!==null?S=Ts(G,S):(S=Ra(S,p,l,null),S.flags|=2),S.return=i,u.return=i,u.sibling=S,i.child=u,Wc(null,u),u=i.child,S=s.child.memoizedState,S===null?S=ag(l):(p=S.cachePool,p!==null?(O=qt._currentValue,p=p.parent!==O?{parent:O,pool:O}:p):p=Db(),S={baseLanes:S.baseLanes|l,cachePool:p}),u.memoizedState=S,u.childLanes=og(s,x,l),i.memoizedState=ig,Wc(s.child,u)):(wi(i),l=s.child,s=l.sibling,l=Ts(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,s!==null&&(x=i.deletions,x===null?(i.deletions=[s],i.flags|=16):x.push(s)),i.child=l,i.memoizedState=null,l)}function lg(s,i){return i=Id({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Id(s,i){return s=qn(22,s,null,i),s.lanes=0,s}function cg(s,i,l){return Ma(i,s.child,null,l),s=lg(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function $x(s,i,l){s.lanes|=i;var u=s.alternate;u!==null&&(u.lanes|=i),Tp(s.return,i,l)}function ug(s,i,l,u,p,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:y}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=p,x.treeForkCount=y)}function Hx(s,i,l){var u=i.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var x=Ot.current,S=(x&2)!==0;if(S?(x=x&1|2,i.flags|=128):x&=1,se(Ot,x),dn(s,i,u,l),u=Ke?Uc:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&$x(s,l,i);else if(s.tag===19)$x(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&pd(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),ug(i,!1,p,l,y,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&pd(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}ug(i,!0,l,null,y,u);break;case"together":ug(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Cs(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Ai|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Yo(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=Ts(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Ts(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function hg(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&od(s)))}function bR(s,i,l){switch(i.tag){case 3:At(i,i.stateNode.containerInfo),vi(i,qt,s.memoizedState.cache),Ca();break;case 27:case 5:er(i);break;case 4:At(i,i.stateNode.containerInfo);break;case 10:vi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Mp(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(wi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?qx(s,i,l):(wi(i),s=Cs(s,i,l),s!==null?s.sibling:null);wi(i);break;case 19:var p=(s.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Yo(s,i,l,!1),u=(l&i.childLanes)!==0),p){if(u)return Hx(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),se(Ot,Ot.current),u)break;return null;case 22:return i.lanes=0,Vx(s,i,l,i.pendingProps);case 24:vi(i,qt,s.memoizedState.cache)}return Cs(s,i,l)}function Gx(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Ht=!0;else{if(!hg(s,l)&&(i.flags&128)===0)return Ht=!1,bR(s,i,l);Ht=(s.flags&131072)!==0}else Ht=!1,Ke&&(i.flags&1048576)!==0&&Tb(i,Uc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(s=Oa(i.elementType),i.type=s,typeof s=="function")gp(s)?(u=za(s,u),i.tag=1,i=Fx(null,i,s,u,l)):(i.tag=0,i=sg(null,i,s,u,l));else{if(s!=null){var p=s.$$typeof;if(p===le){i.tag=11,i=Ox(null,i,s,u,l);break e}else if(p===N){i.tag=14,i=Px(null,i,s,u,l);break e}}throw i=Ge(s)||s,Error(r(306,i,""))}}return i;case 0:return sg(s,i,i.type,i.pendingProps,l);case 1:return u=i.type,p=za(u,i.pendingProps),Fx(s,i,u,p,l);case 3:e:{if(At(i,i.stateNode.containerInfo),s===null)throw Error(r(387));u=i.pendingProps;var y=i.memoizedState;p=y.element,Dp(s,i),Qc(i,u,null,l);var x=i.memoizedState;if(u=x.cache,vi(i,qt,u),u!==y.cache&&Sp(i,[qt],l,!0),Kc(),u=x.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Bx(s,i,u,l);break e}else if(u!==p){p=or(Error(r(424)),i),Fc(p),i=Bx(s,i,u,l);break e}else for(s=i.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,pt=dr(s.firstChild),un=i,Ke=!0,gi=null,ur=!0,l=Vb(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ca(),u===p){i=Cs(s,i,l);break e}dn(s,i,u,l)}i=i.child}return i;case 26:return Ad(s,i),s===null?(l=rw(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ke||(l=i.type,s=i.pendingProps,u=qd(Ne.current).createElement(l),u[Ut]=i,u[nn]=s,fn(u,l,s),Ft(u),i.stateNode=u):i.memoizedState=rw(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return er(i),s===null&&Ke&&(u=i.stateNode=ew(i.type,i.pendingProps,Ne.current),un=i,ur=!0,p=pt,Di(i.type)?($g=p,pt=dr(u.firstChild)):pt=p),dn(s,i,i.pendingProps.children,l),Ad(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Ke&&((p=u=pt)&&(u=YR(u,i.type,i.pendingProps,ur),u!==null?(i.stateNode=u,un=i,pt=dr(u.firstChild),ur=!1,p=!0):p=!1),p||yi(i)),er(i),p=i.type,y=i.pendingProps,x=s!==null?s.memoizedProps:null,u=y.children,Lg(p,y)?u=null:x!==null&&Lg(p,x)&&(i.flags|=32),i.memoizedState!==null&&(p=zp(s,i,hR,null,null,l),mu._currentValue=p),Ad(s,i),dn(s,i,u,l),i.child;case 6:return s===null&&Ke&&((s=l=pt)&&(l=XR(l,i.pendingProps,ur),l!==null?(i.stateNode=l,un=i,pt=null,s=!0):s=!1),s||yi(i)),null;case 13:return qx(s,i,l);case 4:return At(i,i.stateNode.containerInfo),u=i.pendingProps,s===null?i.child=Ma(i,null,u,l):dn(s,i,u,l),i.child;case 11:return Ox(s,i,i.type,i.pendingProps,l);case 7:return dn(s,i,i.pendingProps,l),i.child;case 8:return dn(s,i,i.pendingProps.children,l),i.child;case 12:return dn(s,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,vi(i,i.type,u.value),dn(s,i,u.children,l),i.child;case 9:return p=i.type._context,u=i.pendingProps.children,ja(i),p=hn(p),u=u(p),i.flags|=1,dn(s,i,u,l),i.child;case 14:return Px(s,i,i.type,i.pendingProps,l);case 15:return Mx(s,i,i.type,i.pendingProps,l);case 19:return Hx(s,i,l);case 31:return _R(s,i,l);case 22:return Vx(s,i,l,i.pendingProps);case 24:return ja(i),u=hn(qt),s===null?(p=Np(),p===null&&(p=mt,y=Ap(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),i.memoizedState={parent:u,cache:p},Cp(i),vi(i,qt,p)):((s.lanes&l)!==0&&(Dp(s,i),Qc(i,null,null,l),Kc()),p=s.memoizedState,y=i.memoizedState,p.parent!==u?(p={parent:u,cache:u},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),vi(i,qt,u)):(u=y.cache,vi(i,qt,u),u!==p.cache&&Sp(i,[qt],l,!0))),dn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ds(s){s.flags|=4}function dg(s,i,l,u,p){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(_0())s.flags|=8192;else throw Pa=hd,Rp}else s.flags&=-16777217}function Kx(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!lw(i))if(_0())s.flags|=8192;else throw Pa=hd,Rp}function Nd(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Oh():536870912,s.lanes|=i,ll|=i)}function eu(s,i){if(!Ke)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function gt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,i}function xR(s,i,l){var u=i.pendingProps;switch(bp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return l=i.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Is(qt),nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Zo(i)?Ds(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wp())),gt(i),null;case 26:var p=i.type,y=i.memoizedState;return s===null?(Ds(i),y!==null?(gt(i),Kx(i,y)):(gt(i),dg(i,p,null,u,l))):y?y!==s.memoizedState?(Ds(i),gt(i),Kx(i,y)):(gt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==u&&Ds(i),gt(i),dg(i,p,s,u,l)),null;case 27:if(Ur(i),l=Ne.current,p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Ds(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return gt(i),null}s=ue.current,Zo(i)?Ab(i):(s=ew(p,u,l),i.stateNode=s,Ds(i))}return gt(i),null;case 5:if(Ur(i),p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Ds(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return gt(i),null}if(y=ue.current,Zo(i))Ab(i);else{var x=qd(Ne.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?x.createElement(p,{is:u.is}):x.createElement(p)}}y[Ut]=i,y[nn]=u;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=y;e:switch(fn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ds(i)}}return gt(i),dg(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,l),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==u&&Ds(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(s=Ne.current,Zo(i)){if(s=i.stateNode,l=i.memoizedProps,u=null,p=un,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[Ut]=i,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||q0(s.nodeValue,l)),s||yi(i,!0)}else s=qd(s).createTextNode(u),s[Ut]=i,i.stateNode=s}return gt(i),null;case 31:if(l=i.memoizedState,s===null||s.memoizedState!==null){if(u=Zo(i),l!==null){if(s===null){if(!u)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Ut]=i}else Ca(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),s=!1}else l=wp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return i.flags&256?(Hn(i),i):(Hn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return gt(i),null;case 13:if(u=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Zo(i),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Ut]=i}else Ca(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),p=!1}else p=wp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Hn(i),i):(Hn(i),null)}return Hn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=i.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),l!==s&&l&&(i.child.flags|=8192),Nd(i,i.updateQueue),gt(i),null);case 4:return nt(),s===null&&Og(i.stateNode.containerInfo),gt(i),null;case 10:return Is(i.type),gt(i),null;case 19:if($(Ot),u=i.memoizedState,u===null)return gt(i),null;if(p=(i.flags&128)!==0,y=u.rendering,y===null)if(p)eu(u,!1);else{if(Nt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(y=pd(s),y!==null){for(i.flags|=128,eu(u,!1),s=y.updateQueue,i.updateQueue=s,Nd(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)xb(l,s),l=l.sibling;return se(Ot,Ot.current&1|2),Ke&&Ss(i,u.treeForkCount),i.child}s=s.sibling}u.tail!==null&&wn()>kd&&(i.flags|=128,p=!0,eu(u,!1),i.lanes=4194304)}else{if(!p)if(s=pd(y),s!==null){if(i.flags|=128,p=!0,s=s.updateQueue,i.updateQueue=s,Nd(i,s),eu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Ke)return gt(i),null}else 2*wn()-u.renderingStartTime>kd&&l!==536870912&&(i.flags|=128,p=!0,eu(u,!1),i.lanes=4194304);u.isBackwards?(y.sibling=i.child,i.child=y):(s=u.last,s!==null?s.sibling=y:i.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=wn(),s.sibling=null,l=Ot.current,se(Ot,p?l&1|2:l&1),Ke&&Ss(i,u.treeForkCount),s):(gt(i),null);case 22:case 23:return Hn(i),Pp(),u=i.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),l=i.updateQueue,l!==null&&Nd(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),s!==null&&$(ka),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Is(qt),gt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function wR(s,i){switch(bp(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Is(qt),nt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Ur(i),null;case 31:if(i.memoizedState!==null){if(Hn(i),i.alternate===null)throw Error(r(340));Ca()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Hn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ca()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return $(Ot),null;case 4:return nt(),null;case 10:return Is(i.type),null;case 22:case 23:return Hn(i),Pp(),s!==null&&$(ka),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Is(qt),null;case 25:return null;default:return null}}function Qx(s,i){switch(bp(i),i.tag){case 3:Is(qt),nt();break;case 26:case 27:case 5:Ur(i);break;case 4:nt();break;case 31:i.memoizedState!==null&&Hn(i);break;case 13:Hn(i);break;case 19:$(Ot);break;case 10:Is(i.type);break;case 22:case 23:Hn(i),Pp(),s!==null&&$(ka);break;case 24:Is(qt)}}function tu(s,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var y=l.create,x=l.inst;u=y(),x.destroy=u}l=l.next}while(l!==p)}}catch(S){it(i,i.return,S)}}function Ti(s,i,l){try{var u=i.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,p=i;var O=l,G=S;try{G()}catch(ne){it(p,O,ne)}}}u=u.next}while(u!==y)}}catch(ne){it(i,i.return,ne)}}function Zx(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{Lb(i,l)}catch(u){it(s,s.return,u)}}}function Yx(s,i,l){l.props=za(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){it(s,i,u)}}function nu(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(p){it(s,i,p)}}function os(s,i){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){it(s,i,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){it(s,i,p)}else l.current=null}function Xx(s){var i=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){it(s,s.return,p)}}function fg(s,i,l){try{var u=s.stateNode;$R(u,s.type,l,i),u[nn]=i}catch(p){it(s,s.return,p)}}function Jx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Di(s.type)||s.tag===4}function mg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Jx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Di(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pg(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Nr));else if(u!==4&&(u===27&&Di(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(pg(s,i,l),s=s.sibling;s!==null;)pg(s,i,l),s=s.sibling}function Rd(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(u!==4&&(u===27&&Di(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Rd(s,i,l),s=s.sibling;s!==null;)Rd(s,i,l),s=s.sibling}function Wx(s){var i=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);fn(i,u,l),i[Ut]=s,i[nn]=l}catch(y){it(s,s.return,y)}}var js=!1,Gt=!1,gg=!1,e0=typeof WeakSet=="function"?WeakSet:Set,sn=null;function ER(s,i){if(s=s.containerInfo,Vg=Yd,s=db(s),cp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var x=0,S=-1,O=-1,G=0,ne=0,oe=s,Y=null;t:for(;;){for(var ee;oe!==l||p!==0&&oe.nodeType!==3||(S=x+p),oe!==y||u!==0&&oe.nodeType!==3||(O=x+u),oe.nodeType===3&&(x+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)Y=oe,oe=ee;for(;;){if(oe===s)break t;if(Y===l&&++G===p&&(S=x),Y===y&&++ne===u&&(O=x),(ee=oe.nextSibling)!==null)break;oe=Y,Y=oe.parentNode}oe=ee}l=S===-1||O===-1?null:{start:S,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(zg={focusedElem:s,selectionRange:l},Yd=!1,sn=i;sn!==null;)if(i=sn,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,sn=s;else for(;sn!==null;){switch(i=sn,y=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)p=s[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=i,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var ge=za(l.type,p);s=u.getSnapshotBeforeUpdate(ge,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ie){it(l,l.return,Ie)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Fg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Fg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,sn=s;break}sn=i.return}}function t0(s,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Os(s,l),u&4&&tu(5,l);break;case 1:if(Os(s,l),u&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(x){it(l,l.return,x)}else{var p=za(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(p,i,s.__reactInternalSnapshotBeforeUpdate)}catch(x){it(l,l.return,x)}}u&64&&Zx(l),u&512&&nu(l,l.return);break;case 3:if(Os(s,l),u&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Lb(s,i)}catch(x){it(l,l.return,x)}}break;case 27:i===null&&u&4&&Wx(l);case 26:case 5:Os(s,l),i===null&&u&4&&Xx(l),u&512&&nu(l,l.return);break;case 12:Os(s,l);break;case 31:Os(s,l),u&4&&s0(s,l);break;case 13:Os(s,l),u&4&&i0(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=jR.bind(null,l),JR(s,l))));break;case 22:if(u=l.memoizedState!==null||js,!u){i=i!==null&&i.memoizedState!==null||Gt,p=js;var y=Gt;js=u,(Gt=i)&&!y?Ps(s,l,(l.subtreeFlags&8772)!==0):Os(s,l),js=p,Gt=y}break;case 30:break;default:Os(s,l)}}function n0(s){var i=s.alternate;i!==null&&(s.alternate=null,n0(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&jo(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vt=null,kn=!1;function ks(s,i,l){for(l=l.child;l!==null;)r0(s,i,l),l=l.sibling}function r0(s,i,l){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Tr,l)}catch{}switch(l.tag){case 26:Gt||os(l,i),ks(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Gt||os(l,i);var u=vt,p=kn;Di(l.type)&&(vt=l.stateNode,kn=!1),ks(s,i,l),hu(l.stateNode),vt=u,kn=p;break;case 5:Gt||os(l,i);case 6:if(u=vt,p=kn,vt=null,ks(s,i,l),vt=u,kn=p,vt!==null)if(kn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(y){it(l,i,y)}else try{vt.removeChild(l.stateNode)}catch(y){it(l,i,y)}break;case 18:vt!==null&&(kn?(s=vt,Z0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),gl(s)):Z0(vt,l.stateNode));break;case 4:u=vt,p=kn,vt=l.stateNode.containerInfo,kn=!0,ks(s,i,l),vt=u,kn=p;break;case 0:case 11:case 14:case 15:Ti(2,l,i),Gt||Ti(4,l,i),ks(s,i,l);break;case 1:Gt||(os(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Yx(l,i,u)),ks(s,i,l);break;case 21:ks(s,i,l);break;case 22:Gt=(u=Gt)||l.memoizedState!==null,ks(s,i,l),Gt=u;break;default:ks(s,i,l)}}function s0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{gl(s)}catch(l){it(i,i.return,l)}}}function i0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{gl(s)}catch(l){it(i,i.return,l)}}function TR(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new e0),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new e0),i;default:throw Error(r(435,s.tag))}}function Cd(s,i){var l=TR(s);i.forEach(function(u){if(!l.has(u)){l.add(u);var p=kR.bind(null,s,u);u.then(p,p)}})}function On(s,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=s,x=i,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(Di(S.type)){vt=S.stateNode,kn=!1;break e}break;case 5:vt=S.stateNode,kn=!1;break e;case 3:case 4:vt=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(vt===null)throw Error(r(160));r0(y,x,p),vt=null,kn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)a0(i,s),i=i.sibling}var Or=null;function a0(s,i){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:On(i,s),Pn(s),u&4&&(Ti(3,s,s.return),tu(3,s),Ti(5,s,s.return));break;case 1:On(i,s),Pn(s),u&512&&(Gt||l===null||os(l,l.return)),u&64&&js&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=Or;if(On(i,s),Pn(s),u&512&&(Gt||l===null||os(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Kr]||y[Ut]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),fn(y,u,l),y[Ut]=s,Ft(y),u=y;break e;case"link":var x=aw("link","href",p).get(u+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(y=x[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}y=p.createElement(u),fn(y,u,l),p.head.appendChild(y);break;case"meta":if(x=aw("meta","content",p).get(u+(l.content||""))){for(S=0;S<x.length;S++)if(y=x[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}y=p.createElement(u),fn(y,u,l),p.head.appendChild(y);break;default:throw Error(r(468,u))}y[Ut]=s,Ft(y),u=y}s.stateNode=u}else ow(p,s.type,s.stateNode);else s.stateNode=iw(p,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?ow(p,s.type,s.stateNode):iw(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&fg(s,s.memoizedProps,l.memoizedProps)}break;case 27:On(i,s),Pn(s),u&512&&(Gt||l===null||os(l,l.return)),l!==null&&u&4&&fg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(On(i,s),Pn(s),u&512&&(Gt||l===null||os(l,l.return)),s.flags&32){p=s.stateNode;try{jn(p,"")}catch(ge){it(s,s.return,ge)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,fg(s,p,l!==null?l.memoizedProps:p)),u&1024&&(gg=!0);break;case 6:if(On(i,s),Pn(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ge){it(s,s.return,ge)}}break;case 3:if(Gd=null,p=Or,Or=$d(i.containerInfo),On(i,s),Or=p,Pn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{gl(i.containerInfo)}catch(ge){it(s,s.return,ge)}gg&&(gg=!1,o0(s));break;case 4:u=Or,Or=$d(s.stateNode.containerInfo),On(i,s),Pn(s),Or=u;break;case 12:On(i,s),Pn(s);break;case 31:On(i,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Cd(s,u)));break;case 13:On(i,s),Pn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jd=wn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Cd(s,u)));break;case 22:p=s.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,G=js,ne=Gt;if(js=G||p,Gt=ne||O,On(i,s),Gt=ne,js=G,Pn(s),u&8192)e:for(i=s.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||O||js||Gt||La(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){O=l=i;try{if(y=O.stateNode,p)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=O.stateNode;var oe=O.memoizedProps.style,Y=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ge){it(O,O.return,ge)}}}else if(i.tag===6){if(l===null){O=i;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(ge){it(O,O.return,ge)}}}else if(i.tag===18){if(l===null){O=i;try{var ee=O.stateNode;p?Y0(ee,!0):Y0(O.stateNode,!1)}catch(ge){it(O,O.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Cd(s,l))));break;case 19:On(i,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Cd(s,u)));break;case 30:break;case 21:break;default:On(i,s),Pn(s)}}function Pn(s){var i=s.flags;if(i&2){try{for(var l,u=s.return;u!==null;){if(Jx(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,y=mg(s);Rd(s,y,p);break;case 5:var x=l.stateNode;l.flags&32&&(jn(x,""),l.flags&=-33);var S=mg(s);Rd(s,S,x);break;case 3:case 4:var O=l.stateNode.containerInfo,G=mg(s);pg(s,G,O);break;default:throw Error(r(161))}}catch(ne){it(s,s.return,ne)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function o0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;o0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Os(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)t0(s,i.alternate,i),i=i.sibling}function La(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Ti(4,i,i.return),La(i);break;case 1:os(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Yx(i,i.return,l),La(i);break;case 27:hu(i.stateNode);case 26:case 5:os(i,i.return),La(i);break;case 22:i.memoizedState===null&&La(i);break;case 30:La(i);break;default:La(i)}s=s.sibling}}function Ps(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,p=s,y=i,x=y.flags;switch(y.tag){case 0:case 11:case 15:Ps(p,y,l),tu(4,y);break;case 1:if(Ps(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){it(u,u.return,G)}if(u=y,p=u.updateQueue,p!==null){var S=u.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)zb(O[p],S)}catch(G){it(u,u.return,G)}}l&&x&64&&Zx(y),nu(y,y.return);break;case 27:Wx(y);case 26:case 5:Ps(p,y,l),l&&u===null&&x&4&&Xx(y),nu(y,y.return);break;case 12:Ps(p,y,l);break;case 31:Ps(p,y,l),l&&x&4&&s0(p,y);break;case 13:Ps(p,y,l),l&&x&4&&i0(p,y);break;case 22:y.memoizedState===null&&Ps(p,y,l),nu(y,y.return);break;case 30:break;default:Ps(p,y,l)}i=i.sibling}}function yg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Bc(l))}function vg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Bc(s))}function Pr(s,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l0(s,i,l,u),i=i.sibling}function l0(s,i,l,u){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Pr(s,i,l,u),p&2048&&tu(9,i);break;case 1:Pr(s,i,l,u);break;case 3:Pr(s,i,l,u),p&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Bc(s)));break;case 12:if(p&2048){Pr(s,i,l,u),s=i.stateNode;try{var y=i.memoizedProps,x=y.id,S=y.onPostCommit;typeof S=="function"&&S(x,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){it(i,i.return,O)}}else Pr(s,i,l,u);break;case 31:Pr(s,i,l,u);break;case 13:Pr(s,i,l,u);break;case 23:break;case 22:y=i.stateNode,x=i.alternate,i.memoizedState!==null?y._visibility&2?Pr(s,i,l,u):ru(s,i):y._visibility&2?Pr(s,i,l,u):(y._visibility|=2,il(s,i,l,u,(i.subtreeFlags&10256)!==0||!1)),p&2048&&yg(x,i);break;case 24:Pr(s,i,l,u),p&2048&&vg(i.alternate,i);break;default:Pr(s,i,l,u)}}function il(s,i,l,u,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=s,x=i,S=l,O=u,G=x.flags;switch(x.tag){case 0:case 11:case 15:il(y,x,S,O,p),tu(8,x);break;case 23:break;case 22:var ne=x.stateNode;x.memoizedState!==null?ne._visibility&2?il(y,x,S,O,p):ru(y,x):(ne._visibility|=2,il(y,x,S,O,p)),p&&G&2048&&yg(x.alternate,x);break;case 24:il(y,x,S,O,p),p&&G&2048&&vg(x.alternate,x);break;default:il(y,x,S,O,p)}i=i.sibling}}function ru(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,u=i,p=u.flags;switch(u.tag){case 22:ru(l,u),p&2048&&yg(u.alternate,u);break;case 24:ru(l,u),p&2048&&vg(u.alternate,u);break;default:ru(l,u)}i=i.sibling}}var su=8192;function al(s,i,l){if(s.subtreeFlags&su)for(s=s.child;s!==null;)c0(s,i,l),s=s.sibling}function c0(s,i,l){switch(s.tag){case 26:al(s,i,l),s.flags&su&&s.memoizedState!==null&&uC(l,Or,s.memoizedState,s.memoizedProps);break;case 5:al(s,i,l);break;case 3:case 4:var u=Or;Or=$d(s.stateNode.containerInfo),al(s,i,l),Or=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=su,su=16777216,al(s,i,l),su=u):al(s,i,l));break;default:al(s,i,l)}}function u0(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function iu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];sn=u,d0(u,s)}u0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)h0(s),s=s.sibling}function h0(s){switch(s.tag){case 0:case 11:case 15:iu(s),s.flags&2048&&Ti(9,s,s.return);break;case 3:iu(s);break;case 12:iu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Dd(s)):iu(s);break;default:iu(s)}}function Dd(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];sn=u,d0(u,s)}u0(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Ti(8,i,i.return),Dd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Dd(i));break;default:Dd(i)}s=s.sibling}}function d0(s,i){for(;sn!==null;){var l=sn;switch(l.tag){case 0:case 11:case 15:Ti(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,sn=u;else e:for(l=s;sn!==null;){u=sn;var p=u.sibling,y=u.return;if(n0(u),u===l){sn=null;break e}if(p!==null){p.return=y,sn=p;break e}sn=y}}}var SR={getCacheForType:function(s){var i=hn(qt),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l},cacheSignal:function(){return hn(qt).controller.signal}},AR=typeof WeakMap=="function"?WeakMap:Map,tt=0,mt=null,Le=null,Be=0,st=0,Gn=null,Si=!1,ol=!1,_g=!1,Ms=0,Nt=0,Ai=0,Ua=0,bg=0,Kn=0,ll=0,au=null,Mn=null,xg=!1,jd=0,f0=0,kd=1/0,Od=null,Ii=null,Xt=0,Ni=null,cl=null,Vs=0,wg=0,Eg=null,m0=null,ou=0,Tg=null;function Qn(){return(tt&2)!==0&&Be!==0?Be&-Be:W.T!==null?Cg():Ph()}function p0(){if(Kn===0)if((Be&536870912)===0||Ke){var s=fa;fa<<=1,(fa&3932160)===0&&(fa=262144),Kn=s}else Kn=536870912;return s=$n.current,s!==null&&(s.flags|=32),Kn}function Vn(s,i,l){(s===mt&&(st===2||st===9)||s.cancelPendingCommit!==null)&&(ul(s,0),Ri(s,Be,Kn,!1)),ma(s,l),((tt&2)===0||s!==mt)&&(s===mt&&((tt&2)===0&&(Ua|=l),Nt===4&&Ri(s,Be,Kn,!1)),ls(s))}function g0(s,i,l){if((tt&6)!==0)throw Error(r(327));var u=!l&&(i&127)===0&&(i&s.expiredLanes)===0||Sr(s,i),p=u?RR(s,i):Ag(s,i,!0),y=u;do{if(p===0){ol&&!u&&Ri(s,i,0,!1);break}else{if(l=s.current.alternate,y&&!IR(l)){p=Ag(s,i,!1),y=!1;continue}if(p===2){if(y=i,s.errorRecoveryDisabledLanes&y)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var S=s;p=au;var O=S.current.memoizedState.isDehydrated;if(O&&(ul(S,x).flags|=256),x=Ag(S,x,!1),x!==2){if(_g&&!O){S.errorRecoveryDisabledLanes|=y,Ua|=y,p=4;break e}y=Mn,Mn=p,y!==null&&(Mn===null?Mn=y:Mn.push.apply(Mn,y))}p=x}if(y=!1,p!==2)continue}}if(p===1){ul(s,0),Ri(s,i,0,!0);break}e:{switch(u=s,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ri(u,i,Kn,!Si);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(p=jd+300-wn(),10<p)){if(Ri(u,i,Kn,!Si),$r(u,0,!0)!==0)break e;Vs=i,u.timeoutHandle=K0(y0.bind(null,u,l,Mn,Od,xg,i,Kn,Ua,ll,Si,y,"Throttled",-0,0),p);break e}y0(u,l,Mn,Od,xg,i,Kn,Ua,ll,Si,y,null,-0,0)}}break}while(!0);ls(s)}function y0(s,i,l,u,p,y,x,S,O,G,ne,oe,Y,ee){if(s.timeoutHandle=-1,oe=i.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nr},c0(i,y,oe);var ge=(y&62914560)===y?jd-wn():(y&4194048)===y?f0-wn():0;if(ge=hC(oe,ge),ge!==null){Vs=y,s.cancelPendingCommit=ge(S0.bind(null,s,i,y,l,u,p,x,S,O,ne,oe,null,Y,ee)),Ri(s,y,x,!G);return}}S0(s,i,y,l,u,p,x,S,O)}function IR(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!Bn(y(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ri(s,i,l,u){i&=~bg,i&=~Ua,s.suspendedLanes|=i,s.pingedLanes&=~i,u&&(s.warmLanes|=i),u=s.expirationTimes;for(var p=i;0<p;){var y=31-jt(p),x=1<<y;u[y]=-1,p&=~x}l!==0&&pa(s,l,i)}function Pd(){return(tt&6)===0?(lu(0),!1):!0}function Sg(){if(Le!==null){if(st===0)var s=Le.return;else s=Le,As=Da=null,Fp(s),el=null,$c=0,s=Le;for(;s!==null;)Qx(s.alternate,s),s=s.return;Le=null}}function ul(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,KR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Vs=0,Sg(),mt=s,Le=l=Ts(s.current,null),Be=i,st=0,Gn=null,Si=!1,ol=Sr(s,i),_g=!1,ll=Kn=bg=Ua=Ai=Nt=0,Mn=au=null,xg=!1,(i&8)!==0&&(i|=i&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=i;0<u;){var p=31-jt(u),y=1<<p;i|=s[p],u&=~y}return Ms=i,nd(),l}function v0(s,i){Oe=null,W.H=Jc,i===Wo||i===ud?(i=Ob(),st=3):i===Rp?(i=Ob(),st=4):st=i===rg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Gn=i,Le===null&&(Nt=1,Td(s,or(i,s.current)))}function _0(){var s=$n.current;return s===null?!0:(Be&4194048)===Be?hr===null:(Be&62914560)===Be||(Be&536870912)!==0?s===hr:!1}function b0(){var s=W.H;return W.H=Jc,s===null?Jc:s}function x0(){var s=W.A;return W.A=SR,s}function Md(){Nt=4,Si||(Be&4194048)!==Be&&$n.current!==null||(ol=!0),(Ai&134217727)===0&&(Ua&134217727)===0||mt===null||Ri(mt,Be,Kn,!1)}function Ag(s,i,l){var u=tt;tt|=2;var p=b0(),y=x0();(mt!==s||Be!==i)&&(Od=null,ul(s,i)),i=!1;var x=Nt;e:do try{if(st!==0&&Le!==null){var S=Le,O=Gn;switch(st){case 8:Sg(),x=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(i=!0);var G=st;if(st=0,Gn=null,hl(s,S,O,G),l&&ol){x=0;break e}break;default:G=st,st=0,Gn=null,hl(s,S,O,G)}}NR(),x=Nt;break}catch(ne){v0(s,ne)}while(!0);return i&&s.shellSuspendCounter++,As=Da=null,tt=u,W.H=p,W.A=y,Le===null&&(mt=null,Be=0,nd()),x}function NR(){for(;Le!==null;)w0(Le)}function RR(s,i){var l=tt;tt|=2;var u=b0(),p=x0();mt!==s||Be!==i?(Od=null,kd=wn()+500,ul(s,i)):ol=Sr(s,i);e:do try{if(st!==0&&Le!==null){i=Le;var y=Gn;t:switch(st){case 1:st=0,Gn=null,hl(s,i,y,1);break;case 2:case 9:if(jb(y)){st=0,Gn=null,E0(i);break}i=function(){st!==2&&st!==9||mt!==s||(st=7),ls(s)},y.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:jb(y)?(st=0,Gn=null,E0(i)):(st=0,Gn=null,hl(s,i,y,7));break;case 5:var x=null;switch(Le.tag){case 26:x=Le.memoizedState;case 5:case 27:var S=Le;if(x?lw(x):S.stateNode.complete){st=0,Gn=null;var O=S.sibling;if(O!==null)Le=O;else{var G=S.return;G!==null?(Le=G,Vd(G)):Le=null}break t}}st=0,Gn=null,hl(s,i,y,5);break;case 6:st=0,Gn=null,hl(s,i,y,6);break;case 8:Sg(),Nt=6;break e;default:throw Error(r(462))}}CR();break}catch(ne){v0(s,ne)}while(!0);return As=Da=null,W.H=u,W.A=p,tt=l,Le!==null?0:(mt=null,Be=0,nd(),Nt)}function CR(){for(;Le!==null&&!np();)w0(Le)}function w0(s){var i=Gx(s.alternate,s,Ms);s.memoizedProps=s.pendingProps,i===null?Vd(s):Le=i}function E0(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=Ux(l,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=Ux(l,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Fp(i);default:Qx(l,i),i=Le=xb(i,Ms),i=Gx(l,i,Ms)}s.memoizedProps=s.pendingProps,i===null?Vd(s):Le=i}function hl(s,i,l,u){As=Da=null,Fp(i),el=null,$c=0;var p=i.return;try{if(vR(s,p,i,l,Be)){Nt=1,Td(s,or(l,s.current)),Le=null;return}}catch(y){if(p!==null)throw Le=p,y;Nt=1,Td(s,or(l,s.current)),Le=null;return}i.flags&32768?(Ke||u===1?s=!0:ol||(Be&536870912)!==0?s=!1:(Si=s=!0,(u===2||u===9||u===3||u===6)&&(u=$n.current,u!==null&&u.tag===13&&(u.flags|=16384))),T0(i,s)):Vd(i)}function Vd(s){var i=s;do{if((i.flags&32768)!==0){T0(i,Si);return}s=i.return;var l=xR(i.alternate,i,Ms);if(l!==null){Le=l;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=s}while(i!==null);Nt===0&&(Nt=5)}function T0(s,i){do{var l=wR(s.alternate,s);if(l!==null){l.flags&=32767,Le=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){Le=s;return}Le=s=l}while(s!==null);Nt=6,Le=null}function S0(s,i,l,u,p,y,x,S,O){s.cancelPendingCommit=null;do zd();while(Xt!==0);if((tt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(y=i.lanes|i.childLanes,y|=mp,ip(s,l,y,x,S,O),s===mt&&(Le=mt=null,Be=0),cl=i,Ni=s,Vs=l,wg=y,Eg=p,m0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,OR(ii,function(){return C0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,p=de.p,de.p=2,x=tt,tt|=4;try{ER(s,i,l)}finally{tt=x,de.p=p,W.T=u}}Xt=1,A0(),I0(),N0()}}function A0(){if(Xt===1){Xt=0;var s=Ni,i=cl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var u=de.p;de.p=2;var p=tt;tt|=4;try{a0(i,s);var y=zg,x=db(s.containerInfo),S=y.focusedElem,O=y.selectionRange;if(x!==S&&S&&S.ownerDocument&&hb(S.ownerDocument.documentElement,S)){if(O!==null&&cp(S)){var G=O.start,ne=O.end;if(ne===void 0&&(ne=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(ne,S.value.length);else{var oe=S.ownerDocument||document,Y=oe&&oe.defaultView||window;if(Y.getSelection){var ee=Y.getSelection(),ge=S.textContent.length,Ie=Math.min(O.start,ge),ft=O.end===void 0?Ie:Math.min(O.end,ge);!ee.extend&&Ie>ft&&(x=ft,ft=Ie,Ie=x);var F=ub(S,Ie),L=ub(S,ft);if(F&&L&&(ee.rangeCount!==1||ee.anchorNode!==F.node||ee.anchorOffset!==F.offset||ee.focusNode!==L.node||ee.focusOffset!==L.offset)){var H=oe.createRange();H.setStart(F.node,F.offset),ee.removeAllRanges(),Ie>ft?(ee.addRange(H),ee.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),ee.addRange(H))}}}}for(oe=[],ee=S;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var re=oe[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Yd=!!Vg,zg=Vg=null}finally{tt=p,de.p=u,W.T=l}}s.current=i,Xt=2}}function I0(){if(Xt===2){Xt=0;var s=Ni,i=cl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var u=de.p;de.p=2;var p=tt;tt|=4;try{t0(s,i.alternate,i)}finally{tt=p,de.p=u,W.T=l}}Xt=3}}function N0(){if(Xt===4||Xt===3){Xt=0,Nh();var s=Ni,i=cl,l=Vs,u=m0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Xt=5:(Xt=0,cl=Ni=null,R0(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Ii=null),bs(l),i=i.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Tr,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=W.T,p=de.p,de.p=2,W.T=null;try{for(var y=s.onRecoverableError,x=0;x<u.length;x++){var S=u[x];y(S.value,{componentStack:S.stack})}}finally{W.T=i,de.p=p}}(Vs&3)!==0&&zd(),ls(s),p=s.pendingLanes,(l&261930)!==0&&(p&42)!==0?s===Tg?ou++:(ou=0,Tg=s):ou=0,lu(0)}}function R0(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Bc(i)))}function zd(){return A0(),I0(),N0(),C0()}function C0(){if(Xt!==5)return!1;var s=Ni,i=wg;wg=0;var l=bs(Vs),u=W.T,p=de.p;try{de.p=32>l?32:l,W.T=null,l=Eg,Eg=null;var y=Ni,x=Vs;if(Xt=0,cl=Ni=null,Vs=0,(tt&6)!==0)throw Error(r(331));var S=tt;if(tt|=4,h0(y.current),l0(y,y.current,x,l),tt=S,lu(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Tr,y)}catch{}return!0}finally{de.p=p,W.T=u,R0(s,i)}}function D0(s,i,l){i=or(l,i),i=ng(s.stateNode,i,2),s=xi(s,i,2),s!==null&&(ma(s,2),ls(s))}function it(s,i,l){if(s.tag===3)D0(s,s,l);else for(;i!==null;){if(i.tag===3){D0(i,s,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ii===null||!Ii.has(u))){s=or(l,s),l=jx(2),u=xi(i,l,2),u!==null&&(kx(l,u,i,s),ma(u,2),ls(u));break}}i=i.return}}function Ig(s,i,l){var u=s.pingCache;if(u===null){u=s.pingCache=new AR;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(l)||(_g=!0,p.add(l),s=DR.bind(null,s,i,l),i.then(s,s))}function DR(s,i,l){var u=s.pingCache;u!==null&&u.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(Be&l)===l&&(Nt===4||Nt===3&&(Be&62914560)===Be&&300>wn()-jd?(tt&2)===0&&ul(s,0):bg|=l,ll===Be&&(ll=0)),ls(s)}function j0(s,i){i===0&&(i=Oh()),s=Na(s,i),s!==null&&(ma(s,i),ls(s))}function jR(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),j0(s,l)}function kR(s,i){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),j0(s,l)}function OR(s,i){return Yt(s,i)}var Ld=null,dl=null,Ng=!1,Ud=!1,Rg=!1,Ci=0;function ls(s){s!==dl&&s.next===null&&(dl===null?Ld=dl=s:dl=dl.next=s),Ud=!0,Ng||(Ng=!0,MR())}function lu(s,i){if(!Rg&&Ud){Rg=!0;do for(var l=!1,u=Ld;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var x=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-jt(42|s)+1)-1,y&=p&~(x&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,M0(u,y))}else y=Be,y=$r(u,u===mt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Sr(u,y)||(l=!0,M0(u,y));u=u.next}while(l);Rg=!1}}function PR(){k0()}function k0(){Ud=Ng=!1;var s=0;Ci!==0&&GR()&&(s=Ci);for(var i=wn(),l=null,u=Ld;u!==null;){var p=u.next,y=O0(u,i);y===0?(u.next=null,l===null?Ld=p:l.next=p,p===null&&(dl=l)):(l=u,(s!==0||(y&3)!==0)&&(Ud=!0)),u=p}Xt!==0&&Xt!==5||lu(s),Ci!==0&&(Ci=0)}function O0(s,i){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var x=31-jt(y),S=1<<x,O=p[x];O===-1?((S&l)===0||(S&u)!==0)&&(p[x]=sp(S,i)):O<=i&&(s.expiredLanes|=S),y&=~S}if(i=mt,l=Be,l=$r(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===i&&(st===2||st===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&si(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Sr(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(u!==null&&si(u),bs(l)){case 2:case 8:l=vc;break;case 32:l=ii;break;case 268435456:l=Rh;break;default:l=ii}return u=P0.bind(null,s),l=Yt(l,u),s.callbackPriority=i,s.callbackNode=l,i}return u!==null&&u!==null&&si(u),s.callbackPriority=2,s.callbackNode=null,2}function P0(s,i){if(Xt!==0&&Xt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(zd()&&s.callbackNode!==l)return null;var u=Be;return u=$r(s,s===mt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(g0(s,u,i),O0(s,wn()),s.callbackNode!=null&&s.callbackNode===l?P0.bind(null,s):null)}function M0(s,i){if(zd())return null;g0(s,i,!0)}function MR(){QR(function(){(tt&6)!==0?Yt(yc,PR):k0()})}function Cg(){if(Ci===0){var s=Xo;s===0&&(s=Br,Br<<=1,(Br&261888)===0&&(Br=256)),Ci=s}return Ci}function V0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Mo(""+s)}function z0(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function VR(s,i,l,u,p){if(i==="submit"&&l&&l.stateNode===p){var y=V0((p[nn]||null).action),x=u.submitter;x&&(i=(i=x[nn]||null)?V0(i.formAction):x.getAttribute("formAction"),i!==null&&(y=i,x=null));var S=new ts("action","action",null,u,p);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ci!==0){var O=x?z0(p,x):new FormData(p);Yp(l,{pending:!0,data:O,method:p.method,action:y},null,O)}}else typeof y=="function"&&(S.preventDefault(),O=x?z0(p,x):new FormData(p),Yp(l,{pending:!0,data:O,method:p.method,action:y},y,O))},currentTarget:p}]})}}for(var Dg=0;Dg<fp.length;Dg++){var jg=fp[Dg],zR=jg.toLowerCase(),LR=jg[0].toUpperCase()+jg.slice(1);kr(zR,"on"+LR)}kr(pb,"onAnimationEnd"),kr(gb,"onAnimationIteration"),kr(yb,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(tR,"onTransitionRun"),kr(nR,"onTransitionStart"),kr(rR,"onTransitionCancel"),kr(vb,"onTransitionEnd"),Xr("onMouseEnter",["mouseout","mouseover"]),Xr("onMouseLeave",["mouseout","mouseover"]),Xr("onPointerEnter",["pointerout","pointerover"]),Xr("onPointerLeave",["pointerout","pointerover"]),Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function L0(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var x=u.length-1;0<=x;x--){var S=u[x],O=S.instance,G=S.currentTarget;if(S=S.listener,O!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=G;try{y(p)}catch(ne){td(ne)}p.currentTarget=null,y=O}else for(x=0;x<u.length;x++){if(S=u[x],O=S.instance,G=S.currentTarget,S=S.listener,O!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=G;try{y(p)}catch(ne){td(ne)}p.currentTarget=null,y=O}}}}function Ue(s,i){var l=i[Do];l===void 0&&(l=i[Do]=new Set);var u=s+"__bubble";l.has(u)||(U0(i,s,2,!1),l.add(u))}function kg(s,i,l){var u=0;i&&(u|=4),U0(l,s,u,i)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function Og(s){if(!s[Fd]){s[Fd]=!0,xc.forEach(function(l){l!=="selectionchange"&&(UR.has(l)||kg(l,!1,s),kg(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Fd]||(i[Fd]=!0,kg("selectionchange",!1,i))}}function U0(s,i,l,u){switch(pw(i)){case 2:var p=mC;break;case 8:p=pC;break;default:p=Zg}l=p.bind(null,i,l,s),p=void 0,!ba||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function Pg(s,i,l,u,p){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===p)break;if(x===4)for(x=u.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;S!==null;){if(x=Qr(S),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){u=y=x;continue e}S=S.parentNode}}u=u.return}hi(function(){var G=y,ne=rr(l),oe=[];e:{var Y=_b.get(s);if(Y!==void 0){var ee=ts,ge=s;switch(s){case"keypress":if(wa(l)===0)break e;case"keydown":case"keyup":ee=Jh;break;case"focusin":ge="focus",ee=Ta;break;case"focusout":ge="blur",ee=Ta;break;case"beforeblur":case"afterblur":ee=Ta;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=b;break;case pb:case gb:case yb:ee=Hh;break;case vb:ee=I;break;case"scroll":case"scrollend":ee=kc;break;case"wheel":ee=J;break;case"copy":case"cut":case"paste":ee=Gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Es;break;case"toggle":case"beforetoggle":ee=ke}var Ie=(i&4)!==0,ft=!Ie&&(s==="scroll"||s==="scrollend"),F=Ie?Y!==null?Y+"Capture":null:Y;Ie=[];for(var L=G,H;L!==null;){var re=L;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||F===null||(re=Rr(L,F),re!=null&&Ie.push(uu(L,re,H))),ft)break;L=L.return}0<Ie.length&&(Y=new ee(Y,ge,null,l,ne),oe.push({event:Y,listeners:Ie}))}}if((i&7)===0){e:{if(Y=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",Y&&l!==Cc&&(ge=l.relatedTarget||l.fromElement)&&(Qr(ge)||ge[Gr]))break e;if((ee||Y)&&(Y=ne.window===ne?ne:(Y=ne.ownerDocument)?Y.defaultView||Y.parentWindow:window,ee?(ge=l.relatedTarget||l.toElement,ee=G,ge=ge?Qr(ge):null,ge!==null&&(ft=o(ge),Ie=ge.tag,ge!==ft||Ie!==5&&Ie!==27&&Ie!==6)&&(ge=null)):(ee=null,ge=G),ee!==ge)){if(Ie=Oc,re="onMouseLeave",F="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=Es,re="onPointerLeave",F="onPointerEnter",L="pointer"),ft=ee==null?Y:Un(ee),H=ge==null?Y:Un(ge),Y=new Ie(re,L+"leave",ee,l,ne),Y.target=ft,Y.relatedTarget=H,re=null,Qr(ne)===G&&(Ie=new Ie(F,L+"enter",ge,l,ne),Ie.target=H,Ie.relatedTarget=ft,re=Ie),ft=re,ee&&ge)t:{for(Ie=FR,F=ee,L=ge,H=0,re=F;re;re=Ie(re))H++;re=0;for(var Te=L;Te;Te=Ie(Te))re++;for(;0<H-re;)F=Ie(F),H--;for(;0<re-H;)L=Ie(L),re--;for(;H--;){if(F===L||L!==null&&F===L.alternate){Ie=F;break t}F=Ie(F),L=Ie(L)}Ie=null}else Ie=null;ee!==null&&F0(oe,Y,ee,Ie,!1),ge!==null&&ft!==null&&F0(oe,ft,ge,Ie,!0)}}e:{if(Y=G?Un(G):window,ee=Y.nodeName&&Y.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Y.type==="file")var Ye=sb;else if(nb(Y))if(ib)Ye=JN;else{Ye=YN;var be=ZN}else ee=Y.nodeName,!ee||ee.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Po(G.elementType)&&(Ye=sb):Ye=XN;if(Ye&&(Ye=Ye(s,G))){rb(oe,Ye,l,ne);break e}be&&be(s,Y,G),s==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&Ic(Y,"number",Y.value)}switch(be=G?Un(G):window,s){case"focusin":(nb(be)||be.contentEditable==="true")&&(qo=be,up=G,Lc=null);break;case"focusout":Lc=up=qo=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,fb(oe,l,ne);break;case"selectionchange":if(eR)break;case"keydown":case"keyup":fb(oe,l,ne)}var Pe;if(et)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Bo?Sa(s,l)&&(qe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(ss&&l.locale!=="ko"&&(Bo||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Bo&&(Pe=jc()):(es=ne,Dc="value"in es?es.value:es.textContent,Bo=!0)),be=Bd(G,qe),0<be.length&&(qe=new rs(qe,s,null,l,ne),oe.push({event:qe,listeners:be}),Pe?qe.data=Pe:(Pe=Fo(l),Pe!==null&&(qe.data=Pe)))),(Pe=ir?HN(s,l):GN(s,l))&&(qe=Bd(G,"onBeforeInput"),0<qe.length&&(be=new rs("onBeforeInput","beforeinput",null,l,ne),oe.push({event:be,listeners:qe}),be.data=Pe)),VR(oe,s,G,l,ne)}L0(oe,i)})}function uu(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Bd(s,i){for(var l=i+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Rr(s,l),p!=null&&u.unshift(uu(s,p,y)),p=Rr(s,i),p!=null&&u.push(uu(s,p,y))),s.tag===3)return u;s=s.return}return[]}function FR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function F0(s,i,l,u,p){for(var y=i._reactName,x=[];l!==null&&l!==u;){var S=l,O=S.alternate,G=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||G===null||(O=G,p?(G=Rr(l,y),G!=null&&x.unshift(uu(l,G,O))):p||(G=Rr(l,y),G!=null&&x.push(uu(l,G,O)))),l=l.return}x.length!==0&&s.push({event:i,listeners:x})}var BR=/\r\n?/g,qR=/\u0000|\uFFFD/g;function B0(s){return(typeof s=="string"?s:""+s).replace(BR,`
`).replace(qR,"")}function q0(s,i){return i=B0(i),B0(s)===i}function dt(s,i,l,u,p,y){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||jn(s,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&jn(s,""+u);break;case"className":Fn(s,"class",u);break;case"tabIndex":Fn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(s,l,u);break;case"style":Rc(s,u,y);break;case"data":if(i!=="object"){Fn(s,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Mo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&dt(s,i,"name",p.name,p,null),dt(s,i,"formEncType",p.formEncType,p,null),dt(s,i,"formMethod",p.formMethod,p,null),dt(s,i,"formTarget",p.formTarget,p,null)):(dt(s,i,"encType",p.encType,p,null),dt(s,i,"method",p.method,p,null),dt(s,i,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Mo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Nr);break;case"onScroll":u!=null&&Ue("scroll",s);break;case"onScrollEnd":u!=null&&Ue("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Mo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Ue("beforetoggle",s),Ue("toggle",s),ko(s,"popover",u);break;case"xlinkActuate":Bt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ko(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Bh.get(l)||l,ko(s,l,u))}}function Mg(s,i,l,u,p,y){switch(l){case"style":Rc(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof u=="string"?jn(s,u):(typeof u=="number"||typeof u=="bigint")&&jn(s,""+u);break;case"onScroll":u!=null&&Ue("scroll",s);break;case"onScrollEnd":u!=null&&Ue("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),y=s[nn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(i,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,u,p);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):ko(s,l,u)}}}function fn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",s),Ue("load",s);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var x=l[y];if(x!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(s,i,y,x,l,null)}}p&&dt(s,i,"srcSet",l.srcSet,l,null),u&&dt(s,i,"src",l.src,l,null);return;case"input":Ue("invalid",s);var S=y=x=p=null,O=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var ne=l[u];if(ne!=null)switch(u){case"name":p=ne;break;case"type":x=ne;break;case"checked":O=ne;break;case"defaultChecked":G=ne;break;case"value":y=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:dt(s,i,u,ne,l,null)}}Lh(s,y,S,O,G,x,p,!1);return;case"select":Ue("invalid",s),u=x=y=null;for(p in l)if(l.hasOwnProperty(p)&&(S=l[p],S!=null))switch(p){case"value":y=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:dt(s,i,p,S,l,null)}i=y,l=x,s.multiple=!!u,i!=null?oi(s,!!u,i,!1):l!=null&&oi(s,!!u,l,!0);return;case"textarea":Ue("invalid",s),y=p=u=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":p=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:dt(s,i,x,S,l,null)}li(s,u,p,y);return;case"option":for(O in l)l.hasOwnProperty(O)&&(u=l[O],u!=null)&&(O==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":dt(s,i,O,u,l,null));return;case"dialog":Ue("beforetoggle",s),Ue("toggle",s),Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":Ue("load",s);break;case"video":case"audio":for(u=0;u<cu.length;u++)Ue(cu[u],s);break;case"image":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"embed":case"source":case"link":Ue("error",s),Ue("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(s,i,G,u,l,null)}return;default:if(Po(i)){for(ne in l)l.hasOwnProperty(ne)&&(u=l[ne],u!==void 0&&Mg(s,i,ne,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&dt(s,i,S,u,l,null))}function $R(s,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,x=null,S=null,O=null,G=null,ne=null;for(ee in l){var oe=l[ee];if(l.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":O=oe;default:u.hasOwnProperty(ee)||dt(s,i,ee,null,u,oe)}}for(var Y in u){var ee=u[Y];if(oe=l[Y],u.hasOwnProperty(Y)&&(ee!=null||oe!=null))switch(Y){case"type":y=ee;break;case"name":p=ee;break;case"checked":G=ee;break;case"defaultChecked":ne=ee;break;case"value":x=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:ee!==oe&&dt(s,i,Y,ee,u,oe)}}Oo(s,x,S,O,G,ne,y,p);return;case"select":ee=x=S=Y=null;for(y in l)if(O=l[y],l.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":ee=O;default:u.hasOwnProperty(y)||dt(s,i,y,null,u,O)}for(p in u)if(y=u[p],O=l[p],u.hasOwnProperty(p)&&(y!=null||O!=null))switch(p){case"value":Y=y;break;case"defaultValue":S=y;break;case"multiple":x=y;default:y!==O&&dt(s,i,p,y,u,O)}i=S,l=x,u=ee,Y!=null?oi(s,!!l,Y,!1):!!u!=!!l&&(i!=null?oi(s,!!l,i,!0):oi(s,!!l,l?[]:"",!1));return;case"textarea":ee=Y=null;for(S in l)if(p=l[S],l.hasOwnProperty(S)&&p!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:dt(s,i,S,null,u,p)}for(x in u)if(p=u[x],y=l[x],u.hasOwnProperty(x)&&(p!=null||y!=null))switch(x){case"value":Y=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&dt(s,i,x,p,u,y)}Uh(s,Y,ee);return;case"option":for(var ge in l)Y=l[ge],l.hasOwnProperty(ge)&&Y!=null&&!u.hasOwnProperty(ge)&&(ge==="selected"?s.selected=!1:dt(s,i,ge,null,u,Y));for(O in u)Y=u[O],ee=l[O],u.hasOwnProperty(O)&&Y!==ee&&(Y!=null||ee!=null)&&(O==="selected"?s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":dt(s,i,O,Y,u,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in l)Y=l[Ie],l.hasOwnProperty(Ie)&&Y!=null&&!u.hasOwnProperty(Ie)&&dt(s,i,Ie,null,u,Y);for(G in u)if(Y=u[G],ee=l[G],u.hasOwnProperty(G)&&Y!==ee&&(Y!=null||ee!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:dt(s,i,G,Y,u,ee)}return;default:if(Po(i)){for(var ft in l)Y=l[ft],l.hasOwnProperty(ft)&&Y!==void 0&&!u.hasOwnProperty(ft)&&Mg(s,i,ft,void 0,u,Y);for(ne in u)Y=u[ne],ee=l[ne],!u.hasOwnProperty(ne)||Y===ee||Y===void 0&&ee===void 0||Mg(s,i,ne,Y,u,ee);return}}for(var F in l)Y=l[F],l.hasOwnProperty(F)&&Y!=null&&!u.hasOwnProperty(F)&&dt(s,i,F,null,u,Y);for(oe in u)Y=u[oe],ee=l[oe],!u.hasOwnProperty(oe)||Y===ee||Y==null&&ee==null||dt(s,i,oe,Y,u,ee)}function $0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],y=p.transferSize,x=p.initiatorType,S=p.duration;if(y&&S&&$0(x)){for(x=0,S=p.responseEnd,u+=1;u<l.length;u++){var O=l[u],G=O.startTime;if(G>S)break;var ne=O.transferSize,oe=O.initiatorType;ne&&$0(oe)&&(O=O.responseEnd,x+=ne*(O<S?1:(S-G)/(O-G)))}if(--u,i+=8*(y+x)/(p.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Vg=null,zg=null;function qd(s){return s.nodeType===9?s:s.ownerDocument}function H0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G0(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Lg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ug=null;function GR(){var s=window.event;return s&&s.type==="popstate"?s===Ug?!1:(Ug=s,!0):(Ug=null,!1)}var K0=typeof setTimeout=="function"?setTimeout:void 0,KR=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,QR=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(s){return Q0.resolve(null).then(s).catch(ZR)}:K0;function ZR(s){setTimeout(function(){throw s})}function Di(s){return s==="head"}function Z0(s,i){var l=i,u=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(p),gl(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")hu(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,hu(l);for(var y=l.firstChild;y;){var x=y.nextSibling,S=y.nodeName;y[Kr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=x}}else l==="body"&&hu(s.ownerDocument.body);l=p}while(l);gl(i)}function Y0(s,i){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function Fg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Fg(l),jo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function YR(s,i,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Kr])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=dr(s.nextSibling),s===null)break}return null}function XR(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=dr(s.nextSibling),s===null))return null;return s}function X0(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=dr(s.nextSibling),s===null))return null;return s}function Bg(s){return s.data==="$?"||s.data==="$~"}function qg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function JR(s,i){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function dr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var $g=null;function J0(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(i===0)return dr(s.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}s=s.nextSibling}return null}function W0(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return s;i--}else l!=="/$"&&l!=="/&"||i++}s=s.previousSibling}return null}function ew(s,i,l){switch(i=qd(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function hu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);jo(s)}var fr=new Map,tw=new Set;function $d(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var zs=de.d;de.d={f:WR,r:eC,D:tC,C:nC,L:rC,m:sC,X:aC,S:iC,M:oC};function WR(){var s=zs.f(),i=Pd();return s||i}function eC(s){var i=nr(s);i!==null&&i.tag===5&&i.type==="form"?vx(i):zs.r(s)}var fl=typeof document>"u"?null:document;function nw(s,i,l){var u=fl;if(u&&typeof i=="string"&&i){var p=Dn(i);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),tw.has(p)||(tw.add(p),s={rel:s,crossOrigin:l,href:i},u.querySelector(p)===null&&(i=u.createElement("link"),fn(i,"link",s),Ft(i),u.head.appendChild(i)))}}function tC(s){zs.D(s),nw("dns-prefetch",s,null)}function nC(s,i){zs.C(s,i),nw("preconnect",s,i)}function rC(s,i,l){zs.L(s,i,l);var u=fl;if(u&&s&&i){var p='link[rel="preload"][as="'+Dn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Dn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Dn(l.imageSizes)+'"]')):p+='[href="'+Dn(s)+'"]';var y=p;switch(i){case"style":y=ml(s);break;case"script":y=pl(s)}fr.has(y)||(s=_({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),fr.set(y,s),u.querySelector(p)!==null||i==="style"&&u.querySelector(du(y))||i==="script"&&u.querySelector(fu(y))||(i=u.createElement("link"),fn(i,"link",s),Ft(i),u.head.appendChild(i)))}}function sC(s,i){zs.m(s,i);var l=fl;if(l&&s){var u=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Dn(u)+'"][href="'+Dn(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=pl(s)}if(!fr.has(y)&&(s=_({rel:"modulepreload",href:s},i),fr.set(y,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fu(y)))return}u=l.createElement("link"),fn(u,"link",s),Ft(u),l.head.appendChild(u)}}}function iC(s,i,l){zs.S(s,i,l);var u=fl;if(u&&s){var p=Zr(u).hoistableStyles,y=ml(s);i=i||"default";var x=p.get(y);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(du(y)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":i},l),(l=fr.get(y))&&Hg(s,l);var O=x=u.createElement("link");Ft(O),fn(O,"link",s),O._p=new Promise(function(G,ne){O.onload=G,O.onerror=ne}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Hd(x,i,u)}x={type:"stylesheet",instance:x,count:1,state:S},p.set(y,x)}}}function aC(s,i){zs.X(s,i);var l=fl;if(l&&s){var u=Zr(l).hoistableScripts,p=pl(s),y=u.get(p);y||(y=l.querySelector(fu(p)),y||(s=_({src:s,async:!0},i),(i=fr.get(p))&&Gg(s,i),y=l.createElement("script"),Ft(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function oC(s,i){zs.M(s,i);var l=fl;if(l&&s){var u=Zr(l).hoistableScripts,p=pl(s),y=u.get(p);y||(y=l.querySelector(fu(p)),y||(s=_({src:s,async:!0,type:"module"},i),(i=fr.get(p))&&Gg(s,i),y=l.createElement("script"),Ft(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function rw(s,i,l,u){var p=(p=Ne.current)?$d(p):null;if(!p)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=ml(l.href),l=Zr(p).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=ml(l.href);var y=Zr(p).hoistableStyles,x=y.get(s);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,x),(y=p.querySelector(du(s)))&&!y._p&&(x.instance=y,x.state.loading=5),fr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},fr.set(s,l),y||lC(p,s,l,x.state))),i&&u===null)throw Error(r(528,""));return x}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=pl(l),l=Zr(p).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ml(s){return'href="'+Dn(s)+'"'}function du(s){return'link[rel="stylesheet"]['+s+"]"}function sw(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function lC(s,i,l,u){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=s.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),fn(i,"link",l),Ft(i),s.head.appendChild(i))}function pl(s){return'[src="'+Dn(s)+'"]'}function fu(s){return"script[async]"+s}function iw(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=s.querySelector('style[data-href~="'+Dn(l.href)+'"]');if(u)return i.instance=u,Ft(u),u;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ft(u),fn(u,"style",p),Hd(u,l.precedence,s),i.instance=u;case"stylesheet":p=ml(l.href);var y=s.querySelector(du(p));if(y)return i.state.loading|=4,i.instance=y,Ft(y),y;u=sw(l),(p=fr.get(p))&&Hg(u,p),y=(s.ownerDocument||s).createElement("link"),Ft(y);var x=y;return x._p=new Promise(function(S,O){x.onload=S,x.onerror=O}),fn(y,"link",u),i.state.loading|=4,Hd(y,l.precedence,s),i.instance=y;case"script":return y=pl(l.src),(p=s.querySelector(fu(y)))?(i.instance=p,Ft(p),p):(u=l,(p=fr.get(y))&&(u=_({},l),Gg(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Ft(p),fn(p,"link",u),s.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Hd(u,l.precedence,s));return i.instance}function Hd(s,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===i)y=S;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Hg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Gg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Gd=null;function aw(s,i,l){if(Gd===null){var u=new Map,p=Gd=new Map;p.set(l,u)}else p=Gd,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var y=l[p];if(!(y[Kr]||y[Ut]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(i)||"";x=s+x;var S=u.get(x);S?S.push(y):u.set(x,[y])}}return u}function ow(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function cC(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(s=i.disabled,typeof i.precedence=="string"&&s==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function lw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function uC(s,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=ml(u.href),y=i.querySelector(du(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=Kd.bind(s),i.then(s,s)),l.state.loading|=4,l.instance=y,Ft(y);return}y=i.ownerDocument||i,u=sw(u),(p=fr.get(p))&&Hg(u,p),y=y.createElement("link"),Ft(y);var x=y;x._p=new Promise(function(S,O){x.onload=S,x.onerror=O}),fn(y,"link",u),l.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Kd.bind(s),i.addEventListener("load",l),i.addEventListener("error",l))}}var Kg=0;function hC(s,i){return s.stylesheets&&s.count===0&&Zd(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Zd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+i);0<s.imgBytes&&Kg===0&&(Kg=62500*HR());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Zd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Kg?50:800)+i);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qd=null;function Zd(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qd=new Map,i.forEach(dC,s),Qd=null,Kd.call(s))}function dC(s,i){if(!(i.state.loading&4)){var l=Qd.get(s);if(l)var u=l.get(null);else{l=new Map,Qd.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var x=p[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}p=i.instance,x=p.getAttribute("data-precedence"),y=l.get(x)||u,y===u&&l.set(null,p),l.set(x,p),this.count++,u=Kd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),i.state.loading|=4}}var mu={$$typeof:K,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function fC(s,i,l,u,p,y,x,S,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function cw(s,i,l,u,p,y,x,S,O,G,ne,oe){return s=new fC(s,i,l,x,O,G,ne,oe,S),i=1,y===!0&&(i|=24),y=qn(3,null,null,i),s.current=y,y.stateNode=s,i=Ap(),i.refCount++,s.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:i},Cp(y),s}function uw(s){return s?(s=Go,s):Go}function hw(s,i,l,u,p,y){p=uw(p),u.context===null?u.context=p:u.pendingContext=p,u=bi(i),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=xi(s,u,i),l!==null&&(Vn(l,s,i),Gc(l,s,i))}function dw(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Qg(s,i){dw(s,i),(s=s.alternate)&&dw(s,i)}function fw(s){if(s.tag===13||s.tag===31){var i=Na(s,67108864);i!==null&&Vn(i,s,67108864),Qg(s,67108864)}}function mw(s){if(s.tag===13||s.tag===31){var i=Qn();i=ga(i);var l=Na(s,i);l!==null&&Vn(l,s,i),Qg(s,i)}}var Yd=!0;function mC(s,i,l,u){var p=W.T;W.T=null;var y=de.p;try{de.p=2,Zg(s,i,l,u)}finally{de.p=y,W.T=p}}function pC(s,i,l,u){var p=W.T;W.T=null;var y=de.p;try{de.p=8,Zg(s,i,l,u)}finally{de.p=y,W.T=p}}function Zg(s,i,l,u){if(Yd){var p=Yg(u);if(p===null)Pg(s,i,u,Xd,l),gw(s,u);else if(yC(p,s,i,l,u))u.stopPropagation();else if(gw(s,u),i&4&&-1<gC.indexOf(s)){for(;p!==null;){var y=nr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=qr(y.pendingLanes);if(x!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var O=1<<31-jt(x);S.entanglements[1]|=O,x&=~O}ls(y),(tt&6)===0&&(kd=wn()+500,lu(0))}}break;case 31:case 13:S=Na(y,2),S!==null&&Vn(S,y,2),Pd(),Qg(y,2)}if(y=Yg(u),y===null&&Pg(s,i,u,Xd,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else Pg(s,i,u,null,l)}}function Yg(s){return s=rr(s),Xg(s)}var Xd=null;function Xg(s){if(Xd=null,s=Qr(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=c(i),s!==null)return s;s=null}else if(l===31){if(s=h(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Xd=s,null}function pw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(da()){case yc:return 2;case vc:return 8;case ii:case rp:return 32;case Rh:return 268435456;default:return 32}default:return 32}}var Jg=!1,ji=null,ki=null,Oi=null,pu=new Map,gu=new Map,Pi=[],gC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gw(s,i){switch(s){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":pu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(i.pointerId)}}function yu(s,i,l,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},i!==null&&(i=nr(i),i!==null&&fw(i)),s):(s.eventSystemFlags|=u,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function yC(s,i,l,u,p){switch(i){case"focusin":return ji=yu(ji,s,i,l,u,p),!0;case"dragenter":return ki=yu(ki,s,i,l,u,p),!0;case"mouseover":return Oi=yu(Oi,s,i,l,u,p),!0;case"pointerover":var y=p.pointerId;return pu.set(y,yu(pu.get(y)||null,s,i,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,gu.set(y,yu(gu.get(y)||null,s,i,l,u,p)),!0}return!1}function yw(s){var i=Qr(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){s.blockedOn=i,Ar(s.priority,function(){mw(l)});return}}else if(i===31){if(i=h(l),i!==null){s.blockedOn=i,Ar(s.priority,function(){mw(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jd(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Yg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Cc=u,l.target.dispatchEvent(u),Cc=null}else return i=nr(l),i!==null&&fw(i),s.blockedOn=l,!1;i.shift()}return!0}function vw(s,i,l){Jd(s)&&l.delete(i)}function vC(){Jg=!1,ji!==null&&Jd(ji)&&(ji=null),ki!==null&&Jd(ki)&&(ki=null),Oi!==null&&Jd(Oi)&&(Oi=null),pu.forEach(vw),gu.forEach(vw)}function Wd(s,i){s.blockedOn===i&&(s.blockedOn=null,Jg||(Jg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vC)))}var ef=null;function _w(s){ef!==s&&(ef=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ef===s&&(ef=null);for(var i=0;i<s.length;i+=3){var l=s[i],u=s[i+1],p=s[i+2];if(typeof u!="function"){if(Xg(u||l)===null)continue;break}var y=nr(l);y!==null&&(s.splice(i,3),i-=3,Yp(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function gl(s){function i(O){return Wd(O,s)}ji!==null&&Wd(ji,s),ki!==null&&Wd(ki,s),Oi!==null&&Wd(Oi,s),pu.forEach(i),gu.forEach(i);for(var l=0;l<Pi.length;l++){var u=Pi[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Pi.length&&(l=Pi[0],l.blockedOn===null);)yw(l),l.blockedOn===null&&Pi.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],x=p[nn]||null;if(typeof y=="function")x||_w(l);else if(x){var S=null;if(y&&y.hasAttribute("formAction")){if(p=y,x=y[nn]||null)S=x.formAction;else if(Xg(p)!==null)continue}else S=x.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),_w(l)}}}function bw(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Wg(s){this._internalRoot=s}tf.prototype.render=Wg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,u=Qn();hw(l,u,s,i,null,null)},tf.prototype.unmount=Wg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;hw(s.current,2,null,s,null,null),Pd(),i[Gr]=null}};function tf(s){this._internalRoot=s}tf.prototype.unstable_scheduleHydration=function(s){if(s){var i=Ph();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Pi.length&&i!==0&&i<Pi[l].priority;l++);Pi.splice(l,0,s),l===0&&yw(s)}};var xw=e.version;if(xw!=="19.2.3")throw Error(r(527,xw,"19.2.3"));de.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=g(i),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var _C={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{Tr=nf.inject(_C),ln=nf}catch{}}return _u.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,u="",p=Nx,y=Rx,x=Cx;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=cw(s,1,!1,null,null,l,u,null,p,y,x,bw),s[Gr]=i.current,Og(s),new Wg(i)},_u.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var u=!1,p="",y=Nx,x=Rx,S=Cx,O=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),i=cw(s,1,!0,i,l??null,u,p,O,y,x,S,bw),i.context=uw(null),l=i.current,u=Qn(),u=ga(u),p=bi(u),p.callback=null,xi(l,p,u),l=u,i.current.lanes=l,ma(i,l),ls(i),s[Gr]=i.current,Og(s),new tf(i)},_u.version="19.2.3",_u}var Dw;function CC(){if(Dw)return ny.exports;Dw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ny.exports=RC(),ny.exports}var DC=CC();var jw="popstate";function jC(t={}){function e(a,o){let{pathname:c="/",search:h="",hash:d=""}=To(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Iy("",{pathname:c,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let d=a.location.href,g=d.indexOf("#");h=g===-1?d:d.slice(0,g)}return h+"#"+(typeof o=="string"?o:Bu(o))}function r(a,o){br(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return OC(e,n,r,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kC(){return Math.random().toString(36).substring(2,10)}function kw(t,e){return{usr:t.state,key:t.key,idx:e}}function Iy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:n,key:e&&e.key||r||kC()}}function Bu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function To(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function OC(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,h="POP",d=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function _(){h="POP";let P=v(),Z=P==null?null:P-g;g=P,d&&d({action:h,location:j.location,delta:Z})}function E(P,Z){h="PUSH";let X=Iy(j.location,P,Z);n&&n(X,P),g=v()+1;let K=kw(X,g),le=j.createHref(X);try{c.pushState(K,"",le)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(le)}o&&d&&d({action:h,location:j.location,delta:1})}function T(P,Z){h="REPLACE";let X=Iy(j.location,P,Z);n&&n(X,P),g=v();let K=kw(X,g),le=j.createHref(X);c.replaceState(K,"",le),o&&d&&d({action:h,location:j.location,delta:0})}function D(P){return PC(P)}let j={get action(){return h},get location(){return t(a,c)},listen(P){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(jw,_),d=P,()=>{a.removeEventListener(jw,_),d=null}},createHref(P){return e(a,P)},createURL:D,encodeLocation(P){let Z=D(P);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:E,replace:T,go(P){return c.go(P)}};return j}function PC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Bu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function DT(t,e,n="/"){return MC(t,e,n,!1)}function MC(t,e,n,r){let a=typeof e=="string"?To(e):e,o=Ks(a.pathname||"/",n);if(o==null)return null;let c=jT(t);VC(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let g=QC(o);h=GC(c[d],g,r)}return h}function jT(t,e=[],n=[],r="",a=!1){let o=(c,h,d=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&d)return;Tt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=Gs([r,v.relativePath]),E=n.concat(v);c.children&&c.children.length>0&&(Tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),jT(c.children,e,E,_,d)),!(c.path==null&&!c.index)&&e.push({path:_,score:$C(_,c.index),routesMeta:E})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let d of kT(c.path))o(c,h,!0,d)}),e}function kT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=kT(r.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function VC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var zC=/^:[\w-]+$/,LC=3,UC=2,FC=1,BC=10,qC=-2,Ow=t=>t==="*";function $C(t,e){let n=t.split("/"),r=n.length;return n.some(Ow)&&(r+=qC),e&&(r+=UC),n.filter(a=>!Ow(a)).reduce((a,o)=>a+(zC.test(o)?LC:o===""?FC:BC),r)}function HC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function GC(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],g=h===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",_=Ff({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},v),E=d.route;if(!_&&g&&n&&!r[r.length-1].route.index&&(_=Ff({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Gs([o,_.pathname]),pathnameBase:JC(Gs([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=Gs([o,_.pathnameBase]))}return c}function Ff(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:_},E)=>{if(v==="*"){let D=h[E]||"";c=o.slice(0,o.length-D.length).replace(/(.)\/+$/,"$1")}const T=h[E];return _&&!T?g[v]=void 0:g[v]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:t}}function KC(t,e=!1,n=!0){br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function QC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ks(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var OT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZC=t=>OT.test(t);function YC(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?To(t):t,o;if(n)if(ZC(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),br(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?o=Pw(n.substring(1),"/"):o=Pw(n,e)}else o=e;return{pathname:o,search:WC(r),hash:eD(a)}}function Pw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ay(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PT(t){let e=XC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function MT(t,e,n,r=!1){let a;typeof t=="string"?a=To(t):(a={...t},Tt(!a.pathname||!a.pathname.includes("?"),ay("?","pathname","search",a)),Tt(!a.pathname||!a.pathname.includes("#"),ay("#","pathname","hash",a)),Tt(!a.search||!a.search.includes("#"),ay("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let d=YC(a,h),g=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||v)&&(d.pathname+="/"),d}var Gs=t=>t.join("/").replace(/\/\/+/g,"/"),JC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,tD=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function nD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function rD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var VT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zT(t,e){let n=t;if(typeof n!="string"||!OT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(VT)try{let o=new URL(window.location.href),c=n.startsWith("//")?new URL(o.protocol+n):new URL(n),h=Ks(c.pathname,e);c.origin===o.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{br(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LT=["POST","PUT","PATCH","DELETE"];new Set(LT);var sD=["GET",...LT];new Set(sD);var ec=M.createContext(null);ec.displayName="DataRouter";var Tm=M.createContext(null);Tm.displayName="DataRouterState";var iD=M.createContext(!1),UT=M.createContext({isTransitioning:!1});UT.displayName="ViewTransition";var aD=M.createContext(new Map);aD.displayName="Fetchers";var oD=M.createContext(null);oD.displayName="Await";var xr=M.createContext(null);xr.displayName="Navigation";var ch=M.createContext(null);ch.displayName="Location";var _s=M.createContext({outlet:null,matches:[],isDataRoute:!1});_s.displayName="Route";var bv=M.createContext(null);bv.displayName="RouteError";var FT="REACT_ROUTER_ERROR",lD="REDIRECT",cD="ROUTE_ERROR_RESPONSE";function uD(t){if(t.startsWith(`${FT}:${lD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function hD(t){if(t.startsWith(`${FT}:${cD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new tD(e.status,e.statusText,e.data)}catch{}}function dD(t,{relative:e}={}){Tt(uh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(xr),{hash:a,pathname:o,search:c}=hh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Gs([n,o])),r.createHref({pathname:h,search:c,hash:a})}function uh(){return M.useContext(ch)!=null}function Ws(){return Tt(uh(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(ch).location}var BT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qT(t){M.useContext(xr).static||M.useLayoutEffect(t)}function $T(){let{isDataRoute:t}=M.useContext(_s);return t?SD():fD()}function fD(){Tt(uh(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(ec),{basename:e,navigator:n}=M.useContext(xr),{matches:r}=M.useContext(_s),{pathname:a}=Ws(),o=JSON.stringify(PT(r)),c=M.useRef(!1);return qT(()=>{c.current=!0}),M.useCallback((d,g={})=>{if(br(c.current,BT),!c.current)return;if(typeof d=="number"){n.go(d);return}let v=MT(d,JSON.parse(o),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Gs([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,o,a,t])}M.createContext(null);function HT(){let{matches:t}=M.useContext(_s),e=t[t.length-1];return e?e.params:{}}function hh(t,{relative:e}={}){let{matches:n}=M.useContext(_s),{pathname:r}=Ws(),a=JSON.stringify(PT(n));return M.useMemo(()=>MT(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function mD(t,e){return GT(t,e)}function GT(t,e,n,r,a){Tt(uh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(xr),{matches:c}=M.useContext(_s),h=c[c.length-1],d=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let X=_&&_.path||"";QT(g,!_||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let E=Ws(),T;if(e){let X=typeof e=="string"?To(e):e;Tt(v==="/"||X.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${X.pathname}" was given in the \`location\` prop.`),T=X}else T=E;let D=T.pathname||"/",j=D;if(v!=="/"){let X=v.replace(/^\//,"").split("/");j="/"+D.replace(/^\//,"").split("/").slice(X.length).join("/")}let P=DT(t,{pathname:j});br(_||P!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),br(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=_D(P&&P.map(X=>Object.assign({},X,{params:Object.assign({},d,X.params),pathname:Gs([v,o.encodeLocation?o.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?v:Gs([v,o.encodeLocation?o.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),c,n,r,a);return e&&Z?M.createElement(ch.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},Z):Z}function pD(){let t=TD(),e=nD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,c)}var gD=M.createElement(pD,null),KT=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=hD(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(_s.Provider,{value:this.props.routeContext},M.createElement(bv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(yD,{error:t},e):e}};KT.contextType=iD;var oy=new WeakMap;function yD({children:t,error:e}){let{basename:n}=M.useContext(xr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=uD(e.digest);if(r){let a=oy.get(e);if(a)throw a;let o=zT(r.location,n);if(VT&&!oy.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw oy.set(e,c),c}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function vD({routeContext:t,match:e,children:n}){let r=M.useContext(ec);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(_s.Provider,{value:t},n)}function _D(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let v=o.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);Tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let h=!1,d=-1;if(n)for(let v=0;v<o.length;v++){let _=o[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=v),_.route.id){let{loaderData:E,errors:T}=n,D=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||D){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let g=n&&r?(v,_)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:rD(n.matches),errorInfo:_})}:void 0;return o.reduceRight((v,_,E)=>{let T,D=!1,j=null,P=null;n&&(T=c&&_.route.id?c[_.route.id]:void 0,j=_.route.errorElement||gD,h&&(d<0&&E===0?(QT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,P=null):d===E&&(D=!0,P=_.route.hydrateFallbackElement||null)));let Z=e.concat(o.slice(0,E+1)),X=()=>{let K;return T?K=j:D?K=P:_.route.Component?K=M.createElement(_.route.Component,null):_.route.element?K=_.route.element:K=v,M.createElement(vD,{match:_,routeContext:{outlet:v,matches:Z,isDataRoute:n!=null},children:K})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?M.createElement(KT,{location:n.location,revalidation:n.revalidation,component:j,error:T,children:X(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:g}):X()},null)}function xv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bD(t){let e=M.useContext(ec);return Tt(e,xv(t)),e}function xD(t){let e=M.useContext(Tm);return Tt(e,xv(t)),e}function wD(t){let e=M.useContext(_s);return Tt(e,xv(t)),e}function wv(t){let e=wD(t),n=e.matches[e.matches.length-1];return Tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ED(){return wv("useRouteId")}function TD(){let t=M.useContext(bv),e=xD("useRouteError"),n=wv("useRouteError");return t!==void 0?t:e.errors?.[n]}function SD(){let{router:t}=bD("useNavigate"),e=wv("useNavigate"),n=M.useRef(!1);return qT(()=>{n.current=!0}),M.useCallback(async(a,o={})=>{br(n.current,BT),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var Mw={};function QT(t,e,n){!e&&!Mw[t]&&(Mw[t]=!0,br(!1,n))}M.memo(AD);function AD({routes:t,future:e,state:n,onError:r}){return GT(t,void 0,n,r,e)}function Us(t){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ID({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){Tt(!uh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[h,a,o,c]);typeof n=="string"&&(n=To(n));let{pathname:g="/",search:v="",hash:_="",state:E=null,key:T="default"}=n,D=M.useMemo(()=>{let j=Ks(g,h);return j==null?null:{location:{pathname:j,search:v,hash:_,state:E,key:T},navigationType:r}},[h,g,v,_,E,T,r]);return br(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:M.createElement(xr.Provider,{value:d},M.createElement(ch.Provider,{children:e,value:D}))}function ND({children:t,location:e}){return mD(Ny(t),e)}function Ny(t,e=[]){let n=[];return M.Children.forEach(t,(r,a)=>{if(!M.isValidElement(r))return;let o=[...e,a];if(r.type===M.Fragment){n.push.apply(n,Ny(r.props.children,o));return}Tt(r.type===Us,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Ny(r.props.children,o)),n.push(c)}),n}var _f="get",bf="application/x-www-form-urlencoded";function Sm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function RD(t){return Sm(t)&&t.tagName.toLowerCase()==="button"}function CD(t){return Sm(t)&&t.tagName.toLowerCase()==="form"}function DD(t){return Sm(t)&&t.tagName.toLowerCase()==="input"}function jD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kD(t,e){return t.button===0&&(!e||e==="_self")&&!jD(t)}var rf=null;function OD(){if(rf===null)try{new FormData(document.createElement("form"),0),rf=!1}catch{rf=!0}return rf}var PD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ly(t){return t!=null&&!PD.has(t)?(br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bf}"`),null):t}function MD(t,e){let n,r,a,o,c;if(CD(t)){let h=t.getAttribute("action");r=h?Ks(h,e):null,n=t.getAttribute("method")||_f,a=ly(t.getAttribute("enctype"))||bf,o=new FormData(t)}else if(RD(t)||DD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Ks(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||_f,a=ly(t.getAttribute("formenctype"))||ly(h.getAttribute("enctype"))||bf,o=new FormData(h,t),!OD()){let{name:g,type:v,value:_}=t;if(v==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,_)}}else{if(Sm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_f,r=null,a=bf,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ev(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VD(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Ks(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function zD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function UD(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await zD(o,n);return c.links?c.links():[]}return[]}));return $D(r.flat(1).filter(LD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Vw(t,e,n,r,a,o){let c=(d,g)=>n[g]?d.route.id!==n[g].route.id:!0,h=(d,g)=>n[g].pathname!==d.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,g)=>c(d,g)||h(d,g)):o==="data"?e.filter((d,g)=>{let v=r.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(c(d,g)||h(d,g))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function FD(t,e,{includeHydrateFallback:n}={}){return BD(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function BD(t){return[...new Set(t)]}function qD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function $D(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(qD(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function ZT(){let t=M.useContext(ec);return Ev(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function HD(){let t=M.useContext(Tm);return Ev(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tv=M.createContext(void 0);Tv.displayName="FrameworkContext";function YT(){let t=M.useContext(Tv);return Ev(t,"You must render this element inside a <HydratedRouter> element"),t}function GD(t,e){let n=M.useContext(Tv),[r,a]=M.useState(!1),[o,c]=M.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,E=M.useRef(null);M.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=Z=>{Z.forEach(X=>{c(X.isIntersecting)})},P=new IntersectionObserver(j,{threshold:.5});return E.current&&P.observe(E.current),()=>{P.disconnect()}}},[t]),M.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let T=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:bu(h,T),onBlur:bu(d,D),onMouseEnter:bu(g,T),onMouseLeave:bu(v,D),onTouchStart:bu(_,T)}]:[!1,E,{}]}function bu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function KD({page:t,...e}){let{router:n}=ZT(),r=M.useMemo(()=>DT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(ZD,{page:t,matches:r,...e}):null}function QD(t){let{manifest:e,routeModules:n}=YT(),[r,a]=M.useState([]);return M.useEffect(()=>{let o=!1;return UD(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),r}function ZD({page:t,matches:e,...n}){let r=Ws(),{future:a,manifest:o,routeModules:c}=YT(),{basename:h}=ZT(),{loaderData:d,matches:g}=HD(),v=M.useMemo(()=>Vw(t,e,g,o,r,"data"),[t,e,g,o,r]),_=M.useMemo(()=>Vw(t,e,g,o,r,"assets"),[t,e,g,o,r]),E=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let j=new Set,P=!1;if(e.forEach(X=>{let K=o.routes[X.route.id];!K||!K.hasLoader||(!v.some(le=>le.route.id===X.route.id)&&X.route.id in d&&c[X.route.id]?.shouldRevalidate||K.hasClientLoader?P=!0:j.add(X.route.id))}),j.size===0)return[];let Z=VD(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return P&&j.size>0&&Z.searchParams.set("_routes",e.filter(X=>j.has(X.route.id)).map(X=>X.route.id).join(",")),[Z.pathname+Z.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,o,v,e,t,c]),T=M.useMemo(()=>FD(_,o),[_,o]),D=QD(_);return M.createElement(M.Fragment,null,E.map(j=>M.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),T.map(j=>M.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),D.map(({key:j,link:P})=>M.createElement("link",{key:j,nonce:n.nonce,...P})))}function YD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XD&&(window.__reactRouterVersion="7.12.0")}catch{}function JD({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=M.useRef();a.current==null&&(a.current=jC({window:r,v5Compat:!0}));let o=a.current,[c,h]=M.useState({action:o.action,location:o.location}),d=M.useCallback(g=>{n===!1?h(g):M.startTransition(()=>h(g))},[n]);return M.useLayoutEffect(()=>o.listen(d),[o,d]),M.createElement(ID,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n})}var XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:h,target:d,to:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E,...T},D){let{basename:j,unstable_useTransitions:P}=M.useContext(xr),Z=typeof g=="string"&&XT.test(g),X=zT(g,j);g=X.to;let K=dD(g,{relative:a}),[le,Q,ae]=GD(r,T),N=nj(g,{replace:c,state:h,target:d,preventScrollReset:v,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:P});function A(z){e&&e(z),z.defaultPrevented||N(z)}let C=M.createElement("a",{...T,...ae,href:X.absoluteURL||K,onClick:X.isExternal||o?e:A,ref:YD(D,Q),target:d,"data-discover":!Z&&n==="render"?"true":void 0});return le&&!Z?M.createElement(M.Fragment,null,C,M.createElement(KD,{page:K})):C});wt.displayName="Link";var WD=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:h,children:d,...g},v){let _=hh(c,{relative:g.relative}),E=Ws(),T=M.useContext(Tm),{navigator:D,basename:j}=M.useContext(xr),P=T!=null&&oj(_)&&h===!0,Z=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,X=E.pathname,K=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(X=X.toLowerCase(),K=K?K.toLowerCase():null,Z=Z.toLowerCase()),K&&j&&(K=Ks(K,j)||K);const le=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let Q=X===Z||!a&&X.startsWith(Z)&&X.charAt(le)==="/",ae=K!=null&&(K===Z||!a&&K.startsWith(Z)&&K.charAt(Z.length)==="/"),N={isActive:Q,isPending:ae,isTransitioning:P},A=Q?e:void 0,C;typeof r=="function"?C=r(N):C=[r,Q?"active":null,ae?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(N):o;return M.createElement(wt,{...g,"aria-current":A,className:C,ref:v,style:z,to:c,viewTransition:h},typeof d=="function"?d(N):d)});WD.displayName="NavLink";var ej=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:c=_f,action:h,onSubmit:d,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E,...T},D)=>{let{unstable_useTransitions:j}=M.useContext(xr),P=ij(),Z=aj(h,{relative:g}),X=c.toLowerCase()==="get"?"get":"post",K=typeof h=="string"&&XT.test(h),le=Q=>{if(d&&d(Q),Q.defaultPrevented)return;Q.preventDefault();let ae=Q.nativeEvent.submitter,N=ae?.getAttribute("formmethod")||c,A=()=>P(ae||Q.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:o,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E});j&&n!==!1?M.startTransition(()=>A()):A()};return M.createElement("form",{ref:D,method:X,action:Z,onSubmit:r?d:le,...T,"data-discover":!K&&t==="render"?"true":void 0})});ej.displayName="Form";function tj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JT(t){let e=M.useContext(ec);return Tt(e,tj(t)),e}function nj(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let g=$T(),v=Ws(),_=hh(t,{relative:o});return M.useCallback(E=>{if(kD(E,e)){E.preventDefault();let T=n!==void 0?n:Bu(v)===Bu(_),D=()=>g(t,{replace:T,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});d?M.startTransition(()=>D()):D()}},[v,g,_,n,r,e,t,a,o,c,h,d])}var rj=0,sj=()=>`__${String(++rj)}__`;function ij(){let{router:t}=JT("useSubmit"),{basename:e}=M.useContext(xr),n=ED(),r=t.fetch,a=t.navigate;return M.useCallback(async(o,c={})=>{let{action:h,method:d,encType:g,formData:v,body:_}=MD(o,e);if(c.navigate===!1){let E=c.fetcherKey||sj();await r(E,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||d,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||d,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,n])}function aj(t,{relative:e}={}){let{basename:n}=M.useContext(xr),r=M.useContext(_s);Tt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...hh(t||".",{relative:e})},c=Ws();if(t==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(v=>v==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();o.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Gs([n,o.pathname])),Bu(o)}function oj(t,{relative:e}={}){let n=M.useContext(UT);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=JT("useViewTransitionState"),a=hh(t,{relative:e});if(!n.isTransitioning)return!1;let o=Ks(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ks(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ff(a.pathname,c)!=null||Ff(a.pathname,o)!=null}var tc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lj={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},cj=class{#e=lj;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Ya=new cj;function uj(t){setTimeout(t,0)}var ao=typeof window>"u"||"Deno"in globalThis;function An(){}function hj(t,e){return typeof t=="function"?t(e):t}function Ry(t){return typeof t=="number"&&t>=0&&t!==1/0}function WT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qi(t,e){return typeof t=="function"?t(e):t}function mr(t,e){return typeof t=="function"?t(e):t}function zw(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:c,stale:h}=t;if(c){if(r){if(e.queryHash!==Sv(c,e.options))return!1}else if(!qu(e.queryKey,c))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||o&&!o(e))}function Lw(t,e){const{exact:n,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(oo(e.options.mutationKey)!==oo(o))return!1}else if(!qu(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Sv(t,e){return(e?.queryKeyHashFn||oo)(t)}function oo(t){return JSON.stringify(t,(e,n)=>Cy(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function qu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>qu(t[n],e[n])):!1}var dj=Object.prototype.hasOwnProperty;function eS(t,e){if(t===e)return t;const n=Uw(t)&&Uw(e);if(!n&&!(Cy(t)&&Cy(e)))return e;const a=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),c=o.length,h=n?new Array(c):{};let d=0;for(let g=0;g<c;g++){const v=n?g:o[g],_=t[v],E=e[v];if(_===E){h[v]=_,(n?g<a:dj.call(t,v))&&d++;continue}if(_===null||E===null||typeof _!="object"||typeof E!="object"){h[v]=E;continue}const T=eS(_,E);h[v]=T,T===_&&d++}return a===c&&d===a?t:h}function Bf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Uw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Cy(t){if(!Fw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Fw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Fw(t){return Object.prototype.toString.call(t)==="[object Object]"}function fj(t){return new Promise(e=>{Ya.setTimeout(e,t)})}function Dy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?eS(t,e):e}function mj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function pj(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Av=Symbol();function tS(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Av?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Iv(t,e){return typeof t=="function"?t(...e):!!t}function gj(t,e,n){let r=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??=e(),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var yj=class extends tc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!ao&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Nv=new yj;function jy(){let t,e;const n=new Promise((a,o)=>{t=a,e=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}var vj=uj;function _j(){let t=[],e=0,n=h=>{h()},r=h=>{h()},a=vj;const o=h=>{e?t.push(h):a(()=>{n(h)})},c=()=>{const h=t;t=[],h.length&&a(()=>{r(()=>{h.forEach(d=>{n(d)})})})};return{batch:h=>{let d;e++;try{d=h()}finally{e--,e||c()}return d},batchCalls:h=>(...d)=>{o(()=>{h(...d)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{a=h}}}var Wt=_j(),bj=class extends tc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!ao&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},qf=new bj;function xj(t){return Math.min(1e3*2**t,3e4)}function nS(t){return(t??"online")==="online"?qf.isOnline():!0}var ky=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function rS(t){let e=!1,n=0,r;const a=jy(),o=()=>a.status!=="pending",c=j=>{if(!o()){const P=new ky(j);E(P),t.onCancel?.(P)}},h=()=>{e=!0},d=()=>{e=!1},g=()=>Nv.isFocused()&&(t.networkMode==="always"||qf.isOnline())&&t.canRun(),v=()=>nS(t.networkMode)&&t.canRun(),_=j=>{o()||(r?.(),a.resolve(j))},E=j=>{o()||(r?.(),a.reject(j))},T=()=>new Promise(j=>{r=P=>{(o()||g())&&j(P)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),D=()=>{if(o())return;let j;const P=n===0?t.initialPromise:void 0;try{j=P??t.fn()}catch(Z){j=Promise.reject(Z)}Promise.resolve(j).then(_).catch(Z=>{if(o())return;const X=t.retry??(ao?0:3),K=t.retryDelay??xj,le=typeof K=="function"?K(n,Z):K,Q=X===!0||typeof X=="number"&&n<X||typeof X=="function"&&X(n,Z);if(e||!Q){E(Z);return}n++,t.onFail?.(n,Z),fj(le).then(()=>g()?void 0:T()).then(()=>{e?E(Z):D()})})};return{promise:a,status:()=>a.status,cancel:c,continue:()=>(r?.(),a),cancelRetry:h,continueRetry:d,canStart:v,start:()=>(v()?D():T().then(D),a)}}var sS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ry(this.gcTime)&&(this.#e=Ya.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ao?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ya.clearTimeout(this.#e),this.#e=void 0)}},wj=class extends sS{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=qw(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=qw(this.options);n.data!==void 0&&(this.setState(Bw(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=Dy(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>mr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Av||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Qi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!WT(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(g=>g.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const d=tS(this.options,n),v=(()=>{const _={client:this.#s,queryKey:this.queryKey,meta:this.meta};return a(_),_})();return this.#o=!1,this.options.persister?this.options.persister(d,v,this):d(v)},h=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return a(d),d})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#i({type:"fetch",meta:h.fetchOptions?.meta}),this.#r=rS({initialPromise:n?.initialPromise,fn:h.fetchFn,onCancel:d=>{d instanceof ky&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,g)=>{this.#i({type:"failed",failureCount:d,error:g})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof ky){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...iS(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...Bw(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Wt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function iS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Bw(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function qw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ej=class extends tc{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=jy(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#d;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),$w(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Oy(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Oy(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!Bf(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Hw(this.#t,n,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#t!==n||mr(this.options.enabled,this.#t)!==mr(e.enabled,this.#t)||Qi(this.options.staleTime,this.#t)!==Qi(e.staleTime,this.#t))&&this.#g();const a=this.#y();r&&(this.#t!==n||mr(this.options.enabled,this.#t)!==mr(e.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Sj(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(An)),e}#g(){this.#b();const t=Qi(this.options.staleTime,this.#t);if(ao||this.#s.isStale||!Ry(t))return;const n=WT(this.#s.dataUpdatedAt,t)+1;this.#c=Ya.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#l=t,!(ao||mr(this.options.enabled,this.#t)===!1||!Ry(this.#l)||this.#l===0)&&(this.#u=Ya.setInterval(()=>{(this.options.refetchIntervalInBackground||Nv.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#b(){this.#c&&(Ya.clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(Ya.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,a=this.#s,o=this.#r,c=this.#a,d=t!==n?t.state:this.#n,{state:g}=t;let v={...g},_=!1,E;if(e._optimisticResults){const A=this.hasListeners(),C=!A&&$w(t,e),z=A&&Hw(t,n,e,r);(C||z)&&(v={...v,...iS(g.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:T,errorUpdatedAt:D,status:j}=v;E=v.data;let P=!1;if(e.placeholderData!==void 0&&E===void 0&&j==="pending"){let A;a?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(A=a.data,P=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,A!==void 0&&(j="success",E=Dy(a?.data,A,e),_=!0)}if(e.select&&E!==void 0&&!P)if(a&&E===o?.data&&e.select===this.#p)E=this.#d;else try{this.#p=e.select,E=e.select(E),E=Dy(a?.data,E,e),this.#d=E,this.#i=null}catch(A){this.#i=A}this.#i&&(T=this.#i,E=this.#d,D=Date.now(),j="error");const Z=v.fetchStatus==="fetching",X=j==="pending",K=j==="error",le=X&&Z,Q=E!==void 0,N={status:j,fetchStatus:v.fetchStatus,isPending:X,isSuccess:j==="success",isError:K,isInitialLoading:le,isLoading:le,data:E,dataUpdatedAt:v.dataUpdatedAt,error:T,errorUpdatedAt:D,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>d.dataUpdateCount||v.errorUpdateCount>d.errorUpdateCount,isFetching:Z,isRefetching:Z&&!X,isLoadingError:K&&!Q,isPaused:v.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:K&&Q,isStale:Rv(t,e),refetch:this.refetch,promise:this.#o,isEnabled:mr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=V=>{N.status==="error"?V.reject(N.error):N.data!==void 0&&V.resolve(N.data)},C=()=>{const V=this.#o=N.promise=jy();A(V)},z=this.#o;switch(z.status){case"pending":t.queryHash===n.queryHash&&A(z);break;case"fulfilled":(N.status==="error"||N.data!==z.value)&&C();break;case"rejected":(N.status!=="error"||N.error!==z.reason)&&C();break}}return N}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),Bf(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#m.size)return!0;const o=new Set(a??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(c=>{const h=c;return this.#s[h]!==t[h]&&o.has(h)})};this.#E({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#E(t){Wt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Tj(t,e){return mr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $w(t,e){return Tj(t,e)||t.state.data!==void 0&&Oy(t,e,e.refetchOnMount)}function Oy(t,e,n){if(mr(e.enabled,t)!==!1&&Qi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Rv(t,e)}return!1}function Hw(t,e,n,r){return(t!==e||mr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Rv(t,n)}function Rv(t,e){return mr(e.enabled,t)!==!1&&t.isStaleByTime(Qi(e.staleTime,t))}function Sj(t,e){return!Bf(t.getCurrentResult(),e)}function Gw(t){return{onFetch:(e,n)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},d=0;const g=async()=>{let v=!1;const _=D=>{gj(D,()=>e.signal,()=>v=!0)},E=tS(e.options,e.fetchOptions),T=async(D,j,P)=>{if(v)return Promise.reject();if(j==null&&D.pages.length)return Promise.resolve(D);const X=(()=>{const ae={client:e.client,queryKey:e.queryKey,pageParam:j,direction:P?"backward":"forward",meta:e.options.meta};return _(ae),ae})(),K=await E(X),{maxPages:le}=e.options,Q=P?pj:mj;return{pages:Q(D.pages,K,le),pageParams:Q(D.pageParams,j,le)}};if(a&&o.length){const D=a==="backward",j=D?Aj:Kw,P={pages:o,pageParams:c},Z=j(r,P);h=await T(P,Z,D)}else{const D=t??o.length;do{const j=d===0?c[0]??r.initialPageParam:Kw(r,h);if(d>0&&j==null)break;h=await T(h,j),d++}while(d<D)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=g}}}function Kw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Aj(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Ij=class extends sS{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||aS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=rS({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(c,h)=>{this.#r({type:"failed",failureCount:c,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",o=!this.#s.canStart();try{if(a)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const h=await this.options.onMutate?.(e,r);h!==this.state.context&&this.#r({type:"pending",context:h,variables:e,isPaused:o})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,e,this.state.context,this,r),await this.options.onSuccess?.(c,e,this.state.context,r),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(c,null,e,this.state.context,r),this.#r({type:"success",data:c}),c}catch(c){try{await this.#n.config.onError?.(c,e,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onError?.(c,e,this.state.context,r)}catch(h){Promise.reject(h)}try{await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onSettled?.(void 0,c,e,this.state.context,r)}catch(h){Promise.reject(h)}throw this.#r({type:"error",error:c}),c}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Wt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function aS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nj=class extends tc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new Ij({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=sf(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=sf(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=sf(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=sf(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Wt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Lw(e,n))}findAll(t={}){return this.getAll().filter(e=>Lw(t,e))}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Wt.batch(()=>Promise.all(t.map(e=>e.continue().catch(An))))}};function sf(t){return t.options.scope?.id}var Rj=class extends tc{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Bf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&oo(n.mutationKey)!==oo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??aS();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Wt.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(e.data,null,n,r,a)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,e.error,n,r,a)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},Cj=class extends tc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,a=e.queryHash??Sv(r,e);let o=this.get(a);return o||(o=new wj({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>zw(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>zw(t,n)):e}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Dj=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new Cj,this.#t=t.mutationCache||new Nj,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Nv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=qf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Qi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,c=hj(e,o);if(c!==void 0)return this.#e.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Wt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Wt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Wt.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(An).catch(An)}invalidateQueries(t,e={}){return Wt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Wt.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(An)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(An)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Qi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(An).catch(An)}fetchInfiniteQuery(t){return t.behavior=Gw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(An).catch(An)}ensureInfiniteQueryData(t){return t.behavior=Gw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(oo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{qu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(oo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{qu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Av&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},oS=M.createContext(void 0),nc=t=>{const e=M.useContext(oS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},jj=({client:t,children:e})=>(M.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(oS.Provider,{value:t,children:e})),lS=M.createContext(!1),kj=()=>M.useContext(lS);lS.Provider;function Oj(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Pj=M.createContext(Oj()),Mj=()=>M.useContext(Pj),Vj=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?Iv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},zj=t=>{M.useEffect(()=>{t.clearReset()},[t])},Lj=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||Iv(n,[t.error,r])),Uj=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Fj=(t,e)=>t.isLoading&&t.isFetching&&!e,Bj=(t,e)=>t?.suspense&&e.isPending,Qw=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function qj(t,e,n){const r=kj(),a=Mj(),o=nc(),c=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const h=o.getQueryCache().get(c.queryHash);c._optimisticResults=r?"isRestoring":"optimistic",Uj(c),Vj(c,a,h),zj(a);const d=!o.getQueryCache().get(c.queryHash),[g]=M.useState(()=>new e(o,c)),v=g.getOptimisticResult(c),_=!r&&t.subscribed!==!1;if(M.useSyncExternalStore(M.useCallback(E=>{const T=_?g.subscribe(Wt.batchCalls(E)):An;return g.updateResult(),T},[g,_]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),M.useEffect(()=>{g.setOptions(c)},[c,g]),Bj(c,v))throw Qw(c,g,a);if(Lj({result:v,errorResetBoundary:a,throwOnError:c.throwOnError,query:h,suspense:c.suspense}))throw v.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,v),c.experimental_prefetchInRender&&!ao&&Fj(v,r)&&(d?Qw(c,g,a):h?.promise)?.catch(An).finally(()=>{g.updateResult()}),c.notifyOnChangeProps?v:g.trackResult(v)}function cS(t,e){return qj(t,Ej)}function Am(t,e){const n=nc(),[r]=M.useState(()=>new Rj(n,t));M.useEffect(()=>{r.setOptions(t)},[r,t]);const a=M.useSyncExternalStore(M.useCallback(c=>r.subscribe(Wt.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=M.useCallback((c,h)=>{r.mutate(c,h).catch(An)},[r]);if(a.error&&Iv(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}const $j=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Zw=t=>{const e=Hj(t);return e.charAt(0).toUpperCase()+e.slice(1)},uS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Gj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Kj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Qj=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...h},d)=>M.createElement("svg",{ref:d,...Kj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:uS("lucide",a),...!o&&!Gj(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,v])=>M.createElement(g,v)),...Array.isArray(o)?o:[o]]));const We=(t,e)=>{const n=M.forwardRef(({className:r,...a},o)=>M.createElement(Qj,{ref:o,iconNode:e,className:uS(`lucide-${$j(Zw(t))}`,`lucide-${t}`,r),...a}));return n.displayName=Zw(t),n};const Zj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Yw=We("activity",Zj);const Yj=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Xj=We("arrow-down",Yj);const Jj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wj=We("arrow-left",Jj);const ek=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xf=We("arrow-right",ek);const tk=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],nk=We("arrow-up",tk);const rk=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],sk=We("calculator",rk);const ik=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lo=We("calendar",ik);const ak=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ok=We("chart-column",ak);const lk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hS=We("chevron-down",lk);const ck=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xw=We("chevron-left",ck);const uk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],dS=We("chevron-up",uk);const hk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dk=We("circle-check-big",hk);const fk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$f=We("clock",fk);const mk=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],pk=We("crown",mk);const gk=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Cv=We("external-link",gk);const yk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],vk=We("house",yk);const _k=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fS=We("map-pin",_k);const bk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xk=We("menu",bk);const wk=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ek=We("pen-line",wk);const Tk=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Sk=We("play",Tk);const Ak=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ik=We("plus",Ak);const Nk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Rk=We("rotate-ccw",Nk);const Ck=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mS=We("search",Ck);const Dk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Jw=We("star",Dk);const jk=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],kk=We("swords",jk);const Ok=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$u=We("target",Ok);const Pk=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Py=We("trending-up",Pk);const Mk=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Yn=We("trophy",Mk);const Vk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],zk=We("user-plus",Vk);const Lk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pS=We("user",Lk);const Uk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ml=We("users",Uk);const Fk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gS=We("x",Fk);function yS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=yS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Bk(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=yS(t))&&(r&&(r+=" "),r+=e);return r}const qk=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},$k=(t,e)=>({classGroupId:t,validator:e}),vS=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Hf="-",Ww=[],Hk="arbitrary..",Gk=t=>{const e=Qk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return Kk(c);const h=c.split(Hf),d=h[0]===""&&h.length>1?1:0;return _S(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=r[c],g=n[c];return d?g?qk(g,d):d:g||Ww}return n[c]||Ww}}},_S=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],o=n.nextPart.get(a);if(o){const g=_S(t,e+1,o);if(g)return g}const c=n.validators;if(c===null)return;const h=e===0?t.join(Hf):t.slice(e).join(Hf),d=c.length;for(let g=0;g<d;g++){const v=c[g];if(v.validator(h))return v.classGroupId}},Kk=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?Hk+r:void 0})(),Qk=t=>{const{theme:e,classGroups:n}=t;return Zk(n,e)},Zk=(t,e)=>{const n=vS();for(const r in t){const a=t[r];Dv(a,n,r,e)}return n},Dv=(t,e,n,r)=>{const a=t.length;for(let o=0;o<a;o++){const c=t[o];Yk(c,e,n,r)}},Yk=(t,e,n,r)=>{if(typeof t=="string"){Xk(t,e,n);return}if(typeof t=="function"){Jk(t,e,n,r);return}Wk(t,e,n,r)},Xk=(t,e,n)=>{const r=t===""?e:bS(e,t);r.classGroupId=n},Jk=(t,e,n,r)=>{if(eO(t)){Dv(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push($k(n,t))},Wk=(t,e,n,r)=>{const a=Object.entries(t),o=a.length;for(let c=0;c<o;c++){const[h,d]=a[c];Dv(d,bS(e,h),n,r)}},bS=(t,e)=>{let n=t;const r=e.split(Hf),a=r.length;for(let o=0;o<a;o++){const c=r[o];let h=n.nextPart.get(c);h||(h=vS(),n.nextPart.set(c,h)),n=h}return n},eO=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,tO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(o,c)=>{n[o]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let c=n[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return a(o,c),c},set(o,c){o in n?n[o]=c:a(o,c)}}},My="!",eE=":",nO=[],tE=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),rO=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const o=[];let c=0,h=0,d=0,g;const v=a.length;for(let j=0;j<v;j++){const P=a[j];if(c===0&&h===0){if(P===eE){o.push(a.slice(d,j)),d=j+1;continue}if(P==="/"){g=j;continue}}P==="["?c++:P==="]"?c--:P==="("?h++:P===")"&&h--}const _=o.length===0?a:a.slice(d);let E=_,T=!1;_.endsWith(My)?(E=_.slice(0,-1),T=!0):_.startsWith(My)&&(E=_.slice(1),T=!0);const D=g&&g>d?g-d:void 0;return tE(o,T,E,D)};if(e){const a=e+eE,o=r;r=c=>c.startsWith(a)?o(c.slice(a.length)):tE(nO,!1,c,void 0,!0)}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},sO=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let o=0;o<n.length;o++){const c=n[o],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},iO=t=>({cache:tO(t.cacheSize),parseClassName:rO(t),sortModifiers:sO(t),...Gk(t)}),aO=/\s+/,oO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,c=[],h=t.trim().split(aO);let d="";for(let g=h.length-1;g>=0;g-=1){const v=h[g],{isExternal:_,modifiers:E,hasImportantModifier:T,baseClassName:D,maybePostfixModifierPosition:j}=n(v);if(_){d=v+(d.length>0?" "+d:d);continue}let P=!!j,Z=r(P?D.substring(0,j):D);if(!Z){if(!P){d=v+(d.length>0?" "+d:d);continue}if(Z=r(D),!Z){d=v+(d.length>0?" "+d:d);continue}P=!1}const X=E.length===0?"":E.length===1?E[0]:o(E).join(":"),K=T?X+My:X,le=K+Z;if(c.indexOf(le)>-1)continue;c.push(le);const Q=a(Z,P);for(let ae=0;ae<Q.length;++ae){const N=Q[ae];c.push(K+N)}d=v+(d.length>0?" "+d:d)}return d},lO=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=xS(n))&&(a&&(a+=" "),a+=r);return a},xS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=xS(t[r]))&&(n&&(n+=" "),n+=e);return n},cO=(t,...e)=>{let n,r,a,o;const c=d=>{const g=e.reduce((v,_)=>_(v),t());return n=iO(g),r=n.cache.get,a=n.cache.set,o=h,h(d)},h=d=>{const g=r(d);if(g)return g;const v=oO(d,n);return a(d,v),v};return o=c,(...d)=>o(lO(...d))},uO=[],Jt=t=>{const e=n=>n[t]||uO;return e.isThemeGetter=!0,e},wS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ES=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hO=/^\d+\/\d+$/,dO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yl=t=>hO.test(t),Ve=t=>!!t&&!Number.isNaN(Number(t)),Vi=t=>!!t&&Number.isInteger(Number(t)),cy=t=>t.endsWith("%")&&Ve(t.slice(0,-1)),Ls=t=>dO.test(t),yO=()=>!0,vO=t=>fO.test(t)&&!mO.test(t),TS=()=>!1,_O=t=>pO.test(t),bO=t=>gO.test(t),xO=t=>!ye(t)&&!ve(t),wO=t=>rc(t,IS,TS),ye=t=>wS.test(t),Fa=t=>rc(t,NS,vO),uy=t=>rc(t,IO,Ve),nE=t=>rc(t,SS,TS),EO=t=>rc(t,AS,bO),af=t=>rc(t,RS,_O),ve=t=>ES.test(t),xu=t=>sc(t,NS),TO=t=>sc(t,NO),rE=t=>sc(t,SS),SO=t=>sc(t,IS),AO=t=>sc(t,AS),of=t=>sc(t,RS,!0),rc=(t,e,n)=>{const r=wS.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},sc=(t,e,n=!1)=>{const r=ES.exec(t);return r?r[1]?e(r[1]):n:!1},SS=t=>t==="position"||t==="percentage",AS=t=>t==="image"||t==="url",IS=t=>t==="length"||t==="size"||t==="bg-size",NS=t=>t==="length",IO=t=>t==="number",NO=t=>t==="family-name",RS=t=>t==="shadow",RO=()=>{const t=Jt("color"),e=Jt("font"),n=Jt("text"),r=Jt("font-weight"),a=Jt("tracking"),o=Jt("leading"),c=Jt("breakpoint"),h=Jt("container"),d=Jt("spacing"),g=Jt("radius"),v=Jt("shadow"),_=Jt("inset-shadow"),E=Jt("text-shadow"),T=Jt("drop-shadow"),D=Jt("blur"),j=Jt("perspective"),P=Jt("aspect"),Z=Jt("ease"),X=Jt("animate"),K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Q=()=>[...le(),ve,ye],ae=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],A=()=>[ve,ye,d],C=()=>[yl,"full","auto",...A()],z=()=>[Vi,"none","subgrid",ve,ye],V=()=>["auto",{span:["full",Vi,ve,ye]},Vi,ve,ye],U=()=>[Vi,"auto",ve,ye],k=()=>["auto","min","max","fr",ve,ye],Ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ze=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...A()],de=()=>[yl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],ce=()=>[t,ve,ye],Me=()=>[...le(),rE,nE,{position:[ve,ye]}],Fe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",SO,wO,{size:[ve,ye]}],$=()=>[cy,xu,Fa],se=()=>["","none","full",g,ve,ye],ue=()=>["",Ve,xu,Fa],Ee=()=>["solid","dashed","dotted","double"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[Ve,cy,rE,nE],At=()=>["","none",D,ve,ye],nt=()=>["none",Ve,ve,ye],er=()=>["none",Ve,ve,ye],Ur=()=>[Ve,ve,ye],Er=()=>[yl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ls],breakpoint:[Ls],color:[yO],container:[Ls],"drop-shadow":[Ls],ease:["in","out","in-out"],font:[xO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ls],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ls],shadow:[Ls],spacing:["px",Ve],text:[Ls],"text-shadow":[Ls],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yl,ye,ve,P]}],container:["container"],columns:[{columns:[Ve,ye,ve,h]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Q()}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Vi,"auto",ve,ye]}],basis:[{basis:[yl,"full","auto",h,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,yl,"auto","initial","none",ye]}],grow:[{grow:["",Ve,ve,ye]}],shrink:[{shrink:["",Ve,ve,ye]}],order:[{order:[Vi,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Ge(),"normal"]}],"justify-items":[{"justify-items":[...Ze(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ze()]}],"align-content":[{content:["normal",...Ge()]}],"align-items":[{items:[...Ze(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ze(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ge()}],"place-items":[{"place-items":[...Ze(),"baseline"]}],"place-self":[{"place-self":["auto",...Ze()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[h,"screen",...de()]}],"min-w":[{"min-w":[h,"screen","none",...de()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...de()]}],h:[{h:["screen","lh",...de()]}],"min-h":[{"min-h":["screen","lh","none",...de()]}],"max-h":[{"max-h":["screen","lh",...de()]}],"font-size":[{text:["base",n,xu,Fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,uy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cy,ye]}],"font-family":[{font:[TO,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,ye]}],"line-clamp":[{"line-clamp":[Ve,"none",ve,uy]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ce()}],"text-color":[{text:ce()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",ve,Fa]}],"text-decoration-color":[{decoration:ce()}],"underline-offset":[{"underline-offset":[Ve,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Me()}],"bg-repeat":[{bg:Fe()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vi,ve,ye],radial:["",ve,ye],conic:[Vi,ve,ye]},AO,EO]}],"bg-color":[{bg:ce()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:ce()}],"gradient-via":[{via:ce()}],"gradient-to":[{to:ce()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:ce()}],"border-color-x":[{"border-x":ce()}],"border-color-y":[{"border-y":ce()}],"border-color-s":[{"border-s":ce()}],"border-color-e":[{"border-e":ce()}],"border-color-t":[{"border-t":ce()}],"border-color-r":[{"border-r":ce()}],"border-color-b":[{"border-b":ce()}],"border-color-l":[{"border-l":ce()}],"divide-color":[{divide:ce()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,ve,ye]}],"outline-w":[{outline:["",Ve,xu,Fa]}],"outline-color":[{outline:ce()}],shadow:[{shadow:["","none",v,of,af]}],"shadow-color":[{shadow:ce()}],"inset-shadow":[{"inset-shadow":["none",_,of,af]}],"inset-shadow-color":[{"inset-shadow":ce()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ce()}],"ring-offset-w":[{"ring-offset":[Ve,Fa]}],"ring-offset-color":[{"ring-offset":ce()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":ce()}],"text-shadow":[{"text-shadow":["none",E,of,af]}],"text-shadow-color":[{"text-shadow":ce()}],opacity:[{opacity:[Ve,ve,ye]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":ce()}],"mask-image-linear-to-color":[{"mask-linear-to":ce()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":ce()}],"mask-image-t-to-color":[{"mask-t-to":ce()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":ce()}],"mask-image-r-to-color":[{"mask-r-to":ce()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":ce()}],"mask-image-b-to-color":[{"mask-b-to":ce()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":ce()}],"mask-image-l-to-color":[{"mask-l-to":ce()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":ce()}],"mask-image-x-to-color":[{"mask-x-to":ce()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":ce()}],"mask-image-y-to-color":[{"mask-y-to":ce()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":ce()}],"mask-image-radial-to-color":[{"mask-radial-to":ce()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":le()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":ce()}],"mask-image-conic-to-color":[{"mask-conic-to":ce()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Me()}],"mask-repeat":[{mask:Fe()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:At()}],brightness:[{brightness:[Ve,ve,ye]}],contrast:[{contrast:[Ve,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",T,of,af]}],"drop-shadow-color":[{"drop-shadow":ce()}],grayscale:[{grayscale:["",Ve,ve,ye]}],"hue-rotate":[{"hue-rotate":[Ve,ve,ye]}],invert:[{invert:["",Ve,ve,ye]}],saturate:[{saturate:[Ve,ve,ye]}],sepia:[{sepia:["",Ve,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":At()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Ve,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",ve,ye]}],ease:[{ease:["linear","initial",Z,ve,ye]}],delay:[{delay:[Ve,ve,ye]}],animate:[{animate:["none",X,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,ve,ye]}],"perspective-origin":[{"perspective-origin":Q()}],rotate:[{rotate:nt()}],"rotate-x":[{"rotate-x":nt()}],"rotate-y":[{"rotate-y":nt()}],"rotate-z":[{"rotate-z":nt()}],scale:[{scale:er()}],"scale-x":[{"scale-x":er()}],"scale-y":[{"scale-y":er()}],"scale-z":[{"scale-z":er()}],"scale-3d":["scale-3d"],skew:[{skew:Ur()}],"skew-x":[{"skew-x":Ur()}],"skew-y":[{"skew-y":Ur()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:Q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Er()}],"translate-x":[{"translate-x":Er()}],"translate-y":[{"translate-y":Er()}],"translate-z":[{"translate-z":Er()}],"translate-none":["translate-none"],accent:[{accent:ce()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ce()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...ce()]}],"stroke-w":[{stroke:[Ve,xu,Fa,uy]}],stroke:[{stroke:["none",...ce()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},CO=cO(RO);function on(...t){return CO(Bk(t))}const DO=(t,e)=>{let n=null,r=0,a=0;return t.map(o=>{const c=e(o);return a+=1,(n===null||c!==n)&&(r=a,n=c),{...o,rank:r}})},Bi=Hs.forwardRef(({variant:t="primary",size:e="md",icon:n,iconPosition:r="left",loading:a=!1,className:o,children:c,disabled:h,...d},g)=>{const v="inline-flex items-center justify-center font-bold rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed",_={primary:"bg-primary text-white hover:bg-primary-hover focus:ring-primary/50 shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 hover:scale-105",secondary:"bg-surface-highlight text-text-main border-2 border-border hover:border-primary/50 hover:bg-surface-alt focus:ring-primary/30 shadow-lg hover:shadow-xl",success:"bg-success text-white hover:bg-success/90 focus:ring-success/50 shadow-lg shadow-success/20 hover:shadow-xl hover:shadow-success/30 hover:scale-105",warning:"bg-warning text-white hover:bg-warning/90 focus:ring-warning/50 shadow-lg shadow-warning/20 hover:shadow-xl hover:shadow-warning/30 hover:scale-105",error:"bg-error text-white hover:bg-error/90 focus:ring-error/50 shadow-lg shadow-error/20 hover:shadow-xl hover:shadow-error/30 hover:scale-105",ghost:"bg-transparent text-text-main hover:bg-surface-highlight border-2 border-transparent hover:border-border focus:ring-primary/30",premium:"bg-gradient-to-r from-primary to-primary-hover text-white hover:from-primary-hover hover:to-primary focus:ring-primary/50 shadow-2xl hover:shadow-3xl transform hover:scale-110"},E={sm:"px-3 py-2 text-sm gap-2 min-h-[2.25rem]",md:"px-4 py-3 text-base gap-2 min-h-[2.75rem]",lg:"px-6 py-4 text-lg gap-3 min-h-[3.25rem]",xl:"px-8 py-5 text-xl gap-3 min-h-[3.75rem]"},T={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6",xl:"h-7 w-7"},D=()=>m.jsx("div",{className:on("animate-spin rounded-full border-2 border-current border-t-transparent",T[e])}),j=()=>{if(a)return m.jsx(D,{});if(!n)return null;if(Hs.isValidElement(n)){const P=n.props?.className||"";return Hs.cloneElement(n,{className:on(T[e],P)})}return n};return m.jsxs("button",{ref:g,className:on(v,_[t]??_.primary,E[e]??E.md,o),disabled:h||a,...d,children:[r==="left"&&j(),a?"Loading...":c,r==="right"&&j()]})});Bi.displayName="Button";const jO=({children:t})=>{const[e,n]=M.useState(!1),r=Ws(),a=[{name:"Home",href:"/",icon:vk},{name:"Standings",href:"/standings",icon:Yn},{name:"Schedule",href:"/schedule",icon:lo},{name:"Players",href:"/players",icon:Ml},{name:"Format",href:"/format",icon:$u},{name:"Admin",href:"/admin",icon:sk}];return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsxs("nav",{className:"bg-gradient-to-r from-surface via-surface-alt to-surface text-text-main sticky top-0 z-50 shadow-2xl border-b border-border/50 backdrop-blur-md",children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex items-center justify-between h-16",children:[m.jsx("div",{className:"flex items-center",children:m.jsxs(wt,{to:"/",className:"flex items-center space-x-3 group",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-warning rounded-full blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),m.jsx("div",{className:"relative w-10 h-10 bg-gradient-to-br from-primary to-warning rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-all duration-300",children:m.jsx(Yn,{className:"h-6 w-6 text-white"})})]}),m.jsxs("div",{children:[m.jsx("span",{className:"font-black text-xl tracking-tight bg-gradient-to-r from-primary to-warning bg-clip-text text-transparent group-hover:from-warning group-hover:to-primary transition-all duration-300",children:"Paddle Up"}),m.jsx("div",{className:"text-xs text-text-muted font-semibold tracking-wider uppercase",children:"Premier League"})]})]})}),m.jsx("div",{className:"hidden md:block",children:m.jsx("div",{className:"ml-10 flex items-baseline space-x-1",children:a.map(o=>{const c=o.icon,h=r.pathname===o.href;return m.jsxs(wt,{to:o.href,className:on("px-4 py-2 rounded-xl text-sm font-bold transition-all duration-300 flex items-center space-x-2 group relative overflow-hidden",h?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30 scale-105":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-105"),children:[m.jsx(c,{className:on("h-4 w-4 transition-transform duration-300",h?"text-white":"group-hover:scale-110")}),m.jsx("span",{children:o.name}),h&&m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 to-warning/10 blur-xl -z-10"})]},o.name)})})}),m.jsx("div",{className:"md:hidden",children:m.jsxs(Bi,{onClick:()=>n(!e),variant:"ghost",size:"sm",className:"relative overflow-hidden",children:[m.jsx("div",{className:"relative z-10",children:e?m.jsx(gS,{className:"h-6 w-6"}):m.jsx(xk,{className:"h-6 w-6"})}),e&&m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-warning/20 blur-sm"})]})})]})}),e&&m.jsx("div",{className:"md:hidden",children:m.jsx("div",{className:"px-2 pt-2 pb-3 space-y-2 sm:px-3 bg-gradient-to-br from-surface via-surface-alt to-surface border-t border-border/50 shadow-xl",children:a.map(o=>{const c=o.icon,h=r.pathname===o.href;return m.jsxs(wt,{to:o.href,onClick:()=>n(!1),className:on("block px-4 py-3 rounded-xl text-base font-bold flex items-center space-x-3 transition-all duration-300 group relative overflow-hidden",h?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-[1.02]"),children:[m.jsx(c,{className:on("h-5 w-5 transition-transform duration-300",h?"text-white":"group-hover:scale-110")}),m.jsx("span",{children:o.name}),h&&m.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:m.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]},o.name)})})})]}),m.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs("div",{className:"relative",children:[t,m.jsx("div",{className:"fixed top-20 right-10 w-32 h-32 bg-gradient-to-br from-primary/5 to-transparent rounded-full blur-3xl -z-10 pointer-events-none"}),m.jsx("div",{className:"fixed bottom-20 left-10 w-40 h-40 bg-gradient-to-tr from-success/5 to-transparent rounded-full blur-3xl -z-10 pointer-events-none"})]})}),m.jsxs("footer",{className:"relative overflow-hidden bg-gradient-to-br from-surface via-surface-alt to-surface text-text-muted py-12 mt-auto border-t border-border/50",children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"text-center space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary/20 to-warning/20 rounded-full flex items-center justify-center",children:m.jsx(Yn,{className:"h-5 w-5 text-primary"})}),m.jsx("span",{className:"font-black text-lg text-text-main",children:"Paddle Up Premier League"})]}),m.jsxs("div",{className:"flex items-center justify-center space-x-6 pt-6",children:[m.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-primary/10 rounded-xl border border-primary/20",children:[m.jsx(Yn,{className:"h-4 w-4 text-primary"}),m.jsx("span",{className:"text-xs font-semibold text-primary",children:"Premier League"})]}),m.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-success/10 rounded-xl border border-success/20",children:[m.jsx($u,{className:"h-4 w-4 text-success"}),m.jsx("span",{className:"text-xs font-semibold text-success",children:"3.5+ DUPR"})]}),m.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-warning/10 rounded-xl border border-warning/20",children:[m.jsx(Ml,{className:"h-4 w-4 text-warning"}),m.jsx("span",{className:"text-xs font-semibold text-warning",children:"Elite Players"})]})]})]})}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})]})},us=(t,e=3)=>e===5?PO(t):e===2?kO(t):OO(t),kO=t=>t<1?0:t===1?1e3:t===2?700:t>=8?Math.floor(us(t-7)/10):t>=3?Math.floor(us(t-2)/2):0,OO=t=>t<1?0:t===1?1e3:t===2?800:t===3?us(2)*3/4:t===4?us(2)*3/5:t>=11?Math.floor(us(t-10)/10):t>=5?Math.floor(us(t-3)/2):0,PO=t=>t<1?0:t===1?1e3:t===2?875:t===3?750:t===4?650:t===5?575:t>=19?Math.floor(us(t-18)/10):t>=6?Math.floor(us(t-5)/2):0,jv=t=>{if(!t.isCompleted||!Array.isArray(t.standings)||t.standings.length===0)return null;const e=t.standings,n=[];return e.forEach((r,a)=>{const o=a+1,c=Math.ceil(o/4),h=(o-1)%4+1,d=us(o);n.push({playerId:r,court:c,position:h,rank:o,pointsEarned:d})}),n},MO=t=>{const e=new Map;return t.forEach(n=>{if(!n.standings||n.standings.length===0)return;const r={id:n.id,date:n.startDateTime?n.startDateTime.toISOString():n.id,isCompleted:!0,standings:n.standings},a=jv(r);a&&a.forEach(o=>{const c=o.playerId,h=o.pointsEarned||0,d=e.get(c)||{points:0,events:0,champWins:0};d.points+=h,d.events+=1,o.rank===1&&(d.champWins+=1),e.set(c,d)})}),e},VO=()=>{};var sE={};const CS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},zO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},DS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,g=d?t[a+2]:0,v=o>>2,_=(o&3)<<4|h>>4;let E=(h&15)<<2|g>>6,T=g&63;d||(T=64,c||(E=64)),r.push(n[v],n[_],n[E],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||g==null||_==null)throw new LO;const E=o<<2|h>>4;if(r.push(E),g!==64){const T=h<<4&240|g>>2;if(r.push(T),_!==64){const D=g<<6&192|_;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UO=function(t){const e=CS(t);return DS.encodeByteArray(e,!0)},Gf=function(t){return UO(t).replace(/\./g,"")},jS=function(t){try{return DS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const FO=()=>kS().__FIREBASE_DEFAULTS__,BO=()=>{if(typeof process>"u"||typeof sE>"u")return;const t=sE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jS(t[1]);return e&&JSON.parse(e)},Im=()=>{try{return VO()||FO()||BO()||qO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OS=t=>Im()?.emulatorHosts?.[t],$O=t=>{const e=OS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PS=()=>Im()?.config,MS=t=>Im()?.[`_${t}`];class HO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function ic(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VS(t){return(await fetch(t,{credentials:"include"})).ok}function GO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gf(JSON.stringify(n)),Gf(JSON.stringify(c)),""].join(".")}const ku={};function KO(){const t={prod:[],emulator:[]};for(const e of Object.keys(ku))ku[e]?t.emulator.push(e):t.prod.push(e);return t}function QO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let iE=!1;function zS(t,e){if(typeof window>"u"||typeof document>"u"||!ic(window.location.host)||ku[t]===e||ku[t]||iE)return;ku[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=KO().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{iE=!0,c()},E}function v(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=QO(r),T=n("text"),D=document.getElementById(T)||document.createElement("span"),j=n("learnmore"),P=document.getElementById(j)||document.createElement("a"),Z=n("preprendIcon"),X=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;h(K),v(P,j);const le=g();d(X,Z),K.append(X,D,P,le),document.body.appendChild(K)}o?(D.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function LS(){const t=Im()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WO(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function US(){return!LS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FS(){return!LS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function BS(){try{return typeof indexedDB=="object"}catch{return!1}}function eP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const tP="FirebaseError";class ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tP,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dh.prototype.create)}}class dh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?nP(o,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new ei(a,h,r)}}function nP(t,e){return t.replace(rP,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const rP=/\{\$([^}]+)}/g;function sP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function co(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],c=e[a];if(aE(o)&&aE(c)){if(!co(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function aE(t){return t!==null&&typeof t=="object"}function fh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iP(t,e){const n=new aP(t,e);return n.subscribe.bind(n)}class aP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=hy),a.error===void 0&&(a.error=hy),a.complete===void 0&&(a.complete=hy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hy(){}function xn(t){return t&&t._delegate?t._delegate:t}class uo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qa="[DEFAULT]";class lP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new HO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uP(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cP(t){return t===qa?void 0:t}function uP(t){return t.instantiationMode==="EAGER"}class hP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const dP={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},fP=$e.INFO,mP={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},pP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=mP[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kv{constructor(e){this.name=e,this._logLevel=fP,this._logHandler=pP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const gP=(t,e)=>e.some(n=>t instanceof n);let oE,lE;function yP(){return oE||(oE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vP(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qS=new WeakMap,Vy=new WeakMap,$S=new WeakMap,dy=new WeakMap,Ov=new WeakMap;function _P(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Zi(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&qS.set(n,t)}).catch(()=>{}),Ov.set(e,t),e}function bP(t){if(Vy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Vy.set(t,e)}let zy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$S.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xP(t){zy=t(zy)}function wP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fy(this),e,...n);return $S.set(r,e.sort?e.sort():[e]),Zi(r)}:vP().includes(t)?function(...e){return t.apply(fy(this),e),Zi(qS.get(this))}:function(...e){return Zi(t.apply(fy(this),e))}}function EP(t){return typeof t=="function"?wP(t):(t instanceof IDBTransaction&&bP(t),gP(t,yP())?new Proxy(t,zy):t)}function Zi(t){if(t instanceof IDBRequest)return _P(t);if(dy.has(t))return dy.get(t);const e=EP(t);return e!==t&&(dy.set(t,e),Ov.set(e,t)),e}const fy=t=>Ov.get(t);function TP(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),h=Zi(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Zi(c.result),d.oldVersion,d.newVersion,Zi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const SP=["get","getKey","getAll","getAllKeys","count"],AP=["put","add","delete","clear"],my=new Map;function cE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(my.get(e))return my.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=AP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||SP.includes(n)))return;const o=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let g=d.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),a&&d.done]))[0]};return my.set(e,o),o}xP(t=>({...t,get:(e,n,r)=>cE(e,n)||t.get(e,n,r),has:(e,n)=>!!cE(e,n)||t.has(e,n)}));class IP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NP(t){return t.getComponent()?.type==="VERSION"}const Ly="@firebase/app",uE="0.14.6";const Qs=new kv("@firebase/app"),RP="@firebase/app-compat",CP="@firebase/analytics-compat",DP="@firebase/analytics",jP="@firebase/app-check-compat",kP="@firebase/app-check",OP="@firebase/auth",PP="@firebase/auth-compat",MP="@firebase/database",VP="@firebase/data-connect",zP="@firebase/database-compat",LP="@firebase/functions",UP="@firebase/functions-compat",FP="@firebase/installations",BP="@firebase/installations-compat",qP="@firebase/messaging",$P="@firebase/messaging-compat",HP="@firebase/performance",GP="@firebase/performance-compat",KP="@firebase/remote-config",QP="@firebase/remote-config-compat",ZP="@firebase/storage",YP="@firebase/storage-compat",XP="@firebase/firestore",JP="@firebase/ai",WP="@firebase/firestore-compat",e4="firebase",t4="12.6.0";const Uy="[DEFAULT]",n4={[Ly]:"fire-core",[RP]:"fire-core-compat",[DP]:"fire-analytics",[CP]:"fire-analytics-compat",[kP]:"fire-app-check",[jP]:"fire-app-check-compat",[OP]:"fire-auth",[PP]:"fire-auth-compat",[MP]:"fire-rtdb",[VP]:"fire-data-connect",[zP]:"fire-rtdb-compat",[LP]:"fire-fn",[UP]:"fire-fn-compat",[FP]:"fire-iid",[BP]:"fire-iid-compat",[qP]:"fire-fcm",[$P]:"fire-fcm-compat",[HP]:"fire-perf",[GP]:"fire-perf-compat",[KP]:"fire-rc",[QP]:"fire-rc-compat",[ZP]:"fire-gcs",[YP]:"fire-gcs-compat",[XP]:"fire-fst",[WP]:"fire-fst-compat",[JP]:"fire-vertex","fire-js":"fire-js",[e4]:"fire-js-all"};const Hu=new Map,r4=new Map,Fy=new Map;function hE(t,e){try{t.container.addComponent(e)}catch(n){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vl(t){const e=t.name;if(Fy.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;Fy.set(e,t);for(const n of Hu.values())hE(n,t);for(const n of r4.values())hE(n,t);return!0}function Pv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vr(t){return t==null?!1:t.settings!==void 0}const s4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new dh("app","Firebase",s4);class i4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}const ac=t4;function HS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Uy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Yi.create("bad-app-name",{appName:String(a)});if(n||(n=PS()),!n)throw Yi.create("no-options");const o=Hu.get(a);if(o){if(co(n,o.options)&&co(r,o.config))return o;throw Yi.create("duplicate-app",{appName:a})}const c=new hP(a);for(const d of Fy.values())c.addComponent(d);const h=new i4(n,r,c);return Hu.set(a,h),h}function GS(t=Uy){const e=Hu.get(t);if(!e&&t===Uy&&PS())return HS();if(!e)throw Yi.create("no-app",{appName:t});return e}function dE(){return Array.from(Hu.values())}function Xi(t,e,n){let r=n4[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qs.warn(c.join(" "));return}Vl(new uo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const a4="firebase-heartbeat-database",o4=1,Gu="firebase-heartbeat-store";let py=null;function KS(){return py||(py=TP(a4,o4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yi.create("idb-open",{originalErrorMessage:t.message})})),py}async function l4(t){try{const n=(await KS()).transaction(Gu),r=await n.objectStore(Gu).get(QS(t));return await n.done,r}catch(e){if(e instanceof ei)Qs.warn(e.message);else{const n=Yi.create("idb-get",{originalErrorMessage:e?.message});Qs.warn(n.message)}}}async function fE(t,e){try{const r=(await KS()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(e,QS(t)),await r.done}catch(n){if(n instanceof ei)Qs.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n?.message});Qs.warn(r.message)}}}function QS(t){return`${t.name}!${t.options.appId}`}const c4=1024,u4=30;class h4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>u4){const a=m4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mE(),{heartbeatsToSend:n,unsentEntries:r}=d4(this._heartbeatsCache.heartbeats),a=Gf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Qs.warn(e),""}}}function mE(){return new Date().toISOString().substring(0,10)}function d4(t,e=c4){const n=[];let r=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),pE(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),pE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class f4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BS()?eP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pE(t){return Gf(JSON.stringify({version:2,heartbeats:t})).length}function m4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function p4(t){Vl(new uo("platform-logger",e=>new IP(e),"PRIVATE")),Vl(new uo("heartbeat",e=>new h4(e),"PRIVATE")),Xi(Ly,uE,t),Xi(Ly,uE,"esm2020"),Xi("fire-js","")}p4("");var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ji,ZS;(function(){var t;function e(N,A){function C(){}C.prototype=A.prototype,N.F=A.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(z,V,U){for(var k=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)k[Ge-2]=arguments[Ge];return A.prototype[V].apply(z,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,A,C){C||(C=0);const z=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)z[V]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(V=0;V<16;++V)z[V]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=N.g[0],C=N.g[1],V=N.g[2];let U=N.g[3],k;k=A+(U^C&(V^U))+z[0]+3614090360&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(V^A&(C^V))+z[1]+3905402710&4294967295,U=A+(k<<12&4294967295|k>>>20),k=V+(C^U&(A^C))+z[2]+606105819&4294967295,V=U+(k<<17&4294967295|k>>>15),k=C+(A^V&(U^A))+z[3]+3250441966&4294967295,C=V+(k<<22&4294967295|k>>>10),k=A+(U^C&(V^U))+z[4]+4118548399&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(V^A&(C^V))+z[5]+1200080426&4294967295,U=A+(k<<12&4294967295|k>>>20),k=V+(C^U&(A^C))+z[6]+2821735955&4294967295,V=U+(k<<17&4294967295|k>>>15),k=C+(A^V&(U^A))+z[7]+4249261313&4294967295,C=V+(k<<22&4294967295|k>>>10),k=A+(U^C&(V^U))+z[8]+1770035416&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(V^A&(C^V))+z[9]+2336552879&4294967295,U=A+(k<<12&4294967295|k>>>20),k=V+(C^U&(A^C))+z[10]+4294925233&4294967295,V=U+(k<<17&4294967295|k>>>15),k=C+(A^V&(U^A))+z[11]+2304563134&4294967295,C=V+(k<<22&4294967295|k>>>10),k=A+(U^C&(V^U))+z[12]+1804603682&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(V^A&(C^V))+z[13]+4254626195&4294967295,U=A+(k<<12&4294967295|k>>>20),k=V+(C^U&(A^C))+z[14]+2792965006&4294967295,V=U+(k<<17&4294967295|k>>>15),k=C+(A^V&(U^A))+z[15]+1236535329&4294967295,C=V+(k<<22&4294967295|k>>>10),k=A+(V^U&(C^V))+z[1]+4129170786&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^V&(A^C))+z[6]+3225465664&4294967295,U=A+(k<<9&4294967295|k>>>23),k=V+(A^C&(U^A))+z[11]+643717713&4294967295,V=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(V^U))+z[0]+3921069994&4294967295,C=V+(k<<20&4294967295|k>>>12),k=A+(V^U&(C^V))+z[5]+3593408605&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^V&(A^C))+z[10]+38016083&4294967295,U=A+(k<<9&4294967295|k>>>23),k=V+(A^C&(U^A))+z[15]+3634488961&4294967295,V=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(V^U))+z[4]+3889429448&4294967295,C=V+(k<<20&4294967295|k>>>12),k=A+(V^U&(C^V))+z[9]+568446438&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^V&(A^C))+z[14]+3275163606&4294967295,U=A+(k<<9&4294967295|k>>>23),k=V+(A^C&(U^A))+z[3]+4107603335&4294967295,V=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(V^U))+z[8]+1163531501&4294967295,C=V+(k<<20&4294967295|k>>>12),k=A+(V^U&(C^V))+z[13]+2850285829&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^V&(A^C))+z[2]+4243563512&4294967295,U=A+(k<<9&4294967295|k>>>23),k=V+(A^C&(U^A))+z[7]+1735328473&4294967295,V=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(V^U))+z[12]+2368359562&4294967295,C=V+(k<<20&4294967295|k>>>12),k=A+(C^V^U)+z[5]+4294588738&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^V)+z[8]+2272392833&4294967295,U=A+(k<<11&4294967295|k>>>21),k=V+(U^A^C)+z[11]+1839030562&4294967295,V=U+(k<<16&4294967295|k>>>16),k=C+(V^U^A)+z[14]+4259657740&4294967295,C=V+(k<<23&4294967295|k>>>9),k=A+(C^V^U)+z[1]+2763975236&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^V)+z[4]+1272893353&4294967295,U=A+(k<<11&4294967295|k>>>21),k=V+(U^A^C)+z[7]+4139469664&4294967295,V=U+(k<<16&4294967295|k>>>16),k=C+(V^U^A)+z[10]+3200236656&4294967295,C=V+(k<<23&4294967295|k>>>9),k=A+(C^V^U)+z[13]+681279174&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^V)+z[0]+3936430074&4294967295,U=A+(k<<11&4294967295|k>>>21),k=V+(U^A^C)+z[3]+3572445317&4294967295,V=U+(k<<16&4294967295|k>>>16),k=C+(V^U^A)+z[6]+76029189&4294967295,C=V+(k<<23&4294967295|k>>>9),k=A+(C^V^U)+z[9]+3654602809&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^V)+z[12]+3873151461&4294967295,U=A+(k<<11&4294967295|k>>>21),k=V+(U^A^C)+z[15]+530742520&4294967295,V=U+(k<<16&4294967295|k>>>16),k=C+(V^U^A)+z[2]+3299628645&4294967295,C=V+(k<<23&4294967295|k>>>9),k=A+(V^(C|~U))+z[0]+4096336452&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~V))+z[7]+1126891415&4294967295,U=A+(k<<10&4294967295|k>>>22),k=V+(A^(U|~C))+z[14]+2878612391&4294967295,V=U+(k<<15&4294967295|k>>>17),k=C+(U^(V|~A))+z[5]+4237533241&4294967295,C=V+(k<<21&4294967295|k>>>11),k=A+(V^(C|~U))+z[12]+1700485571&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~V))+z[3]+2399980690&4294967295,U=A+(k<<10&4294967295|k>>>22),k=V+(A^(U|~C))+z[10]+4293915773&4294967295,V=U+(k<<15&4294967295|k>>>17),k=C+(U^(V|~A))+z[1]+2240044497&4294967295,C=V+(k<<21&4294967295|k>>>11),k=A+(V^(C|~U))+z[8]+1873313359&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~V))+z[15]+4264355552&4294967295,U=A+(k<<10&4294967295|k>>>22),k=V+(A^(U|~C))+z[6]+2734768916&4294967295,V=U+(k<<15&4294967295|k>>>17),k=C+(U^(V|~A))+z[13]+1309151649&4294967295,C=V+(k<<21&4294967295|k>>>11),k=A+(V^(C|~U))+z[4]+4149444226&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~V))+z[11]+3174756917&4294967295,U=A+(k<<10&4294967295|k>>>22),k=V+(A^(U|~C))+z[2]+718787259&4294967295,V=U+(k<<15&4294967295|k>>>17),k=C+(U^(V|~A))+z[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const C=A-this.blockSize,z=this.C;let V=this.h,U=0;for(;U<A;){if(V==0)for(;U<=C;)a(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(z[V++]=N.charCodeAt(U++),V==this.blockSize){a(this,z),V=0;break}}else for(;U<A;)if(z[V++]=N[U++],V==this.blockSize){a(this,z),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,C=0;C<4;++C)for(let z=0;z<32;z+=8)N[A++]=this.g[C]>>>z&255;return N};function o(N,A){var C=h;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=A(N)}function c(N,A){this.h=A;const C=[];let z=!0;for(let V=N.length-1;V>=0;V--){const U=N[V]|0;z&&U==A||(C[V]=U,z=!1)}this.g=C}var h={};function d(N){return-128<=N&&N<128?o(N,function(A){return new c([A|0],A<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return P(g(-N));const A=[];let C=1;for(let z=0;N>=C;z++)A[z]=N/C|0,C*=4294967296;return new c(A,0)}function v(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return P(v(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(A,8));let z=_;for(let U=0;U<N.length;U+=8){var V=Math.min(8,N.length-U);const k=parseInt(N.substring(U,U+V),A);V<8?(V=g(Math.pow(A,V)),z=z.j(V).add(g(k))):(z=z.j(C),z=z.add(g(k)))}return z}var _=d(0),E=d(1),T=d(16777216);t=c.prototype,t.m=function(){if(j(this))return-P(this).m();let N=0,A=1;for(let C=0;C<this.g.length;C++){const z=this.i(C);N+=(z>=0?z:4294967296+z)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(j(this))return"-"+P(this).toString(N);const A=g(Math.pow(N,6));var C=this;let z="";for(;;){const V=le(C,A).g;C=Z(C,V.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=V,D(C))return U+z;for(;U.length<6;)U="0"+U;z=U+z}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function j(N){return N.h==-1}t.l=function(N){return N=Z(this,N),j(N)?-1:D(N)?0:1};function P(N){const A=N.g.length,C=[];for(let z=0;z<A;z++)C[z]=~N.g[z];return new c(C,~N.h).add(E)}t.abs=function(){return j(this)?P(this):this},t.add=function(N){const A=Math.max(this.g.length,N.g.length),C=[];let z=0;for(let V=0;V<=A;V++){let U=z+(this.i(V)&65535)+(N.i(V)&65535),k=(U>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);z=k>>>16,U&=65535,k&=65535,C[V]=k<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function Z(N,A){return N.add(P(A))}t.j=function(N){if(D(this)||D(N))return _;if(j(this))return j(N)?P(this).j(P(N)):P(P(this).j(N));if(j(N))return P(this.j(P(N)));if(this.l(T)<0&&N.l(T)<0)return g(this.m()*N.m());const A=this.g.length+N.g.length,C=[];for(var z=0;z<2*A;z++)C[z]=0;for(z=0;z<this.g.length;z++)for(let V=0;V<N.g.length;V++){const U=this.i(z)>>>16,k=this.i(z)&65535,Ge=N.i(V)>>>16,Ze=N.i(V)&65535;C[2*z+2*V]+=k*Ze,X(C,2*z+2*V),C[2*z+2*V+1]+=U*Ze,X(C,2*z+2*V+1),C[2*z+2*V+1]+=k*Ge,X(C,2*z+2*V+1),C[2*z+2*V+2]+=U*Ge,X(C,2*z+2*V+2)}for(N=0;N<A;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=A;N<2*A;N++)C[N]=0;return new c(C,0)};function X(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function K(N,A){this.g=N,this.h=A}function le(N,A){if(D(A))throw Error("division by zero");if(D(N))return new K(_,_);if(j(N))return A=le(P(N),A),new K(P(A.g),P(A.h));if(j(A))return A=le(N,P(A)),new K(P(A.g),A.h);if(N.g.length>30){if(j(N)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var C=E,z=A;z.l(N)<=0;)C=Q(C),z=Q(z);var V=ae(C,1),U=ae(z,1);for(z=ae(z,2),C=ae(C,2);!D(z);){var k=U.add(z);k.l(N)<=0&&(V=V.add(C),U=k),z=ae(z,1),C=ae(C,1)}return A=Z(N,V.j(A)),new K(V,A)}for(V=_;N.l(A)>=0;){for(C=Math.max(1,Math.floor(N.m()/A.m())),z=Math.ceil(Math.log(C)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),U=g(C),k=U.j(A);j(k)||k.l(N)>0;)C-=z,U=g(C),k=U.j(A);D(U)&&(U=E),V=V.add(U),N=Z(N,k)}return new K(V,N)}t.B=function(N){return le(this,N).h},t.and=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let z=0;z<A;z++)C[z]=this.i(z)&N.i(z);return new c(C,this.h&N.h)},t.or=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let z=0;z<A;z++)C[z]=this.i(z)|N.i(z);return new c(C,this.h|N.h)},t.xor=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let z=0;z<A;z++)C[z]=this.i(z)^N.i(z);return new c(C,this.h^N.h)};function Q(N){const A=N.g.length+1,C=[];for(let z=0;z<A;z++)C[z]=N.i(z)<<1|N.i(z-1)>>>31;return new c(C,N.h)}function ae(N,A){const C=A>>5;A%=32;const z=N.g.length-C,V=[];for(let U=0;U<z;U++)V[U]=A>0?N.i(U+C)>>>A|N.i(U+C+1)<<32-A:N.i(U+C);return new c(V,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ZS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Ji=c}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var YS,Iu,XS,wf,By,JS,WS,eA;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof lf=="object"&&lf];for(var b=0;b<f.length;++b){var w=f[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function a(f,b){if(b)e:{var w=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var q=f[I];if(!(q in w))break e;w=w[q]}f=f[f.length-1],I=w[f],b=b(I),b!=I&&b!=null&&e(w,f,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(b){var w=[],I;for(I in b)Object.prototype.hasOwnProperty.call(b,I)&&w.push([I,b[I]]);return w}});var o=o||{},c=this||self;function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function d(f,b,w){return f.call.apply(f.bind,arguments)}function g(f,b,w){return g=d,g.apply(null,arguments)}function v(f,b){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function _(f,b){function w(){}w.prototype=b.prototype,f.Z=b.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(I,q,J){for(var me=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)me[ke-2]=arguments[ke];return b.prototype[q].apply(I,me)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function T(f){const b=f.length;if(b>0){const w=Array(b);for(let I=0;I<b;I++)w[I]=f[I];return w}return[]}function D(f,b){for(let I=1;I<arguments.length;I++){const q=arguments[I];var w=typeof q;if(w=w!="object"?w:q?Array.isArray(q)?"array":w:"null",w=="array"||w=="object"&&typeof q.length=="number"){w=f.length||0;const J=q.length||0;f.length=w+J;for(let me=0;me<J;me++)f[w+me]=q[me]}else f.push(q)}}class j{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function P(f){c.setTimeout(()=>{throw f},0)}function Z(){var f=N;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class X{constructor(){this.h=this.g=null}add(b,w){const I=K.get();I.set(b,w),this.h?this.h.next=I:this.g=I,this.h=I}}var K=new j(()=>new le,f=>f.reset());class le{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,ae=!1,N=new X,A=()=>{const f=Promise.resolve(void 0);Q=()=>{f.then(C)}};function C(){for(var f;f=Z();){try{f.h.call(f.g)}catch(w){P(w)}var b=K;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}ae=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};c.addEventListener("test",w,b),c.removeEventListener("test",w,b)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function Ge(f,b){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}_(Ge,V),Ge.prototype.init=function(f,b){const w=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(w=="mouseover"?b=f.fromElement:w=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),W=0;function de(f,b,w,I,q){this.listener=f,this.proxy=null,this.src=b,this.type=w,this.capture=!!I,this.ha=q,this.key=++W,this.da=this.fa=!1}function ce(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f,b,w){for(const I in f)b.call(w,f[I],I,f)}function Fe(f,b){for(const w in f)b.call(void 0,f[w],w,f)}function R(f){const b={};for(const w in f)b[w]=f[w];return b}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(f,b){let w,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(w in I)f[w]=I[w];for(let J=0;J<$.length;J++)w=$[J],Object.prototype.hasOwnProperty.call(I,w)&&(f[w]=I[w])}}function ue(f){this.src=f,this.g={},this.h=0}ue.prototype.add=function(f,b,w,I,q){const J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);const me=Ne(f,b,I,q);return me>-1?(b=f[me],w||(b.fa=!1)):(b=new de(b,this.src,J,!!I,q),b.fa=w,f.push(b)),b};function Ee(f,b){const w=b.type;if(w in f.g){var I=f.g[w],q=Array.prototype.indexOf.call(I,b,void 0),J;(J=q>=0)&&Array.prototype.splice.call(I,q,1),J&&(ce(b),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Ne(f,b,w,I){for(let q=0;q<f.length;++q){const J=f[q];if(!J.da&&J.listener==b&&J.capture==!!w&&J.ha==I)return q}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),At={};function nt(f,b,w,I,q){if(Array.isArray(b)){for(let J=0;J<b.length;J++)nt(f,b[J],w,I,q);return null}return w=gc(w),f&&f[Ze]?f.J(b,w,h(I)?!!I.capture:!1,q):er(f,b,w,!1,I,q)}function er(f,b,w,I,q,J){if(!b)throw Error("Invalid event type");const me=h(q)?!!q.capture:!!q;let ke=ha(f);if(ke||(f[xe]=ke=new ue(f)),w=ke.add(b,w,I,me,J),w.proxy)return w;if(I=Ur(),w.proxy=I,I.src=f,I.listener=w,f.addEventListener)U||(q=me),q===void 0&&(q=!1),f.addEventListener(b.toString(),I,q);else if(f.attachEvent)f.attachEvent(Fr(b.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ur(){function f(w){return b.call(f.src,f.listener,w)}const b=mc;return f}function Er(f,b,w,I,q){if(Array.isArray(b))for(var J=0;J<b.length;J++)Er(f,b[J],w,I,q);else I=h(I)?!!I.capture:!!I,w=gc(w),f&&f[Ze]?(f=f.i,J=String(b).toString(),J in f.g&&(b=f.g[J],w=Ne(b,w,I,q),w>-1&&(ce(b[w]),Array.prototype.splice.call(b,w,1),b.length==0&&(delete f.g[J],f.h--)))):f&&(f=ha(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Ne(b,w,I,q)),(w=f>-1?b[f]:null)&&Ro(w))}function Ro(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ze])Ee(b.i,f);else{var w=f.type,I=f.proxy;b.removeEventListener?b.removeEventListener(w,I,f.capture):b.detachEvent?b.detachEvent(Fr(w),I):b.addListener&&b.removeListener&&b.removeListener(I),(w=ha(b))?(Ee(w,f),w.h==0&&(w.src=null,b[xe]=null)):ce(f)}}}function Fr(f){return f in At?At[f]:At[f]="on"+f}function mc(f,b){if(f.da)f=!0;else{b=new Ge(b,this);const w=f.listener,I=f.ha||f.src;f.fa&&Ro(f),f=w.call(I,b)}return f}function ha(f){return f=f[xe],f instanceof ue?f:null}var pc="__closure_events_fn_"+(Math.random()*1e9>>>0);function gc(f){return typeof f=="function"?f:(f[pc]||(f[pc]=function(b){return f.handleEvent(b)}),f[pc])}function zt(){z.call(this),this.i=new ue(this),this.M=this,this.G=null}_(zt,z),zt.prototype[Ze]=!0,zt.prototype.removeEventListener=function(f,b,w,I){Er(this,f,b,w,I)};function Yt(f,b){var w,I=f.G;if(I)for(w=[];I;I=I.G)w.push(I);if(f=f.M,I=b.type||b,typeof b=="string")b=new V(b,f);else if(b instanceof V)b.target=b.target||f;else{var q=b;b=new V(I,f),se(b,q)}q=!0;let J,me;if(w)for(me=w.length-1;me>=0;me--)J=b.g=w[me],q=si(J,I,!0,b)&&q;if(J=b.g=f,q=si(J,I,!0,b)&&q,q=si(J,I,!1,b)&&q,w)for(me=0;me<w.length;me++)J=b.g=w[me],q=si(J,I,!1,b)&&q}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const w=f.g[b];for(let I=0;I<w.length;I++)ce(w[I]);delete f.g[b],f.h--}}this.G=null},zt.prototype.J=function(f,b,w,I){return this.i.add(String(f),b,!1,w,I)},zt.prototype.K=function(f,b,w,I){return this.i.add(String(f),b,!0,w,I)};function si(f,b,w,I){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let q=!0;for(let J=0;J<b.length;++J){const me=b[J];if(me&&!me.da&&me.capture==w){const ke=me.listener,kt=me.ha||me.src;me.fa&&Ee(f.i,me),q=ke.call(kt,I)!==!1&&q}}return q&&!I.defaultPrevented}function np(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(f,b||0)}function Nh(f){f.g=np(()=>{f.g=null,f.i&&(f.i=!1,Nh(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class wn extends z{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Nh(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(f){z.call(this),this.h=f,this.g={}}_(da,z);var yc=[];function vc(f){Me(f.g,function(b,w){this.g.hasOwnProperty(w)&&Ro(b)},f),f.g={}}da.prototype.N=function(){da.Z.N.call(this),vc(this)},da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ii=c.JSON.stringify,rp=c.JSON.parse,Rh=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Ch(){}function Dh(){}var Tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){V.call(this,"d")}_(ln,V);function tr(){V.call(this,"c")}_(tr,V);var jt={},jh=null;function Co(){return jh=jh||new zt}jt.Ia="serverreachability";function kh(f){V.call(this,jt.Ia,f)}_(kh,V);function Br(f){const b=Co();Yt(b,new kh(b))}jt.STAT_EVENT="statevent";function fa(f,b){V.call(this,jt.STAT_EVENT,f),this.stat=b}_(fa,V);function Lt(f){const b=Co();Yt(b,new fa(b,f))}jt.Ja="timingevent";function qr(f,b){V.call(this,jt.Ja,f),this.size=b}_(qr,V);function $r(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},b)}function Sr(){this.g=!0}Sr.prototype.ua=function(){this.g=!1};function sp(f,b,w,I,q,J){f.info(function(){if(f.g)if(J){var me="",ke=J.split("&");for(let et=0;et<ke.length;et++){var kt=ke[et].split("=");if(kt.length>1){const yt=kt[0];kt=kt[1];const ir=yt.split("_");me=ir.length>=2&&ir[1]=="type"?me+(yt+"="+kt+"&"):me+(yt+"=redacted&")}}}else me=null;else me=J;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+b+`
`+w+`
`+me})}function Oh(f,b,w,I,q,J,me){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+b+`
`+w+`
`+J+" "+me})}function Hr(f,b,w,I){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+ip(f,w)+(I?" "+I:"")})}function ma(f,b){f.info(function(){return"TIMEOUT: "+b})}Sr.prototype.info=function(){};function ip(f,b){if(!f.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(f=0;f<J.length;f++)if(Array.isArray(J[f])){var w=J[f];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var q=I[0];if(q!="noop"&&q!="stop"&&q!="close")for(let me=1;me<I.length;me++)I[me]=""}}}}return ii(J)}catch{return b}}var pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_c={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bc;function ga(){}_(ga,Ch),ga.prototype.g=function(){return new XMLHttpRequest},bc=new ga;function bs(f){return encodeURIComponent(String(f))}function Ph(f){var b=1;f=f.split(":");const w=[];for(;b>0&&f.length;)w.push(f.shift()),b--;return f.length&&w.push(f.join(":")),w}function Ar(f,b,w,I){this.j=f,this.i=b,this.l=w,this.S=I||1,this.V=new da(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ir}function Ir(){this.i=null,this.g="",this.h=!1}var Ut={},nn={};function Gr(f,b,w){f.M=1,f.A=ya(Bt(b)),f.u=w,f.R=!0,Do(f,null)}function Do(f,b){f.F=Date.now(),Kr(f),f.B=Bt(f.A);var w=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),Po(w.i,"t",I),f.C=0,w=f.j.L,f.h=new Ir,f.g=Yh(f.j,w?b:null,!f.u),f.P>0&&(f.O=new wn(g(f.Y,f,f.g),f.P)),b=f.V,w=f.g,I=f.ba;var q="readystatechange";Array.isArray(q)||(q&&(yc[0]=q.toString()),q=yc);for(let J=0;J<q.length;J++){const me=nt(w,q[J],I||b.handleEvent,!1,b.h||b);if(!me)break;b.g[me.key]=me}b=f.J?R(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),Br(),sp(f.i,f.v,f.B,f.l,f.S,f.u)}Ar.prototype.ba=function(f){f=f.target;const b=this.O;b&&Cr(f)==3?b.j():this.Y(f)},Ar.prototype.Y=function(f){try{if(f==this.g)e:{const ke=Cr(this.g),kt=this.g.ya(),et=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||ke!=4||kt==7||(kt==8||et<=0?Br(3):Br(2)),Qr(this);var b=this.g.ca();this.X=b;var w=ap(this);if(this.o=b==200,Oh(this.i,this.v,this.B,this.l,this.S,ke,b),this.o){if(this.U&&!this.L){t:{if(this.g){var I,q=this.g;if((I=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var J=I;break t}}J=null}if(f=J)Hr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zr(this,f);else{this.o=!1,this.m=3,Lt(12),Un(this),nr(this);break e}}if(this.R){f=!0;let yt;for(;!this.K&&this.C<w.length;)if(yt=Vh(this,w),yt==nn){ke==4&&(this.m=4,Lt(14),f=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Ut){this.m=4,Lt(15),Hr(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else Hr(this.i,this.l,yt,null),Zr(this,yt);if(Mh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||w.length!=0||this.h.h||(this.m=1,Lt(16),f=!1),this.o=this.o&&f,!f)Hr(this.i,this.l,w,"[Invalid Chunked Response]"),Un(this),nr(this);else if(w.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Pc(me),me.P=!0,Lt(11))}}else Hr(this.i,this.l,w,null),Zr(this,w);ke==4&&Un(this),this.o&&!this.K&&(ke==4?Gh(this.j,this):(this.o=!1,Kr(this)))}else ws(this.g),b==400&&w.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Un(this),nr(this)}}}catch{}};function ap(f){if(!Mh(f))return f.g.la();const b=cn(f.g);if(b==="")return"";let w="";const I=b.length,q=Cr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Un(f),nr(f),"";f.h.i=new c.TextDecoder}for(let J=0;J<I;J++)f.h.h=!0,w+=f.h.i.decode(b[J],{stream:!(q&&J==I-1)});return b.length=0,f.h.g+=w,f.C=0,f.h.g}function Mh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Vh(f,b){var w=f.C,I=b.indexOf(`
`,w);return I==-1?nn:(w=Number(b.substring(w,I)),isNaN(w)?Ut:(I+=1,I+w>b.length?nn:(b=b.slice(I,I+w),f.C=I+w,b)))}Ar.prototype.cancel=function(){this.K=!0,Un(this)};function Kr(f){f.T=Date.now()+f.H,jo(f,f.H)}function jo(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=$r(g(f.aa,f),b)}function Qr(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Ar.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ma(this.i,this.B),this.M!=2&&(Br(),Lt(17)),Un(this),this.m=2,nr(this)):jo(this,this.T-f)};function nr(f){f.j.I==0||f.K||Gh(f.j,f)}function Un(f){Qr(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,vc(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Zr(f,b){try{var w=f.j;if(w.I!=0&&(w.g==f||Xr(w.h,f))){if(!f.L&&Xr(w.h,f)&&w.I==3){try{var I=w.Ba.g.parse(b)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)Uo(w),fi(w);else break e;Ta(w),Lt(18)}}else w.xa=q[1],0<w.xa-w.K&&q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=$r(g(w.Va,w),6e3));Yr(w.h)<=1&&w.ta&&(w.ta=void 0)}else rs(w,11)}else if((f.L||w.g==f)&&Uo(w),!k(b))for(q=w.Ba.g.parse(b),b=0;b<q.length;b++){let et=q[b];const yt=et[0];if(!(yt<=w.K))if(w.K=yt,et=et[1],w.I==2)if(et[0]=="c"){w.M=et[1],w.ba=et[2];const ir=et[3];ir!=null&&(w.ka=ir,w.j.info("VER="+w.ka));const ss=et[4];ss!=null&&(w.za=ss,w.j.info("SVER="+w.za));const Dr=et[5];Dr!=null&&typeof Dr=="number"&&Dr>0&&(I=1.5*Dr,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const jr=f.g;if(jr){const Sa=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var J=I.h;J.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ec(J,J.h),J.h=null))}if(I.G){const Fo=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(I.wa=Fo,rt(I.J,I.G,Fo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var me=f;if(I.na=Zh(I,I.L?I.ba:null,I.W),me.L){Tc(I.h,me);var ke=me,kt=I.O;kt&&(ke.H=kt),ke.D&&(Qr(ke),Kr(ke)),I.g=me}else $h(I);w.i.length>0&&ns(w)}else et[0]!="stop"&&et[0]!="close"||rs(w,7);else w.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?rs(w,7):kc(w):et[0]!="noop"&&w.l&&w.l.qa(et),w.A=0)}}Br(4)}catch{}}var Ft=class{constructor(f,b){this.g=f,this.map=b}};function xc(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Yr(f){return f.h?1:f.g?f.g.size:0}function Xr(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Ec(f,b){f.g?f.g.add(b):f.h=b}function Tc(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}xc.prototype.cancel=function(){if(this.i=Sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Sc(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const w of f.g.values())b=b.concat(w.G);return b}return T(f.i)}var zh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(f,b){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const I=f[w].indexOf("=");let q,J=null;I>=0?(q=f[w].substring(0,I),J=f[w].substring(I+1)):q=f[w],b(q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Fn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof Fn?(this.l=f.l,rn(this,f.j),this.o=f.o,this.g=f.g,ai(this,f.u),this.h=f.h,Ac(this,Bh(f.i)),this.m=f.m):f&&(b=String(f).match(zh))?(this.l=!1,rn(this,b[1]||"",!0),this.o=Jr(b[2]||""),this.g=Jr(b[3]||"",!0),ai(this,b[4]),this.h=Jr(b[5]||"",!0),Ac(this,b[6]||"",!0),this.m=Jr(b[7]||"")):(this.l=!1,this.i=new li(null,this.l))}Fn.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(va(b,Oo,!0),":");var w=this.g;return(w||b=="file")&&(f.push("//"),(b=this.o)&&f.push(va(b,Oo,!0),"@"),f.push(bs(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(va(w,w.charAt(0)=="/"?Ic:Lh,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",va(w,Uh)),f.join("")},Fn.prototype.resolve=function(f){const b=Bt(this);let w=!!f.j;w?rn(b,f.j):w=!!f.o,w?b.o=f.o:w=!!f.g,w?b.g=f.g:w=f.u!=null;var I=f.h;if(w)ai(b,f.u);else if(w=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var q=b.h.lastIndexOf("/");q!=-1&&(I=b.h.slice(0,q+1)+I)}if(q=I,q==".."||q==".")I="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){I=q.lastIndexOf("/",0)==0,q=q.split("/");const J=[];for(let me=0;me<q.length;){const ke=q[me++];ke=="."?I&&me==q.length&&J.push(""):ke==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),I&&me==q.length&&J.push("")):(J.push(ke),I=!0)}I=J.join("/")}else I=q}return w?b.h=I:w=f.i.toString()!=="",w?Ac(b,Bh(f.i)):w=!!f.m,w&&(b.m=f.m),b};function Bt(f){return new Fn(f)}function rn(f,b,w){f.j=w?Jr(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function ai(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Ac(f,b,w){b instanceof li?(f.i=b,Mo(f.i,f.l)):(w||(b=va(b,oi)),f.i=new li(b,f.l))}function rt(f,b,w){f.i.set(b,w)}function ya(f){return rt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Jr(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function va(f,b,w){return typeof f=="string"?(f=encodeURI(f).replace(b,Dn),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Dn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Oo=/[#\/\?@]/g,Lh=/[#\?:]/g,Ic=/[#\?]/g,oi=/[#\?@]/g,Uh=/#/g;function li(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function jn(f){f.g||(f.g=new Map,f.h=0,f.i&&ko(f.i,function(b,w){f.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}t=li.prototype,t.add=function(f,b){jn(this),this.i=null,f=ci(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(b),this.h+=1,this};function Fh(f,b){jn(f),b=ci(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Nc(f,b){return jn(f),b=ci(f,b),f.g.has(b)}t.forEach=function(f,b){jn(this),this.g.forEach(function(w,I){w.forEach(function(q){f.call(b,q,I,this)},this)},this)};function Rc(f,b){jn(f);let w=[];if(typeof b=="string")Nc(f,b)&&(w=w.concat(f.g.get(ci(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)w=w.concat(f[b]);return w}t.set=function(f,b){return jn(this),this.i=null,f=ci(this,f),Nc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=Rc(this,f),f.length>0?String(f[0]):b):b};function Po(f,b,w){Fh(f,b),w.length>0&&(f.i=null,f.g.set(ci(f,b),T(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let I=0;I<b.length;I++){var w=b[I];const q=bs(w);w=Rc(this,w);for(let J=0;J<w.length;J++){let me=q;w[J]!==""&&(me+="="+bs(w[J])),f.push(me)}}return this.i=f.join("&")};function Bh(f){const b=new li;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function ci(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Mo(f,b){b&&!f.j&&(jn(f),f.i=null,f.g.forEach(function(w,I){const q=I.toLowerCase();I!=q&&(Fh(this,I),Po(this,q,w))},f)),f.j=b}function Nr(f,b){const w=new Sr;if(c.Image){const I=new Image;I.onload=v(rr,w,"TestLoadImage: loaded",!0,b,I),I.onerror=v(rr,w,"TestLoadImage: error",!1,b,I),I.onabort=v(rr,w,"TestLoadImage: abort",!1,b,I),I.ontimeout=v(rr,w,"TestLoadImage: timeout",!1,b,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else b(!1)}function Cc(f,b){const w=new Sr,I=new AbortController,q=setTimeout(()=>{I.abort(),rr(w,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:I.signal}).then(J=>{clearTimeout(q),J.ok?rr(w,"TestPingServer: ok",!0,b):rr(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),rr(w,"TestPingServer: error",!1,b)})}function rr(f,b,w,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(w)}catch{}}function ui(){this.g=new Rh}function Wr(f){this.i=f.Sb||null,this.h=f.ab||!1}_(Wr,Ch),Wr.prototype.g=function(){return new _a(this.i,this.h)};function _a(f,b){zt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(_a,zt),t=_a.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Rr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?hi(this):Rr(this),this.readyState==3&&Vo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,hi(this))},t.Na=function(f){this.g&&(this.response=f,hi(this))},t.ga=function(){this.g&&hi(this)};function hi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Rr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=b.next();return f.join(`\r
`)};function Rr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function sr(f){let b="";return Me(f,function(w,I){b+=I,b+=":",b+=w,b+=`\r
`}),b}function ba(f,b,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=sr(w),typeof f=="string"?w!=null&&bs(w):rt(f,b,w))}function ut(f){zt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ut,zt);var es=/^https?$/i,Dc=["POST","PUT"];t=ut.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bc.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(J){xa(this,J);return}if(f=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)w.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())w.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),q=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Dc,b,void 0)>=0)||I||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of w)this.g.setRequestHeader(J,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(J){xa(this,J)}};function xa(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,jc(f),xs(f)}function jc(f){f.A||(f.A=!0,Yt(f,"complete"),Yt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Yt(this,"complete"),Yt(this,"abort"),xs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wa(this):this.Xa())},t.Xa=function(){wa(this)};function wa(f){if(f.h&&typeof o<"u"){if(f.v&&Cr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Yt(f,"readystatechange"),Cr(f)==4){f.h=!1;try{const J=f.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var I;if(I=J===0){let me=String(f.D).match(zh)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),I=!es.test(me?me.toLowerCase():"")}w=I}if(w)Yt(f,"complete"),Yt(f,"success");else{f.o=6;try{var q=Cr(f)>2?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.ca()+"]",jc(f)}}finally{xs(f)}}}}function xs(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,b||Yt(f,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Cr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Cr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),rp(b)}};function cn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(f){const b={};f=(f.g&&Cr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(k(f[I]))continue;var w=Ph(f[I]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=b[q]||[];b[q]=J,J.push(w)}Fe(b,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(f,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||b}function di(f){this.za=0,this.i=[],this.j=new Sr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,f),this.Za=ts("retryDelaySeedMs",1e4,f),this.Ta=ts("forwardChannelMaxRetries",2,f),this.va=ts("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new xc(f&&f.concurrentRequestLimit),this.Ba=new ui,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=di.prototype,t.ka=8,t.I=1,t.connect=function(f,b,w,I){Lt(0),this.W=f,this.H=b||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=Zh(this,null,this.W),ns(this)};function kc(f){if(zo(f),f.I==3){var b=f.V++,w=Bt(f.J);if(rt(w,"SID",f.M),rt(w,"RID",b),rt(w,"TYPE","terminate"),Ea(f,w),b=new Ar(f,f.j,b),b.M=2,b.A=ya(Bt(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=b.A,w=!0),w||(b.g=Yh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Kr(b)}Qh(f)}function fi(f){f.g&&(Pc(f),f.g.cancel(),f.g=null)}function zo(f){fi(f),f.v&&(c.clearTimeout(f.v),f.v=null),Uo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function ns(f){if(!wc(f.h)&&!f.m){f.m=!0;var b=f.Ea;Q||A(),ae||(Q(),ae=!0),N.add(b,f),f.D=0}}function Lo(f,b){return Yr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=$r(g(f.Ea,f,b),Kh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const q=new Ar(this,this.j,f);let J=this.o;if(this.U&&(J?(J=R(J),se(J,this.U)):J=this.U),this.u!==null||this.R||(q.J=J,J=null),this.S)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(b+=I,b>4096){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=qh(this,q,b),w=Bt(this.J),rt(w,"RID",f),rt(w,"CVER",22),this.G&&rt(w,"X-HTTP-Session-Id",this.G),Ea(this,w),J&&(this.R?b="headers="+bs(sr(J))+"&"+b:this.u&&ba(w,this.u,J)),Ec(this.h,q),this.Ra&&rt(w,"TYPE","init"),this.S?(rt(w,"$req",b),rt(w,"SID","null"),q.U=!0,Gr(q,w,null)):Gr(q,w,b),this.I=2}}else this.I==3&&(f?Oc(this,f):this.i.length==0||wc(this.h)||Oc(this))};function Oc(f,b){var w;b?w=b.l:w=f.V++;const I=Bt(f.J);rt(I,"SID",f.M),rt(I,"RID",w),rt(I,"AID",f.K),Ea(f,I),f.u&&f.o&&ba(I,f.u,f.o),w=new Ar(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),b&&(f.i=b.G.concat(f.i)),b=qh(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ec(f.h,w),Gr(w,I,b)}function Ea(f,b){f.H&&Me(f.H,function(w,I){rt(b,I,w)}),f.l&&Me({},function(w,I){rt(b,I,w)})}function qh(f,b,w){w=Math.min(f.i.length,w);const I=f.l?g(f.l.Ka,f.l,f):null;e:{var q=f.i;let ke=-1;for(;;){const kt=["count="+w];ke==-1?w>0?(ke=q[0].g,kt.push("ofs="+ke)):ke=0:kt.push("ofs="+ke);let et=!0;for(let yt=0;yt<w;yt++){var J=q[yt].g;const ir=q[yt].map;if(J-=ke,J<0)ke=Math.max(0,q[yt].g-100),et=!1;else try{J="req"+J+"_"||"";try{var me=ir instanceof Map?ir:Object.entries(ir);for(const[ss,Dr]of me){let jr=Dr;h(Dr)&&(jr=ii(Dr)),kt.push(J+ss+"="+encodeURIComponent(jr))}}catch(ss){throw kt.push(J+"type="+encodeURIComponent("_badmap")),ss}}catch{I&&I(ir)}}if(et){me=kt.join("&");break e}}me=void 0}return f=f.i.splice(0,w),b.G=f,me}function $h(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;Q||A(),ae||(Q(),ae=!0),N.add(b,f),f.A=0}}function Ta(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=$r(g(f.Da,f),Kh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Hh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=$r(g(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),fi(this),Hh(this))};function Pc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Hh(f){f.g=new Ar(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Bt(f.na);rt(b,"RID","rpc"),rt(b,"SID",f.M),rt(b,"AID",f.K),rt(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&rt(b,"TO",f.ia),rt(b,"TYPE","xmlhttp"),Ea(f,b),f.u&&f.o&&ba(b,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=ya(Bt(b)),w.u=null,w.R=!0,Do(w,f)}t.Va=function(){this.C!=null&&(this.C=null,fi(this),Ta(this),Lt(19))};function Uo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Gh(f,b){var w=null;if(f.g==b){Uo(f),Pc(f),f.g=null;var I=2}else if(Xr(f.h,b))w=b.G,Tc(f.h,b),I=1;else return;if(f.I!=0){if(b.o)if(I==1){w=b.u?b.u.length:0,b=Date.now()-b.F;var q=f.D;I=Co(),Yt(I,new qr(I,w)),ns(f)}else $h(f);else if(q=b.m,q==3||q==0&&b.X>0||!(I==1&&Lo(f,b)||I==2&&Ta(f)))switch(w&&w.length>0&&(b=f.h,b.i=b.i.concat(w)),q){case 1:rs(f,5);break;case 4:rs(f,10);break;case 3:rs(f,6);break;default:rs(f,2)}}}function Kh(f,b){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*b}function rs(f,b){if(f.j.info("Error code "+b),b==2){var w=g(f.bb,f),I=f.Ua;const q=!I;I=new Fn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rn(I,"https"),ya(I),q?Nr(I.toString(),w):Cc(I.toString(),w)}else Lt(2);f.I=0,f.l&&f.l.pa(b),Qh(f),zo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Qh(f){if(f.I=0,f.ja=[],f.l){const b=Sc(f.h);(b.length!=0||f.i.length!=0)&&(D(f.ja,b),D(f.ja,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.oa()}}function Zh(f,b,w){var I=w instanceof Fn?Bt(w):new Fn(w);if(I.g!="")b&&(I.g=b+"."+I.g),ai(I,I.u);else{var q=c.location;I=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;const J=new Fn(null);I&&rn(J,I),b&&(J.g=b),q&&ai(J,q),w&&(J.h=w),I=J}return w=f.G,b=f.wa,w&&b&&rt(I,w,b),rt(I,"VER",f.ka),Ea(f,I),I}function Yh(f,b,w){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ut(new Wr({ab:w})):new ut(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xh(){}t=Xh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mi(){}mi.prototype.g=function(f,b){return new En(f,b)};function En(f,b){zt.call(this),this.g=new di(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!k(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!k(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Es(this)}_(En,zt),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){kc(this.g)},En.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=ii(f),f=w);b.i.push(new Ft(b.Ya++,f)),b.I==3&&ns(b)},En.prototype.N=function(){this.g.l=null,delete this.j,kc(this.g),delete this.g,En.Z.N.call(this)};function Jh(f){ln.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const w in b){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}_(Jh,ln);function Wh(){tr.call(this),this.status=1}_(Wh,tr);function Es(f){this.g=f}_(Es,Xh),Es.prototype.ra=function(){Yt(this.g,"a")},Es.prototype.qa=function(f){Yt(this.g,new Jh(f))},Es.prototype.pa=function(f){Yt(this.g,new Wh)},Es.prototype.oa=function(){Yt(this.g,"b")},mi.prototype.createWebChannel=mi.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,eA=function(){return new mi},WS=function(){return Co()},JS=jt,By={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,wf=pa,_c.COMPLETE="complete",XS=_c,Dh.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",zt.prototype.listen=zt.prototype.J,Iu=Dh,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,YS=ut}).apply(typeof lf<"u"?lf:typeof self<"u"?self:typeof window<"u"?window:{});const yE="@firebase/firestore",vE="4.9.3";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let oc="12.7.0";const ho=new kv("@firebase/firestore");function Tl(){return ho.logLevel}function he(t,...e){if(ho.logLevel<=$e.DEBUG){const n=e.map(Mv);ho.debug(`Firestore (${oc}): ${t}`,...n)}}function In(t,...e){if(ho.logLevel<=$e.ERROR){const n=e.map(Mv);ho.error(`Firestore (${oc}): ${t}`,...n)}}function fo(t,...e){if(ho.logLevel<=$e.WARN){const n=e.map(Mv);ho.warn(`Firestore (${oc}): ${t}`,...n)}}function Mv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tA(t,r,n)}function tA(t,e,n){let r=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw In(r),new Error(r)}function we(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||tA(e,a,r)}function De(t,e){return t}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class nA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class y4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class v4{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fs,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new nA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class _4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class b4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _E{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _E(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _E(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function w4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Vv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=w4(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function qy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return gy(a)===gy(o)?Ce(a,o):gy(a)?1:-1}return Ce(t.length,e.length)}const E4=55296,T4=57343;function gy(t){const e=t.charCodeAt(0);return e>=E4&&e<=T4}function zl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}function rA(t){return t+"\0"}const bE="__name__";class cs{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=cs.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ce(e.length,n.length)}static compareSegments(e,n){const r=cs.isNumericId(e),a=cs.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?cs.extractNumericId(e).compare(cs.extractNumericId(n)):qy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class Je extends cs{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const S4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends cs{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return S4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bE}static keyField(){return new Et([bE])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(o(),a++)}if(o(),c)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Je.fromString(e))}static fromName(e){return new pe(Je.fromString(e).popFirst(5))}static empty(){return new pe(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Je(e.slice()))}}function sA(t,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function A4(t,e,n,r){if(e===!0&&r===!0)throw new fe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xE(t){if(!pe.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wE(t){if(pe.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function Jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nm(t);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function I4(t,e){if(e<=0)throw new fe(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function mh(t,e){if(!iA(t))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}const EE=-62135596800,TE=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*TE);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<EE)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TE}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mh(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-EE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Qt("string",at._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new at(0,0))}static max(){return new Ae(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ku=-1;class Kf{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function $y(t){return t.fields.find((e=>e.kind===2))}function $a(t){return t.fields.filter((e=>e.kind!==2))}Kf.UNKNOWN_ID=-1;class Ef{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qu(0,Wn.min())}}function N4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Wn(a,pe.empty(),e)}function aA(t){return new Wn(t.readTime,t.key,Ku)}class Wn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wn(Ae.min(),pe.empty(),Ku)}static max(){return new Wn(Ae.max(),pe.empty(),Ku)}}function zv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}const oA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==oA)throw t;he("LocalStore","Unexpectedly lost primary lease")}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):B.reject(n)}static resolve(e){return new B(((n,r)=>{n(e)}))}static reject(e){return new B(((n,r)=>{r(e)}))}static waitFor(e){return new B(((n,r)=>{let a=0,o=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&n()}),(d=>r(d)))})),c=!0,o===a&&n()}))}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next((a=>a?B.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new B(((r,a)=>{const o=e.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const g=d;n(e[g]).next((v=>{c[g]=v,++h,h===o&&r(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new B(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}const Zn="SimpleDb";class Rm{static open(e,n,r,a){try{return new Rm(n,e.transaction(a,r))}catch(o){throw new Ou(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new fs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Ou(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=Lv(r.target.error);this.S.reject(new Ou(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(he(Zn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new C4(n)}}class Wi{static delete(e){return he(Zn,"Removing database:",e),Ga(kS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!BS())return!1;if(Wi.F())return!0;const e=en(),n=Wi.M(e),r=0<n&&n<10,a=cA(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Wi.M(en())===12.2&&In("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(he(Zn,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const c=o.target.result;n(c)},a.onblocked=()=>{r(new Ou(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const c=o.target.error;c.name==="VersionError"?r(new fe(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new fe(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Ou(e,c))},a.onupgradeneeded=o=>{he(Zn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,a.transaction,o.oldVersion,this.version).next((()=>{he(Zn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,a){const o=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const h=Rm.open(this.db,e,o?"readonly":"readwrite",r),d=a(h).next((g=>(h.C(),g))).catch((g=>(h.abort(g),B.reject(g)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,g=d.name!=="FirebaseError"&&c<3;if(he(Zn,"Transaction failed with error:",d.message,"Retrying:",g),this.close(),!g)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function cA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class R4{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ga(this.U.delete())}}class Ou extends fe{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function aa(t){return t.name==="IndexedDbTransactionError"}class C4{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(he(Zn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(he(Zn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ga(r)}add(e){return he(Zn,"ADD",this.store.name,e,e),Ga(this.store.add(e))}get(e){return Ga(this.store.get(e)).next((n=>(n===void 0&&(n=null),he(Zn,"GET",this.store.name,e,n),n)))}delete(e){return he(Zn,"DELETE",this.store.name,e),Ga(this.store.delete(e))}count(){return he(Zn,"COUNT",this.store.name),Ga(this.store.count())}J(e,n){const r=this.options(e,n),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(r.range);return new B(((c,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{c(d.target.result)}}))}{const o=this.cursor(r),c=[];return this.H(o,((h,d)=>{c.push(d)})).next((()=>c))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B(((a,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}Z(e,n){he(Zn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const a=this.cursor(r);return this.H(a,((o,c,h)=>h.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.H(a,n)}te(e){const n=this.cursor({});return new B(((r,a)=>{n.onerror=o=>{const c=Lv(o.target.error);a(c)},n.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((h=>{h?c.continue():r()})):r()}}))}H(e,n){const r=[];return new B(((a,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void a();const d=new R4(h),g=n(h.primaryKey,h.value,d);if(g instanceof B){const v=g.catch((_=>(d.done(),B.reject(_))));r.push(v)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>B.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ga(t){return new B(((e,n)=>{t.onsuccess=r=>{const a=r.target.result;e(a)},t.onerror=r=>{const a=Lv(r.target.error);n(a)}}))}let SE=!1;function Lv(t){const e=Wi.M(en());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return SE||(SE=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Pu="IndexBackfiller";class D4{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){he(Pu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();he(Pu,`Documents written: ${n}`)}catch(n){aa(n)?he(Pu,"Ignoring IndexedDB error during index backfill: ",n):await So(n)}await this.re(6e4)}))}}class j4{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let a=n,o=!0;return B.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return he(Pu,`Processing collection: ${c}`),this.oe(e,c,a).next((h=>{a-=h,r.add(c)}));o=!1})))).next((()=>n-a))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,o))).next((h=>(he(Pu,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,n,h)))).next((()=>c.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((a,o)=>{const c=aA(o);zv(c,r)>0&&(r=c)})),new Wn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class gr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gr.ce=-1;const Wa=-1;function Cm(t){return t==null}function Zu(t){return t===0&&1/t==-1/0}function k4(t){return typeof t=="number"&&Number.isInteger(t)&&!Zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Qf="";function bn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AE(e)),e=O4(t.get(n),e);return AE(e)}function O4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case Qf:n+="";break;default:n+=o}}return n}function AE(t){return t+Qf+""}function hs(t){const e=t.length;if(we(e>=2,64408,{path:t}),e===2)return we(t.charAt(0)===Qf&&t.charAt(1)==="",56145,{path:t}),Je.emptyPath();const n=e-2,r=[];let a="";for(let o=0;o<e;){const c=t.indexOf(Qf,o);switch((c<0||c>n)&&_e(50515,{path:t}),t.charAt(c+1)){case"":const h=t.substring(o,c);let d;a.length===0?d=h:(a+=h,d=a,a=""),r.push(d);break;case"":a+=t.substring(o,c),a+="\0";break;case"":a+=t.substring(o,c+1);break;default:_e(61167,{path:t})}o=c+2}return new Je(r)}const Ha="remoteDocuments",ph="owner",vl="owner",Yu="mutationQueues",P4="userId",Mr="mutations",IE="batchId",Xa="userMutationsIndex",NE=["userId","batchId"];function Tf(t,e){return[t,bn(e)]}function uA(t,e,n){return[t,bn(e),n]}const M4={},Ll="documentMutations",Zf="remoteDocumentsV14",V4=["prefixPath","collectionGroup","readTime","documentId"],Sf="documentKeyIndex",z4=["prefixPath","collectionGroup","documentId"],hA="collectionGroupIndex",L4=["collectionGroup","readTime","prefixPath","documentId"],Xu="remoteDocumentGlobal",Hy="remoteDocumentGlobalKey",Ul="targets",dA="queryTargetsIndex",U4=["canonicalId","targetId"],Fl="targetDocuments",F4=["targetId","path"],Uv="documentTargetsIndex",B4=["path","targetId"],Yf="targetGlobalKey",eo="targetGlobal",Ju="collectionParents",q4=["collectionId","parent"],Bl="clientMetadata",$4="clientId",Dm="bundles",H4="bundleId",jm="namedQueries",G4="name",Fv="indexConfiguration",K4="indexId",Gy="collectionGroupIndex",Q4="collectionGroup",Mu="indexState",Z4=["indexId","uid"],fA="sequenceNumberIndex",Y4=["uid","sequenceNumber"],Vu="indexEntries",X4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mA="documentKeyIndex",J4=["indexId","uid","orderedDocumentKey"],km="documentOverlays",W4=["userId","collectionPath","documentId"],Ky="collectionPathOverlayIndex",eM=["userId","collectionPath","largestBatchId"],pA="collectionGroupOverlayIndex",tM=["userId","collectionGroup","largestBatchId"],Bv="globals",nM="name",gA=[Yu,Mr,Ll,Ha,Ul,ph,eo,Fl,Bl,Xu,Ju,Dm,jm],rM=[...gA,km],yA=[Yu,Mr,Ll,Zf,Ul,ph,eo,Fl,Bl,Xu,Ju,Dm,jm,km],vA=yA,qv=[...vA,Fv,Mu,Vu],sM=qv,_A=[...qv,Bv],iM=_A;class Qy extends lA{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function tn(t,e){const n=De(t);return Wi.O(n.le,e)}function RE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cf(this.root,e,this.comparator,!0)}}class cf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=a??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new pn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ct{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CE(this.data.getIterator())}getIteratorFrom(e){return new CE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class CE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _l(t){return t.hasNext()?t.getNext():void 0}class yr{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new yr([])}unionWith(e){let n=new ct(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class xA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xA("Invalid base64 string: "+o):o}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const aM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(t){if(we(!!t,39018),typeof t=="string"){let e=0;const n=aM.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}const wA="server_timestamp",EA="__type__",TA="__previous_value__",SA="__local_write_time__";function Om(t){return(t?.mapValue?.fields||{})[EA]?.stringValue===wA}function Pm(t){const e=t.mapValue.fields[TA];return Om(e)?Pm(e):e}function Wu(t){const e=Zs(t.mapValue.fields[SA].timestampValue);return new at(e.seconds,e.nanos)}class oM{constructor(e,n,r,a,o,c,h,d,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=g,this.isUsingEmulator=v}}const Xf="(default)";class mo{constructor(e,n){this.projectId=e,this.database=n||Xf}static empty(){return new mo("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(e){return e instanceof mo&&e.projectId===this.projectId&&e.database===this.database}}const $v="__type__",AA="__max__",Ki={mapValue:{fields:{__type__:{stringValue:AA}}}},Hv="__vector__",ql="value",Af={nullValue:"NULL_VALUE"};function ta(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Om(t)?4:IA(t)?9007199254740991:Mm(t)?10:11:_e(28295,{value:t})}function ys(t,e){if(t===e)return!0;const n=ta(t);if(n!==ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wu(t).isEqual(Wu(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Zs(a.timestampValue),h=Zs(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Ys(a.bytesValue).isEqual(Ys(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return _t(a.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(a.geoPointValue.longitude)===_t(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return _t(a.integerValue)===_t(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=_t(a.doubleValue),h=_t(o.doubleValue);return c===h?Zu(c)===Zu(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(RE(c)!==RE(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!ys(c[d],h[d])))return!1;return!0})(t,e);default:return _e(52216,{left:t})}}function eh(t,e){return(t.values||[]).find((n=>ys(n,e)))!==void 0}function na(t,e){if(t===e)return 0;const n=ta(t),r=ta(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=_t(o.integerValue||o.doubleValue),d=_t(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return DE(t.timestampValue,e.timestampValue);case 4:return DE(Wu(t),Wu(e));case 5:return qy(t.stringValue,e.stringValue);case 6:return(function(o,c){const h=Ys(o),d=Ys(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let g=0;g<h.length&&g<d.length;g++){const v=Ce(h[g],d[g]);if(v!==0)return v}return Ce(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=Ce(_t(o.latitude),_t(c.latitude));return h!==0?h:Ce(_t(o.longitude),_t(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return jE(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},d=c.fields||{},g=h[ql]?.arrayValue,v=d[ql]?.arrayValue,_=Ce(g?.values?.length||0,v?.values?.length||0);return _!==0?_:jE(g,v)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Ki.mapValue&&c===Ki.mapValue)return 0;if(o===Ki.mapValue)return 1;if(c===Ki.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),g=c.fields||{},v=Object.keys(g);d.sort(),v.sort();for(let _=0;_<d.length&&_<v.length;++_){const E=qy(d[_],v[_]);if(E!==0)return E;const T=na(h[d[_]],g[v[_]]);if(T!==0)return T}return Ce(d.length,v.length)})(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function DE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Zs(t),r=Zs(e),a=Ce(n.seconds,r.seconds);return a!==0?a:Ce(n.nanos,r.nanos)}function jE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=na(n[a],r[a]);if(o)return o}return Ce(n.length,r.length)}function $l(t){return Zy(t)}function Zy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Zs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ys(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Zy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Zy(n.fields[c])}`;return a+"}"})(t.mapValue):_e(61005,{value:t})}function If(t){switch(ta(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pm(t);return e?16+If(e):16;case 5:return 2*t.stringValue.length;case 6:return Ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+If(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Ao(r.fields,((o,c)=>{a+=o.length+If(c)})),a})(t.mapValue);default:throw _e(13486,{value:t})}}function po(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yy(t){return!!t&&"integerValue"in t}function th(t){return!!t&&"arrayValue"in t}function kE(t){return!!t&&"nullValue"in t}function OE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nf(t){return!!t&&"mapValue"in t}function Mm(t){return(t?.mapValue?.fields||{})[$v]?.stringValue===Hv}function zu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=zu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return{...t}}function IA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AA}const NA={mapValue:{fields:{[$v]:{stringValue:Hv},[ql]:{arrayValue:{}}}}};function lM(t){return"nullValue"in t?Af:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?po(mo.empty(),pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Mm(t)?NA:{mapValue:{}}:_e(35942,{value:t})}function cM(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?po(mo.empty(),pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?NA:"mapValue"in t?Mm(t)?{mapValue:{}}:Ki:_e(61959,{value:t})}function PE(t,e){const n=na(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function ME(t,e){const n=na(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=Et.emptyPath(),r={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}c?r[h.lastSegment()]=zu(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Nf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new zn(zu(this.value))}}function RA(t){const e=[];return Ao(t.fields,((n,r)=>{const a=new Et([n]);if(Nf(r)){const o=RA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new yr(e)}class Rt{constructor(e,n,r,a,o,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Rt(e,0,Ae.min(),Ae.min(),Ae.min(),zn.empty(),0)}static newFoundDocument(e,n,r,a){return new Rt(e,1,n,Ae.min(),r,a,0)}static newNoDocument(e,n){return new Rt(e,2,n,Ae.min(),Ae.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,Ae.min(),Ae.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ra{constructor(e,n){this.position=e,this.inclusive=n}}function VE(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(c.referenceValue),n.key):r=na(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ys(t.position[n],e.position[n]))return!1;return!0}class Jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function uM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class CA{}class He extends CA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hM(e,n,r):n==="array-contains"?new mM(e,r):n==="in"?new MA(e,r):n==="not-in"?new pM(e,r):n==="array-contains-any"?new gM(e,r):new He(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dM(e,r):new fM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(na(n,this.value)):n!==null&&ta(this.value)===ta(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends CA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ot(e,n)}matches(e){return Hl(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Hl(t){return t.op==="and"}function Xy(t){return t.op==="or"}function Gv(t){return DA(t)&&Hl(t)}function DA(t){for(const e of t.filters)if(e instanceof ot)return!1;return!0}function Jy(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+$l(t.value);if(Gv(t))return t.filters.map((e=>Jy(e))).join(",");{const e=t.filters.map((n=>Jy(n))).join(",");return`${t.op}(${e})`}}function jA(t,e){return t instanceof He?(function(r,a){return a instanceof He&&r.op===a.op&&r.field.isEqual(a.field)&&ys(r.value,a.value)})(t,e):t instanceof ot?(function(r,a){return a instanceof ot&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,h)=>o&&jA(c,a.filters[h])),!0):!1})(t,e):void _e(19439)}function kA(t,e){const n=t.filters.concat(e);return ot.create(n,t.op)}function OA(t){return t instanceof He?(function(n){return`${n.field.canonicalString()} ${n.op} ${$l(n.value)}`})(t):t instanceof ot?(function(n){return n.op.toString()+" {"+n.getFilters().map(OA).join(" ,")+"}"})(t):"Filter"}class hM extends He{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class dM extends He{constructor(e,n){super(e,"in",n),this.keys=PA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fM extends He{constructor(e,n){super(e,"not-in",n),this.keys=PA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function PA(t,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class mM extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return th(n)&&eh(n.arrayValue,this.value)}}class MA extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eh(this.value.arrayValue,n)}}class pM extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eh(this.value.arrayValue,n)}}class gM extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!th(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>eh(this.value.arrayValue,r)))}}class yM{constructor(e,n=null,r=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Wy(t,e=null,n=[],r=[],a=null,o=null,c=null){return new yM(t,e,n,r,a,o,c)}function go(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Jy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Cm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>$l(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>$l(r))).join(",")),e.Te=n}return e.Te}function gh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zE(t.startAt,e.startAt)&&zE(t.endAt,e.endAt)}function Wf(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function em(t,e){return t.filters.filter((n=>n instanceof He&&n.field.isEqual(e)))}function LE(t,e,n){let r=Af,a=!0;for(const o of em(t,e)){let c=Af,h=!0;switch(o.op){case"<":case"<=":c=lM(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=Af}PE({value:r,inclusive:a},{value:c,inclusive:h})<0&&(r=c,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];PE({value:r,inclusive:a},{value:c,inclusive:n.inclusive})<0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}function UE(t,e,n){let r=Ki,a=!0;for(const o of em(t,e)){let c=Ki,h=!0;switch(o.op){case">=":case">":c=cM(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=Ki}ME({value:r,inclusive:a},{value:c,inclusive:h})>0&&(r=c,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];ME({value:r,inclusive:a},{value:c,inclusive:n.inclusive})>0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}class lc{constructor(e,n=null,r=[],a=[],o=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vM(t,e,n,r,a,o,c,h){return new lc(t,e,n,r,a,o,c,h)}function yh(t){return new lc(t)}function FE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kv(t){return t.collectionGroup!==null}function Cl(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new ct(Et.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Jf(o,r))})),n.has(Et.keyField().canonicalString())||e.Ie.push(new Jf(Et.keyField(),r))}return e.Ie}function _r(t){const e=De(t);return e.Ee||(e.Ee=_M(e,Cl(t))),e.Ee}function _M(t,e){if(t.limitType==="F")return Wy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Jf(a.field,o)}));const n=t.endAt?new ra(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ra(t.startAt.position,t.startAt.inclusive):null;return Wy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ev(t,e){const n=t.filters.concat([e]);return new lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tm(t,e,n){return new lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vm(t,e){return gh(_r(t),_r(e))&&t.limitType===e.limitType}function VA(t){return`${go(_r(t))}|lt:${t.limitType}`}function Sl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>OA(a))).join(", ")}]`),Cm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>$l(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>$l(a))).join(",")),`Target(${r})`})(_r(t))}; limitType=${t.limitType})`}function vh(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of Cl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,h,d){const g=VE(c,h,d);return c.inclusive?g<=0:g<0})(r.startAt,Cl(r),a)||r.endAt&&!(function(c,h,d){const g=VE(c,h,d);return c.inclusive?g>=0:g>0})(r.endAt,Cl(r),a))})(t,e)}function bM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zA(t){return(e,n)=>{let r=!1;for(const a of Cl(t)){const o=xM(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function xM(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):(function(o,c,h){const d=c.data.field(o),g=h.data.field(o);return d!==null&&g!==null?na(d,g):_e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}class ti{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return bA(this.inner)}size(){return this.innerSize}}const wM=new bt(pe.comparator);function Xn(){return wM}const LA=new bt(pe.comparator);function Nu(...t){let e=LA;for(const n of t)e=e.insert(n.key,n);return e}function UA(t){let e=LA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ds(){return Lu()}function FA(){return Lu()}function Lu(){return new ti((t=>t.toString()),((t,e)=>t.isEqual(e)))}const EM=new bt(pe.comparator),TM=new ct(pe.comparator);function ze(...t){let e=TM;for(const n of t)e=e.add(n);return e}const SM=new ct(Ce);function AM(){return SM}function Qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zu(e)?"-0":e}}function BA(t){return{integerValue:""+t}}function IM(t,e){return k4(e)?BA(e):Qv(t,e)}class zm{constructor(){this._=void 0}}function NM(t,e,n){return t instanceof Gl?(function(a,o){const c={fields:{[EA]:{stringValue:wA},[SA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Om(o)&&(o=Pm(o)),o&&(c.fields[TA]=o),{mapValue:c}})(n,e):t instanceof Kl?$A(t,e):t instanceof Ql?HA(t,e):(function(a,o){const c=qA(a,o),h=BE(c)+BE(a.Ae);return Yy(c)&&Yy(a.Ae)?BA(h):Qv(a.serializer,h)})(t,e)}function RM(t,e,n){return t instanceof Kl?$A(t,e):t instanceof Ql?HA(t,e):n}function qA(t,e){return t instanceof nh?(function(r){return Yy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Gl extends zm{}class Kl extends zm{constructor(e){super(),this.elements=e}}function $A(t,e){const n=GA(e);for(const r of t.elements)n.some((a=>ys(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Ql extends zm{constructor(e){super(),this.elements=e}}function HA(t,e){let n=GA(e);for(const r of t.elements)n=n.filter((a=>!ys(a,r)));return{arrayValue:{values:n}}}class nh extends zm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BE(t){return _t(t.integerValue||t.doubleValue)}function GA(t){return th(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class KA{constructor(e,n){this.field=e,this.transform=n}}function CM(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Kl&&a instanceof Kl||r instanceof Ql&&a instanceof Ql?zl(r.elements,a.elements,ys):r instanceof nh&&a instanceof nh?ys(r.Ae,a.Ae):r instanceof Gl&&a instanceof Gl})(t.transform,e.transform)}class DM{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lm{}function QA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Um(t.key,Rn.none()):new cc(t.key,t.data,Rn.none());{const n=t.data,r=zn.empty();let a=new ct(Et.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new oa(t.key,r,new yr(a.toArray()),Rn.none())}}function jM(t,e,n){t instanceof cc?(function(a,o,c){const h=a.value.clone(),d=$E(a.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof oa?(function(a,o,c){if(!Rf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=$E(a.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(ZA(a)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Uu(t,e,n,r){return t instanceof cc?(function(o,c,h,d){if(!Rf(o.precondition,c))return h;const g=o.value.clone(),v=HE(o.fieldTransforms,d,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,r):t instanceof oa?(function(o,c,h,d){if(!Rf(o.precondition,c))return h;const g=HE(o.fieldTransforms,d,c),v=c.data;return v.setAll(ZA(o)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(o,c,h){return Rf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function kM(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=qA(r.transform,a||null);o!=null&&(n===null&&(n=zn.empty()),n.set(r.field,o))}return n||null}function qE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&zl(r,a,((o,c)=>CM(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cc extends Lm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oa extends Lm{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ZA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function $E(t,e,n){const r=new Map;we(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,h=e.data.field(o.field);r.set(o.field,RM(c,h,n[a]))}return r}function HE(t,e,n){const r=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);r.set(a.field,NM(o,c,e))}return r}class Um extends Lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YA extends Lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zv{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&jM(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FA();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=n.has(a.key)?null:h;const d=QA(c,h);d!==null&&r.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,((n,r)=>qE(n,r)))&&zl(this.baseMutations,e.baseMutations,((n,r)=>qE(n,r)))}}class Yv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return EM})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new Yv(e,n,r,a)}}class Xv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Kt,Qe;function PM(t){switch(t){case te.OK:return _e(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function XA(t){if(t===void 0)return In("GRPC error has no .code"),te.UNKNOWN;switch(t){case Kt.OK:return te.OK;case Kt.CANCELLED:return te.CANCELLED;case Kt.UNKNOWN:return te.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return te.INTERNAL;case Kt.UNAVAILABLE:return te.UNAVAILABLE;case Kt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Kt.NOT_FOUND:return te.NOT_FOUND;case Kt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Kt.ABORTED:return te.ABORTED;case Kt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Kt.DATA_LOSS:return te.DATA_LOSS;default:return _e(39323,{code:t})}}(Qe=Kt||(Kt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function MM(){return new TextEncoder}const VM=new Ji([4294967295,4294967295],0);function GE(t){const e=MM().encode(t),n=new ZS;return n.update(e),new Uint8Array(n.digest())}function KE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ji([n,r],0),new Ji([a,o],0)]}class Jv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ru(`Invalid padding: ${n}`);if(r<0)throw new Ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ji.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ji.fromNumber(r)));return a.compare(VM)===1&&(a=new Ji([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GE(e),[r,a]=KE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Jv(o,a,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=GE(e),[r,a]=KE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fm{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,_h.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fm(Ae.min(),a,new bt(Ce),Xn(),ze())}}class _h{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _h(r,n,ze(),ze(),ze())}}class Cf{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class JA{constructor(e,n){this.targetId=e,this.Ce=n}}class WA{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class QE{constructor(){this.ve=0,this.Fe=ZE(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),r=ze();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:_e(38017,{changeType:o})}})),new _h(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ZE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xn(),this.Je=uf(),this.He=uf(),this.Ye=new bt(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(Wf(o))if(r===0){const c=new pe(o.path);this.et(n,c,Rt.newNoDocument(c,Ae.min()))}else we(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let c,h;try{c=Ys(r).toUint8Array()}catch(d){if(d instanceof xA)return fo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Jv(c,a,o)}catch(d){return fo(d instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Wf(h.target)){const d=new pe(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,Rt.newNoDocument(d,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let r=ze();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const g=this.ot(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Fm(e,n,this.Ye,this.je,r);return this.je=Xn(),this.Je=uf(),this.He=uf(),this.Ye=new bt(Ce),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new QE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ct(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ct(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new QE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uf(){return new bt(pe.comparator)}function ZE(){return new bt(pe.comparator)}const LM={asc:"ASCENDING",desc:"DESCENDING"},UM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FM={and:"AND",or:"OR"};class BM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tv(t,e){return t.useProto3Json||Cm(e)?e:{value:e}}function Zl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qM(t,e){return Zl(t,e.toTimestamp())}function Cn(t){return we(!!t,49232),Ae.fromTimestamp((function(n){const r=Zs(n);return new at(r.seconds,r.nanos)})(t))}function Wv(t,e){return nv(t,e).canonicalString()}function nv(t,e){const n=(function(a){return new Je(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function tI(t){const e=Je.fromString(t);return we(uI(e),10190,{key:e.toString()}),e}function nm(t,e){return Wv(t.databaseId,e.path)}function to(t,e){const n=tI(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(sI(n))}function nI(t,e){return Wv(t.databaseId,e)}function rI(t){const e=tI(t);return e.length===4?Je.emptyPath():sI(e)}function rv(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sI(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function YE(t,e,n){return{name:nm(t,e),fields:n.value.mapValue.fields}}function $M(t,e,n){const r=to(t,e.name),a=Cn(e.updateTime),o=e.createTime?Cn(e.createTime):Ae.min(),c=new zn({mapValue:{fields:e.fields}}),h=Rt.newFoundDocument(r,a,o,c);return n&&h.setHasCommittedMutations(),n?h.setHasCommittedMutations():h}function HM(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(g,v){return g.useProto3Json?(we(v===void 0||typeof v=="string",58123),Zt.fromBase64String(v||"")):(we(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Zt.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const v=g.code===void 0?te.UNKNOWN:XA(g.code);return new fe(v,g.message||"")})(c);n=new WA(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=to(t,r.document.name),o=Cn(r.document.updateTime),c=r.document.createTime?Cn(r.document.createTime):Ae.min(),h=new zn({mapValue:{fields:r.document.fields}}),d=Rt.newFoundDocument(a,o,c,h),g=r.targetIds||[],v=r.removedTargetIds||[];n=new Cf(g,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=to(t,r.document),o=r.readTime?Cn(r.readTime):Ae.min(),c=Rt.newNoDocument(a,o),h=r.removedTargetIds||[];n=new Cf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=to(t,r.document),o=r.removedTargetIds||[];n=new Cf([],o,a,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new OM(a,o),h=r.targetId;n=new JA(h,c)}}return n}function rm(t,e){let n;if(e instanceof cc)n={update:YE(t,e.key,e.value)};else if(e instanceof Um)n={delete:nm(t,e.key)};else if(e instanceof oa)n={update:YE(t,e.key,e.data),updateMask:XM(e.fieldMask)};else{if(!(e instanceof YA))return _e(16599,{Vt:e.type});n={verify:nm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof Gl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Kl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ql)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof nh)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw _e(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:qM(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e(27497)})(t,e.precondition)),n}function sv(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Rn.updateTime(Cn(o.updateTime)):o.exists!==void 0?Rn.exists(o.exists):Rn.none()})(e.currentDocument):Rn.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(c,h){let d=null;if("setToServerValue"in h)we(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Gl;else if("appendMissingElements"in h){const v=h.appendMissingElements.values||[];d=new Kl(v)}else if("removeAllFromArray"in h){const v=h.removeAllFromArray.values||[];d=new Ql(v)}else"increment"in h?d=new nh(c,h.increment):_e(16584,{proto:h});const g=Et.fromServerFormat(h.fieldPath);return new KA(g,d)})(t,a))):[];if(e.update){e.update.name;const a=to(t,e.update.name),o=new zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(d){const g=d.fieldPaths||[];return new yr(g.map((v=>Et.fromServerFormat(v))))})(e.updateMask);return new oa(a,o,c,n,r)}return new cc(a,o,n,r)}if(e.delete){const a=to(t,e.delete);return new Um(a,n)}if(e.verify){const a=to(t,e.verify);return new YA(a,n)}return _e(1463,{proto:e})}function GM(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map((n=>(function(a,o){let c=a.updateTime?Cn(a.updateTime):Cn(o);return c.isEqual(Ae.min())&&(c=Cn(o)),new DM(c,a.transformResults||[])})(n,e)))):[]}function iI(t,e){return{documents:[nI(t,e.path)]}}function aI(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nI(t,a);const o=(function(g){if(g.length!==0)return cI(ot.create(g,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:Al(E.field),direction:QM(E.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=tv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function oI(t){let e=rI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){we(r===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];n.where&&(o=(function(_){const E=lI(_);return E instanceof ot&&Gv(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(D){return new Jf(Il(D.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,Cm(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(_){const E=!!_.before,T=_.values||[];return new ra(T,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const E=!_.before,T=_.values||[];return new ra(T,E)})(n.endAt)),vM(e,a,c,o,h,"F",d,g)}function KM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Il(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Il(n.unaryFilter.field);return He.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Il(n.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Il(n.unaryFilter.field);return He.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return He.create(Il(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ot.create(n.compositeFilter.filters.map((r=>lI(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(t):_e(30097,{filter:t})}function QM(t){return LM[t]}function ZM(t){return UM[t]}function YM(t){return FM[t]}function Al(t){return{fieldPath:t.canonicalString()}}function Il(t){return Et.fromServerFormat(t.fieldPath)}function cI(t){return t instanceof He?(function(n){if(n.op==="=="){if(OE(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NAN"}};if(kE(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OE(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NOT_NAN"}};if(kE(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(n.field),op:ZM(n.op),value:n.value}}})(t):t instanceof ot?(function(n){const r=n.getFilters().map((a=>cI(a)));return r.length===1?r[0]:{compositeFilter:{op:YM(n.op),filters:r}}})(t):_e(54877,{filter:t})}function XM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function uI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Bs{constructor(e,n,r,a,o=Ae.min(),c=Ae.min(),h=Zt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hI{constructor(e){this.yt=e}}function JM(t,e){let n;if(e.document)n=$M(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),a=vo(e.noDocument.readTime);n=Rt.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e(56709);{const r=pe.fromSegments(e.unknownDocument.path),a=vo(e.unknownDocument.version);n=Rt.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime((function(a){const o=new at(a[0],a[1]);return Ae.fromTimestamp(o)})(e.readTime)),n}function XE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:sm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,c){return{name:nm(o,c.key),fields:c.data.value.mapValue.fields,updateTime:Zl(o,c.version.toTimestamp()),createTime:Zl(o,c.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:yo(e.version)};else{if(!e.isUnknownDocument())return _e(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:yo(e.version)}}return r}function sm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function yo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vo(t){const e=new at(t.seconds,t.nanoseconds);return Ae.fromTimestamp(e)}function Ka(t,e){const n=(e.baseMutations||[]).map((o=>sv(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];c.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>sv(t.yt,o))),a=at.fromMillis(e.localWriteTimeMs);return new Zv(e.batchId,a,n,r)}function Cu(t){const e=vo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?vo(t.lastLimboFreeSnapshotVersion):Ae.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const c=o.documents.length;return we(c===1,1966,{count:c}),_r(yh(rI(o.documents[0])))})(t.query):(function(o){return _r(oI(o))})(t.query),new Bs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Zt.fromBase64String(t.resumeToken))}function dI(t,e){const n=yo(e.snapshotVersion),r=yo(e.lastLimboFreeSnapshotVersion);let a;a=Wf(e.target)?iI(t.yt,e.target):aI(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:go(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function fI(t){const e=oI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tm(e,e.limit,"L"):e}function yy(t,e){return new Xv(e.largestBatchId,sv(t.yt,e.overlayMutation))}function JE(t,e){const n=e.path.lastSegment();return[t,bn(e.path.popLast()),n]}function WE(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:yo(r.readTime),documentKey:bn(r.documentKey.path),largestBatchId:r.largestBatchId}}class WM{getBundleMetadata(e,n){return e1(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:vo(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return e1(e).put((function(a){return{bundleId:a.id,createTime:yo(Cn(a.createTime)),version:a.version}})(n))}getNamedQuery(e,n){return t1(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:fI(o.bundledQuery),readTime:vo(o.readTime)}})(r)}))}saveNamedQuery(e,n){return t1(e).put((function(a){return{name:a.name,readTime:yo(Cn(a.readTime)),bundledQuery:a.bundledQuery}})(n))}}function e1(t){return tn(t,Dm)}function t1(t){return tn(t,jm)}class Bm{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Bm(e,r)}getOverlay(e,n){return wu(e).get(JE(this.userId,n)).next((r=>r?yy(this.serializer,r):null))}getOverlays(e,n){const r=ds();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){const a=[];return r.forEach(((o,c)=>{const h=new Xv(n,c);a.push(this.St(e,h))})),B.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach((c=>a.add(bn(c.getCollectionPath()))));const o=[];return a.forEach((c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(wu(e).Z(Ky,h))})),B.waitFor(o)}getOverlaysForCollection(e,n,r){const a=ds(),o=bn(n),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return wu(e).J(Ky,c).next((h=>{for(const d of h){const g=yy(this.serializer,d);a.set(g.getKey(),g)}return a}))}getOverlaysForCollectionGroup(e,n,r,a){const o=ds();let c;const h=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return wu(e).ee({index:pA,range:h},((d,g,v)=>{const _=yy(this.serializer,g);o.size()<a||_.largestBatchId===c?(o.set(_.getKey(),_),c=_.largestBatchId):v.done()})).next((()=>o))}St(e,n){return wu(e).put((function(a,o,c){const[h,d,g]=JE(o,c.mutation.key);return{userId:o,collectionPath:d,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:rm(a.yt,c.mutation)}})(this.serializer,this.userId,n))}}function wu(t){return tn(t,km)}class e3{bt(e){return tn(e,Bv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?Zt.fromUint8Array(r):Zt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Qa{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(_t(e.integerValue));else if("doubleValue"in e){const r=_t(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Zu(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Zs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ys(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?IA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Mm(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):_e(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const a of Object.keys(r))this.Ot(a,n),this.Ct(r[a],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const a=ql,o=r[a].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(_t(o)),this.Ot(a,n),this.Ct(r[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const a of r)this.Ct(a,n)}Lt(e,n){this.Ft(n,37),pe.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Qa.Kt=new Qa;const bl=255;function t3(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function n1(t){const e=64-(function(r){let a=0;for(let o=0;o<8;++o){const c=t3(255&r[o]);if(a+=c,c!==8)break}return a})(t);return Math.ceil(e/8)}class n3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=n.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=n.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const n=this.en(e),r=n1(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}nn(e){const n=this.en(e),r=n1(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}rn(){this.sn(bl),this.sn(255)}_n(){this.an(bl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===bl?(this.sn(bl),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===bl?(this.an(bl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class r3{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class s3{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Eu{constructor(){this.cn=new n3,this.ln=new r3(this.cn),this.hn=new s3(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Za{constructor(e,n,r,a){this.Tn=e,this.In=n,this.En=r,this.dn=a}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Za(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Df(this.En),directionalValue:Df(this.dn),orderedDocumentKey:Df(n),documentKey:r.path.toArray()}}Vn(e,n,r){const a=this.Rn(e,n,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function zi(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=r1(t.En,e.En),n!==0?n:(n=r1(t.dn,e.dn),n!==0?n:pe.comparator(t.In,e.In)))}function r1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Df(t){return FS()?(function(n){let r="";for(let a=0;a<n.length;a++)r+=String.fromCharCode(n[a]);return r})(t):t}function s1(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(t)}class i1{constructor(e){this.mn=new ct(((n,r)=>Et.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(we(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=$y(e);if(n!==void 0&&!this.wn(n))return!1;const r=$a(e);let a=new Set,o=0,c=0;for(;o<r.length&&this.wn(r[o]);++o)a=a.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=r[o];if(!this.Sn(h,d)||!this.bn(this.fn[c++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(c>=this.fn.length||!this.bn(this.fn[c++],h))return!1}return!0}Dn(){if(this.pn)return null;let e=new ct(Et.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ef(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ef(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ef(r.field,r.dir==="asc"?0:1)));return new Kf(Kf.UNKNOWN_ID,this.collectionId,n,Qu.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function mI(t){if(we(t instanceof He||t instanceof ot,20012),t instanceof He){if(t instanceof MA){const n=t.value.arrayValue?.values?.map((r=>He.create(t.field,"==",r)))||[];return ot.create(n,"or")}return t}const e=t.filters.map((n=>mI(n)));return ot.create(e,t.op)}function i3(t){if(t.getFilters().length===0)return[];const e=ov(mI(t));return we(pI(e),7391),iv(e)||av(e)?[e]:e.getFilters()}function iv(t){return t instanceof He}function av(t){return t instanceof ot&&Gv(t)}function pI(t){return iv(t)||av(t)||(function(n){if(n instanceof ot&&Xy(n)){for(const r of n.getFilters())if(!iv(r)&&!av(r))return!1;return!0}return!1})(t)}function ov(t){if(we(t instanceof He||t instanceof ot,34018),t instanceof He)return t;if(t.filters.length===1)return ov(t.filters[0]);const e=t.filters.map((r=>ov(r)));let n=ot.create(e,t.op);return n=im(n),pI(n)?n:(we(n instanceof ot,64498),we(Hl(n),40251),we(n.filters.length>1,57927),n.filters.reduce(((r,a)=>e_(r,a))))}function e_(t,e){let n;return we(t instanceof He||t instanceof ot,38388),we(e instanceof He||e instanceof ot,25473),n=t instanceof He?e instanceof He?(function(a,o){return ot.create([a,o],"and")})(t,e):a1(t,e):e instanceof He?a1(e,t):(function(a,o){if(we(a.filters.length>0&&o.filters.length>0,48005),Hl(a)&&Hl(o))return kA(a,o.getFilters());const c=Xy(a)?a:o,h=Xy(a)?o:a,d=c.filters.map((g=>e_(g,h)));return ot.create(d,"or")})(t,e),im(n)}function a1(t,e){if(Hl(e))return kA(e,t.getFilters());{const n=e.filters.map((r=>e_(t,r)));return ot.create(n,"or")}}function im(t){if(we(t instanceof He||t instanceof ot,11850),t instanceof He)return t;const e=t.getFilters();if(e.length===1)return im(e[0]);if(DA(t))return t;const n=e.map((a=>im(a))),r=[];return n.forEach((a=>{a instanceof He?r.push(a):a instanceof ot&&(a.op===t.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:ot.create(r,t.op)}class a3{constructor(){this.Cn=new t_}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Wn.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Wn.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class t_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new ct(Je.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ct(Je.comparator)).toArray()}}const o1="IndexedDbIndexManager",hf=new Uint8Array(0);class o3{constructor(e,n){this.databaseId=n,this.vn=new t_,this.Fn=new ti((r=>go(r)),((r,a)=>gh(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:bn(a)};return l1(e).put(o)}return B.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[rA(n),""],!1,!0);return l1(e).J(a).next((o=>{for(const c of o){if(c.collectionId!==n)break;r.push(hs(c.parent))}return r}))}addFieldIndex(e,n){const r=Tu(e),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete a.indexId;const o=r.add(a);if(n.indexState){const c=wl(e);return o.next((h=>{c.put(WE(h,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=Tu(e),a=wl(e),o=xl(e);return r.delete(n.indexId).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Tu(e),r=xl(e),a=wl(e);return n.Z().next((()=>r.Z())).next((()=>a.Z()))}createTargetIndexes(e,n){return B.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const o=new i1(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=xl(e);let a=!0;const o=new Map;return B.forEach(this.Mn(n),(c=>this.xn(e,c).next((h=>{a&&(a=!!h),o.set(c,h)})))).next((()=>{if(a){let c=ze();const h=[];return B.forEach(o,((d,g)=>{he(o1,`Using index ${(function(K){return`id=${K.indexId}|cg=${K.collectionGroup}|f=${K.fields.map((le=>`${le.fieldPath}:${le.kind}`)).join(",")}`})(d)} to execute ${go(n)}`);const v=(function(K,le){const Q=$y(le);if(Q===void 0)return null;for(const ae of em(K,Q.fieldPath))switch(ae.op){case"array-contains-any":return ae.value.arrayValue.values||[];case"array-contains":return[ae.value]}return null})(g,d),_=(function(K,le){const Q=new Map;for(const ae of $a(le))for(const N of em(K,ae.fieldPath))switch(N.op){case"==":case"in":Q.set(ae.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return Q.set(ae.fieldPath.canonicalString(),N.value),Array.from(Q.values())}return null})(g,d),E=(function(K,le){const Q=[];let ae=!0;for(const N of $a(le)){const A=N.kind===0?LE(K,N.fieldPath,K.startAt):UE(K,N.fieldPath,K.startAt);Q.push(A.value),ae&&(ae=A.inclusive)}return new ra(Q,ae)})(g,d),T=(function(K,le){const Q=[];let ae=!0;for(const N of $a(le)){const A=N.kind===0?UE(K,N.fieldPath,K.endAt):LE(K,N.fieldPath,K.endAt);Q.push(A.value),ae&&(ae=A.inclusive)}return new ra(Q,ae)})(g,d),D=this.On(d,g,E),j=this.On(d,g,T),P=this.Nn(d,g,_),Z=this.Bn(d.indexId,v,D,E.inclusive,j,T.inclusive,P);return B.forEach(Z,(X=>r.Y(X,n.limit).next((K=>{K.forEach((le=>{const Q=pe.fromSegments(le.documentKey);c.has(Q)||(c=c.add(Q),h.push(Q))}))}))))})).next((()=>h))}return B.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=i3(ot.create(e.filters,"and")).map((r=>Wy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,a,o,c,h){const d=(n!=null?n.length:1)*Math.max(r.length,o.length),g=d/(n!=null?n.length:1),v=[];for(let _=0;_<d;++_){const E=n?this.Ln(n[_/g]):hf,T=this.kn(e,E,r[_%g],a),D=this.qn(e,E,o[_%g],c),j=h.map((P=>this.kn(e,E,P,!0)));v.push(...this.createRange(T,D,j))}return v}kn(e,n,r,a){const o=new Za(e,pe.empty(),n,r);return a?o:o.An()}qn(e,n,r,a){const o=new Za(e,pe.empty(),n,r);return a?o.An():o}xn(e,n){const r=new i1(n),a=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let c=null;for(const h of o)r.yn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c}))}getIndexType(e,n){let r=2;const a=this.Mn(n);return B.forEach(a,(o=>this.xn(e,o).next((c=>{c?r!==0&&c.fields.length<(function(d){let g=new ct(Et.comparator),v=!1;for(const _ of d.filters)for(const E of _.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?v=!0:g=g.add(E.field));for(const _ of d.orderBy)_.field.isKeyField()||(g=g.add(_.field));return g.size+(v?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(n)&&a.length>1&&r===2?1:r))}Qn(e,n){const r=new Eu;for(const a of $a(e)){const o=n.data.field(a.fieldPath);if(o==null)return null;const c=r.Pn(a.kind);Qa.Kt.Dt(o,c)}return r.un()}Ln(e){const n=new Eu;return Qa.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Eu;return Qa.Kt.Dt(po(this.databaseId,n),r.Pn((function(o){const c=$a(o);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let a=[];a.push(new Eu);let o=0;for(const c of $a(e)){const h=r[o++];for(const d of a)if(this.Un(n,c.fieldPath)&&th(h))a=this.Kn(a,c,h);else{const g=d.Pn(c.kind);Qa.Kt.Dt(h,g)}}return this.Wn(a)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const a=[...e],o=[];for(const c of r.arrayValue.values||[])for(const h of a){const d=new Eu;d.seed(h.un()),Qa.Kt.Dt(c,d.Pn(n.kind)),o.push(d)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof He&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Tu(e),a=wl(e);return(n?r.J(Gy,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const c=[];return B.forEach(o,(h=>a.get([h.indexId,this.uid]).next((d=>{c.push((function(v,_){const E=_?new Qu(_.sequenceNumber,new Wn(vo(_.readTime),new pe(hs(_.documentKey)),_.largestBatchId)):Qu.empty(),T=v.fields.map((([D,j])=>new Ef(Et.fromServerFormat(D),j)));return new Kf(v.indexId,v.collectionGroup,T,E)})(h,d))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,a)=>{const o=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:Ce(r.collectionGroup,a.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const a=Tu(e),o=wl(e);return this.Gn(e).next((c=>a.J(Gy,IDBKeyRange.bound(n,n)).next((h=>B.forEach(h,(d=>o.put(WE(d.indexId,this.uid,c,r))))))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,((a,o)=>{const c=r.get(a.collectionGroup);return(c?B.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((h=>(r.set(a.collectionGroup,h),B.forEach(h,(d=>this.zn(e,a,d).next((g=>{const v=this.jn(o,d);return g.isEqual(v)?B.resolve():this.Jn(e,o,d,g,v)})))))))}))}Hn(e,n,r,a){return xl(e).put(a.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,a){return xl(e).delete(a.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const a=xl(e);let o=new ct(zi);return a.ee({index:mA,range:IDBKeyRange.only([r.indexId,this.uid,Df(this.$n(r,n))])},((c,h)=>{o=o.add(new Za(r.indexId,n,s1(h.arrayValue),s1(h.directionalValue)))})).next((()=>o))}jn(e,n){let r=new ct(zi);const a=this.Qn(n,e);if(a==null)return r;const o=$y(n);if(o!=null){const c=e.data.field(o.fieldPath);if(th(c))for(const h of c.arrayValue.values||[])r=r.add(new Za(n.indexId,e.key,this.Ln(h),a))}else r=r.add(new Za(n.indexId,e.key,hf,a));return r}Jn(e,n,r,a,o){he(o1,"Updating index entries for document '%s'",n.key);const c=[];return(function(d,g,v,_,E){const T=d.getIterator(),D=g.getIterator();let j=_l(T),P=_l(D);for(;j||P;){let Z=!1,X=!1;if(j&&P){const K=v(j,P);K<0?X=!0:K>0&&(Z=!0)}else j!=null?X=!0:Z=!0;Z?(_(P),P=_l(D)):X?(E(j),j=_l(T)):(j=_l(T),P=_l(D))}})(a,o,zi,(h=>{c.push(this.Hn(e,n,r,h))}),(h=>{c.push(this.Yn(e,n,r,h))})),B.waitFor(c)}Gn(e){let n=1;return wl(e).ee({index:fA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,o)=>{o.done(),n=a.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((c,h)=>zi(c,h))).filter(((c,h,d)=>!h||zi(c,d[h-1])!==0));const a=[];a.push(e);for(const c of r){const h=zi(c,e),d=zi(c,n);if(h===0)a[0]=e.An();else if(h>0&&d<0)a.push(c),a.push(c.An());else if(d>0)break}a.push(n);const o=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const h=a[c].Vn(this.uid,hf,pe.empty()),d=a[c+1].Vn(this.uid,hf,pe.empty());o.push(IDBKeyRange.bound(h,d))}return o}Zn(e,n){return zi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(c1)}getMinOffset(e,n){return B.mapArray(this.Mn(n),(r=>this.xn(e,r).next((a=>a||_e(44426))))).next(c1)}}function l1(t){return tn(t,Ju)}function xl(t){return tn(t,Vu)}function Tu(t){return tn(t,Fv)}function wl(t){return tn(t,Mu)}function c1(t){we(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;zv(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new Wn(e.readTime,e.documentKey,n)}const u1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gI=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function yI(t,e,n){const r=t.store(Mr),a=t.store(Ll),o=[],c=IDBKeyRange.only(n.batchId);let h=0;const d=r.ee({range:c},((v,_,E)=>(h++,E.delete())));o.push(d.next((()=>{we(h===1,47070,{batchId:n.batchId})})));const g=[];for(const v of n.mutations){const _=uA(e,v.key.path,n.batchId);o.push(a.delete(_)),g.push(v.key)}return B.waitFor(o).next((()=>g))}function am(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _e(14731);e=t.noDocument}return JSON.stringify(e).length}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(gI,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class qm{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Xn={}}static wt(e,n,r,a){we(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new qm(o,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Li(e).ee({index:Xa,range:r},((a,o,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(e,n,r,a){const o=Nl(e),c=Li(e);return c.add({}).next((h=>{we(typeof h=="number",49019);const d=new Zv(h,n,r,a),g=(function(T,D,j){const P=j.baseMutations.map((X=>rm(T.yt,X))),Z=j.mutations.map((X=>rm(T.yt,X)));return{userId:D,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:P,mutations:Z}})(this.serializer,this.userId,d),v=[];let _=new ct(((E,T)=>Ce(E.canonicalString(),T.canonicalString())));for(const E of a){const T=uA(this.userId,E.key.path,h);_=_.add(E.key.path.popLast()),v.push(c.put(g)),v.push(o.put(T,M4))}return _.forEach((E=>{v.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[h]=d.keys()})),B.waitFor(v).next((()=>d))}))}lookupMutationBatch(e,n){return Li(e).get(n).next((r=>r?(we(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ka(this.serializer,r)):null))}er(e,n){return this.Xn[n]?B.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const a=r.keys();return this.Xn[n]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Li(e).ee({index:Xa,range:a},((c,h,d)=>{h.userId===this.userId&&(we(h.batchId>=r,47524,{tr:r}),o=Ka(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Wa;return Li(e).ee({index:Xa,range:n,reverse:!0},((a,o,c)=>{r=o.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Wa],[this.userId,Number.POSITIVE_INFINITY]);return Li(e).J(Xa,n).next((r=>r.map((a=>Ka(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Tf(this.userId,n.path),a=IDBKeyRange.lowerBound(r),o=[];return Nl(e).ee({range:a},((c,h,d)=>{const[g,v,_]=c,E=hs(v);if(g===this.userId&&n.path.isEqual(E))return Li(e).get(_).next((T=>{if(!T)throw _e(61480,{nr:c,batchId:_});we(T.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:T.userId,batchId:_}),o.push(Ka(this.serializer,T))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Ce);const a=[];return n.forEach((o=>{const c=Tf(this.userId,o.path),h=IDBKeyRange.lowerBound(c),d=Nl(e).ee({range:h},((g,v,_)=>{const[E,T,D]=g,j=hs(T);E===this.userId&&o.path.isEqual(j)?r=r.add(D):_.done()}));a.push(d)})),B.waitFor(a).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,o=Tf(this.userId,r),c=IDBKeyRange.lowerBound(o);let h=new ct(Ce);return Nl(e).ee({range:c},((d,g,v)=>{const[_,E,T]=d,D=hs(E);_===this.userId&&r.isPrefixOf(D)?D.length===a&&(h=h.add(T)):v.done()})).next((()=>this.rr(e,h)))}rr(e,n){const r=[],a=[];return n.forEach((o=>{a.push(Li(e).get(o).next((c=>{if(c===null)throw _e(35274,{batchId:o});we(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),r.push(Ka(this.serializer,c))})))})),B.waitFor(a).next((()=>r))}removeMutationBatch(e,n){return yI(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),B.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Nl(e).ee({range:r},((o,c,h)=>{if(o[0]===this.userId){const d=hs(o[1]);a.push(d)}else h.done()})).next((()=>{we(a.length===0,56720,{sr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return vI(e,this.userId,n)}_r(e){return _I(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Wa,lastStreamToken:""}))}}function vI(t,e,n){const r=Tf(e,n.path),a=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return Nl(t).ee({range:o,X:!0},((h,d,g)=>{const[v,_,E]=h;v===e&&_===a&&(c=!0),g.done()})).next((()=>c))}function Li(t){return tn(t,Mr)}function Nl(t){return tn(t,Ll)}function _I(t){return tn(t,Yu)}class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}class l3{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new _o(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ae.fromTimestamp(new at(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.hr(e,a))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>El(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(we(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let a=0;const o=[];return El(e).ee(((c,h)=>{const d=Cu(h);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(a++,o.push(this.removeTargetData(e,d)))})).next((()=>B.waitFor(o))).next((()=>a))}forEachTarget(e,n){return El(e).ee(((r,a)=>{const o=Cu(a);n(o)}))}lr(e){return h1(e).get(Yf).next((n=>(we(n!==null,2888),n)))}hr(e,n){return h1(e).put(Yf,n)}Pr(e,n){return El(e).put(dI(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=go(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return El(e).ee({range:a,index:dA},((c,h,d)=>{const g=Cu(h);gh(n,g.target)&&(o=g,d.done())})).next((()=>o))}addMatchingKeys(e,n,r){const a=[],o=qi(e);return n.forEach((c=>{const h=bn(c.path);a.push(o.put({targetId:r,path:h})),a.push(this.referenceDelegate.addReference(e,r,c))})),B.waitFor(a)}removeMatchingKeys(e,n,r){const a=qi(e);return B.forEach(n,(o=>{const c=bn(o.path);return B.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=qi(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=qi(e);let o=ze();return a.ee({range:r,X:!0},((c,h,d)=>{const g=hs(c[1]),v=new pe(g);o=o.add(v)})).next((()=>o))}containsKey(e,n){const r=bn(n.path),a=IDBKeyRange.bound([r],[rA(r)],!1,!0);let o=0;return qi(e).ee({index:Uv,X:!0,range:a},(([c,h],d,g)=>{c!==0&&(o++,g.done())})).next((()=>o>0))}At(e,n){return El(e).get(n).next((r=>r?Cu(r):null))}}function El(t){return tn(t,Ul)}function h1(t){return tn(t,eo)}function qi(t){return tn(t,Fl)}const d1="LruGarbageCollector",c3=1048576;function f1([t,e],[n,r]){const a=Ce(t,n);return a===0?Ce(e,r):a}class u3{constructor(e){this.Ir=e,this.buffer=new ct(f1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();f1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(d1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){aa(n)?he(d1,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class h3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return B.resolve(gr.ce);const r=new u3(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(u1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,c,h,d,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,n)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(g=Date.now(),Tl()<=$e.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(g-d)+`ms
Total Duration: ${g-v}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_}))))}}function xI(t,e){return new h3(t,e)}class d3{constructor(e,n){this.db=e,this.garbageCollector=xI(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,a)=>n(a)))}addReference(e,n,r){return df(e,r)}removeReference(e,n,r){return df(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return df(e,n)}br(e,n){return(function(a,o){let c=!1;return _I(a).te((h=>vI(a,h,o).next((d=>(d&&(c=!0),B.resolve(!d)))))).next((()=>c))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Sr(e,((c,h)=>{if(h<=n){const d=this.br(e,c).next((g=>{if(!g)return o++,r.getEntry(e,c).next((()=>(r.removeEntry(c,Ae.min()),qi(e).delete((function(_){return[0,bn(_.path)]})(c)))))}));a.push(d)}})).next((()=>B.waitFor(a))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return df(e,n)}Sr(e,n){const r=qi(e);let a,o=gr.ce;return r.ee({index:Uv},(([c,h],{path:d,sequenceNumber:g})=>{c===0?(o!==gr.ce&&n(new pe(hs(a)),o),o=g,a=d):o=gr.ce})).next((()=>{o!==gr.ce&&n(new pe(hs(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function df(t,e){return qi(t).put((function(r,a){return{targetId:0,path:bn(r.path),sequenceNumber:a}})(e,t.currentSequenceNumber))}class wI{constructor(){this.changes=new ti((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class f3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ba(e).put(r)}removeEntry(e,n,r){return Ba(e).delete((function(o,c){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],sm(c),h[h.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Rt.newInvalidDocument(n);return Ba(e).ee({index:Sf,range:IDBKeyRange.only(Su(n))},((a,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Rt.newInvalidDocument(n)};return Ba(e).ee({index:Sf,range:IDBKeyRange.only(Su(n))},((a,o)=>{r={document:this.Cr(n,o),size:am(o)}})).next((()=>r))}getEntries(e,n){let r=Xn();return this.Fr(e,n,((a,o)=>{const c=this.Cr(a,o);r=r.insert(a,c)})).next((()=>r))}Mr(e,n){let r=Xn(),a=new bt(pe.comparator);return this.Fr(e,n,((o,c)=>{const h=this.Cr(o,c);r=r.insert(o,h),a=a.insert(o,am(c))})).next((()=>({documents:r,Or:a})))}Fr(e,n,r){if(n.isEmpty())return B.resolve();let a=new ct(g1);n.forEach((d=>a=a.add(d)));const o=IDBKeyRange.bound(Su(a.first()),Su(a.last())),c=a.getIterator();let h=c.getNext();return Ba(e).ee({index:Sf,range:o},((d,g,v)=>{const _=pe.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;h&&g1(h,_)<0;)r(h,null),h=c.getNext();h&&h.isEqual(_)&&(r(h,g),h=c.hasNext()?c.getNext():null),h?v.j(Su(h)):v.done()})).next((()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,n,r,a,o){const c=n.path,h=[c.popLast().toArray(),c.lastSegment(),sm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ba(e).J(IDBKeyRange.bound(h,d,!0)).next((g=>{o?.incrementDocumentReadCount(g.length);let v=Xn();for(const _ of g){const E=this.Cr(pe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);E.isFoundDocument()&&(vh(n,E)||a.has(E.key))&&(v=v.insert(E.key,E))}return v}))}getAllFromCollectionGroup(e,n,r,a){let o=Xn();const c=p1(n,r),h=p1(n,Wn.max());return Ba(e).ee({index:hA,range:IDBKeyRange.bound(c,h,!0)},((d,g,v)=>{const _=this.Cr(pe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);o=o.insert(_.key,_),o.size===a&&v.done()})).next((()=>o))}newChangeBuffer(e){return new m3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return m1(e).get(Hy).next((n=>(we(!!n,20021),n)))}Dr(e,n){return m1(e).put(Hy,n)}Cr(e,n){if(n){const r=JM(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ae.min())))return r}return Rt.newInvalidDocument(e)}}function EI(t){return new f3(t)}class m3 extends wI{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new ti((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const n=[];let r=0,a=new ct(((o,c)=>Ce(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const h=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,h.readTime)),c.isValidDocument()){const d=XE(this.Nr.serializer,c);a=a.add(o.path.popLast());const g=am(d);r+=g-h.size,n.push(this.Nr.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=XE(this.Nr.serializer,c.convertToNoDocument(Ae.min()));n.push(this.Nr.addEntry(e,o,d))}})),a.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:a})=>(a.forEach(((o,c)=>{this.Br.set(o,{size:c,readTime:r.get(o).readTime})})),r)))}}function m1(t){return tn(t,Xu)}function Ba(t){return tn(t,Zf)}function Su(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function p1(t,e){const n=e.documentKey.path.toArray();return[t,sm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function g1(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(a=Ce(n[o],r[o]),a)return a;return a=Ce(n.length,r.length),a||(a=Ce(n[n.length-2],r[r.length-2]),a||Ce(n[n.length-1],r[r.length-1]))}class p3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class TI{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Uu(r.mutation,a,yr.empty(),at.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ze()){const a=ds();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let c=Nu();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ze())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,a){let o=Xn();const c=Lu(),h=(function(){return Lu()})();return n.forEach(((d,g)=>{const v=r.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof oa)?o=o.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Uu(v.mutation,g,v.mutation.getFieldMask(),at.now())):c.set(g.key,yr.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>h.set(g,new p3(v,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Lu();let a=new bt(((c,h)=>c-h)),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const g=n.get(d);if(g===null)return;let v=r.get(d)||yr.empty();v=h.applyToLocalView(g,v),r.set(d,v);const _=(a.get(h.batchId)||ze()).add(d);a=a.insert(h.batchId,_)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),g=d.key,v=d.value,_=FA();v.forEach((E=>{if(!o.has(E)){const T=QA(n.get(E),r.get(E));T!==null&&_.set(E,T),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return B.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):B.resolve(ds());let h=Ku,d=o;return c.next((g=>B.forEach(g,((v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(v)?B.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{d=d.insert(v,E)}))))).next((()=>this.populateOverlays(e,g,o))).next((()=>this.computeViews(e,d,g,ze()))).next((v=>({batchId:h,changes:UA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let a=Nu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let c=Nu();return this.indexManager.getCollectionParents(e,o).next((h=>B.forEach(h,(d=>{const g=(function(_,E){return new lc(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((v=>{v.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((c=>{o.forEach(((d,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Rt.newInvalidDocument(v)))}));let h=Nu();return c.forEach(((d,g)=>{const v=o.get(d);v!==void 0&&Uu(v.mutation,g,yr.empty(),at.now()),vh(n,g)&&(h=h.insert(d,g))})),h}))}}class g3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Cn(a.createTime)}})(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:fI(a.bundledQuery),readTime:Cn(a.readTime)}})(n)),B.resolve()}}class y3{constructor(){this.overlays=new bt(pe.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),B.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const a=ds(),o=n.length+1,c=new pe(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new bt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let v=o.get(g.largestBatchId);v===null&&(v=ds(),o=o.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=ds(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((g,v)=>h.set(g,v))),!(h.size()>=a)););return B.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Xv(n,r));let o=this.qr.get(n);o===void 0&&(o=ze(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class v3{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}class n_{constructor(){this.Qr=new ct(an.$r),this.Ur=new ct(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new an(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new an(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new Je([])),r=new an(n,e),a=new an(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new Je([])),r=new an(n,e),a=new an(n,e+1);let o=ze();return this.Ur.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new an(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class _3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ct(an.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Zv(o,n,r,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new an(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return B.resolve(c)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Wa:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),a=new an(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Ce);return n.forEach((a=>{const o=new an(a,0),c=new an(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{r=r.add(h.Yr)}))})),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const c=new an(new pe(o),0);let h=new ct(Ce);return this.Zr.forEachWhile((d=>{const g=d.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(h=h.add(d.Yr)),!0)}),c),B.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){we(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,(a=>{const o=new an(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new an(n,0),a=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class b3{constructor(e){this.ri=e,this.docs=(function(){return new bt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Rt.newInvalidDocument(a))})),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Xn();const c=n.path,h=new pe(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:g,value:{document:v}}=d.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||zv(aA(v),r)<=0||(a.has(v.key)||vh(n,v))&&(o=o.insert(v.key,v.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,a){_e(9500)}ii(e,n){return B.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new x3(this)}getSize(e){return B.resolve(this.size)}}class x3 extends wI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class w3{constructor(e){this.persistence=e,this.si=new ti((n=>go(n)),gh),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new n_,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),B.waitFor(o).next((()=>a))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}class r_{constructor(e,n){this.ui={},this.overlays={},this.ci=new gr(0),this.li=!1,this.li=!0,this.hi=new v3,this.referenceDelegate=e(this),this.Pi=new w3(this),this.indexManager=new a3,this.remoteDocumentCache=(function(a){return new b3(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new hI(n),this.Ii=new g3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new _3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const a=new E3(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return B.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class E3 extends lA{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new n_,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,(r=>{const a=pe.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class om{constructor(e,n){this.persistence=e,this.pi=new ti((r=>bn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=xI(this,n)}static mi(e,n){return new om(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return B.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?B.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((h=>{h||(r++,o.removeEntry(c,Ae.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=If(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return B.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class T3{constructor(e){this.serializer=e}k(e,n,r,a){const o=new Rm("createOrUpgrade",n);r<1&&a>=1&&((function(d){d.createObjectStore(ph)})(e),(function(d){d.createObjectStore(Yu,{keyPath:P4}),d.createObjectStore(Mr,{keyPath:IE,autoIncrement:!0}).createIndex(Xa,NE,{unique:!0}),d.createObjectStore(Ll)})(e),y1(e),(function(d){d.createObjectStore(Ha)})(e));let c=B.resolve();return r<3&&a>=3&&(r!==0&&((function(d){d.deleteObjectStore(Fl),d.deleteObjectStore(Ul),d.deleteObjectStore(eo)})(e),y1(e)),c=c.next((()=>(function(d){const g=d.store(eo),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ae.min().toTimestamp(),targetCount:0};return g.put(Yf,v)})(o)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(d,g){return g.store(Mr).J().next((_=>{d.deleteObjectStore(Mr),d.createObjectStore(Mr,{keyPath:IE,autoIncrement:!0}).createIndex(Xa,NE,{unique:!0});const E=g.store(Mr),T=_.map((D=>E.put(D)));return B.waitFor(T)}))})(e,o)))),c=c.next((()=>{(function(d){d.createObjectStore(Bl,{keyPath:$4})})(e)}))),r<5&&a>=5&&(c=c.next((()=>this.yi(o)))),r<6&&a>=6&&(c=c.next((()=>((function(d){d.createObjectStore(Xu)})(e),this.wi(o))))),r<7&&a>=7&&(c=c.next((()=>this.Si(o)))),r<8&&a>=8&&(c=c.next((()=>this.bi(e,o)))),r<9&&a>=9&&(c=c.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(c=c.next((()=>this.Di(o)))),r<11&&a>=11&&(c=c.next((()=>{(function(d){d.createObjectStore(Dm,{keyPath:H4})})(e),(function(d){d.createObjectStore(jm,{keyPath:G4})})(e)}))),r<12&&a>=12&&(c=c.next((()=>{(function(d){const g=d.createObjectStore(km,{keyPath:W4});g.createIndex(Ky,eM,{unique:!1}),g.createIndex(pA,tM,{unique:!1})})(e)}))),r<13&&a>=13&&(c=c.next((()=>(function(d){const g=d.createObjectStore(Zf,{keyPath:V4});g.createIndex(Sf,z4),g.createIndex(hA,L4)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(Ha)))),r<14&&a>=14&&(c=c.next((()=>this.Fi(e,o)))),r<15&&a>=15&&(c=c.next((()=>(function(d){d.createObjectStore(Fv,{keyPath:K4,autoIncrement:!0}).createIndex(Gy,Q4,{unique:!1}),d.createObjectStore(Mu,{keyPath:Z4}).createIndex(fA,Y4,{unique:!1}),d.createObjectStore(Vu,{keyPath:X4}).createIndex(mA,J4,{unique:!1})})(e)))),r<16&&a>=16&&(c=c.next((()=>{n.objectStore(Mu).clear()})).next((()=>{n.objectStore(Vu).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(d){d.createObjectStore(Bv,{keyPath:nM})})(e)}))),r<18&&a>=18&&FS()&&(c=c.next((()=>{n.objectStore(Mu).clear()})).next((()=>{n.objectStore(Vu).clear()}))),c}wi(e){let n=0;return e.store(Ha).ee(((r,a)=>{n+=am(a)})).next((()=>{const r={byteSize:n};return e.store(Xu).put(Hy,r)}))}yi(e){const n=e.store(Yu),r=e.store(Mr);return n.J().next((a=>B.forEach(a,(o=>{const c=IDBKeyRange.bound([o.userId,Wa],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Xa,c).next((h=>B.forEach(h,(d=>{we(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const g=Ka(this.serializer,d);return yI(e,o.userId,g).next((()=>{}))}))))}))))}Si(e){const n=e.store(Fl),r=e.store(Ha);return e.store(eo).get(Yf).next((a=>{const o=[];return r.ee(((c,h)=>{const d=new Je(c),g=(function(_){return[0,bn(_)]})(d);o.push(n.get(g).next((v=>v?B.resolve():(_=>n.put({targetId:0,path:bn(_),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>B.waitFor(o)))}))}bi(e,n){e.createObjectStore(Ju,{keyPath:q4});const r=n.store(Ju),a=new t_,o=c=>{if(a.add(c)){const h=c.lastSegment(),d=c.popLast();return r.put({collectionId:h,parent:bn(d)})}};return n.store(Ha).ee({X:!0},((c,h)=>{const d=new Je(c);return o(d.popLast())})).next((()=>n.store(Ll).ee({X:!0},(([c,h,d],g)=>{const v=hs(h);return o(v.popLast())}))))}Di(e){const n=e.store(Ul);return n.ee(((r,a)=>{const o=Cu(a),c=dI(this.serializer,o);return n.put(c)}))}Ci(e,n){const r=n.store(Ha),a=[];return r.ee(((o,c)=>{const h=n.store(Zf),d=(function(_){return _.document?new pe(Je.fromString(_.document.name).popFirst(5)):_.noDocument?pe.fromSegments(_.noDocument.path):_.unknownDocument?pe.fromSegments(_.unknownDocument.path):_e(36783)})(c).path.toArray(),g={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(h.put(g))})).next((()=>B.waitFor(a)))}Fi(e,n){const r=n.store(Mr),a=EI(this.serializer),o=new r_($m.mi,this.serializer.yt);return r.J().next((c=>{const h=new Map;return c.forEach((d=>{let g=h.get(d.userId)??ze();Ka(this.serializer,d).keys().forEach((v=>g=g.add(v))),h.set(d.userId,g)})),B.forEach(h,((d,g)=>{const v=new mn(g),_=Bm.wt(this.serializer,v),E=o.getIndexManager(v),T=qm.wt(v,this.serializer,E,o.referenceDelegate);return new TI(a,T,_,E).recalculateAndSaveOverlaysForDocumentKeys(new Qy(n,gr.ce),d).next()}))}))}}function y1(t){t.createObjectStore(Fl,{keyPath:F4}).createIndex(Uv,B4,{unique:!0}),t.createObjectStore(Ul,{keyPath:"targetId"}).createIndex(dA,U4,{unique:!0}),t.createObjectStore(eo)}const Ui="IndexedDbPersistence",vy=18e5,_y=5e3,by="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",S3="main";class s_{constructor(e,n,r,a,o,c,h,d,g,v,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=c,this.document=h,this.xi=g,this.Oi=v,this.Ni=_,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!s_.v())throw new fe(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new d3(this,a),this.$i=n+S3,this.serializer=new hI(d),this.Ui=new Wi(this.$i,this.Ni,new T3(this.serializer)),this.hi=new e3,this.Pi=new l3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=EI(this.serializer),this.Ii=new WM,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,v===!1&&In(Ui,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(te.FAILED_PRECONDITION,by);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new gr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>ff(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(aa(e))return he(Ui,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he(Ui,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Au(e).get(vl).next((n=>B.resolve(this.es(n))))}ts(e){return ff(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,vy)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=tn(n,Bl);return r.J().next((a=>{const o=this.ss(a,vy),c=a.filter((h=>o.indexOf(h)===-1));return B.forEach(c,(h=>r.delete(h.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?B.resolve(!0):Au(e).get(vl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,_y)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new fe(te.FAILED_PRECONDITION,by);return!1}}return!(!this.networkEnabled||!this.inForeground)||ff(e).J().next((r=>this.ss(r,_y).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(o||c&&h)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&he(Ui,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[ph,Bl],(e=>{const n=new Qy(e,gr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>ff(e).J().next((n=>this.ss(n,vy).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return qm.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new o3(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Bm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){he(Ui,"Starting transaction:",e);const a=n==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?iM:d===17?_A:d===16?sM:d===15?qv:d===14?vA:d===13?yA:d===12?rM:d===11?gA:void _e(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,o,(h=>(c=new Qy(h,this.ci?this.ci.next():gr.ce),n==="readwrite-primary"?this.Hi(c).next((d=>!!d||this.Yi(c))).next((d=>{if(!d)throw In(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new fe(te.FAILED_PRECONDITION,oA);return r(c)})).next((d=>this.Xi(c).next((()=>d)))):this.Is(c).next((()=>r(c)))))).then((h=>(c.raiseOnCommittedEvent(),h)))}Is(e){return Au(e).get(vl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,_y)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new fe(te.FAILED_PRECONDITION,by)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Au(e).put(vl,n)}static v(){return Wi.v()}Zi(e){const n=Au(e);return n.get(vl).next((r=>this.es(r)?(he(Ui,"Releasing primary lease."),n.delete(vl)):B.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(In(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;US()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return he(Ui,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return In(Ui,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){In("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Au(t){return tn(t,ph)}function ff(t){return tn(t,Bl)}function A3(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class i_{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=ze(),a=ze();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new i_(e,n.fromCache,r,a)}}class I3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class SI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return US()?8:cA(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new I3;return this.Ss(e,n,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(Tl()<=$e.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Tl()<=$e.DEBUG&&he("QueryEngine","Query:",Sl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Tl()<=$e.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):B.resolve())}ys(e,n){if(FE(n))return B.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=tm(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=ze(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const g=this.Ds(n,h);return this.Cs(n,g,c,d.readTime)?this.ys(e,tm(n,null,"F")):this.vs(e,g,n,d)}))))})))))}ws(e,n,r,a){return FE(n)||a.isEqual(Ae.min())?B.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,r,a)?B.resolve(null):(Tl()<=$e.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Sl(n)),this.vs(e,c,n,N4(a,Ku)).next((h=>h)))}))}Ds(e,n){let r=new ct(zA(e));return n.forEach(((a,o)=>{vh(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return Tl()<=$e.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Sl(n)),this.ps.getDocumentsMatchingQuery(e,n,Wn.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const a_="LocalStore",N3=3e8;class R3{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new bt(Ce),this.xs=new ti((o=>go(o)),gh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function AI(t,e,n,r){return new R3(t,e,n,r)}async function II(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let d=ze();for(const g of a){c.push(g.batchId);for(const v of g.mutations)d=d.add(v.key)}for(const g of o){h.push(g.batchId);for(const v of g.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(r,d).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function C3(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,g,v){const _=g.batch,E=_.keys();let T=B.resolve();return E.forEach((D=>{T=T.next((()=>v.getEntry(d,D))).next((j=>{const P=g.docVersions.get(D);we(P!==null,48541),j.version.compareTo(P)<0&&(_.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=ze();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(d=d.add(h.batch.mutations[g].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function NI(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function D3(t,e){const n=De(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((v,_)=>{const E=a.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(o,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(o,v.addedDocuments,_))));let T=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Zt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(v.resumeToken,r)),a=a.insert(_,T),(function(j,P,Z){return j.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=N3?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(E,T,v)&&h.push(n.Pi.updateTargetData(o,T))}));let d=Xn(),g=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(j3(o,c,e.documentUpdates).next((v=>{d=v.ks,g=v.qs}))),!r.isEqual(Ae.min())){const v=n.Pi.getLastRemoteSnapshotVersion(o).next((_=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return B.waitFor(h).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,g))).next((()=>d))})).then((o=>(n.Ms=a,o)))}function j3(t,e,n){let r=ze(),a=ze();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=Xn();return n.forEach(((h,d)=>{const g=o.get(h);d.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ae.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):he(a_,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",d.version)})),{ks:c,qs:a}}))}function k3(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Wa),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function O3(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,B.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new Bs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function lv(t,e,n){const r=De(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!aa(c))throw c;he(a_,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function v1(t,e,n){const r=De(t);let a=Ae.min(),o=ze();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,g,v){const _=De(d),E=_.xs.get(v);return E!==void 0?B.resolve(_.Ms.get(E)):_.Pi.getTargetData(g,v)})(r,c,_r(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:Ae.min(),n?o:ze()))).next((h=>(P3(r,bM(e),h),{documents:h,Qs:o})))))}function P3(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class _1{constructor(){this.activeTargetIds=AM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RI{constructor(){this.Mo=new _1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class M3{Oo(e){}shutdown(){}}const b1="ConnectivityMonitor";class x1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(b1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(b1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mf=null;function cv(){return mf===null?mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():mf++,"0x"+mf.toString(16)}const xy="RestConnection",V3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Xf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const c=cv(),h=this.zo(e,n.toUriEncodedString());he(xy,`Sending RPC '${e}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:g}=new URL(h),v=ic(g);return this.Jo(e,h,d,r,v).then((_=>(he(xy,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw fo(xy,`RPC '${e}' ${c} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,n,r,a,o,c){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=V3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class L3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class U3 extends z3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const c=cv();return new Promise(((h,d)=>{const g=new YS;g.setWithCredentials(!0),g.listenOnce(XS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case wf.NO_ERROR:const _=g.getResponseJson();he(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),h(_);break;case wf.TIMEOUT:he(vn,`RPC '${e}' ${c} timed out`),d(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:const E=g.getStatus();if(he(vn,`RPC '${e}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let T=g.getResponseJson();Array.isArray(T)&&(T=T[0]);const D=T?.error;if(D&&D.status&&D.message){const j=(function(Z){const X=Z.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(X)>=0?X:te.UNKNOWN})(D.status);d(new fe(j,D.message))}else d(new fe(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new fe(te.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(vn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);he(vn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",v,r,15)}))}T_(e,n,r){const a=cv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=eA(),h=WS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const v=o.join("");he(vn,`Creating RPC '${e}' stream ${a}: ${v}`,d);const _=c.createWebChannel(v,d);this.I_(_);let E=!1,T=!1;const D=new L3({Yo:P=>{T?he(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(E||(he(vn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),he(vn,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Zo:()=>_.close()}),j=(P,Z,X)=>{P.listen(Z,(K=>{try{X(K)}catch(le){setTimeout((()=>{throw le}),0)}}))};return j(_,Iu.EventType.OPEN,(()=>{T||(he(vn,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),j(_,Iu.EventType.CLOSE,(()=>{T||(T=!0,he(vn,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(_))})),j(_,Iu.EventType.ERROR,(P=>{T||(T=!0,fo(vn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),D.a_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),j(_,Iu.EventType.MESSAGE,(P=>{if(!T){const Z=P.data[0];we(!!Z,16349);const X=Z,K=X?.error||X[0]?.error;if(K){he(vn,`RPC '${e}' stream ${a} received error:`,K);const le=K.status;let Q=(function(A){const C=Kt[A];if(C!==void 0)return XA(C)})(le),ae=K.message;Q===void 0&&(Q=te.INTERNAL,ae="Unknown error status: "+le+" with message "+K.message),T=!0,D.a_(new fe(Q,ae)),_.close()}else he(vn,`RPC '${e}' stream ${a} received:`,Z),D.u_(Z)}})),j(h,JS.STAT_EVENT,(P=>{P.stat===By.PROXY?he(vn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===By.NOPROXY&&he(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function F3(){return typeof window<"u"?window:null}function jf(){return typeof document<"u"?document:null}function Hm(t){return new BM(t,!0)}class CI{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const w1="PersistentStream";class DI{constructor(e,n,r,a,o,c,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(In(n.toString()),In("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new fe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(w1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(w1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class B3 extends DI{constructor(e,n,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=HM(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ae.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Cn(c.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=rv(this.serializer),n.addTarget=(function(o,c){let h;const d=c.target;if(h=Wf(d)?{documents:iI(o,d)}:{query:aI(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=eI(o,c.resumeToken);const g=tv(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ae.min())>0){h.readTime=Zl(o,c.snapshotVersion.toTimestamp());const g=tv(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const r=KM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=rv(this.serializer),n.removeTarget=e,this.q_(n)}}class q3 extends DI{constructor(e,n,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=GM(e.writeResults,e.commitTime),r=Cn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=rv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>rm(this.serializer,r)))};this.q_(n)}}class $3{}class H3 extends $3{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,nv(n,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(te.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,nv(n,r),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class G3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(In(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const bo="RemoteStore";class K3{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Io(this)&&(he(bo,"Restarting streams for network reachability change."),await(async function(d){const g=De(d);g.Ea.add(4),await bh(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Gm(g)})(this))}))})),this.Ra=new G3(r,a)}}async function Gm(t){if(Io(t))for(const e of t.da)await e(!0)}async function bh(t){for(const e of t.da)await e(!1)}function jI(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),u_(n)?c_(n):uc(n).O_()&&l_(n,e))}function o_(t,e){const n=De(t),r=uc(n);n.Ia.delete(e),r.O_()&&kI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Io(n)&&n.Ra.set("Unknown"))}function l_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uc(t).Y_(e)}function kI(t,e){t.Va.Ue(e),uc(t).Z_(e)}function c_(t){t.Va=new zM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),uc(t).start(),t.Ra.ua()}function u_(t){return Io(t)&&!uc(t).x_()&&t.Ia.size>0}function Io(t){return De(t).Ea.size===0}function OI(t){t.Va=void 0}async function Q3(t){t.Ra.set("Online")}async function Z3(t){t.Ia.forEach(((e,n)=>{l_(t,e)}))}async function Y3(t,e){OI(t),u_(t)?(t.Ra.ha(e),c_(t)):t.Ra.set("Unknown")}async function X3(t,e,n){if(t.Ra.set("Online"),e instanceof WA&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){he(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lm(t,r)}else if(e instanceof Cf?t.Va.Ze(e):e instanceof JA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await NI(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const v=o.Ia.get(g);v&&o.Ia.set(g,v.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,g)=>{const v=o.Ia.get(d);if(!v)return;o.Ia.set(d,v.withResumeToken(Zt.EMPTY_BYTE_STRING,v.snapshotVersion)),kI(o,d);const _=new Bs(v.target,d,g,v.sequenceNumber);l_(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){he(bo,"Failed to raise snapshot:",r),await lm(t,r)}}async function lm(t,e,n){if(!aa(e))throw e;t.Ea.add(1),await bh(t),t.Ra.set("Offline"),n||(n=()=>NI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(bo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gm(t)}))}function PI(t,e){return e().catch((n=>lm(t,n,e)))}async function xh(t){const e=De(t),n=sa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wa;for(;J3(e);)try{const a=await k3(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,W3(e,a)}catch(a){await lm(e,a)}MI(e)&&VI(e)}function J3(t){return Io(t)&&t.Ta.length<10}function W3(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function MI(t){return Io(t)&&!sa(t).x_()&&t.Ta.length>0}function VI(t){sa(t).start()}async function eV(t){sa(t).ra()}async function tV(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function nV(t,e,n){const r=t.Ta.shift(),a=Yv.from(r,e,n);await PI(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await xh(t)}async function rV(t,e){e&&sa(t).X_&&await(async function(r,a){if((function(c){return PM(c)&&c!==te.ABORTED})(a.code)){const o=r.Ta.shift();sa(r).B_(),await PI(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await xh(r)}})(t,e),MI(t)&&VI(t)}async function E1(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),he(bo,"RemoteStore received new credentials");const r=Io(n);n.Ea.add(3),await bh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gm(n)}async function sV(t,e){const n=De(t);e?(n.Ea.delete(2),await Gm(n)):e||(n.Ea.add(2),await bh(n),n.Ra.set("Unknown"))}function uc(t){return t.ma||(t.ma=(function(n,r,a){const o=De(n);return o.sa(),new B3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Q3.bind(null,t),t_:Z3.bind(null,t),r_:Y3.bind(null,t),H_:X3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),u_(t)?c_(t):t.Ra.set("Unknown")):(await t.ma.stop(),OI(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,r,a){const o=De(n);return o.sa(),new q3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:eV.bind(null,t),r_:rV.bind(null,t),ta:tV.bind(null,t),na:nV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await xh(t)):(await t.fa.stop(),t.Ta.length>0&&(he(bo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class h_{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const c=Date.now()+r,h=new h_(e,n,c,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(t,e){if(In("AsyncQueue",`${e}: ${t}`),aa(t))return new fe(te.UNAVAILABLE,`${e}: ${t}`);throw t}class Dl{static emptySet(e){return new Dl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class T1{constructor(){this.ga=new bt(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Yl{constructor(e,n,r,a,o,c,h,d,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,a,o){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Yl(e,n,Dl.emptySet(n),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class iV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aV{constructor(){this.queries=S1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=De(n),o=a.queries;a.queries=S1(),o.forEach(((c,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function S1(){return new ti((t=>VA(t)),Vm)}async function f_(t,e){const n=De(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new iV,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=d_(c,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&p_(n)}async function m_(t,e){const n=De(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oV(t,e){const n=De(t);let r=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(r=!0);c.wa=a}}r&&p_(n)}function lV(t,e,n){const r=De(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function p_(t){t.Ca.forEach((e=>{e.next()}))}var uv,A1;(A1=uv||(uv={})).Ma="default",A1.Cache="cache";class g_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==uv.Cache}}class zI{constructor(e){this.key=e}}class LI{constructor(e){this.key=e}}class cV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=zA(e),this.tu=new Dl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new T1,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const E=a.get(v),T=vh(this.query,_)?_:null,D=!!E&&this.mutatedKeys.has(E.key),j=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;E&&T?E.data.isEqual(T.data)?D!==j&&(r.track({type:3,doc:T}),P=!0):this.su(E,T)||(r.track({type:2,doc:T}),P=!0,(d&&this.eu(T,d)>0||g&&this.eu(T,g)<0)&&(h=!0)):!E&&T?(r.track({type:0,doc:T}),P=!0):E&&!T&&(r.track({type:1,doc:E}),P=!0,(d||g)&&(h=!0)),P&&(T?(c=c.add(T),o=j?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(T,D){const j=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:P})}};return j(T)-j(D)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,g=d!==this.Za;return this.Za=d,c.length!==0||g?{snapshot:new Yl(this.query,e.tu,o,c,e.mutatedKeys,d===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new LI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new zI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const y_="SyncEngine";class uV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hV{constructor(e){this.key=e,this.hu=!1}}class dV{constructor(e,n,r,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ti((h=>VA(h)),Vm),this.Iu=new Map,this.Eu=new Set,this.du=new bt(pe.comparator),this.Au=new Map,this.Ru=new n_,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fV(t,e,n=!0){const r=HI(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await UI(r,e,n,!0),a}async function mV(t,e){const n=HI(t);await UI(n,e,!0,!1)}async function UI(t,e,n,r){const a=await O3(t.localStore,_r(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await pV(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&jI(t.remoteStore,a),h}async function pV(t,e,n,r,a){t.pu=(_,E,T)=>(async function(j,P,Z,X){let K=P.view.ru(Z);K.Cs&&(K=await v1(j.localStore,P.query,!1).then((({documents:N})=>P.view.ru(N,K))));const le=X&&X.targetChanges.get(P.targetId),Q=X&&X.targetMismatches.get(P.targetId)!=null,ae=P.view.applyChanges(K,j.isPrimaryClient,le,Q);return N1(j,P.targetId,ae.au),ae.snapshot})(t,_,E,T);const o=await v1(t.localStore,e,!0),c=new cV(e,o.Qs),h=c.ru(o.documents),d=_h.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),g=c.applyChanges(h,t.isPrimaryClient,d);N1(t,n,g.au);const v=new uV(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function gV(t,e,n){const r=De(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!Vm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await lv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&o_(r.remoteStore,a.targetId),hv(r,a.targetId)})).catch(So)):(hv(r,a.targetId),await lv(r.localStore,a.targetId,!0))}async function yV(t,e){const n=De(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),o_(n.remoteStore,r.targetId))}async function vV(t,e,n){const r=GI(t);try{const a=await(function(c,h){const d=De(c),g=at.now(),v=h.reduce(((T,D)=>T.add(D.key)),ze());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let D=Xn(),j=ze();return d.Ns.getEntries(T,v).next((P=>{D=P,D.forEach(((Z,X)=>{X.isValidDocument()||(j=j.add(Z))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,D))).next((P=>{_=P;const Z=[];for(const X of h){const K=kM(X,_.get(X.key).overlayedDocument);K!=null&&Z.push(new oa(X.key,K,RA(K.value.mapValue),Rn.exists(!0)))}return d.mutationQueue.addMutationBatch(T,g,Z,h)})).next((P=>{E=P;const Z=P.applyToLocalDocumentSet(_,j);return d.documentOverlayCache.saveOverlays(T,P.batchId,Z)}))})).then((()=>({batchId:E.batchId,changes:UA(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let g=c.Vu[c.currentUser.toKey()];g||(g=new bt(Ce)),g=g.insert(h,d),c.Vu[c.currentUser.toKey()]=g})(r,a.batchId,n),await wh(r,a.changes),await xh(r.remoteStore)}catch(a){const o=d_(a,"Failed to persist write");n.reject(o)}}async function FI(t,e){const n=De(t);try{const r=await D3(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(we(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?we(c.hu,14607):a.removedDocuments.size>0&&(we(c.hu,42227),c.hu=!1))})),await wh(n,r,e)}catch(r){await So(r)}}function I1(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=De(c);d.onlineState=h;let g=!1;d.queries.forEach(((v,_)=>{for(const E of _.Sa)E.va(h)&&(g=!0)})),g&&p_(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _V(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new bt(pe.comparator);c=c.insert(o,Rt.newNoDocument(o,Ae.min()));const h=ze().add(o),d=new Fm(Ae.min(),new Map,new bt(Ce),c,h);await FI(r,d),r.du=r.du.remove(o),r.Au.delete(e),v_(r)}else await lv(r.localStore,e,!1).then((()=>hv(r,e,n))).catch(So)}async function bV(t,e){const n=De(t),r=e.batch.batchId;try{const a=await C3(n.localStore,e);qI(n,r,null),BI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wh(n,a)}catch(a){await So(a)}}async function xV(t,e,n){const r=De(t);try{const a=await(function(c,h){const d=De(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return d.mutationQueue.lookupMutationBatch(g,h).next((_=>(we(_!==null,37113),v=_.keys(),d.mutationQueue.removeMutationBatch(g,_)))).next((()=>d.mutationQueue.performConsistencyCheck(g))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(g,v,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>d.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);qI(r,e,n),BI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wh(r,a)}catch(a){await So(a)}}function BI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function qI(t,e,n){const r=De(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function hv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||$I(t,r)}))}function $I(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(o_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),v_(t))}function N1(t,e,n){for(const r of n)r instanceof zI?(t.Ru.addReference(r.key,e),wV(t,r)):r instanceof LI?(he(y_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||$I(t,r.key)):_e(19791,{wu:r})}function wV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he(y_,"New document in limbo: "+n),t.Eu.add(r),v_(t))}function v_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(Je.fromString(e)),r=t.fu.next();t.Au.set(r,new hV(n)),t.du=t.du.insert(n,r),jI(t.remoteStore,new Bs(_r(yh(n.path)),r,"TargetPurposeLimboResolution",gr.ce))}}async function wh(t,e,n){const r=De(t),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{c.push(r.pu(d,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(g){a.push(g);const v=i_.As(d.targetId,g);o.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(d,g){const v=De(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>B.forEach(g,(E=>B.forEach(E.Es,(T=>v.persistence.referenceDelegate.addReference(_,E.targetId,T))).next((()=>B.forEach(E.ds,(T=>v.persistence.referenceDelegate.removeReference(_,E.targetId,T)))))))))}catch(_){if(!aa(_))throw _;he(a_,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const T=v.Ms.get(E),D=T.snapshotVersion,j=T.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(E,j)}}})(r.localStore,o))}async function EV(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){he(y_,"User change. New user:",e.toKey());const r=await II(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new fe(te.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wh(n,r.Ls)}}function TV(t,e){const n=De(t),r=n.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let a=ze();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function HI(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_V.bind(null,e),e.Pu.H_=oV.bind(null,e.eventManager),e.Pu.yu=lV.bind(null,e.eventManager),e}function GI(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xV.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AI(this.persistence,new SI,e.initialUser,this.serializer)}Cu(e){return new r_($m.mi,this.serializer)}Du(e){return new RI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class SV extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){we(this.persistence.referenceDelegate instanceof om,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new r_((r=>om.mi(r,n)),this.serializer)}}class AV extends rh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await GI(this.xu.syncEngine),await xh(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return AI(this.persistence,new SI,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new bI(r,e.asyncQueue,n)}Mu(e,n){const r=new j4(n,this.persistence);return new D4(e.asyncQueue,r)}Cu(e){const n=A3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new s_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,F3(),jf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new RI}}class cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EV.bind(null,this.syncEngine),await sV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aV})()}createDatastore(e){const n=Hm(e.databaseInfo.databaseId),r=(function(o){return new U3(o)})(e.databaseInfo);return(function(o,c,h,d){return new H3(o,c,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,c,h){return new K3(r,a,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>I1(this.syncEngine,n,0)),(function(){return x1.v()?new x1:new M3})())}createSyncEngine(e,n){return(function(a,o,c,h,d,g,v){const _=new dV(a,o,c,h,d,g);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=De(n);he(bo,"RemoteStore shutting down."),r.Ea.add(5),await bh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cm.provider={build:()=>new cm};class __{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):In("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ia="FirestoreClient";class IV{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=Vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{he(ia,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(he(ia,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wy(t,e){t.asyncQueue.verifyOperationInProgress(),he(ia,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await II(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function R1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NV(t);he(ia,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>E1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>E1(e.remoteStore,a))),t._onlineComponents=e}async function NV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(ia,"Using user provided OfflineComponentProvider");try{await wy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await wy(t,new rh)}}else he(ia,"Using default OfflineComponentProvider"),await wy(t,new SV(void 0));return t._offlineComponents}async function KI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(ia,"Using user provided OnlineComponentProvider"),await R1(t,t._uninitializedComponentsProvider._online)):(he(ia,"Using default OnlineComponentProvider"),await R1(t,new cm))),t._onlineComponents}function RV(t){return KI(t).then((e=>e.syncEngine))}async function um(t){const e=await KI(t),n=e.eventManager;return n.onListen=fV.bind(null,e.syncEngine),n.onUnlisten=gV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yV.bind(null,e.syncEngine),n}function CV(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,g){const v=new __({next:E=>{v.Nu(),c.enqueueAndForget((()=>m_(o,_)));const T=E.docs.has(h);!T&&E.fromCache?g.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&d&&d.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new g_(yh(h.path),v,{includeMetadataChanges:!0,qa:!0});return f_(o,_)})(await um(t),t.asyncQueue,e,n,r))),r.promise}function DV(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,g){const v=new __({next:E=>{v.Nu(),c.enqueueAndForget((()=>m_(o,_))),E.fromCache&&d.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new g_(h,v,{includeMetadataChanges:!0,qa:!0});return f_(o,_)})(await um(t),t.asyncQueue,e,n,r))),r.promise}function QI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const C1=new Map;const ZI="firestore.googleapis.com",D1=!0;class j1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZI,this.ssl=D1}else this.host=e.host,this.ssl=e.ssl??D1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c3)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Km{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new g4;switch(r.type){case"firstParty":return new b4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=C1.get(n);r&&(he("ComponentProvider","Removing Datastore"),C1.delete(n),r.terminate())})(this),Promise.resolve()}}function jV(t,e,n,r={}){t=Jn(t,Km);const a=ic(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(VS(`https://${h}`),zS("Firestore",!0)),o.host!==ZI&&o.host!==h&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:r};if(!co(d,c)&&(t._setSettings(d),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=mn.MOCK_USER;else{g=GO(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(_)}t._authCredentials=new y4(new nA(g,v))}}class ni{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ni(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(mh(n,Vt._jsonSchema))return new Vt(e,r||null,new pe(Je.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Qt("string",Vt._jsonSchemaVersion),referencePath:Qt("string")};class ea extends ni{constructor(e,n,r){super(e,n,yh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new pe(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function b_(t,e,...n){if(t=xn(t),sA("collection","path",e),t instanceof Km){const r=Je.fromString(e,...n);return wE(r),new ea(t,null,r)}{if(!(t instanceof Vt||t instanceof ea))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return wE(r),new ea(t.firestore,null,r)}}function hc(t,e,...n){if(t=xn(t),arguments.length===1&&(e=Vv.newId()),sA("doc","path",e),t instanceof Km){const r=Je.fromString(e,...n);return xE(r),new Vt(t,null,new pe(r))}{if(!(t instanceof Vt||t instanceof ea))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return xE(r),new Vt(t.firestore,t instanceof ea?t.converter:null,new pe(r))}}const k1="AsyncQueue";class O1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CI(this,"async_queue_retry"),this._c=()=>{const r=jf();r&&he(k1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!aa(e))throw e;he(k1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,In("INTERNAL UNHANDLED ERROR: ",P1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=h_.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&_e(47125,{Pc:P1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function P1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function M1(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Xs extends Km{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new O1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O1(e),this._firestoreClient=void 0,await e}}}function kV(t,e){const n=typeof t=="object"?t:GS(),r=typeof t=="string"?t:Xf,a=Pv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=$O("firestore");o&&jV(a,...o)}return a}function Qm(t){if(t._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YI(t),t._firestoreClient}function YI(t){const e=t._freezeSettings(),n=(function(a,o,c,h){return new oM(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,QI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new IV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}function OV(t,e){fo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return PV(t,cm.provider,{build:r=>new AV(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function PV(t,e,n){if((t=Jn(t,Xs))._firestoreClient||t._terminated)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new fe(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},YI(t)}class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(Zt.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mh(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Qt("string",pr._jsonSchemaVersion),bytes:Qt("string")};class x_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class w_{constructor(e){this._methodName=e}}class ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ms._jsonSchemaVersion}}static fromJSON(e){if(mh(e,ms._jsonSchema))return new ms(e.latitude,e.longitude)}}ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:Qt("string",ms._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class ps{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mh(e,ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ps(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:Qt("string",ps._jsonSchemaVersion),vectorValues:Qt("object")};const MV=/^__.*__$/;class VV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new cc(e,this.data,n,this.fieldTransforms)}}function XI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class E_{constructor(e,n,r,a,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new E_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XI(this.Ac)&&MV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hm(e)}Cc(e,n,r,a=!1){return new E_({Ac:e,methodName:n,Dc:r,path:Et.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zm(t){const e=t._freezeSettings(),n=Hm(t._databaseId);return new zV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JI(t,e,n,r,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);n2("Data must be an object, but it was:",c,r);const h=e2(r,c);let d,g;if(o.merge)d=new yr(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const _ of o.mergeFields){const E=LV(e,_,n);if(!c.contains(E))throw new fe(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);FV(v,E)||v.push(E)}d=new yr(v),g=c.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,g=c.fieldTransforms;return new VV(new zn(h),d,g)}class T_ extends w_{_toFieldTransform(e){return new KA(e.path,new Gl)}isEqual(e){return e instanceof T_}}function WI(t,e,n,r=!1){return S_(n,t.Cc(r?4:3,e))}function S_(t,e){if(t2(t=xn(t)))return n2("Unsupported field value:",e,t),e2(t,e);if(t instanceof w_)return(function(r,a){if(!XI(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const h of r){let d=S_(h,a.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=at.fromDate(r);return{timestampValue:Zl(a.serializer,o)}}if(r instanceof at){const o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zl(a.serializer,o)}}if(r instanceof ms)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pr)return{bytesValue:eI(a.serializer,r._byteString)};if(r instanceof Vt){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ps)return(function(c,h){return{mapValue:{fields:{[$v]:{stringValue:Hv},[ql]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return Qv(h.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Nm(r)}`)})(t,e)}function e2(t,e){const n={};return bA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,((r,a)=>{const o=S_(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function t2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof ms||t instanceof pr||t instanceof Vt||t instanceof w_||t instanceof ps)}function n2(t,e,n){if(!t2(n)||!iA(n)){const r=Nm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function LV(t,e,n){if((e=xn(e))instanceof x_)return e._internalPath;if(typeof e=="string")return r2(t,e);throw hm("Field path arguments must be of type string or ",t,!1,void 0,n)}const UV=new RegExp("[~\\*/\\[\\]]");function r2(t,e,n){if(e.search(UV)>=0)throw hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new x_(...e.split("."))._internalPath}catch{throw hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hm(t,e,n,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${r}`),c&&(d+=` in document ${a}`),d+=")"),new fe(te.INVALID_ARGUMENT,h+t+d)}function FV(t,e){return t.some((n=>n.isEqual(e)))}class A_{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(s2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BV extends A_{data(){return super.data()}}function s2(t,e){return typeof e=="string"?r2(t,e):e instanceof x_?e._internalPath:e._delegate._internalPath}function i2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I_{}class N_ extends I_{}function qV(t,e,...n){let r=[];e instanceof I_&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((d=>d instanceof C_)).length,h=o.filter((d=>d instanceof R_)).length;if(c>1||c>0&&h>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class R_ extends N_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new R_(e,n,r)}_apply(e){const n=this._parse(e);return a2(e._query,n),new ni(e.firestore,e.converter,ev(e._query,n))}_parse(e){const n=Zm(e.firestore);return(function(o,c,h,d,g,v,_){let E;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){z1(_,v);const D=[];for(const j of _)D.push(V1(d,o,j));E={arrayValue:{values:D}}}else E=V1(d,o,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||z1(_,v),E=WI(h,c,_,v==="in"||v==="not-in");return He.create(g,v,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class C_ extends I_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ot.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const d of h)a2(c,d),c=ev(c,d)})(e._query,n),new ni(e.firestore,e.converter,ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D_ extends N_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new D_(e,n,r)}_apply(e){return new ni(e.firestore,e.converter,tm(e._query,this._limit,this._limitType))}}function $V(t){return I4("limit",t),D_._create("limit",t,"F")}class j_ extends N_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new j_(e,n,r)}_apply(e){const n=GV(e,this.type,this._docOrFields,this._inclusive);return new ni(e.firestore,e.converter,(function(a,o){return new lc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)})(e._query,n))}}function HV(...t){return j_._create("startAfter",t,!1)}function GV(t,e,n,r){if(n[0]=xn(n[0]),n[0]instanceof A_)return(function(o,c,h,d,g){if(!d)throw new fe(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const _ of Cl(o))if(_.field.isKeyField())v.push(po(c,d.key));else{const E=d.data.field(_.field);if(Om(E))throw new fe(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const T=_.field.canonicalString();throw new fe(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}v.push(E)}return new ra(v,g)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=Zm(t.firestore);return(function(c,h,d,g,v,_){const E=c.explicitOrderBy;if(v.length>E.length)throw new fe(te.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let D=0;D<v.length;D++){const j=v[D];if(E[D].field.isKeyField()){if(typeof j!="string")throw new fe(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof j}`);if(!Kv(c)&&j.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${j}' contains a slash.`);const P=c.path.child(Je.fromString(j));if(!pe.isDocumentKey(P))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const Z=new pe(P);T.push(po(h,Z))}else{const P=WI(d,g,j);T.push(P)}}return new ra(T,_)})(t._query,t.firestore._databaseId,a,e,n,r)}}function V1(t,e,n){if(typeof(n=xn(n))=="string"){if(n==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kv(e)&&n.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!pe.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return po(t,new pe(r))}if(n instanceof Vt)return po(t,n._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nm(n)}.`)}function z1(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function a2(t,e){const n=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KV{convertValue(e,n="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ao(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[ql].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new ps(n)}convertGeoPoint(e){return new ms(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);we(uI(r),9688,{name:e});const a=new mo(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return a.isEqual(n)||In(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function o2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class no extends A_{constructor(e,n,r,a,o,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(s2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=no._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}no._jsonSchemaVersion="firestore/documentSnapshot/1.0",no._jsonSchema={type:Qt("string",no._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class kf extends no{data(e={}){return super.data(e)}}class ro{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Du(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new kf(this._firestore,this._userDataWriter,r.key,r,new Du(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new kf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Du(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new kf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Du(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:QV(h.type),doc:d,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}function ZV(t){t=Jn(t,Vt);const e=Jn(t.firestore,Xs);return CV(Qm(e),t._key).then((n=>u2(e,t,n)))}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:Qt("string",ro._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class k_ extends KV{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function YV(t){t=Jn(t,ni);const e=Jn(t.firestore,Xs),n=Qm(e),r=new k_(e);return i2(t._query),DV(n,t._query).then((a=>new ro(e,r,t,a)))}function l2(t,e,n){t=Jn(t,Vt);const r=Jn(t.firestore,Xs),a=o2(t.converter,e,n);return O_(r,[JI(Zm(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Rn.none())])}function XV(t){return O_(Jn(t.firestore,Xs),[new Um(t._key,Rn.none())])}function JV(t,e){const n=Jn(t.firestore,Xs),r=hc(t),a=o2(t.converter,e);return O_(n,[JI(Zm(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then((()=>r))}function c2(t,...e){t=xn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||M1(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(M1(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,c,h;if(t instanceof Vt)c=Jn(t.firestore,Xs),h=yh(t._key.path),o={next:d=>{e[r]&&e[r](u2(c,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Jn(t,ni);c=Jn(d.firestore,Xs),h=d._query;const g=new k_(c);o={next:v=>{e[r]&&e[r](new ro(c,g,d,v))},error:e[r+1],complete:e[r+2]},i2(t._query)}return(function(g,v,_,E){const T=new __(E),D=new g_(v,T,_);return g.asyncQueue.enqueueAndForget((async()=>f_(await um(g),D))),()=>{T.Nu(),g.asyncQueue.enqueueAndForget((async()=>m_(await um(g),D)))}})(Qm(c),h,a,o)}function O_(t,e){return(function(r,a){const o=new fs;return r.asyncQueue.enqueueAndForget((async()=>vV(await RV(r),a,o))),o.promise})(Qm(t),e)}function u2(t,e,n){const r=n.docs.get(e._key),a=new k_(t);return new no(t,a,e._key,r,new Du(n.hasPendingWrites,n.fromCache),e.converter)}function WV(){return new T_("serverTimestamp")}(function(e,n=!0){(function(a){oc=a})(ac),Vl(new uo("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new Xs(new v4(r.getProvider("auth-internal")),new x4(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mo(g.options.projectId,v)})(c,a),c);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Xi(yE,vE,e),Xi(yE,vE,"esm2020")})();var e6="firebase",t6="12.7.0";Xi(e6,t6,"app");function h2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n6=h2,d2=new dh("auth","Firebase",h2());const dm=new kv("@firebase/auth");function r6(t,...e){dm.logLevel<=$e.WARN&&dm.warn(`Auth (${ac}): ${t}`,...e)}function Of(t,...e){dm.logLevel<=$e.ERROR&&dm.error(`Auth (${ac}): ${t}`,...e)}function vs(t,...e){throw M_(t,...e)}function Lr(t,...e){return M_(t,...e)}function P_(t,e,n){const r={...n6(),[e]:n};return new dh("auth","Firebase",r).create(e,{appName:t.name})}function so(t){return P_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&vs(t,"argument-error"),P_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function M_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d2.create(t,...e)}function Re(t,e,...n){if(!t)throw M_(e,...n)}function qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Of(e),new Error(e)}function Js(t,e){t||qs(e)}function dv(){return typeof self<"u"&&self.location?.href||""}function i6(){return L1()==="http:"||L1()==="https:"}function L1(){return typeof self<"u"&&self.location?.protocol||null}function a6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i6()||XO()||"connection"in navigator)?navigator.onLine:!0}function o6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Eh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Js(n>e,"Short delay should be less than long delay!"),this.isMobile=ZO()||JO()}get(){return a6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V_(t,e){Js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class f2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const l6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const c6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],u6=new Eh(3e4,6e4);function z_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function dc(t,e,n,r,a={}){return m2(t,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const h=fh({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:d,...o};return YO()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&ic(t.emulatorConfig.host)&&(g.credentials="include"),f2.fetch()(await p2(t,t.config.apiHost,n,h),g)})}async function m2(t,e,n){t._canInitEmulator=!1;const r={...l6,...e};try{const a=new d6(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw pf(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,g]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw pf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw pf(t,"user-disabled",c);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw P_(t,v,g);vs(t,v)}}catch(a){if(a instanceof ei)throw a;vs(t,"network-request-failed",{message:String(a)})}}async function h6(t,e,n,r,a={}){const o=await dc(t,e,n,r,a);return"mfaPendingCredential"in o&&vs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function p2(t,e,n,r){const a=`${e}${n}?${r}`,o=t,c=o.config.emulator?V_(t.config,a):`${t.config.apiScheme}://${a}`;return c6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class d6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),u6.get())})}}function pf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Lr(t,e,r);return a.customData._tokenResponse=n,a}async function f6(t,e){return dc(t,"POST","/v1/accounts:delete",e)}async function fm(t,e){return dc(t,"POST","/v1/accounts:lookup",e)}function Fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m6(t,e=!1){const n=xn(t),r=await n.getIdToken(e),a=L_(r);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:Fu(Ey(a.auth_time)),issuedAtTime:Fu(Ey(a.iat)),expirationTime:Fu(Ey(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ey(t){return Number(t)*1e3}function L_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const a=jS(n);return a?JSON.parse(a):(Of("Failed to decode base64 JWT payload"),null)}catch(a){return Of("Caught error parsing JWT payload as JSON",a?.toString()),null}}function U1(t){const e=L_(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function sh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ei&&p6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function p6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class g6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function mm(t){const e=t.auth,n=await t.getIdToken(),r=await sh(t,fm(e,{idToken:n}));Re(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?g2(a.providerUserInfo):[],c=v6(t.providerData,o),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,g=h?d:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new fv(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function y6(t){const e=xn(t);await mm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v6(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function g2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function _6(t,e){const n=await m2(t,{},async()=>{const r=fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=await p2(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&ic(t.emulatorConfig.host)&&(d.credentials="include"),f2.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b6(t,e){return dc(t,"POST","/v2/accounts:revokeToken",z_(t,e))}class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=U1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await _6(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,c=new jl;return r&&(Re(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Re(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return qs("not implemented")}}function Fi(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new g6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new fv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await sh(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return m6(this,e)}reload(){return y6(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vr(this.auth.app))return Promise.reject(so(this.auth));const e=await this.getIdToken();return await sh(this,f6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:T,providerData:D,stsTokenManager:j}=n;Re(_&&j,e,"internal-error");const P=jl.fromJSON(this.name,j);Re(typeof _=="string",e,"internal-error"),Fi(r,e.name),Fi(a,e.name),Re(typeof E=="boolean",e,"internal-error"),Re(typeof T=="boolean",e,"internal-error"),Fi(o,e.name),Fi(c,e.name),Fi(h,e.name),Fi(d,e.name),Fi(g,e.name),Fi(v,e.name);const Z=new zr({uid:_,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:T,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:P,createdAt:g,lastLoginAt:v});return D&&Array.isArray(D)&&(Z.providerData=D.map(X=>({...X}))),d&&(Z._redirectEventId=d),Z}static async _fromIdTokenResponse(e,n,r=!1){const a=new jl;a.updateFromServerResponse(n);const o=new zr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await mm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?g2(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new jl;h.updateFromIdToken(r);const d=new zr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new fv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,g),d}}const F1=new Map;function $s(t){Js(t instanceof Function,"Expected a class definition");let e=F1.get(t);return e?(Js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F1.set(t,e),e)}class y2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}y2.type="NONE";const B1=y2;function Pf(t,e,n){return`firebase:${t}:${e}:${n}`}class kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Pf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Pf("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fm(this.auth,{idToken:e}).catch(()=>{});return n?zr._fromGetAccountInfoResponse(this.auth,n,e):null}return zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new kl($s(B1),e,r);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||$s(B1);const c=Pf(r,e.config.apiKey,e.name);let h=null;for(const g of n)try{const v=await g._get(c);if(v){let _;if(typeof v=="string"){const E=await fm(e,{idToken:v}).catch(()=>{});if(!E)break;_=await zr._fromGetAccountInfoResponse(e,E,v)}else _=zr._fromJSON(e,v);g!==o&&(h=_),o=g;break}}catch{}const d=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new kl(o,e,r):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new kl(o,e,r))}}function q1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E2(e))return"Blackberry";if(T2(e))return"Webos";if(_2(e))return"Safari";if((e.includes("chrome/")||b2(e))&&!e.includes("edge/"))return"Chrome";if(w2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function v2(t=en()){return/firefox\//i.test(t)}function _2(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b2(t=en()){return/crios\//i.test(t)}function x2(t=en()){return/iemobile/i.test(t)}function w2(t=en()){return/android/i.test(t)}function E2(t=en()){return/blackberry/i.test(t)}function T2(t=en()){return/webos/i.test(t)}function U_(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x6(t=en()){return U_(t)&&!!window.navigator?.standalone}function w6(){return WO()&&document.documentMode===10}function S2(t=en()){return U_(t)||w2(t)||T2(t)||E2(t)||/windows phone/i.test(t)||x2(t)}function A2(t,e=[]){let n;switch(t){case"Browser":n=q1(en());break;case"Worker":n=`${q1(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ac}/${r}`}class E6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,h)=>{try{const d=e(o);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function T6(t,e={}){return dc(t,"GET","/v2/passwordPolicy",z_(t,e))}const S6=6;class A6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??S6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class I6{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $1(this),this.idTokenSubscription=new $1(this),this.beforeStateQueue=new E6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$s(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fm(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vr(this.app))return Promise.reject(so(this));const n=e?xn(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vr(this.app)?Promise.reject(so(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vr(this.app)?Promise.reject(so(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T6(this),n=new A6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await b6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$s(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[$s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&r6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ym(t){return xn(t)}class $1{constructor(e){this.auth=e,this.observer=null,this.addObserver=iP(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let F_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N6(t){F_=t}function R6(t){return F_.loadJS(t)}function C6(){return F_.gapiScript}function D6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function j6(t,e){const n=Pv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(co(o,e??{}))return a;vs(a,"already-initialized")}return n.initialize({options:e})}function k6(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($s);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function O6(t,e,n){const r=Ym(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=I2(e),{host:c,port:h}=P6(e),d=h===null?"":`:${h}`,g={url:`${o}//${c}${d}/`},v=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(co(g,r.config.emulator)&&co(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ic(c)?(VS(`${o}//${c}${d}`),zS("Auth",!0)):M6()}function I2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P6(t){const e=I2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:H1(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:H1(c)}}}function H1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function M6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class N2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,n){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}async function Ol(t,e){return h6(t,"POST","/v1/accounts:signInWithIdp",z_(t,e))}const V6="http://localhost";class xo extends N2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const c=new xo(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ol(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ol(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ol(e,n)}buildRequest(){const e={requestUri:V6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fh(n)}return e}}class B_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Th extends B_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $i extends Th{constructor(){super("facebook.com")}static credential(e){return xo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";class Fs extends Th{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";class Hi extends Th{constructor(){super("github.com")}static credential(e){return xo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";class Gi extends Th{constructor(){super("twitter.com")}static credential(e,n){return xo._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";class Xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await zr._fromIdTokenResponse(e,r,a),c=G1(r);return new Xl({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=G1(r);return new Xl({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function G1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class pm extends ei{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,pm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new pm(e,n,r,a)}}function R2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?pm._fromErrorAndOperation(t,o,e,r):o})}async function z6(t,e,n=!1){const r=await sh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xl._forOperation(t,"link",r)}async function L6(t,e,n=!1){const{auth:r}=t;if(Vr(r.app))return Promise.reject(so(r));const a="reauthenticate";try{const o=await sh(t,R2(r,a,e,t),n);Re(o.idToken,r,"internal-error");const c=L_(o.idToken);Re(c,r,"internal-error");const{sub:h}=c;return Re(t.uid===h,r,"user-mismatch"),Xl._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&vs(r,"user-mismatch"),o}}async function U6(t,e,n=!1){if(Vr(t.app))return Promise.reject(so(t));const r="signIn",a=await R2(t,r,e),o=await Xl._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}function F6(t,e,n,r){return xn(t).onIdTokenChanged(e,n,r)}function B6(t,e,n){return xn(t).beforeAuthStateChanged(e,n)}function C2(t,e,n,r){return xn(t).onAuthStateChanged(e,n,r)}function q6(t){return xn(t).signOut()}const gm="__sak";class D2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gm,"1"),this.storage.removeItem(gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $6=1e3,H6=10;class j2 extends D2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);w6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,H6):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}j2.type="LOCAL";const G6=j2;class k2 extends D2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}k2.type="SESSION";const O2=k2;function K6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Xm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async g=>g(n.origin,o)),d=await K6(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xm.receivers=[];function q_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class Q6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const g=q_("",20);a.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(v),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function gs(){return window}function Z6(t){gs().location.href=t}function P2(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function Y6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X6(){return navigator?.serviceWorker?.controller||null}function J6(){return P2()?self:null}const M2="firebaseLocalStorageDb",W6=1,ym="firebaseLocalStorage",V2="fbase_key";class Sh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jm(t,e){return t.transaction([ym],e?"readwrite":"readonly").objectStore(ym)}function ez(){const t=indexedDB.deleteDatabase(M2);return new Sh(t).toPromise()}function mv(){const t=indexedDB.open(M2,W6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ym,{keyPath:V2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ym)?e(r):(r.close(),await ez(),e(await mv()))})})}async function K1(t,e,n){const r=Jm(t,!0).put({[V2]:e,value:n});return new Sh(r).toPromise()}async function tz(t,e){const n=Jm(t,!1).get(e),r=await new Sh(n).toPromise();return r===void 0?null:r.value}function Q1(t,e){const n=Jm(t,!0).delete(e);return new Sh(n).toPromise()}const nz=800,rz=3;class z2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xm._getInstance(J6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Y6(),!this.activeServiceWorker)return;this.sender=new Q6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mv();return await K1(e,gm,"1"),await Q1(e,gm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>K1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Jm(a,!1).getAll();return new Sh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z2.type="LOCAL";const sz=z2;new Eh(3e4,6e4);function L2(t,e){return e?$s(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class $_ extends N2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iz(t){return U6(t.auth,new $_(t),t.bypassAuthState)}function az(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),L6(n,new $_(t),t.bypassAuthState)}async function oz(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),z6(n,new $_(t),t.bypassAuthState)}class U2{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iz;case"linkViaPopup":case"linkViaRedirect":return oz;case"reauthViaPopup":case"reauthViaRedirect":return az;default:vs(this.auth,"internal-error")}}resolve(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lz=new Eh(2e3,1e4);async function cz(t,e,n){if(Vr(t.app))return Promise.reject(Lr(t,"operation-not-supported-in-this-environment"));const r=Ym(t);s6(t,e,B_);const a=L2(r,n);return new Ja(r,"signInViaPopup",e,a).executeNotNull()}class Ja extends U2{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Js(this.filter.length===1,"Popup operations only handle one event");const e=q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lz.get())};e()}}Ja.currentPopupAction=null;const uz="pendingRedirect",Mf=new Map;class hz extends U2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mf.get(this.auth._key());if(!e){try{const r=await dz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mf.set(this.auth._key(),e)}return this.bypassAuthState||Mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dz(t,e){const n=pz(e),r=mz(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function fz(t,e){Mf.set(t._key(),e)}function mz(t){return $s(t._redirectPersistence)}function pz(t){return Pf(uz,t.config.apiKey,t.name)}async function gz(t,e,n=!1){if(Vr(t.app))return Promise.reject(so(t));const r=Ym(t),a=L2(r,e),c=await new hz(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const yz=600*1e3;class vz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_z(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!F2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Lr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yz&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z1(e))}saveEventToCache(e){this.cachedEventUids.add(Z1(e)),this.lastProcessedEventTime=Date.now()}}function Z1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function F2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function _z(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F2(t);default:return!1}}async function bz(t,e={}){return dc(t,"GET","/v1/projects",e)}const xz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wz=/^https?/;async function Ez(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bz(t);for(const n of e)try{if(Tz(n))return}catch{}vs(t,"unauthorized-domain")}function Tz(t){const e=dv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!wz.test(n))return!1;if(xz.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const Sz=new Eh(3e4,6e4);function Y1(){const t=gs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Az(t){return new Promise((e,n)=>{function r(){Y1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y1(),n(Lr(t,"network-request-failed"))},timeout:Sz.get()})}if(gs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gs().gapi?.load)r();else{const a=D6("iframefcb");return gs()[a]=()=>{gapi.load?r():n(Lr(t,"network-request-failed"))},R6(`${C6()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function Iz(t){return Vf=Vf||Az(t),Vf}const Nz=new Eh(5e3,15e3),Rz="__/auth/iframe",Cz="emulator/auth/iframe",Dz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kz(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?V_(e,Cz):`https://${t.config.authDomain}/${Rz}`,r={apiKey:e.apiKey,appName:t.name,v:ac},a=jz.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${fh(r).slice(1)}`}async function Oz(t){const e=await Iz(t),n=gs().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:kz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dz,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Lr(t,"network-request-failed"),h=gs().setTimeout(()=>{o(c)},Nz.get());function d(){gs().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(c)})}))}const Pz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mz=500,Vz=600,zz="_blank",Lz="http://localhost";class X1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uz(t,e,n,r=Mz,a=Vz){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...Pz,width:r.toString(),height:a.toString(),top:o,left:c},g=en().toLowerCase();n&&(h=b2(g)?zz:n),v2(g)&&(e=e||Lz,d.scrollbars="yes");const v=Object.entries(d).reduce((E,[T,D])=>`${E}${T}=${D},`,"");if(x6(g)&&h!=="_self")return Fz(e||"",h),new X1(null);const _=window.open(e||"",h,v);Re(_,t,"popup-blocked");try{_.focus()}catch{}return new X1(_)}function Fz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Bz="__/auth/handler",qz="emulator/auth/handler",$z=encodeURIComponent("fac");async function J1(t,e,n,r,a,o){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ac,eventId:a};if(e instanceof B_){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",sP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof Th){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const d=await t._getAppCheckToken(),g=d?`#${$z}=${encodeURIComponent(d)}`:"";return`${Hz(t)}?${fh(h).slice(1)}${g}`}function Hz({config:t}){return t.emulator?V_(t,qz):`https://${t.authDomain}/${Bz}`}const Ty="webStorageSupport";class Gz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O2,this._completeRedirectFn=gz,this._overrideRedirectResult=fz}async _openPopup(e,n,r,a){Js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await J1(e,n,r,dv(),a);return Uz(e,o,q_())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await J1(e,n,r,dv(),a);return Z6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Js(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Oz(e),r=new vz(e);return n.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ty,{type:Ty},a=>{const o=a?.[0]?.[Ty];o!==void 0&&n(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ez(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return S2()||_2()||U_()}}const Kz=Gz;var W1="@firebase/auth",eT="1.12.0";class Qz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Zz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yz(t){Vl(new uo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A2(t)},g=new I6(r,a,o,d);return k6(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vl(new uo("auth-internal",e=>{const n=Ym(e.getProvider("auth").getImmediate());return(r=>new Qz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(W1,eT,Zz(t)),Xi(W1,eT,"esm2020")}const Xz=300,Jz=MS("authIdTokenMaxAge")||Xz;let tT=null;const Wz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Jz)return;const a=n?.token;tT!==a&&(tT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function e5(t=GS()){const e=Pv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=j6(t,{popupRedirectResolver:Kz,persistence:[sz,G6,O2]}),r=MS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=Wz(o.toString());B6(n,c,()=>c(n.currentUser)),F6(n,h=>c(h))}}const a=OS("auth");return a&&O6(n,`http://${a}`),n}function t5(){return document.getElementsByTagName("head")?.[0]??document}N6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Lr("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",t5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yz("Browser");const n5={apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",storageBucket:void 0,messagingSenderId:"490973136832",appId:"1:490973136832:web:1811051408fdde8fbcea25",measurementId:"G-D3YR1YJXPN"},B2=dE().length?dE()[0]:HS(n5),ri=kV(B2),zf=e5(B2);typeof window<"u"&&OV(ri).catch(t=>{console.debug("IndexedDB persistence not enabled:",t?.code??t?.message??t)});function q2(t,e,n){const r=b_(t,e);return n?r.withConverter(n):r}async function r5(t,e,n){const r=hc(ri,t,e),a=n?r.withConverter(n):r,o=await ZV(a);return o.exists()?o.data():null}async function $2(t,e,n){const r=q2(ri,t,n);return(await JV(r,e)).id}async function s5(t,e,n,r){const a=hc(ri,t,e),o=r?a.withConverter(r):a;await l2(o,n)}async function i5(t,e,n,r){const a=hc(ri,t,e),o=r?a.withConverter(r):a;await l2(o,n,{merge:!0})}async function a5(t,e){const n=hc(ri,t,e);await XV(n)}async function o5(t,e){const{pageSize:n=20,cursor:r=null,additionalConstraints:a=[],converter:o}=e??{},c=q2(ri,t,o),h=[$V(n),...a];r&&h.push(HV(r));const d=qV(c,...h),g=await YV(d),v=g.docs.map(E=>E.data()),_=g.docs[g.docs.length-1]??null;return{docs:v,nextCursor:_?_.id:null}}function ie(t,e,n){function r(h,d){if(h._zod||Object.defineProperty(h,"_zod",{value:{def:d,constr:c,traits:new Set},enumerable:!1}),h._zod.traits.has(t))return;h._zod.traits.add(t),e(h,d);const g=c.prototype,v=Object.keys(g);for(let _=0;_<v.length;_++){const E=v[_];E in h||(h[E]=g[E].bind(h))}}const a=n?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function c(h){var d;const g=n?.Parent?new o:this;r(g,h),(d=g._zod).deferred??(d.deferred=[]);for(const v of g._zod.deferred)v();return g}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:h=>n?.Parent&&h instanceof n.Parent?!0:h?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class Pl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class H2 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const G2={};function wo(t){return G2}function K2(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,a])=>e.indexOf(+r)===-1).map(([r,a])=>a)}function pv(t,e){return typeof e=="bigint"?e.toString():e}function H_(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function G_(t){return t==null}function K_(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function l5(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const o=n>a?n:a,c=Number.parseInt(t.toFixed(o).replace(".","")),h=Number.parseInt(e.toFixed(o).replace(".",""));return c%h/10**o}const nT=Symbol("evaluating");function lt(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==nT)return r===void 0&&(r=nT,r=n()),r},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function No(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function la(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function rT(t){return JSON.stringify(t)}function c5(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Q2="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function vm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const u5=H_(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ih(t){if(vm(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(vm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Z2(t){return ih(t)?{...t}:Array.isArray(t)?[...t]:t}const h5=new Set(["string","number","symbol"]);function Jl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ca(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Se(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function d5(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const f5={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function m5(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=la(t._zod.def,{get shape(){const c={};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&(c[h]=n.shape[h])}return No(this,"shape",c),c},checks:[]});return ca(t,o)}function p5(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=la(t._zod.def,{get shape(){const c={...t._zod.def.shape};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&delete c[h]}return No(this,"shape",c),c},checks:[]});return ca(t,o)}function g5(t,e){if(!ih(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const c in e)if(Object.getOwnPropertyDescriptor(o,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=la(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return No(this,"shape",o),o}});return ca(t,a)}function y5(t,e){if(!ih(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=la(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return No(this,"shape",r),r}});return ca(t,n)}function v5(t,e){const n=la(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return No(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return ca(t,n)}function _5(t,e,n){const a=e._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=la(e._zod.def,{get shape(){const h=e._zod.def.shape,d={...h};if(n)for(const g in n){if(!(g in h))throw new Error(`Unrecognized key: "${g}"`);n[g]&&(d[g]=t?new t({type:"optional",innerType:h[g]}):h[g])}else for(const g in h)d[g]=t?new t({type:"optional",innerType:h[g]}):h[g];return No(this,"shape",d),d},checks:[]});return ca(e,c)}function b5(t,e,n){const r=la(e._zod.def,{get shape(){const a=e._zod.def.shape,o={...a};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(o[c]=new t({type:"nonoptional",innerType:a[c]}))}else for(const c in a)o[c]=new t({type:"nonoptional",innerType:a[c]});return No(this,"shape",o),o}});return ca(e,r)}function Rl(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function Y2(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function gf(t){return typeof t=="string"?t:t?.message}function Eo(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const a=gf(t.inst?._zod.def?.error?.(t))??gf(e?.error?.(t))??gf(n.customError?.(t))??gf(n.localeError?.(t))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Q_(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function ah(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const X2=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,pv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},J2=ie("$ZodError",X2),W2=ie("$ZodError",X2,{Parent:Error});function x5(t,e=n=>n.message){const n={},r=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}function w5(t,e=n=>n.message){const n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(c=>r({issues:c}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(e(o));else{let c=n,h=0;for(;h<o.path.length;){const d=o.path[h];h===o.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(e(o))):c[d]=c[d]||{_errors:[]},c=c[d],h++}}};return r(t),n}const Z_=t=>(e,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise)throw new Pl;if(c.issues.length){const h=new(a?.Err??t)(c.issues.map(d=>Eo(d,o,wo())));throw Q2(h,a?.callee),h}return c.value},Y_=t=>async(e,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise&&(c=await c),c.issues.length){const h=new(a?.Err??t)(c.issues.map(d=>Eo(d,o,wo())));throw Q2(h,a?.callee),h}return c.value},Wm=t=>(e,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Pl;return o.issues.length?{success:!1,error:new(t??J2)(o.issues.map(c=>Eo(c,a,wo())))}:{success:!0,data:o.value}},E5=Wm(W2),ep=t=>async(e,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(c=>Eo(c,a,wo())))}:{success:!0,data:o.value}},T5=ep(W2),S5=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Z_(t)(e,n,a)},A5=t=>(e,n,r)=>Z_(t)(e,n,r),I5=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Y_(t)(e,n,a)},N5=t=>async(e,n,r)=>Y_(t)(e,n,r),R5=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Wm(t)(e,n,a)},C5=t=>(e,n,r)=>Wm(t)(e,n,r),D5=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ep(t)(e,n,a)},j5=t=>async(e,n,r)=>ep(t)(e,n,r),k5=/^[cC][^\s-]{8,}$/,O5=/^[0-9a-z]+$/,P5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,M5=/^[0-9a-vA-V]{20}$/,V5=/^[A-Za-z0-9]{27}$/,z5=/^[a-zA-Z0-9_-]{21}$/,L5=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,U5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,sT=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,F5=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,B5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function q5(){return new RegExp(B5,"u")}const $5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,H5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,G5=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,K5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Q5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,eN=/^[A-Za-z0-9_-]*$/,Z5=/^\+[1-9]\d{6,14}$/,tN="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Y5=new RegExp(`^${tN}$`);function nN(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function X5(t){return new RegExp(`^${nN(t)}$`)}function J5(t){const e=nN({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${tN}T(?:${r})$`)}const W5=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},eL=/^-?\d+$/,tL=/^-?\d+(?:\.\d+)?$/,nL=/^[^A-Z]*$/,rL=/^[^a-z]*$/,Ln=ie("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),rN={number:"number",bigint:"bigint",object:"date"},sN=ie("$ZodCheckLessThan",(t,e)=>{Ln.init(t,e);const n=rN[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),iN=ie("$ZodCheckGreaterThan",(t,e)=>{Ln.init(t,e);const n=rN[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),sL=ie("$ZodCheckMultipleOf",(t,e)=>{Ln.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):l5(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),iL=ie("$ZodCheckNumberFormat",(t,e)=>{Ln.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[a,o]=f5[e.format];t._zod.onattach.push(c=>{const h=c._zod.bag;h.format=e.format,h.minimum=a,h.maximum=o,n&&(h.pattern=eL)}),t._zod.check=c=>{const h=c.value;if(n){if(!Number.isInteger(h)){c.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?c.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):c.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}h<a&&c.issues.push({origin:"number",input:h,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),h>o&&c.issues.push({origin:"number",input:h,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),aL=ie("$ZodCheckMaxLength",(t,e)=>{var n;Ln.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!G_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const a=r.value;if(a.length<=e.maximum)return;const c=Q_(a);r.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),oL=ie("$ZodCheckMinLength",(t,e)=>{var n;Ln.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!G_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const a=r.value;if(a.length>=e.minimum)return;const c=Q_(a);r.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),lL=ie("$ZodCheckLengthEquals",(t,e)=>{var n;Ln.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!G_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=r=>{const a=r.value,o=a.length;if(o===e.length)return;const c=Q_(a),h=o>e.length;r.issues.push({origin:c,...h?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),tp=ie("$ZodCheckStringFormat",(t,e)=>{var n,r;Ln.init(t,e),t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),cL=ie("$ZodCheckRegex",(t,e)=>{tp.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),uL=ie("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=nL),tp.init(t,e)}),hL=ie("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=rL),tp.init(t,e)}),dL=ie("$ZodCheckIncludes",(t,e)=>{Ln.init(t,e);const n=Jl(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),fL=ie("$ZodCheckStartsWith",(t,e)=>{Ln.init(t,e);const n=new RegExp(`^${Jl(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),mL=ie("$ZodCheckEndsWith",(t,e)=>{Ln.init(t,e);const n=new RegExp(`.*${Jl(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),pL=ie("$ZodCheckOverwrite",(t,e)=>{Ln.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class gL{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(c=>c),a=Math.min(...r.map(c=>c.length-c.trimStart().length)),o=r.map(c=>c.slice(a)).map(c=>" ".repeat(this.indent*2)+c);for(const c of o)this.content.push(c)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,a.join(`
`))}}const yL={major:4,minor:3,patch:5},Ct=ie("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=yL;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const o of a._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(c,h,d)=>{let g=Rl(c),v;for(const _ of h){if(_._zod.def.when){if(!_._zod.def.when(c))continue}else if(g)continue;const E=c.issues.length,T=_._zod.check(c);if(T instanceof Promise&&d?.async===!1)throw new Pl;if(v||T instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await T,c.issues.length!==E&&(g||(g=Rl(c,E)))});else{if(c.issues.length===E)continue;g||(g=Rl(c,E))}}return v?v.then(()=>c):c},o=(c,h,d)=>{if(Rl(c))return c.aborted=!0,c;const g=a(h,r,d);if(g instanceof Promise){if(d.async===!1)throw new Pl;return g.then(v=>t._zod.parse(v,d))}return t._zod.parse(g,d)};t._zod.run=(c,h)=>{if(h.skipChecks)return t._zod.parse(c,h);if(h.direction==="backward"){const g=t._zod.parse({value:c.value,issues:[]},{...h,skipChecks:!0});return g instanceof Promise?g.then(v=>o(v,c,h)):o(g,c,h)}const d=t._zod.parse(c,h);if(d instanceof Promise){if(h.async===!1)throw new Pl;return d.then(g=>a(g,r,h))}return a(d,r,h)}}lt(t,"~standard",()=>({validate:a=>{try{const o=E5(t,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return T5(t,a).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}))}),X_=ie("$ZodString",(t,e)=>{Ct.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??W5(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),xt=ie("$ZodStringFormat",(t,e)=>{tp.init(t,e),X_.init(t,e)}),vL=ie("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=U5),xt.init(t,e)}),_L=ie("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=sT(r))}else e.pattern??(e.pattern=sT());xt.init(t,e)}),bL=ie("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=F5),xt.init(t,e)}),xL=ie("$ZodURL",(t,e)=>{xt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),wL=ie("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=q5()),xt.init(t,e)}),EL=ie("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=z5),xt.init(t,e)}),TL=ie("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=k5),xt.init(t,e)}),SL=ie("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=O5),xt.init(t,e)}),AL=ie("$ZodULID",(t,e)=>{e.pattern??(e.pattern=P5),xt.init(t,e)}),IL=ie("$ZodXID",(t,e)=>{e.pattern??(e.pattern=M5),xt.init(t,e)}),NL=ie("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=V5),xt.init(t,e)}),RL=ie("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=J5(e)),xt.init(t,e)}),CL=ie("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Y5),xt.init(t,e)}),DL=ie("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=X5(e)),xt.init(t,e)}),jL=ie("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=L5),xt.init(t,e)}),kL=ie("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=$5),xt.init(t,e),t._zod.bag.format="ipv4"}),OL=ie("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=H5),xt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),PL=ie("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=G5),xt.init(t,e)}),ML=ie("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=K5),xt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,o]=r;if(!o)throw new Error;const c=Number(o);if(`${c}`!==o)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function aN(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const VL=ie("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=Q5),xt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{aN(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function zL(t){if(!eN.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return aN(n)}const LL=ie("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=eN),xt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{zL(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),UL=ie("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Z5),xt.init(t,e)});function FL(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const BL=ie("$ZodJWT",(t,e)=>{xt.init(t,e),t._zod.check=n=>{FL(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),oN=ie("$ZodNumber",(t,e)=>{Ct.init(t,e),t._zod.pattern=t._zod.bag.pattern??tL,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...o?{received:o}:{}}),n}}),qL=ie("$ZodNumberFormat",(t,e)=>{iL.init(t,e),oN.init(t,e)}),$L=ie("$ZodUnknown",(t,e)=>{Ct.init(t,e),t._zod.parse=n=>n}),HL=ie("$ZodNever",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),GL=ie("$ZodDate",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const a=n.value,o=a instanceof Date;return o&&!Number.isNaN(a.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:a,...o?{received:"Invalid Date"}:{},inst:t}),n}});function iT(t,e,n){t.issues.length&&e.issues.push(...Y2(n,t.issues)),e.value[n]=t.value}const KL=ie("$ZodArray",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const o=[];for(let c=0;c<a.length;c++){const h=a[c],d=e.element._zod.run({value:h,issues:[]},r);d instanceof Promise?o.push(d.then(g=>iT(g,n,c))):iT(d,n,c)}return o.length?Promise.all(o).then(()=>n):n}});function _m(t,e,n,r,a){if(t.issues.length){if(a&&!(n in r))return;e.issues.push(...Y2(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function lN(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=d5(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function cN(t,e,n,r,a,o){const c=[],h=a.keySet,d=a.catchall._zod,g=d.def.type,v=d.optout==="optional";for(const _ in e){if(h.has(_))continue;if(g==="never"){c.push(_);continue}const E=d.run({value:e[_],issues:[]},r);E instanceof Promise?t.push(E.then(T=>_m(T,n,_,e,v))):_m(E,n,_,e,v)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const QL=ie("$ZodObject",(t,e)=>{if(Ct.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const h=e.shape;Object.defineProperty(e,"shape",{get:()=>{const d={...h};return Object.defineProperty(e,"shape",{value:d}),d}})}const r=H_(()=>lN(e));lt(t._zod,"propValues",()=>{const h=e.shape,d={};for(const g in h){const v=h[g]._zod;if(v.values){d[g]??(d[g]=new Set);for(const _ of v.values)d[g].add(_)}}return d});const a=vm,o=e.catchall;let c;t._zod.parse=(h,d)=>{c??(c=r.value);const g=h.value;if(!a(g))return h.issues.push({expected:"object",code:"invalid_type",input:g,inst:t}),h;h.value={};const v=[],_=c.shape;for(const E of c.keys){const T=_[E],D=T._zod.optout==="optional",j=T._zod.run({value:g[E],issues:[]},d);j instanceof Promise?v.push(j.then(P=>_m(P,h,E,g,D))):_m(j,h,E,g,D)}return o?cN(v,g,h,d,r.value,t):v.length?Promise.all(v).then(()=>h):h}}),ZL=ie("$ZodObjectJIT",(t,e)=>{QL.init(t,e);const n=t._zod.parse,r=H_(()=>lN(e)),a=E=>{const T=new gL(["shape","payload","ctx"]),D=r.value,j=K=>{const le=rT(K);return`shape[${le}]._zod.run({ value: input[${le}], issues: [] }, ctx)`};T.write("const input = payload.value;");const P=Object.create(null);let Z=0;for(const K of D.keys)P[K]=`key_${Z++}`;T.write("const newResult = {};");for(const K of D.keys){const le=P[K],Q=rT(K),N=E[K]?._zod?.optout==="optional";T.write(`const ${le} = ${j(K)};`),N?T.write(`
        if (${le}.issues.length) {
          if (${Q} in input) {
            payload.issues = payload.issues.concat(${le}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${Q}, ...iss.path] : [${Q}]
            })));
          }
        }
        
        if (${le}.value === undefined) {
          if (${Q} in input) {
            newResult[${Q}] = undefined;
          }
        } else {
          newResult[${Q}] = ${le}.value;
        }
        
      `):T.write(`
        if (${le}.issues.length) {
          payload.issues = payload.issues.concat(${le}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Q}, ...iss.path] : [${Q}]
          })));
        }
        
        if (${le}.value === undefined) {
          if (${Q} in input) {
            newResult[${Q}] = undefined;
          }
        } else {
          newResult[${Q}] = ${le}.value;
        }
        
      `)}T.write("payload.value = newResult;"),T.write("return payload;");const X=T.compile();return(K,le)=>X(E,K,le)};let o;const c=vm,h=!G2.jitless,g=h&&u5.value,v=e.catchall;let _;t._zod.parse=(E,T)=>{_??(_=r.value);const D=E.value;return c(D)?h&&g&&T?.async===!1&&T.jitless!==!0?(o||(o=a(e.shape)),E=o(E,T),v?cN([],D,E,T,_,t):E):n(E,T):(E.issues.push({expected:"object",code:"invalid_type",input:D,inst:t}),E)}});function aT(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const a=t.filter(o=>!Rl(o));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(c=>Eo(c,r,wo())))}),e)}const YL=ie("$ZodUnion",(t,e)=>{Ct.init(t,e),lt(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),lt(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),lt(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),lt(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>K_(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(a,o)=>{if(n)return r(a,o);let c=!1;const h=[];for(const d of e.options){const g=d._zod.run({value:a.value,issues:[]},o);if(g instanceof Promise)h.push(g),c=!0;else{if(g.issues.length===0)return g;h.push(g)}}return c?Promise.all(h).then(d=>aT(d,a,t,o)):aT(h,a,t,o)}}),XL=ie("$ZodIntersection",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{const a=n.value,o=e.left._zod.run({value:a,issues:[]},r),c=e.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||c instanceof Promise?Promise.all([o,c]).then(([d,g])=>oT(n,d,g)):oT(n,o,c)}});function gv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(ih(t)&&ih(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),a={...t,...e};for(const o of r){const c=gv(t[o],e[o]);if(!c.valid)return{valid:!1,mergeErrorPath:[o,...c.mergeErrorPath]};a[o]=c.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const a=t[r],o=e[r],c=gv(a,o);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function oT(t,e,n){const r=new Map;let a;for(const h of e.issues)if(h.code==="unrecognized_keys"){a??(a=h);for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else t.issues.push(h);for(const h of n.issues)if(h.code==="unrecognized_keys")for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else t.issues.push(h);const o=[...r].filter(([,h])=>h.l&&h.r).map(([h])=>h);if(o.length&&a&&t.issues.push({...a,keys:o}),Rl(t))return t;const c=gv(e.value,n.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return t.value=c.data,t}const JL=ie("$ZodEnum",(t,e)=>{Ct.init(t,e);const n=K2(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(a=>h5.has(typeof a)).map(a=>typeof a=="string"?Jl(a):a.toString()).join("|")})$`),t._zod.parse=(a,o)=>{const c=a.value;return r.has(c)||a.issues.push({code:"invalid_value",values:n,input:c,inst:t}),a}}),WL=ie("$ZodLiteral",(t,e)=>{if(Ct.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?Jl(r):r?Jl(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,a)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),r}}),eU=ie("$ZodTransform",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new H2(t.constructor.name);const a=e.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(c=>(n.value=c,n));if(a instanceof Promise)throw new Pl;return n.value=a,n}});function lT(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const uN=ie("$ZodOptional",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",t._zod.optout="optional",lt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),lt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${K_(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>lT(o,n.value)):lT(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),tU=ie("$ZodExactOptional",(t,e)=>{uN.init(t,e),lt(t._zod,"values",()=>e.innerType._zod.values),lt(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),nU=ie("$ZodNullable",(t,e)=>{Ct.init(t,e),lt(t._zod,"optin",()=>e.innerType._zod.optin),lt(t._zod,"optout",()=>e.innerType._zod.optout),lt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${K_(n.source)}|null)$`):void 0}),lt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),rU=ie("$ZodDefault",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",lt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>cT(o,e)):cT(a,e)}});function cT(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const sU=ie("$ZodPrefault",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",lt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),iU=ie("$ZodNonOptional",(t,e)=>{Ct.init(t,e),lt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>uT(o,t)):uT(a,t)}});function uT(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const aU=ie("$ZodCatch",(t,e)=>{Ct.init(t,e),lt(t._zod,"optin",()=>e.innerType._zod.optin),lt(t._zod,"optout",()=>e.innerType._zod.optout),lt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(c=>Eo(c,r,wo()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(o=>Eo(o,r,wo()))},input:n.value}),n.issues=[]),n)}}),oU=ie("$ZodPipe",(t,e)=>{Ct.init(t,e),lt(t._zod,"values",()=>e.in._zod.values),lt(t._zod,"optin",()=>e.in._zod.optin),lt(t._zod,"optout",()=>e.out._zod.optout),lt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(c=>yf(c,e.in,r)):yf(o,e.in,r)}const a=e.in._zod.run(n,r);return a instanceof Promise?a.then(o=>yf(o,e.out,r)):yf(a,e.out,r)}});function yf(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const lU=ie("$ZodReadonly",(t,e)=>{Ct.init(t,e),lt(t._zod,"propValues",()=>e.innerType._zod.propValues),lt(t._zod,"values",()=>e.innerType._zod.values),lt(t._zod,"optin",()=>e.innerType?._zod?.optin),lt(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(hT):hT(a)}});function hT(t){return t.value=Object.freeze(t.value),t}const cU=ie("$ZodCustom",(t,e)=>{Ln.init(t,e),Ct.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,a=e.fn(r);if(a instanceof Promise)return a.then(o=>dT(o,n,r,t));dT(a,n,r,t)}});function dT(t,e,n,r){if(!t){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),e.issues.push(ah(a))}}var fT;class uU{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function hU(){return new uU}(fT=globalThis).__zod_globalRegistry??(fT.__zod_globalRegistry=hU());const ju=globalThis.__zod_globalRegistry;function dU(t,e){return new t({type:"string",...Se(e)})}function fU(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Se(e)})}function mT(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Se(e)})}function mU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Se(e)})}function pU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Se(e)})}function gU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Se(e)})}function yU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Se(e)})}function vU(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Se(e)})}function _U(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Se(e)})}function bU(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Se(e)})}function xU(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Se(e)})}function wU(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Se(e)})}function EU(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Se(e)})}function TU(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Se(e)})}function SU(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Se(e)})}function AU(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Se(e)})}function IU(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Se(e)})}function NU(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Se(e)})}function RU(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Se(e)})}function CU(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Se(e)})}function DU(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Se(e)})}function jU(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Se(e)})}function kU(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Se(e)})}function OU(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Se(e)})}function PU(t,e){return new t({type:"string",format:"date",check:"string_format",...Se(e)})}function MU(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Se(e)})}function VU(t,e){return new t({type:"string",format:"duration",check:"string_format",...Se(e)})}function zU(t,e){return new t({type:"number",checks:[],...Se(e)})}function LU(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Se(e)})}function UU(t){return new t({type:"unknown"})}function FU(t,e){return new t({type:"never",...Se(e)})}function BU(t,e){return new t({type:"date",...Se(e)})}function pT(t,e){return new sN({check:"less_than",...Se(e),value:t,inclusive:!1})}function Lf(t,e){return new sN({check:"less_than",...Se(e),value:t,inclusive:!0})}function gT(t,e){return new iN({check:"greater_than",...Se(e),value:t,inclusive:!1})}function Uf(t,e){return new iN({check:"greater_than",...Se(e),value:t,inclusive:!0})}function yT(t,e){return new sL({check:"multiple_of",...Se(e),value:t})}function hN(t,e){return new aL({check:"max_length",...Se(e),maximum:t})}function bm(t,e){return new oL({check:"min_length",...Se(e),minimum:t})}function dN(t,e){return new lL({check:"length_equals",...Se(e),length:t})}function qU(t,e){return new cL({check:"string_format",format:"regex",...Se(e),pattern:t})}function $U(t){return new uL({check:"string_format",format:"lowercase",...Se(t)})}function HU(t){return new hL({check:"string_format",format:"uppercase",...Se(t)})}function GU(t,e){return new dL({check:"string_format",format:"includes",...Se(e),includes:t})}function KU(t,e){return new fL({check:"string_format",format:"starts_with",...Se(e),prefix:t})}function QU(t,e){return new mL({check:"string_format",format:"ends_with",...Se(e),suffix:t})}function fc(t){return new pL({check:"overwrite",tx:t})}function ZU(t){return fc(e=>e.normalize(t))}function YU(){return fc(t=>t.trim())}function XU(){return fc(t=>t.toLowerCase())}function JU(){return fc(t=>t.toUpperCase())}function WU(){return fc(t=>c5(t))}function e9(t,e,n){return new t({type:"array",element:e,...Se(n)})}function t9(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Se(n)})}function n9(t){const e=r9(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(ah(r,n.value,e._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(ah(a))}},t(n.value,n)));return e}function r9(t,e){const n=new Ln({check:"custom",...Se(e)});return n._zod.check=t,n}function fN(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??ju,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function gn(t,e,n={path:[],schemaPath:[]}){var r;const a=t._zod.def,o=e.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,c);const h=t._zod.toJSONSchema?.();if(h)c.schema=h;else{const v={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,c.schema,v);else{const E=c.schema,T=e.processors[a.type];if(!T)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);T(t,e,E,v)}const _=t._zod.parent;_&&(c.ref||(c.ref=_),gn(_,e,v),e.seen.get(_).isParent=!0)}const d=e.metadataRegistry.get(t);return d&&Object.assign(c.schema,d),e.io==="input"&&Sn(t)&&(delete c.schema.examples,delete c.schema.default),e.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,e.seen.get(t).schema}function mN(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const c of t.seen.entries()){const h=t.metadataRegistry.get(c[0])?.id;if(h){const d=r.get(h);if(d&&d!==c[0])throw new Error(`Duplicate schema id "${h}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(h,c[0])}}const a=c=>{const h=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const _=t.external.registry.get(c[0])?.id,E=t.external.uri??(D=>D);if(_)return{ref:E(_)};const T=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=T,{defId:T,ref:`${E("__shared")}#/${h}/${T}`}}if(c[1]===n)return{ref:"#"};const g=`#/${h}/`,v=c[1].schema.id??`__schema${t.counter++}`;return{defId:v,ref:g+v}},o=c=>{if(c[1].schema.$ref)return;const h=c[1],{ref:d,defId:g}=a(c);h.def={...h.schema},g&&(h.defId=g);const v=h.schema;for(const _ in v)delete v[_];v.$ref=d};if(t.cycles==="throw")for(const c of t.seen.entries()){const h=c[1];if(h.cycle)throw new Error(`Cycle detected: #/${h.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const h=c[1];if(e===c[0]){o(c);continue}if(t.external){const g=t.external.registry.get(c[0])?.id;if(e!==c[0]&&g){o(c);continue}}if(t.metadataRegistry.get(c[0])?.id){o(c);continue}if(h.cycle){o(c);continue}if(h.count>1&&t.reused==="ref"){o(c);continue}}}function pN(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=c=>{const h=t.seen.get(c);if(h.ref===null)return;const d=h.def??h.schema,g={...d},v=h.ref;if(h.ref=null,v){r(v);const E=t.seen.get(v),T=E.schema;if(T.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(T)):Object.assign(d,T),Object.assign(d,g),c._zod.parent===v)for(const j in d)j==="$ref"||j==="allOf"||j in g||delete d[j];if(T.$ref)for(const j in d)j==="$ref"||j==="allOf"||j in E.def&&JSON.stringify(d[j])===JSON.stringify(E.def[j])&&delete d[j]}const _=c._zod.parent;if(_&&_!==v){r(_);const E=t.seen.get(_);if(E?.schema.$ref&&(d.$ref=E.schema.$ref,E.def))for(const T in d)T==="$ref"||T==="allOf"||T in E.def&&JSON.stringify(d[T])===JSON.stringify(E.def[T])&&delete d[T]}t.override({zodSchema:c,jsonSchema:d,path:h.path??[]})};for(const c of[...t.seen.entries()].reverse())r(c[0]);const a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const c=t.external.registry.get(e)?.id;if(!c)throw new Error("Schema is missing an `id` property");a.$id=t.external.uri(c)}Object.assign(a,n.def??n.schema);const o=t.external?.defs??{};for(const c of t.seen.entries()){const h=c[1];h.def&&h.defId&&(o[h.defId]=h.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?a.$defs=o:a.definitions=o);try{const c=JSON.parse(JSON.stringify(a));return Object.defineProperty(c,"~standard",{value:{...e["~standard"],jsonSchema:{input:xm(e,"input",t.processors),output:xm(e,"output",t.processors)}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function Sn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Sn(r.element,n);if(r.type==="set")return Sn(r.valueType,n);if(r.type==="lazy")return Sn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Sn(r.innerType,n);if(r.type==="intersection")return Sn(r.left,n)||Sn(r.right,n);if(r.type==="record"||r.type==="map")return Sn(r.keyType,n)||Sn(r.valueType,n);if(r.type==="pipe")return Sn(r.in,n)||Sn(r.out,n);if(r.type==="object"){for(const a in r.shape)if(Sn(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(Sn(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(Sn(a,n))return!0;return!!(r.rest&&Sn(r.rest,n))}return!1}const s9=(t,e={})=>n=>{const r=fN({...n,processors:e});return gn(t,r),mN(r,t),pN(r,t)},xm=(t,e,n={})=>r=>{const{libraryOptions:a,target:o}=r??{},c=fN({...a??{},target:o,io:e,processors:n});return gn(t,c),mN(c,t),pN(c,t)},i9={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},a9=(t,e,n,r)=>{const a=n;a.type="string";const{minimum:o,maximum:c,format:h,patterns:d,contentEncoding:g}=t._zod.bag;if(typeof o=="number"&&(a.minLength=o),typeof c=="number"&&(a.maxLength=c),h&&(a.format=i9[h]??h,a.format===""&&delete a.format,h==="time"&&delete a.format),g&&(a.contentEncoding=g),d&&d.size>0){const v=[...d];v.length===1?a.pattern=v[0].source:v.length>1&&(a.allOf=[...v.map(_=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:_.source}))])}},o9=(t,e,n,r)=>{const a=n,{minimum:o,maximum:c,format:h,multipleOf:d,exclusiveMaximum:g,exclusiveMinimum:v}=t._zod.bag;typeof h=="string"&&h.includes("int")?a.type="integer":a.type="number",typeof v=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.minimum=v,a.exclusiveMinimum=!0):a.exclusiveMinimum=v),typeof o=="number"&&(a.minimum=o,typeof v=="number"&&e.target!=="draft-04"&&(v>=o?delete a.minimum:delete a.exclusiveMinimum)),typeof g=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.maximum=g,a.exclusiveMaximum=!0):a.exclusiveMaximum=g),typeof c=="number"&&(a.maximum=c,typeof g=="number"&&e.target!=="draft-04"&&(g<=c?delete a.maximum:delete a.exclusiveMaximum)),typeof d=="number"&&(a.multipleOf=d)},l9=(t,e,n,r)=>{n.not={}},c9=(t,e,n,r)=>{},u9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},h9=(t,e,n,r)=>{const a=t._zod.def,o=K2(a.entries);o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),n.enum=o},d9=(t,e,n,r)=>{const a=t._zod.def,o=[];for(const c of a.values)if(c===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof c=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(c))}else o.push(c);if(o.length!==0)if(o.length===1){const c=o[0];n.type=c===null?"null":typeof c,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[c]:n.const=c}else o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),o.every(c=>typeof c=="boolean")&&(n.type="boolean"),o.every(c=>c===null)&&(n.type="null"),n.enum=o},f9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},m9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},p9=(t,e,n,r)=>{const a=n,o=t._zod.def,{minimum:c,maximum:h}=t._zod.bag;typeof c=="number"&&(a.minItems=c),typeof h=="number"&&(a.maxItems=h),a.type="array",a.items=gn(o.element,e,{...r,path:[...r.path,"items"]})},g9=(t,e,n,r)=>{const a=n,o=t._zod.def;a.type="object",a.properties={};const c=o.shape;for(const g in c)a.properties[g]=gn(c[g],e,{...r,path:[...r.path,"properties",g]});const h=new Set(Object.keys(c)),d=new Set([...h].filter(g=>{const v=o.shape[g]._zod;return e.io==="input"?v.optin===void 0:v.optout===void 0}));d.size>0&&(a.required=Array.from(d)),o.catchall?._zod.def.type==="never"?a.additionalProperties=!1:o.catchall?o.catchall&&(a.additionalProperties=gn(o.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(a.additionalProperties=!1)},y9=(t,e,n,r)=>{const a=t._zod.def,o=a.inclusive===!1,c=a.options.map((h,d)=>gn(h,e,{...r,path:[...r.path,o?"oneOf":"anyOf",d]}));o?n.oneOf=c:n.anyOf=c},v9=(t,e,n,r)=>{const a=t._zod.def,o=gn(a.left,e,{...r,path:[...r.path,"allOf",0]}),c=gn(a.right,e,{...r,path:[...r.path,"allOf",1]}),h=g=>"allOf"in g&&Object.keys(g).length===1,d=[...h(o)?o.allOf:[o],...h(c)?c.allOf:[c]];n.allOf=d},_9=(t,e,n,r)=>{const a=t._zod.def,o=gn(a.innerType,e,r),c=e.seen.get(t);e.target==="openapi-3.0"?(c.ref=a.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},b9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},x9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},w9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},E9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType;let c;try{c=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},T9=(t,e,n,r)=>{const a=t._zod.def,o=e.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;gn(o,e,r);const c=e.seen.get(t);c.ref=o},S9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.readOnly=!0},gN=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},A9=ie("ZodISODateTime",(t,e)=>{RL.init(t,e),St.init(t,e)});function I9(t){return OU(A9,t)}const N9=ie("ZodISODate",(t,e)=>{CL.init(t,e),St.init(t,e)});function R9(t){return PU(N9,t)}const C9=ie("ZodISOTime",(t,e)=>{DL.init(t,e),St.init(t,e)});function D9(t){return MU(C9,t)}const j9=ie("ZodISODuration",(t,e)=>{jL.init(t,e),St.init(t,e)});function k9(t){return VU(j9,t)}const O9=(t,e)=>{J2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>w5(t,n)},flatten:{value:n=>x5(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,pv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,pv,2)}},isEmpty:{get(){return t.issues.length===0}}})},wr=ie("ZodError",O9,{Parent:Error}),P9=Z_(wr),M9=Y_(wr),V9=Wm(wr),z9=ep(wr),L9=S5(wr),U9=A5(wr),F9=I5(wr),B9=N5(wr),q9=R5(wr),$9=C5(wr),H9=D5(wr),G9=j5(wr),Dt=ie("ZodType",(t,e)=>(Ct.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:xm(t,"input"),output:xm(t,"output")}}),t.toJSONSchema=s9(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(la(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>ca(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>P9(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>V9(t,n,r),t.parseAsync=async(n,r)=>M9(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>z9(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>L9(t,n,r),t.decode=(n,r)=>U9(t,n,r),t.encodeAsync=async(n,r)=>F9(t,n,r),t.decodeAsync=async(n,r)=>B9(t,n,r),t.safeEncode=(n,r)=>q9(t,n,r),t.safeDecode=(n,r)=>$9(t,n,r),t.safeEncodeAsync=async(n,r)=>H9(t,n,r),t.safeDecodeAsync=async(n,r)=>G9(t,n,r),t.refine=(n,r)=>t.check(U8(n,r)),t.superRefine=n=>t.check(F8(n)),t.overwrite=n=>t.check(fc(n)),t.optional=()=>xT(t),t.exactOptional=()=>I8(t),t.nullable=()=>wT(t),t.nullish=()=>xT(wT(t)),t.nonoptional=n=>k8(t,n),t.array=()=>J_(t),t.or=n=>W_([t,n]),t.and=n=>x8(t,n),t.transform=n=>ET(t,S8(n)),t.default=n=>C8(t,n),t.prefault=n=>j8(t,n),t.catch=n=>P8(t,n),t.pipe=n=>ET(t,n),t.readonly=()=>z8(t),t.describe=n=>{const r=t.clone();return ju.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return ju.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return ju.get(t);const r=t.clone();return ju.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),yN=ie("_ZodString",(t,e)=>{X_.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>a9(t,r,a);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(qU(...r)),t.includes=(...r)=>t.check(GU(...r)),t.startsWith=(...r)=>t.check(KU(...r)),t.endsWith=(...r)=>t.check(QU(...r)),t.min=(...r)=>t.check(bm(...r)),t.max=(...r)=>t.check(hN(...r)),t.length=(...r)=>t.check(dN(...r)),t.nonempty=(...r)=>t.check(bm(1,...r)),t.lowercase=r=>t.check($U(r)),t.uppercase=r=>t.check(HU(r)),t.trim=()=>t.check(YU()),t.normalize=(...r)=>t.check(ZU(...r)),t.toLowerCase=()=>t.check(XU()),t.toUpperCase=()=>t.check(JU()),t.slugify=()=>t.check(WU())}),K9=ie("ZodString",(t,e)=>{X_.init(t,e),yN.init(t,e),t.email=n=>t.check(fU(Q9,n)),t.url=n=>t.check(vU(Z9,n)),t.jwt=n=>t.check(kU(u8,n)),t.emoji=n=>t.check(_U(Y9,n)),t.guid=n=>t.check(mT(vT,n)),t.uuid=n=>t.check(mU(vf,n)),t.uuidv4=n=>t.check(pU(vf,n)),t.uuidv6=n=>t.check(gU(vf,n)),t.uuidv7=n=>t.check(yU(vf,n)),t.nanoid=n=>t.check(bU(X9,n)),t.guid=n=>t.check(mT(vT,n)),t.cuid=n=>t.check(xU(J9,n)),t.cuid2=n=>t.check(wU(W9,n)),t.ulid=n=>t.check(EU(e8,n)),t.base64=n=>t.check(CU(o8,n)),t.base64url=n=>t.check(DU(l8,n)),t.xid=n=>t.check(TU(t8,n)),t.ksuid=n=>t.check(SU(n8,n)),t.ipv4=n=>t.check(AU(r8,n)),t.ipv6=n=>t.check(IU(s8,n)),t.cidrv4=n=>t.check(NU(i8,n)),t.cidrv6=n=>t.check(RU(a8,n)),t.e164=n=>t.check(jU(c8,n)),t.datetime=n=>t.check(I9(n)),t.date=n=>t.check(R9(n)),t.time=n=>t.check(D9(n)),t.duration=n=>t.check(k9(n))});function Nn(t){return dU(K9,t)}const St=ie("ZodStringFormat",(t,e)=>{xt.init(t,e),yN.init(t,e)}),Q9=ie("ZodEmail",(t,e)=>{bL.init(t,e),St.init(t,e)}),vT=ie("ZodGUID",(t,e)=>{vL.init(t,e),St.init(t,e)}),vf=ie("ZodUUID",(t,e)=>{_L.init(t,e),St.init(t,e)}),Z9=ie("ZodURL",(t,e)=>{xL.init(t,e),St.init(t,e)}),Y9=ie("ZodEmoji",(t,e)=>{wL.init(t,e),St.init(t,e)}),X9=ie("ZodNanoID",(t,e)=>{EL.init(t,e),St.init(t,e)}),J9=ie("ZodCUID",(t,e)=>{TL.init(t,e),St.init(t,e)}),W9=ie("ZodCUID2",(t,e)=>{SL.init(t,e),St.init(t,e)}),e8=ie("ZodULID",(t,e)=>{AL.init(t,e),St.init(t,e)}),t8=ie("ZodXID",(t,e)=>{IL.init(t,e),St.init(t,e)}),n8=ie("ZodKSUID",(t,e)=>{NL.init(t,e),St.init(t,e)}),r8=ie("ZodIPv4",(t,e)=>{kL.init(t,e),St.init(t,e)}),s8=ie("ZodIPv6",(t,e)=>{OL.init(t,e),St.init(t,e)}),i8=ie("ZodCIDRv4",(t,e)=>{PL.init(t,e),St.init(t,e)}),a8=ie("ZodCIDRv6",(t,e)=>{ML.init(t,e),St.init(t,e)}),o8=ie("ZodBase64",(t,e)=>{VL.init(t,e),St.init(t,e)}),l8=ie("ZodBase64URL",(t,e)=>{LL.init(t,e),St.init(t,e)}),c8=ie("ZodE164",(t,e)=>{UL.init(t,e),St.init(t,e)}),u8=ie("ZodJWT",(t,e)=>{BL.init(t,e),St.init(t,e)}),vN=ie("ZodNumber",(t,e)=>{oN.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>o9(t,r,a),t.gt=(r,a)=>t.check(gT(r,a)),t.gte=(r,a)=>t.check(Uf(r,a)),t.min=(r,a)=>t.check(Uf(r,a)),t.lt=(r,a)=>t.check(pT(r,a)),t.lte=(r,a)=>t.check(Lf(r,a)),t.max=(r,a)=>t.check(Lf(r,a)),t.int=r=>t.check(_T(r)),t.safe=r=>t.check(_T(r)),t.positive=r=>t.check(gT(0,r)),t.nonnegative=r=>t.check(Uf(0,r)),t.negative=r=>t.check(pT(0,r)),t.nonpositive=r=>t.check(Lf(0,r)),t.multipleOf=(r,a)=>t.check(yT(r,a)),t.step=(r,a)=>t.check(yT(r,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function wm(t){return zU(vN,t)}const h8=ie("ZodNumberFormat",(t,e)=>{qL.init(t,e),vN.init(t,e)});function _T(t){return LU(h8,t)}const d8=ie("ZodUnknown",(t,e)=>{$L.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>c9()});function bT(){return UU(d8)}const f8=ie("ZodNever",(t,e)=>{HL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>l9(t,n,r)});function m8(t){return FU(f8,t)}const p8=ie("ZodDate",(t,e)=>{GL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>u9(t,r),t.min=(r,a)=>t.check(Uf(r,a)),t.max=(r,a)=>t.check(Lf(r,a));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function g8(t){return BU(p8,t)}const y8=ie("ZodArray",(t,e)=>{KL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>p9(t,n,r,a),t.element=e.element,t.min=(n,r)=>t.check(bm(n,r)),t.nonempty=n=>t.check(bm(1,n)),t.max=(n,r)=>t.check(hN(n,r)),t.length=(n,r)=>t.check(dN(n,r)),t.unwrap=()=>t.element});function J_(t,e){return e9(y8,t,e)}const v8=ie("ZodObject",(t,e)=>{ZL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>g9(t,n,r,a),lt(t,"shape",()=>e.shape),t.keyof=()=>w8(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:bT()}),t.loose=()=>t.clone({...t._zod.def,catchall:bT()}),t.strict=()=>t.clone({...t._zod.def,catchall:m8()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>g5(t,n),t.safeExtend=n=>y5(t,n),t.merge=n=>v5(t,n),t.pick=n=>m5(t,n),t.omit=n=>p5(t,n),t.partial=(...n)=>_5(_N,t,n[0]),t.required=(...n)=>b5(bN,t,n[0])});function Ah(t,e){const n={type:"object",shape:t??{},...Se(e)};return new v8(n)}const _8=ie("ZodUnion",(t,e)=>{YL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>y9(t,n,r,a),t.options=e.options});function W_(t,e){return new _8({type:"union",options:t,...Se(e)})}const b8=ie("ZodIntersection",(t,e)=>{XL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>v9(t,n,r,a)});function x8(t,e){return new b8({type:"intersection",left:t,right:e})}const yv=ie("ZodEnum",(t,e)=>{JL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>h9(t,r,a),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,a)=>{const o={};for(const c of r)if(n.has(c))o[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new yv({...e,checks:[],...Se(a),entries:o})},t.exclude=(r,a)=>{const o={...e.entries};for(const c of r)if(n.has(c))delete o[c];else throw new Error(`Key ${c} not found in enum`);return new yv({...e,checks:[],...Se(a),entries:o})}});function w8(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new yv({type:"enum",entries:n,...Se(e)})}const E8=ie("ZodLiteral",(t,e)=>{WL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>d9(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function vv(t,e){return new E8({type:"literal",values:Array.isArray(t)?t:[t],...Se(e)})}const T8=ie("ZodTransform",(t,e)=>{eU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>m9(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new H2(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(ah(o,n.value,e));else{const c=o;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(ah(c))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function S8(t){return new T8({type:"transform",transform:t})}const _N=ie("ZodOptional",(t,e)=>{uN.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>gN(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function xT(t){return new _N({type:"optional",innerType:t})}const A8=ie("ZodExactOptional",(t,e)=>{tU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>gN(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function I8(t){return new A8({type:"optional",innerType:t})}const N8=ie("ZodNullable",(t,e)=>{nU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>_9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function wT(t){return new N8({type:"nullable",innerType:t})}const R8=ie("ZodDefault",(t,e)=>{rU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>x9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function C8(t,e){return new R8({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Z2(e)}})}const D8=ie("ZodPrefault",(t,e)=>{sU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>w9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function j8(t,e){return new D8({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Z2(e)}})}const bN=ie("ZodNonOptional",(t,e)=>{iU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>b9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function k8(t,e){return new bN({type:"nonoptional",innerType:t,...Se(e)})}const O8=ie("ZodCatch",(t,e)=>{aU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>E9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function P8(t,e){return new O8({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const M8=ie("ZodPipe",(t,e)=>{oU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>T9(t,n,r,a),t.in=e.in,t.out=e.out});function ET(t,e){return new M8({type:"pipe",in:t,out:e})}const V8=ie("ZodReadonly",(t,e)=>{lU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>S9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function z8(t){return new V8({type:"readonly",innerType:t})}const L8=ie("ZodCustom",(t,e)=>{cU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>f9(t,n)});function U8(t,e={}){return t9(L8,t,e)}function F8(t){return n9(t)}const B8=Ah({id:Nn().optional(),name:Nn().min(1),dupr:wm().nonnegative().optional(),imageUrl:Nn().optional(),createdAt:Nn().optional()}),eb=W_([vv(1),vv(2)]),TT=Ah({player1Id:Nn(),player2Id:Nn()}),q8=Ah({id:Nn().optional(),team1:TT,team2:TT,team1Score:wm().nonnegative().optional(),team2Score:wm().nonnegative().optional(),courtId:Nn().optional(),roundNumber:eb}),$8=Ah({id:Nn().optional(),playerIds:J_(Nn()).min(4).max(5),roundNumber:eb,courtNumber:wm().positive()}),H8=W_([eb,vv("standings")]),G8=Ah({id:Nn(),name:Nn(),startDateTime:g8(),location:Nn().optional(),link:Nn().optional(),ongoingStage:H8.optional(),standings:J_(Nn()).optional()}),K8=t=>({EeI9ewBfoKpSajmerLDH:"John Doe",GqsPoUKXTw3kJMSJqwU0:"Jane Smith",RGq6NFnJfWIcvQqdifLt:"Alex Johnson",T28AtFw8KdQU23bXrGKh:"Rock Star",TMUWdVphOwXWWpBD0tg4:"Michael Lee",W3tjD6JMTZvL7h9DBekb:"Sarah Kim",bmIXpKlFhwhNuex6mG3a:"Chris Brown",cFbaelu4ZQhUiUovuSDq:"Hayden Patriquin",de634TOQoQt6DcvdllTE:"David Wilson",ev1yGMQ2TwdWVulSScR3:"Ashley Moore",lR41KMImIthFWUlTfvcq:"Brian Clark",ov1yJixQu0Y7GgSVGOS3:"Olivia Hall",s9CKyNz5sETtOI6s9gJb:"Matthew Young",sBaVpfAOMRsqcUiaVdXN:"Sophia King",sewQTUTqabMCEYb80N8L:"Daniel Wright",tgJHqe0ToCymKcHIthmM:"Megan Scott",v8BhDF0WAc6VgcOwc87B:"Ryan Adams",wekFMjCMfuI7MNNVYVnO:"Lauren Baker",zi6ygH5Iais5EPUVR0Ix:"Kevin Perez","55YtackrvsPralsAJY2V":"Natalie Roberts"})[t],xN={champion:{name:"Champion",gradient:["#FFF8DC","#F0E68C"],accent:"#DAA520",text:"#8B4513"},competitive:{name:"Competitive",gradient:["#E6F3FF","#B0D4F1"],accent:"#4682B4",text:"#2F4F4F"},rising:{name:"Rising Star",gradient:["#F0FFF0","#C1E1C1"],accent:"#6B8E23",text:"#2E5D2E"},rookie:{name:"Rookie",gradient:["#FFE4E1","#F5DEB3"],accent:"#CD853F",text:"#8B4513"},default:{name:"Player",gradient:["#F5F5F5","#E0E0E0"],accent:"#808080",text:"#505050"}},ST=["hexagon","diamond","paddle","court","geometric"];function wN(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return Math.abs(e)}function Q8(t){const e=wN(t),n=Object.keys(xN);return n[e%n.length]}function AT(t,e){const n=t/2,r=t/2,a=t*.3;let o="";for(let c=0;c<6;c++){const h=(c*60-90)*(Math.PI/180),d=n+a*Math.cos(h),g=r+a*Math.sin(h);o+=c===0?`M ${d} ${g}`:` L ${d} ${g}`}return o+=" Z",`<path d="${o}" fill="${e.accent}" opacity="0.25"/>`}function Z8(t,e){const n=t/2,r=t/2,a=t*.25,o=[];for(let c=0;c<3;c++){const h=(c-1)*a*.8,d=`M ${n} ${r-a+h} 
                  L ${n+a*.6} ${r+h} 
                  L ${n} ${r+a+h} 
                  L ${n-a*.6} ${r+h} Z`;o.push(`<path d="${d}" fill="${e.accent}" opacity="${.15+c*.08}"/>`)}return o.join("")}function Y8(t,e){const n=t/2,r=t/2,a=`M ${n-2} ${r+t*.2} 
                      L ${n+2} ${r+t*.2} 
                      L ${n+2} ${r+t*.35} 
                      L ${n-2} ${r+t*.35} Z`,o=t*.15;return`
    <path d="${`M ${n-o} ${r-t*.15} 
                    A ${o} ${o} 0 0 1 ${n+o} ${r-t*.15} 
                    L ${n+o} ${r+t*.15} 
                    A ${o} ${o} 0 0 1 ${n-o} ${r+t*.15} Z`}" fill="${e.accent}" opacity="0.2"/>
    <path d="${a}" fill="${e.accent}" opacity="0.3"/>
  `}function X8(t,e){const n=[],a=t/5;for(let o=1;o<5;o++){const c=o*a;n.push(`<line x1="0" y1="${c}" x2="${t}" y2="${c}" stroke="${e.accent}" stroke-width="1" opacity="0.25"/>`)}return n.push(`<line x1="${t/2}" y1="${a}" x2="${t/2}" y2="${t-a}" stroke="${e.accent}" stroke-width="1" opacity="0.3"/>`),n.join("")}function J8(t,e,n){const r=[],a=2+n%3;for(let o=0;o<a;o++){const c=t*.1+n%18,h=n*(o+1)%(t-c),d=n*(o+2)%(t-c),g=.1+o*.05;o%2===0?r.push(`<circle cx="${h+c/2}" cy="${d+c/2}" r="${c/2}" fill="${e.accent}" opacity="${g}"/>`):r.push(`<rect x="${h}" y="${d}" width="${c}" height="${c}" fill="${e.accent}" opacity="${g}"/>`)}return r.join("")}function W8(t,e,n,r){switch(t){case"hexagon":return AT(e,n);case"diamond":return Z8(e,n);case"paddle":return Y8(e,n);case"court":return X8(e,n);case"geometric":return J8(e,n,r);default:return AT(e,n)}}function eF(t){const{playerId:e,playerName:n,size:r=64}=t,a=wN(e+n),o=Q8(e),c=xN[o],h=ST[a%ST.length],d=n.split(" ").map(_=>_.charAt(0).toUpperCase()).slice(0,2).join(""),g=W8(h,r,c,a);return`
    <svg width="${r}" height="${r}" viewBox="0 0 ${r} ${r}" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="bg-gradient-${a}" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:${c.gradient[0]};stop-opacity:1" />
          <stop offset="100%" style="stop-color:${c.gradient[1]};stop-opacity:1" />
        </linearGradient>
      </defs>
      
      <!-- Background -->
      <rect width="${r}" height="${r}" fill="url(#bg-gradient-${a})" rx="${r*.1}" />
      
      <!-- Pattern -->
      ${g}
      
      <!-- Initials -->
      <text 
        x="${r/2}" 
        y="${r/2+5}" 
        text-anchor="middle" 
        font-family="Inter, system-ui, -apple-system, sans-serif" 
        font-size="${r*.35}" 
        font-weight="700" 
        fill="${c.text}"
        opacity="0.9"
      >
        ${d}
      </text>
    </svg>
  `.trim()}function tF(t){const e=eF(t);return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(e)))}`}function nF(t){if(t){if(typeof t?.toDate=="function")return t.toDate().toISOString();if(typeof t=="string")return t}}function rF(t){if(t){if(typeof t?.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);if(!isNaN(e.getTime()))return e}}}const sF={toFirestore(t){const{id:e,createdAt:n,...r}=t;return{...r,createdAt:n||WV()}},fromFirestore(t,e){const n=t.data(e),r=K8(t.id);r||console.log("No demo name for player id:",t.id);const a=r||n.name;let o=n.imageUrl;a&&typeof a=="string"&&(o=tF({playerId:t.id,playerName:a,size:64}));const c={id:t.id,name:a,dupr:n.dupr,imageUrl:o,createdAt:nF(n.createdAt)};return B8.parse(c)}},iF={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,...n};return q8.parse(r)}},aF={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),{playerIds:r,...a}=n,o={playerIds:Array.isArray(r)?r.map(String):[],...a,id:t.id};return $8.parse(o)}},oF={toFirestore(t){const{id:e,...n}=t,{...r}=n;return{...r}},fromFirestore(t,e){const n=t.data(e);let r=new Date;try{r=rF(n.startDateTime)||new Date}catch(o){console.log(o)}const a={id:t.id,name:n.name,startDateTime:r,location:n.location,link:n.link,standings:Array.isArray(n.standings)?n.standings.map(String):void 0,label:n.label};return G8.parse(a)}};function EN(t,e,n){const r=[e];async function a(h){await t.cancelQueries({queryKey:[e,n]});const d=n?t.getQueryData([e,n]):null,g=t.getQueryData(r),v=h?.id??n,_=v?{...d,...h,id:v}:void 0;return _&&_.id&&(t.setQueryData([e,_.id],_),t.setQueryData(r,E=>{const T=E??[],D=T.findIndex(j=>j.id===_.id);if(D>=0){const j=[...T];return j[D]=_,j}return[_,...T]})),{previousItem:d,previousList:g}}function o(...h){const d=h[h.length-1];d?.previousItem&&n&&t.setQueryData([e,n],d.previousItem),d?.previousList?t.setQueryData(r,d.previousList):t.invalidateQueries({queryKey:r})}function c(...h){const d=h[0];if(typeof d=="string"&&d)t.invalidateQueries({queryKey:[e,d]});else if(d&&typeof d=="object"&&"id"in d){const g=d.id;g&&t.invalidateQueries({queryKey:[e,g]})}t.invalidateQueries({queryKey:r})}return{onMutate:a,onError:o,onSettled:c}}function TN(t,e,n){const r=nc(),o=cS({queryKey:[t,n],queryFn:async()=>!n||!t?null:r5(t,n,e),enabled:!!n,staleTime:1e3*60}),c=t?EN(r,t,n):void 0,h=Am({mutationFn:async d=>{if(!t)return d;if(d?.id)return await s5(t,d.id,d,e),d;{const g=await $2(t,d,e);return{...d,id:g}}},onMutate:c?.onMutate,onError:c?.onError,onSettled:c?.onSettled});return{...o,upsert:h.mutateAsync,upsertState:{status:h.status,error:h.error??null}}}function SN(t,e){const n=cS({queryKey:[t],queryFn:async()=>t?(await o5(t,{pageSize:1e3,converter:e})).docs:[],staleTime:6e4,enabled:!!t});return t?n:{...n,data:[],isLoading:!1,error:new Error("Missing collectionName")}}function AN(t,e){const n=nc(),r=Am({mutationFn:async a=>await $2(t,a,e),onMutate:async a=>{await n.cancelQueries({queryKey:[t]});const o=n.getQueryData([t]),c=`__tmp__${Date.now()}`,h={...a,id:c};return n.setQueryData([t],d=>[h,...d??[]]),{previousList:o}},onError:(a,o,c)=>{c?.previousList?n.setQueryData([t],c.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:a=>{n.invalidateQueries({queryKey:[t]}),a&&n.invalidateQueries({queryKey:[t,a]})}});return{create:r.mutateAsync,status:r.status,error:r.error??null}}function IN(t,e){const n=nc(),r=EN(n,t),a=Am({mutationFn:async o=>{const c=o.id;if(!c)throw new Error("id required for update");await i5(t,c,o,e)},onMutate:r.onMutate,onError:r.onError,onSettled:r.onSettled});return{update:a.mutateAsync,status:a.status,error:a.error??null}}function NN(t){const e=nc(),n=Am({mutationFn:async r=>{if(!r)throw new Error("id required for delete");await a5(t,r)},onMutate:async r=>{if(!r)return{};await e.cancelQueries({queryKey:[t]});const a=e.getQueryData([t,r]),o=e.getQueryData([t]);return o&&e.setQueryData([t],o.filter(c=>c.id!==r)),e.setQueryData([t,r],null),{previous:a,previousList:o}},onError:(r,a,o)=>{const c=a;o?.previous&&c&&e.setQueryData([t,c],o.previous),o?.previousList?e.setQueryData([t],o.previousList):e.invalidateQueries({queryKey:[t]})},onSettled:(r,a,o)=>{o&&e.invalidateQueries({queryKey:[t,o]}),e.invalidateQueries({queryKey:[t]})}});return{remove:n.mutateAsync,status:n.status,error:n.error??null}}function RN(t,e,n){const r=!!t&&!!n,[a,o]=M.useState(null),[c,h]=M.useState(null);return M.useEffect(()=>{if(!r)return;const g=b_(ri,t),v=e?g.withConverter(e):g,_=hc(v,n),E=c2(_,T=>{T.exists()?o(T.data()):o(null)},T=>{h(T)});return()=>{E()}},[r,t,n,e]),{data:r?a:null,loading:r&&a===null&&c===null,error:r?c:null}}function CN(t,e){const[n,r]=M.useState(null),[a,o]=M.useState(!0),[c,h]=M.useState(null),[d,g]=M.useState(t);return M.useEffect(()=>{if(!t)return;const v=b_(ri,t),_=e?v.withConverter(e):v,E=c2(_,T=>{const D=T.docs.map(j=>j.data());r(D),o(!1)},T=>{h(T),o(!1)});return()=>{E()}},[t,e]),t?{data:n,loading:a,error:c}:{data:[],loading:!1,error:new Error("Missing collectionName")}}function DN(t,e){function n(g){return TN(t,e,g)}function r(){return SN(t,e)}function a(){return AN(t,e)}function o(){return IN(t,e)}function c(){return NN(t)}function h(g){return RN(t,e,g)}function d(){return CN(t,e)}return{useEntity:n,useEntities:r,useCreate:a,useUpdate:o,useDelete:c,useEntityRealtime:h,useEntitiesRealtime:d}}function lF(t,e){function n(...g){const v=t(...g),_=SN(v,e);return v?_:{..._,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function r(...g){const v=g.slice(0,-1),_=g[g.length-1],E=t(...v),T=TN(E,e,_);return E?T:{...T,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}function a(...g){const v=t(...g),_=AN(v,e);return v?_:{..._,create:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function o(...g){const _=t(...g),E=IN(_,e);return _?E:{...E,update:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function c(...g){const v=t(...g),_=NN(v);return v?_:{..._,remove:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function h(...g){const v=t(...g),_=CN(v,e);return v?_:{..._,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function d(...g){const v=g.slice(0,-1),_=g[g.length-1],E=t(...v),T=RN(E,e,_);return E?T:{...T,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}return{useEntities:n,useEntity:r,useCreate:a,useUpdate:o,useDelete:c,useEntitiesRealtime:h,useEntityRealtime:d}}const jN=(t,e,n)=>lF(r=>r?`${t}/${r}/${e}`:void 0,n),{useEntities:Ih,useCreate:cF,useEntitiesRealtime:uF}=DN("players",sF),{useEntity:kN,useEntities:ua,useCreate:hF,useUpdate:ON,useEntityRealtime:dF}=DN("events",oF),{useCreate:fF,useDelete:mF,useEntitiesRealtime:PN}=jN("events","courts",aF),{useCreate:pF,useUpdate:gF,useDelete:yF,useEntitiesRealtime:MN}=jN("events","games",iF),oh=({imageUrl:t,name:e,size:n="md",className:r,border:a=!0})=>{const o={sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-xs",lg:"h-12 w-12 text-sm",xl:"h-16 w-16 text-base"},c={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-8 w-8"},h=on("rounded-full object-cover flex-shrink-0",o[n],a&&"border border-border",r);if(t){const d=t.startsWith("/")?`/${t.slice(1)}`:t;return m.jsx("img",{src:d,alt:e,className:h})}return m.jsx("div",{className:on(h,"bg-surface-highlight flex items-center justify-center"),children:e?m.jsx("span",{className:"font-bold text-text-muted",children:e.charAt(0)}):m.jsx(pS,{className:on("text-text-muted",c[n])})})},io=({children:t,primaryColor:e="primary",secondaryColor:n="success",className:r=""})=>m.jsx("div",{className:`relative overflow-hidden ${r}`,children:m.jsxs("div",{className:`bg-gradient-to-br from-${e}/5 via-surface to-${n}/5 rounded-3xl p-8 md:p-12 border border-${e}/20 shadow-2xl`,children:[t,m.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-${e}/10 to-transparent rounded-full blur-2xl -z-10`}),m.jsx("div",{className:`absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-${n}/10 to-transparent rounded-full blur-2xl -z-10`})]})}),Wl=({icon:t,title:e,subtitle:n,iconColor:r="primary",className:a=""})=>m.jsxs("div",{className:`text-center mb-12 ${a}`,children:[m.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-${r} to-${r}/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300`,children:m.jsx(t,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:e}),n&&m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:n})]}),vr=({emoji:t,title:e,value:n,description:r,color:a="primary",className:o=""})=>m.jsxs("div",{className:`group relative overflow-hidden rounded-2xl bg-gradient-to-br from-${a}/10 to-${a}/5 border-2 border-${a}/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 ${o}`,children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"mb-4",children:t}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:e}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:`text-2xl font-black text-${a}`,children:n}),r&&m.jsx("div",{className:"text-text-muted font-medium",children:r})]})]}),m.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 bg-${a}/5 rounded-full blur-xl`})]}),vF=()=>{const{data:t=[]}=ua(),{data:e=[]}=Ih(),n=Hs.useMemo(()=>{const h=new Map,d=new Map;(t||[]).filter(_=>Array.isArray(_.standings)&&_.standings.length>0).forEach(_=>{const E={id:_.id,date:_.startDateTime?_.startDateTime.toISOString():_.id,isCompleted:!0,standings:_.standings};(jv(E)||[]).forEach(D=>{const j=D.playerId,P=D.pointsEarned||0;h.set(j,(h.get(j)||0)+P),d.set(j,(d.get(j)||0)+1)})});const v=Array.from(h.entries()).map(([_,E])=>({playerId:_,points:E}));return v.sort((_,E)=>E.points-_.points),v.slice(0,3).map((_,E)=>({playerId:_.playerId,points:_.points,events:d.get(_.playerId)||0,rank:E+1}))},[t]),r=(()=>{const h=(t||[]).filter(g=>g.startDateTime instanceof Date&&!isNaN(g.startDateTime.getTime()));if(h.length===0)return"Challenge Series";const d=Array.from(new Set(h.map(g=>g.startDateTime.getFullYear()))).sort();return d.length===1?`${d[0]} Challenge`:`${d[0]}${d[d.length-1]} Challenge`})(),a=Hs.useMemo(()=>{if(!t||t.length===0)return null;const h=t.filter(_=>_.startDateTime instanceof Date&&!isNaN(_.startDateTime.getTime()));h.sort((_,E)=>_.startDateTime.getTime()-E.startDateTime.getTime());const g=new Date().getTime(),v=h.filter(_=>_.startDateTime.getTime()>=g);return v.length>0?v[0]:null},[t]),o=h=>h?h.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"",c=h=>h?h.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";return m.jsxs("div",{className:"space-y-16 pb-12",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-success/10 border border-success/20 mb-6",children:[m.jsxs("span",{className:"relative flex h-2 w-2",children:[m.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success opacity-75"}),m.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-success"})]}),m.jsxs("span",{className:"text-sm font-semibold text-success",children:[r," is Live"]})]}),m.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-text-main mb-6 tracking-tight leading-tight",children:["Paddle Up",m.jsx("br",{}),m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-text-accent",children:"Premier League"})]}),m.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto leading-relaxed",children:"Join our competitive pickleball league designed for advanced players looking to test their skills and climb the rankings each week."}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[m.jsxs(wt,{to:"/standings",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-all duration-300 shadow-lg shadow-primary/20 flex items-center gap-2 hover:scale-105",children:["View Standings ",m.jsx(xf,{className:"h-5 w-5"})]}),m.jsx(wt,{to:"/format",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-all duration-300 flex items-center gap-2",children:"League Format"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 bg-success/5 rounded-full blur-xl -z-10"})]})}),m.jsxs(io,{primaryColor:"primary",secondaryColor:"success",children:[m.jsx(Wl,{icon:Ml,title:"League Overview",subtitle:"Weekly competitive action with structured format and player advancement",iconColor:"primary"}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(vr,{emoji:"",title:"Players",value:"16",description:"per night",color:"primary"}),m.jsx(vr,{emoji:"",title:"Schedule",value:"7-10 PM",description:"Every Sunday",color:"success"}),m.jsx(vr,{emoji:"",title:"Prize Pool",value:"100",description:"Club Points",color:"warning"}),m.jsx(vr,{emoji:"",title:"Level",value:"3.5+ DUPR",description:"Required",color:"text-accent"})]})]}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-warning/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-warning/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(Yn,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Season Rewards"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Top performers this season earn Joola gear and Paddle Up club points as rewards for their competitive excellence"})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/20 via-warning/10 to-warning/5 border-2 border-warning/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:m.jsx("span",{className:"text-2xl font-black text-white",children:"1st"})}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Champion"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-lg font-bold text-warning",children:"Joola Hat"}),m.jsx("div",{className:"text-2xl font-black text-warning",children:"25"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),m.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/20 via-text-accent/10 to-text-accent/5 border-2 border-text-accent/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:m.jsx("span",{className:"text-2xl font-black text-white",children:"2nd"})}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Runner-up"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-lg font-bold text-text-accent",children:"Joola Water Bottle"}),m.jsx("div",{className:"text-2xl font-black text-text-accent",children:"15"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),m.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-bronze/20 via-bronze/10 to-bronze/5 border-2 border-bronze/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-bronze to-bronze/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:m.jsx("span",{className:"text-2xl font-black text-white",children:"3rd"})}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Third Place"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-lg font-bold text-bronze",children:"Joola Wristbands"}),m.jsx("div",{className:"text-2xl font-black text-bronze",children:"10"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),m.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-success/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-success/20 shadow-2xl h-full",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:m.jsx(Yn,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Current Leaders"}),m.jsx("div",{className:"flex items-center justify-center gap-2",children:m.jsxs(wt,{to:"/standings",className:"text-success hover:text-success font-semibold text-sm flex items-center gap-1",children:["Full Standings ",m.jsx(xf,{className:"h-4 w-4"})]})})]}),m.jsx("div",{className:"space-y-4",children:n.map((h,d)=>{const g=e.find(v=>v.id===h.playerId)||{name:"Unknown",imageUrl:""};return m.jsxs(wt,{to:`/player/${h.playerId}`,className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-4 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] block",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:d+1})}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(oh,{imageUrl:g.imageUrl,name:g.name,size:"md",className:"group-hover:ring-2 ring-success transition-all"}),m.jsx("span",{className:"font-bold text-text-main group-hover:text-success transition-colors",children:g.name})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("span",{className:"block font-bold text-success",children:[h.points," pts"]}),m.jsxs("span",{className:"text-xs text-text-muted",children:[h.events," Events"]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]},h.playerId)})}),m.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-warning/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl h-full",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:m.jsx(lo,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:" Next Match Night"})]}),a?m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Date"}),m.jsx("div",{className:"text-lg font-bold text-text-main",children:o(a.startDateTime)})]})]})}),m.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Time"}),m.jsx("div",{className:"text-lg font-bold text-text-main",children:c(a.startDateTime)})]})]})}),m.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Location"}),m.jsx("div",{className:"text-lg font-bold text-text-main",children:a.location})]})]})}),m.jsx("div",{className:"pt-4",children:m.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-primary text-white px-6 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center justify-center gap-2",children:["Register on CourtReserve",m.jsx(Cv,{className:"h-5 w-5"})]})})]}):m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"text-center p-8",children:[m.jsx("div",{className:"text-6xl mb-4 opacity-50",children:""}),m.jsx("p",{className:"text-text-muted mb-6",children:"No upcoming match nights are listed. Check the full schedule for details."}),m.jsx(wt,{to:"/schedule",className:"inline-flex items-center justify-center px-6 py-3 bg-primary text-white rounded-xl font-bold transition-colors hover:bg-primary-hover",children:"View Schedule"})]})}),m.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-text-accent/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-text-accent/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-text-accent to-text-accent/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx($u,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Ready to Compete?"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:"We are always looking for competitive players to join the roster. Check out the format and rules to see if you qualify for our premier league."}),m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[m.jsxs(wt,{to:"/format",className:"bg-text-accent text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent/80 transition-colors shadow-lg shadow-text-accent/20 flex items-center gap-2",children:["View League Format ",m.jsx(xf,{className:"h-5 w-5"})]}),m.jsx(wt,{to:"/standings",className:"bg-surface border-2 border-text-accent text-text-accent px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent hover:text-white transition-colors",children:"Current Standings"})]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})})]})},VN=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"unknown":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`},_F=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Unknown Date":e.toLocaleDateString(void 0,{month:"short",year:"numeric"})},zN=t=>{const e=new Map;return t.forEach(n=>{if(n instanceof Date&&!isNaN(n.getTime())){const r=VN(n);e.has(r)||e.set(r,n)}}),Array.from(e.entries()).sort((n,r)=>r[1].getTime()-n[1].getTime()).map(([n,r])=>({key:n,label:_F(r)}))},tb=(t="all")=>{const{data:e=[]}=Ih(),{data:n=[]}=ua();return M.useMemo(()=>{const r=n.filter(h=>Array.isArray(h.standings)&&h.standings.length>0?t==="all"?!0:VN(h.startDateTime)===t:!1),a=MO(r),o=Array.from(a.entries()).map(([h,d])=>({playerId:h,points:d.points,eventsPlayed:d.events,champWins:d.champWins}));return o.sort((h,d)=>d.points-h.points),DO(o,h=>h.points).map(h=>{const d=e.find(g=>g.id===h.playerId);return{...h,name:d?.name||"Unknown",imageUrl:d?.imageUrl||"",dupr:d?.dupr,id:h.playerId}})},[n,e,t])},Mt=Hs.forwardRef(({children:t,className:e,variant:n="default",hover:r=!1,padding:a="md",theme:o="primary",...c},h)=>{const d="rounded-xl border transition-all duration-300",g={sm:"p-4",md:"p-6",lg:"p-8",xl:"p-12"},v={primary:{bg:"from-primary/10 to-primary/5",border:"border-primary/20"},success:{bg:"from-success/10 to-success/5",border:"border-success/20"},warning:{bg:"from-warning/10 to-warning/5",border:"border-warning/20"},error:{bg:"from-error/10 to-error/5",border:"border-error/20"},"text-accent":{bg:"from-text-accent/10 to-text-accent/5",border:"border-text-accent/20"},bronze:{bg:"from-bronze/10 to-bronze/5",border:"border-bronze/20"}},_={default:"bg-surface border-border shadow-sm",premium:`bg-gradient-to-br from-surface via-surface-alt to-surface border-border shadow-2xl ${r?"hover:shadow-3xl hover:scale-[1.02] hover:border-primary/50":""}`,gradient:`bg-gradient-to-br ${v[o].bg} ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`,outlined:"bg-transparent border-border hover:border-primary/50",flat:"bg-surface-alt border-transparent shadow-none",stat:`bg-gradient-to-br ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-105":""}`,info:`bg-gradient-to-r ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`},E=r?"cursor-pointer group":"";return m.jsx("div",{ref:h,className:on(d,_[n]??_.default,g[a],E,e),...c,children:t})});Mt.displayName="Card";const bF=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}},LN=({rank:t,className:e,size:n="md"})=>{const r={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},a=o=>o===1?"bg-warning/20 text-warning":o===2?"bg-surface-alt text-text-muted":o===3?"bg-bronze/20 text-bronze":"text-text-muted";return m.jsx("span",{className:on("flex items-center justify-center rounded-full font-bold",r[n],a(t),e),children:bF(t)})},xF=({data:t,players:e,showEvents:n=!0,showPoints:r=!0,className:a})=>m.jsx(Mt,{className:on("p-0 overflow-hidden",a),children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-border rounded-2xl bg-gradient-to-br from-surface/80 to-surface-alt/60 shadow-md",children:[m.jsx("thead",{className:"bg-gradient-to-r from-primary-light/30 to-surface-highlight/60",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider pl-6 rounded-tl-2xl",children:"Rank"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider",children:"Player"}),r&&m.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider",children:"Points"}),n&&m.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider rounded-tr-2xl",children:"Events"})]})}),m.jsx("tbody",{className:"bg-surface divide-y divide-border",children:t.map(o=>{const c=e?.find(h=>h.id===o.playerId)||{name:"Unknown",imageUrl:""};return m.jsxs("tr",{className:on("hover:bg-surface-highlight/70 transition-colors",(o.rank||0)<=4?"bg-primary-light/10":""),children:[m.jsx("td",{className:"px-4 pl-6 py-4 whitespace-nowrap",children:m.jsx(LN,{rank:o.rank??0})}),m.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:m.jsxs(wt,{to:`/player/${o.playerId}`,className:"flex items-center group",children:[m.jsx(oh,{imageUrl:c.imageUrl,name:c.name,className:"mr-3 group-hover:ring-2 ring-primary transition-all"}),m.jsx("div",{className:"text-sm font-semibold text-text-main group-hover:text-primary transition-colors",children:c.name}),o.rank===1&&m.jsx(Yn,{className:"ml-2 h-4 w-4 text-warning"})]})}),r&&m.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-bold text-success",children:o.points??0})}),n&&m.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-text-muted",children:o.eventsPlayed??0})]},o.playerId)})})]})})}),UN=({value:t,options:e,onChange:n,label:r="View:",className:a=""})=>m.jsxs("div",{className:`inline-flex items-center gap-4 p-2 bg-surface-alt rounded-2xl border border-border shadow-lg ${a}`,children:[m.jsx("span",{className:"text-sm font-semibold text-text-muted px-3",children:r}),m.jsxs("select",{value:t,onChange:o=>n(o.target.value),className:"appearance-none bg-primary text-white text-sm font-bold rounded-xl px-4 py-2 border-0 focus:outline-none focus:ring-2 focus:ring-primary/50",children:[m.jsx("option",{value:"all",children:"All Time"}),e.map(o=>m.jsx("option",{value:o.key,children:o.label},o.key))]})]}),wF=()=>{const[t,e]=M.useState("all"),{data:n=[]}=Ih(),{data:r=[]}=ua(),a=M.useMemo(()=>zN(r.map(c=>c.startDateTime)),[r]),o=tb(t);return m.jsx("div",{className:"space-y-16 pb-12",children:m.jsxs(io,{primaryColor:"primary",secondaryColor:"success",children:[m.jsx(Wl,{icon:$u,title:"Standings",subtitle:"Complete standings with detailed statistics for all players",className:"mb-8"}),m.jsx("div",{className:"flex justify-center mb-8",children:m.jsx(UN,{value:t,options:a,onChange:c=>e(c==="all"?"all":c)})}),m.jsx("div",{className:"max-w-6xl mx-auto",children:m.jsx("div",{className:"bg-gradient-to-r from-surface-alt/50 to-surface/50 rounded-2xl border border-border shadow-lg overflow-hidden",children:m.jsx(xF,{data:o,players:n})})})]})})},Sy=({badgeContent:t,title:e,description:n,emoji:r,color:a="primary",className:o=""})=>m.jsx("div",{className:`group relative overflow-hidden rounded-2xl bg-gradient-to-r from-${a}/20 via-${a}/10 to-${a}/5 border-2 border-${a}/30 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] ${o}`,children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-${a} to-${a}/80 rounded-full flex items-center justify-center shadow-lg`,children:m.jsx("span",{className:"text-2xl font-black text-white",children:t})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-lg font-bold text-text-main mb-1",children:e}),m.jsx("div",{className:"text-text-muted",children:n})]}),r&&m.jsx("div",{className:"text-3xl opacity-50",children:r})]})}),EF=()=>(M.useEffect(()=>{document.title="Pickleball League  Season 1 (Competitive)"},[]),m.jsxs("div",{className:"space-y-16 pb-12",children:[m.jsxs(io,{primaryColor:"warning",secondaryColor:"primary",children:[m.jsx(Wl,{icon:Yn,title:"Season 1 Championship",subtitle:"Compete for exclusive prizes and eternal glory in our inaugural competitive season",iconColor:"warning"}),m.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[m.jsx("div",{className:"text-center lg:text-left",children:m.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-2xl p-8 border border-primary/20 shadow-lg",children:[m.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[m.jsx($f,{className:"h-8 w-8 text-primary"}),m.jsx("h3",{className:"text-2xl font-bold text-text-main",children:"Season Duration"})]}),m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"text-center lg:text-left",children:[m.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"4"}),m.jsx("div",{className:"text-xl font-semibold text-text-main",children:"Weeks of Competition"}),m.jsx("div",{className:"text-text-muted mt-2",children:"Every Sunday  7PM-10PM"})]})})]})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-6 text-center lg:text-left",children:"Championship Rewards"}),m.jsx("p",{className:"text-text-muted mb-6 text-center lg:text-left",children:"Top 3 finishers earn exclusive Joola gear and club points:"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(Sy,{badgeContent:"1st",title:"Champion",description:m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"font-semibold text-warning",children:"Joola Hat"})," +",m.jsx("span",{className:"font-semibold text-primary ml-1",children:"25 Club Points"})]}),emoji:"",color:"warning"}),m.jsx(Sy,{badgeContent:"2nd",title:"Runner-up",description:m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"font-semibold text-text-accent",children:"Joola Water Bottle"})," +",m.jsx("span",{className:"font-semibold text-primary ml-1",children:"15 Club Points"})]}),emoji:"",color:"text-accent"}),m.jsx(Sy,{badgeContent:"3rd",title:"Third Place",description:m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"font-semibold text-bronze",children:"Joola Wristbands"})," +",m.jsx("span",{className:"font-semibold text-primary ml-1",children:"10 Club Points"})]}),emoji:"",color:"bronze"})]})]})]})]}),m.jsxs(io,{primaryColor:"primary",secondaryColor:"success",children:[m.jsx(Wl,{icon:$f,title:"Nightly Experience",subtitle:"Every Sunday brings competitive action with structured rounds and exciting gameplay",iconColor:"primary"}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(vr,{emoji:"",title:"Schedule",value:"7PM  10PM",description:"Every Sunday",color:"primary"}),m.jsx(vr,{emoji:"",title:"Entry Fee",value:"$20",description:m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{children:"per night"}),m.jsx("div",{className:"text-sm text-success font-semibold bg-success/10 rounded-full px-3 py-1",children:"Free for Annual Members"})]}),color:"success"}),m.jsx(vr,{emoji:"",title:"Eligibility",value:"DUPR 3.5+",description:"Required Rating",color:"warning"}),m.jsx(vr,{emoji:"",title:"Format",value:"2 Rounds",description:"per night",color:"text-accent"})]})]}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(kk,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Game Format"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Structured gameplay with rotating partnerships and dynamic scoring systems"})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-5xl mb-6",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Players per Court"}),m.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"45"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Players"})]}),m.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-5xl mb-6",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Partnership"}),m.jsxs("div",{className:"text-text-muted font-medium leading-relaxed",children:["Every player partners ",m.jsx("strong",{className:"text-warning",children:"once per round"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-warning/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-5xl mb-6",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Scoring"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[m.jsx("div",{className:"font-bold text-text-main text-lg",children:"4-Player Courts"}),m.jsx("div",{className:"text-text-muted font-medium",children:"3 games  15 pts  win by 1"})]}),m.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[m.jsx("div",{className:"font-bold text-text-main text-lg",children:"5-Player Courts"}),m.jsx("div",{className:"text-text-muted font-medium",children:"4 games  11 pts  win by 1"})]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-text-accent/5 rounded-full blur-xl"})]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-success/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:m.jsx(Ml,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Round 1: Initial Seeding"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0 mt-1",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),m.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Courts assigned via ",m.jsx("strong",{className:"text-primary",children:"snake draft"})," ","(back-and-forth order)"]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0 mt-1",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Seeding Basis"}),m.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Seeding based on"," ",m.jsx("strong",{className:"text-success",children:"previous weeks' performance"})," (or random for the first week)"]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-warning/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-warning/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:m.jsx(Jw,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Round 2"}),m.jsx("p",{className:"text-lg text-text-muted font-medium",children:"Ranked Courts"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0 mt-1",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Placement"}),m.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Players ranked by"," ",m.jsx("strong",{className:"text-warning",children:"Round 1 performance"})]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0 mt-1",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),m.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Top finishers placed on ",m.jsx("strong",{className:"text-text-accent",children:"Court 1"}),", next group on ",m.jsx("strong",{className:"text-text-accent",children:"Court 2"}),", etc."]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),m.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-warning/10 rounded-2xl p-8 border border-primary/30",children:[m.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[m.jsx(Yn,{className:"h-8 w-8 text-warning"}),"Points & Prizes"]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Top Finisher Points"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between p-3 bg-warning/20 rounded-lg border border-warning/50",children:[m.jsx("span",{className:"font-bold text-warning",children:"1st Place"}),m.jsx("span",{className:"font-bold text-text-main",children:"1000 points"})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[m.jsx("span",{className:"font-bold text-text-accent",children:"2nd Place"}),m.jsx("span",{className:"font-bold text-text-main",children:"800 points"})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-bronze/20 rounded-lg border border-bronze/50",children:[m.jsx("span",{className:"font-bold text-bronze",children:"3rd Place"}),m.jsx("span",{className:"font-bold text-text-main",children:"600 points"})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[m.jsx("span",{className:"font-bold text-text-main",children:"4th Place"}),m.jsx("span",{className:"font-bold text-text-main",children:"500 points"})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Point System"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"p-4 bg-surface rounded-lg border border-border",children:m.jsxs("p",{className:"text-text-muted",children:[m.jsx("strong",{children:"All finishing positions earn points"}),", with points dropping by half every three ranks (approximate)"]})}),m.jsx("div",{className:"p-4 bg-primary-light rounded-lg border border-primary/50",children:m.jsxs("p",{className:"text-text-main",children:["Points from every game count toward"," ",m.jsx("strong",{children:"monthly and cumulative rankings"})]})})]})]})]})]}),m.jsxs("div",{className:"bg-surface rounded-2xl p-8 border border-border",children:[m.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[m.jsx(Jw,{className:"h-8 w-8 text-success"})," Key Takeaways"]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"text-success text-lg",children:""}),m.jsxs("p",{className:"text-text-muted",children:["Structured, competitive league for ",m.jsx("strong",{children:"DUPR 3.5+ players"})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"text-success text-lg",children:""}),m.jsxs("p",{className:"text-text-muted",children:["Sunday evenings, ",m.jsx("strong",{children:"7PM10PM"})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"text-success text-lg",children:""}),m.jsxs("p",{className:"text-text-muted",children:[m.jsx("strong",{children:"Two rounds each night"}),", with partner rotation"]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"text-success text-lg",children:""}),m.jsxs("p",{className:"text-text-muted",children:["Points determine"," ",m.jsx("strong",{children:"court placement, monthly standings, and season/all-time rankings"})]})]})]})]})]}),m.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[m.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Ready to Compete?"}),m.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"Check your standings online and track points for this season and all-time rankings for every player."}),m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[m.jsxs("a",{href:"https://paddleup.github.io",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[" Check Your Standings",m.jsx(Cv,{className:"h-5 w-5"})]}),m.jsx(wt,{to:"/schedule",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-colors",children:"Register for an event"})]})]}),m.jsxs(io,{primaryColor:"primary",secondaryColor:"warning",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Full League Rules & Structure"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Everything you need to know about how the Paddle Up Premier League works."})]}),m.jsxs("div",{className:"prose prose-invert max-w-3xl mx-auto text-left",children:[m.jsx("h3",{children:"Season Format"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Season runs for 1 month (4 weeks)"}),m.jsx("li",{children:"Two rounds per night, every Sunday 710PM"}),m.jsx("li",{children:"Open to DUPR 3.5+ players"})]}),m.jsx("h3",{children:"Night Structure"}),m.jsxs("ul",{children:[m.jsx("li",{children:"45 players per court, every player partners once per round"}),m.jsx("li",{children:"Scoring: 4-player courts: 3 games to 15, win by 1; 5-player courts: 4 games to 11, win by 1"}),m.jsx("li",{children:"Round 1: Snake draft seeding; Round 2: Ranked by performance"})]}),m.jsx("h3",{children:"Points & Standings"}),m.jsxs("ul",{children:[m.jsx("li",{children:"1st: 1000 pts, 2nd: 800, 3rd: 600, 4th: 500, then halves every 3 ranks"}),m.jsx("li",{children:"Points count toward monthly, seasonal, and all-time rankings"}),m.jsx("li",{children:"Top 3 for the season win prizes (see above)"})]}),m.jsx("h3",{children:"Promotion & Court Movement"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Round 2 courts assigned by Round 1 results"}),m.jsx("li",{children:"Top finishers move up, others move down or stay"})]}),m.jsx("h3",{children:"Attendance & Sub Policy"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Zero tolerance for missed nights (0 points), or 1 grace week per season (admin discretion)"}),m.jsx("li",{children:"Subs must be approved and match DUPR as closely as possible"})]}),m.jsx("h3",{children:"Prizes"}),m.jsxs("ul",{children:[m.jsx("li",{children:"1st: Joola Hat + 25 Club Points"}),m.jsx("li",{children:"2nd: Joola Water Bottle + 15 Club Points"}),m.jsx("li",{children:"3rd: Joola Wristbands + 10 Club Points"})]}),m.jsxs("h3",{children:["See full rules on the Standings page or at"," ",m.jsx("a",{href:"https://paddleup.github.io",target:"_blank",rel:"noopener noreferrer",children:"paddleup.github.io"})]})]})]})]})),TF=()=>{const{data:t=[]}=ua(),[e,n]=M.useState("all"),r=tb(e),a=M.useMemo(()=>zN(t.map(g=>g.startDateTime)),[t]),o=r.length,c=r.filter(g=>g.eventsPlayed>0).length,h=Math.max(...r.map(g=>g.eventsPlayed),0),d=r[0];return m.jsxs("div",{className:"space-y-16 pb-12",children:[m.jsxs(io,{primaryColor:"primary",secondaryColor:"warning",children:[m.jsx(Wl,{icon:Ml,title:"Players Overview",subtitle:e==="all"?"All-time statistics":`${a.find(g=>g.key===e)?.label||"Monthly"} performance overview`,iconColor:"success"}),m.jsx("div",{className:"flex justify-center mb-8",children:m.jsx(UN,{value:e,options:a,onChange:g=>n(g==="all"?"all":g)})}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[m.jsx(vr,{emoji:m.jsx("span",{className:"text-5xl mb-4",children:""}),title:"Total Players",value:m.jsx("span",{className:"text-3xl font-black text-primary",children:o}),description:"Registered",color:"primary",className:"min-h-[180px]"}),m.jsx(vr,{emoji:m.jsx("span",{className:"text-5xl mb-4",children:""}),title:"Active Players",value:m.jsx("span",{className:"text-3xl font-black text-success",children:c}),description:"With Events",color:"success",className:"min-h-[180px]"}),m.jsx(vr,{emoji:m.jsx("span",{className:"text-5xl mb-4",children:""}),title:"Most Events",value:m.jsx("span",{className:"text-3xl font-black text-warning",children:h}),description:"Per Player",color:"warning",className:"min-h-[180px]"}),m.jsx(vr,{emoji:m.jsx("span",{className:"text-5xl mb-4",children:""}),title:"Current Leader",value:m.jsx("span",{className:"text-lg font-black text-text-accent truncate",children:d?.name||"N/A"}),description:m.jsxs("span",{className:"text-text-muted font-medium",children:[d?.points||0," pts"]}),color:"text-accent",className:"min-h-[180px]"})]})]}),m.jsxs(io,{primaryColor:"text-accent",secondaryColor:"success",children:[m.jsx(Wl,{icon:pk,title:"Player Roster",subtitle:"Click on any player to view their detailed stats and match history",iconColor:"text-accent"}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:r.map(g=>m.jsx(wt,{to:`/player/${g.id}`,className:"block group",children:m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-surface-alt/10 to-success/5 border-2 border-success/20 p-4 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"relative flex justify-center mb-4",children:[m.jsx("img",{src:g.imageUrl,alt:g.name,className:"w-24 h-24 md:w-28 md:h-28 rounded-full object-cover border-4 border-success shadow-lg group-hover:scale-110 transition-all duration-300"}),m.jsx("div",{className:"absolute top-0 right-0 w-10 h-10 bg-gradient-to-br from-warning/80 to-warning/40 rounded-full flex items-center justify-center shadow-lg border-2 border-warning",children:m.jsxs("span",{className:"text-lg font-black text-white",children:["#",g.rank??0]})})]}),m.jsxs("div",{className:"text-center mb-2",children:[m.jsx("h3",{className:"text-xl font-bold text-text-main truncate",children:g.name}),m.jsxs("div",{className:"text-xs text-text-muted",children:["DUPR ",g.dupr??"N/A"]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-border text-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Events"}),m.jsx("p",{className:"font-bold text-sm text-text-main",children:g.eventsPlayed})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Champ Ct"}),m.jsxs("div",{className:"flex items-center justify-center gap-1",children:[m.jsx(Py,{className:"h-3 w-3 text-success"}),m.jsx("p",{className:"font-bold text-sm text-text-main",children:g.champWins})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Rank"}),m.jsx("p",{className:"font-bold text-sm text-text-main",children:g.rank??"-"})]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-20 h-20 bg-gradient-to-tl from-warning/10 to-transparent rounded-full blur-xl -z-10"})]})},g.id))}),r.length===0&&m.jsxs("div",{className:"text-center p-12",children:[m.jsx("div",{className:"text-6xl mb-6 opacity-50",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"No Players Found"}),m.jsx("p",{className:"text-text-muted",children:"No players have participated in events for the selected time period."})]})]})]})},SF=({history:t})=>{const[e,n]=M.useState(null);return m.jsxs("div",{className:"flex flex-col gap-4",children:[t.length===0&&m.jsx("p",{className:"text-text-muted text-center py-4",children:"No event placements available."}),t.slice().reverse().map((r,a)=>m.jsxs("div",{className:`rounded-xl shadow-md border border-border bg-surface transition-all duration-200 ${e===a?"ring-2 ring-primary":""}`,children:[m.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 text-lg font-bold text-primary focus:outline-none",onClick:()=>n(e===a?null:a),"aria-expanded":e===a,tabIndex:0,children:[m.jsxs("span",{children:[r.eventName??r.eventId," (",r.date,")"]}),m.jsx("span",{className:"text-xs text-text-muted",children:e===a?"Tap to collapse":"Tap to expand"})]}),m.jsx("div",{className:`overflow-hidden transition-all duration-300 ${e===a?"max-h-[300px] py-2":"max-h-0"}`,children:e===a&&m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"text-sm text-text-muted mb-2",children:["Rank: ",m.jsx("span",{className:"font-bold text-text-main",children:r.rank})]}),m.jsx(wt,{to:`/event/${r.eventId}`,className:"inline-block mt-2 px-4 py-2 bg-primary text-white rounded-lg font-bold hover:bg-primary-hover transition",children:"View Event"})]})})]},r.eventId+a))]})},AF=()=>{const{id:t}=HT(),{data:e}=uF(),{data:n=[]}=ua(),r=e?.find(v=>v.id===t);if(!r)return m.jsxs("div",{className:"text-center py-12",children:[m.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Player Not Found"}),m.jsx(wt,{to:"/players",className:"text-primary hover:underline",children:"Back to Players"})]});const a=n.filter(v=>Array.isArray(v.standings)&&v.standings.length>0).map(v=>{const _={id:v.id,date:v.startDateTime?v.startDateTime.toISOString():v.id,isCompleted:!0,standings:v.standings},E=jv(_)||[];return{ev:v,finals:E}}),o=new Map;a.forEach(({finals:v})=>{v.forEach(_=>{const E=_.playerId,T=_.pointsEarned||0,D=o.get(E)||{points:0,events:0,champWins:0};D.points+=T,D.events+=1,_.rank===1&&(D.champWins+=1),o.set(E,D)})});const c=Array.from(o.entries()).map(([v,_])=>({playerId:v,points:_.points,eventsPlayed:_.events,champWins:_.champWins})).sort((v,_)=>_.points-v.points);let h=null;c.forEach((v,_)=>{v.playerId===t&&(h=_+1)});const d=o.get(t||"")||{points:0,events:0,champWins:0},g=[];return a.forEach(({ev:v,finals:_})=>{const E=_.find(T=>T.playerId===t);E&&g.push({eventId:v.id,date:v.startDateTime?v.startDateTime.toLocaleDateString():v.id,rank:E.rank})}),m.jsxs("div",{className:"space-y-8 pb-12",children:[m.jsxs(wt,{to:"/players",className:"inline-flex items-center text-text-muted hover:text-primary transition-colors mb-4",children:[m.jsx(Wj,{className:"h-4 w-4 mr-1"})," Back to Players"]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"md:col-span-1 space-y-6",children:[m.jsxs(Mt,{className:"p-0 overflow-hidden border-border",children:[m.jsx("div",{className:"aspect-square w-full relative bg-surface-highlight",children:r.imageUrl?m.jsx("img",{src:r.imageUrl.startsWith("/")?`/${r.imageUrl.slice(1)}`:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx("span",{className:"text-6xl font-bold text-text-muted opacity-20",children:r.name.charAt(0)})})}),m.jsxs("div",{className:"p-6 text-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-text-main mb-2",children:r.name}),m.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[m.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold border border-primary/20",children:["DUPR ",r.dupr??"N/A"]}),m.jsxs("span",{className:"bg-surface-highlight text-text-muted px-3 py-1 rounded-full text-sm font-medium border border-border",children:["Rank #",h??"-"]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs(Mt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[m.jsx(Yn,{className:"h-6 w-6 text-warning mb-2"}),m.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.points}),m.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Points"})]}),m.jsxs(Mt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[m.jsx(Py,{className:"h-6 w-6 text-success mb-2"}),m.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.champWins}),m.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Top Finishes"})]}),m.jsxs(Mt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[m.jsx(Yw,{className:"h-6 w-6 text-primary mb-2"}),m.jsx("span",{className:"text-2xl font-bold text-text-main",children:g.length}),m.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Events"})]}),m.jsxs(Mt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[m.jsx(lo,{className:"h-6 w-6 text-text-muted mb-2"}),m.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.events}),m.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Appearances"})]})]})]}),m.jsxs("div",{className:"md:col-span-2 space-y-8",children:[m.jsxs(Mt,{children:[m.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[m.jsx(Yw,{className:"h-5 w-5 text-primary"}),"Event Placements"]}),m.jsx(SF,{history:g.map(v=>({...v,eventName:n.find(_=>_.id===v.eventId)?.name}))})]}),m.jsxs(Mt,{children:[m.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[m.jsx(Py,{className:"h-5 w-5 text-primary"}),"Event Rankings"]}),m.jsx("div",{className:"space-y-2",children:g.length>0?g.slice().reverse().map((v,_)=>m.jsxs(wt,{to:`/event/${v.eventId}`,className:"flex items-center justify-between p-2 border-b border-border last:border-0 hover:bg-surface-highlight transition-colors cursor-pointer group",children:[m.jsx("span",{className:"text-sm text-text-muted group-hover:text-text-main transition-colors",children:v.date}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:["Rank #",v.rank]}),m.jsx(LN,{rank:v.rank,size:"sm"})]})]},_)):m.jsx("p",{className:"text-text-muted text-center py-4",children:"No event data available."})})]})]})]})]})},IF=({options:t,value:e,onChange:n,className:r})=>m.jsx("div",{className:r,children:m.jsx("div",{className:"inline-flex",children:t.map(a=>m.jsx("button",{onClick:()=>n(a.value),className:on("px-6 py-2.5 rounded-lg text-sm font-bold transition-all",e===a.value?"bg-primary text-text-main shadow-md":"text-text-muted hover:text-text-main hover:bg-surface"),children:a.label},a.value))})}),IT=t=>t?t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",NT=t=>t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",NF=({event:t,view:e,onClick:n,children:r})=>m.jsx("div",{className:"group relative overflow-hidden rounded-3xl bg-gradient-to-br from-primary/5 via-surface to-success/5 border border-primary/20 p-8 md:p-12 shadow-2xl hover:shadow-2xl transition-all duration-300 hover:border-primary/50 cursor-pointer",onClick:n,children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 md:gap-12",children:[m.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsxs("div",{className:"flex-grow",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-2 group-hover:text-primary transition-colors",children:t.name}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-muted",children:[m.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${e==="past"?"bg-success":"bg-primary"}`}),e==="past"?"Completed Event":"Upcoming Event"]})]}),m.jsxs("div",{className:"text-right text-sm text-text-muted",children:[m.jsx("div",{className:"font-semibold",children:IT(t.startDateTime)}),m.jsx("div",{children:NT(t.startDateTime)})]})]}),m.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/10 rounded-xl border border-primary/20",children:[m.jsx(lo,{className:"h-5 w-5 text-primary flex-shrink-0"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Date"}),m.jsx("div",{className:"font-bold text-text-main truncate",children:IT(t.startDateTime)})]})]}),m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-success/10 rounded-xl border border-success/20",children:[m.jsx($f,{className:"h-5 w-5 text-success flex-shrink-0"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Time"}),m.jsx("div",{className:"font-bold text-text-main truncate",children:NT(t.startDateTime)})]})]}),m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-warning/10 rounded-xl border border-warning/20 sm:col-span-2 lg:col-span-1",children:[m.jsx(fS,{className:"h-5 w-5 text-warning flex-shrink-0"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Location"}),m.jsx("div",{className:"font-bold text-text-main truncate",children:t.location??"TBD"})]})]})]})]}),r]})});function FN(t,e){const n=$T(),r=Ws(),a=M.useMemo(()=>new URLSearchParams(r.search),[r.search]),o=M.useMemo(()=>a.get(t)??void 0,[a,t]),c=M.useCallback(g=>{const v=new URLSearchParams(r.search),_=v.get(t)??void 0;g!==_&&(g===void 0||g===""?v.delete(t):v.set(t,g),n({pathname:r.pathname,search:`?${v.toString()}`,hash:r.hash},{replace:!0}))},[n,r,t]),h=M.useCallback(async g=>{c(g)},[c]),d=M.useCallback(async g=>{c(g)},[c]);return M.useEffect(()=>{e!==void 0&&o===void 0&&d(e)},[e,o]),e===void 0?[o,h]:[o??e,d]}const RF=()=>{const{data:t}=ua(),e=(t||[]).filter(d=>d.startDateTime instanceof Date&&!isNaN(d.startDateTime.getTime())).slice().sort((d,g)=>d.startDateTime.getTime()-g.startDateTime.getTime()),n=new Date,r=e.filter(d=>d.startDateTime.getTime()>=n.getTime()),a=e.filter(d=>d.startDateTime.getTime()<n.getTime()).slice().reverse(),[o,c]=FN("view","upcoming"),h=o==="upcoming"?r:a;return m.jsxs("div",{className:"space-y-16 pb-12",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(lo,{className:"h-10 w-10 text-white"})}),m.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Season Schedule"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Per-night registration links for 'The Challenge'  register for any night below"})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"flex justify-center mb-8",children:m.jsx(IF,{options:[{value:"upcoming",label:"Upcoming"},{value:"past",label:"Past"}],value:o,onChange:d=>c(d)})}),m.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 px-2 md:px-0",children:[h.map(d=>m.jsx(NF,{event:d,view:o,onClick:g=>{g.target.closest("a,button")||(window.location.href=`/event/${encodeURIComponent(d.id)}`)},children:m.jsx("div",{className:"flex-shrink-0 flex flex-col gap-3 lg:w-48",children:o==="past"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-success/20 border-2 border-success/30 rounded-xl text-success font-bold",children:[m.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-success"}),"Completed"]}),m.jsx(wt,{to:`/event/${encodeURIComponent(d.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"View Results"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("a",{href:d.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-xl font-bold hover:bg-primary-hover transition-all duration-300 shadow-md hover:shadow-lg",children:[m.jsx(Cv,{className:"h-5 w-5"}),"Register Now"]}),m.jsx(wt,{to:`/event/${encodeURIComponent(d.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"Event Details"})]})})},d.id)),h.length===0&&m.jsxs("div",{className:"text-center p-12 bg-surface rounded-2xl border border-border",children:[m.jsx("div",{className:"text-6xl mb-6 opacity-50",children:o==="upcoming"?"":""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:o==="upcoming"?"No Upcoming Events":"No Past Events"}),m.jsx("p",{className:"text-text-muted",children:o==="upcoming"?"Check back soon for new match nights to register for!":"Past events will appear here once they're completed."})]})]})]})};function BN(){const[t,e]=M.useState(null),[n,r]=M.useState(!1),[a,o]=M.useState(!0);return M.useEffect(()=>{const c=C2(zf,async h=>{if(e(h),!h){r(!1),o(!1);return}const g=(await h.getIdTokenResult(!0)).claims;r(g.admin===!0),o(!1)});return()=>c()},[]),{user:t,isAdmin:n,loading:a}}const CF=({isAdmin:t})=>{const{create:e,status:n,error:r}=hF(),[a,o]=M.useState(""),[c,h]=M.useState(""),[d,g]=M.useState(""),[v,_]=M.useState(""),[E,T]=M.useState(""),[D,j]=M.useState(""),[P,Z]=M.useState(""),[X,K]=M.useState(""),[le,Q]=M.useState(""),ae=async N=>{if(N.preventDefault(),!t){alert("You are not authorized to create events.");return}if(!a.trim()||!c){alert("Name and start date are required.");return}const A=new Date(`${c}T${d||"00:00"}`),C=v?new Date(`${v}T${E||"00:00"}`):void 0,z={name:a.trim(),startDateTime:A,...C?{endDateTime:C}:{},...D.trim()?{location:D.trim()}:{},...P?{status:P}:{},...X.trim()?{label:X.trim()}:{},...le.trim()?{link:le.trim()}:{},standings:[],rounds:[]};try{const V=await e(z);alert(`Event created${V?` (id: ${String(V)})`:""}.`),o(""),h(""),g(""),_(""),T(""),j(""),Z(""),K(""),Q("")}catch(V){console.error("Create event failed",V),alert("Failed to create event. See console for details.")}};return m.jsxs("form",{onSubmit:ae,className:"space-y-3 max-w-md",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Event name"}),m.jsx("input",{value:a,onChange:N=>o(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Start date"}),m.jsx("input",{type:"date",value:c,onChange:N=>h(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Start time (optional)"}),m.jsx("input",{type:"time",value:d,onChange:N=>g(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"End date (optional)"}),m.jsx("input",{type:"date",value:v,onChange:N=>_(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"End time (optional)"}),m.jsx("input",{type:"time",value:E,onChange:N=>T(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Location (optional)"}),m.jsx("input",{value:D,onChange:N=>j(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Status (optional)"}),m.jsxs("select",{value:P,onChange:N=>Z(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1",children:[m.jsx("option",{value:"",children:"(none)"}),m.jsx("option",{value:"open",children:"open"}),m.jsx("option",{value:"closed",children:"closed"}),m.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Label (optional)"}),m.jsx("input",{value:X,onChange:N=>K(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Link (optional)"}),m.jsx("input",{value:le,onChange:N=>Q(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:!t||n==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:n==="pending"?"Creating...":"Create event"})}),r&&m.jsxs("p",{className:"text-sm text-red-600",children:["Error creating event: ",String(r)]})]})},DF=()=>{const[t,e]=M.useState(null),n=new Fs,{isAdmin:r}=BN(),{create:a,status:o,error:c}=cF(),h=ua(),d=Ih(),g=h.data??[],v=d.data??[],[_,E]=M.useState(void 0),[T,D]=M.useState([]),{data:j}=kN(_)??{},{update:P,status:Z,error:X}=ON(),[K,le]=M.useState(_),[Q,ae]=M.useState(j?.standings);(_!==K||j?.standings!==Q)&&(le(_),ae(j?.standings),j?.standings&&Array.isArray(j.standings)?D([...j.standings]):D([]));const N=R=>{R&&D($=>[...$,R])},A=R=>{D($=>$.filter((se,ue)=>ue!==R))},C=R=>{R<=0||D($=>{const se=[...$],ue=se[R-1];return se[R-1]=se[R],se[R]=ue,se})},z=R=>{D($=>{if(R>=$.length-1)return $;const se=[...$],ue=se[R+1];return se[R+1]=se[R],se[R]=ue,se})},V=async()=>{if(!r){alert("You are not authorized to update events.");return}if(!_){alert("Select an event first.");return}try{await P({id:_,standings:T}),alert("Standings saved.")}catch(R){console.error("Save standings failed",R),alert("Failed to save standings. See console for details.")}},[U,k]=M.useState(""),[Ge,Ze]=M.useState(""),[W,de]=M.useState(""),ce=async R=>{if(R.preventDefault(),!r){alert("You are not authorized to add players.");return}try{const $=Ge.trim()?Number(Ge):void 0,se={name:U.trim(),...$!==void 0&&!Number.isNaN($)?{dupr:$}:{},...W.trim()?{imageUrl:W.trim()}:{},createdAt:new Date().toISOString()};await a(se),k(""),Ze(""),de(""),alert("Player added.")}catch($){console.error("Create player failed",$),alert("Failed to add player. See console for details.")}};M.useEffect(()=>{const R=C2(zf,$=>{e($)});return()=>R()},[]);const Me=async()=>{try{await cz(zf,n)}catch(R){console.error("Google sign-in failed",R),alert("Sign-in failed. See console for details.")}},Fe=async()=>{try{await q6(zf)}catch(R){console.error("Sign-out failed",R),alert("Sign-out failed. See console for details.")}};return m.jsxs("div",{className:"p-4 space-y-8",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin"}),t?m.jsxs("div",{className:"space-y-8",children:[m.jsxs("p",{className:"mb-2",children:["Signed in as ",m.jsx("strong",{children:t.displayName??t.email})]}),m.jsxs("p",{children:["Admin status: ",r?"Yes":"No"]}),m.jsx("button",{onClick:Fe,className:"px-3 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Sign out"}),m.jsxs(Mt,{className:"p-6 mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Protected admin area"}),m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You are authenticated and can now access admin-only features."}),!r&&m.jsx("p",{className:"text-sm text-red-600 mb-4",children:"You are not an admin. Editing is disabled."})]}),m.jsx(Mt,{className:"p-6 mb-6",children:m.jsxs("form",{onSubmit:ce,className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Name"}),m.jsx("input",{value:U,onChange:R=>k(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"DUPR (optional)"}),m.jsx("input",{value:Ge,onChange:R=>Ze(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1",inputMode:"decimal"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Image URL (optional)"}),m.jsx("input",{value:W,onChange:R=>de(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:!r||o==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:o==="pending"?"Adding...":"Add player"})}),c&&m.jsxs("p",{className:"text-sm text-red-600",children:["Error creating player: ",String(c)]})]})}),m.jsxs(Mt,{className:"p-6 mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Create Event"}),m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a new Event (start date/time is required)."}),m.jsx(CF,{isAdmin:r})]}),m.jsxs(Mt,{className:"p-6 mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Manage Event Standings"}),m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select an event, build an ordered standings list of players, and save to the event."}),m.jsxs(Mt,{className:"p-6",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{className:"block text-sm font-medium",children:"Event"}),m.jsxs("select",{value:_??"",onChange:R=>E(R.target.value||void 0),className:"mt-1 block w-full border rounded px-2 py-1",children:[m.jsx("option",{value:"",children:"(select an event)"}),g.map(R=>m.jsx("option",{value:R.id,children:R.name??R.id},R.id))]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium",children:"Players"}),m.jsxs("div",{className:"mt-1 max-h-56 overflow-auto border rounded p-1",children:[v.length===0&&m.jsx("p",{className:"text-sm text-gray-500",children:"No players found."}),v.map(R=>m.jsxs("div",{className:"flex items-center justify-between px-1 py-2",children:[m.jsx("div",{className:"text-base",children:R.name}),m.jsx("div",{children:m.jsx("button",{type:"button",onClick:()=>N(R.id),className:"px-4 py-2 bg-blue-600 text-white rounded text-base",children:"Add"})})]},R.id))]})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium",children:"Standings (ordered)"}),m.jsxs("div",{className:"mt-1 border rounded p-2 bg-white",children:[T.length===0&&m.jsx("p",{className:"text-sm text-gray-500",children:"No players in standings. Add players from the left."}),m.jsx("ul",{children:T.map((R,$)=>{const se=v.find(ue=>ue.id===R);return m.jsxs("li",{className:"flex items-center justify-between py-2 border-b",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsxs("div",{className:"text-sm font-medium",children:[$+1,"."]}),m.jsx("div",{className:"text-sm",children:se?se.name:R})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{type:"button",onClick:()=>C($),disabled:$===0,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 text-base",children:""}),m.jsx("button",{type:"button",onClick:()=>z($),disabled:$===T.length-1,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 text-base",children:""}),m.jsx("button",{type:"button",onClick:()=>A($),className:"px-4 py-2 bg-red-600 text-white rounded text-base",children:"Remove"})]})]},`${R}-${$}`)})}),m.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[m.jsx("button",{type:"button",onClick:V,disabled:!r||Z==="pending"||!_,className:"px-6 py-3 bg-green-600 text-white rounded disabled:opacity-50 text-base",children:Z==="pending"?"Saving...":"Save standings to event"}),m.jsx("button",{type:"button",onClick:()=>{D([])},className:"px-6 py-3 bg-gray-200 rounded text-base",children:"Clear"})]}),X&&m.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error saving: ",String(X)]})]})]})]})]})]}):m.jsxs("div",{children:[m.jsx("p",{className:"mb-4",children:"Sign in with a Google account to access admin features."}),m.jsx("button",{onClick:Me,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Sign in with Google"})]})]})},qN=(t,e=5)=>{const n=e===5?4:5,r=(o,c)=>{if(o===0)return c;if(o<0||c>=7)return-1;const h=r(o-e,c+1);return h!==-1?h:r(o-n,c+1)},a=r(t,0);if(a<=0)throw new Error("Invalid number of players for court allocation");return a},jF=t=>{try{return qN(t,5),!0}catch{return!1}},Em=(t,e,n=5)=>{const r=qN(t,n),a=Array.from({length:r},()=>({seeds:[]}));let o=0,c=1;if(e===1)for(let h=1;h<=t;h++)a[o].seeds.push(h),o+=c,(o===r||o===-1)&&(c*=-1,o+=c);else if(e===2){const h=Math.floor(t/r);let d=t%r,g=1;for(let v=0;v<r;v++){const _=h+(d>0?1:0);for(let E=0;E<_;E++)a[v].seeds.push(g++);d>0&&d--}}return a},kF=(t,e,n=5)=>{const r=t.length;return Em(r,e,n).map((c,h)=>{const d=c.seeds.map(g=>t[g-1]);return{courtNumber:h+1,playerIds:d,roundNumber:e}})},OF=t=>{const{roundNumber:e,playerIds:n}=t;if(n.length===4){const[r,a,o,c]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:c}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:a,player2Id:o}}].map(d=>({...d,roundNumber:e}))}if(n.length===5){const[r,a,o,c,h]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:a,player2Id:o},team2:{player1Id:c,player2Id:h}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:h}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:o,player2Id:h}},{team1:{player1Id:r,player2Id:h},team2:{player1Id:a,player2Id:c}}].map(g=>({...g,roundNumber:e}))}throw new Error("Invalid number of players for game generation")},PF=(t,e,n)=>{if(n===2&&t.courtNumber!==e.courtNumber)return t.courtNumber-e.courtNumber;const r=c=>{const h=c.wins+c.losses;return h===0?0:c.wins/h},a=r(t),o=r(e);return a!==o?o-a:t.pointDifferential!==e.pointDifferential?e.pointDifferential-t.pointDifferential:t.seed-e.seed};function lh(t,e){if(!t?.length)return[];if(![1,2,3].includes(e))return[];const n=t.reduce((c,h)=>c+h.playerIds.length,0),r=Em(n,e),a=t.flatMap((c,h)=>{const d=c.playerIds.map((g,v)=>({id:g,courtNumber:c.courtNumber,wins:0,losses:0,pointDifferential:0,seed:r[h].seeds[v],roundPlace:0,nextCourt:0}));for(const g of c.games){const{team1:v,team2:_,team1Score:E,team2Score:T}=g,D=(K,le,Q,ae)=>{if(le===void 0||Q===void 0)return;const N=le>Q||le===Q&&ae;K.wins+=N?1:0,K.losses+=N?0:1,K.pointDifferential+=le-Q},j=d.find(K=>K.id===v.player1Id),P=d.find(K=>K.id===v.player2Id),Z=d.find(K=>K.id===_.player1Id),X=d.find(K=>K.id===_.player2Id);D(j,E,T,!0),D(P,E,T,!0),D(Z,T,E,!1),D(X,T,E,!1)}return d}),o=(c,h)=>PF(c,h,e);if(a.sort(o),a.forEach((c,h)=>{c.roundPlace=h+1}),e===1){const c=t.reduce((d,g)=>d+g.playerIds.length,0),h=Em(c,2);a.forEach(d=>{const g=h.findIndex(v=>v.seeds.includes(d.roundPlace));d.nextCourt=g+1})}return a}const RT=(t,e)=>{const{data:n}=PN(t),{data:r}=MN(t);return M.useMemo(()=>{if(typeof e!="number"||![1,2].includes(e)||!n||!r||n.length===0)return;const o=n.reduce((d,g)=>d+g.playerIds.length,0),c=Em(o,e),h=n.filter(d=>d.roundNumber===e).sort((d,g)=>d.courtNumber-g.courtNumber).map((d,g)=>({...d,seeds:c[g].seeds,games:r.filter(v=>v.courtId===d.id)}));if(h.length!==0)return{roundNumber:e,courts:h,standings:lh(h,e).map(d=>d.id)}},[n,r,e])},MF=t=>{const{data:e}=ua(),[n,r]=M.useState(t),a=t??n,{data:o}=dF(a),{update:c}=ON(),h=RT(a,1),d=RT(a,2),g=M.useCallback(R=>{const $=R===1?h:d;return $!==void 0&&$.courts.length>0},[h,d]),v=M.useCallback(R=>{const $=R===1?h:d;return $?$.courts.every(se=>se.games.every(ue=>ue.team1Score!==void 0&&ue.team2Score!==void 0)):!1},[h,d]),_=M.useMemo(()=>o?.ongoingStage||1,[o]),[E,T]=FN("stage",_),D=M.useCallback(R=>{T(typeof R=="string"?R:R.toString())},[T]),j=M.useMemo(()=>{if(E==="initial"||E==="standings")return E;const R=parseInt(E,10);return[1,2,3].includes(R)?R:_},[E,_]),P=M.useCallback(R=>{o&&c({id:o.id,ongoingStage:R})},[o,c]),{create:Z}=fF(a),{create:X}=pF(a),{update:K}=gF(a),{data:le=[]}=MN(a),{remove:Q}=yF(a),{data:ae=[]}=PN(a),{remove:N}=mF(a),A=M.useCallback(async()=>{if(window.confirm("Are you sure you want to clear all data and start over?")&&n){for(const R of le||[])await Q(R.id);for(const R of ae||[])await N(R.id);P(1),D(1)}},[n,P,D,le,Q,ae,N]),C=M.useCallback(async(R,$)=>{if(g($)){console.error(`Round ${$} has already been created.`);return}if(jF(R.length)===!1){console.error(`Invalid number of players: ${R.length}. Must be between 8 and 35 players.`);return}const se=kF(R,$);for(const ue of se){const Ee=await Z(ue),Ne=OF(ue);for(const xe of Ne)await X({courtId:Ee,...xe});P($),D($)}},[g,Z,P,D,X]),z=tb(),V=M.useCallback(async R=>{const $=R.sort((se,ue)=>{const Ee=z.find(xe=>xe.playerId===se);return(z.find(xe=>xe.playerId===ue)?.points||0)-(Ee?.points||0)});await C($,1)},[C,z]),U=M.useCallback(async()=>{if(!v(1)){alert("Cannot advance to round 2: round 1 is not complete.");return}if(g(2)){alert("Round 2 has already been created.");return}if(!h?.courts||h.courts.length===0){alert("No courts available from round 1 to advance to round 2.");return}const R=lh(h.courts,1);await C(R.map($=>$.id),2),D(2),P(2)},[v,g,h,D,P,C]),k=()=>{if(!o){alert("No event selected to finalize.");return}if(!d){alert("Cannot finalize event: round 2 data is missing.");return}if(!v(2)){alert("Cannot finalize event: round 2 is not complete.");return}o.standings&&o.standings.length>0&&window.confirm("Standings already exist. Overwrite?")===!1||(c({id:o.id,standings:d.standings}),D("standings"))},Ge=M.useMemo(()=>le?.filter(R=>R.team1Score!==void 0&&R.team2Score!==void 0).length||0,[le]),Ze=M.useMemo(()=>le?.length||1,[le]),W=Math.round(Ge/Math.max(1,Ze)*100),de=M.useCallback((R,$,se)=>{K({id:R,[$]:se})},[K]),ce=M.useMemo(()=>g(2)===!1,[g]),Me=M.useMemo(()=>o?.standings===void 0||o.standings.length===0,[o]),Fe=M.useMemo(()=>g(1)===!1,[g]);return{events:e,selectedEventId:a,setSelectedEventId:r,round1:h,round2:d,needsInitialization:Fe,event:o,currentView:j,setCurrentView:D,completedMatches:Ge,totalMatches:Ze,progressPercent:W,handleScoreChange:de,areRound1UpdatesAllowed:ce,areRound2UpdatesAllowed:Me,initializeRoundOne:V,advanceToRoundTwo:U,finalizeEvent:k,resetAll:A,apiError:null}},$N=Hs.forwardRef(({label:t,textarea:e=!1,className:n,error:r,success:a,rows:o=4,size:c="md",variant:h="default",icon:d,iconPosition:g="left",...v},_)=>{const E="w-full rounded-xl border transition-all duration-300 text-text-main placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed",T={sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-base",lg:"px-6 py-4 text-lg"},D={default:"bg-surface border-border focus:border-primary focus:ring-primary/30 shadow-sm hover:shadow-md",premium:"bg-gradient-to-br from-surface via-surface-alt to-surface border-border focus:border-primary focus:ring-primary/30 shadow-lg hover:shadow-xl",outlined:"bg-transparent border-2 border-border focus:border-primary focus:ring-primary/30 hover:border-primary/50"},j=()=>r?"border-error focus:border-error focus:ring-error/30 shadow-error/10":a?"border-success focus:border-success focus:ring-success/30 shadow-success/10":"",P={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"},Z=()=>{if(!d)return null;if(Hs.isValidElement(d)){const K=d.props?.className||"";return Hs.cloneElement(d,{className:on(P[c],"text-text-muted",K)})}return d},X=on(E,D[h],T[c],j(),d&&g==="left"?"pl-10":"",d&&g==="right"?"pr-10":"",e?"resize-vertical min-h-[6rem]":"");return m.jsxs("label",{className:on("block",n&&void 0),children:[t&&m.jsxs("div",{className:"mb-3 text-sm font-semibold text-text-main flex items-center gap-2",children:[t,r&&m.jsx("span",{className:"text-error",children:"*"}),a&&m.jsx("span",{className:"text-success",children:""})]}),m.jsxs("div",{className:"relative",children:[d&&g==="left"&&m.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:Z()}),e?m.jsx("textarea",{ref:_,rows:o,className:X,"aria-invalid":!!r,...v}):m.jsx("input",{ref:_,className:X,"aria-invalid":!!r,...v}),d&&g==="right"&&m.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:Z()})]}),r&&m.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 rounded-full bg-error/20 flex items-center justify-center",children:m.jsx("span",{className:"text-xs text-error font-bold",children:"!"})}),m.jsx("p",{className:"text-sm text-error font-medium",children:r})]}),a&&!r&&m.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 rounded-full bg-success/20 flex items-center justify-center",children:m.jsx("span",{className:"text-xs text-success font-bold",children:""})}),m.jsx("p",{className:"text-sm text-success font-medium",children:a})]})]})});$N.displayName="Input";const VF=({roundNumber:t,playerRankings:e,players:n,completedGames:r,totalGames:a,previousRoundRankings:o})=>{const[c,h]=M.useState(!1),d=a>0?Math.round(r/a*100):0,g=(_,E)=>{let T,D;if(t===1){const j=e.find(P=>P.id===E)?.seed;T=j,D=j?`Seed #${j}`:"No seed"}else if(o)T=o.find(j=>j.id===E)?.roundPlace,D=T?`Round 1 #${T}`:"No previous rank";else return null;return T?_<T?m.jsx("div",{title:`Moved up from ${D}`,children:m.jsx(nk,{className:"h-4 w-4 text-success"})}):_>T?m.jsx("div",{title:`Moved down from ${D}`,children:m.jsx(Xj,{className:"h-4 w-4 text-error"})}):m.jsx("div",{title:`Same as ${D}`,children:m.jsx("div",{className:"w-2 h-2 rounded-full bg-text-muted mx-auto"})}):null},v=(_,E)=>{const T=_+E;return T===0?"0%":`${Math.round(_/T*100)}%`};return m.jsxs("div",{className:"mb-6",children:[m.jsx("button",{onClick:()=>h(!c),className:"w-full bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 border border-primary/30 rounded-xl p-4 hover:bg-primary/15 transition-all duration-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary/70 rounded-full flex items-center justify-center",children:m.jsx(Yn,{className:"h-5 w-5 text-white"})}),m.jsxs("div",{className:"text-left",children:[m.jsxs("h3",{className:"font-bold text-text-main",children:["Round ",t," Rankings"]}),m.jsxs("p",{className:"text-sm text-text-muted",children:[r,"/",a," games (",d,"%)"]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-sm text-text-muted",children:[c?"Hide":"Show"," Rankings"]}),c?m.jsx(dS,{className:"h-5 w-5 text-text-muted"}):m.jsx(hS,{className:"h-5 w-5 text-text-muted"})]})]})}),c&&m.jsx("div",{className:"mt-3 bg-surface rounded-xl border border-border overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-surface-alt border-b border-border",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Rank"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Player"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Court"}),t===1&&m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Projected Next Court"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"W-L"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Win %"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Diff"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Movement"})]})}),m.jsx("tbody",{className:"divide-y divide-border",children:e.map((_,E)=>{const T=n.find(j=>j.id===_.id),D=E+1;return m.jsxs("tr",{className:`transition-colors ${D<=3?D===1?"bg-warning/5 hover:bg-warning/10":D===2?"bg-text-accent/5 hover:bg-text-accent/10":"bg-bronze/5 hover:bg-bronze/10":"hover:bg-surface-highlight"}`,children:[m.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${D===1?"bg-gradient-to-br from-warning to-warning/70 text-white":D===2?"bg-gradient-to-br from-text-accent to-text-accent/70 text-white":D===3?"bg-gradient-to-br from-bronze to-bronze/70 text-white":"bg-surface-alt text-text-main"}`,children:D===1?"":D===2?"":D===3?"":D})}),m.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[m.jsx("div",{className:"font-semibold text-text-main",children:T?.name||`Player ${_.id}`}),m.jsxs("div",{className:"text-xs text-text-muted",children:["Seed #",_.seed]})]}),m.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:m.jsx("span",{className:"text-sm font-medium text-text-main",children:_.courtNumber})}),t===1&&m.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:m.jsx("span",{className:"text-sm font-medium text-text-accent",children:typeof _.nextCourt=="number"&&_.nextCourt>0?_.nextCourt:"-"})}),m.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:m.jsxs("span",{className:"text-sm font-semibold text-text-main",children:[_.wins,"-",_.losses]})}),m.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:m.jsx("span",{className:"text-sm font-medium text-text-main",children:v(_.wins,_.losses)})}),m.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:m.jsxs("span",{className:`text-sm font-semibold ${_.pointDifferential>0?"text-success":_.pointDifferential<0?"text-error":"text-text-muted"}`,children:[_.pointDifferential>0?"+":"",_.pointDifferential]})}),m.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:g(D,_.id)})]},_.id)})})]})})})]})},zF=({courtNumber:t,playerStats:e,players:n,totalGamesForCourt:r,completedGamesForCourt:a})=>{const[o,c]=M.useState(!1),h=r>0?Math.round(a/r*100):0,d=(v,_)=>{const E=v+_;return E===0?"0%":`${Math.round(v/E*100)}%`},g=[...e].sort((v,_)=>v.wins!==_.wins?_.wins-v.wins:v.pointDifferential!==_.pointDifferential?_.pointDifferential-v.pointDifferential:v.seed-_.seed);return m.jsxs("div",{className:"mt-3",children:[m.jsx("button",{onClick:()=>c(!o),className:"w-full bg-gradient-to-r from-success/10 via-success/5 to-success/10 border border-success/30 rounded-lg p-3 hover:bg-success/15 transition-all duration-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-success to-success/70 rounded-full flex items-center justify-center",children:m.jsx(ok,{className:"h-4 w-4 text-white"})}),m.jsxs("div",{className:"text-left",children:[m.jsxs("h4",{className:"text-sm font-bold text-text-main",children:["Court ",t," Stats"]}),m.jsxs("p",{className:"text-xs text-text-muted",children:[a,"/",r," games (",h,"%)"]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-xs text-text-muted",children:o?"Hide":"Show"}),o?m.jsx(dS,{className:"h-4 w-4 text-text-muted"}):m.jsx(hS,{className:"h-4 w-4 text-text-muted"})]})]})}),o&&m.jsxs("div",{className:"mt-2 bg-surface-alt/30 rounded-lg border border-border/50 overflow-hidden",children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-surface-alt/50 border-b border-border/30",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Rank"}),m.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Player"}),m.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"W-L"}),m.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Win %"}),m.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Diff"}),m.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Games"})]})}),m.jsx("tbody",{className:"divide-y divide-border/30",children:g.map((v,_)=>{const E=n.find(D=>D.id===v.id),T=_+1;return m.jsxs("tr",{className:`transition-colors ${T===1?"bg-success/5 hover:bg-success/10":"hover:bg-surface-highlight"}`,children:[m.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:m.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${T===1?"bg-gradient-to-br from-success to-success/70 text-white":"bg-surface-alt text-text-main"}`,children:T===1?"":T})}),m.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[m.jsx("div",{className:"text-sm font-semibold text-text-main",children:E?.name||`Player ${v.id}`}),E?.dupr&&m.jsxs("div",{className:"text-xs text-text-muted",children:["DUPR: ",E.dupr]})]}),m.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:m.jsxs("span",{className:"text-sm font-semibold text-text-main",children:[v.wins,"-",v.losses]})}),m.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:m.jsx("span",{className:"text-sm font-medium text-text-main",children:d(v.wins,v.losses)})}),m.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:m.jsxs("span",{className:`text-sm font-semibold ${v.pointDifferential>0?"text-success":v.pointDifferential<0?"text-error":"text-text-muted"}`,children:[v.pointDifferential>0?"+":"",v.pointDifferential]})}),m.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:m.jsxs("span",{className:"text-sm font-medium text-text-main",children:[v.wins+v.losses,"/",g.length===5?4:r]})})]},v.id)})})]})}),a===r&&m.jsx("div",{className:"p-3 border-t border-border/30 bg-surface-alt/20",children:m.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[m.jsx($u,{className:"h-4 w-4"}),m.jsxs("span",{children:["Court ",t," complete  Leader advances to next round"]})]})})]})]})},LF=({value:t,onChange:e,isAdmin:n=!1,teamColor:r="primary",disabled:a=!1,maxScore:o})=>{const[c,h]=M.useState(!1),[d,g]=M.useState(t?.toString()||""),v=M.useRef(null);M.useEffect(()=>{c&&v.current&&(v.current.focus(),v.current.select())},[c]);const _=()=>{!n||a||(g(t?.toString()||""),h(!0))},E=()=>{let Z=parseInt(d);!isNaN(Z)&&Z>=0&&(typeof o=="number"&&Z>o&&(Z=o),e(Z)),h(!1)},T=()=>{g(t?.toString()||""),h(!1)},D=Z=>{Z.key==="Enter"?E():Z.key==="Escape"&&T()},P={primary:{bg:"bg-surface",border:"border-border",hover:"hover:bg-surface-highlight",text:"text-text-main"},success:{bg:"bg-surface",border:"border-border",hover:"hover:bg-surface-highlight",text:"text-text-main"}}[r];return c?m.jsx("div",{className:"flex items-center gap-2",children:m.jsx("input",{ref:v,type:"number",value:d,onChange:Z=>g(Z.target.value),onKeyDown:D,onBlur:E,className:`w-14 h-12 px-2 text-lg font-bold border-2 ${P.border} rounded-lg bg-surface text-center focus:outline-none focus:ring-2 focus:ring-primary/50`,min:"0",max:typeof o=="number"?o:99})}):m.jsx("button",{onClick:_,disabled:!n||a,className:`min-w-[2.5rem] h-8 px-2 flex items-center justify-center ${P.bg} border-2 ${P.border} rounded-md text-lg font-black transition-all duration-200 ${n&&!a?`${P.hover} cursor-pointer active:scale-95`:"cursor-default"}`,children:m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:P.text,children:t??"-"}),n&&!a&&m.jsx(Ek,{className:`h-2.5 w-2.5 ${P.text} opacity-60`})]})})},UF=({players:t,onPlayerSelect:e,onClear:n,placeholder:r="Find your name...",className:a=""})=>{const[o,c]=M.useState(""),[h,d]=M.useState(!1),g=M.useMemo(()=>o.trim()?t.filter(T=>T.name.toLowerCase().includes(o.toLowerCase())).slice(0,8).sort((T,D)=>T.name.localeCompare(D.name)):[],[t,o]),v=T=>{const D=t.find(j=>j.id===T);D&&(c(D.name),d(!1),e(T))},_=()=>{c(""),d(!1),n()},E=T=>{c(T),d(T.length>0)};return m.jsxs("div",{className:`relative ${a}`,children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:o,onChange:T=>E(T.target.value),placeholder:r,className:"w-full h-12 pl-12 pr-12 bg-surface border-2 border-border rounded-xl text-text-main placeholder-text-muted focus:outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all duration-200"}),m.jsx(mS,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-text-muted"}),o&&m.jsx("button",{onClick:_,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 bg-surface-alt rounded-full flex items-center justify-center hover:bg-surface-highlight transition-colors",children:m.jsx(gS,{className:"h-4 w-4 text-text-muted"})})]}),h&&g.length>0&&m.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-2 bg-surface border-2 border-border rounded-xl shadow-xl max-h-64 overflow-y-auto",children:m.jsx("div",{className:"p-2",children:g.map(T=>m.jsxs("button",{onClick:()=>v(T.id||""),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-surface-highlight transition-colors text-left",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary/20 to-primary/10 rounded-full flex items-center justify-center",children:m.jsx(pS,{className:"h-4 w-4 text-primary"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"font-semibold text-text-main truncate",children:T.name}),T.dupr&&m.jsxs("div",{className:"text-sm text-text-muted",children:["DUPR: ",T.dupr]})]})]},T.id))})}),h&&o&&g.length===0&&m.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-2 bg-surface border-2 border-border rounded-xl shadow-xl p-4 text-center",children:m.jsxs("div",{className:"text-text-muted",children:["No players found matching ",o,""]})})]})},Ay=({icon:t,label:e,value:n,className:r})=>m.jsxs("div",{className:`flex items-center gap-3 p-3 bg-surface-alt/50 rounded-xl ${r||""}`,children:[t,m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"text-xs text-text-muted uppercase",children:e}),m.jsx("div",{className:"font-semibold text-sm",children:n})]})]}),CT=({color:t,player1:e,player2:n,score:r,onScoreChange:a,isAdmin:o,isEditable:c})=>m.jsxs("div",{className:"flex items-center justify-between py-1.5",children:[m.jsx("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:m.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[m.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[m.jsx(oh,{imageUrl:e?.imageUrl,name:e?.name,size:"sm"}),m.jsx("span",{className:"text-base font-normal text-text-main truncate",children:e?.name||"Player"})]}),m.jsx("span",{className:"mx-1 text-text-muted font-light text-lg",children:"&"}),m.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[m.jsx(oh,{imageUrl:n?.imageUrl,name:n?.name,size:"sm"}),m.jsx("span",{className:"text-base font-normal text-text-main truncate",children:n?.name||"Player"})]})]})}),m.jsx(LF,{value:r,onChange:a,isAdmin:o,teamColor:t,disabled:c===!1})]}),FF=({court:t,players:e,roundNumber:n,highlightedPlayerId:r,isAdmin:a,handleScoreChange:o})=>{const[c,h]=M.useState(!0),d=lh([t],n),g=t.games.filter(T=>T.roundNumber===n&&T.team1Score!==void 0&&T.team2Score!==void 0).length,v=t.games.filter(T=>T.roundNumber===n).length,_=n===1&&(typeof window.areRound1UpdatesAllowed=="boolean"?window.areRound1UpdatesAllowed:!0)||n===2&&(typeof window.areRound2UpdatesAllowed=="boolean"?window.areRound2UpdatesAllowed:!0),E=t.playerIds.map(T=>e.find(D=>D.id===T)).filter(Boolean);return m.jsxs("div",{id:`court-${t.id}`,className:`relative overflow-hidden bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 border border-primary/20 shadow-2xl ${t.playerIds.some(T=>T===r)?"ring-2 ring-primary/50 bg-primary/5":""}`,children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsxs("button",{className:"w-full flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 focus:outline-none",onClick:()=>h(T=>!T),"aria-expanded":c,type:"button",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[m.jsx("div",{className:"flex items-center gap-3",children:m.jsxs("h3",{className:"text-2xl font-bold text-text-main",children:["Court ",t.courtNumber]})}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-1 sm:mt-0",children:E.map(T=>T?m.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-text-muted bg-surface-alt px-2 py-0.5 rounded",children:[m.jsx(oh,{imageUrl:T.imageUrl,name:T.name,size:"sm",border:!1,className:"ring-1 ring-surface"}),T.name]},T.id+"-name"):null)})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-sm px-3 py-1 bg-primary/20 text-primary rounded-lg font-semibold",children:[g,"/",v," games"]}),m.jsxs("span",{className:"text-sm px-3 py-1 bg-success/20 text-success rounded-lg font-semibold",children:[t.playerIds.length," players"]}),m.jsx("span",{className:"text-xs px-2 py-1 bg-surface-alt text-text-muted rounded font-medium border border-border",children:t.playerIds.length===4?"First to 15, win by 1":t.playerIds.length===5?"First to 11, win by 1":""})]})]}),c&&m.jsxs("div",{className:"space-y-4 mt-4",children:[m.jsx("div",{className:"space-y-4",children:t.games.map((T,D)=>{const j=e.find(Q=>Q.id===T.team1.player1Id),P=e.find(Q=>Q.id===T.team1.player2Id),Z=e.find(Q=>Q.id===T.team2.player1Id),X=e.find(Q=>Q.id===T.team2.player2Id);let K="",le="";return typeof T.team1Score=="number"&&typeof T.team2Score=="number"&&(T.team1Score>T.team2Score?K="bg-success/10":T.team2Score>T.team1Score&&(le="bg-success/10")),m.jsxs("div",{children:[m.jsx("div",{className:"px-2 pt-1 pb-0",children:m.jsxs("span",{className:"text-xs text-text-muted font-semibold tracking-wide uppercase",children:["Game ",D+1]})}),m.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-2xl p-4 border border-primary/20 shadow",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:`rounded-lg transition-all duration-200 px-4 ${K}`,children:m.jsx(CT,{color:"primary",player1:j,player2:P,score:T.team1Score,onScoreChange:Q=>o(T.id,"team1Score",Q),isAdmin:a,isEditable:_})}),m.jsx("div",{className:`rounded-lg transition-all duration-200 px-4 ${le}`,children:m.jsx(CT,{color:"success",player1:Z,player2:X,score:T.team2Score,onScoreChange:Q=>o(T.id,"team2Score",Q),isAdmin:a,isEditable:_})})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-xl -z-10"})]})]},T.id)})}),m.jsx(zF,{courtNumber:t.courtNumber,playerStats:d,players:e,totalGamesForCourt:v,completedGamesForCourt:g})]})]},t.id)};function BF(t){return t?t.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"}):""}function qF(t){return t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):""}const $F=()=>{const{id:t}=HT(),e=t?decodeURIComponent(t):"",{data:n,isLoading:r}=kN(e),{data:a=[]}=Ih(),{isAdmin:o}=BN(),c=MF(e),[h,d]=M.useState([]),[g,v]=M.useState(""),[_,E]=M.useState(!1),[T,D]=M.useState(null),j=M.useMemo(()=>a.filter(Q=>Q.name.toLowerCase().includes(g.toLowerCase())).sort((Q,ae)=>Q.name.localeCompare(ae.name)),[a,g]),P=Q=>{d(ae=>ae.includes(Q)?ae.filter(N=>N!==Q):[...ae,Q])},Z=async()=>{if(h.length<8||h.length>35){alert("Please select between 8-35 players");return}E(!0);try{await c.initializeRoundOne(h),d([])}catch(Q){console.error("Failed to initialize round:",Q),alert("Failed to initialize round. Please try again.")}finally{E(!1)}},X=async()=>{if(window.confirm("Are you sure you want to advance to Round 2? This cannot be undone."))try{await c.advanceToRoundTwo()}catch(Q){console.error("Failed to advance to round 2:",Q),alert("Failed to advance to Round 2. Please try again.")}},K=()=>{window.confirm("Are you sure you want to finalize this event? Final standings will be published.")&&c.finalizeEvent()};if(r)return m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:m.jsxs(Mt,{variant:"premium",padding:"xl",className:"max-w-md w-full text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary/20 border-t-primary mx-auto mb-6"}),m.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Loading Event"}),m.jsx("p",{className:"text-text-muted",children:"Please wait while we fetch the event details..."})]})});if(!n)return m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:m.jsxs(Mt,{variant:"gradient",theme:"error",padding:"xl",className:"max-w-2xl w-full text-center",children:[m.jsx("div",{className:"text-6xl mb-6 opacity-50",children:""}),m.jsx("h1",{className:"text-3xl font-black text-text-main mb-4",children:"Event Not Found"}),m.jsxs("p",{className:"text-text-muted mb-8 leading-relaxed",children:["The event ID"," ",m.jsx("code",{className:"bg-surface-alt px-2 py-1 rounded font-mono text-sm",children:e||"(empty)"})," ","does not match any scheduled event in our system."]}),m.jsx(wt,{to:"/schedule",children:m.jsx(Bi,{variant:"primary",size:"lg",icon:m.jsx(Xw,{}),iconPosition:"left",children:"Back to Schedule"})})]})});const le=c.currentView===1?c.round1:c.currentView===2?c.round2:null;return m.jsxs("div",{className:"space-y-8 pb-12 px-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs(wt,{to:"/schedule",className:"inline-flex items-center gap-2 text-text-muted hover:text-primary transition-colors font-semibold",children:[m.jsx(Xw,{className:"h-5 w-5"}),m.jsx("span",{children:"Back to Schedule"})]}),m.jsx(Mt,{variant:"premium",padding:"lg",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4",children:m.jsx(lo,{className:"h-8 w-8 text-white"})}),m.jsx("h1",{className:"text-3xl md:text-4xl font-black text-text-main mb-6",children:n.name}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[m.jsx(Ay,{icon:m.jsx(lo,{className:"h-5 w-5 text-primary"}),label:"Date",value:BF(n.startDateTime)}),m.jsx(Ay,{icon:m.jsx($f,{className:"h-5 w-5 text-success"}),label:"Time",value:qF(n.startDateTime)}),m.jsx(Ay,{icon:m.jsx(fS,{className:"h-5 w-5 text-warning"}),label:"Location",value:n.location||"TBD"})]})]})})]}),o&&c.needsInitialization&&m.jsxs(Mt,{variant:"gradient",theme:"primary",padding:"lg",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4",children:m.jsx(zk,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Initialize Event"}),m.jsx("p",{className:"text-text-muted",children:"Select 8-35 players to start the event"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx($N,{icon:m.jsx(mS,{}),placeholder:"Search players by name...",value:g,onChange:Q=>v(Q.target.value),variant:"premium"}),m.jsx("div",{className:"text-center",children:m.jsxs("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${h.length>=8&&h.length<=35?"bg-success/20 text-success":"bg-warning/20 text-warning"}`,children:[h.length," / 35 players selected",h.length<8&&" (minimum 8)"]})}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-96 overflow-y-auto p-2",children:j.map(Q=>{const ae=h.includes(Q.id||"");return m.jsx("div",{onClick:()=>P(Q.id||""),className:`p-3 rounded-xl border-2 cursor-pointer transition-all duration-200 ${ae?"border-primary bg-primary/10 shadow-md":"border-border hover:border-primary/50 bg-surface"}`,children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${ae?"border-primary bg-primary":"border-border"}`,children:ae&&m.jsx(dk,{className:"h-4 w-4 text-white"})}),m.jsxs("div",{className:"flex-1 text-left",children:[m.jsx("div",{className:"font-semibold text-text-main",children:Q.name}),Q.dupr&&m.jsxs("div",{className:"text-xs text-text-muted",children:["DUPR: ",Q.dupr]})]})]})},Q.id)})}),m.jsx("div",{className:"text-center pt-4",children:m.jsx(Bi,{variant:"primary",size:"lg",icon:m.jsx(Sk,{}),onClick:Z,disabled:h.length<8||h.length>35||_,loading:_,children:"Initialize Round 1"})})]})]}),!c.needsInitialization&&m.jsx(Mt,{variant:"flat",padding:"sm",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-2",children:[1,2,"standings"].map(Q=>{const ae=c.currentView===Q,N=Q===1||Q===2&&c.round1||Q==="standings"&&c.round2;return m.jsx(Bi,{variant:ae?"primary":"ghost",size:"sm",onClick:()=>c.setCurrentView(Q),disabled:!N,children:Q==="standings"?"Final Standings":`Round ${Q}`},Q)})}),m.jsxs("div",{className:"text-sm text-text-muted",children:["Progress: ",c.completedMatches,"/",c.totalMatches," matches (",c.progressPercent,"%)"]})]})}),!c.needsInitialization&&le&&m.jsx(UF,{players:a.filter(Q=>le.courts.some(ae=>ae.playerIds.includes(Q.id||""))),onPlayerSelect:Q=>{D(Q);const ae=le.courts.find(N=>N.playerIds.includes(Q));if(ae){const N=document.getElementById(`court-${ae.id}`);N&&N.scrollIntoView({behavior:"smooth",block:"center"})}},onClear:()=>D(null),placeholder:"Find a player on the courts...",className:"mb-6"}),le&&m.jsxs("div",{className:"space-y-6",children:[(()=>{const Q=lh(le.courts,c.currentView),ae=c.currentView===2&&c.round1?lh(c.round1.courts,1):void 0,N=le.courts.flatMap(C=>C.games.filter(z=>z.roundNumber===c.currentView)),A=N.filter(C=>C.team1Score!==void 0&&C.team2Score!==void 0).length;return m.jsx(VF,{roundNumber:c.currentView,playerRankings:Q,players:a,completedGames:A,totalGames:N.length,previousRoundRankings:ae})})(),m.jsx(Mt,{variant:"gradient",theme:"success",padding:"md",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/70 rounded-full flex items-center justify-center",children:m.jsx(Ml,{className:"h-6 w-6 text-white"})}),m.jsxs("div",{children:[m.jsxs("h2",{className:"text-xl font-bold text-text-main",children:["Round ",c.currentView," Courts"]}),m.jsxs("p",{className:"text-text-muted text-sm",children:[le.courts.length," courts  Live scoring enabled"]})]})]}),o&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Bi,{variant:"secondary",size:"sm",icon:m.jsx(Rk,{}),onClick:c.resetAll,children:"Reset All"}),c.currentView===1&&c.round1&&m.jsx(Bi,{variant:"primary",size:"sm",icon:m.jsx(xf,{}),onClick:X,disabled:!c.round1.courts.every(Q=>Q.games.every(ae=>ae.team1Score!==void 0&&ae.team2Score!==void 0)),children:"Advance to Round 2"}),c.currentView===2&&c.round2&&m.jsx(Bi,{variant:"primary",size:"sm",icon:m.jsx(Yn,{}),onClick:K,disabled:!c.round2.courts.every(Q=>Q.games.every(ae=>ae.team1Score!==void 0&&ae.team2Score!==void 0)),children:"Finalize Event"})]})]})}),m.jsx("div",{className:"grid grid-cols-1 gap-4",children:le.courts.map(Q=>m.jsx(m.Fragment,{children:m.jsx(FF,{court:Q,players:a,roundNumber:c.currentView,highlightedPlayerId:T,isAdmin:o,handleScoreChange:c.handleScoreChange})}))})]}),c.currentView==="standings"&&n.standings&&m.jsxs(Mt,{variant:"gradient",theme:"warning",padding:"lg",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-4",children:m.jsx(Yn,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Final Standings"}),m.jsx("p",{className:"text-text-muted",children:"Official results from this event"})]}),m.jsx("div",{className:"bg-surface rounded-xl border border-border overflow-hidden max-w-2xl mx-auto",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-surface-alt border-b border-border",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-text-main uppercase tracking-wider",children:"Position"}),m.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-text-main uppercase tracking-wider",children:"Player"}),m.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-text-main uppercase tracking-wider",children:"Points"})]})}),m.jsx("tbody",{className:"divide-y divide-border",children:n.standings.map((Q,ae)=>{const N=a.find(z=>z.id===Q),A=["warning","text-accent","bronze"],C=["","",""];return m.jsxs("tr",{className:`transition-colors ${ae<3?ae===0?"bg-warning/5 hover:bg-warning/10":ae===1?"bg-text-accent/5 hover:bg-text-accent/10":"bg-bronze/5 hover:bg-bronze/10":"hover:bg-surface-highlight"}`,children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${ae<3?`bg-gradient-to-br from-${A[ae]} to-${A[ae]}/70 text-white`:"bg-surface-alt text-text-main"}`,children:m.jsx("span",{className:"font-bold text-lg",children:ae<3?C[ae]:`#${ae+1}`})})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[m.jsx("div",{className:"font-bold text-lg text-text-main",children:N?.name||`Player ${Q}`}),N?.dupr&&m.jsxs("div",{className:"text-sm text-text-muted",children:["DUPR: ",N.dupr]})]}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:[m.jsxs("div",{className:"flex items-center justify-center gap-1 text-2xl font-bold text-success",children:[m.jsx(Ik,{className:"h-5 w-5"}),us(ae+1).toLocaleString()]}),m.jsx("div",{className:"text-sm text-text-muted",children:"points"})]})]},Q)})})]})})})]})]})},HF=()=>m.jsx(jO,{children:m.jsxs(ND,{children:[m.jsx(Us,{path:"/",element:m.jsx(vF,{})}),m.jsx(Us,{path:"/standings",element:m.jsx(wF,{})}),m.jsx(Us,{path:"/schedule",element:m.jsx(RF,{})}),m.jsx(Us,{path:"/players",element:m.jsx(TF,{})}),m.jsx(Us,{path:"/player/:id",element:m.jsx(AF,{})}),m.jsx(Us,{path:"/format",element:m.jsx(EF,{})}),m.jsx(Us,{path:"/admin",element:m.jsx(DF,{})}),m.jsx(Us,{path:"/event/:id",element:m.jsx($F,{})})]})}),GF=new Dj;DC.createRoot(document.getElementById("root")).render(m.jsx(M.StrictMode,{children:m.jsx(jj,{client:GF,children:m.jsx(JD,{children:m.jsx(HF,{})})})}));
