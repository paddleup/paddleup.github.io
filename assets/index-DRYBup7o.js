(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function sC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yg={exports:{}},mu={};var mw;function iC(){if(mw)return mu;mw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:o}}return mu.Fragment=e,mu.jsx=n,mu.jsxs=n,mu}var pw;function aC(){return pw||(pw=1,Yg.exports=iC()),Yg.exports}var m=aC(),Xg={exports:{}},ke={};var gw;function oC(){if(gw)return ke;gw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function A(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,V={};function J(j,Z,ae){this.props=j,this.context=Z,this.refs=V,this.updater=ae||M}J.prototype.isReactComponent={},J.prototype.setState=function(j,Z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Z,"setState")},J.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Q(){}Q.prototype=J.prototype;function G(j,Z,ae){this.props=j,this.context=Z,this.refs=V,this.updater=ae||M}var oe=G.prototype=new Q;oe.constructor=G,O(oe,J.prototype),oe.isPureReactComponent=!0;var ce=Array.isArray;function me(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(j,Z,ae){var de=ae.ref;return{$$typeof:t,type:j,key:Z,ref:de!==void 0?de:null,props:ae}}function D(j,Z){return C(j.type,Z,j.props)}function R(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function U(j){var Z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return Z[ae]})}var k=/\/+/g;function ze(j,Z){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):Z.toString(36)}function Ke(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(me,me):(j.status="pending",j.then(function(Z){j.status==="pending"&&(j.status="fulfilled",j.value=Z)},function(Z){j.status==="pending"&&(j.status="rejected",j.reason=Z)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function X(j,Z,ae,de,Ne){var je=typeof j;(je==="undefined"||je==="boolean")&&(j=null);var Ae=!1;if(j===null)Ae=!0;else switch(je){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(j.$$typeof){case t:case e:Ae=!0;break;case v:return Ae=j._init,X(Ae(j._payload),Z,ae,de,Ne)}}if(Ae)return Ne=Ne(j),Ae=de===""?"."+ze(j,0):de,ce(Ne)?(ae="",Ae!=null&&(ae=Ae.replace(k,"$&/")+"/"),X(Ne,Z,ae,"",function(er){return er})):Ne!=null&&(R(Ne)&&(Ne=D(Ne,ae+(Ne.key==null||j&&j.key===Ne.key?"":(""+Ne.key).replace(k,"$&/")+"/")+Ae)),Z.push(Ne)),1;Ae=0;var At=de===""?".":de+":";if(ce(j))for(var tt=0;tt<j.length;tt++)de=j[tt],je=At+ze(de,tt),Ae+=X(de,Z,ae,je,Ne);else if(tt=A(j),typeof tt=="function")for(j=tt.call(j),tt=0;!(de=j.next()).done;)de=de.value,je=At+ze(de,tt++),Ae+=X(de,Z,ae,je,Ne);else if(je==="object"){if(typeof j.then=="function")return X(Ke(j),Z,ae,de,Ne);throw Z=String(j),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function le(j,Z,ae){if(j==null)return j;var de=[],Ne=0;return X(j,de,"","",function(je){return Z.call(ae,je,Ne++)}),de}function ee(j){if(j._status===-1){var Z=j._result;Z=Z(),Z.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=Z)}if(j._status===1)return j._result.default;throw j._result}var we=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Me={map:le,forEach:function(j,Z,ae){le(j,function(){Z.apply(this,arguments)},ae)},count:function(j){var Z=0;return le(j,function(){Z++}),Z},toArray:function(j){return le(j,function(Z){return Z})||[]},only:function(j){if(!R(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return ke.Activity=b,ke.Children=Me,ke.Component=J,ke.Fragment=n,ke.Profiler=a,ke.PureComponent=G,ke.StrictMode=r,ke.Suspense=h,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ke.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},ke.cache=function(j){return function(){return j.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(j,Z,ae){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var de=O({},j.props),Ne=j.key;if(Z!=null)for(je in Z.key!==void 0&&(Ne=""+Z.key),Z)!S.call(Z,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&Z.ref===void 0||(de[je]=Z[je]);var je=arguments.length-2;if(je===1)de.children=ae;else if(1<je){for(var Ae=Array(je),At=0;At<je;At++)Ae[At]=arguments[At+2];de.children=Ae}return C(j.type,Ne,de)},ke.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},ke.createElement=function(j,Z,ae){var de,Ne={},je=null;if(Z!=null)for(de in Z.key!==void 0&&(je=""+Z.key),Z)S.call(Z,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ne[de]=Z[de]);var Ae=arguments.length-2;if(Ae===1)Ne.children=ae;else if(1<Ae){for(var At=Array(Ae),tt=0;tt<Ae;tt++)At[tt]=arguments[tt+2];Ne.children=At}if(j&&j.defaultProps)for(de in Ae=j.defaultProps,Ae)Ne[de]===void 0&&(Ne[de]=Ae[de]);return C(j,je,Ne)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(j){return{$$typeof:d,render:j}},ke.isValidElement=R,ke.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:ee}},ke.memo=function(j,Z){return{$$typeof:g,type:j,compare:Z===void 0?null:Z}},ke.startTransition=function(j){var Z=I.T,ae={};I.T=ae;try{var de=j(),Ne=I.S;Ne!==null&&Ne(ae,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(me,we)}catch(je){we(je)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),I.T=Z}},ke.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ke.use=function(j){return I.H.use(j)},ke.useActionState=function(j,Z,ae){return I.H.useActionState(j,Z,ae)},ke.useCallback=function(j,Z){return I.H.useCallback(j,Z)},ke.useContext=function(j){return I.H.useContext(j)},ke.useDebugValue=function(){},ke.useDeferredValue=function(j,Z){return I.H.useDeferredValue(j,Z)},ke.useEffect=function(j,Z){return I.H.useEffect(j,Z)},ke.useEffectEvent=function(j){return I.H.useEffectEvent(j)},ke.useId=function(){return I.H.useId()},ke.useImperativeHandle=function(j,Z,ae){return I.H.useImperativeHandle(j,Z,ae)},ke.useInsertionEffect=function(j,Z){return I.H.useInsertionEffect(j,Z)},ke.useLayoutEffect=function(j,Z){return I.H.useLayoutEffect(j,Z)},ke.useMemo=function(j,Z){return I.H.useMemo(j,Z)},ke.useOptimistic=function(j,Z){return I.H.useOptimistic(j,Z)},ke.useReducer=function(j,Z,ae){return I.H.useReducer(j,Z,ae)},ke.useRef=function(j){return I.H.useRef(j)},ke.useState=function(j){return I.H.useState(j)},ke.useSyncExternalStore=function(j,Z,ae){return I.H.useSyncExternalStore(j,Z,ae)},ke.useTransition=function(){return I.H.useTransition()},ke.version="19.2.3",ke}var yw;function fv(){return yw||(yw=1,Xg.exports=oC()),Xg.exports}var z=fv();const qs=sC(z);var Jg={exports:{}},pu={},Wg={exports:{}},ey={};var vw;function lC(){return vw||(vw=1,(function(t){function e(X,le){var ee=X.length;X.push(le);e:for(;0<ee;){var we=ee-1>>>1,Me=X[we];if(0<a(Me,le))X[we]=le,X[ee]=Me,ee=we;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var le=X[0],ee=X.pop();if(ee!==le){X[0]=ee;e:for(var we=0,Me=X.length,j=Me>>>1;we<j;){var Z=2*(we+1)-1,ae=X[Z],de=Z+1,Ne=X[de];if(0>a(ae,ee))de<Me&&0>a(Ne,ae)?(X[we]=Ne,X[de]=ee,we=de):(X[we]=ae,X[Z]=ee,we=Z);else if(de<Me&&0>a(Ne,ee))X[we]=Ne,X[de]=ee,we=de;else break e}}return le}function a(X,le){var ee=X.sortIndex-le.sortIndex;return ee!==0?ee:X.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],g=[],v=1,b=null,E=3,A=!1,M=!1,O=!1,V=!1,J=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function oe(X){for(var le=n(g);le!==null;){if(le.callback===null)r(g);else if(le.startTime<=X)r(g),le.sortIndex=le.expirationTime,e(h,le);else break;le=n(g)}}function ce(X){if(O=!1,oe(X),!M)if(n(h)!==null)M=!0,me||(me=!0,U());else{var le=n(g);le!==null&&Ke(ce,le.startTime-X)}}var me=!1,I=-1,S=5,C=-1;function D(){return V?!0:!(t.unstable_now()-C<S)}function R(){if(V=!1,me){var X=t.unstable_now();C=X;var le=!0;try{e:{M=!1,O&&(O=!1,Q(I),I=-1),A=!0;var ee=E;try{t:{for(oe(X),b=n(h);b!==null&&!(b.expirationTime>X&&D());){var we=b.callback;if(typeof we=="function"){b.callback=null,E=b.priorityLevel;var Me=we(b.expirationTime<=X);if(X=t.unstable_now(),typeof Me=="function"){b.callback=Me,oe(X),le=!0;break t}b===n(h)&&r(h),oe(X)}else r(h);b=n(h)}if(b!==null)le=!0;else{var j=n(g);j!==null&&Ke(ce,j.startTime-X),le=!1}}break e}finally{b=null,E=ee,A=!1}le=void 0}}finally{le?U():me=!1}}}var U;if(typeof G=="function")U=function(){G(R)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ze=k.port2;k.port1.onmessage=R,U=function(){ze.postMessage(null)}}else U=function(){J(R,0)};function Ke(X,le){I=J(function(){X(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(X){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var ee=E;E=le;try{return X()}finally{E=ee}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ee=E;E=X;try{return le()}finally{E=ee}},t.unstable_scheduleCallback=function(X,le,ee){var we=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?we+ee:we):ee=we,X){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ee+Me,X={id:v++,callback:le,priorityLevel:X,startTime:ee,expirationTime:Me,sortIndex:-1},ee>we?(X.sortIndex=ee,e(g,X),n(h)===null&&X===n(g)&&(O?(Q(I),I=-1):O=!0,Ke(ce,ee-we))):(X.sortIndex=Me,e(h,X),M||A||(M=!0,me||(me=!0,U()))),X},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(X){var le=E;return function(){var ee=E;E=le;try{return X.apply(this,arguments)}finally{E=ee}}}})(ey)),ey}var bw;function cC(){return bw||(bw=1,Wg.exports=lC()),Wg.exports}var ty={exports:{}},yn={};var xw;function uC(){if(xw)return yn;xw=1;var t=fv();function e(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:h,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(h,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(h,g,null,v)},yn.flushSync=function(h){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=g,r.p=v,r.d.f()}},yn.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(h,g))},yn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},yn.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:A}):v==="script"&&r.d.X(h,{crossOrigin:b,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(h,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(h)},yn.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);r.d.L(h,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(h,g){if(typeof h=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(h)},yn.requestFormReset=function(h){r.d.r(h)},yn.unstable_batchedUpdates=function(h,g){return h(g)},yn.useFormState=function(h,g,v){return c.H.useFormState(h,g,v)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var _w;function dC(){if(_w)return ty.exports;_w=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ty.exports=uC(),ty.exports}var ww;function hC(){if(ww)return pu;ww=1;var t=cC(),e=fv(),n=dC();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function c(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function g(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,u=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),s;if(y===u)return h(p),i;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=p,u=y;else{for(var _=!1,T=p.child;T;){if(T===l){_=!0,l=p,u=y;break}if(T===u){_=!0,u=p,l=y;break}T=T.sibling}if(!_){for(T=y.child;T;){if(T===l){_=!0,l=y,u=p;break}if(T===u){_=!0,u=y,l=p;break}T=T.sibling}if(!_)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function v(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=v(s),i!==null)return i;s=s.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),G=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=R&&s[R]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function ze(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case J:return"Profiler";case V:return"StrictMode";case ce:return"Suspense";case me:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case G:return s.displayName||"Context";case Q:return(s._context.displayName||"Context")+".Consumer";case oe:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return i=s.displayName||null,i!==null?i:ze(s.type)||"Memo";case S:i=s._payload,s=s._init;try{return ze(s(i))}catch{}}return null}var Ke=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},we=[],Me=-1;function j(s){return{current:s}}function Z(s){0>Me||(s.current=we[Me],we[Me]=null,Me--)}function ae(s,i){Me++,we[Me]=s.current,s.current=i}var de=j(null),Ne=j(null),je=j(null),Ae=j(null);function At(s,i){switch(ae(je,i),ae(Ne,s),ae(de,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?V0(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=V0(i),s=z0(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Z(de),ae(de,s)}function tt(){Z(de),Z(Ne),Z(je)}function er(s){s.memoizedState!==null&&ae(Ae,s);var i=de.current,l=z0(i,s.type);i!==l&&(ae(Ne,s),ae(de,l))}function Lr(s){Ne.current===s&&(Z(de),Z(Ne)),Ae.current===s&&(Z(Ae),uu._currentValue=ee)}var wr,Ao;function Ur(s){if(wr===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);wr=i&&i[1]||"",Ao=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+s+Ao}var uc=!1;function ca(s,i){if(!s||uc)return"";uc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var K=W}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(W){K=W}s.call(ie.prototype)}}else{try{throw Error()}catch(W){K=W}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],T=y[1];if(_&&T){var P=_.split(`
`),H=T.split(`
`);for(p=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;p<H.length&&!H[p].includes("DetermineComponentFrameRoot");)p++;if(u===P.length||p===H.length)for(u=P.length-1,p=H.length-1;1<=u&&0<=p&&P[u]!==H[p];)p--;for(;1<=u&&0<=p;u--,p--)if(P[u]!==H[p]){if(u!==1||p!==1)do if(u--,p--,0>p||P[u]!==H[p]){var ne=`
`+P[u].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=u&&0<=p);break}}}finally{uc=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Ur(l):""}function dc(s,i){switch(s.tag){case 26:case 27:case 5:return Ur(s.type);case 16:return Ur("Lazy");case 13:return s.child!==i&&i!==null?Ur("Suspense Fallback"):Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return ca(s.type,!1);case 11:return ca(s.type.render,!1);case 1:return ca(s.type,!0);case 31:return Ur("Activity");default:return""}}function hc(s){try{var i="",l=null;do i+=dc(s,l),l=s,s=s.return;while(s);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var zt=Object.prototype.hasOwnProperty,Yt=t.unstable_scheduleCallback,ni=t.unstable_cancelCallback,Jm=t.unstable_shouldYield,Td=t.unstable_requestPaint,wn=t.unstable_now,ua=t.unstable_getCurrentPriorityLevel,fc=t.unstable_ImmediatePriority,mc=t.unstable_UserBlockingPriority,ri=t.unstable_NormalPriority,Wm=t.unstable_LowPriority,Sd=t.unstable_IdlePriority,Ad=t.log,Nd=t.unstable_setDisableYieldValue,Er=null,ln=null;function tr(s){if(typeof Ad=="function"&&Nd(s),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Er,s)}catch{}}var kt=Math.clz32?Math.clz32:Rd,Id=Math.log,No=Math.LN2;function Rd(s){return s>>>=0,s===0?32:31-(Id(s)/No|0)|0}var Fr=256,da=262144,Lt=4194304;function Br(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function qr(s,i,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var T=u&134217727;return T!==0?(u=T&~y,u!==0?p=Br(u):(_&=T,_!==0?p=Br(_):l||(l=T&~s,l!==0&&(p=Br(l))))):(T=u&~y,T!==0?p=Br(T):_!==0?p=Br(_):l||(l=u&~s,l!==0&&(p=Br(l)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:p}function Tr(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function ep(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cd(){var s=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),s}function $r(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function ha(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function tp(s,i,l,u,p,y){var _=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var T=s.entanglements,P=s.expirationTimes,H=s.hiddenUpdates;for(l=_&~l;0<l;){var ne=31-kt(l),ie=1<<ne;T[ne]=0,P[ne]=-1;var K=H[ne];if(K!==null)for(H[ne]=null,ne=0;ne<K.length;ne++){var W=K[ne];W!==null&&(W.lane&=-536870913)}l&=~ie}u!==0&&fa(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(_&~i))}function fa(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var u=31-kt(i);s.entangledLanes|=i,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function pc(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var u=31-kt(l),p=1<<u;p&i|s[u]&i&&(s[u]|=i),l&=~p}}function gc(s,i){var l=i&-i;return l=(l&42)!==0?1:ma(l),(l&(s.suspendedLanes|i))!==0?0:l}function ma(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function vs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Dd(){var s=le.p;return s!==0?s:(s=window.event,s===void 0?32:ow(s.type))}function Sr(s,i){var l=le.p;try{return le.p=s,i()}finally{le.p=l}}var Ar=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Ar,nn="__reactProps$"+Ar,Hr="__reactContainer$"+Ar,Io="__reactEvents$"+Ar,np="__reactListeners$"+Ar,jd="__reactHandles$"+Ar,kd="__reactResources$"+Ar,Gr="__reactMarker$"+Ar;function Ro(s){delete s[Ut],delete s[nn],delete s[Io],delete s[np],delete s[jd]}function Kr(s){var i=s[Ut];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Hr]||l[Ut]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=H0(s);s!==null;){if(l=s[Ut])return l;s=H0(s)}return i}s=l,l=s.parentNode}return null}function nr(s){if(s=s[Ut]||s[Hr]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Un(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Qr(s){var i=s[kd];return i||(i=s[kd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ft(s){s[Gr]=!0}var yc=new Set,vc={};function Zr(s,i){Yr(s,i),Yr(s+"Capture",i)}function Yr(s,i){for(vc[s]=i,s=0;s<i.length;s++)yc.add(i[s])}var bc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xc={},_c={};function Od(s){return zt.call(_c,s)?!0:zt.call(xc,s)?!1:bc.test(s)?_c[s]=!0:(xc[s]=!0,!1)}function Co(s,i,l){if(Od(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function Fn(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Bt(s,i,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+u)}}function rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function si(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wc(s,i,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(_){l=""+_,y.call(this,_)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function nt(s){if(!s._valueTracker){var i=si(s)?"checked":"value";s._valueTracker=wc(s,i,""+s[i])}}function pa(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return s&&(u=si(s)?s.checked?"true":"false":s.value),s=u,s!==l?(i.setValue(s),!0):!1}function Xr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ga=/[\n"\\]/g;function Dn(s){return s.replace(ga,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Do(s,i,l,u,p,y,_,T){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),i!=null?_==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+rn(i)):s.value!==""+rn(i)&&(s.value=""+rn(i)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),i!=null?Ec(s,_,rn(i)):l!=null?Ec(s,_,rn(l)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.name=""+rn(T):s.removeAttribute("name")}function Pd(s,i,l,u,p,y,_,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){nt(s);return}l=l!=null?""+rn(l):"",i=i!=null?""+rn(i):l,T||i===s.value||(s.value=i),s.defaultValue=i}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=T?s.checked:!!u,s.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),nt(s)}function Ec(s,i,l){i==="number"&&Xr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ii(s,i,l,u){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+rn(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Md(s,i,l){if(i!=null&&(i=""+rn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+rn(l):""}function ai(s,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(r(92));if(Ke(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=rn(i),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),nt(s)}function jn(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Vd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(s,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":u?s.setProperty(i,l):typeof l!="number"||l===0||Vd.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Sc(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in i)u=i[p],i.hasOwnProperty(p)&&l[p]!==u&&Tc(s,p,u)}else for(var y in i)i.hasOwnProperty(y)&&Tc(s,y,i[y])}function jo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ko(s){return oi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Nr(){}var Ac=null;function rr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var li=null,Jr=null;function ya(s){var i=nr(s);if(i&&(s=i.stateNode)){var l=s[nn]||null;e:switch(s=i.stateNode,i.type){case"input":if(Do(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==s&&u.form===s.form){var p=u[nn]||null;if(!p)throw Error(r(90));Do(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===s.form&&pa(u)}break e;case"textarea":Md(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ii(s,!!l.multiple,i,!1)}}}var Oo=!1;function ci(s,i,l){if(Oo)return s(i,l);Oo=!0;try{var u=s(i);return u}finally{if(Oo=!1,(li!==null||Jr!==null)&&(Dh(),li&&(i=li,s=Jr,Jr=li=null,ya(i),s)))for(i=0;i<s.length;i++)ya(s[i])}}function Ir(s,i){var l=s.stateNode;if(l===null)return null;var u=l[nn]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(sr)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){va=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{va=!1}var Wr=null,Nc=null,ba=null;function Ic(){if(ba)return ba;var s,i=Nc,l=i.length,u,p="value"in Wr?Wr.value:Wr.textContent,y=p.length;for(s=0;s<l&&i[s]===p[s];s++);var _=l-s;for(u=1;u<=_&&i[l-u]===p[y-u];u++);return ba=p.slice(s,1<u?1-u:void 0)}function xa(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function bs(){return!0}function Rr(){return!1}function cn(s){function i(l,u,p,y,_){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(l=s[T],this[T]=l?l(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?bs:Rr,this.isPropagationStopped=Rr,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),i}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=cn(xs),ui=b({},xs,{view:0,detail:0}),Rc=cn(ui),di,Po,ts,Mo=b({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ts&&(ts&&s.type==="mousemove"?(di=s.screenX-ts.screenX,Po=s.screenY-ts.screenY):Po=di=0,ts=s),di)},movementY:function(s){return"movementY"in s?s.movementY:Po}}),Cc=cn(Mo),_a=b({},Mo,{dataTransfer:0}),Ld=cn(_a),Ud=b({},ui,{relatedTarget:0}),wa=cn(Ud),Dc=b({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Fd=cn(Dc),Vo=b({},xs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bd=cn(Vo),qd=b({},xs,{data:0}),ns=cn(qd),$d={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kd(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Gd[s])?!!i[s]:!1}function hi(){return Kd}var En=b({},ui,{key:function(s){if(s.key){var i=$d[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=xa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hi,charCode:function(s){return s.type==="keypress"?xa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qd=cn(En),Zd=b({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_s=cn(Zd),f=b({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hi}),x=cn(f),w=b({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=cn(w),q=b({},Mo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=cn(q),fe=b({},xs,{newState:0,oldState:0}),Oe=cn(fe),Ot=[9,13,27,32],We=sr&&"CompositionEvent"in window,yt=null;sr&&"documentMode"in document&&(yt=document.documentMode);var ir=sr&&"TextEvent"in window&&!yt,rs=sr&&(!We||yt&&8<yt&&11>=yt),Cr=" ",Dr=!1;function Ea(s,i){switch(s){case"keyup":return Ot.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lo=!1;function II(s,i){switch(s){case"compositionend":return zo(i);case"keypress":return i.which!==32?null:(Dr=!0,Cr);case"textInput":return s=i.data,s===Cr&&Dr?null:s;default:return null}}function RI(s,i){if(Lo)return s==="compositionend"||!We&&Ea(s,i)?(s=Ic(),ba=Nc=Wr=null,Lo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return rs&&i.locale!=="ko"?null:i.data;default:return null}}var CI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qb(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!CI[s.type]:i==="textarea"}function Zb(s,i,l,u){li?Jr?Jr.push(u):Jr=[u]:li=u,i=zh(i,"onChange"),0<i.length&&(l=new es("onChange","change",null,l,u),s.push({event:l,listeners:i}))}var jc=null,kc=null;function DI(s){D0(s,0)}function Yd(s){var i=Un(s);if(pa(i))return s}function Yb(s,i){if(s==="change")return i}var Xb=!1;if(sr){var rp;if(sr){var sp="oninput"in document;if(!sp){var Jb=document.createElement("div");Jb.setAttribute("oninput","return;"),sp=typeof Jb.oninput=="function"}rp=sp}else rp=!1;Xb=rp&&(!document.documentMode||9<document.documentMode)}function Wb(){jc&&(jc.detachEvent("onpropertychange",ex),kc=jc=null)}function ex(s){if(s.propertyName==="value"&&Yd(kc)){var i=[];Zb(i,kc,s,rr(s)),ci(DI,i)}}function jI(s,i,l){s==="focusin"?(Wb(),jc=i,kc=l,jc.attachEvent("onpropertychange",ex)):s==="focusout"&&Wb()}function kI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yd(kc)}function OI(s,i){if(s==="click")return Yd(i)}function PI(s,i){if(s==="input"||s==="change")return Yd(i)}function MI(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Bn=typeof Object.is=="function"?Object.is:MI;function Oc(s,i){if(Bn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!zt.call(i,p)||!Bn(s[p],i[p]))return!1}return!0}function tx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nx(s,i){var l=tx(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=i&&u>=i)return{node:l,offset:i-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tx(l)}}function rx(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?rx(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function sx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Xr(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Xr(s.document)}return i}function ip(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var VI=sr&&"documentMode"in document&&11>=document.documentMode,Uo=null,ap=null,Pc=null,op=!1;function ix(s,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;op||Uo==null||Uo!==Xr(u)||(u=Uo,"selectionStart"in u&&ip(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pc&&Oc(Pc,u)||(Pc=u,u=zh(ap,"onSelect"),0<u.length&&(i=new es("onSelect","select",null,i,l),s.push({event:i,listeners:u}),i.target=Uo)))}function Ta(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Fo={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},lp={},ax={};sr&&(ax=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Sa(s){if(lp[s])return lp[s];if(!Fo[s])return s;var i=Fo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in ax)return lp[s]=i[l];return s}var ox=Sa("animationend"),lx=Sa("animationiteration"),cx=Sa("animationstart"),zI=Sa("transitionrun"),LI=Sa("transitionstart"),UI=Sa("transitioncancel"),ux=Sa("transitionend"),dx=new Map,cp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cp.push("scrollEnd");function jr(s,i){dx.set(s,i),Zr(i,[s])}var Xd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ar=[],Bo=0,up=0;function Jd(){for(var s=Bo,i=up=Bo=0;i<s;){var l=ar[i];ar[i++]=null;var u=ar[i];ar[i++]=null;var p=ar[i];ar[i++]=null;var y=ar[i];if(ar[i++]=null,u!==null&&p!==null){var _=u.pending;_===null?p.next=p:(p.next=_.next,_.next=p),u.pending=p}y!==0&&hx(l,p,y)}}function Wd(s,i,l,u){ar[Bo++]=s,ar[Bo++]=i,ar[Bo++]=l,ar[Bo++]=u,up|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function dp(s,i,l,u){return Wd(s,i,l,u),eh(s)}function Aa(s,i){return Wd(s,null,null,i),eh(s)}function hx(s,i,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&i!==null&&(p=31-kt(l),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[i]:u.push(i),i.lane=l|536870912),y):null}function eh(s){if(50<ru)throw ru=0,xg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var qo={};function FI(s,i,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(s,i,l,u){return new FI(s,i,l,u)}function hp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ws(s,i){var l=s.alternate;return l===null?(l=qn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function fx(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function th(s,i,l,u,p,y){var _=0;if(u=s,typeof s=="function")hp(s)&&(_=1);else if(typeof s=="string")_=GR(s,l,de.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=qn(31,l,i,p),s.elementType=C,s.lanes=y,s;case O:return Na(l.children,p,y,i);case V:_=8,p|=24;break;case J:return s=qn(12,l,i,p|2),s.elementType=J,s.lanes=y,s;case ce:return s=qn(13,l,i,p),s.elementType=ce,s.lanes=y,s;case me:return s=qn(19,l,i,p),s.elementType=me,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case G:_=10;break e;case Q:_=9;break e;case oe:_=11;break e;case I:_=14;break e;case S:_=16,u=null;break e}_=29,l=Error(r(130,s===null?"null":typeof s,"")),u=null}return i=qn(_,l,i,p),i.elementType=s,i.type=u,i.lanes=y,i}function Na(s,i,l,u){return s=qn(7,s,u,i),s.lanes=l,s}function fp(s,i,l){return s=qn(6,s,null,i),s.lanes=l,s}function mx(s){var i=qn(18,null,null,0);return i.stateNode=s,i}function mp(s,i,l){return i=qn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var px=new WeakMap;function or(s,i){if(typeof s=="object"&&s!==null){var l=px.get(s);return l!==void 0?l:(i={value:s,source:i,stack:hc(i)},px.set(s,i),i)}return{value:s,source:i,stack:hc(i)}}var $o=[],Ho=0,nh=null,Mc=0,lr=[],cr=0,fi=null,ss=1,is="";function Es(s,i){$o[Ho++]=Mc,$o[Ho++]=nh,nh=s,Mc=i}function gx(s,i,l){lr[cr++]=ss,lr[cr++]=is,lr[cr++]=fi,fi=s;var u=ss;s=is;var p=32-kt(u)-1;u&=~(1<<p),l+=1;var y=32-kt(i)+p;if(30<y){var _=p-p%5;y=(u&(1<<_)-1).toString(32),u>>=_,p-=_,ss=1<<32-kt(i)+p|l<<p|u,is=y+s}else ss=1<<y|l<<p|u,is=s}function pp(s){s.return!==null&&(Es(s,1),gx(s,1,0))}function gp(s){for(;s===nh;)nh=$o[--Ho],$o[Ho]=null,Mc=$o[--Ho],$o[Ho]=null;for(;s===fi;)fi=lr[--cr],lr[cr]=null,is=lr[--cr],lr[cr]=null,ss=lr[--cr],lr[cr]=null}function yx(s,i){lr[cr++]=ss,lr[cr++]=is,lr[cr++]=fi,ss=i.id,is=i.overflow,fi=s}var un=null,mt=null,Qe=!1,mi=null,ur=!1,yp=Error(r(519));function pi(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vc(or(i,s)),yp}function vx(s){var i=s.stateNode,l=s.type,u=s.memoizedProps;switch(i[Ut]=s,i[nn]=u,l){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(l=0;l<iu.length;l++)Be(iu[l],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),Pd(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),ai(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||P0(i.textContent,l)?(u.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),u.onScroll!=null&&Be("scroll",i),u.onScrollEnd!=null&&Be("scrollend",i),u.onClick!=null&&(i.onclick=Nr),i=!0):i=!1,i||pi(s,!0)}function bx(s){for(un=s.return;un;)switch(un.tag){case 5:case 31:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:un=un.return}}function Go(s){if(s!==un)return!1;if(!Qe)return bx(s),Qe=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Pg(s.type,s.memoizedProps)),l=!l),l&&mt&&pi(s),bx(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));mt=$0(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));mt=$0(s)}else i===27?(i=mt,Ri(s.type)?(s=Ug,Ug=null,mt=s):mt=i):mt=un?hr(s.stateNode.nextSibling):null;return!0}function Ia(){mt=un=null,Qe=!1}function vp(){var s=mi;return s!==null&&(Mn===null?Mn=s:Mn.push.apply(Mn,s),mi=null),s}function Vc(s){mi===null?mi=[s]:mi.push(s)}var bp=j(null),Ra=null,Ts=null;function gi(s,i,l){ae(bp,i._currentValue),i._currentValue=l}function Ss(s){s._currentValue=bp.current,Z(bp)}function xp(s,i,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),s===l)break;s=s.return}}function _p(s,i,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=p;for(var P=0;P<i.length;P++)if(T.context===i[P]){y.lanes|=l,T=y.alternate,T!==null&&(T.lanes|=l),xp(y.return,l,s),u||(_=null);break e}y=T.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(r(341));_.lanes|=l,y=_.alternate,y!==null&&(y.lanes|=l),xp(_,l,s),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===s){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Ko(s,i,l,u){s=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=p.type;Bn(p.pendingProps.value,_.value)||(s!==null?s.push(T):s=[T])}}else if(p===Ae.current){if(_=p.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(uu):s=[uu])}p=p.return}s!==null&&_p(i,s,l,u),i.flags|=262144}function rh(s){for(s=s.firstContext;s!==null;){if(!Bn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ca(s){Ra=s,Ts=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function dn(s){return xx(Ra,s)}function sh(s,i){return Ra===null&&Ca(s),xx(s,i)}function xx(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ts===null){if(s===null)throw Error(r(308));Ts=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Ts=Ts.next=i;return l}var BI=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},qI=t.unstable_scheduleCallback,$I=t.unstable_NormalPriority,qt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wp(){return{controller:new BI,data:new Map,refCount:0}}function zc(s){s.refCount--,s.refCount===0&&qI($I,function(){s.controller.abort()})}var Lc=null,Ep=0,Qo=0,Zo=null;function HI(s,i){if(Lc===null){var l=Lc=[];Ep=0,Qo=Ag(),Zo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ep++,i.then(_x,_x),i}function _x(){if(--Ep===0&&Lc!==null){Zo!==null&&(Zo.status="fulfilled");var s=Lc;Lc=null,Qo=0,Zo=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function GI(s,i){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var wx=X.S;X.S=function(s,i){i0=wn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&HI(s,i),wx!==null&&wx(s,i)};var Da=j(null);function Tp(){var s=Da.current;return s!==null?s:ft.pooledCache}function ih(s,i){i===null?ae(Da,Da.current):ae(Da,i.pool)}function Ex(){var s=Tp();return s===null?null:{parent:qt._currentValue,pool:s}}var Yo=Error(r(460)),Sp=Error(r(474)),ah=Error(r(542)),oh={then:function(){}};function Tx(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Sx(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Nr,Nr),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Nx(s),s;default:if(typeof i.status=="string")i.then(Nr,Nr);else{if(s=ft,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(u){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=u}},function(u){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Nx(s),s}throw ka=i,Yo}}function ja(s){try{var i=s._init;return i(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ka=l,Yo):l}}var ka=null;function Ax(){if(ka===null)throw Error(r(459));var s=ka;return ka=null,s}function Nx(s){if(s===Yo||s===ah)throw Error(r(483))}var Xo=null,Uc=0;function lh(s){var i=Uc;return Uc+=1,Xo===null&&(Xo=[]),Sx(Xo,s,i)}function Fc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function ch(s,i){throw i.$$typeof===E?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Ix(s){function i(F,L){if(s){var $=F.deletions;$===null?(F.deletions=[L],F.flags|=16):$.push(L)}}function l(F,L){if(!s)return null;for(;L!==null;)i(F,L),L=L.sibling;return null}function u(F){for(var L=new Map;F!==null;)F.key!==null?L.set(F.key,F):L.set(F.index,F),F=F.sibling;return L}function p(F,L){return F=ws(F,L),F.index=0,F.sibling=null,F}function y(F,L,$){return F.index=$,s?($=F.alternate,$!==null?($=$.index,$<L?(F.flags|=67108866,L):$):(F.flags|=67108866,L)):(F.flags|=1048576,L)}function _(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function T(F,L,$,re){return L===null||L.tag!==6?(L=fp($,F.mode,re),L.return=F,L):(L=p(L,$),L.return=F,L)}function P(F,L,$,re){var Ee=$.type;return Ee===O?ne(F,L,$.props.children,re,$.key):L!==null&&(L.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&ja(Ee)===L.type)?(L=p(L,$.props),Fc(L,$),L.return=F,L):(L=th($.type,$.key,$.props,null,F.mode,re),Fc(L,$),L.return=F,L)}function H(F,L,$,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==$.containerInfo||L.stateNode.implementation!==$.implementation?(L=mp($,F.mode,re),L.return=F,L):(L=p(L,$.children||[]),L.return=F,L)}function ne(F,L,$,re,Ee){return L===null||L.tag!==7?(L=Na($,F.mode,re,Ee),L.return=F,L):(L=p(L,$),L.return=F,L)}function ie(F,L,$){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=fp(""+L,F.mode,$),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return $=th(L.type,L.key,L.props,null,F.mode,$),Fc($,L),$.return=F,$;case M:return L=mp(L,F.mode,$),L.return=F,L;case S:return L=ja(L),ie(F,L,$)}if(Ke(L)||U(L))return L=Na(L,F.mode,$,null),L.return=F,L;if(typeof L.then=="function")return ie(F,lh(L),$);if(L.$$typeof===G)return ie(F,sh(F,L),$);ch(F,L)}return null}function K(F,L,$,re){var Ee=L!==null?L.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ee!==null?null:T(F,L,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return $.key===Ee?P(F,L,$,re):null;case M:return $.key===Ee?H(F,L,$,re):null;case S:return $=ja($),K(F,L,$,re)}if(Ke($)||U($))return Ee!==null?null:ne(F,L,$,re,null);if(typeof $.then=="function")return K(F,L,lh($),re);if($.$$typeof===G)return K(F,L,sh(F,$),re);ch(F,$)}return null}function W(F,L,$,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get($)||null,T(L,F,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case A:return F=F.get(re.key===null?$:re.key)||null,P(L,F,re,Ee);case M:return F=F.get(re.key===null?$:re.key)||null,H(L,F,re,Ee);case S:return re=ja(re),W(F,L,$,re,Ee)}if(Ke(re)||U(re))return F=F.get($)||null,ne(L,F,re,Ee,null);if(typeof re.then=="function")return W(F,L,$,lh(re),Ee);if(re.$$typeof===G)return W(F,L,$,sh(L,re),Ee);ch(L,re)}return null}function ge(F,L,$,re){for(var Ee=null,Ye=null,xe=L,Ve=L=0,$e=null;xe!==null&&Ve<$.length;Ve++){xe.index>Ve?($e=xe,xe=null):$e=xe.sibling;var Xe=K(F,xe,$[Ve],re);if(Xe===null){xe===null&&(xe=$e);break}s&&xe&&Xe.alternate===null&&i(F,xe),L=y(Xe,L,Ve),Ye===null?Ee=Xe:Ye.sibling=Xe,Ye=Xe,xe=$e}if(Ve===$.length)return l(F,xe),Qe&&Es(F,Ve),Ee;if(xe===null){for(;Ve<$.length;Ve++)xe=ie(F,$[Ve],re),xe!==null&&(L=y(xe,L,Ve),Ye===null?Ee=xe:Ye.sibling=xe,Ye=xe);return Qe&&Es(F,Ve),Ee}for(xe=u(xe);Ve<$.length;Ve++)$e=W(xe,F,Ve,$[Ve],re),$e!==null&&(s&&$e.alternate!==null&&xe.delete($e.key===null?Ve:$e.key),L=y($e,L,Ve),Ye===null?Ee=$e:Ye.sibling=$e,Ye=$e);return s&&xe.forEach(function(Oi){return i(F,Oi)}),Qe&&Es(F,Ve),Ee}function Ie(F,L,$,re){if($==null)throw Error(r(151));for(var Ee=null,Ye=null,xe=L,Ve=L=0,$e=null,Xe=$.next();xe!==null&&!Xe.done;Ve++,Xe=$.next()){xe.index>Ve?($e=xe,xe=null):$e=xe.sibling;var Oi=K(F,xe,Xe.value,re);if(Oi===null){xe===null&&(xe=$e);break}s&&xe&&Oi.alternate===null&&i(F,xe),L=y(Oi,L,Ve),Ye===null?Ee=Oi:Ye.sibling=Oi,Ye=Oi,xe=$e}if(Xe.done)return l(F,xe),Qe&&Es(F,Ve),Ee;if(xe===null){for(;!Xe.done;Ve++,Xe=$.next())Xe=ie(F,Xe.value,re),Xe!==null&&(L=y(Xe,L,Ve),Ye===null?Ee=Xe:Ye.sibling=Xe,Ye=Xe);return Qe&&Es(F,Ve),Ee}for(xe=u(xe);!Xe.done;Ve++,Xe=$.next())Xe=W(xe,F,Ve,Xe.value,re),Xe!==null&&(s&&Xe.alternate!==null&&xe.delete(Xe.key===null?Ve:Xe.key),L=y(Xe,L,Ve),Ye===null?Ee=Xe:Ye.sibling=Xe,Ye=Xe);return s&&xe.forEach(function(rC){return i(F,rC)}),Qe&&Es(F,Ve),Ee}function ht(F,L,$,re){if(typeof $=="object"&&$!==null&&$.type===O&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case A:e:{for(var Ee=$.key;L!==null;){if(L.key===Ee){if(Ee=$.type,Ee===O){if(L.tag===7){l(F,L.sibling),re=p(L,$.props.children),re.return=F,F=re;break e}}else if(L.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&ja(Ee)===L.type){l(F,L.sibling),re=p(L,$.props),Fc(re,$),re.return=F,F=re;break e}l(F,L);break}else i(F,L);L=L.sibling}$.type===O?(re=Na($.props.children,F.mode,re,$.key),re.return=F,F=re):(re=th($.type,$.key,$.props,null,F.mode,re),Fc(re,$),re.return=F,F=re)}return _(F);case M:e:{for(Ee=$.key;L!==null;){if(L.key===Ee)if(L.tag===4&&L.stateNode.containerInfo===$.containerInfo&&L.stateNode.implementation===$.implementation){l(F,L.sibling),re=p(L,$.children||[]),re.return=F,F=re;break e}else{l(F,L);break}else i(F,L);L=L.sibling}re=mp($,F.mode,re),re.return=F,F=re}return _(F);case S:return $=ja($),ht(F,L,$,re)}if(Ke($))return ge(F,L,$,re);if(U($)){if(Ee=U($),typeof Ee!="function")throw Error(r(150));return $=Ee.call($),Ie(F,L,$,re)}if(typeof $.then=="function")return ht(F,L,lh($),re);if($.$$typeof===G)return ht(F,L,sh(F,$),re);ch(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,L!==null&&L.tag===6?(l(F,L.sibling),re=p(L,$),re.return=F,F=re):(l(F,L),re=fp($,F.mode,re),re.return=F,F=re),_(F)):l(F,L)}return function(F,L,$,re){try{Uc=0;var Ee=ht(F,L,$,re);return Xo=null,Ee}catch(xe){if(xe===Yo||xe===ah)throw xe;var Ye=qn(29,xe,null,F.mode);return Ye.lanes=re,Ye.return=F,Ye}}}var Oa=Ix(!0),Rx=Ix(!1),yi=!1;function Ap(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Np(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function vi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function bi(s,i,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,i=eh(s),hx(s,null,l),i}return Wd(s,u,i,l),eh(s)}function Bc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,pc(s,l)}}function Ip(s,i){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var Rp=!1;function qc(){if(Rp){var s=Zo;if(s!==null)throw s}}function $c(s,i,l,u){Rp=!1;var p=s.updateQueue;yi=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var P=T,H=P.next;P.next=null,_===null?y=H:_.next=H,_=P;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,T=ne.lastBaseUpdate,T!==_&&(T===null?ne.firstBaseUpdate=H:T.next=H,ne.lastBaseUpdate=P))}if(y!==null){var ie=p.baseState;_=0,ne=H=P=null,T=y;do{var K=T.lane&-536870913,W=K!==T.lane;if(W?(qe&K)===K:(u&K)===K){K!==0&&K===Qo&&(Rp=!0),ne!==null&&(ne=ne.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ge=s,Ie=T;K=i;var ht=l;switch(Ie.tag){case 1:if(ge=Ie.payload,typeof ge=="function"){ie=ge.call(ht,ie,K);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ie.payload,K=typeof ge=="function"?ge.call(ht,ie,K):ge,K==null)break e;ie=b({},ie,K);break e;case 2:yi=!0}}K=T.callback,K!==null&&(s.flags|=64,W&&(s.flags|=8192),W=p.callbacks,W===null?p.callbacks=[K]:W.push(K))}else W={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ne===null?(H=ne=W,P=ie):ne=ne.next=W,_|=K;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;W=T,T=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);ne===null&&(P=ie),p.baseState=P,p.firstBaseUpdate=H,p.lastBaseUpdate=ne,y===null&&(p.shared.lanes=0),Ti|=_,s.lanes=_,s.memoizedState=ie}}function Cx(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Dx(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Cx(l[s],i)}var Jo=j(null),uh=j(0);function jx(s,i){s=Os,ae(uh,s),ae(Jo,i),Os=s|i.baseLanes}function Cp(){ae(uh,Os),ae(Jo,Jo.current)}function Dp(){Os=uh.current,Z(Jo),Z(uh)}var $n=j(null),dr=null;function xi(s){var i=s.alternate;ae(Pt,Pt.current&1),ae($n,s),dr===null&&(i===null||Jo.current!==null||i.memoizedState!==null)&&(dr=s)}function jp(s){ae(Pt,Pt.current),ae($n,s),dr===null&&(dr=s)}function kx(s){s.tag===22?(ae(Pt,Pt.current),ae($n,s),dr===null&&(dr=s)):_i()}function _i(){ae(Pt,Pt.current),ae($n,$n.current)}function Hn(s){Z($n),dr===s&&(dr=null),Z(Pt)}var Pt=j(0);function dh(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||zg(l)||Lg(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var As=0,Pe=null,ut=null,$t=null,hh=!1,Wo=!1,Pa=!1,fh=0,Hc=0,el=null,KI=0;function Nt(){throw Error(r(321))}function kp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Bn(s[l],i[l]))return!1;return!0}function Op(s,i,l,u,p,y){return As=y,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=s===null||s.memoizedState===null?g_:Zp,Pa=!1,y=l(u,p),Pa=!1,Wo&&(y=Px(i,l,u,p)),Ox(s),y}function Ox(s){X.H=Qc;var i=ut!==null&&ut.next!==null;if(As=0,$t=ut=Pe=null,hh=!1,Hc=0,el=null,i)throw Error(r(300));s===null||Ht||(s=s.dependencies,s!==null&&rh(s)&&(Ht=!0))}function Px(s,i,l,u){Pe=s;var p=0;do{if(Wo&&(el=null),Hc=0,Wo=!1,25<=p)throw Error(r(301));if(p+=1,$t=ut=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}X.H=y_,y=i(l,u)}while(Wo);return y}function QI(){var s=X.H,i=s.useState()[0];return i=typeof i.then=="function"?Gc(i):i,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Pe.flags|=1024),i}function Pp(){var s=fh!==0;return fh=0,s}function Mp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Vp(s){if(hh){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}hh=!1}As=0,$t=ut=Pe=null,Wo=!1,Hc=fh=0,el=null}function Tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Pe.memoizedState=$t=s:$t=$t.next=s,$t}function Mt(){if(ut===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var i=$t===null?Pe.memoizedState:$t.next;if(i!==null)$t=i,ut=s;else{if(s===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},$t===null?Pe.memoizedState=$t=s:$t=$t.next=s}return $t}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gc(s){var i=Hc;return Hc+=1,el===null&&(el=[]),s=Sx(el,s,i),i=Pe,($t===null?i.memoizedState:$t.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?g_:Zp),s}function ph(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Gc(s);if(s.$$typeof===G)return dn(s)}throw Error(r(438,String(s)))}function zp(s){var i=null,l=Pe.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=mh(),Pe.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),u=0;u<s;u++)l[u]=D;return i.index++,l}function Ns(s,i){return typeof i=="function"?i(s):i}function gh(s){var i=Mt();return Lp(i,ut,s)}function Lp(s,i,l){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}i.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{i=p.next;var T=_=null,P=null,H=i,ne=!1;do{var ie=H.lane&-536870913;if(ie!==H.lane?(qe&ie)===ie:(As&ie)===ie){var K=H.revertLane;if(K===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ie===Qo&&(ne=!0);else if((As&K)===K){H=H.next,K===Qo&&(ne=!0);continue}else ie={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},P===null?(T=P=ie,_=y):P=P.next=ie,Pe.lanes|=K,Ti|=K;ie=H.action,Pa&&l(y,ie),y=H.hasEagerState?H.eagerState:l(y,ie)}else K={lane:ie,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},P===null?(T=P=K,_=y):P=P.next=K,Pe.lanes|=ie,Ti|=ie;H=H.next}while(H!==null&&H!==i);if(P===null?_=y:P.next=T,!Bn(y,s.memoizedState)&&(Ht=!0,ne&&(l=Zo,l!==null)))throw l;s.memoizedState=y,s.baseState=_,s.baseQueue=P,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Up(s){var i=Mt(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do y=s(y,_.action),_=_.next;while(_!==p);Bn(y,i.memoizedState)||(Ht=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,u]}function Mx(s,i,l){var u=Pe,p=Mt(),y=Qe;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=i();var _=!Bn((ut||p).memoizedState,l);if(_&&(p.memoizedState=l,Ht=!0),p=p.queue,qp(Lx.bind(null,u,p,s),[s]),p.getSnapshot!==i||_||$t!==null&&$t.memoizedState.tag&1){if(u.flags|=2048,tl(9,{destroy:void 0},zx.bind(null,u,p,l,i),null),ft===null)throw Error(r(349));y||(As&127)!==0||Vx(u,i,l)}return l}function Vx(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Pe.updateQueue,i===null?(i=mh(),Pe.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function zx(s,i,l,u){i.value=l,i.getSnapshot=u,Ux(i)&&Fx(s)}function Lx(s,i,l){return l(function(){Ux(i)&&Fx(s)})}function Ux(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Bn(s,l)}catch{return!0}}function Fx(s){var i=Aa(s,2);i!==null&&Vn(i,s,2)}function Fp(s){var i=Tn();if(typeof s=="function"){var l=s;if(s=l(),Pa){tr(!0);try{l()}finally{tr(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:s},i}function Bx(s,i,l,u){return s.baseState=l,Lp(s,ut,typeof u=="function"?u:Ns)}function ZI(s,i,l,u,p){if(bh(s))throw Error(r(485));if(s=i.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};X.T!==null?l(!0):y.isTransition=!1,u(y),l=i.pending,l===null?(y.next=i.pending=y,qx(i,y)):(y.next=l.next,i.pending=l.next=y)}}function qx(s,i){var l=i.action,u=i.payload,p=s.state;if(i.isTransition){var y=X.T,_={};X.T=_;try{var T=l(p,u),P=X.S;P!==null&&P(_,T),$x(s,i,T)}catch(H){Bp(s,i,H)}finally{y!==null&&_.types!==null&&(y.types=_.types),X.T=y}}else try{y=l(p,u),$x(s,i,y)}catch(H){Bp(s,i,H)}}function $x(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Hx(s,i,u)},function(u){return Bp(s,i,u)}):Hx(s,i,l)}function Hx(s,i,l){i.status="fulfilled",i.value=l,Gx(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,qx(s,l)))}function Bp(s,i,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,Gx(i),i=i.next;while(i!==u)}s.action=null}function Gx(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function Kx(s,i){return i}function Qx(s,i){if(Qe){var l=ft.formState;if(l!==null){e:{var u=Pe;if(Qe){if(mt){t:{for(var p=mt,y=ur;p.nodeType!==8;){if(!y){p=null;break t}if(p=hr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){mt=hr(p.nextSibling),u=p.data==="F!";break e}}pi(u)}u=!1}u&&(i=l[0])}}return l=Tn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kx,lastRenderedState:i},l.queue=u,l=f_.bind(null,Pe,u),u.dispatch=l,u=Fp(!1),y=Qp.bind(null,Pe,!1,u.queue),u=Tn(),p={state:i,dispatch:null,action:s,pending:null},u.queue=p,l=ZI.bind(null,Pe,p,y,l),p.dispatch=l,u.memoizedState=s,[i,l,!1]}function Zx(s){var i=Mt();return Yx(i,ut,s)}function Yx(s,i,l){if(i=Lp(s,i,Kx)[0],s=gh(Ns)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Gc(i)}catch(_){throw _===Yo?ah:_}else u=i;i=Mt();var p=i.queue,y=p.dispatch;return l!==i.memoizedState&&(Pe.flags|=2048,tl(9,{destroy:void 0},YI.bind(null,p,l),null)),[u,y,s]}function YI(s,i){s.action=i}function Xx(s){var i=Mt(),l=ut;if(l!==null)return Yx(i,l,s);Mt(),i=i.memoizedState,l=Mt();var u=l.queue.dispatch;return l.memoizedState=s,[i,u,!1]}function tl(s,i,l,u){return s={tag:s,create:l,deps:u,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=mh(),Pe.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,i.lastEffect=s),s}function Jx(){return Mt().memoizedState}function yh(s,i,l,u){var p=Tn();Pe.flags|=s,p.memoizedState=tl(1|i,{destroy:void 0},l,u===void 0?null:u)}function vh(s,i,l,u){var p=Mt();u=u===void 0?null:u;var y=p.memoizedState.inst;ut!==null&&u!==null&&kp(u,ut.memoizedState.deps)?p.memoizedState=tl(i,y,l,u):(Pe.flags|=s,p.memoizedState=tl(1|i,y,l,u))}function Wx(s,i){yh(8390656,8,s,i)}function qp(s,i){vh(2048,8,s,i)}function XI(s){Pe.flags|=4;var i=Pe.updateQueue;if(i===null)i=mh(),Pe.updateQueue=i,i.events=[s];else{var l=i.events;l===null?i.events=[s]:l.push(s)}}function e_(s){var i=Mt().memoizedState;return XI({ref:i,nextImpl:s}),function(){if((et&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function t_(s,i){return vh(4,2,s,i)}function n_(s,i){return vh(4,4,s,i)}function r_(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function s_(s,i,l){l=l!=null?l.concat([s]):null,vh(4,4,r_.bind(null,i,s),l)}function $p(){}function i_(s,i){var l=Mt();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&kp(i,u[1])?u[0]:(l.memoizedState=[s,i],s)}function a_(s,i){var l=Mt();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&kp(i,u[1]))return u[0];if(u=s(),Pa){tr(!0);try{s()}finally{tr(!1)}}return l.memoizedState=[u,i],u}function Hp(s,i,l){return l===void 0||(As&1073741824)!==0&&(qe&261930)===0?s.memoizedState=i:(s.memoizedState=l,s=o0(),Pe.lanes|=s,Ti|=s,l)}function o_(s,i,l,u){return Bn(l,i)?l:Jo.current!==null?(s=Hp(s,l,u),Bn(s,i)||(Ht=!0),s):(As&42)===0||(As&1073741824)!==0&&(qe&261930)===0?(Ht=!0,s.memoizedState=l):(s=o0(),Pe.lanes|=s,Ti|=s,i)}function l_(s,i,l,u,p){var y=le.p;le.p=y!==0&&8>y?y:8;var _=X.T,T={};X.T=T,Qp(s,!1,i,l);try{var P=p(),H=X.S;if(H!==null&&H(T,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ne=GI(P,u);Kc(s,i,ne,Qn(s))}else Kc(s,i,u,Qn(s))}catch(ie){Kc(s,i,{then:function(){},status:"rejected",reason:ie},Qn())}finally{le.p=y,_!==null&&T.types!==null&&(_.types=T.types),X.T=_}}function JI(){}function Gp(s,i,l,u){if(s.tag!==5)throw Error(r(476));var p=c_(s).queue;l_(s,p,i,ee,l===null?JI:function(){return u_(s),l(u)})}function c_(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:ee},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function u_(s){var i=c_(s);i.next===null&&(i=s.alternate.memoizedState),Kc(s,i.next.queue,{},Qn())}function Kp(){return dn(uu)}function d_(){return Mt().memoizedState}function h_(){return Mt().memoizedState}function WI(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Qn();s=vi(l);var u=bi(i,s,l);u!==null&&(Vn(u,i,l),Bc(u,i,l)),i={cache:wp()},s.payload=i;return}i=i.return}}function eR(s,i,l){var u=Qn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bh(s)?m_(i,l):(l=dp(s,i,l,u),l!==null&&(Vn(l,s,u),p_(l,i,u)))}function f_(s,i,l){var u=Qn();Kc(s,i,l,u)}function Kc(s,i,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(bh(s))m_(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var _=i.lastRenderedState,T=y(_,l);if(p.hasEagerState=!0,p.eagerState=T,Bn(T,_))return Wd(s,i,p,0),ft===null&&Jd(),!1}catch{}if(l=dp(s,i,p,u),l!==null)return Vn(l,s,u),p_(l,i,u),!0}return!1}function Qp(s,i,l,u){if(u={lane:2,revertLane:Ag(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},bh(s)){if(i)throw Error(r(479))}else i=dp(s,l,u,2),i!==null&&Vn(i,s,2)}function bh(s){var i=s.alternate;return s===Pe||i!==null&&i===Pe}function m_(s,i){Wo=hh=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function p_(s,i,l){if((l&4194048)!==0){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,pc(s,l)}}var Qc={readContext:dn,use:ph,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Qc.useEffectEvent=Nt;var g_={readContext:dn,use:ph,useCallback:function(s,i){return Tn().memoizedState=[s,i===void 0?null:i],s},useContext:dn,useEffect:Wx,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,yh(4194308,4,r_.bind(null,i,s),l)},useLayoutEffect:function(s,i){return yh(4194308,4,s,i)},useInsertionEffect:function(s,i){yh(4,2,s,i)},useMemo:function(s,i){var l=Tn();i=i===void 0?null:i;var u=s();if(Pa){tr(!0);try{s()}finally{tr(!1)}}return l.memoizedState=[u,i],u},useReducer:function(s,i,l){var u=Tn();if(l!==void 0){var p=l(i);if(Pa){tr(!0);try{l(i)}finally{tr(!1)}}}else p=i;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=eR.bind(null,Pe,s),[u.memoizedState,s]},useRef:function(s){var i=Tn();return s={current:s},i.memoizedState=s},useState:function(s){s=Fp(s);var i=s.queue,l=f_.bind(null,Pe,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:$p,useDeferredValue:function(s,i){var l=Tn();return Hp(l,s,i)},useTransition:function(){var s=Fp(!1);return s=l_.bind(null,Pe,s.queue,!0,!1),Tn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var u=Pe,p=Tn();if(Qe){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),ft===null)throw Error(r(349));(qe&127)!==0||Vx(u,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,Wx(Lx.bind(null,u,y,s),[s]),u.flags|=2048,tl(9,{destroy:void 0},zx.bind(null,u,y,l,i),null),l},useId:function(){var s=Tn(),i=ft.identifierPrefix;if(Qe){var l=is,u=ss;l=(u&~(1<<32-kt(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=fh++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=KI++,i="_"+i+"r_"+l.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:Kp,useFormState:Qx,useActionState:Qx,useOptimistic:function(s){var i=Tn();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Qp.bind(null,Pe,!0,l),l.dispatch=i,[s,i]},useMemoCache:zp,useCacheRefresh:function(){return Tn().memoizedState=WI.bind(null,Pe)},useEffectEvent:function(s){var i=Tn(),l={impl:s};return i.memoizedState=l,function(){if((et&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Zp={readContext:dn,use:ph,useCallback:i_,useContext:dn,useEffect:qp,useImperativeHandle:s_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:a_,useReducer:gh,useRef:Jx,useState:function(){return gh(Ns)},useDebugValue:$p,useDeferredValue:function(s,i){var l=Mt();return o_(l,ut.memoizedState,s,i)},useTransition:function(){var s=gh(Ns)[0],i=Mt().memoizedState;return[typeof s=="boolean"?s:Gc(s),i]},useSyncExternalStore:Mx,useId:d_,useHostTransitionStatus:Kp,useFormState:Zx,useActionState:Zx,useOptimistic:function(s,i){var l=Mt();return Bx(l,ut,s,i)},useMemoCache:zp,useCacheRefresh:h_};Zp.useEffectEvent=e_;var y_={readContext:dn,use:ph,useCallback:i_,useContext:dn,useEffect:qp,useImperativeHandle:s_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:a_,useReducer:Up,useRef:Jx,useState:function(){return Up(Ns)},useDebugValue:$p,useDeferredValue:function(s,i){var l=Mt();return ut===null?Hp(l,s,i):o_(l,ut.memoizedState,s,i)},useTransition:function(){var s=Up(Ns)[0],i=Mt().memoizedState;return[typeof s=="boolean"?s:Gc(s),i]},useSyncExternalStore:Mx,useId:d_,useHostTransitionStatus:Kp,useFormState:Xx,useActionState:Xx,useOptimistic:function(s,i){var l=Mt();return ut!==null?Bx(l,ut,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:zp,useCacheRefresh:h_};y_.useEffectEvent=e_;function Yp(s,i,l,u){i=s.memoizedState,l=l(u,i),l=l==null?i:b({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Xp={enqueueSetState:function(s,i,l){s=s._reactInternals;var u=Qn(),p=vi(u);p.payload=i,l!=null&&(p.callback=l),i=bi(s,p,u),i!==null&&(Vn(i,s,u),Bc(i,s,u))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var u=Qn(),p=vi(u);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=bi(s,p,u),i!==null&&(Vn(i,s,u),Bc(i,s,u))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Qn(),u=vi(l);u.tag=2,i!=null&&(u.callback=i),i=bi(s,u,l),i!==null&&(Vn(i,s,l),Bc(i,s,l))}};function v_(s,i,l,u,p,y,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,_):i.prototype&&i.prototype.isPureReactComponent?!Oc(l,u)||!Oc(p,y):!0}function b_(s,i,l,u){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==s&&Xp.enqueueReplaceState(i,i.state,null)}function Ma(s,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(s=s.defaultProps){l===i&&(l=b({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}function x_(s){Xd(s)}function __(s){console.error(s)}function w_(s){Xd(s)}function xh(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function E_(s,i,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Jp(s,i,l){return l=vi(l),l.tag=3,l.payload={element:null},l.callback=function(){xh(s,i)},l}function T_(s){return s=vi(s),s.tag=3,s}function S_(s,i,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){E_(i,l,u)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){E_(i,l,u),typeof p!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function tR(s,i,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Ko(i,l,p,!0),l=$n.current,l!==null){switch(l.tag){case 31:case 13:return dr===null?jh():l.alternate===null&&It===0&&(It=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===oh?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Eg(s,u,p)),!1;case 22:return l.flags|=65536,u===oh?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Eg(s,u,p)),!1}throw Error(r(435,l.tag))}return Eg(s,u,p),jh(),!1}if(Qe)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,u!==yp&&(s=Error(r(422),{cause:u}),Vc(or(s,l)))):(u!==yp&&(i=Error(r(423),{cause:u}),Vc(or(i,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=or(u,l),p=Jp(s.stateNode,u,p),Ip(s,p),It!==4&&(It=2)),!1;var y=Error(r(520),{cause:u});if(y=or(y,l),nu===null?nu=[y]:nu.push(y),It!==4&&(It=2),i===null)return!0;u=or(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=Jp(l.stateNode,u,s),Ip(l,s),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Si===null||!Si.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=T_(p),S_(p,s,l,u),Ip(l,p),!1}l=l.return}while(l!==null);return!1}var Wp=Error(r(461)),Ht=!1;function hn(s,i,l,u){i.child=s===null?Rx(i,null,l,u):Oa(i,s.child,l,u)}function A_(s,i,l,u,p){l=l.render;var y=i.ref;if("ref"in u){var _={};for(var T in u)T!=="ref"&&(_[T]=u[T])}else _=u;return Ca(i),u=Op(s,i,l,_,y,p),T=Pp(),s!==null&&!Ht?(Mp(s,i,p),Is(s,i,p)):(Qe&&T&&pp(i),i.flags|=1,hn(s,i,u,p),i.child)}function N_(s,i,l,u,p){if(s===null){var y=l.type;return typeof y=="function"&&!hp(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,I_(s,i,y,u,p)):(s=th(l.type,null,u,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,!og(s,p)){var _=y.memoizedProps;if(l=l.compare,l=l!==null?l:Oc,l(_,u)&&s.ref===i.ref)return Is(s,i,p)}return i.flags|=1,s=ws(y,u),s.ref=i.ref,s.return=i,i.child=s}function I_(s,i,l,u,p){if(s!==null){var y=s.memoizedProps;if(Oc(y,u)&&s.ref===i.ref)if(Ht=!1,i.pendingProps=u=y,og(s,p))(s.flags&131072)!==0&&(Ht=!0);else return i.lanes=s.lanes,Is(s,i,p)}return eg(s,i,l,u,p)}function R_(s,i,l,u){var p=u.children,y=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,s!==null){for(u=i.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,i.child=null;return C_(s,i,y,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&ih(i,y!==null?y.cachePool:null),y!==null?jx(i,y):Cp(),kx(i);else return u=i.lanes=536870912,C_(s,i,y!==null?y.baseLanes|l:l,l,u)}else y!==null?(ih(i,y.cachePool),jx(i,y),_i(),i.memoizedState=null):(s!==null&&ih(i,null),Cp(),_i());return hn(s,i,p,l),i.child}function Zc(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function C_(s,i,l,u,p){var y=Tp();return y=y===null?null:{parent:qt._currentValue,pool:y},i.memoizedState={baseLanes:l,cachePool:y},s!==null&&ih(i,null),Cp(),kx(i),s!==null&&Ko(s,i,u,!0),i.childLanes=p,null}function _h(s,i){return i=Eh({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function D_(s,i,l){return Oa(i,s.child,null,l),s=_h(i,i.pendingProps),s.flags|=2,Hn(i),i.memoizedState=null,s}function nR(s,i,l){var u=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Qe){if(u.mode==="hidden")return s=_h(i,u),i.lanes=536870912,Zc(null,s);if(jp(i),(s=mt)?(s=q0(s,ur),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:fi!==null?{id:ss,overflow:is}:null,retryLane:536870912,hydrationErrors:null},l=mx(s),l.return=i,i.child=l,un=i,mt=null)):s=null,s===null)throw pi(i);return i.lanes=536870912,null}return _h(i,u)}var y=s.memoizedState;if(y!==null){var _=y.dehydrated;if(jp(i),p)if(i.flags&256)i.flags&=-257,i=D_(s,i,l);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ht||Ko(s,i,l,!1),p=(l&s.childLanes)!==0,Ht||p){if(u=ft,u!==null&&(_=gc(u,l),_!==0&&_!==y.retryLane))throw y.retryLane=_,Aa(s,_),Vn(u,s,_),Wp;jh(),i=D_(s,i,l)}else s=y.treeContext,mt=hr(_.nextSibling),un=i,Qe=!0,mi=null,ur=!1,s!==null&&yx(i,s),i=_h(i,u),i.flags|=4096;return i}return s=ws(s.child,{mode:u.mode,children:u.children}),s.ref=i.ref,i.child=s,s.return=i,s}function wh(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function eg(s,i,l,u,p){return Ca(i),l=Op(s,i,l,u,void 0,p),u=Pp(),s!==null&&!Ht?(Mp(s,i,p),Is(s,i,p)):(Qe&&u&&pp(i),i.flags|=1,hn(s,i,l,p),i.child)}function j_(s,i,l,u,p,y){return Ca(i),i.updateQueue=null,l=Px(i,u,l,p),Ox(s),u=Pp(),s!==null&&!Ht?(Mp(s,i,y),Is(s,i,y)):(Qe&&u&&pp(i),i.flags|=1,hn(s,i,l,y),i.child)}function k_(s,i,l,u,p){if(Ca(i),i.stateNode===null){var y=qo,_=l.contextType;typeof _=="object"&&_!==null&&(y=dn(_)),y=new l(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Xp,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},Ap(i),_=l.contextType,y.context=typeof _=="object"&&_!==null?dn(_):qo,y.state=i.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Yp(i,l,_,u),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&Xp.enqueueReplaceState(y,y.state,null),$c(i,u,y,p),qc(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(s===null){y=i.stateNode;var T=i.memoizedProps,P=Ma(l,T);y.props=P;var H=y.context,ne=l.contextType;_=qo,typeof ne=="object"&&ne!==null&&(_=dn(ne));var ie=l.getDerivedStateFromProps;ne=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||H!==_)&&b_(i,y,u,_),yi=!1;var K=i.memoizedState;y.state=K,$c(i,u,y,p),qc(),H=i.memoizedState,T||K!==H||yi?(typeof ie=="function"&&(Yp(i,l,ie,u),H=i.memoizedState),(P=yi||v_(i,l,P,u,K,H,_))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=H),y.props=u,y.state=H,y.context=_,u=P):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,Np(s,i),_=i.memoizedProps,ne=Ma(l,_),y.props=ne,ie=i.pendingProps,K=y.context,H=l.contextType,P=qo,typeof H=="object"&&H!==null&&(P=dn(H)),T=l.getDerivedStateFromProps,(H=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==ie||K!==P)&&b_(i,y,u,P),yi=!1,K=i.memoizedState,y.state=K,$c(i,u,y,p),qc();var W=i.memoizedState;_!==ie||K!==W||yi||s!==null&&s.dependencies!==null&&rh(s.dependencies)?(typeof T=="function"&&(Yp(i,l,T,u),W=i.memoizedState),(ne=yi||v_(i,l,ne,u,K,W,P)||s!==null&&s.dependencies!==null&&rh(s.dependencies))?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,W,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,W,P)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=W),y.props=u,y.state=W,y.context=P,u=ne):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),u=!1)}return y=u,wh(s,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,s!==null&&u?(i.child=Oa(i,s.child,null,p),i.child=Oa(i,null,l,p)):hn(s,i,l,p),i.memoizedState=y.state,s=i.child):s=Is(s,i,p),s}function O_(s,i,l,u){return Ia(),i.flags|=256,hn(s,i,l,u),i.child}var tg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ng(s){return{baseLanes:s,cachePool:Ex()}}function rg(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Kn),s}function P_(s,i,l){var u=i.pendingProps,p=!1,y=(i.flags&128)!==0,_;if((_=y)||(_=s!==null&&s.memoizedState===null?!1:(Pt.current&2)!==0),_&&(p=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,s===null){if(Qe){if(p?xi(i):_i(),(s=mt)?(s=q0(s,ur),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:fi!==null?{id:ss,overflow:is}:null,retryLane:536870912,hydrationErrors:null},l=mx(s),l.return=i,i.child=l,un=i,mt=null)):s=null,s===null)throw pi(i);return Lg(s)?i.lanes=32:i.lanes=536870912,null}var T=u.children;return u=u.fallback,p?(_i(),p=i.mode,T=Eh({mode:"hidden",children:T},p),u=Na(u,p,l,null),T.return=i,u.return=i,T.sibling=u,i.child=T,u=i.child,u.memoizedState=ng(l),u.childLanes=rg(s,_,l),i.memoizedState=tg,Zc(null,u)):(xi(i),sg(i,T))}var P=s.memoizedState;if(P!==null&&(T=P.dehydrated,T!==null)){if(y)i.flags&256?(xi(i),i.flags&=-257,i=ig(s,i,l)):i.memoizedState!==null?(_i(),i.child=s.child,i.flags|=128,i=null):(_i(),T=u.fallback,p=i.mode,u=Eh({mode:"visible",children:u.children},p),T=Na(T,p,l,null),T.flags|=2,u.return=i,T.return=i,u.sibling=T,i.child=u,Oa(i,s.child,null,l),u=i.child,u.memoizedState=ng(l),u.childLanes=rg(s,_,l),i.memoizedState=tg,i=Zc(null,u));else if(xi(i),Lg(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,u=Error(r(419)),u.stack="",u.digest=_,Vc({value:u,source:null,stack:null}),i=ig(s,i,l)}else if(Ht||Ko(s,i,l,!1),_=(l&s.childLanes)!==0,Ht||_){if(_=ft,_!==null&&(u=gc(_,l),u!==0&&u!==P.retryLane))throw P.retryLane=u,Aa(s,u),Vn(_,s,u),Wp;zg(T)||jh(),i=ig(s,i,l)}else zg(T)?(i.flags|=192,i.child=s.child,i=null):(s=P.treeContext,mt=hr(T.nextSibling),un=i,Qe=!0,mi=null,ur=!1,s!==null&&yx(i,s),i=sg(i,u.children),i.flags|=4096);return i}return p?(_i(),T=u.fallback,p=i.mode,P=s.child,H=P.sibling,u=ws(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,H!==null?T=ws(H,T):(T=Na(T,p,l,null),T.flags|=2),T.return=i,u.return=i,u.sibling=T,i.child=u,Zc(null,u),u=i.child,T=s.child.memoizedState,T===null?T=ng(l):(p=T.cachePool,p!==null?(P=qt._currentValue,p=p.parent!==P?{parent:P,pool:P}:p):p=Ex(),T={baseLanes:T.baseLanes|l,cachePool:p}),u.memoizedState=T,u.childLanes=rg(s,_,l),i.memoizedState=tg,Zc(s.child,u)):(xi(i),l=s.child,s=l.sibling,l=ws(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,s!==null&&(_=i.deletions,_===null?(i.deletions=[s],i.flags|=16):_.push(s)),i.child=l,i.memoizedState=null,l)}function sg(s,i){return i=Eh({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Eh(s,i){return s=qn(22,s,null,i),s.lanes=0,s}function ig(s,i,l){return Oa(i,s.child,null,l),s=sg(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function M_(s,i,l){s.lanes|=i;var u=s.alternate;u!==null&&(u.lanes|=i),xp(s.return,i,l)}function ag(s,i,l,u,p,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:y}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=p,_.treeForkCount=y)}function V_(s,i,l){var u=i.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var _=Pt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(Pt,_),hn(s,i,u,l),u=Qe?Mc:0,!T&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&M_(s,l,i);else if(s.tag===19)M_(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&dh(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),ag(i,!1,p,l,y,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&dh(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}ag(i,!0,l,null,y,u);break;case"together":ag(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Is(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Ti|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Ko(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=ws(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=ws(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function og(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&rh(s)))}function rR(s,i,l){switch(i.tag){case 3:At(i,i.stateNode.containerInfo),gi(i,qt,s.memoizedState.cache),Ia();break;case 27:case 5:er(i);break;case 4:At(i,i.stateNode.containerInfo);break;case 10:gi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,jp(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(xi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?P_(s,i,l):(xi(i),s=Is(s,i,l),s!==null?s.sibling:null);xi(i);break;case 19:var p=(s.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Ko(s,i,l,!1),u=(l&i.childLanes)!==0),p){if(u)return V_(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ae(Pt,Pt.current),u)break;return null;case 22:return i.lanes=0,R_(s,i,l,i.pendingProps);case 24:gi(i,qt,s.memoizedState.cache)}return Is(s,i,l)}function z_(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Ht=!0;else{if(!og(s,l)&&(i.flags&128)===0)return Ht=!1,rR(s,i,l);Ht=(s.flags&131072)!==0}else Ht=!1,Qe&&(i.flags&1048576)!==0&&gx(i,Mc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(s=ja(i.elementType),i.type=s,typeof s=="function")hp(s)?(u=Ma(s,u),i.tag=1,i=k_(null,i,s,u,l)):(i.tag=0,i=eg(null,i,s,u,l));else{if(s!=null){var p=s.$$typeof;if(p===oe){i.tag=11,i=A_(null,i,s,u,l);break e}else if(p===I){i.tag=14,i=N_(null,i,s,u,l);break e}}throw i=ze(s)||s,Error(r(306,i,""))}}return i;case 0:return eg(s,i,i.type,i.pendingProps,l);case 1:return u=i.type,p=Ma(u,i.pendingProps),k_(s,i,u,p,l);case 3:e:{if(At(i,i.stateNode.containerInfo),s===null)throw Error(r(387));u=i.pendingProps;var y=i.memoizedState;p=y.element,Np(s,i),$c(i,u,null,l);var _=i.memoizedState;if(u=_.cache,gi(i,qt,u),u!==y.cache&&_p(i,[qt],l,!0),qc(),u=_.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=O_(s,i,u,l);break e}else if(u!==p){p=or(Error(r(424)),i),Vc(p),i=O_(s,i,u,l);break e}else for(s=i.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,mt=hr(s.firstChild),un=i,Qe=!0,mi=null,ur=!0,l=Rx(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ia(),u===p){i=Is(s,i,l);break e}hn(s,i,u,l)}i=i.child}return i;case 26:return wh(s,i),s===null?(l=Z0(i.type,null,i.pendingProps,null))?i.memoizedState=l:Qe||(l=i.type,s=i.pendingProps,u=Lh(je.current).createElement(l),u[Ut]=i,u[nn]=s,fn(u,l,s),Ft(u),i.stateNode=u):i.memoizedState=Z0(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return er(i),s===null&&Qe&&(u=i.stateNode=G0(i.type,i.pendingProps,je.current),un=i,ur=!0,p=mt,Ri(i.type)?(Ug=p,mt=hr(u.firstChild)):mt=p),hn(s,i,i.pendingProps.children,l),wh(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Qe&&((p=u=mt)&&(u=kR(u,i.type,i.pendingProps,ur),u!==null?(i.stateNode=u,un=i,mt=hr(u.firstChild),ur=!1,p=!0):p=!1),p||pi(i)),er(i),p=i.type,y=i.pendingProps,_=s!==null?s.memoizedProps:null,u=y.children,Pg(p,y)?u=null:_!==null&&Pg(p,_)&&(i.flags|=32),i.memoizedState!==null&&(p=Op(s,i,QI,null,null,l),uu._currentValue=p),wh(s,i),hn(s,i,u,l),i.child;case 6:return s===null&&Qe&&((s=l=mt)&&(l=OR(l,i.pendingProps,ur),l!==null?(i.stateNode=l,un=i,mt=null,s=!0):s=!1),s||pi(i)),null;case 13:return P_(s,i,l);case 4:return At(i,i.stateNode.containerInfo),u=i.pendingProps,s===null?i.child=Oa(i,null,u,l):hn(s,i,u,l),i.child;case 11:return A_(s,i,i.type,i.pendingProps,l);case 7:return hn(s,i,i.pendingProps,l),i.child;case 8:return hn(s,i,i.pendingProps.children,l),i.child;case 12:return hn(s,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,gi(i,i.type,u.value),hn(s,i,u.children,l),i.child;case 9:return p=i.type._context,u=i.pendingProps.children,Ca(i),p=dn(p),u=u(p),i.flags|=1,hn(s,i,u,l),i.child;case 14:return N_(s,i,i.type,i.pendingProps,l);case 15:return I_(s,i,i.type,i.pendingProps,l);case 19:return V_(s,i,l);case 31:return nR(s,i,l);case 22:return R_(s,i,l,i.pendingProps);case 24:return Ca(i),u=dn(qt),s===null?(p=Tp(),p===null&&(p=ft,y=wp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),i.memoizedState={parent:u,cache:p},Ap(i),gi(i,qt,p)):((s.lanes&l)!==0&&(Np(s,i),$c(i,null,null,l),qc()),p=s.memoizedState,y=i.memoizedState,p.parent!==u?(p={parent:u,cache:u},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),gi(i,qt,u)):(u=y.cache,gi(i,qt,u),u!==p.cache&&_p(i,[qt],l,!0))),hn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Rs(s){s.flags|=4}function lg(s,i,l,u,p){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(d0())s.flags|=8192;else throw ka=oh,Sp}else s.flags&=-16777217}function L_(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ew(i))if(d0())s.flags|=8192;else throw ka=oh,Sp}function Th(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Cd():536870912,s.lanes|=i,il|=i)}function Yc(s,i){if(!Qe)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function pt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,i}function sR(s,i,l){var u=i.pendingProps;switch(gp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(i),null;case 1:return pt(i),null;case 3:return l=i.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ss(qt),tt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Go(i)?Rs(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vp())),pt(i),null;case 26:var p=i.type,y=i.memoizedState;return s===null?(Rs(i),y!==null?(pt(i),L_(i,y)):(pt(i),lg(i,p,null,u,l))):y?y!==s.memoizedState?(Rs(i),pt(i),L_(i,y)):(pt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==u&&Rs(i),pt(i),lg(i,p,s,u,l)),null;case 27:if(Lr(i),l=je.current,p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Rs(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return pt(i),null}s=de.current,Go(i)?vx(i):(s=G0(p,u,l),i.stateNode=s,Rs(i))}return pt(i),null;case 5:if(Lr(i),p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Rs(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return pt(i),null}if(y=de.current,Go(i))vx(i);else{var _=Lh(je.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?_.createElement(p,{is:u.is}):_.createElement(p)}}y[Ut]=i,y[nn]=u;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=y;e:switch(fn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Rs(i)}}return pt(i),lg(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,l),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==u&&Rs(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(s=je.current,Go(i)){if(s=i.stateNode,l=i.memoizedProps,u=null,p=un,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[Ut]=i,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||P0(s.nodeValue,l)),s||pi(i,!0)}else s=Lh(s).createTextNode(u),s[Ut]=i,i.stateNode=s}return pt(i),null;case 31:if(l=i.memoizedState,s===null||s.memoizedState!==null){if(u=Go(i),l!==null){if(s===null){if(!u)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Ut]=i}else Ia(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),s=!1}else l=vp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return i.flags&256?(Hn(i),i):(Hn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return pt(i),null;case 13:if(u=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Go(i),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Ut]=i}else Ia(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),p=!1}else p=vp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Hn(i),i):(Hn(i),null)}return Hn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=i.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),l!==s&&l&&(i.child.flags|=8192),Th(i,i.updateQueue),pt(i),null);case 4:return tt(),s===null&&Cg(i.stateNode.containerInfo),pt(i),null;case 10:return Ss(i.type),pt(i),null;case 19:if(Z(Pt),u=i.memoizedState,u===null)return pt(i),null;if(p=(i.flags&128)!==0,y=u.rendering,y===null)if(p)Yc(u,!1);else{if(It!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(y=dh(s),y!==null){for(i.flags|=128,Yc(u,!1),s=y.updateQueue,i.updateQueue=s,Th(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)fx(l,s),l=l.sibling;return ae(Pt,Pt.current&1|2),Qe&&Es(i,u.treeForkCount),i.child}s=s.sibling}u.tail!==null&&wn()>Rh&&(i.flags|=128,p=!0,Yc(u,!1),i.lanes=4194304)}else{if(!p)if(s=dh(y),s!==null){if(i.flags|=128,p=!0,s=s.updateQueue,i.updateQueue=s,Th(i,s),Yc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Qe)return pt(i),null}else 2*wn()-u.renderingStartTime>Rh&&l!==536870912&&(i.flags|=128,p=!0,Yc(u,!1),i.lanes=4194304);u.isBackwards?(y.sibling=i.child,i.child=y):(s=u.last,s!==null?s.sibling=y:i.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=wn(),s.sibling=null,l=Pt.current,ae(Pt,p?l&1|2:l&1),Qe&&Es(i,u.treeForkCount),s):(pt(i),null);case 22:case 23:return Hn(i),Dp(),u=i.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(pt(i),i.subtreeFlags&6&&(i.flags|=8192)):pt(i),l=i.updateQueue,l!==null&&Th(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),s!==null&&Z(Da),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ss(qt),pt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function iR(s,i){switch(gp(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ss(qt),tt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Lr(i),null;case 31:if(i.memoizedState!==null){if(Hn(i),i.alternate===null)throw Error(r(340));Ia()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Hn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ia()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Z(Pt),null;case 4:return tt(),null;case 10:return Ss(i.type),null;case 22:case 23:return Hn(i),Dp(),s!==null&&Z(Da),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Ss(qt),null;case 25:return null;default:return null}}function U_(s,i){switch(gp(i),i.tag){case 3:Ss(qt),tt();break;case 26:case 27:case 5:Lr(i);break;case 4:tt();break;case 31:i.memoizedState!==null&&Hn(i);break;case 13:Hn(i);break;case 19:Z(Pt);break;case 10:Ss(i.type);break;case 22:case 23:Hn(i),Dp(),s!==null&&Z(Da);break;case 24:Ss(qt)}}function Xc(s,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var y=l.create,_=l.inst;u=y(),_.destroy=u}l=l.next}while(l!==p)}}catch(T){st(i,i.return,T)}}function wi(s,i,l){try{var u=i.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var _=u.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,p=i;var P=l,H=T;try{H()}catch(ne){st(p,P,ne)}}}u=u.next}while(u!==y)}}catch(ne){st(i,i.return,ne)}}function F_(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{Dx(i,l)}catch(u){st(s,s.return,u)}}}function B_(s,i,l){l.props=Ma(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){st(s,i,u)}}function Jc(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(p){st(s,i,p)}}function as(s,i){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){st(s,i,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){st(s,i,p)}else l.current=null}function q_(s){var i=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){st(s,s.return,p)}}function cg(s,i,l){try{var u=s.stateNode;NR(u,s.type,l,i),u[nn]=i}catch(p){st(s,s.return,p)}}function $_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ri(s.type)||s.tag===4}function ug(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ri(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function dg(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Nr));else if(u!==4&&(u===27&&Ri(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(dg(s,i,l),s=s.sibling;s!==null;)dg(s,i,l),s=s.sibling}function Sh(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(u!==4&&(u===27&&Ri(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Sh(s,i,l),s=s.sibling;s!==null;)Sh(s,i,l),s=s.sibling}function H_(s){var i=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);fn(i,u,l),i[Ut]=s,i[nn]=l}catch(y){st(s,s.return,y)}}var Cs=!1,Gt=!1,hg=!1,G_=typeof WeakSet=="function"?WeakSet:Set,sn=null;function aR(s,i){if(s=s.containerInfo,kg=Gh,s=sx(s),ip(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var _=0,T=-1,P=-1,H=0,ne=0,ie=s,K=null;t:for(;;){for(var W;ie!==l||p!==0&&ie.nodeType!==3||(T=_+p),ie!==y||u!==0&&ie.nodeType!==3||(P=_+u),ie.nodeType===3&&(_+=ie.nodeValue.length),(W=ie.firstChild)!==null;)K=ie,ie=W;for(;;){if(ie===s)break t;if(K===l&&++H===p&&(T=_),K===y&&++ne===u&&(P=_),(W=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=W}l=T===-1||P===-1?null:{start:T,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Og={focusedElem:s,selectionRange:l},Gh=!1,sn=i;sn!==null;)if(i=sn,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,sn=s;else for(;sn!==null;){switch(i=sn,y=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)p=s[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=i,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var ge=Ma(l.type,p);s=u.getSnapshotBeforeUpdate(ge,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ie){st(l,l.return,Ie)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Vg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Vg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,sn=s;break}sn=i.return}}function K_(s,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:js(s,l),u&4&&Xc(5,l);break;case 1:if(js(s,l),u&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(_){st(l,l.return,_)}else{var p=Ma(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(p,i,s.__reactInternalSnapshotBeforeUpdate)}catch(_){st(l,l.return,_)}}u&64&&F_(l),u&512&&Jc(l,l.return);break;case 3:if(js(s,l),u&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Dx(s,i)}catch(_){st(l,l.return,_)}}break;case 27:i===null&&u&4&&H_(l);case 26:case 5:js(s,l),i===null&&u&4&&q_(l),u&512&&Jc(l,l.return);break;case 12:js(s,l);break;case 31:js(s,l),u&4&&Y_(s,l);break;case 13:js(s,l),u&4&&X_(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=pR.bind(null,l),PR(s,l))));break;case 22:if(u=l.memoizedState!==null||Cs,!u){i=i!==null&&i.memoizedState!==null||Gt,p=Cs;var y=Gt;Cs=u,(Gt=i)&&!y?ks(s,l,(l.subtreeFlags&8772)!==0):js(s,l),Cs=p,Gt=y}break;case 30:break;default:js(s,l)}}function Q_(s){var i=s.alternate;i!==null&&(s.alternate=null,Q_(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&Ro(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vt=null,kn=!1;function Ds(s,i,l){for(l=l.child;l!==null;)Z_(s,i,l),l=l.sibling}function Z_(s,i,l){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Er,l)}catch{}switch(l.tag){case 26:Gt||as(l,i),Ds(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Gt||as(l,i);var u=vt,p=kn;Ri(l.type)&&(vt=l.stateNode,kn=!1),Ds(s,i,l),ou(l.stateNode),vt=u,kn=p;break;case 5:Gt||as(l,i);case 6:if(u=vt,p=kn,vt=null,Ds(s,i,l),vt=u,kn=p,vt!==null)if(kn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(y){st(l,i,y)}else try{vt.removeChild(l.stateNode)}catch(y){st(l,i,y)}break;case 18:vt!==null&&(kn?(s=vt,F0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),fl(s)):F0(vt,l.stateNode));break;case 4:u=vt,p=kn,vt=l.stateNode.containerInfo,kn=!0,Ds(s,i,l),vt=u,kn=p;break;case 0:case 11:case 14:case 15:wi(2,l,i),Gt||wi(4,l,i),Ds(s,i,l);break;case 1:Gt||(as(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&B_(l,i,u)),Ds(s,i,l);break;case 21:Ds(s,i,l);break;case 22:Gt=(u=Gt)||l.memoizedState!==null,Ds(s,i,l),Gt=u;break;default:Ds(s,i,l)}}function Y_(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{fl(s)}catch(l){st(i,i.return,l)}}}function X_(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{fl(s)}catch(l){st(i,i.return,l)}}function oR(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new G_),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new G_),i;default:throw Error(r(435,s.tag))}}function Ah(s,i){var l=oR(s);i.forEach(function(u){if(!l.has(u)){l.add(u);var p=gR.bind(null,s,u);u.then(p,p)}})}function On(s,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=s,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ri(T.type)){vt=T.stateNode,kn=!1;break e}break;case 5:vt=T.stateNode,kn=!1;break e;case 3:case 4:vt=T.stateNode.containerInfo,kn=!0;break e}T=T.return}if(vt===null)throw Error(r(160));Z_(y,_,p),vt=null,kn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)J_(i,s),i=i.sibling}var kr=null;function J_(s,i){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:On(i,s),Pn(s),u&4&&(wi(3,s,s.return),Xc(3,s),wi(5,s,s.return));break;case 1:On(i,s),Pn(s),u&512&&(Gt||l===null||as(l,l.return)),u&64&&Cs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=kr;if(On(i,s),Pn(s),u&512&&(Gt||l===null||as(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Gr]||y[Ut]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),fn(y,u,l),y[Ut]=s,Ft(y),u=y;break e;case"link":var _=J0("link","href",p).get(u+(l.href||""));if(_){for(var T=0;T<_.length;T++)if(y=_[T],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(T,1);break t}}y=p.createElement(u),fn(y,u,l),p.head.appendChild(y);break;case"meta":if(_=J0("meta","content",p).get(u+(l.content||""))){for(T=0;T<_.length;T++)if(y=_[T],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(T,1);break t}}y=p.createElement(u),fn(y,u,l),p.head.appendChild(y);break;default:throw Error(r(468,u))}y[Ut]=s,Ft(y),u=y}s.stateNode=u}else W0(p,s.type,s.stateNode);else s.stateNode=X0(p,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?W0(p,s.type,s.stateNode):X0(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&cg(s,s.memoizedProps,l.memoizedProps)}break;case 27:On(i,s),Pn(s),u&512&&(Gt||l===null||as(l,l.return)),l!==null&&u&4&&cg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(On(i,s),Pn(s),u&512&&(Gt||l===null||as(l,l.return)),s.flags&32){p=s.stateNode;try{jn(p,"")}catch(ge){st(s,s.return,ge)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,cg(s,p,l!==null?l.memoizedProps:p)),u&1024&&(hg=!0);break;case 6:if(On(i,s),Pn(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ge){st(s,s.return,ge)}}break;case 3:if(Bh=null,p=kr,kr=Uh(i.containerInfo),On(i,s),kr=p,Pn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{fl(i.containerInfo)}catch(ge){st(s,s.return,ge)}hg&&(hg=!1,W_(s));break;case 4:u=kr,kr=Uh(s.stateNode.containerInfo),On(i,s),Pn(s),kr=u;break;case 12:On(i,s),Pn(s);break;case 31:On(i,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ah(s,u)));break;case 13:On(i,s),Pn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ih=wn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ah(s,u)));break;case 22:p=s.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,H=Cs,ne=Gt;if(Cs=H||p,Gt=ne||P,On(i,s),Gt=ne,Cs=H,Pn(s),u&8192)e:for(i=s.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||P||Cs||Gt||Va(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){P=l=i;try{if(y=P.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=P.stateNode;var ie=P.memoizedProps.style,K=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ge){st(P,P.return,ge)}}}else if(i.tag===6){if(l===null){P=i;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(ge){st(P,P.return,ge)}}}else if(i.tag===18){if(l===null){P=i;try{var W=P.stateNode;p?B0(W,!0):B0(P.stateNode,!1)}catch(ge){st(P,P.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ah(s,l))));break;case 19:On(i,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ah(s,u)));break;case 30:break;case 21:break;default:On(i,s),Pn(s)}}function Pn(s){var i=s.flags;if(i&2){try{for(var l,u=s.return;u!==null;){if($_(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,y=ug(s);Sh(s,y,p);break;case 5:var _=l.stateNode;l.flags&32&&(jn(_,""),l.flags&=-33);var T=ug(s);Sh(s,T,_);break;case 3:case 4:var P=l.stateNode.containerInfo,H=ug(s);dg(s,H,P);break;default:throw Error(r(161))}}catch(ne){st(s,s.return,ne)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function W_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;W_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function js(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)K_(s,i.alternate,i),i=i.sibling}function Va(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:wi(4,i,i.return),Va(i);break;case 1:as(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&B_(i,i.return,l),Va(i);break;case 27:ou(i.stateNode);case 26:case 5:as(i,i.return),Va(i);break;case 22:i.memoizedState===null&&Va(i);break;case 30:Va(i);break;default:Va(i)}s=s.sibling}}function ks(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,p=s,y=i,_=y.flags;switch(y.tag){case 0:case 11:case 15:ks(p,y,l),Xc(4,y);break;case 1:if(ks(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(H){st(u,u.return,H)}if(u=y,p=u.updateQueue,p!==null){var T=u.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)Cx(P[p],T)}catch(H){st(u,u.return,H)}}l&&_&64&&F_(y),Jc(y,y.return);break;case 27:H_(y);case 26:case 5:ks(p,y,l),l&&u===null&&_&4&&q_(y),Jc(y,y.return);break;case 12:ks(p,y,l);break;case 31:ks(p,y,l),l&&_&4&&Y_(p,y);break;case 13:ks(p,y,l),l&&_&4&&X_(p,y);break;case 22:y.memoizedState===null&&ks(p,y,l),Jc(y,y.return);break;case 30:break;default:ks(p,y,l)}i=i.sibling}}function fg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&zc(l))}function mg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&zc(s))}function Or(s,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e0(s,i,l,u),i=i.sibling}function e0(s,i,l,u){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Or(s,i,l,u),p&2048&&Xc(9,i);break;case 1:Or(s,i,l,u);break;case 3:Or(s,i,l,u),p&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&zc(s)));break;case 12:if(p&2048){Or(s,i,l,u),s=i.stateNode;try{var y=i.memoizedProps,_=y.id,T=y.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(P){st(i,i.return,P)}}else Or(s,i,l,u);break;case 31:Or(s,i,l,u);break;case 13:Or(s,i,l,u);break;case 23:break;case 22:y=i.stateNode,_=i.alternate,i.memoizedState!==null?y._visibility&2?Or(s,i,l,u):Wc(s,i):y._visibility&2?Or(s,i,l,u):(y._visibility|=2,nl(s,i,l,u,(i.subtreeFlags&10256)!==0||!1)),p&2048&&fg(_,i);break;case 24:Or(s,i,l,u),p&2048&&mg(i.alternate,i);break;default:Or(s,i,l,u)}}function nl(s,i,l,u,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=s,_=i,T=l,P=u,H=_.flags;switch(_.tag){case 0:case 11:case 15:nl(y,_,T,P,p),Xc(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?nl(y,_,T,P,p):Wc(y,_):(ne._visibility|=2,nl(y,_,T,P,p)),p&&H&2048&&fg(_.alternate,_);break;case 24:nl(y,_,T,P,p),p&&H&2048&&mg(_.alternate,_);break;default:nl(y,_,T,P,p)}i=i.sibling}}function Wc(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,u=i,p=u.flags;switch(u.tag){case 22:Wc(l,u),p&2048&&fg(u.alternate,u);break;case 24:Wc(l,u),p&2048&&mg(u.alternate,u);break;default:Wc(l,u)}i=i.sibling}}var eu=8192;function rl(s,i,l){if(s.subtreeFlags&eu)for(s=s.child;s!==null;)t0(s,i,l),s=s.sibling}function t0(s,i,l){switch(s.tag){case 26:rl(s,i,l),s.flags&eu&&s.memoizedState!==null&&KR(l,kr,s.memoizedState,s.memoizedProps);break;case 5:rl(s,i,l);break;case 3:case 4:var u=kr;kr=Uh(s.stateNode.containerInfo),rl(s,i,l),kr=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=eu,eu=16777216,rl(s,i,l),eu=u):rl(s,i,l));break;default:rl(s,i,l)}}function n0(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function tu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];sn=u,s0(u,s)}n0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)r0(s),s=s.sibling}function r0(s){switch(s.tag){case 0:case 11:case 15:tu(s),s.flags&2048&&wi(9,s,s.return);break;case 3:tu(s);break;case 12:tu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Nh(s)):tu(s);break;default:tu(s)}}function Nh(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];sn=u,s0(u,s)}n0(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:wi(8,i,i.return),Nh(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Nh(i));break;default:Nh(i)}s=s.sibling}}function s0(s,i){for(;sn!==null;){var l=sn;switch(l.tag){case 0:case 11:case 15:wi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:zc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,sn=u;else e:for(l=s;sn!==null;){u=sn;var p=u.sibling,y=u.return;if(Q_(u),u===l){sn=null;break e}if(p!==null){p.return=y,sn=p;break e}sn=y}}}var lR={getCacheForType:function(s){var i=dn(qt),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l},cacheSignal:function(){return dn(qt).controller.signal}},cR=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,Fe=null,qe=0,rt=0,Gn=null,Ei=!1,sl=!1,pg=!1,Os=0,It=0,Ti=0,za=0,gg=0,Kn=0,il=0,nu=null,Mn=null,yg=!1,Ih=0,i0=0,Rh=1/0,Ch=null,Si=null,Xt=0,Ai=null,al=null,Ps=0,vg=0,bg=null,a0=null,ru=0,xg=null;function Qn(){return(et&2)!==0&&qe!==0?qe&-qe:X.T!==null?Ag():Dd()}function o0(){if(Kn===0)if((qe&536870912)===0||Qe){var s=da;da<<=1,(da&3932160)===0&&(da=262144),Kn=s}else Kn=536870912;return s=$n.current,s!==null&&(s.flags|=32),Kn}function Vn(s,i,l){(s===ft&&(rt===2||rt===9)||s.cancelPendingCommit!==null)&&(ol(s,0),Ni(s,qe,Kn,!1)),ha(s,l),((et&2)===0||s!==ft)&&(s===ft&&((et&2)===0&&(za|=l),It===4&&Ni(s,qe,Kn,!1)),os(s))}function l0(s,i,l){if((et&6)!==0)throw Error(r(327));var u=!l&&(i&127)===0&&(i&s.expiredLanes)===0||Tr(s,i),p=u?hR(s,i):wg(s,i,!0),y=u;do{if(p===0){sl&&!u&&Ni(s,i,0,!1);break}else{if(l=s.current.alternate,y&&!uR(l)){p=wg(s,i,!1),y=!1;continue}if(p===2){if(y=i,s.errorRecoveryDisabledLanes&y)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=s;p=nu;var P=T.current.memoizedState.isDehydrated;if(P&&(ol(T,_).flags|=256),_=wg(T,_,!1),_!==2){if(pg&&!P){T.errorRecoveryDisabledLanes|=y,za|=y,p=4;break e}y=Mn,Mn=p,y!==null&&(Mn===null?Mn=y:Mn.push.apply(Mn,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){ol(s,0),Ni(s,i,0,!0);break}e:{switch(u=s,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ni(u,i,Kn,!Ei);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(p=Ih+300-wn(),10<p)){if(Ni(u,i,Kn,!Ei),qr(u,0,!0)!==0)break e;Ps=i,u.timeoutHandle=L0(c0.bind(null,u,l,Mn,Ch,yg,i,Kn,za,il,Ei,y,"Throttled",-0,0),p);break e}c0(u,l,Mn,Ch,yg,i,Kn,za,il,Ei,y,null,-0,0)}}break}while(!0);os(s)}function c0(s,i,l,u,p,y,_,T,P,H,ne,ie,K,W){if(s.timeoutHandle=-1,ie=i.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nr},t0(i,y,ie);var ge=(y&62914560)===y?Ih-wn():(y&4194048)===y?i0-wn():0;if(ge=QR(ie,ge),ge!==null){Ps=y,s.cancelPendingCommit=ge(y0.bind(null,s,i,y,l,u,p,_,T,P,ne,ie,null,K,W)),Ni(s,y,_,!H);return}}y0(s,i,y,l,u,p,_,T,P)}function uR(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!Bn(y(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ni(s,i,l,u){i&=~gg,i&=~za,s.suspendedLanes|=i,s.pingedLanes&=~i,u&&(s.warmLanes|=i),u=s.expirationTimes;for(var p=i;0<p;){var y=31-kt(p),_=1<<y;u[y]=-1,p&=~_}l!==0&&fa(s,l,i)}function Dh(){return(et&6)===0?(su(0),!1):!0}function _g(){if(Fe!==null){if(rt===0)var s=Fe.return;else s=Fe,Ts=Ra=null,Vp(s),Xo=null,Uc=0,s=Fe;for(;s!==null;)U_(s.alternate,s),s=s.return;Fe=null}}function ol(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,CR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ps=0,_g(),ft=s,Fe=l=ws(s.current,null),qe=i,rt=0,Gn=null,Ei=!1,sl=Tr(s,i),pg=!1,il=Kn=gg=za=Ti=It=0,Mn=nu=null,yg=!1,(i&8)!==0&&(i|=i&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=i;0<u;){var p=31-kt(u),y=1<<p;i|=s[p],u&=~y}return Os=i,Jd(),l}function u0(s,i){Pe=null,X.H=Qc,i===Yo||i===ah?(i=Ax(),rt=3):i===Sp?(i=Ax(),rt=4):rt=i===Wp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Gn=i,Fe===null&&(It=1,xh(s,or(i,s.current)))}function d0(){var s=$n.current;return s===null?!0:(qe&4194048)===qe?dr===null:(qe&62914560)===qe||(qe&536870912)!==0?s===dr:!1}function h0(){var s=X.H;return X.H=Qc,s===null?Qc:s}function f0(){var s=X.A;return X.A=lR,s}function jh(){It=4,Ei||(qe&4194048)!==qe&&$n.current!==null||(sl=!0),(Ti&134217727)===0&&(za&134217727)===0||ft===null||Ni(ft,qe,Kn,!1)}function wg(s,i,l){var u=et;et|=2;var p=h0(),y=f0();(ft!==s||qe!==i)&&(Ch=null,ol(s,i)),i=!1;var _=It;e:do try{if(rt!==0&&Fe!==null){var T=Fe,P=Gn;switch(rt){case 8:_g(),_=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(i=!0);var H=rt;if(rt=0,Gn=null,ll(s,T,P,H),l&&sl){_=0;break e}break;default:H=rt,rt=0,Gn=null,ll(s,T,P,H)}}dR(),_=It;break}catch(ne){u0(s,ne)}while(!0);return i&&s.shellSuspendCounter++,Ts=Ra=null,et=u,X.H=p,X.A=y,Fe===null&&(ft=null,qe=0,Jd()),_}function dR(){for(;Fe!==null;)m0(Fe)}function hR(s,i){var l=et;et|=2;var u=h0(),p=f0();ft!==s||qe!==i?(Ch=null,Rh=wn()+500,ol(s,i)):sl=Tr(s,i);e:do try{if(rt!==0&&Fe!==null){i=Fe;var y=Gn;t:switch(rt){case 1:rt=0,Gn=null,ll(s,i,y,1);break;case 2:case 9:if(Tx(y)){rt=0,Gn=null,p0(i);break}i=function(){rt!==2&&rt!==9||ft!==s||(rt=7),os(s)},y.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Tx(y)?(rt=0,Gn=null,p0(i)):(rt=0,Gn=null,ll(s,i,y,7));break;case 5:var _=null;switch(Fe.tag){case 26:_=Fe.memoizedState;case 5:case 27:var T=Fe;if(_?ew(_):T.stateNode.complete){rt=0,Gn=null;var P=T.sibling;if(P!==null)Fe=P;else{var H=T.return;H!==null?(Fe=H,kh(H)):Fe=null}break t}}rt=0,Gn=null,ll(s,i,y,5);break;case 6:rt=0,Gn=null,ll(s,i,y,6);break;case 8:_g(),It=6;break e;default:throw Error(r(462))}}fR();break}catch(ne){u0(s,ne)}while(!0);return Ts=Ra=null,X.H=u,X.A=p,et=l,Fe!==null?0:(ft=null,qe=0,Jd(),It)}function fR(){for(;Fe!==null&&!Jm();)m0(Fe)}function m0(s){var i=z_(s.alternate,s,Os);s.memoizedProps=s.pendingProps,i===null?kh(s):Fe=i}function p0(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=j_(l,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=j_(l,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:Vp(i);default:U_(l,i),i=Fe=fx(i,Os),i=z_(l,i,Os)}s.memoizedProps=s.pendingProps,i===null?kh(s):Fe=i}function ll(s,i,l,u){Ts=Ra=null,Vp(i),Xo=null,Uc=0;var p=i.return;try{if(tR(s,p,i,l,qe)){It=1,xh(s,or(l,s.current)),Fe=null;return}}catch(y){if(p!==null)throw Fe=p,y;It=1,xh(s,or(l,s.current)),Fe=null;return}i.flags&32768?(Qe||u===1?s=!0:sl||(qe&536870912)!==0?s=!1:(Ei=s=!0,(u===2||u===9||u===3||u===6)&&(u=$n.current,u!==null&&u.tag===13&&(u.flags|=16384))),g0(i,s)):kh(i)}function kh(s){var i=s;do{if((i.flags&32768)!==0){g0(i,Ei);return}s=i.return;var l=sR(i.alternate,i,Os);if(l!==null){Fe=l;return}if(i=i.sibling,i!==null){Fe=i;return}Fe=i=s}while(i!==null);It===0&&(It=5)}function g0(s,i){do{var l=iR(s.alternate,s);if(l!==null){l.flags&=32767,Fe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=l}while(s!==null);It=6,Fe=null}function y0(s,i,l,u,p,y,_,T,P){s.cancelPendingCommit=null;do Oh();while(Xt!==0);if((et&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(y=i.lanes|i.childLanes,y|=up,tp(s,l,y,_,T,P),s===ft&&(Fe=ft=null,qe=0),al=i,Ai=s,Ps=l,vg=y,bg=p,a0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,yR(ri,function(){return w0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,p=le.p,le.p=2,_=et,et|=4;try{aR(s,i,l)}finally{et=_,le.p=p,X.T=u}}Xt=1,v0(),b0(),x0()}}function v0(){if(Xt===1){Xt=0;var s=Ai,i=al,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var u=le.p;le.p=2;var p=et;et|=4;try{J_(i,s);var y=Og,_=sx(s.containerInfo),T=y.focusedElem,P=y.selectionRange;if(_!==T&&T&&T.ownerDocument&&rx(T.ownerDocument.documentElement,T)){if(P!==null&&ip(T)){var H=P.start,ne=P.end;if(ne===void 0&&(ne=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(ne,T.value.length);else{var ie=T.ownerDocument||document,K=ie&&ie.defaultView||window;if(K.getSelection){var W=K.getSelection(),ge=T.textContent.length,Ie=Math.min(P.start,ge),ht=P.end===void 0?Ie:Math.min(P.end,ge);!W.extend&&Ie>ht&&(_=ht,ht=Ie,Ie=_);var F=nx(T,Ie),L=nx(T,ht);if(F&&L&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==L.node||W.focusOffset!==L.offset)){var $=ie.createRange();$.setStart(F.node,F.offset),W.removeAllRanges(),Ie>ht?(W.addRange($),W.extend(L.node,L.offset)):($.setEnd(L.node,L.offset),W.addRange($))}}}}for(ie=[],W=T;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ie.length;T++){var re=ie[T];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Gh=!!kg,Og=kg=null}finally{et=p,le.p=u,X.T=l}}s.current=i,Xt=2}}function b0(){if(Xt===2){Xt=0;var s=Ai,i=al,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var u=le.p;le.p=2;var p=et;et|=4;try{K_(s,i.alternate,i)}finally{et=p,le.p=u,X.T=l}}Xt=3}}function x0(){if(Xt===4||Xt===3){Xt=0,Td();var s=Ai,i=al,l=Ps,u=a0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Xt=5:(Xt=0,al=Ai=null,_0(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Si=null),vs(l),i=i.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Er,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=X.T,p=le.p,le.p=2,X.T=null;try{for(var y=s.onRecoverableError,_=0;_<u.length;_++){var T=u[_];y(T.value,{componentStack:T.stack})}}finally{X.T=i,le.p=p}}(Ps&3)!==0&&Oh(),os(s),p=s.pendingLanes,(l&261930)!==0&&(p&42)!==0?s===xg?ru++:(ru=0,xg=s):ru=0,su(0)}}function _0(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,zc(i)))}function Oh(){return v0(),b0(),x0(),w0()}function w0(){if(Xt!==5)return!1;var s=Ai,i=vg;vg=0;var l=vs(Ps),u=X.T,p=le.p;try{le.p=32>l?32:l,X.T=null,l=bg,bg=null;var y=Ai,_=Ps;if(Xt=0,al=Ai=null,Ps=0,(et&6)!==0)throw Error(r(331));var T=et;if(et|=4,r0(y.current),e0(y,y.current,_,l),et=T,su(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Er,y)}catch{}return!0}finally{le.p=p,X.T=u,_0(s,i)}}function E0(s,i,l){i=or(l,i),i=Jp(s.stateNode,i,2),s=bi(s,i,2),s!==null&&(ha(s,2),os(s))}function st(s,i,l){if(s.tag===3)E0(s,s,l);else for(;i!==null;){if(i.tag===3){E0(i,s,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Si===null||!Si.has(u))){s=or(l,s),l=T_(2),u=bi(i,l,2),u!==null&&(S_(l,u,i,s),ha(u,2),os(u));break}}i=i.return}}function Eg(s,i,l){var u=s.pingCache;if(u===null){u=s.pingCache=new cR;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(l)||(pg=!0,p.add(l),s=mR.bind(null,s,i,l),i.then(s,s))}function mR(s,i,l){var u=s.pingCache;u!==null&&u.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ft===s&&(qe&l)===l&&(It===4||It===3&&(qe&62914560)===qe&&300>wn()-Ih?(et&2)===0&&ol(s,0):gg|=l,il===qe&&(il=0)),os(s)}function T0(s,i){i===0&&(i=Cd()),s=Aa(s,i),s!==null&&(ha(s,i),os(s))}function pR(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),T0(s,l)}function gR(s,i){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),T0(s,l)}function yR(s,i){return Yt(s,i)}var Ph=null,cl=null,Tg=!1,Mh=!1,Sg=!1,Ii=0;function os(s){s!==cl&&s.next===null&&(cl===null?Ph=cl=s:cl=cl.next=s),Mh=!0,Tg||(Tg=!0,bR())}function su(s,i){if(!Sg&&Mh){Sg=!0;do for(var l=!1,u=Ph;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var _=u.suspendedLanes,T=u.pingedLanes;y=(1<<31-kt(42|s)+1)-1,y&=p&~(_&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,I0(u,y))}else y=qe,y=qr(u,u===ft?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Tr(u,y)||(l=!0,I0(u,y));u=u.next}while(l);Sg=!1}}function vR(){S0()}function S0(){Mh=Tg=!1;var s=0;Ii!==0&&RR()&&(s=Ii);for(var i=wn(),l=null,u=Ph;u!==null;){var p=u.next,y=A0(u,i);y===0?(u.next=null,l===null?Ph=p:l.next=p,p===null&&(cl=l)):(l=u,(s!==0||(y&3)!==0)&&(Mh=!0)),u=p}Xt!==0&&Xt!==5||su(s),Ii!==0&&(Ii=0)}function A0(s,i){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var _=31-kt(y),T=1<<_,P=p[_];P===-1?((T&l)===0||(T&u)!==0)&&(p[_]=ep(T,i)):P<=i&&(s.expiredLanes|=T),y&=~T}if(i=ft,l=qe,l=qr(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===i&&(rt===2||rt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ni(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Tr(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(u!==null&&ni(u),vs(l)){case 2:case 8:l=mc;break;case 32:l=ri;break;case 268435456:l=Sd;break;default:l=ri}return u=N0.bind(null,s),l=Yt(l,u),s.callbackPriority=i,s.callbackNode=l,i}return u!==null&&u!==null&&ni(u),s.callbackPriority=2,s.callbackNode=null,2}function N0(s,i){if(Xt!==0&&Xt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Oh()&&s.callbackNode!==l)return null;var u=qe;return u=qr(s,s===ft?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(l0(s,u,i),A0(s,wn()),s.callbackNode!=null&&s.callbackNode===l?N0.bind(null,s):null)}function I0(s,i){if(Oh())return null;l0(s,i,!0)}function bR(){DR(function(){(et&6)!==0?Yt(fc,vR):S0()})}function Ag(){if(Ii===0){var s=Qo;s===0&&(s=Fr,Fr<<=1,(Fr&261888)===0&&(Fr=256)),Ii=s}return Ii}function R0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ko(""+s)}function C0(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function xR(s,i,l,u,p){if(i==="submit"&&l&&l.stateNode===p){var y=R0((p[nn]||null).action),_=u.submitter;_&&(i=(i=_[nn]||null)?R0(i.formAction):_.getAttribute("formAction"),i!==null&&(y=i,_=null));var T=new es("action","action",null,u,p);s.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ii!==0){var P=_?C0(p,_):new FormData(p);Gp(l,{pending:!0,data:P,method:p.method,action:y},null,P)}}else typeof y=="function"&&(T.preventDefault(),P=_?C0(p,_):new FormData(p),Gp(l,{pending:!0,data:P,method:p.method,action:y},y,P))},currentTarget:p}]})}}for(var Ng=0;Ng<cp.length;Ng++){var Ig=cp[Ng],_R=Ig.toLowerCase(),wR=Ig[0].toUpperCase()+Ig.slice(1);jr(_R,"on"+wR)}jr(ox,"onAnimationEnd"),jr(lx,"onAnimationIteration"),jr(cx,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(zI,"onTransitionRun"),jr(LI,"onTransitionStart"),jr(UI,"onTransitionCancel"),jr(ux,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ER=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function D0(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var _=u.length-1;0<=_;_--){var T=u[_],P=T.instance,H=T.currentTarget;if(T=T.listener,P!==y&&p.isPropagationStopped())break e;y=T,p.currentTarget=H;try{y(p)}catch(ne){Xd(ne)}p.currentTarget=null,y=P}else for(_=0;_<u.length;_++){if(T=u[_],P=T.instance,H=T.currentTarget,T=T.listener,P!==y&&p.isPropagationStopped())break e;y=T,p.currentTarget=H;try{y(p)}catch(ne){Xd(ne)}p.currentTarget=null,y=P}}}}function Be(s,i){var l=i[Io];l===void 0&&(l=i[Io]=new Set);var u=s+"__bubble";l.has(u)||(j0(i,s,2,!1),l.add(u))}function Rg(s,i,l){var u=0;i&&(u|=4),j0(l,s,u,i)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function Cg(s){if(!s[Vh]){s[Vh]=!0,yc.forEach(function(l){l!=="selectionchange"&&(ER.has(l)||Rg(l,!1,s),Rg(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Vh]||(i[Vh]=!0,Rg("selectionchange",!1,i))}}function j0(s,i,l,u){switch(ow(i)){case 2:var p=XR;break;case 8:p=JR;break;default:p=Hg}l=p.bind(null,i,l,s),p=void 0,!va||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function Dg(s,i,l,u,p){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===p)break;if(_===4)for(_=u.return;_!==null;){var P=_.tag;if((P===3||P===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;T!==null;){if(_=Kr(T),_===null)return;if(P=_.tag,P===5||P===6||P===26||P===27){u=y=_;continue e}T=T.parentNode}}u=u.return}ci(function(){var H=y,ne=rr(l),ie=[];e:{var K=dx.get(s);if(K!==void 0){var W=es,ge=s;switch(s){case"keypress":if(xa(l)===0)break e;case"keydown":case"keyup":W=Qd;break;case"focusin":ge="focus",W=wa;break;case"focusout":ge="blur",W=wa;break;case"beforeblur":case"afterblur":W=wa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=x;break;case ox:case lx:case cx:W=Fd;break;case ux:W=N;break;case"scroll":case"scrollend":W=Rc;break;case"wheel":W=Y;break;case"copy":case"cut":case"paste":W=Bd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=_s;break;case"toggle":case"beforetoggle":W=Oe}var Ie=(i&4)!==0,ht=!Ie&&(s==="scroll"||s==="scrollend"),F=Ie?K!==null?K+"Capture":null:K;Ie=[];for(var L=H,$;L!==null;){var re=L;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||F===null||(re=Ir(L,F),re!=null&&Ie.push(au(L,re,$))),ht)break;L=L.return}0<Ie.length&&(K=new W(K,ge,null,l,ne),ie.push({event:K,listeners:Ie}))}}if((i&7)===0){e:{if(K=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",K&&l!==Ac&&(ge=l.relatedTarget||l.fromElement)&&(Kr(ge)||ge[Hr]))break e;if((W||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,W?(ge=l.relatedTarget||l.toElement,W=H,ge=ge?Kr(ge):null,ge!==null&&(ht=o(ge),Ie=ge.tag,ge!==ht||Ie!==5&&Ie!==27&&Ie!==6)&&(ge=null)):(W=null,ge=H),W!==ge)){if(Ie=Cc,re="onMouseLeave",F="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=_s,re="onPointerLeave",F="onPointerEnter",L="pointer"),ht=W==null?K:Un(W),$=ge==null?K:Un(ge),K=new Ie(re,L+"leave",W,l,ne),K.target=ht,K.relatedTarget=$,re=null,Kr(ne)===H&&(Ie=new Ie(F,L+"enter",ge,l,ne),Ie.target=$,Ie.relatedTarget=ht,re=Ie),ht=re,W&&ge)t:{for(Ie=TR,F=W,L=ge,$=0,re=F;re;re=Ie(re))$++;re=0;for(var Ee=L;Ee;Ee=Ie(Ee))re++;for(;0<$-re;)F=Ie(F),$--;for(;0<re-$;)L=Ie(L),re--;for(;$--;){if(F===L||L!==null&&F===L.alternate){Ie=F;break t}F=Ie(F),L=Ie(L)}Ie=null}else Ie=null;W!==null&&k0(ie,K,W,Ie,!1),ge!==null&&ht!==null&&k0(ie,ht,ge,Ie,!0)}}e:{if(K=H?Un(H):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Ye=Yb;else if(Qb(K))if(Xb)Ye=PI;else{Ye=kI;var xe=jI}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?H&&jo(H.elementType)&&(Ye=Yb):Ye=OI;if(Ye&&(Ye=Ye(s,H))){Zb(ie,Ye,l,ne);break e}xe&&xe(s,K,H),s==="focusout"&&H&&K.type==="number"&&H.memoizedProps.value!=null&&Ec(K,"number",K.value)}switch(xe=H?Un(H):window,s){case"focusin":(Qb(xe)||xe.contentEditable==="true")&&(Uo=xe,ap=H,Pc=null);break;case"focusout":Pc=ap=Uo=null;break;case"mousedown":op=!0;break;case"contextmenu":case"mouseup":case"dragend":op=!1,ix(ie,l,ne);break;case"selectionchange":if(VI)break;case"keydown":case"keyup":ix(ie,l,ne)}var Ve;if(We)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Lo?Ea(s,l)&&($e="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&($e="onCompositionStart");$e&&(rs&&l.locale!=="ko"&&(Lo||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Lo&&(Ve=Ic()):(Wr=ne,Nc="value"in Wr?Wr.value:Wr.textContent,Lo=!0)),xe=zh(H,$e),0<xe.length&&($e=new ns($e,s,null,l,ne),ie.push({event:$e,listeners:xe}),Ve?$e.data=Ve:(Ve=zo(l),Ve!==null&&($e.data=Ve)))),(Ve=ir?II(s,l):RI(s,l))&&($e=zh(H,"onBeforeInput"),0<$e.length&&(xe=new ns("onBeforeInput","beforeinput",null,l,ne),ie.push({event:xe,listeners:$e}),xe.data=Ve)),xR(ie,s,H,l,ne)}D0(ie,i)})}function au(s,i,l){return{instance:s,listener:i,currentTarget:l}}function zh(s,i){for(var l=i+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ir(s,l),p!=null&&u.unshift(au(s,p,y)),p=Ir(s,i),p!=null&&u.push(au(s,p,y))),s.tag===3)return u;s=s.return}return[]}function TR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function k0(s,i,l,u,p){for(var y=i._reactName,_=[];l!==null&&l!==u;){var T=l,P=T.alternate,H=T.stateNode;if(T=T.tag,P!==null&&P===u)break;T!==5&&T!==26&&T!==27||H===null||(P=H,p?(H=Ir(l,y),H!=null&&_.unshift(au(l,H,P))):p||(H=Ir(l,y),H!=null&&_.push(au(l,H,P)))),l=l.return}_.length!==0&&s.push({event:i,listeners:_})}var SR=/\r\n?/g,AR=/\u0000|\uFFFD/g;function O0(s){return(typeof s=="string"?s:""+s).replace(SR,`
`).replace(AR,"")}function P0(s,i){return i=O0(i),O0(s)===i}function dt(s,i,l,u,p,y){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||jn(s,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&jn(s,""+u);break;case"className":Fn(s,"class",u);break;case"tabIndex":Fn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(s,l,u);break;case"style":Sc(s,u,y);break;case"data":if(i!=="object"){Fn(s,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ko(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&dt(s,i,"name",p.name,p,null),dt(s,i,"formEncType",p.formEncType,p,null),dt(s,i,"formMethod",p.formMethod,p,null),dt(s,i,"formTarget",p.formTarget,p,null)):(dt(s,i,"encType",p.encType,p,null),dt(s,i,"method",p.method,p,null),dt(s,i,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ko(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Nr);break;case"onScroll":u!=null&&Be("scroll",s);break;case"onScrollEnd":u!=null&&Be("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=ko(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Be("beforetoggle",s),Be("toggle",s),Co(s,"popover",u);break;case"xlinkActuate":Bt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Co(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zd.get(l)||l,Co(s,l,u))}}function jg(s,i,l,u,p,y){switch(l){case"style":Sc(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof u=="string"?jn(s,u):(typeof u=="number"||typeof u=="bigint")&&jn(s,""+u);break;case"onScroll":u!=null&&Be("scroll",s);break;case"onScrollEnd":u!=null&&Be("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),y=s[nn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(i,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,u,p);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Co(s,l,u)}}}function fn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",s),Be("load",s);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var _=l[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(s,i,y,_,l,null)}}p&&dt(s,i,"srcSet",l.srcSet,l,null),u&&dt(s,i,"src",l.src,l,null);return;case"input":Be("invalid",s);var T=y=_=p=null,P=null,H=null;for(u in l)if(l.hasOwnProperty(u)){var ne=l[u];if(ne!=null)switch(u){case"name":p=ne;break;case"type":_=ne;break;case"checked":P=ne;break;case"defaultChecked":H=ne;break;case"value":y=ne;break;case"defaultValue":T=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:dt(s,i,u,ne,l,null)}}Pd(s,y,T,P,H,_,p,!1);return;case"select":Be("invalid",s),u=_=y=null;for(p in l)if(l.hasOwnProperty(p)&&(T=l[p],T!=null))switch(p){case"value":y=T;break;case"defaultValue":_=T;break;case"multiple":u=T;default:dt(s,i,p,T,l,null)}i=y,l=_,s.multiple=!!u,i!=null?ii(s,!!u,i,!1):l!=null&&ii(s,!!u,l,!0);return;case"textarea":Be("invalid",s),y=p=u=null;for(_ in l)if(l.hasOwnProperty(_)&&(T=l[_],T!=null))switch(_){case"value":u=T;break;case"defaultValue":p=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:dt(s,i,_,T,l,null)}ai(s,u,p,y);return;case"option":for(P in l)l.hasOwnProperty(P)&&(u=l[P],u!=null)&&(P==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":dt(s,i,P,u,l,null));return;case"dialog":Be("beforetoggle",s),Be("toggle",s),Be("cancel",s),Be("close",s);break;case"iframe":case"object":Be("load",s);break;case"video":case"audio":for(u=0;u<iu.length;u++)Be(iu[u],s);break;case"image":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"embed":case"source":case"link":Be("error",s),Be("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in l)if(l.hasOwnProperty(H)&&(u=l[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(s,i,H,u,l,null)}return;default:if(jo(i)){for(ne in l)l.hasOwnProperty(ne)&&(u=l[ne],u!==void 0&&jg(s,i,ne,u,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(u=l[T],u!=null&&dt(s,i,T,u,l,null))}function NR(s,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,T=null,P=null,H=null,ne=null;for(W in l){var ie=l[W];if(l.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":P=ie;default:u.hasOwnProperty(W)||dt(s,i,W,null,u,ie)}}for(var K in u){var W=u[K];if(ie=l[K],u.hasOwnProperty(K)&&(W!=null||ie!=null))switch(K){case"type":y=W;break;case"name":p=W;break;case"checked":H=W;break;case"defaultChecked":ne=W;break;case"value":_=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:W!==ie&&dt(s,i,K,W,u,ie)}}Do(s,_,T,P,H,ne,y,p);return;case"select":W=_=T=K=null;for(y in l)if(P=l[y],l.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":W=P;default:u.hasOwnProperty(y)||dt(s,i,y,null,u,P)}for(p in u)if(y=u[p],P=l[p],u.hasOwnProperty(p)&&(y!=null||P!=null))switch(p){case"value":K=y;break;case"defaultValue":T=y;break;case"multiple":_=y;default:y!==P&&dt(s,i,p,y,u,P)}i=T,l=_,u=W,K!=null?ii(s,!!l,K,!1):!!u!=!!l&&(i!=null?ii(s,!!l,i,!0):ii(s,!!l,l?[]:"",!1));return;case"textarea":W=K=null;for(T in l)if(p=l[T],l.hasOwnProperty(T)&&p!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:dt(s,i,T,null,u,p)}for(_ in u)if(p=u[_],y=l[_],u.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":K=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&dt(s,i,_,p,u,y)}Md(s,K,W);return;case"option":for(var ge in l)K=l[ge],l.hasOwnProperty(ge)&&K!=null&&!u.hasOwnProperty(ge)&&(ge==="selected"?s.selected=!1:dt(s,i,ge,null,u,K));for(P in u)K=u[P],W=l[P],u.hasOwnProperty(P)&&K!==W&&(K!=null||W!=null)&&(P==="selected"?s.selected=K&&typeof K!="function"&&typeof K!="symbol":dt(s,i,P,K,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in l)K=l[Ie],l.hasOwnProperty(Ie)&&K!=null&&!u.hasOwnProperty(Ie)&&dt(s,i,Ie,null,u,K);for(H in u)if(K=u[H],W=l[H],u.hasOwnProperty(H)&&K!==W&&(K!=null||W!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:dt(s,i,H,K,u,W)}return;default:if(jo(i)){for(var ht in l)K=l[ht],l.hasOwnProperty(ht)&&K!==void 0&&!u.hasOwnProperty(ht)&&jg(s,i,ht,void 0,u,K);for(ne in u)K=u[ne],W=l[ne],!u.hasOwnProperty(ne)||K===W||K===void 0&&W===void 0||jg(s,i,ne,K,u,W);return}}for(var F in l)K=l[F],l.hasOwnProperty(F)&&K!=null&&!u.hasOwnProperty(F)&&dt(s,i,F,null,u,K);for(ie in u)K=u[ie],W=l[ie],!u.hasOwnProperty(ie)||K===W||K==null&&W==null||dt(s,i,ie,K,u,W)}function M0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],y=p.transferSize,_=p.initiatorType,T=p.duration;if(y&&T&&M0(_)){for(_=0,T=p.responseEnd,u+=1;u<l.length;u++){var P=l[u],H=P.startTime;if(H>T)break;var ne=P.transferSize,ie=P.initiatorType;ne&&M0(ie)&&(P=P.responseEnd,_+=ne*(P<T?1:(T-H)/(P-H)))}if(--u,i+=8*(y+_)/(p.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var kg=null,Og=null;function Lh(s){return s.nodeType===9?s:s.ownerDocument}function V0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z0(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Pg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mg=null;function RR(){var s=window.event;return s&&s.type==="popstate"?s===Mg?!1:(Mg=s,!0):(Mg=null,!1)}var L0=typeof setTimeout=="function"?setTimeout:void 0,CR=typeof clearTimeout=="function"?clearTimeout:void 0,U0=typeof Promise=="function"?Promise:void 0,DR=typeof queueMicrotask=="function"?queueMicrotask:typeof U0<"u"?function(s){return U0.resolve(null).then(s).catch(jR)}:L0;function jR(s){setTimeout(function(){throw s})}function Ri(s){return s==="head"}function F0(s,i){var l=i,u=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(p),fl(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")ou(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,ou(l);for(var y=l.firstChild;y;){var _=y.nextSibling,T=y.nodeName;y[Gr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=_}}else l==="body"&&ou(s.ownerDocument.body);l=p}while(l);fl(i)}function B0(s,i){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function Vg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Vg(l),Ro(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function kR(s,i,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Gr])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=hr(s.nextSibling),s===null)break}return null}function OR(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=hr(s.nextSibling),s===null))return null;return s}function q0(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=hr(s.nextSibling),s===null))return null;return s}function zg(s){return s.data==="$?"||s.data==="$~"}function Lg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function PR(s,i){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function hr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var Ug=null;function $0(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(i===0)return hr(s.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}s=s.nextSibling}return null}function H0(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return s;i--}else l!=="/$"&&l!=="/&"||i++}s=s.previousSibling}return null}function G0(s,i,l){switch(i=Lh(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function ou(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Ro(s)}var fr=new Map,K0=new Set;function Uh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ms=le.d;le.d={f:MR,r:VR,D:zR,C:LR,L:UR,m:FR,X:qR,S:BR,M:$R};function MR(){var s=Ms.f(),i=Dh();return s||i}function VR(s){var i=nr(s);i!==null&&i.tag===5&&i.type==="form"?u_(i):Ms.r(s)}var ul=typeof document>"u"?null:document;function Q0(s,i,l){var u=ul;if(u&&typeof i=="string"&&i){var p=Dn(i);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),K0.has(p)||(K0.add(p),s={rel:s,crossOrigin:l,href:i},u.querySelector(p)===null&&(i=u.createElement("link"),fn(i,"link",s),Ft(i),u.head.appendChild(i)))}}function zR(s){Ms.D(s),Q0("dns-prefetch",s,null)}function LR(s,i){Ms.C(s,i),Q0("preconnect",s,i)}function UR(s,i,l){Ms.L(s,i,l);var u=ul;if(u&&s&&i){var p='link[rel="preload"][as="'+Dn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Dn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Dn(l.imageSizes)+'"]')):p+='[href="'+Dn(s)+'"]';var y=p;switch(i){case"style":y=dl(s);break;case"script":y=hl(s)}fr.has(y)||(s=b({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),fr.set(y,s),u.querySelector(p)!==null||i==="style"&&u.querySelector(lu(y))||i==="script"&&u.querySelector(cu(y))||(i=u.createElement("link"),fn(i,"link",s),Ft(i),u.head.appendChild(i)))}}function FR(s,i){Ms.m(s,i);var l=ul;if(l&&s){var u=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Dn(u)+'"][href="'+Dn(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=hl(s)}if(!fr.has(y)&&(s=b({rel:"modulepreload",href:s},i),fr.set(y,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(cu(y)))return}u=l.createElement("link"),fn(u,"link",s),Ft(u),l.head.appendChild(u)}}}function BR(s,i,l){Ms.S(s,i,l);var u=ul;if(u&&s){var p=Qr(u).hoistableStyles,y=dl(s);i=i||"default";var _=p.get(y);if(!_){var T={loading:0,preload:null};if(_=u.querySelector(lu(y)))T.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":i},l),(l=fr.get(y))&&Fg(s,l);var P=_=u.createElement("link");Ft(P),fn(P,"link",s),P._p=new Promise(function(H,ne){P.onload=H,P.onerror=ne}),P.addEventListener("load",function(){T.loading|=1}),P.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Fh(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:T},p.set(y,_)}}}function qR(s,i){Ms.X(s,i);var l=ul;if(l&&s){var u=Qr(l).hoistableScripts,p=hl(s),y=u.get(p);y||(y=l.querySelector(cu(p)),y||(s=b({src:s,async:!0},i),(i=fr.get(p))&&Bg(s,i),y=l.createElement("script"),Ft(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function $R(s,i){Ms.M(s,i);var l=ul;if(l&&s){var u=Qr(l).hoistableScripts,p=hl(s),y=u.get(p);y||(y=l.querySelector(cu(p)),y||(s=b({src:s,async:!0,type:"module"},i),(i=fr.get(p))&&Bg(s,i),y=l.createElement("script"),Ft(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function Z0(s,i,l,u){var p=(p=je.current)?Uh(p):null;if(!p)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=dl(l.href),l=Qr(p).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=dl(l.href);var y=Qr(p).hoistableStyles,_=y.get(s);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,_),(y=p.querySelector(lu(s)))&&!y._p&&(_.instance=y,_.state.loading=5),fr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},fr.set(s,l),y||HR(p,s,l,_.state))),i&&u===null)throw Error(r(528,""));return _}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=hl(l),l=Qr(p).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function dl(s){return'href="'+Dn(s)+'"'}function lu(s){return'link[rel="stylesheet"]['+s+"]"}function Y0(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function HR(s,i,l,u){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=s.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),fn(i,"link",l),Ft(i),s.head.appendChild(i))}function hl(s){return'[src="'+Dn(s)+'"]'}function cu(s){return"script[async]"+s}function X0(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=s.querySelector('style[data-href~="'+Dn(l.href)+'"]');if(u)return i.instance=u,Ft(u),u;var p=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ft(u),fn(u,"style",p),Fh(u,l.precedence,s),i.instance=u;case"stylesheet":p=dl(l.href);var y=s.querySelector(lu(p));if(y)return i.state.loading|=4,i.instance=y,Ft(y),y;u=Y0(l),(p=fr.get(p))&&Fg(u,p),y=(s.ownerDocument||s).createElement("link"),Ft(y);var _=y;return _._p=new Promise(function(T,P){_.onload=T,_.onerror=P}),fn(y,"link",u),i.state.loading|=4,Fh(y,l.precedence,s),i.instance=y;case"script":return y=hl(l.src),(p=s.querySelector(cu(y)))?(i.instance=p,Ft(p),p):(u=l,(p=fr.get(y))&&(u=b({},l),Bg(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Ft(p),fn(p,"link",u),s.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Fh(u,l.precedence,s));return i.instance}function Fh(s,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,_=0;_<u.length;_++){var T=u[_];if(T.dataset.precedence===i)y=T;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Fg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Bg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Bh=null;function J0(s,i,l){if(Bh===null){var u=new Map,p=Bh=new Map;p.set(l,u)}else p=Bh,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var y=l[p];if(!(y[Gr]||y[Ut]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(i)||"";_=s+_;var T=u.get(_);T?T.push(y):u.set(_,[y])}}return u}function W0(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function GR(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(s=i.disabled,typeof i.precedence=="string"&&s==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ew(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function KR(s,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=dl(u.href),y=i.querySelector(lu(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=qh.bind(s),i.then(s,s)),l.state.loading|=4,l.instance=y,Ft(y);return}y=i.ownerDocument||i,u=Y0(u),(p=fr.get(p))&&Fg(u,p),y=y.createElement("link"),Ft(y);var _=y;_._p=new Promise(function(T,P){_.onload=T,_.onerror=P}),fn(y,"link",u),l.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=qh.bind(s),i.addEventListener("load",l),i.addEventListener("error",l))}}var qg=0;function QR(s,i){return s.stylesheets&&s.count===0&&Hh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Hh(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+i);0<s.imgBytes&&qg===0&&(qg=62500*IR());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Hh(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>qg?50:800)+i);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function qh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var $h=null;function Hh(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,$h=new Map,i.forEach(ZR,s),$h=null,qh.call(s))}function ZR(s,i){if(!(i.state.loading&4)){var l=$h.get(s);if(l)var u=l.get(null);else{l=new Map,$h.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),u=_)}u&&l.set(null,u)}p=i.instance,_=p.getAttribute("data-precedence"),y=l.get(_)||u,y===u&&l.set(null,p),l.set(_,p),this.count++,u=qh.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),i.state.loading|=4}}var uu={$$typeof:G,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function YR(s,i,l,u,p,y,_,T,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.hiddenUpdates=$r(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function tw(s,i,l,u,p,y,_,T,P,H,ne,ie){return s=new YR(s,i,l,_,P,H,ne,ie,T),i=1,y===!0&&(i|=24),y=qn(3,null,null,i),s.current=y,y.stateNode=s,i=wp(),i.refCount++,s.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:i},Ap(y),s}function nw(s){return s?(s=qo,s):qo}function rw(s,i,l,u,p,y){p=nw(p),u.context===null?u.context=p:u.pendingContext=p,u=vi(i),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=bi(s,u,i),l!==null&&(Vn(l,s,i),Bc(l,s,i))}function sw(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function $g(s,i){sw(s,i),(s=s.alternate)&&sw(s,i)}function iw(s){if(s.tag===13||s.tag===31){var i=Aa(s,67108864);i!==null&&Vn(i,s,67108864),$g(s,67108864)}}function aw(s){if(s.tag===13||s.tag===31){var i=Qn();i=ma(i);var l=Aa(s,i);l!==null&&Vn(l,s,i),$g(s,i)}}var Gh=!0;function XR(s,i,l,u){var p=X.T;X.T=null;var y=le.p;try{le.p=2,Hg(s,i,l,u)}finally{le.p=y,X.T=p}}function JR(s,i,l,u){var p=X.T;X.T=null;var y=le.p;try{le.p=8,Hg(s,i,l,u)}finally{le.p=y,X.T=p}}function Hg(s,i,l,u){if(Gh){var p=Gg(u);if(p===null)Dg(s,i,u,Kh,l),lw(s,u);else if(eC(p,s,i,l,u))u.stopPropagation();else if(lw(s,u),i&4&&-1<WR.indexOf(s)){for(;p!==null;){var y=nr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Br(y.pendingLanes);if(_!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var P=1<<31-kt(_);T.entanglements[1]|=P,_&=~P}os(y),(et&6)===0&&(Rh=wn()+500,su(0))}}break;case 31:case 13:T=Aa(y,2),T!==null&&Vn(T,y,2),Dh(),$g(y,2)}if(y=Gg(u),y===null&&Dg(s,i,u,Kh,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else Dg(s,i,u,null,l)}}function Gg(s){return s=rr(s),Kg(s)}var Kh=null;function Kg(s){if(Kh=null,s=Kr(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=c(i),s!==null)return s;s=null}else if(l===31){if(s=d(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Kh=s,null}function ow(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case fc:return 2;case mc:return 8;case ri:case Wm:return 32;case Sd:return 268435456;default:return 32}default:return 32}}var Qg=!1,Ci=null,Di=null,ji=null,du=new Map,hu=new Map,ki=[],WR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lw(s,i){switch(s){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":du.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(i.pointerId)}}function fu(s,i,l,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},i!==null&&(i=nr(i),i!==null&&iw(i)),s):(s.eventSystemFlags|=u,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function eC(s,i,l,u,p){switch(i){case"focusin":return Ci=fu(Ci,s,i,l,u,p),!0;case"dragenter":return Di=fu(Di,s,i,l,u,p),!0;case"mouseover":return ji=fu(ji,s,i,l,u,p),!0;case"pointerover":var y=p.pointerId;return du.set(y,fu(du.get(y)||null,s,i,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,hu.set(y,fu(hu.get(y)||null,s,i,l,u,p)),!0}return!1}function cw(s){var i=Kr(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){s.blockedOn=i,Sr(s.priority,function(){aw(l)});return}}else if(i===31){if(i=d(l),i!==null){s.blockedOn=i,Sr(s.priority,function(){aw(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qh(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Gg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Ac=u,l.target.dispatchEvent(u),Ac=null}else return i=nr(l),i!==null&&iw(i),s.blockedOn=l,!1;i.shift()}return!0}function uw(s,i,l){Qh(s)&&l.delete(i)}function tC(){Qg=!1,Ci!==null&&Qh(Ci)&&(Ci=null),Di!==null&&Qh(Di)&&(Di=null),ji!==null&&Qh(ji)&&(ji=null),du.forEach(uw),hu.forEach(uw)}function Zh(s,i){s.blockedOn===i&&(s.blockedOn=null,Qg||(Qg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,tC)))}var Yh=null;function dw(s){Yh!==s&&(Yh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yh===s&&(Yh=null);for(var i=0;i<s.length;i+=3){var l=s[i],u=s[i+1],p=s[i+2];if(typeof u!="function"){if(Kg(u||l)===null)continue;break}var y=nr(l);y!==null&&(s.splice(i,3),i-=3,Gp(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function fl(s){function i(P){return Zh(P,s)}Ci!==null&&Zh(Ci,s),Di!==null&&Zh(Di,s),ji!==null&&Zh(ji,s),du.forEach(i),hu.forEach(i);for(var l=0;l<ki.length;l++){var u=ki[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<ki.length&&(l=ki[0],l.blockedOn===null);)cw(l),l.blockedOn===null&&ki.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],_=p[nn]||null;if(typeof y=="function")_||dw(l);else if(_){var T=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[nn]||null)T=_.formAction;else if(Kg(p)!==null)continue}else T=_.action;typeof T=="function"?l[u+1]=T:(l.splice(u,3),u-=3),dw(l)}}}function hw(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Zg(s){this._internalRoot=s}Xh.prototype.render=Zg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,u=Qn();rw(l,u,s,i,null,null)},Xh.prototype.unmount=Zg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;rw(s.current,2,null,s,null,null),Dh(),i[Hr]=null}};function Xh(s){this._internalRoot=s}Xh.prototype.unstable_scheduleHydration=function(s){if(s){var i=Dd();s={blockedOn:null,target:s,priority:i};for(var l=0;l<ki.length&&i!==0&&i<ki[l].priority;l++);ki.splice(l,0,s),l===0&&cw(s)}};var fw=e.version;if(fw!=="19.2.3")throw Error(r(527,fw,"19.2.3"));le.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=g(i),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var nC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{Er=Jh.inject(nC),ln=Jh}catch{}}return pu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,u="",p=x_,y=__,_=w_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=tw(s,1,!1,null,null,l,u,null,p,y,_,hw),s[Hr]=i.current,Cg(s),new Zg(i)},pu.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var u=!1,p="",y=x_,_=__,T=w_,P=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),i=tw(s,1,!0,i,l??null,u,p,P,y,_,T,hw),i.context=nw(null),l=i.current,u=Qn(),u=ma(u),p=vi(u),p.callback=null,bi(l,p,u),l=u,i.current.lanes=l,ha(i,l),os(i),s[Hr]=i.current,Cg(s),new Xh(i)},pu.version="19.2.3",pu}var Ew;function fC(){if(Ew)return Jg.exports;Ew=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jg.exports=hC(),Jg.exports}var mC=fC();var Tw="popstate";function pC(t={}){function e(a,o){let{pathname:c="/",search:d="",hash:h=""}=_o(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),_y("",{pathname:c,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=a.location.href,g=h.indexOf("#");d=g===-1?h:h.slice(0,g)}return d+"#"+(typeof o=="string"?o:Uu(o))}function r(a,o){br(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return yC(e,n,r,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gC(){return Math.random().toString(36).substring(2,10)}function Sw(t,e){return{usr:t.state,key:t.key,idx:e}}function _y(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:n,key:e&&e.key||r||gC()}}function Uu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _o(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function yC(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,d="POP",h=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let V=v(),J=V==null?null:V-g;g=V,h&&h({action:d,location:O.location,delta:J})}function E(V,J){d="PUSH";let Q=_y(O.location,V,J);n&&n(Q,V),g=v()+1;let G=Sw(Q,g),oe=O.createHref(Q);try{c.pushState(G,"",oe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;a.location.assign(oe)}o&&h&&h({action:d,location:O.location,delta:1})}function A(V,J){d="REPLACE";let Q=_y(O.location,V,J);n&&n(Q,V),g=v();let G=Sw(Q,g),oe=O.createHref(Q);c.replaceState(G,"",oe),o&&h&&h({action:d,location:O.location,delta:0})}function M(V){return vC(V)}let O={get action(){return d},get location(){return t(a,c)},listen(V){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Tw,b),h=V,()=>{a.removeEventListener(Tw,b),h=null}},createHref(V){return e(a,V)},createURL:M,encodeLocation(V){let J=M(V);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:E,replace:A,go(V){return c.go(V)}};return O}function vC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Uu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function vT(t,e,n="/"){return bC(t,e,n,!1)}function bC(t,e,n,r){let a=typeof e=="string"?_o(e):e,o=Hs(a.pathname||"/",n);if(o==null)return null;let c=bT(t);xC(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let g=DC(o);d=RC(c[h],g,r)}return d}function bT(t,e=[],n=[],r="",a=!1){let o=(c,d,h=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&h)return;Tt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let b=$s([r,v.relativePath]),E=n.concat(v);c.children&&c.children.length>0&&(Tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),bT(c.children,e,E,b,h)),!(c.path==null&&!c.index)&&e.push({path:b,score:NC(b,c.index),routesMeta:E})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let h of xT(c.path))o(c,d,!0,h)}),e}function xT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=xT(r.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function xC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var _C=/^:[\w-]+$/,wC=3,EC=2,TC=1,SC=10,AC=-2,Aw=t=>t==="*";function NC(t,e){let n=t.split("/"),r=n.length;return n.some(Aw)&&(r+=AC),e&&(r+=EC),n.filter(a=>!Aw(a)).reduce((a,o)=>a+(_C.test(o)?wC:o===""?TC:SC),r)}function IC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function RC(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],g=d===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",b=Vf({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},v),E=h.route;if(!b&&g&&n&&!r[r.length-1].route.index&&(b=Vf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:$s([o,b.pathname]),pathnameBase:PC($s([o,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(o=$s([o,b.pathnameBase]))}return c}function Vf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=CC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:b},E)=>{if(v==="*"){let M=d[E]||"";c=o.slice(0,o.length-M.length).replace(/(.)\/+$/,"$1")}const A=d[E];return b&&!A?g[v]=void 0:g[v]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:t}}function CC(t,e=!1,n=!0){br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function DC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var _T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jC=t=>_T.test(t);function kC(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?_o(t):t,o;if(n)if(jC(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),br(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?o=Nw(n.substring(1),"/"):o=Nw(n,e)}else o=e;return{pathname:o,search:MC(r),hash:VC(a)}}function Nw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ny(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wT(t){let e=OC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ET(t,e,n,r=!1){let a;typeof t=="string"?a=_o(t):(a={...t},Tt(!a.pathname||!a.pathname.includes("?"),ny("?","pathname","search",a)),Tt(!a.pathname||!a.pathname.includes("#"),ny("#","pathname","hash",a)),Tt(!a.search||!a.search.includes("#"),ny("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}d=b>=0?e[b]:"/"}let h=kC(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(g||v)&&(h.pathname+="/"),h}var $s=t=>t.join("/").replace(/\/\/+/g,"/"),PC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,zC=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function LC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function UC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var TT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ST(t,e){let n=t;if(typeof n!="string"||!_T.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(TT)try{let o=new URL(window.location.href),c=n.startsWith("//")?new URL(o.protocol+n):new URL(n),d=Hs(c.pathname,e);c.origin===o.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{br(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AT=["POST","PUT","PATCH","DELETE"];new Set(AT);var FC=["GET",...AT];new Set(FC);var Yl=z.createContext(null);Yl.displayName="DataRouter";var xm=z.createContext(null);xm.displayName="DataRouterState";var BC=z.createContext(!1),NT=z.createContext({isTransitioning:!1});NT.displayName="ViewTransition";var qC=z.createContext(new Map);qC.displayName="Fetchers";var $C=z.createContext(null);$C.displayName="Await";var xr=z.createContext(null);xr.displayName="Navigation";var id=z.createContext(null);id.displayName="Location";var ys=z.createContext({outlet:null,matches:[],isDataRoute:!1});ys.displayName="Route";var mv=z.createContext(null);mv.displayName="RouteError";var IT="REACT_ROUTER_ERROR",HC="REDIRECT",GC="ROUTE_ERROR_RESPONSE";function KC(t){if(t.startsWith(`${IT}:${HC}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function QC(t){if(t.startsWith(`${IT}:${GC}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new zC(e.status,e.statusText,e.data)}catch{}}function ZC(t,{relative:e}={}){Tt(ad(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(xr),{hash:a,pathname:o,search:c}=od(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:$s([n,o])),r.createHref({pathname:d,search:c,hash:a})}function ad(){return z.useContext(id)!=null}function Xs(){return Tt(ad(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(id).location}var RT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CT(t){z.useContext(xr).static||z.useLayoutEffect(t)}function DT(){let{isDataRoute:t}=z.useContext(ys);return t?lD():YC()}function YC(){Tt(ad(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(Yl),{basename:e,navigator:n}=z.useContext(xr),{matches:r}=z.useContext(ys),{pathname:a}=Xs(),o=JSON.stringify(wT(r)),c=z.useRef(!1);return CT(()=>{c.current=!0}),z.useCallback((h,g={})=>{if(br(c.current,RT),!c.current)return;if(typeof h=="number"){n.go(h);return}let v=ET(h,JSON.parse(o),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:$s([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,o,a,t])}z.createContext(null);function jT(){let{matches:t}=z.useContext(ys),e=t[t.length-1];return e?e.params:{}}function od(t,{relative:e}={}){let{matches:n}=z.useContext(ys),{pathname:r}=Xs(),a=JSON.stringify(wT(n));return z.useMemo(()=>ET(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function XC(t,e){return kT(t,e)}function kT(t,e,n,r,a){Tt(ad(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(xr),{matches:c}=z.useContext(ys),d=c[c.length-1],h=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let Q=b&&b.path||"";PT(g,!b||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let E=Xs(),A;if(e){let Q=typeof e=="string"?_o(e):e;Tt(v==="/"||Q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),A=Q}else A=E;let M=A.pathname||"/",O=M;if(v!=="/"){let Q=v.replace(/^\//,"").split("/");O="/"+M.replace(/^\//,"").split("/").slice(Q.length).join("/")}let V=vT(t,{pathname:O});br(b||V!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),br(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=nD(V&&V.map(Q=>Object.assign({},Q,{params:Object.assign({},h,Q.params),pathname:$s([v,o.encodeLocation?o.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?v:$s([v,o.encodeLocation?o.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),c,n,r,a);return e&&J?z.createElement(id.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},J):J}function JC(){let t=oD(),e=LC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:a},n):null,c)}var WC=z.createElement(JC,null),OT=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=QC(t.digest);n&&(t=n)}let e=t!==void 0?z.createElement(ys.Provider,{value:this.props.routeContext},z.createElement(mv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?z.createElement(eD,{error:t},e):e}};OT.contextType=BC;var ry=new WeakMap;function eD({children:t,error:e}){let{basename:n}=z.useContext(xr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=KC(e.digest);if(r){let a=ry.get(e);if(a)throw a;let o=ST(r.location,n);if(TT&&!ry.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw ry.set(e,c),c}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function tD({routeContext:t,match:e,children:n}){let r=z.useContext(Yl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ys.Provider,{value:t},n)}function nD(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let v=o.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let d=!1,h=-1;if(n)for(let v=0;v<o.length;v++){let b=o[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(h=v),b.route.id){let{loaderData:E,errors:A}=n,M=b.route.loader&&!E.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||M){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let g=n&&r?(v,b)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:UC(n.matches),errorInfo:b})}:void 0;return o.reduceRight((v,b,E)=>{let A,M=!1,O=null,V=null;n&&(A=c&&b.route.id?c[b.route.id]:void 0,O=b.route.errorElement||WC,d&&(h<0&&E===0?(PT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,V=null):h===E&&(M=!0,V=b.route.hydrateFallbackElement||null)));let J=e.concat(o.slice(0,E+1)),Q=()=>{let G;return A?G=O:M?G=V:b.route.Component?G=z.createElement(b.route.Component,null):b.route.element?G=b.route.element:G=v,z.createElement(tD,{match:b,routeContext:{outlet:v,matches:J,isDataRoute:n!=null},children:G})};return n&&(b.route.ErrorBoundary||b.route.errorElement||E===0)?z.createElement(OT,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:Q(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:g}):Q()},null)}function pv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rD(t){let e=z.useContext(Yl);return Tt(e,pv(t)),e}function sD(t){let e=z.useContext(xm);return Tt(e,pv(t)),e}function iD(t){let e=z.useContext(ys);return Tt(e,pv(t)),e}function gv(t){let e=iD(t),n=e.matches[e.matches.length-1];return Tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function aD(){return gv("useRouteId")}function oD(){let t=z.useContext(mv),e=sD("useRouteError"),n=gv("useRouteError");return t!==void 0?t:e.errors?.[n]}function lD(){let{router:t}=rD("useNavigate"),e=gv("useNavigate"),n=z.useRef(!1);return CT(()=>{n.current=!0}),z.useCallback(async(a,o={})=>{br(n.current,RT),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var Iw={};function PT(t,e,n){!e&&!Iw[t]&&(Iw[t]=!0,br(!1,n))}z.memo(cD);function cD({routes:t,future:e,state:n,onError:r}){return kT(t,void 0,n,r,e)}function zs(t){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){Tt(!ad(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:d,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[d,a,o,c]);typeof n=="string"&&(n=_o(n));let{pathname:g="/",search:v="",hash:b="",state:E=null,key:A="default"}=n,M=z.useMemo(()=>{let O=Hs(g,d);return O==null?null:{location:{pathname:O,search:v,hash:b,state:E,key:A},navigationType:r}},[d,g,v,b,E,A,r]);return br(M!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:z.createElement(xr.Provider,{value:h},z.createElement(id.Provider,{children:e,value:M}))}function dD({children:t,location:e}){return XC(wy(t),e)}function wy(t,e=[]){let n=[];return z.Children.forEach(t,(r,a)=>{if(!z.isValidElement(r))return;let o=[...e,a];if(r.type===z.Fragment){n.push.apply(n,wy(r.props.children,o));return}Tt(r.type===zs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=wy(r.props.children,o)),n.push(c)}),n}var pf="get",gf="application/x-www-form-urlencoded";function _m(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function hD(t){return _m(t)&&t.tagName.toLowerCase()==="button"}function fD(t){return _m(t)&&t.tagName.toLowerCase()==="form"}function mD(t){return _m(t)&&t.tagName.toLowerCase()==="input"}function pD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gD(t,e){return t.button===0&&(!e||e==="_self")&&!pD(t)}var Wh=null;function yD(){if(Wh===null)try{new FormData(document.createElement("form"),0),Wh=!1}catch{Wh=!0}return Wh}var vD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sy(t){return t!=null&&!vD.has(t)?(br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gf}"`),null):t}function bD(t,e){let n,r,a,o,c;if(fD(t)){let d=t.getAttribute("action");r=d?Hs(d,e):null,n=t.getAttribute("method")||pf,a=sy(t.getAttribute("enctype"))||gf,o=new FormData(t)}else if(hD(t)||mD(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?Hs(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||pf,a=sy(t.getAttribute("formenctype"))||sy(d.getAttribute("enctype"))||gf,o=new FormData(d,t),!yD()){let{name:g,type:v,value:b}=t;if(v==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,b)}}else{if(_m(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pf,r=null,a=gf,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xD(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Hs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function _D(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ED(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await _D(o,n);return c.links?c.links():[]}return[]}));return ND(r.flat(1).filter(wD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Rw(t,e,n,r,a,o){let c=(h,g)=>n[g]?h.route.id!==n[g].route.id:!0,d=(h,g)=>n[g].pathname!==h.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,g)=>c(h,g)||d(h,g)):o==="data"?e.filter((h,g)=>{let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,g)||d(h,g))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function TD(t,e,{includeHydrateFallback:n}={}){return SD(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function SD(t){return[...new Set(t)]}function AD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function ND(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(AD(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function MT(){let t=z.useContext(Yl);return yv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ID(){let t=z.useContext(xm);return yv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vv=z.createContext(void 0);vv.displayName="FrameworkContext";function VT(){let t=z.useContext(vv);return yv(t,"You must render this element inside a <HydratedRouter> element"),t}function RD(t,e){let n=z.useContext(vv),[r,a]=z.useState(!1),[o,c]=z.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,E=z.useRef(null);z.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let O=J=>{J.forEach(Q=>{c(Q.isIntersecting)})},V=new IntersectionObserver(O,{threshold:.5});return E.current&&V.observe(E.current),()=>{V.disconnect()}}},[t]),z.useEffect(()=>{if(r){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[r]);let A=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:gu(d,A),onBlur:gu(h,M),onMouseEnter:gu(g,A),onMouseLeave:gu(v,M),onTouchStart:gu(b,A)}]:[!1,E,{}]}function gu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function CD({page:t,...e}){let{router:n}=MT(),r=z.useMemo(()=>vT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?z.createElement(jD,{page:t,matches:r,...e}):null}function DD(t){let{manifest:e,routeModules:n}=VT(),[r,a]=z.useState([]);return z.useEffect(()=>{let o=!1;return ED(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),r}function jD({page:t,matches:e,...n}){let r=Xs(),{future:a,manifest:o,routeModules:c}=VT(),{basename:d}=MT(),{loaderData:h,matches:g}=ID(),v=z.useMemo(()=>Rw(t,e,g,o,r,"data"),[t,e,g,o,r]),b=z.useMemo(()=>Rw(t,e,g,o,r,"assets"),[t,e,g,o,r]),E=z.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let O=new Set,V=!1;if(e.forEach(Q=>{let G=o.routes[Q.route.id];!G||!G.hasLoader||(!v.some(oe=>oe.route.id===Q.route.id)&&Q.route.id in h&&c[Q.route.id]?.shouldRevalidate||G.hasClientLoader?V=!0:O.add(Q.route.id))}),O.size===0)return[];let J=xD(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return V&&O.size>0&&J.searchParams.set("_routes",e.filter(Q=>O.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[J.pathname+J.search]},[d,a.unstable_trailingSlashAwareDataRequests,h,r,o,v,e,t,c]),A=z.useMemo(()=>TD(b,o),[b,o]),M=DD(b);return z.createElement(z.Fragment,null,E.map(O=>z.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),A.map(O=>z.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),M.map(({key:O,link:V})=>z.createElement("link",{key:O,nonce:n.nonce,...V})))}function kD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OD&&(window.__reactRouterVersion="7.12.0")}catch{}function PD({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=z.useRef();a.current==null&&(a.current=pC({window:r,v5Compat:!0}));let o=a.current,[c,d]=z.useState({action:o.action,location:o.location}),h=z.useCallback(g=>{n===!1?d(g):z.startTransition(()=>d(g))},[n]);return z.useLayoutEffect(()=>o.listen(h),[o,h]),z.createElement(uD,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n})}var zT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:d,target:h,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:E,...A},M){let{basename:O,unstable_useTransitions:V}=z.useContext(xr),J=typeof g=="string"&&zT.test(g),Q=ST(g,O);g=Q.to;let G=ZC(g,{relative:a}),[oe,ce,me]=RD(r,A),I=LD(g,{replace:c,state:d,target:h,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:E,unstable_useTransitions:V});function S(D){e&&e(D),D.defaultPrevented||I(D)}let C=z.createElement("a",{...A,...me,href:Q.absoluteURL||G,onClick:Q.isExternal||o?e:S,ref:kD(M,ce),target:h,"data-discover":!J&&n==="render"?"true":void 0});return oe&&!J?z.createElement(z.Fragment,null,C,z.createElement(CD,{page:G})):C});xt.displayName="Link";var MD=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:d,children:h,...g},v){let b=od(c,{relative:g.relative}),E=Xs(),A=z.useContext(xm),{navigator:M,basename:O}=z.useContext(xr),V=A!=null&&$D(b)&&d===!0,J=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,Q=E.pathname,G=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),G=G?G.toLowerCase():null,J=J.toLowerCase()),G&&O&&(G=Hs(G,O)||G);const oe=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ce=Q===J||!a&&Q.startsWith(J)&&Q.charAt(oe)==="/",me=G!=null&&(G===J||!a&&G.startsWith(J)&&G.charAt(J.length)==="/"),I={isActive:ce,isPending:me,isTransitioning:V},S=ce?e:void 0,C;typeof r=="function"?C=r(I):C=[r,ce?"active":null,me?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(I):o;return z.createElement(xt,{...g,"aria-current":S,className:C,ref:v,style:D,to:c,viewTransition:d},typeof h=="function"?h(I):h)});MD.displayName="NavLink";var VD=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:c=pf,action:d,onSubmit:h,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:E,...A},M)=>{let{unstable_useTransitions:O}=z.useContext(xr),V=BD(),J=qD(d,{relative:g}),Q=c.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&zT.test(d),oe=ce=>{if(h&&h(ce),ce.defaultPrevented)return;ce.preventDefault();let me=ce.nativeEvent.submitter,I=me?.getAttribute("formmethod")||c,S=()=>V(me||ce.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:o,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:E});O&&n!==!1?z.startTransition(()=>S()):S()};return z.createElement("form",{ref:M,method:Q,action:J,onSubmit:r?h:oe,...A,"data-discover":!G&&t==="render"?"true":void 0})});VD.displayName="Form";function zD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LT(t){let e=z.useContext(Yl);return Tt(e,zD(t)),e}function LD(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let g=DT(),v=Xs(),b=od(t,{relative:o});return z.useCallback(E=>{if(gD(E,e)){E.preventDefault();let A=n!==void 0?n:Uu(v)===Uu(b),M=()=>g(t,{replace:A,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d});h?z.startTransition(()=>M()):M()}},[v,g,b,n,r,e,t,a,o,c,d,h])}var UD=0,FD=()=>`__${String(++UD)}__`;function BD(){let{router:t}=LT("useSubmit"),{basename:e}=z.useContext(xr),n=aD(),r=t.fetch,a=t.navigate;return z.useCallback(async(o,c={})=>{let{action:d,method:h,encType:g,formData:v,body:b}=bD(o,e);if(c.navigate===!1){let E=c.fetcherKey||FD();await r(E,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||h,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||h,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,n])}function qD(t,{relative:e}={}){let{basename:n}=z.useContext(xr),r=z.useContext(ys);Tt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...od(t||".",{relative:e})},c=Xs();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(v=>v==="")){d.delete("index"),h.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();o.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:$s([n,o.pathname])),Uu(o)}function $D(t,{relative:e}={}){let n=z.useContext(NT);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=LT("useViewTransitionState"),a=od(t,{relative:e});if(!n.isTransitioning)return!1;let o=Hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vf(a.pathname,c)!=null||Vf(a.pathname,o)!=null}var Xl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},HD={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},GD=class{#e=HD;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Qa=new GD;function KD(t){setTimeout(t,0)}var ro=typeof window>"u"||"Deno"in globalThis;function An(){}function QD(t,e){return typeof t=="function"?t(e):t}function Ey(t){return typeof t=="number"&&t>=0&&t!==1/0}function UT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Gi(t,e){return typeof t=="function"?t(e):t}function mr(t,e){return typeof t=="function"?t(e):t}function Cw(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:c,stale:d}=t;if(c){if(r){if(e.queryHash!==bv(c,e.options))return!1}else if(!Fu(e.queryKey,c))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||o&&!o(e))}function Dw(t,e){const{exact:n,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(so(e.options.mutationKey)!==so(o))return!1}else if(!Fu(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function bv(t,e){return(e?.queryKeyHashFn||so)(t)}function so(t){return JSON.stringify(t,(e,n)=>Ty(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Fu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Fu(t[n],e[n])):!1}var ZD=Object.prototype.hasOwnProperty;function FT(t,e){if(t===e)return t;const n=jw(t)&&jw(e);if(!n&&!(Ty(t)&&Ty(e)))return e;const a=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),c=o.length,d=n?new Array(c):{};let h=0;for(let g=0;g<c;g++){const v=n?g:o[g],b=t[v],E=e[v];if(b===E){d[v]=b,(n?g<a:ZD.call(t,v))&&h++;continue}if(b===null||E===null||typeof b!="object"||typeof E!="object"){d[v]=E;continue}const A=FT(b,E);d[v]=A,A===b&&h++}return a===c&&h===a?t:d}function zf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function jw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ty(t){if(!kw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!kw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function kw(t){return Object.prototype.toString.call(t)==="[object Object]"}function YD(t){return new Promise(e=>{Qa.setTimeout(e,t)})}function Sy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?FT(t,e):e}function XD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function JD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var xv=Symbol();function BT(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===xv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function _v(t,e){return typeof t=="function"?t(...e):!!t}function WD(t,e,n){let r=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??=e(),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var ej=class extends Xl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!ro&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},wv=new ej;function Ay(){let t,e;const n=new Promise((a,o)=>{t=a,e=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}var tj=KD;function nj(){let t=[],e=0,n=d=>{d()},r=d=>{d()},a=tj;const o=d=>{e?t.push(d):a(()=>{n(d)})},c=()=>{const d=t;t=[],d.length&&a(()=>{r(()=>{d.forEach(h=>{n(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{o(()=>{d(...h)})},schedule:o,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{a=d}}}var Wt=nj(),rj=class extends Xl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!ro&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Lf=new rj;function sj(t){return Math.min(1e3*2**t,3e4)}function qT(t){return(t??"online")==="online"?Lf.isOnline():!0}var Ny=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function $T(t){let e=!1,n=0,r;const a=Ay(),o=()=>a.status!=="pending",c=O=>{if(!o()){const V=new Ny(O);E(V),t.onCancel?.(V)}},d=()=>{e=!0},h=()=>{e=!1},g=()=>wv.isFocused()&&(t.networkMode==="always"||Lf.isOnline())&&t.canRun(),v=()=>qT(t.networkMode)&&t.canRun(),b=O=>{o()||(r?.(),a.resolve(O))},E=O=>{o()||(r?.(),a.reject(O))},A=()=>new Promise(O=>{r=V=>{(o()||g())&&O(V)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),M=()=>{if(o())return;let O;const V=n===0?t.initialPromise:void 0;try{O=V??t.fn()}catch(J){O=Promise.reject(J)}Promise.resolve(O).then(b).catch(J=>{if(o())return;const Q=t.retry??(ro?0:3),G=t.retryDelay??sj,oe=typeof G=="function"?G(n,J):G,ce=Q===!0||typeof Q=="number"&&n<Q||typeof Q=="function"&&Q(n,J);if(e||!ce){E(J);return}n++,t.onFail?.(n,J),YD(oe).then(()=>g()?void 0:A()).then(()=>{e?E(J):M()})})};return{promise:a,status:()=>a.status,cancel:c,continue:()=>(r?.(),a),cancelRetry:d,continueRetry:h,canStart:v,start:()=>(v()?M():A().then(M),a)}}var HT=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ey(this.gcTime)&&(this.#e=Qa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ro?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Qa.clearTimeout(this.#e),this.#e=void 0)}},ij=class extends HT{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Pw(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Pw(this.options);n.data!==void 0&&(this.setState(Ow(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=Sy(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>mr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Gi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!UT(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const h=BT(this.options,n),v=(()=>{const b={client:this.#s,queryKey:this.queryKey,meta:this.meta};return a(b),b})();return this.#o=!1,this.options.persister?this.options.persister(h,v,this):h(v)},d=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return a(h),h})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#i({type:"fetch",meta:d.fetchOptions?.meta}),this.#r=$T({initialPromise:n?.initialPromise,fn:d.fetchFn,onCancel:h=>{h instanceof Ny&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(h,g)=>{this.#i({type:"failed",failureCount:h,error:g})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const h=await this.#r.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Ny){if(h.silent)return this.#r.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#i({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...GT(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...Ow(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Wt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function GT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ow(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Pw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var aj=class extends Xl{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=Ay(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Mw(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Iy(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Iy(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#_(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!zf(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Vw(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||mr(this.options.enabled,this.#t)!==mr(e.enabled,this.#t)||Gi(this.options.staleTime,this.#t)!==Gi(e.staleTime,this.#t))&&this.#g();const a=this.#y();r&&(this.#t!==n||mr(this.options.enabled,this.#t)!==mr(e.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return lj(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(An)),e}#g(){this.#x();const t=Gi(this.options.staleTime,this.#t);if(ro||this.#s.isStale||!Ey(t))return;const n=UT(this.#s.dataUpdatedAt,t)+1;this.#c=Qa.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#_(),this.#l=t,!(ro||mr(this.options.enabled,this.#t)===!1||!Ey(this.#l)||this.#l===0)&&(this.#u=Qa.setInterval(()=>{(this.options.refetchIntervalInBackground||wv.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(Qa.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(Qa.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,a=this.#s,o=this.#r,c=this.#a,h=t!==n?t.state:this.#n,{state:g}=t;let v={...g},b=!1,E;if(e._optimisticResults){const S=this.hasListeners(),C=!S&&Mw(t,e),D=S&&Vw(t,n,e,r);(C||D)&&(v={...v,...GT(g.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:A,errorUpdatedAt:M,status:O}=v;E=v.data;let V=!1;if(e.placeholderData!==void 0&&E===void 0&&O==="pending"){let S;a?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(S=a.data,V=!0):S=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,S!==void 0&&(O="success",E=Sy(a?.data,S,e),b=!0)}if(e.select&&E!==void 0&&!V)if(a&&E===o?.data&&e.select===this.#p)E=this.#h;else try{this.#p=e.select,E=e.select(E),E=Sy(a?.data,E,e),this.#h=E,this.#i=null}catch(S){this.#i=S}this.#i&&(A=this.#i,E=this.#h,M=Date.now(),O="error");const J=v.fetchStatus==="fetching",Q=O==="pending",G=O==="error",oe=Q&&J,ce=E!==void 0,I={status:O,fetchStatus:v.fetchStatus,isPending:Q,isSuccess:O==="success",isError:G,isInitialLoading:oe,isLoading:oe,data:E,dataUpdatedAt:v.dataUpdatedAt,error:A,errorUpdatedAt:M,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>h.dataUpdateCount||v.errorUpdateCount>h.errorUpdateCount,isFetching:J,isRefetching:J&&!Q,isLoadingError:G&&!ce,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:G&&ce,isStale:Ev(t,e),refetch:this.refetch,promise:this.#o,isEnabled:mr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const S=R=>{I.status==="error"?R.reject(I.error):I.data!==void 0&&R.resolve(I.data)},C=()=>{const R=this.#o=I.promise=Ay();S(R)},D=this.#o;switch(D.status){case"pending":t.queryHash===n.queryHash&&S(D);break;case"fulfilled":(I.status==="error"||I.data!==D.value)&&C();break;case"rejected":(I.status!=="error"||I.error!==D.reason)&&C();break}}return I}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),zf(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#m.size)return!0;const o=new Set(a??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(c=>{const d=c;return this.#s[d]!==t[d]&&o.has(d)})};this.#E({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#E(t){Wt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function oj(t,e){return mr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Mw(t,e){return oj(t,e)||t.state.data!==void 0&&Iy(t,e,e.refetchOnMount)}function Iy(t,e,n){if(mr(e.enabled,t)!==!1&&Gi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Ev(t,e)}return!1}function Vw(t,e,n,r){return(t!==e||mr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Ev(t,n)}function Ev(t,e){return mr(e.enabled,t)!==!1&&t.isStaleByTime(Gi(e.staleTime,t))}function lj(t,e){return!zf(t.getCurrentResult(),e)}function zw(t){return{onFetch:(e,n)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const g=async()=>{let v=!1;const b=M=>{WD(M,()=>e.signal,()=>v=!0)},E=BT(e.options,e.fetchOptions),A=async(M,O,V)=>{if(v)return Promise.reject();if(O==null&&M.pages.length)return Promise.resolve(M);const Q=(()=>{const me={client:e.client,queryKey:e.queryKey,pageParam:O,direction:V?"backward":"forward",meta:e.options.meta};return b(me),me})(),G=await E(Q),{maxPages:oe}=e.options,ce=V?JD:XD;return{pages:ce(M.pages,G,oe),pageParams:ce(M.pageParams,O,oe)}};if(a&&o.length){const M=a==="backward",O=M?cj:Lw,V={pages:o,pageParams:c},J=O(r,V);d=await A(V,J,M)}else{const M=t??o.length;do{const O=h===0?c[0]??r.initialPageParam:Lw(r,d);if(h>0&&O==null)break;d=await A(d,O),h++}while(h<M)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=g}}}function Lw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function cj(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var uj=class extends HT{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||KT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=$T({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(c,d)=>{this.#r({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",o=!this.#s.canStart();try{if(a)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const d=await this.options.onMutate?.(e,r);d!==this.state.context&&this.#r({type:"pending",context:d,variables:e,isPaused:o})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,e,this.state.context,this,r),await this.options.onSuccess?.(c,e,this.state.context,r),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(c,null,e,this.state.context,r),this.#r({type:"success",data:c}),c}catch(c){try{await this.#n.config.onError?.(c,e,this.state.context,this,r)}catch(d){Promise.reject(d)}try{await this.options.onError?.(c,e,this.state.context,r)}catch(d){Promise.reject(d)}try{await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,r)}catch(d){Promise.reject(d)}try{await this.options.onSettled?.(void 0,c,e,this.state.context,r)}catch(d){Promise.reject(d)}throw this.#r({type:"error",error:c}),c}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Wt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function KT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dj=class extends Xl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new uj({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=ef(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=ef(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=ef(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=ef(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Wt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Dw(e,n))}findAll(t={}){return this.getAll().filter(e=>Dw(t,e))}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Wt.batch(()=>Promise.all(t.map(e=>e.continue().catch(An))))}};function ef(t){return t.options.scope?.id}var hj=class extends Xl{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),zf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&so(n.mutationKey)!==so(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??KT();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Wt.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(e.data,null,n,r,a)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,e.error,n,r,a)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},fj=class extends Xl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,a=e.queryHash??bv(r,e);let o=this.get(a);return o||(o=new ij({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Cw(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Cw(t,n)):e}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},mj=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new fj,this.#t=t.mutationCache||new dj,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=wv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Lf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Gi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,c=QD(e,o);if(c!==void 0)return this.#e.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Wt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Wt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Wt.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(An).catch(An)}invalidateQueries(t,e={}){return Wt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Wt.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(An)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(An)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Gi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(An).catch(An)}fetchInfiniteQuery(t){return t.behavior=zw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(An).catch(An)}ensureInfiniteQueryData(t){return t.behavior=zw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(so(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Fu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(so(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Fu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=bv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===xv&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},QT=z.createContext(void 0),Jl=t=>{const e=z.useContext(QT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},pj=({client:t,children:e})=>(z.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(QT.Provider,{value:t,children:e})),ZT=z.createContext(!1),gj=()=>z.useContext(ZT);ZT.Provider;function yj(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var vj=z.createContext(yj()),bj=()=>z.useContext(vj),xj=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?_v(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},_j=t=>{z.useEffect(()=>{t.clearReset()},[t])},wj=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||_v(n,[t.error,r])),Ej=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Tj=(t,e)=>t.isLoading&&t.isFetching&&!e,Sj=(t,e)=>t?.suspense&&e.isPending,Uw=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Aj(t,e,n){const r=gj(),a=bj(),o=Jl(),c=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const d=o.getQueryCache().get(c.queryHash);c._optimisticResults=r?"isRestoring":"optimistic",Ej(c),xj(c,a,d),_j(a);const h=!o.getQueryCache().get(c.queryHash),[g]=z.useState(()=>new e(o,c)),v=g.getOptimisticResult(c),b=!r&&t.subscribed!==!1;if(z.useSyncExternalStore(z.useCallback(E=>{const A=b?g.subscribe(Wt.batchCalls(E)):An;return g.updateResult(),A},[g,b]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),z.useEffect(()=>{g.setOptions(c)},[c,g]),Sj(c,v))throw Uw(c,g,a);if(wj({result:v,errorResetBoundary:a,throwOnError:c.throwOnError,query:d,suspense:c.suspense}))throw v.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,v),c.experimental_prefetchInRender&&!ro&&Tj(v,r)&&(h?Uw(c,g,a):d?.promise)?.catch(An).finally(()=>{g.updateResult()}),c.notifyOnChangeProps?v:g.trackResult(v)}function YT(t,e){return Aj(t,aj)}function wm(t,e){const n=Jl(),[r]=z.useState(()=>new hj(n,t));z.useEffect(()=>{r.setOptions(t)},[r,t]);const a=z.useSyncExternalStore(z.useCallback(c=>r.subscribe(Wt.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=z.useCallback((c,d)=>{r.mutate(c,d).catch(An)},[r]);if(a.error&&_v(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}const Nj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ij=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Fw=t=>{const e=Ij(t);return e.charAt(0).toUpperCase()+e.slice(1)},XT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Rj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Cj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Dj=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...d},h)=>z.createElement("svg",{ref:h,...Cj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:XT("lucide",a),...!o&&!Rj(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>z.createElement(g,v)),...Array.isArray(o)?o:[o]]));const gt=(t,e)=>{const n=z.forwardRef(({className:r,...a},o)=>z.createElement(Dj,{ref:o,iconNode:e,className:XT(`lucide-${Nj(Fw(t))}`,`lucide-${t}`,r),...a}));return n.displayName=Fw(t),n};const jj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Bw=gt("activity",jj);const kj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Oj=gt("arrow-left",kj);const Pj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yf=gt("arrow-right",Pj);const Mj=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Vj=gt("calculator",Mj);const zj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],io=gt("calendar",zj);const Lj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qw=gt("chevron-left",Lj);const Uj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fj=gt("circle-check-big",Uj);const Bj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Uf=gt("clock",Bj);const qj=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],JT=gt("crown",qj);const $j=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Cu=gt("external-link",$j);const Hj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Gj=gt("house",Hj);const Kj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],WT=gt("map-pin",Kj);const Qj=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Zj=gt("menu",Qj);const Yj=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Xj=gt("play",Yj);const Jj=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Wj=gt("rotate-ccw",Jj);const ek=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tk=gt("search",ek);const nk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$w=gt("star",nk);const rk=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],sk=gt("swords",rk);const ik=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Bu=gt("target",ik);const ak=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ry=gt("trending-up",ak);const ok=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Yn=gt("trophy",ok);const lk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ck=gt("user-plus",lk);const uk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dk=gt("user",uk);const hk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kl=gt("users",hk);const fk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mk=gt("x",fk);function eS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=eS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pk(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=eS(t))&&(r&&(r+=" "),r+=e);return r}const gk=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},yk=(t,e)=>({classGroupId:t,validator:e}),tS=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Ff="-",Hw=[],vk="arbitrary..",bk=t=>{const e=_k(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return xk(c);const d=c.split(Ff),h=d[0]===""&&d.length>1?1:0;return nS(d,h,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const h=r[c],g=n[c];return h?g?gk(g,h):h:g||Hw}return n[c]||Hw}}},nS=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],o=n.nextPart.get(a);if(o){const g=nS(t,e+1,o);if(g)return g}const c=n.validators;if(c===null)return;const d=e===0?t.join(Ff):t.slice(e).join(Ff),h=c.length;for(let g=0;g<h;g++){const v=c[g];if(v.validator(d))return v.classGroupId}},xk=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?vk+r:void 0})(),_k=t=>{const{theme:e,classGroups:n}=t;return wk(n,e)},wk=(t,e)=>{const n=tS();for(const r in t){const a=t[r];Tv(a,n,r,e)}return n},Tv=(t,e,n,r)=>{const a=t.length;for(let o=0;o<a;o++){const c=t[o];Ek(c,e,n,r)}},Ek=(t,e,n,r)=>{if(typeof t=="string"){Tk(t,e,n);return}if(typeof t=="function"){Sk(t,e,n,r);return}Ak(t,e,n,r)},Tk=(t,e,n)=>{const r=t===""?e:rS(e,t);r.classGroupId=n},Sk=(t,e,n,r)=>{if(Nk(t)){Tv(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(yk(n,t))},Ak=(t,e,n,r)=>{const a=Object.entries(t),o=a.length;for(let c=0;c<o;c++){const[d,h]=a[c];Tv(h,rS(e,d),n,r)}},rS=(t,e)=>{let n=t;const r=e.split(Ff),a=r.length;for(let o=0;o<a;o++){const c=r[o];let d=n.nextPart.get(c);d||(d=tS(),n.nextPart.set(c,d)),n=d}return n},Nk=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Ik=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(o,c)=>{n[o]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let c=n[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return a(o,c),c},set(o,c){o in n?n[o]=c:a(o,c)}}},Cy="!",Gw=":",Rk=[],Kw=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),Ck=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const o=[];let c=0,d=0,h=0,g;const v=a.length;for(let O=0;O<v;O++){const V=a[O];if(c===0&&d===0){if(V===Gw){o.push(a.slice(h,O)),h=O+1;continue}if(V==="/"){g=O;continue}}V==="["?c++:V==="]"?c--:V==="("?d++:V===")"&&d--}const b=o.length===0?a:a.slice(h);let E=b,A=!1;b.endsWith(Cy)?(E=b.slice(0,-1),A=!0):b.startsWith(Cy)&&(E=b.slice(1),A=!0);const M=g&&g>h?g-h:void 0;return Kw(o,A,E,M)};if(e){const a=e+Gw,o=r;r=c=>c.startsWith(a)?o(c.slice(a.length)):Kw(Rk,!1,c,void 0,!0)}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},Dk=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let o=0;o<n.length;o++){const c=n[o],d=c[0]==="[",h=e.has(c);d||h?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},jk=t=>({cache:Ik(t.cacheSize),parseClassName:Ck(t),sortModifiers:Dk(t),...bk(t)}),kk=/\s+/,Ok=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,c=[],d=t.trim().split(kk);let h="";for(let g=d.length-1;g>=0;g-=1){const v=d[g],{isExternal:b,modifiers:E,hasImportantModifier:A,baseClassName:M,maybePostfixModifierPosition:O}=n(v);if(b){h=v+(h.length>0?" "+h:h);continue}let V=!!O,J=r(V?M.substring(0,O):M);if(!J){if(!V){h=v+(h.length>0?" "+h:h);continue}if(J=r(M),!J){h=v+(h.length>0?" "+h:h);continue}V=!1}const Q=E.length===0?"":E.length===1?E[0]:o(E).join(":"),G=A?Q+Cy:Q,oe=G+J;if(c.indexOf(oe)>-1)continue;c.push(oe);const ce=a(J,V);for(let me=0;me<ce.length;++me){const I=ce[me];c.push(G+I)}h=v+(h.length>0?" "+h:h)}return h},Pk=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=sS(n))&&(a&&(a+=" "),a+=r);return a},sS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=sS(t[r]))&&(n&&(n+=" "),n+=e);return n},Mk=(t,...e)=>{let n,r,a,o;const c=h=>{const g=e.reduce((v,b)=>b(v),t());return n=jk(g),r=n.cache.get,a=n.cache.set,o=d,d(h)},d=h=>{const g=r(h);if(g)return g;const v=Ok(h,n);return a(h,v),v};return o=c,(...h)=>o(Pk(...h))},Vk=[],Jt=t=>{const e=n=>n[t]||Vk;return e.isThemeGetter=!0,e},iS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,aS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zk=/^\d+\/\d+$/,Lk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Uk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Bk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ml=t=>zk.test(t),Le=t=>!!t&&!Number.isNaN(Number(t)),Pi=t=>!!t&&Number.isInteger(Number(t)),iy=t=>t.endsWith("%")&&Le(t.slice(0,-1)),Vs=t=>Lk.test(t),$k=()=>!0,Hk=t=>Uk.test(t)&&!Fk.test(t),oS=()=>!1,Gk=t=>Bk.test(t),Kk=t=>qk.test(t),Qk=t=>!ye(t)&&!ve(t),Zk=t=>Wl(t,uS,oS),ye=t=>iS.test(t),La=t=>Wl(t,dS,Hk),ay=t=>Wl(t,eO,Le),Qw=t=>Wl(t,lS,oS),Yk=t=>Wl(t,cS,Kk),tf=t=>Wl(t,hS,Gk),ve=t=>aS.test(t),yu=t=>ec(t,dS),Xk=t=>ec(t,tO),Zw=t=>ec(t,lS),Jk=t=>ec(t,uS),Wk=t=>ec(t,cS),nf=t=>ec(t,hS,!0),Wl=(t,e,n)=>{const r=iS.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ec=(t,e,n=!1)=>{const r=aS.exec(t);return r?r[1]?e(r[1]):n:!1},lS=t=>t==="position"||t==="percentage",cS=t=>t==="image"||t==="url",uS=t=>t==="length"||t==="size"||t==="bg-size",dS=t=>t==="length",eO=t=>t==="number",tO=t=>t==="family-name",hS=t=>t==="shadow",nO=()=>{const t=Jt("color"),e=Jt("font"),n=Jt("text"),r=Jt("font-weight"),a=Jt("tracking"),o=Jt("leading"),c=Jt("breakpoint"),d=Jt("container"),h=Jt("spacing"),g=Jt("radius"),v=Jt("shadow"),b=Jt("inset-shadow"),E=Jt("text-shadow"),A=Jt("drop-shadow"),M=Jt("blur"),O=Jt("perspective"),V=Jt("aspect"),J=Jt("ease"),Q=Jt("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ce=()=>[...oe(),ve,ye],me=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],S=()=>[ve,ye,h],C=()=>[ml,"full","auto",...S()],D=()=>[Pi,"none","subgrid",ve,ye],R=()=>["auto",{span:["full",Pi,ve,ye]},Pi,ve,ye],U=()=>[Pi,"auto",ve,ye],k=()=>["auto","min","max","fr",ve,ye],ze=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ke=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...S()],le=()=>[ml,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],ee=()=>[t,ve,ye],we=()=>[...oe(),Zw,Qw,{position:[ve,ye]}],Me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",Jk,Zk,{size:[ve,ye]}],Z=()=>[iy,yu,La],ae=()=>["","none","full",g,ve,ye],de=()=>["",Le,yu,La],Ne=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>[Le,iy,Zw,Qw],At=()=>["","none",M,ve,ye],tt=()=>["none",Le,ve,ye],er=()=>["none",Le,ve,ye],Lr=()=>[Le,ve,ye],wr=()=>[ml,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vs],breakpoint:[Vs],color:[$k],container:[Vs],"drop-shadow":[Vs],ease:["in","out","in-out"],font:[Qk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vs],shadow:[Vs],spacing:["px",Le],text:[Vs],"text-shadow":[Vs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ml,ye,ve,V]}],container:["container"],columns:[{columns:[Le,ye,ve,d]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ce()}],overflow:[{overflow:me()}],"overflow-x":[{"overflow-x":me()}],"overflow-y":[{"overflow-y":me()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Pi,"auto",ve,ye]}],basis:[{basis:[ml,"full","auto",d,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,ml,"auto","initial","none",ye]}],grow:[{grow:["",Le,ve,ye]}],shrink:[{shrink:["",Le,ve,ye]}],order:[{order:[Pi,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...ze(),"normal"]}],"justify-items":[{"justify-items":[...Ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ke()]}],"align-content":[{content:["normal",...ze()]}],"align-items":[{items:[...Ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":ze()}],"place-items":[{"place-items":[...Ke(),"baseline"]}],"place-self":[{"place-self":["auto",...Ke()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[d,"screen",...le()]}],"min-w":[{"min-w":[d,"screen","none",...le()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",n,yu,La]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,ay]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",iy,ye]}],"font-family":[{font:[Xk,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,ye]}],"line-clamp":[{"line-clamp":[Le,"none",ve,ay]}],leading:[{leading:[o,...S()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",ve,La]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[Le,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:we()}],"bg-repeat":[{bg:Me()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pi,ve,ye],radial:["",ve,ye],conic:[Pi,ve,ye]},Wk,Yk]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,ve,ye]}],"outline-w":[{outline:["",Le,yu,La]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",v,nf,tf]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",b,nf,tf]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[Le,La]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",E,nf,tf]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[Le,ve,ye]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ae()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":Ae()}],"mask-image-t-to-pos":[{"mask-t-to":Ae()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":Ae()}],"mask-image-r-to-pos":[{"mask-r-to":Ae()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":Ae()}],"mask-image-b-to-pos":[{"mask-b-to":Ae()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":Ae()}],"mask-image-l-to-pos":[{"mask-l-to":Ae()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":Ae()}],"mask-image-x-to-pos":[{"mask-x-to":Ae()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":Ae()}],"mask-image-y-to-pos":[{"mask-y-to":Ae()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ae()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":oe()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ae()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:we()}],"mask-repeat":[{mask:Me()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:At()}],brightness:[{brightness:[Le,ve,ye]}],contrast:[{contrast:[Le,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",A,nf,tf]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",Le,ve,ye]}],"hue-rotate":[{"hue-rotate":[Le,ve,ye]}],invert:[{invert:["",Le,ve,ye]}],saturate:[{saturate:[Le,ve,ye]}],sepia:[{sepia:["",Le,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":At()}],"backdrop-brightness":[{"backdrop-brightness":[Le,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Le,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Le,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Le,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Le,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",ve,ye]}],ease:[{ease:["linear","initial",J,ve,ye]}],delay:[{delay:[Le,ve,ye]}],animate:[{animate:["none",Q,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,ve,ye]}],"perspective-origin":[{"perspective-origin":ce()}],rotate:[{rotate:tt()}],"rotate-x":[{"rotate-x":tt()}],"rotate-y":[{"rotate-y":tt()}],"rotate-z":[{"rotate-z":tt()}],scale:[{scale:er()}],"scale-x":[{"scale-x":er()}],"scale-y":[{"scale-y":er()}],"scale-z":[{"scale-z":er()}],"scale-3d":["scale-3d"],skew:[{skew:Lr()}],"skew-x":[{"skew-x":Lr()}],"skew-y":[{"skew-y":Lr()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:ce()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:wr()}],"translate-x":[{"translate-x":wr()}],"translate-y":[{"translate-y":wr()}],"translate-z":[{"translate-z":wr()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[Le,yu,La,ay]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},rO=Mk(nO);function on(...t){return rO(pk(t))}const sO=(t,e)=>{let n=null,r=0,a=0;return t.map(o=>{const c=e(o);return a+=1,(n===null||c!==n)&&(r=a,n=c),{...o,rank:r}})},Ui=qs.forwardRef(({variant:t="primary",size:e="md",icon:n,iconPosition:r="left",loading:a=!1,className:o,children:c,disabled:d,...h},g)=>{const v="inline-flex items-center justify-center font-bold rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed",b={primary:"bg-primary text-white hover:bg-primary-hover focus:ring-primary/50 shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 hover:scale-105",secondary:"bg-surface-highlight text-text-main border-2 border-border hover:border-primary/50 hover:bg-surface-alt focus:ring-primary/30 shadow-lg hover:shadow-xl",success:"bg-success text-white hover:bg-success/90 focus:ring-success/50 shadow-lg shadow-success/20 hover:shadow-xl hover:shadow-success/30 hover:scale-105",warning:"bg-warning text-white hover:bg-warning/90 focus:ring-warning/50 shadow-lg shadow-warning/20 hover:shadow-xl hover:shadow-warning/30 hover:scale-105",error:"bg-error text-white hover:bg-error/90 focus:ring-error/50 shadow-lg shadow-error/20 hover:shadow-xl hover:shadow-error/30 hover:scale-105",ghost:"bg-transparent text-text-main hover:bg-surface-highlight border-2 border-transparent hover:border-border focus:ring-primary/30",premium:"bg-gradient-to-r from-primary to-primary-hover text-white hover:from-primary-hover hover:to-primary focus:ring-primary/50 shadow-2xl hover:shadow-3xl transform hover:scale-110"},E={sm:"px-3 py-2 text-sm gap-2 min-h-[2.25rem]",md:"px-4 py-3 text-base gap-2 min-h-[2.75rem]",lg:"px-6 py-4 text-lg gap-3 min-h-[3.25rem]",xl:"px-8 py-5 text-xl gap-3 min-h-[3.75rem]"},A={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6",xl:"h-7 w-7"},M=()=>m.jsx("div",{className:on("animate-spin rounded-full border-2 border-current border-t-transparent",A[e])}),O=()=>{if(a)return m.jsx(M,{});if(!n)return null;if(qs.isValidElement(n)){const V=n.props?.className||"";return qs.cloneElement(n,{className:on(A[e],V)})}return n};return m.jsxs("button",{ref:g,className:on(v,b[t]??b.primary,E[e]??E.md,o),disabled:d||a,...h,children:[r==="left"&&O(),a?"Loading...":c,r==="right"&&O()]})});Ui.displayName="Button";const iO=({children:t})=>{const[e,n]=z.useState(!1),r=Xs(),a=[{name:"Home",href:"/",icon:Gj},{name:"Standings",href:"/standings",icon:Yn},{name:"Schedule",href:"/schedule",icon:io},{name:"Players",href:"/players",icon:kl},{name:"Format",href:"/format",icon:Bu},{name:"Admin",href:"/admin",icon:Vj}];return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsxs("nav",{className:"bg-gradient-to-r from-surface via-surface-alt to-surface text-text-main sticky top-0 z-50 shadow-2xl border-b border-border/50 backdrop-blur-md",children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex items-center justify-between h-16",children:[m.jsx("div",{className:"flex items-center",children:m.jsxs(xt,{to:"/",className:"flex items-center space-x-3 group",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-warning rounded-full blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),m.jsx("div",{className:"relative w-10 h-10 bg-gradient-to-br from-primary to-warning rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-all duration-300",children:m.jsx(Yn,{className:"h-6 w-6 text-white"})})]}),m.jsxs("div",{children:[m.jsx("span",{className:"font-black text-xl tracking-tight bg-gradient-to-r from-primary to-warning bg-clip-text text-transparent group-hover:from-warning group-hover:to-primary transition-all duration-300",children:"Paddle Up"}),m.jsx("div",{className:"text-xs text-text-muted font-semibold tracking-wider uppercase",children:"Premier League"})]})]})}),m.jsx("div",{className:"hidden md:block",children:m.jsx("div",{className:"ml-10 flex items-baseline space-x-1",children:a.map(o=>{const c=o.icon,d=r.pathname===o.href;return m.jsxs(xt,{to:o.href,className:on("px-4 py-2 rounded-xl text-sm font-bold transition-all duration-300 flex items-center space-x-2 group relative overflow-hidden",d?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30 scale-105":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-105"),children:[m.jsx(c,{className:on("h-4 w-4 transition-transform duration-300",d?"text-white":"group-hover:scale-110")}),m.jsx("span",{children:o.name}),d&&m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 to-warning/10 blur-xl -z-10"})]},o.name)})})}),m.jsx("div",{className:"md:hidden",children:m.jsxs(Ui,{onClick:()=>n(!e),variant:"ghost",size:"sm",className:"relative overflow-hidden",children:[m.jsx("div",{className:"relative z-10",children:e?m.jsx(mk,{className:"h-6 w-6"}):m.jsx(Zj,{className:"h-6 w-6"})}),e&&m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-warning/20 blur-sm"})]})})]})}),e&&m.jsx("div",{className:"md:hidden",children:m.jsx("div",{className:"px-2 pt-2 pb-3 space-y-2 sm:px-3 bg-gradient-to-br from-surface via-surface-alt to-surface border-t border-border/50 shadow-xl",children:a.map(o=>{const c=o.icon,d=r.pathname===o.href;return m.jsxs(xt,{to:o.href,onClick:()=>n(!1),className:on("block px-4 py-3 rounded-xl text-base font-bold flex items-center space-x-3 transition-all duration-300 group relative overflow-hidden",d?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-[1.02]"),children:[m.jsx(c,{className:on("h-5 w-5 transition-transform duration-300",d?"text-white":"group-hover:scale-110")}),m.jsx("span",{children:o.name}),d&&m.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:m.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]},o.name)})})})]}),m.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs("div",{className:"relative",children:[t,m.jsx("div",{className:"fixed top-20 right-10 w-32 h-32 bg-gradient-to-br from-primary/5 to-transparent rounded-full blur-3xl -z-10 pointer-events-none"}),m.jsx("div",{className:"fixed bottom-20 left-10 w-40 h-40 bg-gradient-to-tr from-success/5 to-transparent rounded-full blur-3xl -z-10 pointer-events-none"})]})}),m.jsxs("footer",{className:"relative overflow-hidden bg-gradient-to-br from-surface via-surface-alt to-surface text-text-muted py-12 mt-auto border-t border-border/50",children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"text-center space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary/20 to-warning/20 rounded-full flex items-center justify-center",children:m.jsx(Yn,{className:"h-5 w-5 text-primary"})}),m.jsx("span",{className:"font-black text-lg text-text-main",children:"Paddle Up Premier League"})]}),m.jsxs("div",{className:"flex items-center justify-center space-x-6 pt-6",children:[m.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-primary/10 rounded-xl border border-primary/20",children:[m.jsx(Yn,{className:"h-4 w-4 text-primary"}),m.jsx("span",{className:"text-xs font-semibold text-primary",children:"Premier League"})]}),m.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-success/10 rounded-xl border border-success/20",children:[m.jsx(Bu,{className:"h-4 w-4 text-success"}),m.jsx("span",{className:"text-xs font-semibold text-success",children:"3.5+ DUPR"})]}),m.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-warning/10 rounded-xl border border-warning/20",children:[m.jsx(kl,{className:"h-4 w-4 text-warning"}),m.jsx("span",{className:"text-xs font-semibold text-warning",children:"Elite Players"})]})]})]})}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})]})},Eu=t=>aO(t),aO=t=>t<1?0:t===1?1e3:t===2?800:t===3?Eu(2)*3/4:t===4?Eu(2)*3/5:t>=11?Math.floor(Eu(t-10)/10):t>=5?Math.floor(Eu(t-3)/2):0,Sv=t=>{if(!t.isCompleted||!Array.isArray(t.standings)||t.standings.length===0)return null;const e=t.standings,n=[];return e.forEach((r,a)=>{const o=a+1,c=Math.ceil(o/4),d=(o-1)%4+1,h=Eu(o);n.push({playerId:r,court:c,position:d,rank:o,pointsEarned:h})}),n},oO=t=>{const e=new Map;return t.forEach(n=>{if(!n.standings||n.standings.length===0)return;const r={id:n.id,date:n.startDateTime?n.startDateTime.toISOString():n.id,isCompleted:!0,standings:n.standings},a=Sv(r);a&&a.forEach(o=>{const c=o.playerId,d=o.pointsEarned||0,h=e.get(c)||{points:0,events:0,champWins:0};h.points+=d,h.events+=1,o.rank===1&&(h.champWins+=1),e.set(c,h)})}),e},lO=()=>{};var Yw={};const fS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},cO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],d=t[n++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},mS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,d=c?t[a+1]:0,h=a+2<t.length,g=h?t[a+2]:0,v=o>>2,b=(o&3)<<4|d>>4;let E=(d&15)<<2|g>>6,A=g&63;h||(A=64,c||(E=64)),r.push(n[v],n[b],n[E],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||d==null||g==null||b==null)throw new uO;const E=o<<2|d>>4;if(r.push(E),g!==64){const A=d<<4&240|g>>2;if(r.push(A),b!==64){const M=g<<6&192|b;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dO=function(t){const e=fS(t);return mS.encodeByteArray(e,!0)},Bf=function(t){return dO(t).replace(/\./g,"")},pS=function(t){try{return mS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hO=()=>gS().__FIREBASE_DEFAULTS__,fO=()=>{if(typeof process>"u"||typeof Yw>"u")return;const t=Yw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pS(t[1]);return e&&JSON.parse(e)},Em=()=>{try{return lO()||hO()||fO()||mO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yS=t=>Em()?.emulatorHosts?.[t],pO=t=>{const e=yS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vS=()=>Em()?.config,bS=t=>Em()?.[`_${t}`];class gO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function tc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xS(t){return(await fetch(t,{credentials:"include"})).ok}function yO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bf(JSON.stringify(n)),Bf(JSON.stringify(c)),""].join(".")}const Du={};function vO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Du))Du[e]?t.emulator.push(e):t.prod.push(e);return t}function bO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xw=!1;function _S(t,e){if(typeof window>"u"||typeof document>"u"||!tc(window.location.host)||Du[t]===e||Du[t]||Xw)return;Du[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=vO().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Xw=!0,c()},E}function v(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=bO(r),A=n("text"),M=document.getElementById(A)||document.createElement("span"),O=n("learnmore"),V=document.getElementById(O)||document.createElement("a"),J=n("preprendIcon"),Q=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;d(G),v(V,O);const oe=g();h(Q,J),G.append(Q,M,V,oe),document.body.appendChild(G)}o?(M.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function wS(){const t=Em()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _O(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TO(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ES(){return!wS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TS(){return!wS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function SS(){try{return typeof indexedDB=="object"}catch{return!1}}function SO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const AO="FirebaseError";class Js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AO,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ld.prototype.create)}}class ld{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?NO(o,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Js(a,d,r)}}function NO(t,e){return t.replace(IO,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const IO=/\{\$([^}]+)}/g;function RO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ao(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],c=e[a];if(Jw(o)&&Jw(c)){if(!ao(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Jw(t){return t!==null&&typeof t=="object"}function cd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function CO(t,e){const n=new DO(t,e);return n.subscribe.bind(n)}class DO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jO(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=oy),a.error===void 0&&(a.error=oy),a.complete===void 0&&(a.complete=oy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function oy(){}function _n(t){return t&&t._delegate?t._delegate:t}class oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fa="[DEFAULT]";class kO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PO(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OO(t){return t===Fa?void 0:t}function PO(t){return t.instantiationMode==="EAGER"}class MO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const VO={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},zO=He.INFO,LO={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},UO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=LO[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Av{constructor(e){this.name=e,this._logLevel=zO,this._logHandler=UO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const FO=(t,e)=>e.some(n=>t instanceof n);let Ww,eE;function BO(){return Ww||(Ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qO(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AS=new WeakMap,Dy=new WeakMap,NS=new WeakMap,ly=new WeakMap,Nv=new WeakMap;function $O(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Ki(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&AS.set(n,t)}).catch(()=>{}),Nv.set(e,t),e}function HO(t){if(Dy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Dy.set(t,e)}let jy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GO(t){jy=t(jy)}function KO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cy(this),e,...n);return NS.set(r,e.sort?e.sort():[e]),Ki(r)}:qO().includes(t)?function(...e){return t.apply(cy(this),e),Ki(AS.get(this))}:function(...e){return Ki(t.apply(cy(this),e))}}function QO(t){return typeof t=="function"?KO(t):(t instanceof IDBTransaction&&HO(t),FO(t,BO())?new Proxy(t,jy):t)}function Ki(t){if(t instanceof IDBRequest)return $O(t);if(ly.has(t))return ly.get(t);const e=QO(t);return e!==t&&(ly.set(t,e),Nv.set(e,t)),e}const cy=t=>Nv.get(t);function ZO(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),d=Ki(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Ki(c.result),h.oldVersion,h.newVersion,Ki(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const YO=["get","getKey","getAll","getAllKeys","count"],XO=["put","add","delete","clear"],uy=new Map;function tE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uy.get(e))return uy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=XO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||YO.includes(n)))return;const o=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let g=h.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&h.done]))[0]};return uy.set(e,o),o}GO(t=>({...t,get:(e,n,r)=>tE(e,n)||t.get(e,n,r),has:(e,n)=>!!tE(e,n)||t.has(e,n)}));class JO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WO(t){return t.getComponent()?.type==="VERSION"}const ky="@firebase/app",nE="0.14.6";const Gs=new Av("@firebase/app"),e4="@firebase/app-compat",t4="@firebase/analytics-compat",n4="@firebase/analytics",r4="@firebase/app-check-compat",s4="@firebase/app-check",i4="@firebase/auth",a4="@firebase/auth-compat",o4="@firebase/database",l4="@firebase/data-connect",c4="@firebase/database-compat",u4="@firebase/functions",d4="@firebase/functions-compat",h4="@firebase/installations",f4="@firebase/installations-compat",m4="@firebase/messaging",p4="@firebase/messaging-compat",g4="@firebase/performance",y4="@firebase/performance-compat",v4="@firebase/remote-config",b4="@firebase/remote-config-compat",x4="@firebase/storage",_4="@firebase/storage-compat",w4="@firebase/firestore",E4="@firebase/ai",T4="@firebase/firestore-compat",S4="firebase",A4="12.6.0";const Oy="[DEFAULT]",N4={[ky]:"fire-core",[e4]:"fire-core-compat",[n4]:"fire-analytics",[t4]:"fire-analytics-compat",[s4]:"fire-app-check",[r4]:"fire-app-check-compat",[i4]:"fire-auth",[a4]:"fire-auth-compat",[o4]:"fire-rtdb",[l4]:"fire-data-connect",[c4]:"fire-rtdb-compat",[u4]:"fire-fn",[d4]:"fire-fn-compat",[h4]:"fire-iid",[f4]:"fire-iid-compat",[m4]:"fire-fcm",[p4]:"fire-fcm-compat",[g4]:"fire-perf",[y4]:"fire-perf-compat",[v4]:"fire-rc",[b4]:"fire-rc-compat",[x4]:"fire-gcs",[_4]:"fire-gcs-compat",[w4]:"fire-fst",[T4]:"fire-fst-compat",[E4]:"fire-vertex","fire-js":"fire-js",[S4]:"fire-js-all"};const qu=new Map,I4=new Map,Py=new Map;function rE(t,e){try{t.container.addComponent(e)}catch(n){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ol(t){const e=t.name;if(Py.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;Py.set(e,t);for(const n of qu.values())rE(n,t);for(const n of I4.values())rE(n,t);return!0}function Iv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return t==null?!1:t.settings!==void 0}const R4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new ld("app","Firebase",R4);class C4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}const nc=A4;function IS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Oy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Qi.create("bad-app-name",{appName:String(a)});if(n||(n=vS()),!n)throw Qi.create("no-options");const o=qu.get(a);if(o){if(ao(n,o.options)&&ao(r,o.config))return o;throw Qi.create("duplicate-app",{appName:a})}const c=new MO(a);for(const h of Py.values())c.addComponent(h);const d=new C4(n,r,c);return qu.set(a,d),d}function RS(t=Oy){const e=qu.get(t);if(!e&&t===Oy&&vS())return IS();if(!e)throw Qi.create("no-app",{appName:t});return e}function sE(){return Array.from(qu.values())}function Zi(t,e,n){let r=N4[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(c.join(" "));return}Ol(new oo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const D4="firebase-heartbeat-database",j4=1,$u="firebase-heartbeat-store";let dy=null;function CS(){return dy||(dy=ZO(D4,j4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($u)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),dy}async function k4(t){try{const n=(await CS()).transaction($u),r=await n.objectStore($u).get(DS(t));return await n.done,r}catch(e){if(e instanceof Js)Gs.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e?.message});Gs.warn(n.message)}}}async function iE(t,e){try{const r=(await CS()).transaction($u,"readwrite");await r.objectStore($u).put(e,DS(t)),await r.done}catch(n){if(n instanceof Js)Gs.warn(n.message);else{const r=Qi.create("idb-set",{originalErrorMessage:n?.message});Gs.warn(r.message)}}}function DS(t){return`${t.name}!${t.options.appId}`}const O4=1024,P4=30;class M4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new z4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=aE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>P4){const a=L4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aE(),{heartbeatsToSend:n,unsentEntries:r}=V4(this._heartbeatsCache.heartbeats),a=Bf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Gs.warn(e),""}}}function aE(){return new Date().toISOString().substring(0,10)}function V4(t,e=O4){const n=[];let r=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),oE(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),oE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class z4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SS()?SO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await k4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oE(t){return Bf(JSON.stringify({version:2,heartbeats:t})).length}function L4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function U4(t){Ol(new oo("platform-logger",e=>new JO(e),"PRIVATE")),Ol(new oo("heartbeat",e=>new M4(e),"PRIVATE")),Zi(ky,nE,t),Zi(ky,nE,"esm2020"),Zi("fire-js","")}U4("");var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yi,jS;(function(){var t;function e(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(D,R,U){for(var k=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)k[ze-2]=arguments[ze];return S.prototype[R].apply(D,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,S,C){C||(C=0);const D=Array(16);if(typeof S=="string")for(var R=0;R<16;++R)D[R]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(R=0;R<16;++R)D[R]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],R=I.g[2];let U=I.g[3],k;k=S+(U^C&(R^U))+D[0]+3614090360&4294967295,S=C+(k<<7&4294967295|k>>>25),k=U+(R^S&(C^R))+D[1]+3905402710&4294967295,U=S+(k<<12&4294967295|k>>>20),k=R+(C^U&(S^C))+D[2]+606105819&4294967295,R=U+(k<<17&4294967295|k>>>15),k=C+(S^R&(U^S))+D[3]+3250441966&4294967295,C=R+(k<<22&4294967295|k>>>10),k=S+(U^C&(R^U))+D[4]+4118548399&4294967295,S=C+(k<<7&4294967295|k>>>25),k=U+(R^S&(C^R))+D[5]+1200080426&4294967295,U=S+(k<<12&4294967295|k>>>20),k=R+(C^U&(S^C))+D[6]+2821735955&4294967295,R=U+(k<<17&4294967295|k>>>15),k=C+(S^R&(U^S))+D[7]+4249261313&4294967295,C=R+(k<<22&4294967295|k>>>10),k=S+(U^C&(R^U))+D[8]+1770035416&4294967295,S=C+(k<<7&4294967295|k>>>25),k=U+(R^S&(C^R))+D[9]+2336552879&4294967295,U=S+(k<<12&4294967295|k>>>20),k=R+(C^U&(S^C))+D[10]+4294925233&4294967295,R=U+(k<<17&4294967295|k>>>15),k=C+(S^R&(U^S))+D[11]+2304563134&4294967295,C=R+(k<<22&4294967295|k>>>10),k=S+(U^C&(R^U))+D[12]+1804603682&4294967295,S=C+(k<<7&4294967295|k>>>25),k=U+(R^S&(C^R))+D[13]+4254626195&4294967295,U=S+(k<<12&4294967295|k>>>20),k=R+(C^U&(S^C))+D[14]+2792965006&4294967295,R=U+(k<<17&4294967295|k>>>15),k=C+(S^R&(U^S))+D[15]+1236535329&4294967295,C=R+(k<<22&4294967295|k>>>10),k=S+(R^U&(C^R))+D[1]+4129170786&4294967295,S=C+(k<<5&4294967295|k>>>27),k=U+(C^R&(S^C))+D[6]+3225465664&4294967295,U=S+(k<<9&4294967295|k>>>23),k=R+(S^C&(U^S))+D[11]+643717713&4294967295,R=U+(k<<14&4294967295|k>>>18),k=C+(U^S&(R^U))+D[0]+3921069994&4294967295,C=R+(k<<20&4294967295|k>>>12),k=S+(R^U&(C^R))+D[5]+3593408605&4294967295,S=C+(k<<5&4294967295|k>>>27),k=U+(C^R&(S^C))+D[10]+38016083&4294967295,U=S+(k<<9&4294967295|k>>>23),k=R+(S^C&(U^S))+D[15]+3634488961&4294967295,R=U+(k<<14&4294967295|k>>>18),k=C+(U^S&(R^U))+D[4]+3889429448&4294967295,C=R+(k<<20&4294967295|k>>>12),k=S+(R^U&(C^R))+D[9]+568446438&4294967295,S=C+(k<<5&4294967295|k>>>27),k=U+(C^R&(S^C))+D[14]+3275163606&4294967295,U=S+(k<<9&4294967295|k>>>23),k=R+(S^C&(U^S))+D[3]+4107603335&4294967295,R=U+(k<<14&4294967295|k>>>18),k=C+(U^S&(R^U))+D[8]+1163531501&4294967295,C=R+(k<<20&4294967295|k>>>12),k=S+(R^U&(C^R))+D[13]+2850285829&4294967295,S=C+(k<<5&4294967295|k>>>27),k=U+(C^R&(S^C))+D[2]+4243563512&4294967295,U=S+(k<<9&4294967295|k>>>23),k=R+(S^C&(U^S))+D[7]+1735328473&4294967295,R=U+(k<<14&4294967295|k>>>18),k=C+(U^S&(R^U))+D[12]+2368359562&4294967295,C=R+(k<<20&4294967295|k>>>12),k=S+(C^R^U)+D[5]+4294588738&4294967295,S=C+(k<<4&4294967295|k>>>28),k=U+(S^C^R)+D[8]+2272392833&4294967295,U=S+(k<<11&4294967295|k>>>21),k=R+(U^S^C)+D[11]+1839030562&4294967295,R=U+(k<<16&4294967295|k>>>16),k=C+(R^U^S)+D[14]+4259657740&4294967295,C=R+(k<<23&4294967295|k>>>9),k=S+(C^R^U)+D[1]+2763975236&4294967295,S=C+(k<<4&4294967295|k>>>28),k=U+(S^C^R)+D[4]+1272893353&4294967295,U=S+(k<<11&4294967295|k>>>21),k=R+(U^S^C)+D[7]+4139469664&4294967295,R=U+(k<<16&4294967295|k>>>16),k=C+(R^U^S)+D[10]+3200236656&4294967295,C=R+(k<<23&4294967295|k>>>9),k=S+(C^R^U)+D[13]+681279174&4294967295,S=C+(k<<4&4294967295|k>>>28),k=U+(S^C^R)+D[0]+3936430074&4294967295,U=S+(k<<11&4294967295|k>>>21),k=R+(U^S^C)+D[3]+3572445317&4294967295,R=U+(k<<16&4294967295|k>>>16),k=C+(R^U^S)+D[6]+76029189&4294967295,C=R+(k<<23&4294967295|k>>>9),k=S+(C^R^U)+D[9]+3654602809&4294967295,S=C+(k<<4&4294967295|k>>>28),k=U+(S^C^R)+D[12]+3873151461&4294967295,U=S+(k<<11&4294967295|k>>>21),k=R+(U^S^C)+D[15]+530742520&4294967295,R=U+(k<<16&4294967295|k>>>16),k=C+(R^U^S)+D[2]+3299628645&4294967295,C=R+(k<<23&4294967295|k>>>9),k=S+(R^(C|~U))+D[0]+4096336452&4294967295,S=C+(k<<6&4294967295|k>>>26),k=U+(C^(S|~R))+D[7]+1126891415&4294967295,U=S+(k<<10&4294967295|k>>>22),k=R+(S^(U|~C))+D[14]+2878612391&4294967295,R=U+(k<<15&4294967295|k>>>17),k=C+(U^(R|~S))+D[5]+4237533241&4294967295,C=R+(k<<21&4294967295|k>>>11),k=S+(R^(C|~U))+D[12]+1700485571&4294967295,S=C+(k<<6&4294967295|k>>>26),k=U+(C^(S|~R))+D[3]+2399980690&4294967295,U=S+(k<<10&4294967295|k>>>22),k=R+(S^(U|~C))+D[10]+4293915773&4294967295,R=U+(k<<15&4294967295|k>>>17),k=C+(U^(R|~S))+D[1]+2240044497&4294967295,C=R+(k<<21&4294967295|k>>>11),k=S+(R^(C|~U))+D[8]+1873313359&4294967295,S=C+(k<<6&4294967295|k>>>26),k=U+(C^(S|~R))+D[15]+4264355552&4294967295,U=S+(k<<10&4294967295|k>>>22),k=R+(S^(U|~C))+D[6]+2734768916&4294967295,R=U+(k<<15&4294967295|k>>>17),k=C+(U^(R|~S))+D[13]+1309151649&4294967295,C=R+(k<<21&4294967295|k>>>11),k=S+(R^(C|~U))+D[4]+4149444226&4294967295,S=C+(k<<6&4294967295|k>>>26),k=U+(C^(S|~R))+D[11]+3174756917&4294967295,U=S+(k<<10&4294967295|k>>>22),k=R+(S^(U|~C))+D[2]+718787259&4294967295,R=U+(k<<15&4294967295|k>>>17),k=C+(U^(R|~S))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+U&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,D=this.C;let R=this.h,U=0;for(;U<S;){if(R==0)for(;U<=C;)a(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(D[R++]=I.charCodeAt(U++),R==this.blockSize){a(this,D),R=0;break}}else for(;U<S;)if(D[R++]=I[U++],R==this.blockSize){a(this,D),R=0;break}}this.h=R,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)I[S++]=this.g[C]>>>D&255;return I};function o(I,S){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function c(I,S){this.h=S;const C=[];let D=!0;for(let R=I.length-1;R>=0;R--){const U=I[R]|0;D&&U==S||(C[R]=U,D=!1)}this.g=C}var d={};function h(I){return-128<=I&&I<128?o(I,function(S){return new c([S|0],S<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return V(g(-I));const S=[];let C=1;for(let D=0;I>=C;D++)S[D]=I/C|0,C*=4294967296;return new c(S,0)}function v(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return V(v(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(S,8));let D=b;for(let U=0;U<I.length;U+=8){var R=Math.min(8,I.length-U);const k=parseInt(I.substring(U,U+R),S);R<8?(R=g(Math.pow(S,R)),D=D.j(R).add(g(k))):(D=D.j(C),D=D.add(g(k)))}return D}var b=h(0),E=h(1),A=h(16777216);t=c.prototype,t.m=function(){if(O(this))return-V(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);I+=(D>=0?D:4294967296+D)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(O(this))return"-"+V(this).toString(I);const S=g(Math.pow(I,6));var C=this;let D="";for(;;){const R=oe(C,S).g;C=J(C,R.j(S));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=R,M(C))return U+D;for(;U.length<6;)U="0"+U;D=U+D}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function O(I){return I.h==-1}t.l=function(I){return I=J(this,I),O(I)?-1:M(I)?0:1};function V(I){const S=I.g.length,C=[];for(let D=0;D<S;D++)C[D]=~I.g[D];return new c(C,~I.h).add(E)}t.abs=function(){return O(this)?V(this):this},t.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let D=0;for(let R=0;R<=S;R++){let U=D+(this.i(R)&65535)+(I.i(R)&65535),k=(U>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);D=k>>>16,U&=65535,k&=65535,C[R]=k<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function J(I,S){return I.add(V(S))}t.j=function(I){if(M(this)||M(I))return b;if(O(this))return O(I)?V(this).j(V(I)):V(V(this).j(I));if(O(I))return V(this.j(V(I)));if(this.l(A)<0&&I.l(A)<0)return g(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var D=0;D<2*S;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let R=0;R<I.g.length;R++){const U=this.i(D)>>>16,k=this.i(D)&65535,ze=I.i(R)>>>16,Ke=I.i(R)&65535;C[2*D+2*R]+=k*Ke,Q(C,2*D+2*R),C[2*D+2*R+1]+=U*Ke,Q(C,2*D+2*R+1),C[2*D+2*R+1]+=k*ze,Q(C,2*D+2*R+1),C[2*D+2*R+2]+=U*ze,Q(C,2*D+2*R+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new c(C,0)};function Q(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function G(I,S){this.g=I,this.h=S}function oe(I,S){if(M(S))throw Error("division by zero");if(M(I))return new G(b,b);if(O(I))return S=oe(V(I),S),new G(V(S.g),V(S.h));if(O(S))return S=oe(I,V(S)),new G(V(S.g),S.h);if(I.g.length>30){if(O(I)||O(S))throw Error("slowDivide_ only works with positive integers.");for(var C=E,D=S;D.l(I)<=0;)C=ce(C),D=ce(D);var R=me(C,1),U=me(D,1);for(D=me(D,2),C=me(C,2);!M(D);){var k=U.add(D);k.l(I)<=0&&(R=R.add(C),U=k),D=me(D,1),C=me(C,1)}return S=J(I,R.j(S)),new G(R,S)}for(R=b;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),U=g(C),k=U.j(S);O(k)||k.l(I)>0;)C-=D,U=g(C),k=U.j(S);M(U)&&(U=E),R=R.add(U),I=J(I,k)}return new G(R,I)}t.B=function(I){return oe(this,I).h},t.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)&I.i(D);return new c(C,this.h&I.h)},t.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)|I.i(D);return new c(C,this.h|I.h)},t.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)^I.i(D);return new c(C,this.h^I.h)};function ce(I){const S=I.g.length+1,C=[];for(let D=0;D<S;D++)C[D]=I.i(D)<<1|I.i(D-1)>>>31;return new c(C,I.h)}function me(I,S){const C=S>>5;S%=32;const D=I.g.length-C,R=[];for(let U=0;U<D;U++)R[U]=S>0?I.i(U+C)>>>S|I.i(U+C+1)<<32-S:I.i(U+C);return new c(R,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Yi=c}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kS,Tu,OS,vf,My,PS,MS,VS;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof rf=="object"&&rf];for(var x=0;x<f.length;++x){var w=f[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function a(f,x){if(x)e:{var w=r;f=f.split(".");for(var N=0;N<f.length-1;N++){var q=f[N];if(!(q in w))break e;w=w[q]}f=f[f.length-1],N=w[f],x=x(N),x!=N&&x!=null&&e(w,f,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(x){var w=[],N;for(N in x)Object.prototype.hasOwnProperty.call(x,N)&&w.push([N,x[N]]);return w}});var o=o||{},c=this||self;function d(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function h(f,x,w){return f.call.apply(f.bind,arguments)}function g(f,x,w){return g=h,g.apply(null,arguments)}function v(f,x){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function b(f,x){function w(){}w.prototype=x.prototype,f.Z=x.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(N,q,Y){for(var fe=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)fe[Oe-2]=arguments[Oe];return x.prototype[q].apply(N,fe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const x=f.length;if(x>0){const w=Array(x);for(let N=0;N<x;N++)w[N]=f[N];return w}return[]}function M(f,x){for(let N=1;N<arguments.length;N++){const q=arguments[N];var w=typeof q;if(w=w!="object"?w:q?Array.isArray(q)?"array":w:"null",w=="array"||w=="object"&&typeof q.length=="number"){w=f.length||0;const Y=q.length||0;f.length=w+Y;for(let fe=0;fe<Y;fe++)f[w+fe]=q[fe]}else f.push(q)}}class O{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function V(f){c.setTimeout(()=>{throw f},0)}function J(){var f=I;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class Q{constructor(){this.h=this.g=null}add(x,w){const N=G.get();N.set(x,w),this.h?this.h.next=N:this.g=N,this.h=N}}var G=new O(()=>new oe,f=>f.reset());class oe{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,me=!1,I=new Q,S=()=>{const f=Promise.resolve(void 0);ce=()=>{f.then(C)}};function C(){for(var f;f=J();){try{f.h.call(f.g)}catch(w){V(w)}var x=G;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}me=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};c.addEventListener("test",w,x),c.removeEventListener("test",w,x)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function ze(f,x){R.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}b(ze,R),ze.prototype.init=function(f,x){const w=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(w=="mouseover"?x=f.fromElement:w=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),X=0;function le(f,x,w,N,q){this.listener=f,this.proxy=null,this.src=x,this.type=w,this.capture=!!N,this.ha=q,this.key=++X,this.da=this.fa=!1}function ee(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function we(f,x,w){for(const N in f)x.call(w,f[N],N,f)}function Me(f,x){for(const w in f)x.call(void 0,f[w],w,f)}function j(f){const x={};for(const w in f)x[w]=f[w];return x}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(f,x){let w,N;for(let q=1;q<arguments.length;q++){N=arguments[q];for(w in N)f[w]=N[w];for(let Y=0;Y<Z.length;Y++)w=Z[Y],Object.prototype.hasOwnProperty.call(N,w)&&(f[w]=N[w])}}function de(f){this.src=f,this.g={},this.h=0}de.prototype.add=function(f,x,w,N,q){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const fe=je(f,x,N,q);return fe>-1?(x=f[fe],w||(x.fa=!1)):(x=new le(x,this.src,Y,!!N,q),x.fa=w,f.push(x)),x};function Ne(f,x){const w=x.type;if(w in f.g){var N=f.g[w],q=Array.prototype.indexOf.call(N,x,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(N,q,1),Y&&(ee(x),f.g[w].length==0&&(delete f.g[w],f.h--))}}function je(f,x,w,N){for(let q=0;q<f.length;++q){const Y=f[q];if(!Y.da&&Y.listener==x&&Y.capture==!!w&&Y.ha==N)return q}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),At={};function tt(f,x,w,N,q){if(Array.isArray(x)){for(let Y=0;Y<x.length;Y++)tt(f,x[Y],w,N,q);return null}return w=hc(w),f&&f[Ke]?f.J(x,w,d(N)?!!N.capture:!1,q):er(f,x,w,!1,N,q)}function er(f,x,w,N,q,Y){if(!x)throw Error("Invalid event type");const fe=d(q)?!!q.capture:!!q;let Oe=ca(f);if(Oe||(f[Ae]=Oe=new de(f)),w=Oe.add(x,w,N,fe,Y),w.proxy)return w;if(N=Lr(),w.proxy=N,N.src=f,N.listener=w,f.addEventListener)U||(q=fe),q===void 0&&(q=!1),f.addEventListener(x.toString(),N,q);else if(f.attachEvent)f.attachEvent(Ur(x.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Lr(){function f(w){return x.call(f.src,f.listener,w)}const x=uc;return f}function wr(f,x,w,N,q){if(Array.isArray(x))for(var Y=0;Y<x.length;Y++)wr(f,x[Y],w,N,q);else N=d(N)?!!N.capture:!!N,w=hc(w),f&&f[Ke]?(f=f.i,Y=String(x).toString(),Y in f.g&&(x=f.g[Y],w=je(x,w,N,q),w>-1&&(ee(x[w]),Array.prototype.splice.call(x,w,1),x.length==0&&(delete f.g[Y],f.h--)))):f&&(f=ca(f))&&(x=f.g[x.toString()],f=-1,x&&(f=je(x,w,N,q)),(w=f>-1?x[f]:null)&&Ao(w))}function Ao(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[Ke])Ne(x.i,f);else{var w=f.type,N=f.proxy;x.removeEventListener?x.removeEventListener(w,N,f.capture):x.detachEvent?x.detachEvent(Ur(w),N):x.addListener&&x.removeListener&&x.removeListener(N),(w=ca(x))?(Ne(w,f),w.h==0&&(w.src=null,x[Ae]=null)):ee(f)}}}function Ur(f){return f in At?At[f]:At[f]="on"+f}function uc(f,x){if(f.da)f=!0;else{x=new ze(x,this);const w=f.listener,N=f.ha||f.src;f.fa&&Ao(f),f=w.call(N,x)}return f}function ca(f){return f=f[Ae],f instanceof de?f:null}var dc="__closure_events_fn_"+(Math.random()*1e9>>>0);function hc(f){return typeof f=="function"?f:(f[dc]||(f[dc]=function(x){return f.handleEvent(x)}),f[dc])}function zt(){D.call(this),this.i=new de(this),this.M=this,this.G=null}b(zt,D),zt.prototype[Ke]=!0,zt.prototype.removeEventListener=function(f,x,w,N){wr(this,f,x,w,N)};function Yt(f,x){var w,N=f.G;if(N)for(w=[];N;N=N.G)w.push(N);if(f=f.M,N=x.type||x,typeof x=="string")x=new R(x,f);else if(x instanceof R)x.target=x.target||f;else{var q=x;x=new R(N,f),ae(x,q)}q=!0;let Y,fe;if(w)for(fe=w.length-1;fe>=0;fe--)Y=x.g=w[fe],q=ni(Y,N,!0,x)&&q;if(Y=x.g=f,q=ni(Y,N,!0,x)&&q,q=ni(Y,N,!1,x)&&q,w)for(fe=0;fe<w.length;fe++)Y=x.g=w[fe],q=ni(Y,N,!1,x)&&q}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const w=f.g[x];for(let N=0;N<w.length;N++)ee(w[N]);delete f.g[x],f.h--}}this.G=null},zt.prototype.J=function(f,x,w,N){return this.i.add(String(f),x,!1,w,N)},zt.prototype.K=function(f,x,w,N){return this.i.add(String(f),x,!0,w,N)};function ni(f,x,w,N){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let q=!0;for(let Y=0;Y<x.length;++Y){const fe=x[Y];if(fe&&!fe.da&&fe.capture==w){const Oe=fe.listener,Ot=fe.ha||fe.src;fe.fa&&Ne(f.i,fe),q=Oe.call(Ot,N)!==!1&&q}}return q&&!N.defaultPrevented}function Jm(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(f,x||0)}function Td(f){f.g=Jm(()=>{f.g=null,f.i&&(f.i=!1,Td(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class wn extends D{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Td(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(f){D.call(this),this.h=f,this.g={}}b(ua,D);var fc=[];function mc(f){we(f.g,function(x,w){this.g.hasOwnProperty(w)&&Ao(x)},f),f.g={}}ua.prototype.N=function(){ua.Z.N.call(this),mc(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=c.JSON.stringify,Wm=c.JSON.parse,Sd=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Ad(){}function Nd(){}var Er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){R.call(this,"d")}b(ln,R);function tr(){R.call(this,"c")}b(tr,R);var kt={},Id=null;function No(){return Id=Id||new zt}kt.Ia="serverreachability";function Rd(f){R.call(this,kt.Ia,f)}b(Rd,R);function Fr(f){const x=No();Yt(x,new Rd(x))}kt.STAT_EVENT="statevent";function da(f,x){R.call(this,kt.STAT_EVENT,f),this.stat=x}b(da,R);function Lt(f){const x=No();Yt(x,new da(x,f))}kt.Ja="timingevent";function Br(f,x){R.call(this,kt.Ja,f),this.size=x}b(Br,R);function qr(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},x)}function Tr(){this.g=!0}Tr.prototype.ua=function(){this.g=!1};function ep(f,x,w,N,q,Y){f.info(function(){if(f.g)if(Y){var fe="",Oe=Y.split("&");for(let We=0;We<Oe.length;We++){var Ot=Oe[We].split("=");if(Ot.length>1){const yt=Ot[0];Ot=Ot[1];const ir=yt.split("_");fe=ir.length>=2&&ir[1]=="type"?fe+(yt+"="+Ot+"&"):fe+(yt+"=redacted&")}}}else fe=null;else fe=Y;return"XMLHTTP REQ ("+N+") [attempt "+q+"]: "+x+`
`+w+`
`+fe})}function Cd(f,x,w,N,q,Y,fe){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+q+"]: "+x+`
`+w+`
`+Y+" "+fe})}function $r(f,x,w,N){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+tp(f,w)+(N?" "+N:"")})}function ha(f,x){f.info(function(){return"TIMEOUT: "+x})}Tr.prototype.info=function(){};function tp(f,x){if(!f.g)return x;if(!x)return null;try{const Y=JSON.parse(x);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var w=Y[f];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var q=N[0];if(q!="noop"&&q!="stop"&&q!="close")for(let fe=1;fe<N.length;fe++)N[fe]=""}}}}return ri(Y)}catch{return x}}var fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gc;function ma(){}b(ma,Ad),ma.prototype.g=function(){return new XMLHttpRequest},gc=new ma;function vs(f){return encodeURIComponent(String(f))}function Dd(f){var x=1;f=f.split(":");const w=[];for(;x>0&&f.length;)w.push(f.shift()),x--;return f.length&&w.push(f.join(":")),w}function Sr(f,x,w,N){this.j=f,this.i=x,this.l=w,this.S=N||1,this.V=new ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ar}function Ar(){this.i=null,this.g="",this.h=!1}var Ut={},nn={};function Hr(f,x,w){f.M=1,f.A=pa(Bt(x)),f.u=w,f.R=!0,Io(f,null)}function Io(f,x){f.F=Date.now(),Gr(f),f.B=Bt(f.A);var w=f.B,N=f.S;Array.isArray(N)||(N=[String(N)]),jo(w.i,"t",N),f.C=0,w=f.j.L,f.h=new Ar,f.g=Gd(f.j,w?x:null,!f.u),f.P>0&&(f.O=new wn(g(f.Y,f,f.g),f.P)),x=f.V,w=f.g,N=f.ba;var q="readystatechange";Array.isArray(q)||(q&&(fc[0]=q.toString()),q=fc);for(let Y=0;Y<q.length;Y++){const fe=tt(w,q[Y],N||x.handleEvent,!1,x.h||x);if(!fe)break;x.g[fe.key]=fe}x=f.J?j(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),Fr(),ep(f.i,f.v,f.B,f.l,f.S,f.u)}Sr.prototype.ba=function(f){f=f.target;const x=this.O;x&&Rr(f)==3?x.j():this.Y(f)},Sr.prototype.Y=function(f){try{if(f==this.g)e:{const Oe=Rr(this.g),Ot=this.g.ya(),We=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Oe!=4||Ot==7||(Ot==8||We<=0?Fr(3):Fr(2)),Kr(this);var x=this.g.ca();this.X=x;var w=np(this);if(this.o=x==200,Cd(this.i,this.v,this.B,this.l,this.S,Oe,x),this.o){if(this.U&&!this.L){t:{if(this.g){var N,q=this.g;if((N=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(N)){var Y=N;break t}}Y=null}if(f=Y)$r(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qr(this,f);else{this.o=!1,this.m=3,Lt(12),Un(this),nr(this);break e}}if(this.R){f=!0;let yt;for(;!this.K&&this.C<w.length;)if(yt=kd(this,w),yt==nn){Oe==4&&(this.m=4,Lt(14),f=!1),$r(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Ut){this.m=4,Lt(15),$r(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else $r(this.i,this.l,yt,null),Qr(this,yt);if(jd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||w.length!=0||this.h.h||(this.m=1,Lt(16),f=!1),this.o=this.o&&f,!f)$r(this.i,this.l,w,"[Invalid Chunked Response]"),Un(this),nr(this);else if(w.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Dc(fe),fe.P=!0,Lt(11))}}else $r(this.i,this.l,w,null),Qr(this,w);Oe==4&&Un(this),this.o&&!this.K&&(Oe==4?Bd(this.j,this):(this.o=!1,Gr(this)))}else xs(this.g),x==400&&w.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Un(this),nr(this)}}}catch{}};function np(f){if(!jd(f))return f.g.la();const x=cn(f.g);if(x==="")return"";let w="";const N=x.length,q=Rr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Un(f),nr(f),"";f.h.i=new c.TextDecoder}for(let Y=0;Y<N;Y++)f.h.h=!0,w+=f.h.i.decode(x[Y],{stream:!(q&&Y==N-1)});return x.length=0,f.h.g+=w,f.C=0,f.h.g}function jd(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function kd(f,x){var w=f.C,N=x.indexOf(`
`,w);return N==-1?nn:(w=Number(x.substring(w,N)),isNaN(w)?Ut:(N+=1,N+w>x.length?nn:(x=x.slice(N,N+w),f.C=N+w,x)))}Sr.prototype.cancel=function(){this.K=!0,Un(this)};function Gr(f){f.T=Date.now()+f.H,Ro(f,f.H)}function Ro(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=qr(g(f.aa,f),x)}function Kr(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Sr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ha(this.i,this.B),this.M!=2&&(Fr(),Lt(17)),Un(this),this.m=2,nr(this)):Ro(this,this.T-f)};function nr(f){f.j.I==0||f.K||Bd(f.j,f)}function Un(f){Kr(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,mc(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function Qr(f,x){try{var w=f.j;if(w.I!=0&&(w.g==f||Yr(w.h,f))){if(!f.L&&Yr(w.h,f)&&w.I==3){try{var N=w.Ba.g.parse(x)}catch{N=null}if(Array.isArray(N)&&N.length==3){var q=N;if(q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)Vo(w),di(w);else break e;wa(w),Lt(18)}}else w.xa=q[1],0<w.xa-w.K&&q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=qr(g(w.Va,w),6e3));Zr(w.h)<=1&&w.ta&&(w.ta=void 0)}else ns(w,11)}else if((f.L||w.g==f)&&Vo(w),!k(x))for(q=w.Ba.g.parse(x),x=0;x<q.length;x++){let We=q[x];const yt=We[0];if(!(yt<=w.K))if(w.K=yt,We=We[1],w.I==2)if(We[0]=="c"){w.M=We[1],w.ba=We[2];const ir=We[3];ir!=null&&(w.ka=ir,w.j.info("VER="+w.ka));const rs=We[4];rs!=null&&(w.za=rs,w.j.info("SVER="+w.za));const Cr=We[5];Cr!=null&&typeof Cr=="number"&&Cr>0&&(N=1.5*Cr,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const Dr=f.g;if(Dr){const Ea=Dr.g?Dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var Y=N.h;Y.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(bc(Y,Y.h),Y.h=null))}if(N.G){const zo=Dr.g?Dr.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(N.wa=zo,nt(N.J,N.G,zo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var fe=f;if(N.na=Hd(N,N.L?N.ba:null,N.W),fe.L){xc(N.h,fe);var Oe=fe,Ot=N.O;Ot&&(Oe.H=Ot),Oe.D&&(Kr(Oe),Gr(Oe)),N.g=fe}else Ud(N);w.i.length>0&&ts(w)}else We[0]!="stop"&&We[0]!="close"||ns(w,7);else w.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?ns(w,7):Rc(w):We[0]!="noop"&&w.l&&w.l.qa(We),w.A=0)}}Fr(4)}catch{}}var Ft=class{constructor(f,x){this.g=f,this.map=x}};function yc(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Zr(f){return f.h?1:f.g?f.g.size:0}function Yr(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function bc(f,x){f.g?f.g.add(x):f.h=x}function xc(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}yc.prototype.cancel=function(){if(this.i=_c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function _c(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const w of f.g.values())x=x.concat(w.G);return x}return A(f.i)}var Od=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Co(f,x){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const N=f[w].indexOf("=");let q,Y=null;N>=0?(q=f[w].substring(0,N),Y=f[w].substring(N+1)):q=f[w],x(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Fn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof Fn?(this.l=f.l,rn(this,f.j),this.o=f.o,this.g=f.g,si(this,f.u),this.h=f.h,wc(this,zd(f.i)),this.m=f.m):f&&(x=String(f).match(Od))?(this.l=!1,rn(this,x[1]||"",!0),this.o=Xr(x[2]||""),this.g=Xr(x[3]||"",!0),si(this,x[4]),this.h=Xr(x[5]||"",!0),wc(this,x[6]||"",!0),this.m=Xr(x[7]||"")):(this.l=!1,this.i=new ai(null,this.l))}Fn.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(ga(x,Do,!0),":");var w=this.g;return(w||x=="file")&&(f.push("//"),(x=this.o)&&f.push(ga(x,Do,!0),"@"),f.push(vs(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(ga(w,w.charAt(0)=="/"?Ec:Pd,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",ga(w,Md)),f.join("")},Fn.prototype.resolve=function(f){const x=Bt(this);let w=!!f.j;w?rn(x,f.j):w=!!f.o,w?x.o=f.o:w=!!f.g,w?x.g=f.g:w=f.u!=null;var N=f.h;if(w)si(x,f.u);else if(w=!!f.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var q=x.h.lastIndexOf("/");q!=-1&&(N=x.h.slice(0,q+1)+N)}if(q=N,q==".."||q==".")N="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){N=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let fe=0;fe<q.length;){const Oe=q[fe++];Oe=="."?N&&fe==q.length&&Y.push(""):Oe==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),N&&fe==q.length&&Y.push("")):(Y.push(Oe),N=!0)}N=Y.join("/")}else N=q}return w?x.h=N:w=f.i.toString()!=="",w?wc(x,zd(f.i)):w=!!f.m,w&&(x.m=f.m),x};function Bt(f){return new Fn(f)}function rn(f,x,w){f.j=w?Xr(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function si(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function wc(f,x,w){x instanceof ai?(f.i=x,ko(f.i,f.l)):(w||(x=ga(x,ii)),f.i=new ai(x,f.l))}function nt(f,x,w){f.i.set(x,w)}function pa(f){return nt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Xr(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ga(f,x,w){return typeof f=="string"?(f=encodeURI(f).replace(x,Dn),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Dn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Do=/[#\/\?@]/g,Pd=/[#\?:]/g,Ec=/[#\?]/g,ii=/[#\?@]/g,Md=/#/g;function ai(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function jn(f){f.g||(f.g=new Map,f.h=0,f.i&&Co(f.i,function(x,w){f.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}t=ai.prototype,t.add=function(f,x){jn(this),this.i=null,f=oi(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(x),this.h+=1,this};function Vd(f,x){jn(f),x=oi(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function Tc(f,x){return jn(f),x=oi(f,x),f.g.has(x)}t.forEach=function(f,x){jn(this),this.g.forEach(function(w,N){w.forEach(function(q){f.call(x,q,N,this)},this)},this)};function Sc(f,x){jn(f);let w=[];if(typeof x=="string")Tc(f,x)&&(w=w.concat(f.g.get(oi(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)w=w.concat(f[x]);return w}t.set=function(f,x){return jn(this),this.i=null,f=oi(this,f),Tc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},t.get=function(f,x){return f?(f=Sc(this,f),f.length>0?String(f[0]):x):x};function jo(f,x,w){Vd(f,x),w.length>0&&(f.i=null,f.g.set(oi(f,x),A(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let N=0;N<x.length;N++){var w=x[N];const q=vs(w);w=Sc(this,w);for(let Y=0;Y<w.length;Y++){let fe=q;w[Y]!==""&&(fe+="="+vs(w[Y])),f.push(fe)}}return this.i=f.join("&")};function zd(f){const x=new ai;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function oi(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function ko(f,x){x&&!f.j&&(jn(f),f.i=null,f.g.forEach(function(w,N){const q=N.toLowerCase();N!=q&&(Vd(this,N),jo(this,q,w))},f)),f.j=x}function Nr(f,x){const w=new Tr;if(c.Image){const N=new Image;N.onload=v(rr,w,"TestLoadImage: loaded",!0,x,N),N.onerror=v(rr,w,"TestLoadImage: error",!1,x,N),N.onabort=v(rr,w,"TestLoadImage: abort",!1,x,N),N.ontimeout=v(rr,w,"TestLoadImage: timeout",!1,x,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else x(!1)}function Ac(f,x){const w=new Tr,N=new AbortController,q=setTimeout(()=>{N.abort(),rr(w,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:N.signal}).then(Y=>{clearTimeout(q),Y.ok?rr(w,"TestPingServer: ok",!0,x):rr(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(q),rr(w,"TestPingServer: error",!1,x)})}function rr(f,x,w,N,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),N(w)}catch{}}function li(){this.g=new Sd}function Jr(f){this.i=f.Sb||null,this.h=f.ab||!1}b(Jr,Ad),Jr.prototype.g=function(){return new ya(this.i,this.h)};function ya(f,x){zt.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ya,zt),t=ya.prototype,t.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,Ir(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?ci(this):Ir(this),this.readyState==3&&Oo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ci(this))},t.Na=function(f){this.g&&(this.response=f,ci(this))},t.ga=function(){this.g&&ci(this)};function ci(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ir(f)}t.setRequestHeader=function(f,x){this.A.append(f,x)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=x.next();return f.join(`\r
`)};function Ir(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function sr(f){let x="";return we(f,function(w,N){x+=N,x+=":",x+=w,x+=`\r
`}),x}function va(f,x,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=sr(w),typeof f=="string"?w!=null&&vs(w):nt(f,x,w))}function ct(f){zt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ct,zt);var Wr=/^https?$/i,Nc=["POST","PUT"];t=ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,x,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gc.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(Y){ba(this,Y);return}if(f=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var q in N)w.set(q,N[q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Y of N.keys())w.set(Y,N.get(Y));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Nc,x,void 0)>=0)||N||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,fe]of w)this.g.setRequestHeader(Y,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){ba(this,Y)}};function ba(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,Ic(f),bs(f)}function Ic(f){f.A||(f.A=!0,Yt(f,"complete"),Yt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Yt(this,"complete"),Yt(this,"abort"),bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?xa(this):this.Xa())},t.Xa=function(){xa(this)};function xa(f){if(f.h&&typeof o<"u"){if(f.v&&Rr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Yt(f,"readystatechange"),Rr(f)==4){f.h=!1;try{const Y=f.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var N;if(N=Y===0){let fe=String(f.D).match(Od)[1]||null;!fe&&c.self&&c.self.location&&(fe=c.self.location.protocol.slice(0,-1)),N=!Wr.test(fe?fe.toLowerCase():"")}w=N}if(w)Yt(f,"complete"),Yt(f,"success");else{f.o=6;try{var q=Rr(f)>2?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.ca()+"]",Ic(f)}}finally{bs(f)}}}}function bs(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,x||Yt(f,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Rr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Rr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Wm(x)}};function cn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function xs(f){const x={};f=(f.g&&Rr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(k(f[N]))continue;var w=Dd(f[N]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Y=x[q]||[];x[q]=Y,Y.push(w)}Me(x,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(f,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||x}function ui(f){this.za=0,this.i=[],this.j=new Tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=es("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=es("baseRetryDelayMs",5e3,f),this.Za=es("retryDelaySeedMs",1e4,f),this.Ta=es("forwardChannelMaxRetries",2,f),this.va=es("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new yc(f&&f.concurrentRequestLimit),this.Ba=new li,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ui.prototype,t.ka=8,t.I=1,t.connect=function(f,x,w,N){Lt(0),this.W=f,this.H=x||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=Hd(this,null,this.W),ts(this)};function Rc(f){if(Po(f),f.I==3){var x=f.V++,w=Bt(f.J);if(nt(w,"SID",f.M),nt(w,"RID",x),nt(w,"TYPE","terminate"),_a(f,w),x=new Sr(f,f.j,x),x.M=2,x.A=pa(Bt(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=x.A,w=!0),w||(x.g=Gd(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Gr(x)}$d(f)}function di(f){f.g&&(Dc(f),f.g.cancel(),f.g=null)}function Po(f){di(f),f.v&&(c.clearTimeout(f.v),f.v=null),Vo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function ts(f){if(!vc(f.h)&&!f.m){f.m=!0;var x=f.Ea;ce||S(),me||(ce(),me=!0),I.add(x,f),f.D=0}}function Mo(f,x){return Zr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=qr(g(f.Ea,f,x),qd(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const q=new Sr(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=j(Y),ae(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(x+=N,x>4096){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=Ld(this,q,x),w=Bt(this.J),nt(w,"RID",f),nt(w,"CVER",22),this.G&&nt(w,"X-HTTP-Session-Id",this.G),_a(this,w),Y&&(this.R?x="headers="+vs(sr(Y))+"&"+x:this.u&&va(w,this.u,Y)),bc(this.h,q),this.Ra&&nt(w,"TYPE","init"),this.S?(nt(w,"$req",x),nt(w,"SID","null"),q.U=!0,Hr(q,w,null)):Hr(q,w,x),this.I=2}}else this.I==3&&(f?Cc(this,f):this.i.length==0||vc(this.h)||Cc(this))};function Cc(f,x){var w;x?w=x.l:w=f.V++;const N=Bt(f.J);nt(N,"SID",f.M),nt(N,"RID",w),nt(N,"AID",f.K),_a(f,N),f.u&&f.o&&va(N,f.u,f.o),w=new Sr(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),x&&(f.i=x.G.concat(f.i)),x=Ld(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),bc(f.h,w),Hr(w,N,x)}function _a(f,x){f.H&&we(f.H,function(w,N){nt(x,N,w)}),f.l&&we({},function(w,N){nt(x,N,w)})}function Ld(f,x,w){w=Math.min(f.i.length,w);const N=f.l?g(f.l.Ka,f.l,f):null;e:{var q=f.i;let Oe=-1;for(;;){const Ot=["count="+w];Oe==-1?w>0?(Oe=q[0].g,Ot.push("ofs="+Oe)):Oe=0:Ot.push("ofs="+Oe);let We=!0;for(let yt=0;yt<w;yt++){var Y=q[yt].g;const ir=q[yt].map;if(Y-=Oe,Y<0)Oe=Math.max(0,q[yt].g-100),We=!1;else try{Y="req"+Y+"_"||"";try{var fe=ir instanceof Map?ir:Object.entries(ir);for(const[rs,Cr]of fe){let Dr=Cr;d(Cr)&&(Dr=ri(Cr)),Ot.push(Y+rs+"="+encodeURIComponent(Dr))}}catch(rs){throw Ot.push(Y+"type="+encodeURIComponent("_badmap")),rs}}catch{N&&N(ir)}}if(We){fe=Ot.join("&");break e}}fe=void 0}return f=f.i.splice(0,w),x.G=f,fe}function Ud(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;ce||S(),me||(ce(),me=!0),I.add(x,f),f.A=0}}function wa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=qr(g(f.Da,f),qd(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Fd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=qr(g(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),di(this),Fd(this))};function Dc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Fd(f){f.g=new Sr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=Bt(f.na);nt(x,"RID","rpc"),nt(x,"SID",f.M),nt(x,"AID",f.K),nt(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&nt(x,"TO",f.ia),nt(x,"TYPE","xmlhttp"),_a(f,x),f.u&&f.o&&va(x,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=pa(Bt(x)),w.u=null,w.R=!0,Io(w,f)}t.Va=function(){this.C!=null&&(this.C=null,di(this),wa(this),Lt(19))};function Vo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Bd(f,x){var w=null;if(f.g==x){Vo(f),Dc(f),f.g=null;var N=2}else if(Yr(f.h,x))w=x.G,xc(f.h,x),N=1;else return;if(f.I!=0){if(x.o)if(N==1){w=x.u?x.u.length:0,x=Date.now()-x.F;var q=f.D;N=No(),Yt(N,new Br(N,w)),ts(f)}else Ud(f);else if(q=x.m,q==3||q==0&&x.X>0||!(N==1&&Mo(f,x)||N==2&&wa(f)))switch(w&&w.length>0&&(x=f.h,x.i=x.i.concat(w)),q){case 1:ns(f,5);break;case 4:ns(f,10);break;case 3:ns(f,6);break;default:ns(f,2)}}}function qd(f,x){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*x}function ns(f,x){if(f.j.info("Error code "+x),x==2){var w=g(f.bb,f),N=f.Ua;const q=!N;N=new Fn(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rn(N,"https"),pa(N),q?Nr(N.toString(),w):Ac(N.toString(),w)}else Lt(2);f.I=0,f.l&&f.l.pa(x),$d(f),Po(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function $d(f){if(f.I=0,f.ja=[],f.l){const x=_c(f.h);(x.length!=0||f.i.length!=0)&&(M(f.ja,x),M(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function Hd(f,x,w){var N=w instanceof Fn?Bt(w):new Fn(w);if(N.g!="")x&&(N.g=x+"."+N.g),si(N,N.u);else{var q=c.location;N=q.protocol,x=x?x+"."+q.hostname:q.hostname,q=+q.port;const Y=new Fn(null);N&&rn(Y,N),x&&(Y.g=x),q&&si(Y,q),w&&(Y.h=w),N=Y}return w=f.G,x=f.wa,w&&x&&nt(N,w,x),nt(N,"VER",f.ka),_a(f,N),N}function Gd(f,x,w){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new ct(new Jr({ab:w})):new ct(f.ma),x.Fa(f.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kd(){}t=Kd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hi(){}hi.prototype.g=function(f,x){return new En(f,x)};function En(f,x){zt.call(this),this.g=new ui(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!k(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!k(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new _s(this)}b(En,zt),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Rc(this.g)},En.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=ri(f),f=w);x.i.push(new Ft(x.Ya++,f)),x.I==3&&ts(x)},En.prototype.N=function(){this.g.l=null,delete this.j,Rc(this.g),delete this.g,En.Z.N.call(this)};function Qd(f){ln.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const w in x){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}b(Qd,ln);function Zd(){tr.call(this),this.status=1}b(Zd,tr);function _s(f){this.g=f}b(_s,Kd),_s.prototype.ra=function(){Yt(this.g,"a")},_s.prototype.qa=function(f){Yt(this.g,new Qd(f))},_s.prototype.pa=function(f){Yt(this.g,new Zd)},_s.prototype.oa=function(){Yt(this.g,"b")},hi.prototype.createWebChannel=hi.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,VS=function(){return new hi},MS=function(){return No()},PS=kt,My={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,vf=fa,pc.COMPLETE="complete",OS=pc,Nd.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",zt.prototype.listen=zt.prototype.J,Tu=Nd,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,kS=ct}).apply(typeof rf<"u"?rf:typeof self<"u"?self:typeof window<"u"?window:{});const cE="@firebase/firestore",uE="4.9.3";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let rc="12.7.0";const lo=new Av("@firebase/firestore");function _l(){return lo.logLevel}function ue(t,...e){if(lo.logLevel<=He.DEBUG){const n=e.map(Rv);lo.debug(`Firestore (${rc}): ${t}`,...n)}}function Nn(t,...e){if(lo.logLevel<=He.ERROR){const n=e.map(Rv);lo.error(`Firestore (${rc}): ${t}`,...n)}}function co(t,...e){if(lo.logLevel<=He.WARN){const n=e.map(Rv);lo.warn(`Firestore (${rc}): ${t}`,...n)}}function Rv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zS(t,r,n)}function zS(t,e,n){let r=`FIRESTORE (${rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Nn(r),new Error(r)}function _e(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||zS(e,a,r)}function De(t,e){return t}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class LS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class B4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class q4{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ds,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},d=h=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ds)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new LS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class $4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Cv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=K4(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function Vy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return hy(a)===hy(o)?Ce(a,o):hy(a)?1:-1}return Ce(t.length,e.length)}const Q4=55296,Z4=57343;function hy(t){const e=t.charCodeAt(0);return e>=Q4&&e<=Z4}function Pl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}function US(t){return t+"\0"}const hE="__name__";class ls{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ls?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=ls.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ce(e.length,n.length)}static compareSegments(e,n){const r=ls.isNumericId(e),a=ls.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ls.extractNumericId(e).compare(ls.extractNumericId(n)):Vy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}}class Je extends ls{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const Y4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends ls{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return Y4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new Et([hE])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(o(),a++)}if(o(),c)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Je.fromString(e))}static fromName(e){return new pe(Je.fromString(e).popFirst(5))}static empty(){return new pe(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Je(e.slice()))}}function FS(t,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X4(t,e,n,r){if(e===!0&&r===!0)throw new he(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fE(t){if(!pe.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mE(t){if(pe.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Tm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function Jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tm(t);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function J4(t,e){if(e<=0)throw new he(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ud(t,e){if(!BS(t))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new he(te.INVALID_ARGUMENT,n);return!0}const pE=-62135596800,gE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gE);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pE)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gE}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ud(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Qt("string",it._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new it(0,0))}static max(){return new Se(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hu=-1;class qf{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function zy(t){return t.fields.find((e=>e.kind===2))}function Ba(t){return t.fields.filter((e=>e.kind!==2))}qf.UNKNOWN_ID=-1;class bf{constructor(e,n){this.fieldPath=e,this.kind=n}}class Gu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Gu(0,Wn.min())}}function W4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Wn(a,pe.empty(),e)}function qS(t){return new Wn(t.readTime,t.key,Hu)}class Wn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wn(Se.min(),pe.empty(),Hu)}static max(){return new Wn(Se.max(),pe.empty(),Hu)}}function Dv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}const $S="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==$S)throw t;ue("LocalStore","Unexpectedly lost primary lease")}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):B.reject(n)}static resolve(e){return new B(((n,r)=>{n(e)}))}static reject(e){return new B(((n,r)=>{r(e)}))}static waitFor(e){return new B(((n,r)=>{let a=0,o=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++o,c&&o===a&&n()}),(h=>r(h)))})),c=!0,o===a&&n()}))}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next((a=>a?B.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new B(((r,a)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const g=h;n(e[g]).next((v=>{c[g]=v,++d,d===o&&r(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new B(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}const Zn="SimpleDb";class Sm{static open(e,n,r,a){try{return new Sm(n,e.transaction(a,r))}catch(o){throw new ju(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ds,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new ju(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=jv(r.target.error);this.S.reject(new ju(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ue(Zn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new tP(n)}}class Xi{static delete(e){return ue(Zn,"Removing database:",e),$a(gS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!SS())return!1;if(Xi.F())return!0;const e=en(),n=Xi.M(e),r=0<n&&n<10,a=GS(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Xi.M(en())===12.2&&Nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ue(Zn,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const c=o.target.result;n(c)},a.onblocked=()=>{r(new ju(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const c=o.target.error;c.name==="VersionError"?r(new he(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new he(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new ju(e,c))},a.onupgradeneeded=o=>{ue(Zn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,a.transaction,o.oldVersion,this.version).next((()=>{ue(Zn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,a){const o=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=Sm.open(this.db,e,o?"readonly":"readwrite",r),h=a(d).next((g=>(d.C(),g))).catch((g=>(d.abort(g),B.reject(g)))).toPromise();return h.catch((()=>{})),await d.D,h}catch(d){const h=d,g=h.name!=="FirebaseError"&&c<3;if(ue(Zn,"Transaction failed with error:",h.message,"Retrying:",g),this.close(),!g)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function GS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class eP{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return $a(this.U.delete())}}class ju extends he{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function sa(t){return t.name==="IndexedDbTransactionError"}class tP{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ue(Zn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ue(Zn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$a(r)}add(e){return ue(Zn,"ADD",this.store.name,e,e),$a(this.store.add(e))}get(e){return $a(this.store.get(e)).next((n=>(n===void 0&&(n=null),ue(Zn,"GET",this.store.name,e,n),n)))}delete(e){return ue(Zn,"DELETE",this.store.name,e),$a(this.store.delete(e))}count(){return ue(Zn,"COUNT",this.store.name),$a(this.store.count())}J(e,n){const r=this.options(e,n),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(r.range);return new B(((c,d)=>{o.onerror=h=>{d(h.target.error)},o.onsuccess=h=>{c(h.target.result)}}))}{const o=this.cursor(r),c=[];return this.H(o,((d,h)=>{c.push(h)})).next((()=>c))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B(((a,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}Z(e,n){ue(Zn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const a=this.cursor(r);return this.H(a,((o,c,d)=>d.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.H(a,n)}te(e){const n=this.cursor({});return new B(((r,a)=>{n.onerror=o=>{const c=jv(o.target.error);a(c)},n.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():r()})):r()}}))}H(e,n){const r=[];return new B(((a,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const h=new eP(d),g=n(d.primaryKey,d.value,h);if(g instanceof B){const v=g.catch((b=>(h.done(),B.reject(b))));r.push(v)}h.isDone?a():h.G===null?d.continue():d.continue(h.G)}})).next((()=>B.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function $a(t){return new B(((e,n)=>{t.onsuccess=r=>{const a=r.target.result;e(a)},t.onerror=r=>{const a=jv(r.target.error);n(a)}}))}let yE=!1;function jv(t){const e=Xi.M(en());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new he("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yE||(yE=!0,setTimeout((()=>{throw r}),0)),r}}return t}const ku="IndexBackfiller";class nP{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ue(ku,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ue(ku,`Documents written: ${n}`)}catch(n){sa(n)?ue(ku,"Ignoring IndexedDB error during index backfill: ",n):await wo(n)}await this.re(6e4)}))}}class rP{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let a=n,o=!0;return B.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return ue(ku,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,r.add(c)}));o=!1})))).next((()=>n-a))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,o))).next((d=>(ue(ku,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,n,d)))).next((()=>c.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((a,o)=>{const c=qS(o);Dv(c,r)>0&&(r=c)})),new Wn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class gr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gr.ce=-1;const Xa=-1;function Am(t){return t==null}function Ku(t){return t===0&&1/t==-1/0}function sP(t){return typeof t=="number"&&Number.isInteger(t)&&!Ku(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const $f="";function xn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vE(e)),e=iP(t.get(n),e);return vE(e)}function iP(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case $f:n+="";break;default:n+=o}}return n}function vE(t){return t+$f+""}function cs(t){const e=t.length;if(_e(e>=2,64408,{path:t}),e===2)return _e(t.charAt(0)===$f&&t.charAt(1)==="",56145,{path:t}),Je.emptyPath();const n=e-2,r=[];let a="";for(let o=0;o<e;){const c=t.indexOf($f,o);switch((c<0||c>n)&&be(50515,{path:t}),t.charAt(c+1)){case"":const d=t.substring(o,c);let h;a.length===0?h=d:(a+=d,h=a,a=""),r.push(h);break;case"":a+=t.substring(o,c),a+="\0";break;case"":a+=t.substring(o,c+1);break;default:be(61167,{path:t})}o=c+2}return new Je(r)}const qa="remoteDocuments",dd="owner",pl="owner",Qu="mutationQueues",aP="userId",Pr="mutations",bE="batchId",Za="userMutationsIndex",xE=["userId","batchId"];function xf(t,e){return[t,xn(e)]}function KS(t,e,n){return[t,xn(e),n]}const oP={},Ml="documentMutations",Hf="remoteDocumentsV14",lP=["prefixPath","collectionGroup","readTime","documentId"],_f="documentKeyIndex",cP=["prefixPath","collectionGroup","documentId"],QS="collectionGroupIndex",uP=["collectionGroup","readTime","prefixPath","documentId"],Zu="remoteDocumentGlobal",Ly="remoteDocumentGlobalKey",Vl="targets",ZS="queryTargetsIndex",dP=["canonicalId","targetId"],zl="targetDocuments",hP=["targetId","path"],kv="documentTargetsIndex",fP=["path","targetId"],Gf="targetGlobalKey",Ja="targetGlobal",Yu="collectionParents",mP=["collectionId","parent"],Ll="clientMetadata",pP="clientId",Nm="bundles",gP="bundleId",Im="namedQueries",yP="name",Ov="indexConfiguration",vP="indexId",Uy="collectionGroupIndex",bP="collectionGroup",Ou="indexState",xP=["indexId","uid"],YS="sequenceNumberIndex",_P=["uid","sequenceNumber"],Pu="indexEntries",wP=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XS="documentKeyIndex",EP=["indexId","uid","orderedDocumentKey"],Rm="documentOverlays",TP=["userId","collectionPath","documentId"],Fy="collectionPathOverlayIndex",SP=["userId","collectionPath","largestBatchId"],JS="collectionGroupOverlayIndex",AP=["userId","collectionGroup","largestBatchId"],Pv="globals",NP="name",WS=[Qu,Pr,Ml,qa,Vl,dd,Ja,zl,Ll,Zu,Yu,Nm,Im],IP=[...WS,Rm],eA=[Qu,Pr,Ml,Hf,Vl,dd,Ja,zl,Ll,Zu,Yu,Nm,Im,Rm],tA=eA,Mv=[...tA,Ov,Ou,Pu],RP=Mv,nA=[...Mv,Pv],CP=nA;class By extends HS{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function tn(t,e){const n=De(t);return Xi.O(n.le,e)}function _E(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class _t{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sf(this.root,e,this.comparator,!0)}}class sf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=a??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new pn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gl(t){return t.hasNext()?t.getNext():void 0}class yr{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new yr([])}unionWith(e){let n=new lt(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class sA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sA("Invalid base64 string: "+o):o}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const DP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=DP.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}const iA="server_timestamp",aA="__type__",oA="__previous_value__",lA="__local_write_time__";function Cm(t){return(t?.mapValue?.fields||{})[aA]?.stringValue===iA}function Dm(t){const e=t.mapValue.fields[oA];return Cm(e)?Dm(e):e}function Xu(t){const e=Ks(t.mapValue.fields[lA].timestampValue);return new it(e.seconds,e.nanos)}class jP{constructor(e,n,r,a,o,c,d,h,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=g,this.isUsingEmulator=v}}const Kf="(default)";class uo{constructor(e,n){this.projectId=e,this.database=n||Kf}static empty(){return new uo("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof uo&&e.projectId===this.projectId&&e.database===this.database}}const Vv="__type__",cA="__max__",Hi={mapValue:{fields:{__type__:{stringValue:cA}}}},zv="__vector__",Ul="value",wf={nullValue:"NULL_VALUE"};function Wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cm(t)?4:uA(t)?9007199254740991:jm(t)?10:11:be(28295,{value:t})}function ps(t,e){if(t===e)return!0;const n=Wi(t);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xu(t).isEqual(Xu(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Ks(a.timestampValue),d=Ks(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Qs(a.bytesValue).isEqual(Qs(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return bt(a.geoPointValue.latitude)===bt(o.geoPointValue.latitude)&&bt(a.geoPointValue.longitude)===bt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return bt(a.integerValue)===bt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=bt(a.doubleValue),d=bt(o.doubleValue);return c===d?Ku(c)===Ku(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Pl(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(_E(c)!==_E(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!ps(c[h],d[h])))return!1;return!0})(t,e);default:return be(52216,{left:t})}}function Ju(t,e){return(t.values||[]).find((n=>ps(n,e)))!==void 0}function ea(t,e){if(t===e)return 0;const n=Wi(t),r=Wi(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=bt(o.integerValue||o.doubleValue),h=bt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return EE(t.timestampValue,e.timestampValue);case 4:return EE(Xu(t),Xu(e));case 5:return Vy(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=Qs(o),h=Qs(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),h=c.split("/");for(let g=0;g<d.length&&g<h.length;g++){const v=Ce(d[g],h[g]);if(v!==0)return v}return Ce(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=Ce(bt(o.latitude),bt(c.latitude));return d!==0?d:Ce(bt(o.longitude),bt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return TE(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},h=c.fields||{},g=d[Ul]?.arrayValue,v=h[Ul]?.arrayValue,b=Ce(g?.values?.length||0,v?.values?.length||0);return b!==0?b:TE(g,v)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Hi.mapValue&&c===Hi.mapValue)return 0;if(o===Hi.mapValue)return 1;if(c===Hi.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),g=c.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let b=0;b<h.length&&b<v.length;++b){const E=Vy(h[b],v[b]);if(E!==0)return E;const A=ea(d[h[b]],g[v[b]]);if(A!==0)return A}return Ce(h.length,v.length)})(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function EE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Ks(t),r=Ks(e),a=Ce(n.seconds,r.seconds);return a!==0?a:Ce(n.nanos,r.nanos)}function TE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=ea(n[a],r[a]);if(o)return o}return Ce(n.length,r.length)}function Fl(t){return qy(t)}function qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Qs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=qy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${qy(n.fields[c])}`;return a+"}"})(t.mapValue):be(61005,{value:t})}function Ef(t){switch(Wi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dm(t);return e?16+Ef(e):16;case 5:return 2*t.stringValue.length;case 6:return Qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Ef(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Eo(r.fields,((o,c)=>{a+=o.length+Ef(c)})),a})(t.mapValue);default:throw be(13486,{value:t})}}function ho(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $y(t){return!!t&&"integerValue"in t}function Wu(t){return!!t&&"arrayValue"in t}function SE(t){return!!t&&"nullValue"in t}function AE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tf(t){return!!t&&"mapValue"in t}function jm(t){return(t?.mapValue?.fields||{})[Vv]?.stringValue===zv}function Mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Eo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Mu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return{...t}}function uA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cA}const dA={mapValue:{fields:{[Vv]:{stringValue:zv},[Ul]:{arrayValue:{}}}}};function kP(t){return"nullValue"in t?wf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ho(uo.empty(),pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?jm(t)?dA:{mapValue:{}}:be(35942,{value:t})}function OP(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ho(uo.empty(),pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?dA:"mapValue"in t?jm(t)?{mapValue:{}}:Hi:be(61959,{value:t})}function NE(t,e){const n=ea(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function IE(t,e){const n=ea(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=Et.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Mu(c):a.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Tf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Eo(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new zn(Mu(this.value))}}function hA(t){const e=[];return Eo(t.fields,((n,r)=>{const a=new Et([n]);if(Tf(r)){const o=hA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new yr(e)}class Ct{constructor(e,n,r,a,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Ct(e,0,Se.min(),Se.min(),Se.min(),zn.empty(),0)}static newFoundDocument(e,n,r,a){return new Ct(e,1,n,Se.min(),r,a,0)}static newNoDocument(e,n){return new Ct(e,2,n,Se.min(),Se.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,Se.min(),Se.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ta{constructor(e,n){this.position=e,this.inclusive=n}}function RE(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(c.referenceValue),n.key):r=ea(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function CE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ps(t.position[n],e.position[n]))return!1;return!0}class Qf{constructor(e,n="asc"){this.field=e,this.dir=n}}function PP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class fA{}class Ge extends fA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MP(e,n,r):n==="array-contains"?new LP(e,r):n==="in"?new bA(e,r):n==="not-in"?new UP(e,r):n==="array-contains-any"?new FP(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VP(e,r):new zP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ea(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class at extends fA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new at(e,n)}matches(e){return Bl(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bl(t){return t.op==="and"}function Hy(t){return t.op==="or"}function Lv(t){return mA(t)&&Bl(t)}function mA(t){for(const e of t.filters)if(e instanceof at)return!1;return!0}function Gy(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(Lv(t))return t.filters.map((e=>Gy(e))).join(",");{const e=t.filters.map((n=>Gy(n))).join(",");return`${t.op}(${e})`}}function pA(t,e){return t instanceof Ge?(function(r,a){return a instanceof Ge&&r.op===a.op&&r.field.isEqual(a.field)&&ps(r.value,a.value)})(t,e):t instanceof at?(function(r,a){return a instanceof at&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,d)=>o&&pA(c,a.filters[d])),!0):!1})(t,e):void be(19439)}function gA(t,e){const n=t.filters.concat(e);return at.create(n,t.op)}function yA(t){return t instanceof Ge?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`})(t):t instanceof at?(function(n){return n.op.toString()+" {"+n.getFilters().map(yA).join(" ,")+"}"})(t):"Filter"}class MP extends Ge{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class VP extends Ge{constructor(e,n){super(e,"in",n),this.keys=vA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class zP extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=vA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function vA(t,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class LP extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wu(n)&&Ju(n.arrayValue,this.value)}}class bA extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ju(this.value.arrayValue,n)}}class UP extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ju(this.value.arrayValue,n)}}class FP extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ju(this.value.arrayValue,r)))}}class BP{constructor(e,n=null,r=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function Ky(t,e=null,n=[],r=[],a=null,o=null,c=null){return new BP(t,e,n,r,a,o,c)}function fo(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Gy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Fl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Fl(r))).join(",")),e.Te=n}return e.Te}function hd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CE(t.startAt,e.startAt)&&CE(t.endAt,e.endAt)}function Zf(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Yf(t,e){return t.filters.filter((n=>n instanceof Ge&&n.field.isEqual(e)))}function DE(t,e,n){let r=wf,a=!0;for(const o of Yf(t,e)){let c=wf,d=!0;switch(o.op){case"<":case"<=":c=kP(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,d=!1;break;case"!=":case"not-in":c=wf}NE({value:r,inclusive:a},{value:c,inclusive:d})<0&&(r=c,a=d)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];NE({value:r,inclusive:a},{value:c,inclusive:n.inclusive})<0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}function jE(t,e,n){let r=Hi,a=!0;for(const o of Yf(t,e)){let c=Hi,d=!0;switch(o.op){case">=":case">":c=OP(o.value),d=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,d=!1;break;case"!=":case"not-in":c=Hi}IE({value:r,inclusive:a},{value:c,inclusive:d})>0&&(r=c,a=d)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];IE({value:r,inclusive:a},{value:c,inclusive:n.inclusive})>0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}class sc{constructor(e,n=null,r=[],a=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qP(t,e,n,r,a,o,c,d){return new sc(t,e,n,r,a,o,c,d)}function fd(t){return new sc(t)}function kE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Uv(t){return t.collectionGroup!==null}function Nl(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new lt(Et.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Qf(o,r))})),n.has(Et.keyField().canonicalString())||e.Ie.push(new Qf(Et.keyField(),r))}return e.Ie}function vr(t){const e=De(t);return e.Ee||(e.Ee=$P(e,Nl(t))),e.Ee}function $P(t,e){if(t.limitType==="F")return Ky(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Qf(a.field,o)}));const n=t.endAt?new ta(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ta(t.startAt.position,t.startAt.inclusive):null;return Ky(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qy(t,e){const n=t.filters.concat([e]);return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xf(t,e,n){return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function km(t,e){return hd(vr(t),vr(e))&&t.limitType===e.limitType}function xA(t){return`${fo(vr(t))}|lt:${t.limitType}`}function wl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>yA(a))).join(", ")}]`),Am(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Fl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Fl(a))).join(",")),`Target(${r})`})(vr(t))}; limitType=${t.limitType})`}function md(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of Nl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,h){const g=RE(c,d,h);return c.inclusive?g<=0:g<0})(r.startAt,Nl(r),a)||r.endAt&&!(function(c,d,h){const g=RE(c,d,h);return c.inclusive?g>=0:g>0})(r.endAt,Nl(r),a))})(t,e)}function HP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _A(t){return(e,n)=>{let r=!1;for(const a of Nl(t)){const o=GP(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function GP(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):(function(o,c,d){const h=c.data.field(o),g=d.data.field(o);return h!==null&&g!==null?ea(h,g):be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:t.dir})}}class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Eo(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return rA(this.inner)}size(){return this.innerSize}}const KP=new _t(pe.comparator);function Xn(){return KP}const wA=new _t(pe.comparator);function Su(...t){let e=wA;for(const n of t)e=e.insert(n.key,n);return e}function EA(t){let e=wA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function us(){return Vu()}function TA(){return Vu()}function Vu(){return new Ws((t=>t.toString()),((t,e)=>t.isEqual(e)))}const QP=new _t(pe.comparator),ZP=new lt(pe.comparator);function Ue(...t){let e=ZP;for(const n of t)e=e.add(n);return e}const YP=new lt(Ce);function XP(){return YP}function Fv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function SA(t){return{integerValue:""+t}}function JP(t,e){return sP(e)?SA(e):Fv(t,e)}class Om{constructor(){this._=void 0}}function WP(t,e,n){return t instanceof ql?(function(a,o){const c={fields:{[aA]:{stringValue:iA},[lA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Cm(o)&&(o=Dm(o)),o&&(c.fields[oA]=o),{mapValue:c}})(n,e):t instanceof $l?NA(t,e):t instanceof Hl?IA(t,e):(function(a,o){const c=AA(a,o),d=OE(c)+OE(a.Ae);return $y(c)&&$y(a.Ae)?SA(d):Fv(a.serializer,d)})(t,e)}function eM(t,e,n){return t instanceof $l?NA(t,e):t instanceof Hl?IA(t,e):n}function AA(t,e){return t instanceof ed?(function(r){return $y(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class ql extends Om{}class $l extends Om{constructor(e){super(),this.elements=e}}function NA(t,e){const n=RA(e);for(const r of t.elements)n.some((a=>ps(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Hl extends Om{constructor(e){super(),this.elements=e}}function IA(t,e){let n=RA(e);for(const r of t.elements)n=n.filter((a=>!ps(a,r)));return{arrayValue:{values:n}}}class ed extends Om{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function OE(t){return bt(t.integerValue||t.doubleValue)}function RA(t){return Wu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class CA{constructor(e,n){this.field=e,this.transform=n}}function tM(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof $l&&a instanceof $l||r instanceof Hl&&a instanceof Hl?Pl(r.elements,a.elements,ps):r instanceof ed&&a instanceof ed?ps(r.Ae,a.Ae):r instanceof ql&&a instanceof ql})(t.transform,e.transform)}class nM{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pm{}function DA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mm(t.key,Rn.none()):new ic(t.key,t.data,Rn.none());{const n=t.data,r=zn.empty();let a=new lt(Et.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new ia(t.key,r,new yr(a.toArray()),Rn.none())}}function rM(t,e,n){t instanceof ic?(function(a,o,c){const d=a.value.clone(),h=ME(a.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ia?(function(a,o,c){if(!Sf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=ME(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(jA(a)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function zu(t,e,n,r){return t instanceof ic?(function(o,c,d,h){if(!Sf(o.precondition,c))return d;const g=o.value.clone(),v=VE(o.fieldTransforms,h,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,r):t instanceof ia?(function(o,c,d,h){if(!Sf(o.precondition,c))return d;const g=VE(o.fieldTransforms,h,c),v=c.data;return v.setAll(jA(o)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(o,c,d){return Sf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function sM(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=AA(r.transform,a||null);o!=null&&(n===null&&(n=zn.empty()),n.set(r.field,o))}return n||null}function PE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Pl(r,a,((o,c)=>tM(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ic extends Pm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ia extends Pm{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function jA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function ME(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,d=e.data.field(o.field);r.set(o.field,eM(c,d,n[a]))}return r}function VE(t,e,n){const r=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);r.set(a.field,WP(o,c,e))}return r}class Mm extends Pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kA extends Pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bv{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&rM(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TA();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(a.key)?null:d;const h=DA(c,d);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Pl(this.mutations,e.mutations,((n,r)=>PE(n,r)))&&Pl(this.baseMutations,e.baseMutations,((n,r)=>PE(n,r)))}}class qv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){_e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return QP})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new qv(e,n,r,a)}}class $v{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class iM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Kt,Ze;function aM(t){switch(t){case te.OK:return be(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function OA(t){if(t===void 0)return Nn("GRPC error has no .code"),te.UNKNOWN;switch(t){case Kt.OK:return te.OK;case Kt.CANCELLED:return te.CANCELLED;case Kt.UNKNOWN:return te.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return te.INTERNAL;case Kt.UNAVAILABLE:return te.UNAVAILABLE;case Kt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Kt.NOT_FOUND:return te.NOT_FOUND;case Kt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Kt.ABORTED:return te.ABORTED;case Kt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Kt.DATA_LOSS:return te.DATA_LOSS;default:return be(39323,{code:t})}}(Ze=Kt||(Kt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function oM(){return new TextEncoder}const lM=new Yi([4294967295,4294967295],0);function zE(t){const e=oM().encode(t),n=new jS;return n.update(e),new Uint8Array(n.digest())}function LE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yi([n,r],0),new Yi([a,o],0)]}class Hv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Au(`Invalid padding: ${n}`);if(r<0)throw new Au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Au(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yi.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Yi.fromNumber(r)));return a.compare(lM)===1&&(a=new Yi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zE(e),[r,a]=LE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Hv(o,a,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=zE(e),[r,a]=LE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vm{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vm(Se.min(),a,new _t(Ce),Xn(),Ue())}}class pd{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pd(r,n,Ue(),Ue(),Ue())}}class Af{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class PA{constructor(e,n){this.targetId=e,this.Ce=n}}class MA{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class UE{constructor(){this.ve=0,this.Fe=FE(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:be(38017,{changeType:o})}})),new pd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=FE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xn(),this.Je=af(),this.He=af(),this.Ye=new _t(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(Zf(o))if(r===0){const c=new pe(o.path);this.et(n,c,Ct.newNoDocument(c,Se.min()))}else _e(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),h=d?this.ct(d,e,c):1;if(h!==0){this.it(n);const g=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let c,d;try{c=Qs(r).toUint8Array()}catch(h){if(h instanceof sA)return co("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Hv(c,a,o)}catch(h){return co(h instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&Zf(d.target)){const h=new pe(d.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,Ct.newNoDocument(h,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let r=Ue();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((h=>{const g=this.ot(h);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Vm(e,n,this.Ye,this.je,r);return this.je=Xn(),this.Je=af(),this.He=af(),this.Ye=new _t(Ce),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new UE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new lt(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new lt(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new UE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function af(){return new _t(pe.comparator)}function FE(){return new _t(pe.comparator)}const uM={asc:"ASCENDING",desc:"DESCENDING"},dM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hM={and:"AND",or:"OR"};class fM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zy(t,e){return t.useProto3Json||Am(e)?e:{value:e}}function Gl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mM(t,e){return Gl(t,e.toTimestamp())}function Cn(t){return _e(!!t,49232),Se.fromTimestamp((function(n){const r=Ks(n);return new it(r.seconds,r.nanos)})(t))}function Gv(t,e){return Yy(t,e).canonicalString()}function Yy(t,e){const n=(function(a){return new Je(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function zA(t){const e=Je.fromString(t);return _e(KA(e),10190,{key:e.toString()}),e}function Jf(t,e){return Gv(t.databaseId,e.path)}function Wa(t,e){const n=zA(e);if(n.get(1)!==t.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(FA(n))}function LA(t,e){return Gv(t.databaseId,e)}function UA(t){const e=zA(t);return e.length===4?Je.emptyPath():FA(e)}function Xy(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FA(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function BE(t,e,n){return{name:Jf(t,e),fields:n.value.mapValue.fields}}function pM(t,e,n){const r=Wa(t,e.name),a=Cn(e.updateTime),o=e.createTime?Cn(e.createTime):Se.min(),c=new zn({mapValue:{fields:e.fields}}),d=Ct.newFoundDocument(r,a,o,c);return n&&d.setHasCommittedMutations(),n?d.setHasCommittedMutations():d}function gM(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(g,v){return g.useProto3Json?(_e(v===void 0||typeof v=="string",58123),Zt.fromBase64String(v||"")):(_e(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Zt.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?te.UNKNOWN:OA(g.code);return new he(v,g.message||"")})(c);n=new MA(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Wa(t,r.document.name),o=Cn(r.document.updateTime),c=r.document.createTime?Cn(r.document.createTime):Se.min(),d=new zn({mapValue:{fields:r.document.fields}}),h=Ct.newFoundDocument(a,o,c,d),g=r.targetIds||[],v=r.removedTargetIds||[];n=new Af(g,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Wa(t,r.document),o=r.readTime?Cn(r.readTime):Se.min(),c=Ct.newNoDocument(a,o),d=r.removedTargetIds||[];n=new Af([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Wa(t,r.document),o=r.removedTargetIds||[];n=new Af([],o,a,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new iM(a,o),d=r.targetId;n=new PA(d,c)}}return n}function Wf(t,e){let n;if(e instanceof ic)n={update:BE(t,e.key,e.value)};else if(e instanceof Mm)n={delete:Jf(t,e.key)};else if(e instanceof ia)n={update:BE(t,e.key,e.data),updateMask:wM(e.fieldMask)};else{if(!(e instanceof kA))return be(16599,{Vt:e.type});n={verify:Jf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const d=c.transform;if(d instanceof ql)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof $l)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Hl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ed)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw be(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:mM(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be(27497)})(t,e.precondition)),n}function Jy(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Rn.updateTime(Cn(o.updateTime)):o.exists!==void 0?Rn.exists(o.exists):Rn.none()})(e.currentDocument):Rn.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let h=null;if("setToServerValue"in d)_e(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),h=new ql;else if("appendMissingElements"in d){const v=d.appendMissingElements.values||[];h=new $l(v)}else if("removeAllFromArray"in d){const v=d.removeAllFromArray.values||[];h=new Hl(v)}else"increment"in d?h=new ed(c,d.increment):be(16584,{proto:d});const g=Et.fromServerFormat(d.fieldPath);return new CA(g,h)})(t,a))):[];if(e.update){e.update.name;const a=Wa(t,e.update.name),o=new zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(h){const g=h.fieldPaths||[];return new yr(g.map((v=>Et.fromServerFormat(v))))})(e.updateMask);return new ia(a,o,c,n,r)}return new ic(a,o,n,r)}if(e.delete){const a=Wa(t,e.delete);return new Mm(a,n)}if(e.verify){const a=Wa(t,e.verify);return new kA(a,n)}return be(1463,{proto:e})}function yM(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map((n=>(function(a,o){let c=a.updateTime?Cn(a.updateTime):Cn(o);return c.isEqual(Se.min())&&(c=Cn(o)),new nM(c,a.transformResults||[])})(n,e)))):[]}function BA(t,e){return{documents:[LA(t,e.path)]}}function qA(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LA(t,a);const o=(function(g){if(g.length!==0)return GA(at.create(g,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:El(E.field),direction:bM(E.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Zy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function $A(t){let e=UA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){_e(r===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];n.where&&(o=(function(b){const E=HA(b);return E instanceof at&&Lv(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((E=>(function(M){return new Qf(Tl(M.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let E;return E=typeof b=="object"?b.value:b,Am(E)?null:E})(n.limit));let h=null;n.startAt&&(h=(function(b){const E=!!b.before,A=b.values||[];return new ta(A,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const E=!b.before,A=b.values||[];return new ta(A,E)})(n.endAt)),qP(e,a,c,o,d,"F",h,g)}function vM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tl(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Tl(n.unaryFilter.field);return Ge.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tl(n.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Tl(n.unaryFilter.field);return Ge.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ge.create(Tl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return at.create(n.compositeFilter.filters.map((r=>HA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(t):be(30097,{filter:t})}function bM(t){return uM[t]}function xM(t){return dM[t]}function _M(t){return hM[t]}function El(t){return{fieldPath:t.canonicalString()}}function Tl(t){return Et.fromServerFormat(t.fieldPath)}function GA(t){return t instanceof Ge?(function(n){if(n.op==="=="){if(AE(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NAN"}};if(SE(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AE(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NAN"}};if(SE(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(n.field),op:xM(n.op),value:n.value}}})(t):t instanceof at?(function(n){const r=n.getFilters().map((a=>GA(a)));return r.length===1?r[0]:{compositeFilter:{op:_M(n.op),filters:r}}})(t):be(54877,{filter:t})}function wM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Us{constructor(e,n,r,a,o=Se.min(),c=Se.min(),d=Zt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class QA{constructor(e){this.yt=e}}function EM(t,e){let n;if(e.document)n=pM(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),a=po(e.noDocument.readTime);n=Ct.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return be(56709);{const r=pe.fromSegments(e.unknownDocument.path),a=po(e.unknownDocument.version);n=Ct.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime((function(a){const o=new it(a[0],a[1]);return Se.fromTimestamp(o)})(e.readTime)),n}function qE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:em(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,c){return{name:Jf(o,c.key),fields:c.data.value.mapValue.fields,updateTime:Gl(o,c.version.toTimestamp()),createTime:Gl(o,c.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:mo(e.version)};else{if(!e.isUnknownDocument())return be(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:mo(e.version)}}return r}function em(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function mo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function po(t){const e=new it(t.seconds,t.nanoseconds);return Se.fromTimestamp(e)}function Ha(t,e){const n=(e.baseMutations||[]).map((o=>Jy(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const d=e.mutations[o+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>Jy(t.yt,o))),a=it.fromMillis(e.localWriteTimeMs);return new Bv(e.batchId,a,n,r)}function Nu(t){const e=po(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?po(t.lastLimboFreeSnapshotVersion):Se.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const c=o.documents.length;return _e(c===1,1966,{count:c}),vr(fd(UA(o.documents[0])))})(t.query):(function(o){return vr($A(o))})(t.query),new Us(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Zt.fromBase64String(t.resumeToken))}function ZA(t,e){const n=mo(e.snapshotVersion),r=mo(e.lastLimboFreeSnapshotVersion);let a;a=Zf(e.target)?BA(t.yt,e.target):qA(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fo(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function YA(t){const e=$A({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xf(e,e.limit,"L"):e}function fy(t,e){return new $v(e.largestBatchId,Jy(t.yt,e.overlayMutation))}function $E(t,e){const n=e.path.lastSegment();return[t,xn(e.path.popLast()),n]}function HE(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:mo(r.readTime),documentKey:xn(r.documentKey.path),largestBatchId:r.largestBatchId}}class TM{getBundleMetadata(e,n){return GE(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:po(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return GE(e).put((function(a){return{bundleId:a.id,createTime:mo(Cn(a.createTime)),version:a.version}})(n))}getNamedQuery(e,n){return KE(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:YA(o.bundledQuery),readTime:po(o.readTime)}})(r)}))}saveNamedQuery(e,n){return KE(e).put((function(a){return{name:a.name,readTime:mo(Cn(a.readTime)),bundledQuery:a.bundledQuery}})(n))}}function GE(t){return tn(t,Nm)}function KE(t){return tn(t,Im)}class zm{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new zm(e,r)}getOverlay(e,n){return vu(e).get($E(this.userId,n)).next((r=>r?fy(this.serializer,r):null))}getOverlays(e,n){const r=us();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){const a=[];return r.forEach(((o,c)=>{const d=new $v(n,c);a.push(this.St(e,d))})),B.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach((c=>a.add(xn(c.getCollectionPath()))));const o=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(vu(e).Z(Fy,d))})),B.waitFor(o)}getOverlaysForCollection(e,n,r){const a=us(),o=xn(n),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return vu(e).J(Fy,c).next((d=>{for(const h of d){const g=fy(this.serializer,h);a.set(g.getKey(),g)}return a}))}getOverlaysForCollectionGroup(e,n,r,a){const o=us();let c;const d=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return vu(e).ee({index:JS,range:d},((h,g,v)=>{const b=fy(this.serializer,g);o.size()<a||b.largestBatchId===c?(o.set(b.getKey(),b),c=b.largestBatchId):v.done()})).next((()=>o))}St(e,n){return vu(e).put((function(a,o,c){const[d,h,g]=$E(o,c.mutation.key);return{userId:o,collectionPath:h,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Wf(a.yt,c.mutation)}})(this.serializer,this.userId,n))}}function vu(t){return tn(t,Rm)}class SM{bt(e){return tn(e,Pv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?Zt.fromUint8Array(r):Zt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Ga{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(bt(e.integerValue));else if("doubleValue"in e){const r=bt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Ku(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ks(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Qs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?uA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):jm(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):be(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const a of Object.keys(r))this.Ot(a,n),this.Ct(r[a],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const a=Ul,o=r[a].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(bt(o)),this.Ot(a,n),this.Ct(r[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const a of r)this.Ct(a,n)}Lt(e,n){this.Ft(n,37),pe.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Ga.Kt=new Ga;const yl=255;function AM(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function QE(t){const e=64-(function(r){let a=0;for(let o=0;o<8;++o){const c=AM(255&r[o]);if(a+=c,c!==8)break}return a})(t);return Math.ceil(e/8)}class NM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=n.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=n.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const n=this.en(e),r=QE(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}nn(e){const n=this.en(e),r=QE(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}rn(){this.sn(yl),this.sn(255)}_n(){this.an(yl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===yl?(this.sn(yl),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===yl?(this.an(yl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class IM{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class RM{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class bu{constructor(){this.cn=new NM,this.ln=new IM(this.cn),this.hn=new RM(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ka{constructor(e,n,r,a){this.Tn=e,this.In=n,this.En=r,this.dn=a}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Ka(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Nf(this.En),directionalValue:Nf(this.dn),orderedDocumentKey:Nf(n),documentKey:r.path.toArray()}}Vn(e,n,r){const a=this.Rn(e,n,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Mi(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=ZE(t.En,e.En),n!==0?n:(n=ZE(t.dn,e.dn),n!==0?n:pe.comparator(t.In,e.In)))}function ZE(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Nf(t){return TS()?(function(n){let r="";for(let a=0;a<n.length;a++)r+=String.fromCharCode(n[a]);return r})(t):t}function YE(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(t)}class XE{constructor(e){this.mn=new lt(((n,r)=>Et.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(_e(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=zy(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ba(e);let a=new Set,o=0,c=0;for(;o<r.length&&this.wn(r[o]);++o)a=a.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const d=this.mn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const h=r[o];if(!this.Sn(d,h)||!this.bn(this.fn[c++],h))return!1}++o}for(;o<r.length;++o){const d=r[o];if(c>=this.fn.length||!this.bn(this.fn[c++],d))return!1}return!0}Dn(){if(this.pn)return null;let e=new lt(Et.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new bf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new bf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new bf(r.field,r.dir==="asc"?0:1)));return new qf(qf.UNKNOWN_ID,this.collectionId,n,Gu.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function XA(t){if(_e(t instanceof Ge||t instanceof at,20012),t instanceof Ge){if(t instanceof bA){const n=t.value.arrayValue?.values?.map((r=>Ge.create(t.field,"==",r)))||[];return at.create(n,"or")}return t}const e=t.filters.map((n=>XA(n)));return at.create(e,t.op)}function CM(t){if(t.getFilters().length===0)return[];const e=tv(XA(t));return _e(JA(e),7391),Wy(e)||ev(e)?[e]:e.getFilters()}function Wy(t){return t instanceof Ge}function ev(t){return t instanceof at&&Lv(t)}function JA(t){return Wy(t)||ev(t)||(function(n){if(n instanceof at&&Hy(n)){for(const r of n.getFilters())if(!Wy(r)&&!ev(r))return!1;return!0}return!1})(t)}function tv(t){if(_e(t instanceof Ge||t instanceof at,34018),t instanceof Ge)return t;if(t.filters.length===1)return tv(t.filters[0]);const e=t.filters.map((r=>tv(r)));let n=at.create(e,t.op);return n=tm(n),JA(n)?n:(_e(n instanceof at,64498),_e(Bl(n),40251),_e(n.filters.length>1,57927),n.filters.reduce(((r,a)=>Kv(r,a))))}function Kv(t,e){let n;return _e(t instanceof Ge||t instanceof at,38388),_e(e instanceof Ge||e instanceof at,25473),n=t instanceof Ge?e instanceof Ge?(function(a,o){return at.create([a,o],"and")})(t,e):JE(t,e):e instanceof Ge?JE(e,t):(function(a,o){if(_e(a.filters.length>0&&o.filters.length>0,48005),Bl(a)&&Bl(o))return gA(a,o.getFilters());const c=Hy(a)?a:o,d=Hy(a)?o:a,h=c.filters.map((g=>Kv(g,d)));return at.create(h,"or")})(t,e),tm(n)}function JE(t,e){if(Bl(e))return gA(e,t.getFilters());{const n=e.filters.map((r=>Kv(t,r)));return at.create(n,"or")}}function tm(t){if(_e(t instanceof Ge||t instanceof at,11850),t instanceof Ge)return t;const e=t.getFilters();if(e.length===1)return tm(e[0]);if(mA(t))return t;const n=e.map((a=>tm(a))),r=[];return n.forEach((a=>{a instanceof Ge?r.push(a):a instanceof at&&(a.op===t.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:at.create(r,t.op)}class DM{constructor(){this.Cn=new Qv}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Wn.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Wn.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class Qv{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new lt(Je.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new lt(Je.comparator)).toArray()}}const WE="IndexedDbIndexManager",of=new Uint8Array(0);class jM{constructor(e,n){this.databaseId=n,this.vn=new Qv,this.Fn=new Ws((r=>fo(r)),((r,a)=>hd(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:xn(a)};return e1(e).put(o)}return B.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[US(n),""],!1,!0);return e1(e).J(a).next((o=>{for(const c of o){if(c.collectionId!==n)break;r.push(cs(c.parent))}return r}))}addFieldIndex(e,n){const r=xu(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(n);delete a.indexId;const o=r.add(a);if(n.indexState){const c=bl(e);return o.next((d=>{c.put(HE(d,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=xu(e),a=bl(e),o=vl(e);return r.delete(n.indexId).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=xu(e),r=vl(e),a=bl(e);return n.Z().next((()=>r.Z())).next((()=>a.Z()))}createTargetIndexes(e,n){return B.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const o=new XE(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=vl(e);let a=!0;const o=new Map;return B.forEach(this.Mn(n),(c=>this.xn(e,c).next((d=>{a&&(a=!!d),o.set(c,d)})))).next((()=>{if(a){let c=Ue();const d=[];return B.forEach(o,((h,g)=>{ue(WE,`Using index ${(function(G){return`id=${G.indexId}|cg=${G.collectionGroup}|f=${G.fields.map((oe=>`${oe.fieldPath}:${oe.kind}`)).join(",")}`})(h)} to execute ${fo(n)}`);const v=(function(G,oe){const ce=zy(oe);if(ce===void 0)return null;for(const me of Yf(G,ce.fieldPath))switch(me.op){case"array-contains-any":return me.value.arrayValue.values||[];case"array-contains":return[me.value]}return null})(g,h),b=(function(G,oe){const ce=new Map;for(const me of Ba(oe))for(const I of Yf(G,me.fieldPath))switch(I.op){case"==":case"in":ce.set(me.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return ce.set(me.fieldPath.canonicalString(),I.value),Array.from(ce.values())}return null})(g,h),E=(function(G,oe){const ce=[];let me=!0;for(const I of Ba(oe)){const S=I.kind===0?DE(G,I.fieldPath,G.startAt):jE(G,I.fieldPath,G.startAt);ce.push(S.value),me&&(me=S.inclusive)}return new ta(ce,me)})(g,h),A=(function(G,oe){const ce=[];let me=!0;for(const I of Ba(oe)){const S=I.kind===0?jE(G,I.fieldPath,G.endAt):DE(G,I.fieldPath,G.endAt);ce.push(S.value),me&&(me=S.inclusive)}return new ta(ce,me)})(g,h),M=this.On(h,g,E),O=this.On(h,g,A),V=this.Nn(h,g,b),J=this.Bn(h.indexId,v,M,E.inclusive,O,A.inclusive,V);return B.forEach(J,(Q=>r.Y(Q,n.limit).next((G=>{G.forEach((oe=>{const ce=pe.fromSegments(oe.documentKey);c.has(ce)||(c=c.add(ce),d.push(ce))}))}))))})).next((()=>d))}return B.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=CM(at.create(e.filters,"and")).map((r=>Ky(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,a,o,c,d){const h=(n!=null?n.length:1)*Math.max(r.length,o.length),g=h/(n!=null?n.length:1),v=[];for(let b=0;b<h;++b){const E=n?this.Ln(n[b/g]):of,A=this.kn(e,E,r[b%g],a),M=this.qn(e,E,o[b%g],c),O=d.map((V=>this.kn(e,E,V,!0)));v.push(...this.createRange(A,M,O))}return v}kn(e,n,r,a){const o=new Ka(e,pe.empty(),n,r);return a?o:o.An()}qn(e,n,r,a){const o=new Ka(e,pe.empty(),n,r);return a?o.An():o}xn(e,n){const r=new XE(n),a=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let c=null;for(const d of o)r.yn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,n){let r=2;const a=this.Mn(n);return B.forEach(a,(o=>this.xn(e,o).next((c=>{c?r!==0&&c.fields.length<(function(h){let g=new lt(Et.comparator),v=!1;for(const b of h.filters)for(const E of b.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?v=!0:g=g.add(E.field));for(const b of h.orderBy)b.field.isKeyField()||(g=g.add(b.field));return g.size+(v?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(n)&&a.length>1&&r===2?1:r))}Qn(e,n){const r=new bu;for(const a of Ba(e)){const o=n.data.field(a.fieldPath);if(o==null)return null;const c=r.Pn(a.kind);Ga.Kt.Dt(o,c)}return r.un()}Ln(e){const n=new bu;return Ga.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new bu;return Ga.Kt.Dt(ho(this.databaseId,n),r.Pn((function(o){const c=Ba(o);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let a=[];a.push(new bu);let o=0;for(const c of Ba(e)){const d=r[o++];for(const h of a)if(this.Un(n,c.fieldPath)&&Wu(d))a=this.Kn(a,c,d);else{const g=h.Pn(c.kind);Ga.Kt.Dt(d,g)}}return this.Wn(a)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const a=[...e],o=[];for(const c of r.arrayValue.values||[])for(const d of a){const h=new bu;h.seed(d.un()),Ga.Kt.Dt(c,h.Pn(n.kind)),o.push(h)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof Ge&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=xu(e),a=bl(e);return(n?r.J(Uy,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const c=[];return B.forEach(o,(d=>a.get([d.indexId,this.uid]).next((h=>{c.push((function(v,b){const E=b?new Gu(b.sequenceNumber,new Wn(po(b.readTime),new pe(cs(b.documentKey)),b.largestBatchId)):Gu.empty(),A=v.fields.map((([M,O])=>new bf(Et.fromServerFormat(M),O)));return new qf(v.indexId,v.collectionGroup,A,E)})(d,h))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,a)=>{const o=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:Ce(r.collectionGroup,a.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const a=xu(e),o=bl(e);return this.Gn(e).next((c=>a.J(Uy,IDBKeyRange.bound(n,n)).next((d=>B.forEach(d,(h=>o.put(HE(h.indexId,this.uid,c,r))))))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,((a,o)=>{const c=r.get(a.collectionGroup);return(c?B.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(r.set(a.collectionGroup,d),B.forEach(d,(h=>this.zn(e,a,h).next((g=>{const v=this.jn(o,h);return g.isEqual(v)?B.resolve():this.Jn(e,o,h,g,v)})))))))}))}Hn(e,n,r,a){return vl(e).put(a.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,a){return vl(e).delete(a.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const a=vl(e);let o=new lt(Mi);return a.ee({index:XS,range:IDBKeyRange.only([r.indexId,this.uid,Nf(this.$n(r,n))])},((c,d)=>{o=o.add(new Ka(r.indexId,n,YE(d.arrayValue),YE(d.directionalValue)))})).next((()=>o))}jn(e,n){let r=new lt(Mi);const a=this.Qn(n,e);if(a==null)return r;const o=zy(n);if(o!=null){const c=e.data.field(o.fieldPath);if(Wu(c))for(const d of c.arrayValue.values||[])r=r.add(new Ka(n.indexId,e.key,this.Ln(d),a))}else r=r.add(new Ka(n.indexId,e.key,of,a));return r}Jn(e,n,r,a,o){ue(WE,"Updating index entries for document '%s'",n.key);const c=[];return(function(h,g,v,b,E){const A=h.getIterator(),M=g.getIterator();let O=gl(A),V=gl(M);for(;O||V;){let J=!1,Q=!1;if(O&&V){const G=v(O,V);G<0?Q=!0:G>0&&(J=!0)}else O!=null?Q=!0:J=!0;J?(b(V),V=gl(M)):Q?(E(O),O=gl(A)):(O=gl(A),V=gl(M))}})(a,o,Mi,(d=>{c.push(this.Hn(e,n,r,d))}),(d=>{c.push(this.Yn(e,n,r,d))})),B.waitFor(c)}Gn(e){let n=1;return bl(e).ee({index:YS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,o)=>{o.done(),n=a.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((c,d)=>Mi(c,d))).filter(((c,d,h)=>!d||Mi(c,h[d-1])!==0));const a=[];a.push(e);for(const c of r){const d=Mi(c,e),h=Mi(c,n);if(d===0)a[0]=e.An();else if(d>0&&h<0)a.push(c),a.push(c.An());else if(h>0)break}a.push(n);const o=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const d=a[c].Vn(this.uid,of,pe.empty()),h=a[c+1].Vn(this.uid,of,pe.empty());o.push(IDBKeyRange.bound(d,h))}return o}Zn(e,n){return Mi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(t1)}getMinOffset(e,n){return B.mapArray(this.Mn(n),(r=>this.xn(e,r).next((a=>a||be(44426))))).next(t1)}}function e1(t){return tn(t,Yu)}function vl(t){return tn(t,Pu)}function xu(t){return tn(t,Ov)}function bl(t){return tn(t,Ou)}function t1(t){_e(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;Dv(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new Wn(e.readTime,e.documentKey,n)}const n1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WA=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function eN(t,e,n){const r=t.store(Pr),a=t.store(Ml),o=[],c=IDBKeyRange.only(n.batchId);let d=0;const h=r.ee({range:c},((v,b,E)=>(d++,E.delete())));o.push(h.next((()=>{_e(d===1,47070,{batchId:n.batchId})})));const g=[];for(const v of n.mutations){const b=KS(e,v.key.path,n.batchId);o.push(a.delete(b)),g.push(v.key)}return B.waitFor(o).next((()=>g))}function nm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw be(14731);e=t.noDocument}return JSON.stringify(e).length}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(WA,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Lm{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Xn={}}static wt(e,n,r,a){_e(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Lm(o,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vi(e).ee({index:Za,range:r},((a,o,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(e,n,r,a){const o=Sl(e),c=Vi(e);return c.add({}).next((d=>{_e(typeof d=="number",49019);const h=new Bv(d,n,r,a),g=(function(A,M,O){const V=O.baseMutations.map((Q=>Wf(A.yt,Q))),J=O.mutations.map((Q=>Wf(A.yt,Q)));return{userId:M,batchId:O.batchId,localWriteTimeMs:O.localWriteTime.toMillis(),baseMutations:V,mutations:J}})(this.serializer,this.userId,h),v=[];let b=new lt(((E,A)=>Ce(E.canonicalString(),A.canonicalString())));for(const E of a){const A=KS(this.userId,E.key.path,d);b=b.add(E.key.path.popLast()),v.push(c.put(g)),v.push(o.put(A,oP))}return b.forEach((E=>{v.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[d]=h.keys()})),B.waitFor(v).next((()=>h))}))}lookupMutationBatch(e,n){return Vi(e).get(n).next((r=>r?(_e(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ha(this.serializer,r)):null))}er(e,n){return this.Xn[n]?B.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const a=r.keys();return this.Xn[n]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Vi(e).ee({index:Za,range:a},((c,d,h)=>{d.userId===this.userId&&(_e(d.batchId>=r,47524,{tr:r}),o=Ha(this.serializer,d)),h.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Xa;return Vi(e).ee({index:Za,range:n,reverse:!0},((a,o,c)=>{r=o.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Xa],[this.userId,Number.POSITIVE_INFINITY]);return Vi(e).J(Za,n).next((r=>r.map((a=>Ha(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=xf(this.userId,n.path),a=IDBKeyRange.lowerBound(r),o=[];return Sl(e).ee({range:a},((c,d,h)=>{const[g,v,b]=c,E=cs(v);if(g===this.userId&&n.path.isEqual(E))return Vi(e).get(b).next((A=>{if(!A)throw be(61480,{nr:c,batchId:b});_e(A.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:A.userId,batchId:b}),o.push(Ha(this.serializer,A))}));h.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(Ce);const a=[];return n.forEach((o=>{const c=xf(this.userId,o.path),d=IDBKeyRange.lowerBound(c),h=Sl(e).ee({range:d},((g,v,b)=>{const[E,A,M]=g,O=cs(A);E===this.userId&&o.path.isEqual(O)?r=r.add(M):b.done()}));a.push(h)})),B.waitFor(a).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,o=xf(this.userId,r),c=IDBKeyRange.lowerBound(o);let d=new lt(Ce);return Sl(e).ee({range:c},((h,g,v)=>{const[b,E,A]=h,M=cs(E);b===this.userId&&r.isPrefixOf(M)?M.length===a&&(d=d.add(A)):v.done()})).next((()=>this.rr(e,d)))}rr(e,n){const r=[],a=[];return n.forEach((o=>{a.push(Vi(e).get(o).next((c=>{if(c===null)throw be(35274,{batchId:o});_e(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),r.push(Ha(this.serializer,c))})))})),B.waitFor(a).next((()=>r))}removeMutationBatch(e,n){return eN(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),B.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Sl(e).ee({range:r},((o,c,d)=>{if(o[0]===this.userId){const h=cs(o[1]);a.push(h)}else d.done()})).next((()=>{_e(a.length===0,56720,{sr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return tN(e,this.userId,n)}_r(e){return nN(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Xa,lastStreamToken:""}))}}function tN(t,e,n){const r=xf(e,n.path),a=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return Sl(t).ee({range:o,X:!0},((d,h,g)=>{const[v,b,E]=d;v===e&&b===a&&(c=!0),g.done()})).next((()=>c))}function Vi(t){return tn(t,Pr)}function Sl(t){return tn(t,Ml)}function nN(t){return tn(t,Qu)}class go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}class kM{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new go(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Se.fromTimestamp(new it(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.hr(e,a))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>xl(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(_e(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let a=0;const o=[];return xl(e).ee(((c,d)=>{const h=Nu(d);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(a++,o.push(this.removeTargetData(e,h)))})).next((()=>B.waitFor(o))).next((()=>a))}forEachTarget(e,n){return xl(e).ee(((r,a)=>{const o=Nu(a);n(o)}))}lr(e){return r1(e).get(Gf).next((n=>(_e(n!==null,2888),n)))}hr(e,n){return r1(e).put(Gf,n)}Pr(e,n){return xl(e).put(ZA(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=fo(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return xl(e).ee({range:a,index:ZS},((c,d,h)=>{const g=Nu(d);hd(n,g.target)&&(o=g,h.done())})).next((()=>o))}addMatchingKeys(e,n,r){const a=[],o=Fi(e);return n.forEach((c=>{const d=xn(c.path);a.push(o.put({targetId:r,path:d})),a.push(this.referenceDelegate.addReference(e,r,c))})),B.waitFor(a)}removeMatchingKeys(e,n,r){const a=Fi(e);return B.forEach(n,(o=>{const c=xn(o.path);return B.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=Fi(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=Fi(e);let o=Ue();return a.ee({range:r,X:!0},((c,d,h)=>{const g=cs(c[1]),v=new pe(g);o=o.add(v)})).next((()=>o))}containsKey(e,n){const r=xn(n.path),a=IDBKeyRange.bound([r],[US(r)],!1,!0);let o=0;return Fi(e).ee({index:kv,X:!0,range:a},(([c,d],h,g)=>{c!==0&&(o++,g.done())})).next((()=>o>0))}At(e,n){return xl(e).get(n).next((r=>r?Nu(r):null))}}function xl(t){return tn(t,Vl)}function r1(t){return tn(t,Ja)}function Fi(t){return tn(t,zl)}const s1="LruGarbageCollector",OM=1048576;function i1([t,e],[n,r]){const a=Ce(t,n);return a===0?Ce(e,r):a}class PM{constructor(e){this.Ir=e,this.buffer=new lt(i1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();i1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(s1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sa(n)?ue(s1,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Vr(3e5)}))}}class MM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return B.resolve(gr.ce);const r=new PM(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(n1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,c,d,h,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(r=b,d=Date.now(),this.removeTargets(e,r,n)))).next((b=>(o=b,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(g=Date.now(),_l()<=He.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${b} documents in `+(g-h)+`ms
Total Duration: ${g-v}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b}))))}}function sN(t,e){return new MM(t,e)}class VM{constructor(e,n){this.db=e,this.garbageCollector=sN(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,a)=>n(a)))}addReference(e,n,r){return lf(e,r)}removeReference(e,n,r){return lf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return lf(e,n)}br(e,n){return(function(a,o){let c=!1;return nN(a).te((d=>tN(a,d,o).next((h=>(h&&(c=!0),B.resolve(!h)))))).next((()=>c))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Sr(e,((c,d)=>{if(d<=n){const h=this.br(e,c).next((g=>{if(!g)return o++,r.getEntry(e,c).next((()=>(r.removeEntry(c,Se.min()),Fi(e).delete((function(b){return[0,xn(b.path)]})(c)))))}));a.push(h)}})).next((()=>B.waitFor(a))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return lf(e,n)}Sr(e,n){const r=Fi(e);let a,o=gr.ce;return r.ee({index:kv},(([c,d],{path:h,sequenceNumber:g})=>{c===0?(o!==gr.ce&&n(new pe(cs(a)),o),o=g,a=h):o=gr.ce})).next((()=>{o!==gr.ce&&n(new pe(cs(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lf(t,e){return Fi(t).put((function(r,a){return{targetId:0,path:xn(r.path),sequenceNumber:a}})(e,t.currentSequenceNumber))}class iN{constructor(){this.changes=new Ws((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ua(e).put(r)}removeEntry(e,n,r){return Ua(e).delete((function(o,c){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],em(c),d[d.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Ct.newInvalidDocument(n);return Ua(e).ee({index:_f,range:IDBKeyRange.only(_u(n))},((a,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Ct.newInvalidDocument(n)};return Ua(e).ee({index:_f,range:IDBKeyRange.only(_u(n))},((a,o)=>{r={document:this.Cr(n,o),size:nm(o)}})).next((()=>r))}getEntries(e,n){let r=Xn();return this.Fr(e,n,((a,o)=>{const c=this.Cr(a,o);r=r.insert(a,c)})).next((()=>r))}Mr(e,n){let r=Xn(),a=new _t(pe.comparator);return this.Fr(e,n,((o,c)=>{const d=this.Cr(o,c);r=r.insert(o,d),a=a.insert(o,nm(c))})).next((()=>({documents:r,Or:a})))}Fr(e,n,r){if(n.isEmpty())return B.resolve();let a=new lt(l1);n.forEach((h=>a=a.add(h)));const o=IDBKeyRange.bound(_u(a.first()),_u(a.last())),c=a.getIterator();let d=c.getNext();return Ua(e).ee({index:_f,range:o},((h,g,v)=>{const b=pe.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&l1(d,b)<0;)r(d,null),d=c.getNext();d&&d.isEqual(b)&&(r(d,g),d=c.hasNext()?c.getNext():null),d?v.j(_u(d)):v.done()})).next((()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,n,r,a,o){const c=n.path,d=[c.popLast().toArray(),c.lastSegment(),em(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ua(e).J(IDBKeyRange.bound(d,h,!0)).next((g=>{o?.incrementDocumentReadCount(g.length);let v=Xn();for(const b of g){const E=this.Cr(pe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);E.isFoundDocument()&&(md(n,E)||a.has(E.key))&&(v=v.insert(E.key,E))}return v}))}getAllFromCollectionGroup(e,n,r,a){let o=Xn();const c=o1(n,r),d=o1(n,Wn.max());return Ua(e).ee({index:QS,range:IDBKeyRange.bound(c,d,!0)},((h,g,v)=>{const b=this.Cr(pe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);o=o.insert(b.key,b),o.size===a&&v.done()})).next((()=>o))}newChangeBuffer(e){return new LM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return a1(e).get(Ly).next((n=>(_e(!!n,20021),n)))}Dr(e,n){return a1(e).put(Ly,n)}Cr(e,n){if(n){const r=EM(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Se.min())))return r}return Ct.newInvalidDocument(e)}}function aN(t){return new zM(t)}class LM extends iN{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Ws((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const n=[];let r=0,a=new lt(((o,c)=>Ce(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const d=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,d.readTime)),c.isValidDocument()){const h=qE(this.Nr.serializer,c);a=a.add(o.path.popLast());const g=nm(h);r+=g-d.size,n.push(this.Nr.addEntry(e,o,h))}else if(r-=d.size,this.trackRemovals){const h=qE(this.Nr.serializer,c.convertToNoDocument(Se.min()));n.push(this.Nr.addEntry(e,o,h))}})),a.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:a})=>(a.forEach(((o,c)=>{this.Br.set(o,{size:c,readTime:r.get(o).readTime})})),r)))}}function a1(t){return tn(t,Zu)}function Ua(t){return tn(t,Hf)}function _u(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function o1(t,e){const n=e.documentKey.path.toArray();return[t,em(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function l1(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(a=Ce(n[o],r[o]),a)return a;return a=Ce(n.length,r.length),a||(a=Ce(n[n.length-2],r[r.length-2]),a||Ce(n[n.length-1],r[r.length-1]))}class UM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oN{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&zu(r.mutation,a,yr.empty(),it.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ue()){const a=us();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let c=Su();return o.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=us();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ue())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,a){let o=Xn();const c=Vu(),d=(function(){return Vu()})();return n.forEach(((h,g)=>{const v=r.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof ia)?o=o.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),zu(v.mutation,g,v.mutation.getFieldMask(),it.now())):c.set(g.key,yr.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>d.set(g,new UM(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Vu();let a=new _t(((c,d)=>c-d)),o=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((h=>{const g=n.get(h);if(g===null)return;let v=r.get(h)||yr.empty();v=d.applyToLocalView(g,v),r.set(h,v);const b=(a.get(d.batchId)||Ue()).add(h);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),g=h.key,v=h.value,b=TA();v.forEach((E=>{if(!o.has(E)){const A=DA(n.get(E),r.get(E));A!==null&&b.set(E,A),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return B.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Uv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):B.resolve(us());let d=Hu,h=o;return c.next((g=>B.forEach(g,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(v)?B.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{h=h.insert(v,E)}))))).next((()=>this.populateOverlays(e,g,o))).next((()=>this.computeViews(e,h,g,Ue()))).next((v=>({batchId:d,changes:EA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let a=Su();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let c=Su();return this.indexManager.getCollectionParents(e,o).next((d=>B.forEach(d,(h=>{const g=(function(b,E){return new sc(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((v=>{v.forEach(((b,E)=>{c=c.insert(b,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((c=>{o.forEach(((h,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Ct.newInvalidDocument(v)))}));let d=Su();return c.forEach(((h,g)=>{const v=o.get(h);v!==void 0&&zu(v.mutation,g,yr.empty(),it.now()),md(n,g)&&(d=d.insert(h,g))})),d}))}}class FM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Cn(a.createTime)}})(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:YA(a.bundledQuery),readTime:Cn(a.readTime)}})(n)),B.resolve()}}class BM{constructor(){this.overlays=new _t(pe.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=us();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),B.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const a=us(),o=n.length+1,c=new pe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,g=h.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new _t(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let v=o.get(g.largestBatchId);v===null&&(v=us(),o=o.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=us(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return B.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new $v(n,r));let o=this.qr.get(n);o===void 0&&(o=Ue(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class qM{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}class Zv{constructor(){this.Qr=new lt(an.$r),this.Ur=new lt(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new an(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new an(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new Je([])),r=new an(n,e),a=new an(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new Je([])),r=new an(n,e),a=new an(n,e+1);let o=Ue();return this.Ur.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new an(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class $M{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new lt(an.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Bv(o,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new an(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return B.resolve(c)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Xa:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),a=new an(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);o.push(d)})),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(Ce);return n.forEach((a=>{const o=new an(a,0),c=new an(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{r=r.add(d.Yr)}))})),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const c=new an(new pe(o),0);let d=new lt(Ce);return this.Zr.forEachWhile((h=>{const g=h.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(d=d.add(h.Yr)),!0)}),c),B.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,(a=>{const o=new an(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new an(n,0),a=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class HM{constructor(e){this.ri=e,this.docs=(function(){return new _t(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Ct.newInvalidDocument(a))})),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Xn();const c=n.path,d=new pe(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:g,value:{document:v}}=h.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Dv(qS(v),r)<=0||(a.has(v.key)||md(n,v))&&(o=o.insert(v.key,v.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,a){be(9500)}ii(e,n){return B.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new GM(this)}getSize(e){return B.resolve(this.size)}}class GM extends iN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class KM{constructor(e){this.persistence=e,this.si=new Ws((n=>fo(n)),hd),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Zv,this.targetCount=0,this.ai=go.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),B.waitFor(o).next((()=>a))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}class Yv{constructor(e,n){this.ui={},this.overlays={},this.ci=new gr(0),this.li=!1,this.li=!0,this.hi=new qM,this.referenceDelegate=e(this),this.Pi=new KM(this),this.indexManager=new DM,this.remoteDocumentCache=(function(a){return new HM(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new QA(n),this.Ii=new FM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new $M(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const a=new QM(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return B.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class QM extends HS{constructor(e){super(),this.currentSequenceNumber=e}}class Um{constructor(e){this.persistence=e,this.Ri=new Zv,this.Vi=null}static mi(e){return new Um(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,(r=>{const a=pe.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rm{constructor(e,n){this.persistence=e,this.pi=new Ws((r=>xn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=sN(this,n)}static mi(e,n){return new rm(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return B.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?B.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(r++,o.removeEntry(c,Se.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ef(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return B.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ZM{constructor(e){this.serializer=e}k(e,n,r,a){const o=new Sm("createOrUpgrade",n);r<1&&a>=1&&((function(h){h.createObjectStore(dd)})(e),(function(h){h.createObjectStore(Qu,{keyPath:aP}),h.createObjectStore(Pr,{keyPath:bE,autoIncrement:!0}).createIndex(Za,xE,{unique:!0}),h.createObjectStore(Ml)})(e),c1(e),(function(h){h.createObjectStore(qa)})(e));let c=B.resolve();return r<3&&a>=3&&(r!==0&&((function(h){h.deleteObjectStore(zl),h.deleteObjectStore(Vl),h.deleteObjectStore(Ja)})(e),c1(e)),c=c.next((()=>(function(h){const g=h.store(Ja),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Se.min().toTimestamp(),targetCount:0};return g.put(Gf,v)})(o)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(h,g){return g.store(Pr).J().next((b=>{h.deleteObjectStore(Pr),h.createObjectStore(Pr,{keyPath:bE,autoIncrement:!0}).createIndex(Za,xE,{unique:!0});const E=g.store(Pr),A=b.map((M=>E.put(M)));return B.waitFor(A)}))})(e,o)))),c=c.next((()=>{(function(h){h.createObjectStore(Ll,{keyPath:pP})})(e)}))),r<5&&a>=5&&(c=c.next((()=>this.yi(o)))),r<6&&a>=6&&(c=c.next((()=>((function(h){h.createObjectStore(Zu)})(e),this.wi(o))))),r<7&&a>=7&&(c=c.next((()=>this.Si(o)))),r<8&&a>=8&&(c=c.next((()=>this.bi(e,o)))),r<9&&a>=9&&(c=c.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(c=c.next((()=>this.Di(o)))),r<11&&a>=11&&(c=c.next((()=>{(function(h){h.createObjectStore(Nm,{keyPath:gP})})(e),(function(h){h.createObjectStore(Im,{keyPath:yP})})(e)}))),r<12&&a>=12&&(c=c.next((()=>{(function(h){const g=h.createObjectStore(Rm,{keyPath:TP});g.createIndex(Fy,SP,{unique:!1}),g.createIndex(JS,AP,{unique:!1})})(e)}))),r<13&&a>=13&&(c=c.next((()=>(function(h){const g=h.createObjectStore(Hf,{keyPath:lP});g.createIndex(_f,cP),g.createIndex(QS,uP)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(qa)))),r<14&&a>=14&&(c=c.next((()=>this.Fi(e,o)))),r<15&&a>=15&&(c=c.next((()=>(function(h){h.createObjectStore(Ov,{keyPath:vP,autoIncrement:!0}).createIndex(Uy,bP,{unique:!1}),h.createObjectStore(Ou,{keyPath:xP}).createIndex(YS,_P,{unique:!1}),h.createObjectStore(Pu,{keyPath:wP}).createIndex(XS,EP,{unique:!1})})(e)))),r<16&&a>=16&&(c=c.next((()=>{n.objectStore(Ou).clear()})).next((()=>{n.objectStore(Pu).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(h){h.createObjectStore(Pv,{keyPath:NP})})(e)}))),r<18&&a>=18&&TS()&&(c=c.next((()=>{n.objectStore(Ou).clear()})).next((()=>{n.objectStore(Pu).clear()}))),c}wi(e){let n=0;return e.store(qa).ee(((r,a)=>{n+=nm(a)})).next((()=>{const r={byteSize:n};return e.store(Zu).put(Ly,r)}))}yi(e){const n=e.store(Qu),r=e.store(Pr);return n.J().next((a=>B.forEach(a,(o=>{const c=IDBKeyRange.bound([o.userId,Xa],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Za,c).next((d=>B.forEach(d,(h=>{_e(h.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const g=Ha(this.serializer,h);return eN(e,o.userId,g).next((()=>{}))}))))}))))}Si(e){const n=e.store(zl),r=e.store(qa);return e.store(Ja).get(Gf).next((a=>{const o=[];return r.ee(((c,d)=>{const h=new Je(c),g=(function(b){return[0,xn(b)]})(h);o.push(n.get(g).next((v=>v?B.resolve():(b=>n.put({targetId:0,path:xn(b),sequenceNumber:a.highestListenSequenceNumber}))(h))))})).next((()=>B.waitFor(o)))}))}bi(e,n){e.createObjectStore(Yu,{keyPath:mP});const r=n.store(Yu),a=new Qv,o=c=>{if(a.add(c)){const d=c.lastSegment(),h=c.popLast();return r.put({collectionId:d,parent:xn(h)})}};return n.store(qa).ee({X:!0},((c,d)=>{const h=new Je(c);return o(h.popLast())})).next((()=>n.store(Ml).ee({X:!0},(([c,d,h],g)=>{const v=cs(d);return o(v.popLast())}))))}Di(e){const n=e.store(Vl);return n.ee(((r,a)=>{const o=Nu(a),c=ZA(this.serializer,o);return n.put(c)}))}Ci(e,n){const r=n.store(qa),a=[];return r.ee(((o,c)=>{const d=n.store(Hf),h=(function(b){return b.document?new pe(Je.fromString(b.document.name).popFirst(5)):b.noDocument?pe.fromSegments(b.noDocument.path):b.unknownDocument?pe.fromSegments(b.unknownDocument.path):be(36783)})(c).path.toArray(),g={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(g))})).next((()=>B.waitFor(a)))}Fi(e,n){const r=n.store(Pr),a=aN(this.serializer),o=new Yv(Um.mi,this.serializer.yt);return r.J().next((c=>{const d=new Map;return c.forEach((h=>{let g=d.get(h.userId)??Ue();Ha(this.serializer,h).keys().forEach((v=>g=g.add(v))),d.set(h.userId,g)})),B.forEach(d,((h,g)=>{const v=new mn(g),b=zm.wt(this.serializer,v),E=o.getIndexManager(v),A=Lm.wt(v,this.serializer,E,o.referenceDelegate);return new oN(a,A,b,E).recalculateAndSaveOverlaysForDocumentKeys(new By(n,gr.ce),h).next()}))}))}}function c1(t){t.createObjectStore(zl,{keyPath:hP}).createIndex(kv,fP,{unique:!0}),t.createObjectStore(Vl,{keyPath:"targetId"}).createIndex(ZS,dP,{unique:!0}),t.createObjectStore(Ja)}const zi="IndexedDbPersistence",my=18e5,py=5e3,gy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",YM="main";class Xv{constructor(e,n,r,a,o,c,d,h,g,v,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=c,this.document=d,this.xi=g,this.Oi=v,this.Ni=b,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!Xv.v())throw new he(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new VM(this,a),this.$i=n+YM,this.serializer=new QA(h),this.Ui=new Xi(this.$i,this.Ni,new ZM(this.serializer)),this.hi=new SM,this.Pi=new kM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=aN(this.serializer),this.Ii=new TM,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,v===!1&&Nn(zi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new he(te.FAILED_PRECONDITION,gy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new gr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>cf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(sa(e))return ue(zi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(zi,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return wu(e).get(pl).next((n=>B.resolve(this.es(n))))}ts(e){return cf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,my)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=tn(n,Ll);return r.J().next((a=>{const o=this.ss(a,my),c=a.filter((d=>o.indexOf(d)===-1));return B.forEach(c,(d=>r.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?B.resolve(!0):wu(e).get(pl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,py)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new he(te.FAILED_PRECONDITION,gy);return!1}}return!(!this.networkEnabled||!this.inForeground)||cf(e).J().next((r=>this.ss(r,py).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(o||c&&d)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ue(zi,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[dd,Ll],(e=>{const n=new By(e,gr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>cf(e).J().next((n=>this.ss(n,my).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Lm.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jM(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return zm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue(zi,"Starting transaction:",e);const a=n==="readonly"?"readonly":"readwrite",o=(function(h){return h===18?CP:h===17?nA:h===16?RP:h===15?Mv:h===14?tA:h===13?eA:h===12?IP:h===11?WS:void be(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,o,(d=>(c=new By(d,this.ci?this.ci.next():gr.ce),n==="readwrite-primary"?this.Hi(c).next((h=>!!h||this.Yi(c))).next((h=>{if(!h)throw Nn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new he(te.FAILED_PRECONDITION,$S);return r(c)})).next((h=>this.Xi(c).next((()=>h)))):this.Is(c).next((()=>r(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Is(e){return wu(e).get(pl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,py)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new he(te.FAILED_PRECONDITION,gy)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wu(e).put(pl,n)}static v(){return Xi.v()}Zi(e){const n=wu(e);return n.get(pl).next((r=>this.es(r)?(ue(zi,"Releasing primary lease."),n.delete(pl)):B.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Nn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;ES()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return ue(zi,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Nn(zi,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Nn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wu(t){return tn(t,dd)}function cf(t){return tn(t,Ll)}function XM(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class Jv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Ue(),a=Ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Jv(e,n.fromCache,r,a)}}class JM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ES()?8:GS(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new JM;return this.Ss(e,n,c).next((d=>{if(o.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(_l()<=He.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(_l()<=He.DEBUG&&ue("QueryEngine","Query:",wl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(_l()<=He.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):B.resolve())}ys(e,n){if(kE(n))return B.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Xf(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=Ue(...o);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const g=this.Ds(n,d);return this.Cs(n,g,c,h.readTime)?this.ys(e,Xf(n,null,"F")):this.vs(e,g,n,h)}))))})))))}ws(e,n,r,a){return kE(n)||a.isEqual(Se.min())?B.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,r,a)?B.resolve(null):(_l()<=He.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wl(n)),this.vs(e,c,n,W4(a,Hu)).next((d=>d)))}))}Ds(e,n){let r=new lt(_A(e));return n.forEach(((a,o)=>{md(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return _l()<=He.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",wl(n)),this.ps.getDocumentsMatchingQuery(e,n,Wn.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Wv="LocalStore",WM=3e8;class e3{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new _t(Ce),this.xs=new Ws((o=>fo(o)),hd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function cN(t,e,n,r){return new e3(t,e,n,r)}async function uN(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],d=[];let h=Ue();for(const g of a){c.push(g.batchId);for(const v of g.mutations)h=h.add(v.key)}for(const g of o){d.push(g.batchId);for(const v of g.mutations)h=h.add(v.key)}return n.localDocuments.getDocuments(r,h).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function t3(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,g,v){const b=g.batch,E=b.keys();let A=B.resolve();return E.forEach((M=>{A=A.next((()=>v.getEntry(h,M))).next((O=>{const V=g.docVersions.get(M);_e(V!==null,48541),O.version.compareTo(V)<0&&(b.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),v.addEntry(O)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(h,b)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(h=h.add(d.batch.mutations[g].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function dN(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function n3(t,e){const n=De(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((v,b)=>{const E=a.get(b);if(!E)return;d.push(n.Pi.removeMatchingKeys(o,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,v.addedDocuments,b))));let A=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(Zt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),a=a.insert(b,A),(function(O,V,J){return O.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=WM?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(E,A,v)&&d.push(n.Pi.updateTargetData(o,A))}));let h=Xn(),g=Ue();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,v))})),d.push(r3(o,c,e.documentUpdates).next((v=>{h=v.ks,g=v.qs}))),!r.isEqual(Se.min())){const v=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(v)}return B.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,g))).next((()=>h))})).then((o=>(n.Ms=a,o)))}function r3(t,e,n){let r=Ue(),a=Ue();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=Xn();return n.forEach(((d,h)=>{const g=o.get(d);h.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Se.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!g.isValidDocument()||h.version.compareTo(g.version)>0||h.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):ue(Wv,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function s3(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Xa),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function i3(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,B.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new Us(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function nv(t,e,n){const r=De(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!sa(c))throw c;ue(Wv,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function u1(t,e,n){const r=De(t);let a=Se.min(),o=Ue();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,g,v){const b=De(h),E=b.xs.get(v);return E!==void 0?B.resolve(b.Ms.get(E)):b.Pi.getTargetData(g,v)})(r,c,vr(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:Se.min(),n?o:Ue()))).next((d=>(a3(r,HP(e),d),{documents:d,Qs:o})))))}function a3(t,e,n){let r=t.Os.get(e)||Se.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class d1{constructor(){this.activeTargetIds=XP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hN{constructor(){this.Mo=new d1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new d1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class o3{Oo(e){}shutdown(){}}const h1="ConnectivityMonitor";class f1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(h1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(h1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uf=null;function rv(){return uf===null?uf=(function(){return 268435456+Math.round(2147483648*Math.random())})():uf++,"0x"+uf.toString(16)}const yy="RestConnection",l3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Kf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const c=rv(),d=this.zo(e,n.toUriEncodedString());ue(yy,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:g}=new URL(d),v=tc(g);return this.Jo(e,d,h,r,v).then((b=>(ue(yy,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw co(yy,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",r),b}))}Ho(e,n,r,a,o,c){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=l3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class u3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class d3 extends c3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const c=rv();return new Promise(((d,h)=>{const g=new kS;g.setWithCredentials(!0),g.listenOnce(OS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case vf.NO_ERROR:const b=g.getResponseJson();ue(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case vf.TIMEOUT:ue(vn,`RPC '${e}' ${c} timed out`),h(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const E=g.getStatus();if(ue(vn,`RPC '${e}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A?.error;if(M&&M.status&&M.message){const O=(function(J){const Q=J.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Q)>=0?Q:te.UNKNOWN})(M.status);h(new he(O,M.message))}else h(new he(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new he(te.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(vn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ue(vn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",v,r,15)}))}T_(e,n,r){const a=rv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=VS(),d=MS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(h.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const v=o.join("");ue(vn,`Creating RPC '${e}' stream ${a}: ${v}`,h);const b=c.createWebChannel(v,h);this.I_(b);let E=!1,A=!1;const M=new u3({Yo:V=>{A?ue(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(E||(ue(vn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),ue(vn,`RPC '${e}' stream ${a} sending:`,V),b.send(V))},Zo:()=>b.close()}),O=(V,J,Q)=>{V.listen(J,(G=>{try{Q(G)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return O(b,Tu.EventType.OPEN,(()=>{A||(ue(vn,`RPC '${e}' stream ${a} transport opened.`),M.o_())})),O(b,Tu.EventType.CLOSE,(()=>{A||(A=!0,ue(vn,`RPC '${e}' stream ${a} transport closed`),M.a_(),this.E_(b))})),O(b,Tu.EventType.ERROR,(V=>{A||(A=!0,co(vn,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),M.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))})),O(b,Tu.EventType.MESSAGE,(V=>{if(!A){const J=V.data[0];_e(!!J,16349);const Q=J,G=Q?.error||Q[0]?.error;if(G){ue(vn,`RPC '${e}' stream ${a} received error:`,G);const oe=G.status;let ce=(function(S){const C=Kt[S];if(C!==void 0)return OA(C)})(oe),me=G.message;ce===void 0&&(ce=te.INTERNAL,me="Unknown error status: "+oe+" with message "+G.message),A=!0,M.a_(new he(ce,me)),b.close()}else ue(vn,`RPC '${e}' stream ${a} received:`,J),M.u_(J)}})),O(d,PS.STAT_EVENT,(V=>{V.stat===My.PROXY?ue(vn,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===My.NOPROXY&&ue(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function h3(){return typeof window<"u"?window:null}function If(){return typeof document<"u"?document:null}function Fm(t){return new fM(t,!0)}class fN{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const m1="PersistentStream";class mN{constructor(e,n,r,a,o,c,d,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Nn(n.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new he(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(m1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(m1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class f3 extends mN{constructor(e,n,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gM(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Se.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?Cn(c.readTime):Se.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Xy(this.serializer),n.addTarget=(function(o,c){let d;const h=c.target;if(d=Zf(h)?{documents:BA(o,h)}:{query:qA(o,h).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=VA(o,c.resumeToken);const g=Zy(o,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Se.min())>0){d.readTime=Gl(o,c.snapshotVersion.toTimestamp());const g=Zy(o,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const r=vM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Xy(this.serializer),n.removeTarget=e,this.q_(n)}}class m3 extends mN{constructor(e,n,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yM(e.writeResults,e.commitTime),r=Cn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Xy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Wf(this.serializer,r)))};this.q_(n)}}class p3{}class g3 extends p3{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,Yy(n,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(te.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Yy(n,r),a,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class y3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nn(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const yo="RemoteStore";class v3{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{To(this)&&(ue(yo,"Restarting streams for network reachability change."),await(async function(h){const g=De(h);g.Ea.add(4),await gd(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Bm(g)})(this))}))})),this.Ra=new y3(r,a)}}async function Bm(t){if(To(t))for(const e of t.da)await e(!0)}async function gd(t){for(const e of t.da)await e(!1)}function pN(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rb(n)?nb(n):ac(n).O_()&&tb(n,e))}function eb(t,e){const n=De(t),r=ac(n);n.Ia.delete(e),r.O_()&&gN(n,e),n.Ia.size===0&&(r.O_()?r.L_():To(n)&&n.Ra.set("Unknown"))}function tb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ac(t).Y_(e)}function gN(t,e){t.Va.Ue(e),ac(t).Z_(e)}function nb(t){t.Va=new cM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ac(t).start(),t.Ra.ua()}function rb(t){return To(t)&&!ac(t).x_()&&t.Ia.size>0}function To(t){return De(t).Ea.size===0}function yN(t){t.Va=void 0}async function b3(t){t.Ra.set("Online")}async function x3(t){t.Ia.forEach(((e,n)=>{tb(t,e)}))}async function _3(t,e){yN(t),rb(t)?(t.Ra.ha(e),nb(t)):t.Ra.set("Unknown")}async function w3(t,e,n){if(t.Ra.set("Online"),e instanceof MA&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const d of o.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){ue(yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sm(t,r)}else if(e instanceof Af?t.Va.Ze(e):e instanceof PA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Se.min()))try{const r=await dN(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=o.Ia.get(g);v&&o.Ia.set(g,v.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,g)=>{const v=o.Ia.get(h);if(!v)return;o.Ia.set(h,v.withResumeToken(Zt.EMPTY_BYTE_STRING,v.snapshotVersion)),gN(o,h);const b=new Us(v.target,h,g,v.sequenceNumber);tb(o,b)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){ue(yo,"Failed to raise snapshot:",r),await sm(t,r)}}async function sm(t,e,n){if(!sa(e))throw e;t.Ea.add(1),await gd(t),t.Ra.set("Offline"),n||(n=()=>dN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ue(yo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Bm(t)}))}function vN(t,e){return e().catch((n=>sm(t,n,e)))}async function yd(t){const e=De(t),n=na(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xa;for(;E3(e);)try{const a=await s3(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,T3(e,a)}catch(a){await sm(e,a)}bN(e)&&xN(e)}function E3(t){return To(t)&&t.Ta.length<10}function T3(t,e){t.Ta.push(e);const n=na(t);n.O_()&&n.X_&&n.ea(e.mutations)}function bN(t){return To(t)&&!na(t).x_()&&t.Ta.length>0}function xN(t){na(t).start()}async function S3(t){na(t).ra()}async function A3(t){const e=na(t);for(const n of t.Ta)e.ea(n.mutations)}async function N3(t,e,n){const r=t.Ta.shift(),a=qv.from(r,e,n);await vN(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await yd(t)}async function I3(t,e){e&&na(t).X_&&await(async function(r,a){if((function(c){return aM(c)&&c!==te.ABORTED})(a.code)){const o=r.Ta.shift();na(r).B_(),await vN(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await yd(r)}})(t,e),bN(t)&&xN(t)}async function p1(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),ue(yo,"RemoteStore received new credentials");const r=To(n);n.Ea.add(3),await gd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bm(n)}async function R3(t,e){const n=De(t);e?(n.Ea.delete(2),await Bm(n)):e||(n.Ea.add(2),await gd(n),n.Ra.set("Unknown"))}function ac(t){return t.ma||(t.ma=(function(n,r,a){const o=De(n);return o.sa(),new f3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:b3.bind(null,t),t_:x3.bind(null,t),r_:_3.bind(null,t),H_:w3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),rb(t)?nb(t):t.Ra.set("Unknown")):(await t.ma.stop(),yN(t))}))),t.ma}function na(t){return t.fa||(t.fa=(function(n,r,a){const o=De(n);return o.sa(),new m3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:S3.bind(null,t),r_:I3.bind(null,t),ta:A3.bind(null,t),na:N3.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await yd(t)):(await t.fa.stop(),t.Ta.length>0&&(ue(yo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class sb{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const c=Date.now()+r,d=new sb(e,n,c,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ib(t,e){if(Nn("AsyncQueue",`${e}: ${t}`),sa(t))return new he(te.UNAVAILABLE,`${e}: ${t}`);throw t}class Il{static emptySet(e){return new Il(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Su(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Il)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Il;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class g1{constructor(){this.ga=new _t(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Kl{constructor(e,n,r,a,o,c,d,h,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,a,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Kl(e,n,Il.emptySet(n),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class C3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class D3{constructor(){this.queries=y1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=De(n),o=a.queries;a.queries=y1(),o.forEach(((c,d)=>{for(const h of d.Sa)h.onError(r)}))})(this,new he(te.ABORTED,"Firestore shutting down"))}}function y1(){return new Ws((t=>xA(t)),km)}async function ab(t,e){const n=De(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new C3,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=ib(c,`Initialization of query '${wl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&lb(n)}async function ob(t,e){const n=De(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function j3(t,e){const n=De(t);let r=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&lb(n)}function k3(t,e,n){const r=De(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function lb(t){t.Ca.forEach((e=>{e.next()}))}var sv,v1;(v1=sv||(sv={})).Ma="default",v1.Cache="cache";class cb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sv.Cache}}class _N{constructor(e){this.key=e}}class wN{constructor(e){this.key=e}}class O3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=_A(e),this.tu=new Il(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new g1,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const E=a.get(v),A=md(this.query,b)?b:null,M=!!E&&this.mutatedKeys.has(E.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let V=!1;E&&A?E.data.isEqual(A.data)?M!==O&&(r.track({type:3,doc:A}),V=!0):this.su(E,A)||(r.track({type:2,doc:A}),V=!0,(h&&this.eu(A,h)>0||g&&this.eu(A,g)<0)&&(d=!0)):!E&&A?(r.track({type:0,doc:A}),V=!0):E&&!A&&(r.track({type:1,doc:E}),V=!0,(h||g)&&(d=!0)),V&&(A?(c=c.add(A),o=O?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:d,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(A,M){const O=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:V})}};return O(A)-O(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,g=h!==this.Za;return this.Za=h,c.length!==0||g?{snapshot:new Kl(this.query,e.tu,o,c,e.mutatedKeys,h===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new wN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new _N(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ub="SyncEngine";class P3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class M3{constructor(e){this.key=e,this.hu=!1}}class V3{constructor(e,n,r,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ws((d=>xA(d)),km),this.Iu=new Map,this.Eu=new Set,this.du=new _t(pe.comparator),this.Au=new Map,this.Ru=new Zv,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function z3(t,e,n=!0){const r=IN(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await EN(r,e,n,!0),a}async function L3(t,e){const n=IN(t);await EN(n,e,!0,!1)}async function EN(t,e,n,r){const a=await i3(t.localStore,vr(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await U3(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&pN(t.remoteStore,a),d}async function U3(t,e,n,r,a){t.pu=(b,E,A)=>(async function(O,V,J,Q){let G=V.view.ru(J);G.Cs&&(G=await u1(O.localStore,V.query,!1).then((({documents:I})=>V.view.ru(I,G))));const oe=Q&&Q.targetChanges.get(V.targetId),ce=Q&&Q.targetMismatches.get(V.targetId)!=null,me=V.view.applyChanges(G,O.isPrimaryClient,oe,ce);return x1(O,V.targetId,me.au),me.snapshot})(t,b,E,A);const o=await u1(t.localStore,e,!0),c=new O3(e,o.Qs),d=c.ru(o.documents),h=pd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),g=c.applyChanges(d,t.isPrimaryClient,h);x1(t,n,g.au);const v=new P3(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function F3(t,e,n){const r=De(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!km(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await nv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&eb(r.remoteStore,a.targetId),iv(r,a.targetId)})).catch(wo)):(iv(r,a.targetId),await nv(r.localStore,a.targetId,!0))}async function B3(t,e){const n=De(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eb(n.remoteStore,r.targetId))}async function q3(t,e,n){const r=RN(t);try{const a=await(function(c,d){const h=De(c),g=it.now(),v=d.reduce(((A,M)=>A.add(M.key)),Ue());let b,E;return h.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let M=Xn(),O=Ue();return h.Ns.getEntries(A,v).next((V=>{M=V,M.forEach(((J,Q)=>{Q.isValidDocument()||(O=O.add(J))}))})).next((()=>h.localDocuments.getOverlayedDocuments(A,M))).next((V=>{b=V;const J=[];for(const Q of d){const G=sM(Q,b.get(Q.key).overlayedDocument);G!=null&&J.push(new ia(Q.key,G,hA(G.value.mapValue),Rn.exists(!0)))}return h.mutationQueue.addMutationBatch(A,g,J,d)})).next((V=>{E=V;const J=V.applyToLocalDocumentSet(b,O);return h.documentOverlayCache.saveOverlays(A,V.batchId,J)}))})).then((()=>({batchId:E.batchId,changes:EA(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,h){let g=c.Vu[c.currentUser.toKey()];g||(g=new _t(Ce)),g=g.insert(d,h),c.Vu[c.currentUser.toKey()]=g})(r,a.batchId,n),await vd(r,a.changes),await yd(r.remoteStore)}catch(a){const o=ib(a,"Failed to persist write");n.reject(o)}}async function TN(t,e){const n=De(t);try{const r=await n3(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(_e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?_e(c.hu,14607):a.removedDocuments.size>0&&(_e(c.hu,42227),c.hu=!1))})),await vd(n,r,e)}catch(r){await wo(r)}}function b1(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const h=De(c);h.onlineState=d;let g=!1;h.queries.forEach(((v,b)=>{for(const E of b.Sa)E.va(d)&&(g=!0)})),g&&lb(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $3(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new _t(pe.comparator);c=c.insert(o,Ct.newNoDocument(o,Se.min()));const d=Ue().add(o),h=new Vm(Se.min(),new Map,new _t(Ce),c,d);await TN(r,h),r.du=r.du.remove(o),r.Au.delete(e),db(r)}else await nv(r.localStore,e,!1).then((()=>iv(r,e,n))).catch(wo)}async function H3(t,e){const n=De(t),r=e.batch.batchId;try{const a=await t3(n.localStore,e);AN(n,r,null),SN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vd(n,a)}catch(a){await wo(a)}}async function G3(t,e,n){const r=De(t);try{const a=await(function(c,d){const h=De(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return h.mutationQueue.lookupMutationBatch(g,d).next((b=>(_e(b!==null,37113),v=b.keys(),h.mutationQueue.removeMutationBatch(g,b)))).next((()=>h.mutationQueue.performConsistencyCheck(g))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>h.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);AN(r,e,n),SN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vd(r,a)}catch(a){await wo(a)}}function SN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function AN(t,e,n){const r=De(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function iv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||NN(t,r)}))}function NN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(eb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),db(t))}function x1(t,e,n){for(const r of n)r instanceof _N?(t.Ru.addReference(r.key,e),K3(t,r)):r instanceof wN?(ue(ub,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||NN(t,r.key)):be(19791,{wu:r})}function K3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ue(ub,"New document in limbo: "+n),t.Eu.add(r),db(t))}function db(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(Je.fromString(e)),r=t.fu.next();t.Au.set(r,new M3(n)),t.du=t.du.insert(n,r),pN(t.remoteStore,new Us(vr(fd(n.path)),r,"TargetPurposeLimboResolution",gr.ce))}}async function vd(t,e,n){const r=De(t),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,h)=>{c.push(r.pu(h,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(g){a.push(g);const v=Jv.As(h.targetId,g);o.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,g){const v=De(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>B.forEach(g,(E=>B.forEach(E.Es,(A=>v.persistence.referenceDelegate.addReference(b,E.targetId,A))).next((()=>B.forEach(E.ds,(A=>v.persistence.referenceDelegate.removeReference(b,E.targetId,A)))))))))}catch(b){if(!sa(b))throw b;ue(Wv,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const A=v.Ms.get(E),M=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(E,O)}}})(r.localStore,o))}async function Q3(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){ue(ub,"User change. New user:",e.toKey());const r=await uN(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((h=>{h.reject(new he(te.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vd(n,r.Ls)}}function Z3(t,e){const n=De(t),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let a=Ue();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function IN(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$3.bind(null,e),e.Pu.H_=j3.bind(null,e.eventManager),e.Pu.yu=k3.bind(null,e.eventManager),e}function RN(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G3.bind(null,e),e}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cN(this.persistence,new lN,e.initialUser,this.serializer)}Cu(e){return new Yv(Um.mi,this.serializer)}Du(e){return new hN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class Y3 extends td{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_e(this.persistence.referenceDelegate instanceof rm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new Yv((r=>rm.mi(r,n)),this.serializer)}}class X3 extends td{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await RN(this.xu.syncEngine),await yd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return cN(this.persistence,new lN,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new rN(r,e.asyncQueue,n)}Mu(e,n){const r=new rP(n,this.persistence);return new nP(e.asyncQueue,r)}Cu(e){const n=XM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new Xv(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,h3(),If(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new hN}}class im{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q3.bind(null,this.syncEngine),await R3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new D3})()}createDatastore(e){const n=Fm(e.databaseInfo.databaseId),r=(function(o){return new d3(o)})(e.databaseInfo);return(function(o,c,d,h){return new g3(o,c,d,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,c,d){return new v3(r,a,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>b1(this.syncEngine,n,0)),(function(){return f1.v()?new f1:new o3})())}createSyncEngine(e,n){return(function(a,o,c,d,h,g,v){const b=new V3(a,o,c,d,h,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=De(n);ue(yo,"RemoteStore shutting down."),r.Ea.add(5),await gd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}im.provider={build:()=>new im};class hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ra="FirestoreClient";class J3{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=Cv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ue(ra,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ue(ra,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ib(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function vy(t,e){t.asyncQueue.verifyOperationInProgress(),ue(ra,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await uN(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function _1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W3(t);ue(ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>p1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>p1(e.remoteStore,a))),t._onlineComponents=e}async function W3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(ra,"Using user provided OfflineComponentProvider");try{await vy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await vy(t,new td)}}else ue(ra,"Using default OfflineComponentProvider"),await vy(t,new Y3(void 0));return t._offlineComponents}async function CN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(ra,"Using user provided OnlineComponentProvider"),await _1(t,t._uninitializedComponentsProvider._online)):(ue(ra,"Using default OnlineComponentProvider"),await _1(t,new im))),t._onlineComponents}function eV(t){return CN(t).then((e=>e.syncEngine))}async function am(t){const e=await CN(t),n=e.eventManager;return n.onListen=z3.bind(null,e.syncEngine),n.onUnlisten=F3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=B3.bind(null,e.syncEngine),n}function tV(t,e,n={}){const r=new ds;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,g){const v=new hb({next:E=>{v.Nu(),c.enqueueAndForget((()=>ob(o,b)));const A=E.docs.has(d);!A&&E.fromCache?g.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&h&&h.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new cb(fd(d.path),v,{includeMetadataChanges:!0,qa:!0});return ab(o,b)})(await am(t),t.asyncQueue,e,n,r))),r.promise}function nV(t,e,n={}){const r=new ds;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,g){const v=new hb({next:E=>{v.Nu(),c.enqueueAndForget((()=>ob(o,b))),E.fromCache&&h.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new cb(d,v,{includeMetadataChanges:!0,qa:!0});return ab(o,b)})(await am(t),t.asyncQueue,e,n,r))),r.promise}function DN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const w1=new Map;const jN="firestore.googleapis.com",E1=!0;class T1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jN,this.ssl=E1}else this.host=e.host,this.ssl=e.ssl??E1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OM)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new F4;switch(r.type){case"firstParty":return new H4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=w1.get(n);r&&(ue("ComponentProvider","Removing Datastore"),w1.delete(n),r.terminate())})(this),Promise.resolve()}}function rV(t,e,n,r={}){t=Jn(t,qm);const a=tc(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(xS(`https://${d}`),_S("Firestore",!0)),o.host!==jN&&o.host!==d&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:d,ssl:a,emulatorOptions:r};if(!ao(h,c)&&(t._setSettings(h),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=mn.MOCK_USER;else{g=yO(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(b)}t._authCredentials=new B4(new LS(g,v))}}class ei{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ei(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ud(n,Vt._jsonSchema))return new Vt(e,r||null,new pe(Je.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Qt("string",Vt._jsonSchemaVersion),referencePath:Qt("string")};class Ji extends ei{constructor(e,n,r){super(e,n,fd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new pe(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function fb(t,e,...n){if(t=_n(t),FS("collection","path",e),t instanceof qm){const r=Je.fromString(e,...n);return mE(r),new Ji(t,null,r)}{if(!(t instanceof Vt||t instanceof Ji))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return mE(r),new Ji(t.firestore,null,r)}}function oc(t,e,...n){if(t=_n(t),arguments.length===1&&(e=Cv.newId()),FS("doc","path",e),t instanceof qm){const r=Je.fromString(e,...n);return fE(r),new Vt(t,null,new pe(r))}{if(!(t instanceof Vt||t instanceof Ji))throw new he(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return fE(r),new Vt(t.firestore,t instanceof Ji?t.converter:null,new pe(r))}}const S1="AsyncQueue";class A1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fN(this,"async_queue_retry"),this._c=()=>{const r=If();r&&ue(S1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=If();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=If();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sa(e))throw e;ue(S1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Nn("INTERNAL UNHANDLED ERROR: ",N1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=sb.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:N1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function N1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function I1(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Zs extends qm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new A1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A1(e),this._firestoreClient=void 0,await e}}}function sV(t,e){const n=typeof t=="object"?t:RS(),r=typeof t=="string"?t:Kf,a=Iv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=pO("firestore");o&&rV(a,...o)}return a}function $m(t){if(t._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kN(t),t._firestoreClient}function kN(t){const e=t._freezeSettings(),n=(function(a,o,c,d){return new jP(a,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,DN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new J3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}function iV(t,e){co("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return aV(t,im.provider,{build:r=>new X3(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function aV(t,e,n){if((t=Jn(t,Zs))._firestoreClient||t._terminated)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new he(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},kN(t)}class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(Zt.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ud(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Qt("string",pr._jsonSchemaVersion),bytes:Qt("string")};class mb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pb{constructor(e){this._methodName=e}}class hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(e){if(ud(e,hs._jsonSchema))return new hs(e.latitude,e.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:Qt("string",hs._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class fs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ud(e,fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fs(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fs._jsonSchemaVersion="firestore/vectorValue/1.0",fs._jsonSchema={type:Qt("string",fs._jsonSchemaVersion),vectorValues:Qt("object")};const oV=/^__.*__$/;class lV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new ic(e,this.data,n,this.fieldTransforms)}}function ON(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:t})}}class gb{constructor(e,n,r,a,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return om(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ON(this.Ac)&&oV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fm(e)}Cc(e,n,r,a=!1){return new gb({Ac:e,methodName:n,Dc:r,path:Et.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hm(t){const e=t._freezeSettings(),n=Fm(t._databaseId);return new cV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PN(t,e,n,r,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);LN("Data must be an object, but it was:",c,r);const d=VN(r,c);let h,g;if(o.merge)h=new yr(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const b of o.mergeFields){const E=uV(e,b,n);if(!c.contains(E))throw new he(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);hV(v,E)||v.push(E)}h=new yr(v),g=c.fieldTransforms.filter((b=>h.covers(b.field)))}else h=null,g=c.fieldTransforms;return new lV(new zn(d),h,g)}class yb extends pb{_toFieldTransform(e){return new CA(e.path,new ql)}isEqual(e){return e instanceof yb}}function MN(t,e,n,r=!1){return vb(n,t.Cc(r?4:3,e))}function vb(t,e){if(zN(t=_n(t)))return LN("Unsupported field value:",e,t),VN(t,e);if(t instanceof pb)return(function(r,a){if(!ON(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const d of r){let h=vb(d,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=_n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:Gl(a.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gl(a.serializer,o)}}if(r instanceof hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pr)return{bytesValue:VA(a.serializer,r._byteString)};if(r instanceof Vt){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Gv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof fs)return(function(c,d){return{mapValue:{fields:{[Vv]:{stringValue:zv},[Ul]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Fv(d.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Tm(r)}`)})(t,e)}function VN(t,e){const n={};return rA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eo(t,((r,a)=>{const o=vb(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function zN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof hs||t instanceof pr||t instanceof Vt||t instanceof pb||t instanceof fs)}function LN(t,e,n){if(!zN(n)||!BS(n)){const r=Tm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function uV(t,e,n){if((e=_n(e))instanceof mb)return e._internalPath;if(typeof e=="string")return UN(t,e);throw om("Field path arguments must be of type string or ",t,!1,void 0,n)}const dV=new RegExp("[~\\*/\\[\\]]");function UN(t,e,n){if(e.search(dV)>=0)throw om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mb(...e.split("."))._internalPath}catch{throw om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function om(t,e,n,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new he(te.INVALID_ARGUMENT,d+t+h)}function hV(t,e){return t.some((n=>n.isEqual(e)))}class bb{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fV extends bb{data(){return super.data()}}function FN(t,e){return typeof e=="string"?UN(t,e):e instanceof mb?e._internalPath:e._delegate._internalPath}function BN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xb{}class _b extends xb{}function mV(t,e,...n){let r=[];e instanceof xb&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((h=>h instanceof Eb)).length,d=o.filter((h=>h instanceof wb)).length;if(c>1||c>0&&d>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class wb extends _b{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wb(e,n,r)}_apply(e){const n=this._parse(e);return qN(e._query,n),new ei(e.firestore,e.converter,Qy(e._query,n))}_parse(e){const n=Hm(e.firestore);return(function(o,c,d,h,g,v,b){let E;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){C1(b,v);const M=[];for(const O of b)M.push(R1(h,o,O));E={arrayValue:{values:M}}}else E=R1(h,o,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||C1(b,v),E=MN(d,c,b,v==="in"||v==="not-in");return Ge.create(g,v,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Eb extends xb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Eb(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:at.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const d=o.getFlattenedFilters();for(const h of d)qN(c,h),c=Qy(c,h)})(e._query,n),new ei(e.firestore,e.converter,Qy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tb extends _b{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Tb(e,n,r)}_apply(e){return new ei(e.firestore,e.converter,Xf(e._query,this._limit,this._limitType))}}function pV(t){return J4("limit",t),Tb._create("limit",t,"F")}class Sb extends _b{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Sb(e,n,r)}_apply(e){const n=yV(e,this.type,this._docOrFields,this._inclusive);return new ei(e.firestore,e.converter,(function(a,o){return new sc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)})(e._query,n))}}function gV(...t){return Sb._create("startAfter",t,!1)}function yV(t,e,n,r){if(n[0]=_n(n[0]),n[0]instanceof bb)return(function(o,c,d,h,g){if(!h)throw new he(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const v=[];for(const b of Nl(o))if(b.field.isKeyField())v.push(ho(c,h.key));else{const E=h.data.field(b.field);if(Cm(E))throw new he(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const A=b.field.canonicalString();throw new he(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}v.push(E)}return new ta(v,g)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=Hm(t.firestore);return(function(c,d,h,g,v,b){const E=c.explicitOrderBy;if(v.length>E.length)throw new he(te.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let M=0;M<v.length;M++){const O=v[M];if(E[M].field.isKeyField()){if(typeof O!="string")throw new he(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof O}`);if(!Uv(c)&&O.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${O}' contains a slash.`);const V=c.path.child(Je.fromString(O));if(!pe.isDocumentKey(V))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const J=new pe(V);A.push(ho(d,J))}else{const V=MN(h,g,O);A.push(V)}}return new ta(A,b)})(t._query,t.firestore._databaseId,a,e,n,r)}}function R1(t,e,n){if(typeof(n=_n(n))=="string"){if(n==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uv(e)&&n.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!pe.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ho(t,new pe(r))}if(n instanceof Vt)return ho(t,n._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tm(n)}.`)}function C1(t,e){if(!Array.isArray(t)||t.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qN(t,e){const n=(function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vV{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Eo(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Ul].arrayValue?.values?.map((r=>bt(r.doubleValue)));return new fs(n)}convertGeoPoint(e){return new hs(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);_e(KA(r),9688,{name:e});const a=new uo(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return a.isEqual(n)||Nn(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function $N(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends bb{constructor(e,n,r,a,o,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(FN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:Qt("string",eo._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Rf extends eo{data(e={}){return super.data(e)}}class to{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Iu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Rf(this._firestore,this._userDataWriter,r.key,r,new Iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const h=new Rf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Iu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const h=new Rf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Iu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:bV(d.type),doc:h,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}function xV(t){t=Jn(t,Vt);const e=Jn(t.firestore,Zs);return tV($m(e),t._key).then((n=>KN(e,t,n)))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Qt("string",to._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Ab extends vV{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function _V(t){t=Jn(t,ei);const e=Jn(t.firestore,Zs),n=$m(e),r=new Ab(e);return BN(t._query),nV(n,t._query).then((a=>new to(e,r,t,a)))}function HN(t,e,n){t=Jn(t,Vt);const r=Jn(t.firestore,Zs),a=$N(t.converter,e,n);return Nb(r,[PN(Hm(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Rn.none())])}function wV(t){return Nb(Jn(t.firestore,Zs),[new Mm(t._key,Rn.none())])}function EV(t,e){const n=Jn(t.firestore,Zs),r=oc(t),a=$N(t.converter,e);return Nb(n,[PN(Hm(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then((()=>r))}function GN(t,...e){t=_n(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||I1(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(I1(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,c,d;if(t instanceof Vt)c=Jn(t.firestore,Zs),d=fd(t._key.path),o={next:h=>{e[r]&&e[r](KN(c,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Jn(t,ei);c=Jn(h.firestore,Zs),d=h._query;const g=new Ab(c);o={next:v=>{e[r]&&e[r](new to(c,g,h,v))},error:e[r+1],complete:e[r+2]},BN(t._query)}return(function(g,v,b,E){const A=new hb(E),M=new cb(v,A,b);return g.asyncQueue.enqueueAndForget((async()=>ab(await am(g),M))),()=>{A.Nu(),g.asyncQueue.enqueueAndForget((async()=>ob(await am(g),M)))}})($m(c),d,a,o)}function Nb(t,e){return(function(r,a){const o=new ds;return r.asyncQueue.enqueueAndForget((async()=>q3(await eV(r),a,o))),o.promise})($m(t),e)}function KN(t,e,n){const r=n.docs.get(e._key),a=new Ab(t);return new eo(t,a,e._key,r,new Iu(n.hasPendingWrites,n.fromCache),e.converter)}function QN(){return new yb("serverTimestamp")}(function(e,n=!0){(function(a){rc=a})(nc),Ol(new oo("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new Zs(new q4(r.getProvider("auth-internal")),new G4(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uo(g.options.projectId,v)})(c,a),c);return o={useFetchStreams:n,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Zi(cE,uE,e),Zi(cE,uE,"esm2020")})();var TV="firebase",SV="12.7.0";Zi(TV,SV,"app");function ZN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AV=ZN,YN=new ld("auth","Firebase",ZN());const lm=new Av("@firebase/auth");function NV(t,...e){lm.logLevel<=He.WARN&&lm.warn(`Auth (${nc}): ${t}`,...e)}function Cf(t,...e){lm.logLevel<=He.ERROR&&lm.error(`Auth (${nc}): ${t}`,...e)}function gs(t,...e){throw Rb(t,...e)}function zr(t,...e){return Rb(t,...e)}function Ib(t,e,n){const r={...AV(),[e]:n};return new ld("auth","Firebase",r).create(e,{appName:t.name})}function no(t){return Ib(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&gs(t,"argument-error"),Ib(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YN.create(t,...e)}function Re(t,e,...n){if(!t)throw Rb(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cf(e),new Error(e)}function Ys(t,e){t||Fs(e)}function av(){return typeof self<"u"&&self.location?.href||""}function RV(){return D1()==="http:"||D1()==="https:"}function D1(){return typeof self<"u"&&self.location?.protocol||null}function CV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RV()||wO()||"connection"in navigator)?navigator.onLine:!0}function DV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class bd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ys(n>e,"Short delay should be less than long delay!"),this.isMobile=xO()||EO()}get(){return CV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cb(t,e){Ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class XN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OV=new bd(3e4,6e4);function Db(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function lc(t,e,n,r,a={}){return JN(t,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=cd({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:h,...o};return _O()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&tc(t.emulatorConfig.host)&&(g.credentials="include"),XN.fetch()(await WN(t,t.config.apiHost,n,d),g)})}async function JN(t,e,n){t._canInitEmulator=!1;const r={...jV,...e};try{const a=new MV(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw df(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,g]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw df(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw df(t,"user-disabled",c);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ib(t,v,g);gs(t,v)}}catch(a){if(a instanceof Js)throw a;gs(t,"network-request-failed",{message:String(a)})}}async function PV(t,e,n,r,a={}){const o=await lc(t,e,n,r,a);return"mfaPendingCredential"in o&&gs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function WN(t,e,n,r){const a=`${e}${n}?${r}`,o=t,c=o.config.emulator?Cb(t.config,a):`${t.config.apiScheme}://${a}`;return kV.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class MV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),OV.get())})}}function df(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=zr(t,e,r);return a.customData._tokenResponse=n,a}async function VV(t,e){return lc(t,"POST","/v1/accounts:delete",e)}async function cm(t,e){return lc(t,"POST","/v1/accounts:lookup",e)}function Lu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zV(t,e=!1){const n=_n(t),r=await n.getIdToken(e),a=jb(r);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:Lu(by(a.auth_time)),issuedAtTime:Lu(by(a.iat)),expirationTime:Lu(by(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function by(t){return Number(t)*1e3}function jb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const a=pS(n);return a?JSON.parse(a):(Cf("Failed to decode base64 JWT payload"),null)}catch(a){return Cf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function j1(t){const e=jb(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Js&&LV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class UV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ov{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function um(t){const e=t.auth,n=await t.getIdToken(),r=await nd(t,cm(e,{idToken:n}));Re(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?e2(a.providerUserInfo):[],c=BV(t.providerData,o),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!c?.length,g=d?h:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ov(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function FV(t){const e=_n(t);await um(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BV(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function e2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function qV(t,e){const n=await JN(t,{},async()=>{const r=cd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=await WN(t,a,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&tc(t.emulatorConfig.host)&&(h.credentials="include"),XN.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $V(t,e){return lc(t,"POST","/v2/accounts:revokeToken",Db(t,e))}class Rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=j1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await qV(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,c=new Rl;return r&&(Re(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Re(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rl,this.toJSON())}_performRefresh(){return Fs("not implemented")}}function Li(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vr{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new UV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ov(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await nd(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zV(this,e)}reload(){return FV(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await um(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(no(this.auth));const e=await this.getIdToken();return await nd(this,VV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:A,providerData:M,stsTokenManager:O}=n;Re(b&&O,e,"internal-error");const V=Rl.fromJSON(this.name,O);Re(typeof b=="string",e,"internal-error"),Li(r,e.name),Li(a,e.name),Re(typeof E=="boolean",e,"internal-error"),Re(typeof A=="boolean",e,"internal-error"),Li(o,e.name),Li(c,e.name),Li(d,e.name),Li(h,e.name),Li(g,e.name),Li(v,e.name);const J=new Vr({uid:b,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:A,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:V,createdAt:g,lastLoginAt:v});return M&&Array.isArray(M)&&(J.providerData=M.map(Q=>({...Q}))),h&&(J._redirectEventId=h),J}static async _fromIdTokenResponse(e,n,r=!1){const a=new Rl;a.updateFromServerResponse(n);const o=new Vr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await um(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?e2(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,d=new Rl;d.updateFromIdToken(r);const h=new Vr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new ov(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,g),h}}const k1=new Map;function Bs(t){Ys(t instanceof Function,"Expected a class definition");let e=k1.get(t);return e?(Ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k1.set(t,e),e)}class t2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}t2.type="NONE";const O1=t2;function Df(t,e,n){return`firebase:${t}:${e}:${n}`}class Cl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Df(this.userKey,a.apiKey,o),this.fullPersistenceKey=Df("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cm(this.auth,{idToken:e}).catch(()=>{});return n?Vr._fromGetAccountInfoResponse(this.auth,n,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cl(Bs(O1),e,r);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||Bs(O1);const c=Df(r,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const E=await cm(e,{idToken:v}).catch(()=>{});if(!E)break;b=await Vr._fromGetAccountInfoResponse(e,E,v)}else b=Vr._fromJSON(e,v);g!==o&&(d=b),o=g;break}}catch{}const h=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Cl(o,e,r):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new Cl(o,e,r))}}function P1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o2(e))return"Blackberry";if(l2(e))return"Webos";if(r2(e))return"Safari";if((e.includes("chrome/")||s2(e))&&!e.includes("edge/"))return"Chrome";if(a2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function n2(t=en()){return/firefox\//i.test(t)}function r2(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function s2(t=en()){return/crios\//i.test(t)}function i2(t=en()){return/iemobile/i.test(t)}function a2(t=en()){return/android/i.test(t)}function o2(t=en()){return/blackberry/i.test(t)}function l2(t=en()){return/webos/i.test(t)}function kb(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HV(t=en()){return kb(t)&&!!window.navigator?.standalone}function GV(){return TO()&&document.documentMode===10}function c2(t=en()){return kb(t)||a2(t)||l2(t)||o2(t)||/windows phone/i.test(t)||i2(t)}function u2(t,e=[]){let n;switch(t){case"Browser":n=P1(en());break;case"Worker":n=`${P1(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nc}/${r}`}class KV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function QV(t,e={}){return lc(t,"GET","/v2/passwordPolicy",Db(t,e))}const ZV=6;class YV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ZV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class XV{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M1(this),this.idTokenSubscription=new M1(this),this.beforeStateQueue=new KV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cm(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await um(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(no(this));const n=e?_n(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(no(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(no(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QV(this),n=new YV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ld("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $V(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bs(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[Bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gm(t){return _n(t)}class M1{constructor(e){this.auth=e,this.observer=null,this.addObserver=CO(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ob={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JV(t){Ob=t}function WV(t){return Ob.loadJS(t)}function e6(){return Ob.gapiScript}function t6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function n6(t,e){const n=Iv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(ao(o,e??{}))return a;gs(a,"already-initialized")}return n.initialize({options:e})}function r6(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Bs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function s6(t,e,n){const r=Gm(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=d2(e),{host:c,port:d}=i6(e),h=d===null?"":`:${d}`,g={url:`${o}//${c}${h}/`},v=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(ao(g,r.config.emulator)&&ao(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,tc(c)?(xS(`${o}//${c}${h}`),_S("Auth",!0)):a6()}function d2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function i6(t){const e=d2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:V1(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:V1(c)}}}function V1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function a6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class h2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}async function Dl(t,e){return PV(t,"POST","/v1/accounts:signInWithIdp",Db(t,e))}const o6="http://localhost";class vo extends h2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const c=new vo(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Dl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Dl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dl(e,n)}buildRequest(){const e={requestUri:o6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cd(n)}return e}}class Pb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xd extends Pb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bi extends xd{constructor(){super("facebook.com")}static credential(e){return vo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";class Ls extends xd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vo._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class qi extends xd{constructor(){super("github.com")}static credential(e){return vo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";class $i extends xd{constructor(){super("twitter.com")}static credential(e,n){return vo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";class Ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Vr._fromIdTokenResponse(e,r,a),c=z1(r);return new Ql({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=z1(r);return new Ql({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function z1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class dm extends Js{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,dm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new dm(e,n,r,a)}}function f2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dm._fromErrorAndOperation(t,o,e,r):o})}async function l6(t,e,n=!1){const r=await nd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ql._forOperation(t,"link",r)}async function c6(t,e,n=!1){const{auth:r}=t;if(Mr(r.app))return Promise.reject(no(r));const a="reauthenticate";try{const o=await nd(t,f2(r,a,e,t),n);Re(o.idToken,r,"internal-error");const c=jb(o.idToken);Re(c,r,"internal-error");const{sub:d}=c;return Re(t.uid===d,r,"user-mismatch"),Ql._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&gs(r,"user-mismatch"),o}}async function u6(t,e,n=!1){if(Mr(t.app))return Promise.reject(no(t));const r="signIn",a=await f2(t,r,e),o=await Ql._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}function d6(t,e,n,r){return _n(t).onIdTokenChanged(e,n,r)}function h6(t,e,n){return _n(t).beforeAuthStateChanged(e,n)}function m2(t,e,n,r){return _n(t).onAuthStateChanged(e,n,r)}function f6(t){return _n(t).signOut()}const hm="__sak";class p2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hm,"1"),this.storage.removeItem(hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const m6=1e3,p6=10;class g2 extends p2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);GV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,p6):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},m6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}g2.type="LOCAL";const g6=g2;class y2 extends p2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}y2.type="SESSION";const v2=y2;function y6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Km(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,o)),h=await y6(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Km.receivers=[];function Mb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class v6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const g=Mb("",20);a.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(E.data.response);break;default:clearTimeout(v),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ms(){return window}function b6(t){ms().location.href=t}function b2(){return typeof ms().WorkerGlobalScope<"u"&&typeof ms().importScripts=="function"}async function x6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _6(){return navigator?.serviceWorker?.controller||null}function w6(){return b2()?self:null}const x2="firebaseLocalStorageDb",E6=1,fm="firebaseLocalStorage",_2="fbase_key";class _d{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qm(t,e){return t.transaction([fm],e?"readwrite":"readonly").objectStore(fm)}function T6(){const t=indexedDB.deleteDatabase(x2);return new _d(t).toPromise()}function lv(){const t=indexedDB.open(x2,E6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fm,{keyPath:_2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fm)?e(r):(r.close(),await T6(),e(await lv()))})})}async function L1(t,e,n){const r=Qm(t,!0).put({[_2]:e,value:n});return new _d(r).toPromise()}async function S6(t,e){const n=Qm(t,!1).get(e),r=await new _d(n).toPromise();return r===void 0?null:r.value}function U1(t,e){const n=Qm(t,!0).delete(e);return new _d(n).toPromise()}const A6=800,N6=3;class w2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>N6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return b2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Km._getInstance(w6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await x6(),!this.activeServiceWorker)return;this.sender=new v6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lv();return await L1(e,hm,"1"),await U1(e,hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>L1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>S6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Qm(a,!1).getAll();return new _d(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w2.type="LOCAL";const I6=w2;new bd(3e4,6e4);function E2(t,e){return e?Bs(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Vb extends h2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function R6(t){return u6(t.auth,new Vb(t),t.bypassAuthState)}function C6(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),c6(n,new Vb(t),t.bypassAuthState)}async function D6(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),l6(n,new Vb(t),t.bypassAuthState)}class T2{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R6;case"linkViaPopup":case"linkViaRedirect":return D6;case"reauthViaPopup":case"reauthViaRedirect":return C6;default:gs(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const j6=new bd(2e3,1e4);async function k6(t,e,n){if(Mr(t.app))return Promise.reject(zr(t,"operation-not-supported-in-this-environment"));const r=Gm(t);IV(t,e,Pb);const a=E2(r,n);return new Ya(r,"signInViaPopup",e,a).executeNotNull()}class Ya extends T2{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=Mb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j6.get())};e()}}Ya.currentPopupAction=null;const O6="pendingRedirect",jf=new Map;class P6 extends T2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jf.get(this.auth._key());if(!e){try{const r=await M6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jf.set(this.auth._key(),e)}return this.bypassAuthState||jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M6(t,e){const n=L6(e),r=z6(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function V6(t,e){jf.set(t._key(),e)}function z6(t){return Bs(t._redirectPersistence)}function L6(t){return Df(O6,t.config.apiKey,t.name)}async function U6(t,e,n=!1){if(Mr(t.app))return Promise.reject(no(t));const r=Gm(t),a=E2(r,e),c=await new P6(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const F6=600*1e3;class B6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!S2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F6&&this.cachedEventUids.clear(),this.cachedEventUids.has(F1(e))}saveEventToCache(e){this.cachedEventUids.add(F1(e)),this.lastProcessedEventTime=Date.now()}}function F1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function S2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function q6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S2(t);default:return!1}}async function $6(t,e={}){return lc(t,"GET","/v1/projects",e)}const H6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G6=/^https?/;async function K6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $6(t);for(const n of e)try{if(Q6(n))return}catch{}gs(t,"unauthorized-domain")}function Q6(t){const e=av(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!G6.test(n))return!1;if(H6.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const Z6=new bd(3e4,6e4);function B1(){const t=ms().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Y6(t){return new Promise((e,n)=>{function r(){B1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B1(),n(zr(t,"network-request-failed"))},timeout:Z6.get()})}if(ms().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ms().gapi?.load)r();else{const a=t6("iframefcb");return ms()[a]=()=>{gapi.load?r():n(zr(t,"network-request-failed"))},WV(`${e6()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw kf=null,e})}let kf=null;function X6(t){return kf=kf||Y6(t),kf}const J6=new bd(5e3,15e3),W6="__/auth/iframe",ez="emulator/auth/iframe",tz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rz(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cb(e,ez):`https://${t.config.authDomain}/${W6}`,r={apiKey:e.apiKey,appName:t.name,v:nc},a=nz.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${cd(r).slice(1)}`}async function sz(t){const e=await X6(t),n=ms().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:rz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tz,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=zr(t,"network-request-failed"),d=ms().setTimeout(()=>{o(c)},J6.get());function h(){ms().clearTimeout(d),a(r)}r.ping(h).then(h,()=>{o(c)})}))}const iz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},az=500,oz=600,lz="_blank",cz="http://localhost";class q1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uz(t,e,n,r=az,a=oz){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h={...iz,width:r.toString(),height:a.toString(),top:o,left:c},g=en().toLowerCase();n&&(d=s2(g)?lz:n),n2(g)&&(e=e||cz,h.scrollbars="yes");const v=Object.entries(h).reduce((E,[A,M])=>`${E}${A}=${M},`,"");if(HV(g)&&d!=="_self")return dz(e||"",d),new q1(null);const b=window.open(e||"",d,v);Re(b,t,"popup-blocked");try{b.focus()}catch{}return new q1(b)}function dz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const hz="__/auth/handler",fz="emulator/auth/handler",mz=encodeURIComponent("fac");async function $1(t,e,n,r,a,o){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nc,eventId:a};if(e instanceof Pb){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",RO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof xd){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const h=await t._getAppCheckToken(),g=h?`#${mz}=${encodeURIComponent(h)}`:"";return`${pz(t)}?${cd(d).slice(1)}${g}`}function pz({config:t}){return t.emulator?Cb(t,fz):`https://${t.authDomain}/${hz}`}const xy="webStorageSupport";class gz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v2,this._completeRedirectFn=U6,this._overrideRedirectResult=V6}async _openPopup(e,n,r,a){Ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await $1(e,n,r,av(),a);return uz(e,o,Mb())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await $1(e,n,r,av(),a);return b6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Ys(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sz(e),r=new B6(e);return n.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xy,{type:xy},a=>{const o=a?.[0]?.[xy];o!==void 0&&n(!!o),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return c2()||r2()||kb()}}const yz=gz;var H1="@firebase/auth",G1="1.12.0";class vz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xz(t){Ol(new oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u2(t)},g=new XV(r,a,o,h);return r6(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ol(new oo("auth-internal",e=>{const n=Gm(e.getProvider("auth").getImmediate());return(r=>new vz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(H1,G1,bz(t)),Zi(H1,G1,"esm2020")}const _z=300,wz=bS("authIdTokenMaxAge")||_z;let K1=null;const Ez=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wz)return;const a=n?.token;K1!==a&&(K1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Tz(t=RS()){const e=Iv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=n6(t,{popupRedirectResolver:yz,persistence:[I6,g6,v2]}),r=bS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=Ez(o.toString());h6(n,c,()=>c(n.currentUser)),d6(n,d=>c(d))}}const a=yS("auth");return a&&s6(n,`http://${a}`),n}function Sz(){return document.getElementsByTagName("head")?.[0]??document}JV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=zr("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",Sz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xz("Browser");const Az={apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",storageBucket:void 0,messagingSenderId:"490973136832",appId:"1:490973136832:web:1811051408fdde8fbcea25",measurementId:"G-D3YR1YJXPN"},A2=sE().length?sE()[0]:IS(Az),ti=sV(A2),Of=Tz(A2);typeof window<"u"&&iV(ti).catch(t=>{console.debug("IndexedDB persistence not enabled:",t?.code??t?.message??t)});function N2(t,e,n){const r=fb(t,e);return n?r.withConverter(n):r}async function Nz(t,e,n){const r=oc(ti,t,e),a=n?r.withConverter(n):r,o=await xV(a);return o.exists()?o.data():null}async function I2(t,e,n){const r=N2(ti,t,n);return(await EV(r,e)).id}async function Iz(t,e,n,r){const a=oc(ti,t,e),o=r?a.withConverter(r):a;await HN(o,n)}async function Rz(t,e,n,r){const a=oc(ti,t,e),o=r?a.withConverter(r):a;await HN(o,n,{merge:!0})}async function Cz(t,e){const n=oc(ti,t,e);await wV(n)}async function Dz(t,e){const{pageSize:n=20,cursor:r=null,additionalConstraints:a=[],converter:o}=e??{},c=N2(ti,t,o),d=[pV(n),...a];r&&d.push(gV(r));const h=mV(c,...d),g=await _V(h),v=g.docs.map(E=>E.data()),b=g.docs[g.docs.length-1]??null;return{docs:v,nextCursor:b?b.id:null}}function se(t,e,n){function r(d,h){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:h,constr:c,traits:new Set},enumerable:!1}),d._zod.traits.has(t))return;d._zod.traits.add(t),e(d,h);const g=c.prototype,v=Object.keys(g);for(let b=0;b<v.length;b++){const E=v[b];E in d||(d[E]=g[E].bind(d))}}const a=n?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function c(d){var h;const g=n?.Parent?new o:this;r(g,d),(h=g._zod).deferred??(h.deferred=[]);for(const v of g._zod.deferred)v();return g}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class jl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class R2 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const C2={};function bo(t){return C2}function D2(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,a])=>e.indexOf(+r)===-1).map(([r,a])=>a)}function cv(t,e){return typeof e=="bigint"?e.toString():e}function zb(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Lb(t){return t==null}function Ub(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function jz(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h?.[1]&&(a=Number.parseInt(h[1]))}const o=n>a?n:a,c=Number.parseInt(t.toFixed(o).replace(".","")),d=Number.parseInt(e.toFixed(o).replace(".",""));return c%d/10**o}const Q1=Symbol("evaluating");function ot(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==Q1)return r===void 0&&(r=Q1,r=n()),r},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function So(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function aa(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function Z1(t){return JSON.stringify(t)}function kz(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const j2="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function mm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Oz=zb(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function rd(t){if(mm(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(mm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function k2(t){return rd(t)?{...t}:Array.isArray(t)?[...t]:t}const Pz=new Set(["string","number","symbol"]);function Zl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function oa(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Te(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Mz(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Vz={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function zz(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=aa(t._zod.def,{get shape(){const c={};for(const d in e){if(!(d in n.shape))throw new Error(`Unrecognized key: "${d}"`);e[d]&&(c[d]=n.shape[d])}return So(this,"shape",c),c},checks:[]});return oa(t,o)}function Lz(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=aa(t._zod.def,{get shape(){const c={...t._zod.def.shape};for(const d in e){if(!(d in n.shape))throw new Error(`Unrecognized key: "${d}"`);e[d]&&delete c[d]}return So(this,"shape",c),c},checks:[]});return oa(t,o)}function Uz(t,e){if(!rd(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const c in e)if(Object.getOwnPropertyDescriptor(o,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=aa(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return So(this,"shape",o),o}});return oa(t,a)}function Fz(t,e){if(!rd(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=aa(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return So(this,"shape",r),r}});return oa(t,n)}function Bz(t,e){const n=aa(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return So(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return oa(t,n)}function qz(t,e,n){const a=e._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=aa(e._zod.def,{get shape(){const d=e._zod.def.shape,h={...d};if(n)for(const g in n){if(!(g in d))throw new Error(`Unrecognized key: "${g}"`);n[g]&&(h[g]=t?new t({type:"optional",innerType:d[g]}):d[g])}else for(const g in d)h[g]=t?new t({type:"optional",innerType:d[g]}):d[g];return So(this,"shape",h),h},checks:[]});return oa(e,c)}function $z(t,e,n){const r=aa(e._zod.def,{get shape(){const a=e._zod.def.shape,o={...a};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(o[c]=new t({type:"nonoptional",innerType:a[c]}))}else for(const c in a)o[c]=new t({type:"nonoptional",innerType:a[c]});return So(this,"shape",o),o}});return oa(e,r)}function Al(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function O2(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function hf(t){return typeof t=="string"?t:t?.message}function xo(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const a=hf(t.inst?._zod.def?.error?.(t))??hf(e?.error?.(t))??hf(n.customError?.(t))??hf(n.localeError?.(t))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Fb(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function sd(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const P2=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,cv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},M2=se("$ZodError",P2),V2=se("$ZodError",P2,{Parent:Error});function Hz(t,e=n=>n.message){const n={},r=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}function Gz(t,e=n=>n.message){const n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(c=>r({issues:c}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(e(o));else{let c=n,d=0;for(;d<o.path.length;){const h=o.path[d];d===o.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(e(o))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return r(t),n}const Bb=t=>(e,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise)throw new jl;if(c.issues.length){const d=new(a?.Err??t)(c.issues.map(h=>xo(h,o,bo())));throw j2(d,a?.callee),d}return c.value},qb=t=>async(e,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new(a?.Err??t)(c.issues.map(h=>xo(h,o,bo())));throw j2(d,a?.callee),d}return c.value},Zm=t=>(e,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new jl;return o.issues.length?{success:!1,error:new(t??M2)(o.issues.map(c=>xo(c,a,bo())))}:{success:!0,data:o.value}},Kz=Zm(V2),Ym=t=>async(e,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(c=>xo(c,a,bo())))}:{success:!0,data:o.value}},Qz=Ym(V2),Zz=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Bb(t)(e,n,a)},Yz=t=>(e,n,r)=>Bb(t)(e,n,r),Xz=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return qb(t)(e,n,a)},Jz=t=>async(e,n,r)=>qb(t)(e,n,r),Wz=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Zm(t)(e,n,a)},e5=t=>(e,n,r)=>Zm(t)(e,n,r),t5=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ym(t)(e,n,a)},n5=t=>async(e,n,r)=>Ym(t)(e,n,r),r5=/^[cC][^\s-]{8,}$/,s5=/^[0-9a-z]+$/,i5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,a5=/^[0-9a-vA-V]{20}$/,o5=/^[A-Za-z0-9]{27}$/,l5=/^[a-zA-Z0-9_-]{21}$/,c5=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,u5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Y1=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,d5=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,h5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function f5(){return new RegExp(h5,"u")}const m5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,p5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,g5=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,y5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,v5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,z2=/^[A-Za-z0-9_-]*$/,b5=/^\+[1-9]\d{6,14}$/,L2="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",x5=new RegExp(`^${L2}$`);function U2(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function _5(t){return new RegExp(`^${U2(t)}$`)}function w5(t){const e=U2({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${L2}T(?:${r})$`)}const E5=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},T5=/^-?\d+$/,S5=/^-?\d+(?:\.\d+)?$/,A5=/^[^A-Z]*$/,N5=/^[^a-z]*$/,Ln=se("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),F2={number:"number",bigint:"bigint",object:"date"},B2=se("$ZodCheckLessThan",(t,e)=>{Ln.init(t,e);const n=F2[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),q2=se("$ZodCheckGreaterThan",(t,e)=>{Ln.init(t,e);const n=F2[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),I5=se("$ZodCheckMultipleOf",(t,e)=>{Ln.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):jz(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),R5=se("$ZodCheckNumberFormat",(t,e)=>{Ln.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[a,o]=Vz[e.format];t._zod.onattach.push(c=>{const d=c._zod.bag;d.format=e.format,d.minimum=a,d.maximum=o,n&&(d.pattern=T5)}),t._zod.check=c=>{const d=c.value;if(n){if(!Number.isInteger(d)){c.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:d,inst:t});return}if(!Number.isSafeInteger(d)){d>0?c.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):c.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}d<a&&c.issues.push({origin:"number",input:d,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),d>o&&c.issues.push({origin:"number",input:d,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),C5=se("$ZodCheckMaxLength",(t,e)=>{var n;Ln.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!Lb(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const a=r.value;if(a.length<=e.maximum)return;const c=Fb(a);r.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),D5=se("$ZodCheckMinLength",(t,e)=>{var n;Ln.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!Lb(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const a=r.value;if(a.length>=e.minimum)return;const c=Fb(a);r.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),j5=se("$ZodCheckLengthEquals",(t,e)=>{var n;Ln.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!Lb(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=r=>{const a=r.value,o=a.length;if(o===e.length)return;const c=Fb(a),d=o>e.length;r.issues.push({origin:c,...d?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Xm=se("$ZodCheckStringFormat",(t,e)=>{var n,r;Ln.init(t,e),t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),k5=se("$ZodCheckRegex",(t,e)=>{Xm.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),O5=se("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=A5),Xm.init(t,e)}),P5=se("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=N5),Xm.init(t,e)}),M5=se("$ZodCheckIncludes",(t,e)=>{Ln.init(t,e);const n=Zl(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),V5=se("$ZodCheckStartsWith",(t,e)=>{Ln.init(t,e);const n=new RegExp(`^${Zl(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),z5=se("$ZodCheckEndsWith",(t,e)=>{Ln.init(t,e);const n=new RegExp(`.*${Zl(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),L5=se("$ZodCheckOverwrite",(t,e)=>{Ln.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class U5{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(c=>c),a=Math.min(...r.map(c=>c.length-c.trimStart().length)),o=r.map(c=>c.slice(a)).map(c=>" ".repeat(this.indent*2)+c);for(const c of o)this.content.push(c)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,a.join(`
`))}}const F5={major:4,minor:3,patch:5},Dt=se("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=F5;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const o of a._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(c,d,h)=>{let g=Al(c),v;for(const b of d){if(b._zod.def.when){if(!b._zod.def.when(c))continue}else if(g)continue;const E=c.issues.length,A=b._zod.check(c);if(A instanceof Promise&&h?.async===!1)throw new jl;if(v||A instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await A,c.issues.length!==E&&(g||(g=Al(c,E)))});else{if(c.issues.length===E)continue;g||(g=Al(c,E))}}return v?v.then(()=>c):c},o=(c,d,h)=>{if(Al(c))return c.aborted=!0,c;const g=a(d,r,h);if(g instanceof Promise){if(h.async===!1)throw new jl;return g.then(v=>t._zod.parse(v,h))}return t._zod.parse(g,h)};t._zod.run=(c,d)=>{if(d.skipChecks)return t._zod.parse(c,d);if(d.direction==="backward"){const g=t._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return g instanceof Promise?g.then(v=>o(v,c,d)):o(g,c,d)}const h=t._zod.parse(c,d);if(h instanceof Promise){if(d.async===!1)throw new jl;return h.then(g=>a(g,r,d))}return a(h,r,d)}}ot(t,"~standard",()=>({validate:a=>{try{const o=Kz(t,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return Qz(t,a).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}))}),$b=se("$ZodString",(t,e)=>{Dt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??E5(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),wt=se("$ZodStringFormat",(t,e)=>{Xm.init(t,e),$b.init(t,e)}),B5=se("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=u5),wt.init(t,e)}),q5=se("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Y1(r))}else e.pattern??(e.pattern=Y1());wt.init(t,e)}),$5=se("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=d5),wt.init(t,e)}),H5=se("$ZodURL",(t,e)=>{wt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),G5=se("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=f5()),wt.init(t,e)}),K5=se("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=l5),wt.init(t,e)}),Q5=se("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=r5),wt.init(t,e)}),Z5=se("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=s5),wt.init(t,e)}),Y5=se("$ZodULID",(t,e)=>{e.pattern??(e.pattern=i5),wt.init(t,e)}),X5=se("$ZodXID",(t,e)=>{e.pattern??(e.pattern=a5),wt.init(t,e)}),J5=se("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=o5),wt.init(t,e)}),W5=se("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=w5(e)),wt.init(t,e)}),eL=se("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=x5),wt.init(t,e)}),tL=se("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=_5(e)),wt.init(t,e)}),nL=se("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=c5),wt.init(t,e)}),rL=se("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=m5),wt.init(t,e),t._zod.bag.format="ipv4"}),sL=se("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=p5),wt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),iL=se("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=g5),wt.init(t,e)}),aL=se("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=y5),wt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,o]=r;if(!o)throw new Error;const c=Number(o);if(`${c}`!==o)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function $2(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const oL=se("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=v5),wt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{$2(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function lL(t){if(!z2.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return $2(n)}const cL=se("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=z2),wt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{lL(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),uL=se("$ZodE164",(t,e)=>{e.pattern??(e.pattern=b5),wt.init(t,e)});function dL(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const hL=se("$ZodJWT",(t,e)=>{wt.init(t,e),t._zod.check=n=>{dL(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),H2=se("$ZodNumber",(t,e)=>{Dt.init(t,e),t._zod.pattern=t._zod.bag.pattern??S5,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...o?{received:o}:{}}),n}}),fL=se("$ZodNumberFormat",(t,e)=>{R5.init(t,e),H2.init(t,e)}),mL=se("$ZodUnknown",(t,e)=>{Dt.init(t,e),t._zod.parse=n=>n}),pL=se("$ZodNever",(t,e)=>{Dt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),gL=se("$ZodDate",(t,e)=>{Dt.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const a=n.value,o=a instanceof Date;return o&&!Number.isNaN(a.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:a,...o?{received:"Invalid Date"}:{},inst:t}),n}});function X1(t,e,n){t.issues.length&&e.issues.push(...O2(n,t.issues)),e.value[n]=t.value}const yL=se("$ZodArray",(t,e)=>{Dt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const o=[];for(let c=0;c<a.length;c++){const d=a[c],h=e.element._zod.run({value:d,issues:[]},r);h instanceof Promise?o.push(h.then(g=>X1(g,n,c))):X1(h,n,c)}return o.length?Promise.all(o).then(()=>n):n}});function pm(t,e,n,r,a){if(t.issues.length){if(a&&!(n in r))return;e.issues.push(...O2(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function G2(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=Mz(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function K2(t,e,n,r,a,o){const c=[],d=a.keySet,h=a.catchall._zod,g=h.def.type,v=h.optout==="optional";for(const b in e){if(d.has(b))continue;if(g==="never"){c.push(b);continue}const E=h.run({value:e[b],issues:[]},r);E instanceof Promise?t.push(E.then(A=>pm(A,n,b,e,v))):pm(E,n,b,e,v)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const vL=se("$ZodObject",(t,e)=>{if(Dt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const d=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...d};return Object.defineProperty(e,"shape",{value:h}),h}})}const r=zb(()=>G2(e));ot(t._zod,"propValues",()=>{const d=e.shape,h={};for(const g in d){const v=d[g]._zod;if(v.values){h[g]??(h[g]=new Set);for(const b of v.values)h[g].add(b)}}return h});const a=mm,o=e.catchall;let c;t._zod.parse=(d,h)=>{c??(c=r.value);const g=d.value;if(!a(g))return d.issues.push({expected:"object",code:"invalid_type",input:g,inst:t}),d;d.value={};const v=[],b=c.shape;for(const E of c.keys){const A=b[E],M=A._zod.optout==="optional",O=A._zod.run({value:g[E],issues:[]},h);O instanceof Promise?v.push(O.then(V=>pm(V,d,E,g,M))):pm(O,d,E,g,M)}return o?K2(v,g,d,h,r.value,t):v.length?Promise.all(v).then(()=>d):d}}),bL=se("$ZodObjectJIT",(t,e)=>{vL.init(t,e);const n=t._zod.parse,r=zb(()=>G2(e)),a=E=>{const A=new U5(["shape","payload","ctx"]),M=r.value,O=G=>{const oe=Z1(G);return`shape[${oe}]._zod.run({ value: input[${oe}], issues: [] }, ctx)`};A.write("const input = payload.value;");const V=Object.create(null);let J=0;for(const G of M.keys)V[G]=`key_${J++}`;A.write("const newResult = {};");for(const G of M.keys){const oe=V[G],ce=Z1(G),I=E[G]?._zod?.optout==="optional";A.write(`const ${oe} = ${O(G)};`),I?A.write(`
        if (${oe}.issues.length) {
          if (${ce} in input) {
            payload.issues = payload.issues.concat(${oe}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${ce}, ...iss.path] : [${ce}]
            })));
          }
        }
        
        if (${oe}.value === undefined) {
          if (${ce} in input) {
            newResult[${ce}] = undefined;
          }
        } else {
          newResult[${ce}] = ${oe}.value;
        }
        
      `):A.write(`
        if (${oe}.issues.length) {
          payload.issues = payload.issues.concat(${oe}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ce}, ...iss.path] : [${ce}]
          })));
        }
        
        if (${oe}.value === undefined) {
          if (${ce} in input) {
            newResult[${ce}] = undefined;
          }
        } else {
          newResult[${ce}] = ${oe}.value;
        }
        
      `)}A.write("payload.value = newResult;"),A.write("return payload;");const Q=A.compile();return(G,oe)=>Q(E,G,oe)};let o;const c=mm,d=!C2.jitless,g=d&&Oz.value,v=e.catchall;let b;t._zod.parse=(E,A)=>{b??(b=r.value);const M=E.value;return c(M)?d&&g&&A?.async===!1&&A.jitless!==!0?(o||(o=a(e.shape)),E=o(E,A),v?K2([],M,E,A,b,t):E):n(E,A):(E.issues.push({expected:"object",code:"invalid_type",input:M,inst:t}),E)}});function J1(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const a=t.filter(o=>!Al(o));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(c=>xo(c,r,bo())))}),e)}const xL=se("$ZodUnion",(t,e)=>{Dt.init(t,e),ot(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),ot(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),ot(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),ot(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>Ub(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(a,o)=>{if(n)return r(a,o);let c=!1;const d=[];for(const h of e.options){const g=h._zod.run({value:a.value,issues:[]},o);if(g instanceof Promise)d.push(g),c=!0;else{if(g.issues.length===0)return g;d.push(g)}}return c?Promise.all(d).then(h=>J1(h,a,t,o)):J1(d,a,t,o)}}),_L=se("$ZodIntersection",(t,e)=>{Dt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value,o=e.left._zod.run({value:a,issues:[]},r),c=e.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||c instanceof Promise?Promise.all([o,c]).then(([h,g])=>W1(n,h,g)):W1(n,o,c)}});function uv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(rd(t)&&rd(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),a={...t,...e};for(const o of r){const c=uv(t[o],e[o]);if(!c.valid)return{valid:!1,mergeErrorPath:[o,...c.mergeErrorPath]};a[o]=c.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const a=t[r],o=e[r],c=uv(a,o);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function W1(t,e,n){const r=new Map;let a;for(const d of e.issues)if(d.code==="unrecognized_keys"){a??(a=d);for(const h of d.keys)r.has(h)||r.set(h,{}),r.get(h).l=!0}else t.issues.push(d);for(const d of n.issues)if(d.code==="unrecognized_keys")for(const h of d.keys)r.has(h)||r.set(h,{}),r.get(h).r=!0;else t.issues.push(d);const o=[...r].filter(([,d])=>d.l&&d.r).map(([d])=>d);if(o.length&&a&&t.issues.push({...a,keys:o}),Al(t))return t;const c=uv(e.value,n.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return t.value=c.data,t}const wL=se("$ZodEnum",(t,e)=>{Dt.init(t,e);const n=D2(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(a=>Pz.has(typeof a)).map(a=>typeof a=="string"?Zl(a):a.toString()).join("|")})$`),t._zod.parse=(a,o)=>{const c=a.value;return r.has(c)||a.issues.push({code:"invalid_value",values:n,input:c,inst:t}),a}}),EL=se("$ZodLiteral",(t,e)=>{if(Dt.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?Zl(r):r?Zl(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,a)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),r}}),TL=se("$ZodTransform",(t,e)=>{Dt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new R2(t.constructor.name);const a=e.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(c=>(n.value=c,n));if(a instanceof Promise)throw new jl;return n.value=a,n}});function eT(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const Q2=se("$ZodOptional",(t,e)=>{Dt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",ot(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),ot(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ub(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>eT(o,n.value)):eT(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),SL=se("$ZodExactOptional",(t,e)=>{Q2.init(t,e),ot(t._zod,"values",()=>e.innerType._zod.values),ot(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),AL=se("$ZodNullable",(t,e)=>{Dt.init(t,e),ot(t._zod,"optin",()=>e.innerType._zod.optin),ot(t._zod,"optout",()=>e.innerType._zod.optout),ot(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Ub(n.source)}|null)$`):void 0}),ot(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),NL=se("$ZodDefault",(t,e)=>{Dt.init(t,e),t._zod.optin="optional",ot(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>tT(o,e)):tT(a,e)}});function tT(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const IL=se("$ZodPrefault",(t,e)=>{Dt.init(t,e),t._zod.optin="optional",ot(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),RL=se("$ZodNonOptional",(t,e)=>{Dt.init(t,e),ot(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>nT(o,t)):nT(a,t)}});function nT(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const CL=se("$ZodCatch",(t,e)=>{Dt.init(t,e),ot(t._zod,"optin",()=>e.innerType._zod.optin),ot(t._zod,"optout",()=>e.innerType._zod.optout),ot(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(c=>xo(c,r,bo()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(o=>xo(o,r,bo()))},input:n.value}),n.issues=[]),n)}}),DL=se("$ZodPipe",(t,e)=>{Dt.init(t,e),ot(t._zod,"values",()=>e.in._zod.values),ot(t._zod,"optin",()=>e.in._zod.optin),ot(t._zod,"optout",()=>e.out._zod.optout),ot(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(c=>ff(c,e.in,r)):ff(o,e.in,r)}const a=e.in._zod.run(n,r);return a instanceof Promise?a.then(o=>ff(o,e.out,r)):ff(a,e.out,r)}});function ff(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const jL=se("$ZodReadonly",(t,e)=>{Dt.init(t,e),ot(t._zod,"propValues",()=>e.innerType._zod.propValues),ot(t._zod,"values",()=>e.innerType._zod.values),ot(t._zod,"optin",()=>e.innerType?._zod?.optin),ot(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(rT):rT(a)}});function rT(t){return t.value=Object.freeze(t.value),t}const kL=se("$ZodCustom",(t,e)=>{Ln.init(t,e),Dt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,a=e.fn(r);if(a instanceof Promise)return a.then(o=>sT(o,n,r,t));sT(a,n,r,t)}});function sT(t,e,n,r){if(!t){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),e.issues.push(sd(a))}}var iT;class OL{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function PL(){return new OL}(iT=globalThis).__zod_globalRegistry??(iT.__zod_globalRegistry=PL());const Ru=globalThis.__zod_globalRegistry;function ML(t,e){return new t({type:"string",...Te(e)})}function VL(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Te(e)})}function aT(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Te(e)})}function zL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Te(e)})}function LL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Te(e)})}function UL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Te(e)})}function FL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Te(e)})}function BL(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Te(e)})}function qL(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Te(e)})}function $L(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Te(e)})}function HL(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Te(e)})}function GL(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Te(e)})}function KL(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Te(e)})}function QL(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Te(e)})}function ZL(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Te(e)})}function YL(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Te(e)})}function XL(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Te(e)})}function JL(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Te(e)})}function WL(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Te(e)})}function eU(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Te(e)})}function tU(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Te(e)})}function nU(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Te(e)})}function rU(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Te(e)})}function sU(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Te(e)})}function iU(t,e){return new t({type:"string",format:"date",check:"string_format",...Te(e)})}function aU(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Te(e)})}function oU(t,e){return new t({type:"string",format:"duration",check:"string_format",...Te(e)})}function lU(t,e){return new t({type:"number",checks:[],...Te(e)})}function cU(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Te(e)})}function uU(t){return new t({type:"unknown"})}function dU(t,e){return new t({type:"never",...Te(e)})}function hU(t,e){return new t({type:"date",...Te(e)})}function oT(t,e){return new B2({check:"less_than",...Te(e),value:t,inclusive:!1})}function Pf(t,e){return new B2({check:"less_than",...Te(e),value:t,inclusive:!0})}function lT(t,e){return new q2({check:"greater_than",...Te(e),value:t,inclusive:!1})}function Mf(t,e){return new q2({check:"greater_than",...Te(e),value:t,inclusive:!0})}function cT(t,e){return new I5({check:"multiple_of",...Te(e),value:t})}function Z2(t,e){return new C5({check:"max_length",...Te(e),maximum:t})}function gm(t,e){return new D5({check:"min_length",...Te(e),minimum:t})}function Y2(t,e){return new j5({check:"length_equals",...Te(e),length:t})}function fU(t,e){return new k5({check:"string_format",format:"regex",...Te(e),pattern:t})}function mU(t){return new O5({check:"string_format",format:"lowercase",...Te(t)})}function pU(t){return new P5({check:"string_format",format:"uppercase",...Te(t)})}function gU(t,e){return new M5({check:"string_format",format:"includes",...Te(e),includes:t})}function yU(t,e){return new V5({check:"string_format",format:"starts_with",...Te(e),prefix:t})}function vU(t,e){return new z5({check:"string_format",format:"ends_with",...Te(e),suffix:t})}function cc(t){return new L5({check:"overwrite",tx:t})}function bU(t){return cc(e=>e.normalize(t))}function xU(){return cc(t=>t.trim())}function _U(){return cc(t=>t.toLowerCase())}function wU(){return cc(t=>t.toUpperCase())}function EU(){return cc(t=>kz(t))}function TU(t,e,n){return new t({type:"array",element:e,...Te(n)})}function SU(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Te(n)})}function AU(t){const e=NU(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(sd(r,n.value,e._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(sd(a))}},t(n.value,n)));return e}function NU(t,e){const n=new Ln({check:"custom",...Te(e)});return n._zod.check=t,n}function X2(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Ru,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function gn(t,e,n={path:[],schemaPath:[]}){var r;const a=t._zod.def,o=e.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,c);const d=t._zod.toJSONSchema?.();if(d)c.schema=d;else{const v={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,c.schema,v);else{const E=c.schema,A=e.processors[a.type];if(!A)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);A(t,e,E,v)}const b=t._zod.parent;b&&(c.ref||(c.ref=b),gn(b,e,v),e.seen.get(b).isParent=!0)}const h=e.metadataRegistry.get(t);return h&&Object.assign(c.schema,h),e.io==="input"&&Sn(t)&&(delete c.schema.examples,delete c.schema.default),e.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,e.seen.get(t).schema}function J2(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const c of t.seen.entries()){const d=t.metadataRegistry.get(c[0])?.id;if(d){const h=r.get(d);if(h&&h!==c[0])throw new Error(`Duplicate schema id "${d}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(d,c[0])}}const a=c=>{const d=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const b=t.external.registry.get(c[0])?.id,E=t.external.uri??(M=>M);if(b)return{ref:E(b)};const A=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=A,{defId:A,ref:`${E("__shared")}#/${d}/${A}`}}if(c[1]===n)return{ref:"#"};const g=`#/${d}/`,v=c[1].schema.id??`__schema${t.counter++}`;return{defId:v,ref:g+v}},o=c=>{if(c[1].schema.$ref)return;const d=c[1],{ref:h,defId:g}=a(c);d.def={...d.schema},g&&(d.defId=g);const v=d.schema;for(const b in v)delete v[b];v.$ref=h};if(t.cycles==="throw")for(const c of t.seen.entries()){const d=c[1];if(d.cycle)throw new Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const d=c[1];if(e===c[0]){o(c);continue}if(t.external){const g=t.external.registry.get(c[0])?.id;if(e!==c[0]&&g){o(c);continue}}if(t.metadataRegistry.get(c[0])?.id){o(c);continue}if(d.cycle){o(c);continue}if(d.count>1&&t.reused==="ref"){o(c);continue}}}function W2(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=c=>{const d=t.seen.get(c);if(d.ref===null)return;const h=d.def??d.schema,g={...h},v=d.ref;if(d.ref=null,v){r(v);const E=t.seen.get(v),A=E.schema;if(A.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(h.allOf=h.allOf??[],h.allOf.push(A)):Object.assign(h,A),Object.assign(h,g),c._zod.parent===v)for(const O in h)O==="$ref"||O==="allOf"||O in g||delete h[O];if(A.$ref)for(const O in h)O==="$ref"||O==="allOf"||O in E.def&&JSON.stringify(h[O])===JSON.stringify(E.def[O])&&delete h[O]}const b=c._zod.parent;if(b&&b!==v){r(b);const E=t.seen.get(b);if(E?.schema.$ref&&(h.$ref=E.schema.$ref,E.def))for(const A in h)A==="$ref"||A==="allOf"||A in E.def&&JSON.stringify(h[A])===JSON.stringify(E.def[A])&&delete h[A]}t.override({zodSchema:c,jsonSchema:h,path:d.path??[]})};for(const c of[...t.seen.entries()].reverse())r(c[0]);const a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const c=t.external.registry.get(e)?.id;if(!c)throw new Error("Schema is missing an `id` property");a.$id=t.external.uri(c)}Object.assign(a,n.def??n.schema);const o=t.external?.defs??{};for(const c of t.seen.entries()){const d=c[1];d.def&&d.defId&&(o[d.defId]=d.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?a.$defs=o:a.definitions=o);try{const c=JSON.parse(JSON.stringify(a));return Object.defineProperty(c,"~standard",{value:{...e["~standard"],jsonSchema:{input:ym(e,"input",t.processors),output:ym(e,"output",t.processors)}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function Sn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Sn(r.element,n);if(r.type==="set")return Sn(r.valueType,n);if(r.type==="lazy")return Sn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Sn(r.innerType,n);if(r.type==="intersection")return Sn(r.left,n)||Sn(r.right,n);if(r.type==="record"||r.type==="map")return Sn(r.keyType,n)||Sn(r.valueType,n);if(r.type==="pipe")return Sn(r.in,n)||Sn(r.out,n);if(r.type==="object"){for(const a in r.shape)if(Sn(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(Sn(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(Sn(a,n))return!0;return!!(r.rest&&Sn(r.rest,n))}return!1}const IU=(t,e={})=>n=>{const r=X2({...n,processors:e});return gn(t,r),J2(r,t),W2(r,t)},ym=(t,e,n={})=>r=>{const{libraryOptions:a,target:o}=r??{},c=X2({...a??{},target:o,io:e,processors:n});return gn(t,c),J2(c,t),W2(c,t)},RU={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},CU=(t,e,n,r)=>{const a=n;a.type="string";const{minimum:o,maximum:c,format:d,patterns:h,contentEncoding:g}=t._zod.bag;if(typeof o=="number"&&(a.minLength=o),typeof c=="number"&&(a.maxLength=c),d&&(a.format=RU[d]??d,a.format===""&&delete a.format,d==="time"&&delete a.format),g&&(a.contentEncoding=g),h&&h.size>0){const v=[...h];v.length===1?a.pattern=v[0].source:v.length>1&&(a.allOf=[...v.map(b=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:b.source}))])}},DU=(t,e,n,r)=>{const a=n,{minimum:o,maximum:c,format:d,multipleOf:h,exclusiveMaximum:g,exclusiveMinimum:v}=t._zod.bag;typeof d=="string"&&d.includes("int")?a.type="integer":a.type="number",typeof v=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.minimum=v,a.exclusiveMinimum=!0):a.exclusiveMinimum=v),typeof o=="number"&&(a.minimum=o,typeof v=="number"&&e.target!=="draft-04"&&(v>=o?delete a.minimum:delete a.exclusiveMinimum)),typeof g=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.maximum=g,a.exclusiveMaximum=!0):a.exclusiveMaximum=g),typeof c=="number"&&(a.maximum=c,typeof g=="number"&&e.target!=="draft-04"&&(g<=c?delete a.maximum:delete a.exclusiveMaximum)),typeof h=="number"&&(a.multipleOf=h)},jU=(t,e,n,r)=>{n.not={}},kU=(t,e,n,r)=>{},OU=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},PU=(t,e,n,r)=>{const a=t._zod.def,o=D2(a.entries);o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),n.enum=o},MU=(t,e,n,r)=>{const a=t._zod.def,o=[];for(const c of a.values)if(c===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof c=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(c))}else o.push(c);if(o.length!==0)if(o.length===1){const c=o[0];n.type=c===null?"null":typeof c,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[c]:n.const=c}else o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),o.every(c=>typeof c=="boolean")&&(n.type="boolean"),o.every(c=>c===null)&&(n.type="null"),n.enum=o},VU=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},zU=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},LU=(t,e,n,r)=>{const a=n,o=t._zod.def,{minimum:c,maximum:d}=t._zod.bag;typeof c=="number"&&(a.minItems=c),typeof d=="number"&&(a.maxItems=d),a.type="array",a.items=gn(o.element,e,{...r,path:[...r.path,"items"]})},UU=(t,e,n,r)=>{const a=n,o=t._zod.def;a.type="object",a.properties={};const c=o.shape;for(const g in c)a.properties[g]=gn(c[g],e,{...r,path:[...r.path,"properties",g]});const d=new Set(Object.keys(c)),h=new Set([...d].filter(g=>{const v=o.shape[g]._zod;return e.io==="input"?v.optin===void 0:v.optout===void 0}));h.size>0&&(a.required=Array.from(h)),o.catchall?._zod.def.type==="never"?a.additionalProperties=!1:o.catchall?o.catchall&&(a.additionalProperties=gn(o.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(a.additionalProperties=!1)},FU=(t,e,n,r)=>{const a=t._zod.def,o=a.inclusive===!1,c=a.options.map((d,h)=>gn(d,e,{...r,path:[...r.path,o?"oneOf":"anyOf",h]}));o?n.oneOf=c:n.anyOf=c},BU=(t,e,n,r)=>{const a=t._zod.def,o=gn(a.left,e,{...r,path:[...r.path,"allOf",0]}),c=gn(a.right,e,{...r,path:[...r.path,"allOf",1]}),d=g=>"allOf"in g&&Object.keys(g).length===1,h=[...d(o)?o.allOf:[o],...d(c)?c.allOf:[c]];n.allOf=h},qU=(t,e,n,r)=>{const a=t._zod.def,o=gn(a.innerType,e,r),c=e.seen.get(t);e.target==="openapi-3.0"?(c.ref=a.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},$U=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},HU=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},GU=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},KU=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType;let c;try{c=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},QU=(t,e,n,r)=>{const a=t._zod.def,o=e.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;gn(o,e,r);const c=e.seen.get(t);c.ref=o},ZU=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.readOnly=!0},eI=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},YU=se("ZodISODateTime",(t,e)=>{W5.init(t,e),St.init(t,e)});function XU(t){return sU(YU,t)}const JU=se("ZodISODate",(t,e)=>{eL.init(t,e),St.init(t,e)});function WU(t){return iU(JU,t)}const e9=se("ZodISOTime",(t,e)=>{tL.init(t,e),St.init(t,e)});function t9(t){return aU(e9,t)}const n9=se("ZodISODuration",(t,e)=>{nL.init(t,e),St.init(t,e)});function r9(t){return oU(n9,t)}const s9=(t,e)=>{M2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>Gz(t,n)},flatten:{value:n=>Hz(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,cv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,cv,2)}},isEmpty:{get(){return t.issues.length===0}}})},_r=se("ZodError",s9,{Parent:Error}),i9=Bb(_r),a9=qb(_r),o9=Zm(_r),l9=Ym(_r),c9=Zz(_r),u9=Yz(_r),d9=Xz(_r),h9=Jz(_r),f9=Wz(_r),m9=e5(_r),p9=t5(_r),g9=n5(_r),jt=se("ZodType",(t,e)=>(Dt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:ym(t,"input"),output:ym(t,"output")}}),t.toJSONSchema=IU(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(aa(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>oa(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>i9(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>o9(t,n,r),t.parseAsync=async(n,r)=>a9(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>l9(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>c9(t,n,r),t.decode=(n,r)=>u9(t,n,r),t.encodeAsync=async(n,r)=>d9(t,n,r),t.decodeAsync=async(n,r)=>h9(t,n,r),t.safeEncode=(n,r)=>f9(t,n,r),t.safeDecode=(n,r)=>m9(t,n,r),t.safeEncodeAsync=async(n,r)=>p9(t,n,r),t.safeDecodeAsync=async(n,r)=>g9(t,n,r),t.refine=(n,r)=>t.check(u8(n,r)),t.superRefine=n=>t.check(d8(n)),t.overwrite=n=>t.check(cc(n)),t.optional=()=>fT(t),t.exactOptional=()=>X9(t),t.nullable=()=>mT(t),t.nullish=()=>fT(mT(t)),t.nonoptional=n=>r8(t,n),t.array=()=>Hb(t),t.or=n=>Gb([t,n]),t.and=n=>H9(t,n),t.transform=n=>pT(t,Z9(n)),t.default=n=>e8(t,n),t.prefault=n=>n8(t,n),t.catch=n=>i8(t,n),t.pipe=n=>pT(t,n),t.readonly=()=>l8(t),t.describe=n=>{const r=t.clone();return Ru.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Ru.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Ru.get(t);const r=t.clone();return Ru.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),tI=se("_ZodString",(t,e)=>{$b.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>CU(t,r,a);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(fU(...r)),t.includes=(...r)=>t.check(gU(...r)),t.startsWith=(...r)=>t.check(yU(...r)),t.endsWith=(...r)=>t.check(vU(...r)),t.min=(...r)=>t.check(gm(...r)),t.max=(...r)=>t.check(Z2(...r)),t.length=(...r)=>t.check(Y2(...r)),t.nonempty=(...r)=>t.check(gm(1,...r)),t.lowercase=r=>t.check(mU(r)),t.uppercase=r=>t.check(pU(r)),t.trim=()=>t.check(xU()),t.normalize=(...r)=>t.check(bU(...r)),t.toLowerCase=()=>t.check(_U()),t.toUpperCase=()=>t.check(wU()),t.slugify=()=>t.check(EU())}),y9=se("ZodString",(t,e)=>{$b.init(t,e),tI.init(t,e),t.email=n=>t.check(VL(v9,n)),t.url=n=>t.check(BL(b9,n)),t.jwt=n=>t.check(rU(O9,n)),t.emoji=n=>t.check(qL(x9,n)),t.guid=n=>t.check(aT(uT,n)),t.uuid=n=>t.check(zL(mf,n)),t.uuidv4=n=>t.check(LL(mf,n)),t.uuidv6=n=>t.check(UL(mf,n)),t.uuidv7=n=>t.check(FL(mf,n)),t.nanoid=n=>t.check($L(_9,n)),t.guid=n=>t.check(aT(uT,n)),t.cuid=n=>t.check(HL(w9,n)),t.cuid2=n=>t.check(GL(E9,n)),t.ulid=n=>t.check(KL(T9,n)),t.base64=n=>t.check(eU(D9,n)),t.base64url=n=>t.check(tU(j9,n)),t.xid=n=>t.check(QL(S9,n)),t.ksuid=n=>t.check(ZL(A9,n)),t.ipv4=n=>t.check(YL(N9,n)),t.ipv6=n=>t.check(XL(I9,n)),t.cidrv4=n=>t.check(JL(R9,n)),t.cidrv6=n=>t.check(WL(C9,n)),t.e164=n=>t.check(nU(k9,n)),t.datetime=n=>t.check(XU(n)),t.date=n=>t.check(WU(n)),t.time=n=>t.check(t9(n)),t.duration=n=>t.check(r9(n))});function In(t){return ML(y9,t)}const St=se("ZodStringFormat",(t,e)=>{wt.init(t,e),tI.init(t,e)}),v9=se("ZodEmail",(t,e)=>{$5.init(t,e),St.init(t,e)}),uT=se("ZodGUID",(t,e)=>{B5.init(t,e),St.init(t,e)}),mf=se("ZodUUID",(t,e)=>{q5.init(t,e),St.init(t,e)}),b9=se("ZodURL",(t,e)=>{H5.init(t,e),St.init(t,e)}),x9=se("ZodEmoji",(t,e)=>{G5.init(t,e),St.init(t,e)}),_9=se("ZodNanoID",(t,e)=>{K5.init(t,e),St.init(t,e)}),w9=se("ZodCUID",(t,e)=>{Q5.init(t,e),St.init(t,e)}),E9=se("ZodCUID2",(t,e)=>{Z5.init(t,e),St.init(t,e)}),T9=se("ZodULID",(t,e)=>{Y5.init(t,e),St.init(t,e)}),S9=se("ZodXID",(t,e)=>{X5.init(t,e),St.init(t,e)}),A9=se("ZodKSUID",(t,e)=>{J5.init(t,e),St.init(t,e)}),N9=se("ZodIPv4",(t,e)=>{rL.init(t,e),St.init(t,e)}),I9=se("ZodIPv6",(t,e)=>{sL.init(t,e),St.init(t,e)}),R9=se("ZodCIDRv4",(t,e)=>{iL.init(t,e),St.init(t,e)}),C9=se("ZodCIDRv6",(t,e)=>{aL.init(t,e),St.init(t,e)}),D9=se("ZodBase64",(t,e)=>{oL.init(t,e),St.init(t,e)}),j9=se("ZodBase64URL",(t,e)=>{cL.init(t,e),St.init(t,e)}),k9=se("ZodE164",(t,e)=>{uL.init(t,e),St.init(t,e)}),O9=se("ZodJWT",(t,e)=>{hL.init(t,e),St.init(t,e)}),nI=se("ZodNumber",(t,e)=>{H2.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>DU(t,r,a),t.gt=(r,a)=>t.check(lT(r,a)),t.gte=(r,a)=>t.check(Mf(r,a)),t.min=(r,a)=>t.check(Mf(r,a)),t.lt=(r,a)=>t.check(oT(r,a)),t.lte=(r,a)=>t.check(Pf(r,a)),t.max=(r,a)=>t.check(Pf(r,a)),t.int=r=>t.check(dT(r)),t.safe=r=>t.check(dT(r)),t.positive=r=>t.check(lT(0,r)),t.nonnegative=r=>t.check(Mf(0,r)),t.negative=r=>t.check(oT(0,r)),t.nonpositive=r=>t.check(Pf(0,r)),t.multipleOf=(r,a)=>t.check(cT(r,a)),t.step=(r,a)=>t.check(cT(r,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function vm(t){return lU(nI,t)}const P9=se("ZodNumberFormat",(t,e)=>{fL.init(t,e),nI.init(t,e)});function dT(t){return cU(P9,t)}const M9=se("ZodUnknown",(t,e)=>{mL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>kU()});function hT(){return uU(M9)}const V9=se("ZodNever",(t,e)=>{pL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>jU(t,n,r)});function z9(t){return dU(V9,t)}const L9=se("ZodDate",(t,e)=>{gL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>OU(t,r),t.min=(r,a)=>t.check(Mf(r,a)),t.max=(r,a)=>t.check(Pf(r,a));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function U9(t){return hU(L9,t)}const F9=se("ZodArray",(t,e)=>{yL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>LU(t,n,r,a),t.element=e.element,t.min=(n,r)=>t.check(gm(n,r)),t.nonempty=n=>t.check(gm(1,n)),t.max=(n,r)=>t.check(Z2(n,r)),t.length=(n,r)=>t.check(Y2(n,r)),t.unwrap=()=>t.element});function Hb(t,e){return TU(F9,t,e)}const B9=se("ZodObject",(t,e)=>{bL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>UU(t,n,r,a),ot(t,"shape",()=>e.shape),t.keyof=()=>G9(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:hT()}),t.loose=()=>t.clone({...t._zod.def,catchall:hT()}),t.strict=()=>t.clone({...t._zod.def,catchall:z9()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Uz(t,n),t.safeExtend=n=>Fz(t,n),t.merge=n=>Bz(t,n),t.pick=n=>zz(t,n),t.omit=n=>Lz(t,n),t.partial=(...n)=>qz(rI,t,n[0]),t.required=(...n)=>$z(sI,t,n[0])});function wd(t,e){const n={type:"object",shape:t??{},...Te(e)};return new B9(n)}const q9=se("ZodUnion",(t,e)=>{xL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>FU(t,n,r,a),t.options=e.options});function Gb(t,e){return new q9({type:"union",options:t,...Te(e)})}const $9=se("ZodIntersection",(t,e)=>{_L.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>BU(t,n,r,a)});function H9(t,e){return new $9({type:"intersection",left:t,right:e})}const dv=se("ZodEnum",(t,e)=>{wL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>PU(t,r,a),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,a)=>{const o={};for(const c of r)if(n.has(c))o[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new dv({...e,checks:[],...Te(a),entries:o})},t.exclude=(r,a)=>{const o={...e.entries};for(const c of r)if(n.has(c))delete o[c];else throw new Error(`Key ${c} not found in enum`);return new dv({...e,checks:[],...Te(a),entries:o})}});function G9(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new dv({type:"enum",entries:n,...Te(e)})}const K9=se("ZodLiteral",(t,e)=>{EL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>MU(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function hv(t,e){return new K9({type:"literal",values:Array.isArray(t)?t:[t],...Te(e)})}const Q9=se("ZodTransform",(t,e)=>{TL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>zU(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new R2(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(sd(o,n.value,e));else{const c=o;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(sd(c))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function Z9(t){return new Q9({type:"transform",transform:t})}const rI=se("ZodOptional",(t,e)=>{Q2.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>eI(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function fT(t){return new rI({type:"optional",innerType:t})}const Y9=se("ZodExactOptional",(t,e)=>{SL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>eI(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function X9(t){return new Y9({type:"optional",innerType:t})}const J9=se("ZodNullable",(t,e)=>{AL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>qU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function mT(t){return new J9({type:"nullable",innerType:t})}const W9=se("ZodDefault",(t,e)=>{NL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>HU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function e8(t,e){return new W9({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():k2(e)}})}const t8=se("ZodPrefault",(t,e)=>{IL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>GU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function n8(t,e){return new t8({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():k2(e)}})}const sI=se("ZodNonOptional",(t,e)=>{RL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>$U(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function r8(t,e){return new sI({type:"nonoptional",innerType:t,...Te(e)})}const s8=se("ZodCatch",(t,e)=>{CL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>KU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function i8(t,e){return new s8({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const a8=se("ZodPipe",(t,e)=>{DL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>QU(t,n,r,a),t.in=e.in,t.out=e.out});function pT(t,e){return new a8({type:"pipe",in:t,out:e})}const o8=se("ZodReadonly",(t,e)=>{jL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>ZU(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function l8(t){return new o8({type:"readonly",innerType:t})}const c8=se("ZodCustom",(t,e)=>{kL.init(t,e),jt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>VU(t,n)});function u8(t,e={}){return SU(c8,t,e)}function d8(t){return AU(t)}const h8=wd({id:In().optional(),name:In().min(1),dupr:vm().nonnegative().optional(),imageUrl:In().optional(),createdAt:In().optional()}),Kb=Gb([hv(1),hv(2)]),gT=wd({player1Id:In(),player2Id:In()}),f8=wd({id:In().optional(),team1:gT,team2:gT,team1Score:vm().nonnegative().optional(),team2Score:vm().nonnegative().optional(),courtId:In().optional(),roundNumber:Kb}),m8=wd({id:In().optional(),playerIds:Hb(In()).min(4).max(5),roundNumber:Kb,courtNumber:vm().positive()}),p8=Gb([Kb,hv("standings")]),g8=wd({id:In(),name:In(),startDateTime:U9(),location:In().optional(),link:In().optional(),ongoingStage:p8.optional(),standings:Hb(In()).optional()}),y8=t=>({EeI9ewBfoKpSajmerLDH:"John Doe",GqsPoUKXTw3kJMSJqwU0:"Jane Smith",RGq6NFnJfWIcvQqdifLt:"Alex Johnson",T28AtFw8KdQU23bXrGKh:"Rock Star",TMUWdVphOwXWWpBD0tg4:"Michael Lee",W3tjD6JMTZvL7h9DBekb:"Sarah Kim",bmIXpKlFhwhNuex6mG3a:"Chris Brown",cFbaelu4ZQhUiUovuSDq:"Hayden Patriquin",de634TOQoQt6DcvdllTE:"David Wilson",ev1yGMQ2TwdWVulSScR3:"Ashley Moore",lR41KMImIthFWUlTfvcq:"Brian Clark",ov1yJixQu0Y7GgSVGOS3:"Olivia Hall",s9CKyNz5sETtOI6s9gJb:"Matthew Young",sBaVpfAOMRsqcUiaVdXN:"Sophia King",sewQTUTqabMCEYb80N8L:"Daniel Wright",tgJHqe0ToCymKcHIthmM:"Megan Scott",v8BhDF0WAc6VgcOwc87B:"Ryan Adams",wekFMjCMfuI7MNNVYVnO:"Lauren Baker",zi6ygH5Iais5EPUVR0Ix:"Kevin Perez","55YtackrvsPralsAJY2V":"Natalie Roberts"})[t];function v8(t){if(t){if(typeof t?.toDate=="function")return t.toDate().toISOString();if(typeof t=="string")return t}}function b8(t){if(t){if(typeof t?.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);if(!isNaN(e.getTime()))return e}}}const x8={toFirestore(t){const{id:e,createdAt:n,...r}=t;return{...r,createdAt:n||QN()}},fromFirestore(t,e){const n=t.data(e),r=y8(t.id);r||console.log("No demo name for player id:",t.id);const a=r||n.name,o={id:t.id,name:a,dupr:n.dupr,imageUrl:n.imageUrl,createdAt:v8(n.createdAt)};return h8.parse(o)}},_8={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,...n};return f8.parse(r)}},w8={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),{playerIds:r,...a}=n,o={playerIds:Array.isArray(r)?r.map(String):[],...a,id:t.id};return m8.parse(o)}},E8={toFirestore(t){const{id:e,...n}=t,{startDateTime:r,...a}=n;return{...a,startDateTime:r||QN()}},fromFirestore(t,e){const n=t.data(e);let r=new Date;try{r=b8(n.startDateTime)||new Date}catch(o){console.log(o)}console.log("Parsed startDateTime:",r);const a={id:t.id,name:n.name,startDateTime:r,location:n.location,link:n.link,standings:Array.isArray(n.standings)?n.standings.map(String):void 0,label:n.label};return g8.parse(a)}};function iI(t,e,n){const r=[e];async function a(d){await t.cancelQueries({queryKey:[e,n]});const h=n?t.getQueryData([e,n]):null,g=t.getQueryData(r),v=d?.id??n,b=v?{...h,...d,id:v}:void 0;return b&&b.id&&(t.setQueryData([e,b.id],b),t.setQueryData(r,E=>{const A=E??[],M=A.findIndex(O=>O.id===b.id);if(M>=0){const O=[...A];return O[M]=b,O}return[b,...A]})),{previousItem:h,previousList:g}}function o(...d){const h=d[d.length-1];h?.previousItem&&n&&t.setQueryData([e,n],h.previousItem),h?.previousList?t.setQueryData(r,h.previousList):t.invalidateQueries({queryKey:r})}function c(...d){const h=d[0];if(typeof h=="string"&&h)t.invalidateQueries({queryKey:[e,h]});else if(h&&typeof h=="object"&&"id"in h){const g=h.id;g&&t.invalidateQueries({queryKey:[e,g]})}t.invalidateQueries({queryKey:r})}return{onMutate:a,onError:o,onSettled:c}}function aI(t,e,n){const r=Jl(),o=YT({queryKey:[t,n],queryFn:async()=>!n||!t?null:Nz(t,n,e),enabled:!!n,staleTime:1e3*60}),c=t?iI(r,t,n):void 0,d=wm({mutationFn:async h=>{if(!t)return h;if(h?.id)return await Iz(t,h.id,h,e),h;{const g=await I2(t,h,e);return{...h,id:g}}},onMutate:c?.onMutate,onError:c?.onError,onSettled:c?.onSettled});return{...o,upsert:d.mutateAsync,upsertState:{status:d.status,error:d.error??null}}}function oI(t,e){const n=YT({queryKey:[t],queryFn:async()=>t?(await Dz(t,{pageSize:1e3,converter:e})).docs:[],staleTime:6e4,enabled:!!t});return t?n:{...n,data:[],isLoading:!1,error:new Error("Missing collectionName")}}function lI(t,e){const n=Jl(),r=wm({mutationFn:async a=>await I2(t,a,e),onMutate:async a=>{await n.cancelQueries({queryKey:[t]});const o=n.getQueryData([t]),c=`__tmp__${Date.now()}`,d={...a,id:c};return n.setQueryData([t],h=>[d,...h??[]]),{previousList:o}},onError:(a,o,c)=>{c?.previousList?n.setQueryData([t],c.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:a=>{n.invalidateQueries({queryKey:[t]}),a&&n.invalidateQueries({queryKey:[t,a]})}});return{create:r.mutateAsync,status:r.status,error:r.error??null}}function cI(t,e){const n=Jl(),r=iI(n,t),a=wm({mutationFn:async o=>{const c=o.id;if(!c)throw new Error("id required for update");await Rz(t,c,o,e)},onMutate:r.onMutate,onError:r.onError,onSettled:r.onSettled});return{update:a.mutateAsync,status:a.status,error:a.error??null}}function uI(t){const e=Jl(),n=wm({mutationFn:async r=>{if(!r)throw new Error("id required for delete");await Cz(t,r)},onMutate:async r=>{if(!r)return{};await e.cancelQueries({queryKey:[t]});const a=e.getQueryData([t,r]),o=e.getQueryData([t]);return o&&e.setQueryData([t],o.filter(c=>c.id!==r)),e.setQueryData([t,r],null),{previous:a,previousList:o}},onError:(r,a,o)=>{const c=a;o?.previous&&c&&e.setQueryData([t,c],o.previous),o?.previousList?e.setQueryData([t],o.previousList):e.invalidateQueries({queryKey:[t]})},onSettled:(r,a,o)=>{o&&e.invalidateQueries({queryKey:[t,o]}),e.invalidateQueries({queryKey:[t]})}});return{remove:n.mutateAsync,status:n.status,error:n.error??null}}function dI(t,e,n){const r=!!t&&!!n,[a,o]=z.useState(null),[c,d]=z.useState(null);return z.useEffect(()=>{if(!r)return;const g=fb(ti,t),v=e?g.withConverter(e):g,b=oc(v,n),E=GN(b,A=>{A.exists()?o(A.data()):o(null)},A=>{d(A)});return()=>{E()}},[r,t,n,e]),{data:r?a:null,loading:r&&a===null&&c===null,error:r?c:null}}function hI(t,e){const[n,r]=z.useState(null),[a,o]=z.useState(!0),[c,d]=z.useState(null),[h,g]=z.useState(t);return z.useEffect(()=>{if(!t)return;const v=fb(ti,t),b=e?v.withConverter(e):v,E=GN(b,A=>{const M=A.docs.map(O=>O.data());r(M),o(!1)},A=>{d(A),o(!1)});return()=>{E()}},[t,e]),t?{data:n,loading:a,error:c}:{data:[],loading:!1,error:new Error("Missing collectionName")}}function fI(t,e){function n(g){return aI(t,e,g)}function r(){return oI(t,e)}function a(){return lI(t,e)}function o(){return cI(t,e)}function c(){return uI(t)}function d(g){return dI(t,e,g)}function h(){return hI(t,e)}return{useEntity:n,useEntities:r,useCreate:a,useUpdate:o,useDelete:c,useEntityRealtime:d,useEntitiesRealtime:h}}function T8(t,e){console.log("createNestedEntityHooks buildPath:",t);function n(...g){const v=t(...g),b=oI(v,e);return v?b:{...b,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function r(...g){const v=g.slice(0,-1),b=g[g.length-1],E=t(...v),A=aI(E,e,b);return E?A:{...A,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}function a(...g){const v=t(...g),b=lI(v,e);return v?b:{...b,create:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function o(...g){const v=g,b=t(...v);console.log("useUpdate fullName:",b,"ids:",v);const E=cI(b,e);return b?E:{...E,update:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function c(...g){const v=t(...g),b=uI(v);return v?b:{...b,remove:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function d(...g){const v=t(...g),b=hI(v,e);return v?b:{...b,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function h(...g){const v=g.slice(0,-1),b=g[g.length-1],E=t(...v),A=dI(E,e,b);return E?A:{...A,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}return{useEntities:n,useEntity:r,useCreate:a,useUpdate:o,useDelete:c,useEntitiesRealtime:d,useEntityRealtime:h}}const mI=(t,e,n)=>T8(r=>r?`${t}/${r}/${e}`:void 0,n),{useEntities:Ed,useCreate:S8,useEntitiesRealtime:A8}=fI("players",x8),{useEntity:pI,useEntities:la,useCreate:N8,useUpdate:gI,useEntityRealtime:I8}=fI("events",E8),{useCreate:R8,useDelete:C8,useEntitiesRealtime:yI}=mI("events","courts",w8),{useCreate:D8,useUpdate:j8,useDelete:k8,useEntitiesRealtime:vI}=mI("events","games",_8),bI=({imageUrl:t,name:e,size:n="md",className:r,border:a=!0})=>{const o={sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-xs",lg:"h-12 w-12 text-sm",xl:"h-16 w-16 text-base"},c={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-8 w-8"},d=on("rounded-full object-cover flex-shrink-0",o[n],a&&"border border-border",r);if(t){const h=t.startsWith("/")?`/${t.slice(1)}`:t;return m.jsx("img",{src:h,alt:e,className:d})}return m.jsx("div",{className:on(d,"bg-surface-highlight flex items-center justify-center"),children:e?m.jsx("span",{className:"font-bold text-text-muted",children:e.charAt(0)}):m.jsx(dk,{className:on("text-text-muted",c[n])})})},O8=()=>{const{data:t=[]}=la(),{data:e=[]}=Ed(),n=qs.useMemo(()=>{const d=new Map,h=new Map;(t||[]).filter(b=>Array.isArray(b.standings)&&b.standings.length>0).forEach(b=>{const E={id:b.id,date:b.startDateTime?b.startDateTime.toISOString():b.id,isCompleted:!0,standings:b.standings};(Sv(E)||[]).forEach(M=>{const O=M.playerId,V=M.pointsEarned||0;d.set(O,(d.get(O)||0)+V),h.set(O,(h.get(O)||0)+1)})});const v=Array.from(d.entries()).map(([b,E])=>({playerId:b,points:E}));return v.sort((b,E)=>E.points-b.points),v.slice(0,3).map((b,E)=>({playerId:b.playerId,points:b.points,events:h.get(b.playerId)||0,rank:E+1}))},[t]),r=(()=>{const d=(t||[]).filter(g=>g.startDateTime instanceof Date&&!isNaN(g.startDateTime.getTime()));if(d.length===0)return"Challenge Series";const h=Array.from(new Set(d.map(g=>g.startDateTime.getFullYear()))).sort();return h.length===1?`${h[0]} Challenge`:`${h[0]}${h[h.length-1]} Challenge`})(),a=qs.useMemo(()=>{if(!t||t.length===0)return null;const d=t.filter(b=>b.startDateTime instanceof Date&&!isNaN(b.startDateTime.getTime()));d.sort((b,E)=>b.startDateTime.getTime()-E.startDateTime.getTime());const g=new Date().getTime(),v=d.filter(b=>b.startDateTime.getTime()>=g);return v.length>0?v[0]:null},[t]),o=d=>d?d.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"",c=d=>d?d.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";return m.jsxs("div",{className:"space-y-16 pb-12",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-success/10 border border-success/20 mb-6",children:[m.jsxs("span",{className:"relative flex h-2 w-2",children:[m.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success opacity-75"}),m.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-success"})]}),m.jsxs("span",{className:"text-sm font-semibold text-success",children:[r," is Live"]})]}),m.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-text-main mb-6 tracking-tight leading-tight",children:["Paddle Up",m.jsx("br",{}),m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-text-accent",children:"Premier League"})]}),m.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto leading-relaxed",children:"Join our competitive pickleball league designed for advanced players looking to test their skills and climb the rankings each week."}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[m.jsxs(xt,{to:"/standings",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-all duration-300 shadow-lg shadow-primary/20 flex items-center gap-2 hover:scale-105",children:["View Standings ",m.jsx(yf,{className:"h-5 w-5"})]}),m.jsx(xt,{to:"/format",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-all duration-300 flex items-center gap-2",children:"League Format"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 bg-success/5 rounded-full blur-xl -z-10"})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(kl,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" League Overview"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Weekly competitive action with structured format and player advancement"})]}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Players"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-2xl font-black text-primary",children:"16"}),m.jsx("div",{className:"text-text-muted font-medium",children:"per night"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Schedule"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-2xl font-black text-success",children:"7-10 PM"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Every Sunday"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Prize Pool"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-2xl font-black text-warning",children:"100"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Level"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-2xl font-black text-text-accent",children:"3.5+ DUPR"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Required"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-warning/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-warning/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(Yn,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Season Rewards"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Top performers this season earn Joola gear and Paddle Up club points as rewards for their competitive excellence"})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/20 via-warning/10 to-warning/5 border-2 border-warning/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:m.jsx("span",{className:"text-2xl font-black text-white",children:"1st"})}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Champion"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-lg font-bold text-warning",children:"Joola Hat"}),m.jsx("div",{className:"text-2xl font-black text-warning",children:"25"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),m.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/20 via-text-accent/10 to-text-accent/5 border-2 border-text-accent/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:m.jsx("span",{className:"text-2xl font-black text-white",children:"2nd"})}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Runner-up"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-lg font-bold text-text-accent",children:"Joola Water Bottle"}),m.jsx("div",{className:"text-2xl font-black text-text-accent",children:"15"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),m.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-bronze/20 via-bronze/10 to-bronze/5 border-2 border-bronze/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-bronze to-bronze/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:m.jsx("span",{className:"text-2xl font-black text-white",children:"3rd"})}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Third Place"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-lg font-bold text-bronze",children:"Joola Wristbands"}),m.jsx("div",{className:"text-2xl font-black text-bronze",children:"10"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),m.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-success/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-success/20 shadow-2xl h-full",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:m.jsx(Yn,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:" Current Leaders"}),m.jsx("div",{className:"flex items-center justify-center gap-2",children:m.jsxs(xt,{to:"/standings",className:"text-success hover:text-success font-semibold text-sm flex items-center gap-1",children:["Full Standings ",m.jsx(yf,{className:"h-4 w-4"})]})})]}),m.jsx("div",{className:"space-y-4",children:n.map((d,h)=>{const g=e.find(v=>v.id===d.playerId)||{name:"Unknown",imageUrl:""};return m.jsxs(xt,{to:`/player/${d.playerId}`,className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-4 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] block",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:h+1})}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(bI,{imageUrl:g.imageUrl,name:g.name,size:"md",className:"group-hover:ring-2 ring-success transition-all"}),m.jsx("span",{className:"font-bold text-text-main group-hover:text-success transition-colors",children:g.name})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("span",{className:"block font-bold text-success",children:[d.points," pts"]}),m.jsxs("span",{className:"text-xs text-text-muted",children:[d.events," Events"]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]},d.playerId)})}),m.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-warning/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl h-full",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:m.jsx(io,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:" Next Match Night"})]}),a?m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Date"}),m.jsx("div",{className:"text-lg font-bold text-text-main",children:o(a.startDateTime)})]})]})}),m.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Time"}),m.jsx("div",{className:"text-lg font-bold text-text-main",children:c(a.startDateTime)})]})]})}),m.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Location"}),m.jsx("div",{className:"text-lg font-bold text-text-main",children:a.location})]})]})}),m.jsx("div",{className:"pt-4",children:m.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-primary text-white px-6 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center justify-center gap-2",children:["Register on CourtReserve",m.jsx(Cu,{className:"h-5 w-5"})]})})]}):m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"text-center p-8",children:[m.jsx("div",{className:"text-6xl mb-4 opacity-50",children:""}),m.jsx("p",{className:"text-text-muted mb-6",children:"No upcoming match nights are listed. Check the full schedule for details."}),m.jsx(xt,{to:"/schedule",className:"inline-flex items-center justify-center px-6 py-3 bg-primary text-white rounded-xl font-bold transition-colors hover:bg-primary-hover",children:"View Schedule"})]})}),m.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-text-accent/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-text-accent/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-text-accent to-text-accent/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(Bu,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Ready to Compete?"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:"We are always looking for competitive players to join the roster. Check out the format and rules to see if you qualify for our premier league."}),m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[m.jsxs(xt,{to:"/format",className:"bg-text-accent text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent/80 transition-colors shadow-lg shadow-text-accent/20 flex items-center gap-2",children:["View League Format ",m.jsx(yf,{className:"h-5 w-5"})]}),m.jsx(xt,{to:"/standings",className:"bg-surface border-2 border-text-accent text-text-accent px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent hover:text-white transition-colors",children:"Current Standings"})]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})})]})},xI=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"unknown":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`},P8=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Unknown Date":e.toLocaleDateString(void 0,{month:"short",year:"numeric"})},_I=t=>{const e=new Map;return t.forEach(n=>{if(n instanceof Date&&!isNaN(n.getTime())){const r=xI(n);e.has(r)||e.set(r,n)}}),Array.from(e.entries()).sort((n,r)=>r[1].getTime()-n[1].getTime()).map(([n,r])=>({key:n,label:P8(r)}))},wI=(t="all")=>{const{data:e=[]}=Ed(),{data:n=[]}=la();return z.useMemo(()=>{const r=n.filter(d=>Array.isArray(d.standings)&&d.standings.length>0?t==="all"?!0:xI(d.startDateTime)===t:!1),a=oO(r),o=Array.from(a.entries()).map(([d,h])=>({playerId:d,points:h.points,eventsPlayed:h.events,champWins:h.champWins}));return o.sort((d,h)=>h.points-d.points),sO(o,d=>d.points).map(d=>{const h=e.find(g=>g.id===d.playerId);return{...d,name:h?.name||"Unknown",imageUrl:h?.imageUrl||"",dupr:h?.dupr,id:d.playerId}})},[n,e,t])},Rt=qs.forwardRef(({children:t,className:e,variant:n="default",hover:r=!1,padding:a="md",theme:o="primary",...c},d)=>{const h="rounded-xl border transition-all duration-300",g={sm:"p-4",md:"p-6",lg:"p-8",xl:"p-12"},v={primary:{bg:"from-primary/10 to-primary/5",border:"border-primary/20"},success:{bg:"from-success/10 to-success/5",border:"border-success/20"},warning:{bg:"from-warning/10 to-warning/5",border:"border-warning/20"},error:{bg:"from-error/10 to-error/5",border:"border-error/20"},"text-accent":{bg:"from-text-accent/10 to-text-accent/5",border:"border-text-accent/20"},bronze:{bg:"from-bronze/10 to-bronze/5",border:"border-bronze/20"}},b={default:"bg-surface border-border shadow-sm",premium:`bg-gradient-to-br from-surface via-surface-alt to-surface border-border shadow-2xl ${r?"hover:shadow-3xl hover:scale-[1.02] hover:border-primary/50":""}`,gradient:`bg-gradient-to-br ${v[o].bg} ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`,outlined:"bg-transparent border-border hover:border-primary/50",flat:"bg-surface-alt border-transparent shadow-none",stat:`bg-gradient-to-br ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-105":""}`,info:`bg-gradient-to-r ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`},E=r?"cursor-pointer group":"";return m.jsx("div",{ref:d,className:on(h,b[n]??b.default,g[a],E,e),...c,children:t})});Rt.displayName="Card";const M8=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}},EI=({rank:t,className:e,size:n="md"})=>{const r={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},a=o=>o===1?"bg-warning/20 text-warning":o===2?"bg-surface-alt text-text-muted":o===3?"bg-bronze/20 text-bronze":"text-text-muted";return m.jsx("span",{className:on("flex items-center justify-center rounded-full font-bold",r[n],a(t),e),children:M8(t)})},V8=({data:t,players:e,showEvents:n=!0,showPoints:r=!0,className:a})=>m.jsx(Rt,{className:on("p-0 overflow-hidden",a),children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-border",children:[m.jsx("thead",{className:"bg-surface-highlight",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider pl-6",children:"Rank"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Player"}),r&&m.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Points"}),n&&m.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Events"})]})}),m.jsx("tbody",{className:"bg-surface divide-y divide-border",children:t.map(o=>{const c=e?.find(d=>d.id===o.playerId)||{name:"Unknown",imageUrl:""};return m.jsxs("tr",{className:on("hover:bg-surface-highlight transition-colors",(o.rank||0)<=4?"bg-primary-light/10":""),children:[m.jsx("td",{className:"px-4 pl-6 py-4 whitespace-nowrap",children:m.jsx(EI,{rank:o.rank??0})}),m.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:m.jsxs(xt,{to:`/player/${o.playerId}`,className:"flex items-center group",children:[m.jsx(bI,{imageUrl:c.imageUrl,name:c.name,className:"mr-3 group-hover:ring-2 ring-primary transition-all"}),m.jsx("div",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:c.name}),o.rank===1&&m.jsx(Yn,{className:"ml-2 h-4 w-4 text-warning"})]})}),r&&m.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-bold text-text-main",children:o.points??0})}),n&&m.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-text-muted",children:o.eventsPlayed??0})]},o.playerId)})})]})})}),z8=()=>{const[t,e]=z.useState("all"),{data:n=[]}=Ed(),{data:r=[]}=la(),a=z.useMemo(()=>_I(r.map(d=>d.startDateTime)),[r]),o=wI(t),c=o.slice(0,3);return m.jsxs("div",{className:"space-y-16 pb-12",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-warning/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-warning/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(Yn,{className:"h-10 w-10 text-white"})}),m.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Challenge Leaderboard"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Leaderboard derived from Challenge events - track your progress month by month or all time"})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),c.length>0&&m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(JT,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Current Champions"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:t==="all"?"All-time leaders":`${a.find(d=>d.key===t)?.label||"Monthly"} champions`})]}),m.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto mb-8",children:c.map((d,h)=>{const g=n.find(E=>E.id===d.playerId),b=[{bg:"from-warning/20 via-warning/10 to-warning/5",border:"border-warning/30",text:"text-warning",emoji:""},{bg:"from-text-accent/20 via-text-accent/10 to-text-accent/5",border:"border-text-accent/30",text:"text-text-accent",emoji:""},{bg:"from-bronze/20 via-bronze/10 to-bronze/5",border:"border-bronze/30",text:"text-bronze",emoji:""}][h];return m.jsxs("div",{className:`group relative overflow-hidden rounded-2xl bg-gradient-to-r ${b.bg} border-2 ${b.border} p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]`,children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${b.text==="text-warning"?"from-warning to-warning/80":b.text==="text-text-accent"?"from-text-accent to-text-accent/80":"from-bronze to-bronze/80"} rounded-full flex items-center justify-center shadow-lg mx-auto mb-4`,children:m.jsx("span",{className:"text-2xl font-black text-white",children:h+1})}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-2",children:g?.name||"Unknown Player"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:`text-3xl font-black ${b.text}`,children:d.points}),m.jsx("div",{className:"text-text-muted font-medium",children:"Points"}),m.jsxs("div",{className:"text-sm text-text-muted",children:[d.eventsPlayed," Events"]})]})]}),m.jsx("div",{className:"text-4xl opacity-50 absolute top-6 right-6",children:b.emoji})]},d.playerId)})}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(Bu,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Full Rankings"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:"Complete standings with detailed statistics for all players"}),m.jsxs("div",{className:"inline-flex items-center gap-4 p-2 bg-surface-alt rounded-2xl border border-border shadow-lg",children:[m.jsx("span",{className:"text-sm font-semibold text-text-muted px-3",children:"View:"}),m.jsxs("select",{value:t,onChange:d=>e(d.target.value==="all"?"all":d.target.value),className:"appearance-none bg-primary text-white text-sm font-bold rounded-xl px-4 py-2 border-0 focus:outline-none focus:ring-2 focus:ring-primary/50",children:[m.jsx("option",{value:"all",children:"All Time"}),a.map(d=>m.jsx("option",{value:d.key,children:d.label},d.key))]})]})]}),m.jsx("div",{className:"max-w-6xl mx-auto",children:m.jsx("div",{className:"bg-gradient-to-r from-surface-alt/50 to-surface/50 rounded-2xl border border-border shadow-lg overflow-hidden",children:m.jsx(V8,{data:o,players:n})})}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})})]})},L8=()=>(z.useEffect(()=>{document.title="Pickleball League  Season 1 (Competitive)"},[]),m.jsxs("div",{className:"space-y-16 pb-12",children:[m.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-surface-alt via-surface to-surface-alt border border-border shadow-lg",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-text-muted/5 to-primary/5"}),m.jsx("div",{className:"relative px-6 py-8 md:px-12 md:py-10",children:m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 md:gap-8",children:[m.jsx("div",{className:"flex-shrink-0 text-center md:text-left",children:m.jsx("div",{className:"text-4xl md:text-5xl mb-2",children:""})}),m.jsxs("div",{className:"flex-grow text-center md:text-left",children:[m.jsx("h1",{className:"text-2xl md:text-4xl font-black text-text-main mb-2 leading-tight",children:"Paddle Up Premier League"}),m.jsx("div",{className:"text-lg md:text-xl font-bold text-text-accent mb-3",children:"Season 1 (Competitive)"}),m.jsx("p",{className:"text-text-muted text-sm md:text-base leading-relaxed max-w-2xl",children:"First competitive season  DUPR 3.5+  Two structured rounds  Monthly & seasonal rankings"})]}),m.jsxs("div",{className:"flex-shrink-0 flex flex-col sm:flex-row gap-3",children:[m.jsx(xt,{to:"/schedule",className:"bg-primary text-white px-6 py-3 rounded-xl font-semibold text-sm hover:bg-primary-hover transition-colors shadow-md",children:"Register Tonight"}),m.jsxs("a",{href:"https://paddleup.github.io",className:"bg-surface-highlight border border-border text-text-main px-6 py-3 rounded-xl font-semibold text-sm hover:bg-surface-alt transition-colors flex items-center gap-2",children:["View Standings",m.jsx(Cu,{className:"h-4 w-4"})]})]})]})})}),m.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-text-accent/5 rounded-full blur-lg -z-10"})]}),m.jsx("div",{className:"max-w-2xl mx-auto",children:m.jsxs("div",{className:"bg-gradient-to-r from-surface to-surface-alt rounded-2xl p-6 border border-border shadow-lg",children:[m.jsxs("div",{className:"flex items-center justify-center gap-3 text-text-main mb-3",children:[m.jsx(Cu,{className:"h-6 w-6 text-primary"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-xl font-bold",children:"Live Leaderboard & Results"}),m.jsx("span",{className:"text-xs font-semibold text-success bg-success/10 px-2 py-1 rounded-full border border-success/20 animate-pulse",children:"LIVE"})]})]}),m.jsxs("p",{className:"text-text-muted text-center",children:["Track your points, season standings, and all-time rankings in real-time at"," ",m.jsx("a",{href:"https://paddleup.github.io/#/standings",className:"text-primary hover:text-primary-hover font-semibold underline decoration-primary/30 hover:decoration-primary transition-colors",children:"paddleup.github.io"})]})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-warning/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-warning/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(Yn,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Season 1 Championship"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Compete for exclusive prizes and eternal glory in our inaugural competitive season"})]}),m.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[m.jsx("div",{className:"text-center lg:text-left",children:m.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-2xl p-8 border border-primary/20 shadow-lg",children:[m.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[m.jsx(Uf,{className:"h-8 w-8 text-primary"}),m.jsx("h3",{className:"text-2xl font-bold text-text-main",children:"Season Duration"})]}),m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"text-center lg:text-left",children:[m.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"4"}),m.jsx("div",{className:"text-xl font-semibold text-text-main",children:"Weeks of Competition"}),m.jsx("div",{className:"text-text-muted mt-2",children:"Every Sunday  7PM-10PM"})]})})]})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-6 text-center lg:text-left",children:"Championship Rewards"}),m.jsx("p",{className:"text-text-muted mb-6 text-center lg:text-left",children:"Top 3 finishers earn exclusive Joola gear and club points:"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/20 via-warning/10 to-warning/5 border-2 border-warning/30 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-2xl font-black text-white",children:"1st"})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-lg font-bold text-text-main mb-1",children:"Champion"}),m.jsxs("div",{className:"text-text-muted",children:[m.jsx("span",{className:"font-semibold text-warning",children:"Joola Hat"})," +",m.jsx("span",{className:"font-semibold text-primary ml-1",children:"25 Club Points"})]})]}),m.jsx("div",{className:"text-3xl opacity-50",children:""})]})}),m.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/20 via-text-accent/10 to-text-accent/5 border-2 border-text-accent/30 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-2xl font-black text-white",children:"2nd"})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-lg font-bold text-text-main mb-1",children:"Runner-up"}),m.jsxs("div",{className:"text-text-muted",children:[m.jsx("span",{className:"font-semibold text-text-accent",children:"Joola Water Bottle"})," +",m.jsx("span",{className:"font-semibold text-primary ml-1",children:"15 Club Points"})]})]}),m.jsx("div",{className:"text-3xl opacity-50",children:""})]})}),m.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-bronze/20 via-bronze/10 to-bronze/5 border-2 border-bronze/30 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-bronze to-bronze/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-2xl font-black text-white",children:"3rd"})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-lg font-bold text-text-main mb-1",children:"Third Place"}),m.jsxs("div",{className:"text-text-muted",children:[m.jsx("span",{className:"font-semibold text-bronze",children:"Joola Wristbands"})," +",m.jsx("span",{className:"font-semibold text-primary ml-1",children:"10 Club Points"})]})]}),m.jsx("div",{className:"text-3xl opacity-50",children:""})]})})]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(Uf,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Nightly Experience"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Every Sunday brings competitive action with structured rounds and exciting gameplay"})]}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Schedule"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-2xl font-black text-primary",children:"7PM  10PM"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Every Sunday"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Entry Fee"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-2xl font-black text-success",children:"$20"}),m.jsx("div",{className:"text-text-muted font-medium",children:"per night"}),m.jsx("div",{className:"text-sm text-success font-semibold bg-success/10 rounded-full px-3 py-1",children:"Free for Annual Members"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Eligibility"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-2xl font-black text-warning",children:"DUPR 3.5+"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Required Rating"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Format"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-2xl font-black text-text-accent",children:"2 Rounds"}),m.jsx("div",{className:"text-text-muted font-medium",children:"per night"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(sk,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Game Format"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Structured gameplay with rotating partnerships and dynamic scoring systems"})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-5xl mb-6",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Players per Court"}),m.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"45"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Players"})]}),m.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-5xl mb-6",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Partnership"}),m.jsxs("div",{className:"text-text-muted font-medium leading-relaxed",children:["Every player partners ",m.jsx("strong",{className:"text-warning",children:"once per round"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-warning/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-5xl mb-6",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Scoring"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[m.jsx("div",{className:"font-bold text-text-main text-lg",children:"4-Player Courts"}),m.jsx("div",{className:"text-text-muted font-medium",children:"3 games  15 pts  win by 1"})]}),m.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[m.jsx("div",{className:"font-bold text-text-main text-lg",children:"5-Player Courts"}),m.jsx("div",{className:"text-text-muted font-medium",children:"4 games  11 pts  win by 1"})]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-text-accent/5 rounded-full blur-xl"})]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-success/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:m.jsx(kl,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Round 1: Initial Seeding"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0 mt-1",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),m.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Courts assigned via ",m.jsx("strong",{className:"text-primary",children:"snake draft"})," ","(back-and-forth order)"]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0 mt-1",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Seeding Basis"}),m.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Seeding based on"," ",m.jsx("strong",{className:"text-success",children:"previous weeks' performance"})," (or random for the first week)"]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-warning/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-warning/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:m.jsx($w,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Round 2"}),m.jsx("p",{className:"text-lg text-text-muted font-medium",children:"Ranked Courts"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0 mt-1",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Placement"}),m.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Players ranked by"," ",m.jsx("strong",{className:"text-warning",children:"Round 1 performance"})]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0 mt-1",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),m.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Top finishers placed on ",m.jsx("strong",{className:"text-text-accent",children:"Court 1"}),", next group on ",m.jsx("strong",{className:"text-text-accent",children:"Court 2"}),", etc."]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),m.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-warning/10 rounded-2xl p-8 border border-primary/30",children:[m.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[m.jsx(Yn,{className:"h-8 w-8 text-warning"}),"Points & Prizes"]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Top Finisher Points"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between p-3 bg-warning/20 rounded-lg border border-warning/50",children:[m.jsx("span",{className:"font-bold text-warning",children:"1st Place"}),m.jsx("span",{className:"font-bold text-text-main",children:"1000 points"})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[m.jsx("span",{className:"font-bold text-text-accent",children:"2nd Place"}),m.jsx("span",{className:"font-bold text-text-main",children:"800 points"})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-bronze/20 rounded-lg border border-bronze/50",children:[m.jsx("span",{className:"font-bold text-bronze",children:"3rd Place"}),m.jsx("span",{className:"font-bold text-text-main",children:"600 points"})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[m.jsx("span",{className:"font-bold text-text-main",children:"4th Place"}),m.jsx("span",{className:"font-bold text-text-main",children:"500 points"})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Point System"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"p-4 bg-surface rounded-lg border border-border",children:m.jsxs("p",{className:"text-text-muted",children:[m.jsx("strong",{children:"All finishing positions earn points"}),", with points dropping by half every three ranks (approximate)"]})}),m.jsx("div",{className:"p-4 bg-primary-light rounded-lg border border-primary/50",children:m.jsxs("p",{className:"text-text-main",children:["Points from every game count toward"," ",m.jsx("strong",{children:"monthly and cumulative rankings"})]})})]})]})]})]}),m.jsxs("div",{className:"bg-surface rounded-2xl p-8 border border-border",children:[m.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[m.jsx($w,{className:"h-8 w-8 text-success"})," Key Takeaways"]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"text-success text-lg",children:""}),m.jsxs("p",{className:"text-text-muted",children:["Structured, competitive league for ",m.jsx("strong",{children:"DUPR 3.5+ players"})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"text-success text-lg",children:""}),m.jsxs("p",{className:"text-text-muted",children:["Sunday evenings, ",m.jsx("strong",{children:"7PM10PM"})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"text-success text-lg",children:""}),m.jsxs("p",{className:"text-text-muted",children:[m.jsx("strong",{children:"Two rounds each night"}),", with partner rotation"]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"text-success text-lg",children:""}),m.jsxs("p",{className:"text-text-muted",children:["Points determine"," ",m.jsx("strong",{children:"court placement, monthly standings, and season/all-time rankings"})]})]})]})]})]}),m.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[m.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Ready to Compete?"}),m.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"Check your standings online and track points for this season and all-time rankings for every player."}),m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[m.jsxs("a",{href:"https://paddleup.github.io",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[" Check Your Standings",m.jsx(Cu,{className:"h-5 w-5"})]}),m.jsx(xt,{to:"/schedule",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-colors",children:"Register for Tonight"})]})]})]})),U8=()=>{const{data:t=[]}=la(),[e,n]=z.useState("all"),r=wI(e),a=z.useMemo(()=>_I(t.map(g=>g.startDateTime)),[t]),o=r.length,c=r.filter(g=>g.eventsPlayed>0).length,d=Math.max(...r.map(g=>g.eventsPlayed),0),h=r[0];return m.jsxs("div",{className:"space-y-16 pb-12",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(kl,{className:"h-10 w-10 text-white"})}),m.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Players"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Meet the competitive athletes who make our league exceptional"})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-success/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-warning/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(Bu,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" League Stats"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:e==="all"?"All-time statistics":`${a.find(g=>g.key===e)?.label||"Monthly"} performance overview`}),m.jsxs("div",{className:"inline-flex items-center gap-4 p-2 bg-surface-alt rounded-2xl border border-border shadow-lg",children:[m.jsx("span",{className:"text-sm font-semibold text-text-muted px-3",children:"View:"}),m.jsxs("select",{value:e,onChange:g=>n(g.target.value==="all"?"all":g.target.value),className:"appearance-none bg-primary text-white text-sm font-bold rounded-xl px-4 py-2 border-0 focus:outline-none focus:ring-2 focus:ring-primary/50",children:[m.jsx("option",{value:"all",children:"All Time"}),a.map(g=>m.jsx("option",{value:g.key,children:g.label},g.key))]})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Total Players"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-2xl font-black text-primary",children:o}),m.jsx("div",{className:"text-text-muted font-medium",children:"Registered"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Active Players"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-2xl font-black text-success",children:c}),m.jsx("div",{className:"text-text-muted font-medium",children:"With Events"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Most Events"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-2xl font-black text-warning",children:d}),m.jsx("div",{className:"text-text-muted font-medium",children:"Per Player"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl mb-4",children:""}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Current Leader"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-lg font-black text-text-accent truncate",children:h?.name||"N/A"}),m.jsxs("div",{className:"text-text-muted font-medium",children:[h?.points||0," pts"]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-text-accent/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-text-accent/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-text-accent to-text-accent/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(JT,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Player Roster"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Click on any player to view their detailed stats and match history"})]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:r.map(g=>m.jsx(xt,{to:`/player/${g.id}`,className:"block group",children:m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-surface-alt/80 to-surface border-2 border-border p-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] hover:border-primary/50 flex flex-col h-full",children:[m.jsxs("div",{className:"aspect-square w-full relative bg-surface-highlight overflow-hidden rounded-t-2xl",children:[g.imageUrl?m.jsx("img",{src:g.imageUrl.startsWith("/")?`/${g.imageUrl.slice(1)}`:g.imageUrl,alt:g.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-surface-highlight to-surface",children:m.jsx("span",{className:"text-4xl font-bold text-text-muted opacity-30",children:g.name?.charAt(0)})}),m.jsx("div",{className:"absolute top-3 left-3",children:m.jsxs("div",{className:"bg-primary/90 backdrop-blur-sm border border-primary/50 px-3 py-1 rounded-full text-sm font-bold text-white shadow-lg",children:["#",g.rank??0]})}),m.jsx("div",{className:"absolute top-3 right-3",children:m.jsxs("div",{className:"bg-success/90 backdrop-blur-md border border-success/50 px-3 py-1 rounded-full text-sm font-bold text-white shadow-lg",children:[g.points," pts"]})})]}),m.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[m.jsx("h2",{className:"text-lg font-bold text-text-main mb-1 group-hover:text-primary transition-colors text-center truncate",children:g.name}),m.jsxs("p",{className:"text-xs text-text-muted text-center mb-3",children:["DUPR ",g.dupr??"N/A"]}),m.jsxs("div",{className:"mt-auto grid grid-cols-3 gap-2 pt-3 border-t border-border text-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Events"}),m.jsx("p",{className:"font-bold text-sm text-text-main",children:g.eventsPlayed})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Champ Ct"}),m.jsxs("div",{className:"flex items-center justify-center gap-1",children:[m.jsx(Ry,{className:"h-3 w-3 text-success"}),m.jsx("p",{className:"font-bold text-sm text-text-main",children:g.champWins})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Rank"}),m.jsx("p",{className:"font-bold text-sm text-text-main",children:g.rank??"-"})]})]})]}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl"})]})},g.id))}),r.length===0&&m.jsxs("div",{className:"text-center p-12",children:[m.jsx("div",{className:"text-6xl mb-6 opacity-50",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"No Players Found"}),m.jsx("p",{className:"text-text-muted",children:"No players have participated in events for the selected time period."})]}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})})]})},F8=({history:t})=>{const[e,n]=z.useState(null);return m.jsxs("div",{className:"flex flex-col gap-4",children:[t.length===0&&m.jsx("p",{className:"text-text-muted text-center py-4",children:"No event placements available."}),t.slice().reverse().map((r,a)=>m.jsxs("div",{className:`rounded-xl shadow-md border border-border bg-surface transition-all duration-200 ${e===a?"ring-2 ring-primary":""}`,children:[m.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 text-lg font-bold text-primary focus:outline-none",onClick:()=>n(e===a?null:a),"aria-expanded":e===a,tabIndex:0,children:[m.jsxs("span",{children:[r.eventName??r.eventId," (",r.date,")"]}),m.jsx("span",{className:"text-xs text-text-muted",children:e===a?"Tap to collapse":"Tap to expand"})]}),m.jsx("div",{className:`overflow-hidden transition-all duration-300 ${e===a?"max-h-[300px] py-2":"max-h-0"}`,children:e===a&&m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"text-sm text-text-muted mb-2",children:["Rank: ",m.jsx("span",{className:"font-bold text-text-main",children:r.rank})]}),m.jsx(xt,{to:`/event/${r.eventId}`,className:"inline-block mt-2 px-4 py-2 bg-primary text-white rounded-lg font-bold hover:bg-primary-hover transition",children:"View Event"})]})})]},r.eventId+a))]})},B8=()=>{const{id:t}=jT(),{data:e}=A8(),{data:n=[]}=la(),r=e?.find(v=>v.id===t);if(!r)return m.jsxs("div",{className:"text-center py-12",children:[m.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Player Not Found"}),m.jsx(xt,{to:"/players",className:"text-primary hover:underline",children:"Back to Players"})]});const a=n.filter(v=>Array.isArray(v.standings)&&v.standings.length>0).map(v=>{const b={id:v.id,date:v.startDateTime?v.startDateTime.toISOString():v.id,isCompleted:!0,standings:v.standings},E=Sv(b)||[];return{ev:v,finals:E}}),o=new Map;a.forEach(({finals:v})=>{v.forEach(b=>{const E=b.playerId,A=b.pointsEarned||0,M=o.get(E)||{points:0,events:0,champWins:0};M.points+=A,M.events+=1,b.rank===1&&(M.champWins+=1),o.set(E,M)})});const c=Array.from(o.entries()).map(([v,b])=>({playerId:v,points:b.points,eventsPlayed:b.events,champWins:b.champWins})).sort((v,b)=>b.points-v.points);let d=null;c.forEach((v,b)=>{v.playerId===t&&(d=b+1)});const h=o.get(t||"")||{points:0,events:0,champWins:0},g=[];return a.forEach(({ev:v,finals:b})=>{const E=b.find(A=>A.playerId===t);E&&g.push({eventId:v.id,date:v.startDateTime?v.startDateTime.toLocaleDateString():v.id,rank:E.rank})}),m.jsxs("div",{className:"space-y-8 pb-12",children:[m.jsxs(xt,{to:"/players",className:"inline-flex items-center text-text-muted hover:text-primary transition-colors mb-4",children:[m.jsx(Oj,{className:"h-4 w-4 mr-1"})," Back to Players"]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"md:col-span-1 space-y-6",children:[m.jsxs(Rt,{className:"p-0 overflow-hidden border-border",children:[m.jsx("div",{className:"aspect-square w-full relative bg-surface-highlight",children:r.imageUrl?m.jsx("img",{src:r.imageUrl.startsWith("/")?`/${r.imageUrl.slice(1)}`:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx("span",{className:"text-6xl font-bold text-text-muted opacity-20",children:r.name.charAt(0)})})}),m.jsxs("div",{className:"p-6 text-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-text-main mb-2",children:r.name}),m.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[m.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold border border-primary/20",children:["DUPR ",r.dupr??"N/A"]}),m.jsxs("span",{className:"bg-surface-highlight text-text-muted px-3 py-1 rounded-full text-sm font-medium border border-border",children:["Rank #",d??"-"]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs(Rt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[m.jsx(Yn,{className:"h-6 w-6 text-warning mb-2"}),m.jsx("span",{className:"text-2xl font-bold text-text-main",children:h.points}),m.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Points"})]}),m.jsxs(Rt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[m.jsx(Ry,{className:"h-6 w-6 text-success mb-2"}),m.jsx("span",{className:"text-2xl font-bold text-text-main",children:h.champWins}),m.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Top Finishes"})]}),m.jsxs(Rt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[m.jsx(Bw,{className:"h-6 w-6 text-primary mb-2"}),m.jsx("span",{className:"text-2xl font-bold text-text-main",children:g.length}),m.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Events"})]}),m.jsxs(Rt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[m.jsx(io,{className:"h-6 w-6 text-text-muted mb-2"}),m.jsx("span",{className:"text-2xl font-bold text-text-main",children:h.events}),m.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Appearances"})]})]})]}),m.jsxs("div",{className:"md:col-span-2 space-y-8",children:[m.jsxs(Rt,{children:[m.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[m.jsx(Bw,{className:"h-5 w-5 text-primary"}),"Event Placements"]}),m.jsx(F8,{history:g.map(v=>({...v,eventName:n.find(b=>b.id===v.eventId)?.name}))})]}),m.jsxs(Rt,{children:[m.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[m.jsx(Ry,{className:"h-5 w-5 text-primary"}),"Event Rankings"]}),m.jsx("div",{className:"space-y-2",children:g.length>0?g.slice().reverse().map((v,b)=>m.jsxs(xt,{to:`/event/${v.eventId}`,className:"flex items-center justify-between p-2 border-b border-border last:border-0 hover:bg-surface-highlight transition-colors cursor-pointer group",children:[m.jsx("span",{className:"text-sm text-text-muted group-hover:text-text-main transition-colors",children:v.date}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:["Rank #",v.rank]}),m.jsx(EI,{rank:v.rank,size:"sm"})]})]},b)):m.jsx("p",{className:"text-text-muted text-center py-4",children:"No event data available."})})]})]})]})]})},q8=({options:t,value:e,onChange:n,className:r})=>m.jsx("div",{className:r,children:m.jsx("div",{className:"inline-flex",children:t.map(a=>m.jsx("button",{onClick:()=>n(a.value),className:on("px-6 py-2.5 rounded-lg text-sm font-bold transition-all",e===a.value?"bg-primary text-text-main shadow-md":"text-text-muted hover:text-text-main hover:bg-surface"),children:a.label},a.value))})});function TI(t,e){const n=DT(),r=Xs(),a=z.useMemo(()=>new URLSearchParams(r.search),[r.search]),o=z.useMemo(()=>a.get(t)??void 0,[a,t]),c=z.useCallback(g=>{const v=new URLSearchParams(r.search),b=v.get(t)??void 0;g!==b&&(g===void 0||g===""?v.delete(t):v.set(t,g),n({pathname:r.pathname,search:`?${v.toString()}`,hash:r.hash},{replace:!0}))},[n,r,t]),d=z.useCallback(async g=>{c(g)},[c]),h=z.useCallback(async g=>{c(g)},[c]);return z.useEffect(()=>{e!==void 0&&o===void 0&&h(e)},[e,o]),e===void 0?[o,d]:[o??e,h]}const $8=()=>{const{data:t}=la(),e=v=>v?v.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",n=v=>v?v.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",r=(t||[]).filter(v=>v.startDateTime instanceof Date&&!isNaN(v.startDateTime.getTime())).slice().sort((v,b)=>v.startDateTime.getTime()-b.startDateTime.getTime()),a=new Date,o=r.filter(v=>v.startDateTime.getTime()>=a.getTime()),c=r.filter(v=>v.startDateTime.getTime()<a.getTime()).slice().reverse(),[d,h]=TI("view","upcoming"),g=d==="upcoming"?o:c;return m.jsxs("div",{className:"space-y-16 pb-12",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(io,{className:"h-10 w-10 text-white"})}),m.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Season Schedule"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Per-night registration links for 'The Challenge'  register for any night below"})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-2",children:m.jsx(q8,{options:[{value:"upcoming",label:"Upcoming"},{value:"past",label:"Past"}],value:d,onChange:v=>h(v)})}),m.jsxs("div",{className:"text-sm text-text-muted",children:[g.length," ",g.length===1?"event":"events"]})]})}),m.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[g.map(v=>m.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-surface via-surface-alt to-surface border border-border p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:border-primary/50",children:m.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[m.jsxs("div",{className:"flex-grow",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-2 group-hover:text-primary transition-colors",children:v.name}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-muted",children:[m.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${d==="past"?"bg-success":"bg-primary"}`}),d==="past"?"Completed Event":"Upcoming Event"]})]}),m.jsxs("div",{className:"text-right text-sm text-text-muted",children:[m.jsx("div",{className:"font-semibold",children:e(v.startDateTime)}),m.jsx("div",{children:n(v.startDateTime)})]})]}),m.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/10 rounded-xl border border-primary/20",children:[m.jsx(io,{className:"h-5 w-5 text-primary flex-shrink-0"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Date"}),m.jsx("div",{className:"font-bold text-text-main truncate",children:e(v.startDateTime)})]})]}),m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-success/10 rounded-xl border border-success/20",children:[m.jsx(Uf,{className:"h-5 w-5 text-success flex-shrink-0"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Time"}),m.jsx("div",{className:"font-bold text-text-main truncate",children:n(v.startDateTime)})]})]}),m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-warning/10 rounded-xl border border-warning/20 sm:col-span-2 lg:col-span-1",children:[m.jsx(WT,{className:"h-5 w-5 text-warning flex-shrink-0"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Location"}),m.jsx("div",{className:"font-bold text-text-main truncate",children:v.location})]})]})]})]}),m.jsx("div",{className:"flex-shrink-0 flex flex-col gap-3 lg:w-48",children:d==="past"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-success/20 border-2 border-success/30 rounded-xl text-success font-bold",children:[m.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-success"}),"Completed"]}),m.jsx(xt,{to:`/event/${encodeURIComponent(v.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"View Results"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-xl font-bold hover:bg-primary-hover transition-all duration-300 shadow-md hover:shadow-lg",children:[m.jsx(Cu,{className:"h-5 w-5"}),"Register Now"]}),m.jsx(xt,{to:`/event/${encodeURIComponent(v.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"Event Details"})]})})]})},v.id)),g.length===0&&m.jsxs("div",{className:"text-center p-12 bg-surface rounded-2xl border border-border",children:[m.jsx("div",{className:"text-6xl mb-6 opacity-50",children:d==="upcoming"?"":""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:d==="upcoming"?"No Upcoming Events":"No Past Events"}),m.jsx("p",{className:"text-text-muted",children:d==="upcoming"?"Check back soon for new match nights to register for!":"Past events will appear here once they're completed."})]})]})]})};function SI(){const[t,e]=z.useState(null),[n,r]=z.useState(!1),[a,o]=z.useState(!0);return z.useEffect(()=>{const c=m2(Of,async d=>{if(e(d),!d){r(!1),o(!1);return}const g=(await d.getIdTokenResult(!0)).claims;r(g.admin===!0),o(!1)});return()=>c()},[]),{user:t,isAdmin:n,loading:a}}const H8=({isAdmin:t})=>{const{create:e,status:n,error:r}=N8(),[a,o]=z.useState(""),[c,d]=z.useState(""),[h,g]=z.useState(""),[v,b]=z.useState(""),[E,A]=z.useState(""),[M,O]=z.useState(""),[V,J]=z.useState(""),[Q,G]=z.useState(""),[oe,ce]=z.useState(""),me=async I=>{if(I.preventDefault(),!t){alert("You are not authorized to create events.");return}if(!a.trim()||!c){alert("Name and start date are required.");return}const S=new Date(`${c}T${h||"00:00"}`),C=v?new Date(`${v}T${E||"00:00"}`):void 0,D={name:a.trim(),startDateTime:S,...C?{endDateTime:C}:{},...M.trim()?{location:M.trim()}:{},...V?{status:V}:{},...Q.trim()?{label:Q.trim()}:{},...oe.trim()?{link:oe.trim()}:{},standings:[],rounds:[]};try{const R=await e(D);alert(`Event created${R?` (id: ${String(R)})`:""}.`),o(""),d(""),g(""),b(""),A(""),O(""),J(""),G(""),ce("")}catch(R){console.error("Create event failed",R),alert("Failed to create event. See console for details.")}};return m.jsxs("form",{onSubmit:me,className:"space-y-3 max-w-md",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Event name"}),m.jsx("input",{value:a,onChange:I=>o(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Start date"}),m.jsx("input",{type:"date",value:c,onChange:I=>d(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Start time (optional)"}),m.jsx("input",{type:"time",value:h,onChange:I=>g(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"End date (optional)"}),m.jsx("input",{type:"date",value:v,onChange:I=>b(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"End time (optional)"}),m.jsx("input",{type:"time",value:E,onChange:I=>A(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Location (optional)"}),m.jsx("input",{value:M,onChange:I=>O(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Status (optional)"}),m.jsxs("select",{value:V,onChange:I=>J(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1",children:[m.jsx("option",{value:"",children:"(none)"}),m.jsx("option",{value:"open",children:"open"}),m.jsx("option",{value:"closed",children:"closed"}),m.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Label (optional)"}),m.jsx("input",{value:Q,onChange:I=>G(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Link (optional)"}),m.jsx("input",{value:oe,onChange:I=>ce(I.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:!t||n==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:n==="pending"?"Creating...":"Create event"})}),r&&m.jsxs("p",{className:"text-sm text-red-600",children:["Error creating event: ",String(r)]})]})},G8=()=>{const[t,e]=z.useState(null),n=new Ls,{isAdmin:r}=SI(),{create:a,status:o,error:c}=S8(),d=la(),h=Ed(),g=d.data??[],v=h.data??[],[b,E]=z.useState(void 0),[A,M]=z.useState([]),{data:O}=pI(b)??{},{update:V,status:J,error:Q}=gI(),[G,oe]=z.useState(b),[ce,me]=z.useState(O?.standings);(b!==G||O?.standings!==ce)&&(oe(b),me(O?.standings),O?.standings&&Array.isArray(O.standings)?M([...O.standings]):M([]));const I=j=>{j&&M(Z=>[...Z,j])},S=j=>{M(Z=>Z.filter((ae,de)=>de!==j))},C=j=>{j<=0||M(Z=>{const ae=[...Z],de=ae[j-1];return ae[j-1]=ae[j],ae[j]=de,ae})},D=j=>{M(Z=>{if(j>=Z.length-1)return Z;const ae=[...Z],de=ae[j+1];return ae[j+1]=ae[j],ae[j]=de,ae})},R=async()=>{if(!r){alert("You are not authorized to update events.");return}if(!b){alert("Select an event first.");return}try{await V({id:b,standings:A}),alert("Standings saved.")}catch(j){console.error("Save standings failed",j),alert("Failed to save standings. See console for details.")}},[U,k]=z.useState(""),[ze,Ke]=z.useState(""),[X,le]=z.useState(""),ee=async j=>{if(j.preventDefault(),!r){alert("You are not authorized to add players.");return}try{const Z=ze.trim()?Number(ze):void 0,ae={name:U.trim(),...Z!==void 0&&!Number.isNaN(Z)?{dupr:Z}:{},...X.trim()?{imageUrl:X.trim()}:{},createdAt:new Date().toISOString()};await a(ae),k(""),Ke(""),le(""),alert("Player added.")}catch(Z){console.error("Create player failed",Z),alert("Failed to add player. See console for details.")}};z.useEffect(()=>{const j=m2(Of,Z=>{e(Z)});return()=>j()},[]);const we=async()=>{try{await k6(Of,n)}catch(j){console.error("Google sign-in failed",j),alert("Sign-in failed. See console for details.")}},Me=async()=>{try{await f6(Of)}catch(j){console.error("Sign-out failed",j),alert("Sign-out failed. See console for details.")}};return m.jsxs("div",{className:"p-4 space-y-8",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin"}),t?m.jsxs("div",{className:"space-y-8",children:[m.jsxs("p",{className:"mb-2",children:["Signed in as ",m.jsx("strong",{children:t.displayName??t.email})]}),m.jsxs("p",{children:["Admin status: ",r?"Yes":"No"]}),m.jsx("button",{onClick:Me,className:"px-3 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Sign out"}),m.jsxs(Rt,{className:"p-6 mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Protected admin area"}),m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You are authenticated and can now access admin-only features."}),!r&&m.jsx("p",{className:"text-sm text-red-600 mb-4",children:"You are not an admin. Editing is disabled."})]}),m.jsx(Rt,{className:"p-6 mb-6",children:m.jsxs("form",{onSubmit:ee,className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Name"}),m.jsx("input",{value:U,onChange:j=>k(j.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"DUPR (optional)"}),m.jsx("input",{value:ze,onChange:j=>Ke(j.target.value),className:"mt-1 block w-full border rounded px-2 py-1",inputMode:"decimal"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Image URL (optional)"}),m.jsx("input",{value:X,onChange:j=>le(j.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:!r||o==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:o==="pending"?"Adding...":"Add player"})}),c&&m.jsxs("p",{className:"text-sm text-red-600",children:["Error creating player: ",String(c)]})]})}),m.jsxs(Rt,{className:"p-6 mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Create Event"}),m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a new Event (start date/time is required)."}),m.jsx(H8,{isAdmin:r})]}),m.jsxs(Rt,{className:"p-6 mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Manage Event Standings"}),m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select an event, build an ordered standings list of players, and save to the event."}),m.jsxs(Rt,{className:"p-6",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{className:"block text-sm font-medium",children:"Event"}),m.jsxs("select",{value:b??"",onChange:j=>E(j.target.value||void 0),className:"mt-1 block w-full border rounded px-2 py-1",children:[m.jsx("option",{value:"",children:"(select an event)"}),g.map(j=>m.jsx("option",{value:j.id,children:j.name??j.id},j.id))]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium",children:"Players"}),m.jsxs("div",{className:"mt-1 max-h-56 overflow-auto border rounded p-1",children:[v.length===0&&m.jsx("p",{className:"text-sm text-gray-500",children:"No players found."}),v.map(j=>m.jsxs("div",{className:"flex items-center justify-between px-1 py-2",children:[m.jsx("div",{className:"text-base",children:j.name}),m.jsx("div",{children:m.jsx("button",{type:"button",onClick:()=>I(j.id),className:"px-4 py-2 bg-blue-600 text-white rounded text-base",children:"Add"})})]},j.id))]})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium",children:"Standings (ordered)"}),m.jsxs("div",{className:"mt-1 border rounded p-2 bg-white",children:[A.length===0&&m.jsx("p",{className:"text-sm text-gray-500",children:"No players in standings. Add players from the left."}),m.jsx("ul",{children:A.map((j,Z)=>{const ae=v.find(de=>de.id===j);return m.jsxs("li",{className:"flex items-center justify-between py-2 border-b",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsxs("div",{className:"text-sm font-medium",children:[Z+1,"."]}),m.jsx("div",{className:"text-sm",children:ae?ae.name:j})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{type:"button",onClick:()=>C(Z),disabled:Z===0,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 text-base",children:""}),m.jsx("button",{type:"button",onClick:()=>D(Z),disabled:Z===A.length-1,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 text-base",children:""}),m.jsx("button",{type:"button",onClick:()=>S(Z),className:"px-4 py-2 bg-red-600 text-white rounded text-base",children:"Remove"})]})]},`${j}-${Z}`)})}),m.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[m.jsx("button",{type:"button",onClick:R,disabled:!r||J==="pending"||!b,className:"px-6 py-3 bg-green-600 text-white rounded disabled:opacity-50 text-base",children:J==="pending"?"Saving...":"Save standings to event"}),m.jsx("button",{type:"button",onClick:()=>{M([])},className:"px-6 py-3 bg-gray-200 rounded text-base",children:"Clear"})]}),Q&&m.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error saving: ",String(Q)]})]})]})]})]})]}):m.jsxs("div",{children:[m.jsx("p",{className:"mb-4",children:"Sign in with a Google account to access admin features."}),m.jsx("button",{onClick:we,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Sign in with Google"})]})]})},AI=(t,e=5)=>{const n=e===5?4:5,r=(o,c)=>{if(o===0)return c;if(o<0||c>=7)return-1;const d=r(o-e,c+1);return d!==-1?d:r(o-n,c+1)},a=r(t,0);if(a<=0)throw new Error("Invalid number of players for court allocation");return a},K8=t=>{try{return AI(t,5),!0}catch{return!1}},bm=(t,e,n=5)=>{const r=AI(t,n),a=Array.from({length:r},()=>({seeds:[]}));let o=0,c=1;if(e===1)for(let d=1;d<=t;d++)a[o].seeds.push(d),o+=c,(o===r||o===-1)&&(c*=-1,o+=c);else if(e===2){const d=Math.floor(t/r);let h=t%r,g=1;for(let v=0;v<r;v++){const b=d+(h>0?1:0);for(let E=0;E<b;E++)a[v].seeds.push(g++);h>0&&h--}}return a},Q8=(t,e,n=5)=>{const r=t.length;return bm(r,e,n).map((c,d)=>{const h=c.seeds.map(g=>t[g-1]);return{courtNumber:d+1,playerIds:h,roundNumber:e}})},Z8=t=>{const{roundNumber:e,playerIds:n}=t;if(n.length===4){const[r,a,o,c]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:c}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:a,player2Id:o}}].map(h=>({...h,roundNumber:e}))}if(n.length===5){const[r,a,o,c,d]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:a,player2Id:o},team2:{player1Id:c,player2Id:d}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:d}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:o,player2Id:d}},{team1:{player1Id:r,player2Id:d},team2:{player1Id:a,player2Id:c}}].map(g=>({...g,roundNumber:e}))}throw new Error("Invalid number of players for game generation")},Y8=(t,e,n)=>t.wins!==e.wins?e.wins-t.wins:t.pointDifferential!==e.pointDifferential?e.pointDifferential-t.pointDifferential:t.seed-e.seed;function X8(t,e){if(!t?.length)return[];if(![1,2,3].includes(e))return[];const n=t.reduce((c,d)=>c+d.playerIds.length,0),r=bm(n,e),a=t.flatMap((c,d)=>{const h=c.playerIds.map((g,v)=>({id:g,courtNumber:c.courtNumber,wins:0,losses:0,pointDifferential:0,seed:r[d].seeds[v],roundPlace:0,nextCourt:0}));for(const g of c.games){const{team1:v,team2:b,team1Score:E=0,team2Score:A=0}=g,M=(G,oe,ce,me)=>{const I=oe>ce||oe===ce&&me;G.wins+=I?1:0,G.losses+=I?0:1,G.pointDifferential+=oe-ce},O=h.find(G=>G.id===v.player1Id),V=h.find(G=>G.id===v.player2Id),J=h.find(G=>G.id===b.player1Id),Q=h.find(G=>G.id===b.player2Id);M(O,E,A,!0),M(V,E,A,!0),M(J,A,E,!1),M(Q,A,E,!1)}return h}),o=(c,d)=>Y8(c,d);a.sort(o),a.forEach((c,d)=>{c.roundPlace=d+1});{const c=t.reduce((h,g)=>h+g.playerIds.length,0),d=bm(c,2);a.forEach(h=>{const g=d.findIndex(v=>v.seeds.includes(h.roundPlace));h.nextCourt=g+1})}return a}const yT=(t,e)=>{const{data:n}=yI(t),{data:r}=vI(t);return z.useMemo(()=>{if(typeof e!="number"||![1,2].includes(e)||!n||!r||n.length===0)return;const o=n.reduce((h,g)=>h+g.playerIds.length,0),c=bm(o,e),d=n.filter(h=>h.roundNumber===e).sort((h,g)=>h.courtNumber-g.courtNumber).map((h,g)=>({...h,seeds:c[g].seeds,games:r.filter(v=>v.courtId===h.id)}));if(console.log("filtererdCourtsWithDraws",d),d.length!==0)return{roundNumber:e,courts:d}},[n,r,e])},J8=t=>{const{data:e}=la(),[n,r]=z.useState(t),a=t??n,{data:o}=I8(a),{update:c}=gI(),d=yT(a,1),h=yT(a,2),g=z.useCallback(ee=>{const we=ee===1?d:h;return we!==void 0&&we.courts.length>0},[d,h]),v=z.useCallback(ee=>{const we=ee===1?d:h;return we?we.courts.every(Me=>Me.games.every(j=>j.team1Score!==void 0&&j.team2Score!==void 0)):!1},[d,h]),b=z.useMemo(()=>o?.ongoingStage||1,[o]),[E,A]=TI("stage",b),M=z.useCallback(ee=>{A(typeof ee=="string"?ee:ee.toString())},[A]),O=z.useMemo(()=>{if(E==="initial"||E==="standings")return E;const ee=parseInt(E,10);return[1,2,3].includes(ee)?ee:b},[E,b]),V=z.useCallback(ee=>{o&&c({id:o.id,ongoingStage:ee})},[o,c]),{create:J}=R8(a),{create:Q}=D8(a),{update:G}=j8(a),{data:oe=[]}=vI(a),{remove:ce}=k8(a),{data:me=[]}=yI(a),{remove:I}=C8(a),S=z.useCallback(async()=>{if(window.confirm("Are you sure you want to clear all data and start over?")&&n){for(const ee of oe||[])await ce(ee.id);for(const ee of me||[])await I(ee.id);V(1),M(1)}},[n,V,M,oe,ce,me,I]),C=z.useCallback(async(ee,we)=>{if(g(we)){console.error(`Round ${we} has already been created.`);return}if(K8(ee.length)===!1){console.error(`Invalid number of players: ${ee.length}. Must be between 8 and 35 players.`);return}const Me=Q8(ee,we);for(const j of Me){const Z=await J(j),ae=Z8(j);for(const de of ae)await Q({courtId:Z,...de});V(we),M(we)}},[g,J,V,M,Q]),D=z.useCallback(async ee=>await C(ee,1),[C]),R=z.useCallback(async()=>{if(!v(1)){alert("Cannot advance to round 2: round 1 is not complete.");return}if(g(2)){alert("Round 2 has already been created.");return}if(!d?.courts||d.courts.length===0){alert("No courts available from round 1 to advance to round 2.");return}const ee=X8(d.courts,1);await C(ee.map(we=>we.id),2),M(2),V(2)},[v,g,d,M,V,C]),U=()=>{if(!o){alert("No event selected to finalize.");return}if(!h){alert("Cannot finalize event: round 2 data is missing.");return}if(!v(2)){alert("Cannot finalize event: round 2 is not complete.");return}o.standings&&o.standings.length>0&&window.confirm("Standings already exist. Overwrite?")===!1||(c({id:o.id,standings:h.standings}),M("standings"))},k=z.useMemo(()=>oe?.filter(ee=>ee.team1Score!==void 0&&ee.team2Score!==void 0).length||0,[oe]),ze=z.useMemo(()=>oe?.length||1,[oe]),Ke=Math.round(k/Math.max(1,ze)*100),X=z.useCallback((ee,we,Me)=>{console.log("updateGame called with:",ee,we,Me,G),G({id:ee,[we]:Me})},[G]),le=z.useMemo(()=>g(1)===!1,[g]);return{events:e,selectedEventId:a,setSelectedEventId:r,round1:d,round2:h,needsInitialization:le,event:o,currentView:O,setCurrentView:M,completedMatches:k,totalMatches:ze,progressPercent:Ke,handleScoreChange:X,initializeRoundOne:D,advanceToRoundTwo:R,finalizeEvent:U,resetAll:S,apiError:null}},NI=qs.forwardRef(({label:t,textarea:e=!1,className:n,error:r,success:a,rows:o=4,size:c="md",variant:d="default",icon:h,iconPosition:g="left",...v},b)=>{const E="w-full rounded-xl border transition-all duration-300 text-text-main placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed",A={sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-base",lg:"px-6 py-4 text-lg"},M={default:"bg-surface border-border focus:border-primary focus:ring-primary/30 shadow-sm hover:shadow-md",premium:"bg-gradient-to-br from-surface via-surface-alt to-surface border-border focus:border-primary focus:ring-primary/30 shadow-lg hover:shadow-xl",outlined:"bg-transparent border-2 border-border focus:border-primary focus:ring-primary/30 hover:border-primary/50"},O=()=>r?"border-error focus:border-error focus:ring-error/30 shadow-error/10":a?"border-success focus:border-success focus:ring-success/30 shadow-success/10":"",V={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"},J=()=>{if(!h)return null;if(qs.isValidElement(h)){const G=h.props?.className||"";return qs.cloneElement(h,{className:on(V[c],"text-text-muted",G)})}return h},Q=on(E,M[d],A[c],O(),h&&g==="left"?"pl-10":"",h&&g==="right"?"pr-10":"",e?"resize-vertical min-h-[6rem]":"");return m.jsxs("label",{className:on("block",n&&void 0),children:[t&&m.jsxs("div",{className:"mb-3 text-sm font-semibold text-text-main flex items-center gap-2",children:[t,r&&m.jsx("span",{className:"text-error",children:"*"}),a&&m.jsx("span",{className:"text-success",children:""})]}),m.jsxs("div",{className:"relative",children:[h&&g==="left"&&m.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:J()}),e?m.jsx("textarea",{ref:b,rows:o,className:Q,"aria-invalid":!!r,...v}):m.jsx("input",{ref:b,className:Q,"aria-invalid":!!r,...v}),h&&g==="right"&&m.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:J()})]}),r&&m.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 rounded-full bg-error/20 flex items-center justify-center",children:m.jsx("span",{className:"text-xs text-error font-bold",children:"!"})}),m.jsx("p",{className:"text-sm text-error font-medium",children:r})]}),a&&!r&&m.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 rounded-full bg-success/20 flex items-center justify-center",children:m.jsx("span",{className:"text-xs text-success font-bold",children:""})}),m.jsx("p",{className:"text-sm text-success font-medium",children:a})]})]})});NI.displayName="Input";const W8=()=>{const{id:t}=jT(),e=t?decodeURIComponent(t):"",{data:n,isLoading:r}=pI(e),{data:a=[]}=Ed(),{isAdmin:o}=SI(),c=J8(e),[d,h]=z.useState([]),[g,v]=z.useState(""),[b,E]=z.useState(!1),[A,M]=z.useState(null),O=D=>D?D.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"",V=D=>D?D.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",J=z.useMemo(()=>a.filter(D=>D.name.toLowerCase().includes(g.toLowerCase())).sort((D,R)=>D.name.localeCompare(R.name)),[a,g]),Q=D=>{h(R=>R.includes(D)?R.filter(U=>U!==D):[...R,D])},G=async()=>{if(d.length<8||d.length>35){alert("Please select between 8-35 players");return}E(!0);try{await c.initializeRoundOne(d),h([])}catch(D){console.error("Failed to initialize round:",D),alert("Failed to initialize round. Please try again.")}finally{E(!1)}},oe=async()=>{if(window.confirm("Are you sure you want to advance to Round 2? This cannot be undone."))try{await c.advanceToRoundTwo()}catch(D){console.error("Failed to advance to round 2:",D),alert("Failed to advance to Round 2. Please try again.")}},ce=()=>{window.confirm("Are you sure you want to finalize this event? Final standings will be published.")&&c.finalizeEvent()},me=(D,R,U)=>{const k=parseInt(U);!isNaN(k)&&k>=0&&c.handleScoreChange(D,R,k)},I=(D,R)=>{M({gameId:D,team:R})},S=()=>{M(null)};if(r)return m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:m.jsxs(Rt,{variant:"premium",padding:"xl",className:"max-w-md w-full text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary/20 border-t-primary mx-auto mb-6"}),m.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Loading Event"}),m.jsx("p",{className:"text-text-muted",children:"Please wait while we fetch the event details..."})]})});if(!n)return m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:m.jsxs(Rt,{variant:"gradient",theme:"error",padding:"xl",className:"max-w-2xl w-full text-center",children:[m.jsx("div",{className:"text-6xl mb-6 opacity-50",children:""}),m.jsx("h1",{className:"text-3xl font-black text-text-main mb-4",children:"Event Not Found"}),m.jsxs("p",{className:"text-text-muted mb-8 leading-relaxed",children:["The event ID"," ",m.jsx("code",{className:"bg-surface-alt px-2 py-1 rounded font-mono text-sm",children:e||"(empty)"})," ","does not match any scheduled event in our system."]}),m.jsx(xt,{to:"/schedule",children:m.jsx(Ui,{variant:"primary",size:"lg",icon:m.jsx(qw,{}),iconPosition:"left",children:"Back to Schedule"})})]})});const C=c.currentView===1?c.round1:c.currentView===2?c.round2:null;return m.jsxs("div",{className:"space-y-8 pb-12 px-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs(xt,{to:"/schedule",className:"inline-flex items-center gap-2 text-text-muted hover:text-primary transition-colors font-semibold",children:[m.jsx(qw,{className:"h-5 w-5"}),m.jsx("span",{children:"Back to Schedule"})]}),m.jsx(Rt,{variant:"premium",padding:"lg",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4",children:m.jsx(io,{className:"h-8 w-8 text-white"})}),m.jsx("h1",{className:"text-3xl md:text-4xl font-black text-text-main mb-6",children:n.name}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-alt/50 rounded-xl",children:[m.jsx(io,{className:"h-5 w-5 text-primary"}),m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"text-xs text-text-muted uppercase",children:"Date"}),m.jsx("div",{className:"font-semibold text-sm",children:O(n.startDateTime)})]})]}),m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-alt/50 rounded-xl",children:[m.jsx(Uf,{className:"h-5 w-5 text-success"}),m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"text-xs text-text-muted uppercase",children:"Time"}),m.jsx("div",{className:"font-semibold text-sm",children:V(n.startDateTime)})]})]}),m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-alt/50 rounded-xl",children:[m.jsx(WT,{className:"h-5 w-5 text-warning"}),m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"text-xs text-text-muted uppercase",children:"Location"}),m.jsx("div",{className:"font-semibold text-sm truncate",children:n.location||"TBD"})]})]})]})]})})]}),o&&c.needsInitialization&&m.jsxs(Rt,{variant:"gradient",theme:"primary",padding:"lg",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4",children:m.jsx(ck,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Initialize Event"}),m.jsx("p",{className:"text-text-muted",children:"Select 8-35 players to start the event"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(NI,{icon:m.jsx(tk,{}),placeholder:"Search players by name...",value:g,onChange:D=>v(D.target.value),variant:"premium"}),m.jsx("div",{className:"text-center",children:m.jsxs("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${d.length>=8&&d.length<=35?"bg-success/20 text-success":"bg-warning/20 text-warning"}`,children:[d.length," / 35 players selected",d.length<8&&" (minimum 8)"]})}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-96 overflow-y-auto p-2",children:J.map(D=>{const R=d.includes(D.id||"");return m.jsx("div",{onClick:()=>Q(D.id||""),className:`p-3 rounded-xl border-2 cursor-pointer transition-all duration-200 ${R?"border-primary bg-primary/10 shadow-md":"border-border hover:border-primary/50 bg-surface"}`,children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${R?"border-primary bg-primary":"border-border"}`,children:R&&m.jsx(Fj,{className:"h-4 w-4 text-white"})}),m.jsxs("div",{className:"flex-1 text-left",children:[m.jsx("div",{className:"font-semibold text-text-main",children:D.name}),D.dupr&&m.jsxs("div",{className:"text-xs text-text-muted",children:["DUPR: ",D.dupr]})]})]})},D.id)})}),m.jsx("div",{className:"text-center pt-4",children:m.jsx(Ui,{variant:"primary",size:"lg",icon:m.jsx(Xj,{}),onClick:G,disabled:d.length<8||d.length>35||b,loading:b,children:"Initialize Round 1"})})]})]}),!c.needsInitialization&&m.jsx(Rt,{variant:"flat",padding:"sm",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-2",children:[1,2,"standings"].map(D=>{const R=c.currentView===D,U=D===1||D===2&&c.round1||D==="standings"&&c.round2;return m.jsx(Ui,{variant:R?"primary":"ghost",size:"sm",onClick:()=>c.setCurrentView(D),disabled:!U,children:D==="standings"?"Final Standings":`Round ${D}`},D)})}),m.jsxs("div",{className:"text-sm text-text-muted",children:["Progress: ",c.completedMatches,"/",c.totalMatches," matches (",c.progressPercent,"%)"]})]})}),C&&m.jsxs("div",{className:"space-y-6",children:[m.jsx(Rt,{variant:"gradient",theme:"success",padding:"md",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/70 rounded-full flex items-center justify-center",children:m.jsx(kl,{className:"h-6 w-6 text-white"})}),m.jsxs("div",{children:[m.jsxs("h2",{className:"text-xl font-bold text-text-main",children:["Round ",c.currentView," Courts"]}),m.jsxs("p",{className:"text-text-muted text-sm",children:[C.courts.length," courts  Live scoring enabled"]})]})]}),o&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Ui,{variant:"secondary",size:"sm",icon:m.jsx(Wj,{}),onClick:c.resetAll,children:"Reset All"}),c.currentView===1&&c.round1&&m.jsx(Ui,{variant:"primary",size:"sm",icon:m.jsx(yf,{}),onClick:oe,disabled:!c.round1.courts.every(D=>D.games.every(R=>R.team1Score!==void 0&&R.team2Score!==void 0)),children:"Advance to Round 2"}),c.currentView===2&&c.round2&&m.jsx(Ui,{variant:"primary",size:"sm",icon:m.jsx(Yn,{}),onClick:ce,disabled:!c.round2.courts.every(D=>D.games.every(R=>R.team1Score!==void 0&&R.team2Score!==void 0)),children:"Finalize Event"})]})]})}),m.jsx("div",{className:"grid grid-cols-1 gap-3",children:C.courts.map(D=>m.jsx(Rt,{variant:"premium",padding:"sm",hover:!0,children:m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-border pb-2",children:[m.jsxs("h3",{className:"text-xl font-bold text-text-main",children:["Court ",D.courtNumber]}),m.jsxs("span",{className:"text-xs px-2 py-1 bg-primary/20 text-primary rounded-lg font-semibold",children:[D.games.length," games"]})]}),m.jsx("div",{className:"space-y-1",children:D.games.map((R,U)=>{const k=a.find(le=>le.id===R.team1.player1Id),ze=a.find(le=>le.id===R.team1.player2Id),Ke=a.find(le=>le.id===R.team2.player1Id),X=a.find(le=>le.id===R.team2.player2Id);return m.jsx("div",{className:"bg-surface-alt/20 rounded p-2 border border-border/20",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[m.jsxs("div",{className:"text-xs font-bold text-text-main min-w-0",children:[m.jsx("div",{className:"truncate",children:k?.name||"P1"}),m.jsx("div",{className:"truncate",children:ze?.name||"P2"})]}),A?.gameId===R.id&&A?.team==="team1Score"?m.jsx("input",{type:"number",defaultValue:R.team1Score||"",onChange:le=>me(R.id,"team1Score",le.target.value),onBlur:S,className:"w-10 px-1 py-1 text-sm font-bold border border-primary rounded bg-surface text-center",autoFocus:!0}):m.jsx("div",{className:`w-10 h-6 flex items-center justify-center bg-primary/10 border border-primary/30 rounded text-sm font-black cursor-pointer ${o?"hover:bg-primary/20":""}`,onClick:()=>o&&I(R.id,"team1Score"),children:R.team1Score??"-"})]}),m.jsx("div",{className:"mx-2 text-xs font-bold text-text-muted",children:"vs"}),m.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[A?.gameId===R.id&&A?.team==="team2Score"?m.jsx("input",{type:"number",defaultValue:R.team2Score||"",onChange:le=>me(R.id,"team2Score",le.target.value),onBlur:S,className:"w-10 px-1 py-1 text-sm font-bold border border-success rounded bg-surface text-center",autoFocus:!0}):m.jsx("div",{className:`w-10 h-6 flex items-center justify-center bg-success/10 border border-success/30 rounded text-sm font-black cursor-pointer ${o?"hover:bg-success/20":""}`,onClick:()=>o&&I(R.id,"team2Score"),children:R.team2Score??"-"}),m.jsxs("div",{className:"text-xs font-bold text-text-main min-w-0 text-right",children:[m.jsx("div",{className:"truncate",children:Ke?.name||"P1"}),m.jsx("div",{className:"truncate",children:X?.name||"P2"})]})]})]})},R.id)})})]})},D.id))})]}),c.currentView==="standings"&&n.standings&&m.jsxs(Rt,{variant:"gradient",theme:"warning",padding:"lg",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-4",children:m.jsx(Yn,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Final Standings"}),m.jsx("p",{className:"text-text-muted",children:"Official results from this event"})]}),m.jsx("div",{className:"space-y-3 max-w-lg mx-auto",children:n.standings.map((D,R)=>{const U=a.find(Ke=>Ke.id===D),k=["warning","text-accent","bronze"],ze=["","",""];return m.jsxs("div",{className:"flex items-center gap-4 p-4 bg-surface rounded-xl border border-border",children:[m.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${R<3?`bg-gradient-to-br from-${k[R]} to-${k[R]}/70 text-white`:"bg-surface-alt text-text-main"}`,children:m.jsx("span",{className:"font-bold text-lg",children:R<3?ze[R]:`#${R+1}`})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-bold text-text-main",children:U?.name||`Player ${D}`}),m.jsx("div",{className:"text-sm text-text-muted",children:R===0?"Champion":R===1?"Runner-up":R===2?"Third Place":`Position ${R+1}`})]})]},D)})})]})]})},eF=()=>m.jsx(iO,{children:m.jsxs(dD,{children:[m.jsx(zs,{path:"/",element:m.jsx(O8,{})}),m.jsx(zs,{path:"/standings",element:m.jsx(z8,{})}),m.jsx(zs,{path:"/schedule",element:m.jsx($8,{})}),m.jsx(zs,{path:"/players",element:m.jsx(U8,{})}),m.jsx(zs,{path:"/player/:id",element:m.jsx(B8,{})}),m.jsx(zs,{path:"/format",element:m.jsx(L8,{})}),m.jsx(zs,{path:"/admin",element:m.jsx(G8,{})}),m.jsx(zs,{path:"/event/:id",element:m.jsx(W8,{})})]})}),tF=new mj;mC.createRoot(document.getElementById("root")).render(m.jsx(z.StrictMode,{children:m.jsx(pj,{client:tF,children:m.jsx(PD,{children:m.jsx(eF,{})})})}));
