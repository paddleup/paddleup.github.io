(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function xC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ey={exports:{}},gu={};var bw;function wC(){if(bw)return gu;bw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:o}}return gu.Fragment=e,gu.jsx=n,gu.jsxs=n,gu}var xw;function EC(){return xw||(xw=1,ey.exports=wC()),ey.exports}var m=EC(),ty={exports:{}},je={};var ww;function TC(){if(ww)return je;ww=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function T(R){return R===null||typeof R!="object"?null:(R=E&&R[E]||R["@@iterator"],typeof R=="function"?R:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,P={};function Z(R,$,se){this.props=R,this.context=$,this.refs=P,this.updater=se||D}Z.prototype.isReactComponent={},Z.prototype.setState=function(R,$){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,$,"setState")},Z.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function X(){}X.prototype=Z.prototype;function K(R,$,se){this.props=R,this.context=$,this.refs=P,this.updater=se||D}var le=K.prototype=new X;le.constructor=K,j(le,Z.prototype),le.isPureReactComponent=!0;var Q=Array.isArray;function ae(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(R,$,se){var ue=se.ref;return{$$typeof:t,type:R,key:$,ref:ue!==void 0?ue:null,props:se}}function z(R,$){return C(R.type,$,R.props)}function M(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function U(R){var $={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(se){return $[se]})}var k=/\/+/g;function Ge(R,$){return typeof R=="object"&&R!==null&&R.key!=null?U(""+R.key):$.toString(36)}function Ze(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ae,ae):(R.status="pending",R.then(function($){R.status==="pending"&&(R.status="fulfilled",R.value=$)},function($){R.status==="pending"&&(R.status="rejected",R.reason=$)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function W(R,$,se,ue,Ee){var Ne=typeof R;(Ne==="undefined"||Ne==="boolean")&&(R=null);var xe=!1;if(R===null)xe=!0;else switch(Ne){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(R.$$typeof){case t:case e:xe=!0;break;case v:return xe=R._init,W(xe(R._payload),$,se,ue,Ee)}}if(xe)return Ee=Ee(R),xe=ue===""?"."+Ge(R,0):ue,Q(Ee)?(se="",xe!=null&&(se=xe.replace(k,"$&/")+"/"),W(Ee,$,se,"",function(er){return er})):Ee!=null&&(M(Ee)&&(Ee=z(Ee,se+(Ee.key==null||R&&R.key===Ee.key?"":(""+Ee.key).replace(k,"$&/")+"/")+xe)),$.push(Ee)),1;xe=0;var St=ue===""?".":ue+":";if(Q(R))for(var nt=0;nt<R.length;nt++)ue=R[nt],Ne=St+Ge(ue,nt),xe+=W(ue,$,se,Ne,Ee);else if(nt=T(R),typeof nt=="function")for(R=nt.call(R),nt=0;!(ue=R.next()).done;)ue=ue.value,Ne=St+Ge(ue,nt++),xe+=W(ue,$,se,Ne,Ee);else if(Ne==="object"){if(typeof R.then=="function")return W(Ze(R),$,se,ue,Ee);throw $=String(R),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return xe}function de(R,$,se){if(R==null)return R;var ue=[],Ee=0;return W(R,ue,"","",function(Ne){return $.call(se,Ne,Ee++)}),ue}function ce(R){if(R._status===-1){var $=R._result;$=$(),$.then(function(se){(R._status===0||R._status===-1)&&(R._status=1,R._result=se)},function(se){(R._status===0||R._status===-1)&&(R._status=2,R._result=se)}),R._status===-1&&(R._status=0,R._result=$)}if(R._status===1)return R._result.default;throw R._result}var Me=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Fe={map:de,forEach:function(R,$,se){de(R,function(){$.apply(this,arguments)},se)},count:function(R){var $=0;return de(R,function(){$++}),$},toArray:function(R){return de(R,function($){return $})||[]},only:function(R){if(!M(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return je.Activity=_,je.Children=Fe,je.Component=Z,je.Fragment=n,je.Profiler=a,je.PureComponent=K,je.StrictMode=r,je.Suspense=d,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,je.__COMPILER_RUNTIME={__proto__:null,c:function(R){return N.H.useMemoCache(R)}},je.cache=function(R){return function(){return R.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(R,$,se){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ue=j({},R.props),Ee=R.key;if($!=null)for(Ne in $.key!==void 0&&(Ee=""+$.key),$)!A.call($,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&$.ref===void 0||(ue[Ne]=$[Ne]);var Ne=arguments.length-2;if(Ne===1)ue.children=se;else if(1<Ne){for(var xe=Array(Ne),St=0;St<Ne;St++)xe[St]=arguments[St+2];ue.children=xe}return C(R.type,Ee,ue)},je.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},je.createElement=function(R,$,se){var ue,Ee={},Ne=null;if($!=null)for(ue in $.key!==void 0&&(Ne=""+$.key),$)A.call($,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ee[ue]=$[ue]);var xe=arguments.length-2;if(xe===1)Ee.children=se;else if(1<xe){for(var St=Array(xe),nt=0;nt<xe;nt++)St[nt]=arguments[nt+2];Ee.children=St}if(R&&R.defaultProps)for(ue in xe=R.defaultProps,xe)Ee[ue]===void 0&&(Ee[ue]=xe[ue]);return C(R,Ne,Ee)},je.createRef=function(){return{current:null}},je.forwardRef=function(R){return{$$typeof:h,render:R}},je.isValidElement=M,je.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:ce}},je.memo=function(R,$){return{$$typeof:g,type:R,compare:$===void 0?null:$}},je.startTransition=function(R){var $=N.T,se={};N.T=se;try{var ue=R(),Ee=N.S;Ee!==null&&Ee(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ae,Me)}catch(Ne){Me(Ne)}finally{$!==null&&se.types!==null&&($.types=se.types),N.T=$}},je.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},je.use=function(R){return N.H.use(R)},je.useActionState=function(R,$,se){return N.H.useActionState(R,$,se)},je.useCallback=function(R,$){return N.H.useCallback(R,$)},je.useContext=function(R){return N.H.useContext(R)},je.useDebugValue=function(){},je.useDeferredValue=function(R,$){return N.H.useDeferredValue(R,$)},je.useEffect=function(R,$){return N.H.useEffect(R,$)},je.useEffectEvent=function(R){return N.H.useEffectEvent(R)},je.useId=function(){return N.H.useId()},je.useImperativeHandle=function(R,$,se){return N.H.useImperativeHandle(R,$,se)},je.useInsertionEffect=function(R,$){return N.H.useInsertionEffect(R,$)},je.useLayoutEffect=function(R,$){return N.H.useLayoutEffect(R,$)},je.useMemo=function(R,$){return N.H.useMemo(R,$)},je.useOptimistic=function(R,$){return N.H.useOptimistic(R,$)},je.useReducer=function(R,$,se){return N.H.useReducer(R,$,se)},je.useRef=function(R){return N.H.useRef(R)},je.useState=function(R){return N.H.useState(R)},je.useSyncExternalStore=function(R,$,se){return N.H.useSyncExternalStore(R,$,se)},je.useTransition=function(){return N.H.useTransition()},je.version="19.2.3",je}var Ew;function vv(){return Ew||(Ew=1,ty.exports=TC()),ty.exports}var V=vv();const qs=xC(V);var ny={exports:{}},yu={},ry={exports:{}},sy={};var Tw;function SC(){return Tw||(Tw=1,(function(t){function e(W,de){var ce=W.length;W.push(de);e:for(;0<ce;){var Me=ce-1>>>1,Fe=W[Me];if(0<a(Fe,de))W[Me]=de,W[ce]=Fe,ce=Me;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var de=W[0],ce=W.pop();if(ce!==de){W[0]=ce;e:for(var Me=0,Fe=W.length,R=Fe>>>1;Me<R;){var $=2*(Me+1)-1,se=W[$],ue=$+1,Ee=W[ue];if(0>a(se,ce))ue<Fe&&0>a(Ee,se)?(W[Me]=Ee,W[ue]=ce,Me=ue):(W[Me]=se,W[$]=ce,Me=$);else if(ue<Fe&&0>a(Ee,ce))W[Me]=Ee,W[ue]=ce,Me=ue;else break e}}return de}function a(W,de){var ce=W.sortIndex-de.sortIndex;return ce!==0?ce:W.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],g=[],v=1,_=null,E=3,T=!1,D=!1,j=!1,P=!1,Z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function le(W){for(var de=n(g);de!==null;){if(de.callback===null)r(g);else if(de.startTime<=W)r(g),de.sortIndex=de.expirationTime,e(d,de);else break;de=n(g)}}function Q(W){if(j=!1,le(W),!D)if(n(d)!==null)D=!0,ae||(ae=!0,U());else{var de=n(g);de!==null&&Ze(Q,de.startTime-W)}}var ae=!1,N=-1,A=5,C=-1;function z(){return P?!0:!(t.unstable_now()-C<A)}function M(){if(P=!1,ae){var W=t.unstable_now();C=W;var de=!0;try{e:{D=!1,j&&(j=!1,X(N),N=-1),T=!0;var ce=E;try{t:{for(le(W),_=n(d);_!==null&&!(_.expirationTime>W&&z());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,E=_.priorityLevel;var Fe=Me(_.expirationTime<=W);if(W=t.unstable_now(),typeof Fe=="function"){_.callback=Fe,le(W),de=!0;break t}_===n(d)&&r(d),le(W)}else r(d);_=n(d)}if(_!==null)de=!0;else{var R=n(g);R!==null&&Ze(Q,R.startTime-W),de=!1}}break e}finally{_=null,E=ce,T=!1}de=void 0}}finally{de?U():ae=!1}}}var U;if(typeof K=="function")U=function(){K(M)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Ge=k.port2;k.port1.onmessage=M,U=function(){Ge.postMessage(null)}}else U=function(){Z(M,0)};function Ze(W,de){N=Z(function(){W(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(W){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var ce=E;E=de;try{return W()}finally{E=ce}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(W,de){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=E;E=W;try{return de()}finally{E=ce}},t.unstable_scheduleCallback=function(W,de,ce){var Me=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Me+ce:Me):ce=Me,W){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ce+Fe,W={id:v++,callback:de,priorityLevel:W,startTime:ce,expirationTime:Fe,sortIndex:-1},ce>Me?(W.sortIndex=ce,e(g,W),n(d)===null&&W===n(g)&&(j?(X(N),N=-1):j=!0,Ze(Q,ce-Me))):(W.sortIndex=Fe,e(d,W),D||T||(D=!0,ae||(ae=!0,U()))),W},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(W){var de=E;return function(){var ce=E;E=de;try{return W.apply(this,arguments)}finally{E=ce}}}})(sy)),sy}var Sw;function AC(){return Sw||(Sw=1,ry.exports=SC()),ry.exports}var iy={exports:{}},yn={};var Aw;function IC(){if(Aw)return yn;Aw=1;var t=vv();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(d,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(d,g,null,v)},yn.flushSync=function(d){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=g,r.p=v,r.d.f()}},yn.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(d,g))},yn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},yn.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:T}):v==="script"&&r.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);r.d.M(d,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(d)},yn.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin);r.d.L(d,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(d,g){if(typeof d=="string")if(g){var v=h(g.as,g.crossOrigin);r.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(d)},yn.requestFormReset=function(d){r.d.r(d)},yn.unstable_batchedUpdates=function(d,g){return d(g)},yn.useFormState=function(d,g,v){return c.H.useFormState(d,g,v)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var Iw;function NC(){if(Iw)return iy.exports;Iw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iy.exports=IC(),iy.exports}var Nw;function RC(){if(Nw)return yu;Nw=1;var t=AC(),e=vv(),n=NC();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function c(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function g(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,u=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return d(p),s;if(y===u)return d(p),i;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=p,u=y;else{for(var x=!1,S=p.child;S;){if(S===l){x=!0,l=p,u=y;break}if(S===u){x=!0,u=p,l=y;break}S=S.sibling}if(!x){for(S=y.child;S;){if(S===l){x=!0,l=y,u=p;break}if(S===u){x=!0,u=y,l=p;break}S=S.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function v(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=v(s),i!==null)return i;s=s.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),K=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Ge(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case Z:return"Profiler";case P:return"StrictMode";case Q:return"Suspense";case ae:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case K:return s.displayName||"Context";case X:return(s._context.displayName||"Context")+".Consumer";case le:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return i=s.displayName||null,i!==null?i:Ge(s.type)||"Memo";case A:i=s._payload,s=s._init;try{return Ge(s(i))}catch{}}return null}var Ze=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Me=[],Fe=-1;function R(s){return{current:s}}function $(s){0>Fe||(s.current=Me[Fe],Me[Fe]=null,Fe--)}function se(s,i){Fe++,Me[Fe]=s.current,s.current=i}var ue=R(null),Ee=R(null),Ne=R(null),xe=R(null);function St(s,i){switch(se(Ne,i),se(Ee,s),se(ue,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?q0(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=q0(i),s=$0(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}$(ue),se(ue,s)}function nt(){$(ue),$(Ee),$(Ne)}function er(s){s.memoizedState!==null&&se(xe,s);var i=ue.current,l=$0(i,s.type);i!==l&&(se(Ee,s),se(ue,l))}function Lr(s){Ee.current===s&&($(ue),$(Ee)),xe.current===s&&($(xe),du._currentValue=ce)}var wr,Ro;function Ur(s){if(wr===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);wr=i&&i[1]||"",Ro=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+s+Ro}var dc=!1;function ua(s,i){if(!s||dc)return"";dc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var Y=ee}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(ee){Y=ee}s.call(oe.prototype)}}else{try{throw Error()}catch(ee){Y=ee}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&Y&&typeof ee.stack=="string")return[ee.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),x=y[0],S=y[1];if(x&&S){var O=x.split(`
`),G=S.split(`
`);for(p=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(u===O.length||p===G.length)for(u=O.length-1,p=G.length-1;1<=u&&0<=p&&O[u]!==G[p];)p--;for(;1<=u&&0<=p;u--,p--)if(O[u]!==G[p]){if(u!==1||p!==1)do if(u--,p--,0>p||O[u]!==G[p]){var ne=`
`+O[u].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=u&&0<=p);break}}}finally{dc=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Ur(l):""}function fc(s,i){switch(s.tag){case 26:case 27:case 5:return Ur(s.type);case 16:return Ur("Lazy");case 13:return s.child!==i&&i!==null?Ur("Suspense Fallback"):Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return ua(s.type,!1);case 11:return ua(s.type.render,!1);case 1:return ua(s.type,!0);case 31:return Ur("Activity");default:return""}}function mc(s){try{var i="",l=null;do i+=fc(s,l),l=s,s=s.return;while(s);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Vt=Object.prototype.hasOwnProperty,Zt=t.unstable_scheduleCallback,ni=t.unstable_cancelCallback,np=t.unstable_shouldYield,Ah=t.unstable_requestPaint,wn=t.unstable_now,ha=t.unstable_getCurrentPriorityLevel,pc=t.unstable_ImmediatePriority,gc=t.unstable_UserBlockingPriority,ri=t.unstable_NormalPriority,rp=t.unstable_LowPriority,Ih=t.unstable_IdlePriority,Nh=t.log,Rh=t.unstable_setDisableYieldValue,Er=null,ln=null;function tr(s){if(typeof Nh=="function"&&Rh(s),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Er,s)}catch{}}var jt=Math.clz32?Math.clz32:Dh,Ch=Math.log,Co=Math.LN2;function Dh(s){return s>>>=0,s===0?32:31-(Ch(s)/Co|0)|0}var Fr=256,da=262144,zt=4194304;function Br(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function qr(s,i,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?p=Br(u):(x&=S,x!==0?p=Br(x):l||(l=S&~s,l!==0&&(p=Br(l))))):(S=u&~y,S!==0?p=Br(S):x!==0?p=Br(x):l||(l=u&~s,l!==0&&(p=Br(l)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:p}function Tr(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function sp(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jh(){var s=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),s}function $r(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function fa(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ip(s,i,l,u,p,y){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,O=s.expirationTimes,G=s.hiddenUpdates;for(l=x&~l;0<l;){var ne=31-jt(l),oe=1<<ne;S[ne]=0,O[ne]=-1;var Y=G[ne];if(Y!==null)for(G[ne]=null,ne=0;ne<Y.length;ne++){var ee=Y[ne];ee!==null&&(ee.lane&=-536870913)}l&=~oe}u!==0&&ma(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(x&~i))}function ma(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var u=31-jt(i);s.entangledLanes|=i,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function yc(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var u=31-jt(l),p=1<<u;p&i|s[u]&i&&(s[u]|=i),l&=~p}}function vc(s,i){var l=i&-i;return l=(l&42)!==0?1:pa(l),(l&(s.suspendedLanes|i))!==0?0:l}function pa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function _s(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function kh(){var s=de.p;return s!==0?s:(s=window.event,s===void 0?32:fw(s.type))}function Sr(s,i){var l=de.p;try{return de.p=s,i()}finally{de.p=l}}var Ar=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Ar,nn="__reactProps$"+Ar,Hr="__reactContainer$"+Ar,Do="__reactEvents$"+Ar,ap="__reactListeners$"+Ar,Oh="__reactHandles$"+Ar,Ph="__reactResources$"+Ar,Gr="__reactMarker$"+Ar;function jo(s){delete s[Lt],delete s[nn],delete s[Do],delete s[ap],delete s[Oh]}function Kr(s){var i=s[Lt];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Hr]||l[Lt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=X0(s);s!==null;){if(l=s[Lt])return l;s=X0(s)}return i}s=l,l=s.parentNode}return null}function nr(s){if(s=s[Lt]||s[Hr]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Un(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Qr(s){var i=s[Ph];return i||(i=s[Ph]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ut(s){s[Gr]=!0}var _c=new Set,bc={};function Zr(s,i){Yr(s,i),Yr(s+"Capture",i)}function Yr(s,i){for(bc[s]=i,s=0;s<i.length;s++)_c.add(i[s])}var xc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wc={},Ec={};function Mh(s){return Vt.call(Ec,s)?!0:Vt.call(wc,s)?!1:xc.test(s)?Ec[s]=!0:(wc[s]=!0,!1)}function ko(s,i,l){if(Mh(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function Fn(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Ft(s,i,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+u)}}function rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function si(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Tc(s,i,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(x){l=""+x,y.call(this,x)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function rt(s){if(!s._valueTracker){var i=si(s)?"checked":"value";s._valueTracker=Tc(s,i,""+s[i])}}function ga(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return s&&(u=si(s)?s.checked?"true":"false":s.value),s=u,s!==l?(i.setValue(s),!0):!1}function Xr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ya=/[\n"\\]/g;function Dn(s){return s.replace(ya,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oo(s,i,l,u,p,y,x,S){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),i!=null?x==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+rn(i)):s.value!==""+rn(i)&&(s.value=""+rn(i)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),i!=null?Sc(s,x,rn(i)):l!=null?Sc(s,x,rn(l)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+rn(S):s.removeAttribute("name")}function Vh(s,i,l,u,p,y,x,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){rt(s);return}l=l!=null?""+rn(l):"",i=i!=null?""+rn(i):l,S||i===s.value||(s.value=i),s.defaultValue=i}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),rt(s)}function Sc(s,i,l){i==="number"&&Xr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ii(s,i,l,u){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+rn(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function zh(s,i,l){if(i!=null&&(i=""+rn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+rn(l):""}function ai(s,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(r(92));if(Ze(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=rn(i),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),rt(s)}function jn(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Lh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ac(s,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":u?s.setProperty(i,l):typeof l!="number"||l===0||Lh.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Ic(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in i)u=i[p],i.hasOwnProperty(p)&&l[p]!==u&&Ac(s,p,u)}else for(var y in i)i.hasOwnProperty(y)&&Ac(s,y,i[y])}function Po(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(s){return oi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ir(){}var Nc=null;function rr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var li=null,Jr=null;function va(s){var i=nr(s);if(i&&(s=i.stateNode)){var l=s[nn]||null;e:switch(s=i.stateNode,i.type){case"input":if(Oo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==s&&u.form===s.form){var p=u[nn]||null;if(!p)throw Error(r(90));Oo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===s.form&&ga(u)}break e;case"textarea":zh(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ii(s,!!l.multiple,i,!1)}}}var Vo=!1;function ci(s,i,l){if(Vo)return s(i,l);Vo=!0;try{var u=s(i);return u}finally{if(Vo=!1,(li!==null||Jr!==null)&&(kd(),li&&(i=li,s=Jr,Jr=li=null,va(i),s)))for(i=0;i<s.length;i++)va(s[i])}}function Nr(s,i){var l=s.stateNode;if(l===null)return null;var u=l[nn]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=!1;if(sr)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){_a=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{_a=!1}var Wr=null,Rc=null,ba=null;function Cc(){if(ba)return ba;var s,i=Rc,l=i.length,u,p="value"in Wr?Wr.value:Wr.textContent,y=p.length;for(s=0;s<l&&i[s]===p[s];s++);var x=l-s;for(u=1;u<=x&&i[l-u]===p[y-u];u++);return ba=p.slice(s,1<u?1-u:void 0)}function xa(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function bs(){return!0}function Rr(){return!1}function cn(s){function i(l,u,p,y,x){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?bs:Rr,this.isPropagationStopped=Rr,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),i}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=cn(xs),ui=_({},xs,{view:0,detail:0}),Dc=cn(ui),hi,zo,ts,Lo=_({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:di,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ts&&(ts&&s.type==="mousemove"?(hi=s.screenX-ts.screenX,zo=s.screenY-ts.screenY):zo=hi=0,ts=s),hi)},movementY:function(s){return"movementY"in s?s.movementY:zo}}),jc=cn(Lo),wa=_({},Lo,{dataTransfer:0}),Fh=cn(wa),Bh=_({},ui,{relatedTarget:0}),Ea=cn(Bh),kc=_({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),qh=cn(kc),Uo=_({},xs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$h=cn(Uo),Hh=_({},xs,{data:0}),ns=cn(Hh),Gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zh(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Qh[s])?!!i[s]:!1}function di(){return Zh}var En=_({},ui,{key:function(s){if(s.key){var i=Gh[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=xa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Kh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:di,charCode:function(s){return s.type==="keypress"?xa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Yh=cn(En),Xh=_({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=cn(Xh),f=_({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:di}),b=cn(f),w=_({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=cn(w),q=_({},Lo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),J=cn(q),me=_({},xs,{newState:0,oldState:0}),ke=cn(me),kt=[9,13,27,32],We=sr&&"CompositionEvent"in window,yt=null;sr&&"documentMode"in document&&(yt=document.documentMode);var ir=sr&&"TextEvent"in window&&!yt,rs=sr&&(!We||yt&&8<yt&&11>=yt),Cr=" ",Dr=!1;function Ta(s,i){switch(s){case"keyup":return kt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Bo=!1;function HN(s,i){switch(s){case"compositionend":return Fo(i);case"keypress":return i.which!==32?null:(Dr=!0,Cr);case"textInput":return s=i.data,s===Cr&&Dr?null:s;default:return null}}function GN(s,i){if(Bo)return s==="compositionend"||!We&&Ta(s,i)?(s=Cc(),ba=Rc=Wr=null,Bo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return rs&&i.locale!=="ko"?null:i.data;default:return null}}var KN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eb(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!KN[s.type]:i==="textarea"}function tb(s,i,l,u){li?Jr?Jr.push(u):Jr=[u]:li=u,i=Ud(i,"onChange"),0<i.length&&(l=new es("onChange","change",null,l,u),s.push({event:l,listeners:i}))}var Oc=null,Pc=null;function QN(s){V0(s,0)}function Jh(s){var i=Un(s);if(ga(i))return s}function nb(s,i){if(s==="change")return i}var rb=!1;if(sr){var op;if(sr){var lp="oninput"in document;if(!lp){var sb=document.createElement("div");sb.setAttribute("oninput","return;"),lp=typeof sb.oninput=="function"}op=lp}else op=!1;rb=op&&(!document.documentMode||9<document.documentMode)}function ib(){Oc&&(Oc.detachEvent("onpropertychange",ab),Pc=Oc=null)}function ab(s){if(s.propertyName==="value"&&Jh(Pc)){var i=[];tb(i,Pc,s,rr(s)),ci(QN,i)}}function ZN(s,i,l){s==="focusin"?(ib(),Oc=i,Pc=l,Oc.attachEvent("onpropertychange",ab)):s==="focusout"&&ib()}function YN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Jh(Pc)}function XN(s,i){if(s==="click")return Jh(i)}function JN(s,i){if(s==="input"||s==="change")return Jh(i)}function WN(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Bn=typeof Object.is=="function"?Object.is:WN;function Mc(s,i){if(Bn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!Vt.call(i,p)||!Bn(s[p],i[p]))return!1}return!0}function ob(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function lb(s,i){var l=ob(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=i&&u>=i)return{node:l,offset:i-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ob(l)}}function cb(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?cb(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function ub(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Xr(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Xr(s.document)}return i}function cp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var eR=sr&&"documentMode"in document&&11>=document.documentMode,qo=null,up=null,Vc=null,hp=!1;function hb(s,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hp||qo==null||qo!==Xr(u)||(u=qo,"selectionStart"in u&&cp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Vc&&Mc(Vc,u)||(Vc=u,u=Ud(up,"onSelect"),0<u.length&&(i=new es("onSelect","select",null,i,l),s.push({event:i,listeners:u}),i.target=qo)))}function Sa(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var $o={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},dp={},db={};sr&&(db=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Aa(s){if(dp[s])return dp[s];if(!$o[s])return s;var i=$o[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in db)return dp[s]=i[l];return s}var fb=Aa("animationend"),mb=Aa("animationiteration"),pb=Aa("animationstart"),tR=Aa("transitionrun"),nR=Aa("transitionstart"),rR=Aa("transitioncancel"),gb=Aa("transitionend"),yb=new Map,fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fp.push("scrollEnd");function jr(s,i){yb.set(s,i),Zr(i,[s])}var Wh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ar=[],Ho=0,mp=0;function ed(){for(var s=Ho,i=mp=Ho=0;i<s;){var l=ar[i];ar[i++]=null;var u=ar[i];ar[i++]=null;var p=ar[i];ar[i++]=null;var y=ar[i];if(ar[i++]=null,u!==null&&p!==null){var x=u.pending;x===null?p.next=p:(p.next=x.next,x.next=p),u.pending=p}y!==0&&vb(l,p,y)}}function td(s,i,l,u){ar[Ho++]=s,ar[Ho++]=i,ar[Ho++]=l,ar[Ho++]=u,mp|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function pp(s,i,l,u){return td(s,i,l,u),nd(s)}function Ia(s,i){return td(s,null,null,i),nd(s)}function vb(s,i,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&i!==null&&(p=31-jt(l),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[i]:u.push(i),i.lane=l|536870912),y):null}function nd(s){if(50<iu)throw iu=0,Tg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Go={};function sR(s,i,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(s,i,l,u){return new sR(s,i,l,u)}function gp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Es(s,i){var l=s.alternate;return l===null?(l=qn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function _b(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function rd(s,i,l,u,p,y){var x=0;if(u=s,typeof s=="function")gp(s)&&(x=1);else if(typeof s=="string")x=cC(s,l,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=qn(31,l,i,p),s.elementType=C,s.lanes=y,s;case j:return Na(l.children,p,y,i);case P:x=8,p|=24;break;case Z:return s=qn(12,l,i,p|2),s.elementType=Z,s.lanes=y,s;case Q:return s=qn(13,l,i,p),s.elementType=Q,s.lanes=y,s;case ae:return s=qn(19,l,i,p),s.elementType=ae,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:x=10;break e;case X:x=9;break e;case le:x=11;break e;case N:x=14;break e;case A:x=16,u=null;break e}x=29,l=Error(r(130,s===null?"null":typeof s,"")),u=null}return i=qn(x,l,i,p),i.elementType=s,i.type=u,i.lanes=y,i}function Na(s,i,l,u){return s=qn(7,s,u,i),s.lanes=l,s}function yp(s,i,l){return s=qn(6,s,null,i),s.lanes=l,s}function bb(s){var i=qn(18,null,null,0);return i.stateNode=s,i}function vp(s,i,l){return i=qn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var xb=new WeakMap;function or(s,i){if(typeof s=="object"&&s!==null){var l=xb.get(s);return l!==void 0?l:(i={value:s,source:i,stack:mc(i)},xb.set(s,i),i)}return{value:s,source:i,stack:mc(i)}}var Ko=[],Qo=0,sd=null,zc=0,lr=[],cr=0,fi=null,ss=1,is="";function Ts(s,i){Ko[Qo++]=zc,Ko[Qo++]=sd,sd=s,zc=i}function wb(s,i,l){lr[cr++]=ss,lr[cr++]=is,lr[cr++]=fi,fi=s;var u=ss;s=is;var p=32-jt(u)-1;u&=~(1<<p),l+=1;var y=32-jt(i)+p;if(30<y){var x=p-p%5;y=(u&(1<<x)-1).toString(32),u>>=x,p-=x,ss=1<<32-jt(i)+p|l<<p|u,is=y+s}else ss=1<<y|l<<p|u,is=s}function _p(s){s.return!==null&&(Ts(s,1),wb(s,1,0))}function bp(s){for(;s===sd;)sd=Ko[--Qo],Ko[Qo]=null,zc=Ko[--Qo],Ko[Qo]=null;for(;s===fi;)fi=lr[--cr],lr[cr]=null,is=lr[--cr],lr[cr]=null,ss=lr[--cr],lr[cr]=null}function Eb(s,i){lr[cr++]=ss,lr[cr++]=is,lr[cr++]=fi,ss=i.id,is=i.overflow,fi=s}var un=null,pt=null,Ke=!1,mi=null,ur=!1,xp=Error(r(519));function pi(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lc(or(i,s)),xp}function Tb(s){var i=s.stateNode,l=s.type,u=s.memoizedProps;switch(i[Lt]=s,i[nn]=u,l){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(l=0;l<ou.length;l++)Ue(ou[l],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),Vh(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),ai(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||F0(i.textContent,l)?(u.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),u.onScroll!=null&&Ue("scroll",i),u.onScrollEnd!=null&&Ue("scrollend",i),u.onClick!=null&&(i.onclick=Ir),i=!0):i=!1,i||pi(s,!0)}function Sb(s){for(un=s.return;un;)switch(un.tag){case 5:case 31:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:un=un.return}}function Zo(s){if(s!==un)return!1;if(!Ke)return Sb(s),Ke=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Lg(s.type,s.memoizedProps)),l=!l),l&&pt&&pi(s),Sb(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));pt=Y0(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));pt=Y0(s)}else i===27?(i=pt,Ri(s.type)?(s=$g,$g=null,pt=s):pt=i):pt=un?dr(s.stateNode.nextSibling):null;return!0}function Ra(){pt=un=null,Ke=!1}function wp(){var s=mi;return s!==null&&(Mn===null?Mn=s:Mn.push.apply(Mn,s),mi=null),s}function Lc(s){mi===null?mi=[s]:mi.push(s)}var Ep=R(null),Ca=null,Ss=null;function gi(s,i,l){se(Ep,i._currentValue),i._currentValue=l}function As(s){s._currentValue=Ep.current,$(Ep)}function Tp(s,i,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),s===l)break;s=s.return}}function Sp(s,i,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var x=p.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=p;for(var O=0;O<i.length;O++)if(S.context===i[O]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),Tp(y.return,l,s),u||(x=null);break e}y=S.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(r(341));x.lanes|=l,y=x.alternate,y!==null&&(y.lanes|=l),Tp(x,l,s),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===s){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Yo(s,i,l,u){s=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var S=p.type;Bn(p.pendingProps.value,x.value)||(s!==null?s.push(S):s=[S])}}else if(p===xe.current){if(x=p.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(du):s=[du])}p=p.return}s!==null&&Sp(i,s,l,u),i.flags|=262144}function id(s){for(s=s.firstContext;s!==null;){if(!Bn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Da(s){Ca=s,Ss=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hn(s){return Ab(Ca,s)}function ad(s,i){return Ca===null&&Da(s),Ab(s,i)}function Ab(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ss===null){if(s===null)throw Error(r(308));Ss=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Ss=Ss.next=i;return l}var iR=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},aR=t.unstable_scheduleCallback,oR=t.unstable_NormalPriority,Bt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ap(){return{controller:new iR,data:new Map,refCount:0}}function Uc(s){s.refCount--,s.refCount===0&&aR(oR,function(){s.controller.abort()})}var Fc=null,Ip=0,Xo=0,Jo=null;function lR(s,i){if(Fc===null){var l=Fc=[];Ip=0,Xo=Cg(),Jo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ip++,i.then(Ib,Ib),i}function Ib(){if(--Ip===0&&Fc!==null){Jo!==null&&(Jo.status="fulfilled");var s=Fc;Fc=null,Xo=0,Jo=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function cR(s,i){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var Nb=W.S;W.S=function(s,i){h0=wn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&lR(s,i),Nb!==null&&Nb(s,i)};var ja=R(null);function Np(){var s=ja.current;return s!==null?s:mt.pooledCache}function od(s,i){i===null?se(ja,ja.current):se(ja,i.pool)}function Rb(){var s=Np();return s===null?null:{parent:Bt._currentValue,pool:s}}var Wo=Error(r(460)),Rp=Error(r(474)),ld=Error(r(542)),cd={then:function(){}};function Cb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Db(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Ir,Ir),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,kb(s),s;default:if(typeof i.status=="string")i.then(Ir,Ir);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(u){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=u}},function(u){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,kb(s),s}throw Oa=i,Wo}}function ka(s){try{var i=s._init;return i(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Oa=l,Wo):l}}var Oa=null;function jb(){if(Oa===null)throw Error(r(459));var s=Oa;return Oa=null,s}function kb(s){if(s===Wo||s===ld)throw Error(r(483))}var el=null,Bc=0;function ud(s){var i=Bc;return Bc+=1,el===null&&(el=[]),Db(el,s,i)}function qc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function hd(s,i){throw i.$$typeof===E?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Ob(s){function i(F,L){if(s){var H=F.deletions;H===null?(F.deletions=[L],F.flags|=16):H.push(L)}}function l(F,L){if(!s)return null;for(;L!==null;)i(F,L),L=L.sibling;return null}function u(F){for(var L=new Map;F!==null;)F.key!==null?L.set(F.key,F):L.set(F.index,F),F=F.sibling;return L}function p(F,L){return F=Es(F,L),F.index=0,F.sibling=null,F}function y(F,L,H){return F.index=H,s?(H=F.alternate,H!==null?(H=H.index,H<L?(F.flags|=67108866,L):H):(F.flags|=67108866,L)):(F.flags|=1048576,L)}function x(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function S(F,L,H,re){return L===null||L.tag!==6?(L=yp(H,F.mode,re),L.return=F,L):(L=p(L,H),L.return=F,L)}function O(F,L,H,re){var Te=H.type;return Te===j?ne(F,L,H.props.children,re,H.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&ka(Te)===L.type)?(L=p(L,H.props),qc(L,H),L.return=F,L):(L=rd(H.type,H.key,H.props,null,F.mode,re),qc(L,H),L.return=F,L)}function G(F,L,H,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=vp(H,F.mode,re),L.return=F,L):(L=p(L,H.children||[]),L.return=F,L)}function ne(F,L,H,re,Te){return L===null||L.tag!==7?(L=Na(H,F.mode,re,Te),L.return=F,L):(L=p(L,H),L.return=F,L)}function oe(F,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=yp(""+L,F.mode,H),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return H=rd(L.type,L.key,L.props,null,F.mode,H),qc(H,L),H.return=F,H;case D:return L=vp(L,F.mode,H),L.return=F,L;case A:return L=ka(L),oe(F,L,H)}if(Ze(L)||U(L))return L=Na(L,F.mode,H,null),L.return=F,L;if(typeof L.then=="function")return oe(F,ud(L),H);if(L.$$typeof===K)return oe(F,ad(F,L),H);hd(F,L)}return null}function Y(F,L,H,re){var Te=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Te!==null?null:S(F,L,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===Te?O(F,L,H,re):null;case D:return H.key===Te?G(F,L,H,re):null;case A:return H=ka(H),Y(F,L,H,re)}if(Ze(H)||U(H))return Te!==null?null:ne(F,L,H,re,null);if(typeof H.then=="function")return Y(F,L,ud(H),re);if(H.$$typeof===K)return Y(F,L,ad(F,H),re);hd(F,H)}return null}function ee(F,L,H,re,Te){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(H)||null,S(L,F,""+re,Te);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return F=F.get(re.key===null?H:re.key)||null,O(L,F,re,Te);case D:return F=F.get(re.key===null?H:re.key)||null,G(L,F,re,Te);case A:return re=ka(re),ee(F,L,H,re,Te)}if(Ze(re)||U(re))return F=F.get(H)||null,ne(L,F,re,Te,null);if(typeof re.then=="function")return ee(F,L,H,ud(re),Te);if(re.$$typeof===K)return ee(F,L,H,ad(L,re),Te);hd(L,re)}return null}function ge(F,L,H,re){for(var Te=null,Ye=null,be=L,Pe=L=0,qe=null;be!==null&&Pe<H.length;Pe++){be.index>Pe?(qe=be,be=null):qe=be.sibling;var Xe=Y(F,be,H[Pe],re);if(Xe===null){be===null&&(be=qe);break}s&&be&&Xe.alternate===null&&i(F,be),L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe,be=qe}if(Pe===H.length)return l(F,be),Ke&&Ts(F,Pe),Te;if(be===null){for(;Pe<H.length;Pe++)be=oe(F,H[Pe],re),be!==null&&(L=y(be,L,Pe),Ye===null?Te=be:Ye.sibling=be,Ye=be);return Ke&&Ts(F,Pe),Te}for(be=u(be);Pe<H.length;Pe++)qe=ee(be,F,Pe,H[Pe],re),qe!==null&&(s&&qe.alternate!==null&&be.delete(qe.key===null?Pe:qe.key),L=y(qe,L,Pe),Ye===null?Te=qe:Ye.sibling=qe,Ye=qe);return s&&be.forEach(function(Oi){return i(F,Oi)}),Ke&&Ts(F,Pe),Te}function Ie(F,L,H,re){if(H==null)throw Error(r(151));for(var Te=null,Ye=null,be=L,Pe=L=0,qe=null,Xe=H.next();be!==null&&!Xe.done;Pe++,Xe=H.next()){be.index>Pe?(qe=be,be=null):qe=be.sibling;var Oi=Y(F,be,Xe.value,re);if(Oi===null){be===null&&(be=qe);break}s&&be&&Oi.alternate===null&&i(F,be),L=y(Oi,L,Pe),Ye===null?Te=Oi:Ye.sibling=Oi,Ye=Oi,be=qe}if(Xe.done)return l(F,be),Ke&&Ts(F,Pe),Te;if(be===null){for(;!Xe.done;Pe++,Xe=H.next())Xe=oe(F,Xe.value,re),Xe!==null&&(L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe);return Ke&&Ts(F,Pe),Te}for(be=u(be);!Xe.done;Pe++,Xe=H.next())Xe=ee(be,F,Pe,Xe.value,re),Xe!==null&&(s&&Xe.alternate!==null&&be.delete(Xe.key===null?Pe:Xe.key),L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe);return s&&be.forEach(function(bC){return i(F,bC)}),Ke&&Ts(F,Pe),Te}function ft(F,L,H,re){if(typeof H=="object"&&H!==null&&H.type===j&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var Te=H.key;L!==null;){if(L.key===Te){if(Te=H.type,Te===j){if(L.tag===7){l(F,L.sibling),re=p(L,H.props.children),re.return=F,F=re;break e}}else if(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&ka(Te)===L.type){l(F,L.sibling),re=p(L,H.props),qc(re,H),re.return=F,F=re;break e}l(F,L);break}else i(F,L);L=L.sibling}H.type===j?(re=Na(H.props.children,F.mode,re,H.key),re.return=F,F=re):(re=rd(H.type,H.key,H.props,null,F.mode,re),qc(re,H),re.return=F,F=re)}return x(F);case D:e:{for(Te=H.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){l(F,L.sibling),re=p(L,H.children||[]),re.return=F,F=re;break e}else{l(F,L);break}else i(F,L);L=L.sibling}re=vp(H,F.mode,re),re.return=F,F=re}return x(F);case A:return H=ka(H),ft(F,L,H,re)}if(Ze(H))return ge(F,L,H,re);if(U(H)){if(Te=U(H),typeof Te!="function")throw Error(r(150));return H=Te.call(H),Ie(F,L,H,re)}if(typeof H.then=="function")return ft(F,L,ud(H),re);if(H.$$typeof===K)return ft(F,L,ad(F,H),re);hd(F,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(l(F,L.sibling),re=p(L,H),re.return=F,F=re):(l(F,L),re=yp(H,F.mode,re),re.return=F,F=re),x(F)):l(F,L)}return function(F,L,H,re){try{Bc=0;var Te=ft(F,L,H,re);return el=null,Te}catch(be){if(be===Wo||be===ld)throw be;var Ye=qn(29,be,null,F.mode);return Ye.lanes=re,Ye.return=F,Ye}}}var Pa=Ob(!0),Pb=Ob(!1),yi=!1;function Cp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function vi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _i(s,i,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var p=u.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),u.pending=i,i=nd(s),vb(s,null,l),i}return td(s,u,i,l),nd(s)}function $c(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,yc(s,l)}}function jp(s,i){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=x:y=y.next=x,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var kp=!1;function Hc(){if(kp){var s=Jo;if(s!==null)throw s}}function Gc(s,i,l,u){kp=!1;var p=s.updateQueue;yi=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var O=S,G=O.next;O.next=null,x===null?y=G:x.next=G,x=O;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==x&&(S===null?ne.firstBaseUpdate=G:S.next=G,ne.lastBaseUpdate=O))}if(y!==null){var oe=p.baseState;x=0,ne=G=O=null,S=y;do{var Y=S.lane&-536870913,ee=Y!==S.lane;if(ee?(Be&Y)===Y:(u&Y)===Y){Y!==0&&Y===Xo&&(kp=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=s,Ie=S;Y=i;var ft=l;switch(Ie.tag){case 1:if(ge=Ie.payload,typeof ge=="function"){oe=ge.call(ft,oe,Y);break e}oe=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ie.payload,Y=typeof ge=="function"?ge.call(ft,oe,Y):ge,Y==null)break e;oe=_({},oe,Y);break e;case 2:yi=!0}}Y=S.callback,Y!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[Y]:ee.push(Y))}else ee={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(G=ne=ee,O=oe):ne=ne.next=ee,x|=Y;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);ne===null&&(O=oe),p.baseState=O,p.firstBaseUpdate=G,p.lastBaseUpdate=ne,y===null&&(p.shared.lanes=0),Ti|=x,s.lanes=x,s.memoizedState=oe}}function Mb(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Vb(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Mb(l[s],i)}var tl=R(null),dd=R(0);function zb(s,i){s=Ps,se(dd,s),se(tl,i),Ps=s|i.baseLanes}function Op(){se(dd,Ps),se(tl,tl.current)}function Pp(){Ps=dd.current,$(tl),$(dd)}var $n=R(null),hr=null;function bi(s){var i=s.alternate;se(Ot,Ot.current&1),se($n,s),hr===null&&(i===null||tl.current!==null||i.memoizedState!==null)&&(hr=s)}function Mp(s){se(Ot,Ot.current),se($n,s),hr===null&&(hr=s)}function Lb(s){s.tag===22?(se(Ot,Ot.current),se($n,s),hr===null&&(hr=s)):xi()}function xi(){se(Ot,Ot.current),se($n,$n.current)}function Hn(s){$($n),hr===s&&(hr=null),$(Ot)}var Ot=R(0);function fd(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Bg(l)||qg(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Is=0,Oe=null,ht=null,qt=null,md=!1,nl=!1,Ma=!1,pd=0,Kc=0,rl=null,uR=0;function At(){throw Error(r(321))}function Vp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Bn(s[l],i[l]))return!1;return!0}function zp(s,i,l,u,p,y){return Is=y,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=s===null||s.memoizedState===null?wx:Wp,Ma=!1,y=l(u,p),Ma=!1,nl&&(y=Fb(i,l,u,p)),Ub(s),y}function Ub(s){W.H=Yc;var i=ht!==null&&ht.next!==null;if(Is=0,qt=ht=Oe=null,md=!1,Kc=0,rl=null,i)throw Error(r(300));s===null||$t||(s=s.dependencies,s!==null&&id(s)&&($t=!0))}function Fb(s,i,l,u){Oe=s;var p=0;do{if(nl&&(rl=null),Kc=0,nl=!1,25<=p)throw Error(r(301));if(p+=1,qt=ht=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=Ex,y=i(l,u)}while(nl);return y}function hR(){var s=W.H,i=s.useState()[0];return i=typeof i.then=="function"?Qc(i):i,s=s.useState()[0],(ht!==null?ht.memoizedState:null)!==s&&(Oe.flags|=1024),i}function Lp(){var s=pd!==0;return pd=0,s}function Up(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Fp(s){if(md){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}md=!1}Is=0,qt=ht=Oe=null,nl=!1,Kc=pd=0,rl=null}function Tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Oe.memoizedState=qt=s:qt=qt.next=s,qt}function Pt(){if(ht===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=ht.next;var i=qt===null?Oe.memoizedState:qt.next;if(i!==null)qt=i,ht=s;else{if(s===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));ht=s,s={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},qt===null?Oe.memoizedState=qt=s:qt=qt.next=s}return qt}function gd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qc(s){var i=Kc;return Kc+=1,rl===null&&(rl=[]),s=Db(rl,s,i),i=Oe,(qt===null?i.memoizedState:qt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?wx:Wp),s}function yd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Qc(s);if(s.$$typeof===K)return hn(s)}throw Error(r(438,String(s)))}function Bp(s){var i=null,l=Oe.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=gd(),Oe.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),u=0;u<s;u++)l[u]=z;return i.index++,l}function Ns(s,i){return typeof i=="function"?i(s):i}function vd(s){var i=Pt();return qp(i,ht,s)}function qp(s,i,l){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}i.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{i=p.next;var S=x=null,O=null,G=i,ne=!1;do{var oe=G.lane&-536870913;if(oe!==G.lane?(Be&oe)===oe:(Is&oe)===oe){var Y=G.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),oe===Xo&&(ne=!0);else if((Is&Y)===Y){G=G.next,Y===Xo&&(ne=!0);continue}else oe={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(S=O=oe,x=y):O=O.next=oe,Oe.lanes|=Y,Ti|=Y;oe=G.action,Ma&&l(y,oe),y=G.hasEagerState?G.eagerState:l(y,oe)}else Y={lane:oe,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(S=O=Y,x=y):O=O.next=Y,Oe.lanes|=oe,Ti|=oe;G=G.next}while(G!==null&&G!==i);if(O===null?x=y:O.next=S,!Bn(y,s.memoizedState)&&($t=!0,ne&&(l=Jo,l!==null)))throw l;s.memoizedState=y,s.baseState=x,s.baseQueue=O,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function $p(s){var i=Pt(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var x=p=p.next;do y=s(y,x.action),x=x.next;while(x!==p);Bn(y,i.memoizedState)||($t=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,u]}function Bb(s,i,l){var u=Oe,p=Pt(),y=Ke;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=i();var x=!Bn((ht||p).memoizedState,l);if(x&&(p.memoizedState=l,$t=!0),p=p.queue,Kp(Hb.bind(null,u,p,s),[s]),p.getSnapshot!==i||x||qt!==null&&qt.memoizedState.tag&1){if(u.flags|=2048,sl(9,{destroy:void 0},$b.bind(null,u,p,l,i),null),mt===null)throw Error(r(349));y||(Is&127)!==0||qb(u,i,l)}return l}function qb(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Oe.updateQueue,i===null?(i=gd(),Oe.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function $b(s,i,l,u){i.value=l,i.getSnapshot=u,Gb(i)&&Kb(s)}function Hb(s,i,l){return l(function(){Gb(i)&&Kb(s)})}function Gb(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Bn(s,l)}catch{return!0}}function Kb(s){var i=Ia(s,2);i!==null&&Vn(i,s,2)}function Hp(s){var i=Tn();if(typeof s=="function"){var l=s;if(s=l(),Ma){tr(!0);try{l()}finally{tr(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:s},i}function Qb(s,i,l,u){return s.baseState=l,qp(s,ht,typeof u=="function"?u:Ns)}function dR(s,i,l,u,p){if(xd(s))throw Error(r(485));if(s=i.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};W.T!==null?l(!0):y.isTransition=!1,u(y),l=i.pending,l===null?(y.next=i.pending=y,Zb(i,y)):(y.next=l.next,i.pending=l.next=y)}}function Zb(s,i){var l=i.action,u=i.payload,p=s.state;if(i.isTransition){var y=W.T,x={};W.T=x;try{var S=l(p,u),O=W.S;O!==null&&O(x,S),Yb(s,i,S)}catch(G){Gp(s,i,G)}finally{y!==null&&x.types!==null&&(y.types=x.types),W.T=y}}else try{y=l(p,u),Yb(s,i,y)}catch(G){Gp(s,i,G)}}function Yb(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Xb(s,i,u)},function(u){return Gp(s,i,u)}):Xb(s,i,l)}function Xb(s,i,l){i.status="fulfilled",i.value=l,Jb(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,Zb(s,l)))}function Gp(s,i,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,Jb(i),i=i.next;while(i!==u)}s.action=null}function Jb(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function Wb(s,i){return i}function ex(s,i){if(Ke){var l=mt.formState;if(l!==null){e:{var u=Oe;if(Ke){if(pt){t:{for(var p=pt,y=ur;p.nodeType!==8;){if(!y){p=null;break t}if(p=dr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){pt=dr(p.nextSibling),u=p.data==="F!";break e}}pi(u)}u=!1}u&&(i=l[0])}}return l=Tn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wb,lastRenderedState:i},l.queue=u,l=_x.bind(null,Oe,u),u.dispatch=l,u=Hp(!1),y=Jp.bind(null,Oe,!1,u.queue),u=Tn(),p={state:i,dispatch:null,action:s,pending:null},u.queue=p,l=dR.bind(null,Oe,p,y,l),p.dispatch=l,u.memoizedState=s,[i,l,!1]}function tx(s){var i=Pt();return nx(i,ht,s)}function nx(s,i,l){if(i=qp(s,i,Wb)[0],s=vd(Ns)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Qc(i)}catch(x){throw x===Wo?ld:x}else u=i;i=Pt();var p=i.queue,y=p.dispatch;return l!==i.memoizedState&&(Oe.flags|=2048,sl(9,{destroy:void 0},fR.bind(null,p,l),null)),[u,y,s]}function fR(s,i){s.action=i}function rx(s){var i=Pt(),l=ht;if(l!==null)return nx(i,l,s);Pt(),i=i.memoizedState,l=Pt();var u=l.queue.dispatch;return l.memoizedState=s,[i,u,!1]}function sl(s,i,l,u){return s={tag:s,create:l,deps:u,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=gd(),Oe.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,i.lastEffect=s),s}function sx(){return Pt().memoizedState}function _d(s,i,l,u){var p=Tn();Oe.flags|=s,p.memoizedState=sl(1|i,{destroy:void 0},l,u===void 0?null:u)}function bd(s,i,l,u){var p=Pt();u=u===void 0?null:u;var y=p.memoizedState.inst;ht!==null&&u!==null&&Vp(u,ht.memoizedState.deps)?p.memoizedState=sl(i,y,l,u):(Oe.flags|=s,p.memoizedState=sl(1|i,y,l,u))}function ix(s,i){_d(8390656,8,s,i)}function Kp(s,i){bd(2048,8,s,i)}function mR(s){Oe.flags|=4;var i=Oe.updateQueue;if(i===null)i=gd(),Oe.updateQueue=i,i.events=[s];else{var l=i.events;l===null?i.events=[s]:l.push(s)}}function ax(s){var i=Pt().memoizedState;return mR({ref:i,nextImpl:s}),function(){if((et&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function ox(s,i){return bd(4,2,s,i)}function lx(s,i){return bd(4,4,s,i)}function cx(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function ux(s,i,l){l=l!=null?l.concat([s]):null,bd(4,4,cx.bind(null,i,s),l)}function Qp(){}function hx(s,i){var l=Pt();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Vp(i,u[1])?u[0]:(l.memoizedState=[s,i],s)}function dx(s,i){var l=Pt();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Vp(i,u[1]))return u[0];if(u=s(),Ma){tr(!0);try{s()}finally{tr(!1)}}return l.memoizedState=[u,i],u}function Zp(s,i,l){return l===void 0||(Is&1073741824)!==0&&(Be&261930)===0?s.memoizedState=i:(s.memoizedState=l,s=f0(),Oe.lanes|=s,Ti|=s,l)}function fx(s,i,l,u){return Bn(l,i)?l:tl.current!==null?(s=Zp(s,l,u),Bn(s,i)||($t=!0),s):(Is&42)===0||(Is&1073741824)!==0&&(Be&261930)===0?($t=!0,s.memoizedState=l):(s=f0(),Oe.lanes|=s,Ti|=s,i)}function mx(s,i,l,u,p){var y=de.p;de.p=y!==0&&8>y?y:8;var x=W.T,S={};W.T=S,Jp(s,!1,i,l);try{var O=p(),G=W.S;if(G!==null&&G(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=cR(O,u);Zc(s,i,ne,Qn(s))}else Zc(s,i,u,Qn(s))}catch(oe){Zc(s,i,{then:function(){},status:"rejected",reason:oe},Qn())}finally{de.p=y,x!==null&&S.types!==null&&(x.types=S.types),W.T=x}}function pR(){}function Yp(s,i,l,u){if(s.tag!==5)throw Error(r(476));var p=px(s).queue;mx(s,p,i,ce,l===null?pR:function(){return gx(s),l(u)})}function px(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:ce},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function gx(s){var i=px(s);i.next===null&&(i=s.alternate.memoizedState),Zc(s,i.next.queue,{},Qn())}function Xp(){return hn(du)}function yx(){return Pt().memoizedState}function vx(){return Pt().memoizedState}function gR(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Qn();s=vi(l);var u=_i(i,s,l);u!==null&&(Vn(u,i,l),$c(u,i,l)),i={cache:Ap()},s.payload=i;return}i=i.return}}function yR(s,i,l){var u=Qn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xd(s)?bx(i,l):(l=pp(s,i,l,u),l!==null&&(Vn(l,s,u),xx(l,i,u)))}function _x(s,i,l){var u=Qn();Zc(s,i,l,u)}function Zc(s,i,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(xd(s))bx(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,S=y(x,l);if(p.hasEagerState=!0,p.eagerState=S,Bn(S,x))return td(s,i,p,0),mt===null&&ed(),!1}catch{}if(l=pp(s,i,p,u),l!==null)return Vn(l,s,u),xx(l,i,u),!0}return!1}function Jp(s,i,l,u){if(u={lane:2,revertLane:Cg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},xd(s)){if(i)throw Error(r(479))}else i=pp(s,l,u,2),i!==null&&Vn(i,s,2)}function xd(s){var i=s.alternate;return s===Oe||i!==null&&i===Oe}function bx(s,i){nl=md=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function xx(s,i,l){if((l&4194048)!==0){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,yc(s,l)}}var Yc={readContext:hn,use:yd,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Yc.useEffectEvent=At;var wx={readContext:hn,use:yd,useCallback:function(s,i){return Tn().memoizedState=[s,i===void 0?null:i],s},useContext:hn,useEffect:ix,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,_d(4194308,4,cx.bind(null,i,s),l)},useLayoutEffect:function(s,i){return _d(4194308,4,s,i)},useInsertionEffect:function(s,i){_d(4,2,s,i)},useMemo:function(s,i){var l=Tn();i=i===void 0?null:i;var u=s();if(Ma){tr(!0);try{s()}finally{tr(!1)}}return l.memoizedState=[u,i],u},useReducer:function(s,i,l){var u=Tn();if(l!==void 0){var p=l(i);if(Ma){tr(!0);try{l(i)}finally{tr(!1)}}}else p=i;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=yR.bind(null,Oe,s),[u.memoizedState,s]},useRef:function(s){var i=Tn();return s={current:s},i.memoizedState=s},useState:function(s){s=Hp(s);var i=s.queue,l=_x.bind(null,Oe,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Qp,useDeferredValue:function(s,i){var l=Tn();return Zp(l,s,i)},useTransition:function(){var s=Hp(!1);return s=mx.bind(null,Oe,s.queue,!0,!1),Tn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var u=Oe,p=Tn();if(Ke){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),mt===null)throw Error(r(349));(Be&127)!==0||qb(u,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,ix(Hb.bind(null,u,y,s),[s]),u.flags|=2048,sl(9,{destroy:void 0},$b.bind(null,u,y,l,i),null),l},useId:function(){var s=Tn(),i=mt.identifierPrefix;if(Ke){var l=is,u=ss;l=(u&~(1<<32-jt(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=pd++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=uR++,i="_"+i+"r_"+l.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:Xp,useFormState:ex,useActionState:ex,useOptimistic:function(s){var i=Tn();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Jp.bind(null,Oe,!0,l),l.dispatch=i,[s,i]},useMemoCache:Bp,useCacheRefresh:function(){return Tn().memoizedState=gR.bind(null,Oe)},useEffectEvent:function(s){var i=Tn(),l={impl:s};return i.memoizedState=l,function(){if((et&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Wp={readContext:hn,use:yd,useCallback:hx,useContext:hn,useEffect:Kp,useImperativeHandle:ux,useInsertionEffect:ox,useLayoutEffect:lx,useMemo:dx,useReducer:vd,useRef:sx,useState:function(){return vd(Ns)},useDebugValue:Qp,useDeferredValue:function(s,i){var l=Pt();return fx(l,ht.memoizedState,s,i)},useTransition:function(){var s=vd(Ns)[0],i=Pt().memoizedState;return[typeof s=="boolean"?s:Qc(s),i]},useSyncExternalStore:Bb,useId:yx,useHostTransitionStatus:Xp,useFormState:tx,useActionState:tx,useOptimistic:function(s,i){var l=Pt();return Qb(l,ht,s,i)},useMemoCache:Bp,useCacheRefresh:vx};Wp.useEffectEvent=ax;var Ex={readContext:hn,use:yd,useCallback:hx,useContext:hn,useEffect:Kp,useImperativeHandle:ux,useInsertionEffect:ox,useLayoutEffect:lx,useMemo:dx,useReducer:$p,useRef:sx,useState:function(){return $p(Ns)},useDebugValue:Qp,useDeferredValue:function(s,i){var l=Pt();return ht===null?Zp(l,s,i):fx(l,ht.memoizedState,s,i)},useTransition:function(){var s=$p(Ns)[0],i=Pt().memoizedState;return[typeof s=="boolean"?s:Qc(s),i]},useSyncExternalStore:Bb,useId:yx,useHostTransitionStatus:Xp,useFormState:rx,useActionState:rx,useOptimistic:function(s,i){var l=Pt();return ht!==null?Qb(l,ht,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Bp,useCacheRefresh:vx};Ex.useEffectEvent=ax;function eg(s,i,l,u){i=s.memoizedState,l=l(u,i),l=l==null?i:_({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var tg={enqueueSetState:function(s,i,l){s=s._reactInternals;var u=Qn(),p=vi(u);p.payload=i,l!=null&&(p.callback=l),i=_i(s,p,u),i!==null&&(Vn(i,s,u),$c(i,s,u))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var u=Qn(),p=vi(u);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=_i(s,p,u),i!==null&&(Vn(i,s,u),$c(i,s,u))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Qn(),u=vi(l);u.tag=2,i!=null&&(u.callback=i),i=_i(s,u,l),i!==null&&(Vn(i,s,l),$c(i,s,l))}};function Tx(s,i,l,u,p,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,x):i.prototype&&i.prototype.isPureReactComponent?!Mc(l,u)||!Mc(p,y):!0}function Sx(s,i,l,u){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==s&&tg.enqueueReplaceState(i,i.state,null)}function Va(s,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(s=s.defaultProps){l===i&&(l=_({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}function Ax(s){Wh(s)}function Ix(s){console.error(s)}function Nx(s){Wh(s)}function wd(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Rx(s,i,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ng(s,i,l){return l=vi(l),l.tag=3,l.payload={element:null},l.callback=function(){wd(s,i)},l}function Cx(s){return s=vi(s),s.tag=3,s}function Dx(s,i,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){Rx(i,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){Rx(i,l,u),typeof p!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function vR(s,i,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Yo(i,l,p,!0),l=$n.current,l!==null){switch(l.tag){case 31:case 13:return hr===null?Od():l.alternate===null&&It===0&&(It=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===cd?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Ig(s,u,p)),!1;case 22:return l.flags|=65536,u===cd?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Ig(s,u,p)),!1}throw Error(r(435,l.tag))}return Ig(s,u,p),Od(),!1}if(Ke)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,u!==xp&&(s=Error(r(422),{cause:u}),Lc(or(s,l)))):(u!==xp&&(i=Error(r(423),{cause:u}),Lc(or(i,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=or(u,l),p=ng(s.stateNode,u,p),jp(s,p),It!==4&&(It=2)),!1;var y=Error(r(520),{cause:u});if(y=or(y,l),su===null?su=[y]:su.push(y),It!==4&&(It=2),i===null)return!0;u=or(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=ng(l.stateNode,u,s),jp(l,s),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Si===null||!Si.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Cx(p),Dx(p,s,l,u),jp(l,p),!1}l=l.return}while(l!==null);return!1}var rg=Error(r(461)),$t=!1;function dn(s,i,l,u){i.child=s===null?Pb(i,null,l,u):Pa(i,s.child,l,u)}function jx(s,i,l,u,p){l=l.render;var y=i.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return Da(i),u=zp(s,i,l,x,y,p),S=Lp(),s!==null&&!$t?(Up(s,i,p),Rs(s,i,p)):(Ke&&S&&_p(i),i.flags|=1,dn(s,i,u,p),i.child)}function kx(s,i,l,u,p){if(s===null){var y=l.type;return typeof y=="function"&&!gp(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,Ox(s,i,y,u,p)):(s=rd(l.type,null,u,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,!hg(s,p)){var x=y.memoizedProps;if(l=l.compare,l=l!==null?l:Mc,l(x,u)&&s.ref===i.ref)return Rs(s,i,p)}return i.flags|=1,s=Es(y,u),s.ref=i.ref,s.return=i,i.child=s}function Ox(s,i,l,u,p){if(s!==null){var y=s.memoizedProps;if(Mc(y,u)&&s.ref===i.ref)if($t=!1,i.pendingProps=u=y,hg(s,p))(s.flags&131072)!==0&&($t=!0);else return i.lanes=s.lanes,Rs(s,i,p)}return sg(s,i,l,u,p)}function Px(s,i,l,u){var p=u.children,y=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,s!==null){for(u=i.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,i.child=null;return Mx(s,i,y,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&od(i,y!==null?y.cachePool:null),y!==null?zb(i,y):Op(),Lb(i);else return u=i.lanes=536870912,Mx(s,i,y!==null?y.baseLanes|l:l,l,u)}else y!==null?(od(i,y.cachePool),zb(i,y),xi(),i.memoizedState=null):(s!==null&&od(i,null),Op(),xi());return dn(s,i,p,l),i.child}function Xc(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Mx(s,i,l,u,p){var y=Np();return y=y===null?null:{parent:Bt._currentValue,pool:y},i.memoizedState={baseLanes:l,cachePool:y},s!==null&&od(i,null),Op(),Lb(i),s!==null&&Yo(s,i,u,!0),i.childLanes=p,null}function Ed(s,i){return i=Sd({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function Vx(s,i,l){return Pa(i,s.child,null,l),s=Ed(i,i.pendingProps),s.flags|=2,Hn(i),i.memoizedState=null,s}function _R(s,i,l){var u=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Ke){if(u.mode==="hidden")return s=Ed(i,u),i.lanes=536870912,Xc(null,s);if(Mp(i),(s=pt)?(s=Z0(s,ur),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:fi!==null?{id:ss,overflow:is}:null,retryLane:536870912,hydrationErrors:null},l=bb(s),l.return=i,i.child=l,un=i,pt=null)):s=null,s===null)throw pi(i);return i.lanes=536870912,null}return Ed(i,u)}var y=s.memoizedState;if(y!==null){var x=y.dehydrated;if(Mp(i),p)if(i.flags&256)i.flags&=-257,i=Vx(s,i,l);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if($t||Yo(s,i,l,!1),p=(l&s.childLanes)!==0,$t||p){if(u=mt,u!==null&&(x=vc(u,l),x!==0&&x!==y.retryLane))throw y.retryLane=x,Ia(s,x),Vn(u,s,x),rg;Od(),i=Vx(s,i,l)}else s=y.treeContext,pt=dr(x.nextSibling),un=i,Ke=!0,mi=null,ur=!1,s!==null&&Eb(i,s),i=Ed(i,u),i.flags|=4096;return i}return s=Es(s.child,{mode:u.mode,children:u.children}),s.ref=i.ref,i.child=s,s.return=i,s}function Td(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function sg(s,i,l,u,p){return Da(i),l=zp(s,i,l,u,void 0,p),u=Lp(),s!==null&&!$t?(Up(s,i,p),Rs(s,i,p)):(Ke&&u&&_p(i),i.flags|=1,dn(s,i,l,p),i.child)}function zx(s,i,l,u,p,y){return Da(i),i.updateQueue=null,l=Fb(i,u,l,p),Ub(s),u=Lp(),s!==null&&!$t?(Up(s,i,y),Rs(s,i,y)):(Ke&&u&&_p(i),i.flags|=1,dn(s,i,l,y),i.child)}function Lx(s,i,l,u,p){if(Da(i),i.stateNode===null){var y=Go,x=l.contextType;typeof x=="object"&&x!==null&&(y=hn(x)),y=new l(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=tg,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},Cp(i),x=l.contextType,y.context=typeof x=="object"&&x!==null?hn(x):Go,y.state=i.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(eg(i,l,x,u),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&tg.enqueueReplaceState(y,y.state,null),Gc(i,u,y,p),Hc(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(s===null){y=i.stateNode;var S=i.memoizedProps,O=Va(l,S);y.props=O;var G=y.context,ne=l.contextType;x=Go,typeof ne=="object"&&ne!==null&&(x=hn(ne));var oe=l.getDerivedStateFromProps;ne=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||G!==x)&&Sx(i,y,u,x),yi=!1;var Y=i.memoizedState;y.state=Y,Gc(i,u,y,p),Hc(),G=i.memoizedState,S||Y!==G||yi?(typeof oe=="function"&&(eg(i,l,oe,u),G=i.memoizedState),(O=yi||Tx(i,l,O,u,Y,G,x))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=G),y.props=u,y.state=G,y.context=x,u=O):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,Dp(s,i),x=i.memoizedProps,ne=Va(l,x),y.props=ne,oe=i.pendingProps,Y=y.context,G=l.contextType,O=Go,typeof G=="object"&&G!==null&&(O=hn(G)),S=l.getDerivedStateFromProps,(G=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==oe||Y!==O)&&Sx(i,y,u,O),yi=!1,Y=i.memoizedState,y.state=Y,Gc(i,u,y,p),Hc();var ee=i.memoizedState;x!==oe||Y!==ee||yi||s!==null&&s.dependencies!==null&&id(s.dependencies)?(typeof S=="function"&&(eg(i,l,S,u),ee=i.memoizedState),(ne=yi||Tx(i,l,ne,u,Y,ee,O)||s!==null&&s.dependencies!==null&&id(s.dependencies))?(G||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ee,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ee,O)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ee),y.props=u,y.state=ee,y.context=O,u=ne):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(i.flags|=1024),u=!1)}return y=u,Td(s,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,s!==null&&u?(i.child=Pa(i,s.child,null,p),i.child=Pa(i,null,l,p)):dn(s,i,l,p),i.memoizedState=y.state,s=i.child):s=Rs(s,i,p),s}function Ux(s,i,l,u){return Ra(),i.flags|=256,dn(s,i,l,u),i.child}var ig={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ag(s){return{baseLanes:s,cachePool:Rb()}}function og(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Kn),s}function Fx(s,i,l){var u=i.pendingProps,p=!1,y=(i.flags&128)!==0,x;if((x=y)||(x=s!==null&&s.memoizedState===null?!1:(Ot.current&2)!==0),x&&(p=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,s===null){if(Ke){if(p?bi(i):xi(),(s=pt)?(s=Z0(s,ur),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:fi!==null?{id:ss,overflow:is}:null,retryLane:536870912,hydrationErrors:null},l=bb(s),l.return=i,i.child=l,un=i,pt=null)):s=null,s===null)throw pi(i);return qg(s)?i.lanes=32:i.lanes=536870912,null}var S=u.children;return u=u.fallback,p?(xi(),p=i.mode,S=Sd({mode:"hidden",children:S},p),u=Na(u,p,l,null),S.return=i,u.return=i,S.sibling=u,i.child=S,u=i.child,u.memoizedState=ag(l),u.childLanes=og(s,x,l),i.memoizedState=ig,Xc(null,u)):(bi(i),lg(i,S))}var O=s.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(y)i.flags&256?(bi(i),i.flags&=-257,i=cg(s,i,l)):i.memoizedState!==null?(xi(),i.child=s.child,i.flags|=128,i=null):(xi(),S=u.fallback,p=i.mode,u=Sd({mode:"visible",children:u.children},p),S=Na(S,p,l,null),S.flags|=2,u.return=i,S.return=i,u.sibling=S,i.child=u,Pa(i,s.child,null,l),u=i.child,u.memoizedState=ag(l),u.childLanes=og(s,x,l),i.memoizedState=ig,i=Xc(null,u));else if(bi(i),qg(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var G=x.dgst;x=G,u=Error(r(419)),u.stack="",u.digest=x,Lc({value:u,source:null,stack:null}),i=cg(s,i,l)}else if($t||Yo(s,i,l,!1),x=(l&s.childLanes)!==0,$t||x){if(x=mt,x!==null&&(u=vc(x,l),u!==0&&u!==O.retryLane))throw O.retryLane=u,Ia(s,u),Vn(x,s,u),rg;Bg(S)||Od(),i=cg(s,i,l)}else Bg(S)?(i.flags|=192,i.child=s.child,i=null):(s=O.treeContext,pt=dr(S.nextSibling),un=i,Ke=!0,mi=null,ur=!1,s!==null&&Eb(i,s),i=lg(i,u.children),i.flags|=4096);return i}return p?(xi(),S=u.fallback,p=i.mode,O=s.child,G=O.sibling,u=Es(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,G!==null?S=Es(G,S):(S=Na(S,p,l,null),S.flags|=2),S.return=i,u.return=i,u.sibling=S,i.child=u,Xc(null,u),u=i.child,S=s.child.memoizedState,S===null?S=ag(l):(p=S.cachePool,p!==null?(O=Bt._currentValue,p=p.parent!==O?{parent:O,pool:O}:p):p=Rb(),S={baseLanes:S.baseLanes|l,cachePool:p}),u.memoizedState=S,u.childLanes=og(s,x,l),i.memoizedState=ig,Xc(s.child,u)):(bi(i),l=s.child,s=l.sibling,l=Es(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,s!==null&&(x=i.deletions,x===null?(i.deletions=[s],i.flags|=16):x.push(s)),i.child=l,i.memoizedState=null,l)}function lg(s,i){return i=Sd({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Sd(s,i){return s=qn(22,s,null,i),s.lanes=0,s}function cg(s,i,l){return Pa(i,s.child,null,l),s=lg(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Bx(s,i,l){s.lanes|=i;var u=s.alternate;u!==null&&(u.lanes|=i),Tp(s.return,i,l)}function ug(s,i,l,u,p,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:y}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=p,x.treeForkCount=y)}function qx(s,i,l){var u=i.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var x=Ot.current,S=(x&2)!==0;if(S?(x=x&1|2,i.flags|=128):x&=1,se(Ot,x),dn(s,i,u,l),u=Ke?zc:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Bx(s,l,i);else if(s.tag===19)Bx(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&fd(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),ug(i,!1,p,l,y,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&fd(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}ug(i,!0,l,null,y,u);break;case"together":ug(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Rs(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Ti|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Yo(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=Es(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Es(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function hg(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&id(s)))}function bR(s,i,l){switch(i.tag){case 3:St(i,i.stateNode.containerInfo),gi(i,Bt,s.memoizedState.cache),Ra();break;case 27:case 5:er(i);break;case 4:St(i,i.stateNode.containerInfo);break;case 10:gi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Mp(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(bi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Fx(s,i,l):(bi(i),s=Rs(s,i,l),s!==null?s.sibling:null);bi(i);break;case 19:var p=(s.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Yo(s,i,l,!1),u=(l&i.childLanes)!==0),p){if(u)return qx(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),se(Ot,Ot.current),u)break;return null;case 22:return i.lanes=0,Px(s,i,l,i.pendingProps);case 24:gi(i,Bt,s.memoizedState.cache)}return Rs(s,i,l)}function $x(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)$t=!0;else{if(!hg(s,l)&&(i.flags&128)===0)return $t=!1,bR(s,i,l);$t=(s.flags&131072)!==0}else $t=!1,Ke&&(i.flags&1048576)!==0&&wb(i,zc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(s=ka(i.elementType),i.type=s,typeof s=="function")gp(s)?(u=Va(s,u),i.tag=1,i=Lx(null,i,s,u,l)):(i.tag=0,i=sg(null,i,s,u,l));else{if(s!=null){var p=s.$$typeof;if(p===le){i.tag=11,i=jx(null,i,s,u,l);break e}else if(p===N){i.tag=14,i=kx(null,i,s,u,l);break e}}throw i=Ge(s)||s,Error(r(306,i,""))}}return i;case 0:return sg(s,i,i.type,i.pendingProps,l);case 1:return u=i.type,p=Va(u,i.pendingProps),Lx(s,i,u,p,l);case 3:e:{if(St(i,i.stateNode.containerInfo),s===null)throw Error(r(387));u=i.pendingProps;var y=i.memoizedState;p=y.element,Dp(s,i),Gc(i,u,null,l);var x=i.memoizedState;if(u=x.cache,gi(i,Bt,u),u!==y.cache&&Sp(i,[Bt],l,!0),Hc(),u=x.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Ux(s,i,u,l);break e}else if(u!==p){p=or(Error(r(424)),i),Lc(p),i=Ux(s,i,u,l);break e}else for(s=i.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,pt=dr(s.firstChild),un=i,Ke=!0,mi=null,ur=!0,l=Pb(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ra(),u===p){i=Rs(s,i,l);break e}dn(s,i,u,l)}i=i.child}return i;case 26:return Td(s,i),s===null?(l=tw(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ke||(l=i.type,s=i.pendingProps,u=Fd(Ne.current).createElement(l),u[Lt]=i,u[nn]=s,fn(u,l,s),Ut(u),i.stateNode=u):i.memoizedState=tw(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return er(i),s===null&&Ke&&(u=i.stateNode=J0(i.type,i.pendingProps,Ne.current),un=i,ur=!0,p=pt,Ri(i.type)?($g=p,pt=dr(u.firstChild)):pt=p),dn(s,i,i.pendingProps.children,l),Td(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Ke&&((p=u=pt)&&(u=YR(u,i.type,i.pendingProps,ur),u!==null?(i.stateNode=u,un=i,pt=dr(u.firstChild),ur=!1,p=!0):p=!1),p||pi(i)),er(i),p=i.type,y=i.pendingProps,x=s!==null?s.memoizedProps:null,u=y.children,Lg(p,y)?u=null:x!==null&&Lg(p,x)&&(i.flags|=32),i.memoizedState!==null&&(p=zp(s,i,hR,null,null,l),du._currentValue=p),Td(s,i),dn(s,i,u,l),i.child;case 6:return s===null&&Ke&&((s=l=pt)&&(l=XR(l,i.pendingProps,ur),l!==null?(i.stateNode=l,un=i,pt=null,s=!0):s=!1),s||pi(i)),null;case 13:return Fx(s,i,l);case 4:return St(i,i.stateNode.containerInfo),u=i.pendingProps,s===null?i.child=Pa(i,null,u,l):dn(s,i,u,l),i.child;case 11:return jx(s,i,i.type,i.pendingProps,l);case 7:return dn(s,i,i.pendingProps,l),i.child;case 8:return dn(s,i,i.pendingProps.children,l),i.child;case 12:return dn(s,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,gi(i,i.type,u.value),dn(s,i,u.children,l),i.child;case 9:return p=i.type._context,u=i.pendingProps.children,Da(i),p=hn(p),u=u(p),i.flags|=1,dn(s,i,u,l),i.child;case 14:return kx(s,i,i.type,i.pendingProps,l);case 15:return Ox(s,i,i.type,i.pendingProps,l);case 19:return qx(s,i,l);case 31:return _R(s,i,l);case 22:return Px(s,i,l,i.pendingProps);case 24:return Da(i),u=hn(Bt),s===null?(p=Np(),p===null&&(p=mt,y=Ap(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),i.memoizedState={parent:u,cache:p},Cp(i),gi(i,Bt,p)):((s.lanes&l)!==0&&(Dp(s,i),Gc(i,null,null,l),Hc()),p=s.memoizedState,y=i.memoizedState,p.parent!==u?(p={parent:u,cache:u},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),gi(i,Bt,u)):(u=y.cache,gi(i,Bt,u),u!==p.cache&&Sp(i,[Bt],l,!0))),dn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Cs(s){s.flags|=4}function dg(s,i,l,u,p){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(y0())s.flags|=8192;else throw Oa=cd,Rp}else s.flags&=-16777217}function Hx(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!aw(i))if(y0())s.flags|=8192;else throw Oa=cd,Rp}function Ad(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?jh():536870912,s.lanes|=i,ll|=i)}function Jc(s,i){if(!Ke)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function gt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,i}function xR(s,i,l){var u=i.pendingProps;switch(bp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return l=i.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),As(Bt),nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Zo(i)?Cs(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wp())),gt(i),null;case 26:var p=i.type,y=i.memoizedState;return s===null?(Cs(i),y!==null?(gt(i),Hx(i,y)):(gt(i),dg(i,p,null,u,l))):y?y!==s.memoizedState?(Cs(i),gt(i),Hx(i,y)):(gt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==u&&Cs(i),gt(i),dg(i,p,s,u,l)),null;case 27:if(Lr(i),l=Ne.current,p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Cs(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return gt(i),null}s=ue.current,Zo(i)?Tb(i):(s=J0(p,u,l),i.stateNode=s,Cs(i))}return gt(i),null;case 5:if(Lr(i),p=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Cs(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return gt(i),null}if(y=ue.current,Zo(i))Tb(i);else{var x=Fd(Ne.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?x.createElement(p,{is:u.is}):x.createElement(p)}}y[Lt]=i,y[nn]=u;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=y;e:switch(fn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Cs(i)}}return gt(i),dg(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,l),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==u&&Cs(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(s=Ne.current,Zo(i)){if(s=i.stateNode,l=i.memoizedProps,u=null,p=un,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[Lt]=i,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||F0(s.nodeValue,l)),s||pi(i,!0)}else s=Fd(s).createTextNode(u),s[Lt]=i,i.stateNode=s}return gt(i),null;case 31:if(l=i.memoizedState,s===null||s.memoizedState!==null){if(u=Zo(i),l!==null){if(s===null){if(!u)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Lt]=i}else Ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),s=!1}else l=wp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return i.flags&256?(Hn(i),i):(Hn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return gt(i),null;case 13:if(u=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Zo(i),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Lt]=i}else Ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),p=!1}else p=wp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Hn(i),i):(Hn(i),null)}return Hn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=i.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),l!==s&&l&&(i.child.flags|=8192),Ad(i,i.updateQueue),gt(i),null);case 4:return nt(),s===null&&Og(i.stateNode.containerInfo),gt(i),null;case 10:return As(i.type),gt(i),null;case 19:if($(Ot),u=i.memoizedState,u===null)return gt(i),null;if(p=(i.flags&128)!==0,y=u.rendering,y===null)if(p)Jc(u,!1);else{if(It!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(y=fd(s),y!==null){for(i.flags|=128,Jc(u,!1),s=y.updateQueue,i.updateQueue=s,Ad(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)_b(l,s),l=l.sibling;return se(Ot,Ot.current&1|2),Ke&&Ts(i,u.treeForkCount),i.child}s=s.sibling}u.tail!==null&&wn()>Dd&&(i.flags|=128,p=!0,Jc(u,!1),i.lanes=4194304)}else{if(!p)if(s=fd(y),s!==null){if(i.flags|=128,p=!0,s=s.updateQueue,i.updateQueue=s,Ad(i,s),Jc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Ke)return gt(i),null}else 2*wn()-u.renderingStartTime>Dd&&l!==536870912&&(i.flags|=128,p=!0,Jc(u,!1),i.lanes=4194304);u.isBackwards?(y.sibling=i.child,i.child=y):(s=u.last,s!==null?s.sibling=y:i.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=wn(),s.sibling=null,l=Ot.current,se(Ot,p?l&1|2:l&1),Ke&&Ts(i,u.treeForkCount),s):(gt(i),null);case 22:case 23:return Hn(i),Pp(),u=i.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),l=i.updateQueue,l!==null&&Ad(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),s!==null&&$(ja),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),As(Bt),gt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function wR(s,i){switch(bp(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return As(Bt),nt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Lr(i),null;case 31:if(i.memoizedState!==null){if(Hn(i),i.alternate===null)throw Error(r(340));Ra()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Hn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ra()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return $(Ot),null;case 4:return nt(),null;case 10:return As(i.type),null;case 22:case 23:return Hn(i),Pp(),s!==null&&$(ja),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return As(Bt),null;case 25:return null;default:return null}}function Gx(s,i){switch(bp(i),i.tag){case 3:As(Bt),nt();break;case 26:case 27:case 5:Lr(i);break;case 4:nt();break;case 31:i.memoizedState!==null&&Hn(i);break;case 13:Hn(i);break;case 19:$(Ot);break;case 10:As(i.type);break;case 22:case 23:Hn(i),Pp(),s!==null&&$(ja);break;case 24:As(Bt)}}function Wc(s,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var y=l.create,x=l.inst;u=y(),x.destroy=u}l=l.next}while(l!==p)}}catch(S){it(i,i.return,S)}}function wi(s,i,l){try{var u=i.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,p=i;var O=l,G=S;try{G()}catch(ne){it(p,O,ne)}}}u=u.next}while(u!==y)}}catch(ne){it(i,i.return,ne)}}function Kx(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{Vb(i,l)}catch(u){it(s,s.return,u)}}}function Qx(s,i,l){l.props=Va(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){it(s,i,u)}}function eu(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(p){it(s,i,p)}}function as(s,i){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){it(s,i,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){it(s,i,p)}else l.current=null}function Zx(s){var i=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){it(s,s.return,p)}}function fg(s,i,l){try{var u=s.stateNode;$R(u,s.type,l,i),u[nn]=i}catch(p){it(s,s.return,p)}}function Yx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ri(s.type)||s.tag===4}function mg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ri(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pg(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Ir));else if(u!==4&&(u===27&&Ri(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(pg(s,i,l),s=s.sibling;s!==null;)pg(s,i,l),s=s.sibling}function Id(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(u!==4&&(u===27&&Ri(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Id(s,i,l),s=s.sibling;s!==null;)Id(s,i,l),s=s.sibling}function Xx(s){var i=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);fn(i,u,l),i[Lt]=s,i[nn]=l}catch(y){it(s,s.return,y)}}var Ds=!1,Ht=!1,gg=!1,Jx=typeof WeakSet=="function"?WeakSet:Set,sn=null;function ER(s,i){if(s=s.containerInfo,Vg=Qd,s=ub(s),cp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var x=0,S=-1,O=-1,G=0,ne=0,oe=s,Y=null;t:for(;;){for(var ee;oe!==l||p!==0&&oe.nodeType!==3||(S=x+p),oe!==y||u!==0&&oe.nodeType!==3||(O=x+u),oe.nodeType===3&&(x+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)Y=oe,oe=ee;for(;;){if(oe===s)break t;if(Y===l&&++G===p&&(S=x),Y===y&&++ne===u&&(O=x),(ee=oe.nextSibling)!==null)break;oe=Y,Y=oe.parentNode}oe=ee}l=S===-1||O===-1?null:{start:S,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(zg={focusedElem:s,selectionRange:l},Qd=!1,sn=i;sn!==null;)if(i=sn,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,sn=s;else for(;sn!==null;){switch(i=sn,y=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)p=s[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=i,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var ge=Va(l.type,p);s=u.getSnapshotBeforeUpdate(ge,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ie){it(l,l.return,Ie)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Fg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Fg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,sn=s;break}sn=i.return}}function Wx(s,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ks(s,l),u&4&&Wc(5,l);break;case 1:if(ks(s,l),u&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(x){it(l,l.return,x)}else{var p=Va(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(p,i,s.__reactInternalSnapshotBeforeUpdate)}catch(x){it(l,l.return,x)}}u&64&&Kx(l),u&512&&eu(l,l.return);break;case 3:if(ks(s,l),u&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Vb(s,i)}catch(x){it(l,l.return,x)}}break;case 27:i===null&&u&4&&Xx(l);case 26:case 5:ks(s,l),i===null&&u&4&&Zx(l),u&512&&eu(l,l.return);break;case 12:ks(s,l);break;case 31:ks(s,l),u&4&&n0(s,l);break;case 13:ks(s,l),u&4&&r0(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=jR.bind(null,l),JR(s,l))));break;case 22:if(u=l.memoizedState!==null||Ds,!u){i=i!==null&&i.memoizedState!==null||Ht,p=Ds;var y=Ht;Ds=u,(Ht=i)&&!y?Os(s,l,(l.subtreeFlags&8772)!==0):ks(s,l),Ds=p,Ht=y}break;case 30:break;default:ks(s,l)}}function e0(s){var i=s.alternate;i!==null&&(s.alternate=null,e0(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&jo(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vt=null,kn=!1;function js(s,i,l){for(l=l.child;l!==null;)t0(s,i,l),l=l.sibling}function t0(s,i,l){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Er,l)}catch{}switch(l.tag){case 26:Ht||as(l,i),js(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||as(l,i);var u=vt,p=kn;Ri(l.type)&&(vt=l.stateNode,kn=!1),js(s,i,l),cu(l.stateNode),vt=u,kn=p;break;case 5:Ht||as(l,i);case 6:if(u=vt,p=kn,vt=null,js(s,i,l),vt=u,kn=p,vt!==null)if(kn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(y){it(l,i,y)}else try{vt.removeChild(l.stateNode)}catch(y){it(l,i,y)}break;case 18:vt!==null&&(kn?(s=vt,K0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),gl(s)):K0(vt,l.stateNode));break;case 4:u=vt,p=kn,vt=l.stateNode.containerInfo,kn=!0,js(s,i,l),vt=u,kn=p;break;case 0:case 11:case 14:case 15:wi(2,l,i),Ht||wi(4,l,i),js(s,i,l);break;case 1:Ht||(as(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Qx(l,i,u)),js(s,i,l);break;case 21:js(s,i,l);break;case 22:Ht=(u=Ht)||l.memoizedState!==null,js(s,i,l),Ht=u;break;default:js(s,i,l)}}function n0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{gl(s)}catch(l){it(i,i.return,l)}}}function r0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{gl(s)}catch(l){it(i,i.return,l)}}function TR(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new Jx),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new Jx),i;default:throw Error(r(435,s.tag))}}function Nd(s,i){var l=TR(s);i.forEach(function(u){if(!l.has(u)){l.add(u);var p=kR.bind(null,s,u);u.then(p,p)}})}function On(s,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=s,x=i,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(Ri(S.type)){vt=S.stateNode,kn=!1;break e}break;case 5:vt=S.stateNode,kn=!1;break e;case 3:case 4:vt=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(vt===null)throw Error(r(160));t0(y,x,p),vt=null,kn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)s0(i,s),i=i.sibling}var kr=null;function s0(s,i){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:On(i,s),Pn(s),u&4&&(wi(3,s,s.return),Wc(3,s),wi(5,s,s.return));break;case 1:On(i,s),Pn(s),u&512&&(Ht||l===null||as(l,l.return)),u&64&&Ds&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=kr;if(On(i,s),Pn(s),u&512&&(Ht||l===null||as(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Gr]||y[Lt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),fn(y,u,l),y[Lt]=s,Ut(y),u=y;break e;case"link":var x=sw("link","href",p).get(u+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(y=x[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}y=p.createElement(u),fn(y,u,l),p.head.appendChild(y);break;case"meta":if(x=sw("meta","content",p).get(u+(l.content||""))){for(S=0;S<x.length;S++)if(y=x[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}y=p.createElement(u),fn(y,u,l),p.head.appendChild(y);break;default:throw Error(r(468,u))}y[Lt]=s,Ut(y),u=y}s.stateNode=u}else iw(p,s.type,s.stateNode);else s.stateNode=rw(p,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?iw(p,s.type,s.stateNode):rw(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&fg(s,s.memoizedProps,l.memoizedProps)}break;case 27:On(i,s),Pn(s),u&512&&(Ht||l===null||as(l,l.return)),l!==null&&u&4&&fg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(On(i,s),Pn(s),u&512&&(Ht||l===null||as(l,l.return)),s.flags&32){p=s.stateNode;try{jn(p,"")}catch(ge){it(s,s.return,ge)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,fg(s,p,l!==null?l.memoizedProps:p)),u&1024&&(gg=!0);break;case 6:if(On(i,s),Pn(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ge){it(s,s.return,ge)}}break;case 3:if($d=null,p=kr,kr=Bd(i.containerInfo),On(i,s),kr=p,Pn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{gl(i.containerInfo)}catch(ge){it(s,s.return,ge)}gg&&(gg=!1,i0(s));break;case 4:u=kr,kr=Bd(s.stateNode.containerInfo),On(i,s),Pn(s),kr=u;break;case 12:On(i,s),Pn(s);break;case 31:On(i,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Nd(s,u)));break;case 13:On(i,s),Pn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Cd=wn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Nd(s,u)));break;case 22:p=s.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,G=Ds,ne=Ht;if(Ds=G||p,Ht=ne||O,On(i,s),Ht=ne,Ds=G,Pn(s),u&8192)e:for(i=s.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||O||Ds||Ht||za(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){O=l=i;try{if(y=O.stateNode,p)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=O.stateNode;var oe=O.memoizedProps.style,Y=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ge){it(O,O.return,ge)}}}else if(i.tag===6){if(l===null){O=i;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(ge){it(O,O.return,ge)}}}else if(i.tag===18){if(l===null){O=i;try{var ee=O.stateNode;p?Q0(ee,!0):Q0(O.stateNode,!1)}catch(ge){it(O,O.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Nd(s,l))));break;case 19:On(i,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Nd(s,u)));break;case 30:break;case 21:break;default:On(i,s),Pn(s)}}function Pn(s){var i=s.flags;if(i&2){try{for(var l,u=s.return;u!==null;){if(Yx(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,y=mg(s);Id(s,y,p);break;case 5:var x=l.stateNode;l.flags&32&&(jn(x,""),l.flags&=-33);var S=mg(s);Id(s,S,x);break;case 3:case 4:var O=l.stateNode.containerInfo,G=mg(s);pg(s,G,O);break;default:throw Error(r(161))}}catch(ne){it(s,s.return,ne)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function i0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;i0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function ks(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Wx(s,i.alternate,i),i=i.sibling}function za(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:wi(4,i,i.return),za(i);break;case 1:as(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Qx(i,i.return,l),za(i);break;case 27:cu(i.stateNode);case 26:case 5:as(i,i.return),za(i);break;case 22:i.memoizedState===null&&za(i);break;case 30:za(i);break;default:za(i)}s=s.sibling}}function Os(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,p=s,y=i,x=y.flags;switch(y.tag){case 0:case 11:case 15:Os(p,y,l),Wc(4,y);break;case 1:if(Os(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){it(u,u.return,G)}if(u=y,p=u.updateQueue,p!==null){var S=u.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)Mb(O[p],S)}catch(G){it(u,u.return,G)}}l&&x&64&&Kx(y),eu(y,y.return);break;case 27:Xx(y);case 26:case 5:Os(p,y,l),l&&u===null&&x&4&&Zx(y),eu(y,y.return);break;case 12:Os(p,y,l);break;case 31:Os(p,y,l),l&&x&4&&n0(p,y);break;case 13:Os(p,y,l),l&&x&4&&r0(p,y);break;case 22:y.memoizedState===null&&Os(p,y,l),eu(y,y.return);break;case 30:break;default:Os(p,y,l)}i=i.sibling}}function yg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Uc(l))}function vg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Uc(s))}function Or(s,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)a0(s,i,l,u),i=i.sibling}function a0(s,i,l,u){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Or(s,i,l,u),p&2048&&Wc(9,i);break;case 1:Or(s,i,l,u);break;case 3:Or(s,i,l,u),p&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Uc(s)));break;case 12:if(p&2048){Or(s,i,l,u),s=i.stateNode;try{var y=i.memoizedProps,x=y.id,S=y.onPostCommit;typeof S=="function"&&S(x,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){it(i,i.return,O)}}else Or(s,i,l,u);break;case 31:Or(s,i,l,u);break;case 13:Or(s,i,l,u);break;case 23:break;case 22:y=i.stateNode,x=i.alternate,i.memoizedState!==null?y._visibility&2?Or(s,i,l,u):tu(s,i):y._visibility&2?Or(s,i,l,u):(y._visibility|=2,il(s,i,l,u,(i.subtreeFlags&10256)!==0||!1)),p&2048&&yg(x,i);break;case 24:Or(s,i,l,u),p&2048&&vg(i.alternate,i);break;default:Or(s,i,l,u)}}function il(s,i,l,u,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=s,x=i,S=l,O=u,G=x.flags;switch(x.tag){case 0:case 11:case 15:il(y,x,S,O,p),Wc(8,x);break;case 23:break;case 22:var ne=x.stateNode;x.memoizedState!==null?ne._visibility&2?il(y,x,S,O,p):tu(y,x):(ne._visibility|=2,il(y,x,S,O,p)),p&&G&2048&&yg(x.alternate,x);break;case 24:il(y,x,S,O,p),p&&G&2048&&vg(x.alternate,x);break;default:il(y,x,S,O,p)}i=i.sibling}}function tu(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,u=i,p=u.flags;switch(u.tag){case 22:tu(l,u),p&2048&&yg(u.alternate,u);break;case 24:tu(l,u),p&2048&&vg(u.alternate,u);break;default:tu(l,u)}i=i.sibling}}var nu=8192;function al(s,i,l){if(s.subtreeFlags&nu)for(s=s.child;s!==null;)o0(s,i,l),s=s.sibling}function o0(s,i,l){switch(s.tag){case 26:al(s,i,l),s.flags&nu&&s.memoizedState!==null&&uC(l,kr,s.memoizedState,s.memoizedProps);break;case 5:al(s,i,l);break;case 3:case 4:var u=kr;kr=Bd(s.stateNode.containerInfo),al(s,i,l),kr=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=nu,nu=16777216,al(s,i,l),nu=u):al(s,i,l));break;default:al(s,i,l)}}function l0(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function ru(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];sn=u,u0(u,s)}l0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)c0(s),s=s.sibling}function c0(s){switch(s.tag){case 0:case 11:case 15:ru(s),s.flags&2048&&wi(9,s,s.return);break;case 3:ru(s);break;case 12:ru(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Rd(s)):ru(s);break;default:ru(s)}}function Rd(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];sn=u,u0(u,s)}l0(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:wi(8,i,i.return),Rd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Rd(i));break;default:Rd(i)}s=s.sibling}}function u0(s,i){for(;sn!==null;){var l=sn;switch(l.tag){case 0:case 11:case 15:wi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Uc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,sn=u;else e:for(l=s;sn!==null;){u=sn;var p=u.sibling,y=u.return;if(e0(u),u===l){sn=null;break e}if(p!==null){p.return=y,sn=p;break e}sn=y}}}var SR={getCacheForType:function(s){var i=hn(Bt),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l},cacheSignal:function(){return hn(Bt).controller.signal}},AR=typeof WeakMap=="function"?WeakMap:Map,et=0,mt=null,Le=null,Be=0,st=0,Gn=null,Ei=!1,ol=!1,_g=!1,Ps=0,It=0,Ti=0,La=0,bg=0,Kn=0,ll=0,su=null,Mn=null,xg=!1,Cd=0,h0=0,Dd=1/0,jd=null,Si=null,Yt=0,Ai=null,cl=null,Ms=0,wg=0,Eg=null,d0=null,iu=0,Tg=null;function Qn(){return(et&2)!==0&&Be!==0?Be&-Be:W.T!==null?Cg():kh()}function f0(){if(Kn===0)if((Be&536870912)===0||Ke){var s=da;da<<=1,(da&3932160)===0&&(da=262144),Kn=s}else Kn=536870912;return s=$n.current,s!==null&&(s.flags|=32),Kn}function Vn(s,i,l){(s===mt&&(st===2||st===9)||s.cancelPendingCommit!==null)&&(ul(s,0),Ii(s,Be,Kn,!1)),fa(s,l),((et&2)===0||s!==mt)&&(s===mt&&((et&2)===0&&(La|=l),It===4&&Ii(s,Be,Kn,!1)),os(s))}function m0(s,i,l){if((et&6)!==0)throw Error(r(327));var u=!l&&(i&127)===0&&(i&s.expiredLanes)===0||Tr(s,i),p=u?RR(s,i):Ag(s,i,!0),y=u;do{if(p===0){ol&&!u&&Ii(s,i,0,!1);break}else{if(l=s.current.alternate,y&&!IR(l)){p=Ag(s,i,!1),y=!1;continue}if(p===2){if(y=i,s.errorRecoveryDisabledLanes&y)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var S=s;p=su;var O=S.current.memoizedState.isDehydrated;if(O&&(ul(S,x).flags|=256),x=Ag(S,x,!1),x!==2){if(_g&&!O){S.errorRecoveryDisabledLanes|=y,La|=y,p=4;break e}y=Mn,Mn=p,y!==null&&(Mn===null?Mn=y:Mn.push.apply(Mn,y))}p=x}if(y=!1,p!==2)continue}}if(p===1){ul(s,0),Ii(s,i,0,!0);break}e:{switch(u=s,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ii(u,i,Kn,!Ei);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(p=Cd+300-wn(),10<p)){if(Ii(u,i,Kn,!Ei),qr(u,0,!0)!==0)break e;Ms=i,u.timeoutHandle=H0(p0.bind(null,u,l,Mn,jd,xg,i,Kn,La,ll,Ei,y,"Throttled",-0,0),p);break e}p0(u,l,Mn,jd,xg,i,Kn,La,ll,Ei,y,null,-0,0)}}break}while(!0);os(s)}function p0(s,i,l,u,p,y,x,S,O,G,ne,oe,Y,ee){if(s.timeoutHandle=-1,oe=i.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ir},o0(i,y,oe);var ge=(y&62914560)===y?Cd-wn():(y&4194048)===y?h0-wn():0;if(ge=hC(oe,ge),ge!==null){Ms=y,s.cancelPendingCommit=ge(E0.bind(null,s,i,y,l,u,p,x,S,O,ne,oe,null,Y,ee)),Ii(s,y,x,!G);return}}E0(s,i,y,l,u,p,x,S,O)}function IR(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!Bn(y(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ii(s,i,l,u){i&=~bg,i&=~La,s.suspendedLanes|=i,s.pingedLanes&=~i,u&&(s.warmLanes|=i),u=s.expirationTimes;for(var p=i;0<p;){var y=31-jt(p),x=1<<y;u[y]=-1,p&=~x}l!==0&&ma(s,l,i)}function kd(){return(et&6)===0?(au(0),!1):!0}function Sg(){if(Le!==null){if(st===0)var s=Le.return;else s=Le,Ss=Ca=null,Fp(s),el=null,Bc=0,s=Le;for(;s!==null;)Gx(s.alternate,s),s=s.return;Le=null}}function ul(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,KR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ms=0,Sg(),mt=s,Le=l=Es(s.current,null),Be=i,st=0,Gn=null,Ei=!1,ol=Tr(s,i),_g=!1,ll=Kn=bg=La=Ti=It=0,Mn=su=null,xg=!1,(i&8)!==0&&(i|=i&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=i;0<u;){var p=31-jt(u),y=1<<p;i|=s[p],u&=~y}return Ps=i,ed(),l}function g0(s,i){Oe=null,W.H=Yc,i===Wo||i===ld?(i=jb(),st=3):i===Rp?(i=jb(),st=4):st=i===rg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Gn=i,Le===null&&(It=1,wd(s,or(i,s.current)))}function y0(){var s=$n.current;return s===null?!0:(Be&4194048)===Be?hr===null:(Be&62914560)===Be||(Be&536870912)!==0?s===hr:!1}function v0(){var s=W.H;return W.H=Yc,s===null?Yc:s}function _0(){var s=W.A;return W.A=SR,s}function Od(){It=4,Ei||(Be&4194048)!==Be&&$n.current!==null||(ol=!0),(Ti&134217727)===0&&(La&134217727)===0||mt===null||Ii(mt,Be,Kn,!1)}function Ag(s,i,l){var u=et;et|=2;var p=v0(),y=_0();(mt!==s||Be!==i)&&(jd=null,ul(s,i)),i=!1;var x=It;e:do try{if(st!==0&&Le!==null){var S=Le,O=Gn;switch(st){case 8:Sg(),x=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(i=!0);var G=st;if(st=0,Gn=null,hl(s,S,O,G),l&&ol){x=0;break e}break;default:G=st,st=0,Gn=null,hl(s,S,O,G)}}NR(),x=It;break}catch(ne){g0(s,ne)}while(!0);return i&&s.shellSuspendCounter++,Ss=Ca=null,et=u,W.H=p,W.A=y,Le===null&&(mt=null,Be=0,ed()),x}function NR(){for(;Le!==null;)b0(Le)}function RR(s,i){var l=et;et|=2;var u=v0(),p=_0();mt!==s||Be!==i?(jd=null,Dd=wn()+500,ul(s,i)):ol=Tr(s,i);e:do try{if(st!==0&&Le!==null){i=Le;var y=Gn;t:switch(st){case 1:st=0,Gn=null,hl(s,i,y,1);break;case 2:case 9:if(Cb(y)){st=0,Gn=null,x0(i);break}i=function(){st!==2&&st!==9||mt!==s||(st=7),os(s)},y.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Cb(y)?(st=0,Gn=null,x0(i)):(st=0,Gn=null,hl(s,i,y,7));break;case 5:var x=null;switch(Le.tag){case 26:x=Le.memoizedState;case 5:case 27:var S=Le;if(x?aw(x):S.stateNode.complete){st=0,Gn=null;var O=S.sibling;if(O!==null)Le=O;else{var G=S.return;G!==null?(Le=G,Pd(G)):Le=null}break t}}st=0,Gn=null,hl(s,i,y,5);break;case 6:st=0,Gn=null,hl(s,i,y,6);break;case 8:Sg(),It=6;break e;default:throw Error(r(462))}}CR();break}catch(ne){g0(s,ne)}while(!0);return Ss=Ca=null,W.H=u,W.A=p,et=l,Le!==null?0:(mt=null,Be=0,ed(),It)}function CR(){for(;Le!==null&&!np();)b0(Le)}function b0(s){var i=$x(s.alternate,s,Ps);s.memoizedProps=s.pendingProps,i===null?Pd(s):Le=i}function x0(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=zx(l,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=zx(l,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Fp(i);default:Gx(l,i),i=Le=_b(i,Ps),i=$x(l,i,Ps)}s.memoizedProps=s.pendingProps,i===null?Pd(s):Le=i}function hl(s,i,l,u){Ss=Ca=null,Fp(i),el=null,Bc=0;var p=i.return;try{if(vR(s,p,i,l,Be)){It=1,wd(s,or(l,s.current)),Le=null;return}}catch(y){if(p!==null)throw Le=p,y;It=1,wd(s,or(l,s.current)),Le=null;return}i.flags&32768?(Ke||u===1?s=!0:ol||(Be&536870912)!==0?s=!1:(Ei=s=!0,(u===2||u===9||u===3||u===6)&&(u=$n.current,u!==null&&u.tag===13&&(u.flags|=16384))),w0(i,s)):Pd(i)}function Pd(s){var i=s;do{if((i.flags&32768)!==0){w0(i,Ei);return}s=i.return;var l=xR(i.alternate,i,Ps);if(l!==null){Le=l;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=s}while(i!==null);It===0&&(It=5)}function w0(s,i){do{var l=wR(s.alternate,s);if(l!==null){l.flags&=32767,Le=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){Le=s;return}Le=s=l}while(s!==null);It=6,Le=null}function E0(s,i,l,u,p,y,x,S,O){s.cancelPendingCommit=null;do Md();while(Yt!==0);if((et&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(y=i.lanes|i.childLanes,y|=mp,ip(s,l,y,x,S,O),s===mt&&(Le=mt=null,Be=0),cl=i,Ai=s,Ms=l,wg=y,Eg=p,d0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,OR(ri,function(){return N0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,p=de.p,de.p=2,x=et,et|=4;try{ER(s,i,l)}finally{et=x,de.p=p,W.T=u}}Yt=1,T0(),S0(),A0()}}function T0(){if(Yt===1){Yt=0;var s=Ai,i=cl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var u=de.p;de.p=2;var p=et;et|=4;try{s0(i,s);var y=zg,x=ub(s.containerInfo),S=y.focusedElem,O=y.selectionRange;if(x!==S&&S&&S.ownerDocument&&cb(S.ownerDocument.documentElement,S)){if(O!==null&&cp(S)){var G=O.start,ne=O.end;if(ne===void 0&&(ne=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(ne,S.value.length);else{var oe=S.ownerDocument||document,Y=oe&&oe.defaultView||window;if(Y.getSelection){var ee=Y.getSelection(),ge=S.textContent.length,Ie=Math.min(O.start,ge),ft=O.end===void 0?Ie:Math.min(O.end,ge);!ee.extend&&Ie>ft&&(x=ft,ft=Ie,Ie=x);var F=lb(S,Ie),L=lb(S,ft);if(F&&L&&(ee.rangeCount!==1||ee.anchorNode!==F.node||ee.anchorOffset!==F.offset||ee.focusNode!==L.node||ee.focusOffset!==L.offset)){var H=oe.createRange();H.setStart(F.node,F.offset),ee.removeAllRanges(),Ie>ft?(ee.addRange(H),ee.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),ee.addRange(H))}}}}for(oe=[],ee=S;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var re=oe[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Qd=!!Vg,zg=Vg=null}finally{et=p,de.p=u,W.T=l}}s.current=i,Yt=2}}function S0(){if(Yt===2){Yt=0;var s=Ai,i=cl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var u=de.p;de.p=2;var p=et;et|=4;try{Wx(s,i.alternate,i)}finally{et=p,de.p=u,W.T=l}}Yt=3}}function A0(){if(Yt===4||Yt===3){Yt=0,Ah();var s=Ai,i=cl,l=Ms,u=d0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yt=5:(Yt=0,cl=Ai=null,I0(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Si=null),_s(l),i=i.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Er,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=W.T,p=de.p,de.p=2,W.T=null;try{for(var y=s.onRecoverableError,x=0;x<u.length;x++){var S=u[x];y(S.value,{componentStack:S.stack})}}finally{W.T=i,de.p=p}}(Ms&3)!==0&&Md(),os(s),p=s.pendingLanes,(l&261930)!==0&&(p&42)!==0?s===Tg?iu++:(iu=0,Tg=s):iu=0,au(0)}}function I0(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Uc(i)))}function Md(){return T0(),S0(),A0(),N0()}function N0(){if(Yt!==5)return!1;var s=Ai,i=wg;wg=0;var l=_s(Ms),u=W.T,p=de.p;try{de.p=32>l?32:l,W.T=null,l=Eg,Eg=null;var y=Ai,x=Ms;if(Yt=0,cl=Ai=null,Ms=0,(et&6)!==0)throw Error(r(331));var S=et;if(et|=4,c0(y.current),a0(y,y.current,x,l),et=S,au(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Er,y)}catch{}return!0}finally{de.p=p,W.T=u,I0(s,i)}}function R0(s,i,l){i=or(l,i),i=ng(s.stateNode,i,2),s=_i(s,i,2),s!==null&&(fa(s,2),os(s))}function it(s,i,l){if(s.tag===3)R0(s,s,l);else for(;i!==null;){if(i.tag===3){R0(i,s,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Si===null||!Si.has(u))){s=or(l,s),l=Cx(2),u=_i(i,l,2),u!==null&&(Dx(l,u,i,s),fa(u,2),os(u));break}}i=i.return}}function Ig(s,i,l){var u=s.pingCache;if(u===null){u=s.pingCache=new AR;var p=new Set;u.set(i,p)}else p=u.get(i),p===void 0&&(p=new Set,u.set(i,p));p.has(l)||(_g=!0,p.add(l),s=DR.bind(null,s,i,l),i.then(s,s))}function DR(s,i,l){var u=s.pingCache;u!==null&&u.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(Be&l)===l&&(It===4||It===3&&(Be&62914560)===Be&&300>wn()-Cd?(et&2)===0&&ul(s,0):bg|=l,ll===Be&&(ll=0)),os(s)}function C0(s,i){i===0&&(i=jh()),s=Ia(s,i),s!==null&&(fa(s,i),os(s))}function jR(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),C0(s,l)}function kR(s,i){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),C0(s,l)}function OR(s,i){return Zt(s,i)}var Vd=null,dl=null,Ng=!1,zd=!1,Rg=!1,Ni=0;function os(s){s!==dl&&s.next===null&&(dl===null?Vd=dl=s:dl=dl.next=s),zd=!0,Ng||(Ng=!0,MR())}function au(s,i){if(!Rg&&zd){Rg=!0;do for(var l=!1,u=Vd;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var x=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-jt(42|s)+1)-1,y&=p&~(x&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,O0(u,y))}else y=Be,y=qr(u,u===mt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Tr(u,y)||(l=!0,O0(u,y));u=u.next}while(l);Rg=!1}}function PR(){D0()}function D0(){zd=Ng=!1;var s=0;Ni!==0&&GR()&&(s=Ni);for(var i=wn(),l=null,u=Vd;u!==null;){var p=u.next,y=j0(u,i);y===0?(u.next=null,l===null?Vd=p:l.next=p,p===null&&(dl=l)):(l=u,(s!==0||(y&3)!==0)&&(zd=!0)),u=p}Yt!==0&&Yt!==5||au(s),Ni!==0&&(Ni=0)}function j0(s,i){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var x=31-jt(y),S=1<<x,O=p[x];O===-1?((S&l)===0||(S&u)!==0)&&(p[x]=sp(S,i)):O<=i&&(s.expiredLanes|=S),y&=~S}if(i=mt,l=Be,l=qr(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===i&&(st===2||st===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ni(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Tr(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(u!==null&&ni(u),_s(l)){case 2:case 8:l=gc;break;case 32:l=ri;break;case 268435456:l=Ih;break;default:l=ri}return u=k0.bind(null,s),l=Zt(l,u),s.callbackPriority=i,s.callbackNode=l,i}return u!==null&&u!==null&&ni(u),s.callbackPriority=2,s.callbackNode=null,2}function k0(s,i){if(Yt!==0&&Yt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Md()&&s.callbackNode!==l)return null;var u=Be;return u=qr(s,s===mt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(m0(s,u,i),j0(s,wn()),s.callbackNode!=null&&s.callbackNode===l?k0.bind(null,s):null)}function O0(s,i){if(Md())return null;m0(s,i,!0)}function MR(){QR(function(){(et&6)!==0?Zt(pc,PR):D0()})}function Cg(){if(Ni===0){var s=Xo;s===0&&(s=Fr,Fr<<=1,(Fr&261888)===0&&(Fr=256)),Ni=s}return Ni}function P0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Mo(""+s)}function M0(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function VR(s,i,l,u,p){if(i==="submit"&&l&&l.stateNode===p){var y=P0((p[nn]||null).action),x=u.submitter;x&&(i=(i=x[nn]||null)?P0(i.formAction):x.getAttribute("formAction"),i!==null&&(y=i,x=null));var S=new es("action","action",null,u,p);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ni!==0){var O=x?M0(p,x):new FormData(p);Yp(l,{pending:!0,data:O,method:p.method,action:y},null,O)}}else typeof y=="function"&&(S.preventDefault(),O=x?M0(p,x):new FormData(p),Yp(l,{pending:!0,data:O,method:p.method,action:y},y,O))},currentTarget:p}]})}}for(var Dg=0;Dg<fp.length;Dg++){var jg=fp[Dg],zR=jg.toLowerCase(),LR=jg[0].toUpperCase()+jg.slice(1);jr(zR,"on"+LR)}jr(fb,"onAnimationEnd"),jr(mb,"onAnimationIteration"),jr(pb,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(tR,"onTransitionRun"),jr(nR,"onTransitionStart"),jr(rR,"onTransitionCancel"),jr(gb,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function V0(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var x=u.length-1;0<=x;x--){var S=u[x],O=S.instance,G=S.currentTarget;if(S=S.listener,O!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=G;try{y(p)}catch(ne){Wh(ne)}p.currentTarget=null,y=O}else for(x=0;x<u.length;x++){if(S=u[x],O=S.instance,G=S.currentTarget,S=S.listener,O!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=G;try{y(p)}catch(ne){Wh(ne)}p.currentTarget=null,y=O}}}}function Ue(s,i){var l=i[Do];l===void 0&&(l=i[Do]=new Set);var u=s+"__bubble";l.has(u)||(z0(i,s,2,!1),l.add(u))}function kg(s,i,l){var u=0;i&&(u|=4),z0(l,s,u,i)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function Og(s){if(!s[Ld]){s[Ld]=!0,_c.forEach(function(l){l!=="selectionchange"&&(UR.has(l)||kg(l,!1,s),kg(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Ld]||(i[Ld]=!0,kg("selectionchange",!1,i))}}function z0(s,i,l,u){switch(fw(i)){case 2:var p=mC;break;case 8:p=pC;break;default:p=Zg}l=p.bind(null,i,l,s),p=void 0,!_a||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function Pg(s,i,l,u,p){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===p)break;if(x===4)for(x=u.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;S!==null;){if(x=Kr(S),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){u=y=x;continue e}S=S.parentNode}}u=u.return}ci(function(){var G=y,ne=rr(l),oe=[];e:{var Y=yb.get(s);if(Y!==void 0){var ee=es,ge=s;switch(s){case"keypress":if(xa(l)===0)break e;case"keydown":case"keyup":ee=Yh;break;case"focusin":ge="focus",ee=Ea;break;case"focusout":ge="blur",ee=Ea;break;case"beforeblur":case"afterblur":ee=Ea;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=b;break;case fb:case mb:case pb:ee=qh;break;case gb:ee=I;break;case"scroll":case"scrollend":ee=Dc;break;case"wheel":ee=J;break;case"copy":case"cut":case"paste":ee=$h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=ws;break;case"toggle":case"beforetoggle":ee=ke}var Ie=(i&4)!==0,ft=!Ie&&(s==="scroll"||s==="scrollend"),F=Ie?Y!==null?Y+"Capture":null:Y;Ie=[];for(var L=G,H;L!==null;){var re=L;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||F===null||(re=Nr(L,F),re!=null&&Ie.push(lu(L,re,H))),ft)break;L=L.return}0<Ie.length&&(Y=new ee(Y,ge,null,l,ne),oe.push({event:Y,listeners:Ie}))}}if((i&7)===0){e:{if(Y=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",Y&&l!==Nc&&(ge=l.relatedTarget||l.fromElement)&&(Kr(ge)||ge[Hr]))break e;if((ee||Y)&&(Y=ne.window===ne?ne:(Y=ne.ownerDocument)?Y.defaultView||Y.parentWindow:window,ee?(ge=l.relatedTarget||l.toElement,ee=G,ge=ge?Kr(ge):null,ge!==null&&(ft=o(ge),Ie=ge.tag,ge!==ft||Ie!==5&&Ie!==27&&Ie!==6)&&(ge=null)):(ee=null,ge=G),ee!==ge)){if(Ie=jc,re="onMouseLeave",F="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=ws,re="onPointerLeave",F="onPointerEnter",L="pointer"),ft=ee==null?Y:Un(ee),H=ge==null?Y:Un(ge),Y=new Ie(re,L+"leave",ee,l,ne),Y.target=ft,Y.relatedTarget=H,re=null,Kr(ne)===G&&(Ie=new Ie(F,L+"enter",ge,l,ne),Ie.target=H,Ie.relatedTarget=ft,re=Ie),ft=re,ee&&ge)t:{for(Ie=FR,F=ee,L=ge,H=0,re=F;re;re=Ie(re))H++;re=0;for(var Te=L;Te;Te=Ie(Te))re++;for(;0<H-re;)F=Ie(F),H--;for(;0<re-H;)L=Ie(L),re--;for(;H--;){if(F===L||L!==null&&F===L.alternate){Ie=F;break t}F=Ie(F),L=Ie(L)}Ie=null}else Ie=null;ee!==null&&L0(oe,Y,ee,Ie,!1),ge!==null&&ft!==null&&L0(oe,ft,ge,Ie,!0)}}e:{if(Y=G?Un(G):window,ee=Y.nodeName&&Y.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Y.type==="file")var Ye=nb;else if(eb(Y))if(rb)Ye=JN;else{Ye=YN;var be=ZN}else ee=Y.nodeName,!ee||ee.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Po(G.elementType)&&(Ye=nb):Ye=XN;if(Ye&&(Ye=Ye(s,G))){tb(oe,Ye,l,ne);break e}be&&be(s,Y,G),s==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&Sc(Y,"number",Y.value)}switch(be=G?Un(G):window,s){case"focusin":(eb(be)||be.contentEditable==="true")&&(qo=be,up=G,Vc=null);break;case"focusout":Vc=up=qo=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,hb(oe,l,ne);break;case"selectionchange":if(eR)break;case"keydown":case"keyup":hb(oe,l,ne)}var Pe;if(We)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Bo?Ta(s,l)&&(qe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(rs&&l.locale!=="ko"&&(Bo||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Bo&&(Pe=Cc()):(Wr=ne,Rc="value"in Wr?Wr.value:Wr.textContent,Bo=!0)),be=Ud(G,qe),0<be.length&&(qe=new ns(qe,s,null,l,ne),oe.push({event:qe,listeners:be}),Pe?qe.data=Pe:(Pe=Fo(l),Pe!==null&&(qe.data=Pe)))),(Pe=ir?HN(s,l):GN(s,l))&&(qe=Ud(G,"onBeforeInput"),0<qe.length&&(be=new ns("onBeforeInput","beforeinput",null,l,ne),oe.push({event:be,listeners:qe}),be.data=Pe)),VR(oe,s,G,l,ne)}V0(oe,i)})}function lu(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Ud(s,i){for(var l=i+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Nr(s,l),p!=null&&u.unshift(lu(s,p,y)),p=Nr(s,i),p!=null&&u.push(lu(s,p,y))),s.tag===3)return u;s=s.return}return[]}function FR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function L0(s,i,l,u,p){for(var y=i._reactName,x=[];l!==null&&l!==u;){var S=l,O=S.alternate,G=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||G===null||(O=G,p?(G=Nr(l,y),G!=null&&x.unshift(lu(l,G,O))):p||(G=Nr(l,y),G!=null&&x.push(lu(l,G,O)))),l=l.return}x.length!==0&&s.push({event:i,listeners:x})}var BR=/\r\n?/g,qR=/\u0000|\uFFFD/g;function U0(s){return(typeof s=="string"?s:""+s).replace(BR,`
`).replace(qR,"")}function F0(s,i){return i=U0(i),U0(s)===i}function dt(s,i,l,u,p,y){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||jn(s,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&jn(s,""+u);break;case"className":Fn(s,"class",u);break;case"tabIndex":Fn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(s,l,u);break;case"style":Ic(s,u,y);break;case"data":if(i!=="object"){Fn(s,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Mo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&dt(s,i,"name",p.name,p,null),dt(s,i,"formEncType",p.formEncType,p,null),dt(s,i,"formMethod",p.formMethod,p,null),dt(s,i,"formTarget",p.formTarget,p,null)):(dt(s,i,"encType",p.encType,p,null),dt(s,i,"method",p.method,p,null),dt(s,i,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Mo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Ir);break;case"onScroll":u!=null&&Ue("scroll",s);break;case"onScrollEnd":u!=null&&Ue("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Mo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Ue("beforetoggle",s),Ue("toggle",s),ko(s,"popover",u);break;case"xlinkActuate":Ft(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ft(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ft(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ft(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ft(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ft(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ko(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Uh.get(l)||l,ko(s,l,u))}}function Mg(s,i,l,u,p,y){switch(l){case"style":Ic(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof u=="string"?jn(s,u):(typeof u=="number"||typeof u=="bigint")&&jn(s,""+u);break;case"onScroll":u!=null&&Ue("scroll",s);break;case"onScrollEnd":u!=null&&Ue("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Ir);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),y=s[nn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(i,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,u,p);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):ko(s,l,u)}}}function fn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",s),Ue("load",s);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var x=l[y];if(x!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(s,i,y,x,l,null)}}p&&dt(s,i,"srcSet",l.srcSet,l,null),u&&dt(s,i,"src",l.src,l,null);return;case"input":Ue("invalid",s);var S=y=x=p=null,O=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var ne=l[u];if(ne!=null)switch(u){case"name":p=ne;break;case"type":x=ne;break;case"checked":O=ne;break;case"defaultChecked":G=ne;break;case"value":y=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:dt(s,i,u,ne,l,null)}}Vh(s,y,S,O,G,x,p,!1);return;case"select":Ue("invalid",s),u=x=y=null;for(p in l)if(l.hasOwnProperty(p)&&(S=l[p],S!=null))switch(p){case"value":y=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:dt(s,i,p,S,l,null)}i=y,l=x,s.multiple=!!u,i!=null?ii(s,!!u,i,!1):l!=null&&ii(s,!!u,l,!0);return;case"textarea":Ue("invalid",s),y=p=u=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":p=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:dt(s,i,x,S,l,null)}ai(s,u,p,y);return;case"option":for(O in l)l.hasOwnProperty(O)&&(u=l[O],u!=null)&&(O==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":dt(s,i,O,u,l,null));return;case"dialog":Ue("beforetoggle",s),Ue("toggle",s),Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":Ue("load",s);break;case"video":case"audio":for(u=0;u<ou.length;u++)Ue(ou[u],s);break;case"image":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"embed":case"source":case"link":Ue("error",s),Ue("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(s,i,G,u,l,null)}return;default:if(Po(i)){for(ne in l)l.hasOwnProperty(ne)&&(u=l[ne],u!==void 0&&Mg(s,i,ne,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&dt(s,i,S,u,l,null))}function $R(s,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,x=null,S=null,O=null,G=null,ne=null;for(ee in l){var oe=l[ee];if(l.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":O=oe;default:u.hasOwnProperty(ee)||dt(s,i,ee,null,u,oe)}}for(var Y in u){var ee=u[Y];if(oe=l[Y],u.hasOwnProperty(Y)&&(ee!=null||oe!=null))switch(Y){case"type":y=ee;break;case"name":p=ee;break;case"checked":G=ee;break;case"defaultChecked":ne=ee;break;case"value":x=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:ee!==oe&&dt(s,i,Y,ee,u,oe)}}Oo(s,x,S,O,G,ne,y,p);return;case"select":ee=x=S=Y=null;for(y in l)if(O=l[y],l.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":ee=O;default:u.hasOwnProperty(y)||dt(s,i,y,null,u,O)}for(p in u)if(y=u[p],O=l[p],u.hasOwnProperty(p)&&(y!=null||O!=null))switch(p){case"value":Y=y;break;case"defaultValue":S=y;break;case"multiple":x=y;default:y!==O&&dt(s,i,p,y,u,O)}i=S,l=x,u=ee,Y!=null?ii(s,!!l,Y,!1):!!u!=!!l&&(i!=null?ii(s,!!l,i,!0):ii(s,!!l,l?[]:"",!1));return;case"textarea":ee=Y=null;for(S in l)if(p=l[S],l.hasOwnProperty(S)&&p!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:dt(s,i,S,null,u,p)}for(x in u)if(p=u[x],y=l[x],u.hasOwnProperty(x)&&(p!=null||y!=null))switch(x){case"value":Y=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&dt(s,i,x,p,u,y)}zh(s,Y,ee);return;case"option":for(var ge in l)Y=l[ge],l.hasOwnProperty(ge)&&Y!=null&&!u.hasOwnProperty(ge)&&(ge==="selected"?s.selected=!1:dt(s,i,ge,null,u,Y));for(O in u)Y=u[O],ee=l[O],u.hasOwnProperty(O)&&Y!==ee&&(Y!=null||ee!=null)&&(O==="selected"?s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":dt(s,i,O,Y,u,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in l)Y=l[Ie],l.hasOwnProperty(Ie)&&Y!=null&&!u.hasOwnProperty(Ie)&&dt(s,i,Ie,null,u,Y);for(G in u)if(Y=u[G],ee=l[G],u.hasOwnProperty(G)&&Y!==ee&&(Y!=null||ee!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:dt(s,i,G,Y,u,ee)}return;default:if(Po(i)){for(var ft in l)Y=l[ft],l.hasOwnProperty(ft)&&Y!==void 0&&!u.hasOwnProperty(ft)&&Mg(s,i,ft,void 0,u,Y);for(ne in u)Y=u[ne],ee=l[ne],!u.hasOwnProperty(ne)||Y===ee||Y===void 0&&ee===void 0||Mg(s,i,ne,Y,u,ee);return}}for(var F in l)Y=l[F],l.hasOwnProperty(F)&&Y!=null&&!u.hasOwnProperty(F)&&dt(s,i,F,null,u,Y);for(oe in u)Y=u[oe],ee=l[oe],!u.hasOwnProperty(oe)||Y===ee||Y==null&&ee==null||dt(s,i,oe,Y,u,ee)}function B0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],y=p.transferSize,x=p.initiatorType,S=p.duration;if(y&&S&&B0(x)){for(x=0,S=p.responseEnd,u+=1;u<l.length;u++){var O=l[u],G=O.startTime;if(G>S)break;var ne=O.transferSize,oe=O.initiatorType;ne&&B0(oe)&&(O=O.responseEnd,x+=ne*(O<S?1:(S-G)/(O-G)))}if(--u,i+=8*(y+x)/(p.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Vg=null,zg=null;function Fd(s){return s.nodeType===9?s:s.ownerDocument}function q0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $0(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Lg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ug=null;function GR(){var s=window.event;return s&&s.type==="popstate"?s===Ug?!1:(Ug=s,!0):(Ug=null,!1)}var H0=typeof setTimeout=="function"?setTimeout:void 0,KR=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,QR=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(s){return G0.resolve(null).then(s).catch(ZR)}:H0;function ZR(s){setTimeout(function(){throw s})}function Ri(s){return s==="head"}function K0(s,i){var l=i,u=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(p),gl(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")cu(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,cu(l);for(var y=l.firstChild;y;){var x=y.nextSibling,S=y.nodeName;y[Gr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=x}}else l==="body"&&cu(s.ownerDocument.body);l=p}while(l);gl(i)}function Q0(s,i){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function Fg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Fg(l),jo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function YR(s,i,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Gr])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=dr(s.nextSibling),s===null)break}return null}function XR(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=dr(s.nextSibling),s===null))return null;return s}function Z0(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=dr(s.nextSibling),s===null))return null;return s}function Bg(s){return s.data==="$?"||s.data==="$~"}function qg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function JR(s,i){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function dr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var $g=null;function Y0(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(i===0)return dr(s.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}s=s.nextSibling}return null}function X0(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return s;i--}else l!=="/$"&&l!=="/&"||i++}s=s.previousSibling}return null}function J0(s,i,l){switch(i=Fd(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function cu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);jo(s)}var fr=new Map,W0=new Set;function Bd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Vs=de.d;de.d={f:WR,r:eC,D:tC,C:nC,L:rC,m:sC,X:aC,S:iC,M:oC};function WR(){var s=Vs.f(),i=kd();return s||i}function eC(s){var i=nr(s);i!==null&&i.tag===5&&i.type==="form"?gx(i):Vs.r(s)}var fl=typeof document>"u"?null:document;function ew(s,i,l){var u=fl;if(u&&typeof i=="string"&&i){var p=Dn(i);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),W0.has(p)||(W0.add(p),s={rel:s,crossOrigin:l,href:i},u.querySelector(p)===null&&(i=u.createElement("link"),fn(i,"link",s),Ut(i),u.head.appendChild(i)))}}function tC(s){Vs.D(s),ew("dns-prefetch",s,null)}function nC(s,i){Vs.C(s,i),ew("preconnect",s,i)}function rC(s,i,l){Vs.L(s,i,l);var u=fl;if(u&&s&&i){var p='link[rel="preload"][as="'+Dn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Dn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Dn(l.imageSizes)+'"]')):p+='[href="'+Dn(s)+'"]';var y=p;switch(i){case"style":y=ml(s);break;case"script":y=pl(s)}fr.has(y)||(s=_({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),fr.set(y,s),u.querySelector(p)!==null||i==="style"&&u.querySelector(uu(y))||i==="script"&&u.querySelector(hu(y))||(i=u.createElement("link"),fn(i,"link",s),Ut(i),u.head.appendChild(i)))}}function sC(s,i){Vs.m(s,i);var l=fl;if(l&&s){var u=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Dn(u)+'"][href="'+Dn(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=pl(s)}if(!fr.has(y)&&(s=_({rel:"modulepreload",href:s},i),fr.set(y,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(hu(y)))return}u=l.createElement("link"),fn(u,"link",s),Ut(u),l.head.appendChild(u)}}}function iC(s,i,l){Vs.S(s,i,l);var u=fl;if(u&&s){var p=Qr(u).hoistableStyles,y=ml(s);i=i||"default";var x=p.get(y);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(uu(y)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":i},l),(l=fr.get(y))&&Hg(s,l);var O=x=u.createElement("link");Ut(O),fn(O,"link",s),O._p=new Promise(function(G,ne){O.onload=G,O.onerror=ne}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,qd(x,i,u)}x={type:"stylesheet",instance:x,count:1,state:S},p.set(y,x)}}}function aC(s,i){Vs.X(s,i);var l=fl;if(l&&s){var u=Qr(l).hoistableScripts,p=pl(s),y=u.get(p);y||(y=l.querySelector(hu(p)),y||(s=_({src:s,async:!0},i),(i=fr.get(p))&&Gg(s,i),y=l.createElement("script"),Ut(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function oC(s,i){Vs.M(s,i);var l=fl;if(l&&s){var u=Qr(l).hoistableScripts,p=pl(s),y=u.get(p);y||(y=l.querySelector(hu(p)),y||(s=_({src:s,async:!0,type:"module"},i),(i=fr.get(p))&&Gg(s,i),y=l.createElement("script"),Ut(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function tw(s,i,l,u){var p=(p=Ne.current)?Bd(p):null;if(!p)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=ml(l.href),l=Qr(p).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=ml(l.href);var y=Qr(p).hoistableStyles,x=y.get(s);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,x),(y=p.querySelector(uu(s)))&&!y._p&&(x.instance=y,x.state.loading=5),fr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},fr.set(s,l),y||lC(p,s,l,x.state))),i&&u===null)throw Error(r(528,""));return x}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=pl(l),l=Qr(p).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ml(s){return'href="'+Dn(s)+'"'}function uu(s){return'link[rel="stylesheet"]['+s+"]"}function nw(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function lC(s,i,l,u){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=s.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),fn(i,"link",l),Ut(i),s.head.appendChild(i))}function pl(s){return'[src="'+Dn(s)+'"]'}function hu(s){return"script[async]"+s}function rw(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=s.querySelector('style[data-href~="'+Dn(l.href)+'"]');if(u)return i.instance=u,Ut(u),u;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ut(u),fn(u,"style",p),qd(u,l.precedence,s),i.instance=u;case"stylesheet":p=ml(l.href);var y=s.querySelector(uu(p));if(y)return i.state.loading|=4,i.instance=y,Ut(y),y;u=nw(l),(p=fr.get(p))&&Hg(u,p),y=(s.ownerDocument||s).createElement("link"),Ut(y);var x=y;return x._p=new Promise(function(S,O){x.onload=S,x.onerror=O}),fn(y,"link",u),i.state.loading|=4,qd(y,l.precedence,s),i.instance=y;case"script":return y=pl(l.src),(p=s.querySelector(hu(y)))?(i.instance=p,Ut(p),p):(u=l,(p=fr.get(y))&&(u=_({},l),Gg(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Ut(p),fn(p,"link",u),s.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,qd(u,l.precedence,s));return i.instance}function qd(s,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===i)y=S;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Hg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Gg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var $d=null;function sw(s,i,l){if($d===null){var u=new Map,p=$d=new Map;p.set(l,u)}else p=$d,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var y=l[p];if(!(y[Gr]||y[Lt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(i)||"";x=s+x;var S=u.get(x);S?S.push(y):u.set(x,[y])}}return u}function iw(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function cC(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(s=i.disabled,typeof i.precedence=="string"&&s==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function aw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function uC(s,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=ml(u.href),y=i.querySelector(uu(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=Hd.bind(s),i.then(s,s)),l.state.loading|=4,l.instance=y,Ut(y);return}y=i.ownerDocument||i,u=nw(u),(p=fr.get(p))&&Hg(u,p),y=y.createElement("link"),Ut(y);var x=y;x._p=new Promise(function(S,O){x.onload=S,x.onerror=O}),fn(y,"link",u),l.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Hd.bind(s),i.addEventListener("load",l),i.addEventListener("error",l))}}var Kg=0;function hC(s,i){return s.stylesheets&&s.count===0&&Kd(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Kd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+i);0<s.imgBytes&&Kg===0&&(Kg=62500*HR());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Kd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Kg?50:800)+i);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Hd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Gd=null;function Kd(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Gd=new Map,i.forEach(dC,s),Gd=null,Hd.call(s))}function dC(s,i){if(!(i.state.loading&4)){var l=Gd.get(s);if(l)var u=l.get(null);else{l=new Map,Gd.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var x=p[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}p=i.instance,x=p.getAttribute("data-precedence"),y=l.get(x)||u,y===u&&l.set(null,p),l.set(x,p),this.count++,u=Hd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),i.state.loading|=4}}var du={$$typeof:K,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function fC(s,i,l,u,p,y,x,S,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.hiddenUpdates=$r(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function ow(s,i,l,u,p,y,x,S,O,G,ne,oe){return s=new fC(s,i,l,x,O,G,ne,oe,S),i=1,y===!0&&(i|=24),y=qn(3,null,null,i),s.current=y,y.stateNode=s,i=Ap(),i.refCount++,s.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:i},Cp(y),s}function lw(s){return s?(s=Go,s):Go}function cw(s,i,l,u,p,y){p=lw(p),u.context===null?u.context=p:u.pendingContext=p,u=vi(i),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=_i(s,u,i),l!==null&&(Vn(l,s,i),$c(l,s,i))}function uw(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Qg(s,i){uw(s,i),(s=s.alternate)&&uw(s,i)}function hw(s){if(s.tag===13||s.tag===31){var i=Ia(s,67108864);i!==null&&Vn(i,s,67108864),Qg(s,67108864)}}function dw(s){if(s.tag===13||s.tag===31){var i=Qn();i=pa(i);var l=Ia(s,i);l!==null&&Vn(l,s,i),Qg(s,i)}}var Qd=!0;function mC(s,i,l,u){var p=W.T;W.T=null;var y=de.p;try{de.p=2,Zg(s,i,l,u)}finally{de.p=y,W.T=p}}function pC(s,i,l,u){var p=W.T;W.T=null;var y=de.p;try{de.p=8,Zg(s,i,l,u)}finally{de.p=y,W.T=p}}function Zg(s,i,l,u){if(Qd){var p=Yg(u);if(p===null)Pg(s,i,u,Zd,l),mw(s,u);else if(yC(p,s,i,l,u))u.stopPropagation();else if(mw(s,u),i&4&&-1<gC.indexOf(s)){for(;p!==null;){var y=nr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=Br(y.pendingLanes);if(x!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var O=1<<31-jt(x);S.entanglements[1]|=O,x&=~O}os(y),(et&6)===0&&(Dd=wn()+500,au(0))}}break;case 31:case 13:S=Ia(y,2),S!==null&&Vn(S,y,2),kd(),Qg(y,2)}if(y=Yg(u),y===null&&Pg(s,i,u,Zd,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else Pg(s,i,u,null,l)}}function Yg(s){return s=rr(s),Xg(s)}var Zd=null;function Xg(s){if(Zd=null,s=Kr(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=c(i),s!==null)return s;s=null}else if(l===31){if(s=h(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Zd=s,null}function fw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ha()){case pc:return 2;case gc:return 8;case ri:case rp:return 32;case Ih:return 268435456;default:return 32}default:return 32}}var Jg=!1,Ci=null,Di=null,ji=null,fu=new Map,mu=new Map,ki=[],gC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mw(s,i){switch(s){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":fu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(i.pointerId)}}function pu(s,i,l,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},i!==null&&(i=nr(i),i!==null&&hw(i)),s):(s.eventSystemFlags|=u,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function yC(s,i,l,u,p){switch(i){case"focusin":return Ci=pu(Ci,s,i,l,u,p),!0;case"dragenter":return Di=pu(Di,s,i,l,u,p),!0;case"mouseover":return ji=pu(ji,s,i,l,u,p),!0;case"pointerover":var y=p.pointerId;return fu.set(y,pu(fu.get(y)||null,s,i,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,mu.set(y,pu(mu.get(y)||null,s,i,l,u,p)),!0}return!1}function pw(s){var i=Kr(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){s.blockedOn=i,Sr(s.priority,function(){dw(l)});return}}else if(i===31){if(i=h(l),i!==null){s.blockedOn=i,Sr(s.priority,function(){dw(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yd(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Yg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Nc=u,l.target.dispatchEvent(u),Nc=null}else return i=nr(l),i!==null&&hw(i),s.blockedOn=l,!1;i.shift()}return!0}function gw(s,i,l){Yd(s)&&l.delete(i)}function vC(){Jg=!1,Ci!==null&&Yd(Ci)&&(Ci=null),Di!==null&&Yd(Di)&&(Di=null),ji!==null&&Yd(ji)&&(ji=null),fu.forEach(gw),mu.forEach(gw)}function Xd(s,i){s.blockedOn===i&&(s.blockedOn=null,Jg||(Jg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vC)))}var Jd=null;function yw(s){Jd!==s&&(Jd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jd===s&&(Jd=null);for(var i=0;i<s.length;i+=3){var l=s[i],u=s[i+1],p=s[i+2];if(typeof u!="function"){if(Xg(u||l)===null)continue;break}var y=nr(l);y!==null&&(s.splice(i,3),i-=3,Yp(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function gl(s){function i(O){return Xd(O,s)}Ci!==null&&Xd(Ci,s),Di!==null&&Xd(Di,s),ji!==null&&Xd(ji,s),fu.forEach(i),mu.forEach(i);for(var l=0;l<ki.length;l++){var u=ki[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<ki.length&&(l=ki[0],l.blockedOn===null);)pw(l),l.blockedOn===null&&ki.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],x=p[nn]||null;if(typeof y=="function")x||yw(l);else if(x){var S=null;if(y&&y.hasAttribute("formAction")){if(p=y,x=y[nn]||null)S=x.formAction;else if(Xg(p)!==null)continue}else S=x.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),yw(l)}}}function vw(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Wg(s){this._internalRoot=s}Wd.prototype.render=Wg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,u=Qn();cw(l,u,s,i,null,null)},Wd.prototype.unmount=Wg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;cw(s.current,2,null,s,null,null),kd(),i[Hr]=null}};function Wd(s){this._internalRoot=s}Wd.prototype.unstable_scheduleHydration=function(s){if(s){var i=kh();s={blockedOn:null,target:s,priority:i};for(var l=0;l<ki.length&&i!==0&&i<ki[l].priority;l++);ki.splice(l,0,s),l===0&&pw(s)}};var _w=e.version;if(_w!=="19.2.3")throw Error(r(527,_w,"19.2.3"));de.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=g(i),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var _C={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{Er=ef.inject(_C),ln=ef}catch{}}return yu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,u="",p=Ax,y=Ix,x=Nx;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=ow(s,1,!1,null,null,l,u,null,p,y,x,vw),s[Hr]=i.current,Og(s),new Wg(i)},yu.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var u=!1,p="",y=Ax,x=Ix,S=Nx,O=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),i=ow(s,1,!0,i,l??null,u,p,O,y,x,S,vw),i.context=lw(null),l=i.current,u=Qn(),u=pa(u),p=vi(u),p.callback=null,_i(l,p,u),l=u,i.current.lanes=l,fa(i,l),os(i),s[Hr]=i.current,Og(s),new Wd(i)},yu.version="19.2.3",yu}var Rw;function CC(){if(Rw)return ny.exports;Rw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ny.exports=RC(),ny.exports}var DC=CC();var Cw="popstate";function jC(t={}){function e(a,o){let{pathname:c="/",search:h="",hash:d=""}=Eo(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Iy("",{pathname:c,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let d=a.location.href,g=d.indexOf("#");h=g===-1?d:d.slice(0,g)}return h+"#"+(typeof o=="string"?o:Uu(o))}function r(a,o){_r(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return OC(e,n,r,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _r(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kC(){return Math.random().toString(36).substring(2,10)}function Dw(t,e){return{usr:t.state,key:t.key,idx:e}}function Iy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||r||kC()}}function Uu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function OC(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,h="POP",d=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function _(){h="POP";let P=v(),Z=P==null?null:P-g;g=P,d&&d({action:h,location:j.location,delta:Z})}function E(P,Z){h="PUSH";let X=Iy(j.location,P,Z);n&&n(X,P),g=v()+1;let K=Dw(X,g),le=j.createHref(X);try{c.pushState(K,"",le)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(le)}o&&d&&d({action:h,location:j.location,delta:1})}function T(P,Z){h="REPLACE";let X=Iy(j.location,P,Z);n&&n(X,P),g=v();let K=Dw(X,g),le=j.createHref(X);c.replaceState(K,"",le),o&&d&&d({action:h,location:j.location,delta:0})}function D(P){return PC(P)}let j={get action(){return h},get location(){return t(a,c)},listen(P){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Cw,_),d=P,()=>{a.removeEventListener(Cw,_),d=null}},createHref(P){return e(a,P)},createURL:D,encodeLocation(P){let Z=D(P);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:E,replace:T,go(P){return c.go(P)}};return j}function PC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Uu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function jT(t,e,n="/"){return MC(t,e,n,!1)}function MC(t,e,n,r){let a=typeof e=="string"?Eo(e):e,o=Hs(a.pathname||"/",n);if(o==null)return null;let c=kT(t);VC(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let g=QC(o);h=GC(c[d],g,r)}return h}function kT(t,e=[],n=[],r="",a=!1){let o=(c,h,d=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&d)return;Et(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=$s([r,v.relativePath]),E=n.concat(v);c.children&&c.children.length>0&&(Et(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),kT(c.children,e,E,_,d)),!(c.path==null&&!c.index)&&e.push({path:_,score:$C(_,c.index),routesMeta:E})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let d of OT(c.path))o(c,h,!0,d)}),e}function OT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=OT(r.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function VC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var zC=/^:[\w-]+$/,LC=3,UC=2,FC=1,BC=10,qC=-2,jw=t=>t==="*";function $C(t,e){let n=t.split("/"),r=n.length;return n.some(jw)&&(r+=qC),e&&(r+=UC),n.filter(a=>!jw(a)).reduce((a,o)=>a+(zC.test(o)?LC:o===""?FC:BC),r)}function HC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function GC(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],g=h===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",_=Lf({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},v),E=d.route;if(!_&&g&&n&&!r[r.length-1].route.index&&(_=Lf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:$s([o,_.pathname]),pathnameBase:JC($s([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=$s([o,_.pathnameBase]))}return c}function Lf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:_},E)=>{if(v==="*"){let D=h[E]||"";c=o.slice(0,o.length-D.length).replace(/(.)\/+$/,"$1")}const T=h[E];return _&&!T?g[v]=void 0:g[v]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:t}}function KC(t,e=!1,n=!0){_r(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function QC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _r(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var PT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZC=t=>PT.test(t);function YC(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Eo(t):t,o;if(n)if(ZC(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),_r(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?o=kw(n.substring(1),"/"):o=kw(n,e)}else o=e;return{pathname:o,search:WC(r),hash:eD(a)}}function kw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ay(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function MT(t){let e=XC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function VT(t,e,n,r=!1){let a;typeof t=="string"?a=Eo(t):(a={...t},Et(!a.pathname||!a.pathname.includes("?"),ay("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),ay("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),ay("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let d=YC(a,h),g=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||v)&&(d.pathname+="/"),d}var $s=t=>t.join("/").replace(/\/\/+/g,"/"),JC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,tD=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function nD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function rD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function LT(t,e){let n=t;if(typeof n!="string"||!PT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(zT)try{let o=new URL(window.location.href),c=n.startsWith("//")?new URL(o.protocol+n):new URL(n),h=Hs(c.pathname,e);c.origin===o.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{_r(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UT=["POST","PUT","PATCH","DELETE"];new Set(UT);var sD=["GET",...UT];new Set(sD);var Jl=V.createContext(null);Jl.displayName="DataRouter";var Em=V.createContext(null);Em.displayName="DataRouterState";var iD=V.createContext(!1),FT=V.createContext({isTransitioning:!1});FT.displayName="ViewTransition";var aD=V.createContext(new Map);aD.displayName="Fetchers";var oD=V.createContext(null);oD.displayName="Await";var br=V.createContext(null);br.displayName="Navigation";var oh=V.createContext(null);oh.displayName="Location";var vs=V.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var _v=V.createContext(null);_v.displayName="RouteError";var BT="REACT_ROUTER_ERROR",lD="REDIRECT",cD="ROUTE_ERROR_RESPONSE";function uD(t){if(t.startsWith(`${BT}:${lD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function hD(t){if(t.startsWith(`${BT}:${cD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new tD(e.status,e.statusText,e.data)}catch{}}function dD(t,{relative:e}={}){Et(lh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(br),{hash:a,pathname:o,search:c}=ch(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:$s([n,o])),r.createHref({pathname:h,search:c,hash:a})}function lh(){return V.useContext(oh)!=null}function Xs(){return Et(lh(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(oh).location}var qT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $T(t){V.useContext(br).static||V.useLayoutEffect(t)}function HT(){let{isDataRoute:t}=V.useContext(vs);return t?SD():fD()}function fD(){Et(lh(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(Jl),{basename:e,navigator:n}=V.useContext(br),{matches:r}=V.useContext(vs),{pathname:a}=Xs(),o=JSON.stringify(MT(r)),c=V.useRef(!1);return $T(()=>{c.current=!0}),V.useCallback((d,g={})=>{if(_r(c.current,qT),!c.current)return;if(typeof d=="number"){n.go(d);return}let v=VT(d,JSON.parse(o),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:$s([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,o,a,t])}V.createContext(null);function GT(){let{matches:t}=V.useContext(vs),e=t[t.length-1];return e?e.params:{}}function ch(t,{relative:e}={}){let{matches:n}=V.useContext(vs),{pathname:r}=Xs(),a=JSON.stringify(MT(n));return V.useMemo(()=>VT(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function mD(t,e){return KT(t,e)}function KT(t,e,n,r,a){Et(lh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=V.useContext(br),{matches:c}=V.useContext(vs),h=c[c.length-1],d=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let X=_&&_.path||"";ZT(g,!_||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let E=Xs(),T;if(e){let X=typeof e=="string"?Eo(e):e;Et(v==="/"||X.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${X.pathname}" was given in the \`location\` prop.`),T=X}else T=E;let D=T.pathname||"/",j=D;if(v!=="/"){let X=v.replace(/^\//,"").split("/");j="/"+D.replace(/^\//,"").split("/").slice(X.length).join("/")}let P=jT(t,{pathname:j});_r(_||P!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),_r(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=_D(P&&P.map(X=>Object.assign({},X,{params:Object.assign({},d,X.params),pathname:$s([v,o.encodeLocation?o.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?v:$s([v,o.encodeLocation?o.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),c,n,r,a);return e&&Z?V.createElement(oh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},Z):Z}function pD(){let t=TD(),e=nD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,c)}var gD=V.createElement(pD,null),QT=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=hD(t.digest);n&&(t=n)}let e=t!==void 0?V.createElement(vs.Provider,{value:this.props.routeContext},V.createElement(_v.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?V.createElement(yD,{error:t},e):e}};QT.contextType=iD;var oy=new WeakMap;function yD({children:t,error:e}){let{basename:n}=V.useContext(br);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=uD(e.digest);if(r){let a=oy.get(e);if(a)throw a;let o=LT(r.location,n);if(zT&&!oy.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw oy.set(e,c),c}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function vD({routeContext:t,match:e,children:n}){let r=V.useContext(Jl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(vs.Provider,{value:t},n)}function _D(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let v=o.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);Et(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let h=!1,d=-1;if(n)for(let v=0;v<o.length;v++){let _=o[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=v),_.route.id){let{loaderData:E,errors:T}=n,D=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||D){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let g=n&&r?(v,_)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:rD(n.matches),errorInfo:_})}:void 0;return o.reduceRight((v,_,E)=>{let T,D=!1,j=null,P=null;n&&(T=c&&_.route.id?c[_.route.id]:void 0,j=_.route.errorElement||gD,h&&(d<0&&E===0?(ZT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,P=null):d===E&&(D=!0,P=_.route.hydrateFallbackElement||null)));let Z=e.concat(o.slice(0,E+1)),X=()=>{let K;return T?K=j:D?K=P:_.route.Component?K=V.createElement(_.route.Component,null):_.route.element?K=_.route.element:K=v,V.createElement(vD,{match:_,routeContext:{outlet:v,matches:Z,isDataRoute:n!=null},children:K})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?V.createElement(QT,{location:n.location,revalidation:n.revalidation,component:j,error:T,children:X(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:g}):X()},null)}function bv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bD(t){let e=V.useContext(Jl);return Et(e,bv(t)),e}function xD(t){let e=V.useContext(Em);return Et(e,bv(t)),e}function wD(t){let e=V.useContext(vs);return Et(e,bv(t)),e}function xv(t){let e=wD(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ED(){return xv("useRouteId")}function TD(){let t=V.useContext(_v),e=xD("useRouteError"),n=xv("useRouteError");return t!==void 0?t:e.errors?.[n]}function SD(){let{router:t}=bD("useNavigate"),e=xv("useNavigate"),n=V.useRef(!1);return $T(()=>{n.current=!0}),V.useCallback(async(a,o={})=>{_r(n.current,qT),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var Ow={};function ZT(t,e,n){!e&&!Ow[t]&&(Ow[t]=!0,_r(!1,n))}V.memo(AD);function AD({routes:t,future:e,state:n,onError:r}){return KT(t,void 0,n,r,e)}function Ui(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ID({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){Et(!lh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[h,a,o,c]);typeof n=="string"&&(n=Eo(n));let{pathname:g="/",search:v="",hash:_="",state:E=null,key:T="default"}=n,D=V.useMemo(()=>{let j=Hs(g,h);return j==null?null:{location:{pathname:j,search:v,hash:_,state:E,key:T},navigationType:r}},[h,g,v,_,E,T,r]);return _r(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:V.createElement(br.Provider,{value:d},V.createElement(oh.Provider,{children:e,value:D}))}function ND({children:t,location:e}){return mD(Ny(t),e)}function Ny(t,e=[]){let n=[];return V.Children.forEach(t,(r,a)=>{if(!V.isValidElement(r))return;let o=[...e,a];if(r.type===V.Fragment){n.push.apply(n,Ny(r.props.children,o));return}Et(r.type===Ui,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Ny(r.props.children,o)),n.push(c)}),n}var yf="get",vf="application/x-www-form-urlencoded";function Tm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function RD(t){return Tm(t)&&t.tagName.toLowerCase()==="button"}function CD(t){return Tm(t)&&t.tagName.toLowerCase()==="form"}function DD(t){return Tm(t)&&t.tagName.toLowerCase()==="input"}function jD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kD(t,e){return t.button===0&&(!e||e==="_self")&&!jD(t)}var tf=null;function OD(){if(tf===null)try{new FormData(document.createElement("form"),0),tf=!1}catch{tf=!0}return tf}var PD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ly(t){return t!=null&&!PD.has(t)?(_r(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vf}"`),null):t}function MD(t,e){let n,r,a,o,c;if(CD(t)){let h=t.getAttribute("action");r=h?Hs(h,e):null,n=t.getAttribute("method")||yf,a=ly(t.getAttribute("enctype"))||vf,o=new FormData(t)}else if(RD(t)||DD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Hs(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||yf,a=ly(t.getAttribute("formenctype"))||ly(h.getAttribute("enctype"))||vf,o=new FormData(h,t),!OD()){let{name:g,type:v,value:_}=t;if(v==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,_)}}else{if(Tm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yf,r=null,a=vf,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VD(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Hs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function zD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function UD(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await zD(o,n);return c.links?c.links():[]}return[]}));return $D(r.flat(1).filter(LD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Pw(t,e,n,r,a,o){let c=(d,g)=>n[g]?d.route.id!==n[g].route.id:!0,h=(d,g)=>n[g].pathname!==d.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,g)=>c(d,g)||h(d,g)):o==="data"?e.filter((d,g)=>{let v=r.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(c(d,g)||h(d,g))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function FD(t,e,{includeHydrateFallback:n}={}){return BD(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function BD(t){return[...new Set(t)]}function qD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function $D(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(qD(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function YT(){let t=V.useContext(Jl);return wv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function HD(){let t=V.useContext(Em);return wv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ev=V.createContext(void 0);Ev.displayName="FrameworkContext";function XT(){let t=V.useContext(Ev);return wv(t,"You must render this element inside a <HydratedRouter> element"),t}function GD(t,e){let n=V.useContext(Ev),[r,a]=V.useState(!1),[o,c]=V.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,E=V.useRef(null);V.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=Z=>{Z.forEach(X=>{c(X.isIntersecting)})},P=new IntersectionObserver(j,{threshold:.5});return E.current&&P.observe(E.current),()=>{P.disconnect()}}},[t]),V.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let T=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:vu(h,T),onBlur:vu(d,D),onMouseEnter:vu(g,T),onMouseLeave:vu(v,D),onTouchStart:vu(_,T)}]:[!1,E,{}]}function vu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function KD({page:t,...e}){let{router:n}=YT(),r=V.useMemo(()=>jT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?V.createElement(ZD,{page:t,matches:r,...e}):null}function QD(t){let{manifest:e,routeModules:n}=XT(),[r,a]=V.useState([]);return V.useEffect(()=>{let o=!1;return UD(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),r}function ZD({page:t,matches:e,...n}){let r=Xs(),{future:a,manifest:o,routeModules:c}=XT(),{basename:h}=YT(),{loaderData:d,matches:g}=HD(),v=V.useMemo(()=>Pw(t,e,g,o,r,"data"),[t,e,g,o,r]),_=V.useMemo(()=>Pw(t,e,g,o,r,"assets"),[t,e,g,o,r]),E=V.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let j=new Set,P=!1;if(e.forEach(X=>{let K=o.routes[X.route.id];!K||!K.hasLoader||(!v.some(le=>le.route.id===X.route.id)&&X.route.id in d&&c[X.route.id]?.shouldRevalidate||K.hasClientLoader?P=!0:j.add(X.route.id))}),j.size===0)return[];let Z=VD(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return P&&j.size>0&&Z.searchParams.set("_routes",e.filter(X=>j.has(X.route.id)).map(X=>X.route.id).join(",")),[Z.pathname+Z.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,o,v,e,t,c]),T=V.useMemo(()=>FD(_,o),[_,o]),D=QD(_);return V.createElement(V.Fragment,null,E.map(j=>V.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),T.map(j=>V.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),D.map(({key:j,link:P})=>V.createElement("link",{key:j,nonce:n.nonce,...P})))}function YD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XD&&(window.__reactRouterVersion="7.12.0")}catch{}function JD({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=V.useRef();a.current==null&&(a.current=jC({window:r,v5Compat:!0}));let o=a.current,[c,h]=V.useState({action:o.action,location:o.location}),d=V.useCallback(g=>{n===!1?h(g):V.startTransition(()=>h(g))},[n]);return V.useLayoutEffect(()=>o.listen(d),[o,d]),V.createElement(ID,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n})}var JT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:h,target:d,to:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E,...T},D){let{basename:j,unstable_useTransitions:P}=V.useContext(br),Z=typeof g=="string"&&JT.test(g),X=LT(g,j);g=X.to;let K=dD(g,{relative:a}),[le,Q,ae]=GD(r,T),N=nj(g,{replace:c,state:h,target:d,preventScrollReset:v,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:P});function A(z){e&&e(z),z.defaultPrevented||N(z)}let C=V.createElement("a",{...T,...ae,href:X.absoluteURL||K,onClick:X.isExternal||o?e:A,ref:YD(D,Q),target:d,"data-discover":!Z&&n==="render"?"true":void 0});return le&&!Z?V.createElement(V.Fragment,null,C,V.createElement(KD,{page:K})):C});Nt.displayName="Link";var WD=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:h,children:d,...g},v){let _=ch(c,{relative:g.relative}),E=Xs(),T=V.useContext(Em),{navigator:D,basename:j}=V.useContext(br),P=T!=null&&oj(_)&&h===!0,Z=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,X=E.pathname,K=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(X=X.toLowerCase(),K=K?K.toLowerCase():null,Z=Z.toLowerCase()),K&&j&&(K=Hs(K,j)||K);const le=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let Q=X===Z||!a&&X.startsWith(Z)&&X.charAt(le)==="/",ae=K!=null&&(K===Z||!a&&K.startsWith(Z)&&K.charAt(Z.length)==="/"),N={isActive:Q,isPending:ae,isTransitioning:P},A=Q?e:void 0,C;typeof r=="function"?C=r(N):C=[r,Q?"active":null,ae?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(N):o;return V.createElement(Nt,{...g,"aria-current":A,className:C,ref:v,style:z,to:c,viewTransition:h},typeof d=="function"?d(N):d)});WD.displayName="NavLink";var ej=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:c=yf,action:h,onSubmit:d,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E,...T},D)=>{let{unstable_useTransitions:j}=V.useContext(br),P=ij(),Z=aj(h,{relative:g}),X=c.toLowerCase()==="get"?"get":"post",K=typeof h=="string"&&JT.test(h),le=Q=>{if(d&&d(Q),Q.defaultPrevented)return;Q.preventDefault();let ae=Q.nativeEvent.submitter,N=ae?.getAttribute("formmethod")||c,A=()=>P(ae||Q.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:o,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E});j&&n!==!1?V.startTransition(()=>A()):A()};return V.createElement("form",{ref:D,method:X,action:Z,onSubmit:r?d:le,...T,"data-discover":!K&&t==="render"?"true":void 0})});ej.displayName="Form";function tj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WT(t){let e=V.useContext(Jl);return Et(e,tj(t)),e}function nj(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let g=HT(),v=Xs(),_=ch(t,{relative:o});return V.useCallback(E=>{if(kD(E,e)){E.preventDefault();let T=n!==void 0?n:Uu(v)===Uu(_),D=()=>g(t,{replace:T,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});d?V.startTransition(()=>D()):D()}},[v,g,_,n,r,e,t,a,o,c,h,d])}var rj=0,sj=()=>`__${String(++rj)}__`;function ij(){let{router:t}=WT("useSubmit"),{basename:e}=V.useContext(br),n=ED(),r=t.fetch,a=t.navigate;return V.useCallback(async(o,c={})=>{let{action:h,method:d,encType:g,formData:v,body:_}=MD(o,e);if(c.navigate===!1){let E=c.fetcherKey||sj();await r(E,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||d,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||d,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,n])}function aj(t,{relative:e}={}){let{basename:n}=V.useContext(br),r=V.useContext(vs);Et(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...ch(t||".",{relative:e})},c=Xs();if(t==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(v=>v==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();o.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:$s([n,o.pathname])),Uu(o)}function oj(t,{relative:e}={}){let n=V.useContext(FT);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WT("useViewTransitionState"),a=ch(t,{relative:e});if(!n.isTransitioning)return!1;let o=Hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lf(a.pathname,c)!=null||Lf(a.pathname,o)!=null}var Wl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lj={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},cj=class{#e=lj;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Za=new cj;function uj(t){setTimeout(t,0)}var io=typeof window>"u"||"Deno"in globalThis;function An(){}function hj(t,e){return typeof t=="function"?t(e):t}function Ry(t){return typeof t=="number"&&t>=0&&t!==1/0}function eS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qi(t,e){return typeof t=="function"?t(e):t}function mr(t,e){return typeof t=="function"?t(e):t}function Mw(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:c,stale:h}=t;if(c){if(r){if(e.queryHash!==Tv(c,e.options))return!1}else if(!Fu(e.queryKey,c))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||o&&!o(e))}function Vw(t,e){const{exact:n,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(ao(e.options.mutationKey)!==ao(o))return!1}else if(!Fu(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Tv(t,e){return(e?.queryKeyHashFn||ao)(t)}function ao(t){return JSON.stringify(t,(e,n)=>Cy(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Fu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Fu(t[n],e[n])):!1}var dj=Object.prototype.hasOwnProperty;function tS(t,e){if(t===e)return t;const n=zw(t)&&zw(e);if(!n&&!(Cy(t)&&Cy(e)))return e;const a=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),c=o.length,h=n?new Array(c):{};let d=0;for(let g=0;g<c;g++){const v=n?g:o[g],_=t[v],E=e[v];if(_===E){h[v]=_,(n?g<a:dj.call(t,v))&&d++;continue}if(_===null||E===null||typeof _!="object"||typeof E!="object"){h[v]=E;continue}const T=tS(_,E);h[v]=T,T===_&&d++}return a===c&&d===a?t:h}function Uf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function zw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Cy(t){if(!Lw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Lw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Lw(t){return Object.prototype.toString.call(t)==="[object Object]"}function fj(t){return new Promise(e=>{Za.setTimeout(e,t)})}function Dy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?tS(t,e):e}function mj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function pj(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Sv=Symbol();function nS(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Sv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Av(t,e){return typeof t=="function"?t(...e):!!t}function gj(t,e,n){let r=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??=e(),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var yj=class extends Wl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!io&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Iv=new yj;function jy(){let t,e;const n=new Promise((a,o)=>{t=a,e=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}var vj=uj;function _j(){let t=[],e=0,n=h=>{h()},r=h=>{h()},a=vj;const o=h=>{e?t.push(h):a(()=>{n(h)})},c=()=>{const h=t;t=[],h.length&&a(()=>{r(()=>{h.forEach(d=>{n(d)})})})};return{batch:h=>{let d;e++;try{d=h()}finally{e--,e||c()}return d},batchCalls:h=>(...d)=>{o(()=>{h(...d)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{a=h}}}var Wt=_j(),bj=class extends Wl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!io&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Ff=new bj;function xj(t){return Math.min(1e3*2**t,3e4)}function rS(t){return(t??"online")==="online"?Ff.isOnline():!0}var ky=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function sS(t){let e=!1,n=0,r;const a=jy(),o=()=>a.status!=="pending",c=j=>{if(!o()){const P=new ky(j);E(P),t.onCancel?.(P)}},h=()=>{e=!0},d=()=>{e=!1},g=()=>Iv.isFocused()&&(t.networkMode==="always"||Ff.isOnline())&&t.canRun(),v=()=>rS(t.networkMode)&&t.canRun(),_=j=>{o()||(r?.(),a.resolve(j))},E=j=>{o()||(r?.(),a.reject(j))},T=()=>new Promise(j=>{r=P=>{(o()||g())&&j(P)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),D=()=>{if(o())return;let j;const P=n===0?t.initialPromise:void 0;try{j=P??t.fn()}catch(Z){j=Promise.reject(Z)}Promise.resolve(j).then(_).catch(Z=>{if(o())return;const X=t.retry??(io?0:3),K=t.retryDelay??xj,le=typeof K=="function"?K(n,Z):K,Q=X===!0||typeof X=="number"&&n<X||typeof X=="function"&&X(n,Z);if(e||!Q){E(Z);return}n++,t.onFail?.(n,Z),fj(le).then(()=>g()?void 0:T()).then(()=>{e?E(Z):D()})})};return{promise:a,status:()=>a.status,cancel:c,continue:()=>(r?.(),a),cancelRetry:h,continueRetry:d,canStart:v,start:()=>(v()?D():T().then(D),a)}}var iS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ry(this.gcTime)&&(this.#e=Za.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(io?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Za.clearTimeout(this.#e),this.#e=void 0)}},wj=class extends iS{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Fw(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Fw(this.options);n.data!==void 0&&(this.setState(Uw(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=Dy(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>mr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Qi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!eS(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(g=>g.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const d=nS(this.options,n),v=(()=>{const _={client:this.#s,queryKey:this.queryKey,meta:this.meta};return a(_),_})();return this.#o=!1,this.options.persister?this.options.persister(d,v,this):d(v)},h=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return a(d),d})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#i({type:"fetch",meta:h.fetchOptions?.meta}),this.#r=sS({initialPromise:n?.initialPromise,fn:h.fetchFn,onCancel:d=>{d instanceof ky&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,g)=>{this.#i({type:"failed",failureCount:d,error:g})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof ky){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...aS(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...Uw(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Wt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function aS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Uw(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Fw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ej=class extends Wl{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=jy(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#d;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Bw(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Oy(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Oy(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!Uf(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&qw(this.#t,n,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#t!==n||mr(this.options.enabled,this.#t)!==mr(e.enabled,this.#t)||Qi(this.options.staleTime,this.#t)!==Qi(e.staleTime,this.#t))&&this.#g();const a=this.#y();r&&(this.#t!==n||mr(this.options.enabled,this.#t)!==mr(e.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Sj(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(An)),e}#g(){this.#b();const t=Qi(this.options.staleTime,this.#t);if(io||this.#s.isStale||!Ry(t))return;const n=eS(this.#s.dataUpdatedAt,t)+1;this.#c=Za.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#l=t,!(io||mr(this.options.enabled,this.#t)===!1||!Ry(this.#l)||this.#l===0)&&(this.#u=Za.setInterval(()=>{(this.options.refetchIntervalInBackground||Iv.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#b(){this.#c&&(Za.clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(Za.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,a=this.#s,o=this.#r,c=this.#a,d=t!==n?t.state:this.#n,{state:g}=t;let v={...g},_=!1,E;if(e._optimisticResults){const A=this.hasListeners(),C=!A&&Bw(t,e),z=A&&qw(t,n,e,r);(C||z)&&(v={...v,...aS(g.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:T,errorUpdatedAt:D,status:j}=v;E=v.data;let P=!1;if(e.placeholderData!==void 0&&E===void 0&&j==="pending"){let A;a?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(A=a.data,P=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,A!==void 0&&(j="success",E=Dy(a?.data,A,e),_=!0)}if(e.select&&E!==void 0&&!P)if(a&&E===o?.data&&e.select===this.#p)E=this.#d;else try{this.#p=e.select,E=e.select(E),E=Dy(a?.data,E,e),this.#d=E,this.#i=null}catch(A){this.#i=A}this.#i&&(T=this.#i,E=this.#d,D=Date.now(),j="error");const Z=v.fetchStatus==="fetching",X=j==="pending",K=j==="error",le=X&&Z,Q=E!==void 0,N={status:j,fetchStatus:v.fetchStatus,isPending:X,isSuccess:j==="success",isError:K,isInitialLoading:le,isLoading:le,data:E,dataUpdatedAt:v.dataUpdatedAt,error:T,errorUpdatedAt:D,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>d.dataUpdateCount||v.errorUpdateCount>d.errorUpdateCount,isFetching:Z,isRefetching:Z&&!X,isLoadingError:K&&!Q,isPaused:v.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:K&&Q,isStale:Nv(t,e),refetch:this.refetch,promise:this.#o,isEnabled:mr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=M=>{N.status==="error"?M.reject(N.error):N.data!==void 0&&M.resolve(N.data)},C=()=>{const M=this.#o=N.promise=jy();A(M)},z=this.#o;switch(z.status){case"pending":t.queryHash===n.queryHash&&A(z);break;case"fulfilled":(N.status==="error"||N.data!==z.value)&&C();break;case"rejected":(N.status!=="error"||N.error!==z.reason)&&C();break}}return N}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),Uf(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#m.size)return!0;const o=new Set(a??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(c=>{const h=c;return this.#s[h]!==t[h]&&o.has(h)})};this.#E({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#E(t){Wt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Tj(t,e){return mr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Bw(t,e){return Tj(t,e)||t.state.data!==void 0&&Oy(t,e,e.refetchOnMount)}function Oy(t,e,n){if(mr(e.enabled,t)!==!1&&Qi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Nv(t,e)}return!1}function qw(t,e,n,r){return(t!==e||mr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Nv(t,n)}function Nv(t,e){return mr(e.enabled,t)!==!1&&t.isStaleByTime(Qi(e.staleTime,t))}function Sj(t,e){return!Uf(t.getCurrentResult(),e)}function $w(t){return{onFetch:(e,n)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},d=0;const g=async()=>{let v=!1;const _=D=>{gj(D,()=>e.signal,()=>v=!0)},E=nS(e.options,e.fetchOptions),T=async(D,j,P)=>{if(v)return Promise.reject();if(j==null&&D.pages.length)return Promise.resolve(D);const X=(()=>{const ae={client:e.client,queryKey:e.queryKey,pageParam:j,direction:P?"backward":"forward",meta:e.options.meta};return _(ae),ae})(),K=await E(X),{maxPages:le}=e.options,Q=P?pj:mj;return{pages:Q(D.pages,K,le),pageParams:Q(D.pageParams,j,le)}};if(a&&o.length){const D=a==="backward",j=D?Aj:Hw,P={pages:o,pageParams:c},Z=j(r,P);h=await T(P,Z,D)}else{const D=t??o.length;do{const j=d===0?c[0]??r.initialPageParam:Hw(r,h);if(d>0&&j==null)break;h=await T(h,j),d++}while(d<D)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=g}}}function Hw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Aj(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Ij=class extends iS{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||oS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=sS({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(c,h)=>{this.#r({type:"failed",failureCount:c,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",o=!this.#s.canStart();try{if(a)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const h=await this.options.onMutate?.(e,r);h!==this.state.context&&this.#r({type:"pending",context:h,variables:e,isPaused:o})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,e,this.state.context,this,r),await this.options.onSuccess?.(c,e,this.state.context,r),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(c,null,e,this.state.context,r),this.#r({type:"success",data:c}),c}catch(c){try{await this.#n.config.onError?.(c,e,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onError?.(c,e,this.state.context,r)}catch(h){Promise.reject(h)}try{await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onSettled?.(void 0,c,e,this.state.context,r)}catch(h){Promise.reject(h)}throw this.#r({type:"error",error:c}),c}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Wt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function oS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nj=class extends Wl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new Ij({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=nf(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=nf(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=nf(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=nf(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Wt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Vw(e,n))}findAll(t={}){return this.getAll().filter(e=>Vw(t,e))}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Wt.batch(()=>Promise.all(t.map(e=>e.continue().catch(An))))}};function nf(t){return t.options.scope?.id}var Rj=class extends Wl{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Uf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&ao(n.mutationKey)!==ao(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??oS();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Wt.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(e.data,null,n,r,a)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,e.error,n,r,a)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},Cj=class extends Wl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,a=e.queryHash??Tv(r,e);let o=this.get(a);return o||(o=new wj({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Mw(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Mw(t,n)):e}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Dj=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new Cj,this.#t=t.mutationCache||new Nj,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Iv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ff.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Qi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,c=hj(e,o);if(c!==void 0)return this.#e.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Wt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Wt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Wt.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(An).catch(An)}invalidateQueries(t,e={}){return Wt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Wt.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(An)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(An)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Qi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(An).catch(An)}fetchInfiniteQuery(t){return t.behavior=$w(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(An).catch(An)}ensureInfiniteQueryData(t){return t.behavior=$w(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ff.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(ao(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Fu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(ao(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Fu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Tv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Sv&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},lS=V.createContext(void 0),ec=t=>{const e=V.useContext(lS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},jj=({client:t,children:e})=>(V.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(lS.Provider,{value:t,children:e})),cS=V.createContext(!1),kj=()=>V.useContext(cS);cS.Provider;function Oj(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Pj=V.createContext(Oj()),Mj=()=>V.useContext(Pj),Vj=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?Av(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},zj=t=>{V.useEffect(()=>{t.clearReset()},[t])},Lj=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||Av(n,[t.error,r])),Uj=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Fj=(t,e)=>t.isLoading&&t.isFetching&&!e,Bj=(t,e)=>t?.suspense&&e.isPending,Gw=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function qj(t,e,n){const r=kj(),a=Mj(),o=ec(),c=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const h=o.getQueryCache().get(c.queryHash);c._optimisticResults=r?"isRestoring":"optimistic",Uj(c),Vj(c,a,h),zj(a);const d=!o.getQueryCache().get(c.queryHash),[g]=V.useState(()=>new e(o,c)),v=g.getOptimisticResult(c),_=!r&&t.subscribed!==!1;if(V.useSyncExternalStore(V.useCallback(E=>{const T=_?g.subscribe(Wt.batchCalls(E)):An;return g.updateResult(),T},[g,_]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),V.useEffect(()=>{g.setOptions(c)},[c,g]),Bj(c,v))throw Gw(c,g,a);if(Lj({result:v,errorResetBoundary:a,throwOnError:c.throwOnError,query:h,suspense:c.suspense}))throw v.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,v),c.experimental_prefetchInRender&&!io&&Fj(v,r)&&(d?Gw(c,g,a):h?.promise)?.catch(An).finally(()=>{g.updateResult()}),c.notifyOnChangeProps?v:g.trackResult(v)}function uS(t,e){return qj(t,Ej)}function Sm(t,e){const n=ec(),[r]=V.useState(()=>new Rj(n,t));V.useEffect(()=>{r.setOptions(t)},[r,t]);const a=V.useSyncExternalStore(V.useCallback(c=>r.subscribe(Wt.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=V.useCallback((c,h)=>{r.mutate(c,h).catch(An)},[r]);if(a.error&&Av(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}const $j=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Kw=t=>{const e=Hj(t);return e.charAt(0).toUpperCase()+e.slice(1)},hS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Gj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Kj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Qj=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...h},d)=>V.createElement("svg",{ref:d,...Kj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:hS("lucide",a),...!o&&!Gj(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,v])=>V.createElement(g,v)),...Array.isArray(o)?o:[o]]));const tt=(t,e)=>{const n=V.forwardRef(({className:r,...a},o)=>V.createElement(Qj,{ref:o,iconNode:e,className:hS(`lucide-${$j(Kw(t))}`,`lucide-${t}`,r),...a}));return n.displayName=Kw(t),n};const Zj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Qw=tt("activity",Zj);const Yj=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Xj=tt("arrow-down",Yj);const Jj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wj=tt("arrow-left",Jj);const ek=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_f=tt("arrow-right",ek);const tk=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],nk=tt("arrow-up",tk);const rk=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],sk=tt("calculator",rk);const ik=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],oo=tt("calendar",ik);const ak=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ok=tt("chart-column",ak);const lk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dS=tt("chevron-down",lk);const ck=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Zw=tt("chevron-left",ck);const uk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fS=tt("chevron-up",uk);const hk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dk=tt("circle-check-big",hk);const fk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bf=tt("clock",fk);const mk=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Rv=tt("external-link",mk);const pk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],gk=tt("house",pk);const yk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mS=tt("map-pin",yk);const vk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_k=tt("menu",vk);const bk=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xk=tt("pen-line",bk);const wk=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ek=tt("play",wk);const Tk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sk=tt("plus",Tk);const Ak=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ik=tt("rotate-ccw",Ak);const Nk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pS=tt("search",Nk);const Rk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Yw=tt("star",Rk);const Ck=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],Dk=tt("swords",Ck);const jk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Bu=tt("target",jk);const kk=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xw=tt("trending-up",kk);const Ok=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Yn=tt("trophy",Ok);const Pk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Mk=tt("user-plus",Pk);const Vk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gS=tt("user",Vk);const zk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Am=tt("users",zk);const Lk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yS=tt("x",Lk);function vS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=vS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Uk(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=vS(t))&&(r&&(r+=" "),r+=e);return r}const Fk=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Bk=(t,e)=>({classGroupId:t,validator:e}),_S=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),qf="-",Jw=[],qk="arbitrary..",$k=t=>{const e=Gk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return Hk(c);const h=c.split(qf),d=h[0]===""&&h.length>1?1:0;return bS(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=r[c],g=n[c];return d?g?Fk(g,d):d:g||Jw}return n[c]||Jw}}},bS=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],o=n.nextPart.get(a);if(o){const g=bS(t,e+1,o);if(g)return g}const c=n.validators;if(c===null)return;const h=e===0?t.join(qf):t.slice(e).join(qf),d=c.length;for(let g=0;g<d;g++){const v=c[g];if(v.validator(h))return v.classGroupId}},Hk=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?qk+r:void 0})(),Gk=t=>{const{theme:e,classGroups:n}=t;return Kk(n,e)},Kk=(t,e)=>{const n=_S();for(const r in t){const a=t[r];Cv(a,n,r,e)}return n},Cv=(t,e,n,r)=>{const a=t.length;for(let o=0;o<a;o++){const c=t[o];Qk(c,e,n,r)}},Qk=(t,e,n,r)=>{if(typeof t=="string"){Zk(t,e,n);return}if(typeof t=="function"){Yk(t,e,n,r);return}Xk(t,e,n,r)},Zk=(t,e,n)=>{const r=t===""?e:xS(e,t);r.classGroupId=n},Yk=(t,e,n,r)=>{if(Jk(t)){Cv(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Bk(n,t))},Xk=(t,e,n,r)=>{const a=Object.entries(t),o=a.length;for(let c=0;c<o;c++){const[h,d]=a[c];Cv(d,xS(e,h),n,r)}},xS=(t,e)=>{let n=t;const r=e.split(qf),a=r.length;for(let o=0;o<a;o++){const c=r[o];let h=n.nextPart.get(c);h||(h=_S(),n.nextPart.set(c,h)),n=h}return n},Jk=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Wk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(o,c)=>{n[o]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let c=n[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return a(o,c),c},set(o,c){o in n?n[o]=c:a(o,c)}}},Py="!",Ww=":",eO=[],eE=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),tO=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const o=[];let c=0,h=0,d=0,g;const v=a.length;for(let j=0;j<v;j++){const P=a[j];if(c===0&&h===0){if(P===Ww){o.push(a.slice(d,j)),d=j+1;continue}if(P==="/"){g=j;continue}}P==="["?c++:P==="]"?c--:P==="("?h++:P===")"&&h--}const _=o.length===0?a:a.slice(d);let E=_,T=!1;_.endsWith(Py)?(E=_.slice(0,-1),T=!0):_.startsWith(Py)&&(E=_.slice(1),T=!0);const D=g&&g>d?g-d:void 0;return eE(o,T,E,D)};if(e){const a=e+Ww,o=r;r=c=>c.startsWith(a)?o(c.slice(a.length)):eE(eO,!1,c,void 0,!0)}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},nO=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let o=0;o<n.length;o++){const c=n[o],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},rO=t=>({cache:Wk(t.cacheSize),parseClassName:tO(t),sortModifiers:nO(t),...$k(t)}),sO=/\s+/,iO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,c=[],h=t.trim().split(sO);let d="";for(let g=h.length-1;g>=0;g-=1){const v=h[g],{isExternal:_,modifiers:E,hasImportantModifier:T,baseClassName:D,maybePostfixModifierPosition:j}=n(v);if(_){d=v+(d.length>0?" "+d:d);continue}let P=!!j,Z=r(P?D.substring(0,j):D);if(!Z){if(!P){d=v+(d.length>0?" "+d:d);continue}if(Z=r(D),!Z){d=v+(d.length>0?" "+d:d);continue}P=!1}const X=E.length===0?"":E.length===1?E[0]:o(E).join(":"),K=T?X+Py:X,le=K+Z;if(c.indexOf(le)>-1)continue;c.push(le);const Q=a(Z,P);for(let ae=0;ae<Q.length;++ae){const N=Q[ae];c.push(K+N)}d=v+(d.length>0?" "+d:d)}return d},aO=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=wS(n))&&(a&&(a+=" "),a+=r);return a},wS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wS(t[r]))&&(n&&(n+=" "),n+=e);return n},oO=(t,...e)=>{let n,r,a,o;const c=d=>{const g=e.reduce((v,_)=>_(v),t());return n=rO(g),r=n.cache.get,a=n.cache.set,o=h,h(d)},h=d=>{const g=r(d);if(g)return g;const v=iO(d,n);return a(d,v),v};return o=c,(...d)=>o(aO(...d))},lO=[],Xt=t=>{const e=n=>n[t]||lO;return e.isThemeGetter=!0,e},ES=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cO=/^\d+\/\d+$/,uO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yl=t=>cO.test(t),Ve=t=>!!t&&!Number.isNaN(Number(t)),Pi=t=>!!t&&Number.isInteger(Number(t)),cy=t=>t.endsWith("%")&&Ve(t.slice(0,-1)),zs=t=>uO.test(t),pO=()=>!0,gO=t=>hO.test(t)&&!dO.test(t),SS=()=>!1,yO=t=>fO.test(t),vO=t=>mO.test(t),_O=t=>!ye(t)&&!ve(t),bO=t=>tc(t,NS,SS),ye=t=>ES.test(t),Ua=t=>tc(t,RS,gO),uy=t=>tc(t,SO,Ve),tE=t=>tc(t,AS,SS),xO=t=>tc(t,IS,vO),rf=t=>tc(t,CS,yO),ve=t=>TS.test(t),_u=t=>nc(t,RS),wO=t=>nc(t,AO),nE=t=>nc(t,AS),EO=t=>nc(t,NS),TO=t=>nc(t,IS),sf=t=>nc(t,CS,!0),tc=(t,e,n)=>{const r=ES.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},nc=(t,e,n=!1)=>{const r=TS.exec(t);return r?r[1]?e(r[1]):n:!1},AS=t=>t==="position"||t==="percentage",IS=t=>t==="image"||t==="url",NS=t=>t==="length"||t==="size"||t==="bg-size",RS=t=>t==="length",SO=t=>t==="number",AO=t=>t==="family-name",CS=t=>t==="shadow",IO=()=>{const t=Xt("color"),e=Xt("font"),n=Xt("text"),r=Xt("font-weight"),a=Xt("tracking"),o=Xt("leading"),c=Xt("breakpoint"),h=Xt("container"),d=Xt("spacing"),g=Xt("radius"),v=Xt("shadow"),_=Xt("inset-shadow"),E=Xt("text-shadow"),T=Xt("drop-shadow"),D=Xt("blur"),j=Xt("perspective"),P=Xt("aspect"),Z=Xt("ease"),X=Xt("animate"),K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Q=()=>[...le(),ve,ye],ae=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],A=()=>[ve,ye,d],C=()=>[yl,"full","auto",...A()],z=()=>[Pi,"none","subgrid",ve,ye],M=()=>["auto",{span:["full",Pi,ve,ye]},Pi,ve,ye],U=()=>[Pi,"auto",ve,ye],k=()=>["auto","min","max","fr",ve,ye],Ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ze=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...A()],de=()=>[yl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],ce=()=>[t,ve,ye],Me=()=>[...le(),nE,tE,{position:[ve,ye]}],Fe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",EO,bO,{size:[ve,ye]}],$=()=>[cy,_u,Ua],se=()=>["","none","full",g,ve,ye],ue=()=>["",Ve,_u,Ua],Ee=()=>["solid","dashed","dotted","double"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[Ve,cy,nE,tE],St=()=>["","none",D,ve,ye],nt=()=>["none",Ve,ve,ye],er=()=>["none",Ve,ve,ye],Lr=()=>[Ve,ve,ye],wr=()=>[yl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zs],breakpoint:[zs],color:[pO],container:[zs],"drop-shadow":[zs],ease:["in","out","in-out"],font:[_O],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zs],shadow:[zs],spacing:["px",Ve],text:[zs],"text-shadow":[zs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yl,ye,ve,P]}],container:["container"],columns:[{columns:[Ve,ye,ve,h]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Q()}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Pi,"auto",ve,ye]}],basis:[{basis:[yl,"full","auto",h,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,yl,"auto","initial","none",ye]}],grow:[{grow:["",Ve,ve,ye]}],shrink:[{shrink:["",Ve,ve,ye]}],order:[{order:[Pi,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Ge(),"normal"]}],"justify-items":[{"justify-items":[...Ze(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ze()]}],"align-content":[{content:["normal",...Ge()]}],"align-items":[{items:[...Ze(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ze(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ge()}],"place-items":[{"place-items":[...Ze(),"baseline"]}],"place-self":[{"place-self":["auto",...Ze()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[h,"screen",...de()]}],"min-w":[{"min-w":[h,"screen","none",...de()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...de()]}],h:[{h:["screen","lh",...de()]}],"min-h":[{"min-h":["screen","lh","none",...de()]}],"max-h":[{"max-h":["screen","lh",...de()]}],"font-size":[{text:["base",n,_u,Ua]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,uy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cy,ye]}],"font-family":[{font:[wO,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,ye]}],"line-clamp":[{"line-clamp":[Ve,"none",ve,uy]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ce()}],"text-color":[{text:ce()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",ve,Ua]}],"text-decoration-color":[{decoration:ce()}],"underline-offset":[{"underline-offset":[Ve,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Me()}],"bg-repeat":[{bg:Fe()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pi,ve,ye],radial:["",ve,ye],conic:[Pi,ve,ye]},TO,xO]}],"bg-color":[{bg:ce()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:ce()}],"gradient-via":[{via:ce()}],"gradient-to":[{to:ce()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:ce()}],"border-color-x":[{"border-x":ce()}],"border-color-y":[{"border-y":ce()}],"border-color-s":[{"border-s":ce()}],"border-color-e":[{"border-e":ce()}],"border-color-t":[{"border-t":ce()}],"border-color-r":[{"border-r":ce()}],"border-color-b":[{"border-b":ce()}],"border-color-l":[{"border-l":ce()}],"divide-color":[{divide:ce()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,ve,ye]}],"outline-w":[{outline:["",Ve,_u,Ua]}],"outline-color":[{outline:ce()}],shadow:[{shadow:["","none",v,sf,rf]}],"shadow-color":[{shadow:ce()}],"inset-shadow":[{"inset-shadow":["none",_,sf,rf]}],"inset-shadow-color":[{"inset-shadow":ce()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ce()}],"ring-offset-w":[{"ring-offset":[Ve,Ua]}],"ring-offset-color":[{"ring-offset":ce()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":ce()}],"text-shadow":[{"text-shadow":["none",E,sf,rf]}],"text-shadow-color":[{"text-shadow":ce()}],opacity:[{opacity:[Ve,ve,ye]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":ce()}],"mask-image-linear-to-color":[{"mask-linear-to":ce()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":ce()}],"mask-image-t-to-color":[{"mask-t-to":ce()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":ce()}],"mask-image-r-to-color":[{"mask-r-to":ce()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":ce()}],"mask-image-b-to-color":[{"mask-b-to":ce()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":ce()}],"mask-image-l-to-color":[{"mask-l-to":ce()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":ce()}],"mask-image-x-to-color":[{"mask-x-to":ce()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":ce()}],"mask-image-y-to-color":[{"mask-y-to":ce()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":ce()}],"mask-image-radial-to-color":[{"mask-radial-to":ce()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":le()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":ce()}],"mask-image-conic-to-color":[{"mask-conic-to":ce()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Me()}],"mask-repeat":[{mask:Fe()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:St()}],brightness:[{brightness:[Ve,ve,ye]}],contrast:[{contrast:[Ve,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",T,sf,rf]}],"drop-shadow-color":[{"drop-shadow":ce()}],grayscale:[{grayscale:["",Ve,ve,ye]}],"hue-rotate":[{"hue-rotate":[Ve,ve,ye]}],invert:[{invert:["",Ve,ve,ye]}],saturate:[{saturate:[Ve,ve,ye]}],sepia:[{sepia:["",Ve,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":St()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Ve,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",ve,ye]}],ease:[{ease:["linear","initial",Z,ve,ye]}],delay:[{delay:[Ve,ve,ye]}],animate:[{animate:["none",X,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,ve,ye]}],"perspective-origin":[{"perspective-origin":Q()}],rotate:[{rotate:nt()}],"rotate-x":[{"rotate-x":nt()}],"rotate-y":[{"rotate-y":nt()}],"rotate-z":[{"rotate-z":nt()}],scale:[{scale:er()}],"scale-x":[{"scale-x":er()}],"scale-y":[{"scale-y":er()}],"scale-z":[{"scale-z":er()}],"scale-3d":["scale-3d"],skew:[{skew:Lr()}],"skew-x":[{"skew-x":Lr()}],"skew-y":[{"skew-y":Lr()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:Q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:wr()}],"translate-x":[{"translate-x":wr()}],"translate-y":[{"translate-y":wr()}],"translate-z":[{"translate-z":wr()}],"translate-none":["translate-none"],accent:[{accent:ce()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ce()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...ce()]}],"stroke-w":[{stroke:[Ve,_u,Ua,uy]}],stroke:[{stroke:["none",...ce()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},NO=oO(IO);function on(...t){return NO(Uk(t))}const RO=(t,e)=>{let n=null,r=0,a=0;return t.map(o=>{const c=e(o);return a+=1,(n===null||c!==n)&&(r=a,n=c),{...o,rank:r}})},Fi=qs.forwardRef(({variant:t="primary",size:e="md",icon:n,iconPosition:r="left",loading:a=!1,className:o,children:c,disabled:h,...d},g)=>{const v="inline-flex items-center justify-center font-bold rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed",_={primary:"bg-primary text-white hover:bg-primary-hover focus:ring-primary/50 shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 hover:scale-105",secondary:"bg-surface-highlight text-text-main border-2 border-border hover:border-primary/50 hover:bg-surface-alt focus:ring-primary/30 shadow-lg hover:shadow-xl",success:"bg-success text-white hover:bg-success/90 focus:ring-success/50 shadow-lg shadow-success/20 hover:shadow-xl hover:shadow-success/30 hover:scale-105",warning:"bg-warning text-white hover:bg-warning/90 focus:ring-warning/50 shadow-lg shadow-warning/20 hover:shadow-xl hover:shadow-warning/30 hover:scale-105",error:"bg-error text-white hover:bg-error/90 focus:ring-error/50 shadow-lg shadow-error/20 hover:shadow-xl hover:shadow-error/30 hover:scale-105",ghost:"bg-transparent text-text-main hover:bg-surface-highlight border-2 border-transparent hover:border-border focus:ring-primary/30",premium:"bg-gradient-to-r from-primary to-primary-hover text-white hover:from-primary-hover hover:to-primary focus:ring-primary/50 shadow-2xl hover:shadow-3xl transform hover:scale-110"},E={sm:"px-3 py-2 text-sm gap-2 min-h-[2.25rem]",md:"px-4 py-3 text-base gap-2 min-h-[2.75rem]",lg:"px-6 py-4 text-lg gap-3 min-h-[3.25rem]",xl:"px-8 py-5 text-xl gap-3 min-h-[3.75rem]"},T={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6",xl:"h-7 w-7"},D=()=>m.jsx("div",{className:on("animate-spin rounded-full border-2 border-current border-t-transparent",T[e])}),j=()=>{if(a)return m.jsx(D,{});if(!n)return null;if(qs.isValidElement(n)){const P=n.props?.className||"";return qs.cloneElement(n,{className:on(T[e],P)})}return n};return m.jsxs("button",{ref:g,className:on(v,_[t]??_.primary,E[e]??E.md,o),disabled:h||a,...d,children:[r==="left"&&j(),a?"Loading...":c,r==="right"&&j()]})});Fi.displayName="Button";const CO=({children:t})=>{const[e,n]=V.useState(!1),r=Xs(),a=[{name:"Home",href:"/",icon:gk},{name:"Standings",href:"/standings",icon:Yn},{name:"Schedule",href:"/schedule",icon:oo},{name:"Format",href:"/format",icon:Bu},{name:"Admin",href:"/admin",icon:sk}];return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsxs("nav",{className:"relative bg-gradient-to-br from-primary/10 via-surface to-surface/80 text-text-main sticky top-0 z-50 rounded-3xl border border-primary/20 shadow-2xl mx-4 mt-4 mb-8 backdrop-blur-md",children:[m.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex items-center justify-between h-16",children:[m.jsx("div",{className:"flex items-center",children:m.jsxs(Nt,{to:"/",className:"flex items-center space-x-3 group",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-warning rounded-full blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),m.jsx("div",{className:"relative w-10 h-10 bg-gradient-to-br from-primary to-warning rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-all duration-300",children:m.jsx(Yn,{className:"h-6 w-6 text-white"})})]}),m.jsxs("div",{children:[m.jsx("span",{className:"font-black text-xl tracking-tight bg-gradient-to-r from-primary to-warning bg-clip-text text-transparent group-hover:from-warning group-hover:to-primary transition-all duration-300",children:"Paddle Up"}),m.jsx("div",{className:"text-xs text-text-muted font-semibold tracking-wider uppercase",children:"Premier League"})]})]})}),m.jsx("div",{className:"hidden md:block",children:m.jsx("div",{className:"ml-10 flex items-baseline space-x-1",children:a.map(o=>{const c=o.icon,h=r.pathname===o.href;return m.jsxs(Nt,{to:o.href,className:on("px-4 py-2 rounded-xl text-sm font-bold transition-all duration-300 flex items-center space-x-2 group relative overflow-hidden",h?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30 scale-105":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-105"),children:[m.jsx(c,{className:on("h-4 w-4 transition-transform duration-300",h?"text-white":"group-hover:scale-110")}),m.jsx("span",{children:o.name}),h&&m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 to-warning/10 blur-xl -z-10"})]},o.name)})})}),m.jsx("div",{className:"md:hidden",children:m.jsxs(Fi,{onClick:()=>n(!e),variant:"ghost",size:"sm",className:"relative overflow-hidden",children:[m.jsx("div",{className:"relative z-10",children:e?m.jsx(yS,{className:"h-6 w-6"}):m.jsx(_k,{className:"h-6 w-6"})}),e&&m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-warning/20 blur-sm"})]})})]})}),e&&m.jsx("div",{className:"md:hidden",children:m.jsx("div",{className:"px-2 pt-2 pb-3 space-y-2 sm:px-3 bg-gradient-to-br from-surface via-surface-alt to-surface border-t border-border/50 shadow-xl",children:a.map(o=>{const c=o.icon,h=r.pathname===o.href;return m.jsxs(Nt,{to:o.href,onClick:()=>n(!1),className:on("block px-4 py-3 rounded-xl text-base font-bold flex items-center space-x-3 transition-all duration-300 group relative overflow-hidden",h?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-[1.02]"),children:[m.jsx(c,{className:on("h-5 w-5 transition-transform duration-300",h?"text-white":"group-hover:scale-110")}),m.jsx("span",{children:o.name}),h&&m.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:m.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]},o.name)})})})]}),m.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:m.jsxs("div",{className:"relative",children:[t,m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsxs("footer",{className:"relative overflow-hidden bg-gradient-to-br from-surface via-surface-alt to-surface text-text-muted py-12 mt-auto border-t border-border/50",children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"text-center space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary/20 to-warning/20 rounded-full flex items-center justify-center",children:m.jsx(Yn,{className:"h-5 w-5 text-primary"})}),m.jsx("span",{className:"font-black text-lg text-text-main",children:"Paddle Up Premier League"})]}),m.jsxs("div",{className:"flex items-center justify-center space-x-6 pt-6",children:[m.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-primary/10 rounded-xl border border-primary/20",children:[m.jsx(Yn,{className:"h-4 w-4 text-primary"}),m.jsx("span",{className:"text-xs font-semibold text-primary",children:"Premier League"})]}),m.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-success/10 rounded-xl border border-success/20",children:[m.jsx(Bu,{className:"h-4 w-4 text-success"}),m.jsx("span",{className:"text-xs font-semibold text-success",children:"3.5+ DUPR"})]}),m.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-warning/10 rounded-xl border border-warning/20",children:[m.jsx(Am,{className:"h-4 w-4 text-warning"}),m.jsx("span",{className:"text-xs font-semibold text-warning",children:"Elite Players"})]})]})]})}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})]})},cs=(t,e=3)=>e===5?kO(t):e===2?DO(t):jO(t),DO=t=>t<1?0:t===1?1e3:t===2?700:t>=8?Math.floor(cs(t-7)/10):t>=3?Math.floor(cs(t-2)/2):0,jO=t=>t<1?0:t===1?1e3:t===2?800:t===3?cs(2)*3/4:t===4?cs(2)*3/5:t>=11?Math.floor(cs(t-10)/10):t>=5?Math.floor(cs(t-3)/2):0,kO=t=>t<1?0:t===1?1e3:t===2?875:t===3?750:t===4?650:t===5?575:t>=19?Math.floor(cs(t-18)/10):t>=6?Math.floor(cs(t-5)/2):0,Dv=t=>{if(!t.isCompleted||!Array.isArray(t.standings)||t.standings.length===0)return null;const e=t.standings,n=[];return e.forEach((r,a)=>{const o=a+1,c=Math.ceil(o/4),h=(o-1)%4+1,d=cs(o);n.push({playerId:r,court:c,position:h,rank:o,pointsEarned:d})}),n},OO=t=>{const e=new Map;return t.forEach(n=>{if(!n.standings||n.standings.length===0)return;const r={id:n.id,date:n.startDateTime?n.startDateTime.toISOString():n.id,isCompleted:!0,standings:n.standings},a=Dv(r);a&&a.forEach(o=>{const c=o.playerId,h=o.pointsEarned||0,d=e.get(c)||{points:0,events:0,champWins:0};d.points+=h,d.events+=1,o.rank===1&&(d.champWins+=1),e.set(c,d)})}),e},PO=()=>{};var rE={};const DS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},MO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},jS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,g=d?t[a+2]:0,v=o>>2,_=(o&3)<<4|h>>4;let E=(h&15)<<2|g>>6,T=g&63;d||(T=64,c||(E=64)),r.push(n[v],n[_],n[E],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||g==null||_==null)throw new VO;const E=o<<2|h>>4;if(r.push(E),g!==64){const T=h<<4&240|g>>2;if(r.push(T),_!==64){const D=g<<6&192|_;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zO=function(t){const e=DS(t);return jS.encodeByteArray(e,!0)},$f=function(t){return zO(t).replace(/\./g,"")},kS=function(t){try{return jS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function OS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LO=()=>OS().__FIREBASE_DEFAULTS__,UO=()=>{if(typeof process>"u"||typeof rE>"u")return;const t=rE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kS(t[1]);return e&&JSON.parse(e)},Im=()=>{try{return PO()||LO()||UO()||FO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PS=t=>Im()?.emulatorHosts?.[t],BO=t=>{const e=PS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MS=()=>Im()?.config,VS=t=>Im()?.[`_${t}`];class qO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function rc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zS(t){return(await fetch(t,{credentials:"include"})).ok}function $O(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$f(JSON.stringify(n)),$f(JSON.stringify(c)),""].join(".")}const Du={};function HO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Du))Du[e]?t.emulator.push(e):t.prod.push(e);return t}function GO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sE=!1;function LS(t,e){if(typeof window>"u"||typeof document>"u"||!rc(window.location.host)||Du[t]===e||Du[t]||sE)return;Du[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=HO().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{sE=!0,c()},E}function v(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=GO(r),T=n("text"),D=document.getElementById(T)||document.createElement("span"),j=n("learnmore"),P=document.getElementById(j)||document.createElement("a"),Z=n("preprendIcon"),X=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;h(K),v(P,j);const le=g();d(X,Z),K.append(X,D,P,le),document.body.appendChild(K)}o?(D.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function US(){const t=Im()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XO(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FS(){return!US()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BS(){return!US()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function qS(){try{return typeof indexedDB=="object"}catch{return!1}}function JO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const WO="FirebaseError";class Js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WO,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uh.prototype.create)}}class uh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?e4(o,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Js(a,h,r)}}function e4(t,e){return t.replace(t4,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const t4=/\{\$([^}]+)}/g;function n4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],c=e[a];if(iE(o)&&iE(c)){if(!lo(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function iE(t){return t!==null&&typeof t=="object"}function hh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function r4(t,e){const n=new s4(t,e);return n.subscribe.bind(n)}class s4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");i4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=hy),a.error===void 0&&(a.error=hy),a.complete===void 0&&(a.complete=hy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hy(){}function xn(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ba="[DEFAULT]";class a4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l4(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o4(t){return t===Ba?void 0:t}function l4(t){return t.instantiationMode==="EAGER"}class c4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const u4={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},h4=$e.INFO,d4={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},f4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=d4[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jv{constructor(e){this.name=e,this._logLevel=h4,this._logHandler=f4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const m4=(t,e)=>e.some(n=>t instanceof n);let aE,oE;function p4(){return aE||(aE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g4(){return oE||(oE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $S=new WeakMap,My=new WeakMap,HS=new WeakMap,dy=new WeakMap,kv=new WeakMap;function y4(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Zi(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&$S.set(n,t)}).catch(()=>{}),kv.set(e,t),e}function v4(t){if(My.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});My.set(t,e)}let Vy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return My.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _4(t){Vy=t(Vy)}function b4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fy(this),e,...n);return HS.set(r,e.sort?e.sort():[e]),Zi(r)}:g4().includes(t)?function(...e){return t.apply(fy(this),e),Zi($S.get(this))}:function(...e){return Zi(t.apply(fy(this),e))}}function x4(t){return typeof t=="function"?b4(t):(t instanceof IDBTransaction&&v4(t),m4(t,p4())?new Proxy(t,Vy):t)}function Zi(t){if(t instanceof IDBRequest)return y4(t);if(dy.has(t))return dy.get(t);const e=x4(t);return e!==t&&(dy.set(t,e),kv.set(e,t)),e}const fy=t=>kv.get(t);function w4(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),h=Zi(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Zi(c.result),d.oldVersion,d.newVersion,Zi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const E4=["get","getKey","getAll","getAllKeys","count"],T4=["put","add","delete","clear"],my=new Map;function lE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(my.get(e))return my.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=T4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||E4.includes(n)))return;const o=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let g=d.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),a&&d.done]))[0]};return my.set(e,o),o}_4(t=>({...t,get:(e,n,r)=>lE(e,n)||t.get(e,n,r),has:(e,n)=>!!lE(e,n)||t.has(e,n)}));class S4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function A4(t){return t.getComponent()?.type==="VERSION"}const zy="@firebase/app",cE="0.14.6";const Gs=new jv("@firebase/app"),I4="@firebase/app-compat",N4="@firebase/analytics-compat",R4="@firebase/analytics",C4="@firebase/app-check-compat",D4="@firebase/app-check",j4="@firebase/auth",k4="@firebase/auth-compat",O4="@firebase/database",P4="@firebase/data-connect",M4="@firebase/database-compat",V4="@firebase/functions",z4="@firebase/functions-compat",L4="@firebase/installations",U4="@firebase/installations-compat",F4="@firebase/messaging",B4="@firebase/messaging-compat",q4="@firebase/performance",$4="@firebase/performance-compat",H4="@firebase/remote-config",G4="@firebase/remote-config-compat",K4="@firebase/storage",Q4="@firebase/storage-compat",Z4="@firebase/firestore",Y4="@firebase/ai",X4="@firebase/firestore-compat",J4="firebase",W4="12.6.0";const Ly="[DEFAULT]",eP={[zy]:"fire-core",[I4]:"fire-core-compat",[R4]:"fire-analytics",[N4]:"fire-analytics-compat",[D4]:"fire-app-check",[C4]:"fire-app-check-compat",[j4]:"fire-auth",[k4]:"fire-auth-compat",[O4]:"fire-rtdb",[P4]:"fire-data-connect",[M4]:"fire-rtdb-compat",[V4]:"fire-fn",[z4]:"fire-fn-compat",[L4]:"fire-iid",[U4]:"fire-iid-compat",[F4]:"fire-fcm",[B4]:"fire-fcm-compat",[q4]:"fire-perf",[$4]:"fire-perf-compat",[H4]:"fire-rc",[G4]:"fire-rc-compat",[K4]:"fire-gcs",[Q4]:"fire-gcs-compat",[Z4]:"fire-fst",[X4]:"fire-fst-compat",[Y4]:"fire-vertex","fire-js":"fire-js",[J4]:"fire-js-all"};const qu=new Map,tP=new Map,Uy=new Map;function uE(t,e){try{t.container.addComponent(e)}catch(n){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ml(t){const e=t.name;if(Uy.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;Uy.set(e,t);for(const n of qu.values())uE(n,t);for(const n of tP.values())uE(n,t);return!0}function Ov(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return t==null?!1:t.settings!==void 0}const nP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new uh("app","Firebase",nP);class rP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}const sc=W4;function GS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ly,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Yi.create("bad-app-name",{appName:String(a)});if(n||(n=MS()),!n)throw Yi.create("no-options");const o=qu.get(a);if(o){if(lo(n,o.options)&&lo(r,o.config))return o;throw Yi.create("duplicate-app",{appName:a})}const c=new c4(a);for(const d of Uy.values())c.addComponent(d);const h=new rP(n,r,c);return qu.set(a,h),h}function KS(t=Ly){const e=qu.get(t);if(!e&&t===Ly&&MS())return GS();if(!e)throw Yi.create("no-app",{appName:t});return e}function hE(){return Array.from(qu.values())}function Xi(t,e,n){let r=eP[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(c.join(" "));return}Ml(new co(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const sP="firebase-heartbeat-database",iP=1,$u="firebase-heartbeat-store";let py=null;function QS(){return py||(py=w4(sP,iP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($u)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yi.create("idb-open",{originalErrorMessage:t.message})})),py}async function aP(t){try{const n=(await QS()).transaction($u),r=await n.objectStore($u).get(ZS(t));return await n.done,r}catch(e){if(e instanceof Js)Gs.warn(e.message);else{const n=Yi.create("idb-get",{originalErrorMessage:e?.message});Gs.warn(n.message)}}}async function dE(t,e){try{const r=(await QS()).transaction($u,"readwrite");await r.objectStore($u).put(e,ZS(t)),await r.done}catch(n){if(n instanceof Js)Gs.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n?.message});Gs.warn(r.message)}}}function ZS(t){return`${t.name}!${t.options.appId}`}const oP=1024,lP=30;class cP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>lP){const a=dP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fE(),{heartbeatsToSend:n,unsentEntries:r}=uP(this._heartbeatsCache.heartbeats),a=$f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Gs.warn(e),""}}}function fE(){return new Date().toISOString().substring(0,10)}function uP(t,e=oP){const n=[];let r=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),mE(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),mE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qS()?JO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mE(t){return $f(JSON.stringify({version:2,heartbeats:t})).length}function dP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function fP(t){Ml(new co("platform-logger",e=>new S4(e),"PRIVATE")),Ml(new co("heartbeat",e=>new cP(e),"PRIVATE")),Xi(zy,cE,t),Xi(zy,cE,"esm2020"),Xi("fire-js","")}fP("");var pE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ji,YS;(function(){var t;function e(N,A){function C(){}C.prototype=A.prototype,N.F=A.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(z,M,U){for(var k=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)k[Ge-2]=arguments[Ge];return A.prototype[M].apply(z,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,A,C){C||(C=0);const z=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)z[M]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(M=0;M<16;++M)z[M]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=N.g[0],C=N.g[1],M=N.g[2];let U=N.g[3],k;k=A+(U^C&(M^U))+z[0]+3614090360&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(M^A&(C^M))+z[1]+3905402710&4294967295,U=A+(k<<12&4294967295|k>>>20),k=M+(C^U&(A^C))+z[2]+606105819&4294967295,M=U+(k<<17&4294967295|k>>>15),k=C+(A^M&(U^A))+z[3]+3250441966&4294967295,C=M+(k<<22&4294967295|k>>>10),k=A+(U^C&(M^U))+z[4]+4118548399&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(M^A&(C^M))+z[5]+1200080426&4294967295,U=A+(k<<12&4294967295|k>>>20),k=M+(C^U&(A^C))+z[6]+2821735955&4294967295,M=U+(k<<17&4294967295|k>>>15),k=C+(A^M&(U^A))+z[7]+4249261313&4294967295,C=M+(k<<22&4294967295|k>>>10),k=A+(U^C&(M^U))+z[8]+1770035416&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(M^A&(C^M))+z[9]+2336552879&4294967295,U=A+(k<<12&4294967295|k>>>20),k=M+(C^U&(A^C))+z[10]+4294925233&4294967295,M=U+(k<<17&4294967295|k>>>15),k=C+(A^M&(U^A))+z[11]+2304563134&4294967295,C=M+(k<<22&4294967295|k>>>10),k=A+(U^C&(M^U))+z[12]+1804603682&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(M^A&(C^M))+z[13]+4254626195&4294967295,U=A+(k<<12&4294967295|k>>>20),k=M+(C^U&(A^C))+z[14]+2792965006&4294967295,M=U+(k<<17&4294967295|k>>>15),k=C+(A^M&(U^A))+z[15]+1236535329&4294967295,C=M+(k<<22&4294967295|k>>>10),k=A+(M^U&(C^M))+z[1]+4129170786&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^M&(A^C))+z[6]+3225465664&4294967295,U=A+(k<<9&4294967295|k>>>23),k=M+(A^C&(U^A))+z[11]+643717713&4294967295,M=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(M^U))+z[0]+3921069994&4294967295,C=M+(k<<20&4294967295|k>>>12),k=A+(M^U&(C^M))+z[5]+3593408605&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^M&(A^C))+z[10]+38016083&4294967295,U=A+(k<<9&4294967295|k>>>23),k=M+(A^C&(U^A))+z[15]+3634488961&4294967295,M=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(M^U))+z[4]+3889429448&4294967295,C=M+(k<<20&4294967295|k>>>12),k=A+(M^U&(C^M))+z[9]+568446438&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^M&(A^C))+z[14]+3275163606&4294967295,U=A+(k<<9&4294967295|k>>>23),k=M+(A^C&(U^A))+z[3]+4107603335&4294967295,M=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(M^U))+z[8]+1163531501&4294967295,C=M+(k<<20&4294967295|k>>>12),k=A+(M^U&(C^M))+z[13]+2850285829&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^M&(A^C))+z[2]+4243563512&4294967295,U=A+(k<<9&4294967295|k>>>23),k=M+(A^C&(U^A))+z[7]+1735328473&4294967295,M=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(M^U))+z[12]+2368359562&4294967295,C=M+(k<<20&4294967295|k>>>12),k=A+(C^M^U)+z[5]+4294588738&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^M)+z[8]+2272392833&4294967295,U=A+(k<<11&4294967295|k>>>21),k=M+(U^A^C)+z[11]+1839030562&4294967295,M=U+(k<<16&4294967295|k>>>16),k=C+(M^U^A)+z[14]+4259657740&4294967295,C=M+(k<<23&4294967295|k>>>9),k=A+(C^M^U)+z[1]+2763975236&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^M)+z[4]+1272893353&4294967295,U=A+(k<<11&4294967295|k>>>21),k=M+(U^A^C)+z[7]+4139469664&4294967295,M=U+(k<<16&4294967295|k>>>16),k=C+(M^U^A)+z[10]+3200236656&4294967295,C=M+(k<<23&4294967295|k>>>9),k=A+(C^M^U)+z[13]+681279174&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^M)+z[0]+3936430074&4294967295,U=A+(k<<11&4294967295|k>>>21),k=M+(U^A^C)+z[3]+3572445317&4294967295,M=U+(k<<16&4294967295|k>>>16),k=C+(M^U^A)+z[6]+76029189&4294967295,C=M+(k<<23&4294967295|k>>>9),k=A+(C^M^U)+z[9]+3654602809&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^M)+z[12]+3873151461&4294967295,U=A+(k<<11&4294967295|k>>>21),k=M+(U^A^C)+z[15]+530742520&4294967295,M=U+(k<<16&4294967295|k>>>16),k=C+(M^U^A)+z[2]+3299628645&4294967295,C=M+(k<<23&4294967295|k>>>9),k=A+(M^(C|~U))+z[0]+4096336452&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~M))+z[7]+1126891415&4294967295,U=A+(k<<10&4294967295|k>>>22),k=M+(A^(U|~C))+z[14]+2878612391&4294967295,M=U+(k<<15&4294967295|k>>>17),k=C+(U^(M|~A))+z[5]+4237533241&4294967295,C=M+(k<<21&4294967295|k>>>11),k=A+(M^(C|~U))+z[12]+1700485571&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~M))+z[3]+2399980690&4294967295,U=A+(k<<10&4294967295|k>>>22),k=M+(A^(U|~C))+z[10]+4293915773&4294967295,M=U+(k<<15&4294967295|k>>>17),k=C+(U^(M|~A))+z[1]+2240044497&4294967295,C=M+(k<<21&4294967295|k>>>11),k=A+(M^(C|~U))+z[8]+1873313359&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~M))+z[15]+4264355552&4294967295,U=A+(k<<10&4294967295|k>>>22),k=M+(A^(U|~C))+z[6]+2734768916&4294967295,M=U+(k<<15&4294967295|k>>>17),k=C+(U^(M|~A))+z[13]+1309151649&4294967295,C=M+(k<<21&4294967295|k>>>11),k=A+(M^(C|~U))+z[4]+4149444226&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~M))+z[11]+3174756917&4294967295,U=A+(k<<10&4294967295|k>>>22),k=M+(A^(U|~C))+z[2]+718787259&4294967295,M=U+(k<<15&4294967295|k>>>17),k=C+(U^(M|~A))+z[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const C=A-this.blockSize,z=this.C;let M=this.h,U=0;for(;U<A;){if(M==0)for(;U<=C;)a(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(z[M++]=N.charCodeAt(U++),M==this.blockSize){a(this,z),M=0;break}}else for(;U<A;)if(z[M++]=N[U++],M==this.blockSize){a(this,z),M=0;break}}this.h=M,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,C=0;C<4;++C)for(let z=0;z<32;z+=8)N[A++]=this.g[C]>>>z&255;return N};function o(N,A){var C=h;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=A(N)}function c(N,A){this.h=A;const C=[];let z=!0;for(let M=N.length-1;M>=0;M--){const U=N[M]|0;z&&U==A||(C[M]=U,z=!1)}this.g=C}var h={};function d(N){return-128<=N&&N<128?o(N,function(A){return new c([A|0],A<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return P(g(-N));const A=[];let C=1;for(let z=0;N>=C;z++)A[z]=N/C|0,C*=4294967296;return new c(A,0)}function v(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return P(v(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(A,8));let z=_;for(let U=0;U<N.length;U+=8){var M=Math.min(8,N.length-U);const k=parseInt(N.substring(U,U+M),A);M<8?(M=g(Math.pow(A,M)),z=z.j(M).add(g(k))):(z=z.j(C),z=z.add(g(k)))}return z}var _=d(0),E=d(1),T=d(16777216);t=c.prototype,t.m=function(){if(j(this))return-P(this).m();let N=0,A=1;for(let C=0;C<this.g.length;C++){const z=this.i(C);N+=(z>=0?z:4294967296+z)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(j(this))return"-"+P(this).toString(N);const A=g(Math.pow(N,6));var C=this;let z="";for(;;){const M=le(C,A).g;C=Z(C,M.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=M,D(C))return U+z;for(;U.length<6;)U="0"+U;z=U+z}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function j(N){return N.h==-1}t.l=function(N){return N=Z(this,N),j(N)?-1:D(N)?0:1};function P(N){const A=N.g.length,C=[];for(let z=0;z<A;z++)C[z]=~N.g[z];return new c(C,~N.h).add(E)}t.abs=function(){return j(this)?P(this):this},t.add=function(N){const A=Math.max(this.g.length,N.g.length),C=[];let z=0;for(let M=0;M<=A;M++){let U=z+(this.i(M)&65535)+(N.i(M)&65535),k=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);z=k>>>16,U&=65535,k&=65535,C[M]=k<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function Z(N,A){return N.add(P(A))}t.j=function(N){if(D(this)||D(N))return _;if(j(this))return j(N)?P(this).j(P(N)):P(P(this).j(N));if(j(N))return P(this.j(P(N)));if(this.l(T)<0&&N.l(T)<0)return g(this.m()*N.m());const A=this.g.length+N.g.length,C=[];for(var z=0;z<2*A;z++)C[z]=0;for(z=0;z<this.g.length;z++)for(let M=0;M<N.g.length;M++){const U=this.i(z)>>>16,k=this.i(z)&65535,Ge=N.i(M)>>>16,Ze=N.i(M)&65535;C[2*z+2*M]+=k*Ze,X(C,2*z+2*M),C[2*z+2*M+1]+=U*Ze,X(C,2*z+2*M+1),C[2*z+2*M+1]+=k*Ge,X(C,2*z+2*M+1),C[2*z+2*M+2]+=U*Ge,X(C,2*z+2*M+2)}for(N=0;N<A;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=A;N<2*A;N++)C[N]=0;return new c(C,0)};function X(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function K(N,A){this.g=N,this.h=A}function le(N,A){if(D(A))throw Error("division by zero");if(D(N))return new K(_,_);if(j(N))return A=le(P(N),A),new K(P(A.g),P(A.h));if(j(A))return A=le(N,P(A)),new K(P(A.g),A.h);if(N.g.length>30){if(j(N)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var C=E,z=A;z.l(N)<=0;)C=Q(C),z=Q(z);var M=ae(C,1),U=ae(z,1);for(z=ae(z,2),C=ae(C,2);!D(z);){var k=U.add(z);k.l(N)<=0&&(M=M.add(C),U=k),z=ae(z,1),C=ae(C,1)}return A=Z(N,M.j(A)),new K(M,A)}for(M=_;N.l(A)>=0;){for(C=Math.max(1,Math.floor(N.m()/A.m())),z=Math.ceil(Math.log(C)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),U=g(C),k=U.j(A);j(k)||k.l(N)>0;)C-=z,U=g(C),k=U.j(A);D(U)&&(U=E),M=M.add(U),N=Z(N,k)}return new K(M,N)}t.B=function(N){return le(this,N).h},t.and=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let z=0;z<A;z++)C[z]=this.i(z)&N.i(z);return new c(C,this.h&N.h)},t.or=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let z=0;z<A;z++)C[z]=this.i(z)|N.i(z);return new c(C,this.h|N.h)},t.xor=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let z=0;z<A;z++)C[z]=this.i(z)^N.i(z);return new c(C,this.h^N.h)};function Q(N){const A=N.g.length+1,C=[];for(let z=0;z<A;z++)C[z]=N.i(z)<<1|N.i(z-1)>>>31;return new c(C,N.h)}function ae(N,A){const C=A>>5;A%=32;const z=N.g.length-C,M=[];for(let U=0;U<z;U++)M[U]=A>0?N.i(U+C)>>>A|N.i(U+C+1)<<32-A:N.i(U+C);return new c(M,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Ji=c}).apply(typeof pE<"u"?pE:typeof self<"u"?self:typeof window<"u"?window:{});var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var XS,Su,JS,bf,Fy,WS,eA,tA;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof af=="object"&&af];for(var b=0;b<f.length;++b){var w=f[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function a(f,b){if(b)e:{var w=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var q=f[I];if(!(q in w))break e;w=w[q]}f=f[f.length-1],I=w[f],b=b(I),b!=I&&b!=null&&e(w,f,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(b){var w=[],I;for(I in b)Object.prototype.hasOwnProperty.call(b,I)&&w.push([I,b[I]]);return w}});var o=o||{},c=this||self;function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function d(f,b,w){return f.call.apply(f.bind,arguments)}function g(f,b,w){return g=d,g.apply(null,arguments)}function v(f,b){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function _(f,b){function w(){}w.prototype=b.prototype,f.Z=b.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(I,q,J){for(var me=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)me[ke-2]=arguments[ke];return b.prototype[q].apply(I,me)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function T(f){const b=f.length;if(b>0){const w=Array(b);for(let I=0;I<b;I++)w[I]=f[I];return w}return[]}function D(f,b){for(let I=1;I<arguments.length;I++){const q=arguments[I];var w=typeof q;if(w=w!="object"?w:q?Array.isArray(q)?"array":w:"null",w=="array"||w=="object"&&typeof q.length=="number"){w=f.length||0;const J=q.length||0;f.length=w+J;for(let me=0;me<J;me++)f[w+me]=q[me]}else f.push(q)}}class j{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function P(f){c.setTimeout(()=>{throw f},0)}function Z(){var f=N;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class X{constructor(){this.h=this.g=null}add(b,w){const I=K.get();I.set(b,w),this.h?this.h.next=I:this.g=I,this.h=I}}var K=new j(()=>new le,f=>f.reset());class le{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,ae=!1,N=new X,A=()=>{const f=Promise.resolve(void 0);Q=()=>{f.then(C)}};function C(){for(var f;f=Z();){try{f.h.call(f.g)}catch(w){P(w)}var b=K;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}ae=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};c.addEventListener("test",w,b),c.removeEventListener("test",w,b)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function Ge(f,b){M.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}_(Ge,M),Ge.prototype.init=function(f,b){const w=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(w=="mouseover"?b=f.fromElement:w=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),W=0;function de(f,b,w,I,q){this.listener=f,this.proxy=null,this.src=b,this.type=w,this.capture=!!I,this.ha=q,this.key=++W,this.da=this.fa=!1}function ce(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f,b,w){for(const I in f)b.call(w,f[I],I,f)}function Fe(f,b){for(const w in f)b.call(void 0,f[w],w,f)}function R(f){const b={};for(const w in f)b[w]=f[w];return b}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(f,b){let w,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(w in I)f[w]=I[w];for(let J=0;J<$.length;J++)w=$[J],Object.prototype.hasOwnProperty.call(I,w)&&(f[w]=I[w])}}function ue(f){this.src=f,this.g={},this.h=0}ue.prototype.add=function(f,b,w,I,q){const J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);const me=Ne(f,b,I,q);return me>-1?(b=f[me],w||(b.fa=!1)):(b=new de(b,this.src,J,!!I,q),b.fa=w,f.push(b)),b};function Ee(f,b){const w=b.type;if(w in f.g){var I=f.g[w],q=Array.prototype.indexOf.call(I,b,void 0),J;(J=q>=0)&&Array.prototype.splice.call(I,q,1),J&&(ce(b),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Ne(f,b,w,I){for(let q=0;q<f.length;++q){const J=f[q];if(!J.da&&J.listener==b&&J.capture==!!w&&J.ha==I)return q}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),St={};function nt(f,b,w,I,q){if(Array.isArray(b)){for(let J=0;J<b.length;J++)nt(f,b[J],w,I,q);return null}return w=mc(w),f&&f[Ze]?f.J(b,w,h(I)?!!I.capture:!1,q):er(f,b,w,!1,I,q)}function er(f,b,w,I,q,J){if(!b)throw Error("Invalid event type");const me=h(q)?!!q.capture:!!q;let ke=ua(f);if(ke||(f[xe]=ke=new ue(f)),w=ke.add(b,w,I,me,J),w.proxy)return w;if(I=Lr(),w.proxy=I,I.src=f,I.listener=w,f.addEventListener)U||(q=me),q===void 0&&(q=!1),f.addEventListener(b.toString(),I,q);else if(f.attachEvent)f.attachEvent(Ur(b.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Lr(){function f(w){return b.call(f.src,f.listener,w)}const b=dc;return f}function wr(f,b,w,I,q){if(Array.isArray(b))for(var J=0;J<b.length;J++)wr(f,b[J],w,I,q);else I=h(I)?!!I.capture:!!I,w=mc(w),f&&f[Ze]?(f=f.i,J=String(b).toString(),J in f.g&&(b=f.g[J],w=Ne(b,w,I,q),w>-1&&(ce(b[w]),Array.prototype.splice.call(b,w,1),b.length==0&&(delete f.g[J],f.h--)))):f&&(f=ua(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Ne(b,w,I,q)),(w=f>-1?b[f]:null)&&Ro(w))}function Ro(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ze])Ee(b.i,f);else{var w=f.type,I=f.proxy;b.removeEventListener?b.removeEventListener(w,I,f.capture):b.detachEvent?b.detachEvent(Ur(w),I):b.addListener&&b.removeListener&&b.removeListener(I),(w=ua(b))?(Ee(w,f),w.h==0&&(w.src=null,b[xe]=null)):ce(f)}}}function Ur(f){return f in St?St[f]:St[f]="on"+f}function dc(f,b){if(f.da)f=!0;else{b=new Ge(b,this);const w=f.listener,I=f.ha||f.src;f.fa&&Ro(f),f=w.call(I,b)}return f}function ua(f){return f=f[xe],f instanceof ue?f:null}var fc="__closure_events_fn_"+(Math.random()*1e9>>>0);function mc(f){return typeof f=="function"?f:(f[fc]||(f[fc]=function(b){return f.handleEvent(b)}),f[fc])}function Vt(){z.call(this),this.i=new ue(this),this.M=this,this.G=null}_(Vt,z),Vt.prototype[Ze]=!0,Vt.prototype.removeEventListener=function(f,b,w,I){wr(this,f,b,w,I)};function Zt(f,b){var w,I=f.G;if(I)for(w=[];I;I=I.G)w.push(I);if(f=f.M,I=b.type||b,typeof b=="string")b=new M(b,f);else if(b instanceof M)b.target=b.target||f;else{var q=b;b=new M(I,f),se(b,q)}q=!0;let J,me;if(w)for(me=w.length-1;me>=0;me--)J=b.g=w[me],q=ni(J,I,!0,b)&&q;if(J=b.g=f,q=ni(J,I,!0,b)&&q,q=ni(J,I,!1,b)&&q,w)for(me=0;me<w.length;me++)J=b.g=w[me],q=ni(J,I,!1,b)&&q}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const w=f.g[b];for(let I=0;I<w.length;I++)ce(w[I]);delete f.g[b],f.h--}}this.G=null},Vt.prototype.J=function(f,b,w,I){return this.i.add(String(f),b,!1,w,I)},Vt.prototype.K=function(f,b,w,I){return this.i.add(String(f),b,!0,w,I)};function ni(f,b,w,I){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let q=!0;for(let J=0;J<b.length;++J){const me=b[J];if(me&&!me.da&&me.capture==w){const ke=me.listener,kt=me.ha||me.src;me.fa&&Ee(f.i,me),q=ke.call(kt,I)!==!1&&q}}return q&&!I.defaultPrevented}function np(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(f,b||0)}function Ah(f){f.g=np(()=>{f.g=null,f.i&&(f.i=!1,Ah(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class wn extends z{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Ah(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(f){z.call(this),this.h=f,this.g={}}_(ha,z);var pc=[];function gc(f){Me(f.g,function(b,w){this.g.hasOwnProperty(w)&&Ro(b)},f),f.g={}}ha.prototype.N=function(){ha.Z.N.call(this),gc(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=c.JSON.stringify,rp=c.JSON.parse,Ih=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Nh(){}function Rh(){}var Er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){M.call(this,"d")}_(ln,M);function tr(){M.call(this,"c")}_(tr,M);var jt={},Ch=null;function Co(){return Ch=Ch||new Vt}jt.Ia="serverreachability";function Dh(f){M.call(this,jt.Ia,f)}_(Dh,M);function Fr(f){const b=Co();Zt(b,new Dh(b))}jt.STAT_EVENT="statevent";function da(f,b){M.call(this,jt.STAT_EVENT,f),this.stat=b}_(da,M);function zt(f){const b=Co();Zt(b,new da(b,f))}jt.Ja="timingevent";function Br(f,b){M.call(this,jt.Ja,f),this.size=b}_(Br,M);function qr(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},b)}function Tr(){this.g=!0}Tr.prototype.ua=function(){this.g=!1};function sp(f,b,w,I,q,J){f.info(function(){if(f.g)if(J){var me="",ke=J.split("&");for(let We=0;We<ke.length;We++){var kt=ke[We].split("=");if(kt.length>1){const yt=kt[0];kt=kt[1];const ir=yt.split("_");me=ir.length>=2&&ir[1]=="type"?me+(yt+"="+kt+"&"):me+(yt+"=redacted&")}}}else me=null;else me=J;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+b+`
`+w+`
`+me})}function jh(f,b,w,I,q,J,me){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+b+`
`+w+`
`+J+" "+me})}function $r(f,b,w,I){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+ip(f,w)+(I?" "+I:"")})}function fa(f,b){f.info(function(){return"TIMEOUT: "+b})}Tr.prototype.info=function(){};function ip(f,b){if(!f.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(f=0;f<J.length;f++)if(Array.isArray(J[f])){var w=J[f];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var q=I[0];if(q!="noop"&&q!="stop"&&q!="close")for(let me=1;me<I.length;me++)I[me]=""}}}}return ri(J)}catch{return b}}var ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vc;function pa(){}_(pa,Nh),pa.prototype.g=function(){return new XMLHttpRequest},vc=new pa;function _s(f){return encodeURIComponent(String(f))}function kh(f){var b=1;f=f.split(":");const w=[];for(;b>0&&f.length;)w.push(f.shift()),b--;return f.length&&w.push(f.join(":")),w}function Sr(f,b,w,I){this.j=f,this.i=b,this.l=w,this.S=I||1,this.V=new ha(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ar}function Ar(){this.i=null,this.g="",this.h=!1}var Lt={},nn={};function Hr(f,b,w){f.M=1,f.A=ga(Ft(b)),f.u=w,f.R=!0,Do(f,null)}function Do(f,b){f.F=Date.now(),Gr(f),f.B=Ft(f.A);var w=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),Po(w.i,"t",I),f.C=0,w=f.j.L,f.h=new Ar,f.g=Qh(f.j,w?b:null,!f.u),f.P>0&&(f.O=new wn(g(f.Y,f,f.g),f.P)),b=f.V,w=f.g,I=f.ba;var q="readystatechange";Array.isArray(q)||(q&&(pc[0]=q.toString()),q=pc);for(let J=0;J<q.length;J++){const me=nt(w,q[J],I||b.handleEvent,!1,b.h||b);if(!me)break;b.g[me.key]=me}b=f.J?R(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),Fr(),sp(f.i,f.v,f.B,f.l,f.S,f.u)}Sr.prototype.ba=function(f){f=f.target;const b=this.O;b&&Rr(f)==3?b.j():this.Y(f)},Sr.prototype.Y=function(f){try{if(f==this.g)e:{const ke=Rr(this.g),kt=this.g.ya(),We=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||ke!=4||kt==7||(kt==8||We<=0?Fr(3):Fr(2)),Kr(this);var b=this.g.ca();this.X=b;var w=ap(this);if(this.o=b==200,jh(this.i,this.v,this.B,this.l,this.S,ke,b),this.o){if(this.U&&!this.L){t:{if(this.g){var I,q=this.g;if((I=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var J=I;break t}}J=null}if(f=J)$r(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qr(this,f);else{this.o=!1,this.m=3,zt(12),Un(this),nr(this);break e}}if(this.R){f=!0;let yt;for(;!this.K&&this.C<w.length;)if(yt=Ph(this,w),yt==nn){ke==4&&(this.m=4,zt(14),f=!1),$r(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Lt){this.m=4,zt(15),$r(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else $r(this.i,this.l,yt,null),Qr(this,yt);if(Oh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||w.length!=0||this.h.h||(this.m=1,zt(16),f=!1),this.o=this.o&&f,!f)$r(this.i,this.l,w,"[Invalid Chunked Response]"),Un(this),nr(this);else if(w.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),kc(me),me.P=!0,zt(11))}}else $r(this.i,this.l,w,null),Qr(this,w);ke==4&&Un(this),this.o&&!this.K&&(ke==4?$h(this.j,this):(this.o=!1,Gr(this)))}else xs(this.g),b==400&&w.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),Un(this),nr(this)}}}catch{}};function ap(f){if(!Oh(f))return f.g.la();const b=cn(f.g);if(b==="")return"";let w="";const I=b.length,q=Rr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Un(f),nr(f),"";f.h.i=new c.TextDecoder}for(let J=0;J<I;J++)f.h.h=!0,w+=f.h.i.decode(b[J],{stream:!(q&&J==I-1)});return b.length=0,f.h.g+=w,f.C=0,f.h.g}function Oh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ph(f,b){var w=f.C,I=b.indexOf(`
`,w);return I==-1?nn:(w=Number(b.substring(w,I)),isNaN(w)?Lt:(I+=1,I+w>b.length?nn:(b=b.slice(I,I+w),f.C=I+w,b)))}Sr.prototype.cancel=function(){this.K=!0,Un(this)};function Gr(f){f.T=Date.now()+f.H,jo(f,f.H)}function jo(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=qr(g(f.aa,f),b)}function Kr(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Sr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(fa(this.i,this.B),this.M!=2&&(Fr(),zt(17)),Un(this),this.m=2,nr(this)):jo(this,this.T-f)};function nr(f){f.j.I==0||f.K||$h(f.j,f)}function Un(f){Kr(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,gc(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Qr(f,b){try{var w=f.j;if(w.I!=0&&(w.g==f||Yr(w.h,f))){if(!f.L&&Yr(w.h,f)&&w.I==3){try{var I=w.Ba.g.parse(b)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)Uo(w),hi(w);else break e;Ea(w),zt(18)}}else w.xa=q[1],0<w.xa-w.K&&q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=qr(g(w.Va,w),6e3));Zr(w.h)<=1&&w.ta&&(w.ta=void 0)}else ns(w,11)}else if((f.L||w.g==f)&&Uo(w),!k(b))for(q=w.Ba.g.parse(b),b=0;b<q.length;b++){let We=q[b];const yt=We[0];if(!(yt<=w.K))if(w.K=yt,We=We[1],w.I==2)if(We[0]=="c"){w.M=We[1],w.ba=We[2];const ir=We[3];ir!=null&&(w.ka=ir,w.j.info("VER="+w.ka));const rs=We[4];rs!=null&&(w.za=rs,w.j.info("SVER="+w.za));const Cr=We[5];Cr!=null&&typeof Cr=="number"&&Cr>0&&(I=1.5*Cr,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const Dr=f.g;if(Dr){const Ta=Dr.g?Dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ta){var J=I.h;J.g||Ta.indexOf("spdy")==-1&&Ta.indexOf("quic")==-1&&Ta.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(xc(J,J.h),J.h=null))}if(I.G){const Fo=Dr.g?Dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(I.wa=Fo,rt(I.J,I.G,Fo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var me=f;if(I.na=Kh(I,I.L?I.ba:null,I.W),me.L){wc(I.h,me);var ke=me,kt=I.O;kt&&(ke.H=kt),ke.D&&(Kr(ke),Gr(ke)),I.g=me}else Bh(I);w.i.length>0&&ts(w)}else We[0]!="stop"&&We[0]!="close"||ns(w,7);else w.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?ns(w,7):Dc(w):We[0]!="noop"&&w.l&&w.l.qa(We),w.A=0)}}Fr(4)}catch{}}var Ut=class{constructor(f,b){this.g=f,this.map=b}};function _c(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Zr(f){return f.h?1:f.g?f.g.size:0}function Yr(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function xc(f,b){f.g?f.g.add(b):f.h=b}function wc(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}_c.prototype.cancel=function(){if(this.i=Ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ec(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const w of f.g.values())b=b.concat(w.G);return b}return T(f.i)}var Mh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(f,b){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const I=f[w].indexOf("=");let q,J=null;I>=0?(q=f[w].substring(0,I),J=f[w].substring(I+1)):q=f[w],b(q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Fn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof Fn?(this.l=f.l,rn(this,f.j),this.o=f.o,this.g=f.g,si(this,f.u),this.h=f.h,Tc(this,Uh(f.i)),this.m=f.m):f&&(b=String(f).match(Mh))?(this.l=!1,rn(this,b[1]||"",!0),this.o=Xr(b[2]||""),this.g=Xr(b[3]||"",!0),si(this,b[4]),this.h=Xr(b[5]||"",!0),Tc(this,b[6]||"",!0),this.m=Xr(b[7]||"")):(this.l=!1,this.i=new ai(null,this.l))}Fn.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(ya(b,Oo,!0),":");var w=this.g;return(w||b=="file")&&(f.push("//"),(b=this.o)&&f.push(ya(b,Oo,!0),"@"),f.push(_s(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(ya(w,w.charAt(0)=="/"?Sc:Vh,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",ya(w,zh)),f.join("")},Fn.prototype.resolve=function(f){const b=Ft(this);let w=!!f.j;w?rn(b,f.j):w=!!f.o,w?b.o=f.o:w=!!f.g,w?b.g=f.g:w=f.u!=null;var I=f.h;if(w)si(b,f.u);else if(w=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var q=b.h.lastIndexOf("/");q!=-1&&(I=b.h.slice(0,q+1)+I)}if(q=I,q==".."||q==".")I="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){I=q.lastIndexOf("/",0)==0,q=q.split("/");const J=[];for(let me=0;me<q.length;){const ke=q[me++];ke=="."?I&&me==q.length&&J.push(""):ke==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),I&&me==q.length&&J.push("")):(J.push(ke),I=!0)}I=J.join("/")}else I=q}return w?b.h=I:w=f.i.toString()!=="",w?Tc(b,Uh(f.i)):w=!!f.m,w&&(b.m=f.m),b};function Ft(f){return new Fn(f)}function rn(f,b,w){f.j=w?Xr(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function si(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Tc(f,b,w){b instanceof ai?(f.i=b,Mo(f.i,f.l)):(w||(b=ya(b,ii)),f.i=new ai(b,f.l))}function rt(f,b,w){f.i.set(b,w)}function ga(f){return rt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Xr(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ya(f,b,w){return typeof f=="string"?(f=encodeURI(f).replace(b,Dn),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Dn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Oo=/[#\/\?@]/g,Vh=/[#\?:]/g,Sc=/[#\?]/g,ii=/[#\?@]/g,zh=/#/g;function ai(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function jn(f){f.g||(f.g=new Map,f.h=0,f.i&&ko(f.i,function(b,w){f.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}t=ai.prototype,t.add=function(f,b){jn(this),this.i=null,f=oi(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(b),this.h+=1,this};function Lh(f,b){jn(f),b=oi(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Ac(f,b){return jn(f),b=oi(f,b),f.g.has(b)}t.forEach=function(f,b){jn(this),this.g.forEach(function(w,I){w.forEach(function(q){f.call(b,q,I,this)},this)},this)};function Ic(f,b){jn(f);let w=[];if(typeof b=="string")Ac(f,b)&&(w=w.concat(f.g.get(oi(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)w=w.concat(f[b]);return w}t.set=function(f,b){return jn(this),this.i=null,f=oi(this,f),Ac(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=Ic(this,f),f.length>0?String(f[0]):b):b};function Po(f,b,w){Lh(f,b),w.length>0&&(f.i=null,f.g.set(oi(f,b),T(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let I=0;I<b.length;I++){var w=b[I];const q=_s(w);w=Ic(this,w);for(let J=0;J<w.length;J++){let me=q;w[J]!==""&&(me+="="+_s(w[J])),f.push(me)}}return this.i=f.join("&")};function Uh(f){const b=new ai;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function oi(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Mo(f,b){b&&!f.j&&(jn(f),f.i=null,f.g.forEach(function(w,I){const q=I.toLowerCase();I!=q&&(Lh(this,I),Po(this,q,w))},f)),f.j=b}function Ir(f,b){const w=new Tr;if(c.Image){const I=new Image;I.onload=v(rr,w,"TestLoadImage: loaded",!0,b,I),I.onerror=v(rr,w,"TestLoadImage: error",!1,b,I),I.onabort=v(rr,w,"TestLoadImage: abort",!1,b,I),I.ontimeout=v(rr,w,"TestLoadImage: timeout",!1,b,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else b(!1)}function Nc(f,b){const w=new Tr,I=new AbortController,q=setTimeout(()=>{I.abort(),rr(w,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:I.signal}).then(J=>{clearTimeout(q),J.ok?rr(w,"TestPingServer: ok",!0,b):rr(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),rr(w,"TestPingServer: error",!1,b)})}function rr(f,b,w,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(w)}catch{}}function li(){this.g=new Ih}function Jr(f){this.i=f.Sb||null,this.h=f.ab||!1}_(Jr,Nh),Jr.prototype.g=function(){return new va(this.i,this.h)};function va(f,b){Vt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(va,Vt),t=va.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Nr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?ci(this):Nr(this),this.readyState==3&&Vo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ci(this))},t.Na=function(f){this.g&&(this.response=f,ci(this))},t.ga=function(){this.g&&ci(this)};function ci(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Nr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=b.next();return f.join(`\r
`)};function Nr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function sr(f){let b="";return Me(f,function(w,I){b+=I,b+=":",b+=w,b+=`\r
`}),b}function _a(f,b,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=sr(w),typeof f=="string"?w!=null&&_s(w):rt(f,b,w))}function ut(f){Vt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ut,Vt);var Wr=/^https?$/i,Rc=["POST","PUT"];t=ut.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vc.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(J){ba(this,J);return}if(f=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)w.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())w.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),q=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Rc,b,void 0)>=0)||I||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of w)this.g.setRequestHeader(J,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(J){ba(this,J)}};function ba(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Cc(f),bs(f)}function Cc(f){f.A||(f.A=!0,Zt(f,"complete"),Zt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Zt(this,"complete"),Zt(this,"abort"),bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?xa(this):this.Xa())},t.Xa=function(){xa(this)};function xa(f){if(f.h&&typeof o<"u"){if(f.v&&Rr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Zt(f,"readystatechange"),Rr(f)==4){f.h=!1;try{const J=f.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var I;if(I=J===0){let me=String(f.D).match(Mh)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),I=!Wr.test(me?me.toLowerCase():"")}w=I}if(w)Zt(f,"complete"),Zt(f,"success");else{f.o=6;try{var q=Rr(f)>2?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.ca()+"]",Cc(f)}}finally{bs(f)}}}}function bs(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,b||Zt(f,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Rr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Rr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),rp(b)}};function cn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function xs(f){const b={};f=(f.g&&Rr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(k(f[I]))continue;var w=kh(f[I]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=b[q]||[];b[q]=J,J.push(w)}Fe(b,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(f,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||b}function ui(f){this.za=0,this.i=[],this.j=new Tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=es("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=es("baseRetryDelayMs",5e3,f),this.Za=es("retryDelaySeedMs",1e4,f),this.Ta=es("forwardChannelMaxRetries",2,f),this.va=es("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new _c(f&&f.concurrentRequestLimit),this.Ba=new li,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ui.prototype,t.ka=8,t.I=1,t.connect=function(f,b,w,I){zt(0),this.W=f,this.H=b||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=Kh(this,null,this.W),ts(this)};function Dc(f){if(zo(f),f.I==3){var b=f.V++,w=Ft(f.J);if(rt(w,"SID",f.M),rt(w,"RID",b),rt(w,"TYPE","terminate"),wa(f,w),b=new Sr(f,f.j,b),b.M=2,b.A=ga(Ft(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=b.A,w=!0),w||(b.g=Qh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Gr(b)}Gh(f)}function hi(f){f.g&&(kc(f),f.g.cancel(),f.g=null)}function zo(f){hi(f),f.v&&(c.clearTimeout(f.v),f.v=null),Uo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function ts(f){if(!bc(f.h)&&!f.m){f.m=!0;var b=f.Ea;Q||A(),ae||(Q(),ae=!0),N.add(b,f),f.D=0}}function Lo(f,b){return Zr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=qr(g(f.Ea,f,b),Hh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const q=new Sr(this,this.j,f);let J=this.o;if(this.U&&(J?(J=R(J),se(J,this.U)):J=this.U),this.u!==null||this.R||(q.J=J,J=null),this.S)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(b+=I,b>4096){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=Fh(this,q,b),w=Ft(this.J),rt(w,"RID",f),rt(w,"CVER",22),this.G&&rt(w,"X-HTTP-Session-Id",this.G),wa(this,w),J&&(this.R?b="headers="+_s(sr(J))+"&"+b:this.u&&_a(w,this.u,J)),xc(this.h,q),this.Ra&&rt(w,"TYPE","init"),this.S?(rt(w,"$req",b),rt(w,"SID","null"),q.U=!0,Hr(q,w,null)):Hr(q,w,b),this.I=2}}else this.I==3&&(f?jc(this,f):this.i.length==0||bc(this.h)||jc(this))};function jc(f,b){var w;b?w=b.l:w=f.V++;const I=Ft(f.J);rt(I,"SID",f.M),rt(I,"RID",w),rt(I,"AID",f.K),wa(f,I),f.u&&f.o&&_a(I,f.u,f.o),w=new Sr(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),b&&(f.i=b.G.concat(f.i)),b=Fh(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),xc(f.h,w),Hr(w,I,b)}function wa(f,b){f.H&&Me(f.H,function(w,I){rt(b,I,w)}),f.l&&Me({},function(w,I){rt(b,I,w)})}function Fh(f,b,w){w=Math.min(f.i.length,w);const I=f.l?g(f.l.Ka,f.l,f):null;e:{var q=f.i;let ke=-1;for(;;){const kt=["count="+w];ke==-1?w>0?(ke=q[0].g,kt.push("ofs="+ke)):ke=0:kt.push("ofs="+ke);let We=!0;for(let yt=0;yt<w;yt++){var J=q[yt].g;const ir=q[yt].map;if(J-=ke,J<0)ke=Math.max(0,q[yt].g-100),We=!1;else try{J="req"+J+"_"||"";try{var me=ir instanceof Map?ir:Object.entries(ir);for(const[rs,Cr]of me){let Dr=Cr;h(Cr)&&(Dr=ri(Cr)),kt.push(J+rs+"="+encodeURIComponent(Dr))}}catch(rs){throw kt.push(J+"type="+encodeURIComponent("_badmap")),rs}}catch{I&&I(ir)}}if(We){me=kt.join("&");break e}}me=void 0}return f=f.i.splice(0,w),b.G=f,me}function Bh(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;Q||A(),ae||(Q(),ae=!0),N.add(b,f),f.A=0}}function Ea(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=qr(g(f.Da,f),Hh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,qh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=qr(g(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),hi(this),qh(this))};function kc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function qh(f){f.g=new Sr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Ft(f.na);rt(b,"RID","rpc"),rt(b,"SID",f.M),rt(b,"AID",f.K),rt(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&rt(b,"TO",f.ia),rt(b,"TYPE","xmlhttp"),wa(f,b),f.u&&f.o&&_a(b,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=ga(Ft(b)),w.u=null,w.R=!0,Do(w,f)}t.Va=function(){this.C!=null&&(this.C=null,hi(this),Ea(this),zt(19))};function Uo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function $h(f,b){var w=null;if(f.g==b){Uo(f),kc(f),f.g=null;var I=2}else if(Yr(f.h,b))w=b.G,wc(f.h,b),I=1;else return;if(f.I!=0){if(b.o)if(I==1){w=b.u?b.u.length:0,b=Date.now()-b.F;var q=f.D;I=Co(),Zt(I,new Br(I,w)),ts(f)}else Bh(f);else if(q=b.m,q==3||q==0&&b.X>0||!(I==1&&Lo(f,b)||I==2&&Ea(f)))switch(w&&w.length>0&&(b=f.h,b.i=b.i.concat(w)),q){case 1:ns(f,5);break;case 4:ns(f,10);break;case 3:ns(f,6);break;default:ns(f,2)}}}function Hh(f,b){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*b}function ns(f,b){if(f.j.info("Error code "+b),b==2){var w=g(f.bb,f),I=f.Ua;const q=!I;I=new Fn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rn(I,"https"),ga(I),q?Ir(I.toString(),w):Nc(I.toString(),w)}else zt(2);f.I=0,f.l&&f.l.pa(b),Gh(f),zo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Gh(f){if(f.I=0,f.ja=[],f.l){const b=Ec(f.h);(b.length!=0||f.i.length!=0)&&(D(f.ja,b),D(f.ja,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.oa()}}function Kh(f,b,w){var I=w instanceof Fn?Ft(w):new Fn(w);if(I.g!="")b&&(I.g=b+"."+I.g),si(I,I.u);else{var q=c.location;I=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;const J=new Fn(null);I&&rn(J,I),b&&(J.g=b),q&&si(J,q),w&&(J.h=w),I=J}return w=f.G,b=f.wa,w&&b&&rt(I,w,b),rt(I,"VER",f.ka),wa(f,I),I}function Qh(f,b,w){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ut(new Jr({ab:w})):new ut(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zh(){}t=Zh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function di(){}di.prototype.g=function(f,b){return new En(f,b)};function En(f,b){Vt.call(this),this.g=new ui(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!k(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!k(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new ws(this)}_(En,Vt),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Dc(this.g)},En.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=ri(f),f=w);b.i.push(new Ut(b.Ya++,f)),b.I==3&&ts(b)},En.prototype.N=function(){this.g.l=null,delete this.j,Dc(this.g),delete this.g,En.Z.N.call(this)};function Yh(f){ln.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const w in b){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}_(Yh,ln);function Xh(){tr.call(this),this.status=1}_(Xh,tr);function ws(f){this.g=f}_(ws,Zh),ws.prototype.ra=function(){Zt(this.g,"a")},ws.prototype.qa=function(f){Zt(this.g,new Yh(f))},ws.prototype.pa=function(f){Zt(this.g,new Xh)},ws.prototype.oa=function(){Zt(this.g,"b")},di.prototype.createWebChannel=di.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,tA=function(){return new di},eA=function(){return Co()},WS=jt,Fy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,bf=ma,yc.COMPLETE="complete",JS=yc,Rh.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Su=Rh,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,XS=ut}).apply(typeof af<"u"?af:typeof self<"u"?self:typeof window<"u"?window:{});const gE="@firebase/firestore",yE="4.9.3";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let ic="12.7.0";const uo=new jv("@firebase/firestore");function Tl(){return uo.logLevel}function he(t,...e){if(uo.logLevel<=$e.DEBUG){const n=e.map(Pv);uo.debug(`Firestore (${ic}): ${t}`,...n)}}function In(t,...e){if(uo.logLevel<=$e.ERROR){const n=e.map(Pv);uo.error(`Firestore (${ic}): ${t}`,...n)}}function ho(t,...e){if(uo.logLevel<=$e.WARN){const n=e.map(Pv);uo.warn(`Firestore (${ic}): ${t}`,...n)}}function Pv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nA(t,r,n)}function nA(t,e,n){let r=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw In(r),new Error(r)}function we(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||nA(e,a,r)}function De(t,e){return t}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ds{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class rA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class pP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class gP{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ds,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ds)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new rA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class yP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _P{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=bP(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function By(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return gy(a)===gy(o)?Ce(a,o):gy(a)?1:-1}return Ce(t.length,e.length)}const xP=55296,wP=57343;function gy(t){const e=t.charCodeAt(0);return e>=xP&&e<=wP}function Vl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}function sA(t){return t+"\0"}const _E="__name__";class ls{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ls?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=ls.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ce(e.length,n.length)}static compareSegments(e,n){const r=ls.isNumericId(e),a=ls.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ls.extractNumericId(e).compare(ls.extractNumericId(n)):By(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class Je extends ls{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const EP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends ls{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return EP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_E}static keyField(){return new wt([_E])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(o(),a++)}if(o(),c)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Je.fromString(e))}static fromName(e){return new pe(Je.fromString(e).popFirst(5))}static empty(){return new pe(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Je(e.slice()))}}function iA(t,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TP(t,e,n,r){if(e===!0&&r===!0)throw new fe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bE(t){if(!pe.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xE(t){if(pe.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function aA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function Jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nm(t);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function SP(t,e){if(e<=0)throw new fe(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function dh(t,e){if(!aA(t))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}const wE=-62135596800,EE=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*EE);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wE)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EE}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dh(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Kt("string",at._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new at(0,0))}static max(){return new Ae(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hu=-1;class Hf{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function qy(t){return t.fields.find((e=>e.kind===2))}function qa(t){return t.fields.filter((e=>e.kind!==2))}Hf.UNKNOWN_ID=-1;class xf{constructor(e,n){this.fieldPath=e,this.kind=n}}class Gu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Gu(0,Wn.min())}}function AP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Wn(a,pe.empty(),e)}function oA(t){return new Wn(t.readTime,t.key,Hu)}class Wn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wn(Ae.min(),pe.empty(),Hu)}static max(){return new Wn(Ae.max(),pe.empty(),Hu)}}function Vv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}const lA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function To(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==lA)throw t;he("LocalStore","Unexpectedly lost primary lease")}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):B.reject(n)}static resolve(e){return new B(((n,r)=>{n(e)}))}static reject(e){return new B(((n,r)=>{r(e)}))}static waitFor(e){return new B(((n,r)=>{let a=0,o=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&n()}),(d=>r(d)))})),c=!0,o===a&&n()}))}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next((a=>a?B.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new B(((r,a)=>{const o=e.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const g=d;n(e[g]).next((v=>{c[g]=v,++h,h===o&&r(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new B(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}const Zn="SimpleDb";class Rm{static open(e,n,r,a){try{return new Rm(n,e.transaction(a,r))}catch(o){throw new ju(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ds,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new ju(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=zv(r.target.error);this.S.reject(new ju(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(he(Zn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new NP(n)}}class Wi{static delete(e){return he(Zn,"Removing database:",e),Ha(OS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!qS())return!1;if(Wi.F())return!0;const e=en(),n=Wi.M(e),r=0<n&&n<10,a=uA(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Wi.M(en())===12.2&&In("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(he(Zn,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const c=o.target.result;n(c)},a.onblocked=()=>{r(new ju(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const c=o.target.error;c.name==="VersionError"?r(new fe(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new fe(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new ju(e,c))},a.onupgradeneeded=o=>{he(Zn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,a.transaction,o.oldVersion,this.version).next((()=>{he(Zn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,a){const o=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const h=Rm.open(this.db,e,o?"readonly":"readwrite",r),d=a(h).next((g=>(h.C(),g))).catch((g=>(h.abort(g),B.reject(g)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,g=d.name!=="FirebaseError"&&c<3;if(he(Zn,"Transaction failed with error:",d.message,"Retrying:",g),this.close(),!g)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function uA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class IP{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ha(this.U.delete())}}class ju extends fe{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function aa(t){return t.name==="IndexedDbTransactionError"}class NP{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(he(Zn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(he(Zn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ha(r)}add(e){return he(Zn,"ADD",this.store.name,e,e),Ha(this.store.add(e))}get(e){return Ha(this.store.get(e)).next((n=>(n===void 0&&(n=null),he(Zn,"GET",this.store.name,e,n),n)))}delete(e){return he(Zn,"DELETE",this.store.name,e),Ha(this.store.delete(e))}count(){return he(Zn,"COUNT",this.store.name),Ha(this.store.count())}J(e,n){const r=this.options(e,n),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(r.range);return new B(((c,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{c(d.target.result)}}))}{const o=this.cursor(r),c=[];return this.H(o,((h,d)=>{c.push(d)})).next((()=>c))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B(((a,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}Z(e,n){he(Zn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const a=this.cursor(r);return this.H(a,((o,c,h)=>h.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.H(a,n)}te(e){const n=this.cursor({});return new B(((r,a)=>{n.onerror=o=>{const c=zv(o.target.error);a(c)},n.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((h=>{h?c.continue():r()})):r()}}))}H(e,n){const r=[];return new B(((a,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void a();const d=new IP(h),g=n(h.primaryKey,h.value,d);if(g instanceof B){const v=g.catch((_=>(d.done(),B.reject(_))));r.push(v)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>B.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ha(t){return new B(((e,n)=>{t.onsuccess=r=>{const a=r.target.result;e(a)},t.onerror=r=>{const a=zv(r.target.error);n(a)}}))}let TE=!1;function zv(t){const e=Wi.M(en());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TE||(TE=!0,setTimeout((()=>{throw r}),0)),r}}return t}const ku="IndexBackfiller";class RP{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){he(ku,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();he(ku,`Documents written: ${n}`)}catch(n){aa(n)?he(ku,"Ignoring IndexedDB error during index backfill: ",n):await To(n)}await this.re(6e4)}))}}class CP{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let a=n,o=!0;return B.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return he(ku,`Processing collection: ${c}`),this.oe(e,c,a).next((h=>{a-=h,r.add(c)}));o=!1})))).next((()=>n-a))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,o))).next((h=>(he(ku,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,n,h)))).next((()=>c.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((a,o)=>{const c=oA(o);Vv(c,r)>0&&(r=c)})),new Wn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class gr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gr.ce=-1;const Ja=-1;function Cm(t){return t==null}function Ku(t){return t===0&&1/t==-1/0}function DP(t){return typeof t=="number"&&Number.isInteger(t)&&!Ku(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Gf="";function bn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SE(e)),e=jP(t.get(n),e);return SE(e)}function jP(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case Gf:n+="";break;default:n+=o}}return n}function SE(t){return t+Gf+""}function us(t){const e=t.length;if(we(e>=2,64408,{path:t}),e===2)return we(t.charAt(0)===Gf&&t.charAt(1)==="",56145,{path:t}),Je.emptyPath();const n=e-2,r=[];let a="";for(let o=0;o<e;){const c=t.indexOf(Gf,o);switch((c<0||c>n)&&_e(50515,{path:t}),t.charAt(c+1)){case"":const h=t.substring(o,c);let d;a.length===0?d=h:(a+=h,d=a,a=""),r.push(d);break;case"":a+=t.substring(o,c),a+="\0";break;case"":a+=t.substring(o,c+1);break;default:_e(61167,{path:t})}o=c+2}return new Je(r)}const $a="remoteDocuments",fh="owner",vl="owner",Qu="mutationQueues",kP="userId",Pr="mutations",AE="batchId",Ya="userMutationsIndex",IE=["userId","batchId"];function wf(t,e){return[t,bn(e)]}function hA(t,e,n){return[t,bn(e),n]}const OP={},zl="documentMutations",Kf="remoteDocumentsV14",PP=["prefixPath","collectionGroup","readTime","documentId"],Ef="documentKeyIndex",MP=["prefixPath","collectionGroup","documentId"],dA="collectionGroupIndex",VP=["collectionGroup","readTime","prefixPath","documentId"],Zu="remoteDocumentGlobal",$y="remoteDocumentGlobalKey",Ll="targets",fA="queryTargetsIndex",zP=["canonicalId","targetId"],Ul="targetDocuments",LP=["targetId","path"],Lv="documentTargetsIndex",UP=["path","targetId"],Qf="targetGlobalKey",Wa="targetGlobal",Yu="collectionParents",FP=["collectionId","parent"],Fl="clientMetadata",BP="clientId",Dm="bundles",qP="bundleId",jm="namedQueries",$P="name",Uv="indexConfiguration",HP="indexId",Hy="collectionGroupIndex",GP="collectionGroup",Ou="indexState",KP=["indexId","uid"],mA="sequenceNumberIndex",QP=["uid","sequenceNumber"],Pu="indexEntries",ZP=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pA="documentKeyIndex",YP=["indexId","uid","orderedDocumentKey"],km="documentOverlays",XP=["userId","collectionPath","documentId"],Gy="collectionPathOverlayIndex",JP=["userId","collectionPath","largestBatchId"],gA="collectionGroupOverlayIndex",WP=["userId","collectionGroup","largestBatchId"],Fv="globals",eM="name",yA=[Qu,Pr,zl,$a,Ll,fh,Wa,Ul,Fl,Zu,Yu,Dm,jm],tM=[...yA,km],vA=[Qu,Pr,zl,Kf,Ll,fh,Wa,Ul,Fl,Zu,Yu,Dm,jm,km],_A=vA,Bv=[..._A,Uv,Ou,Pu],nM=Bv,bA=[...Bv,Fv],rM=bA;class Ky extends cA{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function tn(t,e){const n=De(t);return Wi.O(n.le,e)}function NE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new of(this.root,e,this.comparator,!1)}getReverseIterator(){return new of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new of(this.root,e,this.comparator,!0)}}class of{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=a??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new pn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ct{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RE(this.data.getIterator())}getIteratorFrom(e){return new RE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class RE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _l(t){return t.hasNext()?t.getNext():void 0}class yr{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new yr([])}unionWith(e){let n=new ct(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class wA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wA("Invalid base64 string: "+o):o}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const sM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(we(!!t,39018),typeof t=="string"){let e=0;const n=sM.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}const EA="server_timestamp",TA="__type__",SA="__previous_value__",AA="__local_write_time__";function Om(t){return(t?.mapValue?.fields||{})[TA]?.stringValue===EA}function Pm(t){const e=t.mapValue.fields[SA];return Om(e)?Pm(e):e}function Xu(t){const e=Ks(t.mapValue.fields[AA].timestampValue);return new at(e.seconds,e.nanos)}class iM{constructor(e,n,r,a,o,c,h,d,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=g,this.isUsingEmulator=v}}const Zf="(default)";class fo{constructor(e,n){this.projectId=e,this.database=n||Zf}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database===Zf}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}const qv="__type__",IA="__max__",Gi={mapValue:{fields:{__type__:{stringValue:IA}}}},$v="__vector__",Bl="value",Tf={nullValue:"NULL_VALUE"};function ta(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Om(t)?4:NA(t)?9007199254740991:Mm(t)?10:11:_e(28295,{value:t})}function gs(t,e){if(t===e)return!0;const n=ta(t);if(n!==ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xu(t).isEqual(Xu(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Ks(a.timestampValue),h=Ks(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Qs(a.bytesValue).isEqual(Qs(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return _t(a.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(a.geoPointValue.longitude)===_t(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return _t(a.integerValue)===_t(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=_t(a.doubleValue),h=_t(o.doubleValue);return c===h?Ku(c)===Ku(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],gs);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(NE(c)!==NE(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!gs(c[d],h[d])))return!1;return!0})(t,e);default:return _e(52216,{left:t})}}function Ju(t,e){return(t.values||[]).find((n=>gs(n,e)))!==void 0}function na(t,e){if(t===e)return 0;const n=ta(t),r=ta(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=_t(o.integerValue||o.doubleValue),d=_t(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return CE(t.timestampValue,e.timestampValue);case 4:return CE(Xu(t),Xu(e));case 5:return By(t.stringValue,e.stringValue);case 6:return(function(o,c){const h=Qs(o),d=Qs(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let g=0;g<h.length&&g<d.length;g++){const v=Ce(h[g],d[g]);if(v!==0)return v}return Ce(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=Ce(_t(o.latitude),_t(c.latitude));return h!==0?h:Ce(_t(o.longitude),_t(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return DE(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},d=c.fields||{},g=h[Bl]?.arrayValue,v=d[Bl]?.arrayValue,_=Ce(g?.values?.length||0,v?.values?.length||0);return _!==0?_:DE(g,v)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Gi.mapValue&&c===Gi.mapValue)return 0;if(o===Gi.mapValue)return 1;if(c===Gi.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),g=c.fields||{},v=Object.keys(g);d.sort(),v.sort();for(let _=0;_<d.length&&_<v.length;++_){const E=By(d[_],v[_]);if(E!==0)return E;const T=na(h[d[_]],g[v[_]]);if(T!==0)return T}return Ce(d.length,v.length)})(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function CE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Ks(t),r=Ks(e),a=Ce(n.seconds,r.seconds);return a!==0?a:Ce(n.nanos,r.nanos)}function DE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=na(n[a],r[a]);if(o)return o}return Ce(n.length,r.length)}function ql(t){return Qy(t)}function Qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Qs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Qy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Qy(n.fields[c])}`;return a+"}"})(t.mapValue):_e(61005,{value:t})}function Sf(t){switch(ta(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pm(t);return e?16+Sf(e):16;case 5:return 2*t.stringValue.length;case 6:return Qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Sf(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return So(r.fields,((o,c)=>{a+=o.length+Sf(c)})),a})(t.mapValue);default:throw _e(13486,{value:t})}}function mo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zy(t){return!!t&&"integerValue"in t}function Wu(t){return!!t&&"arrayValue"in t}function jE(t){return!!t&&"nullValue"in t}function kE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Af(t){return!!t&&"mapValue"in t}function Mm(t){return(t?.mapValue?.fields||{})[qv]?.stringValue===$v}function Mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return So(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Mu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return{...t}}function NA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===IA}const RA={mapValue:{fields:{[qv]:{stringValue:$v},[Bl]:{arrayValue:{}}}}};function aM(t){return"nullValue"in t?Tf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?mo(fo.empty(),pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Mm(t)?RA:{mapValue:{}}:_e(35942,{value:t})}function oM(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?mo(fo.empty(),pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?RA:"mapValue"in t?Mm(t)?{mapValue:{}}:Gi:_e(61959,{value:t})}function OE(t,e){const n=na(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function PE(t,e){const n=na(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Af(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=wt.emptyPath(),r={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}c?r[h.lastSegment()]=Mu(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Af(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Af(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){So(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new zn(Mu(this.value))}}function CA(t){const e=[];return So(t.fields,((n,r)=>{const a=new wt([n]);if(Af(r)){const o=CA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new yr(e)}class Rt{constructor(e,n,r,a,o,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Rt(e,0,Ae.min(),Ae.min(),Ae.min(),zn.empty(),0)}static newFoundDocument(e,n,r,a){return new Rt(e,1,n,Ae.min(),r,a,0)}static newNoDocument(e,n){return new Rt(e,2,n,Ae.min(),Ae.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,Ae.min(),Ae.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ra{constructor(e,n){this.position=e,this.inclusive=n}}function ME(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(c.referenceValue),n.key):r=na(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function VE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gs(t.position[n],e.position[n]))return!1;return!0}class Yf{constructor(e,n="asc"){this.field=e,this.dir=n}}function lM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class DA{}class He extends DA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cM(e,n,r):n==="array-contains"?new dM(e,r):n==="in"?new VA(e,r):n==="not-in"?new fM(e,r):n==="array-contains-any"?new mM(e,r):new He(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uM(e,r):new hM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(na(n,this.value)):n!==null&&ta(this.value)===ta(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends DA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ot(e,n)}matches(e){return $l(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $l(t){return t.op==="and"}function Yy(t){return t.op==="or"}function Hv(t){return jA(t)&&$l(t)}function jA(t){for(const e of t.filters)if(e instanceof ot)return!1;return!0}function Xy(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+ql(t.value);if(Hv(t))return t.filters.map((e=>Xy(e))).join(",");{const e=t.filters.map((n=>Xy(n))).join(",");return`${t.op}(${e})`}}function kA(t,e){return t instanceof He?(function(r,a){return a instanceof He&&r.op===a.op&&r.field.isEqual(a.field)&&gs(r.value,a.value)})(t,e):t instanceof ot?(function(r,a){return a instanceof ot&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,h)=>o&&kA(c,a.filters[h])),!0):!1})(t,e):void _e(19439)}function OA(t,e){const n=t.filters.concat(e);return ot.create(n,t.op)}function PA(t){return t instanceof He?(function(n){return`${n.field.canonicalString()} ${n.op} ${ql(n.value)}`})(t):t instanceof ot?(function(n){return n.op.toString()+" {"+n.getFilters().map(PA).join(" ,")+"}"})(t):"Filter"}class cM extends He{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class uM extends He{constructor(e,n){super(e,"in",n),this.keys=MA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hM extends He{constructor(e,n){super(e,"not-in",n),this.keys=MA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function MA(t,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class dM extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wu(n)&&Ju(n.arrayValue,this.value)}}class VA extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ju(this.value.arrayValue,n)}}class fM extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ju(this.value.arrayValue,n)}}class mM extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ju(this.value.arrayValue,r)))}}class pM{constructor(e,n=null,r=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Jy(t,e=null,n=[],r=[],a=null,o=null,c=null){return new pM(t,e,n,r,a,o,c)}function po(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Xy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Cm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ql(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ql(r))).join(",")),e.Te=n}return e.Te}function mh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VE(t.startAt,e.startAt)&&VE(t.endAt,e.endAt)}function Xf(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Jf(t,e){return t.filters.filter((n=>n instanceof He&&n.field.isEqual(e)))}function zE(t,e,n){let r=Tf,a=!0;for(const o of Jf(t,e)){let c=Tf,h=!0;switch(o.op){case"<":case"<=":c=aM(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=Tf}OE({value:r,inclusive:a},{value:c,inclusive:h})<0&&(r=c,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];OE({value:r,inclusive:a},{value:c,inclusive:n.inclusive})<0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}function LE(t,e,n){let r=Gi,a=!0;for(const o of Jf(t,e)){let c=Gi,h=!0;switch(o.op){case">=":case">":c=oM(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=Gi}PE({value:r,inclusive:a},{value:c,inclusive:h})>0&&(r=c,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];PE({value:r,inclusive:a},{value:c,inclusive:n.inclusive})>0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}class ac{constructor(e,n=null,r=[],a=[],o=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gM(t,e,n,r,a,o,c,h){return new ac(t,e,n,r,a,o,c,h)}function ph(t){return new ac(t)}function UE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Gv(t){return t.collectionGroup!==null}function Cl(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new ct(wt.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Yf(o,r))})),n.has(wt.keyField().canonicalString())||e.Ie.push(new Yf(wt.keyField(),r))}return e.Ie}function vr(t){const e=De(t);return e.Ee||(e.Ee=yM(e,Cl(t))),e.Ee}function yM(t,e){if(t.limitType==="F")return Jy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Yf(a.field,o)}));const n=t.endAt?new ra(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ra(t.startAt.position,t.startAt.inclusive):null;return Jy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wy(t,e){const n=t.filters.concat([e]);return new ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wf(t,e,n){return new ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vm(t,e){return mh(vr(t),vr(e))&&t.limitType===e.limitType}function zA(t){return`${po(vr(t))}|lt:${t.limitType}`}function Sl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>PA(a))).join(", ")}]`),Cm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>ql(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>ql(a))).join(",")),`Target(${r})`})(vr(t))}; limitType=${t.limitType})`}function gh(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of Cl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,h,d){const g=ME(c,h,d);return c.inclusive?g<=0:g<0})(r.startAt,Cl(r),a)||r.endAt&&!(function(c,h,d){const g=ME(c,h,d);return c.inclusive?g>=0:g>0})(r.endAt,Cl(r),a))})(t,e)}function vM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LA(t){return(e,n)=>{let r=!1;for(const a of Cl(t)){const o=_M(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function _M(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):(function(o,c,h){const d=c.data.field(o),g=h.data.field(o);return d!==null&&g!==null?na(d,g):_e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return xA(this.inner)}size(){return this.innerSize}}const bM=new bt(pe.comparator);function Xn(){return bM}const UA=new bt(pe.comparator);function Au(...t){let e=UA;for(const n of t)e=e.insert(n.key,n);return e}function FA(t){let e=UA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function hs(){return Vu()}function BA(){return Vu()}function Vu(){return new Ws((t=>t.toString()),((t,e)=>t.isEqual(e)))}const xM=new bt(pe.comparator),wM=new ct(pe.comparator);function ze(...t){let e=wM;for(const n of t)e=e.add(n);return e}const EM=new ct(Ce);function TM(){return EM}function Kv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function qA(t){return{integerValue:""+t}}function SM(t,e){return DP(e)?qA(e):Kv(t,e)}class zm{constructor(){this._=void 0}}function AM(t,e,n){return t instanceof Hl?(function(a,o){const c={fields:{[TA]:{stringValue:EA},[AA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Om(o)&&(o=Pm(o)),o&&(c.fields[SA]=o),{mapValue:c}})(n,e):t instanceof Gl?HA(t,e):t instanceof Kl?GA(t,e):(function(a,o){const c=$A(a,o),h=FE(c)+FE(a.Ae);return Zy(c)&&Zy(a.Ae)?qA(h):Kv(a.serializer,h)})(t,e)}function IM(t,e,n){return t instanceof Gl?HA(t,e):t instanceof Kl?GA(t,e):n}function $A(t,e){return t instanceof eh?(function(r){return Zy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Hl extends zm{}class Gl extends zm{constructor(e){super(),this.elements=e}}function HA(t,e){const n=KA(e);for(const r of t.elements)n.some((a=>gs(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Kl extends zm{constructor(e){super(),this.elements=e}}function GA(t,e){let n=KA(e);for(const r of t.elements)n=n.filter((a=>!gs(a,r)));return{arrayValue:{values:n}}}class eh extends zm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FE(t){return _t(t.integerValue||t.doubleValue)}function KA(t){return Wu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class QA{constructor(e,n){this.field=e,this.transform=n}}function NM(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Gl&&a instanceof Gl||r instanceof Kl&&a instanceof Kl?Vl(r.elements,a.elements,gs):r instanceof eh&&a instanceof eh?gs(r.Ae,a.Ae):r instanceof Hl&&a instanceof Hl})(t.transform,e.transform)}class RM{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function If(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lm{}function ZA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Um(t.key,Rn.none()):new oc(t.key,t.data,Rn.none());{const n=t.data,r=zn.empty();let a=new ct(wt.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new oa(t.key,r,new yr(a.toArray()),Rn.none())}}function CM(t,e,n){t instanceof oc?(function(a,o,c){const h=a.value.clone(),d=qE(a.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof oa?(function(a,o,c){if(!If(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=qE(a.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(YA(a)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function zu(t,e,n,r){return t instanceof oc?(function(o,c,h,d){if(!If(o.precondition,c))return h;const g=o.value.clone(),v=$E(o.fieldTransforms,d,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,r):t instanceof oa?(function(o,c,h,d){if(!If(o.precondition,c))return h;const g=$E(o.fieldTransforms,d,c),v=c.data;return v.setAll(YA(o)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(o,c,h){return If(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function DM(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=$A(r.transform,a||null);o!=null&&(n===null&&(n=zn.empty()),n.set(r.field,o))}return n||null}function BE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Vl(r,a,((o,c)=>NM(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class oc extends Lm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oa extends Lm{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function YA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function qE(t,e,n){const r=new Map;we(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,h=e.data.field(o.field);r.set(o.field,IM(c,h,n[a]))}return r}function $E(t,e,n){const r=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);r.set(a.field,AM(o,c,e))}return r}class Um extends Lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XA extends Lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Qv{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&CM(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BA();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=n.has(a.key)?null:h;const d=ZA(c,h);d!==null&&r.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,((n,r)=>BE(n,r)))&&Vl(this.baseMutations,e.baseMutations,((n,r)=>BE(n,r)))}}class Zv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return xM})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new Zv(e,n,r,a)}}class Yv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Gt,Qe;function kM(t){switch(t){case te.OK:return _e(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function JA(t){if(t===void 0)return In("GRPC error has no .code"),te.UNKNOWN;switch(t){case Gt.OK:return te.OK;case Gt.CANCELLED:return te.CANCELLED;case Gt.UNKNOWN:return te.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return te.INTERNAL;case Gt.UNAVAILABLE:return te.UNAVAILABLE;case Gt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Gt.NOT_FOUND:return te.NOT_FOUND;case Gt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Gt.ABORTED:return te.ABORTED;case Gt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Gt.DATA_LOSS:return te.DATA_LOSS;default:return _e(39323,{code:t})}}(Qe=Gt||(Gt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function OM(){return new TextEncoder}const PM=new Ji([4294967295,4294967295],0);function HE(t){const e=OM().encode(t),n=new YS;return n.update(e),new Uint8Array(n.digest())}function GE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ji([n,r],0),new Ji([a,o],0)]}class Xv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Iu(`Invalid padding: ${n}`);if(r<0)throw new Iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ji.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ji.fromNumber(r)));return a.compare(PM)===1&&(a=new Ji([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=HE(e),[r,a]=GE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Xv(o,a,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=HE(e),[r,a]=GE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fm{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fm(Ae.min(),a,new bt(Ce),Xn(),ze())}}class yh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yh(r,n,ze(),ze(),ze())}}class Nf{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class WA{constructor(e,n){this.targetId=e,this.Ce=n}}class eI{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class KE{constructor(){this.ve=0,this.Fe=QE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),r=ze();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:_e(38017,{changeType:o})}})),new yh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=QE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xn(),this.Je=lf(),this.He=lf(),this.Ye=new bt(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(Xf(o))if(r===0){const c=new pe(o.path);this.et(n,c,Rt.newNoDocument(c,Ae.min()))}else we(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let c,h;try{c=Qs(r).toUint8Array()}catch(d){if(d instanceof wA)return ho("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Xv(c,a,o)}catch(d){return ho(d instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Xf(h.target)){const d=new pe(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,Rt.newNoDocument(d,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let r=ze();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const g=this.ot(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Fm(e,n,this.Ye,this.je,r);return this.je=Xn(),this.Je=lf(),this.He=lf(),this.Ye=new bt(Ce),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new KE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ct(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ct(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lf(){return new bt(pe.comparator)}function QE(){return new bt(pe.comparator)}const VM={asc:"ASCENDING",desc:"DESCENDING"},zM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LM={and:"AND",or:"OR"};class UM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ev(t,e){return t.useProto3Json||Cm(e)?e:{value:e}}function Ql(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FM(t,e){return Ql(t,e.toTimestamp())}function Cn(t){return we(!!t,49232),Ae.fromTimestamp((function(n){const r=Ks(n);return new at(r.seconds,r.nanos)})(t))}function Jv(t,e){return tv(t,e).canonicalString()}function tv(t,e){const n=(function(a){return new Je(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function nI(t){const e=Je.fromString(t);return we(hI(e),10190,{key:e.toString()}),e}function em(t,e){return Jv(t.databaseId,e.path)}function eo(t,e){const n=nI(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(iI(n))}function rI(t,e){return Jv(t.databaseId,e)}function sI(t){const e=nI(t);return e.length===4?Je.emptyPath():iI(e)}function nv(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iI(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZE(t,e,n){return{name:em(t,e),fields:n.value.mapValue.fields}}function BM(t,e,n){const r=eo(t,e.name),a=Cn(e.updateTime),o=e.createTime?Cn(e.createTime):Ae.min(),c=new zn({mapValue:{fields:e.fields}}),h=Rt.newFoundDocument(r,a,o,c);return n&&h.setHasCommittedMutations(),n?h.setHasCommittedMutations():h}function qM(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(g,v){return g.useProto3Json?(we(v===void 0||typeof v=="string",58123),Qt.fromBase64String(v||"")):(we(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Qt.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const v=g.code===void 0?te.UNKNOWN:JA(g.code);return new fe(v,g.message||"")})(c);n=new eI(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=eo(t,r.document.name),o=Cn(r.document.updateTime),c=r.document.createTime?Cn(r.document.createTime):Ae.min(),h=new zn({mapValue:{fields:r.document.fields}}),d=Rt.newFoundDocument(a,o,c,h),g=r.targetIds||[],v=r.removedTargetIds||[];n=new Nf(g,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=eo(t,r.document),o=r.readTime?Cn(r.readTime):Ae.min(),c=Rt.newNoDocument(a,o),h=r.removedTargetIds||[];n=new Nf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=eo(t,r.document),o=r.removedTargetIds||[];n=new Nf([],o,a,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new jM(a,o),h=r.targetId;n=new WA(h,c)}}return n}function tm(t,e){let n;if(e instanceof oc)n={update:ZE(t,e.key,e.value)};else if(e instanceof Um)n={delete:em(t,e.key)};else if(e instanceof oa)n={update:ZE(t,e.key,e.data),updateMask:ZM(e.fieldMask)};else{if(!(e instanceof XA))return _e(16599,{Vt:e.type});n={verify:em(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof Hl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Gl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Kl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof eh)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw _e(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:FM(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e(27497)})(t,e.precondition)),n}function rv(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Rn.updateTime(Cn(o.updateTime)):o.exists!==void 0?Rn.exists(o.exists):Rn.none()})(e.currentDocument):Rn.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(c,h){let d=null;if("setToServerValue"in h)we(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Hl;else if("appendMissingElements"in h){const v=h.appendMissingElements.values||[];d=new Gl(v)}else if("removeAllFromArray"in h){const v=h.removeAllFromArray.values||[];d=new Kl(v)}else"increment"in h?d=new eh(c,h.increment):_e(16584,{proto:h});const g=wt.fromServerFormat(h.fieldPath);return new QA(g,d)})(t,a))):[];if(e.update){e.update.name;const a=eo(t,e.update.name),o=new zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(d){const g=d.fieldPaths||[];return new yr(g.map((v=>wt.fromServerFormat(v))))})(e.updateMask);return new oa(a,o,c,n,r)}return new oc(a,o,n,r)}if(e.delete){const a=eo(t,e.delete);return new Um(a,n)}if(e.verify){const a=eo(t,e.verify);return new XA(a,n)}return _e(1463,{proto:e})}function $M(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map((n=>(function(a,o){let c=a.updateTime?Cn(a.updateTime):Cn(o);return c.isEqual(Ae.min())&&(c=Cn(o)),new RM(c,a.transformResults||[])})(n,e)))):[]}function aI(t,e){return{documents:[rI(t,e.path)]}}function oI(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rI(t,a);const o=(function(g){if(g.length!==0)return uI(ot.create(g,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:Al(E.field),direction:GM(E.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=ev(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function lI(t){let e=sI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){we(r===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];n.where&&(o=(function(_){const E=cI(_);return E instanceof ot&&Hv(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(D){return new Yf(Il(D.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,Cm(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(_){const E=!!_.before,T=_.values||[];return new ra(T,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const E=!_.before,T=_.values||[];return new ra(T,E)})(n.endAt)),gM(e,a,c,o,h,"F",d,g)}function HM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Il(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Il(n.unaryFilter.field);return He.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Il(n.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Il(n.unaryFilter.field);return He.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return He.create(Il(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ot.create(n.compositeFilter.filters.map((r=>cI(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(t):_e(30097,{filter:t})}function GM(t){return VM[t]}function KM(t){return zM[t]}function QM(t){return LM[t]}function Al(t){return{fieldPath:t.canonicalString()}}function Il(t){return wt.fromServerFormat(t.fieldPath)}function uI(t){return t instanceof He?(function(n){if(n.op==="=="){if(kE(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NAN"}};if(jE(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kE(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NOT_NAN"}};if(jE(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(n.field),op:KM(n.op),value:n.value}}})(t):t instanceof ot?(function(n){const r=n.getFilters().map((a=>uI(a)));return r.length===1?r[0]:{compositeFilter:{op:QM(n.op),filters:r}}})(t):_e(54877,{filter:t})}function ZM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function hI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Us{constructor(e,n,r,a,o=Ae.min(),c=Ae.min(),h=Qt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dI{constructor(e){this.yt=e}}function YM(t,e){let n;if(e.document)n=BM(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),a=yo(e.noDocument.readTime);n=Rt.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e(56709);{const r=pe.fromSegments(e.unknownDocument.path),a=yo(e.unknownDocument.version);n=Rt.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime((function(a){const o=new at(a[0],a[1]);return Ae.fromTimestamp(o)})(e.readTime)),n}function YE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:nm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,c){return{name:em(o,c.key),fields:c.data.value.mapValue.fields,updateTime:Ql(o,c.version.toTimestamp()),createTime:Ql(o,c.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:go(e.version)};else{if(!e.isUnknownDocument())return _e(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:go(e.version)}}return r}function nm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function go(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yo(t){const e=new at(t.seconds,t.nanoseconds);return Ae.fromTimestamp(e)}function Ga(t,e){const n=(e.baseMutations||[]).map((o=>rv(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];c.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>rv(t.yt,o))),a=at.fromMillis(e.localWriteTimeMs);return new Qv(e.batchId,a,n,r)}function Nu(t){const e=yo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?yo(t.lastLimboFreeSnapshotVersion):Ae.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const c=o.documents.length;return we(c===1,1966,{count:c}),vr(ph(sI(o.documents[0])))})(t.query):(function(o){return vr(lI(o))})(t.query),new Us(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Qt.fromBase64String(t.resumeToken))}function fI(t,e){const n=go(e.snapshotVersion),r=go(e.lastLimboFreeSnapshotVersion);let a;a=Xf(e.target)?aI(t.yt,e.target):oI(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:po(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function mI(t){const e=lI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wf(e,e.limit,"L"):e}function yy(t,e){return new Yv(e.largestBatchId,rv(t.yt,e.overlayMutation))}function XE(t,e){const n=e.path.lastSegment();return[t,bn(e.path.popLast()),n]}function JE(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:go(r.readTime),documentKey:bn(r.documentKey.path),largestBatchId:r.largestBatchId}}class XM{getBundleMetadata(e,n){return WE(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:yo(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return WE(e).put((function(a){return{bundleId:a.id,createTime:go(Cn(a.createTime)),version:a.version}})(n))}getNamedQuery(e,n){return e1(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:mI(o.bundledQuery),readTime:yo(o.readTime)}})(r)}))}saveNamedQuery(e,n){return e1(e).put((function(a){return{name:a.name,readTime:go(Cn(a.readTime)),bundledQuery:a.bundledQuery}})(n))}}function WE(t){return tn(t,Dm)}function e1(t){return tn(t,jm)}class Bm{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Bm(e,r)}getOverlay(e,n){return bu(e).get(XE(this.userId,n)).next((r=>r?yy(this.serializer,r):null))}getOverlays(e,n){const r=hs();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){const a=[];return r.forEach(((o,c)=>{const h=new Yv(n,c);a.push(this.St(e,h))})),B.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach((c=>a.add(bn(c.getCollectionPath()))));const o=[];return a.forEach((c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(bu(e).Z(Gy,h))})),B.waitFor(o)}getOverlaysForCollection(e,n,r){const a=hs(),o=bn(n),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return bu(e).J(Gy,c).next((h=>{for(const d of h){const g=yy(this.serializer,d);a.set(g.getKey(),g)}return a}))}getOverlaysForCollectionGroup(e,n,r,a){const o=hs();let c;const h=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return bu(e).ee({index:gA,range:h},((d,g,v)=>{const _=yy(this.serializer,g);o.size()<a||_.largestBatchId===c?(o.set(_.getKey(),_),c=_.largestBatchId):v.done()})).next((()=>o))}St(e,n){return bu(e).put((function(a,o,c){const[h,d,g]=XE(o,c.mutation.key);return{userId:o,collectionPath:d,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:tm(a.yt,c.mutation)}})(this.serializer,this.userId,n))}}function bu(t){return tn(t,km)}class JM{bt(e){return tn(e,Fv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?Qt.fromUint8Array(r):Qt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Ka{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(_t(e.integerValue));else if("doubleValue"in e){const r=_t(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Ku(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ks(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Qs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?NA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Mm(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):_e(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const a of Object.keys(r))this.Ot(a,n),this.Ct(r[a],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const a=Bl,o=r[a].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(_t(o)),this.Ot(a,n),this.Ct(r[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const a of r)this.Ct(a,n)}Lt(e,n){this.Ft(n,37),pe.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Ka.Kt=new Ka;const bl=255;function WM(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function t1(t){const e=64-(function(r){let a=0;for(let o=0;o<8;++o){const c=WM(255&r[o]);if(a+=c,c!==8)break}return a})(t);return Math.ceil(e/8)}class eV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=n.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=n.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const n=this.en(e),r=t1(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}nn(e){const n=this.en(e),r=t1(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}rn(){this.sn(bl),this.sn(255)}_n(){this.an(bl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===bl?(this.sn(bl),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===bl?(this.an(bl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class tV{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class nV{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class xu{constructor(){this.cn=new eV,this.ln=new tV(this.cn),this.hn=new nV(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Qa{constructor(e,n,r,a){this.Tn=e,this.In=n,this.En=r,this.dn=a}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Qa(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Rf(this.En),directionalValue:Rf(this.dn),orderedDocumentKey:Rf(n),documentKey:r.path.toArray()}}Vn(e,n,r){const a=this.Rn(e,n,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Mi(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=n1(t.En,e.En),n!==0?n:(n=n1(t.dn,e.dn),n!==0?n:pe.comparator(t.In,e.In)))}function n1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Rf(t){return BS()?(function(n){let r="";for(let a=0;a<n.length;a++)r+=String.fromCharCode(n[a]);return r})(t):t}function r1(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(t)}class s1{constructor(e){this.mn=new ct(((n,r)=>wt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(we(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=qy(e);if(n!==void 0&&!this.wn(n))return!1;const r=qa(e);let a=new Set,o=0,c=0;for(;o<r.length&&this.wn(r[o]);++o)a=a.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=r[o];if(!this.Sn(h,d)||!this.bn(this.fn[c++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(c>=this.fn.length||!this.bn(this.fn[c++],h))return!1}return!0}Dn(){if(this.pn)return null;let e=new ct(wt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new xf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new xf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new xf(r.field,r.dir==="asc"?0:1)));return new Hf(Hf.UNKNOWN_ID,this.collectionId,n,Gu.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function pI(t){if(we(t instanceof He||t instanceof ot,20012),t instanceof He){if(t instanceof VA){const n=t.value.arrayValue?.values?.map((r=>He.create(t.field,"==",r)))||[];return ot.create(n,"or")}return t}const e=t.filters.map((n=>pI(n)));return ot.create(e,t.op)}function rV(t){if(t.getFilters().length===0)return[];const e=av(pI(t));return we(gI(e),7391),sv(e)||iv(e)?[e]:e.getFilters()}function sv(t){return t instanceof He}function iv(t){return t instanceof ot&&Hv(t)}function gI(t){return sv(t)||iv(t)||(function(n){if(n instanceof ot&&Yy(n)){for(const r of n.getFilters())if(!sv(r)&&!iv(r))return!1;return!0}return!1})(t)}function av(t){if(we(t instanceof He||t instanceof ot,34018),t instanceof He)return t;if(t.filters.length===1)return av(t.filters[0]);const e=t.filters.map((r=>av(r)));let n=ot.create(e,t.op);return n=rm(n),gI(n)?n:(we(n instanceof ot,64498),we($l(n),40251),we(n.filters.length>1,57927),n.filters.reduce(((r,a)=>Wv(r,a))))}function Wv(t,e){let n;return we(t instanceof He||t instanceof ot,38388),we(e instanceof He||e instanceof ot,25473),n=t instanceof He?e instanceof He?(function(a,o){return ot.create([a,o],"and")})(t,e):i1(t,e):e instanceof He?i1(e,t):(function(a,o){if(we(a.filters.length>0&&o.filters.length>0,48005),$l(a)&&$l(o))return OA(a,o.getFilters());const c=Yy(a)?a:o,h=Yy(a)?o:a,d=c.filters.map((g=>Wv(g,h)));return ot.create(d,"or")})(t,e),rm(n)}function i1(t,e){if($l(e))return OA(e,t.getFilters());{const n=e.filters.map((r=>Wv(t,r)));return ot.create(n,"or")}}function rm(t){if(we(t instanceof He||t instanceof ot,11850),t instanceof He)return t;const e=t.getFilters();if(e.length===1)return rm(e[0]);if(jA(t))return t;const n=e.map((a=>rm(a))),r=[];return n.forEach((a=>{a instanceof He?r.push(a):a instanceof ot&&(a.op===t.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:ot.create(r,t.op)}class sV{constructor(){this.Cn=new e_}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Wn.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Wn.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class e_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new ct(Je.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ct(Je.comparator)).toArray()}}const a1="IndexedDbIndexManager",cf=new Uint8Array(0);class iV{constructor(e,n){this.databaseId=n,this.vn=new e_,this.Fn=new Ws((r=>po(r)),((r,a)=>mh(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:bn(a)};return o1(e).put(o)}return B.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[sA(n),""],!1,!0);return o1(e).J(a).next((o=>{for(const c of o){if(c.collectionId!==n)break;r.push(us(c.parent))}return r}))}addFieldIndex(e,n){const r=wu(e),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete a.indexId;const o=r.add(a);if(n.indexState){const c=wl(e);return o.next((h=>{c.put(JE(h,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=wu(e),a=wl(e),o=xl(e);return r.delete(n.indexId).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=wu(e),r=xl(e),a=wl(e);return n.Z().next((()=>r.Z())).next((()=>a.Z()))}createTargetIndexes(e,n){return B.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const o=new s1(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=xl(e);let a=!0;const o=new Map;return B.forEach(this.Mn(n),(c=>this.xn(e,c).next((h=>{a&&(a=!!h),o.set(c,h)})))).next((()=>{if(a){let c=ze();const h=[];return B.forEach(o,((d,g)=>{he(a1,`Using index ${(function(K){return`id=${K.indexId}|cg=${K.collectionGroup}|f=${K.fields.map((le=>`${le.fieldPath}:${le.kind}`)).join(",")}`})(d)} to execute ${po(n)}`);const v=(function(K,le){const Q=qy(le);if(Q===void 0)return null;for(const ae of Jf(K,Q.fieldPath))switch(ae.op){case"array-contains-any":return ae.value.arrayValue.values||[];case"array-contains":return[ae.value]}return null})(g,d),_=(function(K,le){const Q=new Map;for(const ae of qa(le))for(const N of Jf(K,ae.fieldPath))switch(N.op){case"==":case"in":Q.set(ae.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return Q.set(ae.fieldPath.canonicalString(),N.value),Array.from(Q.values())}return null})(g,d),E=(function(K,le){const Q=[];let ae=!0;for(const N of qa(le)){const A=N.kind===0?zE(K,N.fieldPath,K.startAt):LE(K,N.fieldPath,K.startAt);Q.push(A.value),ae&&(ae=A.inclusive)}return new ra(Q,ae)})(g,d),T=(function(K,le){const Q=[];let ae=!0;for(const N of qa(le)){const A=N.kind===0?LE(K,N.fieldPath,K.endAt):zE(K,N.fieldPath,K.endAt);Q.push(A.value),ae&&(ae=A.inclusive)}return new ra(Q,ae)})(g,d),D=this.On(d,g,E),j=this.On(d,g,T),P=this.Nn(d,g,_),Z=this.Bn(d.indexId,v,D,E.inclusive,j,T.inclusive,P);return B.forEach(Z,(X=>r.Y(X,n.limit).next((K=>{K.forEach((le=>{const Q=pe.fromSegments(le.documentKey);c.has(Q)||(c=c.add(Q),h.push(Q))}))}))))})).next((()=>h))}return B.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=rV(ot.create(e.filters,"and")).map((r=>Jy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,a,o,c,h){const d=(n!=null?n.length:1)*Math.max(r.length,o.length),g=d/(n!=null?n.length:1),v=[];for(let _=0;_<d;++_){const E=n?this.Ln(n[_/g]):cf,T=this.kn(e,E,r[_%g],a),D=this.qn(e,E,o[_%g],c),j=h.map((P=>this.kn(e,E,P,!0)));v.push(...this.createRange(T,D,j))}return v}kn(e,n,r,a){const o=new Qa(e,pe.empty(),n,r);return a?o:o.An()}qn(e,n,r,a){const o=new Qa(e,pe.empty(),n,r);return a?o.An():o}xn(e,n){const r=new s1(n),a=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let c=null;for(const h of o)r.yn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c}))}getIndexType(e,n){let r=2;const a=this.Mn(n);return B.forEach(a,(o=>this.xn(e,o).next((c=>{c?r!==0&&c.fields.length<(function(d){let g=new ct(wt.comparator),v=!1;for(const _ of d.filters)for(const E of _.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?v=!0:g=g.add(E.field));for(const _ of d.orderBy)_.field.isKeyField()||(g=g.add(_.field));return g.size+(v?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(n)&&a.length>1&&r===2?1:r))}Qn(e,n){const r=new xu;for(const a of qa(e)){const o=n.data.field(a.fieldPath);if(o==null)return null;const c=r.Pn(a.kind);Ka.Kt.Dt(o,c)}return r.un()}Ln(e){const n=new xu;return Ka.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new xu;return Ka.Kt.Dt(mo(this.databaseId,n),r.Pn((function(o){const c=qa(o);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let a=[];a.push(new xu);let o=0;for(const c of qa(e)){const h=r[o++];for(const d of a)if(this.Un(n,c.fieldPath)&&Wu(h))a=this.Kn(a,c,h);else{const g=d.Pn(c.kind);Ka.Kt.Dt(h,g)}}return this.Wn(a)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const a=[...e],o=[];for(const c of r.arrayValue.values||[])for(const h of a){const d=new xu;d.seed(h.un()),Ka.Kt.Dt(c,d.Pn(n.kind)),o.push(d)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof He&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=wu(e),a=wl(e);return(n?r.J(Hy,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const c=[];return B.forEach(o,(h=>a.get([h.indexId,this.uid]).next((d=>{c.push((function(v,_){const E=_?new Gu(_.sequenceNumber,new Wn(yo(_.readTime),new pe(us(_.documentKey)),_.largestBatchId)):Gu.empty(),T=v.fields.map((([D,j])=>new xf(wt.fromServerFormat(D),j)));return new Hf(v.indexId,v.collectionGroup,T,E)})(h,d))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,a)=>{const o=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:Ce(r.collectionGroup,a.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const a=wu(e),o=wl(e);return this.Gn(e).next((c=>a.J(Hy,IDBKeyRange.bound(n,n)).next((h=>B.forEach(h,(d=>o.put(JE(d.indexId,this.uid,c,r))))))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,((a,o)=>{const c=r.get(a.collectionGroup);return(c?B.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((h=>(r.set(a.collectionGroup,h),B.forEach(h,(d=>this.zn(e,a,d).next((g=>{const v=this.jn(o,d);return g.isEqual(v)?B.resolve():this.Jn(e,o,d,g,v)})))))))}))}Hn(e,n,r,a){return xl(e).put(a.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,a){return xl(e).delete(a.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const a=xl(e);let o=new ct(Mi);return a.ee({index:pA,range:IDBKeyRange.only([r.indexId,this.uid,Rf(this.$n(r,n))])},((c,h)=>{o=o.add(new Qa(r.indexId,n,r1(h.arrayValue),r1(h.directionalValue)))})).next((()=>o))}jn(e,n){let r=new ct(Mi);const a=this.Qn(n,e);if(a==null)return r;const o=qy(n);if(o!=null){const c=e.data.field(o.fieldPath);if(Wu(c))for(const h of c.arrayValue.values||[])r=r.add(new Qa(n.indexId,e.key,this.Ln(h),a))}else r=r.add(new Qa(n.indexId,e.key,cf,a));return r}Jn(e,n,r,a,o){he(a1,"Updating index entries for document '%s'",n.key);const c=[];return(function(d,g,v,_,E){const T=d.getIterator(),D=g.getIterator();let j=_l(T),P=_l(D);for(;j||P;){let Z=!1,X=!1;if(j&&P){const K=v(j,P);K<0?X=!0:K>0&&(Z=!0)}else j!=null?X=!0:Z=!0;Z?(_(P),P=_l(D)):X?(E(j),j=_l(T)):(j=_l(T),P=_l(D))}})(a,o,Mi,(h=>{c.push(this.Hn(e,n,r,h))}),(h=>{c.push(this.Yn(e,n,r,h))})),B.waitFor(c)}Gn(e){let n=1;return wl(e).ee({index:mA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,o)=>{o.done(),n=a.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((c,h)=>Mi(c,h))).filter(((c,h,d)=>!h||Mi(c,d[h-1])!==0));const a=[];a.push(e);for(const c of r){const h=Mi(c,e),d=Mi(c,n);if(h===0)a[0]=e.An();else if(h>0&&d<0)a.push(c),a.push(c.An());else if(d>0)break}a.push(n);const o=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const h=a[c].Vn(this.uid,cf,pe.empty()),d=a[c+1].Vn(this.uid,cf,pe.empty());o.push(IDBKeyRange.bound(h,d))}return o}Zn(e,n){return Mi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(l1)}getMinOffset(e,n){return B.mapArray(this.Mn(n),(r=>this.xn(e,r).next((a=>a||_e(44426))))).next(l1)}}function o1(t){return tn(t,Yu)}function xl(t){return tn(t,Pu)}function wu(t){return tn(t,Uv)}function wl(t){return tn(t,Ou)}function l1(t){we(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;Vv(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new Wn(e.readTime,e.documentKey,n)}const c1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yI=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function vI(t,e,n){const r=t.store(Pr),a=t.store(zl),o=[],c=IDBKeyRange.only(n.batchId);let h=0;const d=r.ee({range:c},((v,_,E)=>(h++,E.delete())));o.push(d.next((()=>{we(h===1,47070,{batchId:n.batchId})})));const g=[];for(const v of n.mutations){const _=hA(e,v.key.path,n.batchId);o.push(a.delete(_)),g.push(v.key)}return B.waitFor(o).next((()=>g))}function sm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _e(14731);e=t.noDocument}return JSON.stringify(e).length}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(yI,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class qm{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Xn={}}static wt(e,n,r,a){we(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new qm(o,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vi(e).ee({index:Ya,range:r},((a,o,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(e,n,r,a){const o=Nl(e),c=Vi(e);return c.add({}).next((h=>{we(typeof h=="number",49019);const d=new Qv(h,n,r,a),g=(function(T,D,j){const P=j.baseMutations.map((X=>tm(T.yt,X))),Z=j.mutations.map((X=>tm(T.yt,X)));return{userId:D,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:P,mutations:Z}})(this.serializer,this.userId,d),v=[];let _=new ct(((E,T)=>Ce(E.canonicalString(),T.canonicalString())));for(const E of a){const T=hA(this.userId,E.key.path,h);_=_.add(E.key.path.popLast()),v.push(c.put(g)),v.push(o.put(T,OP))}return _.forEach((E=>{v.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[h]=d.keys()})),B.waitFor(v).next((()=>d))}))}lookupMutationBatch(e,n){return Vi(e).get(n).next((r=>r?(we(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ga(this.serializer,r)):null))}er(e,n){return this.Xn[n]?B.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const a=r.keys();return this.Xn[n]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Vi(e).ee({index:Ya,range:a},((c,h,d)=>{h.userId===this.userId&&(we(h.batchId>=r,47524,{tr:r}),o=Ga(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ja;return Vi(e).ee({index:Ya,range:n,reverse:!0},((a,o,c)=>{r=o.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Ja],[this.userId,Number.POSITIVE_INFINITY]);return Vi(e).J(Ya,n).next((r=>r.map((a=>Ga(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=wf(this.userId,n.path),a=IDBKeyRange.lowerBound(r),o=[];return Nl(e).ee({range:a},((c,h,d)=>{const[g,v,_]=c,E=us(v);if(g===this.userId&&n.path.isEqual(E))return Vi(e).get(_).next((T=>{if(!T)throw _e(61480,{nr:c,batchId:_});we(T.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:T.userId,batchId:_}),o.push(Ga(this.serializer,T))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Ce);const a=[];return n.forEach((o=>{const c=wf(this.userId,o.path),h=IDBKeyRange.lowerBound(c),d=Nl(e).ee({range:h},((g,v,_)=>{const[E,T,D]=g,j=us(T);E===this.userId&&o.path.isEqual(j)?r=r.add(D):_.done()}));a.push(d)})),B.waitFor(a).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,o=wf(this.userId,r),c=IDBKeyRange.lowerBound(o);let h=new ct(Ce);return Nl(e).ee({range:c},((d,g,v)=>{const[_,E,T]=d,D=us(E);_===this.userId&&r.isPrefixOf(D)?D.length===a&&(h=h.add(T)):v.done()})).next((()=>this.rr(e,h)))}rr(e,n){const r=[],a=[];return n.forEach((o=>{a.push(Vi(e).get(o).next((c=>{if(c===null)throw _e(35274,{batchId:o});we(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),r.push(Ga(this.serializer,c))})))})),B.waitFor(a).next((()=>r))}removeMutationBatch(e,n){return vI(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),B.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Nl(e).ee({range:r},((o,c,h)=>{if(o[0]===this.userId){const d=us(o[1]);a.push(d)}else h.done()})).next((()=>{we(a.length===0,56720,{sr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return _I(e,this.userId,n)}_r(e){return bI(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Ja,lastStreamToken:""}))}}function _I(t,e,n){const r=wf(e,n.path),a=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return Nl(t).ee({range:o,X:!0},((h,d,g)=>{const[v,_,E]=h;v===e&&_===a&&(c=!0),g.done()})).next((()=>c))}function Vi(t){return tn(t,Pr)}function Nl(t){return tn(t,zl)}function bI(t){return tn(t,Qu)}class vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}class aV{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new vo(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ae.fromTimestamp(new at(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.hr(e,a))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>El(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(we(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let a=0;const o=[];return El(e).ee(((c,h)=>{const d=Nu(h);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(a++,o.push(this.removeTargetData(e,d)))})).next((()=>B.waitFor(o))).next((()=>a))}forEachTarget(e,n){return El(e).ee(((r,a)=>{const o=Nu(a);n(o)}))}lr(e){return u1(e).get(Qf).next((n=>(we(n!==null,2888),n)))}hr(e,n){return u1(e).put(Qf,n)}Pr(e,n){return El(e).put(fI(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=po(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return El(e).ee({range:a,index:fA},((c,h,d)=>{const g=Nu(h);mh(n,g.target)&&(o=g,d.done())})).next((()=>o))}addMatchingKeys(e,n,r){const a=[],o=Bi(e);return n.forEach((c=>{const h=bn(c.path);a.push(o.put({targetId:r,path:h})),a.push(this.referenceDelegate.addReference(e,r,c))})),B.waitFor(a)}removeMatchingKeys(e,n,r){const a=Bi(e);return B.forEach(n,(o=>{const c=bn(o.path);return B.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=Bi(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=Bi(e);let o=ze();return a.ee({range:r,X:!0},((c,h,d)=>{const g=us(c[1]),v=new pe(g);o=o.add(v)})).next((()=>o))}containsKey(e,n){const r=bn(n.path),a=IDBKeyRange.bound([r],[sA(r)],!1,!0);let o=0;return Bi(e).ee({index:Lv,X:!0,range:a},(([c,h],d,g)=>{c!==0&&(o++,g.done())})).next((()=>o>0))}At(e,n){return El(e).get(n).next((r=>r?Nu(r):null))}}function El(t){return tn(t,Ll)}function u1(t){return tn(t,Wa)}function Bi(t){return tn(t,Ul)}const h1="LruGarbageCollector",oV=1048576;function d1([t,e],[n,r]){const a=Ce(t,n);return a===0?Ce(e,r):a}class lV{constructor(e){this.Ir=e,this.buffer=new ct(d1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();d1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(h1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){aa(n)?he(h1,"Ignoring IndexedDB error during garbage collection: ",n):await To(n)}await this.Vr(3e5)}))}}class cV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return B.resolve(gr.ce);const r=new lV(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(c1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,c,h,d,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,n)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(g=Date.now(),Tl()<=$e.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(g-d)+`ms
Total Duration: ${g-v}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_}))))}}function wI(t,e){return new cV(t,e)}class uV{constructor(e,n){this.db=e,this.garbageCollector=wI(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,a)=>n(a)))}addReference(e,n,r){return uf(e,r)}removeReference(e,n,r){return uf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return uf(e,n)}br(e,n){return(function(a,o){let c=!1;return bI(a).te((h=>_I(a,h,o).next((d=>(d&&(c=!0),B.resolve(!d)))))).next((()=>c))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Sr(e,((c,h)=>{if(h<=n){const d=this.br(e,c).next((g=>{if(!g)return o++,r.getEntry(e,c).next((()=>(r.removeEntry(c,Ae.min()),Bi(e).delete((function(_){return[0,bn(_.path)]})(c)))))}));a.push(d)}})).next((()=>B.waitFor(a))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return uf(e,n)}Sr(e,n){const r=Bi(e);let a,o=gr.ce;return r.ee({index:Lv},(([c,h],{path:d,sequenceNumber:g})=>{c===0?(o!==gr.ce&&n(new pe(us(a)),o),o=g,a=d):o=gr.ce})).next((()=>{o!==gr.ce&&n(new pe(us(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uf(t,e){return Bi(t).put((function(r,a){return{targetId:0,path:bn(r.path),sequenceNumber:a}})(e,t.currentSequenceNumber))}class EI{constructor(){this.changes=new Ws((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hV{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Fa(e).put(r)}removeEntry(e,n,r){return Fa(e).delete((function(o,c){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],nm(c),h[h.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Rt.newInvalidDocument(n);return Fa(e).ee({index:Ef,range:IDBKeyRange.only(Eu(n))},((a,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Rt.newInvalidDocument(n)};return Fa(e).ee({index:Ef,range:IDBKeyRange.only(Eu(n))},((a,o)=>{r={document:this.Cr(n,o),size:sm(o)}})).next((()=>r))}getEntries(e,n){let r=Xn();return this.Fr(e,n,((a,o)=>{const c=this.Cr(a,o);r=r.insert(a,c)})).next((()=>r))}Mr(e,n){let r=Xn(),a=new bt(pe.comparator);return this.Fr(e,n,((o,c)=>{const h=this.Cr(o,c);r=r.insert(o,h),a=a.insert(o,sm(c))})).next((()=>({documents:r,Or:a})))}Fr(e,n,r){if(n.isEmpty())return B.resolve();let a=new ct(p1);n.forEach((d=>a=a.add(d)));const o=IDBKeyRange.bound(Eu(a.first()),Eu(a.last())),c=a.getIterator();let h=c.getNext();return Fa(e).ee({index:Ef,range:o},((d,g,v)=>{const _=pe.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;h&&p1(h,_)<0;)r(h,null),h=c.getNext();h&&h.isEqual(_)&&(r(h,g),h=c.hasNext()?c.getNext():null),h?v.j(Eu(h)):v.done()})).next((()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,n,r,a,o){const c=n.path,h=[c.popLast().toArray(),c.lastSegment(),nm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fa(e).J(IDBKeyRange.bound(h,d,!0)).next((g=>{o?.incrementDocumentReadCount(g.length);let v=Xn();for(const _ of g){const E=this.Cr(pe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);E.isFoundDocument()&&(gh(n,E)||a.has(E.key))&&(v=v.insert(E.key,E))}return v}))}getAllFromCollectionGroup(e,n,r,a){let o=Xn();const c=m1(n,r),h=m1(n,Wn.max());return Fa(e).ee({index:dA,range:IDBKeyRange.bound(c,h,!0)},((d,g,v)=>{const _=this.Cr(pe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);o=o.insert(_.key,_),o.size===a&&v.done()})).next((()=>o))}newChangeBuffer(e){return new dV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return f1(e).get($y).next((n=>(we(!!n,20021),n)))}Dr(e,n){return f1(e).put($y,n)}Cr(e,n){if(n){const r=YM(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ae.min())))return r}return Rt.newInvalidDocument(e)}}function TI(t){return new hV(t)}class dV extends EI{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Ws((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const n=[];let r=0,a=new ct(((o,c)=>Ce(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const h=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,h.readTime)),c.isValidDocument()){const d=YE(this.Nr.serializer,c);a=a.add(o.path.popLast());const g=sm(d);r+=g-h.size,n.push(this.Nr.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=YE(this.Nr.serializer,c.convertToNoDocument(Ae.min()));n.push(this.Nr.addEntry(e,o,d))}})),a.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:a})=>(a.forEach(((o,c)=>{this.Br.set(o,{size:c,readTime:r.get(o).readTime})})),r)))}}function f1(t){return tn(t,Zu)}function Fa(t){return tn(t,Kf)}function Eu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function m1(t,e){const n=e.documentKey.path.toArray();return[t,nm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function p1(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(a=Ce(n[o],r[o]),a)return a;return a=Ce(n.length,r.length),a||(a=Ce(n[n.length-2],r[r.length-2]),a||Ce(n[n.length-1],r[r.length-1]))}class fV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class SI{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&zu(r.mutation,a,yr.empty(),at.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ze()){const a=hs();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let c=Au();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=hs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ze())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,a){let o=Xn();const c=Vu(),h=(function(){return Vu()})();return n.forEach(((d,g)=>{const v=r.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof oa)?o=o.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),zu(v.mutation,g,v.mutation.getFieldMask(),at.now())):c.set(g.key,yr.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>h.set(g,new fV(v,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Vu();let a=new bt(((c,h)=>c-h)),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const g=n.get(d);if(g===null)return;let v=r.get(d)||yr.empty();v=h.applyToLocalView(g,v),r.set(d,v);const _=(a.get(h.batchId)||ze()).add(d);a=a.insert(h.batchId,_)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),g=d.key,v=d.value,_=BA();v.forEach((E=>{if(!o.has(E)){const T=ZA(n.get(E),r.get(E));T!==null&&_.set(E,T),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return B.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Gv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):B.resolve(hs());let h=Hu,d=o;return c.next((g=>B.forEach(g,((v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(v)?B.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{d=d.insert(v,E)}))))).next((()=>this.populateOverlays(e,g,o))).next((()=>this.computeViews(e,d,g,ze()))).next((v=>({batchId:h,changes:FA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let a=Au();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let c=Au();return this.indexManager.getCollectionParents(e,o).next((h=>B.forEach(h,(d=>{const g=(function(_,E){return new ac(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((v=>{v.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((c=>{o.forEach(((d,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Rt.newInvalidDocument(v)))}));let h=Au();return c.forEach(((d,g)=>{const v=o.get(d);v!==void 0&&zu(v.mutation,g,yr.empty(),at.now()),gh(n,g)&&(h=h.insert(d,g))})),h}))}}class mV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Cn(a.createTime)}})(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:mI(a.bundledQuery),readTime:Cn(a.readTime)}})(n)),B.resolve()}}class pV{constructor(){this.overlays=new bt(pe.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hs();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),B.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const a=hs(),o=n.length+1,c=new pe(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new bt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let v=o.get(g.largestBatchId);v===null&&(v=hs(),o=o.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=hs(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((g,v)=>h.set(g,v))),!(h.size()>=a)););return B.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Yv(n,r));let o=this.qr.get(n);o===void 0&&(o=ze(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class gV{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}class t_{constructor(){this.Qr=new ct(an.$r),this.Ur=new ct(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new an(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new an(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new Je([])),r=new an(n,e),a=new an(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new Je([])),r=new an(n,e),a=new an(n,e+1);let o=ze();return this.Ur.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new an(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class yV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ct(an.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Qv(o,n,r,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new an(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return B.resolve(c)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Ja:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),a=new an(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Ce);return n.forEach((a=>{const o=new an(a,0),c=new an(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{r=r.add(h.Yr)}))})),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const c=new an(new pe(o),0);let h=new ct(Ce);return this.Zr.forEachWhile((d=>{const g=d.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(h=h.add(d.Yr)),!0)}),c),B.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){we(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,(a=>{const o=new an(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new an(n,0),a=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class vV{constructor(e){this.ri=e,this.docs=(function(){return new bt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Rt.newInvalidDocument(a))})),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Xn();const c=n.path,h=new pe(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:g,value:{document:v}}=d.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Vv(oA(v),r)<=0||(a.has(v.key)||gh(n,v))&&(o=o.insert(v.key,v.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,a){_e(9500)}ii(e,n){return B.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new _V(this)}getSize(e){return B.resolve(this.size)}}class _V extends EI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class bV{constructor(e){this.persistence=e,this.si=new Ws((n=>po(n)),mh),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new t_,this.targetCount=0,this.ai=vo.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),B.waitFor(o).next((()=>a))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}class n_{constructor(e,n){this.ui={},this.overlays={},this.ci=new gr(0),this.li=!1,this.li=!0,this.hi=new gV,this.referenceDelegate=e(this),this.Pi=new bV(this),this.indexManager=new sV,this.remoteDocumentCache=(function(a){return new vV(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new dI(n),this.Ii=new mV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new yV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const a=new xV(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return B.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class xV extends cA{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new t_,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,(r=>{const a=pe.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class im{constructor(e,n){this.persistence=e,this.pi=new Ws((r=>bn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=wI(this,n)}static mi(e,n){return new im(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return B.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?B.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((h=>{h||(r++,o.removeEntry(c,Ae.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sf(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return B.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wV{constructor(e){this.serializer=e}k(e,n,r,a){const o=new Rm("createOrUpgrade",n);r<1&&a>=1&&((function(d){d.createObjectStore(fh)})(e),(function(d){d.createObjectStore(Qu,{keyPath:kP}),d.createObjectStore(Pr,{keyPath:AE,autoIncrement:!0}).createIndex(Ya,IE,{unique:!0}),d.createObjectStore(zl)})(e),g1(e),(function(d){d.createObjectStore($a)})(e));let c=B.resolve();return r<3&&a>=3&&(r!==0&&((function(d){d.deleteObjectStore(Ul),d.deleteObjectStore(Ll),d.deleteObjectStore(Wa)})(e),g1(e)),c=c.next((()=>(function(d){const g=d.store(Wa),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ae.min().toTimestamp(),targetCount:0};return g.put(Qf,v)})(o)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(d,g){return g.store(Pr).J().next((_=>{d.deleteObjectStore(Pr),d.createObjectStore(Pr,{keyPath:AE,autoIncrement:!0}).createIndex(Ya,IE,{unique:!0});const E=g.store(Pr),T=_.map((D=>E.put(D)));return B.waitFor(T)}))})(e,o)))),c=c.next((()=>{(function(d){d.createObjectStore(Fl,{keyPath:BP})})(e)}))),r<5&&a>=5&&(c=c.next((()=>this.yi(o)))),r<6&&a>=6&&(c=c.next((()=>((function(d){d.createObjectStore(Zu)})(e),this.wi(o))))),r<7&&a>=7&&(c=c.next((()=>this.Si(o)))),r<8&&a>=8&&(c=c.next((()=>this.bi(e,o)))),r<9&&a>=9&&(c=c.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(c=c.next((()=>this.Di(o)))),r<11&&a>=11&&(c=c.next((()=>{(function(d){d.createObjectStore(Dm,{keyPath:qP})})(e),(function(d){d.createObjectStore(jm,{keyPath:$P})})(e)}))),r<12&&a>=12&&(c=c.next((()=>{(function(d){const g=d.createObjectStore(km,{keyPath:XP});g.createIndex(Gy,JP,{unique:!1}),g.createIndex(gA,WP,{unique:!1})})(e)}))),r<13&&a>=13&&(c=c.next((()=>(function(d){const g=d.createObjectStore(Kf,{keyPath:PP});g.createIndex(Ef,MP),g.createIndex(dA,VP)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore($a)))),r<14&&a>=14&&(c=c.next((()=>this.Fi(e,o)))),r<15&&a>=15&&(c=c.next((()=>(function(d){d.createObjectStore(Uv,{keyPath:HP,autoIncrement:!0}).createIndex(Hy,GP,{unique:!1}),d.createObjectStore(Ou,{keyPath:KP}).createIndex(mA,QP,{unique:!1}),d.createObjectStore(Pu,{keyPath:ZP}).createIndex(pA,YP,{unique:!1})})(e)))),r<16&&a>=16&&(c=c.next((()=>{n.objectStore(Ou).clear()})).next((()=>{n.objectStore(Pu).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(d){d.createObjectStore(Fv,{keyPath:eM})})(e)}))),r<18&&a>=18&&BS()&&(c=c.next((()=>{n.objectStore(Ou).clear()})).next((()=>{n.objectStore(Pu).clear()}))),c}wi(e){let n=0;return e.store($a).ee(((r,a)=>{n+=sm(a)})).next((()=>{const r={byteSize:n};return e.store(Zu).put($y,r)}))}yi(e){const n=e.store(Qu),r=e.store(Pr);return n.J().next((a=>B.forEach(a,(o=>{const c=IDBKeyRange.bound([o.userId,Ja],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Ya,c).next((h=>B.forEach(h,(d=>{we(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const g=Ga(this.serializer,d);return vI(e,o.userId,g).next((()=>{}))}))))}))))}Si(e){const n=e.store(Ul),r=e.store($a);return e.store(Wa).get(Qf).next((a=>{const o=[];return r.ee(((c,h)=>{const d=new Je(c),g=(function(_){return[0,bn(_)]})(d);o.push(n.get(g).next((v=>v?B.resolve():(_=>n.put({targetId:0,path:bn(_),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>B.waitFor(o)))}))}bi(e,n){e.createObjectStore(Yu,{keyPath:FP});const r=n.store(Yu),a=new e_,o=c=>{if(a.add(c)){const h=c.lastSegment(),d=c.popLast();return r.put({collectionId:h,parent:bn(d)})}};return n.store($a).ee({X:!0},((c,h)=>{const d=new Je(c);return o(d.popLast())})).next((()=>n.store(zl).ee({X:!0},(([c,h,d],g)=>{const v=us(h);return o(v.popLast())}))))}Di(e){const n=e.store(Ll);return n.ee(((r,a)=>{const o=Nu(a),c=fI(this.serializer,o);return n.put(c)}))}Ci(e,n){const r=n.store($a),a=[];return r.ee(((o,c)=>{const h=n.store(Kf),d=(function(_){return _.document?new pe(Je.fromString(_.document.name).popFirst(5)):_.noDocument?pe.fromSegments(_.noDocument.path):_.unknownDocument?pe.fromSegments(_.unknownDocument.path):_e(36783)})(c).path.toArray(),g={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(h.put(g))})).next((()=>B.waitFor(a)))}Fi(e,n){const r=n.store(Pr),a=TI(this.serializer),o=new n_($m.mi,this.serializer.yt);return r.J().next((c=>{const h=new Map;return c.forEach((d=>{let g=h.get(d.userId)??ze();Ga(this.serializer,d).keys().forEach((v=>g=g.add(v))),h.set(d.userId,g)})),B.forEach(h,((d,g)=>{const v=new mn(g),_=Bm.wt(this.serializer,v),E=o.getIndexManager(v),T=qm.wt(v,this.serializer,E,o.referenceDelegate);return new SI(a,T,_,E).recalculateAndSaveOverlaysForDocumentKeys(new Ky(n,gr.ce),d).next()}))}))}}function g1(t){t.createObjectStore(Ul,{keyPath:LP}).createIndex(Lv,UP,{unique:!0}),t.createObjectStore(Ll,{keyPath:"targetId"}).createIndex(fA,zP,{unique:!0}),t.createObjectStore(Wa)}const zi="IndexedDbPersistence",vy=18e5,_y=5e3,by="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",EV="main";class r_{constructor(e,n,r,a,o,c,h,d,g,v,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=c,this.document=h,this.xi=g,this.Oi=v,this.Ni=_,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!r_.v())throw new fe(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uV(this,a),this.$i=n+EV,this.serializer=new dI(d),this.Ui=new Wi(this.$i,this.Ni,new wV(this.serializer)),this.hi=new JM,this.Pi=new aV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=TI(this.serializer),this.Ii=new XM,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,v===!1&&In(zi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(te.FAILED_PRECONDITION,by);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new gr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>hf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(aa(e))return he(zi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he(zi,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Tu(e).get(vl).next((n=>B.resolve(this.es(n))))}ts(e){return hf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,vy)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=tn(n,Fl);return r.J().next((a=>{const o=this.ss(a,vy),c=a.filter((h=>o.indexOf(h)===-1));return B.forEach(c,(h=>r.delete(h.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?B.resolve(!0):Tu(e).get(vl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,_y)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new fe(te.FAILED_PRECONDITION,by);return!1}}return!(!this.networkEnabled||!this.inForeground)||hf(e).J().next((r=>this.ss(r,_y).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(o||c&&h)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&he(zi,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[fh,Fl],(e=>{const n=new Ky(e,gr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>hf(e).J().next((n=>this.ss(n,vy).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return qm.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new iV(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Bm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){he(zi,"Starting transaction:",e);const a=n==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?rM:d===17?bA:d===16?nM:d===15?Bv:d===14?_A:d===13?vA:d===12?tM:d===11?yA:void _e(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,o,(h=>(c=new Ky(h,this.ci?this.ci.next():gr.ce),n==="readwrite-primary"?this.Hi(c).next((d=>!!d||this.Yi(c))).next((d=>{if(!d)throw In(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new fe(te.FAILED_PRECONDITION,lA);return r(c)})).next((d=>this.Xi(c).next((()=>d)))):this.Is(c).next((()=>r(c)))))).then((h=>(c.raiseOnCommittedEvent(),h)))}Is(e){return Tu(e).get(vl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,_y)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new fe(te.FAILED_PRECONDITION,by)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tu(e).put(vl,n)}static v(){return Wi.v()}Zi(e){const n=Tu(e);return n.get(vl).next((r=>this.es(r)?(he(zi,"Releasing primary lease."),n.delete(vl)):B.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(In(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;FS()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return he(zi,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return In(zi,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){In("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tu(t){return tn(t,fh)}function hf(t){return tn(t,Fl)}function TV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class s_{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=ze(),a=ze();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new s_(e,n.fromCache,r,a)}}class SV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FS()?8:uA(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new SV;return this.Ss(e,n,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(Tl()<=$e.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Tl()<=$e.DEBUG&&he("QueryEngine","Query:",Sl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Tl()<=$e.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):B.resolve())}ys(e,n){if(UE(n))return B.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Wf(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=ze(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const g=this.Ds(n,h);return this.Cs(n,g,c,d.readTime)?this.ys(e,Wf(n,null,"F")):this.vs(e,g,n,d)}))))})))))}ws(e,n,r,a){return UE(n)||a.isEqual(Ae.min())?B.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,r,a)?B.resolve(null):(Tl()<=$e.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Sl(n)),this.vs(e,c,n,AP(a,Hu)).next((h=>h)))}))}Ds(e,n){let r=new ct(LA(e));return n.forEach(((a,o)=>{gh(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return Tl()<=$e.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Sl(n)),this.ps.getDocumentsMatchingQuery(e,n,Wn.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const i_="LocalStore",AV=3e8;class IV{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new bt(Ce),this.xs=new Ws((o=>po(o)),mh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function II(t,e,n,r){return new IV(t,e,n,r)}async function NI(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let d=ze();for(const g of a){c.push(g.batchId);for(const v of g.mutations)d=d.add(v.key)}for(const g of o){h.push(g.batchId);for(const v of g.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(r,d).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function NV(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,g,v){const _=g.batch,E=_.keys();let T=B.resolve();return E.forEach((D=>{T=T.next((()=>v.getEntry(d,D))).next((j=>{const P=g.docVersions.get(D);we(P!==null,48541),j.version.compareTo(P)<0&&(_.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=ze();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(d=d.add(h.batch.mutations[g].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function RI(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function RV(t,e){const n=De(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((v,_)=>{const E=a.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(o,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(o,v.addedDocuments,_))));let T=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(v.resumeToken,r)),a=a.insert(_,T),(function(j,P,Z){return j.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=AV?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(E,T,v)&&h.push(n.Pi.updateTargetData(o,T))}));let d=Xn(),g=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(CV(o,c,e.documentUpdates).next((v=>{d=v.ks,g=v.qs}))),!r.isEqual(Ae.min())){const v=n.Pi.getLastRemoteSnapshotVersion(o).next((_=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return B.waitFor(h).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,g))).next((()=>d))})).then((o=>(n.Ms=a,o)))}function CV(t,e,n){let r=ze(),a=ze();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=Xn();return n.forEach(((h,d)=>{const g=o.get(h);d.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ae.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):he(i_,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",d.version)})),{ks:c,qs:a}}))}function DV(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ja),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function jV(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,B.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new Us(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ov(t,e,n){const r=De(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!aa(c))throw c;he(i_,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function y1(t,e,n){const r=De(t);let a=Ae.min(),o=ze();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,g,v){const _=De(d),E=_.xs.get(v);return E!==void 0?B.resolve(_.Ms.get(E)):_.Pi.getTargetData(g,v)})(r,c,vr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:Ae.min(),n?o:ze()))).next((h=>(kV(r,vM(e),h),{documents:h,Qs:o})))))}function kV(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class v1{constructor(){this.activeTargetIds=TM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CI{constructor(){this.Mo=new v1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OV{Oo(e){}shutdown(){}}const _1="ConnectivityMonitor";class b1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(_1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(_1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let df=null;function lv(){return df===null?df=(function(){return 268435456+Math.round(2147483648*Math.random())})():df++,"0x"+df.toString(16)}const xy="RestConnection",PV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Zf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const c=lv(),h=this.zo(e,n.toUriEncodedString());he(xy,`Sending RPC '${e}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:g}=new URL(h),v=rc(g);return this.Jo(e,h,d,r,v).then((_=>(he(xy,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw ho(xy,`RPC '${e}' ${c} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,n,r,a,o,c){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ic})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=PV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class VV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class zV extends MV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const c=lv();return new Promise(((h,d)=>{const g=new XS;g.setWithCredentials(!0),g.listenOnce(JS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case bf.NO_ERROR:const _=g.getResponseJson();he(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),h(_);break;case bf.TIMEOUT:he(vn,`RPC '${e}' ${c} timed out`),d(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case bf.HTTP_ERROR:const E=g.getStatus();if(he(vn,`RPC '${e}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let T=g.getResponseJson();Array.isArray(T)&&(T=T[0]);const D=T?.error;if(D&&D.status&&D.message){const j=(function(Z){const X=Z.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(X)>=0?X:te.UNKNOWN})(D.status);d(new fe(j,D.message))}else d(new fe(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new fe(te.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(vn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);he(vn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",v,r,15)}))}T_(e,n,r){const a=lv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=tA(),h=eA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const v=o.join("");he(vn,`Creating RPC '${e}' stream ${a}: ${v}`,d);const _=c.createWebChannel(v,d);this.I_(_);let E=!1,T=!1;const D=new VV({Yo:P=>{T?he(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(E||(he(vn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),he(vn,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Zo:()=>_.close()}),j=(P,Z,X)=>{P.listen(Z,(K=>{try{X(K)}catch(le){setTimeout((()=>{throw le}),0)}}))};return j(_,Su.EventType.OPEN,(()=>{T||(he(vn,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),j(_,Su.EventType.CLOSE,(()=>{T||(T=!0,he(vn,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(_))})),j(_,Su.EventType.ERROR,(P=>{T||(T=!0,ho(vn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),D.a_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),j(_,Su.EventType.MESSAGE,(P=>{if(!T){const Z=P.data[0];we(!!Z,16349);const X=Z,K=X?.error||X[0]?.error;if(K){he(vn,`RPC '${e}' stream ${a} received error:`,K);const le=K.status;let Q=(function(A){const C=Gt[A];if(C!==void 0)return JA(C)})(le),ae=K.message;Q===void 0&&(Q=te.INTERNAL,ae="Unknown error status: "+le+" with message "+K.message),T=!0,D.a_(new fe(Q,ae)),_.close()}else he(vn,`RPC '${e}' stream ${a} received:`,Z),D.u_(Z)}})),j(h,WS.STAT_EVENT,(P=>{P.stat===Fy.PROXY?he(vn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Fy.NOPROXY&&he(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function LV(){return typeof window<"u"?window:null}function Cf(){return typeof document<"u"?document:null}function Hm(t){return new UM(t,!0)}class DI{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const x1="PersistentStream";class jI{constructor(e,n,r,a,o,c,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(In(n.toString()),In("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new fe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(x1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(x1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UV extends jI{constructor(e,n,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qM(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ae.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Cn(c.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=nv(this.serializer),n.addTarget=(function(o,c){let h;const d=c.target;if(h=Xf(d)?{documents:aI(o,d)}:{query:oI(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=tI(o,c.resumeToken);const g=ev(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ae.min())>0){h.readTime=Ql(o,c.snapshotVersion.toTimestamp());const g=ev(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const r=HM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=nv(this.serializer),n.removeTarget=e,this.q_(n)}}class FV extends jI{constructor(e,n,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$M(e.writeResults,e.commitTime),r=Cn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=nv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>tm(this.serializer,r)))};this.q_(n)}}class BV{}class qV extends BV{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,tv(n,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(te.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,tv(n,r),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $V{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(In(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _o="RemoteStore";class HV{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ao(this)&&(he(_o,"Restarting streams for network reachability change."),await(async function(d){const g=De(d);g.Ea.add(4),await vh(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Gm(g)})(this))}))})),this.Ra=new $V(r,a)}}async function Gm(t){if(Ao(t))for(const e of t.da)await e(!0)}async function vh(t){for(const e of t.da)await e(!1)}function kI(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),c_(n)?l_(n):lc(n).O_()&&o_(n,e))}function a_(t,e){const n=De(t),r=lc(n);n.Ia.delete(e),r.O_()&&OI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ao(n)&&n.Ra.set("Unknown"))}function o_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lc(t).Y_(e)}function OI(t,e){t.Va.Ue(e),lc(t).Z_(e)}function l_(t){t.Va=new MM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),lc(t).start(),t.Ra.ua()}function c_(t){return Ao(t)&&!lc(t).x_()&&t.Ia.size>0}function Ao(t){return De(t).Ea.size===0}function PI(t){t.Va=void 0}async function GV(t){t.Ra.set("Online")}async function KV(t){t.Ia.forEach(((e,n)=>{o_(t,e)}))}async function QV(t,e){PI(t),c_(t)?(t.Ra.ha(e),l_(t)):t.Ra.set("Unknown")}async function ZV(t,e,n){if(t.Ra.set("Online"),e instanceof eI&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){he(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await am(t,r)}else if(e instanceof Nf?t.Va.Ze(e):e instanceof WA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await RI(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const v=o.Ia.get(g);v&&o.Ia.set(g,v.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,g)=>{const v=o.Ia.get(d);if(!v)return;o.Ia.set(d,v.withResumeToken(Qt.EMPTY_BYTE_STRING,v.snapshotVersion)),OI(o,d);const _=new Us(v.target,d,g,v.sequenceNumber);o_(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){he(_o,"Failed to raise snapshot:",r),await am(t,r)}}async function am(t,e,n){if(!aa(e))throw e;t.Ea.add(1),await vh(t),t.Ra.set("Offline"),n||(n=()=>RI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(_o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gm(t)}))}function MI(t,e){return e().catch((n=>am(t,n,e)))}async function _h(t){const e=De(t),n=sa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ja;for(;YV(e);)try{const a=await DV(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,XV(e,a)}catch(a){await am(e,a)}VI(e)&&zI(e)}function YV(t){return Ao(t)&&t.Ta.length<10}function XV(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function VI(t){return Ao(t)&&!sa(t).x_()&&t.Ta.length>0}function zI(t){sa(t).start()}async function JV(t){sa(t).ra()}async function WV(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function e3(t,e,n){const r=t.Ta.shift(),a=Zv.from(r,e,n);await MI(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await _h(t)}async function t3(t,e){e&&sa(t).X_&&await(async function(r,a){if((function(c){return kM(c)&&c!==te.ABORTED})(a.code)){const o=r.Ta.shift();sa(r).B_(),await MI(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await _h(r)}})(t,e),VI(t)&&zI(t)}async function w1(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),he(_o,"RemoteStore received new credentials");const r=Ao(n);n.Ea.add(3),await vh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gm(n)}async function n3(t,e){const n=De(t);e?(n.Ea.delete(2),await Gm(n)):e||(n.Ea.add(2),await vh(n),n.Ra.set("Unknown"))}function lc(t){return t.ma||(t.ma=(function(n,r,a){const o=De(n);return o.sa(),new UV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:GV.bind(null,t),t_:KV.bind(null,t),r_:QV.bind(null,t),H_:ZV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),c_(t)?l_(t):t.Ra.set("Unknown")):(await t.ma.stop(),PI(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,r,a){const o=De(n);return o.sa(),new FV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:JV.bind(null,t),r_:t3.bind(null,t),ta:WV.bind(null,t),na:e3.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await _h(t)):(await t.fa.stop(),t.Ta.length>0&&(he(_o,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class u_{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const c=Date.now()+r,h=new u_(e,n,c,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h_(t,e){if(In("AsyncQueue",`${e}: ${t}`),aa(t))return new fe(te.UNAVAILABLE,`${e}: ${t}`);throw t}class Dl{static emptySet(e){return new Dl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Au(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class E1{constructor(){this.ga=new bt(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Zl{constructor(e,n,r,a,o,c,h,d,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,a,o){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Zl(e,n,Dl.emptySet(n),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class r3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class s3{constructor(){this.queries=T1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=De(n),o=a.queries;a.queries=T1(),o.forEach(((c,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function T1(){return new Ws((t=>zA(t)),Vm)}async function d_(t,e){const n=De(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new r3,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=h_(c,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&m_(n)}async function f_(t,e){const n=De(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function i3(t,e){const n=De(t);let r=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(r=!0);c.wa=a}}r&&m_(n)}function a3(t,e,n){const r=De(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function m_(t){t.Ca.forEach((e=>{e.next()}))}var cv,S1;(S1=cv||(cv={})).Ma="default",S1.Cache="cache";class p_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cv.Cache}}class LI{constructor(e){this.key=e}}class UI{constructor(e){this.key=e}}class o3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=LA(e),this.tu=new Dl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new E1,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const E=a.get(v),T=gh(this.query,_)?_:null,D=!!E&&this.mutatedKeys.has(E.key),j=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;E&&T?E.data.isEqual(T.data)?D!==j&&(r.track({type:3,doc:T}),P=!0):this.su(E,T)||(r.track({type:2,doc:T}),P=!0,(d&&this.eu(T,d)>0||g&&this.eu(T,g)<0)&&(h=!0)):!E&&T?(r.track({type:0,doc:T}),P=!0):E&&!T&&(r.track({type:1,doc:E}),P=!0,(d||g)&&(h=!0)),P&&(T?(c=c.add(T),o=j?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(T,D){const j=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:P})}};return j(T)-j(D)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,g=d!==this.Za;return this.Za=d,c.length!==0||g?{snapshot:new Zl(this.query,e.tu,o,c,e.mutatedKeys,d===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new UI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new LI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const g_="SyncEngine";class l3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class c3{constructor(e){this.key=e,this.hu=!1}}class u3{constructor(e,n,r,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ws((h=>zA(h)),Vm),this.Iu=new Map,this.Eu=new Set,this.du=new bt(pe.comparator),this.Au=new Map,this.Ru=new t_,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h3(t,e,n=!0){const r=GI(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await FI(r,e,n,!0),a}async function d3(t,e){const n=GI(t);await FI(n,e,!0,!1)}async function FI(t,e,n,r){const a=await jV(t.localStore,vr(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await f3(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&kI(t.remoteStore,a),h}async function f3(t,e,n,r,a){t.pu=(_,E,T)=>(async function(j,P,Z,X){let K=P.view.ru(Z);K.Cs&&(K=await y1(j.localStore,P.query,!1).then((({documents:N})=>P.view.ru(N,K))));const le=X&&X.targetChanges.get(P.targetId),Q=X&&X.targetMismatches.get(P.targetId)!=null,ae=P.view.applyChanges(K,j.isPrimaryClient,le,Q);return I1(j,P.targetId,ae.au),ae.snapshot})(t,_,E,T);const o=await y1(t.localStore,e,!0),c=new o3(e,o.Qs),h=c.ru(o.documents),d=yh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),g=c.applyChanges(h,t.isPrimaryClient,d);I1(t,n,g.au);const v=new l3(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function m3(t,e,n){const r=De(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!Vm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await ov(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&a_(r.remoteStore,a.targetId),uv(r,a.targetId)})).catch(To)):(uv(r,a.targetId),await ov(r.localStore,a.targetId,!0))}async function p3(t,e){const n=De(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),a_(n.remoteStore,r.targetId))}async function g3(t,e,n){const r=KI(t);try{const a=await(function(c,h){const d=De(c),g=at.now(),v=h.reduce(((T,D)=>T.add(D.key)),ze());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let D=Xn(),j=ze();return d.Ns.getEntries(T,v).next((P=>{D=P,D.forEach(((Z,X)=>{X.isValidDocument()||(j=j.add(Z))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,D))).next((P=>{_=P;const Z=[];for(const X of h){const K=DM(X,_.get(X.key).overlayedDocument);K!=null&&Z.push(new oa(X.key,K,CA(K.value.mapValue),Rn.exists(!0)))}return d.mutationQueue.addMutationBatch(T,g,Z,h)})).next((P=>{E=P;const Z=P.applyToLocalDocumentSet(_,j);return d.documentOverlayCache.saveOverlays(T,P.batchId,Z)}))})).then((()=>({batchId:E.batchId,changes:FA(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let g=c.Vu[c.currentUser.toKey()];g||(g=new bt(Ce)),g=g.insert(h,d),c.Vu[c.currentUser.toKey()]=g})(r,a.batchId,n),await bh(r,a.changes),await _h(r.remoteStore)}catch(a){const o=h_(a,"Failed to persist write");n.reject(o)}}async function BI(t,e){const n=De(t);try{const r=await RV(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(we(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?we(c.hu,14607):a.removedDocuments.size>0&&(we(c.hu,42227),c.hu=!1))})),await bh(n,r,e)}catch(r){await To(r)}}function A1(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=De(c);d.onlineState=h;let g=!1;d.queries.forEach(((v,_)=>{for(const E of _.Sa)E.va(h)&&(g=!0)})),g&&m_(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y3(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new bt(pe.comparator);c=c.insert(o,Rt.newNoDocument(o,Ae.min()));const h=ze().add(o),d=new Fm(Ae.min(),new Map,new bt(Ce),c,h);await BI(r,d),r.du=r.du.remove(o),r.Au.delete(e),y_(r)}else await ov(r.localStore,e,!1).then((()=>uv(r,e,n))).catch(To)}async function v3(t,e){const n=De(t),r=e.batch.batchId;try{const a=await NV(n.localStore,e);$I(n,r,null),qI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bh(n,a)}catch(a){await To(a)}}async function _3(t,e,n){const r=De(t);try{const a=await(function(c,h){const d=De(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return d.mutationQueue.lookupMutationBatch(g,h).next((_=>(we(_!==null,37113),v=_.keys(),d.mutationQueue.removeMutationBatch(g,_)))).next((()=>d.mutationQueue.performConsistencyCheck(g))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(g,v,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>d.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);$I(r,e,n),qI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bh(r,a)}catch(a){await To(a)}}function qI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function $I(t,e,n){const r=De(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function uv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||HI(t,r)}))}function HI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(a_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),y_(t))}function I1(t,e,n){for(const r of n)r instanceof LI?(t.Ru.addReference(r.key,e),b3(t,r)):r instanceof UI?(he(g_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||HI(t,r.key)):_e(19791,{wu:r})}function b3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he(g_,"New document in limbo: "+n),t.Eu.add(r),y_(t))}function y_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(Je.fromString(e)),r=t.fu.next();t.Au.set(r,new c3(n)),t.du=t.du.insert(n,r),kI(t.remoteStore,new Us(vr(ph(n.path)),r,"TargetPurposeLimboResolution",gr.ce))}}async function bh(t,e,n){const r=De(t),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{c.push(r.pu(d,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(g){a.push(g);const v=s_.As(d.targetId,g);o.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(d,g){const v=De(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>B.forEach(g,(E=>B.forEach(E.Es,(T=>v.persistence.referenceDelegate.addReference(_,E.targetId,T))).next((()=>B.forEach(E.ds,(T=>v.persistence.referenceDelegate.removeReference(_,E.targetId,T)))))))))}catch(_){if(!aa(_))throw _;he(i_,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const T=v.Ms.get(E),D=T.snapshotVersion,j=T.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(E,j)}}})(r.localStore,o))}async function x3(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){he(g_,"User change. New user:",e.toKey());const r=await NI(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new fe(te.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bh(n,r.Ls)}}function w3(t,e){const n=De(t),r=n.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let a=ze();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function GI(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y3.bind(null,e),e.Pu.H_=i3.bind(null,e.eventManager),e.Pu.yu=a3.bind(null,e.eventManager),e}function KI(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_3.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return II(this.persistence,new AI,e.initialUser,this.serializer)}Cu(e){return new n_($m.mi,this.serializer)}Du(e){return new CI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class E3 extends th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){we(this.persistence.referenceDelegate instanceof im,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new n_((r=>im.mi(r,n)),this.serializer)}}class T3 extends th{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await KI(this.xu.syncEngine),await _h(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return II(this.persistence,new AI,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new xI(r,e.asyncQueue,n)}Mu(e,n){const r=new CP(n,this.persistence);return new RP(e.asyncQueue,r)}Cu(e){const n=TV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new r_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,LV(),Cf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new CI}}class om{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x3.bind(null,this.syncEngine),await n3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new s3})()}createDatastore(e){const n=Hm(e.databaseInfo.databaseId),r=(function(o){return new zV(o)})(e.databaseInfo);return(function(o,c,h,d){return new qV(o,c,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,c,h){return new HV(r,a,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>A1(this.syncEngine,n,0)),(function(){return b1.v()?new b1:new OV})())}createSyncEngine(e,n){return(function(a,o,c,h,d,g,v){const _=new u3(a,o,c,h,d,g);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=De(n);he(_o,"RemoteStore shutting down."),r.Ea.add(5),await vh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}om.provider={build:()=>new om};class v_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):In("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ia="FirestoreClient";class S3{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=Mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{he(ia,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(he(ia,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=h_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wy(t,e){t.asyncQueue.verifyOperationInProgress(),he(ia,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await NI(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function N1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await A3(t);he(ia,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>w1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>w1(e.remoteStore,a))),t._onlineComponents=e}async function A3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(ia,"Using user provided OfflineComponentProvider");try{await wy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await wy(t,new th)}}else he(ia,"Using default OfflineComponentProvider"),await wy(t,new E3(void 0));return t._offlineComponents}async function QI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(ia,"Using user provided OnlineComponentProvider"),await N1(t,t._uninitializedComponentsProvider._online)):(he(ia,"Using default OnlineComponentProvider"),await N1(t,new om))),t._onlineComponents}function I3(t){return QI(t).then((e=>e.syncEngine))}async function lm(t){const e=await QI(t),n=e.eventManager;return n.onListen=h3.bind(null,e.syncEngine),n.onUnlisten=m3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p3.bind(null,e.syncEngine),n}function N3(t,e,n={}){const r=new ds;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,g){const v=new v_({next:E=>{v.Nu(),c.enqueueAndForget((()=>f_(o,_)));const T=E.docs.has(h);!T&&E.fromCache?g.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&d&&d.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new p_(ph(h.path),v,{includeMetadataChanges:!0,qa:!0});return d_(o,_)})(await lm(t),t.asyncQueue,e,n,r))),r.promise}function R3(t,e,n={}){const r=new ds;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,g){const v=new v_({next:E=>{v.Nu(),c.enqueueAndForget((()=>f_(o,_))),E.fromCache&&d.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new p_(h,v,{includeMetadataChanges:!0,qa:!0});return d_(o,_)})(await lm(t),t.asyncQueue,e,n,r))),r.promise}function ZI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const R1=new Map;const YI="firestore.googleapis.com",C1=!0;class D1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YI,this.ssl=C1}else this.host=e.host,this.ssl=e.ssl??C1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oV)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Km{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mP;switch(r.type){case"firstParty":return new vP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=R1.get(n);r&&(he("ComponentProvider","Removing Datastore"),R1.delete(n),r.terminate())})(this),Promise.resolve()}}function C3(t,e,n,r={}){t=Jn(t,Km);const a=rc(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(zS(`https://${h}`),LS("Firestore",!0)),o.host!==YI&&o.host!==h&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:r};if(!lo(d,c)&&(t._setSettings(d),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=mn.MOCK_USER;else{g=$O(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(_)}t._authCredentials=new pP(new rA(g,v))}}class ei{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ei(this.firestore,e,this._query)}}class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dh(n,Mt._jsonSchema))return new Mt(e,r||null,new pe(Je.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Kt("string",Mt._jsonSchemaVersion),referencePath:Kt("string")};class ea extends ei{constructor(e,n,r){super(e,n,ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new pe(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function __(t,e,...n){if(t=xn(t),iA("collection","path",e),t instanceof Km){const r=Je.fromString(e,...n);return xE(r),new ea(t,null,r)}{if(!(t instanceof Mt||t instanceof ea))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return xE(r),new ea(t.firestore,null,r)}}function cc(t,e,...n){if(t=xn(t),arguments.length===1&&(e=Mv.newId()),iA("doc","path",e),t instanceof Km){const r=Je.fromString(e,...n);return bE(r),new Mt(t,null,new pe(r))}{if(!(t instanceof Mt||t instanceof ea))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return bE(r),new Mt(t.firestore,t instanceof ea?t.converter:null,new pe(r))}}const j1="AsyncQueue";class k1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DI(this,"async_queue_retry"),this._c=()=>{const r=Cf();r&&he(j1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Cf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!aa(e))throw e;he(j1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,In("INTERNAL UNHANDLED ERROR: ",O1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=u_.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&_e(47125,{Pc:O1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function O1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function P1(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Zs extends Km{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new k1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k1(e),this._firestoreClient=void 0,await e}}}function D3(t,e){const n=typeof t=="object"?t:KS(),r=typeof t=="string"?t:Zf,a=Ov(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=BO("firestore");o&&C3(a,...o)}return a}function Qm(t){if(t._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XI(t),t._firestoreClient}function XI(t){const e=t._freezeSettings(),n=(function(a,o,c,h){return new iM(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ZI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new S3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}function j3(t,e){ho("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return k3(t,om.provider,{build:r=>new T3(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function k3(t,e,n){if((t=Jn(t,Zs))._firestoreClient||t._terminated)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new fe(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},XI(t)}class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(Qt.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dh(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Kt("string",pr._jsonSchemaVersion),bytes:Kt("string")};class b_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class x_{constructor(e){this._methodName=e}}class fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fs._jsonSchemaVersion}}static fromJSON(e){if(dh(e,fs._jsonSchema))return new fs(e.latitude,e.longitude)}}fs._jsonSchemaVersion="firestore/geoPoint/1.0",fs._jsonSchema={type:Kt("string",fs._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};class ms{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dh(e,ms._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ms(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ms._jsonSchemaVersion="firestore/vectorValue/1.0",ms._jsonSchema={type:Kt("string",ms._jsonSchemaVersion),vectorValues:Kt("object")};const O3=/^__.*__$/;class P3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new oc(e,this.data,n,this.fieldTransforms)}}function JI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class w_{constructor(e,n,r,a,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new w_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JI(this.Ac)&&O3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class M3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hm(e)}Cc(e,n,r,a=!1){return new w_({Ac:e,methodName:n,Dc:r,path:wt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zm(t){const e=t._freezeSettings(),n=Hm(t._databaseId);return new M3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WI(t,e,n,r,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);r2("Data must be an object, but it was:",c,r);const h=t2(r,c);let d,g;if(o.merge)d=new yr(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const _ of o.mergeFields){const E=V3(e,_,n);if(!c.contains(E))throw new fe(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);L3(v,E)||v.push(E)}d=new yr(v),g=c.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,g=c.fieldTransforms;return new P3(new zn(h),d,g)}class E_ extends x_{_toFieldTransform(e){return new QA(e.path,new Hl)}isEqual(e){return e instanceof E_}}function e2(t,e,n,r=!1){return T_(n,t.Cc(r?4:3,e))}function T_(t,e){if(n2(t=xn(t)))return r2("Unsupported field value:",e,t),t2(t,e);if(t instanceof x_)return(function(r,a){if(!JI(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const h of r){let d=T_(h,a.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=at.fromDate(r);return{timestampValue:Ql(a.serializer,o)}}if(r instanceof at){const o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ql(a.serializer,o)}}if(r instanceof fs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pr)return{bytesValue:tI(a.serializer,r._byteString)};if(r instanceof Mt){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Jv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ms)return(function(c,h){return{mapValue:{fields:{[qv]:{stringValue:$v},[Bl]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return Kv(h.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Nm(r)}`)})(t,e)}function t2(t,e){const n={};return xA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,((r,a)=>{const o=T_(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function n2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof fs||t instanceof pr||t instanceof Mt||t instanceof x_||t instanceof ms)}function r2(t,e,n){if(!n2(n)||!aA(n)){const r=Nm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function V3(t,e,n){if((e=xn(e))instanceof b_)return e._internalPath;if(typeof e=="string")return s2(t,e);throw cm("Field path arguments must be of type string or ",t,!1,void 0,n)}const z3=new RegExp("[~\\*/\\[\\]]");function s2(t,e,n){if(e.search(z3)>=0)throw cm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new b_(...e.split("."))._internalPath}catch{throw cm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cm(t,e,n,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${r}`),c&&(d+=` in document ${a}`),d+=")"),new fe(te.INVALID_ARGUMENT,h+t+d)}function L3(t,e){return t.some((n=>n.isEqual(e)))}class S_{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(i2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U3 extends S_{data(){return super.data()}}function i2(t,e){return typeof e=="string"?s2(t,e):e instanceof b_?e._internalPath:e._delegate._internalPath}function a2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A_{}class I_ extends A_{}function F3(t,e,...n){let r=[];e instanceof A_&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((d=>d instanceof R_)).length,h=o.filter((d=>d instanceof N_)).length;if(c>1||c>0&&h>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class N_ extends I_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new N_(e,n,r)}_apply(e){const n=this._parse(e);return o2(e._query,n),new ei(e.firestore,e.converter,Wy(e._query,n))}_parse(e){const n=Zm(e.firestore);return(function(o,c,h,d,g,v,_){let E;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){V1(_,v);const D=[];for(const j of _)D.push(M1(d,o,j));E={arrayValue:{values:D}}}else E=M1(d,o,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||V1(_,v),E=e2(h,c,_,v==="in"||v==="not-in");return He.create(g,v,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class R_ extends A_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new R_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ot.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const d of h)o2(c,d),c=Wy(c,d)})(e._query,n),new ei(e.firestore,e.converter,Wy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class C_ extends I_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new C_(e,n,r)}_apply(e){return new ei(e.firestore,e.converter,Wf(e._query,this._limit,this._limitType))}}function B3(t){return SP("limit",t),C_._create("limit",t,"F")}class D_ extends I_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new D_(e,n,r)}_apply(e){const n=$3(e,this.type,this._docOrFields,this._inclusive);return new ei(e.firestore,e.converter,(function(a,o){return new ac(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)})(e._query,n))}}function q3(...t){return D_._create("startAfter",t,!1)}function $3(t,e,n,r){if(n[0]=xn(n[0]),n[0]instanceof S_)return(function(o,c,h,d,g){if(!d)throw new fe(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const _ of Cl(o))if(_.field.isKeyField())v.push(mo(c,d.key));else{const E=d.data.field(_.field);if(Om(E))throw new fe(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const T=_.field.canonicalString();throw new fe(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}v.push(E)}return new ra(v,g)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=Zm(t.firestore);return(function(c,h,d,g,v,_){const E=c.explicitOrderBy;if(v.length>E.length)throw new fe(te.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let D=0;D<v.length;D++){const j=v[D];if(E[D].field.isKeyField()){if(typeof j!="string")throw new fe(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof j}`);if(!Gv(c)&&j.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${j}' contains a slash.`);const P=c.path.child(Je.fromString(j));if(!pe.isDocumentKey(P))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const Z=new pe(P);T.push(mo(h,Z))}else{const P=e2(d,g,j);T.push(P)}}return new ra(T,_)})(t._query,t.firestore._databaseId,a,e,n,r)}}function M1(t,e,n){if(typeof(n=xn(n))=="string"){if(n==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gv(e)&&n.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!pe.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mo(t,new pe(r))}if(n instanceof Mt)return mo(t,n._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nm(n)}.`)}function V1(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o2(t,e){const n=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class H3{convertValue(e,n="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return So(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Bl].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new ms(n)}convertGeoPoint(e){return new fs(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);we(hI(r),9688,{name:e});const a=new fo(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return a.isEqual(n)||In(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function l2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ru{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class to extends S_{constructor(e,n,r,a,o,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(i2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=to._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}to._jsonSchemaVersion="firestore/documentSnapshot/1.0",to._jsonSchema={type:Kt("string",to._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Df extends to{data(e={}){return super.data(e)}}class no{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ru(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Df(this._firestore,this._userDataWriter,r.key,r,new Ru(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new Df(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ru(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Df(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ru(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:G3(h.type),doc:d,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=no._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function G3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}function K3(t){t=Jn(t,Mt);const e=Jn(t.firestore,Zs);return N3(Qm(e),t._key).then((n=>h2(e,t,n)))}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Kt("string",no._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class j_ extends H3{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function Q3(t){t=Jn(t,ei);const e=Jn(t.firestore,Zs),n=Qm(e),r=new j_(e);return a2(t._query),R3(n,t._query).then((a=>new no(e,r,t,a)))}function c2(t,e,n){t=Jn(t,Mt);const r=Jn(t.firestore,Zs),a=l2(t.converter,e,n);return k_(r,[WI(Zm(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Rn.none())])}function Z3(t){return k_(Jn(t.firestore,Zs),[new Um(t._key,Rn.none())])}function Y3(t,e){const n=Jn(t.firestore,Zs),r=cc(t),a=l2(t.converter,e);return k_(n,[WI(Zm(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then((()=>r))}function u2(t,...e){t=xn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||P1(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(P1(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,c,h;if(t instanceof Mt)c=Jn(t.firestore,Zs),h=ph(t._key.path),o={next:d=>{e[r]&&e[r](h2(c,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Jn(t,ei);c=Jn(d.firestore,Zs),h=d._query;const g=new j_(c);o={next:v=>{e[r]&&e[r](new no(c,g,d,v))},error:e[r+1],complete:e[r+2]},a2(t._query)}return(function(g,v,_,E){const T=new v_(E),D=new p_(v,T,_);return g.asyncQueue.enqueueAndForget((async()=>d_(await lm(g),D))),()=>{T.Nu(),g.asyncQueue.enqueueAndForget((async()=>f_(await lm(g),D)))}})(Qm(c),h,a,o)}function k_(t,e){return(function(r,a){const o=new ds;return r.asyncQueue.enqueueAndForget((async()=>g3(await I3(r),a,o))),o.promise})(Qm(t),e)}function h2(t,e,n){const r=n.docs.get(e._key),a=new j_(t);return new to(t,a,e._key,r,new Ru(n.hasPendingWrites,n.fromCache),e.converter)}function X3(){return new E_("serverTimestamp")}(function(e,n=!0){(function(a){ic=a})(sc),Ml(new co("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new Zs(new gP(r.getProvider("auth-internal")),new _P(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(g.options.projectId,v)})(c,a),c);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Xi(gE,yE,e),Xi(gE,yE,"esm2020")})();var J3="firebase",W3="12.7.0";Xi(J3,W3,"app");function d2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const e6=d2,f2=new uh("auth","Firebase",d2());const um=new jv("@firebase/auth");function t6(t,...e){um.logLevel<=$e.WARN&&um.warn(`Auth (${sc}): ${t}`,...e)}function jf(t,...e){um.logLevel<=$e.ERROR&&um.error(`Auth (${sc}): ${t}`,...e)}function ys(t,...e){throw P_(t,...e)}function zr(t,...e){return P_(t,...e)}function O_(t,e,n){const r={...e6(),[e]:n};return new uh("auth","Firebase",r).create(e,{appName:t.name})}function ro(t){return O_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ys(t,"argument-error"),O_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function P_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f2.create(t,...e)}function Re(t,e,...n){if(!t)throw P_(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jf(e),new Error(e)}function Ys(t,e){t||Fs(e)}function hv(){return typeof self<"u"&&self.location?.href||""}function r6(){return z1()==="http:"||z1()==="https:"}function z1(){return typeof self<"u"&&self.location?.protocol||null}function s6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r6()||ZO()||"connection"in navigator)?navigator.onLine:!0}function i6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class xh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ys(n>e,"Short delay should be less than long delay!"),this.isMobile=KO()||YO()}get(){return s6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function M_(t,e){Ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class m2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const a6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const o6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l6=new xh(3e4,6e4);function V_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function uc(t,e,n,r,a={}){return p2(t,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const h=hh({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:d,...o};return QO()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&rc(t.emulatorConfig.host)&&(g.credentials="include"),m2.fetch()(await g2(t,t.config.apiHost,n,h),g)})}async function p2(t,e,n){t._canInitEmulator=!1;const r={...a6,...e};try{const a=new u6(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw ff(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,g]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ff(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw ff(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw ff(t,"user-disabled",c);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw O_(t,v,g);ys(t,v)}}catch(a){if(a instanceof Js)throw a;ys(t,"network-request-failed",{message:String(a)})}}async function c6(t,e,n,r,a={}){const o=await uc(t,e,n,r,a);return"mfaPendingCredential"in o&&ys(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function g2(t,e,n,r){const a=`${e}${n}?${r}`,o=t,c=o.config.emulator?M_(t.config,a):`${t.config.apiScheme}://${a}`;return o6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class u6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),l6.get())})}}function ff(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=zr(t,e,r);return a.customData._tokenResponse=n,a}async function h6(t,e){return uc(t,"POST","/v1/accounts:delete",e)}async function hm(t,e){return uc(t,"POST","/v1/accounts:lookup",e)}function Lu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function d6(t,e=!1){const n=xn(t),r=await n.getIdToken(e),a=z_(r);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:Lu(Ey(a.auth_time)),issuedAtTime:Lu(Ey(a.iat)),expirationTime:Lu(Ey(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ey(t){return Number(t)*1e3}function z_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const a=kS(n);return a?JSON.parse(a):(jf("Failed to decode base64 JWT payload"),null)}catch(a){return jf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function L1(t){const e=z_(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Js&&f6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class m6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dm(t){const e=t.auth,n=await t.getIdToken(),r=await nh(t,hm(e,{idToken:n}));Re(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?y2(a.providerUserInfo):[],c=g6(t.providerData,o),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,g=h?d:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new dv(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function p6(t){const e=xn(t);await dm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g6(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function y2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function y6(t,e){const n=await p2(t,{},async()=>{const r=hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=await g2(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&rc(t.emulatorConfig.host)&&(d.credentials="include"),m2.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function v6(t,e){return uc(t,"POST","/v2/accounts:revokeToken",V_(t,e))}class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=L1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await y6(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,c=new jl;return r&&(Re(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Re(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return Fs("not implemented")}}function Li(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vr{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new m6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new dv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await nh(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return d6(this,e)}reload(){return p6(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(ro(this.auth));const e=await this.getIdToken();return await nh(this,h6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:T,providerData:D,stsTokenManager:j}=n;Re(_&&j,e,"internal-error");const P=jl.fromJSON(this.name,j);Re(typeof _=="string",e,"internal-error"),Li(r,e.name),Li(a,e.name),Re(typeof E=="boolean",e,"internal-error"),Re(typeof T=="boolean",e,"internal-error"),Li(o,e.name),Li(c,e.name),Li(h,e.name),Li(d,e.name),Li(g,e.name),Li(v,e.name);const Z=new Vr({uid:_,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:T,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:P,createdAt:g,lastLoginAt:v});return D&&Array.isArray(D)&&(Z.providerData=D.map(X=>({...X}))),d&&(Z._redirectEventId=d),Z}static async _fromIdTokenResponse(e,n,r=!1){const a=new jl;a.updateFromServerResponse(n);const o=new Vr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await dm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?y2(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new jl;h.updateFromIdToken(r);const d=new Vr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new dv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,g),d}}const U1=new Map;function Bs(t){Ys(t instanceof Function,"Expected a class definition");let e=U1.get(t);return e?(Ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,U1.set(t,e),e)}class v2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v2.type="NONE";const F1=v2;function kf(t,e,n){return`firebase:${t}:${e}:${n}`}class kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=kf(this.userKey,a.apiKey,o),this.fullPersistenceKey=kf("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hm(this.auth,{idToken:e}).catch(()=>{});return n?Vr._fromGetAccountInfoResponse(this.auth,n,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new kl(Bs(F1),e,r);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||Bs(F1);const c=kf(r,e.config.apiKey,e.name);let h=null;for(const g of n)try{const v=await g._get(c);if(v){let _;if(typeof v=="string"){const E=await hm(e,{idToken:v}).catch(()=>{});if(!E)break;_=await Vr._fromGetAccountInfoResponse(e,E,v)}else _=Vr._fromJSON(e,v);g!==o&&(h=_),o=g;break}}catch{}const d=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new kl(o,e,r):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new kl(o,e,r))}}function B1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T2(e))return"Blackberry";if(S2(e))return"Webos";if(b2(e))return"Safari";if((e.includes("chrome/")||x2(e))&&!e.includes("edge/"))return"Chrome";if(E2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function _2(t=en()){return/firefox\//i.test(t)}function b2(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x2(t=en()){return/crios\//i.test(t)}function w2(t=en()){return/iemobile/i.test(t)}function E2(t=en()){return/android/i.test(t)}function T2(t=en()){return/blackberry/i.test(t)}function S2(t=en()){return/webos/i.test(t)}function L_(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _6(t=en()){return L_(t)&&!!window.navigator?.standalone}function b6(){return XO()&&document.documentMode===10}function A2(t=en()){return L_(t)||E2(t)||S2(t)||T2(t)||/windows phone/i.test(t)||w2(t)}function I2(t,e=[]){let n;switch(t){case"Browser":n=B1(en());break;case"Worker":n=`${B1(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sc}/${r}`}class x6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,h)=>{try{const d=e(o);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function w6(t,e={}){return uc(t,"GET","/v2/passwordPolicy",V_(t,e))}const E6=6;class T6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??E6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class S6{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q1(this),this.idTokenSubscription=new q1(this),this.beforeStateQueue=new x6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hm(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(ro(this));const n=e?xn(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w6(this),n=new T6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await v6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bs(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[Bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&t6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ym(t){return xn(t)}class q1{constructor(e){this.auth=e,this.observer=null,this.addObserver=r4(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let U_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A6(t){U_=t}function I6(t){return U_.loadJS(t)}function N6(){return U_.gapiScript}function R6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function C6(t,e){const n=Ov(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(lo(o,e??{}))return a;ys(a,"already-initialized")}return n.initialize({options:e})}function D6(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Bs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function j6(t,e,n){const r=Ym(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=N2(e),{host:c,port:h}=k6(e),d=h===null?"":`:${h}`,g={url:`${o}//${c}${d}/`},v=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(lo(g,r.config.emulator)&&lo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,rc(c)?(zS(`${o}//${c}${d}`),LS("Auth",!0)):O6()}function N2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function k6(t){const e=N2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:$1(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:$1(c)}}}function $1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function O6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class R2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}async function Ol(t,e){return c6(t,"POST","/v1/accounts:signInWithIdp",V_(t,e))}const P6="http://localhost";class bo extends R2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const c=new bo(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ol(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ol(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ol(e,n)}buildRequest(){const e={requestUri:P6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hh(n)}return e}}class F_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wh extends F_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qi extends wh{constructor(){super("facebook.com")}static credential(e){return bo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";class Ls extends wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bo._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class $i extends wh{constructor(){super("github.com")}static credential(e){return bo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";class Hi extends wh{constructor(){super("twitter.com")}static credential(e,n){return bo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";class Yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Vr._fromIdTokenResponse(e,r,a),c=H1(r);return new Yl({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=H1(r);return new Yl({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function H1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class fm extends Js{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,fm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new fm(e,n,r,a)}}function C2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fm._fromErrorAndOperation(t,o,e,r):o})}async function M6(t,e,n=!1){const r=await nh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yl._forOperation(t,"link",r)}async function V6(t,e,n=!1){const{auth:r}=t;if(Mr(r.app))return Promise.reject(ro(r));const a="reauthenticate";try{const o=await nh(t,C2(r,a,e,t),n);Re(o.idToken,r,"internal-error");const c=z_(o.idToken);Re(c,r,"internal-error");const{sub:h}=c;return Re(t.uid===h,r,"user-mismatch"),Yl._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&ys(r,"user-mismatch"),o}}async function z6(t,e,n=!1){if(Mr(t.app))return Promise.reject(ro(t));const r="signIn",a=await C2(t,r,e),o=await Yl._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}function L6(t,e,n,r){return xn(t).onIdTokenChanged(e,n,r)}function U6(t,e,n){return xn(t).beforeAuthStateChanged(e,n)}function D2(t,e,n,r){return xn(t).onAuthStateChanged(e,n,r)}function F6(t){return xn(t).signOut()}const mm="__sak";class j2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mm,"1"),this.storage.removeItem(mm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const B6=1e3,q6=10;class k2 extends j2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);b6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,q6):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}k2.type="LOCAL";const $6=k2;class O2 extends j2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O2.type="SESSION";const P2=O2;function H6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Xm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async g=>g(n.origin,o)),d=await H6(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xm.receivers=[];function B_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class G6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const g=B_("",20);a.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(v),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ps(){return window}function K6(t){ps().location.href=t}function M2(){return typeof ps().WorkerGlobalScope<"u"&&typeof ps().importScripts=="function"}async function Q6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z6(){return navigator?.serviceWorker?.controller||null}function Y6(){return M2()?self:null}const V2="firebaseLocalStorageDb",X6=1,pm="firebaseLocalStorage",z2="fbase_key";class Eh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jm(t,e){return t.transaction([pm],e?"readwrite":"readonly").objectStore(pm)}function J6(){const t=indexedDB.deleteDatabase(V2);return new Eh(t).toPromise()}function fv(){const t=indexedDB.open(V2,X6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pm,{keyPath:z2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pm)?e(r):(r.close(),await J6(),e(await fv()))})})}async function G1(t,e,n){const r=Jm(t,!0).put({[z2]:e,value:n});return new Eh(r).toPromise()}async function W6(t,e){const n=Jm(t,!1).get(e),r=await new Eh(n).toPromise();return r===void 0?null:r.value}function K1(t,e){const n=Jm(t,!0).delete(e);return new Eh(n).toPromise()}const ez=800,tz=3;class L2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xm._getInstance(Y6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Q6(),!this.activeServiceWorker)return;this.sender=new G6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fv();return await G1(e,mm,"1"),await K1(e,mm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>G1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>W6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>K1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Jm(a,!1).getAll();return new Eh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ez)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L2.type="LOCAL";const nz=L2;new xh(3e4,6e4);function U2(t,e){return e?Bs(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class q_ extends R2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rz(t){return z6(t.auth,new q_(t),t.bypassAuthState)}function sz(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),V6(n,new q_(t),t.bypassAuthState)}async function iz(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),M6(n,new q_(t),t.bypassAuthState)}class F2{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rz;case"linkViaPopup":case"linkViaRedirect":return iz;case"reauthViaPopup":case"reauthViaRedirect":return sz;default:ys(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const az=new xh(2e3,1e4);async function oz(t,e,n){if(Mr(t.app))return Promise.reject(zr(t,"operation-not-supported-in-this-environment"));const r=Ym(t);n6(t,e,F_);const a=U2(r,n);return new Xa(r,"signInViaPopup",e,a).executeNotNull()}class Xa extends F2{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=B_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,az.get())};e()}}Xa.currentPopupAction=null;const lz="pendingRedirect",Of=new Map;class cz extends F2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const r=await uz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uz(t,e){const n=fz(e),r=dz(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function hz(t,e){Of.set(t._key(),e)}function dz(t){return Bs(t._redirectPersistence)}function fz(t){return kf(lz,t.config.apiKey,t.name)}async function mz(t,e,n=!1){if(Mr(t.app))return Promise.reject(ro(t));const r=Ym(t),a=U2(r,e),c=await new cz(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const pz=600*1e3;class gz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!B2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pz&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q1(e))}saveEventToCache(e){this.cachedEventUids.add(Q1(e)),this.lastProcessedEventTime=Date.now()}}function Q1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function B2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function yz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B2(t);default:return!1}}async function vz(t,e={}){return uc(t,"GET","/v1/projects",e)}const _z=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bz=/^https?/;async function xz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vz(t);for(const n of e)try{if(wz(n))return}catch{}ys(t,"unauthorized-domain")}function wz(t){const e=hv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!bz.test(n))return!1;if(_z.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const Ez=new xh(3e4,6e4);function Z1(){const t=ps().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Tz(t){return new Promise((e,n)=>{function r(){Z1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z1(),n(zr(t,"network-request-failed"))},timeout:Ez.get()})}if(ps().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ps().gapi?.load)r();else{const a=R6("iframefcb");return ps()[a]=()=>{gapi.load?r():n(zr(t,"network-request-failed"))},I6(`${N6()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw Pf=null,e})}let Pf=null;function Sz(t){return Pf=Pf||Tz(t),Pf}const Az=new xh(5e3,15e3),Iz="__/auth/iframe",Nz="emulator/auth/iframe",Rz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dz(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?M_(e,Nz):`https://${t.config.authDomain}/${Iz}`,r={apiKey:e.apiKey,appName:t.name,v:sc},a=Cz.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${hh(r).slice(1)}`}async function jz(t){const e=await Sz(t),n=ps().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:Dz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rz,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=zr(t,"network-request-failed"),h=ps().setTimeout(()=>{o(c)},Az.get());function d(){ps().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(c)})}))}const kz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Oz=500,Pz=600,Mz="_blank",Vz="http://localhost";class Y1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zz(t,e,n,r=Oz,a=Pz){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...kz,width:r.toString(),height:a.toString(),top:o,left:c},g=en().toLowerCase();n&&(h=x2(g)?Mz:n),_2(g)&&(e=e||Vz,d.scrollbars="yes");const v=Object.entries(d).reduce((E,[T,D])=>`${E}${T}=${D},`,"");if(_6(g)&&h!=="_self")return Lz(e||"",h),new Y1(null);const _=window.open(e||"",h,v);Re(_,t,"popup-blocked");try{_.focus()}catch{}return new Y1(_)}function Lz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Uz="__/auth/handler",Fz="emulator/auth/handler",Bz=encodeURIComponent("fac");async function X1(t,e,n,r,a,o){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sc,eventId:a};if(e instanceof F_){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",n4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof wh){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const d=await t._getAppCheckToken(),g=d?`#${Bz}=${encodeURIComponent(d)}`:"";return`${qz(t)}?${hh(h).slice(1)}${g}`}function qz({config:t}){return t.emulator?M_(t,Fz):`https://${t.authDomain}/${Uz}`}const Ty="webStorageSupport";class $z{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P2,this._completeRedirectFn=mz,this._overrideRedirectResult=hz}async _openPopup(e,n,r,a){Ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await X1(e,n,r,hv(),a);return zz(e,o,B_())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await X1(e,n,r,hv(),a);return K6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Ys(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jz(e),r=new gz(e);return n.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ty,{type:Ty},a=>{const o=a?.[0]?.[Ty];o!==void 0&&n(!!o),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A2()||b2()||L_()}}const Hz=$z;var J1="@firebase/auth",W1="1.12.0";class Gz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Kz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qz(t){Ml(new co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I2(t)},g=new S6(r,a,o,d);return D6(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ml(new co("auth-internal",e=>{const n=Ym(e.getProvider("auth").getImmediate());return(r=>new Gz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(J1,W1,Kz(t)),Xi(J1,W1,"esm2020")}const Zz=300,Yz=VS("authIdTokenMaxAge")||Zz;let eT=null;const Xz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Yz)return;const a=n?.token;eT!==a&&(eT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Jz(t=KS()){const e=Ov(t,"auth");if(e.isInitialized())return e.getImmediate();const n=C6(t,{popupRedirectResolver:Hz,persistence:[nz,$6,P2]}),r=VS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=Xz(o.toString());U6(n,c,()=>c(n.currentUser)),L6(n,h=>c(h))}}const a=PS("auth");return a&&j6(n,`http://${a}`),n}function Wz(){return document.getElementsByTagName("head")?.[0]??document}A6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=zr("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",Wz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qz("Browser");const e5={apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",storageBucket:void 0,messagingSenderId:"490973136832",appId:"1:490973136832:web:1811051408fdde8fbcea25",measurementId:"G-D3YR1YJXPN"},q2=hE().length?hE()[0]:GS(e5),ti=D3(q2),Mf=Jz(q2);typeof window<"u"&&j3(ti).catch(t=>{console.debug("IndexedDB persistence not enabled:",t?.code??t?.message??t)});function $2(t,e,n){const r=__(t,e);return n?r.withConverter(n):r}async function t5(t,e,n){const r=cc(ti,t,e),a=n?r.withConverter(n):r,o=await K3(a);return o.exists()?o.data():null}async function H2(t,e,n){const r=$2(ti,t,n);return(await Y3(r,e)).id}async function n5(t,e,n,r){const a=cc(ti,t,e),o=r?a.withConverter(r):a;await c2(o,n)}async function r5(t,e,n,r){const a=cc(ti,t,e),o=r?a.withConverter(r):a;await c2(o,n,{merge:!0})}async function s5(t,e){const n=cc(ti,t,e);await Z3(n)}async function i5(t,e){const{pageSize:n=20,cursor:r=null,additionalConstraints:a=[],converter:o}=e??{},c=$2(ti,t,o),h=[B3(n),...a];r&&h.push(q3(r));const d=F3(c,...h),g=await Q3(d),v=g.docs.map(E=>E.data()),_=g.docs[g.docs.length-1]??null;return{docs:v,nextCursor:_?_.id:null}}function ie(t,e,n){function r(h,d){if(h._zod||Object.defineProperty(h,"_zod",{value:{def:d,constr:c,traits:new Set},enumerable:!1}),h._zod.traits.has(t))return;h._zod.traits.add(t),e(h,d);const g=c.prototype,v=Object.keys(g);for(let _=0;_<v.length;_++){const E=v[_];E in h||(h[E]=g[E].bind(h))}}const a=n?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function c(h){var d;const g=n?.Parent?new o:this;r(g,h),(d=g._zod).deferred??(d.deferred=[]);for(const v of g._zod.deferred)v();return g}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:h=>n?.Parent&&h instanceof n.Parent?!0:h?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class Pl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class G2 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const K2={};function xo(t){return K2}function Q2(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,a])=>e.indexOf(+r)===-1).map(([r,a])=>a)}function mv(t,e){return typeof e=="bigint"?e.toString():e}function $_(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function H_(t){return t==null}function G_(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function a5(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const o=n>a?n:a,c=Number.parseInt(t.toFixed(o).replace(".","")),h=Number.parseInt(e.toFixed(o).replace(".",""));return c%h/10**o}const tT=Symbol("evaluating");function lt(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==tT)return r===void 0&&(r=tT,r=n()),r},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function Io(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function la(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function nT(t){return JSON.stringify(t)}function o5(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Z2="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function gm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const l5=$_(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function rh(t){if(gm(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(gm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Y2(t){return rh(t)?{...t}:Array.isArray(t)?[...t]:t}const c5=new Set(["string","number","symbol"]);function Xl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ca(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Se(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function u5(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const h5={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function d5(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=la(t._zod.def,{get shape(){const c={};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&(c[h]=n.shape[h])}return Io(this,"shape",c),c},checks:[]});return ca(t,o)}function f5(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=la(t._zod.def,{get shape(){const c={...t._zod.def.shape};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&delete c[h]}return Io(this,"shape",c),c},checks:[]});return ca(t,o)}function m5(t,e){if(!rh(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const c in e)if(Object.getOwnPropertyDescriptor(o,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=la(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return Io(this,"shape",o),o}});return ca(t,a)}function p5(t,e){if(!rh(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=la(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return Io(this,"shape",r),r}});return ca(t,n)}function g5(t,e){const n=la(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Io(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return ca(t,n)}function y5(t,e,n){const a=e._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=la(e._zod.def,{get shape(){const h=e._zod.def.shape,d={...h};if(n)for(const g in n){if(!(g in h))throw new Error(`Unrecognized key: "${g}"`);n[g]&&(d[g]=t?new t({type:"optional",innerType:h[g]}):h[g])}else for(const g in h)d[g]=t?new t({type:"optional",innerType:h[g]}):h[g];return Io(this,"shape",d),d},checks:[]});return ca(e,c)}function v5(t,e,n){const r=la(e._zod.def,{get shape(){const a=e._zod.def.shape,o={...a};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(o[c]=new t({type:"nonoptional",innerType:a[c]}))}else for(const c in a)o[c]=new t({type:"nonoptional",innerType:a[c]});return Io(this,"shape",o),o}});return ca(e,r)}function Rl(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function X2(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function mf(t){return typeof t=="string"?t:t?.message}function wo(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const a=mf(t.inst?._zod.def?.error?.(t))??mf(e?.error?.(t))??mf(n.customError?.(t))??mf(n.localeError?.(t))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function K_(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function sh(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const J2=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,mv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},W2=ie("$ZodError",J2),eN=ie("$ZodError",J2,{Parent:Error});function _5(t,e=n=>n.message){const n={},r=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}function b5(t,e=n=>n.message){const n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(c=>r({issues:c}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(e(o));else{let c=n,h=0;for(;h<o.path.length;){const d=o.path[h];h===o.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(e(o))):c[d]=c[d]||{_errors:[]},c=c[d],h++}}};return r(t),n}const Q_=t=>(e,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise)throw new Pl;if(c.issues.length){const h=new(a?.Err??t)(c.issues.map(d=>wo(d,o,xo())));throw Z2(h,a?.callee),h}return c.value},Z_=t=>async(e,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise&&(c=await c),c.issues.length){const h=new(a?.Err??t)(c.issues.map(d=>wo(d,o,xo())));throw Z2(h,a?.callee),h}return c.value},Wm=t=>(e,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Pl;return o.issues.length?{success:!1,error:new(t??W2)(o.issues.map(c=>wo(c,a,xo())))}:{success:!0,data:o.value}},x5=Wm(eN),ep=t=>async(e,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(c=>wo(c,a,xo())))}:{success:!0,data:o.value}},w5=ep(eN),E5=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Q_(t)(e,n,a)},T5=t=>(e,n,r)=>Q_(t)(e,n,r),S5=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Z_(t)(e,n,a)},A5=t=>async(e,n,r)=>Z_(t)(e,n,r),I5=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Wm(t)(e,n,a)},N5=t=>(e,n,r)=>Wm(t)(e,n,r),R5=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ep(t)(e,n,a)},C5=t=>async(e,n,r)=>ep(t)(e,n,r),D5=/^[cC][^\s-]{8,}$/,j5=/^[0-9a-z]+$/,k5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,O5=/^[0-9a-vA-V]{20}$/,P5=/^[A-Za-z0-9]{27}$/,M5=/^[a-zA-Z0-9_-]{21}$/,V5=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,z5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,rT=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,L5=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,U5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function F5(){return new RegExp(U5,"u")}const B5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,q5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,$5=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,H5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,G5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,tN=/^[A-Za-z0-9_-]*$/,K5=/^\+[1-9]\d{6,14}$/,nN="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Q5=new RegExp(`^${nN}$`);function rN(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Z5(t){return new RegExp(`^${rN(t)}$`)}function Y5(t){const e=rN({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${nN}T(?:${r})$`)}const X5=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},J5=/^-?\d+$/,W5=/^-?\d+(?:\.\d+)?$/,eL=/^[^A-Z]*$/,tL=/^[^a-z]*$/,Ln=ie("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),sN={number:"number",bigint:"bigint",object:"date"},iN=ie("$ZodCheckLessThan",(t,e)=>{Ln.init(t,e);const n=sN[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),aN=ie("$ZodCheckGreaterThan",(t,e)=>{Ln.init(t,e);const n=sN[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),nL=ie("$ZodCheckMultipleOf",(t,e)=>{Ln.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):a5(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),rL=ie("$ZodCheckNumberFormat",(t,e)=>{Ln.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[a,o]=h5[e.format];t._zod.onattach.push(c=>{const h=c._zod.bag;h.format=e.format,h.minimum=a,h.maximum=o,n&&(h.pattern=J5)}),t._zod.check=c=>{const h=c.value;if(n){if(!Number.isInteger(h)){c.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?c.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):c.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}h<a&&c.issues.push({origin:"number",input:h,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),h>o&&c.issues.push({origin:"number",input:h,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),sL=ie("$ZodCheckMaxLength",(t,e)=>{var n;Ln.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!H_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const a=r.value;if(a.length<=e.maximum)return;const c=K_(a);r.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),iL=ie("$ZodCheckMinLength",(t,e)=>{var n;Ln.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!H_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const a=r.value;if(a.length>=e.minimum)return;const c=K_(a);r.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),aL=ie("$ZodCheckLengthEquals",(t,e)=>{var n;Ln.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!H_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=r=>{const a=r.value,o=a.length;if(o===e.length)return;const c=K_(a),h=o>e.length;r.issues.push({origin:c,...h?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),tp=ie("$ZodCheckStringFormat",(t,e)=>{var n,r;Ln.init(t,e),t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),oL=ie("$ZodCheckRegex",(t,e)=>{tp.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),lL=ie("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=eL),tp.init(t,e)}),cL=ie("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=tL),tp.init(t,e)}),uL=ie("$ZodCheckIncludes",(t,e)=>{Ln.init(t,e);const n=Xl(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),hL=ie("$ZodCheckStartsWith",(t,e)=>{Ln.init(t,e);const n=new RegExp(`^${Xl(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),dL=ie("$ZodCheckEndsWith",(t,e)=>{Ln.init(t,e);const n=new RegExp(`.*${Xl(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),fL=ie("$ZodCheckOverwrite",(t,e)=>{Ln.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class mL{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(c=>c),a=Math.min(...r.map(c=>c.length-c.trimStart().length)),o=r.map(c=>c.slice(a)).map(c=>" ".repeat(this.indent*2)+c);for(const c of o)this.content.push(c)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,a.join(`
`))}}const pL={major:4,minor:3,patch:5},Ct=ie("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=pL;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const o of a._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(c,h,d)=>{let g=Rl(c),v;for(const _ of h){if(_._zod.def.when){if(!_._zod.def.when(c))continue}else if(g)continue;const E=c.issues.length,T=_._zod.check(c);if(T instanceof Promise&&d?.async===!1)throw new Pl;if(v||T instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await T,c.issues.length!==E&&(g||(g=Rl(c,E)))});else{if(c.issues.length===E)continue;g||(g=Rl(c,E))}}return v?v.then(()=>c):c},o=(c,h,d)=>{if(Rl(c))return c.aborted=!0,c;const g=a(h,r,d);if(g instanceof Promise){if(d.async===!1)throw new Pl;return g.then(v=>t._zod.parse(v,d))}return t._zod.parse(g,d)};t._zod.run=(c,h)=>{if(h.skipChecks)return t._zod.parse(c,h);if(h.direction==="backward"){const g=t._zod.parse({value:c.value,issues:[]},{...h,skipChecks:!0});return g instanceof Promise?g.then(v=>o(v,c,h)):o(g,c,h)}const d=t._zod.parse(c,h);if(d instanceof Promise){if(h.async===!1)throw new Pl;return d.then(g=>a(g,r,h))}return a(d,r,h)}}lt(t,"~standard",()=>({validate:a=>{try{const o=x5(t,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return w5(t,a).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}))}),Y_=ie("$ZodString",(t,e)=>{Ct.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??X5(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),xt=ie("$ZodStringFormat",(t,e)=>{tp.init(t,e),Y_.init(t,e)}),gL=ie("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=z5),xt.init(t,e)}),yL=ie("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=rT(r))}else e.pattern??(e.pattern=rT());xt.init(t,e)}),vL=ie("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=L5),xt.init(t,e)}),_L=ie("$ZodURL",(t,e)=>{xt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),bL=ie("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=F5()),xt.init(t,e)}),xL=ie("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=M5),xt.init(t,e)}),wL=ie("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=D5),xt.init(t,e)}),EL=ie("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=j5),xt.init(t,e)}),TL=ie("$ZodULID",(t,e)=>{e.pattern??(e.pattern=k5),xt.init(t,e)}),SL=ie("$ZodXID",(t,e)=>{e.pattern??(e.pattern=O5),xt.init(t,e)}),AL=ie("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=P5),xt.init(t,e)}),IL=ie("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Y5(e)),xt.init(t,e)}),NL=ie("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Q5),xt.init(t,e)}),RL=ie("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=Z5(e)),xt.init(t,e)}),CL=ie("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=V5),xt.init(t,e)}),DL=ie("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=B5),xt.init(t,e),t._zod.bag.format="ipv4"}),jL=ie("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=q5),xt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),kL=ie("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=$5),xt.init(t,e)}),OL=ie("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=H5),xt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,o]=r;if(!o)throw new Error;const c=Number(o);if(`${c}`!==o)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function oN(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const PL=ie("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=G5),xt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{oN(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function ML(t){if(!tN.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return oN(n)}const VL=ie("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=tN),xt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{ML(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),zL=ie("$ZodE164",(t,e)=>{e.pattern??(e.pattern=K5),xt.init(t,e)});function LL(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const UL=ie("$ZodJWT",(t,e)=>{xt.init(t,e),t._zod.check=n=>{LL(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),lN=ie("$ZodNumber",(t,e)=>{Ct.init(t,e),t._zod.pattern=t._zod.bag.pattern??W5,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...o?{received:o}:{}}),n}}),FL=ie("$ZodNumberFormat",(t,e)=>{rL.init(t,e),lN.init(t,e)}),BL=ie("$ZodUnknown",(t,e)=>{Ct.init(t,e),t._zod.parse=n=>n}),qL=ie("$ZodNever",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),$L=ie("$ZodDate",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const a=n.value,o=a instanceof Date;return o&&!Number.isNaN(a.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:a,...o?{received:"Invalid Date"}:{},inst:t}),n}});function sT(t,e,n){t.issues.length&&e.issues.push(...X2(n,t.issues)),e.value[n]=t.value}const HL=ie("$ZodArray",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const o=[];for(let c=0;c<a.length;c++){const h=a[c],d=e.element._zod.run({value:h,issues:[]},r);d instanceof Promise?o.push(d.then(g=>sT(g,n,c))):sT(d,n,c)}return o.length?Promise.all(o).then(()=>n):n}});function ym(t,e,n,r,a){if(t.issues.length){if(a&&!(n in r))return;e.issues.push(...X2(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function cN(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=u5(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function uN(t,e,n,r,a,o){const c=[],h=a.keySet,d=a.catchall._zod,g=d.def.type,v=d.optout==="optional";for(const _ in e){if(h.has(_))continue;if(g==="never"){c.push(_);continue}const E=d.run({value:e[_],issues:[]},r);E instanceof Promise?t.push(E.then(T=>ym(T,n,_,e,v))):ym(E,n,_,e,v)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const GL=ie("$ZodObject",(t,e)=>{if(Ct.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const h=e.shape;Object.defineProperty(e,"shape",{get:()=>{const d={...h};return Object.defineProperty(e,"shape",{value:d}),d}})}const r=$_(()=>cN(e));lt(t._zod,"propValues",()=>{const h=e.shape,d={};for(const g in h){const v=h[g]._zod;if(v.values){d[g]??(d[g]=new Set);for(const _ of v.values)d[g].add(_)}}return d});const a=gm,o=e.catchall;let c;t._zod.parse=(h,d)=>{c??(c=r.value);const g=h.value;if(!a(g))return h.issues.push({expected:"object",code:"invalid_type",input:g,inst:t}),h;h.value={};const v=[],_=c.shape;for(const E of c.keys){const T=_[E],D=T._zod.optout==="optional",j=T._zod.run({value:g[E],issues:[]},d);j instanceof Promise?v.push(j.then(P=>ym(P,h,E,g,D))):ym(j,h,E,g,D)}return o?uN(v,g,h,d,r.value,t):v.length?Promise.all(v).then(()=>h):h}}),KL=ie("$ZodObjectJIT",(t,e)=>{GL.init(t,e);const n=t._zod.parse,r=$_(()=>cN(e)),a=E=>{const T=new mL(["shape","payload","ctx"]),D=r.value,j=K=>{const le=nT(K);return`shape[${le}]._zod.run({ value: input[${le}], issues: [] }, ctx)`};T.write("const input = payload.value;");const P=Object.create(null);let Z=0;for(const K of D.keys)P[K]=`key_${Z++}`;T.write("const newResult = {};");for(const K of D.keys){const le=P[K],Q=nT(K),N=E[K]?._zod?.optout==="optional";T.write(`const ${le} = ${j(K)};`),N?T.write(`
        if (${le}.issues.length) {
          if (${Q} in input) {
            payload.issues = payload.issues.concat(${le}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${Q}, ...iss.path] : [${Q}]
            })));
          }
        }
        
        if (${le}.value === undefined) {
          if (${Q} in input) {
            newResult[${Q}] = undefined;
          }
        } else {
          newResult[${Q}] = ${le}.value;
        }
        
      `):T.write(`
        if (${le}.issues.length) {
          payload.issues = payload.issues.concat(${le}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Q}, ...iss.path] : [${Q}]
          })));
        }
        
        if (${le}.value === undefined) {
          if (${Q} in input) {
            newResult[${Q}] = undefined;
          }
        } else {
          newResult[${Q}] = ${le}.value;
        }
        
      `)}T.write("payload.value = newResult;"),T.write("return payload;");const X=T.compile();return(K,le)=>X(E,K,le)};let o;const c=gm,h=!K2.jitless,g=h&&l5.value,v=e.catchall;let _;t._zod.parse=(E,T)=>{_??(_=r.value);const D=E.value;return c(D)?h&&g&&T?.async===!1&&T.jitless!==!0?(o||(o=a(e.shape)),E=o(E,T),v?uN([],D,E,T,_,t):E):n(E,T):(E.issues.push({expected:"object",code:"invalid_type",input:D,inst:t}),E)}});function iT(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const a=t.filter(o=>!Rl(o));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(c=>wo(c,r,xo())))}),e)}const QL=ie("$ZodUnion",(t,e)=>{Ct.init(t,e),lt(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),lt(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),lt(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),lt(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>G_(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(a,o)=>{if(n)return r(a,o);let c=!1;const h=[];for(const d of e.options){const g=d._zod.run({value:a.value,issues:[]},o);if(g instanceof Promise)h.push(g),c=!0;else{if(g.issues.length===0)return g;h.push(g)}}return c?Promise.all(h).then(d=>iT(d,a,t,o)):iT(h,a,t,o)}}),ZL=ie("$ZodIntersection",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{const a=n.value,o=e.left._zod.run({value:a,issues:[]},r),c=e.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||c instanceof Promise?Promise.all([o,c]).then(([d,g])=>aT(n,d,g)):aT(n,o,c)}});function pv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(rh(t)&&rh(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),a={...t,...e};for(const o of r){const c=pv(t[o],e[o]);if(!c.valid)return{valid:!1,mergeErrorPath:[o,...c.mergeErrorPath]};a[o]=c.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const a=t[r],o=e[r],c=pv(a,o);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function aT(t,e,n){const r=new Map;let a;for(const h of e.issues)if(h.code==="unrecognized_keys"){a??(a=h);for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else t.issues.push(h);for(const h of n.issues)if(h.code==="unrecognized_keys")for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else t.issues.push(h);const o=[...r].filter(([,h])=>h.l&&h.r).map(([h])=>h);if(o.length&&a&&t.issues.push({...a,keys:o}),Rl(t))return t;const c=pv(e.value,n.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return t.value=c.data,t}const YL=ie("$ZodEnum",(t,e)=>{Ct.init(t,e);const n=Q2(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(a=>c5.has(typeof a)).map(a=>typeof a=="string"?Xl(a):a.toString()).join("|")})$`),t._zod.parse=(a,o)=>{const c=a.value;return r.has(c)||a.issues.push({code:"invalid_value",values:n,input:c,inst:t}),a}}),XL=ie("$ZodLiteral",(t,e)=>{if(Ct.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?Xl(r):r?Xl(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,a)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),r}}),JL=ie("$ZodTransform",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new G2(t.constructor.name);const a=e.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(c=>(n.value=c,n));if(a instanceof Promise)throw new Pl;return n.value=a,n}});function oT(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const hN=ie("$ZodOptional",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",t._zod.optout="optional",lt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),lt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${G_(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>oT(o,n.value)):oT(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),WL=ie("$ZodExactOptional",(t,e)=>{hN.init(t,e),lt(t._zod,"values",()=>e.innerType._zod.values),lt(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),eU=ie("$ZodNullable",(t,e)=>{Ct.init(t,e),lt(t._zod,"optin",()=>e.innerType._zod.optin),lt(t._zod,"optout",()=>e.innerType._zod.optout),lt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${G_(n.source)}|null)$`):void 0}),lt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),tU=ie("$ZodDefault",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",lt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>lT(o,e)):lT(a,e)}});function lT(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const nU=ie("$ZodPrefault",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",lt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),rU=ie("$ZodNonOptional",(t,e)=>{Ct.init(t,e),lt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>cT(o,t)):cT(a,t)}});function cT(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const sU=ie("$ZodCatch",(t,e)=>{Ct.init(t,e),lt(t._zod,"optin",()=>e.innerType._zod.optin),lt(t._zod,"optout",()=>e.innerType._zod.optout),lt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(c=>wo(c,r,xo()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(o=>wo(o,r,xo()))},input:n.value}),n.issues=[]),n)}}),iU=ie("$ZodPipe",(t,e)=>{Ct.init(t,e),lt(t._zod,"values",()=>e.in._zod.values),lt(t._zod,"optin",()=>e.in._zod.optin),lt(t._zod,"optout",()=>e.out._zod.optout),lt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(c=>pf(c,e.in,r)):pf(o,e.in,r)}const a=e.in._zod.run(n,r);return a instanceof Promise?a.then(o=>pf(o,e.out,r)):pf(a,e.out,r)}});function pf(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const aU=ie("$ZodReadonly",(t,e)=>{Ct.init(t,e),lt(t._zod,"propValues",()=>e.innerType._zod.propValues),lt(t._zod,"values",()=>e.innerType._zod.values),lt(t._zod,"optin",()=>e.innerType?._zod?.optin),lt(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(uT):uT(a)}});function uT(t){return t.value=Object.freeze(t.value),t}const oU=ie("$ZodCustom",(t,e)=>{Ln.init(t,e),Ct.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,a=e.fn(r);if(a instanceof Promise)return a.then(o=>hT(o,n,r,t));hT(a,n,r,t)}});function hT(t,e,n,r){if(!t){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),e.issues.push(sh(a))}}var dT;class lU{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function cU(){return new lU}(dT=globalThis).__zod_globalRegistry??(dT.__zod_globalRegistry=cU());const Cu=globalThis.__zod_globalRegistry;function uU(t,e){return new t({type:"string",...Se(e)})}function hU(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Se(e)})}function fT(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Se(e)})}function dU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Se(e)})}function fU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Se(e)})}function mU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Se(e)})}function pU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Se(e)})}function gU(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Se(e)})}function yU(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Se(e)})}function vU(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Se(e)})}function _U(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Se(e)})}function bU(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Se(e)})}function xU(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Se(e)})}function wU(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Se(e)})}function EU(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Se(e)})}function TU(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Se(e)})}function SU(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Se(e)})}function AU(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Se(e)})}function IU(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Se(e)})}function NU(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Se(e)})}function RU(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Se(e)})}function CU(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Se(e)})}function DU(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Se(e)})}function jU(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Se(e)})}function kU(t,e){return new t({type:"string",format:"date",check:"string_format",...Se(e)})}function OU(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Se(e)})}function PU(t,e){return new t({type:"string",format:"duration",check:"string_format",...Se(e)})}function MU(t,e){return new t({type:"number",checks:[],...Se(e)})}function VU(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Se(e)})}function zU(t){return new t({type:"unknown"})}function LU(t,e){return new t({type:"never",...Se(e)})}function UU(t,e){return new t({type:"date",...Se(e)})}function mT(t,e){return new iN({check:"less_than",...Se(e),value:t,inclusive:!1})}function Vf(t,e){return new iN({check:"less_than",...Se(e),value:t,inclusive:!0})}function pT(t,e){return new aN({check:"greater_than",...Se(e),value:t,inclusive:!1})}function zf(t,e){return new aN({check:"greater_than",...Se(e),value:t,inclusive:!0})}function gT(t,e){return new nL({check:"multiple_of",...Se(e),value:t})}function dN(t,e){return new sL({check:"max_length",...Se(e),maximum:t})}function vm(t,e){return new iL({check:"min_length",...Se(e),minimum:t})}function fN(t,e){return new aL({check:"length_equals",...Se(e),length:t})}function FU(t,e){return new oL({check:"string_format",format:"regex",...Se(e),pattern:t})}function BU(t){return new lL({check:"string_format",format:"lowercase",...Se(t)})}function qU(t){return new cL({check:"string_format",format:"uppercase",...Se(t)})}function $U(t,e){return new uL({check:"string_format",format:"includes",...Se(e),includes:t})}function HU(t,e){return new hL({check:"string_format",format:"starts_with",...Se(e),prefix:t})}function GU(t,e){return new dL({check:"string_format",format:"ends_with",...Se(e),suffix:t})}function hc(t){return new fL({check:"overwrite",tx:t})}function KU(t){return hc(e=>e.normalize(t))}function QU(){return hc(t=>t.trim())}function ZU(){return hc(t=>t.toLowerCase())}function YU(){return hc(t=>t.toUpperCase())}function XU(){return hc(t=>o5(t))}function JU(t,e,n){return new t({type:"array",element:e,...Se(n)})}function WU(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Se(n)})}function e9(t){const e=t9(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(sh(r,n.value,e._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(sh(a))}},t(n.value,n)));return e}function t9(t,e){const n=new Ln({check:"custom",...Se(e)});return n._zod.check=t,n}function mN(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Cu,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function gn(t,e,n={path:[],schemaPath:[]}){var r;const a=t._zod.def,o=e.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,c);const h=t._zod.toJSONSchema?.();if(h)c.schema=h;else{const v={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,c.schema,v);else{const E=c.schema,T=e.processors[a.type];if(!T)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);T(t,e,E,v)}const _=t._zod.parent;_&&(c.ref||(c.ref=_),gn(_,e,v),e.seen.get(_).isParent=!0)}const d=e.metadataRegistry.get(t);return d&&Object.assign(c.schema,d),e.io==="input"&&Sn(t)&&(delete c.schema.examples,delete c.schema.default),e.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,e.seen.get(t).schema}function pN(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const c of t.seen.entries()){const h=t.metadataRegistry.get(c[0])?.id;if(h){const d=r.get(h);if(d&&d!==c[0])throw new Error(`Duplicate schema id "${h}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(h,c[0])}}const a=c=>{const h=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const _=t.external.registry.get(c[0])?.id,E=t.external.uri??(D=>D);if(_)return{ref:E(_)};const T=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=T,{defId:T,ref:`${E("__shared")}#/${h}/${T}`}}if(c[1]===n)return{ref:"#"};const g=`#/${h}/`,v=c[1].schema.id??`__schema${t.counter++}`;return{defId:v,ref:g+v}},o=c=>{if(c[1].schema.$ref)return;const h=c[1],{ref:d,defId:g}=a(c);h.def={...h.schema},g&&(h.defId=g);const v=h.schema;for(const _ in v)delete v[_];v.$ref=d};if(t.cycles==="throw")for(const c of t.seen.entries()){const h=c[1];if(h.cycle)throw new Error(`Cycle detected: #/${h.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const h=c[1];if(e===c[0]){o(c);continue}if(t.external){const g=t.external.registry.get(c[0])?.id;if(e!==c[0]&&g){o(c);continue}}if(t.metadataRegistry.get(c[0])?.id){o(c);continue}if(h.cycle){o(c);continue}if(h.count>1&&t.reused==="ref"){o(c);continue}}}function gN(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=c=>{const h=t.seen.get(c);if(h.ref===null)return;const d=h.def??h.schema,g={...d},v=h.ref;if(h.ref=null,v){r(v);const E=t.seen.get(v),T=E.schema;if(T.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(T)):Object.assign(d,T),Object.assign(d,g),c._zod.parent===v)for(const j in d)j==="$ref"||j==="allOf"||j in g||delete d[j];if(T.$ref)for(const j in d)j==="$ref"||j==="allOf"||j in E.def&&JSON.stringify(d[j])===JSON.stringify(E.def[j])&&delete d[j]}const _=c._zod.parent;if(_&&_!==v){r(_);const E=t.seen.get(_);if(E?.schema.$ref&&(d.$ref=E.schema.$ref,E.def))for(const T in d)T==="$ref"||T==="allOf"||T in E.def&&JSON.stringify(d[T])===JSON.stringify(E.def[T])&&delete d[T]}t.override({zodSchema:c,jsonSchema:d,path:h.path??[]})};for(const c of[...t.seen.entries()].reverse())r(c[0]);const a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const c=t.external.registry.get(e)?.id;if(!c)throw new Error("Schema is missing an `id` property");a.$id=t.external.uri(c)}Object.assign(a,n.def??n.schema);const o=t.external?.defs??{};for(const c of t.seen.entries()){const h=c[1];h.def&&h.defId&&(o[h.defId]=h.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?a.$defs=o:a.definitions=o);try{const c=JSON.parse(JSON.stringify(a));return Object.defineProperty(c,"~standard",{value:{...e["~standard"],jsonSchema:{input:_m(e,"input",t.processors),output:_m(e,"output",t.processors)}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function Sn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Sn(r.element,n);if(r.type==="set")return Sn(r.valueType,n);if(r.type==="lazy")return Sn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Sn(r.innerType,n);if(r.type==="intersection")return Sn(r.left,n)||Sn(r.right,n);if(r.type==="record"||r.type==="map")return Sn(r.keyType,n)||Sn(r.valueType,n);if(r.type==="pipe")return Sn(r.in,n)||Sn(r.out,n);if(r.type==="object"){for(const a in r.shape)if(Sn(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(Sn(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(Sn(a,n))return!0;return!!(r.rest&&Sn(r.rest,n))}return!1}const n9=(t,e={})=>n=>{const r=mN({...n,processors:e});return gn(t,r),pN(r,t),gN(r,t)},_m=(t,e,n={})=>r=>{const{libraryOptions:a,target:o}=r??{},c=mN({...a??{},target:o,io:e,processors:n});return gn(t,c),pN(c,t),gN(c,t)},r9={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s9=(t,e,n,r)=>{const a=n;a.type="string";const{minimum:o,maximum:c,format:h,patterns:d,contentEncoding:g}=t._zod.bag;if(typeof o=="number"&&(a.minLength=o),typeof c=="number"&&(a.maxLength=c),h&&(a.format=r9[h]??h,a.format===""&&delete a.format,h==="time"&&delete a.format),g&&(a.contentEncoding=g),d&&d.size>0){const v=[...d];v.length===1?a.pattern=v[0].source:v.length>1&&(a.allOf=[...v.map(_=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:_.source}))])}},i9=(t,e,n,r)=>{const a=n,{minimum:o,maximum:c,format:h,multipleOf:d,exclusiveMaximum:g,exclusiveMinimum:v}=t._zod.bag;typeof h=="string"&&h.includes("int")?a.type="integer":a.type="number",typeof v=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.minimum=v,a.exclusiveMinimum=!0):a.exclusiveMinimum=v),typeof o=="number"&&(a.minimum=o,typeof v=="number"&&e.target!=="draft-04"&&(v>=o?delete a.minimum:delete a.exclusiveMinimum)),typeof g=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.maximum=g,a.exclusiveMaximum=!0):a.exclusiveMaximum=g),typeof c=="number"&&(a.maximum=c,typeof g=="number"&&e.target!=="draft-04"&&(g<=c?delete a.maximum:delete a.exclusiveMaximum)),typeof d=="number"&&(a.multipleOf=d)},a9=(t,e,n,r)=>{n.not={}},o9=(t,e,n,r)=>{},l9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},c9=(t,e,n,r)=>{const a=t._zod.def,o=Q2(a.entries);o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),n.enum=o},u9=(t,e,n,r)=>{const a=t._zod.def,o=[];for(const c of a.values)if(c===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof c=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(c))}else o.push(c);if(o.length!==0)if(o.length===1){const c=o[0];n.type=c===null?"null":typeof c,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[c]:n.const=c}else o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),o.every(c=>typeof c=="boolean")&&(n.type="boolean"),o.every(c=>c===null)&&(n.type="null"),n.enum=o},h9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},d9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},f9=(t,e,n,r)=>{const a=n,o=t._zod.def,{minimum:c,maximum:h}=t._zod.bag;typeof c=="number"&&(a.minItems=c),typeof h=="number"&&(a.maxItems=h),a.type="array",a.items=gn(o.element,e,{...r,path:[...r.path,"items"]})},m9=(t,e,n,r)=>{const a=n,o=t._zod.def;a.type="object",a.properties={};const c=o.shape;for(const g in c)a.properties[g]=gn(c[g],e,{...r,path:[...r.path,"properties",g]});const h=new Set(Object.keys(c)),d=new Set([...h].filter(g=>{const v=o.shape[g]._zod;return e.io==="input"?v.optin===void 0:v.optout===void 0}));d.size>0&&(a.required=Array.from(d)),o.catchall?._zod.def.type==="never"?a.additionalProperties=!1:o.catchall?o.catchall&&(a.additionalProperties=gn(o.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(a.additionalProperties=!1)},p9=(t,e,n,r)=>{const a=t._zod.def,o=a.inclusive===!1,c=a.options.map((h,d)=>gn(h,e,{...r,path:[...r.path,o?"oneOf":"anyOf",d]}));o?n.oneOf=c:n.anyOf=c},g9=(t,e,n,r)=>{const a=t._zod.def,o=gn(a.left,e,{...r,path:[...r.path,"allOf",0]}),c=gn(a.right,e,{...r,path:[...r.path,"allOf",1]}),h=g=>"allOf"in g&&Object.keys(g).length===1,d=[...h(o)?o.allOf:[o],...h(c)?c.allOf:[c]];n.allOf=d},y9=(t,e,n,r)=>{const a=t._zod.def,o=gn(a.innerType,e,r),c=e.seen.get(t);e.target==="openapi-3.0"?(c.ref=a.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},v9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},_9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},b9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},x9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType;let c;try{c=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},w9=(t,e,n,r)=>{const a=t._zod.def,o=e.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;gn(o,e,r);const c=e.seen.get(t);c.ref=o},E9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.readOnly=!0},yN=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},T9=ie("ZodISODateTime",(t,e)=>{IL.init(t,e),Tt.init(t,e)});function S9(t){return jU(T9,t)}const A9=ie("ZodISODate",(t,e)=>{NL.init(t,e),Tt.init(t,e)});function I9(t){return kU(A9,t)}const N9=ie("ZodISOTime",(t,e)=>{RL.init(t,e),Tt.init(t,e)});function R9(t){return OU(N9,t)}const C9=ie("ZodISODuration",(t,e)=>{CL.init(t,e),Tt.init(t,e)});function D9(t){return PU(C9,t)}const j9=(t,e)=>{W2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>b5(t,n)},flatten:{value:n=>_5(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,mv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,mv,2)}},isEmpty:{get(){return t.issues.length===0}}})},xr=ie("ZodError",j9,{Parent:Error}),k9=Q_(xr),O9=Z_(xr),P9=Wm(xr),M9=ep(xr),V9=E5(xr),z9=T5(xr),L9=S5(xr),U9=A5(xr),F9=I5(xr),B9=N5(xr),q9=R5(xr),$9=C5(xr),Dt=ie("ZodType",(t,e)=>(Ct.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:_m(t,"input"),output:_m(t,"output")}}),t.toJSONSchema=n9(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(la(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>ca(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>k9(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>P9(t,n,r),t.parseAsync=async(n,r)=>O9(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>M9(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>V9(t,n,r),t.decode=(n,r)=>z9(t,n,r),t.encodeAsync=async(n,r)=>L9(t,n,r),t.decodeAsync=async(n,r)=>U9(t,n,r),t.safeEncode=(n,r)=>F9(t,n,r),t.safeDecode=(n,r)=>B9(t,n,r),t.safeEncodeAsync=async(n,r)=>q9(t,n,r),t.safeDecodeAsync=async(n,r)=>$9(t,n,r),t.refine=(n,r)=>t.check(z8(n,r)),t.superRefine=n=>t.check(L8(n)),t.overwrite=n=>t.check(hc(n)),t.optional=()=>bT(t),t.exactOptional=()=>S8(t),t.nullable=()=>xT(t),t.nullish=()=>bT(xT(t)),t.nonoptional=n=>D8(t,n),t.array=()=>X_(t),t.or=n=>J_([t,n]),t.and=n=>_8(t,n),t.transform=n=>wT(t,E8(n)),t.default=n=>N8(t,n),t.prefault=n=>C8(t,n),t.catch=n=>k8(t,n),t.pipe=n=>wT(t,n),t.readonly=()=>M8(t),t.describe=n=>{const r=t.clone();return Cu.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Cu.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Cu.get(t);const r=t.clone();return Cu.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),vN=ie("_ZodString",(t,e)=>{Y_.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>s9(t,r,a);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(FU(...r)),t.includes=(...r)=>t.check($U(...r)),t.startsWith=(...r)=>t.check(HU(...r)),t.endsWith=(...r)=>t.check(GU(...r)),t.min=(...r)=>t.check(vm(...r)),t.max=(...r)=>t.check(dN(...r)),t.length=(...r)=>t.check(fN(...r)),t.nonempty=(...r)=>t.check(vm(1,...r)),t.lowercase=r=>t.check(BU(r)),t.uppercase=r=>t.check(qU(r)),t.trim=()=>t.check(QU()),t.normalize=(...r)=>t.check(KU(...r)),t.toLowerCase=()=>t.check(ZU()),t.toUpperCase=()=>t.check(YU()),t.slugify=()=>t.check(XU())}),H9=ie("ZodString",(t,e)=>{Y_.init(t,e),vN.init(t,e),t.email=n=>t.check(hU(G9,n)),t.url=n=>t.check(gU(K9,n)),t.jwt=n=>t.check(DU(l8,n)),t.emoji=n=>t.check(yU(Q9,n)),t.guid=n=>t.check(fT(yT,n)),t.uuid=n=>t.check(dU(gf,n)),t.uuidv4=n=>t.check(fU(gf,n)),t.uuidv6=n=>t.check(mU(gf,n)),t.uuidv7=n=>t.check(pU(gf,n)),t.nanoid=n=>t.check(vU(Z9,n)),t.guid=n=>t.check(fT(yT,n)),t.cuid=n=>t.check(_U(Y9,n)),t.cuid2=n=>t.check(bU(X9,n)),t.ulid=n=>t.check(xU(J9,n)),t.base64=n=>t.check(NU(i8,n)),t.base64url=n=>t.check(RU(a8,n)),t.xid=n=>t.check(wU(W9,n)),t.ksuid=n=>t.check(EU(e8,n)),t.ipv4=n=>t.check(TU(t8,n)),t.ipv6=n=>t.check(SU(n8,n)),t.cidrv4=n=>t.check(AU(r8,n)),t.cidrv6=n=>t.check(IU(s8,n)),t.e164=n=>t.check(CU(o8,n)),t.datetime=n=>t.check(S9(n)),t.date=n=>t.check(I9(n)),t.time=n=>t.check(R9(n)),t.duration=n=>t.check(D9(n))});function Nn(t){return uU(H9,t)}const Tt=ie("ZodStringFormat",(t,e)=>{xt.init(t,e),vN.init(t,e)}),G9=ie("ZodEmail",(t,e)=>{vL.init(t,e),Tt.init(t,e)}),yT=ie("ZodGUID",(t,e)=>{gL.init(t,e),Tt.init(t,e)}),gf=ie("ZodUUID",(t,e)=>{yL.init(t,e),Tt.init(t,e)}),K9=ie("ZodURL",(t,e)=>{_L.init(t,e),Tt.init(t,e)}),Q9=ie("ZodEmoji",(t,e)=>{bL.init(t,e),Tt.init(t,e)}),Z9=ie("ZodNanoID",(t,e)=>{xL.init(t,e),Tt.init(t,e)}),Y9=ie("ZodCUID",(t,e)=>{wL.init(t,e),Tt.init(t,e)}),X9=ie("ZodCUID2",(t,e)=>{EL.init(t,e),Tt.init(t,e)}),J9=ie("ZodULID",(t,e)=>{TL.init(t,e),Tt.init(t,e)}),W9=ie("ZodXID",(t,e)=>{SL.init(t,e),Tt.init(t,e)}),e8=ie("ZodKSUID",(t,e)=>{AL.init(t,e),Tt.init(t,e)}),t8=ie("ZodIPv4",(t,e)=>{DL.init(t,e),Tt.init(t,e)}),n8=ie("ZodIPv6",(t,e)=>{jL.init(t,e),Tt.init(t,e)}),r8=ie("ZodCIDRv4",(t,e)=>{kL.init(t,e),Tt.init(t,e)}),s8=ie("ZodCIDRv6",(t,e)=>{OL.init(t,e),Tt.init(t,e)}),i8=ie("ZodBase64",(t,e)=>{PL.init(t,e),Tt.init(t,e)}),a8=ie("ZodBase64URL",(t,e)=>{VL.init(t,e),Tt.init(t,e)}),o8=ie("ZodE164",(t,e)=>{zL.init(t,e),Tt.init(t,e)}),l8=ie("ZodJWT",(t,e)=>{UL.init(t,e),Tt.init(t,e)}),_N=ie("ZodNumber",(t,e)=>{lN.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>i9(t,r,a),t.gt=(r,a)=>t.check(pT(r,a)),t.gte=(r,a)=>t.check(zf(r,a)),t.min=(r,a)=>t.check(zf(r,a)),t.lt=(r,a)=>t.check(mT(r,a)),t.lte=(r,a)=>t.check(Vf(r,a)),t.max=(r,a)=>t.check(Vf(r,a)),t.int=r=>t.check(vT(r)),t.safe=r=>t.check(vT(r)),t.positive=r=>t.check(pT(0,r)),t.nonnegative=r=>t.check(zf(0,r)),t.negative=r=>t.check(mT(0,r)),t.nonpositive=r=>t.check(Vf(0,r)),t.multipleOf=(r,a)=>t.check(gT(r,a)),t.step=(r,a)=>t.check(gT(r,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function bm(t){return MU(_N,t)}const c8=ie("ZodNumberFormat",(t,e)=>{FL.init(t,e),_N.init(t,e)});function vT(t){return VU(c8,t)}const u8=ie("ZodUnknown",(t,e)=>{BL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>o9()});function _T(){return zU(u8)}const h8=ie("ZodNever",(t,e)=>{qL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>a9(t,n,r)});function d8(t){return LU(h8,t)}const f8=ie("ZodDate",(t,e)=>{$L.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>l9(t,r),t.min=(r,a)=>t.check(zf(r,a)),t.max=(r,a)=>t.check(Vf(r,a));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function m8(t){return UU(f8,t)}const p8=ie("ZodArray",(t,e)=>{HL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>f9(t,n,r,a),t.element=e.element,t.min=(n,r)=>t.check(vm(n,r)),t.nonempty=n=>t.check(vm(1,n)),t.max=(n,r)=>t.check(dN(n,r)),t.length=(n,r)=>t.check(fN(n,r)),t.unwrap=()=>t.element});function X_(t,e){return JU(p8,t,e)}const g8=ie("ZodObject",(t,e)=>{KL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>m9(t,n,r,a),lt(t,"shape",()=>e.shape),t.keyof=()=>b8(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:_T()}),t.loose=()=>t.clone({...t._zod.def,catchall:_T()}),t.strict=()=>t.clone({...t._zod.def,catchall:d8()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>m5(t,n),t.safeExtend=n=>p5(t,n),t.merge=n=>g5(t,n),t.pick=n=>d5(t,n),t.omit=n=>f5(t,n),t.partial=(...n)=>y5(bN,t,n[0]),t.required=(...n)=>v5(xN,t,n[0])});function Th(t,e){const n={type:"object",shape:t??{},...Se(e)};return new g8(n)}const y8=ie("ZodUnion",(t,e)=>{QL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>p9(t,n,r,a),t.options=e.options});function J_(t,e){return new y8({type:"union",options:t,...Se(e)})}const v8=ie("ZodIntersection",(t,e)=>{ZL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>g9(t,n,r,a)});function _8(t,e){return new v8({type:"intersection",left:t,right:e})}const gv=ie("ZodEnum",(t,e)=>{YL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>c9(t,r,a),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,a)=>{const o={};for(const c of r)if(n.has(c))o[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new gv({...e,checks:[],...Se(a),entries:o})},t.exclude=(r,a)=>{const o={...e.entries};for(const c of r)if(n.has(c))delete o[c];else throw new Error(`Key ${c} not found in enum`);return new gv({...e,checks:[],...Se(a),entries:o})}});function b8(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new gv({type:"enum",entries:n,...Se(e)})}const x8=ie("ZodLiteral",(t,e)=>{XL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>u9(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function yv(t,e){return new x8({type:"literal",values:Array.isArray(t)?t:[t],...Se(e)})}const w8=ie("ZodTransform",(t,e)=>{JL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>d9(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new G2(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(sh(o,n.value,e));else{const c=o;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(sh(c))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function E8(t){return new w8({type:"transform",transform:t})}const bN=ie("ZodOptional",(t,e)=>{hN.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>yN(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function bT(t){return new bN({type:"optional",innerType:t})}const T8=ie("ZodExactOptional",(t,e)=>{WL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>yN(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function S8(t){return new T8({type:"optional",innerType:t})}const A8=ie("ZodNullable",(t,e)=>{eU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>y9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function xT(t){return new A8({type:"nullable",innerType:t})}const I8=ie("ZodDefault",(t,e)=>{tU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>_9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function N8(t,e){return new I8({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Y2(e)}})}const R8=ie("ZodPrefault",(t,e)=>{nU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>b9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function C8(t,e){return new R8({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Y2(e)}})}const xN=ie("ZodNonOptional",(t,e)=>{rU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>v9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function D8(t,e){return new xN({type:"nonoptional",innerType:t,...Se(e)})}const j8=ie("ZodCatch",(t,e)=>{sU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>x9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function k8(t,e){return new j8({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const O8=ie("ZodPipe",(t,e)=>{iU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>w9(t,n,r,a),t.in=e.in,t.out=e.out});function wT(t,e){return new O8({type:"pipe",in:t,out:e})}const P8=ie("ZodReadonly",(t,e)=>{aU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>E9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function M8(t){return new P8({type:"readonly",innerType:t})}const V8=ie("ZodCustom",(t,e)=>{oU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>h9(t,n)});function z8(t,e={}){return WU(V8,t,e)}function L8(t){return e9(t)}const U8=Th({id:Nn().optional(),name:Nn().min(1),dupr:bm().nonnegative().optional(),imageUrl:Nn().optional(),createdAt:Nn().optional()}),W_=J_([yv(1),yv(2)]),ET=Th({player1Id:Nn(),player2Id:Nn()}),F8=Th({id:Nn().optional(),team1:ET,team2:ET,team1Score:bm().nonnegative().optional(),team2Score:bm().nonnegative().optional(),courtId:Nn().optional(),roundNumber:W_}),B8=Th({id:Nn().optional(),playerIds:X_(Nn()).min(4).max(5),roundNumber:W_,courtNumber:bm().positive()}),q8=J_([W_,yv("standings")]),$8=Th({id:Nn(),name:Nn(),startDateTime:m8(),location:Nn().optional(),link:Nn().optional(),ongoingStage:q8.optional(),standings:X_(Nn()).optional()}),H8=t=>({EeI9ewBfoKpSajmerLDH:"John Doe",GqsPoUKXTw3kJMSJqwU0:"Jane Smith",RGq6NFnJfWIcvQqdifLt:"Alex Johnson",T28AtFw8KdQU23bXrGKh:"Rock Star",TMUWdVphOwXWWpBD0tg4:"Michael Lee",W3tjD6JMTZvL7h9DBekb:"Sarah Kim",bmIXpKlFhwhNuex6mG3a:"Chris Brown",cFbaelu4ZQhUiUovuSDq:"Hayden Patriquin",de634TOQoQt6DcvdllTE:"David Wilson",ev1yGMQ2TwdWVulSScR3:"Ashley Moore",lR41KMImIthFWUlTfvcq:"Brian Clark",ov1yJixQu0Y7GgSVGOS3:"Olivia Hall",s9CKyNz5sETtOI6s9gJb:"Matthew Young",sBaVpfAOMRsqcUiaVdXN:"Sophia King",sewQTUTqabMCEYb80N8L:"Daniel Wright",tgJHqe0ToCymKcHIthmM:"Megan Scott",v8BhDF0WAc6VgcOwc87B:"Ryan Adams",wekFMjCMfuI7MNNVYVnO:"Lauren Baker",zi6ygH5Iais5EPUVR0Ix:"Kevin Perez","55YtackrvsPralsAJY2V":"Natalie Roberts"})[t],wN={champion:{name:"Champion",gradient:["#FFF8DC","#F0E68C"],accent:"#DAA520",text:"#8B4513"},competitive:{name:"Competitive",gradient:["#E6F3FF","#B0D4F1"],accent:"#4682B4",text:"#2F4F4F"},rising:{name:"Rising Star",gradient:["#F0FFF0","#C1E1C1"],accent:"#6B8E23",text:"#2E5D2E"},rookie:{name:"Rookie",gradient:["#FFE4E1","#F5DEB3"],accent:"#CD853F",text:"#8B4513"},default:{name:"Player",gradient:["#F5F5F5","#E0E0E0"],accent:"#808080",text:"#505050"}},TT=["hexagon","diamond","paddle","court","geometric"];function EN(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return Math.abs(e)}function G8(t){const e=EN(t),n=Object.keys(wN);return n[e%n.length]}function ST(t,e){const n=t/2,r=t/2,a=t*.3;let o="";for(let c=0;c<6;c++){const h=(c*60-90)*(Math.PI/180),d=n+a*Math.cos(h),g=r+a*Math.sin(h);o+=c===0?`M ${d} ${g}`:` L ${d} ${g}`}return o+=" Z",`<path d="${o}" fill="${e.accent}" opacity="0.25"/>`}function K8(t,e){const n=t/2,r=t/2,a=t*.25,o=[];for(let c=0;c<3;c++){const h=(c-1)*a*.8,d=`M ${n} ${r-a+h} 
                  L ${n+a*.6} ${r+h} 
                  L ${n} ${r+a+h} 
                  L ${n-a*.6} ${r+h} Z`;o.push(`<path d="${d}" fill="${e.accent}" opacity="${.15+c*.08}"/>`)}return o.join("")}function Q8(t,e){const n=t/2,r=t/2,a=`M ${n-2} ${r+t*.2} 
                      L ${n+2} ${r+t*.2} 
                      L ${n+2} ${r+t*.35} 
                      L ${n-2} ${r+t*.35} Z`,o=t*.15;return`
    <path d="${`M ${n-o} ${r-t*.15} 
                    A ${o} ${o} 0 0 1 ${n+o} ${r-t*.15} 
                    L ${n+o} ${r+t*.15} 
                    A ${o} ${o} 0 0 1 ${n-o} ${r+t*.15} Z`}" fill="${e.accent}" opacity="0.2"/>
    <path d="${a}" fill="${e.accent}" opacity="0.3"/>
  `}function Z8(t,e){const n=[],a=t/5;for(let o=1;o<5;o++){const c=o*a;n.push(`<line x1="0" y1="${c}" x2="${t}" y2="${c}" stroke="${e.accent}" stroke-width="1" opacity="0.25"/>`)}return n.push(`<line x1="${t/2}" y1="${a}" x2="${t/2}" y2="${t-a}" stroke="${e.accent}" stroke-width="1" opacity="0.3"/>`),n.join("")}function Y8(t,e,n){const r=[],a=2+n%3;for(let o=0;o<a;o++){const c=t*.1+n%18,h=n*(o+1)%(t-c),d=n*(o+2)%(t-c),g=.1+o*.05;o%2===0?r.push(`<circle cx="${h+c/2}" cy="${d+c/2}" r="${c/2}" fill="${e.accent}" opacity="${g}"/>`):r.push(`<rect x="${h}" y="${d}" width="${c}" height="${c}" fill="${e.accent}" opacity="${g}"/>`)}return r.join("")}function X8(t,e,n,r){switch(t){case"hexagon":return ST(e,n);case"diamond":return K8(e,n);case"paddle":return Q8(e,n);case"court":return Z8(e,n);case"geometric":return Y8(e,n,r);default:return ST(e,n)}}function J8(t){const{playerId:e,playerName:n,size:r=64}=t,a=EN(e+n),o=G8(e),c=wN[o],h=TT[a%TT.length],d=n.split(" ").map(_=>_.charAt(0).toUpperCase()).slice(0,2).join(""),g=X8(h,r,c,a);return`
    <svg width="${r}" height="${r}" viewBox="0 0 ${r} ${r}" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="bg-gradient-${a}" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:${c.gradient[0]};stop-opacity:1" />
          <stop offset="100%" style="stop-color:${c.gradient[1]};stop-opacity:1" />
        </linearGradient>
      </defs>
      
      <!-- Background -->
      <rect width="${r}" height="${r}" fill="url(#bg-gradient-${a})" rx="${r*.1}" />
      
      <!-- Pattern -->
      ${g}
      
      <!-- Initials -->
      <text 
        x="${r/2}" 
        y="${r/2+5}" 
        text-anchor="middle" 
        font-family="Inter, system-ui, -apple-system, sans-serif" 
        font-size="${r*.35}" 
        font-weight="700" 
        fill="${c.text}"
        opacity="0.9"
      >
        ${d}
      </text>
    </svg>
  `.trim()}function W8(t){const e=J8(t);return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(e)))}`}function eF(t){if(t){if(typeof t?.toDate=="function")return t.toDate().toISOString();if(typeof t=="string")return t}}function tF(t){if(t){if(typeof t?.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);if(!isNaN(e.getTime()))return e}}}const nF={toFirestore(t){const{id:e,createdAt:n,...r}=t;return{...r,createdAt:n||X3()}},fromFirestore(t,e){const n=t.data(e),r=H8(t.id);r||console.log("No demo name for player id:",t.id);const a=r||n.name;let o=n.imageUrl;a&&typeof a=="string"&&(o=W8({playerId:t.id,playerName:a,size:64}));const c={id:t.id,name:a,dupr:n.dupr,imageUrl:o,createdAt:eF(n.createdAt)};return U8.parse(c)}},rF={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,...n};return F8.parse(r)}},sF={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),{playerIds:r,...a}=n,o={playerIds:Array.isArray(r)?r.map(String):[],...a,id:t.id};return B8.parse(o)}},iF={toFirestore(t){const{id:e,...n}=t,{...r}=n;return{...r}},fromFirestore(t,e){const n=t.data(e);let r=new Date;try{r=tF(n.startDateTime)||new Date}catch(o){console.log(o)}const a={id:t.id,name:n.name,startDateTime:r,location:n.location,link:n.link,standings:Array.isArray(n.standings)?n.standings.map(String):void 0,label:n.label};return $8.parse(a)}};function TN(t,e,n){const r=[e];async function a(h){await t.cancelQueries({queryKey:[e,n]});const d=n?t.getQueryData([e,n]):null,g=t.getQueryData(r),v=h?.id??n,_=v?{...d,...h,id:v}:void 0;return _&&_.id&&(t.setQueryData([e,_.id],_),t.setQueryData(r,E=>{const T=E??[],D=T.findIndex(j=>j.id===_.id);if(D>=0){const j=[...T];return j[D]=_,j}return[_,...T]})),{previousItem:d,previousList:g}}function o(...h){const d=h[h.length-1];d?.previousItem&&n&&t.setQueryData([e,n],d.previousItem),d?.previousList?t.setQueryData(r,d.previousList):t.invalidateQueries({queryKey:r})}function c(...h){const d=h[0];if(typeof d=="string"&&d)t.invalidateQueries({queryKey:[e,d]});else if(d&&typeof d=="object"&&"id"in d){const g=d.id;g&&t.invalidateQueries({queryKey:[e,g]})}t.invalidateQueries({queryKey:r})}return{onMutate:a,onError:o,onSettled:c}}function SN(t,e,n){const r=ec(),o=uS({queryKey:[t,n],queryFn:async()=>!n||!t?null:t5(t,n,e),enabled:!!n,staleTime:1e3*60}),c=t?TN(r,t,n):void 0,h=Sm({mutationFn:async d=>{if(!t)return d;if(d?.id)return await n5(t,d.id,d,e),d;{const g=await H2(t,d,e);return{...d,id:g}}},onMutate:c?.onMutate,onError:c?.onError,onSettled:c?.onSettled});return{...o,upsert:h.mutateAsync,upsertState:{status:h.status,error:h.error??null}}}function AN(t,e){const n=uS({queryKey:[t],queryFn:async()=>t?(await i5(t,{pageSize:1e3,converter:e})).docs:[],staleTime:6e4,enabled:!!t});return t?n:{...n,data:[],isLoading:!1,error:new Error("Missing collectionName")}}function aF(t,e){const n=ec();return Sm({mutationFn:async r=>await H2(t,r,e),onMutate:async r=>{await n.cancelQueries({queryKey:[t]});const a=n.getQueryData([t]),o=`__tmp__${Date.now()}`,c={...r,id:o};return n.setQueryData([t],h=>[c,...h??[]]),{previousList:a}},onError:(r,a,o)=>{o?.previousList?n.setQueryData([t],o.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:r=>{n.invalidateQueries({queryKey:[t]}),r&&n.invalidateQueries({queryKey:[t,r]})}})}function oF(t,e){const n=ec(),r=TN(n,t);return Sm({mutationFn:async a=>{const o=a.id;if(!o)throw new Error("id required for update");await r5(t,o,a,e)},onMutate:r.onMutate,onError:r.onError,onSettled:r.onSettled})}function lF(t){const e=ec();return Sm({mutationFn:async n=>{if(!n)throw new Error("id required for delete");await s5(t,n)},onMutate:async n=>{if(!n)return{};await e.cancelQueries({queryKey:[t]});const r=e.getQueryData([t,n]),a=e.getQueryData([t]);return a&&e.setQueryData([t],a.filter(o=>o.id!==n)),e.setQueryData([t,n],null),{previous:r,previousList:a}},onError:(n,r,a)=>{const o=r;a?.previous&&o&&e.setQueryData([t,o],a.previous),a?.previousList?e.setQueryData([t],a.previousList):e.invalidateQueries({queryKey:[t]})},onSettled:(n,r,a)=>{a&&e.invalidateQueries({queryKey:[t,a]}),e.invalidateQueries({queryKey:[t]})}})}function IN(t,e){const n=aF(t,e);return{create:n.mutateAsync,status:n.status,error:n.error??null}}function NN(t,e){const n=oF(t,e);return{update:n.mutateAsync,status:n.status,error:n.error??null}}function RN(t){const e=lF(t);return{remove:e.mutateAsync,status:e.status,error:e.error??null}}function CN(t,e,n){const r=!!t&&!!n,[a,o]=V.useState(null),[c,h]=V.useState(null);return V.useEffect(()=>{if(!r)return;const g=__(ti,t),v=e?g.withConverter(e):g,_=cc(v,n),E=u2(_,T=>{T.exists()?o(T.data()):o(null)},T=>{h(T)});return()=>{E()}},[r,t,n,e]),{data:r?a:null,loading:r&&a===null&&c===null,error:r?c:null}}function DN(t,e){const[n,r]=V.useState(null),[a,o]=V.useState(!0),[c,h]=V.useState(null),[d,g]=V.useState(t);return V.useEffect(()=>{if(!t)return;const v=__(ti,t),_=e?v.withConverter(e):v,E=u2(_,T=>{const D=T.docs.map(j=>j.data());r(D),o(!1)},T=>{h(T),o(!1)});return()=>{E()}},[t,e]),t?{data:n,loading:a,error:c}:{data:[],loading:!1,error:new Error("Missing collectionName")}}function jN(t,e){function n(g){return SN(t,e,g)}function r(){return AN(t,e)}function a(){return IN(t,e)}function o(){return NN(t,e)}function c(){return RN(t)}function h(g){return CN(t,e,g)}function d(){return DN(t,e)}return{useEntity:n,useEntities:r,useCreate:a,useUpdate:o,useDelete:c,useEntityRealtime:h,useEntitiesRealtime:d}}function cF(t,e){function n(...g){const v=t(...g),_=AN(v,e);return v?_:{..._,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function r(...g){const v=g.slice(0,-1),_=g[g.length-1],E=t(...v),T=SN(E,e,_);return E?T:{...T,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}function a(...g){const v=t(...g),_=IN(v,e);return v?_:{..._,create:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function o(...g){const _=t(...g),E=NN(_,e);return _?E:{...E,update:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function c(...g){const v=t(...g),_=RN(v);return v?_:{..._,remove:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function h(...g){const v=t(...g),_=DN(v,e);return v?_:{..._,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function d(...g){const v=g.slice(0,-1),_=g[g.length-1],E=t(...v),T=CN(E,e,_);return E?T:{...T,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}return{useEntities:n,useEntity:r,useCreate:a,useUpdate:o,useDelete:c,useEntitiesRealtime:h,useEntityRealtime:d}}const kN=(t,e,n)=>cF(r=>r?`${t}/${r}/${e}`:void 0,n),{useEntities:Sh,useCreate:uF,useEntitiesRealtime:hF}=jN("players",nF),{useEntity:ON,useEntities:No,useCreate:dF,useUpdate:PN,useEntityRealtime:fF}=jN("events",iF),{useCreate:mF,useDelete:pF,useEntitiesRealtime:MN}=kN("events","courts",sF),{useCreate:gF,useUpdate:yF,useDelete:vF,useEntitiesRealtime:VN}=kN("events","games",rF),ih=({imageUrl:t,name:e,size:n="md",className:r,border:a=!0})=>{const o={sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-xs",lg:"h-12 w-12 text-sm",xl:"h-16 w-16 text-base"},c={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-8 w-8"},h=on("rounded-full object-cover flex-shrink-0",o[n],a&&"border border-border",r);if(t){const d=t.startsWith("/")?`/${t.slice(1)}`:t;return m.jsx("img",{src:d,alt:e,className:h})}return m.jsx("div",{className:on(h,"bg-surface-highlight flex items-center justify-center"),children:e?m.jsx("span",{className:"font-bold text-text-muted",children:e.charAt(0)}):m.jsx(gS,{className:on("text-text-muted",c[n])})})},so=({children:t,primaryColor:e="primary",secondaryColor:n="success",className:r=""})=>m.jsx("div",{className:`relative overflow-hidden ${r}`,children:m.jsxs("div",{className:`bg-gradient-to-br from-${e}/5 via-surface to-${n}/5 rounded-3xl p-4 md:p-8 border border-${e}/20 shadow-2xl`,children:[t,m.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-${e}/10 to-transparent rounded-full blur-2xl -z-10`}),m.jsx("div",{className:`absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-${n}/10 to-transparent rounded-full blur-2xl -z-10`})]})}),xm=({icon:t,title:e,subtitle:n,iconColor:r="primary",className:a=""})=>m.jsxs("div",{className:`text-center mb-12 ${a}`,children:[m.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-${r} to-${r}/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300`,children:m.jsx(t,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:e}),n&&m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:n})]}),Ki=({emoji:t,title:e,value:n,description:r,color:a="primary",className:o=""})=>m.jsxs("div",{className:`group relative overflow-hidden rounded-2xl bg-gradient-to-br from-${a}/10 to-${a}/5 border-2 border-${a}/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 ${o}`,children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"mb-4",children:t}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:e}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:`text-2xl font-black text-${a}`,children:n}),r&&m.jsx("div",{className:"text-text-muted font-medium",children:r})]})]}),m.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 bg-${a}/5 rounded-full blur-xl`})]}),_F=()=>{const{data:t=[]}=No(),{data:e=[]}=Sh(),n=qs.useMemo(()=>{const h=new Map,d=new Map;(t||[]).filter(_=>Array.isArray(_.standings)&&_.standings.length>0).forEach(_=>{const E={id:_.id,date:_.startDateTime?_.startDateTime.toISOString():_.id,isCompleted:!0,standings:_.standings};(Dv(E)||[]).forEach(D=>{const j=D.playerId,P=D.pointsEarned||0;h.set(j,(h.get(j)||0)+P),d.set(j,(d.get(j)||0)+1)})});const v=Array.from(h.entries()).map(([_,E])=>({playerId:_,points:E}));return v.sort((_,E)=>E.points-_.points),v.slice(0,3).map((_,E)=>({playerId:_.playerId,points:_.points,events:d.get(_.playerId)||0,rank:E+1}))},[t]),r=(()=>{const h=(t||[]).filter(g=>g.startDateTime instanceof Date&&!isNaN(g.startDateTime.getTime()));if(h.length===0)return"Challenge Series";const d=Array.from(new Set(h.map(g=>g.startDateTime.getFullYear()))).sort();return d.length===1?`${d[0]} Challenge`:`${d[0]}${d[d.length-1]} Challenge`})(),a=qs.useMemo(()=>{if(!t||t.length===0)return null;const h=t.filter(_=>_.startDateTime instanceof Date&&!isNaN(_.startDateTime.getTime()));h.sort((_,E)=>_.startDateTime.getTime()-E.startDateTime.getTime());const g=new Date().getTime(),v=h.filter(_=>_.startDateTime.getTime()>=g);return v.length>0?v[0]:null},[t]),o=h=>h?h.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"",c=h=>h?h.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";return m.jsxs("div",{className:"space-y-16 pb-12",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-success/10 border border-success/20 mb-6",children:[m.jsxs("span",{className:"relative flex h-2 w-2",children:[m.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success opacity-75"}),m.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-success"})]}),m.jsxs("span",{className:"text-sm font-semibold text-success",children:[r," is Live"]})]}),m.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-text-main mb-6 tracking-tight leading-tight",children:["Paddle Up",m.jsx("br",{}),m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-text-accent",children:"Premier League"})]}),m.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto leading-relaxed",children:"Join our competitive pickleball league designed for advanced players looking to test their skills and climb the rankings each week."}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[m.jsxs(Nt,{to:"/standings",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-all duration-300 shadow-lg shadow-primary/20 flex items-center gap-2 hover:scale-105",children:["View Standings ",m.jsx(_f,{className:"h-5 w-5"})]}),m.jsx(Nt,{to:"/format",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-all duration-300 flex items-center gap-2",children:"League Format"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 bg-success/5 rounded-full blur-xl -z-10"})]})}),m.jsxs(so,{primaryColor:"primary",secondaryColor:"success",children:[m.jsx(xm,{icon:Am,title:"League Overview",subtitle:"Weekly competitive action with structured format and player advancement",iconColor:"primary"}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(Ki,{emoji:"",title:"Players",value:"16",description:"per night",color:"primary"}),m.jsx(Ki,{emoji:"",title:"Schedule",value:"7-10 PM",description:"Every Sunday",color:"success"}),m.jsx(Ki,{emoji:"",title:"Prize Pool",value:"100",description:"Club Points",color:"warning"}),m.jsx(Ki,{emoji:"",title:"Level",value:"3.5+ DUPR",description:"Required",color:"text-accent"})]})]}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-warning/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-warning/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(Yn,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Season Rewards"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Top performers this season earn Joola gear and Paddle Up club points as rewards for their competitive excellence"})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/20 via-warning/10 to-warning/5 border-2 border-warning/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:m.jsx("span",{className:"text-2xl font-black text-white",children:"1st"})}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Champion"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-lg font-bold text-warning",children:"Joola Hat"}),m.jsx("div",{className:"text-2xl font-black text-warning",children:"25"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),m.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/20 via-text-accent/10 to-text-accent/5 border-2 border-text-accent/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:m.jsx("span",{className:"text-2xl font-black text-white",children:"2nd"})}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Runner-up"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-lg font-bold text-text-accent",children:"Joola Water Bottle"}),m.jsx("div",{className:"text-2xl font-black text-text-accent",children:"15"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),m.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-bronze/20 via-bronze/10 to-bronze/5 border-2 border-bronze/30 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-bronze to-bronze/80 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:m.jsx("span",{className:"text-2xl font-black text-white",children:"3rd"})}),m.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:"Third Place"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-lg font-bold text-bronze",children:"Joola Wristbands"}),m.jsx("div",{className:"text-2xl font-black text-bronze",children:"10"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Club Points"})]})]}),m.jsx("div",{className:"text-3xl opacity-50 absolute top-6 right-6",children:""})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-success/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-success/20 shadow-2xl h-full",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:m.jsx(Yn,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Current Leaders"}),m.jsx("div",{className:"flex items-center justify-center gap-2",children:m.jsxs(Nt,{to:"/standings",className:"text-success hover:text-success font-semibold text-sm flex items-center gap-1",children:["Full Standings ",m.jsx(_f,{className:"h-4 w-4"})]})})]}),m.jsx("div",{className:"space-y-4",children:n.map((h,d)=>{const g=e.find(v=>v.id===h.playerId)||{name:"Unknown",imageUrl:""};return m.jsxs(Nt,{to:`/player/${h.playerId}`,className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-4 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] block",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:d+1})}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(ih,{imageUrl:g.imageUrl,name:g.name,size:"md",className:"group-hover:ring-2 ring-success transition-all"}),m.jsx("span",{className:"font-bold text-text-main group-hover:text-success transition-colors",children:g.name})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("span",{className:"block font-bold text-success",children:[h.points," pts"]}),m.jsxs("span",{className:"text-xs text-text-muted",children:[h.events," Events"]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]},h.playerId)})}),m.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-warning/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl h-full",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:m.jsx(oo,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:" Next Match Night"})]}),a?m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Date"}),m.jsx("div",{className:"text-lg font-bold text-text-main",children:o(a.startDateTime)})]})]})}),m.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Time"}),m.jsx("div",{className:"text-lg font-bold text-text-main",children:c(a.startDateTime)})]})]})}),m.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Location"}),m.jsx("div",{className:"text-lg font-bold text-text-main",children:a.location})]})]})}),m.jsx("div",{className:"pt-4",children:m.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-primary text-white px-6 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center justify-center gap-2",children:["Register on CourtReserve",m.jsx(Rv,{className:"h-5 w-5"})]})})]}):m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"text-center p-8",children:[m.jsx("div",{className:"text-6xl mb-4 opacity-50",children:""}),m.jsx("p",{className:"text-text-muted mb-6",children:"No upcoming match nights are listed. Check the full schedule for details."}),m.jsx(Nt,{to:"/schedule",className:"inline-flex items-center justify-center px-6 py-3 bg-primary text-white rounded-xl font-bold transition-colors hover:bg-primary-hover",children:"View Schedule"})]})}),m.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-text-accent/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-text-accent/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-text-accent to-text-accent/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(Bu,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Ready to Compete?"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:"We are always looking for competitive players to join the roster. Check out the format and rules to see if you qualify for our premier league."}),m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[m.jsxs(Nt,{to:"/format",className:"bg-text-accent text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent/80 transition-colors shadow-lg shadow-text-accent/20 flex items-center gap-2",children:["View League Format ",m.jsx(_f,{className:"h-5 w-5"})]}),m.jsx(Nt,{to:"/standings",className:"bg-surface border-2 border-text-accent text-text-accent px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent hover:text-white transition-colors",children:"Current Standings"})]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})})]})},zN=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"unknown":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`},bF=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Unknown Date":e.toLocaleDateString(void 0,{month:"short",year:"numeric"})},xF=t=>{const e=new Map;return t.forEach(n=>{if(n instanceof Date&&!isNaN(n.getTime())){const r=zN(n);e.has(r)||e.set(r,n)}}),Array.from(e.entries()).sort((n,r)=>r[1].getTime()-n[1].getTime()).map(([n,r])=>({key:n,label:bF(r)}))},LN=(t="all")=>{const{data:e=[]}=Sh(),{data:n=[]}=No();return V.useMemo(()=>{const r=n.filter(h=>Array.isArray(h.standings)&&h.standings.length>0?t==="all"?!0:zN(h.startDateTime)===t:!1),a=OO(r),o=Array.from(a.entries()).map(([h,d])=>({playerId:h,points:d.points,eventsPlayed:d.events,champWins:d.champWins}));return o.sort((h,d)=>d.points-h.points),RO(o,h=>h.points).map(h=>{const d=e.find(g=>g.id===h.playerId);return{...h,name:d?.name||"Unknown",imageUrl:d?.imageUrl||"",dupr:d?.dupr,id:h.playerId}})},[n,e,t])},Jt=qs.forwardRef(({children:t,className:e,variant:n="default",hover:r=!1,padding:a="md",theme:o="primary",...c},h)=>{const d="rounded-xl border transition-all duration-300",g={sm:"p-4",md:"p-6",lg:"p-8",xl:"p-12"},v={primary:{bg:"from-primary/10 to-primary/5",border:"border-primary/20"},success:{bg:"from-success/10 to-success/5",border:"border-success/20"},warning:{bg:"from-warning/10 to-warning/5",border:"border-warning/20"},error:{bg:"from-error/10 to-error/5",border:"border-error/20"},"text-accent":{bg:"from-text-accent/10 to-text-accent/5",border:"border-text-accent/20"},bronze:{bg:"from-bronze/10 to-bronze/5",border:"border-bronze/20"}},_={default:"bg-surface border-border shadow-sm",premium:`bg-gradient-to-br from-surface via-surface-alt to-surface border-border shadow-2xl ${r?"hover:shadow-3xl hover:scale-[1.02] hover:border-primary/50":""}`,gradient:`bg-gradient-to-br ${v[o].bg} ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`,outlined:"bg-transparent border-border hover:border-primary/50",flat:"bg-surface-alt border-transparent shadow-none",stat:`bg-gradient-to-br ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-105":""}`,info:`bg-gradient-to-r ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`},E=r?"cursor-pointer group":"";return m.jsx("div",{ref:h,className:on(d,_[n]??_.default,g[a],E,e),...c,children:t})});Jt.displayName="Card";const wF=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}},UN=({rank:t,className:e,size:n="md"})=>{const r={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},a=o=>o===1?"bg-warning/20 text-warning":o===2?"bg-surface-alt text-text-muted":o===3?"bg-bronze/20 text-bronze":"text-text-muted";return m.jsx("span",{className:on("flex items-center justify-center rounded-full font-bold",r[n],a(t),e),children:wF(t)})},EF=({data:t,players:e,showEvents:n=!0,showPoints:r=!0,className:a})=>m.jsx(Jt,{className:on("p-0 overflow-hidden",a),children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-border rounded-2xl bg-gradient-to-br from-surface/80 to-surface-alt/60 shadow-md",children:[m.jsx("thead",{className:"bg-gradient-to-r from-primary-light/30 to-surface-highlight/60",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider pl-6 rounded-tl-2xl",children:"Rank"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider",children:"Player"}),r&&m.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider",children:"Points"}),n&&m.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider rounded-tr-2xl",children:"Events"})]})}),m.jsx("tbody",{className:"bg-surface divide-y divide-border",children:t.map(o=>{const c=e?.find(h=>h.id===o.playerId)||{name:"Unknown",imageUrl:""};return m.jsxs("tr",{className:on("hover:bg-surface-highlight/70 transition-colors",(o.rank||0)<=4?"bg-primary-light/10":""),children:[m.jsx("td",{className:"px-4 pl-6 py-4 whitespace-nowrap",children:m.jsx(UN,{rank:o.rank??0})}),m.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:m.jsxs(Nt,{to:`/player/${o.playerId}`,className:"flex items-center group",children:[m.jsx(ih,{imageUrl:c.imageUrl,name:c.name,className:"mr-3 group-hover:ring-2 ring-primary transition-all"}),m.jsx("div",{className:"text-sm font-semibold text-text-main group-hover:text-primary transition-colors",children:c.name}),o.rank===1&&m.jsx(Yn,{className:"ml-2 h-4 w-4 text-warning"})]})}),r&&m.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-bold text-success",children:o.points??0})}),n&&m.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-text-muted",children:o.eventsPlayed??0})]},o.playerId)})})]})})}),TF=({value:t,options:e,onChange:n,label:r="View:",className:a=""})=>m.jsxs("div",{className:`inline-flex items-center gap-4 p-2 bg-surface-alt rounded-2xl border border-border shadow-lg ${a}`,children:[m.jsx("span",{className:"text-sm font-semibold text-text-muted px-3",children:r}),m.jsxs("select",{value:t,onChange:o=>n(o.target.value),className:"appearance-none bg-primary text-white text-sm font-bold rounded-xl px-4 py-2 border-0 focus:outline-none focus:ring-2 focus:ring-primary/50",children:[m.jsx("option",{value:"all",children:"All Time"}),e.map(o=>m.jsx("option",{value:o.key,children:o.label},o.key))]})]}),SF=()=>{const[t,e]=V.useState("all"),{data:n=[]}=Sh(),{data:r=[]}=No(),a=V.useMemo(()=>xF(r.map(c=>c.startDateTime)),[r]),o=LN(t);return m.jsx("div",{className:"space-y-16 pb-12",children:m.jsxs(so,{primaryColor:"primary",secondaryColor:"success",children:[m.jsx(xm,{icon:Bu,title:"Standings",subtitle:"Complete standings with detailed statistics for all players",className:"mb-8"}),m.jsx("div",{className:"flex justify-center mb-8",children:m.jsx(TF,{value:t,options:a,onChange:c=>e(c==="all"?"all":c)})}),m.jsx("div",{className:"max-w-6xl mx-auto",children:m.jsx("div",{className:"bg-gradient-to-r from-surface-alt/50 to-surface/50 rounded-2xl border border-border shadow-lg overflow-hidden",children:m.jsx(EF,{data:o,players:n})})})]})})},Sy=({badgeContent:t,title:e,description:n,emoji:r,color:a="primary",className:o=""})=>m.jsx("div",{className:`group relative overflow-hidden rounded-2xl bg-gradient-to-r from-${a}/20 via-${a}/10 to-${a}/5 border-2 border-${a}/30 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] ${o}`,children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-${a} to-${a}/80 rounded-full flex items-center justify-center shadow-lg`,children:m.jsx("span",{className:"text-2xl font-black text-white",children:t})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("div",{className:"text-lg font-bold text-text-main mb-1",children:e}),m.jsx("div",{className:"text-text-muted",children:n})]}),r&&m.jsx("div",{className:"text-3xl opacity-50",children:r})]})}),AF=()=>(V.useEffect(()=>{document.title="Pickleball League  Season 1 (Competitive)"},[]),m.jsxs("div",{className:"space-y-16 pb-12",children:[m.jsxs(so,{primaryColor:"warning",secondaryColor:"primary",children:[m.jsx(xm,{icon:Yn,title:"Season 1 Championship",subtitle:"Compete for exclusive prizes and eternal glory in our inaugural competitive season",iconColor:"warning"}),m.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[m.jsx("div",{className:"text-center lg:text-left",children:m.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-2xl p-8 border border-primary/20 shadow-lg",children:[m.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[m.jsx(Bf,{className:"h-8 w-8 text-primary"}),m.jsx("h3",{className:"text-2xl font-bold text-text-main",children:"Season Duration"})]}),m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"text-center lg:text-left",children:[m.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"4"}),m.jsx("div",{className:"text-xl font-semibold text-text-main",children:"Weeks of Competition"}),m.jsx("div",{className:"text-text-muted mt-2",children:"Every Sunday  7PM-10PM"})]})})]})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-6 text-center lg:text-left",children:"Championship Rewards"}),m.jsx("p",{className:"text-text-muted mb-6 text-center lg:text-left",children:"Top 3 finishers earn exclusive Joola gear and club points:"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(Sy,{badgeContent:"1st",title:"Champion",description:m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"font-semibold text-warning",children:"Joola Hat"})," +",m.jsx("span",{className:"font-semibold text-primary ml-1",children:"25 Club Points"})]}),emoji:"",color:"warning"}),m.jsx(Sy,{badgeContent:"2nd",title:"Runner-up",description:m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"font-semibold text-text-accent",children:"Joola Water Bottle"})," +",m.jsx("span",{className:"font-semibold text-primary ml-1",children:"15 Club Points"})]}),emoji:"",color:"text-accent"}),m.jsx(Sy,{badgeContent:"3rd",title:"Third Place",description:m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"font-semibold text-bronze",children:"Joola Wristbands"})," +",m.jsx("span",{className:"font-semibold text-primary ml-1",children:"10 Club Points"})]}),emoji:"",color:"bronze"})]})]})]})]}),m.jsxs(so,{primaryColor:"primary",secondaryColor:"success",children:[m.jsx(xm,{icon:Bf,title:"Nightly Experience",subtitle:"Every Sunday brings competitive action with structured rounds and exciting gameplay",iconColor:"primary"}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(Ki,{emoji:"",title:"Schedule",value:"7PM  10PM",description:"Every Sunday",color:"primary"}),m.jsx(Ki,{emoji:"",title:"Entry Fee",value:"$20",description:m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{children:"per night"}),m.jsx("div",{className:"text-sm text-success font-semibold bg-success/10 rounded-full px-3 py-1",children:"Free for Annual Members"})]}),color:"success"}),m.jsx(Ki,{emoji:"",title:"Eligibility",value:"DUPR 3.5+",description:"Required Rating",color:"warning"}),m.jsx(Ki,{emoji:"",title:"Format",value:"2 Rounds",description:"per night",color:"text-accent"})]})]}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(Dk,{className:"h-10 w-10 text-white"})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Game Format"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Structured gameplay with rotating partnerships and dynamic scoring systems"})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-5xl mb-6",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Players per Court"}),m.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"45"}),m.jsx("div",{className:"text-text-muted font-medium",children:"Players"})]}),m.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-5xl mb-6",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Partnership"}),m.jsxs("div",{className:"text-text-muted font-medium leading-relaxed",children:["Every player partners ",m.jsx("strong",{className:"text-warning",children:"once per round"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-warning/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-5xl mb-6",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Scoring"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[m.jsx("div",{className:"font-bold text-text-main text-lg",children:"4-Player Courts"}),m.jsx("div",{className:"text-text-muted font-medium",children:"3 games  15 pts  win by 1"})]}),m.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[m.jsx("div",{className:"font-bold text-text-main text-lg",children:"5-Player Courts"}),m.jsx("div",{className:"text-text-muted font-medium",children:"4 games  11 pts  win by 1"})]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-text-accent/5 rounded-full blur-xl"})]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-success/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:m.jsx(Am,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Round 1: Initial Seeding"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0 mt-1",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),m.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Courts assigned via ",m.jsx("strong",{className:"text-primary",children:"snake draft"})," ","(back-and-forth order)"]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0 mt-1",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Seeding Basis"}),m.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Seeding based on"," ",m.jsx("strong",{className:"text-success",children:"previous weeks' performance"})," (or random for the first week)"]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-warning/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-warning/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:m.jsx(Yw,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Round 2"}),m.jsx("p",{className:"text-lg text-text-muted font-medium",children:"Ranked Courts"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0 mt-1",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Placement"}),m.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Players ranked by"," ",m.jsx("strong",{className:"text-warning",children:"Round 1 performance"})]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),m.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex-shrink-0 mt-1",children:m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg",children:m.jsx("span",{className:"text-lg font-black text-white",children:""})})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),m.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Top finishers placed on ",m.jsx("strong",{className:"text-text-accent",children:"Court 1"}),", next group on ",m.jsx("strong",{className:"text-text-accent",children:"Court 2"}),", etc."]})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),m.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),m.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-warning/10 rounded-2xl p-8 border border-primary/30",children:[m.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[m.jsx(Yn,{className:"h-8 w-8 text-warning"}),"Points & Prizes"]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Top Finisher Points"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between p-3 bg-warning/20 rounded-lg border border-warning/50",children:[m.jsx("span",{className:"font-bold text-warning",children:"1st Place"}),m.jsx("span",{className:"font-bold text-text-main",children:"1000 points"})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[m.jsx("span",{className:"font-bold text-text-accent",children:"2nd Place"}),m.jsx("span",{className:"font-bold text-text-main",children:"800 points"})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-bronze/20 rounded-lg border border-bronze/50",children:[m.jsx("span",{className:"font-bold text-bronze",children:"3rd Place"}),m.jsx("span",{className:"font-bold text-text-main",children:"600 points"})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[m.jsx("span",{className:"font-bold text-text-main",children:"4th Place"}),m.jsx("span",{className:"font-bold text-text-main",children:"500 points"})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Point System"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"p-4 bg-surface rounded-lg border border-border",children:m.jsxs("p",{className:"text-text-muted",children:[m.jsx("strong",{children:"All finishing positions earn points"}),", with points dropping by half every three ranks (approximate)"]})}),m.jsx("div",{className:"p-4 bg-primary-light rounded-lg border border-primary/50",children:m.jsxs("p",{className:"text-text-main",children:["Points from every game count toward"," ",m.jsx("strong",{children:"monthly and cumulative rankings"})]})})]})]})]})]}),m.jsxs("div",{className:"bg-surface rounded-2xl p-8 border border-border",children:[m.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[m.jsx(Yw,{className:"h-8 w-8 text-success"})," Key Takeaways"]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"text-success text-lg",children:""}),m.jsxs("p",{className:"text-text-muted",children:["Structured, competitive league for ",m.jsx("strong",{children:"DUPR 3.5+ players"})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"text-success text-lg",children:""}),m.jsxs("p",{className:"text-text-muted",children:["Sunday evenings, ",m.jsx("strong",{children:"7PM10PM"})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"text-success text-lg",children:""}),m.jsxs("p",{className:"text-text-muted",children:[m.jsx("strong",{children:"Two rounds each night"}),", with partner rotation"]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"text-success text-lg",children:""}),m.jsxs("p",{className:"text-text-muted",children:["Points determine"," ",m.jsx("strong",{children:"court placement, monthly standings, and season/all-time rankings"})]})]})]})]})]}),m.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[m.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Ready to Compete?"}),m.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"Check your standings online and track points for this season and all-time rankings for every player."}),m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[m.jsxs("a",{href:"https://paddleup.github.io",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[" Check Your Standings",m.jsx(Rv,{className:"h-5 w-5"})]}),m.jsx(Nt,{to:"/schedule",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-colors",children:"Register for an event"})]})]}),m.jsxs(so,{primaryColor:"primary",secondaryColor:"warning",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Full League Rules & Structure"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Everything you need to know about how the Paddle Up Premier League works."})]}),m.jsxs("div",{className:"prose prose-invert max-w-3xl mx-auto text-left",children:[m.jsx("h3",{children:"Season Format"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Season runs for 1 month (4 weeks)"}),m.jsx("li",{children:"Two rounds per night, every Sunday 710PM"}),m.jsx("li",{children:"Open to DUPR 3.5+ players"})]}),m.jsx("h3",{children:"Night Structure"}),m.jsxs("ul",{children:[m.jsx("li",{children:"45 players per court, every player partners once per round"}),m.jsx("li",{children:"Scoring: 4-player courts: 3 games to 15, win by 1; 5-player courts: 4 games to 11, win by 1"}),m.jsx("li",{children:"Round 1: Snake draft seeding; Round 2: Ranked by performance"})]}),m.jsx("h3",{children:"Points & Standings"}),m.jsxs("ul",{children:[m.jsx("li",{children:"1st: 1000 pts, 2nd: 800, 3rd: 600, 4th: 500, then halves every 3 ranks"}),m.jsx("li",{children:"Points count toward monthly, seasonal, and all-time rankings"}),m.jsx("li",{children:"Top 3 for the season win prizes (see above)"})]}),m.jsx("h3",{children:"Promotion & Court Movement"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Round 2 courts assigned by Round 1 results"}),m.jsx("li",{children:"Top finishers move up, others move down or stay"})]}),m.jsx("h3",{children:"Attendance & Sub Policy"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Zero tolerance for missed nights (0 points), or 1 grace week per season (admin discretion)"}),m.jsx("li",{children:"Subs must be approved and match DUPR as closely as possible"})]}),m.jsx("h3",{children:"Prizes"}),m.jsxs("ul",{children:[m.jsx("li",{children:"1st: Joola Hat + 25 Club Points"}),m.jsx("li",{children:"2nd: Joola Water Bottle + 15 Club Points"}),m.jsx("li",{children:"3rd: Joola Wristbands + 10 Club Points"})]}),m.jsxs("h3",{children:["See full rules on the Standings page or at"," ",m.jsx("a",{href:"https://paddleup.github.io",target:"_blank",rel:"noopener noreferrer",children:"paddleup.github.io"})]})]})]})]})),IF=({history:t})=>{const[e,n]=V.useState(null);return m.jsxs("div",{className:"flex flex-col gap-4",children:[t.length===0&&m.jsx("p",{className:"text-text-muted text-center py-4",children:"No event placements available."}),t.slice().reverse().map((r,a)=>m.jsxs("div",{className:`rounded-xl shadow-md border border-border bg-surface transition-all duration-200 ${e===a?"ring-2 ring-primary":""}`,children:[m.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 text-lg font-bold text-primary focus:outline-none",onClick:()=>n(e===a?null:a),"aria-expanded":e===a,tabIndex:0,children:[m.jsxs("span",{children:[r.eventName??r.eventId," (",r.date,")"]}),m.jsx("span",{className:"text-xs text-text-muted",children:e===a?"Tap to collapse":"Tap to expand"})]}),m.jsx("div",{className:`overflow-hidden transition-all duration-300 ${e===a?"max-h-[300px] py-2":"max-h-0"}`,children:e===a&&m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"text-sm text-text-muted mb-2",children:["Rank: ",m.jsx("span",{className:"font-bold text-text-main",children:r.rank})]}),m.jsx(Nt,{to:`/event/${r.eventId}`,className:"inline-block mt-2 px-4 py-2 bg-primary text-white rounded-lg font-bold hover:bg-primary-hover transition",children:"View Event"})]})})]},r.eventId+a))]})},NF=()=>{const{id:t}=GT(),{data:e}=hF(),{data:n=[]}=No(),r=e?.find(v=>v.id===t);if(!r)return m.jsxs("div",{className:"text-center py-12",children:[m.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Player Not Found"}),m.jsx(Nt,{to:"/players",className:"text-primary hover:underline",children:"Back to Players"})]});const a=n.filter(v=>Array.isArray(v.standings)&&v.standings.length>0).map(v=>{const _={id:v.id,date:v.startDateTime?v.startDateTime.toISOString():v.id,isCompleted:!0,standings:v.standings},E=Dv(_)||[];return{ev:v,finals:E}}),o=new Map;a.forEach(({finals:v})=>{v.forEach(_=>{const E=_.playerId,T=_.pointsEarned||0,D=o.get(E)||{points:0,events:0,champWins:0};D.points+=T,D.events+=1,_.rank===1&&(D.champWins+=1),o.set(E,D)})});const c=Array.from(o.entries()).map(([v,_])=>({playerId:v,points:_.points,eventsPlayed:_.events,champWins:_.champWins})).sort((v,_)=>_.points-v.points);let h=null;c.forEach((v,_)=>{v.playerId===t&&(h=_+1)});const d=o.get(t||"")||{points:0,events:0,champWins:0},g=[];return a.forEach(({ev:v,finals:_})=>{const E=_.find(T=>T.playerId===t);E&&g.push({eventId:v.id,date:v.startDateTime?v.startDateTime.toLocaleDateString():v.id,rank:E.rank})}),m.jsxs("div",{className:"space-y-8 pb-12",children:[m.jsxs(Nt,{to:"/players",className:"inline-flex items-center text-text-muted hover:text-primary transition-colors mb-4",children:[m.jsx(Wj,{className:"h-4 w-4 mr-1"})," Back to Players"]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"md:col-span-1 space-y-6",children:[m.jsxs(Jt,{className:"p-0 overflow-hidden border-border",children:[m.jsx("div",{className:"aspect-square w-full relative bg-surface-highlight",children:r.imageUrl?m.jsx("img",{src:r.imageUrl.startsWith("/")?`/${r.imageUrl.slice(1)}`:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx("span",{className:"text-6xl font-bold text-text-muted opacity-20",children:r.name.charAt(0)})})}),m.jsxs("div",{className:"p-6 text-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-text-main mb-2",children:r.name}),m.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[m.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold border border-primary/20",children:["DUPR ",r.dupr??"N/A"]}),m.jsxs("span",{className:"bg-surface-highlight text-text-muted px-3 py-1 rounded-full text-sm font-medium border border-border",children:["Rank #",h??"-"]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs(Jt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[m.jsx(Yn,{className:"h-6 w-6 text-warning mb-2"}),m.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.points}),m.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Points"})]}),m.jsxs(Jt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[m.jsx(Xw,{className:"h-6 w-6 text-success mb-2"}),m.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.champWins}),m.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Top Finishes"})]}),m.jsxs(Jt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[m.jsx(Qw,{className:"h-6 w-6 text-primary mb-2"}),m.jsx("span",{className:"text-2xl font-bold text-text-main",children:g.length}),m.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Events"})]}),m.jsxs(Jt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[m.jsx(oo,{className:"h-6 w-6 text-text-muted mb-2"}),m.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.events}),m.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Appearances"})]})]})]}),m.jsxs("div",{className:"md:col-span-2 space-y-8",children:[m.jsxs(Jt,{children:[m.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[m.jsx(Qw,{className:"h-5 w-5 text-primary"}),"Event Placements"]}),m.jsx(IF,{history:g.map(v=>({...v,eventName:n.find(_=>_.id===v.eventId)?.name}))})]}),m.jsxs(Jt,{children:[m.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[m.jsx(Xw,{className:"h-5 w-5 text-primary"}),"Event Rankings"]}),m.jsx("div",{className:"space-y-2",children:g.length>0?g.slice().reverse().map((v,_)=>m.jsxs(Nt,{to:`/event/${v.eventId}`,className:"flex items-center justify-between p-2 border-b border-border last:border-0 hover:bg-surface-highlight transition-colors cursor-pointer group",children:[m.jsx("span",{className:"text-sm text-text-muted group-hover:text-text-main transition-colors",children:v.date}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:["Rank #",v.rank]}),m.jsx(UN,{rank:v.rank,size:"sm"})]})]},_)):m.jsx("p",{className:"text-text-muted text-center py-4",children:"No event data available."})})]})]})]})]})},RF=({options:t,value:e,onChange:n,className:r})=>m.jsx("div",{className:r,children:m.jsx("div",{className:"inline-flex",children:t.map(a=>m.jsx("button",{onClick:()=>n(a.value),className:on("px-6 py-2.5 rounded-lg text-sm font-bold transition-all",e===a.value?"bg-primary text-text-main shadow-md":"text-text-muted hover:text-text-main hover:bg-surface"),children:a.label},a.value))})}),AT=t=>t?t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",IT=t=>t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",CF=({event:t,view:e,onClick:n,children:r})=>m.jsx("div",{className:"group relative overflow-hidden rounded-3xl bg-gradient-to-br from-primary/5 via-surface to-success/5 border border-primary/20 p-8 md:p-12 shadow-2xl hover:shadow-2xl transition-all duration-300 hover:border-primary/50 cursor-pointer",onClick:n,children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 md:gap-12",children:[m.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsxs("div",{className:"flex-grow",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-2 group-hover:text-primary transition-colors",children:t.name}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-muted",children:[m.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${e==="past"?"bg-success":"bg-primary"}`}),e==="past"?"Completed Event":"Upcoming Event"]})]}),m.jsxs("div",{className:"text-right text-sm text-text-muted",children:[m.jsx("div",{className:"font-semibold",children:AT(t.startDateTime)}),m.jsx("div",{children:IT(t.startDateTime)})]})]}),m.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/10 rounded-xl border border-primary/20",children:[m.jsx(oo,{className:"h-5 w-5 text-primary flex-shrink-0"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Date"}),m.jsx("div",{className:"font-bold text-text-main truncate",children:AT(t.startDateTime)})]})]}),m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-success/10 rounded-xl border border-success/20",children:[m.jsx(Bf,{className:"h-5 w-5 text-success flex-shrink-0"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Time"}),m.jsx("div",{className:"font-bold text-text-main truncate",children:IT(t.startDateTime)})]})]}),m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-warning/10 rounded-xl border border-warning/20 sm:col-span-2 lg:col-span-1",children:[m.jsx(mS,{className:"h-5 w-5 text-warning flex-shrink-0"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Location"}),m.jsx("div",{className:"font-bold text-text-main truncate",children:t.location??"TBD"})]})]})]})]}),r]})});function FN(t,e){const n=HT(),r=Xs(),a=V.useMemo(()=>new URLSearchParams(r.search),[r.search]),o=V.useMemo(()=>a.get(t)??void 0,[a,t]),c=V.useCallback(g=>{const v=new URLSearchParams(r.search),_=v.get(t)??void 0;g!==_&&(g===void 0||g===""?v.delete(t):v.set(t,g),n({pathname:r.pathname,search:`?${v.toString()}`,hash:r.hash},{replace:!0}))},[n,r,t]),h=V.useCallback(async g=>{c(g)},[c]),d=V.useCallback(async g=>{c(g)},[c]);return V.useEffect(()=>{e!==void 0&&o===void 0&&d(e)},[e,o]),e===void 0?[o,h]:[o??e,d]}const DF=()=>{const{data:t}=No(),e=(t||[]).filter(d=>d.startDateTime instanceof Date&&!isNaN(d.startDateTime.getTime())).slice().sort((d,g)=>d.startDateTime.getTime()-g.startDateTime.getTime()),n=new Date,r=e.filter(d=>d.startDateTime.getTime()>=n.getTime()),a=e.filter(d=>d.startDateTime.getTime()<n.getTime()).slice().reverse(),[o,c]=FN("view","upcoming"),h=o==="upcoming"?r:a;return m.jsxs("div",{className:"space-y-16 pb-12",children:[m.jsx("div",{className:"relative overflow-hidden",children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(oo,{className:"h-10 w-10 text-white"})}),m.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Season Schedule"}),m.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Per-night registration links for 'The Challenge'  register for any night below"})]}),m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),m.jsx("div",{className:"flex justify-center mb-8",children:m.jsx(RF,{options:[{value:"upcoming",label:"Upcoming"},{value:"past",label:"Past"}],value:o,onChange:d=>c(d)})}),m.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 px-2 md:px-0",children:[h.map(d=>m.jsx(CF,{event:d,view:o,onClick:g=>{g.target.closest("a,button")||(window.location.href=`/#/event/${encodeURIComponent(d.id)}`)},children:m.jsx("div",{className:"flex-shrink-0 flex flex-col gap-3 lg:w-48",children:o==="past"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-success/20 border-2 border-success/30 rounded-xl text-success font-bold",children:[m.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-success"}),"Completed"]}),m.jsx(Nt,{to:`/event/${encodeURIComponent(d.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"View Results"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("a",{href:d.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-xl font-bold hover:bg-primary-hover transition-all duration-300 shadow-md hover:shadow-lg",children:[m.jsx(Rv,{className:"h-5 w-5"}),"Register Now"]}),m.jsx(Nt,{to:`/#/event/${encodeURIComponent(d.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"Event Details"})]})})},d.id)),h.length===0&&m.jsxs("div",{className:"text-center p-12 bg-surface rounded-2xl border border-border",children:[m.jsx("div",{className:"text-6xl mb-6 opacity-50",children:o==="upcoming"?"":""}),m.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:o==="upcoming"?"No Upcoming Events":"No Past Events"}),m.jsx("p",{className:"text-text-muted",children:o==="upcoming"?"Check back soon for new match nights to register for!":"Past events will appear here once they're completed."})]})]})]})};function BN(){const[t,e]=V.useState(null),[n,r]=V.useState(!1),[a,o]=V.useState(!0);return V.useEffect(()=>{const c=D2(Mf,async h=>{if(e(h),!h){r(!1),o(!1);return}const g=(await h.getIdTokenResult(!0)).claims;r(g.admin===!0),o(!1)});return()=>c()},[]),{user:t,isAdmin:n,loading:a}}const jF=({isAdmin:t})=>{const{create:e,status:n,error:r}=dF(),[a,o]=V.useState(""),[c,h]=V.useState(""),[d,g]=V.useState(""),[v,_]=V.useState(""),[E,T]=V.useState(""),[D,j]=V.useState(""),[P,Z]=V.useState(""),[X,K]=V.useState(""),[le,Q]=V.useState(""),ae=async N=>{if(N.preventDefault(),!t){alert("You are not authorized to create events.");return}if(!a.trim()||!c){alert("Name and start date are required.");return}const A=new Date(`${c}T${d||"00:00"}`),C=v?new Date(`${v}T${E||"00:00"}`):void 0,z={name:a.trim(),startDateTime:A,...C?{endDateTime:C}:{},...D.trim()?{location:D.trim()}:{},...P?{status:P}:{},...X.trim()?{label:X.trim()}:{},...le.trim()?{link:le.trim()}:{},standings:[],rounds:[]};try{const M=await e(z);alert(`Event created${M?` (id: ${String(M)})`:""}.`),o(""),h(""),g(""),_(""),T(""),j(""),Z(""),K(""),Q("")}catch(M){console.error("Create event failed",M),alert("Failed to create event. See console for details.")}};return m.jsxs("form",{onSubmit:ae,className:"space-y-3 max-w-md",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Event name"}),m.jsx("input",{value:a,onChange:N=>o(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Start date"}),m.jsx("input",{type:"date",value:c,onChange:N=>h(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Start time (optional)"}),m.jsx("input",{type:"time",value:d,onChange:N=>g(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"End date (optional)"}),m.jsx("input",{type:"date",value:v,onChange:N=>_(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"End time (optional)"}),m.jsx("input",{type:"time",value:E,onChange:N=>T(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Location (optional)"}),m.jsx("input",{value:D,onChange:N=>j(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Status (optional)"}),m.jsxs("select",{value:P,onChange:N=>Z(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1",children:[m.jsx("option",{value:"",children:"(none)"}),m.jsx("option",{value:"open",children:"open"}),m.jsx("option",{value:"closed",children:"closed"}),m.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Label (optional)"}),m.jsx("input",{value:X,onChange:N=>K(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Link (optional)"}),m.jsx("input",{value:le,onChange:N=>Q(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:!t||n==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:n==="pending"?"Creating...":"Create event"})}),r&&m.jsxs("p",{className:"text-sm text-red-600",children:["Error creating event: ",String(r)]})]})},kF=()=>{const[t,e]=V.useState(null),n=new Ls,{isAdmin:r}=BN(),{create:a,status:o,error:c}=uF(),h=No(),d=Sh(),g=h.data??[],v=d.data??[],[_,E]=V.useState(void 0),[T,D]=V.useState([]),{data:j}=ON(_)??{},{update:P,status:Z,error:X}=PN(),[K,le]=V.useState(_),[Q,ae]=V.useState(j?.standings);(_!==K||j?.standings!==Q)&&(le(_),ae(j?.standings),j?.standings&&Array.isArray(j.standings)?D([...j.standings]):D([]));const N=R=>{R&&D($=>[...$,R])},A=R=>{D($=>$.filter((se,ue)=>ue!==R))},C=R=>{R<=0||D($=>{const se=[...$],ue=se[R-1];return se[R-1]=se[R],se[R]=ue,se})},z=R=>{D($=>{if(R>=$.length-1)return $;const se=[...$],ue=se[R+1];return se[R+1]=se[R],se[R]=ue,se})},M=async()=>{if(!r){alert("You are not authorized to update events.");return}if(!_){alert("Select an event first.");return}try{await P({id:_,standings:T}),alert("Standings saved.")}catch(R){console.error("Save standings failed",R),alert("Failed to save standings. See console for details.")}},[U,k]=V.useState(""),[Ge,Ze]=V.useState(""),[W,de]=V.useState(""),ce=async R=>{if(R.preventDefault(),!r){alert("You are not authorized to add players.");return}try{const $=Ge.trim()?Number(Ge):void 0,se={name:U.trim(),...$!==void 0&&!Number.isNaN($)?{dupr:$}:{},...W.trim()?{imageUrl:W.trim()}:{},createdAt:new Date().toISOString()};await a(se),k(""),Ze(""),de(""),alert("Player added.")}catch($){console.error("Create player failed",$),alert("Failed to add player. See console for details.")}};V.useEffect(()=>{const R=D2(Mf,$=>{e($)});return()=>R()},[]);const Me=async()=>{try{await oz(Mf,n)}catch(R){console.error("Google sign-in failed",R),alert("Sign-in failed. See console for details.")}},Fe=async()=>{try{await F6(Mf)}catch(R){console.error("Sign-out failed",R),alert("Sign-out failed. See console for details.")}};return m.jsxs("div",{className:"p-4 space-y-8",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin"}),t?m.jsxs("div",{className:"space-y-8",children:[m.jsxs("p",{className:"mb-2",children:["Signed in as ",m.jsx("strong",{children:t.displayName??t.email})]}),m.jsxs("p",{children:["Admin status: ",r?"Yes":"No"]}),m.jsx("button",{onClick:Fe,className:"px-3 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Sign out"}),m.jsxs(Jt,{className:"p-6 mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Protected admin area"}),m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You are authenticated and can now access admin-only features."}),!r&&m.jsx("p",{className:"text-sm text-red-600 mb-4",children:"You are not an admin. Editing is disabled."})]}),m.jsx(Jt,{className:"p-6 mb-6",children:m.jsxs("form",{onSubmit:ce,className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Name"}),m.jsx("input",{value:U,onChange:R=>k(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"DUPR (optional)"}),m.jsx("input",{value:Ge,onChange:R=>Ze(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1",inputMode:"decimal"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium",children:"Image URL (optional)"}),m.jsx("input",{value:W,onChange:R=>de(R.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:!r||o==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:o==="pending"?"Adding...":"Add player"})}),c&&m.jsxs("p",{className:"text-sm text-red-600",children:["Error creating player: ",String(c)]})]})}),m.jsxs(Jt,{className:"p-6 mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Create Event"}),m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a new Event (start date/time is required)."}),m.jsx(jF,{isAdmin:r})]}),m.jsxs(Jt,{className:"p-6 mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Manage Event Standings"}),m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select an event, build an ordered standings list of players, and save to the event."}),m.jsxs(Jt,{className:"p-6",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{className:"block text-sm font-medium",children:"Event"}),m.jsxs("select",{value:_??"",onChange:R=>E(R.target.value||void 0),className:"mt-1 block w-full border rounded px-2 py-1",children:[m.jsx("option",{value:"",children:"(select an event)"}),g.map(R=>m.jsx("option",{value:R.id,children:R.name??R.id},R.id))]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium",children:"Players"}),m.jsxs("div",{className:"mt-1 max-h-56 overflow-auto border rounded p-1",children:[v.length===0&&m.jsx("p",{className:"text-sm text-gray-500",children:"No players found."}),v.map(R=>m.jsxs("div",{className:"flex items-center justify-between px-1 py-2",children:[m.jsx("div",{className:"text-base",children:R.name}),m.jsx("div",{children:m.jsx("button",{type:"button",onClick:()=>N(R.id),className:"px-4 py-2 bg-blue-600 text-white rounded text-base",children:"Add"})})]},R.id))]})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium",children:"Standings (ordered)"}),m.jsxs("div",{className:"mt-1 border rounded p-2 bg-white",children:[T.length===0&&m.jsx("p",{className:"text-sm text-gray-500",children:"No players in standings. Add players from the left."}),m.jsx("ul",{children:T.map((R,$)=>{const se=v.find(ue=>ue.id===R);return m.jsxs("li",{className:"flex items-center justify-between py-2 border-b",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsxs("div",{className:"text-sm font-medium",children:[$+1,"."]}),m.jsx("div",{className:"text-sm",children:se?se.name:R})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{type:"button",onClick:()=>C($),disabled:$===0,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 text-base",children:""}),m.jsx("button",{type:"button",onClick:()=>z($),disabled:$===T.length-1,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 text-base",children:""}),m.jsx("button",{type:"button",onClick:()=>A($),className:"px-4 py-2 bg-red-600 text-white rounded text-base",children:"Remove"})]})]},`${R}-${$}`)})}),m.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[m.jsx("button",{type:"button",onClick:M,disabled:!r||Z==="pending"||!_,className:"px-6 py-3 bg-green-600 text-white rounded disabled:opacity-50 text-base",children:Z==="pending"?"Saving...":"Save standings to event"}),m.jsx("button",{type:"button",onClick:()=>{D([])},className:"px-6 py-3 bg-gray-200 rounded text-base",children:"Clear"})]}),X&&m.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error saving: ",String(X)]})]})]})]})]})]}):m.jsxs("div",{children:[m.jsx("p",{className:"mb-4",children:"Sign in with a Google account to access admin features."}),m.jsx("button",{onClick:Me,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Sign in with Google"})]})]})},qN=(t,e=5)=>{const n=e===5?4:5,r=(o,c)=>{if(o===0)return c;if(o<0||c>=7)return-1;const h=r(o-e,c+1);return h!==-1?h:r(o-n,c+1)},a=r(t,0);if(a<=0)throw new Error("Invalid number of players for court allocation");return a},OF=t=>{try{return qN(t,5),!0}catch{return!1}},wm=(t,e,n=5)=>{const r=qN(t,n),a=Array.from({length:r},()=>({seeds:[]}));let o=0,c=1;if(e===1)for(let h=1;h<=t;h++)a[o].seeds.push(h),o+=c,(o===r||o===-1)&&(c*=-1,o+=c);else if(e===2){const h=Math.floor(t/r);let d=t%r,g=1;for(let v=0;v<r;v++){const _=h+(d>0?1:0);for(let E=0;E<_;E++)a[v].seeds.push(g++);d>0&&d--}}return a},PF=(t,e,n=5)=>{const r=t.length;return wm(r,e,n).map((c,h)=>{const d=c.seeds.map(g=>t[g-1]);return{courtNumber:h+1,playerIds:d,roundNumber:e}})},MF=t=>{const{roundNumber:e,playerIds:n}=t;if(n.length===4){const[r,a,o,c]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:c}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:a,player2Id:o}}].map(d=>({...d,roundNumber:e}))}if(n.length===5){const[r,a,o,c,h]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:a,player2Id:o},team2:{player1Id:c,player2Id:h}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:h}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:o,player2Id:h}},{team1:{player1Id:r,player2Id:h},team2:{player1Id:a,player2Id:c}}].map(g=>({...g,roundNumber:e}))}throw new Error("Invalid number of players for game generation")},VF=(t,e,n)=>{if(n===2&&t.courtNumber!==e.courtNumber)return t.courtNumber-e.courtNumber;const r=c=>{const h=c.wins+c.losses;return h===0?0:c.wins/h},a=r(t),o=r(e);return a!==o?o-a:t.pointDifferential!==e.pointDifferential?e.pointDifferential-t.pointDifferential:t.seed-e.seed};function ah(t,e){if(!t?.length)return[];if(![1,2,3].includes(e))return[];const n=t.reduce((c,h)=>c+h.playerIds.length,0),r=wm(n,e),a=t.flatMap((c,h)=>{const d=c.playerIds.map((g,v)=>({id:g,courtNumber:c.courtNumber,wins:0,losses:0,pointDifferential:0,seed:r[h].seeds[v],roundPlace:0,nextCourt:0}));for(const g of c.games){const{team1:v,team2:_,team1Score:E,team2Score:T}=g,D=(K,le,Q,ae)=>{if(le===void 0||Q===void 0)return;const N=le>Q||le===Q&&ae;K.wins+=N?1:0,K.losses+=N?0:1,K.pointDifferential+=le-Q},j=d.find(K=>K.id===v.player1Id),P=d.find(K=>K.id===v.player2Id),Z=d.find(K=>K.id===_.player1Id),X=d.find(K=>K.id===_.player2Id);D(j,E,T,!0),D(P,E,T,!0),D(Z,T,E,!1),D(X,T,E,!1)}return d}),o=(c,h)=>VF(c,h,e);if(a.sort(o),a.forEach((c,h)=>{c.roundPlace=h+1}),e===1){const c=t.reduce((d,g)=>d+g.playerIds.length,0),h=wm(c,2);a.forEach(d=>{const g=h.findIndex(v=>v.seeds.includes(d.roundPlace));d.nextCourt=g+1})}return a}const NT=(t,e)=>{const{data:n}=MN(t),{data:r}=VN(t);return V.useMemo(()=>{if(typeof e!="number"||![1,2].includes(e)||!n||!r||n.length===0)return;const o=n.reduce((d,g)=>d+g.playerIds.length,0),c=wm(o,e),h=n.filter(d=>d.roundNumber===e).sort((d,g)=>d.courtNumber-g.courtNumber).map((d,g)=>({...d,seeds:c[g].seeds,games:r.filter(v=>v.courtId===d.id)}));if(h.length!==0)return{roundNumber:e,courts:h,standings:ah(h,e).map(d=>d.id)}},[n,r,e])},zF=t=>{const{data:e}=No(),[n,r]=V.useState(t),a=t??n,{data:o}=fF(a),{update:c}=PN(),h=NT(a,1),d=NT(a,2),g=V.useCallback(R=>{const $=R===1?h:d;return $!==void 0&&$.courts.length>0},[h,d]),v=V.useCallback(R=>{const $=R===1?h:d;return $?$.courts.every(se=>se.games.every(ue=>ue.team1Score!==void 0&&ue.team2Score!==void 0)):!1},[h,d]),_=V.useMemo(()=>o?.ongoingStage||1,[o]),[E,T]=FN("stage",_),D=V.useCallback(R=>{T(typeof R=="string"?R:R.toString())},[T]),j=V.useMemo(()=>{if(E==="initial"||E==="standings")return E;const R=parseInt(E,10);return[1,2,3].includes(R)?R:_},[E,_]),P=V.useCallback(R=>{o&&c({id:o.id,ongoingStage:R})},[o,c]),{create:Z}=mF(a),{create:X}=gF(a),{update:K}=yF(a),{data:le=[]}=VN(a),{remove:Q}=vF(a),{data:ae=[]}=MN(a),{remove:N}=pF(a),A=V.useCallback(async()=>{if(window.confirm("Are you sure you want to clear all data and start over?")&&n){for(const R of le||[])await Q(R.id);for(const R of ae||[])await N(R.id);P(1),D(1)}},[n,P,D,le,Q,ae,N]),C=V.useCallback(async(R,$)=>{if(g($)){console.error(`Round ${$} has already been created.`);return}if(OF(R.length)===!1){console.error(`Invalid number of players: ${R.length}. Must be between 8 and 35 players.`);return}const se=PF(R,$);for(const ue of se){const Ee=await Z(ue),Ne=MF(ue);for(const xe of Ne)await X({courtId:Ee,...xe});P($),D($)}},[g,Z,P,D,X]),z=LN(),M=V.useCallback(async R=>{const $=R.sort((se,ue)=>{const Ee=z.find(xe=>xe.playerId===se);return(z.find(xe=>xe.playerId===ue)?.points||0)-(Ee?.points||0)});await C($,1)},[C,z]),U=V.useCallback(async()=>{if(!v(1)){alert("Cannot advance to round 2: round 1 is not complete.");return}if(g(2)){alert("Round 2 has already been created.");return}if(!h?.courts||h.courts.length===0){alert("No courts available from round 1 to advance to round 2.");return}const R=ah(h.courts,1);await C(R.map($=>$.id),2),D(2),P(2)},[v,g,h,D,P,C]),k=()=>{if(!o){alert("No event selected to finalize.");return}if(!d){alert("Cannot finalize event: round 2 data is missing.");return}if(!v(2)){alert("Cannot finalize event: round 2 is not complete.");return}o.standings&&o.standings.length>0&&window.confirm("Standings already exist. Overwrite?")===!1||(c({id:o.id,standings:d.standings}),D("standings"))},Ge=V.useMemo(()=>le?.filter(R=>R.team1Score!==void 0&&R.team2Score!==void 0).length||0,[le]),Ze=V.useMemo(()=>le?.length||1,[le]),W=Math.round(Ge/Math.max(1,Ze)*100),de=V.useCallback((R,$,se)=>{K({id:R,[$]:se})},[K]),ce=V.useMemo(()=>g(2)===!1,[g]),Me=V.useMemo(()=>o?.standings===void 0||o.standings.length===0,[o]),Fe=V.useMemo(()=>g(1)===!1,[g]);return{events:e,selectedEventId:a,setSelectedEventId:r,round1:h,round2:d,needsInitialization:Fe,event:o,currentView:j,setCurrentView:D,completedMatches:Ge,totalMatches:Ze,progressPercent:W,handleScoreChange:de,areRound1UpdatesAllowed:ce,areRound2UpdatesAllowed:Me,initializeRoundOne:M,advanceToRoundTwo:U,finalizeEvent:k,resetAll:A,apiError:null}},$N=qs.forwardRef(({label:t,textarea:e=!1,className:n,error:r,success:a,rows:o=4,size:c="md",variant:h="default",icon:d,iconPosition:g="left",...v},_)=>{const E="w-full rounded-xl border transition-all duration-300 text-text-main placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed",T={sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-base",lg:"px-6 py-4 text-lg"},D={default:"bg-surface border-border focus:border-primary focus:ring-primary/30 shadow-sm hover:shadow-md",premium:"bg-gradient-to-br from-surface via-surface-alt to-surface border-border focus:border-primary focus:ring-primary/30 shadow-lg hover:shadow-xl",outlined:"bg-transparent border-2 border-border focus:border-primary focus:ring-primary/30 hover:border-primary/50"},j=()=>r?"border-error focus:border-error focus:ring-error/30 shadow-error/10":a?"border-success focus:border-success focus:ring-success/30 shadow-success/10":"",P={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"},Z=()=>{if(!d)return null;if(qs.isValidElement(d)){const K=d.props?.className||"";return qs.cloneElement(d,{className:on(P[c],"text-text-muted",K)})}return d},X=on(E,D[h],T[c],j(),d&&g==="left"?"pl-10":"",d&&g==="right"?"pr-10":"",e?"resize-vertical min-h-[6rem]":"");return m.jsxs("label",{className:on("block",n&&void 0),children:[t&&m.jsxs("div",{className:"mb-3 text-sm font-semibold text-text-main flex items-center gap-2",children:[t,r&&m.jsx("span",{className:"text-error",children:"*"}),a&&m.jsx("span",{className:"text-success",children:""})]}),m.jsxs("div",{className:"relative",children:[d&&g==="left"&&m.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:Z()}),e?m.jsx("textarea",{ref:_,rows:o,className:X,"aria-invalid":!!r,...v}):m.jsx("input",{ref:_,className:X,"aria-invalid":!!r,...v}),d&&g==="right"&&m.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:Z()})]}),r&&m.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 rounded-full bg-error/20 flex items-center justify-center",children:m.jsx("span",{className:"text-xs text-error font-bold",children:"!"})}),m.jsx("p",{className:"text-sm text-error font-medium",children:r})]}),a&&!r&&m.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 rounded-full bg-success/20 flex items-center justify-center",children:m.jsx("span",{className:"text-xs text-success font-bold",children:""})}),m.jsx("p",{className:"text-sm text-success font-medium",children:a})]})]})});$N.displayName="Input";const LF=({roundNumber:t,playerRankings:e,players:n,completedGames:r,totalGames:a,previousRoundRankings:o})=>{const[c,h]=V.useState(!1),d=a>0?Math.round(r/a*100):0,g=(_,E)=>{let T,D;if(t===1){const j=e.find(P=>P.id===E)?.seed;T=j,D=j?`Seed #${j}`:"No seed"}else if(o)T=o.find(j=>j.id===E)?.roundPlace,D=T?`Round 1 #${T}`:"No previous rank";else return null;return T?_<T?m.jsx("div",{title:`Moved up from ${D}`,children:m.jsx(nk,{className:"h-4 w-4 text-success"})}):_>T?m.jsx("div",{title:`Moved down from ${D}`,children:m.jsx(Xj,{className:"h-4 w-4 text-error"})}):m.jsx("div",{title:`Same as ${D}`,children:m.jsx("div",{className:"w-2 h-2 rounded-full bg-text-muted mx-auto"})}):null},v=(_,E)=>{const T=_+E;return T===0?"0%":`${Math.round(_/T*100)}%`};return m.jsxs("div",{className:"mb-6",children:[m.jsx("button",{onClick:()=>h(!c),className:"w-full bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 border border-primary/30 rounded-xl p-4 hover:bg-primary/15 transition-all duration-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary/70 rounded-full flex items-center justify-center",children:m.jsx(Yn,{className:"h-5 w-5 text-white"})}),m.jsxs("div",{className:"text-left",children:[m.jsxs("h3",{className:"font-bold text-text-main",children:["Round ",t," Rankings"]}),m.jsxs("p",{className:"text-sm text-text-muted",children:[r,"/",a," games (",d,"%)"]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-sm text-text-muted",children:[c?"Hide":"Show"," Rankings"]}),c?m.jsx(fS,{className:"h-5 w-5 text-text-muted"}):m.jsx(dS,{className:"h-5 w-5 text-text-muted"})]})]})}),c&&m.jsx("div",{className:"mt-3 bg-surface rounded-xl border border-border overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-surface-alt border-b border-border",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Rank"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Player"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Court"}),t===1&&m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Projected Next Court"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"W-L"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Win %"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Diff"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Movement"})]})}),m.jsx("tbody",{className:"divide-y divide-border",children:e.map((_,E)=>{const T=n.find(j=>j.id===_.id),D=E+1;return m.jsxs("tr",{className:`transition-colors ${D<=3?D===1?"bg-warning/5 hover:bg-warning/10":D===2?"bg-text-accent/5 hover:bg-text-accent/10":"bg-bronze/5 hover:bg-bronze/10":"hover:bg-surface-highlight"}`,children:[m.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${D===1?"bg-gradient-to-br from-warning to-warning/70 text-white":D===2?"bg-gradient-to-br from-text-accent to-text-accent/70 text-white":D===3?"bg-gradient-to-br from-bronze to-bronze/70 text-white":"bg-surface-alt text-text-main"}`,children:D===1?"":D===2?"":D===3?"":D})}),m.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[m.jsx("div",{className:"font-semibold text-text-main",children:T?.name||`Player ${_.id}`}),m.jsxs("div",{className:"text-xs text-text-muted",children:["Seed #",_.seed]})]}),m.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:m.jsx("span",{className:"text-sm font-medium text-text-main",children:_.courtNumber})}),t===1&&m.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:m.jsx("span",{className:"text-sm font-medium text-text-accent",children:typeof _.nextCourt=="number"&&_.nextCourt>0?_.nextCourt:"-"})}),m.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:m.jsxs("span",{className:"text-sm font-semibold text-text-main",children:[_.wins,"-",_.losses]})}),m.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:m.jsx("span",{className:"text-sm font-medium text-text-main",children:v(_.wins,_.losses)})}),m.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:m.jsxs("span",{className:`text-sm font-semibold ${_.pointDifferential>0?"text-success":_.pointDifferential<0?"text-error":"text-text-muted"}`,children:[_.pointDifferential>0?"+":"",_.pointDifferential]})}),m.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:g(D,_.id)})]},_.id)})})]})})})]})},UF=({courtNumber:t,playerStats:e,players:n,totalGamesForCourt:r,completedGamesForCourt:a})=>{const[o,c]=V.useState(!1),h=r>0?Math.round(a/r*100):0,d=(v,_)=>{const E=v+_;return E===0?"0%":`${Math.round(v/E*100)}%`},g=[...e].sort((v,_)=>v.wins!==_.wins?_.wins-v.wins:v.pointDifferential!==_.pointDifferential?_.pointDifferential-v.pointDifferential:v.seed-_.seed);return m.jsxs("div",{className:"mt-3",children:[m.jsx("button",{onClick:()=>c(!o),className:"w-full bg-gradient-to-r from-success/10 via-success/5 to-success/10 border border-success/30 rounded-lg p-3 hover:bg-success/15 transition-all duration-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-success to-success/70 rounded-full flex items-center justify-center",children:m.jsx(ok,{className:"h-4 w-4 text-white"})}),m.jsxs("div",{className:"text-left",children:[m.jsxs("h4",{className:"text-sm font-bold text-text-main",children:["Court ",t," Stats"]}),m.jsxs("p",{className:"text-xs text-text-muted",children:[a,"/",r," games (",h,"%)"]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-xs text-text-muted",children:o?"Hide":"Show"}),o?m.jsx(fS,{className:"h-4 w-4 text-text-muted"}):m.jsx(dS,{className:"h-4 w-4 text-text-muted"})]})]})}),o&&m.jsxs("div",{className:"mt-2 bg-surface-alt/30 rounded-lg border border-border/50 overflow-hidden",children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-surface-alt/50 border-b border-border/30",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Rank"}),m.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Player"}),m.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"W-L"}),m.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Win %"}),m.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Diff"}),m.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Games"})]})}),m.jsx("tbody",{className:"divide-y divide-border/30",children:g.map((v,_)=>{const E=n.find(D=>D.id===v.id),T=_+1;return m.jsxs("tr",{className:`transition-colors ${T===1?"bg-success/5 hover:bg-success/10":"hover:bg-surface-highlight"}`,children:[m.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:m.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${T===1?"bg-gradient-to-br from-success to-success/70 text-white":"bg-surface-alt text-text-main"}`,children:T===1?"":T})}),m.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[m.jsx("div",{className:"text-sm font-semibold text-text-main",children:E?.name||`Player ${v.id}`}),E?.dupr&&m.jsxs("div",{className:"text-xs text-text-muted",children:["DUPR: ",E.dupr]})]}),m.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:m.jsxs("span",{className:"text-sm font-semibold text-text-main",children:[v.wins,"-",v.losses]})}),m.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:m.jsx("span",{className:"text-sm font-medium text-text-main",children:d(v.wins,v.losses)})}),m.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:m.jsxs("span",{className:`text-sm font-semibold ${v.pointDifferential>0?"text-success":v.pointDifferential<0?"text-error":"text-text-muted"}`,children:[v.pointDifferential>0?"+":"",v.pointDifferential]})}),m.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:m.jsxs("span",{className:"text-sm font-medium text-text-main",children:[v.wins+v.losses,"/",g.length===5?4:r]})})]},v.id)})})]})}),a===r&&m.jsx("div",{className:"p-3 border-t border-border/30 bg-surface-alt/20",children:m.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[m.jsx(Bu,{className:"h-4 w-4"}),m.jsxs("span",{children:["Court ",t," complete  Leader advances to next round"]})]})})]})]})},FF=({value:t,onChange:e,isAdmin:n=!1,teamColor:r="primary",disabled:a=!1,maxScore:o})=>{const[c,h]=V.useState(!1),[d,g]=V.useState(t?.toString()||""),v=V.useRef(null);V.useEffect(()=>{c&&v.current&&(v.current.focus(),v.current.select())},[c]);const _=()=>{!n||a||(g(t?.toString()||""),h(!0))},E=()=>{let Z=parseInt(d);!isNaN(Z)&&Z>=0&&(typeof o=="number"&&Z>o&&(Z=o),e(Z)),h(!1)},T=()=>{g(t?.toString()||""),h(!1)},D=Z=>{Z.key==="Enter"?E():Z.key==="Escape"&&T()},P={primary:{bg:"bg-surface",border:"border-border",hover:"hover:bg-surface-highlight",text:"text-text-main"},success:{bg:"bg-surface",border:"border-border",hover:"hover:bg-surface-highlight",text:"text-text-main"}}[r];return c?m.jsx("div",{className:"flex items-center gap-2",children:m.jsx("input",{ref:v,type:"number",value:d,onChange:Z=>g(Z.target.value),onKeyDown:D,onBlur:E,className:`w-14 h-12 px-2 text-lg font-bold border-2 ${P.border} rounded-lg bg-surface text-center focus:outline-none focus:ring-2 focus:ring-primary/50`,min:"0",max:typeof o=="number"?o:99})}):m.jsx("button",{onClick:_,disabled:!n||a,className:`min-w-[2.5rem] h-8 px-2 flex items-center justify-center ${P.bg} border-2 ${P.border} rounded-md text-lg font-black transition-all duration-200 ${n&&!a?`${P.hover} cursor-pointer active:scale-95`:"cursor-default"}`,children:m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:P.text,children:t??"-"}),n&&!a&&m.jsx(xk,{className:`h-2.5 w-2.5 ${P.text} opacity-60`})]})})},BF=({players:t,onPlayerSelect:e,onClear:n,placeholder:r="Find your name...",className:a=""})=>{const[o,c]=V.useState(""),[h,d]=V.useState(!1),g=V.useMemo(()=>o.trim()?t.filter(T=>T.name.toLowerCase().includes(o.toLowerCase())).slice(0,8).sort((T,D)=>T.name.localeCompare(D.name)):[],[t,o]),v=T=>{const D=t.find(j=>j.id===T);D&&(c(D.name),d(!1),e(T))},_=()=>{c(""),d(!1),n()},E=T=>{c(T),d(T.length>0)};return m.jsxs("div",{className:`relative ${a}`,children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:o,onChange:T=>E(T.target.value),placeholder:r,className:"w-full h-12 pl-12 pr-12 bg-surface border-2 border-border rounded-xl text-text-main placeholder-text-muted focus:outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all duration-200"}),m.jsx(pS,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-text-muted"}),o&&m.jsx("button",{onClick:_,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 bg-surface-alt rounded-full flex items-center justify-center hover:bg-surface-highlight transition-colors",children:m.jsx(yS,{className:"h-4 w-4 text-text-muted"})})]}),h&&g.length>0&&m.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-2 bg-surface border-2 border-border rounded-xl shadow-xl max-h-64 overflow-y-auto",children:m.jsx("div",{className:"p-2",children:g.map(T=>m.jsxs("button",{onClick:()=>v(T.id||""),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-surface-highlight transition-colors text-left",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary/20 to-primary/10 rounded-full flex items-center justify-center",children:m.jsx(gS,{className:"h-4 w-4 text-primary"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"font-semibold text-text-main truncate",children:T.name}),T.dupr&&m.jsxs("div",{className:"text-sm text-text-muted",children:["DUPR: ",T.dupr]})]})]},T.id))})}),h&&o&&g.length===0&&m.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-2 bg-surface border-2 border-border rounded-xl shadow-xl p-4 text-center",children:m.jsxs("div",{className:"text-text-muted",children:["No players found matching ",o,""]})})]})},Ay=({icon:t,label:e,value:n,className:r})=>m.jsxs("div",{className:`flex items-center gap-3 p-3 bg-surface-alt/50 rounded-xl ${r||""}`,children:[t,m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"text-xs text-text-muted uppercase",children:e}),m.jsx("div",{className:"font-semibold text-sm",children:n})]})]}),RT=({color:t,player1:e,player2:n,score:r,onScoreChange:a,isAdmin:o,isEditable:c})=>m.jsxs("div",{className:"flex items-center justify-between py-1.5",children:[m.jsx("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:m.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[m.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[m.jsx(ih,{imageUrl:e?.imageUrl,name:e?.name,size:"sm"}),m.jsx("span",{className:"text-base font-normal text-text-main truncate",children:e?.name||"Player"})]}),m.jsx("span",{className:"mx-1 text-text-muted font-light text-lg",children:"&"}),m.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[m.jsx(ih,{imageUrl:n?.imageUrl,name:n?.name,size:"sm"}),m.jsx("span",{className:"text-base font-normal text-text-main truncate",children:n?.name||"Player"})]})]})}),m.jsx(FF,{value:r,onChange:a,isAdmin:o,teamColor:t,disabled:c===!1})]}),qF=({court:t,players:e,roundNumber:n,highlightedPlayerId:r,isAdmin:a,handleScoreChange:o})=>{const[c,h]=V.useState(!0),d=ah([t],n),g=t.games.filter(T=>T.roundNumber===n&&T.team1Score!==void 0&&T.team2Score!==void 0).length,v=t.games.filter(T=>T.roundNumber===n).length,_=n===1&&(typeof window.areRound1UpdatesAllowed=="boolean"?window.areRound1UpdatesAllowed:!0)||n===2&&(typeof window.areRound2UpdatesAllowed=="boolean"?window.areRound2UpdatesAllowed:!0),E=t.playerIds.map(T=>e.find(D=>D.id===T)).filter(Boolean);return m.jsxs("div",{id:`court-${t.id}`,className:`relative overflow-hidden bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 border border-primary/20 shadow-2xl ${t.playerIds.some(T=>T===r)?"ring-2 ring-primary/50 bg-primary/5":""}`,children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"}),m.jsxs("button",{className:"w-full flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 focus:outline-none",onClick:()=>h(T=>!T),"aria-expanded":c,type:"button",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[m.jsx("div",{className:"flex items-center gap-3",children:m.jsxs("h3",{className:"text-2xl font-bold text-text-main",children:["Court ",t.courtNumber]})}),m.jsx("div",{className:"flex flex-wrap gap-1 mt-1 sm:mt-0",children:E.map(T=>T?m.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-text-muted bg-surface-alt px-2 py-0.5 rounded",children:[m.jsx(ih,{imageUrl:T.imageUrl,name:T.name,size:"sm",border:!1,className:"ring-1 ring-surface"}),T.name]},T.id+"-name"):null)})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-sm px-3 py-1 bg-primary/20 text-primary rounded-lg font-semibold",children:[g,"/",v," games"]}),m.jsxs("span",{className:"text-sm px-3 py-1 bg-success/20 text-success rounded-lg font-semibold",children:[t.playerIds.length," players"]}),m.jsx("span",{className:"text-xs px-2 py-1 bg-surface-alt text-text-muted rounded font-medium border border-border",children:t.playerIds.length===4?"First to 15, win by 1":t.playerIds.length===5?"First to 11, win by 1":""})]})]}),c&&m.jsxs("div",{className:"space-y-4 mt-4",children:[m.jsx("div",{className:"space-y-4",children:t.games.map((T,D)=>{const j=e.find(Q=>Q.id===T.team1.player1Id),P=e.find(Q=>Q.id===T.team1.player2Id),Z=e.find(Q=>Q.id===T.team2.player1Id),X=e.find(Q=>Q.id===T.team2.player2Id);let K="",le="";return typeof T.team1Score=="number"&&typeof T.team2Score=="number"&&(T.team1Score>T.team2Score?K="bg-success/10":T.team2Score>T.team1Score&&(le="bg-success/10")),m.jsxs("div",{children:[m.jsx("div",{className:"px-2 pt-1 pb-0",children:m.jsxs("span",{className:"text-xs text-text-muted font-semibold tracking-wide uppercase",children:["Game ",D+1]})}),m.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-2xl p-4 border border-primary/20 shadow",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:`rounded-lg transition-all duration-200 px-4 ${K}`,children:m.jsx(RT,{color:"primary",player1:j,player2:P,score:T.team1Score,onScoreChange:Q=>o(T.id,"team1Score",Q),isAdmin:a,isEditable:_})}),m.jsx("div",{className:`rounded-lg transition-all duration-200 px-4 ${le}`,children:m.jsx(RT,{color:"success",player1:Z,player2:X,score:T.team2Score,onScoreChange:Q=>o(T.id,"team2Score",Q),isAdmin:a,isEditable:_})})]}),m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-xl -z-10"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-xl -z-10"})]})]},T.id)})}),m.jsx(UF,{courtNumber:t.courtNumber,playerStats:d,players:e,totalGamesForCourt:v,completedGamesForCourt:g})]})]},t.id)};function CT(t){return t?t.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"}):""}function DT(t){return t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):""}const $F=()=>{const{id:t}=GT(),e=t?decodeURIComponent(t):"",{data:n,isLoading:r}=ON(e),{data:a=[]}=Sh(),{isAdmin:o}=BN(),c=zF(e),[h,d]=V.useState([]),[g,v]=V.useState(""),[_,E]=V.useState(!1),[T,D]=V.useState(null),j=V.useMemo(()=>a.filter(Q=>Q.name.toLowerCase().includes(g.toLowerCase())).sort((Q,ae)=>Q.name.localeCompare(ae.name)),[a,g]),P=Q=>{d(ae=>ae.includes(Q)?ae.filter(N=>N!==Q):[...ae,Q])},Z=async()=>{if(h.length<8||h.length>35){alert("Please select between 8-35 players");return}E(!0);try{await c.initializeRoundOne(h),d([])}catch(Q){console.error("Failed to initialize round:",Q),alert("Failed to initialize round. Please try again.")}finally{E(!1)}},X=async()=>{if(window.confirm("Are you sure you want to advance to Round 2? This cannot be undone."))try{await c.advanceToRoundTwo()}catch(Q){console.error("Failed to advance to round 2:",Q),alert("Failed to advance to Round 2. Please try again.")}},K=()=>{window.confirm("Are you sure you want to finalize this event? Final standings will be published.")&&c.finalizeEvent()};if(r)return m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:m.jsxs(Jt,{variant:"premium",padding:"xl",className:"max-w-md w-full text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary/20 border-t-primary mx-auto mb-6"}),m.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Loading Event"}),m.jsx("p",{className:"text-text-muted",children:"Please wait while we fetch the event details..."})]})});if(!n)return m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:m.jsxs(Jt,{variant:"gradient",theme:"error",padding:"xl",className:"max-w-2xl w-full text-center",children:[m.jsx("div",{className:"text-6xl mb-6 opacity-50",children:""}),m.jsx("h1",{className:"text-3xl font-black text-text-main mb-4",children:"Event Not Found"}),m.jsxs("p",{className:"text-text-muted mb-8 leading-relaxed",children:["The event ID"," ",m.jsx("code",{className:"bg-surface-alt px-2 py-1 rounded font-mono text-sm",children:e||"(empty)"})," ","does not match any scheduled event in our system."]}),m.jsx(Nt,{to:"/schedule",children:m.jsx(Fi,{variant:"primary",size:"lg",icon:m.jsx(Zw,{}),iconPosition:"left",children:"Back to Schedule"})})]})});const le=c.currentView===1?c.round1:c.currentView===2?c.round2:null;return m.jsxs("div",{className:"space-y-8 pb-12 px-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs(Nt,{to:"/schedule",className:"inline-flex items-center gap-2 text-text-muted hover:text-primary transition-colors font-semibold",children:[m.jsx(Zw,{className:"h-5 w-5"}),m.jsx("span",{children:"Back to Schedule"})]}),m.jsxs(so,{primaryColor:"primary",secondaryColor:"success",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:m.jsx(oo,{className:"h-10 w-10 text-white"})}),m.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:n.name}),m.jsxs("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:[n.location||"TBD","  ",CT(n.startDateTime)," "," ",DT(n.startDateTime)]})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[m.jsx(Ay,{icon:m.jsx(oo,{className:"h-5 w-5 text-primary"}),label:"Date",value:CT(n.startDateTime)}),m.jsx(Ay,{icon:m.jsx(Bf,{className:"h-5 w-5 text-success"}),label:"Time",value:DT(n.startDateTime)}),m.jsx(Ay,{icon:m.jsx(mS,{className:"h-5 w-5 text-warning"}),label:"Location",value:n.location||"TBD"})]})]})]}),o&&c.needsInitialization&&m.jsxs(Jt,{variant:"gradient",theme:"primary",padding:"lg",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4",children:m.jsx(Mk,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Initialize Event"}),m.jsx("p",{className:"text-text-muted",children:"Select 8-35 players to start the event"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx($N,{icon:m.jsx(pS,{}),placeholder:"Search players by name...",value:g,onChange:Q=>v(Q.target.value),variant:"premium"}),m.jsx("div",{className:"text-center",children:m.jsxs("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${h.length>=8&&h.length<=35?"bg-success/20 text-success":"bg-warning/20 text-warning"}`,children:[h.length," / 35 players selected",h.length<8&&" (minimum 8)"]})}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-96 overflow-y-auto p-2",children:j.map(Q=>{const ae=h.includes(Q.id||"");return m.jsx("div",{onClick:()=>P(Q.id||""),className:`p-3 rounded-xl border-2 cursor-pointer transition-all duration-200 ${ae?"border-primary bg-primary/10 shadow-md":"border-border hover:border-primary/50 bg-surface"}`,children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${ae?"border-primary bg-primary":"border-border"}`,children:ae&&m.jsx(dk,{className:"h-4 w-4 text-white"})}),m.jsxs("div",{className:"flex-1 text-left",children:[m.jsx("div",{className:"font-semibold text-text-main",children:Q.name}),Q.dupr&&m.jsxs("div",{className:"text-xs text-text-muted",children:["DUPR: ",Q.dupr]})]})]})},Q.id)})}),m.jsx("div",{className:"text-center pt-4",children:m.jsx(Fi,{variant:"primary",size:"lg",icon:m.jsx(Ek,{}),onClick:Z,disabled:h.length<8||h.length>35||_,loading:_,children:"Initialize Round 1"})})]})]}),!c.needsInitialization&&m.jsx(so,{primaryColor:"primary",secondaryColor:"surface",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[m.jsx("div",{className:"flex items-center gap-2",children:[1,2,"standings"].map(Q=>{const ae=c.currentView===Q,N=Q===1||Q===2&&c.round1||Q==="standings"&&c.round2;return m.jsx(Fi,{variant:ae?"primary":"ghost",size:"sm",onClick:()=>c.setCurrentView(Q),disabled:!N,children:Q==="standings"?"Final Standings":`Round ${Q}`},Q)})}),m.jsxs("div",{className:"text-sm text-text-muted",children:["Progress: ",c.completedMatches,"/",c.totalMatches," matches (",c.progressPercent,"%)"]})]})}),!c.needsInitialization&&le&&m.jsx(BF,{players:a.filter(Q=>le.courts.some(ae=>ae.playerIds.includes(Q.id||""))),onPlayerSelect:Q=>{D(Q);const ae=le.courts.find(N=>N.playerIds.includes(Q));if(ae){const N=document.getElementById(`court-${ae.id}`);N&&N.scrollIntoView({behavior:"smooth",block:"center"})}},onClear:()=>D(null),placeholder:"Find a player on the courts...",className:"mb-6"}),le&&m.jsxs("div",{className:"space-y-6",children:[(()=>{const Q=ah(le.courts,c.currentView),ae=c.currentView===2&&c.round1?ah(c.round1.courts,1):void 0,N=le.courts.flatMap(C=>C.games.filter(z=>z.roundNumber===c.currentView)),A=N.filter(C=>C.team1Score!==void 0&&C.team2Score!==void 0).length;return m.jsx(LF,{roundNumber:c.currentView,playerRankings:Q,players:a,completedGames:A,totalGames:N.length,previousRoundRankings:ae})})(),m.jsx(Jt,{variant:"gradient",theme:"success",padding:"md",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/70 rounded-full flex items-center justify-center",children:m.jsx(Am,{className:"h-6 w-6 text-white"})}),m.jsxs("div",{children:[m.jsxs("h2",{className:"text-xl font-bold text-text-main",children:["Round ",c.currentView," Courts"]}),m.jsxs("p",{className:"text-text-muted text-sm",children:[le.courts.length," courts  Live scoring enabled"]})]})]}),o&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Fi,{variant:"secondary",size:"sm",icon:m.jsx(Ik,{}),onClick:c.resetAll,children:"Reset All"}),c.currentView===1&&c.round1&&m.jsx(Fi,{variant:"primary",size:"sm",icon:m.jsx(_f,{}),onClick:X,disabled:!c.round1.courts.every(Q=>Q.games.every(ae=>ae.team1Score!==void 0&&ae.team2Score!==void 0)),children:"Advance to Round 2"}),c.currentView===2&&c.round2&&m.jsx(Fi,{variant:"primary",size:"sm",icon:m.jsx(Yn,{}),onClick:K,disabled:!c.round2.courts.every(Q=>Q.games.every(ae=>ae.team1Score!==void 0&&ae.team2Score!==void 0)),children:"Finalize Event"})]})]})}),m.jsx("div",{className:"grid grid-cols-1 gap-4",children:le.courts.map(Q=>m.jsx(m.Fragment,{children:m.jsx(qF,{court:Q,players:a,roundNumber:c.currentView,highlightedPlayerId:T,isAdmin:o,handleScoreChange:c.handleScoreChange})}))})]}),c.currentView==="standings"&&n.standings&&m.jsxs(Jt,{variant:"gradient",theme:"warning",padding:"lg",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-4",children:m.jsx(Yn,{className:"h-8 w-8 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Final Standings"}),m.jsx("p",{className:"text-text-muted",children:"Official results from this event"})]}),m.jsx("div",{className:"bg-surface rounded-xl border border-border overflow-hidden max-w-2xl mx-auto",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-surface-alt border-b border-border",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-text-main uppercase tracking-wider",children:"Position"}),m.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-text-main uppercase tracking-wider",children:"Player"}),m.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-text-main uppercase tracking-wider",children:"Points"})]})}),m.jsx("tbody",{className:"divide-y divide-border",children:n.standings.map((Q,ae)=>{const N=a.find(z=>z.id===Q),A=["warning","text-accent","bronze"],C=["","",""];return m.jsxs("tr",{className:`transition-colors ${ae<3?ae===0?"bg-warning/5 hover:bg-warning/10":ae===1?"bg-text-accent/5 hover:bg-text-accent/10":"bg-bronze/5 hover:bg-bronze/10":"hover:bg-surface-highlight"}`,children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${ae<3?`bg-gradient-to-br from-${A[ae]} to-${A[ae]}/70 text-white`:"bg-surface-alt text-text-main"}`,children:m.jsx("span",{className:"font-bold text-lg",children:ae<3?C[ae]:`#${ae+1}`})})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[m.jsx("div",{className:"font-bold text-lg text-text-main",children:N?.name||`Player ${Q}`}),N?.dupr&&m.jsxs("div",{className:"text-sm text-text-muted",children:["DUPR: ",N.dupr]})]}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:[m.jsxs("div",{className:"flex items-center justify-center gap-1 text-2xl font-bold text-success",children:[m.jsx(Sk,{className:"h-5 w-5"}),cs(ae+1).toLocaleString()]}),m.jsx("div",{className:"text-sm text-text-muted",children:"points"})]})]},Q)})})]})})})]})]})},HF=()=>m.jsx(CO,{children:m.jsxs(ND,{children:[m.jsx(Ui,{path:"/",element:m.jsx(_F,{})}),m.jsx(Ui,{path:"/standings",element:m.jsx(SF,{})}),m.jsx(Ui,{path:"/schedule",element:m.jsx(DF,{})}),m.jsx(Ui,{path:"/player/:id",element:m.jsx(NF,{})}),m.jsx(Ui,{path:"/format",element:m.jsx(AF,{})}),m.jsx(Ui,{path:"/admin",element:m.jsx(kF,{})}),m.jsx(Ui,{path:"/event/:id",element:m.jsx($F,{})})]})}),GF=new Dj;DC.createRoot(document.getElementById("root")).render(m.jsx(V.StrictMode,{children:m.jsx(jj,{client:GF,children:m.jsx(JD,{children:m.jsx(HF,{})})})}));
