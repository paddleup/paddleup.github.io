(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function TC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ny={exports:{}},bu={};var Tw;function SC(){if(Tw)return bu;Tw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:o}}return bu.Fragment=e,bu.jsx=n,bu.jsxs=n,bu}var Sw;function AC(){return Sw||(Sw=1,ny.exports=SC()),ny.exports}var p=AC(),ry={exports:{}},ke={};var Aw;function IC(){if(Aw)return ke;Aw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function T(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,M={};function ee(N,H,se){this.props=N,this.context=H,this.refs=M,this.updater=se||D}ee.prototype.isReactComponent={},ee.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},ee.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Z(){}Z.prototype=ee.prototype;function B(N,H,se){this.props=N,this.context=H,this.refs=M,this.updater=se||D}var ie=B.prototype=new Z;ie.constructor=B,k(ie,ee.prototype),ie.isPureReactComponent=!0;var Y=Array.isArray;function le(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(N,H,se){var ue=se.ref;return{$$typeof:t,type:N,key:H,ref:ue!==void 0?ue:null,props:se}}function z(N,H){return C(N.type,H,N.props)}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function U(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return H[se]})}var j=/\/+/g;function Ge(N,H){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):H.toString(36)}function Ze(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(le,le):(N.status="pending",N.then(function(H){N.status==="pending"&&(N.status="fulfilled",N.value=H)},function(H){N.status==="pending"&&(N.status="rejected",N.reason=H)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function J(N,H,se,ue,Ee){var Re=typeof N;(Re==="undefined"||Re==="boolean")&&(N=null);var xe=!1;if(N===null)xe=!0;else switch(Re){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(N.$$typeof){case t:case e:xe=!0;break;case v:return xe=N._init,J(xe(N._payload),H,se,ue,Ee)}}if(xe)return Ee=Ee(N),xe=ue===""?"."+Ge(N,0):ue,Y(Ee)?(se="",xe!=null&&(se=xe.replace(j,"$&/")+"/"),J(Ee,H,se,"",function(tr){return tr})):Ee!=null&&(P(Ee)&&(Ee=z(Ee,se+(Ee.key==null||N&&N.key===Ee.key?"":(""+Ee.key).replace(j,"$&/")+"/")+xe)),H.push(Ee)),1;xe=0;var St=ue===""?".":ue+":";if(Y(N))for(var nt=0;nt<N.length;nt++)ue=N[nt],Re=St+Ge(ue,nt),xe+=J(ue,H,se,Re,Ee);else if(nt=T(N),typeof nt=="function")for(N=nt.call(N),nt=0;!(ue=N.next()).done;)ue=ue.value,Re=St+Ge(ue,nt++),xe+=J(ue,H,se,Re,Ee);else if(Re==="object"){if(typeof N.then=="function")return J(Ze(N),H,se,ue,Ee);throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return xe}function de(N,H,se){if(N==null)return N;var ue=[],Ee=0;return J(N,ue,"","",function(Re){return H.call(se,Re,Ee++)}),ue}function ce(N){if(N._status===-1){var H=N._result;H=H(),H.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var Me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Fe={map:de,forEach:function(N,H,se){de(N,function(){H.apply(this,arguments)},se)},count:function(N){var H=0;return de(N,function(){H++}),H},toArray:function(N){return de(N,function(H){return H})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ke.Activity=_,ke.Children=Fe,ke.Component=ee,ke.Fragment=n,ke.Profiler=a,ke.PureComponent=B,ke.StrictMode=r,ke.Suspense=d,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,ke.__COMPILER_RUNTIME={__proto__:null,c:function(N){return R.H.useMemoCache(N)}},ke.cache=function(N){return function(){return N.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(N,H,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ue=k({},N.props),Ee=N.key;if(H!=null)for(Re in H.key!==void 0&&(Ee=""+H.key),H)!A.call(H,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&H.ref===void 0||(ue[Re]=H[Re]);var Re=arguments.length-2;if(Re===1)ue.children=se;else if(1<Re){for(var xe=Array(Re),St=0;St<Re;St++)xe[St]=arguments[St+2];ue.children=xe}return C(N.type,Ee,ue)},ke.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},ke.createElement=function(N,H,se){var ue,Ee={},Re=null;if(H!=null)for(ue in H.key!==void 0&&(Re=""+H.key),H)A.call(H,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ee[ue]=H[ue]);var xe=arguments.length-2;if(xe===1)Ee.children=se;else if(1<xe){for(var St=Array(xe),nt=0;nt<xe;nt++)St[nt]=arguments[nt+2];Ee.children=St}if(N&&N.defaultProps)for(ue in xe=N.defaultProps,xe)Ee[ue]===void 0&&(Ee[ue]=xe[ue]);return C(N,Re,Ee)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(N){return{$$typeof:h,render:N}},ke.isValidElement=P,ke.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ce}},ke.memo=function(N,H){return{$$typeof:g,type:N,compare:H===void 0?null:H}},ke.startTransition=function(N){var H=R.T,se={};R.T=se;try{var ue=N(),Ee=R.S;Ee!==null&&Ee(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(le,Me)}catch(Re){Me(Re)}finally{H!==null&&se.types!==null&&(H.types=se.types),R.T=H}},ke.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},ke.use=function(N){return R.H.use(N)},ke.useActionState=function(N,H,se){return R.H.useActionState(N,H,se)},ke.useCallback=function(N,H){return R.H.useCallback(N,H)},ke.useContext=function(N){return R.H.useContext(N)},ke.useDebugValue=function(){},ke.useDeferredValue=function(N,H){return R.H.useDeferredValue(N,H)},ke.useEffect=function(N,H){return R.H.useEffect(N,H)},ke.useEffectEvent=function(N){return R.H.useEffectEvent(N)},ke.useId=function(){return R.H.useId()},ke.useImperativeHandle=function(N,H,se){return R.H.useImperativeHandle(N,H,se)},ke.useInsertionEffect=function(N,H){return R.H.useInsertionEffect(N,H)},ke.useLayoutEffect=function(N,H){return R.H.useLayoutEffect(N,H)},ke.useMemo=function(N,H){return R.H.useMemo(N,H)},ke.useOptimistic=function(N,H){return R.H.useOptimistic(N,H)},ke.useReducer=function(N,H,se){return R.H.useReducer(N,H,se)},ke.useRef=function(N){return R.H.useRef(N)},ke.useState=function(N){return R.H.useState(N)},ke.useSyncExternalStore=function(N,H,se){return R.H.useSyncExternalStore(N,H,se)},ke.useTransition=function(){return R.H.useTransition()},ke.version="19.2.3",ke}var Iw;function _v(){return Iw||(Iw=1,ry.exports=IC()),ry.exports}var V=_v();const Xi=TC(V);var sy={exports:{}},xu={},iy={exports:{}},ay={};var Rw;function RC(){return Rw||(Rw=1,(function(t){function e(J,de){var ce=J.length;J.push(de);e:for(;0<ce;){var Me=ce-1>>>1,Fe=J[Me];if(0<a(Fe,de))J[Me]=de,J[ce]=Fe,ce=Me;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var de=J[0],ce=J.pop();if(ce!==de){J[0]=ce;e:for(var Me=0,Fe=J.length,N=Fe>>>1;Me<N;){var H=2*(Me+1)-1,se=J[H],ue=H+1,Ee=J[ue];if(0>a(se,ce))ue<Fe&&0>a(Ee,se)?(J[Me]=Ee,J[ue]=ce,Me=ue):(J[Me]=se,J[H]=ce,Me=H);else if(ue<Fe&&0>a(Ee,ce))J[Me]=Ee,J[ue]=ce,Me=ue;else break e}}return de}function a(J,de){var ce=J.sortIndex-de.sortIndex;return ce!==0?ce:J.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],g=[],v=1,_=null,E=3,T=!1,D=!1,k=!1,M=!1,ee=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function ie(J){for(var de=n(g);de!==null;){if(de.callback===null)r(g);else if(de.startTime<=J)r(g),de.sortIndex=de.expirationTime,e(d,de);else break;de=n(g)}}function Y(J){if(k=!1,ie(J),!D)if(n(d)!==null)D=!0,le||(le=!0,U());else{var de=n(g);de!==null&&Ze(Y,de.startTime-J)}}var le=!1,R=-1,A=5,C=-1;function z(){return M?!0:!(t.unstable_now()-C<A)}function P(){if(M=!1,le){var J=t.unstable_now();C=J;var de=!0;try{e:{D=!1,k&&(k=!1,Z(R),R=-1),T=!0;var ce=E;try{t:{for(ie(J),_=n(d);_!==null&&!(_.expirationTime>J&&z());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,E=_.priorityLevel;var Fe=Me(_.expirationTime<=J);if(J=t.unstable_now(),typeof Fe=="function"){_.callback=Fe,ie(J),de=!0;break t}_===n(d)&&r(d),ie(J)}else r(d);_=n(d)}if(_!==null)de=!0;else{var N=n(g);N!==null&&Ze(Y,N.startTime-J),de=!1}}break e}finally{_=null,E=ce,T=!1}de=void 0}}finally{de?U():le=!1}}}var U;if(typeof B=="function")U=function(){B(P)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Ge=j.port2;j.port1.onmessage=P,U=function(){Ge.postMessage(null)}}else U=function(){ee(P,0)};function Ze(J,de){R=ee(function(){J(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(J){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var ce=E;E=de;try{return J()}finally{E=ce}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(J,de){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ce=E;E=J;try{return de()}finally{E=ce}},t.unstable_scheduleCallback=function(J,de,ce){var Me=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Me+ce:Me):ce=Me,J){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ce+Fe,J={id:v++,callback:de,priorityLevel:J,startTime:ce,expirationTime:Fe,sortIndex:-1},ce>Me?(J.sortIndex=ce,e(g,J),n(d)===null&&J===n(g)&&(k?(Z(R),R=-1):k=!0,Ze(Y,ce-Me))):(J.sortIndex=Fe,e(d,J),D||T||(D=!0,le||(le=!0,U()))),J},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(J){var de=E;return function(){var ce=E;E=de;try{return J.apply(this,arguments)}finally{E=ce}}}})(ay)),ay}var Nw;function NC(){return Nw||(Nw=1,iy.exports=RC()),iy.exports}var oy={exports:{}},yn={};var Cw;function CC(){if(Cw)return yn;Cw=1;var t=_v();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(d,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(d,g,null,v)},yn.flushSync=function(d){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=g,r.p=v,r.d.f()}},yn.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(d,g))},yn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},yn.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:T}):v==="script"&&r.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);r.d.M(d,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(d)},yn.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin);r.d.L(d,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(d,g){if(typeof d=="string")if(g){var v=h(g.as,g.crossOrigin);r.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(d)},yn.requestFormReset=function(d){r.d.r(d)},yn.unstable_batchedUpdates=function(d,g){return d(g)},yn.useFormState=function(d,g,v){return c.H.useFormState(d,g,v)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var Dw;function DC(){if(Dw)return oy.exports;Dw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),oy.exports=CC(),oy.exports}var kw;function kC(){if(kw)return xu;kw=1;var t=NC(),e=_v(),n=DC();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function c(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function g(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,u=i;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return d(m),s;if(y===u)return d(m),i;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=m,u=y;else{for(var x=!1,S=m.child;S;){if(S===l){x=!0,l=m,u=y;break}if(S===u){x=!0,u=m,l=y;break}S=S.sibling}if(!x){for(S=y.child;S;){if(S===l){x=!0,l=y,u=m;break}if(S===u){x=!0,u=y,l=m;break}S=S.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function v(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=v(s),i!==null)return i;s=s.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),B=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function Ge(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case ee:return"Profiler";case M:return"StrictMode";case Y:return"Suspense";case le:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case B:return s.displayName||"Context";case Z:return(s._context.displayName||"Context")+".Consumer";case ie:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return i=s.displayName||null,i!==null?i:Ge(s.type)||"Memo";case A:i=s._payload,s=s._init;try{return Ge(s(i))}catch{}}return null}var Ze=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Me=[],Fe=-1;function N(s){return{current:s}}function H(s){0>Fe||(s.current=Me[Fe],Me[Fe]=null,Fe--)}function se(s,i){Fe++,Me[Fe]=s.current,s.current=i}var ue=N(null),Ee=N(null),Re=N(null),xe=N(null);function St(s,i){switch(se(Re,i),se(Ee,s),se(ue,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?K0(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=K0(i),s=Q0(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}H(ue),se(ue,s)}function nt(){H(ue),H(Ee),H(Re)}function tr(s){s.memoizedState!==null&&se(xe,s);var i=ue.current,l=Q0(i,s.type);i!==l&&(se(Ee,s),se(ue,l))}function qr(s){Ee.current===s&&(H(ue),H(Ee)),xe.current===s&&(H(xe),gu._currentValue=ce)}var Sr,ko;function $r(s){if(Sr===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Sr=i&&i[1]||"",ko=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sr+s+ko}var gc=!1;function ma(s,i){if(!s||gc)return"";gc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(W){var Q=W}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(W){Q=W}s.call(oe.prototype)}}else{try{throw Error()}catch(W){Q=W}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),x=y[0],S=y[1];if(x&&S){var O=x.split(`
`),K=S.split(`
`);for(m=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(u===O.length||m===K.length)for(u=O.length-1,m=K.length-1;1<=u&&0<=m&&O[u]!==K[m];)m--;for(;1<=u&&0<=m;u--,m--)if(O[u]!==K[m]){if(u!==1||m!==1)do if(u--,m--,0>m||O[u]!==K[m]){var ne=`
`+O[u].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=u&&0<=m);break}}}finally{gc=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?$r(l):""}function yc(s,i){switch(s.tag){case 26:case 27:case 5:return $r(s.type);case 16:return $r("Lazy");case 13:return s.child!==i&&i!==null?$r("Suspense Fallback"):$r("Suspense");case 19:return $r("SuspenseList");case 0:case 15:return ma(s.type,!1);case 11:return ma(s.type.render,!1);case 1:return ma(s.type,!0);case 31:return $r("Activity");default:return""}}function vc(s){try{var i="",l=null;do i+=yc(s,l),l=s,s=s.return;while(s);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Vt=Object.prototype.hasOwnProperty,Zt=t.unstable_scheduleCallback,ai=t.unstable_cancelCallback,sp=t.unstable_shouldYield,Ch=t.unstable_requestPaint,Tn=t.unstable_now,pa=t.unstable_getCurrentPriorityLevel,_c=t.unstable_ImmediatePriority,bc=t.unstable_UserBlockingPriority,oi=t.unstable_NormalPriority,ip=t.unstable_LowPriority,Dh=t.unstable_IdlePriority,kh=t.log,jh=t.unstable_setDisableYieldValue,Ar=null,ln=null;function nr(s){if(typeof kh=="function"&&jh(s),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Ar,s)}catch{}}var kt=Math.clz32?Math.clz32:Ph,Oh=Math.log,jo=Math.LN2;function Ph(s){return s>>>=0,s===0?32:31-(Oh(s)/jo|0)|0}var Hr=256,ga=262144,zt=4194304;function Gr(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Kr(s,i,l){var u=s.pendingLanes;if(u===0)return 0;var m=0,y=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?m=Gr(u):(x&=S,x!==0?m=Gr(x):l||(l=S&~s,l!==0&&(m=Gr(l))))):(S=u&~y,S!==0?m=Gr(S):x!==0?m=Gr(x):l||(l=u&~s,l!==0&&(m=Gr(l)))),m===0?0:i!==0&&i!==m&&(i&y)===0&&(y=m&-m,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:m}function Ir(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function ap(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mh(){var s=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),s}function Qr(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function ya(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function op(s,i,l,u,m,y){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,O=s.expirationTimes,K=s.hiddenUpdates;for(l=x&~l;0<l;){var ne=31-kt(l),oe=1<<ne;S[ne]=0,O[ne]=-1;var Q=K[ne];if(Q!==null)for(K[ne]=null,ne=0;ne<Q.length;ne++){var W=Q[ne];W!==null&&(W.lane&=-536870913)}l&=~oe}u!==0&&va(s,u,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(x&~i))}function va(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var u=31-kt(i);s.entangledLanes|=i,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function xc(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var u=31-kt(l),m=1<<u;m&i|s[u]&i&&(s[u]|=i),l&=~m}}function wc(s,i){var l=i&-i;return l=(l&42)!==0?1:_a(l),(l&(s.suspendedLanes|i))!==0?0:l}function _a(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ws(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Vh(){var s=de.p;return s!==0?s:(s=window.event,s===void 0?32:yw(s.type))}function Rr(s,i){var l=de.p;try{return de.p=s,i()}finally{de.p=l}}var Nr=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Nr,tn="__reactProps$"+Nr,Zr="__reactContainer$"+Nr,Oo="__reactEvents$"+Nr,lp="__reactListeners$"+Nr,zh="__reactHandles$"+Nr,Lh="__reactResources$"+Nr,Yr="__reactMarker$"+Nr;function Po(s){delete s[Lt],delete s[tn],delete s[Oo],delete s[lp],delete s[zh]}function Xr(s){var i=s[Lt];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Zr]||l[Lt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=tw(s);s!==null;){if(l=s[Lt])return l;s=tw(s)}return i}s=l,l=s.parentNode}return null}function rr(s){if(s=s[Lt]||s[Zr]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Bn(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Jr(s){var i=s[Lh];return i||(i=s[Lh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ut(s){s[Yr]=!0}var Ec=new Set,Tc={};function Wr(s,i){es(s,i),es(s+"Capture",i)}function es(s,i){for(Tc[s]=i,s=0;s<i.length;s++)Ec.add(i[s])}var Sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ac={},Ic={};function Uh(s){return Vt.call(Ic,s)?!0:Vt.call(Ac,s)?!1:Sc.test(s)?Ic[s]=!0:(Ac[s]=!0,!1)}function Mo(s,i,l){if(Uh(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function qn(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Ft(s,i,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+u)}}function nn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function li(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rc(s,i,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(x){l=""+x,y.call(this,x)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function rt(s){if(!s._valueTracker){var i=li(s)?"checked":"value";s._valueTracker=Rc(s,i,""+s[i])}}function ba(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return s&&(u=li(s)?s.checked?"true":"false":s.value),s=u,s!==l?(i.setValue(s),!0):!1}function ts(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var xa=/[\n"\\]/g;function jn(s){return s.replace(xa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Vo(s,i,l,u,m,y,x,S){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),i!=null?x==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+nn(i)):s.value!==""+nn(i)&&(s.value=""+nn(i)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),i!=null?Nc(s,x,nn(i)):l!=null?Nc(s,x,nn(l)):u!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+nn(S):s.removeAttribute("name")}function Fh(s,i,l,u,m,y,x,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){rt(s);return}l=l!=null?""+nn(l):"",i=i!=null?""+nn(i):l,S||i===s.value||(s.value=i),s.defaultValue=i}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),rt(s)}function Nc(s,i,l){i==="number"&&ts(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ci(s,i,l,u){if(s=s.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=i.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&u&&(s[l].defaultSelected=!0)}else{for(l=""+nn(l),i=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function Bh(s,i,l){if(i!=null&&(i=""+nn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+nn(l):""}function ui(s,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(r(92));if(Ze(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=nn(i),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),rt(s)}function On(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var qh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(s,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":u?s.setProperty(i,l):typeof l!="number"||l===0||qh.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Dc(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in i)u=i[m],i.hasOwnProperty(m)&&l[m]!==u&&Cc(s,m,u)}else for(var y in i)i.hasOwnProperty(y)&&Cc(s,y,i[y])}function zo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lo(s){return hi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Cr(){}var kc=null;function sr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var di=null,ns=null;function wa(s){var i=rr(s);if(i&&(s=i.stateNode)){var l=s[tn]||null;e:switch(s=i.stateNode,i.type){case"input":if(Vo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+jn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==s&&u.form===s.form){var m=u[tn]||null;if(!m)throw Error(r(90));Vo(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===s.form&&ba(u)}break e;case"textarea":Bh(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ci(s,!!l.multiple,i,!1)}}}var Uo=!1;function fi(s,i,l){if(Uo)return s(i,l);Uo=!0;try{var u=s(i);return u}finally{if(Uo=!1,(di!==null||ns!==null)&&(Vd(),di&&(i=di,s=ns,ns=di=null,wa(i),s)))for(i=0;i<s.length;i++)wa(s[i])}}function Dr(s,i){var l=s.stateNode;if(l===null)return null;var u=l[tn]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ea=!1;if(ir)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Ea=!1}var rs=null,jc=null,Ta=null;function Oc(){if(Ta)return Ta;var s,i=jc,l=i.length,u,m="value"in rs?rs.value:rs.textContent,y=m.length;for(s=0;s<l&&i[s]===m[s];s++);var x=l-s;for(u=1;u<=x&&i[l-u]===m[y-u];u++);return Ta=m.slice(s,1<u?1-u:void 0)}function Sa(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Es(){return!0}function kr(){return!1}function cn(s){function i(l,u,m,y,x){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Es:kr,this.isPropagationStopped=kr,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),i}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=cn(Ts),mi=_({},Ts,{view:0,detail:0}),Pc=cn(mi),pi,Fo,is,Bo=_({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==is&&(is&&s.type==="mousemove"?(pi=s.screenX-is.screenX,Fo=s.screenY-is.screenY):Fo=pi=0,is=s),pi)},movementY:function(s){return"movementY"in s?s.movementY:Fo}}),Mc=cn(Bo),Aa=_({},Bo,{dataTransfer:0}),Hh=cn(Aa),Gh=_({},mi,{relatedTarget:0}),Ia=cn(Gh),Vc=_({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Kh=cn(Vc),qo=_({},Ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qh=cn(qo),Zh=_({},Ts,{data:0}),as=cn(Zh),Yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wh(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Jh[s])?!!i[s]:!1}function gi(){return Wh}var Sn=_({},mi,{key:function(s){if(s.key){var i=Yh[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Sa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Xh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(s){return s.type==="keypress"?Sa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Sa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ed=cn(Sn),td=_({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ss=cn(td),f=_({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),b=cn(f),w=_({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=cn(w),$=_({},Bo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=cn($),me=_({},Ts,{newState:0,oldState:0}),je=cn(me),jt=[9,13,27,32],We=ir&&"CompositionEvent"in window,yt=null;ir&&"documentMode"in document&&(yt=document.documentMode);var ar=ir&&"TextEvent"in window&&!yt,os=ir&&(!We||yt&&8<yt&&11>=yt),jr=" ",Or=!1;function Ra(s,i){switch(s){case"keyup":return jt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $o(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ho=!1;function Q2(s,i){switch(s){case"compositionend":return $o(i);case"keypress":return i.which!==32?null:(Or=!0,jr);case"textInput":return s=i.data,s===jr&&Or?null:s;default:return null}}function Z2(s,i){if(Ho)return s==="compositionend"||!We&&Ra(s,i)?(s=Oc(),Ta=jc=rs=null,Ho=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return os&&i.locale!=="ko"?null:i.data;default:return null}}var Y2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sb(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Y2[s.type]:i==="textarea"}function ib(s,i,l,u){di?ns?ns.push(u):ns=[u]:di=u,i=$d(i,"onChange"),0<i.length&&(l=new ss("onChange","change",null,l,u),s.push({event:l,listeners:i}))}var zc=null,Lc=null;function X2(s){F0(s,0)}function nd(s){var i=Bn(s);if(ba(i))return s}function ab(s,i){if(s==="change")return i}var ob=!1;if(ir){var cp;if(ir){var up="oninput"in document;if(!up){var lb=document.createElement("div");lb.setAttribute("oninput","return;"),up=typeof lb.oninput=="function"}cp=up}else cp=!1;ob=cp&&(!document.documentMode||9<document.documentMode)}function cb(){zc&&(zc.detachEvent("onpropertychange",ub),Lc=zc=null)}function ub(s){if(s.propertyName==="value"&&nd(Lc)){var i=[];ib(i,Lc,s,sr(s)),fi(X2,i)}}function J2(s,i,l){s==="focusin"?(cb(),zc=i,Lc=l,zc.attachEvent("onpropertychange",ub)):s==="focusout"&&cb()}function W2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return nd(Lc)}function eN(s,i){if(s==="click")return nd(i)}function tN(s,i){if(s==="input"||s==="change")return nd(i)}function nN(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var $n=typeof Object.is=="function"?Object.is:nN;function Uc(s,i){if($n(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Vt.call(i,m)||!$n(s[m],i[m]))return!1}return!0}function hb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function db(s,i){var l=hb(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=i&&u>=i)return{node:l,offset:i-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=hb(l)}}function fb(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?fb(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function mb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=ts(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=ts(s.document)}return i}function hp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var rN=ir&&"documentMode"in document&&11>=document.documentMode,Go=null,dp=null,Fc=null,fp=!1;function pb(s,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fp||Go==null||Go!==ts(u)||(u=Go,"selectionStart"in u&&hp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fc&&Uc(Fc,u)||(Fc=u,u=$d(dp,"onSelect"),0<u.length&&(i=new ss("onSelect","select",null,i,l),s.push({event:i,listeners:u}),i.target=Go)))}function Na(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Ko={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},mp={},gb={};ir&&(gb=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function Ca(s){if(mp[s])return mp[s];if(!Ko[s])return s;var i=Ko[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in gb)return mp[s]=i[l];return s}var yb=Ca("animationend"),vb=Ca("animationiteration"),_b=Ca("animationstart"),sN=Ca("transitionrun"),iN=Ca("transitionstart"),aN=Ca("transitioncancel"),bb=Ca("transitionend"),xb=new Map,pp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pp.push("scrollEnd");function Pr(s,i){xb.set(s,i),Wr(i,[s])}var rd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},or=[],Qo=0,gp=0;function sd(){for(var s=Qo,i=gp=Qo=0;i<s;){var l=or[i];or[i++]=null;var u=or[i];or[i++]=null;var m=or[i];or[i++]=null;var y=or[i];if(or[i++]=null,u!==null&&m!==null){var x=u.pending;x===null?m.next=m:(m.next=x.next,x.next=m),u.pending=m}y!==0&&wb(l,m,y)}}function id(s,i,l,u){or[Qo++]=s,or[Qo++]=i,or[Qo++]=l,or[Qo++]=u,gp|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function yp(s,i,l,u){return id(s,i,l,u),ad(s)}function Da(s,i){return id(s,null,null,i),ad(s)}function wb(s,i,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&i!==null&&(m=31-kt(l),s=y.hiddenUpdates,u=s[m],u===null?s[m]=[i]:u.push(i),i.lane=l|536870912),y):null}function ad(s){if(50<cu)throw cu=0,Ag=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Zo={};function oN(s,i,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(s,i,l,u){return new oN(s,i,l,u)}function vp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function As(s,i){var l=s.alternate;return l===null?(l=Hn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Eb(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function od(s,i,l,u,m,y){var x=0;if(u=s,typeof s=="function")vp(s)&&(x=1);else if(typeof s=="string")x=dC(s,l,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Hn(31,l,i,m),s.elementType=C,s.lanes=y,s;case k:return ka(l.children,m,y,i);case M:x=8,m|=24;break;case ee:return s=Hn(12,l,i,m|2),s.elementType=ee,s.lanes=y,s;case Y:return s=Hn(13,l,i,m),s.elementType=Y,s.lanes=y,s;case le:return s=Hn(19,l,i,m),s.elementType=le,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:x=10;break e;case Z:x=9;break e;case ie:x=11;break e;case R:x=14;break e;case A:x=16,u=null;break e}x=29,l=Error(r(130,s===null?"null":typeof s,"")),u=null}return i=Hn(x,l,i,m),i.elementType=s,i.type=u,i.lanes=y,i}function ka(s,i,l,u){return s=Hn(7,s,u,i),s.lanes=l,s}function _p(s,i,l){return s=Hn(6,s,null,i),s.lanes=l,s}function Tb(s){var i=Hn(18,null,null,0);return i.stateNode=s,i}function bp(s,i,l){return i=Hn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var Sb=new WeakMap;function lr(s,i){if(typeof s=="object"&&s!==null){var l=Sb.get(s);return l!==void 0?l:(i={value:s,source:i,stack:vc(i)},Sb.set(s,i),i)}return{value:s,source:i,stack:vc(i)}}var Yo=[],Xo=0,ld=null,Bc=0,cr=[],ur=0,yi=null,ls=1,cs="";function Is(s,i){Yo[Xo++]=Bc,Yo[Xo++]=ld,ld=s,Bc=i}function Ab(s,i,l){cr[ur++]=ls,cr[ur++]=cs,cr[ur++]=yi,yi=s;var u=ls;s=cs;var m=32-kt(u)-1;u&=~(1<<m),l+=1;var y=32-kt(i)+m;if(30<y){var x=m-m%5;y=(u&(1<<x)-1).toString(32),u>>=x,m-=x,ls=1<<32-kt(i)+m|l<<m|u,cs=y+s}else ls=1<<y|l<<m|u,cs=s}function xp(s){s.return!==null&&(Is(s,1),Ab(s,1,0))}function wp(s){for(;s===ld;)ld=Yo[--Xo],Yo[Xo]=null,Bc=Yo[--Xo],Yo[Xo]=null;for(;s===yi;)yi=cr[--ur],cr[ur]=null,cs=cr[--ur],cr[ur]=null,ls=cr[--ur],cr[ur]=null}function Ib(s,i){cr[ur++]=ls,cr[ur++]=cs,cr[ur++]=yi,ls=i.id,cs=i.overflow,yi=s}var un=null,pt=null,Ke=!1,vi=null,hr=!1,Ep=Error(r(519));function _i(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qc(lr(i,s)),Ep}function Rb(s){var i=s.stateNode,l=s.type,u=s.memoizedProps;switch(i[Lt]=s,i[tn]=u,l){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(l=0;l<hu.length;l++)Ue(hu[l],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),Fh(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),ui(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||H0(i.textContent,l)?(u.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),u.onScroll!=null&&Ue("scroll",i),u.onScrollEnd!=null&&Ue("scrollend",i),u.onClick!=null&&(i.onclick=Cr),i=!0):i=!1,i||_i(s,!0)}function Nb(s){for(un=s.return;un;)switch(un.tag){case 5:case 31:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:un=un.return}}function Jo(s){if(s!==un)return!1;if(!Ke)return Nb(s),Ke=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Fg(s.type,s.memoizedProps)),l=!l),l&&pt&&_i(s),Nb(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));pt=ew(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));pt=ew(s)}else i===27?(i=pt,ji(s.type)?(s=Gg,Gg=null,pt=s):pt=i):pt=un?fr(s.stateNode.nextSibling):null;return!0}function ja(){pt=un=null,Ke=!1}function Tp(){var s=vi;return s!==null&&(zn===null?zn=s:zn.push.apply(zn,s),vi=null),s}function qc(s){vi===null?vi=[s]:vi.push(s)}var Sp=N(null),Oa=null,Rs=null;function bi(s,i,l){se(Sp,i._currentValue),i._currentValue=l}function Ns(s){s._currentValue=Sp.current,H(Sp)}function Ap(s,i,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),s===l)break;s=s.return}}function Ip(s,i,l,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var x=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var O=0;O<i.length;O++)if(S.context===i[O]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),Ap(y.return,l,s),u||(x=null);break e}y=S.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(r(341));x.lanes|=l,y=x.alternate,y!==null&&(y.lanes|=l),Ap(x,l,s),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function Wo(s,i,l,u){s=null;for(var m=i,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var S=m.type;$n(m.pendingProps.value,x.value)||(s!==null?s.push(S):s=[S])}}else if(m===xe.current){if(x=m.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(gu):s=[gu])}m=m.return}s!==null&&Ip(i,s,l,u),i.flags|=262144}function cd(s){for(s=s.firstContext;s!==null;){if(!$n(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Pa(s){Oa=s,Rs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hn(s){return Cb(Oa,s)}function ud(s,i){return Oa===null&&Pa(s),Cb(s,i)}function Cb(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Rs===null){if(s===null)throw Error(r(308));Rs=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Rs=Rs.next=i;return l}var lN=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},cN=t.unstable_scheduleCallback,uN=t.unstable_NormalPriority,Bt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rp(){return{controller:new lN,data:new Map,refCount:0}}function $c(s){s.refCount--,s.refCount===0&&cN(uN,function(){s.controller.abort()})}var Hc=null,Np=0,el=0,tl=null;function hN(s,i){if(Hc===null){var l=Hc=[];Np=0,el=kg(),tl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Np++,i.then(Db,Db),i}function Db(){if(--Np===0&&Hc!==null){tl!==null&&(tl.status="fulfilled");var s=Hc;Hc=null,el=0,tl=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function dN(s,i){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){u.status="fulfilled",u.value=i;for(var m=0;m<l.length;m++)(0,l[m])(i)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var kb=J.S;J.S=function(s,i){p0=Tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&hN(s,i),kb!==null&&kb(s,i)};var Ma=N(null);function Cp(){var s=Ma.current;return s!==null?s:mt.pooledCache}function hd(s,i){i===null?se(Ma,Ma.current):se(Ma,i.pool)}function jb(){var s=Cp();return s===null?null:{parent:Bt._currentValue,pool:s}}var nl=Error(r(460)),Dp=Error(r(474)),dd=Error(r(542)),fd={then:function(){}};function Ob(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Pb(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Cr,Cr),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Vb(s),s;default:if(typeof i.status=="string")i.then(Cr,Cr);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(u){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=u}},function(u){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Vb(s),s}throw za=i,nl}}function Va(s){try{var i=s._init;return i(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(za=l,nl):l}}var za=null;function Mb(){if(za===null)throw Error(r(459));var s=za;return za=null,s}function Vb(s){if(s===nl||s===dd)throw Error(r(483))}var rl=null,Gc=0;function md(s){var i=Gc;return Gc+=1,rl===null&&(rl=[]),Pb(rl,s,i)}function Kc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function pd(s,i){throw i.$$typeof===E?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function zb(s){function i(F,L){if(s){var G=F.deletions;G===null?(F.deletions=[L],F.flags|=16):G.push(L)}}function l(F,L){if(!s)return null;for(;L!==null;)i(F,L),L=L.sibling;return null}function u(F){for(var L=new Map;F!==null;)F.key!==null?L.set(F.key,F):L.set(F.index,F),F=F.sibling;return L}function m(F,L){return F=As(F,L),F.index=0,F.sibling=null,F}function y(F,L,G){return F.index=G,s?(G=F.alternate,G!==null?(G=G.index,G<L?(F.flags|=67108866,L):G):(F.flags|=67108866,L)):(F.flags|=1048576,L)}function x(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function S(F,L,G,re){return L===null||L.tag!==6?(L=_p(G,F.mode,re),L.return=F,L):(L=m(L,G),L.return=F,L)}function O(F,L,G,re){var Te=G.type;return Te===k?ne(F,L,G.props.children,re,G.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Va(Te)===L.type)?(L=m(L,G.props),Kc(L,G),L.return=F,L):(L=od(G.type,G.key,G.props,null,F.mode,re),Kc(L,G),L.return=F,L)}function K(F,L,G,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=bp(G,F.mode,re),L.return=F,L):(L=m(L,G.children||[]),L.return=F,L)}function ne(F,L,G,re,Te){return L===null||L.tag!==7?(L=ka(G,F.mode,re,Te),L.return=F,L):(L=m(L,G),L.return=F,L)}function oe(F,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=_p(""+L,F.mode,G),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return G=od(L.type,L.key,L.props,null,F.mode,G),Kc(G,L),G.return=F,G;case D:return L=bp(L,F.mode,G),L.return=F,L;case A:return L=Va(L),oe(F,L,G)}if(Ze(L)||U(L))return L=ka(L,F.mode,G,null),L.return=F,L;if(typeof L.then=="function")return oe(F,md(L),G);if(L.$$typeof===B)return oe(F,ud(F,L),G);pd(F,L)}return null}function Q(F,L,G,re){var Te=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Te!==null?null:S(F,L,""+G,re);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return G.key===Te?O(F,L,G,re):null;case D:return G.key===Te?K(F,L,G,re):null;case A:return G=Va(G),Q(F,L,G,re)}if(Ze(G)||U(G))return Te!==null?null:ne(F,L,G,re,null);if(typeof G.then=="function")return Q(F,L,md(G),re);if(G.$$typeof===B)return Q(F,L,ud(F,G),re);pd(F,G)}return null}function W(F,L,G,re,Te){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(G)||null,S(L,F,""+re,Te);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return F=F.get(re.key===null?G:re.key)||null,O(L,F,re,Te);case D:return F=F.get(re.key===null?G:re.key)||null,K(L,F,re,Te);case A:return re=Va(re),W(F,L,G,re,Te)}if(Ze(re)||U(re))return F=F.get(G)||null,ne(L,F,re,Te,null);if(typeof re.then=="function")return W(F,L,G,md(re),Te);if(re.$$typeof===B)return W(F,L,G,ud(L,re),Te);pd(L,re)}return null}function ge(F,L,G,re){for(var Te=null,Ye=null,be=L,Pe=L=0,qe=null;be!==null&&Pe<G.length;Pe++){be.index>Pe?(qe=be,be=null):qe=be.sibling;var Xe=Q(F,be,G[Pe],re);if(Xe===null){be===null&&(be=qe);break}s&&be&&Xe.alternate===null&&i(F,be),L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe,be=qe}if(Pe===G.length)return l(F,be),Ke&&Is(F,Pe),Te;if(be===null){for(;Pe<G.length;Pe++)be=oe(F,G[Pe],re),be!==null&&(L=y(be,L,Pe),Ye===null?Te=be:Ye.sibling=be,Ye=be);return Ke&&Is(F,Pe),Te}for(be=u(be);Pe<G.length;Pe++)qe=W(be,F,Pe,G[Pe],re),qe!==null&&(s&&qe.alternate!==null&&be.delete(qe.key===null?Pe:qe.key),L=y(qe,L,Pe),Ye===null?Te=qe:Ye.sibling=qe,Ye=qe);return s&&be.forEach(function(zi){return i(F,zi)}),Ke&&Is(F,Pe),Te}function Ie(F,L,G,re){if(G==null)throw Error(r(151));for(var Te=null,Ye=null,be=L,Pe=L=0,qe=null,Xe=G.next();be!==null&&!Xe.done;Pe++,Xe=G.next()){be.index>Pe?(qe=be,be=null):qe=be.sibling;var zi=Q(F,be,Xe.value,re);if(zi===null){be===null&&(be=qe);break}s&&be&&zi.alternate===null&&i(F,be),L=y(zi,L,Pe),Ye===null?Te=zi:Ye.sibling=zi,Ye=zi,be=qe}if(Xe.done)return l(F,be),Ke&&Is(F,Pe),Te;if(be===null){for(;!Xe.done;Pe++,Xe=G.next())Xe=oe(F,Xe.value,re),Xe!==null&&(L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe);return Ke&&Is(F,Pe),Te}for(be=u(be);!Xe.done;Pe++,Xe=G.next())Xe=W(be,F,Pe,Xe.value,re),Xe!==null&&(s&&Xe.alternate!==null&&be.delete(Xe.key===null?Pe:Xe.key),L=y(Xe,L,Pe),Ye===null?Te=Xe:Ye.sibling=Xe,Ye=Xe);return s&&be.forEach(function(EC){return i(F,EC)}),Ke&&Is(F,Pe),Te}function ft(F,L,G,re){if(typeof G=="object"&&G!==null&&G.type===k&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case T:e:{for(var Te=G.key;L!==null;){if(L.key===Te){if(Te=G.type,Te===k){if(L.tag===7){l(F,L.sibling),re=m(L,G.props.children),re.return=F,F=re;break e}}else if(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Va(Te)===L.type){l(F,L.sibling),re=m(L,G.props),Kc(re,G),re.return=F,F=re;break e}l(F,L);break}else i(F,L);L=L.sibling}G.type===k?(re=ka(G.props.children,F.mode,re,G.key),re.return=F,F=re):(re=od(G.type,G.key,G.props,null,F.mode,re),Kc(re,G),re.return=F,F=re)}return x(F);case D:e:{for(Te=G.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){l(F,L.sibling),re=m(L,G.children||[]),re.return=F,F=re;break e}else{l(F,L);break}else i(F,L);L=L.sibling}re=bp(G,F.mode,re),re.return=F,F=re}return x(F);case A:return G=Va(G),ft(F,L,G,re)}if(Ze(G))return ge(F,L,G,re);if(U(G)){if(Te=U(G),typeof Te!="function")throw Error(r(150));return G=Te.call(G),Ie(F,L,G,re)}if(typeof G.then=="function")return ft(F,L,md(G),re);if(G.$$typeof===B)return ft(F,L,ud(F,G),re);pd(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(l(F,L.sibling),re=m(L,G),re.return=F,F=re):(l(F,L),re=_p(G,F.mode,re),re.return=F,F=re),x(F)):l(F,L)}return function(F,L,G,re){try{Gc=0;var Te=ft(F,L,G,re);return rl=null,Te}catch(be){if(be===nl||be===dd)throw be;var Ye=Hn(29,be,null,F.mode);return Ye.lanes=re,Ye.return=F,Ye}}}var La=zb(!0),Lb=zb(!1),xi=!1;function kp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function wi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ei(s,i,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var m=u.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),u.pending=i,i=ad(s),wb(s,null,l),i}return id(s,u,i,l),ad(s)}function Qc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,xc(s,l)}}function Op(s,i){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=x:y=y.next=x,l=l.next}while(l!==null);y===null?m=y=i:y=y.next=i}else m=y=i;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var Pp=!1;function Zc(){if(Pp){var s=tl;if(s!==null)throw s}}function Yc(s,i,l,u){Pp=!1;var m=s.updateQueue;xi=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var O=S,K=O.next;O.next=null,x===null?y=K:x.next=K,x=O;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==x&&(S===null?ne.firstBaseUpdate=K:S.next=K,ne.lastBaseUpdate=O))}if(y!==null){var oe=m.baseState;x=0,ne=K=O=null,S=y;do{var Q=S.lane&-536870913,W=Q!==S.lane;if(W?(Be&Q)===Q:(u&Q)===Q){Q!==0&&Q===el&&(Pp=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=s,Ie=S;Q=i;var ft=l;switch(Ie.tag){case 1:if(ge=Ie.payload,typeof ge=="function"){oe=ge.call(ft,oe,Q);break e}oe=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ie.payload,Q=typeof ge=="function"?ge.call(ft,oe,Q):ge,Q==null)break e;oe=_({},oe,Q);break e;case 2:xi=!0}}Q=S.callback,Q!==null&&(s.flags|=64,W&&(s.flags|=8192),W=m.callbacks,W===null?m.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(K=ne=W,O=oe):ne=ne.next=W,x|=Q;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;W=S,S=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);ne===null&&(O=oe),m.baseState=O,m.firstBaseUpdate=K,m.lastBaseUpdate=ne,y===null&&(m.shared.lanes=0),Ri|=x,s.lanes=x,s.memoizedState=oe}}function Ub(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Fb(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Ub(l[s],i)}var sl=N(null),gd=N(0);function Bb(s,i){s=zs,se(gd,s),se(sl,i),zs=s|i.baseLanes}function Mp(){se(gd,zs),se(sl,sl.current)}function Vp(){zs=gd.current,H(sl),H(gd)}var Gn=N(null),dr=null;function Ti(s){var i=s.alternate;se(Ot,Ot.current&1),se(Gn,s),dr===null&&(i===null||sl.current!==null||i.memoizedState!==null)&&(dr=s)}function zp(s){se(Ot,Ot.current),se(Gn,s),dr===null&&(dr=s)}function qb(s){s.tag===22?(se(Ot,Ot.current),se(Gn,s),dr===null&&(dr=s)):Si()}function Si(){se(Ot,Ot.current),se(Gn,Gn.current)}function Kn(s){H(Gn),dr===s&&(dr=null),H(Ot)}var Ot=N(0);function yd(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||$g(l)||Hg(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Cs=0,Oe=null,ht=null,qt=null,vd=!1,il=!1,Ua=!1,_d=0,Xc=0,al=null,fN=0;function At(){throw Error(r(321))}function Lp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!$n(s[l],i[l]))return!1;return!0}function Up(s,i,l,u,m,y){return Cs=y,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=s===null||s.memoizedState===null?Ax:tg,Ua=!1,y=l(u,m),Ua=!1,il&&(y=Hb(i,l,u,m)),$b(s),y}function $b(s){J.H=eu;var i=ht!==null&&ht.next!==null;if(Cs=0,qt=ht=Oe=null,vd=!1,Xc=0,al=null,i)throw Error(r(300));s===null||$t||(s=s.dependencies,s!==null&&cd(s)&&($t=!0))}function Hb(s,i,l,u){Oe=s;var m=0;do{if(il&&(al=null),Xc=0,il=!1,25<=m)throw Error(r(301));if(m+=1,qt=ht=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=Ix,y=i(l,u)}while(il);return y}function mN(){var s=J.H,i=s.useState()[0];return i=typeof i.then=="function"?Jc(i):i,s=s.useState()[0],(ht!==null?ht.memoizedState:null)!==s&&(Oe.flags|=1024),i}function Fp(){var s=_d!==0;return _d=0,s}function Bp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function qp(s){if(vd){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}vd=!1}Cs=0,qt=ht=Oe=null,il=!1,Xc=_d=0,al=null}function An(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Oe.memoizedState=qt=s:qt=qt.next=s,qt}function Pt(){if(ht===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=ht.next;var i=qt===null?Oe.memoizedState:qt.next;if(i!==null)qt=i,ht=s;else{if(s===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));ht=s,s={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},qt===null?Oe.memoizedState=qt=s:qt=qt.next=s}return qt}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jc(s){var i=Xc;return Xc+=1,al===null&&(al=[]),s=Pb(al,s,i),i=Oe,(qt===null?i.memoizedState:qt.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?Ax:tg),s}function xd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Jc(s);if(s.$$typeof===B)return hn(s)}throw Error(r(438,String(s)))}function $p(s){var i=null,l=Oe.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=bd(),Oe.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),u=0;u<s;u++)l[u]=z;return i.index++,l}function Ds(s,i){return typeof i=="function"?i(s):i}function wd(s){var i=Pt();return Hp(i,ht,s)}function Hp(s,i,l){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var m=s.baseQueue,y=u.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}i.baseQueue=m=y,u.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{i=m.next;var S=x=null,O=null,K=i,ne=!1;do{var oe=K.lane&-536870913;if(oe!==K.lane?(Be&oe)===oe:(Cs&oe)===oe){var Q=K.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),oe===el&&(ne=!0);else if((Cs&Q)===Q){K=K.next,Q===el&&(ne=!0);continue}else oe={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=oe,x=y):O=O.next=oe,Oe.lanes|=Q,Ri|=Q;oe=K.action,Ua&&l(y,oe),y=K.hasEagerState?K.eagerState:l(y,oe)}else Q={lane:oe,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=Q,x=y):O=O.next=Q,Oe.lanes|=oe,Ri|=oe;K=K.next}while(K!==null&&K!==i);if(O===null?x=y:O.next=S,!$n(y,s.memoizedState)&&($t=!0,ne&&(l=tl,l!==null)))throw l;s.memoizedState=y,s.baseState=x,s.baseQueue=O,u.lastRenderedState=y}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Gp(s){var i=Pt(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=l.dispatch,m=l.pending,y=i.memoizedState;if(m!==null){l.pending=null;var x=m=m.next;do y=s(y,x.action),x=x.next;while(x!==m);$n(y,i.memoizedState)||($t=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,u]}function Gb(s,i,l){var u=Oe,m=Pt(),y=Ke;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=i();var x=!$n((ht||m).memoizedState,l);if(x&&(m.memoizedState=l,$t=!0),m=m.queue,Zp(Zb.bind(null,u,m,s),[s]),m.getSnapshot!==i||x||qt!==null&&qt.memoizedState.tag&1){if(u.flags|=2048,ol(9,{destroy:void 0},Qb.bind(null,u,m,l,i),null),mt===null)throw Error(r(349));y||(Cs&127)!==0||Kb(u,i,l)}return l}function Kb(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Oe.updateQueue,i===null?(i=bd(),Oe.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Qb(s,i,l,u){i.value=l,i.getSnapshot=u,Yb(i)&&Xb(s)}function Zb(s,i,l){return l(function(){Yb(i)&&Xb(s)})}function Yb(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!$n(s,l)}catch{return!0}}function Xb(s){var i=Da(s,2);i!==null&&Ln(i,s,2)}function Kp(s){var i=An();if(typeof s=="function"){var l=s;if(s=l(),Ua){nr(!0);try{l()}finally{nr(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:s},i}function Jb(s,i,l,u){return s.baseState=l,Hp(s,ht,typeof u=="function"?u:Ds)}function pN(s,i,l,u,m){if(Sd(s))throw Error(r(485));if(s=i.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};J.T!==null?l(!0):y.isTransition=!1,u(y),l=i.pending,l===null?(y.next=i.pending=y,Wb(i,y)):(y.next=l.next,i.pending=l.next=y)}}function Wb(s,i){var l=i.action,u=i.payload,m=s.state;if(i.isTransition){var y=J.T,x={};J.T=x;try{var S=l(m,u),O=J.S;O!==null&&O(x,S),ex(s,i,S)}catch(K){Qp(s,i,K)}finally{y!==null&&x.types!==null&&(y.types=x.types),J.T=y}}else try{y=l(m,u),ex(s,i,y)}catch(K){Qp(s,i,K)}}function ex(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){tx(s,i,u)},function(u){return Qp(s,i,u)}):tx(s,i,l)}function tx(s,i,l){i.status="fulfilled",i.value=l,nx(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,Wb(s,l)))}function Qp(s,i,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,nx(i),i=i.next;while(i!==u)}s.action=null}function nx(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function rx(s,i){return i}function sx(s,i){if(Ke){var l=mt.formState;if(l!==null){e:{var u=Oe;if(Ke){if(pt){t:{for(var m=pt,y=hr;m.nodeType!==8;){if(!y){m=null;break t}if(m=fr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){pt=fr(m.nextSibling),u=m.data==="F!";break e}}_i(u)}u=!1}u&&(i=l[0])}}return l=An(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rx,lastRenderedState:i},l.queue=u,l=Ex.bind(null,Oe,u),u.dispatch=l,u=Kp(!1),y=eg.bind(null,Oe,!1,u.queue),u=An(),m={state:i,dispatch:null,action:s,pending:null},u.queue=m,l=pN.bind(null,Oe,m,y,l),m.dispatch=l,u.memoizedState=s,[i,l,!1]}function ix(s){var i=Pt();return ax(i,ht,s)}function ax(s,i,l){if(i=Hp(s,i,rx)[0],s=wd(Ds)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Jc(i)}catch(x){throw x===nl?dd:x}else u=i;i=Pt();var m=i.queue,y=m.dispatch;return l!==i.memoizedState&&(Oe.flags|=2048,ol(9,{destroy:void 0},gN.bind(null,m,l),null)),[u,y,s]}function gN(s,i){s.action=i}function ox(s){var i=Pt(),l=ht;if(l!==null)return ax(i,l,s);Pt(),i=i.memoizedState,l=Pt();var u=l.queue.dispatch;return l.memoizedState=s,[i,u,!1]}function ol(s,i,l,u){return s={tag:s,create:l,deps:u,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=bd(),Oe.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,i.lastEffect=s),s}function lx(){return Pt().memoizedState}function Ed(s,i,l,u){var m=An();Oe.flags|=s,m.memoizedState=ol(1|i,{destroy:void 0},l,u===void 0?null:u)}function Td(s,i,l,u){var m=Pt();u=u===void 0?null:u;var y=m.memoizedState.inst;ht!==null&&u!==null&&Lp(u,ht.memoizedState.deps)?m.memoizedState=ol(i,y,l,u):(Oe.flags|=s,m.memoizedState=ol(1|i,y,l,u))}function cx(s,i){Ed(8390656,8,s,i)}function Zp(s,i){Td(2048,8,s,i)}function yN(s){Oe.flags|=4;var i=Oe.updateQueue;if(i===null)i=bd(),Oe.updateQueue=i,i.events=[s];else{var l=i.events;l===null?i.events=[s]:l.push(s)}}function ux(s){var i=Pt().memoizedState;return yN({ref:i,nextImpl:s}),function(){if((et&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function hx(s,i){return Td(4,2,s,i)}function dx(s,i){return Td(4,4,s,i)}function fx(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function mx(s,i,l){l=l!=null?l.concat([s]):null,Td(4,4,fx.bind(null,i,s),l)}function Yp(){}function px(s,i){var l=Pt();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Lp(i,u[1])?u[0]:(l.memoizedState=[s,i],s)}function gx(s,i){var l=Pt();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Lp(i,u[1]))return u[0];if(u=s(),Ua){nr(!0);try{s()}finally{nr(!1)}}return l.memoizedState=[u,i],u}function Xp(s,i,l){return l===void 0||(Cs&1073741824)!==0&&(Be&261930)===0?s.memoizedState=i:(s.memoizedState=l,s=y0(),Oe.lanes|=s,Ri|=s,l)}function yx(s,i,l,u){return $n(l,i)?l:sl.current!==null?(s=Xp(s,l,u),$n(s,i)||($t=!0),s):(Cs&42)===0||(Cs&1073741824)!==0&&(Be&261930)===0?($t=!0,s.memoizedState=l):(s=y0(),Oe.lanes|=s,Ri|=s,i)}function vx(s,i,l,u,m){var y=de.p;de.p=y!==0&&8>y?y:8;var x=J.T,S={};J.T=S,eg(s,!1,i,l);try{var O=m(),K=J.S;if(K!==null&&K(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=dN(O,u);Wc(s,i,ne,Yn(s))}else Wc(s,i,u,Yn(s))}catch(oe){Wc(s,i,{then:function(){},status:"rejected",reason:oe},Yn())}finally{de.p=y,x!==null&&S.types!==null&&(x.types=S.types),J.T=x}}function vN(){}function Jp(s,i,l,u){if(s.tag!==5)throw Error(r(476));var m=_x(s).queue;vx(s,m,i,ce,l===null?vN:function(){return bx(s),l(u)})}function _x(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:ce},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function bx(s){var i=_x(s);i.next===null&&(i=s.alternate.memoizedState),Wc(s,i.next.queue,{},Yn())}function Wp(){return hn(gu)}function xx(){return Pt().memoizedState}function wx(){return Pt().memoizedState}function _N(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Yn();s=wi(l);var u=Ei(i,s,l);u!==null&&(Ln(u,i,l),Qc(u,i,l)),i={cache:Rp()},s.payload=i;return}i=i.return}}function bN(s,i,l){var u=Yn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sd(s)?Tx(i,l):(l=yp(s,i,l,u),l!==null&&(Ln(l,s,u),Sx(l,i,u)))}function Ex(s,i,l){var u=Yn();Wc(s,i,l,u)}function Wc(s,i,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sd(s))Tx(i,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,S=y(x,l);if(m.hasEagerState=!0,m.eagerState=S,$n(S,x))return id(s,i,m,0),mt===null&&sd(),!1}catch{}if(l=yp(s,i,m,u),l!==null)return Ln(l,s,u),Sx(l,i,u),!0}return!1}function eg(s,i,l,u){if(u={lane:2,revertLane:kg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Sd(s)){if(i)throw Error(r(479))}else i=yp(s,l,u,2),i!==null&&Ln(i,s,2)}function Sd(s){var i=s.alternate;return s===Oe||i!==null&&i===Oe}function Tx(s,i){il=vd=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Sx(s,i,l){if((l&4194048)!==0){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,xc(s,l)}}var eu={readContext:hn,use:xd,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};eu.useEffectEvent=At;var Ax={readContext:hn,use:xd,useCallback:function(s,i){return An().memoizedState=[s,i===void 0?null:i],s},useContext:hn,useEffect:cx,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,Ed(4194308,4,fx.bind(null,i,s),l)},useLayoutEffect:function(s,i){return Ed(4194308,4,s,i)},useInsertionEffect:function(s,i){Ed(4,2,s,i)},useMemo:function(s,i){var l=An();i=i===void 0?null:i;var u=s();if(Ua){nr(!0);try{s()}finally{nr(!1)}}return l.memoizedState=[u,i],u},useReducer:function(s,i,l){var u=An();if(l!==void 0){var m=l(i);if(Ua){nr(!0);try{l(i)}finally{nr(!1)}}}else m=i;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=bN.bind(null,Oe,s),[u.memoizedState,s]},useRef:function(s){var i=An();return s={current:s},i.memoizedState=s},useState:function(s){s=Kp(s);var i=s.queue,l=Ex.bind(null,Oe,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Yp,useDeferredValue:function(s,i){var l=An();return Xp(l,s,i)},useTransition:function(){var s=Kp(!1);return s=vx.bind(null,Oe,s.queue,!0,!1),An().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var u=Oe,m=An();if(Ke){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),mt===null)throw Error(r(349));(Be&127)!==0||Kb(u,i,l)}m.memoizedState=l;var y={value:l,getSnapshot:i};return m.queue=y,cx(Zb.bind(null,u,y,s),[s]),u.flags|=2048,ol(9,{destroy:void 0},Qb.bind(null,u,y,l,i),null),l},useId:function(){var s=An(),i=mt.identifierPrefix;if(Ke){var l=cs,u=ls;l=(u&~(1<<32-kt(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=_d++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=fN++,i="_"+i+"r_"+l.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:Wp,useFormState:sx,useActionState:sx,useOptimistic:function(s){var i=An();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=eg.bind(null,Oe,!0,l),l.dispatch=i,[s,i]},useMemoCache:$p,useCacheRefresh:function(){return An().memoizedState=_N.bind(null,Oe)},useEffectEvent:function(s){var i=An(),l={impl:s};return i.memoizedState=l,function(){if((et&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},tg={readContext:hn,use:xd,useCallback:px,useContext:hn,useEffect:Zp,useImperativeHandle:mx,useInsertionEffect:hx,useLayoutEffect:dx,useMemo:gx,useReducer:wd,useRef:lx,useState:function(){return wd(Ds)},useDebugValue:Yp,useDeferredValue:function(s,i){var l=Pt();return yx(l,ht.memoizedState,s,i)},useTransition:function(){var s=wd(Ds)[0],i=Pt().memoizedState;return[typeof s=="boolean"?s:Jc(s),i]},useSyncExternalStore:Gb,useId:xx,useHostTransitionStatus:Wp,useFormState:ix,useActionState:ix,useOptimistic:function(s,i){var l=Pt();return Jb(l,ht,s,i)},useMemoCache:$p,useCacheRefresh:wx};tg.useEffectEvent=ux;var Ix={readContext:hn,use:xd,useCallback:px,useContext:hn,useEffect:Zp,useImperativeHandle:mx,useInsertionEffect:hx,useLayoutEffect:dx,useMemo:gx,useReducer:Gp,useRef:lx,useState:function(){return Gp(Ds)},useDebugValue:Yp,useDeferredValue:function(s,i){var l=Pt();return ht===null?Xp(l,s,i):yx(l,ht.memoizedState,s,i)},useTransition:function(){var s=Gp(Ds)[0],i=Pt().memoizedState;return[typeof s=="boolean"?s:Jc(s),i]},useSyncExternalStore:Gb,useId:xx,useHostTransitionStatus:Wp,useFormState:ox,useActionState:ox,useOptimistic:function(s,i){var l=Pt();return ht!==null?Jb(l,ht,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:$p,useCacheRefresh:wx};Ix.useEffectEvent=ux;function ng(s,i,l,u){i=s.memoizedState,l=l(u,i),l=l==null?i:_({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var rg={enqueueSetState:function(s,i,l){s=s._reactInternals;var u=Yn(),m=wi(u);m.payload=i,l!=null&&(m.callback=l),i=Ei(s,m,u),i!==null&&(Ln(i,s,u),Qc(i,s,u))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var u=Yn(),m=wi(u);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=Ei(s,m,u),i!==null&&(Ln(i,s,u),Qc(i,s,u))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Yn(),u=wi(l);u.tag=2,i!=null&&(u.callback=i),i=Ei(s,u,l),i!==null&&(Ln(i,s,l),Qc(i,s,l))}};function Rx(s,i,l,u,m,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,x):i.prototype&&i.prototype.isPureReactComponent?!Uc(l,u)||!Uc(m,y):!0}function Nx(s,i,l,u){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==s&&rg.enqueueReplaceState(i,i.state,null)}function Fa(s,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(s=s.defaultProps){l===i&&(l=_({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}function Cx(s){rd(s)}function Dx(s){console.error(s)}function kx(s){rd(s)}function Ad(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function jx(s,i,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function sg(s,i,l){return l=wi(l),l.tag=3,l.payload={element:null},l.callback=function(){Ad(s,i)},l}function Ox(s){return s=wi(s),s.tag=3,s}function Px(s,i,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;s.payload=function(){return m(y)},s.callback=function(){jx(i,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){jx(i,l,u),typeof m!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function xN(s,i,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Wo(i,l,m,!0),l=Gn.current,l!==null){switch(l.tag){case 31:case 13:return dr===null?zd():l.alternate===null&&It===0&&(It=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===fd?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Ng(s,u,m)),!1;case 22:return l.flags|=65536,u===fd?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Ng(s,u,m)),!1}throw Error(r(435,l.tag))}return Ng(s,u,m),zd(),!1}if(Ke)return i=Gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,u!==Ep&&(s=Error(r(422),{cause:u}),qc(lr(s,l)))):(u!==Ep&&(i=Error(r(423),{cause:u}),qc(lr(i,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=lr(u,l),m=sg(s.stateNode,u,m),Op(s,m),It!==4&&(It=2)),!1;var y=Error(r(520),{cause:u});if(y=lr(y,l),lu===null?lu=[y]:lu.push(y),It!==4&&(It=2),i===null)return!0;u=lr(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=sg(l.stateNode,u,s),Op(l,s),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ni===null||!Ni.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Ox(m),Px(m,s,l,u),Op(l,m),!1}l=l.return}while(l!==null);return!1}var ig=Error(r(461)),$t=!1;function dn(s,i,l,u){i.child=s===null?Lb(i,null,l,u):La(i,s.child,l,u)}function Mx(s,i,l,u,m){l=l.render;var y=i.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return Pa(i),u=Up(s,i,l,x,y,m),S=Fp(),s!==null&&!$t?(Bp(s,i,m),ks(s,i,m)):(Ke&&S&&xp(i),i.flags|=1,dn(s,i,u,m),i.child)}function Vx(s,i,l,u,m){if(s===null){var y=l.type;return typeof y=="function"&&!vp(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,zx(s,i,y,u,m)):(s=od(l.type,null,u,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,!fg(s,m)){var x=y.memoizedProps;if(l=l.compare,l=l!==null?l:Uc,l(x,u)&&s.ref===i.ref)return ks(s,i,m)}return i.flags|=1,s=As(y,u),s.ref=i.ref,s.return=i,i.child=s}function zx(s,i,l,u,m){if(s!==null){var y=s.memoizedProps;if(Uc(y,u)&&s.ref===i.ref)if($t=!1,i.pendingProps=u=y,fg(s,m))(s.flags&131072)!==0&&($t=!0);else return i.lanes=s.lanes,ks(s,i,m)}return ag(s,i,l,u,m)}function Lx(s,i,l,u){var m=u.children,y=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,s!==null){for(u=i.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,i.child=null;return Ux(s,i,y,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&hd(i,y!==null?y.cachePool:null),y!==null?Bb(i,y):Mp(),qb(i);else return u=i.lanes=536870912,Ux(s,i,y!==null?y.baseLanes|l:l,l,u)}else y!==null?(hd(i,y.cachePool),Bb(i,y),Si(),i.memoizedState=null):(s!==null&&hd(i,null),Mp(),Si());return dn(s,i,m,l),i.child}function tu(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ux(s,i,l,u,m){var y=Cp();return y=y===null?null:{parent:Bt._currentValue,pool:y},i.memoizedState={baseLanes:l,cachePool:y},s!==null&&hd(i,null),Mp(),qb(i),s!==null&&Wo(s,i,u,!0),i.childLanes=m,null}function Id(s,i){return i=Nd({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function Fx(s,i,l){return La(i,s.child,null,l),s=Id(i,i.pendingProps),s.flags|=2,Kn(i),i.memoizedState=null,s}function wN(s,i,l){var u=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Ke){if(u.mode==="hidden")return s=Id(i,u),i.lanes=536870912,tu(null,s);if(zp(i),(s=pt)?(s=W0(s,hr),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:yi!==null?{id:ls,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},l=Tb(s),l.return=i,i.child=l,un=i,pt=null)):s=null,s===null)throw _i(i);return i.lanes=536870912,null}return Id(i,u)}var y=s.memoizedState;if(y!==null){var x=y.dehydrated;if(zp(i),m)if(i.flags&256)i.flags&=-257,i=Fx(s,i,l);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if($t||Wo(s,i,l,!1),m=(l&s.childLanes)!==0,$t||m){if(u=mt,u!==null&&(x=wc(u,l),x!==0&&x!==y.retryLane))throw y.retryLane=x,Da(s,x),Ln(u,s,x),ig;zd(),i=Fx(s,i,l)}else s=y.treeContext,pt=fr(x.nextSibling),un=i,Ke=!0,vi=null,hr=!1,s!==null&&Ib(i,s),i=Id(i,u),i.flags|=4096;return i}return s=As(s.child,{mode:u.mode,children:u.children}),s.ref=i.ref,i.child=s,s.return=i,s}function Rd(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function ag(s,i,l,u,m){return Pa(i),l=Up(s,i,l,u,void 0,m),u=Fp(),s!==null&&!$t?(Bp(s,i,m),ks(s,i,m)):(Ke&&u&&xp(i),i.flags|=1,dn(s,i,l,m),i.child)}function Bx(s,i,l,u,m,y){return Pa(i),i.updateQueue=null,l=Hb(i,u,l,m),$b(s),u=Fp(),s!==null&&!$t?(Bp(s,i,y),ks(s,i,y)):(Ke&&u&&xp(i),i.flags|=1,dn(s,i,l,y),i.child)}function qx(s,i,l,u,m){if(Pa(i),i.stateNode===null){var y=Zo,x=l.contextType;typeof x=="object"&&x!==null&&(y=hn(x)),y=new l(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=rg,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},kp(i),x=l.contextType,y.context=typeof x=="object"&&x!==null?hn(x):Zo,y.state=i.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(ng(i,l,x,u),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&rg.enqueueReplaceState(y,y.state,null),Yc(i,u,y,m),Zc(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(s===null){y=i.stateNode;var S=i.memoizedProps,O=Fa(l,S);y.props=O;var K=y.context,ne=l.contextType;x=Zo,typeof ne=="object"&&ne!==null&&(x=hn(ne));var oe=l.getDerivedStateFromProps;ne=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||K!==x)&&Nx(i,y,u,x),xi=!1;var Q=i.memoizedState;y.state=Q,Yc(i,u,y,m),Zc(),K=i.memoizedState,S||Q!==K||xi?(typeof oe=="function"&&(ng(i,l,oe,u),K=i.memoizedState),(O=xi||Rx(i,l,O,u,Q,K,x))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=K),y.props=u,y.state=K,y.context=x,u=O):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,jp(s,i),x=i.memoizedProps,ne=Fa(l,x),y.props=ne,oe=i.pendingProps,Q=y.context,K=l.contextType,O=Zo,typeof K=="object"&&K!==null&&(O=hn(K)),S=l.getDerivedStateFromProps,(K=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==oe||Q!==O)&&Nx(i,y,u,O),xi=!1,Q=i.memoizedState,y.state=Q,Yc(i,u,y,m),Zc();var W=i.memoizedState;x!==oe||Q!==W||xi||s!==null&&s.dependencies!==null&&cd(s.dependencies)?(typeof S=="function"&&(ng(i,l,S,u),W=i.memoizedState),(ne=xi||Rx(i,l,ne,u,Q,W,O)||s!==null&&s.dependencies!==null&&cd(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,W,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,W,O)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=W),y.props=u,y.state=W,y.context=O,u=ne):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(i.flags|=1024),u=!1)}return y=u,Rd(s,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,s!==null&&u?(i.child=La(i,s.child,null,m),i.child=La(i,null,l,m)):dn(s,i,l,m),i.memoizedState=y.state,s=i.child):s=ks(s,i,m),s}function $x(s,i,l,u){return ja(),i.flags|=256,dn(s,i,l,u),i.child}var og={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lg(s){return{baseLanes:s,cachePool:jb()}}function cg(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Zn),s}function Hx(s,i,l){var u=i.pendingProps,m=!1,y=(i.flags&128)!==0,x;if((x=y)||(x=s!==null&&s.memoizedState===null?!1:(Ot.current&2)!==0),x&&(m=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,s===null){if(Ke){if(m?Ti(i):Si(),(s=pt)?(s=W0(s,hr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:yi!==null?{id:ls,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},l=Tb(s),l.return=i,i.child=l,un=i,pt=null)):s=null,s===null)throw _i(i);return Hg(s)?i.lanes=32:i.lanes=536870912,null}var S=u.children;return u=u.fallback,m?(Si(),m=i.mode,S=Nd({mode:"hidden",children:S},m),u=ka(u,m,l,null),S.return=i,u.return=i,S.sibling=u,i.child=S,u=i.child,u.memoizedState=lg(l),u.childLanes=cg(s,x,l),i.memoizedState=og,tu(null,u)):(Ti(i),ug(i,S))}var O=s.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(y)i.flags&256?(Ti(i),i.flags&=-257,i=hg(s,i,l)):i.memoizedState!==null?(Si(),i.child=s.child,i.flags|=128,i=null):(Si(),S=u.fallback,m=i.mode,u=Nd({mode:"visible",children:u.children},m),S=ka(S,m,l,null),S.flags|=2,u.return=i,S.return=i,u.sibling=S,i.child=u,La(i,s.child,null,l),u=i.child,u.memoizedState=lg(l),u.childLanes=cg(s,x,l),i.memoizedState=og,i=tu(null,u));else if(Ti(i),Hg(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var K=x.dgst;x=K,u=Error(r(419)),u.stack="",u.digest=x,qc({value:u,source:null,stack:null}),i=hg(s,i,l)}else if($t||Wo(s,i,l,!1),x=(l&s.childLanes)!==0,$t||x){if(x=mt,x!==null&&(u=wc(x,l),u!==0&&u!==O.retryLane))throw O.retryLane=u,Da(s,u),Ln(x,s,u),ig;$g(S)||zd(),i=hg(s,i,l)}else $g(S)?(i.flags|=192,i.child=s.child,i=null):(s=O.treeContext,pt=fr(S.nextSibling),un=i,Ke=!0,vi=null,hr=!1,s!==null&&Ib(i,s),i=ug(i,u.children),i.flags|=4096);return i}return m?(Si(),S=u.fallback,m=i.mode,O=s.child,K=O.sibling,u=As(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,K!==null?S=As(K,S):(S=ka(S,m,l,null),S.flags|=2),S.return=i,u.return=i,u.sibling=S,i.child=u,tu(null,u),u=i.child,S=s.child.memoizedState,S===null?S=lg(l):(m=S.cachePool,m!==null?(O=Bt._currentValue,m=m.parent!==O?{parent:O,pool:O}:m):m=jb(),S={baseLanes:S.baseLanes|l,cachePool:m}),u.memoizedState=S,u.childLanes=cg(s,x,l),i.memoizedState=og,tu(s.child,u)):(Ti(i),l=s.child,s=l.sibling,l=As(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,s!==null&&(x=i.deletions,x===null?(i.deletions=[s],i.flags|=16):x.push(s)),i.child=l,i.memoizedState=null,l)}function ug(s,i){return i=Nd({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Nd(s,i){return s=Hn(22,s,null,i),s.lanes=0,s}function hg(s,i,l){return La(i,s.child,null,l),s=ug(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Gx(s,i,l){s.lanes|=i;var u=s.alternate;u!==null&&(u.lanes|=i),Ap(s.return,i,l)}function dg(s,i,l,u,m,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:y}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=m,x.treeForkCount=y)}function Kx(s,i,l){var u=i.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var x=Ot.current,S=(x&2)!==0;if(S?(x=x&1|2,i.flags|=128):x&=1,se(Ot,x),dn(s,i,u,l),u=Ke?Bc:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Gx(s,l,i);else if(s.tag===19)Gx(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(l=i.child,m=null;l!==null;)s=l.alternate,s!==null&&yd(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),dg(i,!1,m,l,y,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&yd(s)===null){i.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}dg(i,!0,l,null,y,u);break;case"together":dg(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function ks(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Ri|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Wo(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=As(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=As(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function fg(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&cd(s)))}function EN(s,i,l){switch(i.tag){case 3:St(i,i.stateNode.containerInfo),bi(i,Bt,s.memoizedState.cache),ja();break;case 27:case 5:tr(i);break;case 4:St(i,i.stateNode.containerInfo);break;case 10:bi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zp(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ti(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Hx(s,i,l):(Ti(i),s=ks(s,i,l),s!==null?s.sibling:null);Ti(i);break;case 19:var m=(s.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Wo(s,i,l,!1),u=(l&i.childLanes)!==0),m){if(u)return Kx(s,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),se(Ot,Ot.current),u)break;return null;case 22:return i.lanes=0,Lx(s,i,l,i.pendingProps);case 24:bi(i,Bt,s.memoizedState.cache)}return ks(s,i,l)}function Qx(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)$t=!0;else{if(!fg(s,l)&&(i.flags&128)===0)return $t=!1,EN(s,i,l);$t=(s.flags&131072)!==0}else $t=!1,Ke&&(i.flags&1048576)!==0&&Ab(i,Bc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(s=Va(i.elementType),i.type=s,typeof s=="function")vp(s)?(u=Fa(s,u),i.tag=1,i=qx(null,i,s,u,l)):(i.tag=0,i=ag(null,i,s,u,l));else{if(s!=null){var m=s.$$typeof;if(m===ie){i.tag=11,i=Mx(null,i,s,u,l);break e}else if(m===R){i.tag=14,i=Vx(null,i,s,u,l);break e}}throw i=Ge(s)||s,Error(r(306,i,""))}}return i;case 0:return ag(s,i,i.type,i.pendingProps,l);case 1:return u=i.type,m=Fa(u,i.pendingProps),qx(s,i,u,m,l);case 3:e:{if(St(i,i.stateNode.containerInfo),s===null)throw Error(r(387));u=i.pendingProps;var y=i.memoizedState;m=y.element,jp(s,i),Yc(i,u,null,l);var x=i.memoizedState;if(u=x.cache,bi(i,Bt,u),u!==y.cache&&Ip(i,[Bt],l,!0),Zc(),u=x.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=$x(s,i,u,l);break e}else if(u!==m){m=lr(Error(r(424)),i),qc(m),i=$x(s,i,u,l);break e}else for(s=i.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,pt=fr(s.firstChild),un=i,Ke=!0,vi=null,hr=!0,l=Lb(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ja(),u===m){i=ks(s,i,l);break e}dn(s,i,u,l)}i=i.child}return i;case 26:return Rd(s,i),s===null?(l=iw(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ke||(l=i.type,s=i.pendingProps,u=Hd(Re.current).createElement(l),u[Lt]=i,u[tn]=s,fn(u,l,s),Ut(u),i.stateNode=u):i.memoizedState=iw(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return tr(i),s===null&&Ke&&(u=i.stateNode=nw(i.type,i.pendingProps,Re.current),un=i,hr=!0,m=pt,ji(i.type)?(Gg=m,pt=fr(u.firstChild)):pt=m),dn(s,i,i.pendingProps.children,l),Rd(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Ke&&((m=u=pt)&&(u=WN(u,i.type,i.pendingProps,hr),u!==null?(i.stateNode=u,un=i,pt=fr(u.firstChild),hr=!1,m=!0):m=!1),m||_i(i)),tr(i),m=i.type,y=i.pendingProps,x=s!==null?s.memoizedProps:null,u=y.children,Fg(m,y)?u=null:x!==null&&Fg(m,x)&&(i.flags|=32),i.memoizedState!==null&&(m=Up(s,i,mN,null,null,l),gu._currentValue=m),Rd(s,i),dn(s,i,u,l),i.child;case 6:return s===null&&Ke&&((s=l=pt)&&(l=eC(l,i.pendingProps,hr),l!==null?(i.stateNode=l,un=i,pt=null,s=!0):s=!1),s||_i(i)),null;case 13:return Hx(s,i,l);case 4:return St(i,i.stateNode.containerInfo),u=i.pendingProps,s===null?i.child=La(i,null,u,l):dn(s,i,u,l),i.child;case 11:return Mx(s,i,i.type,i.pendingProps,l);case 7:return dn(s,i,i.pendingProps,l),i.child;case 8:return dn(s,i,i.pendingProps.children,l),i.child;case 12:return dn(s,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,bi(i,i.type,u.value),dn(s,i,u.children,l),i.child;case 9:return m=i.type._context,u=i.pendingProps.children,Pa(i),m=hn(m),u=u(m),i.flags|=1,dn(s,i,u,l),i.child;case 14:return Vx(s,i,i.type,i.pendingProps,l);case 15:return zx(s,i,i.type,i.pendingProps,l);case 19:return Kx(s,i,l);case 31:return wN(s,i,l);case 22:return Lx(s,i,l,i.pendingProps);case 24:return Pa(i),u=hn(Bt),s===null?(m=Cp(),m===null&&(m=mt,y=Rp(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),i.memoizedState={parent:u,cache:m},kp(i),bi(i,Bt,m)):((s.lanes&l)!==0&&(jp(s,i),Yc(i,null,null,l),Zc()),m=s.memoizedState,y=i.memoizedState,m.parent!==u?(m={parent:u,cache:u},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),bi(i,Bt,u)):(u=y.cache,bi(i,Bt,u),u!==m.cache&&Ip(i,[Bt],l,!0))),dn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function js(s){s.flags|=4}function mg(s,i,l,u,m){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(x0())s.flags|=8192;else throw za=fd,Dp}else s.flags&=-16777217}function Zx(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!uw(i))if(x0())s.flags|=8192;else throw za=fd,Dp}function Cd(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Mh():536870912,s.lanes|=i,hl|=i)}function nu(s,i){if(!Ke)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function gt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(i)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=l,i}function TN(s,i,l){var u=i.pendingProps;switch(wp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return l=i.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ns(Bt),nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Jo(i)?js(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tp())),gt(i),null;case 26:var m=i.type,y=i.memoizedState;return s===null?(js(i),y!==null?(gt(i),Zx(i,y)):(gt(i),mg(i,m,null,u,l))):y?y!==s.memoizedState?(js(i),gt(i),Zx(i,y)):(gt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==u&&js(i),gt(i),mg(i,m,s,u,l)),null;case 27:if(qr(i),l=Re.current,m=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&js(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return gt(i),null}s=ue.current,Jo(i)?Rb(i):(s=nw(m,u,l),i.stateNode=s,js(i))}return gt(i),null;case 5:if(qr(i),m=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&js(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return gt(i),null}if(y=ue.current,Jo(i))Rb(i);else{var x=Hd(Re.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?x.createElement(m,{is:u.is}):x.createElement(m)}}y[Lt]=i,y[tn]=u;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=y;e:switch(fn(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&js(i)}}return gt(i),mg(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,l),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==u&&js(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(s=Re.current,Jo(i)){if(s=i.stateNode,l=i.memoizedProps,u=null,m=un,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Lt]=i,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||H0(s.nodeValue,l)),s||_i(i,!0)}else s=Hd(s).createTextNode(u),s[Lt]=i,i.stateNode=s}return gt(i),null;case 31:if(l=i.memoizedState,s===null||s.memoizedState!==null){if(u=Jo(i),l!==null){if(s===null){if(!u)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Lt]=i}else ja(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),s=!1}else l=Tp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return i.flags&256?(Kn(i),i):(Kn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return gt(i),null;case 13:if(u=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Jo(i),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Lt]=i}else ja(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),m=!1}else m=Tp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Kn(i),i):(Kn(i),null)}return Kn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=i.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),l!==s&&l&&(i.child.flags|=8192),Cd(i,i.updateQueue),gt(i),null);case 4:return nt(),s===null&&Mg(i.stateNode.containerInfo),gt(i),null;case 10:return Ns(i.type),gt(i),null;case 19:if(H(Ot),u=i.memoizedState,u===null)return gt(i),null;if(m=(i.flags&128)!==0,y=u.rendering,y===null)if(m)nu(u,!1);else{if(It!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(y=yd(s),y!==null){for(i.flags|=128,nu(u,!1),s=y.updateQueue,i.updateQueue=s,Cd(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)Eb(l,s),l=l.sibling;return se(Ot,Ot.current&1|2),Ke&&Is(i,u.treeForkCount),i.child}s=s.sibling}u.tail!==null&&Tn()>Pd&&(i.flags|=128,m=!0,nu(u,!1),i.lanes=4194304)}else{if(!m)if(s=yd(y),s!==null){if(i.flags|=128,m=!0,s=s.updateQueue,i.updateQueue=s,Cd(i,s),nu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Ke)return gt(i),null}else 2*Tn()-u.renderingStartTime>Pd&&l!==536870912&&(i.flags|=128,m=!0,nu(u,!1),i.lanes=4194304);u.isBackwards?(y.sibling=i.child,i.child=y):(s=u.last,s!==null?s.sibling=y:i.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Tn(),s.sibling=null,l=Ot.current,se(Ot,m?l&1|2:l&1),Ke&&Is(i,u.treeForkCount),s):(gt(i),null);case 22:case 23:return Kn(i),Vp(),u=i.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),l=i.updateQueue,l!==null&&Cd(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),s!==null&&H(Ma),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ns(Bt),gt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function SN(s,i){switch(wp(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ns(Bt),nt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return qr(i),null;case 31:if(i.memoizedState!==null){if(Kn(i),i.alternate===null)throw Error(r(340));ja()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Kn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ja()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return H(Ot),null;case 4:return nt(),null;case 10:return Ns(i.type),null;case 22:case 23:return Kn(i),Vp(),s!==null&&H(Ma),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Ns(Bt),null;case 25:return null;default:return null}}function Yx(s,i){switch(wp(i),i.tag){case 3:Ns(Bt),nt();break;case 26:case 27:case 5:qr(i);break;case 4:nt();break;case 31:i.memoizedState!==null&&Kn(i);break;case 13:Kn(i);break;case 19:H(Ot);break;case 10:Ns(i.type);break;case 22:case 23:Kn(i),Vp(),s!==null&&H(Ma);break;case 24:Ns(Bt)}}function ru(s,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&s)===s){u=void 0;var y=l.create,x=l.inst;u=y(),x.destroy=u}l=l.next}while(l!==m)}}catch(S){it(i,i.return,S)}}function Ai(s,i,l){try{var u=i.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&s)===s){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,m=i;var O=l,K=S;try{K()}catch(ne){it(m,O,ne)}}}u=u.next}while(u!==y)}}catch(ne){it(i,i.return,ne)}}function Xx(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{Fb(i,l)}catch(u){it(s,s.return,u)}}}function Jx(s,i,l){l.props=Fa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){it(s,i,u)}}function su(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(m){it(s,i,m)}}function us(s,i){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){it(s,i,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){it(s,i,m)}else l.current=null}function Wx(s){var i=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){it(s,s.return,m)}}function pg(s,i,l){try{var u=s.stateNode;KN(u,s.type,l,i),u[tn]=i}catch(m){it(s,s.return,m)}}function e0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ji(s.type)||s.tag===4}function gg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||e0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ji(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yg(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Cr));else if(u!==4&&(u===27&&ji(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(yg(s,i,l),s=s.sibling;s!==null;)yg(s,i,l),s=s.sibling}function Dd(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(u!==4&&(u===27&&ji(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Dd(s,i,l),s=s.sibling;s!==null;)Dd(s,i,l),s=s.sibling}function t0(s){var i=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);fn(i,u,l),i[Lt]=s,i[tn]=l}catch(y){it(s,s.return,y)}}var Os=!1,Ht=!1,vg=!1,n0=typeof WeakSet=="function"?WeakSet:Set,rn=null;function AN(s,i){if(s=s.containerInfo,Lg=Jd,s=mb(s),hp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var x=0,S=-1,O=-1,K=0,ne=0,oe=s,Q=null;t:for(;;){for(var W;oe!==l||m!==0&&oe.nodeType!==3||(S=x+m),oe!==y||u!==0&&oe.nodeType!==3||(O=x+u),oe.nodeType===3&&(x+=oe.nodeValue.length),(W=oe.firstChild)!==null;)Q=oe,oe=W;for(;;){if(oe===s)break t;if(Q===l&&++K===m&&(S=x),Q===y&&++ne===u&&(O=x),(W=oe.nextSibling)!==null)break;oe=Q,Q=oe.parentNode}oe=W}l=S===-1||O===-1?null:{start:S,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ug={focusedElem:s,selectionRange:l},Jd=!1,rn=i;rn!==null;)if(i=rn,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,rn=s;else for(;rn!==null;){switch(i=rn,y=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)m=s[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=i,m=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var ge=Fa(l.type,m);s=u.getSnapshotBeforeUpdate(ge,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ie){it(l,l.return,Ie)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)qg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":qg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,rn=s;break}rn=i.return}}function r0(s,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ms(s,l),u&4&&ru(5,l);break;case 1:if(Ms(s,l),u&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(x){it(l,l.return,x)}else{var m=Fa(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(m,i,s.__reactInternalSnapshotBeforeUpdate)}catch(x){it(l,l.return,x)}}u&64&&Xx(l),u&512&&su(l,l.return);break;case 3:if(Ms(s,l),u&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Fb(s,i)}catch(x){it(l,l.return,x)}}break;case 27:i===null&&u&4&&t0(l);case 26:case 5:Ms(s,l),i===null&&u&4&&Wx(l),u&512&&su(l,l.return);break;case 12:Ms(s,l);break;case 31:Ms(s,l),u&4&&a0(s,l);break;case 13:Ms(s,l),u&4&&o0(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=PN.bind(null,l),tC(s,l))));break;case 22:if(u=l.memoizedState!==null||Os,!u){i=i!==null&&i.memoizedState!==null||Ht,m=Os;var y=Ht;Os=u,(Ht=i)&&!y?Vs(s,l,(l.subtreeFlags&8772)!==0):Ms(s,l),Os=m,Ht=y}break;case 30:break;default:Ms(s,l)}}function s0(s){var i=s.alternate;i!==null&&(s.alternate=null,s0(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&Po(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vt=null,Pn=!1;function Ps(s,i,l){for(l=l.child;l!==null;)i0(s,i,l),l=l.sibling}function i0(s,i,l){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ar,l)}catch{}switch(l.tag){case 26:Ht||us(l,i),Ps(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||us(l,i);var u=vt,m=Pn;ji(l.type)&&(vt=l.stateNode,Pn=!1),Ps(s,i,l),fu(l.stateNode),vt=u,Pn=m;break;case 5:Ht||us(l,i);case 6:if(u=vt,m=Pn,vt=null,Ps(s,i,l),vt=u,Pn=m,vt!==null)if(Pn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(y){it(l,i,y)}else try{vt.removeChild(l.stateNode)}catch(y){it(l,i,y)}break;case 18:vt!==null&&(Pn?(s=vt,X0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),_l(s)):X0(vt,l.stateNode));break;case 4:u=vt,m=Pn,vt=l.stateNode.containerInfo,Pn=!0,Ps(s,i,l),vt=u,Pn=m;break;case 0:case 11:case 14:case 15:Ai(2,l,i),Ht||Ai(4,l,i),Ps(s,i,l);break;case 1:Ht||(us(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Jx(l,i,u)),Ps(s,i,l);break;case 21:Ps(s,i,l);break;case 22:Ht=(u=Ht)||l.memoizedState!==null,Ps(s,i,l),Ht=u;break;default:Ps(s,i,l)}}function a0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{_l(s)}catch(l){it(i,i.return,l)}}}function o0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{_l(s)}catch(l){it(i,i.return,l)}}function IN(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new n0),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new n0),i;default:throw Error(r(435,s.tag))}}function kd(s,i){var l=IN(s);i.forEach(function(u){if(!l.has(u)){l.add(u);var m=MN.bind(null,s,u);u.then(m,m)}})}function Mn(s,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],y=s,x=i,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(ji(S.type)){vt=S.stateNode,Pn=!1;break e}break;case 5:vt=S.stateNode,Pn=!1;break e;case 3:case 4:vt=S.stateNode.containerInfo,Pn=!0;break e}S=S.return}if(vt===null)throw Error(r(160));i0(y,x,m),vt=null,Pn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)l0(i,s),i=i.sibling}var Mr=null;function l0(s,i){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Mn(i,s),Vn(s),u&4&&(Ai(3,s,s.return),ru(3,s),Ai(5,s,s.return));break;case 1:Mn(i,s),Vn(s),u&512&&(Ht||l===null||us(l,l.return)),u&64&&Os&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=Mr;if(Mn(i,s),Vn(s),u&512&&(Ht||l===null||us(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Yr]||y[Lt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),fn(y,u,l),y[Lt]=s,Ut(y),u=y;break e;case"link":var x=lw("link","href",m).get(u+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(y=x[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}y=m.createElement(u),fn(y,u,l),m.head.appendChild(y);break;case"meta":if(x=lw("meta","content",m).get(u+(l.content||""))){for(S=0;S<x.length;S++)if(y=x[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}y=m.createElement(u),fn(y,u,l),m.head.appendChild(y);break;default:throw Error(r(468,u))}y[Lt]=s,Ut(y),u=y}s.stateNode=u}else cw(m,s.type,s.stateNode);else s.stateNode=ow(m,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?cw(m,s.type,s.stateNode):ow(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&pg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Mn(i,s),Vn(s),u&512&&(Ht||l===null||us(l,l.return)),l!==null&&u&4&&pg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Mn(i,s),Vn(s),u&512&&(Ht||l===null||us(l,l.return)),s.flags&32){m=s.stateNode;try{On(m,"")}catch(ge){it(s,s.return,ge)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,pg(s,m,l!==null?l.memoizedProps:m)),u&1024&&(vg=!0);break;case 6:if(Mn(i,s),Vn(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ge){it(s,s.return,ge)}}break;case 3:if(Qd=null,m=Mr,Mr=Gd(i.containerInfo),Mn(i,s),Mr=m,Vn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{_l(i.containerInfo)}catch(ge){it(s,s.return,ge)}vg&&(vg=!1,c0(s));break;case 4:u=Mr,Mr=Gd(s.stateNode.containerInfo),Mn(i,s),Vn(s),Mr=u;break;case 12:Mn(i,s),Vn(s);break;case 31:Mn(i,s),Vn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,kd(s,u)));break;case 13:Mn(i,s),Vn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Od=Tn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,kd(s,u)));break;case 22:m=s.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,K=Os,ne=Ht;if(Os=K||m,Ht=ne||O,Mn(i,s),Ht=ne,Os=K,Vn(s),u&8192)e:for(i=s.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(l===null||O||Os||Ht||Ba(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){O=l=i;try{if(y=O.stateNode,m)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=O.stateNode;var oe=O.memoizedProps.style,Q=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ge){it(O,O.return,ge)}}}else if(i.tag===6){if(l===null){O=i;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(ge){it(O,O.return,ge)}}}else if(i.tag===18){if(l===null){O=i;try{var W=O.stateNode;m?J0(W,!0):J0(O.stateNode,!1)}catch(ge){it(O,O.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,kd(s,l))));break;case 19:Mn(i,s),Vn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,kd(s,u)));break;case 30:break;case 21:break;default:Mn(i,s),Vn(s)}}function Vn(s){var i=s.flags;if(i&2){try{for(var l,u=s.return;u!==null;){if(e0(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=gg(s);Dd(s,y,m);break;case 5:var x=l.stateNode;l.flags&32&&(On(x,""),l.flags&=-33);var S=gg(s);Dd(s,S,x);break;case 3:case 4:var O=l.stateNode.containerInfo,K=gg(s);yg(s,K,O);break;default:throw Error(r(161))}}catch(ne){it(s,s.return,ne)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function c0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;c0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Ms(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)r0(s,i.alternate,i),i=i.sibling}function Ba(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Ai(4,i,i.return),Ba(i);break;case 1:us(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Jx(i,i.return,l),Ba(i);break;case 27:fu(i.stateNode);case 26:case 5:us(i,i.return),Ba(i);break;case 22:i.memoizedState===null&&Ba(i);break;case 30:Ba(i);break;default:Ba(i)}s=s.sibling}}function Vs(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,m=s,y=i,x=y.flags;switch(y.tag){case 0:case 11:case 15:Vs(m,y,l),ru(4,y);break;case 1:if(Vs(m,y,l),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){it(u,u.return,K)}if(u=y,m=u.updateQueue,m!==null){var S=u.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)Ub(O[m],S)}catch(K){it(u,u.return,K)}}l&&x&64&&Xx(y),su(y,y.return);break;case 27:t0(y);case 26:case 5:Vs(m,y,l),l&&u===null&&x&4&&Wx(y),su(y,y.return);break;case 12:Vs(m,y,l);break;case 31:Vs(m,y,l),l&&x&4&&a0(m,y);break;case 13:Vs(m,y,l),l&&x&4&&o0(m,y);break;case 22:y.memoizedState===null&&Vs(m,y,l),su(y,y.return);break;case 30:break;default:Vs(m,y,l)}i=i.sibling}}function _g(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&$c(l))}function bg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&$c(s))}function Vr(s,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u0(s,i,l,u),i=i.sibling}function u0(s,i,l,u){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Vr(s,i,l,u),m&2048&&ru(9,i);break;case 1:Vr(s,i,l,u);break;case 3:Vr(s,i,l,u),m&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&$c(s)));break;case 12:if(m&2048){Vr(s,i,l,u),s=i.stateNode;try{var y=i.memoizedProps,x=y.id,S=y.onPostCommit;typeof S=="function"&&S(x,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){it(i,i.return,O)}}else Vr(s,i,l,u);break;case 31:Vr(s,i,l,u);break;case 13:Vr(s,i,l,u);break;case 23:break;case 22:y=i.stateNode,x=i.alternate,i.memoizedState!==null?y._visibility&2?Vr(s,i,l,u):iu(s,i):y._visibility&2?Vr(s,i,l,u):(y._visibility|=2,ll(s,i,l,u,(i.subtreeFlags&10256)!==0||!1)),m&2048&&_g(x,i);break;case 24:Vr(s,i,l,u),m&2048&&bg(i.alternate,i);break;default:Vr(s,i,l,u)}}function ll(s,i,l,u,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=s,x=i,S=l,O=u,K=x.flags;switch(x.tag){case 0:case 11:case 15:ll(y,x,S,O,m),ru(8,x);break;case 23:break;case 22:var ne=x.stateNode;x.memoizedState!==null?ne._visibility&2?ll(y,x,S,O,m):iu(y,x):(ne._visibility|=2,ll(y,x,S,O,m)),m&&K&2048&&_g(x.alternate,x);break;case 24:ll(y,x,S,O,m),m&&K&2048&&bg(x.alternate,x);break;default:ll(y,x,S,O,m)}i=i.sibling}}function iu(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,u=i,m=u.flags;switch(u.tag){case 22:iu(l,u),m&2048&&_g(u.alternate,u);break;case 24:iu(l,u),m&2048&&bg(u.alternate,u);break;default:iu(l,u)}i=i.sibling}}var au=8192;function cl(s,i,l){if(s.subtreeFlags&au)for(s=s.child;s!==null;)h0(s,i,l),s=s.sibling}function h0(s,i,l){switch(s.tag){case 26:cl(s,i,l),s.flags&au&&s.memoizedState!==null&&fC(l,Mr,s.memoizedState,s.memoizedProps);break;case 5:cl(s,i,l);break;case 3:case 4:var u=Mr;Mr=Gd(s.stateNode.containerInfo),cl(s,i,l),Mr=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=au,au=16777216,cl(s,i,l),au=u):cl(s,i,l));break;default:cl(s,i,l)}}function d0(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function ou(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];rn=u,m0(u,s)}d0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)f0(s),s=s.sibling}function f0(s){switch(s.tag){case 0:case 11:case 15:ou(s),s.flags&2048&&Ai(9,s,s.return);break;case 3:ou(s);break;case 12:ou(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,jd(s)):ou(s);break;default:ou(s)}}function jd(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];rn=u,m0(u,s)}d0(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Ai(8,i,i.return),jd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,jd(i));break;default:jd(i)}s=s.sibling}}function m0(s,i){for(;rn!==null;){var l=rn;switch(l.tag){case 0:case 11:case 15:Ai(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$c(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,rn=u;else e:for(l=s;rn!==null;){u=rn;var m=u.sibling,y=u.return;if(s0(u),u===l){rn=null;break e}if(m!==null){m.return=y,rn=m;break e}rn=y}}}var RN={getCacheForType:function(s){var i=hn(Bt),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l},cacheSignal:function(){return hn(Bt).controller.signal}},NN=typeof WeakMap=="function"?WeakMap:Map,et=0,mt=null,Le=null,Be=0,st=0,Qn=null,Ii=!1,ul=!1,xg=!1,zs=0,It=0,Ri=0,qa=0,wg=0,Zn=0,hl=0,lu=null,zn=null,Eg=!1,Od=0,p0=0,Pd=1/0,Md=null,Ni=null,Yt=0,Ci=null,dl=null,Ls=0,Tg=0,Sg=null,g0=null,cu=0,Ag=null;function Yn(){return(et&2)!==0&&Be!==0?Be&-Be:J.T!==null?kg():Vh()}function y0(){if(Zn===0)if((Be&536870912)===0||Ke){var s=ga;ga<<=1,(ga&3932160)===0&&(ga=262144),Zn=s}else Zn=536870912;return s=Gn.current,s!==null&&(s.flags|=32),Zn}function Ln(s,i,l){(s===mt&&(st===2||st===9)||s.cancelPendingCommit!==null)&&(fl(s,0),Di(s,Be,Zn,!1)),ya(s,l),((et&2)===0||s!==mt)&&(s===mt&&((et&2)===0&&(qa|=l),It===4&&Di(s,Be,Zn,!1)),hs(s))}function v0(s,i,l){if((et&6)!==0)throw Error(r(327));var u=!l&&(i&127)===0&&(i&s.expiredLanes)===0||Ir(s,i),m=u?kN(s,i):Rg(s,i,!0),y=u;do{if(m===0){ul&&!u&&Di(s,i,0,!1);break}else{if(l=s.current.alternate,y&&!CN(l)){m=Rg(s,i,!1),y=!1;continue}if(m===2){if(y=i,s.errorRecoveryDisabledLanes&y)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var S=s;m=lu;var O=S.current.memoizedState.isDehydrated;if(O&&(fl(S,x).flags|=256),x=Rg(S,x,!1),x!==2){if(xg&&!O){S.errorRecoveryDisabledLanes|=y,qa|=y,m=4;break e}y=zn,zn=m,y!==null&&(zn===null?zn=y:zn.push.apply(zn,y))}m=x}if(y=!1,m!==2)continue}}if(m===1){fl(s,0),Di(s,i,0,!0);break}e:{switch(u=s,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Di(u,i,Zn,!Ii);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(m=Od+300-Tn(),10<m)){if(Di(u,i,Zn,!Ii),Kr(u,0,!0)!==0)break e;Ls=i,u.timeoutHandle=Z0(_0.bind(null,u,l,zn,Md,Eg,i,Zn,qa,hl,Ii,y,"Throttled",-0,0),m);break e}_0(u,l,zn,Md,Eg,i,Zn,qa,hl,Ii,y,null,-0,0)}}break}while(!0);hs(s)}function _0(s,i,l,u,m,y,x,S,O,K,ne,oe,Q,W){if(s.timeoutHandle=-1,oe=i.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cr},h0(i,y,oe);var ge=(y&62914560)===y?Od-Tn():(y&4194048)===y?p0-Tn():0;if(ge=mC(oe,ge),ge!==null){Ls=y,s.cancelPendingCommit=ge(I0.bind(null,s,i,y,l,u,m,x,S,O,ne,oe,null,Q,W)),Di(s,y,x,!K);return}}I0(s,i,y,l,u,m,x,S,O)}function CN(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],y=m.getSnapshot;m=m.value;try{if(!$n(y(),m))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Di(s,i,l,u){i&=~wg,i&=~qa,s.suspendedLanes|=i,s.pingedLanes&=~i,u&&(s.warmLanes|=i),u=s.expirationTimes;for(var m=i;0<m;){var y=31-kt(m),x=1<<y;u[y]=-1,m&=~x}l!==0&&va(s,l,i)}function Vd(){return(et&6)===0?(uu(0),!1):!0}function Ig(){if(Le!==null){if(st===0)var s=Le.return;else s=Le,Rs=Oa=null,qp(s),rl=null,Gc=0,s=Le;for(;s!==null;)Yx(s.alternate,s),s=s.return;Le=null}}function fl(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,YN(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ls=0,Ig(),mt=s,Le=l=As(s.current,null),Be=i,st=0,Qn=null,Ii=!1,ul=Ir(s,i),xg=!1,hl=Zn=wg=qa=Ri=It=0,zn=lu=null,Eg=!1,(i&8)!==0&&(i|=i&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=i;0<u;){var m=31-kt(u),y=1<<m;i|=s[m],u&=~y}return zs=i,sd(),l}function b0(s,i){Oe=null,J.H=eu,i===nl||i===dd?(i=Mb(),st=3):i===Dp?(i=Mb(),st=4):st=i===ig?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Qn=i,Le===null&&(It=1,Ad(s,lr(i,s.current)))}function x0(){var s=Gn.current;return s===null?!0:(Be&4194048)===Be?dr===null:(Be&62914560)===Be||(Be&536870912)!==0?s===dr:!1}function w0(){var s=J.H;return J.H=eu,s===null?eu:s}function E0(){var s=J.A;return J.A=RN,s}function zd(){It=4,Ii||(Be&4194048)!==Be&&Gn.current!==null||(ul=!0),(Ri&134217727)===0&&(qa&134217727)===0||mt===null||Di(mt,Be,Zn,!1)}function Rg(s,i,l){var u=et;et|=2;var m=w0(),y=E0();(mt!==s||Be!==i)&&(Md=null,fl(s,i)),i=!1;var x=It;e:do try{if(st!==0&&Le!==null){var S=Le,O=Qn;switch(st){case 8:Ig(),x=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(i=!0);var K=st;if(st=0,Qn=null,ml(s,S,O,K),l&&ul){x=0;break e}break;default:K=st,st=0,Qn=null,ml(s,S,O,K)}}DN(),x=It;break}catch(ne){b0(s,ne)}while(!0);return i&&s.shellSuspendCounter++,Rs=Oa=null,et=u,J.H=m,J.A=y,Le===null&&(mt=null,Be=0,sd()),x}function DN(){for(;Le!==null;)T0(Le)}function kN(s,i){var l=et;et|=2;var u=w0(),m=E0();mt!==s||Be!==i?(Md=null,Pd=Tn()+500,fl(s,i)):ul=Ir(s,i);e:do try{if(st!==0&&Le!==null){i=Le;var y=Qn;t:switch(st){case 1:st=0,Qn=null,ml(s,i,y,1);break;case 2:case 9:if(Ob(y)){st=0,Qn=null,S0(i);break}i=function(){st!==2&&st!==9||mt!==s||(st=7),hs(s)},y.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Ob(y)?(st=0,Qn=null,S0(i)):(st=0,Qn=null,ml(s,i,y,7));break;case 5:var x=null;switch(Le.tag){case 26:x=Le.memoizedState;case 5:case 27:var S=Le;if(x?uw(x):S.stateNode.complete){st=0,Qn=null;var O=S.sibling;if(O!==null)Le=O;else{var K=S.return;K!==null?(Le=K,Ld(K)):Le=null}break t}}st=0,Qn=null,ml(s,i,y,5);break;case 6:st=0,Qn=null,ml(s,i,y,6);break;case 8:Ig(),It=6;break e;default:throw Error(r(462))}}jN();break}catch(ne){b0(s,ne)}while(!0);return Rs=Oa=null,J.H=u,J.A=m,et=l,Le!==null?0:(mt=null,Be=0,sd(),It)}function jN(){for(;Le!==null&&!sp();)T0(Le)}function T0(s){var i=Qx(s.alternate,s,zs);s.memoizedProps=s.pendingProps,i===null?Ld(s):Le=i}function S0(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=Bx(l,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=Bx(l,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:qp(i);default:Yx(l,i),i=Le=Eb(i,zs),i=Qx(l,i,zs)}s.memoizedProps=s.pendingProps,i===null?Ld(s):Le=i}function ml(s,i,l,u){Rs=Oa=null,qp(i),rl=null,Gc=0;var m=i.return;try{if(xN(s,m,i,l,Be)){It=1,Ad(s,lr(l,s.current)),Le=null;return}}catch(y){if(m!==null)throw Le=m,y;It=1,Ad(s,lr(l,s.current)),Le=null;return}i.flags&32768?(Ke||u===1?s=!0:ul||(Be&536870912)!==0?s=!1:(Ii=s=!0,(u===2||u===9||u===3||u===6)&&(u=Gn.current,u!==null&&u.tag===13&&(u.flags|=16384))),A0(i,s)):Ld(i)}function Ld(s){var i=s;do{if((i.flags&32768)!==0){A0(i,Ii);return}s=i.return;var l=TN(i.alternate,i,zs);if(l!==null){Le=l;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=s}while(i!==null);It===0&&(It=5)}function A0(s,i){do{var l=SN(s.alternate,s);if(l!==null){l.flags&=32767,Le=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){Le=s;return}Le=s=l}while(s!==null);It=6,Le=null}function I0(s,i,l,u,m,y,x,S,O){s.cancelPendingCommit=null;do Ud();while(Yt!==0);if((et&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(y=i.lanes|i.childLanes,y|=gp,op(s,l,y,x,S,O),s===mt&&(Le=mt=null,Be=0),dl=i,Ci=s,Ls=l,Tg=y,Sg=m,g0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,VN(oi,function(){return k0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,m=de.p,de.p=2,x=et,et|=4;try{AN(s,i,l)}finally{et=x,de.p=m,J.T=u}}Yt=1,R0(),N0(),C0()}}function R0(){if(Yt===1){Yt=0;var s=Ci,i=dl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var u=de.p;de.p=2;var m=et;et|=4;try{l0(i,s);var y=Ug,x=mb(s.containerInfo),S=y.focusedElem,O=y.selectionRange;if(x!==S&&S&&S.ownerDocument&&fb(S.ownerDocument.documentElement,S)){if(O!==null&&hp(S)){var K=O.start,ne=O.end;if(ne===void 0&&(ne=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(ne,S.value.length);else{var oe=S.ownerDocument||document,Q=oe&&oe.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),ge=S.textContent.length,Ie=Math.min(O.start,ge),ft=O.end===void 0?Ie:Math.min(O.end,ge);!W.extend&&Ie>ft&&(x=ft,ft=Ie,Ie=x);var F=db(S,Ie),L=db(S,ft);if(F&&L&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==L.node||W.focusOffset!==L.offset)){var G=oe.createRange();G.setStart(F.node,F.offset),W.removeAllRanges(),Ie>ft?(W.addRange(G),W.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),W.addRange(G))}}}}for(oe=[],W=S;W=W.parentNode;)W.nodeType===1&&oe.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var re=oe[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Jd=!!Lg,Ug=Lg=null}finally{et=m,de.p=u,J.T=l}}s.current=i,Yt=2}}function N0(){if(Yt===2){Yt=0;var s=Ci,i=dl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var u=de.p;de.p=2;var m=et;et|=4;try{r0(s,i.alternate,i)}finally{et=m,de.p=u,J.T=l}}Yt=3}}function C0(){if(Yt===4||Yt===3){Yt=0,Ch();var s=Ci,i=dl,l=Ls,u=g0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yt=5:(Yt=0,dl=Ci=null,D0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Ni=null),ws(l),i=i.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ar,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=J.T,m=de.p,de.p=2,J.T=null;try{for(var y=s.onRecoverableError,x=0;x<u.length;x++){var S=u[x];y(S.value,{componentStack:S.stack})}}finally{J.T=i,de.p=m}}(Ls&3)!==0&&Ud(),hs(s),m=s.pendingLanes,(l&261930)!==0&&(m&42)!==0?s===Ag?cu++:(cu=0,Ag=s):cu=0,uu(0)}}function D0(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,$c(i)))}function Ud(){return R0(),N0(),C0(),k0()}function k0(){if(Yt!==5)return!1;var s=Ci,i=Tg;Tg=0;var l=ws(Ls),u=J.T,m=de.p;try{de.p=32>l?32:l,J.T=null,l=Sg,Sg=null;var y=Ci,x=Ls;if(Yt=0,dl=Ci=null,Ls=0,(et&6)!==0)throw Error(r(331));var S=et;if(et|=4,f0(y.current),u0(y,y.current,x,l),et=S,uu(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ar,y)}catch{}return!0}finally{de.p=m,J.T=u,D0(s,i)}}function j0(s,i,l){i=lr(l,i),i=sg(s.stateNode,i,2),s=Ei(s,i,2),s!==null&&(ya(s,2),hs(s))}function it(s,i,l){if(s.tag===3)j0(s,s,l);else for(;i!==null;){if(i.tag===3){j0(i,s,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ni===null||!Ni.has(u))){s=lr(l,s),l=Ox(2),u=Ei(i,l,2),u!==null&&(Px(l,u,i,s),ya(u,2),hs(u));break}}i=i.return}}function Ng(s,i,l){var u=s.pingCache;if(u===null){u=s.pingCache=new NN;var m=new Set;u.set(i,m)}else m=u.get(i),m===void 0&&(m=new Set,u.set(i,m));m.has(l)||(xg=!0,m.add(l),s=ON.bind(null,s,i,l),i.then(s,s))}function ON(s,i,l){var u=s.pingCache;u!==null&&u.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(Be&l)===l&&(It===4||It===3&&(Be&62914560)===Be&&300>Tn()-Od?(et&2)===0&&fl(s,0):wg|=l,hl===Be&&(hl=0)),hs(s)}function O0(s,i){i===0&&(i=Mh()),s=Da(s,i),s!==null&&(ya(s,i),hs(s))}function PN(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),O0(s,l)}function MN(s,i){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),O0(s,l)}function VN(s,i){return Zt(s,i)}var Fd=null,pl=null,Cg=!1,Bd=!1,Dg=!1,ki=0;function hs(s){s!==pl&&s.next===null&&(pl===null?Fd=pl=s:pl=pl.next=s),Bd=!0,Cg||(Cg=!0,LN())}function uu(s,i){if(!Dg&&Bd){Dg=!0;do for(var l=!1,u=Fd;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var x=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-kt(42|s)+1)-1,y&=m&~(x&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,z0(u,y))}else y=Be,y=Kr(u,u===mt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Ir(u,y)||(l=!0,z0(u,y));u=u.next}while(l);Dg=!1}}function zN(){P0()}function P0(){Bd=Cg=!1;var s=0;ki!==0&&ZN()&&(s=ki);for(var i=Tn(),l=null,u=Fd;u!==null;){var m=u.next,y=M0(u,i);y===0?(u.next=null,l===null?Fd=m:l.next=m,m===null&&(pl=l)):(l=u,(s!==0||(y&3)!==0)&&(Bd=!0)),u=m}Yt!==0&&Yt!==5||uu(s),ki!==0&&(ki=0)}function M0(s,i){for(var l=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var x=31-kt(y),S=1<<x,O=m[x];O===-1?((S&l)===0||(S&u)!==0)&&(m[x]=ap(S,i)):O<=i&&(s.expiredLanes|=S),y&=~S}if(i=mt,l=Be,l=Kr(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===i&&(st===2||st===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ai(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Ir(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(u!==null&&ai(u),ws(l)){case 2:case 8:l=bc;break;case 32:l=oi;break;case 268435456:l=Dh;break;default:l=oi}return u=V0.bind(null,s),l=Zt(l,u),s.callbackPriority=i,s.callbackNode=l,i}return u!==null&&u!==null&&ai(u),s.callbackPriority=2,s.callbackNode=null,2}function V0(s,i){if(Yt!==0&&Yt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Ud()&&s.callbackNode!==l)return null;var u=Be;return u=Kr(s,s===mt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(v0(s,u,i),M0(s,Tn()),s.callbackNode!=null&&s.callbackNode===l?V0.bind(null,s):null)}function z0(s,i){if(Ud())return null;v0(s,i,!0)}function LN(){XN(function(){(et&6)!==0?Zt(_c,zN):P0()})}function kg(){if(ki===0){var s=el;s===0&&(s=Hr,Hr<<=1,(Hr&261888)===0&&(Hr=256)),ki=s}return ki}function L0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Lo(""+s)}function U0(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function UN(s,i,l,u,m){if(i==="submit"&&l&&l.stateNode===m){var y=L0((m[tn]||null).action),x=u.submitter;x&&(i=(i=x[tn]||null)?L0(i.formAction):x.getAttribute("formAction"),i!==null&&(y=i,x=null));var S=new ss("action","action",null,u,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ki!==0){var O=x?U0(m,x):new FormData(m);Jp(l,{pending:!0,data:O,method:m.method,action:y},null,O)}}else typeof y=="function"&&(S.preventDefault(),O=x?U0(m,x):new FormData(m),Jp(l,{pending:!0,data:O,method:m.method,action:y},y,O))},currentTarget:m}]})}}for(var jg=0;jg<pp.length;jg++){var Og=pp[jg],FN=Og.toLowerCase(),BN=Og[0].toUpperCase()+Og.slice(1);Pr(FN,"on"+BN)}Pr(yb,"onAnimationEnd"),Pr(vb,"onAnimationIteration"),Pr(_b,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(sN,"onTransitionRun"),Pr(iN,"onTransitionStart"),Pr(aN,"onTransitionCancel"),Pr(bb,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hu));function F0(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],m=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var x=u.length-1;0<=x;x--){var S=u[x],O=S.instance,K=S.currentTarget;if(S=S.listener,O!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=K;try{y(m)}catch(ne){rd(ne)}m.currentTarget=null,y=O}else for(x=0;x<u.length;x++){if(S=u[x],O=S.instance,K=S.currentTarget,S=S.listener,O!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=K;try{y(m)}catch(ne){rd(ne)}m.currentTarget=null,y=O}}}}function Ue(s,i){var l=i[Oo];l===void 0&&(l=i[Oo]=new Set);var u=s+"__bubble";l.has(u)||(B0(i,s,2,!1),l.add(u))}function Pg(s,i,l){var u=0;i&&(u|=4),B0(l,s,u,i)}var qd="_reactListening"+Math.random().toString(36).slice(2);function Mg(s){if(!s[qd]){s[qd]=!0,Ec.forEach(function(l){l!=="selectionchange"&&(qN.has(l)||Pg(l,!1,s),Pg(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[qd]||(i[qd]=!0,Pg("selectionchange",!1,i))}}function B0(s,i,l,u){switch(yw(i)){case 2:var m=yC;break;case 8:m=vC;break;default:m=Xg}l=m.bind(null,i,l,s),m=void 0,!Ea||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(i,l,{capture:!0,passive:m}):s.addEventListener(i,l,!0):m!==void 0?s.addEventListener(i,l,{passive:m}):s.addEventListener(i,l,!1)}function Vg(s,i,l,u,m){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===m)break;if(x===4)for(x=u.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;S!==null;){if(x=Xr(S),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){u=y=x;continue e}S=S.parentNode}}u=u.return}fi(function(){var K=y,ne=sr(l),oe=[];e:{var Q=xb.get(s);if(Q!==void 0){var W=ss,ge=s;switch(s){case"keypress":if(Sa(l)===0)break e;case"keydown":case"keyup":W=ed;break;case"focusin":ge="focus",W=Ia;break;case"focusout":ge="blur",W=Ia;break;case"beforeblur":case"afterblur":W=Ia;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=b;break;case yb:case vb:case _b:W=Kh;break;case bb:W=I;break;case"scroll":case"scrollend":W=Pc;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Qh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Ss;break;case"toggle":case"beforetoggle":W=je}var Ie=(i&4)!==0,ft=!Ie&&(s==="scroll"||s==="scrollend"),F=Ie?Q!==null?Q+"Capture":null:Q;Ie=[];for(var L=K,G;L!==null;){var re=L;if(G=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||G===null||F===null||(re=Dr(L,F),re!=null&&Ie.push(du(L,re,G))),ft)break;L=L.return}0<Ie.length&&(Q=new W(Q,ge,null,l,ne),oe.push({event:Q,listeners:Ie}))}}if((i&7)===0){e:{if(Q=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",Q&&l!==kc&&(ge=l.relatedTarget||l.fromElement)&&(Xr(ge)||ge[Zr]))break e;if((W||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(ge=l.relatedTarget||l.toElement,W=K,ge=ge?Xr(ge):null,ge!==null&&(ft=o(ge),Ie=ge.tag,ge!==ft||Ie!==5&&Ie!==27&&Ie!==6)&&(ge=null)):(W=null,ge=K),W!==ge)){if(Ie=Mc,re="onMouseLeave",F="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=Ss,re="onPointerLeave",F="onPointerEnter",L="pointer"),ft=W==null?Q:Bn(W),G=ge==null?Q:Bn(ge),Q=new Ie(re,L+"leave",W,l,ne),Q.target=ft,Q.relatedTarget=G,re=null,Xr(ne)===K&&(Ie=new Ie(F,L+"enter",ge,l,ne),Ie.target=G,Ie.relatedTarget=ft,re=Ie),ft=re,W&&ge)t:{for(Ie=$N,F=W,L=ge,G=0,re=F;re;re=Ie(re))G++;re=0;for(var Te=L;Te;Te=Ie(Te))re++;for(;0<G-re;)F=Ie(F),G--;for(;0<re-G;)L=Ie(L),re--;for(;G--;){if(F===L||L!==null&&F===L.alternate){Ie=F;break t}F=Ie(F),L=Ie(L)}Ie=null}else Ie=null;W!==null&&q0(oe,Q,W,Ie,!1),ge!==null&&ft!==null&&q0(oe,ft,ge,Ie,!0)}}e:{if(Q=K?Bn(K):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var Ye=ab;else if(sb(Q))if(ob)Ye=tN;else{Ye=W2;var be=J2}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&zo(K.elementType)&&(Ye=ab):Ye=eN;if(Ye&&(Ye=Ye(s,K))){ib(oe,Ye,l,ne);break e}be&&be(s,Q,K),s==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Nc(Q,"number",Q.value)}switch(be=K?Bn(K):window,s){case"focusin":(sb(be)||be.contentEditable==="true")&&(Go=be,dp=K,Fc=null);break;case"focusout":Fc=dp=Go=null;break;case"mousedown":fp=!0;break;case"contextmenu":case"mouseup":case"dragend":fp=!1,pb(oe,l,ne);break;case"selectionchange":if(rN)break;case"keydown":case"keyup":pb(oe,l,ne)}var Pe;if(We)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Ho?Ra(s,l)&&(qe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(os&&l.locale!=="ko"&&(Ho||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Ho&&(Pe=Oc()):(rs=ne,jc="value"in rs?rs.value:rs.textContent,Ho=!0)),be=$d(K,qe),0<be.length&&(qe=new as(qe,s,null,l,ne),oe.push({event:qe,listeners:be}),Pe?qe.data=Pe:(Pe=$o(l),Pe!==null&&(qe.data=Pe)))),(Pe=ar?Q2(s,l):Z2(s,l))&&(qe=$d(K,"onBeforeInput"),0<qe.length&&(be=new as("onBeforeInput","beforeinput",null,l,ne),oe.push({event:be,listeners:qe}),be.data=Pe)),UN(oe,s,K,l,ne)}F0(oe,i)})}function du(s,i,l){return{instance:s,listener:i,currentTarget:l}}function $d(s,i){for(var l=i+"Capture",u=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Dr(s,l),m!=null&&u.unshift(du(s,m,y)),m=Dr(s,i),m!=null&&u.push(du(s,m,y))),s.tag===3)return u;s=s.return}return[]}function $N(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function q0(s,i,l,u,m){for(var y=i._reactName,x=[];l!==null&&l!==u;){var S=l,O=S.alternate,K=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||K===null||(O=K,m?(K=Dr(l,y),K!=null&&x.unshift(du(l,K,O))):m||(K=Dr(l,y),K!=null&&x.push(du(l,K,O)))),l=l.return}x.length!==0&&s.push({event:i,listeners:x})}var HN=/\r\n?/g,GN=/\u0000|\uFFFD/g;function $0(s){return(typeof s=="string"?s:""+s).replace(HN,`
`).replace(GN,"")}function H0(s,i){return i=$0(i),$0(s)===i}function dt(s,i,l,u,m,y){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||On(s,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&On(s,""+u);break;case"className":qn(s,"class",u);break;case"tabIndex":qn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(s,l,u);break;case"style":Dc(s,u,y);break;case"data":if(i!=="object"){qn(s,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Lo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&dt(s,i,"name",m.name,m,null),dt(s,i,"formEncType",m.formEncType,m,null),dt(s,i,"formMethod",m.formMethod,m,null),dt(s,i,"formTarget",m.formTarget,m,null)):(dt(s,i,"encType",m.encType,m,null),dt(s,i,"method",m.method,m,null),dt(s,i,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Lo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Cr);break;case"onScroll":u!=null&&Ue("scroll",s);break;case"onScrollEnd":u!=null&&Ue("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Lo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Ue("beforetoggle",s),Ue("toggle",s),Mo(s,"popover",u);break;case"xlinkActuate":Ft(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ft(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ft(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ft(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ft(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ft(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Mo(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=$h.get(l)||l,Mo(s,l,u))}}function zg(s,i,l,u,m,y){switch(l){case"style":Dc(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof u=="string"?On(s,u):(typeof u=="number"||typeof u=="bigint")&&On(s,""+u);break;case"onScroll":u!=null&&Ue("scroll",s);break;case"onScrollEnd":u!=null&&Ue("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Cr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),i=l.slice(2,m?l.length-7:void 0),y=s[tn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(i,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,u,m);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Mo(s,l,u)}}}function fn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",s),Ue("load",s);var u=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var x=l[y];if(x!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(s,i,y,x,l,null)}}m&&dt(s,i,"srcSet",l.srcSet,l,null),u&&dt(s,i,"src",l.src,l,null);return;case"input":Ue("invalid",s);var S=y=x=m=null,O=null,K=null;for(u in l)if(l.hasOwnProperty(u)){var ne=l[u];if(ne!=null)switch(u){case"name":m=ne;break;case"type":x=ne;break;case"checked":O=ne;break;case"defaultChecked":K=ne;break;case"value":y=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:dt(s,i,u,ne,l,null)}}Fh(s,y,S,O,K,x,m,!1);return;case"select":Ue("invalid",s),u=x=y=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:dt(s,i,m,S,l,null)}i=y,l=x,s.multiple=!!u,i!=null?ci(s,!!u,i,!1):l!=null&&ci(s,!!u,l,!0);return;case"textarea":Ue("invalid",s),y=m=u=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:dt(s,i,x,S,l,null)}ui(s,u,m,y);return;case"option":for(O in l)l.hasOwnProperty(O)&&(u=l[O],u!=null)&&(O==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":dt(s,i,O,u,l,null));return;case"dialog":Ue("beforetoggle",s),Ue("toggle",s),Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":Ue("load",s);break;case"video":case"audio":for(u=0;u<hu.length;u++)Ue(hu[u],s);break;case"image":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"embed":case"source":case"link":Ue("error",s),Ue("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(u=l[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(s,i,K,u,l,null)}return;default:if(zo(i)){for(ne in l)l.hasOwnProperty(ne)&&(u=l[ne],u!==void 0&&zg(s,i,ne,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&dt(s,i,S,u,l,null))}function KN(s,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,x=null,S=null,O=null,K=null,ne=null;for(W in l){var oe=l[W];if(l.hasOwnProperty(W)&&oe!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=oe;default:u.hasOwnProperty(W)||dt(s,i,W,null,u,oe)}}for(var Q in u){var W=u[Q];if(oe=l[Q],u.hasOwnProperty(Q)&&(W!=null||oe!=null))switch(Q){case"type":y=W;break;case"name":m=W;break;case"checked":K=W;break;case"defaultChecked":ne=W;break;case"value":x=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:W!==oe&&dt(s,i,Q,W,u,oe)}}Vo(s,x,S,O,K,ne,y,m);return;case"select":W=x=S=Q=null;for(y in l)if(O=l[y],l.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":W=O;default:u.hasOwnProperty(y)||dt(s,i,y,null,u,O)}for(m in u)if(y=u[m],O=l[m],u.hasOwnProperty(m)&&(y!=null||O!=null))switch(m){case"value":Q=y;break;case"defaultValue":S=y;break;case"multiple":x=y;default:y!==O&&dt(s,i,m,y,u,O)}i=S,l=x,u=W,Q!=null?ci(s,!!l,Q,!1):!!u!=!!l&&(i!=null?ci(s,!!l,i,!0):ci(s,!!l,l?[]:"",!1));return;case"textarea":W=Q=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:dt(s,i,S,null,u,m)}for(x in u)if(m=u[x],y=l[x],u.hasOwnProperty(x)&&(m!=null||y!=null))switch(x){case"value":Q=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&dt(s,i,x,m,u,y)}Bh(s,Q,W);return;case"option":for(var ge in l)Q=l[ge],l.hasOwnProperty(ge)&&Q!=null&&!u.hasOwnProperty(ge)&&(ge==="selected"?s.selected=!1:dt(s,i,ge,null,u,Q));for(O in u)Q=u[O],W=l[O],u.hasOwnProperty(O)&&Q!==W&&(Q!=null||W!=null)&&(O==="selected"?s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":dt(s,i,O,Q,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in l)Q=l[Ie],l.hasOwnProperty(Ie)&&Q!=null&&!u.hasOwnProperty(Ie)&&dt(s,i,Ie,null,u,Q);for(K in u)if(Q=u[K],W=l[K],u.hasOwnProperty(K)&&Q!==W&&(Q!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:dt(s,i,K,Q,u,W)}return;default:if(zo(i)){for(var ft in l)Q=l[ft],l.hasOwnProperty(ft)&&Q!==void 0&&!u.hasOwnProperty(ft)&&zg(s,i,ft,void 0,u,Q);for(ne in u)Q=u[ne],W=l[ne],!u.hasOwnProperty(ne)||Q===W||Q===void 0&&W===void 0||zg(s,i,ne,Q,u,W);return}}for(var F in l)Q=l[F],l.hasOwnProperty(F)&&Q!=null&&!u.hasOwnProperty(F)&&dt(s,i,F,null,u,Q);for(oe in u)Q=u[oe],W=l[oe],!u.hasOwnProperty(oe)||Q===W||Q==null&&W==null||dt(s,i,oe,Q,u,W)}function G0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],y=m.transferSize,x=m.initiatorType,S=m.duration;if(y&&S&&G0(x)){for(x=0,S=m.responseEnd,u+=1;u<l.length;u++){var O=l[u],K=O.startTime;if(K>S)break;var ne=O.transferSize,oe=O.initiatorType;ne&&G0(oe)&&(O=O.responseEnd,x+=ne*(O<S?1:(S-K)/(O-K)))}if(--u,i+=8*(y+x)/(m.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Lg=null,Ug=null;function Hd(s){return s.nodeType===9?s:s.ownerDocument}function K0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q0(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Fg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bg=null;function ZN(){var s=window.event;return s&&s.type==="popstate"?s===Bg?!1:(Bg=s,!0):(Bg=null,!1)}var Z0=typeof setTimeout=="function"?setTimeout:void 0,YN=typeof clearTimeout=="function"?clearTimeout:void 0,Y0=typeof Promise=="function"?Promise:void 0,XN=typeof queueMicrotask=="function"?queueMicrotask:typeof Y0<"u"?function(s){return Y0.resolve(null).then(s).catch(JN)}:Z0;function JN(s){setTimeout(function(){throw s})}function ji(s){return s==="head"}function X0(s,i){var l=i,u=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(m),_l(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")fu(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,fu(l);for(var y=l.firstChild;y;){var x=y.nextSibling,S=y.nodeName;y[Yr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=x}}else l==="body"&&fu(s.ownerDocument.body);l=m}while(l);_l(i)}function J0(s,i){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function qg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qg(l),Po(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function WN(s,i,l,u){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Yr])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=fr(s.nextSibling),s===null)break}return null}function eC(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=fr(s.nextSibling),s===null))return null;return s}function W0(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=fr(s.nextSibling),s===null))return null;return s}function $g(s){return s.data==="$?"||s.data==="$~"}function Hg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function tC(s,i){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function fr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var Gg=null;function ew(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(i===0)return fr(s.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}s=s.nextSibling}return null}function tw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return s;i--}else l!=="/$"&&l!=="/&"||i++}s=s.previousSibling}return null}function nw(s,i,l){switch(i=Hd(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function fu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Po(s)}var mr=new Map,rw=new Set;function Gd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Us=de.d;de.d={f:nC,r:rC,D:sC,C:iC,L:aC,m:oC,X:cC,S:lC,M:uC};function nC(){var s=Us.f(),i=Vd();return s||i}function rC(s){var i=rr(s);i!==null&&i.tag===5&&i.type==="form"?bx(i):Us.r(s)}var gl=typeof document>"u"?null:document;function sw(s,i,l){var u=gl;if(u&&typeof i=="string"&&i){var m=jn(i);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),rw.has(m)||(rw.add(m),s={rel:s,crossOrigin:l,href:i},u.querySelector(m)===null&&(i=u.createElement("link"),fn(i,"link",s),Ut(i),u.head.appendChild(i)))}}function sC(s){Us.D(s),sw("dns-prefetch",s,null)}function iC(s,i){Us.C(s,i),sw("preconnect",s,i)}function aC(s,i,l){Us.L(s,i,l);var u=gl;if(u&&s&&i){var m='link[rel="preload"][as="'+jn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+jn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+jn(l.imageSizes)+'"]')):m+='[href="'+jn(s)+'"]';var y=m;switch(i){case"style":y=yl(s);break;case"script":y=vl(s)}mr.has(y)||(s=_({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),mr.set(y,s),u.querySelector(m)!==null||i==="style"&&u.querySelector(mu(y))||i==="script"&&u.querySelector(pu(y))||(i=u.createElement("link"),fn(i,"link",s),Ut(i),u.head.appendChild(i)))}}function oC(s,i){Us.m(s,i);var l=gl;if(l&&s){var u=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+jn(u)+'"][href="'+jn(s)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=vl(s)}if(!mr.has(y)&&(s=_({rel:"modulepreload",href:s},i),mr.set(y,s),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(pu(y)))return}u=l.createElement("link"),fn(u,"link",s),Ut(u),l.head.appendChild(u)}}}function lC(s,i,l){Us.S(s,i,l);var u=gl;if(u&&s){var m=Jr(u).hoistableStyles,y=yl(s);i=i||"default";var x=m.get(y);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(mu(y)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":i},l),(l=mr.get(y))&&Kg(s,l);var O=x=u.createElement("link");Ut(O),fn(O,"link",s),O._p=new Promise(function(K,ne){O.onload=K,O.onerror=ne}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Kd(x,i,u)}x={type:"stylesheet",instance:x,count:1,state:S},m.set(y,x)}}}function cC(s,i){Us.X(s,i);var l=gl;if(l&&s){var u=Jr(l).hoistableScripts,m=vl(s),y=u.get(m);y||(y=l.querySelector(pu(m)),y||(s=_({src:s,async:!0},i),(i=mr.get(m))&&Qg(s,i),y=l.createElement("script"),Ut(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function uC(s,i){Us.M(s,i);var l=gl;if(l&&s){var u=Jr(l).hoistableScripts,m=vl(s),y=u.get(m);y||(y=l.querySelector(pu(m)),y||(s=_({src:s,async:!0,type:"module"},i),(i=mr.get(m))&&Qg(s,i),y=l.createElement("script"),Ut(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function iw(s,i,l,u){var m=(m=Re.current)?Gd(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=yl(l.href),l=Jr(m).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=yl(l.href);var y=Jr(m).hoistableStyles,x=y.get(s);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,x),(y=m.querySelector(mu(s)))&&!y._p&&(x.instance=y,x.state.loading=5),mr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},mr.set(s,l),y||hC(m,s,l,x.state))),i&&u===null)throw Error(r(528,""));return x}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vl(l),l=Jr(m).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function yl(s){return'href="'+jn(s)+'"'}function mu(s){return'link[rel="stylesheet"]['+s+"]"}function aw(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function hC(s,i,l,u){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=s.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),fn(i,"link",l),Ut(i),s.head.appendChild(i))}function vl(s){return'[src="'+jn(s)+'"]'}function pu(s){return"script[async]"+s}function ow(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=s.querySelector('style[data-href~="'+jn(l.href)+'"]');if(u)return i.instance=u,Ut(u),u;var m=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ut(u),fn(u,"style",m),Kd(u,l.precedence,s),i.instance=u;case"stylesheet":m=yl(l.href);var y=s.querySelector(mu(m));if(y)return i.state.loading|=4,i.instance=y,Ut(y),y;u=aw(l),(m=mr.get(m))&&Kg(u,m),y=(s.ownerDocument||s).createElement("link"),Ut(y);var x=y;return x._p=new Promise(function(S,O){x.onload=S,x.onerror=O}),fn(y,"link",u),i.state.loading|=4,Kd(y,l.precedence,s),i.instance=y;case"script":return y=vl(l.src),(m=s.querySelector(pu(y)))?(i.instance=m,Ut(m),m):(u=l,(m=mr.get(y))&&(u=_({},l),Qg(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ut(m),fn(m,"link",u),s.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Kd(u,l.precedence,s));return i.instance}function Kd(s,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===i)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Kg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Qg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Qd=null;function lw(s,i,l){if(Qd===null){var u=new Map,m=Qd=new Map;m.set(l,u)}else m=Qd,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[Yr]||y[Lt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(i)||"";x=s+x;var S=u.get(x);S?S.push(y):u.set(x,[y])}}return u}function cw(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function dC(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(s=i.disabled,typeof i.precedence=="string"&&s==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function uw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function fC(s,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=yl(u.href),y=i.querySelector(mu(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=Zd.bind(s),i.then(s,s)),l.state.loading|=4,l.instance=y,Ut(y);return}y=i.ownerDocument||i,u=aw(u),(m=mr.get(m))&&Kg(u,m),y=y.createElement("link"),Ut(y);var x=y;x._p=new Promise(function(S,O){x.onload=S,x.onerror=O}),fn(y,"link",u),l.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Zd.bind(s),i.addEventListener("load",l),i.addEventListener("error",l))}}var Zg=0;function mC(s,i){return s.stylesheets&&s.count===0&&Xd(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Xd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+i);0<s.imgBytes&&Zg===0&&(Zg=62500*QN());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Xd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Zg?50:800)+i);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Zd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Yd=null;function Xd(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Yd=new Map,i.forEach(pC,s),Yd=null,Zd.call(s))}function pC(s,i){if(!(i.state.loading&4)){var l=Yd.get(s);if(l)var u=l.get(null);else{l=new Map,Yd.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var x=m[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}m=i.instance,x=m.getAttribute("data-precedence"),y=l.get(x)||u,y===u&&l.set(null,m),l.set(x,m),this.count++,u=Zd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),i.state.loading|=4}}var gu={$$typeof:B,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function gC(s,i,l,u,m,y,x,S,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.hiddenUpdates=Qr(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function hw(s,i,l,u,m,y,x,S,O,K,ne,oe){return s=new gC(s,i,l,x,O,K,ne,oe,S),i=1,y===!0&&(i|=24),y=Hn(3,null,null,i),s.current=y,y.stateNode=s,i=Rp(),i.refCount++,s.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:i},kp(y),s}function dw(s){return s?(s=Zo,s):Zo}function fw(s,i,l,u,m,y){m=dw(m),u.context===null?u.context=m:u.pendingContext=m,u=wi(i),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=Ei(s,u,i),l!==null&&(Ln(l,s,i),Qc(l,s,i))}function mw(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Yg(s,i){mw(s,i),(s=s.alternate)&&mw(s,i)}function pw(s){if(s.tag===13||s.tag===31){var i=Da(s,67108864);i!==null&&Ln(i,s,67108864),Yg(s,67108864)}}function gw(s){if(s.tag===13||s.tag===31){var i=Yn();i=_a(i);var l=Da(s,i);l!==null&&Ln(l,s,i),Yg(s,i)}}var Jd=!0;function yC(s,i,l,u){var m=J.T;J.T=null;var y=de.p;try{de.p=2,Xg(s,i,l,u)}finally{de.p=y,J.T=m}}function vC(s,i,l,u){var m=J.T;J.T=null;var y=de.p;try{de.p=8,Xg(s,i,l,u)}finally{de.p=y,J.T=m}}function Xg(s,i,l,u){if(Jd){var m=Jg(u);if(m===null)Vg(s,i,u,Wd,l),vw(s,u);else if(bC(m,s,i,l,u))u.stopPropagation();else if(vw(s,u),i&4&&-1<_C.indexOf(s)){for(;m!==null;){var y=rr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=Gr(y.pendingLanes);if(x!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var O=1<<31-kt(x);S.entanglements[1]|=O,x&=~O}hs(y),(et&6)===0&&(Pd=Tn()+500,uu(0))}}break;case 31:case 13:S=Da(y,2),S!==null&&Ln(S,y,2),Vd(),Yg(y,2)}if(y=Jg(u),y===null&&Vg(s,i,u,Wd,l),y===m)break;m=y}m!==null&&u.stopPropagation()}else Vg(s,i,u,null,l)}}function Jg(s){return s=sr(s),Wg(s)}var Wd=null;function Wg(s){if(Wd=null,s=Xr(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=c(i),s!==null)return s;s=null}else if(l===31){if(s=h(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Wd=s,null}function yw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pa()){case _c:return 2;case bc:return 8;case oi:case ip:return 32;case Dh:return 268435456;default:return 32}default:return 32}}var ey=!1,Oi=null,Pi=null,Mi=null,yu=new Map,vu=new Map,Vi=[],_C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vw(s,i){switch(s){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":yu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(i.pointerId)}}function _u(s,i,l,u,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},i!==null&&(i=rr(i),i!==null&&pw(i)),s):(s.eventSystemFlags|=u,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function bC(s,i,l,u,m){switch(i){case"focusin":return Oi=_u(Oi,s,i,l,u,m),!0;case"dragenter":return Pi=_u(Pi,s,i,l,u,m),!0;case"mouseover":return Mi=_u(Mi,s,i,l,u,m),!0;case"pointerover":var y=m.pointerId;return yu.set(y,_u(yu.get(y)||null,s,i,l,u,m)),!0;case"gotpointercapture":return y=m.pointerId,vu.set(y,_u(vu.get(y)||null,s,i,l,u,m)),!0}return!1}function _w(s){var i=Xr(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){s.blockedOn=i,Rr(s.priority,function(){gw(l)});return}}else if(i===31){if(i=h(l),i!==null){s.blockedOn=i,Rr(s.priority,function(){gw(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ef(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Jg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);kc=u,l.target.dispatchEvent(u),kc=null}else return i=rr(l),i!==null&&pw(i),s.blockedOn=l,!1;i.shift()}return!0}function bw(s,i,l){ef(s)&&l.delete(i)}function xC(){ey=!1,Oi!==null&&ef(Oi)&&(Oi=null),Pi!==null&&ef(Pi)&&(Pi=null),Mi!==null&&ef(Mi)&&(Mi=null),yu.forEach(bw),vu.forEach(bw)}function tf(s,i){s.blockedOn===i&&(s.blockedOn=null,ey||(ey=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xC)))}var nf=null;function xw(s){nf!==s&&(nf=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nf===s&&(nf=null);for(var i=0;i<s.length;i+=3){var l=s[i],u=s[i+1],m=s[i+2];if(typeof u!="function"){if(Wg(u||l)===null)continue;break}var y=rr(l);y!==null&&(s.splice(i,3),i-=3,Jp(y,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function _l(s){function i(O){return tf(O,s)}Oi!==null&&tf(Oi,s),Pi!==null&&tf(Pi,s),Mi!==null&&tf(Mi,s),yu.forEach(i),vu.forEach(i);for(var l=0;l<Vi.length;l++){var u=Vi[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Vi.length&&(l=Vi[0],l.blockedOn===null);)_w(l),l.blockedOn===null&&Vi.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],y=l[u+1],x=m[tn]||null;if(typeof y=="function")x||xw(l);else if(x){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,x=y[tn]||null)S=x.formAction;else if(Wg(m)!==null)continue}else S=x.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),xw(l)}}}function ww(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function ty(s){this._internalRoot=s}rf.prototype.render=ty.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,u=Yn();fw(l,u,s,i,null,null)},rf.prototype.unmount=ty.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;fw(s.current,2,null,s,null,null),Vd(),i[Zr]=null}};function rf(s){this._internalRoot=s}rf.prototype.unstable_scheduleHydration=function(s){if(s){var i=Vh();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Vi.length&&i!==0&&i<Vi[l].priority;l++);Vi.splice(l,0,s),l===0&&_w(s)}};var Ew=e.version;if(Ew!=="19.2.3")throw Error(r(527,Ew,"19.2.3"));de.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=g(i),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var wC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{Ar=sf.inject(wC),ln=sf}catch{}}return xu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,u="",m=Cx,y=Dx,x=kx;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=hw(s,1,!1,null,null,l,u,null,m,y,x,ww),s[Zr]=i.current,Mg(s),new ty(i)},xu.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var u=!1,m="",y=Cx,x=Dx,S=kx,O=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),i=hw(s,1,!0,i,l??null,u,m,O,y,x,S,ww),i.context=dw(null),l=i.current,u=Yn(),u=_a(u),m=wi(u),m.callback=null,Ei(l,m,u),l=u,i.current.lanes=l,ya(i,l),hs(i),s[Zr]=i.current,Mg(s),new rf(i)},xu.version="19.2.3",xu}var jw;function jC(){if(jw)return sy.exports;jw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sy.exports=kC(),sy.exports}var OC=jC();var Ow="popstate";function PC(t={}){function e(a,o){let{pathname:c="/",search:h="",hash:d=""}=Ao(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ry("",{pathname:c,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let d=a.location.href,g=d.indexOf("#");h=g===-1?d:d.slice(0,g)}return h+"#"+(typeof o=="string"?o:$u(o))}function r(a,o){wr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return VC(e,n,r,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MC(){return Math.random().toString(36).substring(2,10)}function Pw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ry(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ao(e):e,state:n,key:e&&e.key||r||MC()}}function $u({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ao(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function VC(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,h="POP",d=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function _(){h="POP";let M=v(),ee=M==null?null:M-g;g=M,d&&d({action:h,location:k.location,delta:ee})}function E(M,ee){h="PUSH";let Z=Ry(k.location,M,ee);n&&n(Z,M),g=v()+1;let B=Pw(Z,g),ie=k.createHref(Z);try{c.pushState(B,"",ie)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;a.location.assign(ie)}o&&d&&d({action:h,location:k.location,delta:1})}function T(M,ee){h="REPLACE";let Z=Ry(k.location,M,ee);n&&n(Z,M),g=v();let B=Pw(Z,g),ie=k.createHref(Z);c.replaceState(B,"",ie),o&&d&&d({action:h,location:k.location,delta:0})}function D(M){return zC(M)}let k={get action(){return h},get location(){return t(a,c)},listen(M){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Ow,_),d=M,()=>{a.removeEventListener(Ow,_),d=null}},createHref(M){return e(a,M)},createURL:D,encodeLocation(M){let ee=D(M);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:E,replace:T,go(M){return c.go(M)}};return k}function zC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:$u(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function P1(t,e,n="/"){return LC(t,e,n,!1)}function LC(t,e,n,r){let a=typeof e=="string"?Ao(e):e,o=Zs(a.pathname||"/",n);if(o==null)return null;let c=M1(t);UC(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let g=XC(o);h=ZC(c[d],g,r)}return h}function M1(t,e=[],n=[],r="",a=!1){let o=(c,h,d=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&d)return;Et(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=Ks([r,v.relativePath]),E=n.concat(v);c.children&&c.children.length>0&&(Et(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),M1(c.children,e,E,_,d)),!(c.path==null&&!c.index)&&e.push({path:_,score:KC(_,c.index),routesMeta:E})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let d of V1(c.path))o(c,h,!0,d)}),e}function V1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=V1(r.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function UC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var FC=/^:[\w-]+$/,BC=3,qC=2,$C=1,HC=10,GC=-2,Mw=t=>t==="*";function KC(t,e){let n=t.split("/"),r=n.length;return n.some(Mw)&&(r+=GC),e&&(r+=qC),n.filter(a=>!Mw(a)).reduce((a,o)=>a+(FC.test(o)?BC:o===""?$C:HC),r)}function QC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function ZC(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],g=h===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",_=qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},v),E=d.route;if(!_&&g&&n&&!r[r.length-1].route.index&&(_=qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Ks([o,_.pathname]),pathnameBase:tD(Ks([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=Ks([o,_.pathnameBase]))}return c}function qf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:_},E)=>{if(v==="*"){let D=h[E]||"";c=o.slice(0,o.length-D.length).replace(/(.)\/+$/,"$1")}const T=h[E];return _&&!T?g[v]=void 0:g[v]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:t}}function YC(t,e=!1,n=!0){wr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function XC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var z1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JC=t=>z1.test(t);function WC(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ao(t):t,o;if(n)if(JC(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),wr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?o=Vw(n.substring(1),"/"):o=Vw(n,e)}else o=e;return{pathname:o,search:nD(r),hash:rD(a)}}function Vw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ly(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function L1(t){let e=eD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function U1(t,e,n,r=!1){let a;typeof t=="string"?a=Ao(t):(a={...t},Et(!a.pathname||!a.pathname.includes("?"),ly("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),ly("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),ly("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let d=WC(a,h),g=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(g||v)&&(d.pathname+="/"),d}var Ks=t=>t.join("/").replace(/\/\/+/g,"/"),tD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,sD=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function iD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function aD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var F1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function B1(t,e){let n=t;if(typeof n!="string"||!z1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(F1)try{let o=new URL(window.location.href),c=n.startsWith("//")?new URL(o.protocol+n):new URL(n),h=Zs(c.pathname,e);c.origin===o.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{wr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var q1=["POST","PUT","PATCH","DELETE"];new Set(q1);var oD=["GET",...q1];new Set(oD);var nc=V.createContext(null);nc.displayName="DataRouter";var Sm=V.createContext(null);Sm.displayName="DataRouterState";var lD=V.createContext(!1),$1=V.createContext({isTransitioning:!1});$1.displayName="ViewTransition";var cD=V.createContext(new Map);cD.displayName="Fetchers";var uD=V.createContext(null);uD.displayName="Await";var Er=V.createContext(null);Er.displayName="Navigation";var hh=V.createContext(null);hh.displayName="Location";var xs=V.createContext({outlet:null,matches:[],isDataRoute:!1});xs.displayName="Route";var bv=V.createContext(null);bv.displayName="RouteError";var H1="REACT_ROUTER_ERROR",hD="REDIRECT",dD="ROUTE_ERROR_RESPONSE";function fD(t){if(t.startsWith(`${H1}:${hD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function mD(t){if(t.startsWith(`${H1}:${dD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new sD(e.status,e.statusText,e.data)}catch{}}function pD(t,{relative:e}={}){Et(dh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(Er),{hash:a,pathname:o,search:c}=fh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Ks([n,o])),r.createHref({pathname:h,search:c,hash:a})}function dh(){return V.useContext(hh)!=null}function ti(){return Et(dh(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(hh).location}var G1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K1(t){V.useContext(Er).static||V.useLayoutEffect(t)}function Q1(){let{isDataRoute:t}=V.useContext(xs);return t?RD():gD()}function gD(){Et(dh(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(nc),{basename:e,navigator:n}=V.useContext(Er),{matches:r}=V.useContext(xs),{pathname:a}=ti(),o=JSON.stringify(L1(r)),c=V.useRef(!1);return K1(()=>{c.current=!0}),V.useCallback((d,g={})=>{if(wr(c.current,G1),!c.current)return;if(typeof d=="number"){n.go(d);return}let v=U1(d,JSON.parse(o),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ks([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,o,a,t])}V.createContext(null);function Z1(){let{matches:t}=V.useContext(xs),e=t[t.length-1];return e?e.params:{}}function fh(t,{relative:e}={}){let{matches:n}=V.useContext(xs),{pathname:r}=ti(),a=JSON.stringify(L1(n));return V.useMemo(()=>U1(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function yD(t,e){return Y1(t,e)}function Y1(t,e,n,r,a){Et(dh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=V.useContext(Er),{matches:c}=V.useContext(xs),h=c[c.length-1],d=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let Z=_&&_.path||"";J1(g,!_||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let E=ti(),T;if(e){let Z=typeof e=="string"?Ao(e):e;Et(v==="/"||Z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),T=Z}else T=E;let D=T.pathname||"/",k=D;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");k="/"+D.replace(/^\//,"").split("/").slice(Z.length).join("/")}let M=P1(t,{pathname:k});wr(_||M!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),wr(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=wD(M&&M.map(Z=>Object.assign({},Z,{params:Object.assign({},d,Z.params),pathname:Ks([v,o.encodeLocation?o.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:Ks([v,o.encodeLocation?o.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),c,n,r,a);return e&&ee?V.createElement(hh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},ee):ee}function vD(){let t=ID(),e=iD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,c)}var _D=V.createElement(vD,null),X1=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=mD(t.digest);n&&(t=n)}let e=t!==void 0?V.createElement(xs.Provider,{value:this.props.routeContext},V.createElement(bv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?V.createElement(bD,{error:t},e):e}};X1.contextType=lD;var cy=new WeakMap;function bD({children:t,error:e}){let{basename:n}=V.useContext(Er);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=fD(e.digest);if(r){let a=cy.get(e);if(a)throw a;let o=B1(r.location,n);if(F1&&!cy.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw cy.set(e,c),c}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function xD({routeContext:t,match:e,children:n}){let r=V.useContext(nc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(xs.Provider,{value:t},n)}function wD(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let v=o.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);Et(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let h=!1,d=-1;if(n)for(let v=0;v<o.length;v++){let _=o[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=v),_.route.id){let{loaderData:E,errors:T}=n,D=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||D){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let g=n&&r?(v,_)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:aD(n.matches),errorInfo:_})}:void 0;return o.reduceRight((v,_,E)=>{let T,D=!1,k=null,M=null;n&&(T=c&&_.route.id?c[_.route.id]:void 0,k=_.route.errorElement||_D,h&&(d<0&&E===0?(J1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,M=null):d===E&&(D=!0,M=_.route.hydrateFallbackElement||null)));let ee=e.concat(o.slice(0,E+1)),Z=()=>{let B;return T?B=k:D?B=M:_.route.Component?B=V.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=v,V.createElement(xD,{match:_,routeContext:{outlet:v,matches:ee,isDataRoute:n!=null},children:B})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?V.createElement(X1,{location:n.location,revalidation:n.revalidation,component:k,error:T,children:Z(),routeContext:{outlet:null,matches:ee,isDataRoute:!0},onError:g}):Z()},null)}function xv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ED(t){let e=V.useContext(nc);return Et(e,xv(t)),e}function TD(t){let e=V.useContext(Sm);return Et(e,xv(t)),e}function SD(t){let e=V.useContext(xs);return Et(e,xv(t)),e}function wv(t){let e=SD(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function AD(){return wv("useRouteId")}function ID(){let t=V.useContext(bv),e=TD("useRouteError"),n=wv("useRouteError");return t!==void 0?t:e.errors?.[n]}function RD(){let{router:t}=ED("useNavigate"),e=wv("useNavigate"),n=V.useRef(!1);return K1(()=>{n.current=!0}),V.useCallback(async(a,o={})=>{wr(n.current,G1),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var zw={};function J1(t,e,n){!e&&!zw[t]&&(zw[t]=!0,wr(!1,n))}V.memo(ND);function ND({routes:t,future:e,state:n,onError:r}){return Y1(t,void 0,n,r,e)}function $i(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){Et(!dh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[h,a,o,c]);typeof n=="string"&&(n=Ao(n));let{pathname:g="/",search:v="",hash:_="",state:E=null,key:T="default"}=n,D=V.useMemo(()=>{let k=Zs(g,h);return k==null?null:{location:{pathname:k,search:v,hash:_,state:E,key:T},navigationType:r}},[h,g,v,_,E,T,r]);return wr(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:V.createElement(Er.Provider,{value:d},V.createElement(hh.Provider,{children:e,value:D}))}function DD({children:t,location:e}){return yD(Ny(t),e)}function Ny(t,e=[]){let n=[];return V.Children.forEach(t,(r,a)=>{if(!V.isValidElement(r))return;let o=[...e,a];if(r.type===V.Fragment){n.push.apply(n,Ny(r.props.children,o));return}Et(r.type===$i,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Ny(r.props.children,o)),n.push(c)}),n}var xf="get",wf="application/x-www-form-urlencoded";function Am(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function kD(t){return Am(t)&&t.tagName.toLowerCase()==="button"}function jD(t){return Am(t)&&t.tagName.toLowerCase()==="form"}function OD(t){return Am(t)&&t.tagName.toLowerCase()==="input"}function PD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MD(t,e){return t.button===0&&(!e||e==="_self")&&!PD(t)}var af=null;function VD(){if(af===null)try{new FormData(document.createElement("form"),0),af=!1}catch{af=!0}return af}var zD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uy(t){return t!=null&&!zD.has(t)?(wr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wf}"`),null):t}function LD(t,e){let n,r,a,o,c;if(jD(t)){let h=t.getAttribute("action");r=h?Zs(h,e):null,n=t.getAttribute("method")||xf,a=uy(t.getAttribute("enctype"))||wf,o=new FormData(t)}else if(kD(t)||OD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Zs(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||xf,a=uy(t.getAttribute("formenctype"))||uy(h.getAttribute("enctype"))||wf,o=new FormData(h,t),!VD()){let{name:g,type:v,value:_}=t;if(v==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,_)}}else{if(Am(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xf,r=null,a=wf,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ev(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function UD(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Zs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function FD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qD(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await FD(o,n);return c.links?c.links():[]}return[]}));return KD(r.flat(1).filter(BD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Lw(t,e,n,r,a,o){let c=(d,g)=>n[g]?d.route.id!==n[g].route.id:!0,h=(d,g)=>n[g].pathname!==d.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,g)=>c(d,g)||h(d,g)):o==="data"?e.filter((d,g)=>{let v=r.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(c(d,g)||h(d,g))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function $D(t,e,{includeHydrateFallback:n}={}){return HD(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function HD(t){return[...new Set(t)]}function GD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function KD(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(GD(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function W1(){let t=V.useContext(nc);return Ev(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QD(){let t=V.useContext(Sm);return Ev(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tv=V.createContext(void 0);Tv.displayName="FrameworkContext";function eS(){let t=V.useContext(Tv);return Ev(t,"You must render this element inside a <HydratedRouter> element"),t}function ZD(t,e){let n=V.useContext(Tv),[r,a]=V.useState(!1),[o,c]=V.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,E=V.useRef(null);V.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let k=ee=>{ee.forEach(Z=>{c(Z.isIntersecting)})},M=new IntersectionObserver(k,{threshold:.5});return E.current&&M.observe(E.current),()=>{M.disconnect()}}},[t]),V.useEffect(()=>{if(r){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[r]);let T=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:wu(h,T),onBlur:wu(d,D),onMouseEnter:wu(g,T),onMouseLeave:wu(v,D),onTouchStart:wu(_,T)}]:[!1,E,{}]}function wu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function YD({page:t,...e}){let{router:n}=W1(),r=V.useMemo(()=>P1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?V.createElement(JD,{page:t,matches:r,...e}):null}function XD(t){let{manifest:e,routeModules:n}=eS(),[r,a]=V.useState([]);return V.useEffect(()=>{let o=!1;return qD(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),r}function JD({page:t,matches:e,...n}){let r=ti(),{future:a,manifest:o,routeModules:c}=eS(),{basename:h}=W1(),{loaderData:d,matches:g}=QD(),v=V.useMemo(()=>Lw(t,e,g,o,r,"data"),[t,e,g,o,r]),_=V.useMemo(()=>Lw(t,e,g,o,r,"assets"),[t,e,g,o,r]),E=V.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let k=new Set,M=!1;if(e.forEach(Z=>{let B=o.routes[Z.route.id];!B||!B.hasLoader||(!v.some(ie=>ie.route.id===Z.route.id)&&Z.route.id in d&&c[Z.route.id]?.shouldRevalidate||B.hasClientLoader?M=!0:k.add(Z.route.id))}),k.size===0)return[];let ee=UD(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return M&&k.size>0&&ee.searchParams.set("_routes",e.filter(Z=>k.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[ee.pathname+ee.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,o,v,e,t,c]),T=V.useMemo(()=>$D(_,o),[_,o]),D=XD(_);return V.createElement(V.Fragment,null,E.map(k=>V.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),T.map(k=>V.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),D.map(({key:k,link:M})=>V.createElement("link",{key:k,nonce:n.nonce,...M})))}function WD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ek=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ek&&(window.__reactRouterVersion="7.12.0")}catch{}function tk({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=V.useRef();a.current==null&&(a.current=PC({window:r,v5Compat:!0}));let o=a.current,[c,h]=V.useState({action:o.action,location:o.location}),d=V.useCallback(g=>{n===!1?h(g):V.startTransition(()=>h(g))},[n]);return V.useLayoutEffect(()=>o.listen(d),[o,d]),V.createElement(CD,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n})}var tS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:h,target:d,to:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E,...T},D){let{basename:k,unstable_useTransitions:M}=V.useContext(Er),ee=typeof g=="string"&&tS.test(g),Z=B1(g,k);g=Z.to;let B=pD(g,{relative:a}),[ie,Y,le]=ZD(r,T),R=ik(g,{replace:c,state:h,target:d,preventScrollReset:v,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:M});function A(z){e&&e(z),z.defaultPrevented||R(z)}let C=V.createElement("a",{...T,...le,href:Z.absoluteURL||B,onClick:Z.isExternal||o?e:A,ref:WD(D,Y),target:d,"data-discover":!ee&&n==="render"?"true":void 0});return ie&&!ee?V.createElement(V.Fragment,null,C,V.createElement(YD,{page:B})):C});Rt.displayName="Link";var nk=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:h,children:d,...g},v){let _=fh(c,{relative:g.relative}),E=ti(),T=V.useContext(Sm),{navigator:D,basename:k}=V.useContext(Er),M=T!=null&&uk(_)&&h===!0,ee=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,Z=E.pathname,B=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),B=B?B.toLowerCase():null,ee=ee.toLowerCase()),B&&k&&(B=Zs(B,k)||B);const ie=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let Y=Z===ee||!a&&Z.startsWith(ee)&&Z.charAt(ie)==="/",le=B!=null&&(B===ee||!a&&B.startsWith(ee)&&B.charAt(ee.length)==="/"),R={isActive:Y,isPending:le,isTransitioning:M},A=Y?e:void 0,C;typeof r=="function"?C=r(R):C=[r,Y?"active":null,le?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(R):o;return V.createElement(Rt,{...g,"aria-current":A,className:C,ref:v,style:z,to:c,viewTransition:h},typeof d=="function"?d(R):d)});nk.displayName="NavLink";var rk=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:c=xf,action:h,onSubmit:d,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E,...T},D)=>{let{unstable_useTransitions:k}=V.useContext(Er),M=lk(),ee=ck(h,{relative:g}),Z=c.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&tS.test(h),ie=Y=>{if(d&&d(Y),Y.defaultPrevented)return;Y.preventDefault();let le=Y.nativeEvent.submitter,R=le?.getAttribute("formmethod")||c,A=()=>M(le||Y.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:o,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E});k&&n!==!1?V.startTransition(()=>A()):A()};return V.createElement("form",{ref:D,method:Z,action:ee,onSubmit:r?d:ie,...T,"data-discover":!B&&t==="render"?"true":void 0})});rk.displayName="Form";function sk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nS(t){let e=V.useContext(nc);return Et(e,sk(t)),e}function ik(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let g=Q1(),v=ti(),_=fh(t,{relative:o});return V.useCallback(E=>{if(MD(E,e)){E.preventDefault();let T=n!==void 0?n:$u(v)===$u(_),D=()=>g(t,{replace:T,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});d?V.startTransition(()=>D()):D()}},[v,g,_,n,r,e,t,a,o,c,h,d])}var ak=0,ok=()=>`__${String(++ak)}__`;function lk(){let{router:t}=nS("useSubmit"),{basename:e}=V.useContext(Er),n=AD(),r=t.fetch,a=t.navigate;return V.useCallback(async(o,c={})=>{let{action:h,method:d,encType:g,formData:v,body:_}=LD(o,e);if(c.navigate===!1){let E=c.fetcherKey||ok();await r(E,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||d,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||d,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,n])}function ck(t,{relative:e}={}){let{basename:n}=V.useContext(Er),r=V.useContext(xs);Et(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...fh(t||".",{relative:e})},c=ti();if(t==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(v=>v==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();o.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ks([n,o.pathname])),$u(o)}function uk(t,{relative:e}={}){let n=V.useContext($1);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nS("useViewTransitionState"),a=fh(t,{relative:e});if(!n.isTransitioning)return!1;let o=Zs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Zs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return qf(a.pathname,c)!=null||qf(a.pathname,o)!=null}var rc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hk={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},dk=class{#e=hk;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Wa=new dk;function fk(t){setTimeout(t,0)}var lo=typeof window>"u"||"Deno"in globalThis;function Rn(){}function mk(t,e){return typeof t=="function"?t(e):t}function Cy(t){return typeof t=="number"&&t>=0&&t!==1/0}function rS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ji(t,e){return typeof t=="function"?t(e):t}function gr(t,e){return typeof t=="function"?t(e):t}function Uw(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:c,stale:h}=t;if(c){if(r){if(e.queryHash!==Sv(c,e.options))return!1}else if(!Hu(e.queryKey,c))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||o&&!o(e))}function Fw(t,e){const{exact:n,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(co(e.options.mutationKey)!==co(o))return!1}else if(!Hu(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Sv(t,e){return(e?.queryKeyHashFn||co)(t)}function co(t){return JSON.stringify(t,(e,n)=>Dy(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Hu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Hu(t[n],e[n])):!1}var pk=Object.prototype.hasOwnProperty;function sS(t,e){if(t===e)return t;const n=Bw(t)&&Bw(e);if(!n&&!(Dy(t)&&Dy(e)))return e;const a=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),c=o.length,h=n?new Array(c):{};let d=0;for(let g=0;g<c;g++){const v=n?g:o[g],_=t[v],E=e[v];if(_===E){h[v]=_,(n?g<a:pk.call(t,v))&&d++;continue}if(_===null||E===null||typeof _!="object"||typeof E!="object"){h[v]=E;continue}const T=sS(_,E);h[v]=T,T===_&&d++}return a===c&&d===a?t:h}function $f(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Bw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Dy(t){if(!qw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!qw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function qw(t){return Object.prototype.toString.call(t)==="[object Object]"}function gk(t){return new Promise(e=>{Wa.setTimeout(e,t)})}function ky(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?sS(t,e):e}function yk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function vk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Av=Symbol();function iS(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Av?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Iv(t,e){return typeof t=="function"?t(...e):!!t}function _k(t,e,n){let r=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??=e(),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var bk=class extends rc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!lo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Rv=new bk;function jy(){let t,e;const n=new Promise((a,o)=>{t=a,e=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}var xk=fk;function wk(){let t=[],e=0,n=h=>{h()},r=h=>{h()},a=xk;const o=h=>{e?t.push(h):a(()=>{n(h)})},c=()=>{const h=t;t=[],h.length&&a(()=>{r(()=>{h.forEach(d=>{n(d)})})})};return{batch:h=>{let d;e++;try{d=h()}finally{e--,e||c()}return d},batchCalls:h=>(...d)=>{o(()=>{h(...d)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{a=h}}}var Jt=wk(),Ek=class extends rc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!lo&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Hf=new Ek;function Tk(t){return Math.min(1e3*2**t,3e4)}function aS(t){return(t??"online")==="online"?Hf.isOnline():!0}var Oy=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function oS(t){let e=!1,n=0,r;const a=jy(),o=()=>a.status!=="pending",c=k=>{if(!o()){const M=new Oy(k);E(M),t.onCancel?.(M)}},h=()=>{e=!0},d=()=>{e=!1},g=()=>Rv.isFocused()&&(t.networkMode==="always"||Hf.isOnline())&&t.canRun(),v=()=>aS(t.networkMode)&&t.canRun(),_=k=>{o()||(r?.(),a.resolve(k))},E=k=>{o()||(r?.(),a.reject(k))},T=()=>new Promise(k=>{r=M=>{(o()||g())&&k(M)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),D=()=>{if(o())return;let k;const M=n===0?t.initialPromise:void 0;try{k=M??t.fn()}catch(ee){k=Promise.reject(ee)}Promise.resolve(k).then(_).catch(ee=>{if(o())return;const Z=t.retry??(lo?0:3),B=t.retryDelay??Tk,ie=typeof B=="function"?B(n,ee):B,Y=Z===!0||typeof Z=="number"&&n<Z||typeof Z=="function"&&Z(n,ee);if(e||!Y){E(ee);return}n++,t.onFail?.(n,ee),gk(ie).then(()=>g()?void 0:T()).then(()=>{e?E(ee):D()})})};return{promise:a,status:()=>a.status,cancel:c,continue:()=>(r?.(),a),cancelRetry:h,continueRetry:d,canStart:v,start:()=>(v()?D():T().then(D),a)}}var lS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cy(this.gcTime)&&(this.#e=Wa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(lo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Wa.clearTimeout(this.#e),this.#e=void 0)}},Sk=class extends lS{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Hw(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Hw(this.options);n.data!==void 0&&(this.setState($w(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=ky(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(Rn).catch(Rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>gr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Av||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ji(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!rS(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(g=>g.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const d=iS(this.options,n),v=(()=>{const _={client:this.#s,queryKey:this.queryKey,meta:this.meta};return a(_),_})();return this.#o=!1,this.options.persister?this.options.persister(d,v,this):d(v)},h=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return a(d),d})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#i({type:"fetch",meta:h.fetchOptions?.meta}),this.#r=oS({initialPromise:n?.initialPromise,fn:h.fetchFn,onCancel:d=>{d instanceof Oy&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,g)=>{this.#i({type:"failed",failureCount:d,error:g})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Oy){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...cS(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...$w(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Jt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function cS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function $w(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Hw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ak=class extends rc{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=jy(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#d;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Gw(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Py(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Py(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!$f(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Kw(this.#t,n,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#t!==n||gr(this.options.enabled,this.#t)!==gr(e.enabled,this.#t)||Ji(this.options.staleTime,this.#t)!==Ji(e.staleTime,this.#t))&&this.#g();const a=this.#y();r&&(this.#t!==n||gr(this.options.enabled,this.#t)!==gr(e.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Rk(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Rn)),e}#g(){this.#b();const t=Ji(this.options.staleTime,this.#t);if(lo||this.#s.isStale||!Cy(t))return;const n=rS(this.#s.dataUpdatedAt,t)+1;this.#c=Wa.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#l=t,!(lo||gr(this.options.enabled,this.#t)===!1||!Cy(this.#l)||this.#l===0)&&(this.#u=Wa.setInterval(()=>{(this.options.refetchIntervalInBackground||Rv.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#b(){this.#c&&(Wa.clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(Wa.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,a=this.#s,o=this.#r,c=this.#a,d=t!==n?t.state:this.#n,{state:g}=t;let v={...g},_=!1,E;if(e._optimisticResults){const A=this.hasListeners(),C=!A&&Gw(t,e),z=A&&Kw(t,n,e,r);(C||z)&&(v={...v,...cS(g.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:T,errorUpdatedAt:D,status:k}=v;E=v.data;let M=!1;if(e.placeholderData!==void 0&&E===void 0&&k==="pending"){let A;a?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(A=a.data,M=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,A!==void 0&&(k="success",E=ky(a?.data,A,e),_=!0)}if(e.select&&E!==void 0&&!M)if(a&&E===o?.data&&e.select===this.#p)E=this.#d;else try{this.#p=e.select,E=e.select(E),E=ky(a?.data,E,e),this.#d=E,this.#i=null}catch(A){this.#i=A}this.#i&&(T=this.#i,E=this.#d,D=Date.now(),k="error");const ee=v.fetchStatus==="fetching",Z=k==="pending",B=k==="error",ie=Z&&ee,Y=E!==void 0,R={status:k,fetchStatus:v.fetchStatus,isPending:Z,isSuccess:k==="success",isError:B,isInitialLoading:ie,isLoading:ie,data:E,dataUpdatedAt:v.dataUpdatedAt,error:T,errorUpdatedAt:D,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>d.dataUpdateCount||v.errorUpdateCount>d.errorUpdateCount,isFetching:ee,isRefetching:ee&&!Z,isLoadingError:B&&!Y,isPaused:v.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:B&&Y,isStale:Nv(t,e),refetch:this.refetch,promise:this.#o,isEnabled:gr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=P=>{R.status==="error"?P.reject(R.error):R.data!==void 0&&P.resolve(R.data)},C=()=>{const P=this.#o=R.promise=jy();A(P)},z=this.#o;switch(z.status){case"pending":t.queryHash===n.queryHash&&A(z);break;case"fulfilled":(R.status==="error"||R.data!==z.value)&&C();break;case"rejected":(R.status!=="error"||R.error!==z.reason)&&C();break}}return R}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),$f(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#m.size)return!0;const o=new Set(a??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(c=>{const h=c;return this.#s[h]!==t[h]&&o.has(h)})};this.#E({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#E(t){Jt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Ik(t,e){return gr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Gw(t,e){return Ik(t,e)||t.state.data!==void 0&&Py(t,e,e.refetchOnMount)}function Py(t,e,n){if(gr(e.enabled,t)!==!1&&Ji(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Nv(t,e)}return!1}function Kw(t,e,n,r){return(t!==e||gr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Nv(t,n)}function Nv(t,e){return gr(e.enabled,t)!==!1&&t.isStaleByTime(Ji(e.staleTime,t))}function Rk(t,e){return!$f(t.getCurrentResult(),e)}function Qw(t){return{onFetch:(e,n)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},d=0;const g=async()=>{let v=!1;const _=D=>{_k(D,()=>e.signal,()=>v=!0)},E=iS(e.options,e.fetchOptions),T=async(D,k,M)=>{if(v)return Promise.reject();if(k==null&&D.pages.length)return Promise.resolve(D);const Z=(()=>{const le={client:e.client,queryKey:e.queryKey,pageParam:k,direction:M?"backward":"forward",meta:e.options.meta};return _(le),le})(),B=await E(Z),{maxPages:ie}=e.options,Y=M?vk:yk;return{pages:Y(D.pages,B,ie),pageParams:Y(D.pageParams,k,ie)}};if(a&&o.length){const D=a==="backward",k=D?Nk:Zw,M={pages:o,pageParams:c},ee=k(r,M);h=await T(M,ee,D)}else{const D=t??o.length;do{const k=d===0?c[0]??r.initialPageParam:Zw(r,h);if(d>0&&k==null)break;h=await T(h,k),d++}while(d<D)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=g}}}function Zw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Nk(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Ck=class extends lS{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||uS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=oS({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(c,h)=>{this.#r({type:"failed",failureCount:c,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",o=!this.#s.canStart();try{if(a)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const h=await this.options.onMutate?.(e,r);h!==this.state.context&&this.#r({type:"pending",context:h,variables:e,isPaused:o})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,e,this.state.context,this,r),await this.options.onSuccess?.(c,e,this.state.context,r),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(c,null,e,this.state.context,r),this.#r({type:"success",data:c}),c}catch(c){try{await this.#n.config.onError?.(c,e,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onError?.(c,e,this.state.context,r)}catch(h){Promise.reject(h)}try{await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onSettled?.(void 0,c,e,this.state.context,r)}catch(h){Promise.reject(h)}throw this.#r({type:"error",error:c}),c}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Jt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function uS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dk=class extends rc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new Ck({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=of(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=of(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=of(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=of(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Jt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Fw(e,n))}findAll(t={}){return this.getAll().filter(e=>Fw(t,e))}notify(t){Jt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Jt.batch(()=>Promise.all(t.map(e=>e.continue().catch(Rn))))}};function of(t){return t.options.scope?.id}var kk=class extends rc{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),$f(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&co(n.mutationKey)!==co(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??uS();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Jt.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(e.data,null,n,r,a)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,e.error,n,r,a)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},jk=class extends rc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,a=e.queryHash??Sv(r,e);let o=this.get(a);return o||(o=new Sk({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Jt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Uw(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Uw(t,n)):e}notify(t){Jt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Jt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Jt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ok=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new jk,this.#t=t.mutationCache||new Dk,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Rv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Hf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ji(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,c=mk(e,o);if(c!==void 0)return this.#e.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Jt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Jt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Jt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Jt.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(Rn).catch(Rn)}invalidateQueries(t,e={}){return Jt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Jt.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(Rn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Rn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Ji(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rn).catch(Rn)}fetchInfiniteQuery(t){return t.behavior=Qw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rn).catch(Rn)}ensureInfiniteQueryData(t){return t.behavior=Qw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Hf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(co(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Hu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(co(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Hu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Av&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},hS=V.createContext(void 0),sc=t=>{const e=V.useContext(hS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Pk=({client:t,children:e})=>(V.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(hS.Provider,{value:t,children:e})),dS=V.createContext(!1),Mk=()=>V.useContext(dS);dS.Provider;function Vk(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var zk=V.createContext(Vk()),Lk=()=>V.useContext(zk),Uk=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?Iv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},Fk=t=>{V.useEffect(()=>{t.clearReset()},[t])},Bk=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||Iv(n,[t.error,r])),qk=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},$k=(t,e)=>t.isLoading&&t.isFetching&&!e,Hk=(t,e)=>t?.suspense&&e.isPending,Yw=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Gk(t,e,n){const r=Mk(),a=Lk(),o=sc(),c=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const h=o.getQueryCache().get(c.queryHash);c._optimisticResults=r?"isRestoring":"optimistic",qk(c),Uk(c,a,h),Fk(a);const d=!o.getQueryCache().get(c.queryHash),[g]=V.useState(()=>new e(o,c)),v=g.getOptimisticResult(c),_=!r&&t.subscribed!==!1;if(V.useSyncExternalStore(V.useCallback(E=>{const T=_?g.subscribe(Jt.batchCalls(E)):Rn;return g.updateResult(),T},[g,_]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),V.useEffect(()=>{g.setOptions(c)},[c,g]),Hk(c,v))throw Yw(c,g,a);if(Bk({result:v,errorResetBoundary:a,throwOnError:c.throwOnError,query:h,suspense:c.suspense}))throw v.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,v),c.experimental_prefetchInRender&&!lo&&$k(v,r)&&(d?Yw(c,g,a):h?.promise)?.catch(Rn).finally(()=>{g.updateResult()}),c.notifyOnChangeProps?v:g.trackResult(v)}function fS(t,e){return Gk(t,Ak)}function Im(t,e){const n=sc(),[r]=V.useState(()=>new kk(n,t));V.useEffect(()=>{r.setOptions(t)},[r,t]);const a=V.useSyncExternalStore(V.useCallback(c=>r.subscribe(Jt.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=V.useCallback((c,h)=>{r.mutate(c,h).catch(Rn)},[r]);if(a.error&&Iv(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}const Kk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Xw=t=>{const e=Qk(t);return e.charAt(0).toUpperCase()+e.slice(1)},mS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Zk=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Yk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Xk=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...h},d)=>V.createElement("svg",{ref:d,...Yk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:mS("lucide",a),...!o&&!Zk(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,v])=>V.createElement(g,v)),...Array.isArray(o)?o:[o]]));const tt=(t,e)=>{const n=V.forwardRef(({className:r,...a},o)=>V.createElement(Xk,{ref:o,iconNode:e,className:mS(`lucide-${Kk(Xw(t))}`,`lucide-${t}`,r),...a}));return n.displayName=Xw(t),n};const Jk=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Jw=tt("activity",Jk);const Wk=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ej=tt("arrow-down",Wk);const tj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],nj=tt("arrow-left",tj);const rj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ef=tt("arrow-right",rj);const sj=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ij=tt("arrow-up",sj);const aj=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],oj=tt("calculator",aj);const lj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uo=tt("calendar",lj);const cj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],uj=tt("chart-column",cj);const hj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Cv=tt("chevron-down",hj);const dj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ww=tt("chevron-left",dj);const fj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pS=tt("chevron-up",fj);const mj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pj=tt("circle-check-big",mj);const gj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gu=tt("clock",gj);const yj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Dv=tt("external-link",yj);const vj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],_j=tt("house",vj);const bj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gS=tt("map-pin",bj);const xj=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],wj=tt("menu",xj);const Ej=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Tj=tt("play",Ej);const Sj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Aj=tt("plus",Sj);const Ij=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Rj=tt("rotate-ccw",Ij);const Nj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yS=tt("search",Nj);const Cj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],eE=tt("star",Cj);const Dj=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],kj=tt("swords",Dj);const jj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ku=tt("target",jj);const Oj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tE=tt("trending-up",Oj);const Pj=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],vr=tt("trophy",Pj);const Mj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Vj=tt("user-plus",Mj);const zj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vS=tt("user",zj);const Lj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rm=tt("users",Lj);const Uj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_S=tt("x",Uj);function bS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=bS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fj(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=bS(t))&&(r&&(r+=" "),r+=e);return r}const Bj=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},qj=(t,e)=>({classGroupId:t,validator:e}),xS=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Gf="-",nE=[],$j="arbitrary..",Hj=t=>{const e=Kj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return Gj(c);const h=c.split(Gf),d=h[0]===""&&h.length>1?1:0;return wS(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=r[c],g=n[c];return d?g?Bj(g,d):d:g||nE}return n[c]||nE}}},wS=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],o=n.nextPart.get(a);if(o){const g=wS(t,e+1,o);if(g)return g}const c=n.validators;if(c===null)return;const h=e===0?t.join(Gf):t.slice(e).join(Gf),d=c.length;for(let g=0;g<d;g++){const v=c[g];if(v.validator(h))return v.classGroupId}},Gj=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?$j+r:void 0})(),Kj=t=>{const{theme:e,classGroups:n}=t;return Qj(n,e)},Qj=(t,e)=>{const n=xS();for(const r in t){const a=t[r];kv(a,n,r,e)}return n},kv=(t,e,n,r)=>{const a=t.length;for(let o=0;o<a;o++){const c=t[o];Zj(c,e,n,r)}},Zj=(t,e,n,r)=>{if(typeof t=="string"){Yj(t,e,n);return}if(typeof t=="function"){Xj(t,e,n,r);return}Jj(t,e,n,r)},Yj=(t,e,n)=>{const r=t===""?e:ES(e,t);r.classGroupId=n},Xj=(t,e,n,r)=>{if(Wj(t)){kv(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(qj(n,t))},Jj=(t,e,n,r)=>{const a=Object.entries(t),o=a.length;for(let c=0;c<o;c++){const[h,d]=a[c];kv(d,ES(e,h),n,r)}},ES=(t,e)=>{let n=t;const r=e.split(Gf),a=r.length;for(let o=0;o<a;o++){const c=r[o];let h=n.nextPart.get(c);h||(h=xS(),n.nextPart.set(c,h)),n=h}return n},Wj=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,eO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(o,c)=>{n[o]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let c=n[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return a(o,c),c},set(o,c){o in n?n[o]=c:a(o,c)}}},My="!",rE=":",tO=[],sE=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),nO=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const o=[];let c=0,h=0,d=0,g;const v=a.length;for(let k=0;k<v;k++){const M=a[k];if(c===0&&h===0){if(M===rE){o.push(a.slice(d,k)),d=k+1;continue}if(M==="/"){g=k;continue}}M==="["?c++:M==="]"?c--:M==="("?h++:M===")"&&h--}const _=o.length===0?a:a.slice(d);let E=_,T=!1;_.endsWith(My)?(E=_.slice(0,-1),T=!0):_.startsWith(My)&&(E=_.slice(1),T=!0);const D=g&&g>d?g-d:void 0;return sE(o,T,E,D)};if(e){const a=e+rE,o=r;r=c=>c.startsWith(a)?o(c.slice(a.length)):sE(tO,!1,c,void 0,!0)}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},rO=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let o=0;o<n.length;o++){const c=n[o],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},sO=t=>({cache:eO(t.cacheSize),parseClassName:nO(t),sortModifiers:rO(t),...Hj(t)}),iO=/\s+/,aO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,c=[],h=t.trim().split(iO);let d="";for(let g=h.length-1;g>=0;g-=1){const v=h[g],{isExternal:_,modifiers:E,hasImportantModifier:T,baseClassName:D,maybePostfixModifierPosition:k}=n(v);if(_){d=v+(d.length>0?" "+d:d);continue}let M=!!k,ee=r(M?D.substring(0,k):D);if(!ee){if(!M){d=v+(d.length>0?" "+d:d);continue}if(ee=r(D),!ee){d=v+(d.length>0?" "+d:d);continue}M=!1}const Z=E.length===0?"":E.length===1?E[0]:o(E).join(":"),B=T?Z+My:Z,ie=B+ee;if(c.indexOf(ie)>-1)continue;c.push(ie);const Y=a(ee,M);for(let le=0;le<Y.length;++le){const R=Y[le];c.push(B+R)}d=v+(d.length>0?" "+d:d)}return d},oO=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=TS(n))&&(a&&(a+=" "),a+=r);return a},TS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=TS(t[r]))&&(n&&(n+=" "),n+=e);return n},lO=(t,...e)=>{let n,r,a,o;const c=d=>{const g=e.reduce((v,_)=>_(v),t());return n=sO(g),r=n.cache.get,a=n.cache.set,o=h,h(d)},h=d=>{const g=r(d);if(g)return g;const v=aO(d,n);return a(d,v),v};return o=c,(...d)=>o(oO(...d))},cO=[],Xt=t=>{const e=n=>n[t]||cO;return e.isThemeGetter=!0,e},SS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,AS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uO=/^\d+\/\d+$/,hO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bl=t=>uO.test(t),Ve=t=>!!t&&!Number.isNaN(Number(t)),Li=t=>!!t&&Number.isInteger(Number(t)),hy=t=>t.endsWith("%")&&Ve(t.slice(0,-1)),Fs=t=>hO.test(t),gO=()=>!0,yO=t=>dO.test(t)&&!fO.test(t),IS=()=>!1,vO=t=>mO.test(t),_O=t=>pO.test(t),bO=t=>!ye(t)&&!ve(t),xO=t=>ic(t,CS,IS),ye=t=>SS.test(t),$a=t=>ic(t,DS,yO),dy=t=>ic(t,AO,Ve),iE=t=>ic(t,RS,IS),wO=t=>ic(t,NS,_O),lf=t=>ic(t,kS,vO),ve=t=>AS.test(t),Eu=t=>ac(t,DS),EO=t=>ac(t,IO),aE=t=>ac(t,RS),TO=t=>ac(t,CS),SO=t=>ac(t,NS),cf=t=>ac(t,kS,!0),ic=(t,e,n)=>{const r=SS.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ac=(t,e,n=!1)=>{const r=AS.exec(t);return r?r[1]?e(r[1]):n:!1},RS=t=>t==="position"||t==="percentage",NS=t=>t==="image"||t==="url",CS=t=>t==="length"||t==="size"||t==="bg-size",DS=t=>t==="length",AO=t=>t==="number",IO=t=>t==="family-name",kS=t=>t==="shadow",RO=()=>{const t=Xt("color"),e=Xt("font"),n=Xt("text"),r=Xt("font-weight"),a=Xt("tracking"),o=Xt("leading"),c=Xt("breakpoint"),h=Xt("container"),d=Xt("spacing"),g=Xt("radius"),v=Xt("shadow"),_=Xt("inset-shadow"),E=Xt("text-shadow"),T=Xt("drop-shadow"),D=Xt("blur"),k=Xt("perspective"),M=Xt("aspect"),ee=Xt("ease"),Z=Xt("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Y=()=>[...ie(),ve,ye],le=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],A=()=>[ve,ye,d],C=()=>[bl,"full","auto",...A()],z=()=>[Li,"none","subgrid",ve,ye],P=()=>["auto",{span:["full",Li,ve,ye]},Li,ve,ye],U=()=>[Li,"auto",ve,ye],j=()=>["auto","min","max","fr",ve,ye],Ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ze=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...A()],de=()=>[bl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],ce=()=>[t,ve,ye],Me=()=>[...ie(),aE,iE,{position:[ve,ye]}],Fe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",TO,xO,{size:[ve,ye]}],H=()=>[hy,Eu,$a],se=()=>["","none","full",g,ve,ye],ue=()=>["",Ve,Eu,$a],Ee=()=>["solid","dashed","dotted","double"],Re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[Ve,hy,aE,iE],St=()=>["","none",D,ve,ye],nt=()=>["none",Ve,ve,ye],tr=()=>["none",Ve,ve,ye],qr=()=>[Ve,ve,ye],Sr=()=>[bl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fs],breakpoint:[Fs],color:[gO],container:[Fs],"drop-shadow":[Fs],ease:["in","out","in-out"],font:[bO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fs],shadow:[Fs],spacing:["px",Ve],text:[Fs],"text-shadow":[Fs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",bl,ye,ve,M]}],container:["container"],columns:[{columns:[Ve,ye,ve,h]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Y()}],overflow:[{overflow:le()}],"overflow-x":[{"overflow-x":le()}],"overflow-y":[{"overflow-y":le()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Li,"auto",ve,ye]}],basis:[{basis:[bl,"full","auto",h,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,bl,"auto","initial","none",ye]}],grow:[{grow:["",Ve,ve,ye]}],shrink:[{shrink:["",Ve,ve,ye]}],order:[{order:[Li,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Ge(),"normal"]}],"justify-items":[{"justify-items":[...Ze(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ze()]}],"align-content":[{content:["normal",...Ge()]}],"align-items":[{items:[...Ze(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ze(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ge()}],"place-items":[{"place-items":[...Ze(),"baseline"]}],"place-self":[{"place-self":["auto",...Ze()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[h,"screen",...de()]}],"min-w":[{"min-w":[h,"screen","none",...de()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...de()]}],h:[{h:["screen","lh",...de()]}],"min-h":[{"min-h":["screen","lh","none",...de()]}],"max-h":[{"max-h":["screen","lh",...de()]}],"font-size":[{text:["base",n,Eu,$a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,dy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",hy,ye]}],"font-family":[{font:[EO,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,ye]}],"line-clamp":[{"line-clamp":[Ve,"none",ve,dy]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ce()}],"text-color":[{text:ce()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",ve,$a]}],"text-decoration-color":[{decoration:ce()}],"underline-offset":[{"underline-offset":[Ve,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Me()}],"bg-repeat":[{bg:Fe()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Li,ve,ye],radial:["",ve,ye],conic:[Li,ve,ye]},SO,wO]}],"bg-color":[{bg:ce()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:ce()}],"gradient-via":[{via:ce()}],"gradient-to":[{to:ce()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:ce()}],"border-color-x":[{"border-x":ce()}],"border-color-y":[{"border-y":ce()}],"border-color-s":[{"border-s":ce()}],"border-color-e":[{"border-e":ce()}],"border-color-t":[{"border-t":ce()}],"border-color-r":[{"border-r":ce()}],"border-color-b":[{"border-b":ce()}],"border-color-l":[{"border-l":ce()}],"divide-color":[{divide:ce()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,ve,ye]}],"outline-w":[{outline:["",Ve,Eu,$a]}],"outline-color":[{outline:ce()}],shadow:[{shadow:["","none",v,cf,lf]}],"shadow-color":[{shadow:ce()}],"inset-shadow":[{"inset-shadow":["none",_,cf,lf]}],"inset-shadow-color":[{"inset-shadow":ce()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ce()}],"ring-offset-w":[{"ring-offset":[Ve,$a]}],"ring-offset-color":[{"ring-offset":ce()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":ce()}],"text-shadow":[{"text-shadow":["none",E,cf,lf]}],"text-shadow-color":[{"text-shadow":ce()}],opacity:[{opacity:[Ve,ve,ye]}],"mix-blend":[{"mix-blend":[...Re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":ce()}],"mask-image-linear-to-color":[{"mask-linear-to":ce()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":ce()}],"mask-image-t-to-color":[{"mask-t-to":ce()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":ce()}],"mask-image-r-to-color":[{"mask-r-to":ce()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":ce()}],"mask-image-b-to-color":[{"mask-b-to":ce()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":ce()}],"mask-image-l-to-color":[{"mask-l-to":ce()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":ce()}],"mask-image-x-to-color":[{"mask-x-to":ce()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":ce()}],"mask-image-y-to-color":[{"mask-y-to":ce()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":ce()}],"mask-image-radial-to-color":[{"mask-radial-to":ce()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ie()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":ce()}],"mask-image-conic-to-color":[{"mask-conic-to":ce()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Me()}],"mask-repeat":[{mask:Fe()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:St()}],brightness:[{brightness:[Ve,ve,ye]}],contrast:[{contrast:[Ve,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",T,cf,lf]}],"drop-shadow-color":[{"drop-shadow":ce()}],grayscale:[{grayscale:["",Ve,ve,ye]}],"hue-rotate":[{"hue-rotate":[Ve,ve,ye]}],invert:[{invert:["",Ve,ve,ye]}],saturate:[{saturate:[Ve,ve,ye]}],sepia:[{sepia:["",Ve,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":St()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Ve,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",ve,ye]}],ease:[{ease:["linear","initial",ee,ve,ye]}],delay:[{delay:[Ve,ve,ye]}],animate:[{animate:["none",Z,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,ve,ye]}],"perspective-origin":[{"perspective-origin":Y()}],rotate:[{rotate:nt()}],"rotate-x":[{"rotate-x":nt()}],"rotate-y":[{"rotate-y":nt()}],"rotate-z":[{"rotate-z":nt()}],scale:[{scale:tr()}],"scale-x":[{"scale-x":tr()}],"scale-y":[{"scale-y":tr()}],"scale-z":[{"scale-z":tr()}],"scale-3d":["scale-3d"],skew:[{skew:qr()}],"skew-x":[{"skew-x":qr()}],"skew-y":[{"skew-y":qr()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:Y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Sr()}],"translate-x":[{"translate-x":Sr()}],"translate-y":[{"translate-y":Sr()}],"translate-z":[{"translate-z":Sr()}],"translate-none":["translate-none"],accent:[{accent:ce()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ce()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...ce()]}],"stroke-w":[{stroke:[Ve,Eu,$a,dy]}],stroke:[{stroke:["none",...ce()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},NO=lO(RO);function xn(...t){return NO(Fj(t))}const CO=(t,e)=>{let n=null,r=0,a=0;return t.map(o=>{const c=e(o);return a+=1,(n===null||c!==n)&&(r=a,n=c),{...o,rank:r}})},sn=Xi.forwardRef(({variant:t="primary",size:e="md",icon:n,iconPosition:r="left",loading:a=!1,className:o,children:c,disabled:h,...d},g)=>{const v="inline-flex items-center justify-center font-bold rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed",_={primary:"bg-primary text-white hover:bg-primary-hover focus:ring-primary/50 shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 hover:scale-105",secondary:"bg-surface-highlight text-text-main border-2 border-border hover:border-primary/50 hover:bg-surface-alt focus:ring-primary/30 shadow-lg hover:shadow-xl",success:"bg-success text-white hover:bg-success/90 focus:ring-success/50 shadow-lg shadow-success/20 hover:shadow-xl hover:shadow-success/30 hover:scale-105",warning:"bg-warning text-white hover:bg-warning/90 focus:ring-warning/50 shadow-lg shadow-warning/20 hover:shadow-xl hover:shadow-warning/30 hover:scale-105",error:"bg-error text-white hover:bg-error/90 focus:ring-error/50 shadow-lg shadow-error/20 hover:shadow-xl hover:shadow-error/30 hover:scale-105",ghost:"bg-transparent text-text-main hover:bg-surface-highlight border-2 border-transparent hover:border-border focus:ring-primary/30",premium:"bg-gradient-to-r from-primary to-primary-hover text-white hover:from-primary-hover hover:to-primary focus:ring-primary/50 shadow-2xl hover:shadow-3xl transform hover:scale-110"},E={sm:"px-3 py-2 text-sm gap-2 min-h-[2.25rem]",md:"px-4 py-3 text-base gap-2 min-h-[2.75rem]",lg:"px-6 py-4 text-lg gap-3 min-h-[3.25rem]",xl:"px-8 py-5 text-xl gap-3 min-h-[3.75rem]"},T={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6",xl:"h-7 w-7"},D=()=>p.jsx("div",{className:xn("animate-spin rounded-full border-2 border-current border-t-transparent",T[e])}),k=()=>{if(a)return p.jsx(D,{});if(!n)return null;if(Xi.isValidElement(n)){const M=n.props?.className||"";return Xi.cloneElement(n,{className:xn(T[e],M)})}return n};return p.jsxs("button",{ref:g,className:xn(v,_[t]??_.primary,E[e]??E.md,o),disabled:h||a,...d,children:[r==="left"&&k(),a?"Loading...":c,r==="right"&&k()]})});sn.displayName="Button";const DO=({children:t})=>{const[e,n]=V.useState(!1),r=ti(),a=[{name:"Home",href:"/",icon:_j},{name:"Standings",href:"/standings",icon:vr},{name:"Schedule",href:"/schedule",icon:uo},{name:"Format",href:"/format",icon:Ku},{name:"Admin",href:"/admin",icon:oj}];return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsxs("nav",{className:"relative bg-gradient-to-br from-primary/10 via-surface to-surface/80 text-text-main sticky top-0 z-50 rounded-3xl border border-primary/20 shadow-2xl mx-4 mt-4 mb-8 backdrop-blur-md",children:[p.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),p.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"}),p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsx("div",{className:"flex items-center",children:p.jsxs(Rt,{to:"/",className:"flex items-center space-x-3 group",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-warning rounded-full blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),p.jsx("div",{className:"relative w-10 h-10 bg-gradient-to-br from-primary to-warning rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-all duration-300",children:p.jsx(vr,{className:"h-6 w-6 text-white"})})]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-black text-xl tracking-tight bg-gradient-to-r from-primary to-warning bg-clip-text text-transparent group-hover:from-warning group-hover:to-primary transition-all duration-300",children:"Paddle Up"}),p.jsx("div",{className:"text-xs text-text-muted font-semibold tracking-wider uppercase",children:"Premier League"})]})]})}),p.jsx("div",{className:"hidden md:block",children:p.jsx("div",{className:"ml-10 flex items-baseline space-x-1",children:a.map(o=>{const c=o.icon,h=r.pathname===o.href;return p.jsxs(Rt,{to:o.href,className:xn("px-4 py-2 rounded-xl text-sm font-bold transition-all duration-300 flex items-center space-x-2 group relative overflow-hidden",h?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30 scale-105":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-105"),children:[p.jsx(c,{className:xn("h-4 w-4 transition-transform duration-300",h?"text-white":"group-hover:scale-110")}),p.jsx("span",{children:o.name}),h&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 to-warning/10 blur-xl -z-10"})]},o.name)})})}),p.jsx("div",{className:"md:hidden",children:p.jsxs(sn,{onClick:()=>n(!e),variant:"ghost",size:"sm",className:"relative overflow-hidden",children:[p.jsx("div",{className:"relative z-10",children:e?p.jsx(_S,{className:"h-6 w-6"}):p.jsx(wj,{className:"h-6 w-6"})}),e&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-warning/20 blur-sm"})]})})]})}),e&&p.jsx("div",{className:"md:hidden",children:p.jsx("div",{className:"px-2 pt-2 pb-3 space-y-2 sm:px-3 bg-gradient-to-br from-surface via-surface-alt to-surface border-t border-border/50 shadow-xl",children:a.map(o=>{const c=o.icon,h=r.pathname===o.href;return p.jsxs(Rt,{to:o.href,onClick:()=>n(!1),className:xn("block px-4 py-3 rounded-xl text-base font-bold flex items-center space-x-3 transition-all duration-300 group relative overflow-hidden",h?"bg-gradient-to-r from-primary to-primary-hover text-white shadow-lg shadow-primary/30":"text-text-muted hover:bg-surface-highlight hover:text-text-main hover:shadow-md hover:scale-[1.02]"),children:[p.jsx(c,{className:xn("h-5 w-5 transition-transform duration-300",h?"text-white":"group-hover:scale-110")}),p.jsx("span",{children:o.name}),h&&p.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:p.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]},o.name)})})})]}),p.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:p.jsxs("div",{className:"relative",children:[t,p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),p.jsxs("footer",{className:"relative overflow-hidden bg-gradient-to-br from-surface via-surface-alt to-surface text-text-muted py-12 mt-auto border-t border-border/50",children:[p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"text-center space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary/20 to-warning/20 rounded-full flex items-center justify-center",children:p.jsx(vr,{className:"h-5 w-5 text-primary"})}),p.jsx("span",{className:"font-black text-lg text-text-main",children:"Paddle Up Premier League"})]}),p.jsxs("div",{className:"flex items-center justify-center space-x-6 pt-6",children:[p.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-primary/10 rounded-xl border border-primary/20",children:[p.jsx(vr,{className:"h-4 w-4 text-primary"}),p.jsx("span",{className:"text-xs font-semibold text-primary",children:"Premier League"})]}),p.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-success/10 rounded-xl border border-success/20",children:[p.jsx(Ku,{className:"h-4 w-4 text-success"}),p.jsx("span",{className:"text-xs font-semibold text-success",children:"3.5+ DUPR"})]}),p.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-warning/10 rounded-xl border border-warning/20",children:[p.jsx(Rm,{className:"h-4 w-4 text-warning"}),p.jsx("span",{className:"text-xs font-semibold text-warning",children:"Elite Players"})]})]})]})}),p.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),p.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})]})},kO=()=>{};var oE={};const jS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},jO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},OS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,g=d?t[a+2]:0,v=o>>2,_=(o&3)<<4|h>>4;let E=(h&15)<<2|g>>6,T=g&63;d||(T=64,c||(E=64)),r.push(n[v],n[_],n[E],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||g==null||_==null)throw new OO;const E=o<<2|h>>4;if(r.push(E),g!==64){const T=h<<4&240|g>>2;if(r.push(T),_!==64){const D=g<<6&192|_;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PO=function(t){const e=jS(t);return OS.encodeByteArray(e,!0)},Kf=function(t){return PO(t).replace(/\./g,"")},PS=function(t){try{return OS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MO=()=>MS().__FIREBASE_DEFAULTS__,VO=()=>{if(typeof process>"u"||typeof oE>"u")return;const t=oE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PS(t[1]);return e&&JSON.parse(e)},Nm=()=>{try{return kO()||MO()||VO()||zO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VS=t=>Nm()?.emulatorHosts?.[t],LO=t=>{const e=VS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zS=()=>Nm()?.config,LS=t=>Nm()?.[`_${t}`];class UO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function oc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function US(t){return(await fetch(t,{credentials:"include"})).ok}function FO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kf(JSON.stringify(n)),Kf(JSON.stringify(c)),""].join(".")}const Pu={};function BO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pu))Pu[e]?t.emulator.push(e):t.prod.push(e);return t}function qO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lE=!1;function FS(t,e){if(typeof window>"u"||typeof document>"u"||!oc(window.location.host)||Pu[t]===e||Pu[t]||lE)return;Pu[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=BO().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,T){E.setAttribute("width","24"),E.setAttribute("id",T),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{lE=!0,c()},E}function v(E,T){E.setAttribute("id",T),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=qO(r),T=n("text"),D=document.getElementById(T)||document.createElement("span"),k=n("learnmore"),M=document.getElementById(k)||document.createElement("a"),ee=n("preprendIcon"),Z=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;h(B),v(M,k);const ie=g();d(Z,ee),B.append(Z,D,M,ie),document.body.appendChild(B)}o?(D.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $O(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function BS(){const t=Nm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QO(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qS(){return!BS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $S(){return!BS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function HS(){try{return typeof indexedDB=="object"}catch{return!1}}function ZO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const YO="FirebaseError";class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YO,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mh.prototype.create)}}class mh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?XO(o,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new ni(a,h,r)}}function XO(t,e){return t.replace(JO,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const JO=/\{\$([^}]+)}/g;function WO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ho(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],c=e[a];if(cE(o)&&cE(c)){if(!ho(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function cE(t){return t!==null&&typeof t=="object"}function ph(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eP(t,e){const n=new tP(t,e);return n.subscribe.bind(n)}class tP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=fy),a.error===void 0&&(a.error=fy),a.complete===void 0&&(a.complete=fy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fy(){}function En(t){return t&&t._delegate?t._delegate:t}class fo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ga="[DEFAULT]";class rP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iP(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sP(t){return t===Ga?void 0:t}function iP(t){return t.instantiationMode==="EAGER"}class aP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const oP={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},lP=$e.INFO,cP={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},uP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=cP[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jv{constructor(e){this.name=e,this._logLevel=lP,this._logHandler=uP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const hP=(t,e)=>e.some(n=>t instanceof n);let uE,hE;function dP(){return uE||(uE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fP(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GS=new WeakMap,Vy=new WeakMap,KS=new WeakMap,my=new WeakMap,Ov=new WeakMap;function mP(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Wi(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&GS.set(n,t)}).catch(()=>{}),Ov.set(e,t),e}function pP(t){if(Vy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Vy.set(t,e)}let zy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gP(t){zy=t(zy)}function yP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(py(this),e,...n);return KS.set(r,e.sort?e.sort():[e]),Wi(r)}:fP().includes(t)?function(...e){return t.apply(py(this),e),Wi(GS.get(this))}:function(...e){return Wi(t.apply(py(this),e))}}function vP(t){return typeof t=="function"?yP(t):(t instanceof IDBTransaction&&pP(t),hP(t,dP())?new Proxy(t,zy):t)}function Wi(t){if(t instanceof IDBRequest)return mP(t);if(my.has(t))return my.get(t);const e=vP(t);return e!==t&&(my.set(t,e),Ov.set(e,t)),e}const py=t=>Ov.get(t);function _P(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),h=Wi(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Wi(c.result),d.oldVersion,d.newVersion,Wi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const bP=["get","getKey","getAll","getAllKeys","count"],xP=["put","add","delete","clear"],gy=new Map;function dE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gy.get(e))return gy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=xP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||bP.includes(n)))return;const o=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let g=d.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),a&&d.done]))[0]};return gy.set(e,o),o}gP(t=>({...t,get:(e,n,r)=>dE(e,n)||t.get(e,n,r),has:(e,n)=>!!dE(e,n)||t.has(e,n)}));class wP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EP(t){return t.getComponent()?.type==="VERSION"}const Ly="@firebase/app",fE="0.14.6";const Ys=new jv("@firebase/app"),TP="@firebase/app-compat",SP="@firebase/analytics-compat",AP="@firebase/analytics",IP="@firebase/app-check-compat",RP="@firebase/app-check",NP="@firebase/auth",CP="@firebase/auth-compat",DP="@firebase/database",kP="@firebase/data-connect",jP="@firebase/database-compat",OP="@firebase/functions",PP="@firebase/functions-compat",MP="@firebase/installations",VP="@firebase/installations-compat",zP="@firebase/messaging",LP="@firebase/messaging-compat",UP="@firebase/performance",FP="@firebase/performance-compat",BP="@firebase/remote-config",qP="@firebase/remote-config-compat",$P="@firebase/storage",HP="@firebase/storage-compat",GP="@firebase/firestore",KP="@firebase/ai",QP="@firebase/firestore-compat",ZP="firebase",YP="12.6.0";const Uy="[DEFAULT]",XP={[Ly]:"fire-core",[TP]:"fire-core-compat",[AP]:"fire-analytics",[SP]:"fire-analytics-compat",[RP]:"fire-app-check",[IP]:"fire-app-check-compat",[NP]:"fire-auth",[CP]:"fire-auth-compat",[DP]:"fire-rtdb",[kP]:"fire-data-connect",[jP]:"fire-rtdb-compat",[OP]:"fire-fn",[PP]:"fire-fn-compat",[MP]:"fire-iid",[VP]:"fire-iid-compat",[zP]:"fire-fcm",[LP]:"fire-fcm-compat",[UP]:"fire-perf",[FP]:"fire-perf-compat",[BP]:"fire-rc",[qP]:"fire-rc-compat",[$P]:"fire-gcs",[HP]:"fire-gcs-compat",[GP]:"fire-fst",[QP]:"fire-fst-compat",[KP]:"fire-vertex","fire-js":"fire-js",[ZP]:"fire-js-all"};const Qu=new Map,JP=new Map,Fy=new Map;function mE(t,e){try{t.container.addComponent(e)}catch(n){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ul(t){const e=t.name;if(Fy.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;Fy.set(e,t);for(const n of Qu.values())mE(n,t);for(const n of JP.values())mE(n,t);return!0}function Pv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lr(t){return t==null?!1:t.settings!==void 0}const WP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new mh("app","Firebase",WP);class e4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}const lc=YP;function QS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Uy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw ea.create("bad-app-name",{appName:String(a)});if(n||(n=zS()),!n)throw ea.create("no-options");const o=Qu.get(a);if(o){if(ho(n,o.options)&&ho(r,o.config))return o;throw ea.create("duplicate-app",{appName:a})}const c=new aP(a);for(const d of Fy.values())c.addComponent(d);const h=new e4(n,r,c);return Qu.set(a,h),h}function ZS(t=Uy){const e=Qu.get(t);if(!e&&t===Uy&&zS())return QS();if(!e)throw ea.create("no-app",{appName:t});return e}function pE(){return Array.from(Qu.values())}function ta(t,e,n){let r=XP[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ys.warn(c.join(" "));return}Ul(new fo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const t4="firebase-heartbeat-database",n4=1,Zu="firebase-heartbeat-store";let yy=null;function YS(){return yy||(yy=_P(t4,n4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ea.create("idb-open",{originalErrorMessage:t.message})})),yy}async function r4(t){try{const n=(await YS()).transaction(Zu),r=await n.objectStore(Zu).get(XS(t));return await n.done,r}catch(e){if(e instanceof ni)Ys.warn(e.message);else{const n=ea.create("idb-get",{originalErrorMessage:e?.message});Ys.warn(n.message)}}}async function gE(t,e){try{const r=(await YS()).transaction(Zu,"readwrite");await r.objectStore(Zu).put(e,XS(t)),await r.done}catch(n){if(n instanceof ni)Ys.warn(n.message);else{const r=ea.create("idb-set",{originalErrorMessage:n?.message});Ys.warn(r.message)}}}function XS(t){return`${t.name}!${t.options.appId}`}const s4=1024,i4=30;class a4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>i4){const a=c4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yE(),{heartbeatsToSend:n,unsentEntries:r}=o4(this._heartbeatsCache.heartbeats),a=Kf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ys.warn(e),""}}}function yE(){return new Date().toISOString().substring(0,10)}function o4(t,e=s4){const n=[];let r=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),vE(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),vE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class l4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HS()?ZO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vE(t){return Kf(JSON.stringify({version:2,heartbeats:t})).length}function c4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function u4(t){Ul(new fo("platform-logger",e=>new wP(e),"PRIVATE")),Ul(new fo("heartbeat",e=>new a4(e),"PRIVATE")),ta(Ly,fE,t),ta(Ly,fE,"esm2020"),ta("fire-js","")}u4("");var _E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var na,JS;(function(){var t;function e(R,A){function C(){}C.prototype=A.prototype,R.F=A.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(z,P,U){for(var j=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)j[Ge-2]=arguments[Ge];return A.prototype[P].apply(z,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,A,C){C||(C=0);const z=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)z[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;P<16;++P)z[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=R.g[0],C=R.g[1],P=R.g[2];let U=R.g[3],j;j=A+(U^C&(P^U))+z[0]+3614090360&4294967295,A=C+(j<<7&4294967295|j>>>25),j=U+(P^A&(C^P))+z[1]+3905402710&4294967295,U=A+(j<<12&4294967295|j>>>20),j=P+(C^U&(A^C))+z[2]+606105819&4294967295,P=U+(j<<17&4294967295|j>>>15),j=C+(A^P&(U^A))+z[3]+3250441966&4294967295,C=P+(j<<22&4294967295|j>>>10),j=A+(U^C&(P^U))+z[4]+4118548399&4294967295,A=C+(j<<7&4294967295|j>>>25),j=U+(P^A&(C^P))+z[5]+1200080426&4294967295,U=A+(j<<12&4294967295|j>>>20),j=P+(C^U&(A^C))+z[6]+2821735955&4294967295,P=U+(j<<17&4294967295|j>>>15),j=C+(A^P&(U^A))+z[7]+4249261313&4294967295,C=P+(j<<22&4294967295|j>>>10),j=A+(U^C&(P^U))+z[8]+1770035416&4294967295,A=C+(j<<7&4294967295|j>>>25),j=U+(P^A&(C^P))+z[9]+2336552879&4294967295,U=A+(j<<12&4294967295|j>>>20),j=P+(C^U&(A^C))+z[10]+4294925233&4294967295,P=U+(j<<17&4294967295|j>>>15),j=C+(A^P&(U^A))+z[11]+2304563134&4294967295,C=P+(j<<22&4294967295|j>>>10),j=A+(U^C&(P^U))+z[12]+1804603682&4294967295,A=C+(j<<7&4294967295|j>>>25),j=U+(P^A&(C^P))+z[13]+4254626195&4294967295,U=A+(j<<12&4294967295|j>>>20),j=P+(C^U&(A^C))+z[14]+2792965006&4294967295,P=U+(j<<17&4294967295|j>>>15),j=C+(A^P&(U^A))+z[15]+1236535329&4294967295,C=P+(j<<22&4294967295|j>>>10),j=A+(P^U&(C^P))+z[1]+4129170786&4294967295,A=C+(j<<5&4294967295|j>>>27),j=U+(C^P&(A^C))+z[6]+3225465664&4294967295,U=A+(j<<9&4294967295|j>>>23),j=P+(A^C&(U^A))+z[11]+643717713&4294967295,P=U+(j<<14&4294967295|j>>>18),j=C+(U^A&(P^U))+z[0]+3921069994&4294967295,C=P+(j<<20&4294967295|j>>>12),j=A+(P^U&(C^P))+z[5]+3593408605&4294967295,A=C+(j<<5&4294967295|j>>>27),j=U+(C^P&(A^C))+z[10]+38016083&4294967295,U=A+(j<<9&4294967295|j>>>23),j=P+(A^C&(U^A))+z[15]+3634488961&4294967295,P=U+(j<<14&4294967295|j>>>18),j=C+(U^A&(P^U))+z[4]+3889429448&4294967295,C=P+(j<<20&4294967295|j>>>12),j=A+(P^U&(C^P))+z[9]+568446438&4294967295,A=C+(j<<5&4294967295|j>>>27),j=U+(C^P&(A^C))+z[14]+3275163606&4294967295,U=A+(j<<9&4294967295|j>>>23),j=P+(A^C&(U^A))+z[3]+4107603335&4294967295,P=U+(j<<14&4294967295|j>>>18),j=C+(U^A&(P^U))+z[8]+1163531501&4294967295,C=P+(j<<20&4294967295|j>>>12),j=A+(P^U&(C^P))+z[13]+2850285829&4294967295,A=C+(j<<5&4294967295|j>>>27),j=U+(C^P&(A^C))+z[2]+4243563512&4294967295,U=A+(j<<9&4294967295|j>>>23),j=P+(A^C&(U^A))+z[7]+1735328473&4294967295,P=U+(j<<14&4294967295|j>>>18),j=C+(U^A&(P^U))+z[12]+2368359562&4294967295,C=P+(j<<20&4294967295|j>>>12),j=A+(C^P^U)+z[5]+4294588738&4294967295,A=C+(j<<4&4294967295|j>>>28),j=U+(A^C^P)+z[8]+2272392833&4294967295,U=A+(j<<11&4294967295|j>>>21),j=P+(U^A^C)+z[11]+1839030562&4294967295,P=U+(j<<16&4294967295|j>>>16),j=C+(P^U^A)+z[14]+4259657740&4294967295,C=P+(j<<23&4294967295|j>>>9),j=A+(C^P^U)+z[1]+2763975236&4294967295,A=C+(j<<4&4294967295|j>>>28),j=U+(A^C^P)+z[4]+1272893353&4294967295,U=A+(j<<11&4294967295|j>>>21),j=P+(U^A^C)+z[7]+4139469664&4294967295,P=U+(j<<16&4294967295|j>>>16),j=C+(P^U^A)+z[10]+3200236656&4294967295,C=P+(j<<23&4294967295|j>>>9),j=A+(C^P^U)+z[13]+681279174&4294967295,A=C+(j<<4&4294967295|j>>>28),j=U+(A^C^P)+z[0]+3936430074&4294967295,U=A+(j<<11&4294967295|j>>>21),j=P+(U^A^C)+z[3]+3572445317&4294967295,P=U+(j<<16&4294967295|j>>>16),j=C+(P^U^A)+z[6]+76029189&4294967295,C=P+(j<<23&4294967295|j>>>9),j=A+(C^P^U)+z[9]+3654602809&4294967295,A=C+(j<<4&4294967295|j>>>28),j=U+(A^C^P)+z[12]+3873151461&4294967295,U=A+(j<<11&4294967295|j>>>21),j=P+(U^A^C)+z[15]+530742520&4294967295,P=U+(j<<16&4294967295|j>>>16),j=C+(P^U^A)+z[2]+3299628645&4294967295,C=P+(j<<23&4294967295|j>>>9),j=A+(P^(C|~U))+z[0]+4096336452&4294967295,A=C+(j<<6&4294967295|j>>>26),j=U+(C^(A|~P))+z[7]+1126891415&4294967295,U=A+(j<<10&4294967295|j>>>22),j=P+(A^(U|~C))+z[14]+2878612391&4294967295,P=U+(j<<15&4294967295|j>>>17),j=C+(U^(P|~A))+z[5]+4237533241&4294967295,C=P+(j<<21&4294967295|j>>>11),j=A+(P^(C|~U))+z[12]+1700485571&4294967295,A=C+(j<<6&4294967295|j>>>26),j=U+(C^(A|~P))+z[3]+2399980690&4294967295,U=A+(j<<10&4294967295|j>>>22),j=P+(A^(U|~C))+z[10]+4293915773&4294967295,P=U+(j<<15&4294967295|j>>>17),j=C+(U^(P|~A))+z[1]+2240044497&4294967295,C=P+(j<<21&4294967295|j>>>11),j=A+(P^(C|~U))+z[8]+1873313359&4294967295,A=C+(j<<6&4294967295|j>>>26),j=U+(C^(A|~P))+z[15]+4264355552&4294967295,U=A+(j<<10&4294967295|j>>>22),j=P+(A^(U|~C))+z[6]+2734768916&4294967295,P=U+(j<<15&4294967295|j>>>17),j=C+(U^(P|~A))+z[13]+1309151649&4294967295,C=P+(j<<21&4294967295|j>>>11),j=A+(P^(C|~U))+z[4]+4149444226&4294967295,A=C+(j<<6&4294967295|j>>>26),j=U+(C^(A|~P))+z[11]+3174756917&4294967295,U=A+(j<<10&4294967295|j>>>22),j=P+(A^(U|~C))+z[2]+718787259&4294967295,P=U+(j<<15&4294967295|j>>>17),j=C+(U^(P|~A))+z[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(P+(j<<21&4294967295|j>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const C=A-this.blockSize,z=this.C;let P=this.h,U=0;for(;U<A;){if(P==0)for(;U<=C;)a(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<A;)if(z[P++]=R.charCodeAt(U++),P==this.blockSize){a(this,z),P=0;break}}else for(;U<A;)if(z[P++]=R[U++],P==this.blockSize){a(this,z),P=0;break}}this.h=P,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,C=0;C<4;++C)for(let z=0;z<32;z+=8)R[A++]=this.g[C]>>>z&255;return R};function o(R,A){var C=h;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=A(R)}function c(R,A){this.h=A;const C=[];let z=!0;for(let P=R.length-1;P>=0;P--){const U=R[P]|0;z&&U==A||(C[P]=U,z=!1)}this.g=C}var h={};function d(R){return-128<=R&&R<128?o(R,function(A){return new c([A|0],A<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return M(g(-R));const A=[];let C=1;for(let z=0;R>=C;z++)A[z]=R/C|0,C*=4294967296;return new c(A,0)}function v(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return M(v(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(A,8));let z=_;for(let U=0;U<R.length;U+=8){var P=Math.min(8,R.length-U);const j=parseInt(R.substring(U,U+P),A);P<8?(P=g(Math.pow(A,P)),z=z.j(P).add(g(j))):(z=z.j(C),z=z.add(g(j)))}return z}var _=d(0),E=d(1),T=d(16777216);t=c.prototype,t.m=function(){if(k(this))return-M(this).m();let R=0,A=1;for(let C=0;C<this.g.length;C++){const z=this.i(C);R+=(z>=0?z:4294967296+z)*A,A*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(k(this))return"-"+M(this).toString(R);const A=g(Math.pow(R,6));var C=this;let z="";for(;;){const P=ie(C,A).g;C=ee(C,P.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=P,D(C))return U+z;for(;U.length<6;)U="0"+U;z=U+z}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function k(R){return R.h==-1}t.l=function(R){return R=ee(this,R),k(R)?-1:D(R)?0:1};function M(R){const A=R.g.length,C=[];for(let z=0;z<A;z++)C[z]=~R.g[z];return new c(C,~R.h).add(E)}t.abs=function(){return k(this)?M(this):this},t.add=function(R){const A=Math.max(this.g.length,R.g.length),C=[];let z=0;for(let P=0;P<=A;P++){let U=z+(this.i(P)&65535)+(R.i(P)&65535),j=(U>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);z=j>>>16,U&=65535,j&=65535,C[P]=j<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function ee(R,A){return R.add(M(A))}t.j=function(R){if(D(this)||D(R))return _;if(k(this))return k(R)?M(this).j(M(R)):M(M(this).j(R));if(k(R))return M(this.j(M(R)));if(this.l(T)<0&&R.l(T)<0)return g(this.m()*R.m());const A=this.g.length+R.g.length,C=[];for(var z=0;z<2*A;z++)C[z]=0;for(z=0;z<this.g.length;z++)for(let P=0;P<R.g.length;P++){const U=this.i(z)>>>16,j=this.i(z)&65535,Ge=R.i(P)>>>16,Ze=R.i(P)&65535;C[2*z+2*P]+=j*Ze,Z(C,2*z+2*P),C[2*z+2*P+1]+=U*Ze,Z(C,2*z+2*P+1),C[2*z+2*P+1]+=j*Ge,Z(C,2*z+2*P+1),C[2*z+2*P+2]+=U*Ge,Z(C,2*z+2*P+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new c(C,0)};function Z(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function B(R,A){this.g=R,this.h=A}function ie(R,A){if(D(A))throw Error("division by zero");if(D(R))return new B(_,_);if(k(R))return A=ie(M(R),A),new B(M(A.g),M(A.h));if(k(A))return A=ie(R,M(A)),new B(M(A.g),A.h);if(R.g.length>30){if(k(R)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var C=E,z=A;z.l(R)<=0;)C=Y(C),z=Y(z);var P=le(C,1),U=le(z,1);for(z=le(z,2),C=le(C,2);!D(z);){var j=U.add(z);j.l(R)<=0&&(P=P.add(C),U=j),z=le(z,1),C=le(C,1)}return A=ee(R,P.j(A)),new B(P,A)}for(P=_;R.l(A)>=0;){for(C=Math.max(1,Math.floor(R.m()/A.m())),z=Math.ceil(Math.log(C)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),U=g(C),j=U.j(A);k(j)||j.l(R)>0;)C-=z,U=g(C),j=U.j(A);D(U)&&(U=E),P=P.add(U),R=ee(R,j)}return new B(P,R)}t.B=function(R){return ie(this,R).h},t.and=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let z=0;z<A;z++)C[z]=this.i(z)&R.i(z);return new c(C,this.h&R.h)},t.or=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let z=0;z<A;z++)C[z]=this.i(z)|R.i(z);return new c(C,this.h|R.h)},t.xor=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let z=0;z<A;z++)C[z]=this.i(z)^R.i(z);return new c(C,this.h^R.h)};function Y(R){const A=R.g.length+1,C=[];for(let z=0;z<A;z++)C[z]=R.i(z)<<1|R.i(z-1)>>>31;return new c(C,R.h)}function le(R,A){const C=A>>5;A%=32;const z=R.g.length-C,P=[];for(let U=0;U<z;U++)P[U]=A>0?R.i(U+C)>>>A|R.i(U+C+1)<<32-A:R.i(U+C);return new c(P,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,JS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,na=c}).apply(typeof _E<"u"?_E:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var WS,Nu,eA,Tf,By,tA,nA,rA;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var b=0;b<f.length;++b){var w=f[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function a(f,b){if(b)e:{var w=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var $=f[I];if(!($ in w))break e;w=w[$]}f=f[f.length-1],I=w[f],b=b(I),b!=I&&b!=null&&e(w,f,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(b){var w=[],I;for(I in b)Object.prototype.hasOwnProperty.call(b,I)&&w.push([I,b[I]]);return w}});var o=o||{},c=this||self;function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function d(f,b,w){return f.call.apply(f.bind,arguments)}function g(f,b,w){return g=d,g.apply(null,arguments)}function v(f,b){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function _(f,b){function w(){}w.prototype=b.prototype,f.Z=b.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(I,$,X){for(var me=Array(arguments.length-2),je=2;je<arguments.length;je++)me[je-2]=arguments[je];return b.prototype[$].apply(I,me)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function T(f){const b=f.length;if(b>0){const w=Array(b);for(let I=0;I<b;I++)w[I]=f[I];return w}return[]}function D(f,b){for(let I=1;I<arguments.length;I++){const $=arguments[I];var w=typeof $;if(w=w!="object"?w:$?Array.isArray($)?"array":w:"null",w=="array"||w=="object"&&typeof $.length=="number"){w=f.length||0;const X=$.length||0;f.length=w+X;for(let me=0;me<X;me++)f[w+me]=$[me]}else f.push($)}}class k{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(f){c.setTimeout(()=>{throw f},0)}function ee(){var f=R;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class Z{constructor(){this.h=this.g=null}add(b,w){const I=B.get();I.set(b,w),this.h?this.h.next=I:this.g=I,this.h=I}}var B=new k(()=>new ie,f=>f.reset());class ie{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,le=!1,R=new Z,A=()=>{const f=Promise.resolve(void 0);Y=()=>{f.then(C)}};function C(){for(var f;f=ee();){try{f.h.call(f.g)}catch(w){M(w)}var b=B;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}le=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};c.addEventListener("test",w,b),c.removeEventListener("test",w,b)}catch{}return f})();function j(f){return/^[\s\xa0]*$/.test(f)}function Ge(f,b){P.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}_(Ge,P),Ge.prototype.init=function(f,b){const w=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(w=="mouseover"?b=f.fromElement:w=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),J=0;function de(f,b,w,I,$){this.listener=f,this.proxy=null,this.src=b,this.type=w,this.capture=!!I,this.ha=$,this.key=++J,this.da=this.fa=!1}function ce(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f,b,w){for(const I in f)b.call(w,f[I],I,f)}function Fe(f,b){for(const w in f)b.call(void 0,f[w],w,f)}function N(f){const b={};for(const w in f)b[w]=f[w];return b}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(f,b){let w,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(w in I)f[w]=I[w];for(let X=0;X<H.length;X++)w=H[X],Object.prototype.hasOwnProperty.call(I,w)&&(f[w]=I[w])}}function ue(f){this.src=f,this.g={},this.h=0}ue.prototype.add=function(f,b,w,I,$){const X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);const me=Re(f,b,I,$);return me>-1?(b=f[me],w||(b.fa=!1)):(b=new de(b,this.src,X,!!I,$),b.fa=w,f.push(b)),b};function Ee(f,b){const w=b.type;if(w in f.g){var I=f.g[w],$=Array.prototype.indexOf.call(I,b,void 0),X;(X=$>=0)&&Array.prototype.splice.call(I,$,1),X&&(ce(b),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Re(f,b,w,I){for(let $=0;$<f.length;++$){const X=f[$];if(!X.da&&X.listener==b&&X.capture==!!w&&X.ha==I)return $}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),St={};function nt(f,b,w,I,$){if(Array.isArray(b)){for(let X=0;X<b.length;X++)nt(f,b[X],w,I,$);return null}return w=vc(w),f&&f[Ze]?f.J(b,w,h(I)?!!I.capture:!1,$):tr(f,b,w,!1,I,$)}function tr(f,b,w,I,$,X){if(!b)throw Error("Invalid event type");const me=h($)?!!$.capture:!!$;let je=ma(f);if(je||(f[xe]=je=new ue(f)),w=je.add(b,w,I,me,X),w.proxy)return w;if(I=qr(),w.proxy=I,I.src=f,I.listener=w,f.addEventListener)U||($=me),$===void 0&&($=!1),f.addEventListener(b.toString(),I,$);else if(f.attachEvent)f.attachEvent($r(b.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function qr(){function f(w){return b.call(f.src,f.listener,w)}const b=gc;return f}function Sr(f,b,w,I,$){if(Array.isArray(b))for(var X=0;X<b.length;X++)Sr(f,b[X],w,I,$);else I=h(I)?!!I.capture:!!I,w=vc(w),f&&f[Ze]?(f=f.i,X=String(b).toString(),X in f.g&&(b=f.g[X],w=Re(b,w,I,$),w>-1&&(ce(b[w]),Array.prototype.splice.call(b,w,1),b.length==0&&(delete f.g[X],f.h--)))):f&&(f=ma(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Re(b,w,I,$)),(w=f>-1?b[f]:null)&&ko(w))}function ko(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ze])Ee(b.i,f);else{var w=f.type,I=f.proxy;b.removeEventListener?b.removeEventListener(w,I,f.capture):b.detachEvent?b.detachEvent($r(w),I):b.addListener&&b.removeListener&&b.removeListener(I),(w=ma(b))?(Ee(w,f),w.h==0&&(w.src=null,b[xe]=null)):ce(f)}}}function $r(f){return f in St?St[f]:St[f]="on"+f}function gc(f,b){if(f.da)f=!0;else{b=new Ge(b,this);const w=f.listener,I=f.ha||f.src;f.fa&&ko(f),f=w.call(I,b)}return f}function ma(f){return f=f[xe],f instanceof ue?f:null}var yc="__closure_events_fn_"+(Math.random()*1e9>>>0);function vc(f){return typeof f=="function"?f:(f[yc]||(f[yc]=function(b){return f.handleEvent(b)}),f[yc])}function Vt(){z.call(this),this.i=new ue(this),this.M=this,this.G=null}_(Vt,z),Vt.prototype[Ze]=!0,Vt.prototype.removeEventListener=function(f,b,w,I){Sr(this,f,b,w,I)};function Zt(f,b){var w,I=f.G;if(I)for(w=[];I;I=I.G)w.push(I);if(f=f.M,I=b.type||b,typeof b=="string")b=new P(b,f);else if(b instanceof P)b.target=b.target||f;else{var $=b;b=new P(I,f),se(b,$)}$=!0;let X,me;if(w)for(me=w.length-1;me>=0;me--)X=b.g=w[me],$=ai(X,I,!0,b)&&$;if(X=b.g=f,$=ai(X,I,!0,b)&&$,$=ai(X,I,!1,b)&&$,w)for(me=0;me<w.length;me++)X=b.g=w[me],$=ai(X,I,!1,b)&&$}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const w=f.g[b];for(let I=0;I<w.length;I++)ce(w[I]);delete f.g[b],f.h--}}this.G=null},Vt.prototype.J=function(f,b,w,I){return this.i.add(String(f),b,!1,w,I)},Vt.prototype.K=function(f,b,w,I){return this.i.add(String(f),b,!0,w,I)};function ai(f,b,w,I){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let $=!0;for(let X=0;X<b.length;++X){const me=b[X];if(me&&!me.da&&me.capture==w){const je=me.listener,jt=me.ha||me.src;me.fa&&Ee(f.i,me),$=je.call(jt,I)!==!1&&$}}return $&&!I.defaultPrevented}function sp(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(f,b||0)}function Ch(f){f.g=sp(()=>{f.g=null,f.i&&(f.i=!1,Ch(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Tn extends z{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Ch(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(f){z.call(this),this.h=f,this.g={}}_(pa,z);var _c=[];function bc(f){Me(f.g,function(b,w){this.g.hasOwnProperty(w)&&ko(b)},f),f.g={}}pa.prototype.N=function(){pa.Z.N.call(this),bc(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=c.JSON.stringify,ip=c.JSON.parse,Dh=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function kh(){}function jh(){}var Ar={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){P.call(this,"d")}_(ln,P);function nr(){P.call(this,"c")}_(nr,P);var kt={},Oh=null;function jo(){return Oh=Oh||new Vt}kt.Ia="serverreachability";function Ph(f){P.call(this,kt.Ia,f)}_(Ph,P);function Hr(f){const b=jo();Zt(b,new Ph(b))}kt.STAT_EVENT="statevent";function ga(f,b){P.call(this,kt.STAT_EVENT,f),this.stat=b}_(ga,P);function zt(f){const b=jo();Zt(b,new ga(b,f))}kt.Ja="timingevent";function Gr(f,b){P.call(this,kt.Ja,f),this.size=b}_(Gr,P);function Kr(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},b)}function Ir(){this.g=!0}Ir.prototype.ua=function(){this.g=!1};function ap(f,b,w,I,$,X){f.info(function(){if(f.g)if(X){var me="",je=X.split("&");for(let We=0;We<je.length;We++){var jt=je[We].split("=");if(jt.length>1){const yt=jt[0];jt=jt[1];const ar=yt.split("_");me=ar.length>=2&&ar[1]=="type"?me+(yt+"="+jt+"&"):me+(yt+"=redacted&")}}}else me=null;else me=X;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+b+`
`+w+`
`+me})}function Mh(f,b,w,I,$,X,me){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+b+`
`+w+`
`+X+" "+me})}function Qr(f,b,w,I){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+op(f,w)+(I?" "+I:"")})}function ya(f,b){f.info(function(){return"TIMEOUT: "+b})}Ir.prototype.info=function(){};function op(f,b){if(!f.g)return b;if(!b)return null;try{const X=JSON.parse(b);if(X){for(f=0;f<X.length;f++)if(Array.isArray(X[f])){var w=X[f];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var $=I[0];if($!="noop"&&$!="stop"&&$!="close")for(let me=1;me<I.length;me++)I[me]=""}}}}return oi(X)}catch{return b}}var va={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wc;function _a(){}_(_a,kh),_a.prototype.g=function(){return new XMLHttpRequest},wc=new _a;function ws(f){return encodeURIComponent(String(f))}function Vh(f){var b=1;f=f.split(":");const w=[];for(;b>0&&f.length;)w.push(f.shift()),b--;return f.length&&w.push(f.join(":")),w}function Rr(f,b,w,I){this.j=f,this.i=b,this.l=w,this.S=I||1,this.V=new pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Nr}function Nr(){this.i=null,this.g="",this.h=!1}var Lt={},tn={};function Zr(f,b,w){f.M=1,f.A=ba(Ft(b)),f.u=w,f.R=!0,Oo(f,null)}function Oo(f,b){f.F=Date.now(),Yr(f),f.B=Ft(f.A);var w=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),zo(w.i,"t",I),f.C=0,w=f.j.L,f.h=new Nr,f.g=Jh(f.j,w?b:null,!f.u),f.P>0&&(f.O=new Tn(g(f.Y,f,f.g),f.P)),b=f.V,w=f.g,I=f.ba;var $="readystatechange";Array.isArray($)||($&&(_c[0]=$.toString()),$=_c);for(let X=0;X<$.length;X++){const me=nt(w,$[X],I||b.handleEvent,!1,b.h||b);if(!me)break;b.g[me.key]=me}b=f.J?N(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),Hr(),ap(f.i,f.v,f.B,f.l,f.S,f.u)}Rr.prototype.ba=function(f){f=f.target;const b=this.O;b&&kr(f)==3?b.j():this.Y(f)},Rr.prototype.Y=function(f){try{if(f==this.g)e:{const je=kr(this.g),jt=this.g.ya(),We=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||je!=4||jt==7||(jt==8||We<=0?Hr(3):Hr(2)),Xr(this);var b=this.g.ca();this.X=b;var w=lp(this);if(this.o=b==200,Mh(this.i,this.v,this.B,this.l,this.S,je,b),this.o){if(this.U&&!this.L){t:{if(this.g){var I,$=this.g;if((I=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(I)){var X=I;break t}}X=null}if(f=X)Qr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Jr(this,f);else{this.o=!1,this.m=3,zt(12),Bn(this),rr(this);break e}}if(this.R){f=!0;let yt;for(;!this.K&&this.C<w.length;)if(yt=Lh(this,w),yt==tn){je==4&&(this.m=4,zt(14),f=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Lt){this.m=4,zt(15),Qr(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else Qr(this.i,this.l,yt,null),Jr(this,yt);if(zh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||w.length!=0||this.h.h||(this.m=1,zt(16),f=!1),this.o=this.o&&f,!f)Qr(this.i,this.l,w,"[Invalid Chunked Response]"),Bn(this),rr(this);else if(w.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Vc(me),me.P=!0,zt(11))}}else Qr(this.i,this.l,w,null),Jr(this,w);je==4&&Bn(this),this.o&&!this.K&&(je==4?Qh(this.j,this):(this.o=!1,Yr(this)))}else Ts(this.g),b==400&&w.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),Bn(this),rr(this)}}}catch{}};function lp(f){if(!zh(f))return f.g.la();const b=cn(f.g);if(b==="")return"";let w="";const I=b.length,$=kr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Bn(f),rr(f),"";f.h.i=new c.TextDecoder}for(let X=0;X<I;X++)f.h.h=!0,w+=f.h.i.decode(b[X],{stream:!($&&X==I-1)});return b.length=0,f.h.g+=w,f.C=0,f.h.g}function zh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Lh(f,b){var w=f.C,I=b.indexOf(`
`,w);return I==-1?tn:(w=Number(b.substring(w,I)),isNaN(w)?Lt:(I+=1,I+w>b.length?tn:(b=b.slice(I,I+w),f.C=I+w,b)))}Rr.prototype.cancel=function(){this.K=!0,Bn(this)};function Yr(f){f.T=Date.now()+f.H,Po(f,f.H)}function Po(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Kr(g(f.aa,f),b)}function Xr(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Rr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ya(this.i,this.B),this.M!=2&&(Hr(),zt(17)),Bn(this),this.m=2,rr(this)):Po(this,this.T-f)};function rr(f){f.j.I==0||f.K||Qh(f.j,f)}function Bn(f){Xr(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,bc(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Jr(f,b){try{var w=f.j;if(w.I!=0&&(w.g==f||es(w.h,f))){if(!f.L&&es(w.h,f)&&w.I==3){try{var I=w.Ba.g.parse(b)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)qo(w),pi(w);else break e;Ia(w),zt(18)}}else w.xa=$[1],0<w.xa-w.K&&$[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Kr(g(w.Va,w),6e3));Wr(w.h)<=1&&w.ta&&(w.ta=void 0)}else as(w,11)}else if((f.L||w.g==f)&&qo(w),!j(b))for($=w.Ba.g.parse(b),b=0;b<$.length;b++){let We=$[b];const yt=We[0];if(!(yt<=w.K))if(w.K=yt,We=We[1],w.I==2)if(We[0]=="c"){w.M=We[1],w.ba=We[2];const ar=We[3];ar!=null&&(w.ka=ar,w.j.info("VER="+w.ka));const os=We[4];os!=null&&(w.za=os,w.j.info("SVER="+w.za));const jr=We[5];jr!=null&&typeof jr=="number"&&jr>0&&(I=1.5*jr,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const Or=f.g;if(Or){const Ra=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var X=I.h;X.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Sc(X,X.h),X.h=null))}if(I.G){const $o=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(I.wa=$o,rt(I.J,I.G,$o))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var me=f;if(I.na=Xh(I,I.L?I.ba:null,I.W),me.L){Ac(I.h,me);var je=me,jt=I.O;jt&&(je.H=jt),je.D&&(Xr(je),Yr(je)),I.g=me}else Gh(I);w.i.length>0&&is(w)}else We[0]!="stop"&&We[0]!="close"||as(w,7);else w.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?as(w,7):Pc(w):We[0]!="noop"&&w.l&&w.l.qa(We),w.A=0)}}Hr(4)}catch{}}var Ut=class{constructor(f,b){this.g=f,this.map=b}};function Ec(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Wr(f){return f.h?1:f.g?f.g.size:0}function es(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Sc(f,b){f.g?f.g.add(b):f.h=b}function Ac(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Ec.prototype.cancel=function(){if(this.i=Ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ic(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const w of f.g.values())b=b.concat(w.G);return b}return T(f.i)}var Uh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mo(f,b){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const I=f[w].indexOf("=");let $,X=null;I>=0?($=f[w].substring(0,I),X=f[w].substring(I+1)):$=f[w],b($,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function qn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof qn?(this.l=f.l,nn(this,f.j),this.o=f.o,this.g=f.g,li(this,f.u),this.h=f.h,Rc(this,$h(f.i)),this.m=f.m):f&&(b=String(f).match(Uh))?(this.l=!1,nn(this,b[1]||"",!0),this.o=ts(b[2]||""),this.g=ts(b[3]||"",!0),li(this,b[4]),this.h=ts(b[5]||"",!0),Rc(this,b[6]||"",!0),this.m=ts(b[7]||"")):(this.l=!1,this.i=new ui(null,this.l))}qn.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(xa(b,Vo,!0),":");var w=this.g;return(w||b=="file")&&(f.push("//"),(b=this.o)&&f.push(xa(b,Vo,!0),"@"),f.push(ws(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(xa(w,w.charAt(0)=="/"?Nc:Fh,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",xa(w,Bh)),f.join("")},qn.prototype.resolve=function(f){const b=Ft(this);let w=!!f.j;w?nn(b,f.j):w=!!f.o,w?b.o=f.o:w=!!f.g,w?b.g=f.g:w=f.u!=null;var I=f.h;if(w)li(b,f.u);else if(w=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var $=b.h.lastIndexOf("/");$!=-1&&(I=b.h.slice(0,$+1)+I)}if($=I,$==".."||$==".")I="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){I=$.lastIndexOf("/",0)==0,$=$.split("/");const X=[];for(let me=0;me<$.length;){const je=$[me++];je=="."?I&&me==$.length&&X.push(""):je==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),I&&me==$.length&&X.push("")):(X.push(je),I=!0)}I=X.join("/")}else I=$}return w?b.h=I:w=f.i.toString()!=="",w?Rc(b,$h(f.i)):w=!!f.m,w&&(b.m=f.m),b};function Ft(f){return new qn(f)}function nn(f,b,w){f.j=w?ts(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function li(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Rc(f,b,w){b instanceof ui?(f.i=b,Lo(f.i,f.l)):(w||(b=xa(b,ci)),f.i=new ui(b,f.l))}function rt(f,b,w){f.i.set(b,w)}function ba(f){return rt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ts(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xa(f,b,w){return typeof f=="string"?(f=encodeURI(f).replace(b,jn),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function jn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Vo=/[#\/\?@]/g,Fh=/[#\?:]/g,Nc=/[#\?]/g,ci=/[#\?@]/g,Bh=/#/g;function ui(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function On(f){f.g||(f.g=new Map,f.h=0,f.i&&Mo(f.i,function(b,w){f.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}t=ui.prototype,t.add=function(f,b){On(this),this.i=null,f=hi(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(b),this.h+=1,this};function qh(f,b){On(f),b=hi(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Cc(f,b){return On(f),b=hi(f,b),f.g.has(b)}t.forEach=function(f,b){On(this),this.g.forEach(function(w,I){w.forEach(function($){f.call(b,$,I,this)},this)},this)};function Dc(f,b){On(f);let w=[];if(typeof b=="string")Cc(f,b)&&(w=w.concat(f.g.get(hi(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)w=w.concat(f[b]);return w}t.set=function(f,b){return On(this),this.i=null,f=hi(this,f),Cc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=Dc(this,f),f.length>0?String(f[0]):b):b};function zo(f,b,w){qh(f,b),w.length>0&&(f.i=null,f.g.set(hi(f,b),T(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let I=0;I<b.length;I++){var w=b[I];const $=ws(w);w=Dc(this,w);for(let X=0;X<w.length;X++){let me=$;w[X]!==""&&(me+="="+ws(w[X])),f.push(me)}}return this.i=f.join("&")};function $h(f){const b=new ui;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function hi(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Lo(f,b){b&&!f.j&&(On(f),f.i=null,f.g.forEach(function(w,I){const $=I.toLowerCase();I!=$&&(qh(this,I),zo(this,$,w))},f)),f.j=b}function Cr(f,b){const w=new Ir;if(c.Image){const I=new Image;I.onload=v(sr,w,"TestLoadImage: loaded",!0,b,I),I.onerror=v(sr,w,"TestLoadImage: error",!1,b,I),I.onabort=v(sr,w,"TestLoadImage: abort",!1,b,I),I.ontimeout=v(sr,w,"TestLoadImage: timeout",!1,b,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else b(!1)}function kc(f,b){const w=new Ir,I=new AbortController,$=setTimeout(()=>{I.abort(),sr(w,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:I.signal}).then(X=>{clearTimeout($),X.ok?sr(w,"TestPingServer: ok",!0,b):sr(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout($),sr(w,"TestPingServer: error",!1,b)})}function sr(f,b,w,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(w)}catch{}}function di(){this.g=new Dh}function ns(f){this.i=f.Sb||null,this.h=f.ab||!1}_(ns,kh),ns.prototype.g=function(){return new wa(this.i,this.h)};function wa(f,b){Vt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(wa,Vt),t=wa.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Dr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Dr(this)),this.g&&(this.readyState=3,Dr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Uo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Uo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?fi(this):Dr(this),this.readyState==3&&Uo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,fi(this))},t.Na=function(f){this.g&&(this.response=f,fi(this))},t.ga=function(){this.g&&fi(this)};function fi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Dr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=b.next();return f.join(`\r
`)};function Dr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ir(f){let b="";return Me(f,function(w,I){b+=I,b+=":",b+=w,b+=`\r
`}),b}function Ea(f,b,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=ir(w),typeof f=="string"?w!=null&&ws(w):rt(f,b,w))}function ut(f){Vt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ut,Vt);var rs=/^https?$/i,jc=["POST","PUT"];t=ut.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wc.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(X){Ta(this,X);return}if(f=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)w.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())w.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),$=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(jc,b,void 0)>=0)||I||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,me]of w)this.g.setRequestHeader(X,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(X){Ta(this,X)}};function Ta(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Oc(f),Es(f)}function Oc(f){f.A||(f.A=!0,Zt(f,"complete"),Zt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Zt(this,"complete"),Zt(this,"abort"),Es(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Es(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Sa(this):this.Xa())},t.Xa=function(){Sa(this)};function Sa(f){if(f.h&&typeof o<"u"){if(f.v&&kr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Zt(f,"readystatechange"),kr(f)==4){f.h=!1;try{const X=f.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var I;if(I=X===0){let me=String(f.D).match(Uh)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),I=!rs.test(me?me.toLowerCase():"")}w=I}if(w)Zt(f,"complete"),Zt(f,"success");else{f.o=6;try{var $=kr(f)>2?f.g.statusText:""}catch{$=""}f.l=$+" ["+f.ca()+"]",Oc(f)}}finally{Es(f)}}}}function Es(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,b||Zt(f,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function kr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return kr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),ip(b)}};function cn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ts(f){const b={};f=(f.g&&kr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(j(f[I]))continue;var w=Vh(f[I]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=b[$]||[];b[$]=X,X.push(w)}Fe(b,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(f,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||b}function mi(f){this.za=0,this.i=[],this.j=new Ir,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ss("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ss("baseRetryDelayMs",5e3,f),this.Za=ss("retryDelaySeedMs",1e4,f),this.Ta=ss("forwardChannelMaxRetries",2,f),this.va=ss("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ec(f&&f.concurrentRequestLimit),this.Ba=new di,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=mi.prototype,t.ka=8,t.I=1,t.connect=function(f,b,w,I){zt(0),this.W=f,this.H=b||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=Xh(this,null,this.W),is(this)};function Pc(f){if(Fo(f),f.I==3){var b=f.V++,w=Ft(f.J);if(rt(w,"SID",f.M),rt(w,"RID",b),rt(w,"TYPE","terminate"),Aa(f,w),b=new Rr(f,f.j,b),b.M=2,b.A=ba(Ft(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=b.A,w=!0),w||(b.g=Jh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Yr(b)}Yh(f)}function pi(f){f.g&&(Vc(f),f.g.cancel(),f.g=null)}function Fo(f){pi(f),f.v&&(c.clearTimeout(f.v),f.v=null),qo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function is(f){if(!Tc(f.h)&&!f.m){f.m=!0;var b=f.Ea;Y||A(),le||(Y(),le=!0),R.add(b,f),f.D=0}}function Bo(f,b){return Wr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Kr(g(f.Ea,f,b),Zh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const $=new Rr(this,this.j,f);let X=this.o;if(this.U&&(X?(X=N(X),se(X,this.U)):X=this.U),this.u!==null||this.R||($.J=X,X=null),this.S)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(b+=I,b>4096){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=Hh(this,$,b),w=Ft(this.J),rt(w,"RID",f),rt(w,"CVER",22),this.G&&rt(w,"X-HTTP-Session-Id",this.G),Aa(this,w),X&&(this.R?b="headers="+ws(ir(X))+"&"+b:this.u&&Ea(w,this.u,X)),Sc(this.h,$),this.Ra&&rt(w,"TYPE","init"),this.S?(rt(w,"$req",b),rt(w,"SID","null"),$.U=!0,Zr($,w,null)):Zr($,w,b),this.I=2}}else this.I==3&&(f?Mc(this,f):this.i.length==0||Tc(this.h)||Mc(this))};function Mc(f,b){var w;b?w=b.l:w=f.V++;const I=Ft(f.J);rt(I,"SID",f.M),rt(I,"RID",w),rt(I,"AID",f.K),Aa(f,I),f.u&&f.o&&Ea(I,f.u,f.o),w=new Rr(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),b&&(f.i=b.G.concat(f.i)),b=Hh(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Sc(f.h,w),Zr(w,I,b)}function Aa(f,b){f.H&&Me(f.H,function(w,I){rt(b,I,w)}),f.l&&Me({},function(w,I){rt(b,I,w)})}function Hh(f,b,w){w=Math.min(f.i.length,w);const I=f.l?g(f.l.Ka,f.l,f):null;e:{var $=f.i;let je=-1;for(;;){const jt=["count="+w];je==-1?w>0?(je=$[0].g,jt.push("ofs="+je)):je=0:jt.push("ofs="+je);let We=!0;for(let yt=0;yt<w;yt++){var X=$[yt].g;const ar=$[yt].map;if(X-=je,X<0)je=Math.max(0,$[yt].g-100),We=!1;else try{X="req"+X+"_"||"";try{var me=ar instanceof Map?ar:Object.entries(ar);for(const[os,jr]of me){let Or=jr;h(jr)&&(Or=oi(jr)),jt.push(X+os+"="+encodeURIComponent(Or))}}catch(os){throw jt.push(X+"type="+encodeURIComponent("_badmap")),os}}catch{I&&I(ar)}}if(We){me=jt.join("&");break e}}me=void 0}return f=f.i.splice(0,w),b.G=f,me}function Gh(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;Y||A(),le||(Y(),le=!0),R.add(b,f),f.A=0}}function Ia(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Kr(g(f.Da,f),Zh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Kh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Kr(g(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),pi(this),Kh(this))};function Vc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Kh(f){f.g=new Rr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Ft(f.na);rt(b,"RID","rpc"),rt(b,"SID",f.M),rt(b,"AID",f.K),rt(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&rt(b,"TO",f.ia),rt(b,"TYPE","xmlhttp"),Aa(f,b),f.u&&f.o&&Ea(b,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=ba(Ft(b)),w.u=null,w.R=!0,Oo(w,f)}t.Va=function(){this.C!=null&&(this.C=null,pi(this),Ia(this),zt(19))};function qo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Qh(f,b){var w=null;if(f.g==b){qo(f),Vc(f),f.g=null;var I=2}else if(es(f.h,b))w=b.G,Ac(f.h,b),I=1;else return;if(f.I!=0){if(b.o)if(I==1){w=b.u?b.u.length:0,b=Date.now()-b.F;var $=f.D;I=jo(),Zt(I,new Gr(I,w)),is(f)}else Gh(f);else if($=b.m,$==3||$==0&&b.X>0||!(I==1&&Bo(f,b)||I==2&&Ia(f)))switch(w&&w.length>0&&(b=f.h,b.i=b.i.concat(w)),$){case 1:as(f,5);break;case 4:as(f,10);break;case 3:as(f,6);break;default:as(f,2)}}}function Zh(f,b){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*b}function as(f,b){if(f.j.info("Error code "+b),b==2){var w=g(f.bb,f),I=f.Ua;const $=!I;I=new qn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||nn(I,"https"),ba(I),$?Cr(I.toString(),w):kc(I.toString(),w)}else zt(2);f.I=0,f.l&&f.l.pa(b),Yh(f),Fo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Yh(f){if(f.I=0,f.ja=[],f.l){const b=Ic(f.h);(b.length!=0||f.i.length!=0)&&(D(f.ja,b),D(f.ja,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.oa()}}function Xh(f,b,w){var I=w instanceof qn?Ft(w):new qn(w);if(I.g!="")b&&(I.g=b+"."+I.g),li(I,I.u);else{var $=c.location;I=$.protocol,b=b?b+"."+$.hostname:$.hostname,$=+$.port;const X=new qn(null);I&&nn(X,I),b&&(X.g=b),$&&li(X,$),w&&(X.h=w),I=X}return w=f.G,b=f.wa,w&&b&&rt(I,w,b),rt(I,"VER",f.ka),Aa(f,I),I}function Jh(f,b,w){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ut(new ns({ab:w})):new ut(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wh(){}t=Wh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function gi(){}gi.prototype.g=function(f,b){return new Sn(f,b)};function Sn(f,b){Vt.call(this),this.g=new mi(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!j(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!j(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Ss(this)}_(Sn,Vt),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Pc(this.g)},Sn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=oi(f),f=w);b.i.push(new Ut(b.Ya++,f)),b.I==3&&is(b)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Pc(this.g),delete this.g,Sn.Z.N.call(this)};function ed(f){ln.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const w in b){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}_(ed,ln);function td(){nr.call(this),this.status=1}_(td,nr);function Ss(f){this.g=f}_(Ss,Wh),Ss.prototype.ra=function(){Zt(this.g,"a")},Ss.prototype.qa=function(f){Zt(this.g,new ed(f))},Ss.prototype.pa=function(f){Zt(this.g,new td)},Ss.prototype.oa=function(){Zt(this.g,"b")},gi.prototype.createWebChannel=gi.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,rA=function(){return new gi},nA=function(){return jo()},tA=kt,By={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,Tf=va,xc.COMPLETE="complete",eA=xc,jh.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Nu=jh,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,WS=ut}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const bE="@firebase/firestore",xE="4.9.3";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let cc="12.7.0";const mo=new jv("@firebase/firestore");function Il(){return mo.logLevel}function he(t,...e){if(mo.logLevel<=$e.DEBUG){const n=e.map(Mv);mo.debug(`Firestore (${cc}): ${t}`,...n)}}function Nn(t,...e){if(mo.logLevel<=$e.ERROR){const n=e.map(Mv);mo.error(`Firestore (${cc}): ${t}`,...n)}}function po(t,...e){if(mo.logLevel<=$e.WARN){const n=e.map(Mv);mo.warn(`Firestore (${cc}): ${t}`,...n)}}function Mv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sA(t,r,n)}function sA(t,e,n){let r=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Nn(r),new Error(r)}function we(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||sA(e,a,r)}function De(t,e){return t}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ps{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class iA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class d4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class f4{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ps,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ps)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new iA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class m4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new m4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function y4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Vv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=y4(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function qy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return vy(a)===vy(o)?Ce(a,o):vy(a)?1:-1}return Ce(t.length,e.length)}const v4=55296,_4=57343;function vy(t){const e=t.charCodeAt(0);return e>=v4&&e<=_4}function Fl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}function aA(t){return t+"\0"}const EE="__name__";class ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=ds.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ce(e.length,n.length)}static compareSegments(e,n){const r=ds.isNumericId(e),a=ds.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ds.extractNumericId(e).compare(ds.extractNumericId(n)):qy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return na.fromString(e.substring(4,e.length-2))}}class Je extends ds{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const b4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends ds{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return b4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EE}static keyField(){return new wt([EE])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(o(),a++)}if(o(),c)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Je.fromString(e))}static fromName(e){return new pe(Je.fromString(e).popFirst(5))}static empty(){return new pe(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Je(e.slice()))}}function oA(t,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function x4(t,e,n,r){if(e===!0&&r===!0)throw new fe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TE(t){if(!pe.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SE(t){if(pe.isDocumentKey(t))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function Wn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cm(t);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function w4(t,e){if(e<=0)throw new fe(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function gh(t,e){if(!lA(t))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}const AE=-62135596800,IE=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*IE);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AE)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IE}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gh(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-AE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Kt("string",at._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new at(0,0))}static max(){return new Ae(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yu=-1;class Qf{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function $y(t){return t.fields.find((e=>e.kind===2))}function Ka(t){return t.fields.filter((e=>e.kind!==2))}Qf.UNKNOWN_ID=-1;class Sf{constructor(e,n){this.fieldPath=e,this.kind=n}}class Xu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Xu(0,er.min())}}function E4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new er(a,pe.empty(),e)}function cA(t){return new er(t.readTime,t.key,Yu)}class er{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new er(Ae.min(),pe.empty(),Yu)}static max(){return new er(Ae.max(),pe.empty(),Yu)}}function zv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}const uA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Io(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==uA)throw t;he("LocalStore","Unexpectedly lost primary lease")}class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):q.reject(n)}static resolve(e){return new q(((n,r)=>{n(e)}))}static reject(e){return new q(((n,r)=>{r(e)}))}static waitFor(e){return new q(((n,r)=>{let a=0,o=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&n()}),(d=>r(d)))})),c=!0,o===a&&n()}))}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next((a=>a?q.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new q(((r,a)=>{const o=e.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const g=d;n(e[g]).next((v=>{c[g]=v,++h,h===o&&r(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new q(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}const Xn="SimpleDb";class Dm{static open(e,n,r,a){try{return new Dm(n,e.transaction(a,r))}catch(o){throw new Mu(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ps,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Mu(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=Lv(r.target.error);this.S.reject(new Mu(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(he(Xn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new S4(n)}}class ra{static delete(e){return he(Xn,"Removing database:",e),Za(MS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!HS())return!1;if(ra.F())return!0;const e=Wt(),n=ra.M(e),r=0<n&&n<10,a=dA(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,ra.M(Wt())===12.2&&Nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(he(Xn,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const c=o.target.result;n(c)},a.onblocked=()=>{r(new Mu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const c=o.target.error;c.name==="VersionError"?r(new fe(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new fe(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Mu(e,c))},a.onupgradeneeded=o=>{he(Xn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,a.transaction,o.oldVersion,this.version).next((()=>{he(Xn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,a){const o=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const h=Dm.open(this.db,e,o?"readonly":"readwrite",r),d=a(h).next((g=>(h.C(),g))).catch((g=>(h.abort(g),q.reject(g)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,g=d.name!=="FirebaseError"&&c<3;if(he(Xn,"Transaction failed with error:",d.message,"Retrying:",g),this.close(),!g)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function dA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class T4{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Za(this.U.delete())}}class Mu extends fe{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ua(t){return t.name==="IndexedDbTransactionError"}class S4{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(he(Xn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(he(Xn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Za(r)}add(e){return he(Xn,"ADD",this.store.name,e,e),Za(this.store.add(e))}get(e){return Za(this.store.get(e)).next((n=>(n===void 0&&(n=null),he(Xn,"GET",this.store.name,e,n),n)))}delete(e){return he(Xn,"DELETE",this.store.name,e),Za(this.store.delete(e))}count(){return he(Xn,"COUNT",this.store.name),Za(this.store.count())}J(e,n){const r=this.options(e,n),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(r.range);return new q(((c,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{c(d.target.result)}}))}{const o=this.cursor(r),c=[];return this.H(o,((h,d)=>{c.push(d)})).next((()=>c))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new q(((a,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}Z(e,n){he(Xn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const a=this.cursor(r);return this.H(a,((o,c,h)=>h.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.H(a,n)}te(e){const n=this.cursor({});return new q(((r,a)=>{n.onerror=o=>{const c=Lv(o.target.error);a(c)},n.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((h=>{h?c.continue():r()})):r()}}))}H(e,n){const r=[];return new q(((a,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void a();const d=new T4(h),g=n(h.primaryKey,h.value,d);if(g instanceof q){const v=g.catch((_=>(d.done(),q.reject(_))));r.push(v)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Za(t){return new q(((e,n)=>{t.onsuccess=r=>{const a=r.target.result;e(a)},t.onerror=r=>{const a=Lv(r.target.error);n(a)}}))}let RE=!1;function Lv(t){const e=ra.M(Wt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RE||(RE=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Vu="IndexBackfiller";class A4{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){he(Vu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();he(Vu,`Documents written: ${n}`)}catch(n){ua(n)?he(Vu,"Ignoring IndexedDB error during index backfill: ",n):await Io(n)}await this.re(6e4)}))}}class I4{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let a=n,o=!0;return q.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return he(Vu,`Processing collection: ${c}`),this.oe(e,c,a).next((h=>{a-=h,r.add(c)}));o=!1})))).next((()=>n-a))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,o))).next((h=>(he(Vu,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,n,h)))).next((()=>c.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((a,o)=>{const c=cA(o);zv(c,r)>0&&(r=c)})),new er(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class _r{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_r.ce=-1;const no=-1;function km(t){return t==null}function Ju(t){return t===0&&1/t==-1/0}function R4(t){return typeof t=="number"&&Number.isInteger(t)&&!Ju(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Zf="";function wn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NE(e)),e=N4(t.get(n),e);return NE(e)}function N4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case Zf:n+="";break;default:n+=o}}return n}function NE(t){return t+Zf+""}function fs(t){const e=t.length;if(we(e>=2,64408,{path:t}),e===2)return we(t.charAt(0)===Zf&&t.charAt(1)==="",56145,{path:t}),Je.emptyPath();const n=e-2,r=[];let a="";for(let o=0;o<e;){const c=t.indexOf(Zf,o);switch((c<0||c>n)&&_e(50515,{path:t}),t.charAt(c+1)){case"":const h=t.substring(o,c);let d;a.length===0?d=h:(a+=h,d=a,a=""),r.push(d);break;case"":a+=t.substring(o,c),a+="\0";break;case"":a+=t.substring(o,c+1);break;default:_e(61167,{path:t})}o=c+2}return new Je(r)}const Qa="remoteDocuments",yh="owner",xl="owner",Wu="mutationQueues",C4="userId",zr="mutations",CE="batchId",eo="userMutationsIndex",DE=["userId","batchId"];function Af(t,e){return[t,wn(e)]}function fA(t,e,n){return[t,wn(e),n]}const D4={},Bl="documentMutations",Yf="remoteDocumentsV14",k4=["prefixPath","collectionGroup","readTime","documentId"],If="documentKeyIndex",j4=["prefixPath","collectionGroup","documentId"],mA="collectionGroupIndex",O4=["collectionGroup","readTime","prefixPath","documentId"],eh="remoteDocumentGlobal",Hy="remoteDocumentGlobalKey",ql="targets",pA="queryTargetsIndex",P4=["canonicalId","targetId"],$l="targetDocuments",M4=["targetId","path"],Uv="documentTargetsIndex",V4=["path","targetId"],Xf="targetGlobalKey",ro="targetGlobal",th="collectionParents",z4=["collectionId","parent"],Hl="clientMetadata",L4="clientId",jm="bundles",U4="bundleId",Om="namedQueries",F4="name",Fv="indexConfiguration",B4="indexId",Gy="collectionGroupIndex",q4="collectionGroup",zu="indexState",$4=["indexId","uid"],gA="sequenceNumberIndex",H4=["uid","sequenceNumber"],Lu="indexEntries",G4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yA="documentKeyIndex",K4=["indexId","uid","orderedDocumentKey"],Pm="documentOverlays",Q4=["userId","collectionPath","documentId"],Ky="collectionPathOverlayIndex",Z4=["userId","collectionPath","largestBatchId"],vA="collectionGroupOverlayIndex",Y4=["userId","collectionGroup","largestBatchId"],Bv="globals",X4="name",_A=[Wu,zr,Bl,Qa,ql,yh,ro,$l,Hl,eh,th,jm,Om],J4=[..._A,Pm],bA=[Wu,zr,Bl,Yf,ql,yh,ro,$l,Hl,eh,th,jm,Om,Pm],xA=bA,qv=[...xA,Fv,zu,Lu],W4=qv,wA=[...qv,Bv],eM=wA;class Qy extends hA{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function en(t,e){const n=De(t);return ra.O(n.le,e)}function kE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hf(this.root,e,this.comparator,!0)}}class hf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=a??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new pn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ct{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jE(this.data.getIterator())}getIteratorFrom(e){return new jE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class jE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wl(t){return t.hasNext()?t.getNext():void 0}class br{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new br([])}unionWith(e){let n=new ct(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class TA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new TA("Invalid base64 string: "+o):o}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const tM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(t){if(we(!!t,39018),typeof t=="string"){let e=0;const n=tM.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Js(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}const SA="server_timestamp",AA="__type__",IA="__previous_value__",RA="__local_write_time__";function Mm(t){return(t?.mapValue?.fields||{})[AA]?.stringValue===SA}function Vm(t){const e=t.mapValue.fields[IA];return Mm(e)?Vm(e):e}function nh(t){const e=Xs(t.mapValue.fields[RA].timestampValue);return new at(e.seconds,e.nanos)}class nM{constructor(e,n,r,a,o,c,h,d,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=g,this.isUsingEmulator=v}}const Jf="(default)";class go{constructor(e,n){this.projectId=e,this.database=n||Jf}static empty(){return new go("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof go&&e.projectId===this.projectId&&e.database===this.database}}const $v="__type__",NA="__max__",Zi={mapValue:{fields:{__type__:{stringValue:NA}}}},Hv="__vector__",Gl="value",Rf={nullValue:"NULL_VALUE"};function ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mm(t)?4:CA(t)?9007199254740991:zm(t)?10:11:_e(28295,{value:t})}function _s(t,e){if(t===e)return!0;const n=ia(t);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nh(t).isEqual(nh(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Xs(a.timestampValue),h=Xs(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Js(a.bytesValue).isEqual(Js(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return _t(a.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(a.geoPointValue.longitude)===_t(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return _t(a.integerValue)===_t(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=_t(a.doubleValue),h=_t(o.doubleValue);return c===h?Ju(c)===Ju(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],_s);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(kE(c)!==kE(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!_s(c[d],h[d])))return!1;return!0})(t,e);default:return _e(52216,{left:t})}}function rh(t,e){return(t.values||[]).find((n=>_s(n,e)))!==void 0}function aa(t,e){if(t===e)return 0;const n=ia(t),r=ia(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=_t(o.integerValue||o.doubleValue),d=_t(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return OE(t.timestampValue,e.timestampValue);case 4:return OE(nh(t),nh(e));case 5:return qy(t.stringValue,e.stringValue);case 6:return(function(o,c){const h=Js(o),d=Js(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let g=0;g<h.length&&g<d.length;g++){const v=Ce(h[g],d[g]);if(v!==0)return v}return Ce(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=Ce(_t(o.latitude),_t(c.latitude));return h!==0?h:Ce(_t(o.longitude),_t(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return PE(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},d=c.fields||{},g=h[Gl]?.arrayValue,v=d[Gl]?.arrayValue,_=Ce(g?.values?.length||0,v?.values?.length||0);return _!==0?_:PE(g,v)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Zi.mapValue&&c===Zi.mapValue)return 0;if(o===Zi.mapValue)return 1;if(c===Zi.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),g=c.fields||{},v=Object.keys(g);d.sort(),v.sort();for(let _=0;_<d.length&&_<v.length;++_){const E=qy(d[_],v[_]);if(E!==0)return E;const T=aa(h[d[_]],g[v[_]]);if(T!==0)return T}return Ce(d.length,v.length)})(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function OE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Xs(t),r=Xs(e),a=Ce(n.seconds,r.seconds);return a!==0?a:Ce(n.nanos,r.nanos)}function PE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=aa(n[a],r[a]);if(o)return o}return Ce(n.length,r.length)}function Kl(t){return Zy(t)}function Zy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Xs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Js(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Zy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Zy(n.fields[c])}`;return a+"}"})(t.mapValue):_e(61005,{value:t})}function Nf(t){switch(ia(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vm(t);return e?16+Nf(e):16;case 5:return 2*t.stringValue.length;case 6:return Js(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Nf(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Ro(r.fields,((o,c)=>{a+=o.length+Nf(c)})),a})(t.mapValue);default:throw _e(13486,{value:t})}}function yo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yy(t){return!!t&&"integerValue"in t}function sh(t){return!!t&&"arrayValue"in t}function ME(t){return!!t&&"nullValue"in t}function VE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cf(t){return!!t&&"mapValue"in t}function zm(t){return(t?.mapValue?.fields||{})[$v]?.stringValue===Hv}function Uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Uu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uu(t.arrayValue.values[n]);return e}return{...t}}function CA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NA}const DA={mapValue:{fields:{[$v]:{stringValue:Hv},[Gl]:{arrayValue:{}}}}};function rM(t){return"nullValue"in t?Rf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?yo(go.empty(),pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?zm(t)?DA:{mapValue:{}}:_e(35942,{value:t})}function sM(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?yo(go.empty(),pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?DA:"mapValue"in t?zm(t)?{mapValue:{}}:Zi:_e(61959,{value:t})}function zE(t,e){const n=aa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function LE(t,e){const n=aa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(n)}setAll(e){let n=wt.emptyPath(),r={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}c?r[h.lastSegment()]=Uu(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Cf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Ro(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Un(Uu(this.value))}}function kA(t){const e=[];return Ro(t.fields,((n,r)=>{const a=new wt([n]);if(Cf(r)){const o=kA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new br(e)}class Nt{constructor(e,n,r,a,o,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Nt(e,0,Ae.min(),Ae.min(),Ae.min(),Un.empty(),0)}static newFoundDocument(e,n,r,a){return new Nt(e,1,n,Ae.min(),r,a,0)}static newNoDocument(e,n){return new Nt(e,2,n,Ae.min(),Ae.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,Ae.min(),Ae.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oa{constructor(e,n){this.position=e,this.inclusive=n}}function UE(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(c.referenceValue),n.key):r=aa(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function FE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_s(t.position[n],e.position[n]))return!1;return!0}class Wf{constructor(e,n="asc"){this.field=e,this.dir=n}}function iM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class jA{}class He extends jA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aM(e,n,r):n==="array-contains"?new cM(e,r):n==="in"?new LA(e,r):n==="not-in"?new uM(e,r):n==="array-contains-any"?new hM(e,r):new He(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oM(e,r):new lM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(aa(n,this.value)):n!==null&&ia(this.value)===ia(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends jA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ot(e,n)}matches(e){return Ql(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ql(t){return t.op==="and"}function Xy(t){return t.op==="or"}function Gv(t){return OA(t)&&Ql(t)}function OA(t){for(const e of t.filters)if(e instanceof ot)return!1;return!0}function Jy(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+Kl(t.value);if(Gv(t))return t.filters.map((e=>Jy(e))).join(",");{const e=t.filters.map((n=>Jy(n))).join(",");return`${t.op}(${e})`}}function PA(t,e){return t instanceof He?(function(r,a){return a instanceof He&&r.op===a.op&&r.field.isEqual(a.field)&&_s(r.value,a.value)})(t,e):t instanceof ot?(function(r,a){return a instanceof ot&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,h)=>o&&PA(c,a.filters[h])),!0):!1})(t,e):void _e(19439)}function MA(t,e){const n=t.filters.concat(e);return ot.create(n,t.op)}function VA(t){return t instanceof He?(function(n){return`${n.field.canonicalString()} ${n.op} ${Kl(n.value)}`})(t):t instanceof ot?(function(n){return n.op.toString()+" {"+n.getFilters().map(VA).join(" ,")+"}"})(t):"Filter"}class aM extends He{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class oM extends He{constructor(e,n){super(e,"in",n),this.keys=zA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lM extends He{constructor(e,n){super(e,"not-in",n),this.keys=zA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function zA(t,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class cM extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sh(n)&&rh(n.arrayValue,this.value)}}class LA extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rh(this.value.arrayValue,n)}}class uM extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rh(this.value.arrayValue,n)}}class hM extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>rh(this.value.arrayValue,r)))}}class dM{constructor(e,n=null,r=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Wy(t,e=null,n=[],r=[],a=null,o=null,c=null){return new dM(t,e,n,r,a,o,c)}function vo(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Jy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),km(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Kl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Kl(r))).join(",")),e.Te=n}return e.Te}function vh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FE(t.startAt,e.startAt)&&FE(t.endAt,e.endAt)}function em(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function tm(t,e){return t.filters.filter((n=>n instanceof He&&n.field.isEqual(e)))}function BE(t,e,n){let r=Rf,a=!0;for(const o of tm(t,e)){let c=Rf,h=!0;switch(o.op){case"<":case"<=":c=rM(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=Rf}zE({value:r,inclusive:a},{value:c,inclusive:h})<0&&(r=c,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];zE({value:r,inclusive:a},{value:c,inclusive:n.inclusive})<0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}function qE(t,e,n){let r=Zi,a=!0;for(const o of tm(t,e)){let c=Zi,h=!0;switch(o.op){case">=":case">":c=sM(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=Zi}LE({value:r,inclusive:a},{value:c,inclusive:h})>0&&(r=c,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];LE({value:r,inclusive:a},{value:c,inclusive:n.inclusive})>0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}class uc{constructor(e,n=null,r=[],a=[],o=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fM(t,e,n,r,a,o,c,h){return new uc(t,e,n,r,a,o,c,h)}function _h(t){return new uc(t)}function $E(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kv(t){return t.collectionGroup!==null}function jl(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new ct(wt.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Wf(o,r))})),n.has(wt.keyField().canonicalString())||e.Ie.push(new Wf(wt.keyField(),r))}return e.Ie}function xr(t){const e=De(t);return e.Ee||(e.Ee=mM(e,jl(t))),e.Ee}function mM(t,e){if(t.limitType==="F")return Wy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Wf(a.field,o)}));const n=t.endAt?new oa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oa(t.startAt.position,t.startAt.inclusive):null;return Wy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ev(t,e){const n=t.filters.concat([e]);return new uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nm(t,e,n){return new uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lm(t,e){return vh(xr(t),xr(e))&&t.limitType===e.limitType}function UA(t){return`${vo(xr(t))}|lt:${t.limitType}`}function Rl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>VA(a))).join(", ")}]`),km(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Kl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Kl(a))).join(",")),`Target(${r})`})(xr(t))}; limitType=${t.limitType})`}function bh(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of jl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,h,d){const g=UE(c,h,d);return c.inclusive?g<=0:g<0})(r.startAt,jl(r),a)||r.endAt&&!(function(c,h,d){const g=UE(c,h,d);return c.inclusive?g>=0:g>0})(r.endAt,jl(r),a))})(t,e)}function pM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FA(t){return(e,n)=>{let r=!1;for(const a of jl(t)){const o=gM(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function gM(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):(function(o,c,h){const d=c.data.field(o),g=h.data.field(o);return d!==null&&g!==null?aa(d,g):_e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}class ri{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return EA(this.inner)}size(){return this.innerSize}}const yM=new bt(pe.comparator);function Jn(){return yM}const BA=new bt(pe.comparator);function Cu(...t){let e=BA;for(const n of t)e=e.insert(n.key,n);return e}function qA(t){let e=BA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ms(){return Fu()}function $A(){return Fu()}function Fu(){return new ri((t=>t.toString()),((t,e)=>t.isEqual(e)))}const vM=new bt(pe.comparator),_M=new ct(pe.comparator);function ze(...t){let e=_M;for(const n of t)e=e.add(n);return e}const bM=new ct(Ce);function xM(){return bM}function Qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(e)?"-0":e}}function HA(t){return{integerValue:""+t}}function wM(t,e){return R4(e)?HA(e):Qv(t,e)}class Um{constructor(){this._=void 0}}function EM(t,e,n){return t instanceof Zl?(function(a,o){const c={fields:{[AA]:{stringValue:SA},[RA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Mm(o)&&(o=Vm(o)),o&&(c.fields[IA]=o),{mapValue:c}})(n,e):t instanceof Yl?KA(t,e):t instanceof Xl?QA(t,e):(function(a,o){const c=GA(a,o),h=HE(c)+HE(a.Ae);return Yy(c)&&Yy(a.Ae)?HA(h):Qv(a.serializer,h)})(t,e)}function TM(t,e,n){return t instanceof Yl?KA(t,e):t instanceof Xl?QA(t,e):n}function GA(t,e){return t instanceof ih?(function(r){return Yy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Zl extends Um{}class Yl extends Um{constructor(e){super(),this.elements=e}}function KA(t,e){const n=ZA(e);for(const r of t.elements)n.some((a=>_s(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Xl extends Um{constructor(e){super(),this.elements=e}}function QA(t,e){let n=ZA(e);for(const r of t.elements)n=n.filter((a=>!_s(a,r)));return{arrayValue:{values:n}}}class ih extends Um{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function HE(t){return _t(t.integerValue||t.doubleValue)}function ZA(t){return sh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class YA{constructor(e,n){this.field=e,this.transform=n}}function SM(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Yl&&a instanceof Yl||r instanceof Xl&&a instanceof Xl?Fl(r.elements,a.elements,_s):r instanceof ih&&a instanceof ih?_s(r.Ae,a.Ae):r instanceof Zl&&a instanceof Zl})(t.transform,e.transform)}class AM{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fm{}function XA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bm(t.key,Dn.none()):new hc(t.key,t.data,Dn.none());{const n=t.data,r=Un.empty();let a=new ct(wt.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new ha(t.key,r,new br(a.toArray()),Dn.none())}}function IM(t,e,n){t instanceof hc?(function(a,o,c){const h=a.value.clone(),d=KE(a.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ha?(function(a,o,c){if(!Df(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=KE(a.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(JA(a)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Bu(t,e,n,r){return t instanceof hc?(function(o,c,h,d){if(!Df(o.precondition,c))return h;const g=o.value.clone(),v=QE(o.fieldTransforms,d,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,r):t instanceof ha?(function(o,c,h,d){if(!Df(o.precondition,c))return h;const g=QE(o.fieldTransforms,d,c),v=c.data;return v.setAll(JA(o)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(o,c,h){return Df(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function RM(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=GA(r.transform,a||null);o!=null&&(n===null&&(n=Un.empty()),n.set(r.field,o))}return n||null}function GE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Fl(r,a,((o,c)=>SM(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hc extends Fm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ha extends Fm{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function JA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function KE(t,e,n){const r=new Map;we(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,h=e.data.field(o.field);r.set(o.field,TM(c,h,n[a]))}return r}function QE(t,e,n){const r=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);r.set(a.field,EM(o,c,e))}return r}class Bm extends Fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WA extends Fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zv{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&IM(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$A();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=n.has(a.key)?null:h;const d=XA(c,h);d!==null&&r.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,((n,r)=>GE(n,r)))&&Fl(this.baseMutations,e.baseMutations,((n,r)=>GE(n,r)))}}class Yv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return vM})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new Yv(e,n,r,a)}}class Xv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class NM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Gt,Qe;function CM(t){switch(t){case te.OK:return _e(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function eI(t){if(t===void 0)return Nn("GRPC error has no .code"),te.UNKNOWN;switch(t){case Gt.OK:return te.OK;case Gt.CANCELLED:return te.CANCELLED;case Gt.UNKNOWN:return te.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return te.INTERNAL;case Gt.UNAVAILABLE:return te.UNAVAILABLE;case Gt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Gt.NOT_FOUND:return te.NOT_FOUND;case Gt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Gt.ABORTED:return te.ABORTED;case Gt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Gt.DATA_LOSS:return te.DATA_LOSS;default:return _e(39323,{code:t})}}(Qe=Gt||(Gt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function DM(){return new TextEncoder}const kM=new na([4294967295,4294967295],0);function ZE(t){const e=DM().encode(t),n=new JS;return n.update(e),new Uint8Array(n.digest())}function YE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new na([n,r],0),new na([a,o],0)]}class Jv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Du(`Invalid padding: ${n}`);if(r<0)throw new Du(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Du(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=na.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(na.fromNumber(r)));return a.compare(kM)===1&&(a=new na([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZE(e),[r,a]=YE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Jv(o,a,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=ZE(e),[r,a]=YE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qm{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,xh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qm(Ae.min(),a,new bt(Ce),Jn(),ze())}}class xh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xh(r,n,ze(),ze(),ze())}}class kf{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class tI{constructor(e,n){this.targetId=e,this.Ce=n}}class nI{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class XE{constructor(){this.ve=0,this.Fe=JE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),r=ze();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:_e(38017,{changeType:o})}})),new xh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=JE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jn(),this.Je=df(),this.He=df(),this.Ye=new bt(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(em(o))if(r===0){const c=new pe(o.path);this.et(n,c,Nt.newNoDocument(c,Ae.min()))}else we(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let c,h;try{c=Js(r).toUint8Array()}catch(d){if(d instanceof TA)return po("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Jv(c,a,o)}catch(d){return po(d instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&em(h.target)){const d=new pe(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,Nt.newNoDocument(d,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let r=ze();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const g=this.ot(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new qm(e,n,this.Ye,this.je,r);return this.je=Jn(),this.Je=df(),this.He=df(),this.Ye=new bt(Ce),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new XE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ct(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ct(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function df(){return new bt(pe.comparator)}function JE(){return new bt(pe.comparator)}const OM={asc:"ASCENDING",desc:"DESCENDING"},PM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MM={and:"AND",or:"OR"};class VM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tv(t,e){return t.useProto3Json||km(e)?e:{value:e}}function Jl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zM(t,e){return Jl(t,e.toTimestamp())}function kn(t){return we(!!t,49232),Ae.fromTimestamp((function(n){const r=Xs(n);return new at(r.seconds,r.nanos)})(t))}function Wv(t,e){return nv(t,e).canonicalString()}function nv(t,e){const n=(function(a){return new Je(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function sI(t){const e=Je.fromString(t);return we(fI(e),10190,{key:e.toString()}),e}function rm(t,e){return Wv(t.databaseId,e.path)}function so(t,e){const n=sI(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(oI(n))}function iI(t,e){return Wv(t.databaseId,e)}function aI(t){const e=sI(t);return e.length===4?Je.emptyPath():oI(e)}function rv(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oI(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function WE(t,e,n){return{name:rm(t,e),fields:n.value.mapValue.fields}}function LM(t,e,n){const r=so(t,e.name),a=kn(e.updateTime),o=e.createTime?kn(e.createTime):Ae.min(),c=new Un({mapValue:{fields:e.fields}}),h=Nt.newFoundDocument(r,a,o,c);return n&&h.setHasCommittedMutations(),n?h.setHasCommittedMutations():h}function UM(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(g,v){return g.useProto3Json?(we(v===void 0||typeof v=="string",58123),Qt.fromBase64String(v||"")):(we(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Qt.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const v=g.code===void 0?te.UNKNOWN:eI(g.code);return new fe(v,g.message||"")})(c);n=new nI(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=so(t,r.document.name),o=kn(r.document.updateTime),c=r.document.createTime?kn(r.document.createTime):Ae.min(),h=new Un({mapValue:{fields:r.document.fields}}),d=Nt.newFoundDocument(a,o,c,h),g=r.targetIds||[],v=r.removedTargetIds||[];n=new kf(g,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=so(t,r.document),o=r.readTime?kn(r.readTime):Ae.min(),c=Nt.newNoDocument(a,o),h=r.removedTargetIds||[];n=new kf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=so(t,r.document),o=r.removedTargetIds||[];n=new kf([],o,a,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new NM(a,o),h=r.targetId;n=new tI(h,c)}}return n}function sm(t,e){let n;if(e instanceof hc)n={update:WE(t,e.key,e.value)};else if(e instanceof Bm)n={delete:rm(t,e.key)};else if(e instanceof ha)n={update:WE(t,e.key,e.data),updateMask:GM(e.fieldMask)};else{if(!(e instanceof WA))return _e(16599,{Vt:e.type});n={verify:rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof Zl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Yl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Xl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ih)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw _e(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:zM(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e(27497)})(t,e.precondition)),n}function sv(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Dn.updateTime(kn(o.updateTime)):o.exists!==void 0?Dn.exists(o.exists):Dn.none()})(e.currentDocument):Dn.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(c,h){let d=null;if("setToServerValue"in h)we(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Zl;else if("appendMissingElements"in h){const v=h.appendMissingElements.values||[];d=new Yl(v)}else if("removeAllFromArray"in h){const v=h.removeAllFromArray.values||[];d=new Xl(v)}else"increment"in h?d=new ih(c,h.increment):_e(16584,{proto:h});const g=wt.fromServerFormat(h.fieldPath);return new YA(g,d)})(t,a))):[];if(e.update){e.update.name;const a=so(t,e.update.name),o=new Un({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(d){const g=d.fieldPaths||[];return new br(g.map((v=>wt.fromServerFormat(v))))})(e.updateMask);return new ha(a,o,c,n,r)}return new hc(a,o,n,r)}if(e.delete){const a=so(t,e.delete);return new Bm(a,n)}if(e.verify){const a=so(t,e.verify);return new WA(a,n)}return _e(1463,{proto:e})}function FM(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map((n=>(function(a,o){let c=a.updateTime?kn(a.updateTime):kn(o);return c.isEqual(Ae.min())&&(c=kn(o)),new AM(c,a.transformResults||[])})(n,e)))):[]}function lI(t,e){return{documents:[iI(t,e.path)]}}function cI(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iI(t,a);const o=(function(g){if(g.length!==0)return dI(ot.create(g,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(g){if(g.length!==0)return g.map((v=>(function(E){return{field:Nl(E.field),direction:qM(E.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=tv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function uI(t){let e=aI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){we(r===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];n.where&&(o=(function(_){const E=hI(_);return E instanceof ot&&Gv(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(D){return new Wf(Cl(D.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,km(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(_){const E=!!_.before,T=_.values||[];return new oa(T,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const E=!_.before,T=_.values||[];return new oa(T,E)})(n.endAt)),fM(e,a,c,o,h,"F",d,g)}function BM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cl(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Cl(n.unaryFilter.field);return He.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cl(n.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Cl(n.unaryFilter.field);return He.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return He.create(Cl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ot.create(n.compositeFilter.filters.map((r=>hI(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(t):_e(30097,{filter:t})}function qM(t){return OM[t]}function $M(t){return PM[t]}function HM(t){return MM[t]}function Nl(t){return{fieldPath:t.canonicalString()}}function Cl(t){return wt.fromServerFormat(t.fieldPath)}function dI(t){return t instanceof He?(function(n){if(n.op==="=="){if(VE(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NAN"}};if(ME(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VE(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NAN"}};if(ME(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(n.field),op:$M(n.op),value:n.value}}})(t):t instanceof ot?(function(n){const r=n.getFilters().map((a=>dI(a)));return r.length===1?r[0]:{compositeFilter:{op:HM(n.op),filters:r}}})(t):_e(54877,{filter:t})}function GM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class qs{constructor(e,n,r,a,o=Ae.min(),c=Ae.min(),h=Qt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mI{constructor(e){this.yt=e}}function KM(t,e){let n;if(e.document)n=LM(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),a=bo(e.noDocument.readTime);n=Nt.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e(56709);{const r=pe.fromSegments(e.unknownDocument.path),a=bo(e.unknownDocument.version);n=Nt.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime((function(a){const o=new at(a[0],a[1]);return Ae.fromTimestamp(o)})(e.readTime)),n}function eT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:im(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,c){return{name:rm(o,c.key),fields:c.data.value.mapValue.fields,updateTime:Jl(o,c.version.toTimestamp()),createTime:Jl(o,c.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:_o(e.version)};else{if(!e.isUnknownDocument())return _e(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:_o(e.version)}}return r}function im(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function _o(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bo(t){const e=new at(t.seconds,t.nanoseconds);return Ae.fromTimestamp(e)}function Ya(t,e){const n=(e.baseMutations||[]).map((o=>sv(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];c.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>sv(t.yt,o))),a=at.fromMillis(e.localWriteTimeMs);return new Zv(e.batchId,a,n,r)}function ku(t){const e=bo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?bo(t.lastLimboFreeSnapshotVersion):Ae.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const c=o.documents.length;return we(c===1,1966,{count:c}),xr(_h(aI(o.documents[0])))})(t.query):(function(o){return xr(uI(o))})(t.query),new qs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Qt.fromBase64String(t.resumeToken))}function pI(t,e){const n=_o(e.snapshotVersion),r=_o(e.lastLimboFreeSnapshotVersion);let a;a=em(e.target)?lI(t.yt,e.target):cI(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vo(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function gI(t){const e=uI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nm(e,e.limit,"L"):e}function _y(t,e){return new Xv(e.largestBatchId,sv(t.yt,e.overlayMutation))}function tT(t,e){const n=e.path.lastSegment();return[t,wn(e.path.popLast()),n]}function nT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:_o(r.readTime),documentKey:wn(r.documentKey.path),largestBatchId:r.largestBatchId}}class QM{getBundleMetadata(e,n){return rT(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:bo(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return rT(e).put((function(a){return{bundleId:a.id,createTime:_o(kn(a.createTime)),version:a.version}})(n))}getNamedQuery(e,n){return sT(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:gI(o.bundledQuery),readTime:bo(o.readTime)}})(r)}))}saveNamedQuery(e,n){return sT(e).put((function(a){return{name:a.name,readTime:_o(kn(a.readTime)),bundledQuery:a.bundledQuery}})(n))}}function rT(t){return en(t,jm)}function sT(t){return en(t,Om)}class $m{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new $m(e,r)}getOverlay(e,n){return Tu(e).get(tT(this.userId,n)).next((r=>r?_y(this.serializer,r):null))}getOverlays(e,n){const r=ms();return q.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){const a=[];return r.forEach(((o,c)=>{const h=new Xv(n,c);a.push(this.St(e,h))})),q.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach((c=>a.add(wn(c.getCollectionPath()))));const o=[];return a.forEach((c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(Tu(e).Z(Ky,h))})),q.waitFor(o)}getOverlaysForCollection(e,n,r){const a=ms(),o=wn(n),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Tu(e).J(Ky,c).next((h=>{for(const d of h){const g=_y(this.serializer,d);a.set(g.getKey(),g)}return a}))}getOverlaysForCollectionGroup(e,n,r,a){const o=ms();let c;const h=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Tu(e).ee({index:vA,range:h},((d,g,v)=>{const _=_y(this.serializer,g);o.size()<a||_.largestBatchId===c?(o.set(_.getKey(),_),c=_.largestBatchId):v.done()})).next((()=>o))}St(e,n){return Tu(e).put((function(a,o,c){const[h,d,g]=tT(o,c.mutation.key);return{userId:o,collectionPath:d,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:sm(a.yt,c.mutation)}})(this.serializer,this.userId,n))}}function Tu(t){return en(t,Pm)}class ZM{bt(e){return en(e,Bv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?Qt.fromUint8Array(r):Qt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Xa{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(_t(e.integerValue));else if("doubleValue"in e){const r=_t(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Ju(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Xs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Js(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?CA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):zm(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):_e(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const a of Object.keys(r))this.Ot(a,n),this.Ct(r[a],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const a=Gl,o=r[a].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(_t(o)),this.Ot(a,n),this.Ct(r[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const a of r)this.Ct(a,n)}Lt(e,n){this.Ft(n,37),pe.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Xa.Kt=new Xa;const El=255;function YM(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function iT(t){const e=64-(function(r){let a=0;for(let o=0;o<8;++o){const c=YM(255&r[o]);if(a+=c,c!==8)break}return a})(t);return Math.ceil(e/8)}class XM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=n.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=n.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const n=this.en(e),r=iT(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}nn(e){const n=this.en(e),r=iT(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}rn(){this.sn(El),this.sn(255)}_n(){this.an(El),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===El?(this.sn(El),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===El?(this.an(El),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class JM{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class WM{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Su{constructor(){this.cn=new XM,this.ln=new JM(this.cn),this.hn=new WM(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ja{constructor(e,n,r,a){this.Tn=e,this.In=n,this.En=r,this.dn=a}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Ja(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:jf(this.En),directionalValue:jf(this.dn),orderedDocumentKey:jf(n),documentKey:r.path.toArray()}}Vn(e,n,r){const a=this.Rn(e,n,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ui(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=aT(t.En,e.En),n!==0?n:(n=aT(t.dn,e.dn),n!==0?n:pe.comparator(t.In,e.In)))}function aT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function jf(t){return $S()?(function(n){let r="";for(let a=0;a<n.length;a++)r+=String.fromCharCode(n[a]);return r})(t):t}function oT(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(t)}class lT{constructor(e){this.mn=new ct(((n,r)=>wt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(we(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=$y(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ka(e);let a=new Set,o=0,c=0;for(;o<r.length&&this.wn(r[o]);++o)a=a.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=r[o];if(!this.Sn(h,d)||!this.bn(this.fn[c++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(c>=this.fn.length||!this.bn(this.fn[c++],h))return!1}return!0}Dn(){if(this.pn)return null;let e=new ct(wt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Sf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Sf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Sf(r.field,r.dir==="asc"?0:1)));return new Qf(Qf.UNKNOWN_ID,this.collectionId,n,Xu.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function yI(t){if(we(t instanceof He||t instanceof ot,20012),t instanceof He){if(t instanceof LA){const n=t.value.arrayValue?.values?.map((r=>He.create(t.field,"==",r)))||[];return ot.create(n,"or")}return t}const e=t.filters.map((n=>yI(n)));return ot.create(e,t.op)}function eV(t){if(t.getFilters().length===0)return[];const e=ov(yI(t));return we(vI(e),7391),iv(e)||av(e)?[e]:e.getFilters()}function iv(t){return t instanceof He}function av(t){return t instanceof ot&&Gv(t)}function vI(t){return iv(t)||av(t)||(function(n){if(n instanceof ot&&Xy(n)){for(const r of n.getFilters())if(!iv(r)&&!av(r))return!1;return!0}return!1})(t)}function ov(t){if(we(t instanceof He||t instanceof ot,34018),t instanceof He)return t;if(t.filters.length===1)return ov(t.filters[0]);const e=t.filters.map((r=>ov(r)));let n=ot.create(e,t.op);return n=am(n),vI(n)?n:(we(n instanceof ot,64498),we(Ql(n),40251),we(n.filters.length>1,57927),n.filters.reduce(((r,a)=>e_(r,a))))}function e_(t,e){let n;return we(t instanceof He||t instanceof ot,38388),we(e instanceof He||e instanceof ot,25473),n=t instanceof He?e instanceof He?(function(a,o){return ot.create([a,o],"and")})(t,e):cT(t,e):e instanceof He?cT(e,t):(function(a,o){if(we(a.filters.length>0&&o.filters.length>0,48005),Ql(a)&&Ql(o))return MA(a,o.getFilters());const c=Xy(a)?a:o,h=Xy(a)?o:a,d=c.filters.map((g=>e_(g,h)));return ot.create(d,"or")})(t,e),am(n)}function cT(t,e){if(Ql(e))return MA(e,t.getFilters());{const n=e.filters.map((r=>e_(t,r)));return ot.create(n,"or")}}function am(t){if(we(t instanceof He||t instanceof ot,11850),t instanceof He)return t;const e=t.getFilters();if(e.length===1)return am(e[0]);if(OA(t))return t;const n=e.map((a=>am(a))),r=[];return n.forEach((a=>{a instanceof He?r.push(a):a instanceof ot&&(a.op===t.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:ot.create(r,t.op)}class tV{constructor(){this.Cn=new t_}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(er.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(er.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class t_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new ct(Je.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ct(Je.comparator)).toArray()}}const uT="IndexedDbIndexManager",ff=new Uint8Array(0);class nV{constructor(e,n){this.databaseId=n,this.vn=new t_,this.Fn=new ri((r=>vo(r)),((r,a)=>vh(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:wn(a)};return hT(e).put(o)}return q.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[aA(n),""],!1,!0);return hT(e).J(a).next((o=>{for(const c of o){if(c.collectionId!==n)break;r.push(fs(c.parent))}return r}))}addFieldIndex(e,n){const r=Au(e),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete a.indexId;const o=r.add(a);if(n.indexState){const c=Sl(e);return o.next((h=>{c.put(nT(h,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=Au(e),a=Sl(e),o=Tl(e);return r.delete(n.indexId).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Au(e),r=Tl(e),a=Sl(e);return n.Z().next((()=>r.Z())).next((()=>a.Z()))}createTargetIndexes(e,n){return q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const o=new lT(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=Tl(e);let a=!0;const o=new Map;return q.forEach(this.Mn(n),(c=>this.xn(e,c).next((h=>{a&&(a=!!h),o.set(c,h)})))).next((()=>{if(a){let c=ze();const h=[];return q.forEach(o,((d,g)=>{he(uT,`Using index ${(function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map((ie=>`${ie.fieldPath}:${ie.kind}`)).join(",")}`})(d)} to execute ${vo(n)}`);const v=(function(B,ie){const Y=$y(ie);if(Y===void 0)return null;for(const le of tm(B,Y.fieldPath))switch(le.op){case"array-contains-any":return le.value.arrayValue.values||[];case"array-contains":return[le.value]}return null})(g,d),_=(function(B,ie){const Y=new Map;for(const le of Ka(ie))for(const R of tm(B,le.fieldPath))switch(R.op){case"==":case"in":Y.set(le.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return Y.set(le.fieldPath.canonicalString(),R.value),Array.from(Y.values())}return null})(g,d),E=(function(B,ie){const Y=[];let le=!0;for(const R of Ka(ie)){const A=R.kind===0?BE(B,R.fieldPath,B.startAt):qE(B,R.fieldPath,B.startAt);Y.push(A.value),le&&(le=A.inclusive)}return new oa(Y,le)})(g,d),T=(function(B,ie){const Y=[];let le=!0;for(const R of Ka(ie)){const A=R.kind===0?qE(B,R.fieldPath,B.endAt):BE(B,R.fieldPath,B.endAt);Y.push(A.value),le&&(le=A.inclusive)}return new oa(Y,le)})(g,d),D=this.On(d,g,E),k=this.On(d,g,T),M=this.Nn(d,g,_),ee=this.Bn(d.indexId,v,D,E.inclusive,k,T.inclusive,M);return q.forEach(ee,(Z=>r.Y(Z,n.limit).next((B=>{B.forEach((ie=>{const Y=pe.fromSegments(ie.documentKey);c.has(Y)||(c=c.add(Y),h.push(Y))}))}))))})).next((()=>h))}return q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=eV(ot.create(e.filters,"and")).map((r=>Wy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,a,o,c,h){const d=(n!=null?n.length:1)*Math.max(r.length,o.length),g=d/(n!=null?n.length:1),v=[];for(let _=0;_<d;++_){const E=n?this.Ln(n[_/g]):ff,T=this.kn(e,E,r[_%g],a),D=this.qn(e,E,o[_%g],c),k=h.map((M=>this.kn(e,E,M,!0)));v.push(...this.createRange(T,D,k))}return v}kn(e,n,r,a){const o=new Ja(e,pe.empty(),n,r);return a?o:o.An()}qn(e,n,r,a){const o=new Ja(e,pe.empty(),n,r);return a?o.An():o}xn(e,n){const r=new lT(n),a=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let c=null;for(const h of o)r.yn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c}))}getIndexType(e,n){let r=2;const a=this.Mn(n);return q.forEach(a,(o=>this.xn(e,o).next((c=>{c?r!==0&&c.fields.length<(function(d){let g=new ct(wt.comparator),v=!1;for(const _ of d.filters)for(const E of _.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?v=!0:g=g.add(E.field));for(const _ of d.orderBy)_.field.isKeyField()||(g=g.add(_.field));return g.size+(v?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(n)&&a.length>1&&r===2?1:r))}Qn(e,n){const r=new Su;for(const a of Ka(e)){const o=n.data.field(a.fieldPath);if(o==null)return null;const c=r.Pn(a.kind);Xa.Kt.Dt(o,c)}return r.un()}Ln(e){const n=new Su;return Xa.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Su;return Xa.Kt.Dt(yo(this.databaseId,n),r.Pn((function(o){const c=Ka(o);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let a=[];a.push(new Su);let o=0;for(const c of Ka(e)){const h=r[o++];for(const d of a)if(this.Un(n,c.fieldPath)&&sh(h))a=this.Kn(a,c,h);else{const g=d.Pn(c.kind);Xa.Kt.Dt(h,g)}}return this.Wn(a)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const a=[...e],o=[];for(const c of r.arrayValue.values||[])for(const h of a){const d=new Su;d.seed(h.un()),Xa.Kt.Dt(c,d.Pn(n.kind)),o.push(d)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof He&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Au(e),a=Sl(e);return(n?r.J(Gy,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const c=[];return q.forEach(o,(h=>a.get([h.indexId,this.uid]).next((d=>{c.push((function(v,_){const E=_?new Xu(_.sequenceNumber,new er(bo(_.readTime),new pe(fs(_.documentKey)),_.largestBatchId)):Xu.empty(),T=v.fields.map((([D,k])=>new Sf(wt.fromServerFormat(D),k)));return new Qf(v.indexId,v.collectionGroup,T,E)})(h,d))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,a)=>{const o=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:Ce(r.collectionGroup,a.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const a=Au(e),o=Sl(e);return this.Gn(e).next((c=>a.J(Gy,IDBKeyRange.bound(n,n)).next((h=>q.forEach(h,(d=>o.put(nT(d.indexId,this.uid,c,r))))))))}updateIndexEntries(e,n){const r=new Map;return q.forEach(n,((a,o)=>{const c=r.get(a.collectionGroup);return(c?q.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((h=>(r.set(a.collectionGroup,h),q.forEach(h,(d=>this.zn(e,a,d).next((g=>{const v=this.jn(o,d);return g.isEqual(v)?q.resolve():this.Jn(e,o,d,g,v)})))))))}))}Hn(e,n,r,a){return Tl(e).put(a.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,a){return Tl(e).delete(a.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const a=Tl(e);let o=new ct(Ui);return a.ee({index:yA,range:IDBKeyRange.only([r.indexId,this.uid,jf(this.$n(r,n))])},((c,h)=>{o=o.add(new Ja(r.indexId,n,oT(h.arrayValue),oT(h.directionalValue)))})).next((()=>o))}jn(e,n){let r=new ct(Ui);const a=this.Qn(n,e);if(a==null)return r;const o=$y(n);if(o!=null){const c=e.data.field(o.fieldPath);if(sh(c))for(const h of c.arrayValue.values||[])r=r.add(new Ja(n.indexId,e.key,this.Ln(h),a))}else r=r.add(new Ja(n.indexId,e.key,ff,a));return r}Jn(e,n,r,a,o){he(uT,"Updating index entries for document '%s'",n.key);const c=[];return(function(d,g,v,_,E){const T=d.getIterator(),D=g.getIterator();let k=wl(T),M=wl(D);for(;k||M;){let ee=!1,Z=!1;if(k&&M){const B=v(k,M);B<0?Z=!0:B>0&&(ee=!0)}else k!=null?Z=!0:ee=!0;ee?(_(M),M=wl(D)):Z?(E(k),k=wl(T)):(k=wl(T),M=wl(D))}})(a,o,Ui,(h=>{c.push(this.Hn(e,n,r,h))}),(h=>{c.push(this.Yn(e,n,r,h))})),q.waitFor(c)}Gn(e){let n=1;return Sl(e).ee({index:gA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,o)=>{o.done(),n=a.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((c,h)=>Ui(c,h))).filter(((c,h,d)=>!h||Ui(c,d[h-1])!==0));const a=[];a.push(e);for(const c of r){const h=Ui(c,e),d=Ui(c,n);if(h===0)a[0]=e.An();else if(h>0&&d<0)a.push(c),a.push(c.An());else if(d>0)break}a.push(n);const o=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const h=a[c].Vn(this.uid,ff,pe.empty()),d=a[c+1].Vn(this.uid,ff,pe.empty());o.push(IDBKeyRange.bound(h,d))}return o}Zn(e,n){return Ui(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(dT)}getMinOffset(e,n){return q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((a=>a||_e(44426))))).next(dT)}}function hT(t){return en(t,th)}function Tl(t){return en(t,Lu)}function Au(t){return en(t,Fv)}function Sl(t){return en(t,zu)}function dT(t){we(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;zv(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new er(e.readTime,e.documentKey,n)}const fT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_I=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function bI(t,e,n){const r=t.store(zr),a=t.store(Bl),o=[],c=IDBKeyRange.only(n.batchId);let h=0;const d=r.ee({range:c},((v,_,E)=>(h++,E.delete())));o.push(d.next((()=>{we(h===1,47070,{batchId:n.batchId})})));const g=[];for(const v of n.mutations){const _=fA(e,v.key.path,n.batchId);o.push(a.delete(_)),g.push(v.key)}return q.waitFor(o).next((()=>g))}function om(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _e(14731);e=t.noDocument}return JSON.stringify(e).length}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(_I,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Hm{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Xn={}}static wt(e,n,r,a){we(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Hm(o,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fi(e).ee({index:eo,range:r},((a,o,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(e,n,r,a){const o=Dl(e),c=Fi(e);return c.add({}).next((h=>{we(typeof h=="number",49019);const d=new Zv(h,n,r,a),g=(function(T,D,k){const M=k.baseMutations.map((Z=>sm(T.yt,Z))),ee=k.mutations.map((Z=>sm(T.yt,Z)));return{userId:D,batchId:k.batchId,localWriteTimeMs:k.localWriteTime.toMillis(),baseMutations:M,mutations:ee}})(this.serializer,this.userId,d),v=[];let _=new ct(((E,T)=>Ce(E.canonicalString(),T.canonicalString())));for(const E of a){const T=fA(this.userId,E.key.path,h);_=_.add(E.key.path.popLast()),v.push(c.put(g)),v.push(o.put(T,D4))}return _.forEach((E=>{v.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[h]=d.keys()})),q.waitFor(v).next((()=>d))}))}lookupMutationBatch(e,n){return Fi(e).get(n).next((r=>r?(we(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ya(this.serializer,r)):null))}er(e,n){return this.Xn[n]?q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const a=r.keys();return this.Xn[n]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Fi(e).ee({index:eo,range:a},((c,h,d)=>{h.userId===this.userId&&(we(h.batchId>=r,47524,{tr:r}),o=Ya(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=no;return Fi(e).ee({index:eo,range:n,reverse:!0},((a,o,c)=>{r=o.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,no],[this.userId,Number.POSITIVE_INFINITY]);return Fi(e).J(eo,n).next((r=>r.map((a=>Ya(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Af(this.userId,n.path),a=IDBKeyRange.lowerBound(r),o=[];return Dl(e).ee({range:a},((c,h,d)=>{const[g,v,_]=c,E=fs(v);if(g===this.userId&&n.path.isEqual(E))return Fi(e).get(_).next((T=>{if(!T)throw _e(61480,{nr:c,batchId:_});we(T.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:T.userId,batchId:_}),o.push(Ya(this.serializer,T))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Ce);const a=[];return n.forEach((o=>{const c=Af(this.userId,o.path),h=IDBKeyRange.lowerBound(c),d=Dl(e).ee({range:h},((g,v,_)=>{const[E,T,D]=g,k=fs(T);E===this.userId&&o.path.isEqual(k)?r=r.add(D):_.done()}));a.push(d)})),q.waitFor(a).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,o=Af(this.userId,r),c=IDBKeyRange.lowerBound(o);let h=new ct(Ce);return Dl(e).ee({range:c},((d,g,v)=>{const[_,E,T]=d,D=fs(E);_===this.userId&&r.isPrefixOf(D)?D.length===a&&(h=h.add(T)):v.done()})).next((()=>this.rr(e,h)))}rr(e,n){const r=[],a=[];return n.forEach((o=>{a.push(Fi(e).get(o).next((c=>{if(c===null)throw _e(35274,{batchId:o});we(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),r.push(Ya(this.serializer,c))})))})),q.waitFor(a).next((()=>r))}removeMutationBatch(e,n){return bI(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),q.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return q.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Dl(e).ee({range:r},((o,c,h)=>{if(o[0]===this.userId){const d=fs(o[1]);a.push(d)}else h.done()})).next((()=>{we(a.length===0,56720,{sr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return xI(e,this.userId,n)}_r(e){return wI(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:no,lastStreamToken:""}))}}function xI(t,e,n){const r=Af(e,n.path),a=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return Dl(t).ee({range:o,X:!0},((h,d,g)=>{const[v,_,E]=h;v===e&&_===a&&(c=!0),g.done()})).next((()=>c))}function Fi(t){return en(t,zr)}function Dl(t){return en(t,Bl)}function wI(t){return en(t,Wu)}class xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}class rV{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new xo(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ae.fromTimestamp(new at(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.hr(e,a))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Al(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(we(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let a=0;const o=[];return Al(e).ee(((c,h)=>{const d=ku(h);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(a++,o.push(this.removeTargetData(e,d)))})).next((()=>q.waitFor(o))).next((()=>a))}forEachTarget(e,n){return Al(e).ee(((r,a)=>{const o=ku(a);n(o)}))}lr(e){return mT(e).get(Xf).next((n=>(we(n!==null,2888),n)))}hr(e,n){return mT(e).put(Xf,n)}Pr(e,n){return Al(e).put(pI(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=vo(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Al(e).ee({range:a,index:pA},((c,h,d)=>{const g=ku(h);vh(n,g.target)&&(o=g,d.done())})).next((()=>o))}addMatchingKeys(e,n,r){const a=[],o=Hi(e);return n.forEach((c=>{const h=wn(c.path);a.push(o.put({targetId:r,path:h})),a.push(this.referenceDelegate.addReference(e,r,c))})),q.waitFor(a)}removeMatchingKeys(e,n,r){const a=Hi(e);return q.forEach(n,(o=>{const c=wn(o.path);return q.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=Hi(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=Hi(e);let o=ze();return a.ee({range:r,X:!0},((c,h,d)=>{const g=fs(c[1]),v=new pe(g);o=o.add(v)})).next((()=>o))}containsKey(e,n){const r=wn(n.path),a=IDBKeyRange.bound([r],[aA(r)],!1,!0);let o=0;return Hi(e).ee({index:Uv,X:!0,range:a},(([c,h],d,g)=>{c!==0&&(o++,g.done())})).next((()=>o>0))}At(e,n){return Al(e).get(n).next((r=>r?ku(r):null))}}function Al(t){return en(t,ql)}function mT(t){return en(t,ro)}function Hi(t){return en(t,$l)}const pT="LruGarbageCollector",sV=1048576;function gT([t,e],[n,r]){const a=Ce(t,n);return a===0?Ce(e,r):a}class iV{constructor(e){this.Ir=e,this.buffer=new ct(gT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(pT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ua(n)?he(pT,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Vr(3e5)}))}}class aV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return q.resolve(_r.ce);const r=new iV(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(fT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,c,h,d,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,n)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(g=Date.now(),Il()<=$e.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(g-d)+`ms
Total Duration: ${g-v}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_}))))}}function TI(t,e){return new aV(t,e)}class oV{constructor(e,n){this.db=e,this.garbageCollector=TI(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,a)=>n(a)))}addReference(e,n,r){return mf(e,r)}removeReference(e,n,r){return mf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return mf(e,n)}br(e,n){return(function(a,o){let c=!1;return wI(a).te((h=>xI(a,h,o).next((d=>(d&&(c=!0),q.resolve(!d)))))).next((()=>c))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Sr(e,((c,h)=>{if(h<=n){const d=this.br(e,c).next((g=>{if(!g)return o++,r.getEntry(e,c).next((()=>(r.removeEntry(c,Ae.min()),Hi(e).delete((function(_){return[0,wn(_.path)]})(c)))))}));a.push(d)}})).next((()=>q.waitFor(a))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return mf(e,n)}Sr(e,n){const r=Hi(e);let a,o=_r.ce;return r.ee({index:Uv},(([c,h],{path:d,sequenceNumber:g})=>{c===0?(o!==_r.ce&&n(new pe(fs(a)),o),o=g,a=d):o=_r.ce})).next((()=>{o!==_r.ce&&n(new pe(fs(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mf(t,e){return Hi(t).put((function(r,a){return{targetId:0,path:wn(r.path),sequenceNumber:a}})(e,t.currentSequenceNumber))}class SI{constructor(){this.changes=new ri((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lV{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ha(e).put(r)}removeEntry(e,n,r){return Ha(e).delete((function(o,c){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],im(c),h[h.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Nt.newInvalidDocument(n);return Ha(e).ee({index:If,range:IDBKeyRange.only(Iu(n))},((a,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Nt.newInvalidDocument(n)};return Ha(e).ee({index:If,range:IDBKeyRange.only(Iu(n))},((a,o)=>{r={document:this.Cr(n,o),size:om(o)}})).next((()=>r))}getEntries(e,n){let r=Jn();return this.Fr(e,n,((a,o)=>{const c=this.Cr(a,o);r=r.insert(a,c)})).next((()=>r))}Mr(e,n){let r=Jn(),a=new bt(pe.comparator);return this.Fr(e,n,((o,c)=>{const h=this.Cr(o,c);r=r.insert(o,h),a=a.insert(o,om(c))})).next((()=>({documents:r,Or:a})))}Fr(e,n,r){if(n.isEmpty())return q.resolve();let a=new ct(_T);n.forEach((d=>a=a.add(d)));const o=IDBKeyRange.bound(Iu(a.first()),Iu(a.last())),c=a.getIterator();let h=c.getNext();return Ha(e).ee({index:If,range:o},((d,g,v)=>{const _=pe.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;h&&_T(h,_)<0;)r(h,null),h=c.getNext();h&&h.isEqual(_)&&(r(h,g),h=c.hasNext()?c.getNext():null),h?v.j(Iu(h)):v.done()})).next((()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,n,r,a,o){const c=n.path,h=[c.popLast().toArray(),c.lastSegment(),im(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ha(e).J(IDBKeyRange.bound(h,d,!0)).next((g=>{o?.incrementDocumentReadCount(g.length);let v=Jn();for(const _ of g){const E=this.Cr(pe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);E.isFoundDocument()&&(bh(n,E)||a.has(E.key))&&(v=v.insert(E.key,E))}return v}))}getAllFromCollectionGroup(e,n,r,a){let o=Jn();const c=vT(n,r),h=vT(n,er.max());return Ha(e).ee({index:mA,range:IDBKeyRange.bound(c,h,!0)},((d,g,v)=>{const _=this.Cr(pe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);o=o.insert(_.key,_),o.size===a&&v.done()})).next((()=>o))}newChangeBuffer(e){return new cV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return yT(e).get(Hy).next((n=>(we(!!n,20021),n)))}Dr(e,n){return yT(e).put(Hy,n)}Cr(e,n){if(n){const r=KM(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ae.min())))return r}return Nt.newInvalidDocument(e)}}function AI(t){return new lV(t)}class cV extends SI{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new ri((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const n=[];let r=0,a=new ct(((o,c)=>Ce(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const h=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,h.readTime)),c.isValidDocument()){const d=eT(this.Nr.serializer,c);a=a.add(o.path.popLast());const g=om(d);r+=g-h.size,n.push(this.Nr.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=eT(this.Nr.serializer,c.convertToNoDocument(Ae.min()));n.push(this.Nr.addEntry(e,o,d))}})),a.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:a})=>(a.forEach(((o,c)=>{this.Br.set(o,{size:c,readTime:r.get(o).readTime})})),r)))}}function yT(t){return en(t,eh)}function Ha(t){return en(t,Yf)}function Iu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function vT(t,e){const n=e.documentKey.path.toArray();return[t,im(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _T(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(a=Ce(n[o],r[o]),a)return a;return a=Ce(n.length,r.length),a||(a=Ce(n[n.length-2],r[r.length-2]),a||Ce(n[n.length-1],r[r.length-1]))}class uV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class II{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Bu(r.mutation,a,br.empty(),at.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ze()){const a=ms();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let c=Cu();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=ms();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ze())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,a){let o=Jn();const c=Fu(),h=(function(){return Fu()})();return n.forEach(((d,g)=>{const v=r.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof ha)?o=o.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Bu(v.mutation,g,v.mutation.getFieldMask(),at.now())):c.set(g.key,br.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>h.set(g,new uV(v,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Fu();let a=new bt(((c,h)=>c-h)),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const g=n.get(d);if(g===null)return;let v=r.get(d)||br.empty();v=h.applyToLocalView(g,v),r.set(d,v);const _=(a.get(h.batchId)||ze()).add(d);a=a.insert(h.batchId,_)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),g=d.key,v=d.value,_=$A();v.forEach((E=>{if(!o.has(E)){const T=XA(n.get(E),r.get(E));T!==null&&_.set(E,T),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return q.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):q.resolve(ms());let h=Yu,d=o;return c.next((g=>q.forEach(g,((v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(v)?q.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{d=d.insert(v,E)}))))).next((()=>this.populateOverlays(e,g,o))).next((()=>this.computeViews(e,d,g,ze()))).next((v=>({batchId:h,changes:qA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let a=Cu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let c=Cu();return this.indexManager.getCollectionParents(e,o).next((h=>q.forEach(h,(d=>{const g=(function(_,E){return new uc(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((v=>{v.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((c=>{o.forEach(((d,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Nt.newInvalidDocument(v)))}));let h=Cu();return c.forEach(((d,g)=>{const v=o.get(d);v!==void 0&&Bu(v.mutation,g,br.empty(),at.now()),bh(n,g)&&(h=h.insert(d,g))})),h}))}}class hV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:kn(a.createTime)}})(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:gI(a.bundledQuery),readTime:kn(a.readTime)}})(n)),q.resolve()}}class dV{constructor(){this.overlays=new bt(pe.comparator),this.qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ms();return q.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),q.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const a=ms(),o=n.length+1,c=new pe(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return q.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new bt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let v=o.get(g.largestBatchId);v===null&&(v=ms(),o=o.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=ms(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((g,v)=>h.set(g,v))),!(h.size()>=a)););return q.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Xv(n,r));let o=this.qr.get(n);o===void 0&&(o=ze(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class fV{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}class n_{constructor(){this.Qr=new ct(an.$r),this.Ur=new ct(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new an(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new an(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new Je([])),r=new an(n,e),a=new an(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new Je([])),r=new an(n,e),a=new an(n,e+1);let o=ze();return this.Ur.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new an(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class mV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ct(an.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Zv(o,n,r,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new an(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return q.resolve(c)}lookupMutationBatch(e,n){return q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?no:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),a=new an(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Ce);return n.forEach((a=>{const o=new an(a,0),c=new an(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{r=r.add(h.Yr)}))})),q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const c=new an(new pe(o),0);let h=new ct(Ce);return this.Zr.forEachWhile((d=>{const g=d.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(h=h.add(d.Yr)),!0)}),c),q.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){we(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return q.forEach(n.mutations,(a=>{const o=new an(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new an(n,0),a=this.Zr.firstAfterOrEqual(r);return q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class pV{constructor(e){this.ri=e,this.docs=(function(){return new bt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=Jn();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Nt.newInvalidDocument(a))})),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Jn();const c=n.path,h=new pe(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:g,value:{document:v}}=d.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||zv(cA(v),r)<=0||(a.has(v.key)||bh(n,v))&&(o=o.insert(v.key,v.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(e,n,r,a){_e(9500)}ii(e,n){return q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new gV(this)}getSize(e){return q.resolve(this.size)}}class gV extends SI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class yV{constructor(e){this.persistence=e,this.si=new ri((n=>vo(n)),vh),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new n_,this.targetCount=0,this.ai=xo.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Pr(n),q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),q.waitFor(o).next((()=>a))}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this._i.containsKey(n))}}class r_{constructor(e,n){this.ui={},this.overlays={},this.ci=new _r(0),this.li=!1,this.li=!0,this.hi=new fV,this.referenceDelegate=e(this),this.Pi=new yV(this),this.indexManager=new tV,this.remoteDocumentCache=(function(a){return new pV(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new mI(n),this.Ii=new hV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new mV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const a=new vV(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class vV extends hA{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.Ri=new n_,this.Vi=null}static mi(e){return new Gm(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,(r=>{const a=pe.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return q.or([()=>q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lm{constructor(e,n){this.persistence=e,this.pi=new ri((r=>wn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=TI(this,n)}static mi(e,n){return new lm(e,n)}Ei(){}di(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return q.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?q.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((h=>{h||(r++,o.removeEntry(c,Ae.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nf(e.data.value)),n}br(e,n,r){return q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return q.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _V{constructor(e){this.serializer=e}k(e,n,r,a){const o=new Dm("createOrUpgrade",n);r<1&&a>=1&&((function(d){d.createObjectStore(yh)})(e),(function(d){d.createObjectStore(Wu,{keyPath:C4}),d.createObjectStore(zr,{keyPath:CE,autoIncrement:!0}).createIndex(eo,DE,{unique:!0}),d.createObjectStore(Bl)})(e),bT(e),(function(d){d.createObjectStore(Qa)})(e));let c=q.resolve();return r<3&&a>=3&&(r!==0&&((function(d){d.deleteObjectStore($l),d.deleteObjectStore(ql),d.deleteObjectStore(ro)})(e),bT(e)),c=c.next((()=>(function(d){const g=d.store(ro),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ae.min().toTimestamp(),targetCount:0};return g.put(Xf,v)})(o)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(d,g){return g.store(zr).J().next((_=>{d.deleteObjectStore(zr),d.createObjectStore(zr,{keyPath:CE,autoIncrement:!0}).createIndex(eo,DE,{unique:!0});const E=g.store(zr),T=_.map((D=>E.put(D)));return q.waitFor(T)}))})(e,o)))),c=c.next((()=>{(function(d){d.createObjectStore(Hl,{keyPath:L4})})(e)}))),r<5&&a>=5&&(c=c.next((()=>this.yi(o)))),r<6&&a>=6&&(c=c.next((()=>((function(d){d.createObjectStore(eh)})(e),this.wi(o))))),r<7&&a>=7&&(c=c.next((()=>this.Si(o)))),r<8&&a>=8&&(c=c.next((()=>this.bi(e,o)))),r<9&&a>=9&&(c=c.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(c=c.next((()=>this.Di(o)))),r<11&&a>=11&&(c=c.next((()=>{(function(d){d.createObjectStore(jm,{keyPath:U4})})(e),(function(d){d.createObjectStore(Om,{keyPath:F4})})(e)}))),r<12&&a>=12&&(c=c.next((()=>{(function(d){const g=d.createObjectStore(Pm,{keyPath:Q4});g.createIndex(Ky,Z4,{unique:!1}),g.createIndex(vA,Y4,{unique:!1})})(e)}))),r<13&&a>=13&&(c=c.next((()=>(function(d){const g=d.createObjectStore(Yf,{keyPath:k4});g.createIndex(If,j4),g.createIndex(mA,O4)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(Qa)))),r<14&&a>=14&&(c=c.next((()=>this.Fi(e,o)))),r<15&&a>=15&&(c=c.next((()=>(function(d){d.createObjectStore(Fv,{keyPath:B4,autoIncrement:!0}).createIndex(Gy,q4,{unique:!1}),d.createObjectStore(zu,{keyPath:$4}).createIndex(gA,H4,{unique:!1}),d.createObjectStore(Lu,{keyPath:G4}).createIndex(yA,K4,{unique:!1})})(e)))),r<16&&a>=16&&(c=c.next((()=>{n.objectStore(zu).clear()})).next((()=>{n.objectStore(Lu).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(d){d.createObjectStore(Bv,{keyPath:X4})})(e)}))),r<18&&a>=18&&$S()&&(c=c.next((()=>{n.objectStore(zu).clear()})).next((()=>{n.objectStore(Lu).clear()}))),c}wi(e){let n=0;return e.store(Qa).ee(((r,a)=>{n+=om(a)})).next((()=>{const r={byteSize:n};return e.store(eh).put(Hy,r)}))}yi(e){const n=e.store(Wu),r=e.store(zr);return n.J().next((a=>q.forEach(a,(o=>{const c=IDBKeyRange.bound([o.userId,no],[o.userId,o.lastAcknowledgedBatchId]);return r.J(eo,c).next((h=>q.forEach(h,(d=>{we(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const g=Ya(this.serializer,d);return bI(e,o.userId,g).next((()=>{}))}))))}))))}Si(e){const n=e.store($l),r=e.store(Qa);return e.store(ro).get(Xf).next((a=>{const o=[];return r.ee(((c,h)=>{const d=new Je(c),g=(function(_){return[0,wn(_)]})(d);o.push(n.get(g).next((v=>v?q.resolve():(_=>n.put({targetId:0,path:wn(_),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>q.waitFor(o)))}))}bi(e,n){e.createObjectStore(th,{keyPath:z4});const r=n.store(th),a=new t_,o=c=>{if(a.add(c)){const h=c.lastSegment(),d=c.popLast();return r.put({collectionId:h,parent:wn(d)})}};return n.store(Qa).ee({X:!0},((c,h)=>{const d=new Je(c);return o(d.popLast())})).next((()=>n.store(Bl).ee({X:!0},(([c,h,d],g)=>{const v=fs(h);return o(v.popLast())}))))}Di(e){const n=e.store(ql);return n.ee(((r,a)=>{const o=ku(a),c=pI(this.serializer,o);return n.put(c)}))}Ci(e,n){const r=n.store(Qa),a=[];return r.ee(((o,c)=>{const h=n.store(Yf),d=(function(_){return _.document?new pe(Je.fromString(_.document.name).popFirst(5)):_.noDocument?pe.fromSegments(_.noDocument.path):_.unknownDocument?pe.fromSegments(_.unknownDocument.path):_e(36783)})(c).path.toArray(),g={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(h.put(g))})).next((()=>q.waitFor(a)))}Fi(e,n){const r=n.store(zr),a=AI(this.serializer),o=new r_(Gm.mi,this.serializer.yt);return r.J().next((c=>{const h=new Map;return c.forEach((d=>{let g=h.get(d.userId)??ze();Ya(this.serializer,d).keys().forEach((v=>g=g.add(v))),h.set(d.userId,g)})),q.forEach(h,((d,g)=>{const v=new mn(g),_=$m.wt(this.serializer,v),E=o.getIndexManager(v),T=Hm.wt(v,this.serializer,E,o.referenceDelegate);return new II(a,T,_,E).recalculateAndSaveOverlaysForDocumentKeys(new Qy(n,_r.ce),d).next()}))}))}}function bT(t){t.createObjectStore($l,{keyPath:M4}).createIndex(Uv,V4,{unique:!0}),t.createObjectStore(ql,{keyPath:"targetId"}).createIndex(pA,P4,{unique:!0}),t.createObjectStore(ro)}const Bi="IndexedDbPersistence",by=18e5,xy=5e3,wy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",bV="main";class s_{constructor(e,n,r,a,o,c,h,d,g,v,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=c,this.document=h,this.xi=g,this.Oi=v,this.Ni=_,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!s_.v())throw new fe(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oV(this,a),this.$i=n+bV,this.serializer=new mI(d),this.Ui=new ra(this.$i,this.Ni,new _V(this.serializer)),this.hi=new ZM,this.Pi=new rV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=AI(this.serializer),this.Ii=new QM,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,v===!1&&Nn(Bi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(te.FAILED_PRECONDITION,wy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new _r(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>pf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ua(e))return he(Bi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he(Bi,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Ru(e).get(xl).next((n=>q.resolve(this.es(n))))}ts(e){return pf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,by)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=en(n,Hl);return r.J().next((a=>{const o=this.ss(a,by),c=a.filter((h=>o.indexOf(h)===-1));return q.forEach(c,(h=>r.delete(h.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?q.resolve(!0):Ru(e).get(xl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,xy)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new fe(te.FAILED_PRECONDITION,wy);return!1}}return!(!this.networkEnabled||!this.inForeground)||pf(e).J().next((r=>this.ss(r,xy).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(o||c&&h)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&he(Bi,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[yh,Hl],(e=>{const n=new Qy(e,_r.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>pf(e).J().next((n=>this.ss(n,by).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Hm.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new nV(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return $m.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){he(Bi,"Starting transaction:",e);const a=n==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?eM:d===17?wA:d===16?W4:d===15?qv:d===14?xA:d===13?bA:d===12?J4:d===11?_A:void _e(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,o,(h=>(c=new Qy(h,this.ci?this.ci.next():_r.ce),n==="readwrite-primary"?this.Hi(c).next((d=>!!d||this.Yi(c))).next((d=>{if(!d)throw Nn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new fe(te.FAILED_PRECONDITION,uA);return r(c)})).next((d=>this.Xi(c).next((()=>d)))):this.Is(c).next((()=>r(c)))))).then((h=>(c.raiseOnCommittedEvent(),h)))}Is(e){return Ru(e).get(xl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,xy)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new fe(te.FAILED_PRECONDITION,wy)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ru(e).put(xl,n)}static v(){return ra.v()}Zi(e){const n=Ru(e);return n.get(xl).next((r=>this.es(r)?(he(Bi,"Releasing primary lease."),n.delete(xl)):q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Nn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;qS()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return he(Bi,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Nn(Bi,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Nn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ru(t){return en(t,yh)}function pf(t){return en(t,Hl)}function xV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class i_{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=ze(),a=ze();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new i_(e,n.fromCache,r,a)}}class wV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class RI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qS()?8:dA(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new wV;return this.Ss(e,n,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(Il()<=$e.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Il()<=$e.DEBUG&&he("QueryEngine","Query:",Rl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Il()<=$e.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):q.resolve())}ys(e,n){if($E(n))return q.resolve(null);let r=xr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=nm(n,null,"F"),r=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=ze(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const g=this.Ds(n,h);return this.Cs(n,g,c,d.readTime)?this.ys(e,nm(n,null,"F")):this.vs(e,g,n,d)}))))})))))}ws(e,n,r,a){return $E(n)||a.isEqual(Ae.min())?q.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,r,a)?q.resolve(null):(Il()<=$e.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rl(n)),this.vs(e,c,n,E4(a,Yu)).next((h=>h)))}))}Ds(e,n){let r=new ct(FA(e));return n.forEach(((a,o)=>{bh(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return Il()<=$e.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Rl(n)),this.ps.getDocumentsMatchingQuery(e,n,er.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const a_="LocalStore",EV=3e8;class TV{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new bt(Ce),this.xs=new ri((o=>vo(o)),vh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new II(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function NI(t,e,n,r){return new TV(t,e,n,r)}async function CI(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let d=ze();for(const g of a){c.push(g.batchId);for(const v of g.mutations)d=d.add(v.key)}for(const g of o){h.push(g.batchId);for(const v of g.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(r,d).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function SV(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,g,v){const _=g.batch,E=_.keys();let T=q.resolve();return E.forEach((D=>{T=T.next((()=>v.getEntry(d,D))).next((k=>{const M=g.docVersions.get(D);we(M!==null,48541),k.version.compareTo(M)<0&&(_.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),v.addEntry(k)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=ze();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(d=d.add(h.batch.mutations[g].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function DI(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function AV(t,e){const n=De(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((v,_)=>{const E=a.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(o,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(o,v.addedDocuments,_))));let T=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(v.resumeToken,r)),a=a.insert(_,T),(function(k,M,ee){return k.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=EV?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(E,T,v)&&h.push(n.Pi.updateTargetData(o,T))}));let d=Jn(),g=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(IV(o,c,e.documentUpdates).next((v=>{d=v.ks,g=v.qs}))),!r.isEqual(Ae.min())){const v=n.Pi.getLastRemoteSnapshotVersion(o).next((_=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return q.waitFor(h).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,g))).next((()=>d))})).then((o=>(n.Ms=a,o)))}function IV(t,e,n){let r=ze(),a=ze();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=Jn();return n.forEach(((h,d)=>{const g=o.get(h);d.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ae.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):he(a_,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",d.version)})),{ks:c,qs:a}}))}function RV(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=no),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function NV(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,q.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new qs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function lv(t,e,n){const r=De(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ua(c))throw c;he(a_,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function xT(t,e,n){const r=De(t);let a=Ae.min(),o=ze();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,g,v){const _=De(d),E=_.xs.get(v);return E!==void 0?q.resolve(_.Ms.get(E)):_.Pi.getTargetData(g,v)})(r,c,xr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:Ae.min(),n?o:ze()))).next((h=>(CV(r,pM(e),h),{documents:h,Qs:o})))))}function CV(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class wT{constructor(){this.activeTargetIds=xM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kI{constructor(){this.Mo=new wT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DV{Oo(e){}shutdown(){}}const ET="ConnectivityMonitor";class TT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(ET,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(ET,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let gf=null;function cv(){return gf===null?gf=(function(){return 268435456+Math.round(2147483648*Math.random())})():gf++,"0x"+gf.toString(16)}const Ey="RestConnection",kV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Jf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const c=cv(),h=this.zo(e,n.toUriEncodedString());he(Ey,`Sending RPC '${e}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:g}=new URL(h),v=oc(g);return this.Jo(e,h,d,r,v).then((_=>(he(Ey,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw po(Ey,`RPC '${e}' ${c} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,n,r,a,o,c){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=kV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class OV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class PV extends jV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const c=cv();return new Promise(((h,d)=>{const g=new WS;g.setWithCredentials(!0),g.listenOnce(eA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Tf.NO_ERROR:const _=g.getResponseJson();he(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),h(_);break;case Tf.TIMEOUT:he(vn,`RPC '${e}' ${c} timed out`),d(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Tf.HTTP_ERROR:const E=g.getStatus();if(he(vn,`RPC '${e}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let T=g.getResponseJson();Array.isArray(T)&&(T=T[0]);const D=T?.error;if(D&&D.status&&D.message){const k=(function(ee){const Z=ee.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Z)>=0?Z:te.UNKNOWN})(D.status);d(new fe(k,D.message))}else d(new fe(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new fe(te.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(vn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);he(vn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",v,r,15)}))}T_(e,n,r){const a=cv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=rA(),h=nA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const v=o.join("");he(vn,`Creating RPC '${e}' stream ${a}: ${v}`,d);const _=c.createWebChannel(v,d);this.I_(_);let E=!1,T=!1;const D=new OV({Yo:M=>{T?he(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(E||(he(vn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),he(vn,`RPC '${e}' stream ${a} sending:`,M),_.send(M))},Zo:()=>_.close()}),k=(M,ee,Z)=>{M.listen(ee,(B=>{try{Z(B)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return k(_,Nu.EventType.OPEN,(()=>{T||(he(vn,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),k(_,Nu.EventType.CLOSE,(()=>{T||(T=!0,he(vn,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(_))})),k(_,Nu.EventType.ERROR,(M=>{T||(T=!0,po(vn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),D.a_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),k(_,Nu.EventType.MESSAGE,(M=>{if(!T){const ee=M.data[0];we(!!ee,16349);const Z=ee,B=Z?.error||Z[0]?.error;if(B){he(vn,`RPC '${e}' stream ${a} received error:`,B);const ie=B.status;let Y=(function(A){const C=Gt[A];if(C!==void 0)return eI(C)})(ie),le=B.message;Y===void 0&&(Y=te.INTERNAL,le="Unknown error status: "+ie+" with message "+B.message),T=!0,D.a_(new fe(Y,le)),_.close()}else he(vn,`RPC '${e}' stream ${a} received:`,ee),D.u_(ee)}})),k(h,tA.STAT_EVENT,(M=>{M.stat===By.PROXY?he(vn,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===By.NOPROXY&&he(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function MV(){return typeof window<"u"?window:null}function Of(){return typeof document<"u"?document:null}function Km(t){return new VM(t,!0)}class jI{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ST="PersistentStream";class OI{constructor(e,n,r,a,o,c,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Nn(n.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new fe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(ST,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(ST,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VV extends OI{constructor(e,n,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UM(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ae.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?kn(c.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=rv(this.serializer),n.addTarget=(function(o,c){let h;const d=c.target;if(h=em(d)?{documents:lI(o,d)}:{query:cI(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=rI(o,c.resumeToken);const g=tv(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ae.min())>0){h.readTime=Jl(o,c.snapshotVersion.toTimestamp());const g=tv(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const r=BM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=rv(this.serializer),n.removeTarget=e,this.q_(n)}}class zV extends OI{constructor(e,n,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=FM(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=rv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>sm(this.serializer,r)))};this.q_(n)}}class LV{}class UV extends LV{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,nv(n,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(te.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,nv(n,r),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nn(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wo="RemoteStore";class BV{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{No(this)&&(he(wo,"Restarting streams for network reachability change."),await(async function(d){const g=De(d);g.Ea.add(4),await wh(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Qm(g)})(this))}))})),this.Ra=new FV(r,a)}}async function Qm(t){if(No(t))for(const e of t.da)await e(!0)}async function wh(t){for(const e of t.da)await e(!1)}function PI(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),u_(n)?c_(n):dc(n).O_()&&l_(n,e))}function o_(t,e){const n=De(t),r=dc(n);n.Ia.delete(e),r.O_()&&MI(n,e),n.Ia.size===0&&(r.O_()?r.L_():No(n)&&n.Ra.set("Unknown"))}function l_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dc(t).Y_(e)}function MI(t,e){t.Va.Ue(e),dc(t).Z_(e)}function c_(t){t.Va=new jM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),dc(t).start(),t.Ra.ua()}function u_(t){return No(t)&&!dc(t).x_()&&t.Ia.size>0}function No(t){return De(t).Ea.size===0}function VI(t){t.Va=void 0}async function qV(t){t.Ra.set("Online")}async function $V(t){t.Ia.forEach(((e,n)=>{l_(t,e)}))}async function HV(t,e){VI(t),u_(t)?(t.Ra.ha(e),c_(t)):t.Ra.set("Unknown")}async function GV(t,e,n){if(t.Ra.set("Online"),e instanceof nI&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){he(wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cm(t,r)}else if(e instanceof kf?t.Va.Ze(e):e instanceof tI?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await DI(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const v=o.Ia.get(g);v&&o.Ia.set(g,v.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,g)=>{const v=o.Ia.get(d);if(!v)return;o.Ia.set(d,v.withResumeToken(Qt.EMPTY_BYTE_STRING,v.snapshotVersion)),MI(o,d);const _=new qs(v.target,d,g,v.sequenceNumber);l_(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){he(wo,"Failed to raise snapshot:",r),await cm(t,r)}}async function cm(t,e,n){if(!ua(e))throw e;t.Ea.add(1),await wh(t),t.Ra.set("Offline"),n||(n=()=>DI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(wo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Qm(t)}))}function zI(t,e){return e().catch((n=>cm(t,n,e)))}async function Eh(t){const e=De(t),n=la(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:no;for(;KV(e);)try{const a=await RV(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,QV(e,a)}catch(a){await cm(e,a)}LI(e)&&UI(e)}function KV(t){return No(t)&&t.Ta.length<10}function QV(t,e){t.Ta.push(e);const n=la(t);n.O_()&&n.X_&&n.ea(e.mutations)}function LI(t){return No(t)&&!la(t).x_()&&t.Ta.length>0}function UI(t){la(t).start()}async function ZV(t){la(t).ra()}async function YV(t){const e=la(t);for(const n of t.Ta)e.ea(n.mutations)}async function XV(t,e,n){const r=t.Ta.shift(),a=Yv.from(r,e,n);await zI(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Eh(t)}async function JV(t,e){e&&la(t).X_&&await(async function(r,a){if((function(c){return CM(c)&&c!==te.ABORTED})(a.code)){const o=r.Ta.shift();la(r).B_(),await zI(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Eh(r)}})(t,e),LI(t)&&UI(t)}async function AT(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),he(wo,"RemoteStore received new credentials");const r=No(n);n.Ea.add(3),await wh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qm(n)}async function WV(t,e){const n=De(t);e?(n.Ea.delete(2),await Qm(n)):e||(n.Ea.add(2),await wh(n),n.Ra.set("Unknown"))}function dc(t){return t.ma||(t.ma=(function(n,r,a){const o=De(n);return o.sa(),new VV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:qV.bind(null,t),t_:$V.bind(null,t),r_:HV.bind(null,t),H_:GV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),u_(t)?c_(t):t.Ra.set("Unknown")):(await t.ma.stop(),VI(t))}))),t.ma}function la(t){return t.fa||(t.fa=(function(n,r,a){const o=De(n);return o.sa(),new zV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZV.bind(null,t),r_:JV.bind(null,t),ta:YV.bind(null,t),na:XV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Eh(t)):(await t.fa.stop(),t.Ta.length>0&&(he(wo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class h_{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const c=Date.now()+r,h=new h_(e,n,c,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(t,e){if(Nn("AsyncQueue",`${e}: ${t}`),ua(t))return new fe(te.UNAVAILABLE,`${e}: ${t}`);throw t}class Ol{static emptySet(e){return new Ol(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ol;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class IT{constructor(){this.ga=new bt(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Wl{constructor(e,n,r,a,o,c,h,d,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,a,o){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Wl(e,n,Ol.emptySet(n),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class e3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class t3{constructor(){this.queries=RT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=De(n),o=a.queries;a.queries=RT(),o.forEach(((c,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function RT(){return new ri((t=>UA(t)),Lm)}async function f_(t,e){const n=De(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new e3,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=d_(c,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&p_(n)}async function m_(t,e){const n=De(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function n3(t,e){const n=De(t);let r=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(r=!0);c.wa=a}}r&&p_(n)}function r3(t,e,n){const r=De(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function p_(t){t.Ca.forEach((e=>{e.next()}))}var uv,NT;(NT=uv||(uv={})).Ma="default",NT.Cache="cache";class g_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Wl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==uv.Cache}}class FI{constructor(e){this.key=e}}class BI{constructor(e){this.key=e}}class s3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=FA(e),this.tu=new Ol(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new IT,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const E=a.get(v),T=bh(this.query,_)?_:null,D=!!E&&this.mutatedKeys.has(E.key),k=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let M=!1;E&&T?E.data.isEqual(T.data)?D!==k&&(r.track({type:3,doc:T}),M=!0):this.su(E,T)||(r.track({type:2,doc:T}),M=!0,(d&&this.eu(T,d)>0||g&&this.eu(T,g)<0)&&(h=!0)):!E&&T?(r.track({type:0,doc:T}),M=!0):E&&!T&&(r.track({type:1,doc:E}),M=!0,(d||g)&&(h=!0)),M&&(T?(c=c.add(T),o=k?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(T,D){const k=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:M})}};return k(T)-k(D)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,g=d!==this.Za;return this.Za=d,c.length!==0||g?{snapshot:new Wl(this.query,e.tu,o,c,e.mutatedKeys,d===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new BI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new FI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const y_="SyncEngine";class i3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class a3{constructor(e){this.key=e,this.hu=!1}}class o3{constructor(e,n,r,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ri((h=>UA(h)),Lm),this.Iu=new Map,this.Eu=new Set,this.du=new bt(pe.comparator),this.Au=new Map,this.Ru=new n_,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function l3(t,e,n=!0){const r=QI(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await qI(r,e,n,!0),a}async function c3(t,e){const n=QI(t);await qI(n,e,!0,!1)}async function qI(t,e,n,r){const a=await NV(t.localStore,xr(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await u3(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&PI(t.remoteStore,a),h}async function u3(t,e,n,r,a){t.pu=(_,E,T)=>(async function(k,M,ee,Z){let B=M.view.ru(ee);B.Cs&&(B=await xT(k.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,B))));const ie=Z&&Z.targetChanges.get(M.targetId),Y=Z&&Z.targetMismatches.get(M.targetId)!=null,le=M.view.applyChanges(B,k.isPrimaryClient,ie,Y);return DT(k,M.targetId,le.au),le.snapshot})(t,_,E,T);const o=await xT(t.localStore,e,!0),c=new s3(e,o.Qs),h=c.ru(o.documents),d=xh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),g=c.applyChanges(h,t.isPrimaryClient,d);DT(t,n,g.au);const v=new i3(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function h3(t,e,n){const r=De(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!Lm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await lv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&o_(r.remoteStore,a.targetId),hv(r,a.targetId)})).catch(Io)):(hv(r,a.targetId),await lv(r.localStore,a.targetId,!0))}async function d3(t,e){const n=De(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),o_(n.remoteStore,r.targetId))}async function f3(t,e,n){const r=ZI(t);try{const a=await(function(c,h){const d=De(c),g=at.now(),v=h.reduce(((T,D)=>T.add(D.key)),ze());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let D=Jn(),k=ze();return d.Ns.getEntries(T,v).next((M=>{D=M,D.forEach(((ee,Z)=>{Z.isValidDocument()||(k=k.add(ee))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,D))).next((M=>{_=M;const ee=[];for(const Z of h){const B=RM(Z,_.get(Z.key).overlayedDocument);B!=null&&ee.push(new ha(Z.key,B,kA(B.value.mapValue),Dn.exists(!0)))}return d.mutationQueue.addMutationBatch(T,g,ee,h)})).next((M=>{E=M;const ee=M.applyToLocalDocumentSet(_,k);return d.documentOverlayCache.saveOverlays(T,M.batchId,ee)}))})).then((()=>({batchId:E.batchId,changes:qA(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let g=c.Vu[c.currentUser.toKey()];g||(g=new bt(Ce)),g=g.insert(h,d),c.Vu[c.currentUser.toKey()]=g})(r,a.batchId,n),await Th(r,a.changes),await Eh(r.remoteStore)}catch(a){const o=d_(a,"Failed to persist write");n.reject(o)}}async function $I(t,e){const n=De(t);try{const r=await AV(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(we(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?we(c.hu,14607):a.removedDocuments.size>0&&(we(c.hu,42227),c.hu=!1))})),await Th(n,r,e)}catch(r){await Io(r)}}function CT(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=De(c);d.onlineState=h;let g=!1;d.queries.forEach(((v,_)=>{for(const E of _.Sa)E.va(h)&&(g=!0)})),g&&p_(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m3(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new bt(pe.comparator);c=c.insert(o,Nt.newNoDocument(o,Ae.min()));const h=ze().add(o),d=new qm(Ae.min(),new Map,new bt(Ce),c,h);await $I(r,d),r.du=r.du.remove(o),r.Au.delete(e),v_(r)}else await lv(r.localStore,e,!1).then((()=>hv(r,e,n))).catch(Io)}async function p3(t,e){const n=De(t),r=e.batch.batchId;try{const a=await SV(n.localStore,e);GI(n,r,null),HI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Th(n,a)}catch(a){await Io(a)}}async function g3(t,e,n){const r=De(t);try{const a=await(function(c,h){const d=De(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return d.mutationQueue.lookupMutationBatch(g,h).next((_=>(we(_!==null,37113),v=_.keys(),d.mutationQueue.removeMutationBatch(g,_)))).next((()=>d.mutationQueue.performConsistencyCheck(g))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(g,v,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>d.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);GI(r,e,n),HI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Th(r,a)}catch(a){await Io(a)}}function HI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function GI(t,e,n){const r=De(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function hv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||KI(t,r)}))}function KI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(o_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),v_(t))}function DT(t,e,n){for(const r of n)r instanceof FI?(t.Ru.addReference(r.key,e),y3(t,r)):r instanceof BI?(he(y_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||KI(t,r.key)):_e(19791,{wu:r})}function y3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he(y_,"New document in limbo: "+n),t.Eu.add(r),v_(t))}function v_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(Je.fromString(e)),r=t.fu.next();t.Au.set(r,new a3(n)),t.du=t.du.insert(n,r),PI(t.remoteStore,new qs(xr(_h(n.path)),r,"TargetPurposeLimboResolution",_r.ce))}}async function Th(t,e,n){const r=De(t),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{c.push(r.pu(d,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(g){a.push(g);const v=i_.As(d.targetId,g);o.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(d,g){const v=De(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>q.forEach(g,(E=>q.forEach(E.Es,(T=>v.persistence.referenceDelegate.addReference(_,E.targetId,T))).next((()=>q.forEach(E.ds,(T=>v.persistence.referenceDelegate.removeReference(_,E.targetId,T)))))))))}catch(_){if(!ua(_))throw _;he(a_,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const T=v.Ms.get(E),D=T.snapshotVersion,k=T.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(E,k)}}})(r.localStore,o))}async function v3(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){he(y_,"User change. New user:",e.toKey());const r=await CI(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new fe(te.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Th(n,r.Ls)}}function _3(t,e){const n=De(t),r=n.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let a=ze();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function QI(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$I.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m3.bind(null,e),e.Pu.H_=n3.bind(null,e.eventManager),e.Pu.yu=r3.bind(null,e.eventManager),e}function ZI(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g3.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Km(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NI(this.persistence,new RI,e.initialUser,this.serializer)}Cu(e){return new r_(Gm.mi,this.serializer)}Du(e){return new kI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class b3 extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){we(this.persistence.referenceDelegate instanceof lm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new EI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new r_((r=>lm.mi(r,n)),this.serializer)}}class x3 extends ah{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await ZI(this.xu.syncEngine),await Eh(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return NI(this.persistence,new RI,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new EI(r,e.asyncQueue,n)}Mu(e,n){const r=new I4(n,this.persistence);return new A4(e.asyncQueue,r)}Cu(e){const n=xV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new s_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,MV(),Of(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new kI}}class um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=v3.bind(null,this.syncEngine),await WV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new t3})()}createDatastore(e){const n=Km(e.databaseInfo.databaseId),r=(function(o){return new PV(o)})(e.databaseInfo);return(function(o,c,h,d){return new UV(o,c,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,c,h){return new BV(r,a,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>CT(this.syncEngine,n,0)),(function(){return TT.v()?new TT:new DV})())}createSyncEngine(e,n){return(function(a,o,c,h,d,g,v){const _=new o3(a,o,c,h,d,g);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=De(n);he(wo,"RemoteStore shutting down."),r.Ea.add(5),await wh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};class __{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ca="FirestoreClient";class w3{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=Vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{he(ca,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(he(ca,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ty(t,e){t.asyncQueue.verifyOperationInProgress(),he(ca,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await CI(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function kT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await E3(t);he(ca,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>AT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>AT(e.remoteStore,a))),t._onlineComponents=e}async function E3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(ca,"Using user provided OfflineComponentProvider");try{await Ty(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Ty(t,new ah)}}else he(ca,"Using default OfflineComponentProvider"),await Ty(t,new b3(void 0));return t._offlineComponents}async function YI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(ca,"Using user provided OnlineComponentProvider"),await kT(t,t._uninitializedComponentsProvider._online)):(he(ca,"Using default OnlineComponentProvider"),await kT(t,new um))),t._onlineComponents}function T3(t){return YI(t).then((e=>e.syncEngine))}async function hm(t){const e=await YI(t),n=e.eventManager;return n.onListen=l3.bind(null,e.syncEngine),n.onUnlisten=h3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=c3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=d3.bind(null,e.syncEngine),n}function S3(t,e,n={}){const r=new ps;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,g){const v=new __({next:E=>{v.Nu(),c.enqueueAndForget((()=>m_(o,_)));const T=E.docs.has(h);!T&&E.fromCache?g.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&d&&d.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new g_(_h(h.path),v,{includeMetadataChanges:!0,qa:!0});return f_(o,_)})(await hm(t),t.asyncQueue,e,n,r))),r.promise}function A3(t,e,n={}){const r=new ps;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,g){const v=new __({next:E=>{v.Nu(),c.enqueueAndForget((()=>m_(o,_))),E.fromCache&&d.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new g_(h,v,{includeMetadataChanges:!0,qa:!0});return f_(o,_)})(await hm(t),t.asyncQueue,e,n,r))),r.promise}function XI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const jT=new Map;const JI="firestore.googleapis.com",OT=!0;class PT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JI,this.ssl=OT}else this.host=e.host,this.ssl=e.ssl??OT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_I;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sV)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new h4;switch(r.type){case"firstParty":return new p4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=jT.get(n);r&&(he("ComponentProvider","Removing Datastore"),jT.delete(n),r.terminate())})(this),Promise.resolve()}}function I3(t,e,n,r={}){t=Wn(t,Zm);const a=oc(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(US(`https://${h}`),FS("Firestore",!0)),o.host!==JI&&o.host!==h&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:r};if(!ho(d,c)&&(t._setSettings(d),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=mn.MOCK_USER;else{g=FO(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(_)}t._authCredentials=new d4(new iA(g,v))}}class si{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new si(this.firestore,e,this._query)}}class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gh(n,Mt._jsonSchema))return new Mt(e,r||null,new pe(Je.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Kt("string",Mt._jsonSchemaVersion),referencePath:Kt("string")};class sa extends si{constructor(e,n,r){super(e,n,_h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new pe(e))}withConverter(e){return new sa(this.firestore,e,this._path)}}function b_(t,e,...n){if(t=En(t),oA("collection","path",e),t instanceof Zm){const r=Je.fromString(e,...n);return SE(r),new sa(t,null,r)}{if(!(t instanceof Mt||t instanceof sa))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return SE(r),new sa(t.firestore,null,r)}}function fc(t,e,...n){if(t=En(t),arguments.length===1&&(e=Vv.newId()),oA("doc","path",e),t instanceof Zm){const r=Je.fromString(e,...n);return TE(r),new Mt(t,null,new pe(r))}{if(!(t instanceof Mt||t instanceof sa))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return TE(r),new Mt(t.firestore,t instanceof sa?t.converter:null,new pe(r))}}const MT="AsyncQueue";class VT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jI(this,"async_queue_retry"),this._c=()=>{const r=Of();r&&he(MT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Of();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ua(e))throw e;he(MT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Nn("INTERNAL UNHANDLED ERROR: ",zT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=h_.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&_e(47125,{Pc:zT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function LT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Ws extends Zm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new VT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VT(e),this._firestoreClient=void 0,await e}}}function R3(t,e){const n=typeof t=="object"?t:ZS(),r=typeof t=="string"?t:Jf,a=Pv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=LO("firestore");o&&I3(a,...o)}return a}function Ym(t){if(t._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WI(t),t._firestoreClient}function WI(t){const e=t._freezeSettings(),n=(function(a,o,c,h){return new nM(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,XI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new w3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}function N3(t,e){po("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return C3(t,um.provider,{build:r=>new x3(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function C3(t,e,n){if((t=Wn(t,Ws))._firestoreClient||t._terminated)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new fe(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},WI(t)}class yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yr(Qt.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yr(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gh(e,yr._jsonSchema))return yr.fromBase64String(e.bytes)}}yr._jsonSchemaVersion="firestore/bytes/1.0",yr._jsonSchema={type:Kt("string",yr._jsonSchemaVersion),bytes:Kt("string")};class x_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class w_{constructor(e){this._methodName=e}}class gs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gs._jsonSchemaVersion}}static fromJSON(e){if(gh(e,gs._jsonSchema))return new gs(e.latitude,e.longitude)}}gs._jsonSchemaVersion="firestore/geoPoint/1.0",gs._jsonSchema={type:Kt("string",gs._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};class ys{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ys._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gh(e,ys._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ys(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ys._jsonSchemaVersion="firestore/vectorValue/1.0",ys._jsonSchema={type:Kt("string",ys._jsonSchemaVersion),vectorValues:Kt("object")};const D3=/^__.*__$/;class k3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new hc(e,this.data,n,this.fieldTransforms)}}function eR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class E_{constructor(e,n,r,a,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new E_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eR(this.Ac)&&D3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class j3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Km(e)}Cc(e,n,r,a=!1){return new E_({Ac:e,methodName:n,Dc:r,path:wt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(t){const e=t._freezeSettings(),n=Km(t._databaseId);return new j3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tR(t,e,n,r,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);iR("Data must be an object, but it was:",c,r);const h=rR(r,c);let d,g;if(o.merge)d=new br(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const _ of o.mergeFields){const E=O3(e,_,n);if(!c.contains(E))throw new fe(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);M3(v,E)||v.push(E)}d=new br(v),g=c.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,g=c.fieldTransforms;return new k3(new Un(h),d,g)}class T_ extends w_{_toFieldTransform(e){return new YA(e.path,new Zl)}isEqual(e){return e instanceof T_}}function nR(t,e,n,r=!1){return S_(n,t.Cc(r?4:3,e))}function S_(t,e){if(sR(t=En(t)))return iR("Unsupported field value:",e,t),rR(t,e);if(t instanceof w_)return(function(r,a){if(!eR(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const h of r){let d=S_(h,a.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=at.fromDate(r);return{timestampValue:Jl(a.serializer,o)}}if(r instanceof at){const o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jl(a.serializer,o)}}if(r instanceof gs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yr)return{bytesValue:rI(a.serializer,r._byteString)};if(r instanceof Mt){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ys)return(function(c,h){return{mapValue:{fields:{[$v]:{stringValue:Hv},[Gl]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return Qv(h.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Cm(r)}`)})(t,e)}function rR(t,e){const n={};return EA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,((r,a)=>{const o=S_(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function sR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof gs||t instanceof yr||t instanceof Mt||t instanceof w_||t instanceof ys)}function iR(t,e,n){if(!sR(n)||!lA(n)){const r=Cm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function O3(t,e,n){if((e=En(e))instanceof x_)return e._internalPath;if(typeof e=="string")return aR(t,e);throw dm("Field path arguments must be of type string or ",t,!1,void 0,n)}const P3=new RegExp("[~\\*/\\[\\]]");function aR(t,e,n){if(e.search(P3)>=0)throw dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new x_(...e.split("."))._internalPath}catch{throw dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dm(t,e,n,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${r}`),c&&(d+=` in document ${a}`),d+=")"),new fe(te.INVALID_ARGUMENT,h+t+d)}function M3(t,e){return t.some((n=>n.isEqual(e)))}class A_{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V3 extends A_{data(){return super.data()}}function oR(t,e){return typeof e=="string"?aR(t,e):e instanceof x_?e._internalPath:e._delegate._internalPath}function lR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I_{}class R_ extends I_{}function z3(t,e,...n){let r=[];e instanceof I_&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((d=>d instanceof C_)).length,h=o.filter((d=>d instanceof N_)).length;if(c>1||c>0&&h>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class N_ extends R_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new N_(e,n,r)}_apply(e){const n=this._parse(e);return cR(e._query,n),new si(e.firestore,e.converter,ev(e._query,n))}_parse(e){const n=Xm(e.firestore);return(function(o,c,h,d,g,v,_){let E;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){FT(_,v);const D=[];for(const k of _)D.push(UT(d,o,k));E={arrayValue:{values:D}}}else E=UT(d,o,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||FT(_,v),E=nR(h,c,_,v==="in"||v==="not-in");return He.create(g,v,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class C_ extends I_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ot.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const d of h)cR(c,d),c=ev(c,d)})(e._query,n),new si(e.firestore,e.converter,ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D_ extends R_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new D_(e,n,r)}_apply(e){return new si(e.firestore,e.converter,nm(e._query,this._limit,this._limitType))}}function L3(t){return w4("limit",t),D_._create("limit",t,"F")}class k_ extends R_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new k_(e,n,r)}_apply(e){const n=F3(e,this.type,this._docOrFields,this._inclusive);return new si(e.firestore,e.converter,(function(a,o){return new uc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)})(e._query,n))}}function U3(...t){return k_._create("startAfter",t,!1)}function F3(t,e,n,r){if(n[0]=En(n[0]),n[0]instanceof A_)return(function(o,c,h,d,g){if(!d)throw new fe(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const _ of jl(o))if(_.field.isKeyField())v.push(yo(c,d.key));else{const E=d.data.field(_.field);if(Mm(E))throw new fe(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const T=_.field.canonicalString();throw new fe(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}v.push(E)}return new oa(v,g)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=Xm(t.firestore);return(function(c,h,d,g,v,_){const E=c.explicitOrderBy;if(v.length>E.length)throw new fe(te.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let D=0;D<v.length;D++){const k=v[D];if(E[D].field.isKeyField()){if(typeof k!="string")throw new fe(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof k}`);if(!Kv(c)&&k.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${k}' contains a slash.`);const M=c.path.child(Je.fromString(k));if(!pe.isDocumentKey(M))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const ee=new pe(M);T.push(yo(h,ee))}else{const M=nR(d,g,k);T.push(M)}}return new oa(T,_)})(t._query,t.firestore._databaseId,a,e,n,r)}}function UT(t,e,n){if(typeof(n=En(n))=="string"){if(n==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kv(e)&&n.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!pe.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yo(t,new pe(r))}if(n instanceof Mt)return yo(t,n._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(n)}.`)}function FT(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cR(t,e){const n=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class B3{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ro(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Gl].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new ys(n)}convertGeoPoint(e){return new gs(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nh(e));default:return null}}convertTimestamp(e){const n=Xs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);we(fI(r),9688,{name:e});const a=new go(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return a.isEqual(n)||Nn(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function uR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class io extends A_{constructor(e,n,r,a,o,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=io._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}io._jsonSchemaVersion="firestore/documentSnapshot/1.0",io._jsonSchema={type:Kt("string",io._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Pf extends io{data(e={}){return super.data(e)}}class ao{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ju(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Pf(this._firestore,this._userDataWriter,r.key,r,new ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new Pf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ju(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Pf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ju(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:q3(h.type),doc:d,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}function $3(t){t=Wn(t,Mt);const e=Wn(t.firestore,Ws);return S3(Ym(e),t._key).then((n=>fR(e,t,n)))}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:Kt("string",ao._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class j_ extends B3{constructor(e){super(),this.firestore=e}convertBytes(e){return new yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function H3(t){t=Wn(t,si);const e=Wn(t.firestore,Ws),n=Ym(e),r=new j_(e);return lR(t._query),A3(n,t._query).then((a=>new ao(e,r,t,a)))}function hR(t,e,n){t=Wn(t,Mt);const r=Wn(t.firestore,Ws),a=uR(t.converter,e,n);return O_(r,[tR(Xm(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Dn.none())])}function G3(t){return O_(Wn(t.firestore,Ws),[new Bm(t._key,Dn.none())])}function K3(t,e){const n=Wn(t.firestore,Ws),r=fc(t),a=uR(t.converter,e);return O_(n,[tR(Xm(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Dn.exists(!1))]).then((()=>r))}function dR(t,...e){t=En(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||LT(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(LT(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,c,h;if(t instanceof Mt)c=Wn(t.firestore,Ws),h=_h(t._key.path),o={next:d=>{e[r]&&e[r](fR(c,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Wn(t,si);c=Wn(d.firestore,Ws),h=d._query;const g=new j_(c);o={next:v=>{e[r]&&e[r](new ao(c,g,d,v))},error:e[r+1],complete:e[r+2]},lR(t._query)}return(function(g,v,_,E){const T=new __(E),D=new g_(v,T,_);return g.asyncQueue.enqueueAndForget((async()=>f_(await hm(g),D))),()=>{T.Nu(),g.asyncQueue.enqueueAndForget((async()=>m_(await hm(g),D)))}})(Ym(c),h,a,o)}function O_(t,e){return(function(r,a){const o=new ps;return r.asyncQueue.enqueueAndForget((async()=>f3(await T3(r),a,o))),o.promise})(Ym(t),e)}function fR(t,e,n){const r=n.docs.get(e._key),a=new j_(t);return new io(t,a,e._key,r,new ju(n.hasPendingWrites,n.fromCache),e.converter)}function Q3(){return new T_("serverTimestamp")}(function(e,n=!0){(function(a){cc=a})(lc),Ul(new fo("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new Ws(new f4(r.getProvider("auth-internal")),new g4(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new go(g.options.projectId,v)})(c,a),c);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),ta(bE,xE,e),ta(bE,xE,"esm2020")})();var Z3="firebase",Y3="12.7.0";ta(Z3,Y3,"app");function mR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X3=mR,pR=new mh("auth","Firebase",mR());const fm=new jv("@firebase/auth");function J3(t,...e){fm.logLevel<=$e.WARN&&fm.warn(`Auth (${lc}): ${t}`,...e)}function Mf(t,...e){fm.logLevel<=$e.ERROR&&fm.error(`Auth (${lc}): ${t}`,...e)}function bs(t,...e){throw M_(t,...e)}function Br(t,...e){return M_(t,...e)}function P_(t,e,n){const r={...X3(),[e]:n};return new mh("auth","Firebase",r).create(e,{appName:t.name})}function oo(t){return P_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function W3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&bs(t,"argument-error"),P_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function M_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pR.create(t,...e)}function Ne(t,e,...n){if(!t)throw M_(e,...n)}function $s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mf(e),new Error(e)}function ei(t,e){t||$s(e)}function dv(){return typeof self<"u"&&self.location?.href||""}function e6(){return BT()==="http:"||BT()==="https:"}function BT(){return typeof self<"u"&&self.location?.protocol||null}function t6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e6()||GO()||"connection"in navigator)?navigator.onLine:!0}function n6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Sh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ei(n>e,"Short delay should be less than long delay!"),this.isMobile=$O()||KO()}get(){return t6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V_(t,e){ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class gR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const r6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const s6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],i6=new Sh(3e4,6e4);function z_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function mc(t,e,n,r,a={}){return yR(t,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const h=ph({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:d,...o};return HO()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&oc(t.emulatorConfig.host)&&(g.credentials="include"),gR.fetch()(await vR(t,t.config.apiHost,n,h),g)})}async function yR(t,e,n){t._canInitEmulator=!1;const r={...r6,...e};try{const a=new o6(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw yf(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,g]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw yf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw yf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw yf(t,"user-disabled",c);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw P_(t,v,g);bs(t,v)}}catch(a){if(a instanceof ni)throw a;bs(t,"network-request-failed",{message:String(a)})}}async function a6(t,e,n,r,a={}){const o=await mc(t,e,n,r,a);return"mfaPendingCredential"in o&&bs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function vR(t,e,n,r){const a=`${e}${n}?${r}`,o=t,c=o.config.emulator?V_(t.config,a):`${t.config.apiScheme}://${a}`;return s6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class o6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),i6.get())})}}function yf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Br(t,e,r);return a.customData._tokenResponse=n,a}async function l6(t,e){return mc(t,"POST","/v1/accounts:delete",e)}async function mm(t,e){return mc(t,"POST","/v1/accounts:lookup",e)}function qu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c6(t,e=!1){const n=En(t),r=await n.getIdToken(e),a=L_(r);Ne(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:qu(Sy(a.auth_time)),issuedAtTime:qu(Sy(a.iat)),expirationTime:qu(Sy(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Sy(t){return Number(t)*1e3}function L_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{const a=PS(n);return a?JSON.parse(a):(Mf("Failed to decode base64 JWT payload"),null)}catch(a){return Mf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function qT(t){const e=L_(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function oh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ni&&u6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function u6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class h6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pm(t){const e=t.auth,n=await t.getIdToken(),r=await oh(t,mm(e,{idToken:n}));Ne(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?_R(a.providerUserInfo):[],c=f6(t.providerData,o),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,g=h?d:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new fv(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function d6(t){const e=En(t);await pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f6(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function _R(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function m6(t,e){const n=await yR(t,{},async()=>{const r=ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=await vR(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&oc(t.emulatorConfig.host)&&(d.credentials="include"),gR.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function p6(t,e){return mc(t,"POST","/v2/accounts:revokeToken",z_(t,e))}class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=qT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await m6(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,c=new Pl;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ne(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Ne(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return $s("not implemented")}}function qi(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ur{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new h6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new fv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await oh(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c6(this,e)}reload(){return d6(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lr(this.auth.app))return Promise.reject(oo(this.auth));const e=await this.getIdToken();return await oh(this,l6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:T,providerData:D,stsTokenManager:k}=n;Ne(_&&k,e,"internal-error");const M=Pl.fromJSON(this.name,k);Ne(typeof _=="string",e,"internal-error"),qi(r,e.name),qi(a,e.name),Ne(typeof E=="boolean",e,"internal-error"),Ne(typeof T=="boolean",e,"internal-error"),qi(o,e.name),qi(c,e.name),qi(h,e.name),qi(d,e.name),qi(g,e.name),qi(v,e.name);const ee=new Ur({uid:_,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:T,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:M,createdAt:g,lastLoginAt:v});return D&&Array.isArray(D)&&(ee.providerData=D.map(Z=>({...Z}))),d&&(ee._redirectEventId=d),ee}static async _fromIdTokenResponse(e,n,r=!1){const a=new Pl;a.updateFromServerResponse(n);const o=new Ur({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await pm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ne(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?_R(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Pl;h.updateFromIdToken(r);const d=new Ur({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new fv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,g),d}}const $T=new Map;function Hs(t){ei(t instanceof Function,"Expected a class definition");let e=$T.get(t);return e?(ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$T.set(t,e),e)}class bR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bR.type="NONE";const HT=bR;function Vf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Vf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Vf("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mm(this.auth,{idToken:e}).catch(()=>{});return n?Ur._fromGetAccountInfoResponse(this.auth,n,e):null}return Ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ml(Hs(HT),e,r);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||Hs(HT);const c=Vf(r,e.config.apiKey,e.name);let h=null;for(const g of n)try{const v=await g._get(c);if(v){let _;if(typeof v=="string"){const E=await mm(e,{idToken:v}).catch(()=>{});if(!E)break;_=await Ur._fromGetAccountInfoResponse(e,E,v)}else _=Ur._fromJSON(e,v);g!==o&&(h=_),o=g;break}}catch{}const d=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ml(o,e,r):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new Ml(o,e,r))}}function GT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AR(e))return"Blackberry";if(IR(e))return"Webos";if(wR(e))return"Safari";if((e.includes("chrome/")||ER(e))&&!e.includes("edge/"))return"Chrome";if(SR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function xR(t=Wt()){return/firefox\//i.test(t)}function wR(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ER(t=Wt()){return/crios\//i.test(t)}function TR(t=Wt()){return/iemobile/i.test(t)}function SR(t=Wt()){return/android/i.test(t)}function AR(t=Wt()){return/blackberry/i.test(t)}function IR(t=Wt()){return/webos/i.test(t)}function U_(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g6(t=Wt()){return U_(t)&&!!window.navigator?.standalone}function y6(){return QO()&&document.documentMode===10}function RR(t=Wt()){return U_(t)||SR(t)||IR(t)||AR(t)||/windows phone/i.test(t)||TR(t)}function NR(t,e=[]){let n;switch(t){case"Browser":n=GT(Wt());break;case"Worker":n=`${GT(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lc}/${r}`}class v6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,h)=>{try{const d=e(o);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function _6(t,e={}){return mc(t,"GET","/v2/passwordPolicy",z_(t,e))}const b6=6;class x6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??b6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class w6{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KT(this),this.idTokenSubscription=new KT(this),this.beforeStateQueue=new v6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ml.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mm(this,{idToken:e}),r=await Ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Lr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lr(this.app))return Promise.reject(oo(this));const n=e?En(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lr(this.app)?Promise.reject(oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lr(this.app)?Promise.reject(oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _6(this),n=new x6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await p6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hs(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[Hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&J3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jm(t){return En(t)}class KT{constructor(e){this.auth=e,this.observer=null,this.addObserver=eP(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let F_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function E6(t){F_=t}function T6(t){return F_.loadJS(t)}function S6(){return F_.gapiScript}function A6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function I6(t,e){const n=Pv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(ho(o,e??{}))return a;bs(a,"already-initialized")}return n.initialize({options:e})}function R6(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function N6(t,e,n){const r=Jm(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=CR(e),{host:c,port:h}=C6(e),d=h===null?"":`:${h}`,g={url:`${o}//${c}${d}/`},v=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(ho(g,r.config.emulator)&&ho(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,oc(c)?(US(`${o}//${c}${d}`),FS("Auth",!0)):D6()}function CR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function C6(t){const e=CR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:QT(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:QT(c)}}}function QT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class DR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $s("not implemented")}_getIdTokenResponse(e){return $s("not implemented")}_linkToIdToken(e,n){return $s("not implemented")}_getReauthenticationResolver(e){return $s("not implemented")}}async function Vl(t,e){return a6(t,"POST","/v1/accounts:signInWithIdp",z_(t,e))}const k6="http://localhost";class Eo extends DR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const c=new Eo(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vl(e,n)}buildRequest(){const e={requestUri:k6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ph(n)}return e}}class B_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ah extends B_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gi extends Ah{constructor(){super("facebook.com")}static credential(e){return Eo._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";class Bs extends Ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Eo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class Ki extends Ah{constructor(){super("github.com")}static credential(e){return Eo._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";class Qi extends Ah{constructor(){super("twitter.com")}static credential(e,n){return Eo._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";class ec{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Ur._fromIdTokenResponse(e,r,a),c=ZT(r);return new ec({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=ZT(r);return new ec({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function ZT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class gm extends ni{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,gm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new gm(e,n,r,a)}}function kR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gm._fromErrorAndOperation(t,o,e,r):o})}async function j6(t,e,n=!1){const r=await oh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ec._forOperation(t,"link",r)}async function O6(t,e,n=!1){const{auth:r}=t;if(Lr(r.app))return Promise.reject(oo(r));const a="reauthenticate";try{const o=await oh(t,kR(r,a,e,t),n);Ne(o.idToken,r,"internal-error");const c=L_(o.idToken);Ne(c,r,"internal-error");const{sub:h}=c;return Ne(t.uid===h,r,"user-mismatch"),ec._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&bs(r,"user-mismatch"),o}}async function P6(t,e,n=!1){if(Lr(t.app))return Promise.reject(oo(t));const r="signIn",a=await kR(t,r,e),o=await ec._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}function M6(t,e,n,r){return En(t).onIdTokenChanged(e,n,r)}function V6(t,e,n){return En(t).beforeAuthStateChanged(e,n)}function jR(t,e,n,r){return En(t).onAuthStateChanged(e,n,r)}function z6(t){return En(t).signOut()}const ym="__sak";class OR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ym,"1"),this.storage.removeItem(ym),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const L6=1e3,U6=10;class PR extends OR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);y6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,U6):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},L6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PR.type="LOCAL";const F6=PR;class MR extends OR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MR.type="SESSION";const VR=MR;function B6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Wm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async g=>g(n.origin,o)),d=await B6(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wm.receivers=[];function q_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class q6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const g=q_("",20);a.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(v),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function vs(){return window}function $6(t){vs().location.href=t}function zR(){return typeof vs().WorkerGlobalScope<"u"&&typeof vs().importScripts=="function"}async function H6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G6(){return navigator?.serviceWorker?.controller||null}function K6(){return zR()?self:null}const LR="firebaseLocalStorageDb",Q6=1,vm="firebaseLocalStorage",UR="fbase_key";class Ih{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ep(t,e){return t.transaction([vm],e?"readwrite":"readonly").objectStore(vm)}function Z6(){const t=indexedDB.deleteDatabase(LR);return new Ih(t).toPromise()}function mv(){const t=indexedDB.open(LR,Q6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vm,{keyPath:UR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vm)?e(r):(r.close(),await Z6(),e(await mv()))})})}async function YT(t,e,n){const r=ep(t,!0).put({[UR]:e,value:n});return new Ih(r).toPromise()}async function Y6(t,e){const n=ep(t,!1).get(e),r=await new Ih(n).toPromise();return r===void 0?null:r.value}function XT(t,e){const n=ep(t,!0).delete(e);return new Ih(n).toPromise()}const X6=800,J6=3;class FR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>J6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wm._getInstance(K6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await H6(),!this.activeServiceWorker)return;this.sender=new q6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mv();return await YT(e,ym,"1"),await XT(e,ym),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Y6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=ep(a,!1).getAll();return new Ih(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FR.type="LOCAL";const W6=FR;new Sh(3e4,6e4);function BR(t,e){return e?Hs(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class $_ extends DR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ez(t){return P6(t.auth,new $_(t),t.bypassAuthState)}function tz(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),O6(n,new $_(t),t.bypassAuthState)}async function nz(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),j6(n,new $_(t),t.bypassAuthState)}class qR{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ez;case"linkViaPopup":case"linkViaRedirect":return nz;case"reauthViaPopup":case"reauthViaRedirect":return tz;default:bs(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rz=new Sh(2e3,1e4);async function sz(t,e,n){if(Lr(t.app))return Promise.reject(Br(t,"operation-not-supported-in-this-environment"));const r=Jm(t);W3(t,e,B_);const a=BR(r,n);return new to(r,"signInViaPopup",e,a).executeNotNull()}class to extends qR{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rz.get())};e()}}to.currentPopupAction=null;const iz="pendingRedirect",zf=new Map;class az extends qR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zf.get(this.auth._key());if(!e){try{const r=await oz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zf.set(this.auth._key(),e)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oz(t,e){const n=uz(e),r=cz(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function lz(t,e){zf.set(t._key(),e)}function cz(t){return Hs(t._redirectPersistence)}function uz(t){return Vf(iz,t.config.apiKey,t.name)}async function hz(t,e,n=!1){if(Lr(t.app))return Promise.reject(oo(t));const r=Jm(t),a=BR(r,e),c=await new az(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const dz=600*1e3;class fz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$R(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Br(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dz&&this.cachedEventUids.clear(),this.cachedEventUids.has(JT(e))}saveEventToCache(e){this.cachedEventUids.add(JT(e)),this.lastProcessedEventTime=Date.now()}}function JT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $R({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $R(t);default:return!1}}async function pz(t,e={}){return mc(t,"GET","/v1/projects",e)}const gz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yz=/^https?/;async function vz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pz(t);for(const n of e)try{if(_z(n))return}catch{}bs(t,"unauthorized-domain")}function _z(t){const e=dv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!yz.test(n))return!1;if(gz.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const bz=new Sh(3e4,6e4);function WT(){const t=vs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xz(t){return new Promise((e,n)=>{function r(){WT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WT(),n(Br(t,"network-request-failed"))},timeout:bz.get()})}if(vs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vs().gapi?.load)r();else{const a=A6("iframefcb");return vs()[a]=()=>{gapi.load?r():n(Br(t,"network-request-failed"))},T6(`${S6()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw Lf=null,e})}let Lf=null;function wz(t){return Lf=Lf||xz(t),Lf}const Ez=new Sh(5e3,15e3),Tz="__/auth/iframe",Sz="emulator/auth/iframe",Az={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rz(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?V_(e,Sz):`https://${t.config.authDomain}/${Tz}`,r={apiKey:e.apiKey,appName:t.name,v:lc},a=Iz.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ph(r).slice(1)}`}async function Nz(t){const e=await wz(t),n=vs().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:Rz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Az,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Br(t,"network-request-failed"),h=vs().setTimeout(()=>{o(c)},Ez.get());function d(){vs().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(c)})}))}const Cz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dz=500,kz=600,jz="_blank",Oz="http://localhost";class e1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pz(t,e,n,r=Dz,a=kz){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...Cz,width:r.toString(),height:a.toString(),top:o,left:c},g=Wt().toLowerCase();n&&(h=ER(g)?jz:n),xR(g)&&(e=e||Oz,d.scrollbars="yes");const v=Object.entries(d).reduce((E,[T,D])=>`${E}${T}=${D},`,"");if(g6(g)&&h!=="_self")return Mz(e||"",h),new e1(null);const _=window.open(e||"",h,v);Ne(_,t,"popup-blocked");try{_.focus()}catch{}return new e1(_)}function Mz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Vz="__/auth/handler",zz="emulator/auth/handler",Lz=encodeURIComponent("fac");async function t1(t,e,n,r,a,o){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lc,eventId:a};if(e instanceof B_){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",WO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof Ah){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const d=await t._getAppCheckToken(),g=d?`#${Lz}=${encodeURIComponent(d)}`:"";return`${Uz(t)}?${ph(h).slice(1)}${g}`}function Uz({config:t}){return t.emulator?V_(t,zz):`https://${t.authDomain}/${Vz}`}const Ay="webStorageSupport";class Fz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VR,this._completeRedirectFn=hz,this._overrideRedirectResult=lz}async _openPopup(e,n,r,a){ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await t1(e,n,r,dv(),a);return Pz(e,o,q_())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await t1(e,n,r,dv(),a);return $6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(ei(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Nz(e),r=new fz(e);return n.register("authEvent",a=>(Ne(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ay,{type:Ay},a=>{const o=a?.[0]?.[Ay];o!==void 0&&n(!!o),bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RR()||wR()||U_()}}const Bz=Fz;var n1="@firebase/auth",r1="1.12.0";class qz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $z(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hz(t){Ul(new fo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Ne(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NR(t)},g=new w6(r,a,o,d);return R6(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ul(new fo("auth-internal",e=>{const n=Jm(e.getProvider("auth").getImmediate());return(r=>new qz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ta(n1,r1,$z(t)),ta(n1,r1,"esm2020")}const Gz=300,Kz=LS("authIdTokenMaxAge")||Gz;let s1=null;const Qz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Kz)return;const a=n?.token;s1!==a&&(s1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Zz(t=ZS()){const e=Pv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=I6(t,{popupRedirectResolver:Bz,persistence:[W6,F6,VR]}),r=LS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=Qz(o.toString());V6(n,c,()=>c(n.currentUser)),M6(n,h=>c(h))}}const a=VS("auth");return a&&N6(n,`http://${a}`),n}function Yz(){return document.getElementsByTagName("head")?.[0]??document}E6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Br("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",Yz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hz("Browser");const Xz={apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",storageBucket:void 0,messagingSenderId:"490973136832",appId:"1:490973136832:web:1811051408fdde8fbcea25",measurementId:"G-D3YR1YJXPN"},HR=pE().length?pE()[0]:QS(Xz),ii=R3(HR),Uf=Zz(HR);typeof window<"u"&&N3(ii).catch(t=>{console.debug("IndexedDB persistence not enabled:",t?.code??t?.message??t)});function GR(t,e,n){const r=b_(t,e);return n?r.withConverter(n):r}async function Jz(t,e,n){const r=fc(ii,t,e),a=n?r.withConverter(n):r,o=await $3(a);return o.exists()?o.data():null}async function KR(t,e,n){const r=GR(ii,t,n);return(await K3(r,e)).id}async function Wz(t,e,n,r){const a=fc(ii,t,e),o=r?a.withConverter(r):a;await hR(o,n)}async function e5(t,e,n,r){const a=fc(ii,t,e),o=r?a.withConverter(r):a;await hR(o,n,{merge:!0})}async function t5(t,e){const n=fc(ii,t,e);await G3(n)}async function n5(t,e){const{pageSize:n=20,cursor:r=null,additionalConstraints:a=[],converter:o}=e??{},c=GR(ii,t,o),h=[L3(n),...a];r&&h.push(U3(r));const d=z3(c,...h),g=await H3(d),v=g.docs.map(E=>E.data()),_=g.docs[g.docs.length-1]??null;return{docs:v,nextCursor:_?_.id:null}}function ae(t,e,n){function r(h,d){if(h._zod||Object.defineProperty(h,"_zod",{value:{def:d,constr:c,traits:new Set},enumerable:!1}),h._zod.traits.has(t))return;h._zod.traits.add(t),e(h,d);const g=c.prototype,v=Object.keys(g);for(let _=0;_<v.length;_++){const E=v[_];E in h||(h[E]=g[E].bind(h))}}const a=n?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function c(h){var d;const g=n?.Parent?new o:this;r(g,h),(d=g._zod).deferred??(d.deferred=[]);for(const v of g._zod.deferred)v();return g}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:h=>n?.Parent&&h instanceof n.Parent?!0:h?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class zl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class QR extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const ZR={};function To(t){return ZR}function YR(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,a])=>e.indexOf(+r)===-1).map(([r,a])=>a)}function pv(t,e){return typeof e=="bigint"?e.toString():e}function H_(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function G_(t){return t==null}function K_(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function r5(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const o=n>a?n:a,c=Number.parseInt(t.toFixed(o).replace(".","")),h=Number.parseInt(e.toFixed(o).replace(".",""));return c%h/10**o}const i1=Symbol("evaluating");function lt(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==i1)return r===void 0&&(r=i1,r=n()),r},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function Co(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function da(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function a1(t){return JSON.stringify(t)}function s5(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const XR="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function _m(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const i5=H_(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function lh(t){if(_m(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(_m(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function JR(t){return lh(t)?{...t}:Array.isArray(t)?[...t]:t}const a5=new Set(["string","number","symbol"]);function tc(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fa(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Se(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function o5(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const l5={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function c5(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=da(t._zod.def,{get shape(){const c={};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&(c[h]=n.shape[h])}return Co(this,"shape",c),c},checks:[]});return fa(t,o)}function u5(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=da(t._zod.def,{get shape(){const c={...t._zod.def.shape};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&delete c[h]}return Co(this,"shape",c),c},checks:[]});return fa(t,o)}function h5(t,e){if(!lh(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const c in e)if(Object.getOwnPropertyDescriptor(o,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=da(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return Co(this,"shape",o),o}});return fa(t,a)}function d5(t,e){if(!lh(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=da(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return Co(this,"shape",r),r}});return fa(t,n)}function f5(t,e){const n=da(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Co(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return fa(t,n)}function m5(t,e,n){const a=e._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=da(e._zod.def,{get shape(){const h=e._zod.def.shape,d={...h};if(n)for(const g in n){if(!(g in h))throw new Error(`Unrecognized key: "${g}"`);n[g]&&(d[g]=t?new t({type:"optional",innerType:h[g]}):h[g])}else for(const g in h)d[g]=t?new t({type:"optional",innerType:h[g]}):h[g];return Co(this,"shape",d),d},checks:[]});return fa(e,c)}function p5(t,e,n){const r=da(e._zod.def,{get shape(){const a=e._zod.def.shape,o={...a};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(o[c]=new t({type:"nonoptional",innerType:a[c]}))}else for(const c in a)o[c]=new t({type:"nonoptional",innerType:a[c]});return Co(this,"shape",o),o}});return fa(e,r)}function kl(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function WR(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function vf(t){return typeof t=="string"?t:t?.message}function So(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const a=vf(t.inst?._zod.def?.error?.(t))??vf(e?.error?.(t))??vf(n.customError?.(t))??vf(n.localeError?.(t))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Q_(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function ch(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const e2=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,pv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},t2=ae("$ZodError",e2),n2=ae("$ZodError",e2,{Parent:Error});function g5(t,e=n=>n.message){const n={},r=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}function y5(t,e=n=>n.message){const n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(c=>r({issues:c}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(e(o));else{let c=n,h=0;for(;h<o.path.length;){const d=o.path[h];h===o.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(e(o))):c[d]=c[d]||{_errors:[]},c=c[d],h++}}};return r(t),n}const Z_=t=>(e,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise)throw new zl;if(c.issues.length){const h=new(a?.Err??t)(c.issues.map(d=>So(d,o,To())));throw XR(h,a?.callee),h}return c.value},Y_=t=>async(e,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise&&(c=await c),c.issues.length){const h=new(a?.Err??t)(c.issues.map(d=>So(d,o,To())));throw XR(h,a?.callee),h}return c.value},tp=t=>(e,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new zl;return o.issues.length?{success:!1,error:new(t??t2)(o.issues.map(c=>So(c,a,To())))}:{success:!0,data:o.value}},v5=tp(n2),np=t=>async(e,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(c=>So(c,a,To())))}:{success:!0,data:o.value}},_5=np(n2),b5=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Z_(t)(e,n,a)},x5=t=>(e,n,r)=>Z_(t)(e,n,r),w5=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Y_(t)(e,n,a)},E5=t=>async(e,n,r)=>Y_(t)(e,n,r),T5=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return tp(t)(e,n,a)},S5=t=>(e,n,r)=>tp(t)(e,n,r),A5=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return np(t)(e,n,a)},I5=t=>async(e,n,r)=>np(t)(e,n,r),R5=/^[cC][^\s-]{8,}$/,N5=/^[0-9a-z]+$/,C5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,D5=/^[0-9a-vA-V]{20}$/,k5=/^[A-Za-z0-9]{27}$/,j5=/^[a-zA-Z0-9_-]{21}$/,O5=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,P5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,o1=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,M5=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,V5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function z5(){return new RegExp(V5,"u")}const L5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,U5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,F5=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,B5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,q5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,r2=/^[A-Za-z0-9_-]*$/,$5=/^\+[1-9]\d{6,14}$/,s2="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",H5=new RegExp(`^${s2}$`);function i2(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function G5(t){return new RegExp(`^${i2(t)}$`)}function K5(t){const e=i2({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${s2}T(?:${r})$`)}const Q5=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Z5=/^-?\d+$/,Y5=/^-?\d+(?:\.\d+)?$/,X5=/^[^A-Z]*$/,J5=/^[^a-z]*$/,Fn=ae("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),a2={number:"number",bigint:"bigint",object:"date"},o2=ae("$ZodCheckLessThan",(t,e)=>{Fn.init(t,e);const n=a2[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),l2=ae("$ZodCheckGreaterThan",(t,e)=>{Fn.init(t,e);const n=a2[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),W5=ae("$ZodCheckMultipleOf",(t,e)=>{Fn.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):r5(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),eL=ae("$ZodCheckNumberFormat",(t,e)=>{Fn.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[a,o]=l5[e.format];t._zod.onattach.push(c=>{const h=c._zod.bag;h.format=e.format,h.minimum=a,h.maximum=o,n&&(h.pattern=Z5)}),t._zod.check=c=>{const h=c.value;if(n){if(!Number.isInteger(h)){c.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?c.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):c.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}h<a&&c.issues.push({origin:"number",input:h,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),h>o&&c.issues.push({origin:"number",input:h,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),tL=ae("$ZodCheckMaxLength",(t,e)=>{var n;Fn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!G_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const a=r.value;if(a.length<=e.maximum)return;const c=Q_(a);r.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),nL=ae("$ZodCheckMinLength",(t,e)=>{var n;Fn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!G_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const a=r.value;if(a.length>=e.minimum)return;const c=Q_(a);r.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),rL=ae("$ZodCheckLengthEquals",(t,e)=>{var n;Fn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!G_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=r=>{const a=r.value,o=a.length;if(o===e.length)return;const c=Q_(a),h=o>e.length;r.issues.push({origin:c,...h?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),rp=ae("$ZodCheckStringFormat",(t,e)=>{var n,r;Fn.init(t,e),t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),sL=ae("$ZodCheckRegex",(t,e)=>{rp.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),iL=ae("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=X5),rp.init(t,e)}),aL=ae("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=J5),rp.init(t,e)}),oL=ae("$ZodCheckIncludes",(t,e)=>{Fn.init(t,e);const n=tc(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),lL=ae("$ZodCheckStartsWith",(t,e)=>{Fn.init(t,e);const n=new RegExp(`^${tc(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),cL=ae("$ZodCheckEndsWith",(t,e)=>{Fn.init(t,e);const n=new RegExp(`.*${tc(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),uL=ae("$ZodCheckOverwrite",(t,e)=>{Fn.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class hL{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(c=>c),a=Math.min(...r.map(c=>c.length-c.trimStart().length)),o=r.map(c=>c.slice(a)).map(c=>" ".repeat(this.indent*2)+c);for(const c of o)this.content.push(c)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,a.join(`
`))}}const dL={major:4,minor:3,patch:5},Ct=ae("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=dL;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const o of a._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(c,h,d)=>{let g=kl(c),v;for(const _ of h){if(_._zod.def.when){if(!_._zod.def.when(c))continue}else if(g)continue;const E=c.issues.length,T=_._zod.check(c);if(T instanceof Promise&&d?.async===!1)throw new zl;if(v||T instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await T,c.issues.length!==E&&(g||(g=kl(c,E)))});else{if(c.issues.length===E)continue;g||(g=kl(c,E))}}return v?v.then(()=>c):c},o=(c,h,d)=>{if(kl(c))return c.aborted=!0,c;const g=a(h,r,d);if(g instanceof Promise){if(d.async===!1)throw new zl;return g.then(v=>t._zod.parse(v,d))}return t._zod.parse(g,d)};t._zod.run=(c,h)=>{if(h.skipChecks)return t._zod.parse(c,h);if(h.direction==="backward"){const g=t._zod.parse({value:c.value,issues:[]},{...h,skipChecks:!0});return g instanceof Promise?g.then(v=>o(v,c,h)):o(g,c,h)}const d=t._zod.parse(c,h);if(d instanceof Promise){if(h.async===!1)throw new zl;return d.then(g=>a(g,r,h))}return a(d,r,h)}}lt(t,"~standard",()=>({validate:a=>{try{const o=v5(t,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return _5(t,a).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}))}),X_=ae("$ZodString",(t,e)=>{Ct.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??Q5(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),xt=ae("$ZodStringFormat",(t,e)=>{rp.init(t,e),X_.init(t,e)}),fL=ae("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=P5),xt.init(t,e)}),mL=ae("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=o1(r))}else e.pattern??(e.pattern=o1());xt.init(t,e)}),pL=ae("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=M5),xt.init(t,e)}),gL=ae("$ZodURL",(t,e)=>{xt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),yL=ae("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=z5()),xt.init(t,e)}),vL=ae("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=j5),xt.init(t,e)}),_L=ae("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=R5),xt.init(t,e)}),bL=ae("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=N5),xt.init(t,e)}),xL=ae("$ZodULID",(t,e)=>{e.pattern??(e.pattern=C5),xt.init(t,e)}),wL=ae("$ZodXID",(t,e)=>{e.pattern??(e.pattern=D5),xt.init(t,e)}),EL=ae("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=k5),xt.init(t,e)}),TL=ae("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=K5(e)),xt.init(t,e)}),SL=ae("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=H5),xt.init(t,e)}),AL=ae("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=G5(e)),xt.init(t,e)}),IL=ae("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=O5),xt.init(t,e)}),RL=ae("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=L5),xt.init(t,e),t._zod.bag.format="ipv4"}),NL=ae("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=U5),xt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),CL=ae("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=F5),xt.init(t,e)}),DL=ae("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=B5),xt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,o]=r;if(!o)throw new Error;const c=Number(o);if(`${c}`!==o)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function c2(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const kL=ae("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=q5),xt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{c2(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function jL(t){if(!r2.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return c2(n)}const OL=ae("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=r2),xt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{jL(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),PL=ae("$ZodE164",(t,e)=>{e.pattern??(e.pattern=$5),xt.init(t,e)});function ML(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const VL=ae("$ZodJWT",(t,e)=>{xt.init(t,e),t._zod.check=n=>{ML(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),u2=ae("$ZodNumber",(t,e)=>{Ct.init(t,e),t._zod.pattern=t._zod.bag.pattern??Y5,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...o?{received:o}:{}}),n}}),zL=ae("$ZodNumberFormat",(t,e)=>{eL.init(t,e),u2.init(t,e)}),LL=ae("$ZodUnknown",(t,e)=>{Ct.init(t,e),t._zod.parse=n=>n}),UL=ae("$ZodNever",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),FL=ae("$ZodDate",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const a=n.value,o=a instanceof Date;return o&&!Number.isNaN(a.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:a,...o?{received:"Invalid Date"}:{},inst:t}),n}});function l1(t,e,n){t.issues.length&&e.issues.push(...WR(n,t.issues)),e.value[n]=t.value}const BL=ae("$ZodArray",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const o=[];for(let c=0;c<a.length;c++){const h=a[c],d=e.element._zod.run({value:h,issues:[]},r);d instanceof Promise?o.push(d.then(g=>l1(g,n,c))):l1(d,n,c)}return o.length?Promise.all(o).then(()=>n):n}});function bm(t,e,n,r,a){if(t.issues.length){if(a&&!(n in r))return;e.issues.push(...WR(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function h2(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=o5(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function d2(t,e,n,r,a,o){const c=[],h=a.keySet,d=a.catchall._zod,g=d.def.type,v=d.optout==="optional";for(const _ in e){if(h.has(_))continue;if(g==="never"){c.push(_);continue}const E=d.run({value:e[_],issues:[]},r);E instanceof Promise?t.push(E.then(T=>bm(T,n,_,e,v))):bm(E,n,_,e,v)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const qL=ae("$ZodObject",(t,e)=>{if(Ct.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const h=e.shape;Object.defineProperty(e,"shape",{get:()=>{const d={...h};return Object.defineProperty(e,"shape",{value:d}),d}})}const r=H_(()=>h2(e));lt(t._zod,"propValues",()=>{const h=e.shape,d={};for(const g in h){const v=h[g]._zod;if(v.values){d[g]??(d[g]=new Set);for(const _ of v.values)d[g].add(_)}}return d});const a=_m,o=e.catchall;let c;t._zod.parse=(h,d)=>{c??(c=r.value);const g=h.value;if(!a(g))return h.issues.push({expected:"object",code:"invalid_type",input:g,inst:t}),h;h.value={};const v=[],_=c.shape;for(const E of c.keys){const T=_[E],D=T._zod.optout==="optional",k=T._zod.run({value:g[E],issues:[]},d);k instanceof Promise?v.push(k.then(M=>bm(M,h,E,g,D))):bm(k,h,E,g,D)}return o?d2(v,g,h,d,r.value,t):v.length?Promise.all(v).then(()=>h):h}}),$L=ae("$ZodObjectJIT",(t,e)=>{qL.init(t,e);const n=t._zod.parse,r=H_(()=>h2(e)),a=E=>{const T=new hL(["shape","payload","ctx"]),D=r.value,k=B=>{const ie=a1(B);return`shape[${ie}]._zod.run({ value: input[${ie}], issues: [] }, ctx)`};T.write("const input = payload.value;");const M=Object.create(null);let ee=0;for(const B of D.keys)M[B]=`key_${ee++}`;T.write("const newResult = {};");for(const B of D.keys){const ie=M[B],Y=a1(B),R=E[B]?._zod?.optout==="optional";T.write(`const ${ie} = ${k(B)};`),R?T.write(`
        if (${ie}.issues.length) {
          if (${Y} in input) {
            payload.issues = payload.issues.concat(${ie}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${Y}, ...iss.path] : [${Y}]
            })));
          }
        }
        
        if (${ie}.value === undefined) {
          if (${Y} in input) {
            newResult[${Y}] = undefined;
          }
        } else {
          newResult[${Y}] = ${ie}.value;
        }
        
      `):T.write(`
        if (${ie}.issues.length) {
          payload.issues = payload.issues.concat(${ie}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Y}, ...iss.path] : [${Y}]
          })));
        }
        
        if (${ie}.value === undefined) {
          if (${Y} in input) {
            newResult[${Y}] = undefined;
          }
        } else {
          newResult[${Y}] = ${ie}.value;
        }
        
      `)}T.write("payload.value = newResult;"),T.write("return payload;");const Z=T.compile();return(B,ie)=>Z(E,B,ie)};let o;const c=_m,h=!ZR.jitless,g=h&&i5.value,v=e.catchall;let _;t._zod.parse=(E,T)=>{_??(_=r.value);const D=E.value;return c(D)?h&&g&&T?.async===!1&&T.jitless!==!0?(o||(o=a(e.shape)),E=o(E,T),v?d2([],D,E,T,_,t):E):n(E,T):(E.issues.push({expected:"object",code:"invalid_type",input:D,inst:t}),E)}});function c1(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const a=t.filter(o=>!kl(o));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(c=>So(c,r,To())))}),e)}const HL=ae("$ZodUnion",(t,e)=>{Ct.init(t,e),lt(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),lt(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),lt(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),lt(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>K_(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(a,o)=>{if(n)return r(a,o);let c=!1;const h=[];for(const d of e.options){const g=d._zod.run({value:a.value,issues:[]},o);if(g instanceof Promise)h.push(g),c=!0;else{if(g.issues.length===0)return g;h.push(g)}}return c?Promise.all(h).then(d=>c1(d,a,t,o)):c1(h,a,t,o)}}),GL=ae("$ZodIntersection",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{const a=n.value,o=e.left._zod.run({value:a,issues:[]},r),c=e.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||c instanceof Promise?Promise.all([o,c]).then(([d,g])=>u1(n,d,g)):u1(n,o,c)}});function gv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(lh(t)&&lh(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),a={...t,...e};for(const o of r){const c=gv(t[o],e[o]);if(!c.valid)return{valid:!1,mergeErrorPath:[o,...c.mergeErrorPath]};a[o]=c.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const a=t[r],o=e[r],c=gv(a,o);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function u1(t,e,n){const r=new Map;let a;for(const h of e.issues)if(h.code==="unrecognized_keys"){a??(a=h);for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else t.issues.push(h);for(const h of n.issues)if(h.code==="unrecognized_keys")for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else t.issues.push(h);const o=[...r].filter(([,h])=>h.l&&h.r).map(([h])=>h);if(o.length&&a&&t.issues.push({...a,keys:o}),kl(t))return t;const c=gv(e.value,n.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return t.value=c.data,t}const KL=ae("$ZodEnum",(t,e)=>{Ct.init(t,e);const n=YR(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(a=>a5.has(typeof a)).map(a=>typeof a=="string"?tc(a):a.toString()).join("|")})$`),t._zod.parse=(a,o)=>{const c=a.value;return r.has(c)||a.issues.push({code:"invalid_value",values:n,input:c,inst:t}),a}}),QL=ae("$ZodLiteral",(t,e)=>{if(Ct.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?tc(r):r?tc(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,a)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),r}}),ZL=ae("$ZodTransform",(t,e)=>{Ct.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new QR(t.constructor.name);const a=e.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(c=>(n.value=c,n));if(a instanceof Promise)throw new zl;return n.value=a,n}});function h1(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const f2=ae("$ZodOptional",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",t._zod.optout="optional",lt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),lt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${K_(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>h1(o,n.value)):h1(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),YL=ae("$ZodExactOptional",(t,e)=>{f2.init(t,e),lt(t._zod,"values",()=>e.innerType._zod.values),lt(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),XL=ae("$ZodNullable",(t,e)=>{Ct.init(t,e),lt(t._zod,"optin",()=>e.innerType._zod.optin),lt(t._zod,"optout",()=>e.innerType._zod.optout),lt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${K_(n.source)}|null)$`):void 0}),lt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),JL=ae("$ZodDefault",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",lt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>d1(o,e)):d1(a,e)}});function d1(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const WL=ae("$ZodPrefault",(t,e)=>{Ct.init(t,e),t._zod.optin="optional",lt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),eU=ae("$ZodNonOptional",(t,e)=>{Ct.init(t,e),lt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>f1(o,t)):f1(a,t)}});function f1(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const tU=ae("$ZodCatch",(t,e)=>{Ct.init(t,e),lt(t._zod,"optin",()=>e.innerType._zod.optin),lt(t._zod,"optout",()=>e.innerType._zod.optout),lt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(c=>So(c,r,To()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(o=>So(o,r,To()))},input:n.value}),n.issues=[]),n)}}),nU=ae("$ZodPipe",(t,e)=>{Ct.init(t,e),lt(t._zod,"values",()=>e.in._zod.values),lt(t._zod,"optin",()=>e.in._zod.optin),lt(t._zod,"optout",()=>e.out._zod.optout),lt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(c=>_f(c,e.in,r)):_f(o,e.in,r)}const a=e.in._zod.run(n,r);return a instanceof Promise?a.then(o=>_f(o,e.out,r)):_f(a,e.out,r)}});function _f(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const rU=ae("$ZodReadonly",(t,e)=>{Ct.init(t,e),lt(t._zod,"propValues",()=>e.innerType._zod.propValues),lt(t._zod,"values",()=>e.innerType._zod.values),lt(t._zod,"optin",()=>e.innerType?._zod?.optin),lt(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(m1):m1(a)}});function m1(t){return t.value=Object.freeze(t.value),t}const sU=ae("$ZodCustom",(t,e)=>{Fn.init(t,e),Ct.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,a=e.fn(r);if(a instanceof Promise)return a.then(o=>p1(o,n,r,t));p1(a,n,r,t)}});function p1(t,e,n,r){if(!t){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),e.issues.push(ch(a))}}var g1;class iU{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function aU(){return new iU}(g1=globalThis).__zod_globalRegistry??(g1.__zod_globalRegistry=aU());const Ou=globalThis.__zod_globalRegistry;function oU(t,e){return new t({type:"string",...Se(e)})}function lU(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Se(e)})}function y1(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Se(e)})}function cU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Se(e)})}function uU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Se(e)})}function hU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Se(e)})}function dU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Se(e)})}function fU(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Se(e)})}function mU(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Se(e)})}function pU(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Se(e)})}function gU(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Se(e)})}function yU(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Se(e)})}function vU(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Se(e)})}function _U(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Se(e)})}function bU(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Se(e)})}function xU(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Se(e)})}function wU(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Se(e)})}function EU(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Se(e)})}function TU(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Se(e)})}function SU(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Se(e)})}function AU(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Se(e)})}function IU(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Se(e)})}function RU(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Se(e)})}function NU(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Se(e)})}function CU(t,e){return new t({type:"string",format:"date",check:"string_format",...Se(e)})}function DU(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Se(e)})}function kU(t,e){return new t({type:"string",format:"duration",check:"string_format",...Se(e)})}function jU(t,e){return new t({type:"number",checks:[],...Se(e)})}function OU(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Se(e)})}function PU(t){return new t({type:"unknown"})}function MU(t,e){return new t({type:"never",...Se(e)})}function VU(t,e){return new t({type:"date",...Se(e)})}function v1(t,e){return new o2({check:"less_than",...Se(e),value:t,inclusive:!1})}function Ff(t,e){return new o2({check:"less_than",...Se(e),value:t,inclusive:!0})}function _1(t,e){return new l2({check:"greater_than",...Se(e),value:t,inclusive:!1})}function Bf(t,e){return new l2({check:"greater_than",...Se(e),value:t,inclusive:!0})}function b1(t,e){return new W5({check:"multiple_of",...Se(e),value:t})}function m2(t,e){return new tL({check:"max_length",...Se(e),maximum:t})}function xm(t,e){return new nL({check:"min_length",...Se(e),minimum:t})}function p2(t,e){return new rL({check:"length_equals",...Se(e),length:t})}function zU(t,e){return new sL({check:"string_format",format:"regex",...Se(e),pattern:t})}function LU(t){return new iL({check:"string_format",format:"lowercase",...Se(t)})}function UU(t){return new aL({check:"string_format",format:"uppercase",...Se(t)})}function FU(t,e){return new oL({check:"string_format",format:"includes",...Se(e),includes:t})}function BU(t,e){return new lL({check:"string_format",format:"starts_with",...Se(e),prefix:t})}function qU(t,e){return new cL({check:"string_format",format:"ends_with",...Se(e),suffix:t})}function pc(t){return new uL({check:"overwrite",tx:t})}function $U(t){return pc(e=>e.normalize(t))}function HU(){return pc(t=>t.trim())}function GU(){return pc(t=>t.toLowerCase())}function KU(){return pc(t=>t.toUpperCase())}function QU(){return pc(t=>s5(t))}function ZU(t,e,n){return new t({type:"array",element:e,...Se(n)})}function YU(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Se(n)})}function XU(t){const e=JU(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(ch(r,n.value,e._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(ch(a))}},t(n.value,n)));return e}function JU(t,e){const n=new Fn({check:"custom",...Se(e)});return n._zod.check=t,n}function g2(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Ou,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function gn(t,e,n={path:[],schemaPath:[]}){var r;const a=t._zod.def,o=e.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,c);const h=t._zod.toJSONSchema?.();if(h)c.schema=h;else{const v={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,c.schema,v);else{const E=c.schema,T=e.processors[a.type];if(!T)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);T(t,e,E,v)}const _=t._zod.parent;_&&(c.ref||(c.ref=_),gn(_,e,v),e.seen.get(_).isParent=!0)}const d=e.metadataRegistry.get(t);return d&&Object.assign(c.schema,d),e.io==="input"&&In(t)&&(delete c.schema.examples,delete c.schema.default),e.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,e.seen.get(t).schema}function y2(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const c of t.seen.entries()){const h=t.metadataRegistry.get(c[0])?.id;if(h){const d=r.get(h);if(d&&d!==c[0])throw new Error(`Duplicate schema id "${h}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(h,c[0])}}const a=c=>{const h=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const _=t.external.registry.get(c[0])?.id,E=t.external.uri??(D=>D);if(_)return{ref:E(_)};const T=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=T,{defId:T,ref:`${E("__shared")}#/${h}/${T}`}}if(c[1]===n)return{ref:"#"};const g=`#/${h}/`,v=c[1].schema.id??`__schema${t.counter++}`;return{defId:v,ref:g+v}},o=c=>{if(c[1].schema.$ref)return;const h=c[1],{ref:d,defId:g}=a(c);h.def={...h.schema},g&&(h.defId=g);const v=h.schema;for(const _ in v)delete v[_];v.$ref=d};if(t.cycles==="throw")for(const c of t.seen.entries()){const h=c[1];if(h.cycle)throw new Error(`Cycle detected: #/${h.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const h=c[1];if(e===c[0]){o(c);continue}if(t.external){const g=t.external.registry.get(c[0])?.id;if(e!==c[0]&&g){o(c);continue}}if(t.metadataRegistry.get(c[0])?.id){o(c);continue}if(h.cycle){o(c);continue}if(h.count>1&&t.reused==="ref"){o(c);continue}}}function v2(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=c=>{const h=t.seen.get(c);if(h.ref===null)return;const d=h.def??h.schema,g={...d},v=h.ref;if(h.ref=null,v){r(v);const E=t.seen.get(v),T=E.schema;if(T.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(T)):Object.assign(d,T),Object.assign(d,g),c._zod.parent===v)for(const k in d)k==="$ref"||k==="allOf"||k in g||delete d[k];if(T.$ref)for(const k in d)k==="$ref"||k==="allOf"||k in E.def&&JSON.stringify(d[k])===JSON.stringify(E.def[k])&&delete d[k]}const _=c._zod.parent;if(_&&_!==v){r(_);const E=t.seen.get(_);if(E?.schema.$ref&&(d.$ref=E.schema.$ref,E.def))for(const T in d)T==="$ref"||T==="allOf"||T in E.def&&JSON.stringify(d[T])===JSON.stringify(E.def[T])&&delete d[T]}t.override({zodSchema:c,jsonSchema:d,path:h.path??[]})};for(const c of[...t.seen.entries()].reverse())r(c[0]);const a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const c=t.external.registry.get(e)?.id;if(!c)throw new Error("Schema is missing an `id` property");a.$id=t.external.uri(c)}Object.assign(a,n.def??n.schema);const o=t.external?.defs??{};for(const c of t.seen.entries()){const h=c[1];h.def&&h.defId&&(o[h.defId]=h.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?a.$defs=o:a.definitions=o);try{const c=JSON.parse(JSON.stringify(a));return Object.defineProperty(c,"~standard",{value:{...e["~standard"],jsonSchema:{input:wm(e,"input",t.processors),output:wm(e,"output",t.processors)}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function In(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return In(r.element,n);if(r.type==="set")return In(r.valueType,n);if(r.type==="lazy")return In(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return In(r.innerType,n);if(r.type==="intersection")return In(r.left,n)||In(r.right,n);if(r.type==="record"||r.type==="map")return In(r.keyType,n)||In(r.valueType,n);if(r.type==="pipe")return In(r.in,n)||In(r.out,n);if(r.type==="object"){for(const a in r.shape)if(In(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(In(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(In(a,n))return!0;return!!(r.rest&&In(r.rest,n))}return!1}const WU=(t,e={})=>n=>{const r=g2({...n,processors:e});return gn(t,r),y2(r,t),v2(r,t)},wm=(t,e,n={})=>r=>{const{libraryOptions:a,target:o}=r??{},c=g2({...a??{},target:o,io:e,processors:n});return gn(t,c),y2(c,t),v2(c,t)},e9={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},t9=(t,e,n,r)=>{const a=n;a.type="string";const{minimum:o,maximum:c,format:h,patterns:d,contentEncoding:g}=t._zod.bag;if(typeof o=="number"&&(a.minLength=o),typeof c=="number"&&(a.maxLength=c),h&&(a.format=e9[h]??h,a.format===""&&delete a.format,h==="time"&&delete a.format),g&&(a.contentEncoding=g),d&&d.size>0){const v=[...d];v.length===1?a.pattern=v[0].source:v.length>1&&(a.allOf=[...v.map(_=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:_.source}))])}},n9=(t,e,n,r)=>{const a=n,{minimum:o,maximum:c,format:h,multipleOf:d,exclusiveMaximum:g,exclusiveMinimum:v}=t._zod.bag;typeof h=="string"&&h.includes("int")?a.type="integer":a.type="number",typeof v=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.minimum=v,a.exclusiveMinimum=!0):a.exclusiveMinimum=v),typeof o=="number"&&(a.minimum=o,typeof v=="number"&&e.target!=="draft-04"&&(v>=o?delete a.minimum:delete a.exclusiveMinimum)),typeof g=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.maximum=g,a.exclusiveMaximum=!0):a.exclusiveMaximum=g),typeof c=="number"&&(a.maximum=c,typeof g=="number"&&e.target!=="draft-04"&&(g<=c?delete a.maximum:delete a.exclusiveMaximum)),typeof d=="number"&&(a.multipleOf=d)},r9=(t,e,n,r)=>{n.not={}},s9=(t,e,n,r)=>{},i9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},a9=(t,e,n,r)=>{const a=t._zod.def,o=YR(a.entries);o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),n.enum=o},o9=(t,e,n,r)=>{const a=t._zod.def,o=[];for(const c of a.values)if(c===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof c=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(c))}else o.push(c);if(o.length!==0)if(o.length===1){const c=o[0];n.type=c===null?"null":typeof c,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[c]:n.const=c}else o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),o.every(c=>typeof c=="boolean")&&(n.type="boolean"),o.every(c=>c===null)&&(n.type="null"),n.enum=o},l9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},c9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},u9=(t,e,n,r)=>{const a=n,o=t._zod.def,{minimum:c,maximum:h}=t._zod.bag;typeof c=="number"&&(a.minItems=c),typeof h=="number"&&(a.maxItems=h),a.type="array",a.items=gn(o.element,e,{...r,path:[...r.path,"items"]})},h9=(t,e,n,r)=>{const a=n,o=t._zod.def;a.type="object",a.properties={};const c=o.shape;for(const g in c)a.properties[g]=gn(c[g],e,{...r,path:[...r.path,"properties",g]});const h=new Set(Object.keys(c)),d=new Set([...h].filter(g=>{const v=o.shape[g]._zod;return e.io==="input"?v.optin===void 0:v.optout===void 0}));d.size>0&&(a.required=Array.from(d)),o.catchall?._zod.def.type==="never"?a.additionalProperties=!1:o.catchall?o.catchall&&(a.additionalProperties=gn(o.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(a.additionalProperties=!1)},d9=(t,e,n,r)=>{const a=t._zod.def,o=a.inclusive===!1,c=a.options.map((h,d)=>gn(h,e,{...r,path:[...r.path,o?"oneOf":"anyOf",d]}));o?n.oneOf=c:n.anyOf=c},f9=(t,e,n,r)=>{const a=t._zod.def,o=gn(a.left,e,{...r,path:[...r.path,"allOf",0]}),c=gn(a.right,e,{...r,path:[...r.path,"allOf",1]}),h=g=>"allOf"in g&&Object.keys(g).length===1,d=[...h(o)?o.allOf:[o],...h(c)?c.allOf:[c]];n.allOf=d},m9=(t,e,n,r)=>{const a=t._zod.def,o=gn(a.innerType,e,r),c=e.seen.get(t);e.target==="openapi-3.0"?(c.ref=a.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},p9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},g9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},y9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},v9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType;let c;try{c=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},_9=(t,e,n,r)=>{const a=t._zod.def,o=e.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;gn(o,e,r);const c=e.seen.get(t);c.ref=o},b9=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.readOnly=!0},_2=(t,e,n,r)=>{const a=t._zod.def;gn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},x9=ae("ZodISODateTime",(t,e)=>{TL.init(t,e),Tt.init(t,e)});function w9(t){return NU(x9,t)}const E9=ae("ZodISODate",(t,e)=>{SL.init(t,e),Tt.init(t,e)});function T9(t){return CU(E9,t)}const S9=ae("ZodISOTime",(t,e)=>{AL.init(t,e),Tt.init(t,e)});function A9(t){return DU(S9,t)}const I9=ae("ZodISODuration",(t,e)=>{IL.init(t,e),Tt.init(t,e)});function R9(t){return kU(I9,t)}const N9=(t,e)=>{t2.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>y5(t,n)},flatten:{value:n=>g5(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,pv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,pv,2)}},isEmpty:{get(){return t.issues.length===0}}})},Tr=ae("ZodError",N9,{Parent:Error}),C9=Z_(Tr),D9=Y_(Tr),k9=tp(Tr),j9=np(Tr),O9=b5(Tr),P9=x5(Tr),M9=w5(Tr),V9=E5(Tr),z9=T5(Tr),L9=S5(Tr),U9=A5(Tr),F9=I5(Tr),Dt=ae("ZodType",(t,e)=>(Ct.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:wm(t,"input"),output:wm(t,"output")}}),t.toJSONSchema=WU(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(da(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>fa(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>C9(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>k9(t,n,r),t.parseAsync=async(n,r)=>D9(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>j9(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>O9(t,n,r),t.decode=(n,r)=>P9(t,n,r),t.encodeAsync=async(n,r)=>M9(t,n,r),t.decodeAsync=async(n,r)=>V9(t,n,r),t.safeEncode=(n,r)=>z9(t,n,r),t.safeDecode=(n,r)=>L9(t,n,r),t.safeEncodeAsync=async(n,r)=>U9(t,n,r),t.safeDecodeAsync=async(n,r)=>F9(t,n,r),t.refine=(n,r)=>t.check(P8(n,r)),t.superRefine=n=>t.check(M8(n)),t.overwrite=n=>t.check(pc(n)),t.optional=()=>T1(t),t.exactOptional=()=>w8(t),t.nullable=()=>S1(t),t.nullish=()=>T1(S1(t)),t.nonoptional=n=>R8(t,n),t.array=()=>J_(t),t.or=n=>W_([t,n]),t.and=n=>g8(t,n),t.transform=n=>A1(t,b8(n)),t.default=n=>S8(t,n),t.prefault=n=>I8(t,n),t.catch=n=>C8(t,n),t.pipe=n=>A1(t,n),t.readonly=()=>j8(t),t.describe=n=>{const r=t.clone();return Ou.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Ou.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Ou.get(t);const r=t.clone();return Ou.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),b2=ae("_ZodString",(t,e)=>{X_.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>t9(t,r,a);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(zU(...r)),t.includes=(...r)=>t.check(FU(...r)),t.startsWith=(...r)=>t.check(BU(...r)),t.endsWith=(...r)=>t.check(qU(...r)),t.min=(...r)=>t.check(xm(...r)),t.max=(...r)=>t.check(m2(...r)),t.length=(...r)=>t.check(p2(...r)),t.nonempty=(...r)=>t.check(xm(1,...r)),t.lowercase=r=>t.check(LU(r)),t.uppercase=r=>t.check(UU(r)),t.trim=()=>t.check(HU()),t.normalize=(...r)=>t.check($U(...r)),t.toLowerCase=()=>t.check(GU()),t.toUpperCase=()=>t.check(KU()),t.slugify=()=>t.check(QU())}),B9=ae("ZodString",(t,e)=>{X_.init(t,e),b2.init(t,e),t.email=n=>t.check(lU(q9,n)),t.url=n=>t.check(fU($9,n)),t.jwt=n=>t.check(RU(i8,n)),t.emoji=n=>t.check(mU(H9,n)),t.guid=n=>t.check(y1(x1,n)),t.uuid=n=>t.check(cU(bf,n)),t.uuidv4=n=>t.check(uU(bf,n)),t.uuidv6=n=>t.check(hU(bf,n)),t.uuidv7=n=>t.check(dU(bf,n)),t.nanoid=n=>t.check(pU(G9,n)),t.guid=n=>t.check(y1(x1,n)),t.cuid=n=>t.check(gU(K9,n)),t.cuid2=n=>t.check(yU(Q9,n)),t.ulid=n=>t.check(vU(Z9,n)),t.base64=n=>t.check(SU(n8,n)),t.base64url=n=>t.check(AU(r8,n)),t.xid=n=>t.check(_U(Y9,n)),t.ksuid=n=>t.check(bU(X9,n)),t.ipv4=n=>t.check(xU(J9,n)),t.ipv6=n=>t.check(wU(W9,n)),t.cidrv4=n=>t.check(EU(e8,n)),t.cidrv6=n=>t.check(TU(t8,n)),t.e164=n=>t.check(IU(s8,n)),t.datetime=n=>t.check(w9(n)),t.date=n=>t.check(T9(n)),t.time=n=>t.check(A9(n)),t.duration=n=>t.check(R9(n))});function Cn(t){return oU(B9,t)}const Tt=ae("ZodStringFormat",(t,e)=>{xt.init(t,e),b2.init(t,e)}),q9=ae("ZodEmail",(t,e)=>{pL.init(t,e),Tt.init(t,e)}),x1=ae("ZodGUID",(t,e)=>{fL.init(t,e),Tt.init(t,e)}),bf=ae("ZodUUID",(t,e)=>{mL.init(t,e),Tt.init(t,e)}),$9=ae("ZodURL",(t,e)=>{gL.init(t,e),Tt.init(t,e)}),H9=ae("ZodEmoji",(t,e)=>{yL.init(t,e),Tt.init(t,e)}),G9=ae("ZodNanoID",(t,e)=>{vL.init(t,e),Tt.init(t,e)}),K9=ae("ZodCUID",(t,e)=>{_L.init(t,e),Tt.init(t,e)}),Q9=ae("ZodCUID2",(t,e)=>{bL.init(t,e),Tt.init(t,e)}),Z9=ae("ZodULID",(t,e)=>{xL.init(t,e),Tt.init(t,e)}),Y9=ae("ZodXID",(t,e)=>{wL.init(t,e),Tt.init(t,e)}),X9=ae("ZodKSUID",(t,e)=>{EL.init(t,e),Tt.init(t,e)}),J9=ae("ZodIPv4",(t,e)=>{RL.init(t,e),Tt.init(t,e)}),W9=ae("ZodIPv6",(t,e)=>{NL.init(t,e),Tt.init(t,e)}),e8=ae("ZodCIDRv4",(t,e)=>{CL.init(t,e),Tt.init(t,e)}),t8=ae("ZodCIDRv6",(t,e)=>{DL.init(t,e),Tt.init(t,e)}),n8=ae("ZodBase64",(t,e)=>{kL.init(t,e),Tt.init(t,e)}),r8=ae("ZodBase64URL",(t,e)=>{OL.init(t,e),Tt.init(t,e)}),s8=ae("ZodE164",(t,e)=>{PL.init(t,e),Tt.init(t,e)}),i8=ae("ZodJWT",(t,e)=>{VL.init(t,e),Tt.init(t,e)}),x2=ae("ZodNumber",(t,e)=>{u2.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>n9(t,r,a),t.gt=(r,a)=>t.check(_1(r,a)),t.gte=(r,a)=>t.check(Bf(r,a)),t.min=(r,a)=>t.check(Bf(r,a)),t.lt=(r,a)=>t.check(v1(r,a)),t.lte=(r,a)=>t.check(Ff(r,a)),t.max=(r,a)=>t.check(Ff(r,a)),t.int=r=>t.check(w1(r)),t.safe=r=>t.check(w1(r)),t.positive=r=>t.check(_1(0,r)),t.nonnegative=r=>t.check(Bf(0,r)),t.negative=r=>t.check(v1(0,r)),t.nonpositive=r=>t.check(Ff(0,r)),t.multipleOf=(r,a)=>t.check(b1(r,a)),t.step=(r,a)=>t.check(b1(r,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Em(t){return jU(x2,t)}const a8=ae("ZodNumberFormat",(t,e)=>{zL.init(t,e),x2.init(t,e)});function w1(t){return OU(a8,t)}const o8=ae("ZodUnknown",(t,e)=>{LL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>s9()});function E1(){return PU(o8)}const l8=ae("ZodNever",(t,e)=>{UL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>r9(t,n,r)});function c8(t){return MU(l8,t)}const u8=ae("ZodDate",(t,e)=>{FL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>i9(t,r),t.min=(r,a)=>t.check(Bf(r,a)),t.max=(r,a)=>t.check(Ff(r,a));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function h8(t){return VU(u8,t)}const d8=ae("ZodArray",(t,e)=>{BL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>u9(t,n,r,a),t.element=e.element,t.min=(n,r)=>t.check(xm(n,r)),t.nonempty=n=>t.check(xm(1,n)),t.max=(n,r)=>t.check(m2(n,r)),t.length=(n,r)=>t.check(p2(n,r)),t.unwrap=()=>t.element});function J_(t,e){return ZU(d8,t,e)}const f8=ae("ZodObject",(t,e)=>{$L.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>h9(t,n,r,a),lt(t,"shape",()=>e.shape),t.keyof=()=>y8(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:E1()}),t.loose=()=>t.clone({...t._zod.def,catchall:E1()}),t.strict=()=>t.clone({...t._zod.def,catchall:c8()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>h5(t,n),t.safeExtend=n=>d5(t,n),t.merge=n=>f5(t,n),t.pick=n=>c5(t,n),t.omit=n=>u5(t,n),t.partial=(...n)=>m5(w2,t,n[0]),t.required=(...n)=>p5(E2,t,n[0])});function Rh(t,e){const n={type:"object",shape:t??{},...Se(e)};return new f8(n)}const m8=ae("ZodUnion",(t,e)=>{HL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>d9(t,n,r,a),t.options=e.options});function W_(t,e){return new m8({type:"union",options:t,...Se(e)})}const p8=ae("ZodIntersection",(t,e)=>{GL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>f9(t,n,r,a)});function g8(t,e){return new p8({type:"intersection",left:t,right:e})}const yv=ae("ZodEnum",(t,e)=>{KL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>a9(t,r,a),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,a)=>{const o={};for(const c of r)if(n.has(c))o[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new yv({...e,checks:[],...Se(a),entries:o})},t.exclude=(r,a)=>{const o={...e.entries};for(const c of r)if(n.has(c))delete o[c];else throw new Error(`Key ${c} not found in enum`);return new yv({...e,checks:[],...Se(a),entries:o})}});function y8(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new yv({type:"enum",entries:n,...Se(e)})}const v8=ae("ZodLiteral",(t,e)=>{QL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>o9(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function vv(t,e){return new v8({type:"literal",values:Array.isArray(t)?t:[t],...Se(e)})}const _8=ae("ZodTransform",(t,e)=>{ZL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>c9(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new QR(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(ch(o,n.value,e));else{const c=o;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(ch(c))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function b8(t){return new _8({type:"transform",transform:t})}const w2=ae("ZodOptional",(t,e)=>{f2.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>_2(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function T1(t){return new w2({type:"optional",innerType:t})}const x8=ae("ZodExactOptional",(t,e)=>{YL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>_2(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function w8(t){return new x8({type:"optional",innerType:t})}const E8=ae("ZodNullable",(t,e)=>{XL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>m9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function S1(t){return new E8({type:"nullable",innerType:t})}const T8=ae("ZodDefault",(t,e)=>{JL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>g9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function S8(t,e){return new T8({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():JR(e)}})}const A8=ae("ZodPrefault",(t,e)=>{WL.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>y9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function I8(t,e){return new A8({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():JR(e)}})}const E2=ae("ZodNonOptional",(t,e)=>{eU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>p9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function R8(t,e){return new E2({type:"nonoptional",innerType:t,...Se(e)})}const N8=ae("ZodCatch",(t,e)=>{tU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>v9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function C8(t,e){return new N8({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const D8=ae("ZodPipe",(t,e)=>{nU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>_9(t,n,r,a),t.in=e.in,t.out=e.out});function A1(t,e){return new D8({type:"pipe",in:t,out:e})}const k8=ae("ZodReadonly",(t,e)=>{rU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>b9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function j8(t){return new k8({type:"readonly",innerType:t})}const O8=ae("ZodCustom",(t,e)=>{sU.init(t,e),Dt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>l9(t,n)});function P8(t,e={}){return YU(O8,t,e)}function M8(t){return XU(t)}const V8=Rh({id:Cn().optional(),name:Cn().min(1),dupr:Em().nonnegative().optional(),imageUrl:Cn().optional(),createdAt:Cn().optional()}),eb=W_([vv(1),vv(2)]),I1=Rh({player1Id:Cn(),player2Id:Cn()}),z8=Rh({id:Cn().optional(),team1:I1,team2:I1,team1Score:Em().nonnegative().optional(),team2Score:Em().nonnegative().optional(),courtId:Cn().optional(),roundNumber:eb}),L8=Rh({id:Cn().optional(),playerIds:J_(Cn()).min(4).max(5),roundNumber:eb,courtNumber:Em().positive()}),U8=W_([eb,vv("standings")]),F8=Rh({id:Cn(),name:Cn(),startDateTime:h8(),location:Cn().optional(),link:Cn().optional(),ongoingStage:U8.optional(),standings:J_(Cn()).optional()}),B8=t=>({EeI9ewBfoKpSajmerLDH:"John Doe",GqsPoUKXTw3kJMSJqwU0:"Jane Smith",RGq6NFnJfWIcvQqdifLt:"Alex Johnson",T28AtFw8KdQU23bXrGKh:"Rock Star",TMUWdVphOwXWWpBD0tg4:"Michael Lee",W3tjD6JMTZvL7h9DBekb:"Sarah Kim",bmIXpKlFhwhNuex6mG3a:"Chris Brown",cFbaelu4ZQhUiUovuSDq:"Hayden Patriquin",de634TOQoQt6DcvdllTE:"David Wilson",ev1yGMQ2TwdWVulSScR3:"Ashley Moore",lR41KMImIthFWUlTfvcq:"Brian Clark",ov1yJixQu0Y7GgSVGOS3:"Olivia Hall",s9CKyNz5sETtOI6s9gJb:"Matthew Young",sBaVpfAOMRsqcUiaVdXN:"Sophia King",sewQTUTqabMCEYb80N8L:"Daniel Wright",tgJHqe0ToCymKcHIthmM:"Megan Scott",v8BhDF0WAc6VgcOwc87B:"Ryan Adams",wekFMjCMfuI7MNNVYVnO:"Lauren Baker",zi6ygH5Iais5EPUVR0Ix:"Kevin Perez","55YtackrvsPralsAJY2V":"Natalie Roberts"})[t],T2={champion:{name:"Champion",gradient:["#FFF8DC","#F0E68C"],accent:"#DAA520",text:"#8B4513"},competitive:{name:"Competitive",gradient:["#E6F3FF","#B0D4F1"],accent:"#4682B4",text:"#2F4F4F"},rising:{name:"Rising Star",gradient:["#F0FFF0","#C1E1C1"],accent:"#6B8E23",text:"#2E5D2E"},rookie:{name:"Rookie",gradient:["#FFE4E1","#F5DEB3"],accent:"#CD853F",text:"#8B4513"},default:{name:"Player",gradient:["#F5F5F5","#E0E0E0"],accent:"#808080",text:"#505050"}},R1=["hexagon","diamond","paddle","court","geometric"];function S2(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return Math.abs(e)}function q8(t){const e=S2(t),n=Object.keys(T2);return n[e%n.length]}function N1(t,e){const n=t/2,r=t/2,a=t*.3;let o="";for(let c=0;c<6;c++){const h=(c*60-90)*(Math.PI/180),d=n+a*Math.cos(h),g=r+a*Math.sin(h);o+=c===0?`M ${d} ${g}`:` L ${d} ${g}`}return o+=" Z",`<path d="${o}" fill="${e.accent}" opacity="0.25"/>`}function $8(t,e){const n=t/2,r=t/2,a=t*.25,o=[];for(let c=0;c<3;c++){const h=(c-1)*a*.8,d=`M ${n} ${r-a+h} 
                  L ${n+a*.6} ${r+h} 
                  L ${n} ${r+a+h} 
                  L ${n-a*.6} ${r+h} Z`;o.push(`<path d="${d}" fill="${e.accent}" opacity="${.15+c*.08}"/>`)}return o.join("")}function H8(t,e){const n=t/2,r=t/2,a=`M ${n-2} ${r+t*.2} 
                      L ${n+2} ${r+t*.2} 
                      L ${n+2} ${r+t*.35} 
                      L ${n-2} ${r+t*.35} Z`,o=t*.15;return`
    <path d="${`M ${n-o} ${r-t*.15} 
                    A ${o} ${o} 0 0 1 ${n+o} ${r-t*.15} 
                    L ${n+o} ${r+t*.15} 
                    A ${o} ${o} 0 0 1 ${n-o} ${r+t*.15} Z`}" fill="${e.accent}" opacity="0.2"/>
    <path d="${a}" fill="${e.accent}" opacity="0.3"/>
  `}function G8(t,e){const n=[],a=t/5;for(let o=1;o<5;o++){const c=o*a;n.push(`<line x1="0" y1="${c}" x2="${t}" y2="${c}" stroke="${e.accent}" stroke-width="1" opacity="0.25"/>`)}return n.push(`<line x1="${t/2}" y1="${a}" x2="${t/2}" y2="${t-a}" stroke="${e.accent}" stroke-width="1" opacity="0.3"/>`),n.join("")}function K8(t,e,n){const r=[],a=2+n%3;for(let o=0;o<a;o++){const c=t*.1+n%18,h=n*(o+1)%(t-c),d=n*(o+2)%(t-c),g=.1+o*.05;o%2===0?r.push(`<circle cx="${h+c/2}" cy="${d+c/2}" r="${c/2}" fill="${e.accent}" opacity="${g}"/>`):r.push(`<rect x="${h}" y="${d}" width="${c}" height="${c}" fill="${e.accent}" opacity="${g}"/>`)}return r.join("")}function Q8(t,e,n,r){switch(t){case"hexagon":return N1(e,n);case"diamond":return $8(e,n);case"paddle":return H8(e,n);case"court":return G8(e,n);case"geometric":return K8(e,n,r);default:return N1(e,n)}}function Z8(t){const{playerId:e,playerName:n,size:r=64}=t,a=S2(e+n),o=q8(e),c=T2[o],h=R1[a%R1.length],d=n.split(" ").map(_=>_.charAt(0).toUpperCase()).slice(0,2).join(""),g=Q8(h,r,c,a);return`
    <svg width="${r}" height="${r}" viewBox="0 0 ${r} ${r}" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="bg-gradient-${a}" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:${c.gradient[0]};stop-opacity:1" />
          <stop offset="100%" style="stop-color:${c.gradient[1]};stop-opacity:1" />
        </linearGradient>
      </defs>
      
      <!-- Background -->
      <rect width="${r}" height="${r}" fill="url(#bg-gradient-${a})" rx="${r*.1}" />
      
      <!-- Pattern -->
      ${g}
      
      <!-- Initials -->
      <text 
        x="${r/2}" 
        y="${r/2+5}" 
        text-anchor="middle" 
        font-family="Inter, system-ui, -apple-system, sans-serif" 
        font-size="${r*.35}" 
        font-weight="700" 
        fill="${c.text}"
        opacity="0.9"
      >
        ${d}
      </text>
    </svg>
  `.trim()}function Y8(t){const e=Z8(t);return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(e)))}`}function X8(t){if(t){if(typeof t?.toDate=="function")return t.toDate().toISOString();if(typeof t=="string")return t}}function J8(t){if(t){if(typeof t?.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);if(!isNaN(e.getTime()))return e}}}const W8={toFirestore(t){const{id:e,createdAt:n,...r}=t;return{...r,createdAt:n||Q3()}},fromFirestore(t,e){const n=t.data(e),r=B8(t.id);r||console.log("No demo name for player id:",t.id);const a=r||n.name;let o=n.imageUrl;a&&typeof a=="string"&&(o=Y8({playerId:t.id,playerName:a,size:64}));const c={id:t.id,name:a,dupr:n.dupr,imageUrl:o,createdAt:X8(n.createdAt)};return V8.parse(c)}},eF={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,...n};return z8.parse(r)}},tF={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),{playerIds:r,...a}=n,o={playerIds:Array.isArray(r)?r.map(String):[],...a,id:t.id};return L8.parse(o)}},nF={toFirestore(t){const{id:e,...n}=t,{...r}=n;return{...r}},fromFirestore(t,e){const n=t.data(e);let r=new Date;try{r=J8(n.startDateTime)||new Date}catch(o){console.log(o)}const a={id:t.id,name:n.name,startDateTime:r,location:n.location,link:n.link,standings:Array.isArray(n.standings)?n.standings.map(String):void 0,label:n.label};return F8.parse(a)}};function A2(t,e,n){const r=[e];async function a(h){await t.cancelQueries({queryKey:[e,n]});const d=n?t.getQueryData([e,n]):null,g=t.getQueryData(r),v=h?.id??n,_=v?{...d,...h,id:v}:void 0;return _&&_.id&&(t.setQueryData([e,_.id],_),t.setQueryData(r,E=>{const T=E??[],D=T.findIndex(k=>k.id===_.id);if(D>=0){const k=[...T];return k[D]=_,k}return[_,...T]})),{previousItem:d,previousList:g}}function o(...h){const d=h[h.length-1];d?.previousItem&&n&&t.setQueryData([e,n],d.previousItem),d?.previousList?t.setQueryData(r,d.previousList):t.invalidateQueries({queryKey:r})}function c(...h){const d=h[0];if(typeof d=="string"&&d)t.invalidateQueries({queryKey:[e,d]});else if(d&&typeof d=="object"&&"id"in d){const g=d.id;g&&t.invalidateQueries({queryKey:[e,g]})}t.invalidateQueries({queryKey:r})}return{onMutate:a,onError:o,onSettled:c}}function I2(t,e,n){const r=sc(),o=fS({queryKey:[t,n],queryFn:async()=>!n||!t?null:Jz(t,n,e),enabled:!!n,staleTime:1e3*60}),c=t?A2(r,t,n):void 0,h=Im({mutationFn:async d=>{if(!t)return d;if(d?.id)return await Wz(t,d.id,d,e),d;{const g=await KR(t,d,e);return{...d,id:g}}},onMutate:c?.onMutate,onError:c?.onError,onSettled:c?.onSettled});return{...o,upsert:h.mutateAsync,upsertState:{status:h.status,error:h.error??null}}}function R2(t,e){const n=fS({queryKey:[t],queryFn:async()=>t?(await n5(t,{pageSize:1e3,converter:e})).docs:[],staleTime:6e4,enabled:!!t});return t?n:{...n,data:[],isLoading:!1,error:new Error("Missing collectionName")}}function rF(t,e){const n=sc();return Im({mutationFn:async r=>await KR(t,r,e),onMutate:async r=>{await n.cancelQueries({queryKey:[t]});const a=n.getQueryData([t]),o=`__tmp__${Date.now()}`,c={...r,id:o};return n.setQueryData([t],h=>[c,...h??[]]),{previousList:a}},onError:(r,a,o)=>{o?.previousList?n.setQueryData([t],o.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:r=>{n.invalidateQueries({queryKey:[t]}),r&&n.invalidateQueries({queryKey:[t,r]})}})}function sF(t,e){const n=sc(),r=A2(n,t);return Im({mutationFn:async a=>{const o=a.id;if(!o)throw new Error("id required for update");await e5(t,o,a,e)},onMutate:r.onMutate,onError:r.onError,onSettled:r.onSettled})}function iF(t){const e=sc();return Im({mutationFn:async n=>{if(!n)throw new Error("id required for delete");await t5(t,n)},onMutate:async n=>{if(!n)return{};await e.cancelQueries({queryKey:[t]});const r=e.getQueryData([t,n]),a=e.getQueryData([t]);return a&&e.setQueryData([t],a.filter(o=>o.id!==n)),e.setQueryData([t,n],null),{previous:r,previousList:a}},onError:(n,r,a)=>{const o=r;a?.previous&&o&&e.setQueryData([t,o],a.previous),a?.previousList?e.setQueryData([t],a.previousList):e.invalidateQueries({queryKey:[t]})},onSettled:(n,r,a)=>{a&&e.invalidateQueries({queryKey:[t,a]}),e.invalidateQueries({queryKey:[t]})}})}function N2(t,e){const n=rF(t,e);return{create:n.mutateAsync,status:n.status,error:n.error??null}}function C2(t,e){const n=sF(t,e);return{update:n.mutateAsync,status:n.status,error:n.error??null}}function D2(t){const e=iF(t);return{remove:e.mutateAsync,status:e.status,error:e.error??null}}function k2(t,e,n){const r=!!t&&!!n,[a,o]=V.useState(null),[c,h]=V.useState(null);return V.useEffect(()=>{if(!r)return;const g=b_(ii,t),v=e?g.withConverter(e):g,_=fc(v,n),E=dR(_,T=>{T.exists()?o(T.data()):o(null)},T=>{h(T)});return()=>{E()}},[r,t,n,e]),{data:r?a:null,loading:r&&a===null&&c===null,error:r?c:null}}function j2(t,e){const[n,r]=V.useState(null),[a,o]=V.useState(!0),[c,h]=V.useState(null),[d,g]=V.useState(t);return V.useEffect(()=>{if(!t)return;const v=b_(ii,t),_=e?v.withConverter(e):v,E=dR(_,T=>{const D=T.docs.map(k=>k.data());r(D),o(!1)},T=>{h(T),o(!1)});return()=>{E()}},[t,e]),t?{data:n,loading:a,error:c}:{data:[],loading:!1,error:new Error("Missing collectionName")}}function O2(t,e){function n(g){return I2(t,e,g)}function r(){return R2(t,e)}function a(){return N2(t,e)}function o(){return C2(t,e)}function c(){return D2(t)}function h(g){return k2(t,e,g)}function d(){return j2(t,e)}return{useEntity:n,useEntities:r,useCreate:a,useUpdate:o,useDelete:c,useEntityRealtime:h,useEntitiesRealtime:d}}function aF(t,e){function n(...g){const v=t(...g),_=R2(v,e);return v?_:{..._,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function r(...g){const v=g.slice(0,-1),_=g[g.length-1],E=t(...v),T=I2(E,e,_);return E?T:{...T,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}function a(...g){const v=t(...g),_=N2(v,e);return v?_:{..._,create:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function o(...g){const _=t(...g),E=C2(_,e);return _?E:{...E,update:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function c(...g){const v=t(...g),_=D2(v);return v?_:{..._,remove:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function h(...g){const v=t(...g),_=j2(v,e);return v?_:{..._,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function d(...g){const v=g.slice(0,-1),_=g[g.length-1],E=t(...v),T=k2(E,e,_);return E?T:{...T,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}return{useEntities:n,useEntity:r,useCreate:a,useUpdate:o,useDelete:c,useEntitiesRealtime:h,useEntityRealtime:d}}const P2=(t,e,n)=>aF(r=>r?`${t}/${r}/${e}`:void 0,n),{useEntities:Nh,useCreate:oF,useEntitiesRealtime:lF}=O2("players",W8),{useEntity:M2,useEntities:Do,useCreate:cF,useUpdate:V2,useEntityRealtime:uF}=O2("events",nF),{useCreate:hF,useDelete:dF,useEntitiesRealtime:z2}=P2("events","courts",tF),{useCreate:fF,useUpdate:mF,useDelete:pF,useEntitiesRealtime:L2}=P2("events","games",eF),tb=({imageUrl:t,name:e,size:n="md",className:r,border:a=!0})=>{const o={sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-xs",lg:"h-12 w-12 text-sm",xl:"h-16 w-16 text-base"},c={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-8 w-8"},h=xn("rounded-full object-cover flex-shrink-0",o[n],a&&"border border-border",r);if(t){const d=t.startsWith("/")?`/${t.slice(1)}`:t;return p.jsx("img",{src:d,alt:e,className:h})}return p.jsx("div",{className:xn(h,"bg-surface-highlight flex items-center justify-center"),children:e?p.jsx("span",{className:"font-bold text-text-muted",children:e.charAt(0)}):p.jsx(vS,{className:xn("text-text-muted",c[n])})})},Qs=({children:t,primaryColor:e="primary",secondaryColor:n="success",className:r=""})=>p.jsx("div",{className:`relative overflow-hidden ${r}`,children:p.jsxs("div",{className:`bg-gradient-to-br from-${e}/10 via-surface/5 to-${n}/10 rounded-xl p-4 md:p-8 border border-${e}/20`,children:[t,p.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-${e}/10 to-transparent rounded-full blur-2xl -z-10`}),p.jsx("div",{className:`absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-${n}/10 to-transparent rounded-full blur-2xl -z-10`})]})}),Gs=({children:t,className:e="",as:n="h2",subtitle:r,icon:a,iconColor:o="primary"})=>{const c=n;return p.jsxs("div",{className:`text-center mb-8 ${e}`,children:[a&&p.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-${o} to-${o}/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300`,children:a}),p.jsx(c,{className:"text-2xl md:text-3xl font-black text-text-main mb-2",children:t}),r&&p.jsx("div",{className:"text-lg text-text-muted max-w-2xl mx-auto",children:r})]})},Yi=({emoji:t,title:e,value:n,description:r,color:a="primary",className:o=""})=>p.jsxs("div",{className:`group relative overflow-hidden rounded-2xl bg-gradient-to-br from-${a}/10 to-${a}/5 border-2 border-${a}/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 ${o}`,children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"mb-4",children:t}),p.jsx("h3",{className:"text-xl font-bold text-text-main mb-3",children:e}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:`text-2xl font-black text-${a}`,children:n}),r&&p.jsx("div",{className:"text-text-muted font-medium",children:r})]})]}),p.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 bg-${a}/5 rounded-full blur-xl`})]}),Ll=({badgeContent:t,title:e,description:n,emoji:r,color:a="primary",className:o=""})=>p.jsx("div",{className:`group relative overflow-hidden rounded-2xl bg-gradient-to-r from-${a}/20 via-${a}/10 to-${a}/5 border-2 border-${a}/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] ${o}`,children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-${a} to-${a}/80 rounded-full flex items-center justify-center shadow-lg`,children:p.jsx("span",{className:"text-2xl font-black text-white",children:t})})}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("div",{className:"text-lg font-bold text-text-main mb-1",children:e}),p.jsx("div",{className:"text-text-muted",children:n})]}),r&&p.jsx("div",{className:"text-3xl opacity-50",children:r})]})}),gF=()=>p.jsxs(Qs,{primaryColor:"warning",secondaryColor:"primary",children:[p.jsx(Gs,{icon:p.jsx(vr,{className:"h-10 w-10 text-white"}),iconColor:"warning",subtitle:"Compete for exclusive prizes and eternal glory in our inaugural competitive season",children:"Season 1 Championship"}),p.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[p.jsx("div",{className:"text-center lg:text-left",children:p.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-2xl p-8 border border-primary/20 shadow-lg",children:[p.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[p.jsx(Gu,{className:"h-8 w-8 text-primary"}),p.jsx("h3",{className:"text-2xl font-bold text-text-main",children:"Season Duration"})]}),p.jsx("div",{className:"space-y-4",children:p.jsxs("div",{className:"text-center lg:text-left",children:[p.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"4"}),p.jsx("div",{className:"text-xl font-semibold text-text-main",children:"Weeks of Competition"}),p.jsx("div",{className:"text-text-muted mt-2",children:"Every Sunday  7PM-10PM"})]})})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-bold text-text-main mb-6 text-center lg:text-left",children:"Championship Rewards"}),p.jsx("p",{className:"text-text-muted mb-6 text-center lg:text-left",children:"Top 3 finishers earn exclusive Joola gear and club points:"}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(Ll,{badgeContent:"1st",title:"Champion",description:p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-semibold text-warning",children:"Joola Hat"})," +",p.jsx("span",{className:"font-semibold text-primary ml-1",children:"25 Club Points"})]}),emoji:"",color:"warning"}),p.jsx(Ll,{badgeContent:"2nd",title:"Runner-up",description:p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-semibold text-text-accent",children:"Joola Water Bottle"})," +",p.jsx("span",{className:"font-semibold text-primary ml-1",children:"15 Club Points"})]}),emoji:"",color:"text-accent"}),p.jsx(Ll,{badgeContent:"3rd",title:"Third Place",description:p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-semibold text-bronze",children:"Joola Wristbands"})," +",p.jsx("span",{className:"font-semibold text-primary ml-1",children:"10 Club Points"})]}),emoji:"",color:"bronze"})]})]})]})]}),Fr=(t,e=3)=>e===5?_F(t):e===2?yF(t):vF(t),yF=t=>t<1?0:t===1?1e3:t===2?700:t>=8?Math.floor(Fr(t-7)/10):t>=3?Math.floor(Fr(t-2)/2):0,vF=t=>t<1?0:t===1?1e3:t===2?800:t===3?Fr(2)*3/4:t===4?Fr(2)*3/5:t>=11?Math.floor(Fr(t-10)/10):t>=5?Math.floor(Fr(t-3)/2):0,_F=t=>t<1?0:t===1?1e3:t===2?875:t===3?750:t===4?650:t===5?575:t>=19?Math.floor(Fr(t-18)/10):t>=6?Math.floor(Fr(t-5)/2):0,nb=t=>{if(!t.isCompleted||!Array.isArray(t.standings)||t.standings.length===0)return null;const e=t.standings,n=[];return e.forEach((r,a)=>{const o=a+1,c=Math.ceil(o/4),h=(o-1)%4+1,d=Fr(o);n.push({playerId:r,court:c,position:h,rank:o,pointsEarned:d})}),n},bF=t=>{const e=new Map;return t.forEach(n=>{if(!n.standings||n.standings.length===0)return;const r={id:n.id,date:n.startDateTime?n.startDateTime.toISOString():n.id,isCompleted:!0,standings:n.standings},a=nb(r);a&&a.forEach(o=>{const c=o.playerId,h=o.pointsEarned||0,d=e.get(c)||{points:0,events:0,champWins:0};d.points+=h,d.events+=1,o.rank===1&&(d.champWins+=1),e.set(c,d)})}),e},xF=()=>{const{data:t=[]}=Do(),{data:e=[]}=Nh(),n=Xi.useMemo(()=>{const h=new Map,d=new Map;(t||[]).filter(_=>Array.isArray(_.standings)&&_.standings.length>0).forEach(_=>{const E={id:_.id,date:_.startDateTime?_.startDateTime.toISOString():_.id,isCompleted:!0,standings:_.standings};(nb(E)||[]).forEach(D=>{const k=D.playerId,M=D.pointsEarned||0;h.set(k,(h.get(k)||0)+M),d.set(k,(d.get(k)||0)+1)})});const v=Array.from(h.entries()).map(([_,E])=>({playerId:_,points:E}));return v.sort((_,E)=>E.points-_.points),v.slice(0,3).map((_,E)=>({playerId:_.playerId,points:_.points,events:d.get(_.playerId)||0,rank:E+1}))},[t]),r=(()=>{const h=(t||[]).filter(g=>g.startDateTime instanceof Date&&!isNaN(g.startDateTime.getTime()));if(h.length===0)return"Challenge Series";const d=Array.from(new Set(h.map(g=>g.startDateTime.getFullYear()))).sort();return d.length===1?`${d[0]} Challenge`:`${d[0]}${d[d.length-1]} Challenge`})(),a=Xi.useMemo(()=>{if(!t||t.length===0)return null;const h=t.filter(_=>_.startDateTime instanceof Date&&!isNaN(_.startDateTime.getTime()));h.sort((_,E)=>_.startDateTime.getTime()-E.startDateTime.getTime());const g=new Date().getTime(),v=h.filter(_=>_.startDateTime.getTime()>=g);return v.length>0?v[0]:null},[t]),o=h=>h?h.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"",c=h=>h?h.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";return p.jsxs("div",{className:"space-y-16 pb-12",children:[p.jsx("div",{className:"relative overflow-hidden",children:p.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-success/10 border border-success/20 mb-6",children:[p.jsxs("span",{className:"relative flex h-2 w-2",children:[p.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success opacity-75"}),p.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-success"})]}),p.jsxs("span",{className:"text-sm font-semibold text-success",children:[r," is Live"]})]}),p.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-text-main mb-6 tracking-tight leading-tight",children:["Paddle Up",p.jsx("br",{}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-text-accent",children:"Premier League"})]}),p.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto leading-relaxed",children:"Join our competitive pickleball league designed for advanced players looking to test their skills and climb the rankings each week."}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[p.jsxs(Rt,{to:"/standings",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-all duration-300 shadow-lg shadow-primary/20 flex items-center gap-2 hover:scale-105",children:["View Standings ",p.jsx(Ef,{className:"h-5 w-5"})]}),p.jsx(Rt,{to:"/format",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-all duration-300 flex items-center gap-2",children:"League Format"})]})]}),p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),p.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 bg-success/5 rounded-full blur-xl -z-10"})]})}),p.jsxs(Qs,{primaryColor:"primary",secondaryColor:"success",children:[p.jsx(Gs,{icon:p.jsx(Rm,{className:"h-10 w-10 text-white"}),iconColor:"primary",subtitle:"Weekly competitive action with structured format and player advancement",children:"League Overview"}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx(Yi,{emoji:"",title:"Players",value:"16",description:"per night",color:"primary"}),p.jsx(Yi,{emoji:"",title:"Schedule",value:"7-10 PM",description:"Every Sunday",color:"success"}),p.jsx(Yi,{emoji:"",title:"Prize Pool",value:"100",description:"Club Points",color:"warning"}),p.jsx(Yi,{emoji:"",title:"Level",value:"3.5+ DUPR",description:"Required",color:"text-accent"})]})]}),p.jsx(gF,{}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsx("div",{className:"relative overflow-hidden",children:p.jsxs("div",{className:"bg-gradient-to-br from-success/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-success/20 shadow-2xl h-full",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:p.jsx(vr,{className:"h-8 w-8 text-white"})}),p.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Current Leaders"}),p.jsx("div",{className:"flex items-center justify-center gap-2",children:p.jsxs(Rt,{to:"/standings",className:"text-success hover:text-success font-semibold text-sm flex items-center gap-1",children:["Full Standings ",p.jsx(Ef,{className:"h-4 w-4"})]})})]}),p.jsx("div",{className:"space-y-4",children:n.map((h,d)=>{const g=e.find(v=>v.id===h.playerId)||{name:"Unknown",imageUrl:""};return p.jsxs(Rt,{to:`/player/${h.playerId}`,className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-4 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] block",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:p.jsx("span",{className:"text-lg font-black text-white",children:d+1})}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(tb,{imageUrl:g.imageUrl,name:g.name,size:"md",className:"group-hover:ring-2 ring-success transition-all"}),p.jsx("span",{className:"font-bold text-text-main group-hover:text-success transition-colors",children:g.name})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("span",{className:"block font-bold text-success",children:[h.points," pts"]}),p.jsxs("span",{className:"text-xs text-text-muted",children:[h.events," Events"]})]})]}),p.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]},h.playerId)})}),p.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-xl -z-10"}),p.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),p.jsx("div",{className:"relative overflow-hidden",children:p.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-warning/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl h-full",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:p.jsx(uo,{className:"h-8 w-8 text-white"})}),p.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:" Next Match Night"})]}),a?p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:p.jsx("span",{className:"text-lg font-black text-white",children:""})})}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Date"}),p.jsx("div",{className:"text-lg font-bold text-text-main",children:o(a.startDateTime)})]})]})}),p.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:p.jsx("span",{className:"text-lg font-black text-white",children:""})})}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Time"}),p.jsx("div",{className:"text-lg font-bold text-text-main",children:c(a.startDateTime)})]})]})}),p.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:p.jsx("span",{className:"text-lg font-black text-white",children:""})})}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider mb-1",children:"Location"}),p.jsx("div",{className:"text-lg font-bold text-text-main",children:a.location})]})]})}),p.jsx("div",{className:"pt-4",children:p.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-primary text-white px-6 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center justify-center gap-2",children:["Register on CourtReserve",p.jsx(Dv,{className:"h-5 w-5"})]})})]}):p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"text-center p-8",children:[p.jsx("div",{className:"text-6xl mb-4 opacity-50",children:""}),p.jsx("p",{className:"text-text-muted mb-6",children:"No upcoming match nights are listed. Check the full schedule for details."}),p.jsx(Rt,{to:"/schedule",className:"inline-flex items-center justify-center px-6 py-3 bg-primary text-white rounded-xl font-bold transition-colors hover:bg-primary-hover",children:"View Schedule"})]})}),p.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-xl -z-10"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-warning/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),p.jsx("div",{className:"relative overflow-hidden",children:p.jsxs("div",{className:"bg-gradient-to-br from-text-accent/5 via-surface to-primary/5 rounded-3xl p-8 md:p-12 border border-text-accent/20 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-text-accent to-text-accent/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:p.jsx(Ku,{className:"h-10 w-10 text-white"})}),p.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Ready to Compete?"}),p.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto mb-8",children:"We are always looking for competitive players to join the roster. Check out the format and rules to see if you qualify for our premier league."}),p.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[p.jsxs(Rt,{to:"/format",className:"bg-text-accent text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent/80 transition-colors shadow-lg shadow-text-accent/20 flex items-center gap-2",children:["View League Format ",p.jsx(Ef,{className:"h-5 w-5"})]}),p.jsx(Rt,{to:"/standings",className:"bg-surface border-2 border-text-accent text-text-accent px-8 py-4 rounded-xl font-bold text-lg hover:bg-text-accent hover:text-white transition-colors",children:"Current Standings"})]})]}),p.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"}),p.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-primary/10 to-transparent rounded-full blur-2xl -z-10"})]})})]})},U2=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"unknown":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`},wF=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Unknown Date":e.toLocaleDateString(void 0,{month:"short",year:"numeric"})},EF=t=>{const e=new Map;return t.forEach(n=>{if(n instanceof Date&&!isNaN(n.getTime())){const r=U2(n);e.has(r)||e.set(r,n)}}),Array.from(e.entries()).sort((n,r)=>r[1].getTime()-n[1].getTime()).map(([n,r])=>({key:n,label:wF(r)}))},F2=(t="all")=>{const{data:e=[]}=Nh(),{data:n=[]}=Do();return V.useMemo(()=>{const r=n.filter(h=>Array.isArray(h.standings)&&h.standings.length>0?t==="all"?!0:U2(h.startDateTime)===t:!1),a=bF(r),o=Array.from(a.entries()).map(([h,d])=>({playerId:h,points:d.points,eventsPlayed:d.events,champWins:d.champWins}));return o.sort((h,d)=>d.points-h.points),CO(o,h=>h.points).map(h=>{const d=e.find(g=>g.id===h.playerId);return{...h,name:d?.name||"Unknown",imageUrl:d?.imageUrl||"",dupr:d?.dupr,id:h.playerId}})},[n,e,t])},on=Xi.forwardRef(({children:t,className:e,variant:n="default",hover:r=!1,padding:a="md",theme:o="primary",...c},h)=>{const d="rounded-xl border transition-all duration-300",g={sm:"p-4",md:"p-6",lg:"p-8",xl:"p-12"},v={primary:{bg:"from-primary/10 to-primary/5",border:"border-primary/20"},success:{bg:"from-success/10 to-success/5",border:"border-success/20"},warning:{bg:"from-warning/10 to-warning/5",border:"border-warning/20"},error:{bg:"from-error/10 to-error/5",border:"border-error/20"},"text-accent":{bg:"from-text-accent/10 to-text-accent/5",border:"border-text-accent/20"},bronze:{bg:"from-bronze/10 to-bronze/5",border:"border-bronze/20"}},_={default:"bg-surface border-border shadow-sm",premium:`bg-gradient-to-br from-surface via-surface-alt to-surface border-border shadow-2xl ${r?"hover:shadow-3xl hover:scale-[1.02] hover:border-primary/50":""}`,gradient:`bg-gradient-to-br ${v[o].bg} ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`,outlined:"bg-transparent border-border hover:border-primary/50",flat:"bg-surface-alt border-transparent shadow-none",stat:`bg-gradient-to-br ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-105":""}`,info:`bg-gradient-to-r ${v[o].bg} border-2 ${v[o].border} shadow-lg ${r?"hover:shadow-xl hover:scale-[1.02]":""}`},E=r?"cursor-pointer group":"";return p.jsx("div",{ref:h,className:xn(d,_[n]??_.default,g[a],E,e),...c,children:t})});on.displayName="Card";const TF=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}},B2=({rank:t,className:e,size:n="md"})=>{const r={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},a=o=>o===1?"bg-warning/20 text-warning":o===2?"bg-surface-alt text-text-muted":o===3?"bg-bronze/20 text-bronze":"text-text-muted";return p.jsx("span",{className:xn("flex items-center justify-center rounded-full font-bold",r[n],a(t),e),children:TF(t)})},q2=({data:t,players:e,showEvents:n=!0,showPoints:r=!0,className:a,pointsRenderer:o,rowClassName:c})=>p.jsx(on,{className:xn("p-0 overflow-hidden",a),children:p.jsx("div",{className:"overflow-x-auto w-full",children:p.jsxs("table",{className:"w-full divide-y divide-border rounded-2xl bg-gradient-to-br from-surface/80 to-surface-alt/60 shadow-md",children:[p.jsx("thead",{className:"bg-gradient-to-r from-primary-light/30 to-surface-highlight/60",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider pl-6 rounded-tl-2xl",children:"Rank"}),p.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider",children:"Player"}),r&&p.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-text-main uppercase tracking-wider",children:"Points"}),n&&p.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-text-main uppercase tracking-wider rounded-tr-2xl",children:"Events"})]})}),p.jsx("tbody",{className:"bg-surface divide-y divide-border",children:t.map((h,d)=>{const g=e?.find(v=>v.id===h.playerId)||{name:"Unknown",imageUrl:"",id:"unknown"};return p.jsxs("tr",{className:xn("hover:bg-surface-highlight/70 transition-colors",c?c(h,d):(h.rank||0)<=4?"bg-primary-light/10":""),children:[p.jsx("td",{className:"px-4 pl-6 py-4 whitespace-nowrap",children:p.jsx(B2,{rank:h.rank??0})}),p.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:p.jsxs(Rt,{to:`/player/${h.playerId}`,className:"flex items-center group",children:[p.jsx(tb,{imageUrl:g.imageUrl,name:g.name,className:"mr-3 group-hover:ring-2 ring-primary transition-all"}),p.jsx("div",{className:"text-sm font-semibold text-text-main group-hover:text-primary transition-colors",children:g.name}),h.rank===1&&p.jsx(vr,{className:"ml-2 h-4 w-4 text-warning"})]})}),r&&p.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:o?o(h,g,d):p.jsx("div",{className:"text-sm font-bold text-success",children:h.points??0})}),n&&p.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-text-muted",children:h.eventsPlayed??0})]},h.playerId)})})]})})}),SF=({value:t,options:e,onChange:n,label:r="View:",className:a=""})=>p.jsxs("div",{className:`inline-flex items-center gap-4 p-2 bg-surface-alt rounded-2xl border border-border shadow-lg ${a}`,children:[p.jsx("span",{className:"text-sm font-semibold text-text-muted px-3",children:r}),p.jsxs("select",{value:t,onChange:o=>n(o.target.value),className:"appearance-none bg-primary text-white text-sm font-bold rounded-xl px-4 py-2 border-0 focus:outline-none focus:ring-2 focus:ring-primary/50",children:[p.jsx("option",{value:"all",children:"All Time"}),e.map(o=>p.jsx("option",{value:o.key,children:o.label},o.key))]})]}),AF=()=>{const[t,e]=V.useState("all"),{data:n=[]}=Nh(),{data:r=[]}=Do(),a=V.useMemo(()=>EF(r.map(c=>c.startDateTime)),[r]),o=F2(t);return p.jsx("div",{className:"space-y-16 pb-12",children:p.jsxs(Qs,{primaryColor:"primary",secondaryColor:"success",children:[p.jsx(Gs,{icon:Ku,title:"Standings",subtitle:"Complete standings with detailed statistics for all players",className:"mb-8"}),p.jsx("div",{className:"flex justify-center mb-8",children:p.jsx(SF,{value:t,options:a,onChange:c=>e(c==="all"?"all":c)})}),p.jsx("div",{className:"max-w-6xl mx-auto",children:p.jsx("div",{className:"bg-gradient-to-r from-surface-alt/50 to-surface/50 rounded-2xl border border-border shadow-lg overflow-hidden",children:p.jsx(q2,{data:o,players:n})})})]})})},IF=()=>(V.useEffect(()=>{document.title="Pickleball League  Season 1 (Competitive)"},[]),p.jsxs("div",{className:"space-y-16 pb-12",children:[p.jsxs(Qs,{primaryColor:"warning",secondaryColor:"primary",children:[p.jsx(Gs,{icon:p.jsx(vr,{className:"h-10 w-10 text-white"}),iconColor:"warning",subtitle:"Compete for exclusive prizes and eternal glory in our inaugural competitive season",children:"Season 1 Championship"}),p.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[p.jsx("div",{className:"text-center lg:text-left",children:p.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-2xl p-8 border border-primary/20 shadow-lg",children:[p.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[p.jsx(Gu,{className:"h-8 w-8 text-primary"}),p.jsx("h3",{className:"text-2xl font-bold text-text-main",children:"Season Duration"})]}),p.jsx("div",{className:"space-y-4",children:p.jsxs("div",{className:"text-center lg:text-left",children:[p.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"4"}),p.jsx("div",{className:"text-xl font-semibold text-text-main",children:"Weeks of Competition"}),p.jsx("div",{className:"text-text-muted mt-2",children:"Every Sunday  7PM-10PM"})]})})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-bold text-text-main mb-6 text-center lg:text-left",children:"Championship Rewards"}),p.jsx("p",{className:"text-text-muted mb-6 text-center lg:text-left",children:"Top 3 finishers earn exclusive Joola gear and club points:"}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(Ll,{badgeContent:"1st",title:"Champion",description:p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-semibold text-warning",children:"Joola Hat"})," +",p.jsx("span",{className:"font-semibold text-primary ml-1",children:"25 Club Points"})]}),emoji:"",color:"warning"}),p.jsx(Ll,{badgeContent:"2nd",title:"Runner-up",description:p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-semibold text-text-accent",children:"Joola Water Bottle"})," +",p.jsx("span",{className:"font-semibold text-primary ml-1",children:"15 Club Points"})]}),emoji:"",color:"text-accent"}),p.jsx(Ll,{badgeContent:"3rd",title:"Third Place",description:p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-semibold text-bronze",children:"Joola Wristbands"})," +",p.jsx("span",{className:"font-semibold text-primary ml-1",children:"10 Club Points"})]}),emoji:"",color:"bronze"})]})]})]})]}),p.jsxs(Qs,{primaryColor:"primary",secondaryColor:"success",children:[p.jsx(Gs,{icon:p.jsx(Gu,{className:"h-10 w-10 text-white"}),iconColor:"primary",subtitle:"Every Sunday brings competitive action with structured rounds and exciting gameplay",children:"Nightly Experience"}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx(Yi,{emoji:"",title:"Schedule",value:"7PM  10PM",description:"Every Sunday",color:"primary"}),p.jsx(Yi,{emoji:"",title:"Entry Fee",value:"$20",description:p.jsxs("div",{className:"space-y-1",children:[p.jsx("div",{children:"per night"}),p.jsx("div",{className:"text-sm text-success font-semibold bg-success/10 rounded-full px-3 py-1",children:"Free for Annual Members"})]}),color:"success"}),p.jsx(Yi,{emoji:"",title:"Eligibility",value:"DUPR 3.5+",description:"Required Rating",color:"warning"}),p.jsx(Yi,{emoji:"",title:"Format",value:"2 Rounds",description:"per night",color:"text-accent"})]})]}),p.jsx("div",{className:"relative overflow-hidden",children:p.jsxs("div",{className:"bg-gradient-to-br from-success/5 via-surface to-text-accent/5 rounded-3xl p-8 md:p-12 border border-success/20 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-success to-success/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:p.jsx(kj,{className:"h-10 w-10 text-white"})}),p.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:"Game Format"}),p.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Structured gameplay with rotating partnerships and dynamic scoring systems"})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 border-2 border-primary/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-5xl mb-6",children:""}),p.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Players per Court"}),p.jsx("div",{className:"text-4xl font-black text-primary mb-2",children:"45"}),p.jsx("div",{className:"text-text-muted font-medium",children:"Players"})]}),p.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-xl"})]}),p.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-warning/10 to-warning/5 border-2 border-warning/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-5xl mb-6",children:""}),p.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Partnership"}),p.jsxs("div",{className:"text-text-muted font-medium leading-relaxed",children:["Every player partners ",p.jsx("strong",{className:"text-warning",children:"once per round"})]})]}),p.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-warning/5 rounded-full blur-xl"})]}),p.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-br from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-5xl mb-6",children:""}),p.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:"Scoring"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[p.jsx("div",{className:"font-bold text-text-main text-lg",children:"4-Player Courts"}),p.jsx("div",{className:"text-text-muted font-medium",children:"3 games  15 pts  win by 1"})]}),p.jsxs("div",{className:"bg-text-accent/10 rounded-xl p-4 border border-text-accent/20",children:[p.jsx("div",{className:"font-bold text-text-main text-lg",children:"5-Player Courts"}),p.jsx("div",{className:"text-text-muted font-medium",children:"4 games  11 pts  win by 1"})]})]})]}),p.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-text-accent/5 rounded-full blur-xl"})]})]}),p.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-success/10 to-transparent rounded-full blur-2xl -z-10"}),p.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsx("div",{className:"relative overflow-hidden",children:p.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-surface to-success/10 rounded-3xl p-8 md:p-10 border border-primary/20 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:p.jsx(Rm,{className:"h-8 w-8 text-white"})}),p.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Round 1: Initial Seeding"})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"flex-shrink-0 mt-1",children:p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center shadow-lg",children:p.jsx("span",{className:"text-lg font-black text-white",children:""})})}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),p.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Courts assigned via ",p.jsx("strong",{className:"text-primary",children:"snake draft"})," ","(back-and-forth order)"]})]})]}),p.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"})]}),p.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-success/10 to-success/5 border-2 border-success/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"flex-shrink-0 mt-1",children:p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success to-success/80 rounded-full flex items-center justify-center shadow-lg",children:p.jsx("span",{className:"text-lg font-black text-white",children:""})})}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Seeding Basis"}),p.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Seeding based on"," ",p.jsx("strong",{className:"text-success",children:"previous weeks' performance"})," (or random for the first week)"]})]})]}),p.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-success/5 rounded-full blur-xl"})]})]}),p.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-xl -z-10"}),p.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),p.jsx("div",{className:"relative overflow-hidden",children:p.jsxs("div",{className:"bg-gradient-to-br from-warning/10 via-surface to-text-accent/10 rounded-3xl p-8 md:p-10 border border-warning/20 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-warning to-warning/70 rounded-full shadow-lg mb-4 transform hover:scale-110 transition-all duration-300",children:p.jsx(eE,{className:"h-8 w-8 text-white"})}),p.jsx("h2",{className:"text-3xl font-black text-text-main mb-2",children:"Round 2"}),p.jsx("p",{className:"text-lg text-text-muted font-medium",children:"Ranked Courts"})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-warning/10 to-warning/5 border-2 border-warning/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"flex-shrink-0 mt-1",children:p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning to-warning/80 rounded-full flex items-center justify-center shadow-lg",children:p.jsx("span",{className:"text-lg font-black text-white",children:""})})}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Placement"}),p.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Players ranked by"," ",p.jsx("strong",{className:"text-warning",children:"Round 1 performance"})]})]})]}),p.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-warning/5 rounded-full blur-xl"})]}),p.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-gradient-to-r from-text-accent/10 to-text-accent/5 border-2 border-text-accent/20 p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"flex-shrink-0 mt-1",children:p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-text-accent to-text-accent/80 rounded-full flex items-center justify-center shadow-lg",children:p.jsx("span",{className:"text-lg font-black text-white",children:""})})}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("h4",{className:"text-lg font-bold text-text-main mb-2",children:"Court Assignment"}),p.jsxs("p",{className:"text-text-muted leading-relaxed",children:["Top finishers placed on ",p.jsx("strong",{className:"text-text-accent",children:"Court 1"}),", next group on ",p.jsx("strong",{className:"text-text-accent",children:"Court 2"}),", etc."]})]})]}),p.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-text-accent/5 rounded-full blur-xl"})]})]}),p.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-warning/10 to-transparent rounded-full blur-xl -z-10"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-text-accent/10 to-transparent rounded-full blur-2xl -z-10"})]})})]}),p.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-warning/10 rounded-2xl p-8 border border-primary/30",children:[p.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[p.jsx(vr,{className:"h-8 w-8 text-warning"}),"Points & Prizes"]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Top Finisher Points"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between p-3 bg-warning/20 rounded-lg border border-warning/50",children:[p.jsx("span",{className:"font-bold text-warning",children:"1st Place"}),p.jsx("span",{className:"font-bold text-text-main",children:"1000 points"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[p.jsx("span",{className:"font-bold text-text-accent",children:"2nd Place"}),p.jsx("span",{className:"font-bold text-text-main",children:"800 points"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-bronze/20 rounded-lg border border-bronze/50",children:[p.jsx("span",{className:"font-bold text-bronze",children:"3rd Place"}),p.jsx("span",{className:"font-bold text-text-main",children:"600 points"})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface rounded-lg border border-border",children:[p.jsx("span",{className:"font-bold text-text-main",children:"4th Place"}),p.jsx("span",{className:"font-bold text-text-main",children:"500 points"})]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-text-main mb-4",children:"Point System"}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"p-4 bg-surface rounded-lg border border-border",children:p.jsxs("p",{className:"text-text-muted",children:[p.jsx("strong",{children:"All finishing positions earn points"}),", with points dropping by half every three ranks (approximate)"]})}),p.jsx("div",{className:"p-4 bg-primary-light rounded-lg border border-primary/50",children:p.jsxs("p",{className:"text-text-main",children:["Points from every game count toward"," ",p.jsx("strong",{children:"monthly and cumulative rankings"})]})})]})]})]})]}),p.jsxs("div",{className:"bg-surface rounded-2xl p-8 border border-border",children:[p.jsxs("h2",{className:"text-3xl font-bold text-text-main mb-6 flex items-center gap-3",children:[p.jsx(eE,{className:"h-8 w-8 text-success"})," Key Takeaways"]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"text-success text-lg",children:""}),p.jsxs("p",{className:"text-text-muted",children:["Structured, competitive league for ",p.jsx("strong",{children:"DUPR 3.5+ players"})]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"text-success text-lg",children:""}),p.jsxs("p",{className:"text-text-muted",children:["Sunday evenings, ",p.jsx("strong",{children:"7PM10PM"})]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"text-success text-lg",children:""}),p.jsxs("p",{className:"text-text-muted",children:[p.jsx("strong",{children:"Two rounds each night"}),", with partner rotation"]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"text-success text-lg",children:""}),p.jsxs("p",{className:"text-text-muted",children:["Points determine"," ",p.jsx("strong",{children:"court placement, monthly standings, and season/all-time rankings"})]})]})]})]})]}),p.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[p.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Ready to Compete?"}),p.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"Check your standings online and track points for this season and all-time rankings for every player."}),p.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[p.jsxs("a",{href:"https://paddleup.github.io",className:"bg-primary text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[" Check Your Standings",p.jsx(Dv,{className:"h-5 w-5"})]}),p.jsx(Rt,{to:"/schedule",className:"bg-surface border-2 border-primary text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white transition-colors",children:"Register for an event"})]})]}),p.jsxs(Qs,{primaryColor:"primary",secondaryColor:"warning",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Full League Rules & Structure"}),p.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Everything you need to know about how the Paddle Up Premier League works."})]}),p.jsxs("div",{className:"prose prose-invert max-w-3xl mx-auto text-left",children:[p.jsx("h3",{children:"Season Format"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Season runs for 1 month (4 weeks)"}),p.jsx("li",{children:"Two rounds per night, every Sunday 710PM"}),p.jsx("li",{children:"Open to DUPR 3.5+ players"})]}),p.jsx("h3",{children:"Night Structure"}),p.jsxs("ul",{children:[p.jsx("li",{children:"45 players per court, every player partners once per round"}),p.jsx("li",{children:"Scoring: 4-player courts: 3 games to 15, win by 1; 5-player courts: 4 games to 11, win by 1"}),p.jsx("li",{children:"Round 1: Snake draft seeding; Round 2: Ranked by performance"})]}),p.jsx("h3",{children:"Points & Standings"}),p.jsxs("ul",{children:[p.jsx("li",{children:"1st: 1000 pts, 2nd: 800, 3rd: 600, 4th: 500, then halves every 3 ranks"}),p.jsx("li",{children:"Points count toward monthly, seasonal, and all-time rankings"}),p.jsx("li",{children:"Top 3 for the season win prizes (see above)"})]}),p.jsx("h3",{children:"Promotion & Court Movement"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Round 2 courts assigned by Round 1 results"}),p.jsx("li",{children:"Top finishers move up, others move down or stay"})]}),p.jsx("h3",{children:"Attendance & Sub Policy"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Zero tolerance for missed nights (0 points), or 1 grace week per season (admin discretion)"}),p.jsx("li",{children:"Subs must be approved and match DUPR as closely as possible"})]}),p.jsx("h3",{children:"Prizes"}),p.jsxs("ul",{children:[p.jsx("li",{children:"1st: Joola Hat + 25 Club Points"}),p.jsx("li",{children:"2nd: Joola Water Bottle + 15 Club Points"}),p.jsx("li",{children:"3rd: Joola Wristbands + 10 Club Points"})]}),p.jsxs("h3",{children:["See full rules on the Standings page or at"," ",p.jsx("a",{href:"https://paddleup.github.io",target:"_blank",rel:"noopener noreferrer",children:"paddleup.github.io"})]})]})]})]})),RF=({history:t})=>{const[e,n]=V.useState(null);return p.jsxs("div",{className:"flex flex-col gap-4",children:[t.length===0&&p.jsx("p",{className:"text-text-muted text-center py-4",children:"No event placements available."}),t.slice().reverse().map((r,a)=>p.jsxs("div",{className:`rounded-xl shadow-md border border-border bg-surface transition-all duration-200 ${e===a?"ring-2 ring-primary":""}`,children:[p.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 text-lg font-bold text-primary focus:outline-none",onClick:()=>n(e===a?null:a),"aria-expanded":e===a,tabIndex:0,children:[p.jsxs("span",{children:[r.eventName??r.eventId," (",r.date,")"]}),p.jsx("span",{className:"text-xs text-text-muted",children:e===a?"Tap to collapse":"Tap to expand"})]}),p.jsx("div",{className:`overflow-hidden transition-all duration-300 ${e===a?"max-h-[300px] py-2":"max-h-0"}`,children:e===a&&p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"text-sm text-text-muted mb-2",children:["Rank: ",p.jsx("span",{className:"font-bold text-text-main",children:r.rank})]}),p.jsx(Rt,{to:`/event/${r.eventId}`,className:"inline-block mt-2 px-4 py-2 bg-primary text-white rounded-lg font-bold hover:bg-primary-hover transition",children:"View Event"})]})})]},r.eventId+a))]})},NF=()=>{const{id:t}=Z1(),{data:e}=lF(),{data:n=[]}=Do(),r=e?.find(v=>v.id===t);if(!r)return p.jsxs("div",{className:"text-center py-12",children:[p.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Player Not Found"}),p.jsx(Rt,{to:"/players",className:"text-primary hover:underline",children:"Back to Players"})]});const a=n.filter(v=>Array.isArray(v.standings)&&v.standings.length>0).map(v=>{const _={id:v.id,date:v.startDateTime?v.startDateTime.toISOString():v.id,isCompleted:!0,standings:v.standings},E=nb(_)||[];return{ev:v,finals:E}}),o=new Map;a.forEach(({finals:v})=>{v.forEach(_=>{const E=_.playerId,T=_.pointsEarned||0,D=o.get(E)||{points:0,events:0,champWins:0};D.points+=T,D.events+=1,_.rank===1&&(D.champWins+=1),o.set(E,D)})});const c=Array.from(o.entries()).map(([v,_])=>({playerId:v,points:_.points,eventsPlayed:_.events,champWins:_.champWins})).sort((v,_)=>_.points-v.points);let h=null;c.forEach((v,_)=>{v.playerId===t&&(h=_+1)});const d=o.get(t||"")||{points:0,events:0,champWins:0},g=[];return a.forEach(({ev:v,finals:_})=>{const E=_.find(T=>T.playerId===t);E&&g.push({eventId:v.id,date:v.startDateTime?v.startDateTime.toLocaleDateString():v.id,rank:E.rank})}),p.jsxs("div",{className:"space-y-8 pb-12",children:[p.jsxs(Rt,{to:"/players",className:"inline-flex items-center text-text-muted hover:text-primary transition-colors mb-4",children:[p.jsx(nj,{className:"h-4 w-4 mr-1"})," Back to Players"]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"md:col-span-1 space-y-6",children:[p.jsxs(on,{className:"p-0 overflow-hidden border-border",children:[p.jsx("div",{className:"aspect-square w-full relative bg-surface-highlight",children:r.imageUrl?p.jsx("img",{src:r.imageUrl.startsWith("/")?`/${r.imageUrl.slice(1)}`:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center",children:p.jsx("span",{className:"text-6xl font-bold text-text-muted opacity-20",children:r.name.charAt(0)})})}),p.jsxs("div",{className:"p-6 text-center",children:[p.jsx("h1",{className:"text-3xl font-bold text-text-main mb-2",children:r.name}),p.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[p.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold border border-primary/20",children:["DUPR ",r.dupr??"N/A"]}),p.jsxs("span",{className:"bg-surface-highlight text-text-muted px-3 py-1 rounded-full text-sm font-medium border border-border",children:["Rank #",h??"-"]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs(on,{className:"p-4 flex flex-col items-center justify-center text-center",children:[p.jsx(vr,{className:"h-6 w-6 text-warning mb-2"}),p.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.points}),p.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Points"})]}),p.jsxs(on,{className:"p-4 flex flex-col items-center justify-center text-center",children:[p.jsx(tE,{className:"h-6 w-6 text-success mb-2"}),p.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.champWins}),p.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Top Finishes"})]}),p.jsxs(on,{className:"p-4 flex flex-col items-center justify-center text-center",children:[p.jsx(Jw,{className:"h-6 w-6 text-primary mb-2"}),p.jsx("span",{className:"text-2xl font-bold text-text-main",children:g.length}),p.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Events"})]}),p.jsxs(on,{className:"p-4 flex flex-col items-center justify-center text-center",children:[p.jsx(uo,{className:"h-6 w-6 text-text-muted mb-2"}),p.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.events}),p.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Appearances"})]})]})]}),p.jsxs("div",{className:"md:col-span-2 space-y-8",children:[p.jsxs(on,{children:[p.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[p.jsx(Jw,{className:"h-5 w-5 text-primary"}),"Event Placements"]}),p.jsx(RF,{history:g.map(v=>({...v,eventName:n.find(_=>_.id===v.eventId)?.name}))})]}),p.jsxs(on,{children:[p.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[p.jsx(tE,{className:"h-5 w-5 text-primary"}),"Event Rankings"]}),p.jsx("div",{className:"space-y-2",children:g.length>0?g.slice().reverse().map((v,_)=>p.jsxs(Rt,{to:`/event/${v.eventId}`,className:"flex items-center justify-between p-2 border-b border-border last:border-0 hover:bg-surface-highlight transition-colors cursor-pointer group",children:[p.jsx("span",{className:"text-sm text-text-muted group-hover:text-text-main transition-colors",children:v.date}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:["Rank #",v.rank]}),p.jsx(B2,{rank:v.rank,size:"sm"})]})]},_)):p.jsx("p",{className:"text-text-muted text-center py-4",children:"No event data available."})})]})]})]})]})},CF=({options:t,value:e,onChange:n,className:r})=>p.jsx("div",{className:r,children:p.jsx("div",{className:"inline-flex",children:t.map(a=>p.jsx("button",{onClick:()=>n(a.value),className:xn("px-6 py-2.5 rounded-lg text-sm font-bold transition-all",e===a.value?"bg-primary text-text-main shadow-md":"text-text-muted hover:text-text-main hover:bg-surface"),children:a.label},a.value))})}),Iy=({icon:t,label:e,value:n,color:r="primary",className:a=""})=>p.jsxs("div",{className:xn("flex items-center gap-3 p-3 rounded-xl border",`bg-${r}/10 border-${r}/20`,a),children:[p.jsx("div",{className:`flex-shrink-0 text-${r}`,children:t}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:e}),p.jsx("div",{className:"font-bold text-text-main truncate",children:n})]})]}),C1=t=>t?t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",D1=t=>t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",DF=({event:t,view:e,onClick:n,children:r})=>p.jsx(Qs,{primaryColor:"primary",secondaryColor:"success",className:"group rounded-3xl p-8 md:p-12 shadow-2xl hover:shadow-2xl transition-all duration-300 hover:border-primary/50 cursor-pointer",children:p.jsxs("div",{className:"flex flex-col md:flex-row gap-8 md:gap-12",onClick:n,children:[p.jsxs("div",{className:"flex-grow",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-bold text-text-main mb-2 group-hover:text-primary transition-colors",children:t.name}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-muted",children:[p.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${e==="past"?"bg-success":"bg-primary"}`}),e==="past"?"Completed Event":"Upcoming Event"]})]}),p.jsxs("div",{className:"text-right text-sm text-text-muted",children:[p.jsx("div",{className:"font-semibold",children:C1(t.startDateTime)}),p.jsx("div",{children:D1(t.startDateTime)})]})]}),p.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[p.jsx(Iy,{icon:p.jsx(uo,{className:"h-5 w-5"}),label:"Date",value:C1(t.startDateTime),color:"primary"}),p.jsx(Iy,{icon:p.jsx(Gu,{className:"h-5 w-5"}),label:"Time",value:D1(t.startDateTime),color:"success"}),p.jsx(Iy,{icon:p.jsx(gS,{className:"h-5 w-5"}),label:"Location",value:t.location??"TBD",color:"warning",className:"sm:col-span-2 lg:col-span-1"})]})]}),r]})});function $2(t,e){const n=Q1(),r=ti(),a=V.useMemo(()=>new URLSearchParams(r.search),[r.search]),o=V.useMemo(()=>a.get(t)??void 0,[a,t]),c=V.useCallback(g=>{const v=new URLSearchParams(r.search),_=v.get(t)??void 0;g!==_&&(g===void 0||g===""?v.delete(t):v.set(t,g),n({pathname:r.pathname,search:`?${v.toString()}`,hash:r.hash},{replace:!0}))},[n,r,t]),h=V.useCallback(async g=>{c(g)},[c]),d=V.useCallback(async g=>{c(g)},[c]);return V.useEffect(()=>{e!==void 0&&o===void 0&&d(e)},[e,o]),e===void 0?[o,h]:[o??e,d]}const kF=()=>{const{data:t}=Do(),e=(t||[]).filter(d=>d.startDateTime instanceof Date&&!isNaN(d.startDateTime.getTime())).slice().sort((d,g)=>d.startDateTime.getTime()-g.startDateTime.getTime()),n=new Date,r=e.filter(d=>d.startDateTime.getTime()>=n.getTime()),a=e.filter(d=>d.startDateTime.getTime()<n.getTime()).slice().reverse(),[o,c]=$2("view","upcoming"),h=o==="upcoming"?r:a;return p.jsxs("div",{className:"space-y-16 pb-12",children:[p.jsx("div",{className:"relative overflow-hidden",children:p.jsxs("div",{className:"bg-gradient-to-br from-primary/5 via-surface to-success/5 rounded-3xl p-8 md:p-12 border border-primary/20 shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:p.jsx(uo,{className:"h-10 w-10 text-white"})}),p.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:" Season Schedule"}),p.jsx("p",{className:"text-xl text-text-muted max-w-2xl mx-auto",children:"Per-night registration links for 'The Challenge'  register for any night below"})]}),p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-full blur-2xl -z-10"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-gradient-to-tr from-success/10 to-transparent rounded-full blur-2xl -z-10"})]})}),p.jsx("div",{className:"flex justify-center mb-8",children:p.jsx(CF,{options:[{value:"upcoming",label:"Upcoming"},{value:"past",label:"Past"}],value:o,onChange:d=>c(d)})}),p.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 px-2 md:px-0",children:[h.map(d=>p.jsx(DF,{event:d,view:o,onClick:g=>{g.target.closest("a,button")||(window.location.href=`/#/event/${encodeURIComponent(d.id)}`)},children:p.jsx("div",{className:"flex-shrink-0 flex flex-col gap-3 lg:w-48",children:o==="past"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-success/20 border-2 border-success/30 rounded-xl text-success font-bold",children:[p.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-success"}),"Completed"]}),p.jsx(Rt,{to:`/event/${encodeURIComponent(d.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"View Results"})]}):p.jsxs(p.Fragment,{children:[p.jsxs("a",{href:d.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-xl font-bold hover:bg-primary-hover transition-all duration-300 shadow-md hover:shadow-lg",children:[p.jsx(Dv,{className:"h-5 w-5"}),"Register Now"]}),p.jsx(Rt,{to:`/#/event/${encodeURIComponent(d.id)}`,className:"inline-flex items-center justify-center gap-2 px-4 py-3 bg-surface-highlight border border-border text-text-main rounded-xl font-semibold hover:bg-surface-alt transition-colors",children:"Event Details"})]})})},d.id)),h.length===0&&p.jsxs("div",{className:"text-center p-12 bg-surface rounded-2xl border border-border",children:[p.jsx("div",{className:"text-6xl mb-6 opacity-50",children:o==="upcoming"?"":""}),p.jsx("h3",{className:"text-2xl font-bold text-text-main mb-4",children:o==="upcoming"?"No Upcoming Events":"No Past Events"}),p.jsx("p",{className:"text-text-muted",children:o==="upcoming"?"Check back soon for new match nights to register for!":"Past events will appear here once they're completed."})]})]})]})};function H2(){const[t,e]=V.useState(null),[n,r]=V.useState(!1),[a,o]=V.useState(!0);return V.useEffect(()=>{const c=jR(Uf,async h=>{if(e(h),!h){r(!1),o(!1);return}const g=(await h.getIdTokenResult(!0)).claims;r(g.admin===!0),o(!1)});return()=>c()},[]),{user:t,isAdmin:n,loading:a}}const pr=t=>p.jsx("input",{className:"block w-full border border-border rounded px-2 py-1 bg-surface text-text-main focus:outline-none focus:ring-2 focus:ring-primary/50",...t}),G2=t=>p.jsx("select",{className:"block w-full border border-border rounded px-2 py-1 bg-surface text-text-main focus:outline-none focus:ring-2 focus:ring-primary/50",...t,children:t.children}),_n=Xi.forwardRef(({className:t="",...e},n)=>p.jsx("label",{ref:n,className:`block text-sm font-medium text-text-main mb-1 ${t}`,...e}));_n.displayName="Label";const k1=t=>p.jsx("ul",{className:"divide-y divide-border",...t}),j1=t=>p.jsx("li",{className:"flex items-center justify-between py-2",...t}),rb=Xi.forwardRef(({className:t="",children:e,...n},r)=>p.jsx("p",{ref:r,className:`text-sm text-error mt-1 ${t}`,...n,children:e}));rb.displayName="ErrorText";const jF=({isAdmin:t})=>{const{create:e,status:n,error:r}=cF(),[a,o]=V.useState(""),[c,h]=V.useState(""),[d,g]=V.useState(""),[v,_]=V.useState(""),[E,T]=V.useState(""),[D,k]=V.useState(""),[M,ee]=V.useState(""),[Z,B]=V.useState(""),[ie,Y]=V.useState(""),le=async R=>{if(R.preventDefault(),!t){alert("You are not authorized to create events.");return}if(!a.trim()||!c){alert("Name and start date are required.");return}const A=new Date(`${c}T${d||"00:00"}`),C=v?new Date(`${v}T${E||"00:00"}`):void 0,z={name:a.trim(),startDateTime:A,...C?{endDateTime:C}:{},...D.trim()?{location:D.trim()}:{},...M?{status:M}:{},...Z.trim()?{label:Z.trim()}:{},...ie.trim()?{link:ie.trim()}:{},standings:[],rounds:[]};try{const P=await e(z);alert(`Event created${P?` (id: ${String(P)})`:""}.`),o(""),h(""),g(""),_(""),T(""),k(""),ee(""),B(""),Y("")}catch(P){console.error("Create event failed",P),alert("Failed to create event. See console for details.")}};return p.jsxs("form",{onSubmit:le,className:"space-y-3 max-w-md",children:[p.jsxs("div",{children:[p.jsx(_n,{children:"Event name"}),p.jsx(pr,{value:a,onChange:R=>o(R.target.value),required:!0})]}),p.jsxs("div",{children:[p.jsx(_n,{children:"Start date"}),p.jsx(pr,{type:"date",value:c,onChange:R=>h(R.target.value),required:!0})]}),p.jsxs("div",{children:[p.jsx(_n,{children:"Start time (optional)"}),p.jsx(pr,{type:"time",value:d,onChange:R=>g(R.target.value)})]}),p.jsxs("div",{children:[p.jsx(_n,{children:"End date (optional)"}),p.jsx(pr,{type:"date",value:v,onChange:R=>_(R.target.value)})]}),p.jsxs("div",{children:[p.jsx(_n,{children:"End time (optional)"}),p.jsx(pr,{type:"time",value:E,onChange:R=>T(R.target.value)})]}),p.jsxs("div",{children:[p.jsx(_n,{children:"Location (optional)"}),p.jsx(pr,{value:D,onChange:R=>k(R.target.value)})]}),p.jsxs("div",{children:[p.jsx(_n,{children:"Status (optional)"}),p.jsxs(G2,{value:M,onChange:R=>ee(R.target.value),children:[p.jsx("option",{value:"",children:"(none)"}),p.jsx("option",{value:"open",children:"open"}),p.jsx("option",{value:"closed",children:"closed"}),p.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),p.jsxs("div",{children:[p.jsx(_n,{children:"Label (optional)"}),p.jsx(pr,{value:Z,onChange:R=>B(R.target.value)})]}),p.jsxs("div",{children:[p.jsx(_n,{children:"Link (optional)"}),p.jsx(pr,{value:ie,onChange:R=>Y(R.target.value)})]}),p.jsx("div",{children:p.jsx(sn,{type:"submit",disabled:!t||n==="pending",color:"success",children:n==="pending"?"Creating...":"Create event"})}),r&&p.jsxs(rb,{children:["Error creating event: ",String(r)]})]})},OF=()=>{const[t,e]=V.useState(null),n=new Bs,{isAdmin:r}=H2(),{create:a,status:o,error:c}=oF(),h=Do(),d=Nh(),g=h.data??[],v=d.data??[],[_,E]=V.useState(void 0),[T,D]=V.useState([]),{data:k}=M2(_)??{},{update:M,status:ee,error:Z}=V2(),[B,ie]=V.useState(_),[Y,le]=V.useState(k?.standings);(_!==B||k?.standings!==Y)&&(ie(_),le(k?.standings),k?.standings&&Array.isArray(k.standings)?D([...k.standings]):D([]));const R=N=>{N&&D(H=>[...H,N])},A=N=>{D(H=>H.filter((se,ue)=>ue!==N))},C=N=>{N<=0||D(H=>{const se=[...H],ue=se[N-1];return se[N-1]=se[N],se[N]=ue,se})},z=N=>{D(H=>{if(N>=H.length-1)return H;const se=[...H],ue=se[N+1];return se[N+1]=se[N],se[N]=ue,se})},P=async()=>{if(!r){alert("You are not authorized to update events.");return}if(!_){alert("Select an event first.");return}try{await M({id:_,standings:T}),alert("Standings saved.")}catch(N){console.error("Save standings failed",N),alert("Failed to save standings. See console for details.")}},[U,j]=V.useState(""),[Ge,Ze]=V.useState(""),[J,de]=V.useState(""),ce=async N=>{if(N.preventDefault(),!r){alert("You are not authorized to add players.");return}try{const H=Ge.trim()?Number(Ge):void 0,se={name:U.trim(),...H!==void 0&&!Number.isNaN(H)?{dupr:H}:{},...J.trim()?{imageUrl:J.trim()}:{},createdAt:new Date().toISOString()};await a(se),j(""),Ze(""),de(""),alert("Player added.")}catch(H){console.error("Create player failed",H),alert("Failed to add player. See console for details.")}};V.useEffect(()=>{const N=jR(Uf,H=>{e(H)});return()=>N()},[]);const Me=async()=>{try{await sz(Uf,n)}catch(N){console.error("Google sign-in failed",N),alert("Sign-in failed. See console for details.")}},Fe=async()=>{try{await z6(Uf)}catch(N){console.error("Sign-out failed",N),alert("Sign-out failed. See console for details.")}};return p.jsxs("div",{className:"p-4 space-y-8",children:[p.jsx(Gs,{as:"h1",className:"mb-4",children:"Admin"}),t?p.jsxs("div",{className:"space-y-8",children:[p.jsxs("p",{className:"mb-2",children:["Signed in as ",p.jsx("strong",{children:t.displayName??t.email})]}),p.jsxs("p",{children:["Admin status: ",r?"Yes":"No"]}),p.jsx(sn,{onClick:Fe,children:"Sign out"}),p.jsxs(on,{children:[p.jsx(Gs,{as:"h2",className:"mb-2",children:"Protected admin area"}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You are authenticated and can now access admin-only features."}),!r&&p.jsx("p",{className:"text-sm text-red-600 mb-4",children:"You are not an admin. Editing is disabled."})]}),p.jsx(on,{className:"p-6 mb-6",children:p.jsxs("form",{onSubmit:ce,className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx(_n,{children:"Name"}),p.jsx(pr,{value:U,onChange:N=>j(N.target.value),required:!0})]}),p.jsxs("div",{children:[p.jsx(_n,{children:"DUPR (optional)"}),p.jsx(pr,{value:Ge,onChange:N=>Ze(N.target.value),inputMode:"decimal"})]}),p.jsxs("div",{children:[p.jsx(_n,{children:"Image URL (optional)"}),p.jsx(pr,{value:J,onChange:N=>de(N.target.value)})]}),p.jsx("div",{children:p.jsx(sn,{type:"submit",disabled:!r||o==="pending",color:"success",children:o==="pending"?"Adding...":"Add player"})}),c&&p.jsxs(rb,{children:["Error creating player: ",String(c)]})]})}),p.jsxs(on,{className:"p-6 mb-6",children:[p.jsx(Gs,{as:"h2",className:"mb-2",children:"Create Event"}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a new Event (start date/time is required)."}),p.jsx(jF,{isAdmin:r})]}),p.jsxs(on,{className:"p-6 mb-6",children:[p.jsx(Gs,{as:"h2",className:"mb-2",children:"Manage Event Standings"}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select an event, build an ordered standings list of players, and save to the event."}),p.jsxs(on,{children:[p.jsxs("div",{className:"md:col-span-1",children:[p.jsx(_n,{children:"Event"}),p.jsxs(G2,{value:_??"",onChange:N=>E(N.target.value||void 0),children:[p.jsx("option",{value:"",children:"(select an event)"}),g.map(N=>p.jsx("option",{value:N.id,children:N.name??N.id},N.id))]}),p.jsxs("div",{className:"mt-4",children:[p.jsx(_n,{children:"Players"}),p.jsxs("div",{className:"mt-1 max-h-56 overflow-auto border rounded p-1",children:[v.length===0&&p.jsx("p",{className:"text-sm text-gray-500",children:"No players found."}),p.jsx(k1,{children:v.map(N=>p.jsxs(j1,{children:[p.jsx("div",{className:"text-base",children:N.name}),p.jsx("div",{children:p.jsx(sn,{type:"button",color:"primary",size:"sm",onClick:()=>R(N.id),children:"Add"})})]},N.id))})]})]})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(_n,{children:"Standings (ordered)"}),p.jsxs("div",{className:"mt-1 border rounded p-2 bg-white",children:[T.length===0&&p.jsx("p",{className:"text-sm text-gray-500",children:"No players in standings. Add players from the left."}),p.jsx(k1,{children:T.map((N,H)=>{const se=v.find(ue=>ue.id===N);return p.jsxs(j1,{children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs("div",{className:"text-sm font-medium",children:[H+1,"."]}),p.jsx("div",{className:"text-sm",children:se?se.name:N})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(sn,{type:"button",size:"sm",onClick:()=>C(H),disabled:H===0,children:""}),p.jsx(sn,{type:"button",size:"sm",onClick:()=>z(H),disabled:H===T.length-1,children:""}),p.jsx(sn,{type:"button",color:"error",size:"sm",onClick:()=>A(H),children:"Remove"})]})]},`${N}-${H}`)})}),p.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[p.jsx(sn,{type:"button",onClick:P,disabled:!r||ee==="pending"||!_,color:"success",className:"px-6 py-3 text-base",children:ee==="pending"?"Saving...":"Save standings to event"}),p.jsx(sn,{type:"button",onClick:()=>{D([])},color:"surface",className:"px-6 py-3 text-base",children:"Clear"})]}),Z&&p.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error saving: ",String(Z)]})]})]})]})]})]}):p.jsxs("div",{children:[p.jsx("p",{className:"mb-4",children:"Sign in with a Google account to access admin features."}),p.jsx(sn,{color:"primary",onClick:Me,children:"Sign in with Google"})]})]})},K2=(t,e=5)=>{const n=e===5?4:5,r=(o,c)=>{if(o===0)return c;if(o<0||c>=7)return-1;const h=r(o-e,c+1);return h!==-1?h:r(o-n,c+1)},a=r(t,0);if(a<=0)throw new Error("Invalid number of players for court allocation");return a},PF=t=>{try{return K2(t,5),!0}catch{return!1}},Tm=(t,e,n=5)=>{const r=K2(t,n),a=Array.from({length:r},()=>({seeds:[]}));let o=0,c=1;if(e===1)for(let h=1;h<=t;h++)a[o].seeds.push(h),o+=c,(o===r||o===-1)&&(c*=-1,o+=c);else if(e===2){const h=Math.floor(t/r);let d=t%r,g=1;for(let v=0;v<r;v++){const _=h+(d>0?1:0);for(let E=0;E<_;E++)a[v].seeds.push(g++);d>0&&d--}}return a},MF=(t,e,n=5)=>{const r=t.length;return Tm(r,e,n).map((c,h)=>{const d=c.seeds.map(g=>t[g-1]);return{courtNumber:h+1,playerIds:d,roundNumber:e}})},VF=t=>{const{roundNumber:e,playerIds:n}=t;if(n.length===4){const[r,a,o,c]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:c}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:a,player2Id:o}}].map(d=>({...d,roundNumber:e}))}if(n.length===5){const[r,a,o,c,h]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:c}},{team1:{player1Id:a,player2Id:o},team2:{player1Id:c,player2Id:h}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:h}},{team1:{player1Id:r,player2Id:c},team2:{player1Id:o,player2Id:h}},{team1:{player1Id:r,player2Id:h},team2:{player1Id:a,player2Id:c}}].map(g=>({...g,roundNumber:e}))}throw new Error("Invalid number of players for game generation")},zF=(t,e,n)=>n===2&&t.courtNumber!==e.courtNumber?t.courtNumber-e.courtNumber:t.pointWinRate!==e.pointWinRate?e.pointWinRate-t.pointWinRate:t.seed-e.seed;function uh(t,e){if(!t?.length)return[];if(![1,2,3].includes(e))return[];const n=t.reduce((c,h)=>c+h.playerIds.length,0),r=Tm(n,e),a=t.flatMap((c,h)=>{const d=c.playerIds.map((g,v)=>({id:g,courtNumber:c.courtNumber,wins:0,losses:0,pointDifferential:0,pointsEarned:0,pointsAgainst:0,pointWinRate:0,seed:r[h].seeds[v],roundPlace:0,nextCourt:0}));for(const g of c.games){const{team1:v,team2:_,team1Score:E,team2Score:T}=g,D=(B,ie,Y,le)=>{if(ie===void 0||Y===void 0)return;const R=ie>Y||ie===Y&&le;B.wins+=R?1:0,B.losses+=R?0:1,B.pointsEarned+=ie,B.pointsAgainst+=Y;const A=ie+Y;B.pointWinRate=A===0?0:B.pointsEarned/A,B.pointDifferential+=ie-Y},k=d.find(B=>B.id===v.player1Id),M=d.find(B=>B.id===v.player2Id),ee=d.find(B=>B.id===_.player1Id),Z=d.find(B=>B.id===_.player2Id);D(k,E,T,!0),D(M,E,T,!0),D(ee,T,E,!1),D(Z,T,E,!1)}return d}),o=(c,h)=>zF(c,h,e);if(a.sort(o),a.forEach((c,h)=>{c.roundPlace=h+1}),e===1){const c=t.reduce((d,g)=>d+g.playerIds.length,0),h=Tm(c,2);a.forEach(d=>{const g=h.findIndex(v=>v.seeds.includes(d.roundPlace));d.nextCourt=g+1})}return a}const O1=(t,e)=>{const{data:n}=z2(t),{data:r}=L2(t);return V.useMemo(()=>{if(typeof e!="number"||![1,2].includes(e)||!n||!r||n.length===0)return;const o=n.reduce((d,g)=>d+g.playerIds.length,0),c=Tm(o,e),h=n.filter(d=>d.roundNumber===e).sort((d,g)=>d.courtNumber-g.courtNumber).map((d,g)=>({...d,seeds:c[g].seeds,games:r.filter(v=>v.courtId===d.id)}));if(h.length!==0)return{roundNumber:e,courts:h,standings:uh(h,e).map(d=>d.id)}},[n,r,e])},LF=t=>{const{data:e}=Do(),[n,r]=V.useState(t),a=t??n,{data:o}=uF(a),{update:c}=V2(),h=O1(a,1),d=O1(a,2),g=V.useCallback(N=>{const H=N===1?h:d;return H!==void 0&&H.courts.length>0},[h,d]),v=V.useCallback(N=>{const H=N===1?h:d;return H?H.courts.every(se=>se.games.every(ue=>ue.team1Score!==void 0&&ue.team2Score!==void 0)):!1},[h,d]),_=V.useMemo(()=>o?.ongoingStage||1,[o]),[E,T]=$2("stage",_),D=V.useCallback(N=>{T(typeof N=="string"?N:N.toString())},[T]),k=V.useMemo(()=>{if(E==="initial"||E==="standings")return E;const N=parseInt(E,10);return[1,2,3].includes(N)?N:_},[E,_]),M=V.useCallback(N=>{o&&c({id:o.id,ongoingStage:N})},[o,c]),{create:ee}=hF(a),{create:Z}=fF(a),{update:B}=mF(a),{data:ie=[]}=L2(a),{remove:Y}=pF(a),{data:le=[]}=z2(a),{remove:R}=dF(a),A=V.useCallback(async()=>{if(window.confirm("Are you sure you want to clear all data and start over?")&&n){for(const N of ie||[])await Y(N.id);for(const N of le||[])await R(N.id);M(1),D(1)}},[n,M,D,ie,Y,le,R]),C=V.useCallback(async(N,H)=>{if(g(H)){console.error(`Round ${H} has already been created.`);return}if(PF(N.length)===!1){console.error(`Invalid number of players: ${N.length}. Must be between 8 and 35 players.`);return}const se=MF(N,H);for(const ue of se){const Ee=await ee(ue),Re=VF(ue);for(const xe of Re)await Z({courtId:Ee,...xe});M(H),D(H)}},[g,ee,M,D,Z]),z=F2(),P=V.useCallback(async N=>{const H=N.sort((se,ue)=>{const Ee=z.find(xe=>xe.playerId===se);return(z.find(xe=>xe.playerId===ue)?.points||0)-(Ee?.points||0)});await C(H,1)},[C,z]),U=V.useCallback(async()=>{if(!v(1)){alert("Cannot advance to round 2: round 1 is not complete.");return}if(g(2)){alert("Round 2 has already been created.");return}if(!h?.courts||h.courts.length===0){alert("No courts available from round 1 to advance to round 2.");return}const N=uh(h.courts,1);await C(N.map(H=>H.id),2),D(2),M(2)},[v,g,h,D,M,C]),j=()=>{if(!o){alert("No event selected to finalize.");return}if(!d){alert("Cannot finalize event: round 2 data is missing.");return}if(!v(2)){alert("Cannot finalize event: round 2 is not complete.");return}o.standings&&o.standings.length>0&&window.confirm("Standings already exist. Overwrite?")===!1||(c({id:o.id,standings:d.standings}),D("standings"))},Ge=V.useMemo(()=>ie?.filter(N=>N.team1Score!==void 0&&N.team2Score!==void 0).length||0,[ie]),Ze=V.useMemo(()=>ie?.length||1,[ie]),J=Math.round(Ge/Math.max(1,Ze)*100),de=V.useCallback((N,H,se)=>{B({id:N,[H]:se})},[B]),ce=V.useMemo(()=>g(2)===!1,[g]),Me=V.useMemo(()=>o?.standings===void 0||o.standings.length===0,[o]),Fe=V.useMemo(()=>g(1)===!1,[g]);return{events:e,selectedEventId:a,setSelectedEventId:r,round1:h,round2:d,needsInitialization:Fe,event:o,currentView:k,setCurrentView:D,completedMatches:Ge,totalMatches:Ze,progressPercent:J,handleScoreChange:de,areRound1UpdatesAllowed:ce,areRound2UpdatesAllowed:Me,initializeRoundOne:P,advanceToRoundTwo:U,finalizeEvent:j,resetAll:A,apiError:null}},UF=({roundNumber:t,playerRankings:e,players:n,completedGames:r,totalGames:a,previousRoundRankings:o})=>{const[c,h]=V.useState(!1),d=a>0?Math.round(r/a*100):0,g=(_,E)=>{let T,D;if(t===1){const k=e.find(M=>M.id===E)?.seed;T=k,D=k?`Seed #${k}`:"No seed"}else if(o)T=o.find(k=>k.id===E)?.roundPlace,D=T?`Round 1 #${T}`:"No previous rank";else return null;return T?_<T?p.jsx("div",{title:`Moved up from ${D}`,children:p.jsx(ij,{className:"h-4 w-4 text-success"})}):_>T?p.jsx("div",{title:`Moved down from ${D}`,children:p.jsx(ej,{className:"h-4 w-4 text-error"})}):p.jsx("div",{title:`Same as ${D}`,children:p.jsx("div",{className:"w-2 h-2 rounded-full bg-text-muted mx-auto"})}):null},v=(_,E)=>{const T=_+E;return T===0?"0%":`${Math.round(_/T*100)}%`};return p.jsxs("div",{className:"mb-6",children:[p.jsx("button",{onClick:()=>h(!c),className:"w-full bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 border border-primary/30 rounded-xl p-4 hover:bg-primary/15 transition-all duration-200",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary/70 rounded-full flex items-center justify-center",children:p.jsx(vr,{className:"h-5 w-5 text-white"})}),p.jsxs("div",{className:"text-left",children:[p.jsxs("h3",{className:"font-bold text-text-main",children:["Round ",t," Rankings"]}),p.jsxs("p",{className:"text-sm text-text-muted",children:[r,"/",a," games (",d,"%)"]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-sm text-text-muted",children:[c?"Hide":"Show"," Rankings"]}),c?p.jsx(pS,{className:"h-5 w-5 text-text-muted"}):p.jsx(Cv,{className:"h-5 w-5 text-text-muted"})]})]})}),c&&p.jsx("div",{className:"mt-3 bg-surface rounded-xl border border-border overflow-hidden",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-surface-alt border-b border-border",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Rank"}),p.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Player"}),p.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Court"}),t===1&&p.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Projected Next Court"}),p.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"W-L"}),p.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Win %"}),p.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Diff"}),p.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Movement"})]})}),p.jsx("tbody",{className:"divide-y divide-border",children:e.map((_,E)=>{const T=n.find(k=>k.id===_.id),D=E+1;return p.jsxs("tr",{className:`transition-colors ${D<=3?D===1?"bg-warning/5 hover:bg-warning/10":D===2?"bg-text-accent/5 hover:bg-text-accent/10":"bg-bronze/5 hover:bg-bronze/10":"hover:bg-surface-highlight"}`,children:[p.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${D===1?"bg-gradient-to-br from-warning to-warning/70 text-white":D===2?"bg-gradient-to-br from-text-accent to-text-accent/70 text-white":D===3?"bg-gradient-to-br from-bronze to-bronze/70 text-white":"bg-surface-alt text-text-main"}`,children:D===1?"":D===2?"":D===3?"":D})}),p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[p.jsx("div",{className:"font-semibold text-text-main",children:T?.name||`Player ${_.id}`}),p.jsxs("div",{className:"text-xs text-text-muted",children:["Seed #",_.seed]})]}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:p.jsx("span",{className:"text-sm font-medium text-text-main",children:_.courtNumber})}),t===1&&p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:p.jsx("span",{className:"text-sm font-medium text-text-accent",children:typeof _.nextCourt=="number"&&_.nextCourt>0?_.nextCourt:"-"})}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:p.jsxs("span",{className:"text-sm font-semibold text-text-main",children:[_.wins,"-",_.losses]})}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:p.jsx("span",{className:"text-sm font-medium text-text-main",children:v(_.wins,_.losses)})}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:p.jsxs("span",{className:`text-sm font-semibold ${_.pointDifferential>0?"text-success":_.pointDifferential<0?"text-error":"text-text-muted"}`,children:[_.pointDifferential>0?"+":"",_.pointDifferential]})}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:g(D,_.id)})]},_.id)})})]})})})]})},FF=({courtNumber:t,playerStats:e,players:n,totalGamesForCourt:r,completedGamesForCourt:a})=>{const[o,c]=V.useState(!1),h=r>0?Math.round(a/r*100):0,d=(v,_)=>{const E=v+_;return E===0?"0%":`${Math.round(v/E*100)}%`},g=[...e].sort((v,_)=>v.wins!==_.wins?_.wins-v.wins:v.pointDifferential!==_.pointDifferential?_.pointDifferential-v.pointDifferential:v.seed-_.seed);return p.jsxs("div",{className:"mt-3",children:[p.jsx("button",{onClick:()=>c(!o),className:"w-full bg-gradient-to-r from-success/10 via-success/5 to-success/10 border border-success/30 rounded-lg p-3 hover:bg-success/15 transition-all duration-200",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-success to-success/70 rounded-full flex items-center justify-center",children:p.jsx(uj,{className:"h-4 w-4 text-white"})}),p.jsxs("div",{className:"text-left",children:[p.jsxs("h4",{className:"text-sm font-bold text-text-main",children:["Court ",t," Stats"]}),p.jsxs("p",{className:"text-xs text-text-muted",children:[a,"/",r," games (",h,"%)"]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xs text-text-muted",children:o?"Hide":"Show"}),o?p.jsx(pS,{className:"h-4 w-4 text-text-muted"}):p.jsx(Cv,{className:"h-4 w-4 text-text-muted"})]})]})}),o&&p.jsxs("div",{className:"mt-2 bg-surface-alt/30 rounded-lg border border-border/50 overflow-hidden",children:[p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-surface-alt/50 border-b border-border/30",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Rank"}),p.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-text-main uppercase tracking-wider",children:"Player"}),p.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"W-L"}),p.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Win %"}),p.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Diff"}),p.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-text-main uppercase tracking-wider",children:"Games"})]})}),p.jsx("tbody",{className:"divide-y divide-border/30",children:g.map((v,_)=>{const E=n.find(D=>D.id===v.id),T=_+1;return p.jsxs("tr",{className:`transition-colors ${T===1?"bg-success/5 hover:bg-success/10":"hover:bg-surface-highlight"}`,children:[p.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:p.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${T===1?"bg-gradient-to-br from-success to-success/70 text-white":"bg-surface-alt text-text-main"}`,children:T===1?"":T})}),p.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[p.jsx("div",{className:"text-sm font-semibold text-text-main",children:E?.name||`Player ${v.id}`}),E?.dupr&&p.jsxs("div",{className:"text-xs text-text-muted",children:["DUPR: ",E.dupr]})]}),p.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:p.jsxs("span",{className:"text-sm font-semibold text-text-main",children:[v.wins,"-",v.losses]})}),p.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:p.jsx("span",{className:"text-sm font-medium text-text-main",children:d(v.wins,v.losses)})}),p.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:p.jsxs("span",{className:`text-sm font-semibold ${v.pointDifferential>0?"text-success":v.pointDifferential<0?"text-error":"text-text-muted"}`,children:[v.pointDifferential>0?"+":"",v.pointDifferential]})}),p.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:p.jsxs("span",{className:"text-sm font-medium text-text-main",children:[v.wins+v.losses,"/",g.length===5?4:r]})})]},v.id)})})]})}),a===r&&p.jsx("div",{className:"p-3 border-t border-border/30 bg-surface-alt/20",children:p.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[p.jsx(Ku,{className:"h-4 w-4"}),p.jsxs("span",{children:["Court ",t," complete  Leader advances to next round"]})]})})]})]})},BF=({players:t,onPlayerSelect:e,onClear:n,placeholder:r="Find your name...",className:a=""})=>{const[o,c]=V.useState(""),[h,d]=V.useState(!1),g=V.useMemo(()=>o.trim()?t.filter(T=>T.name.toLowerCase().includes(o.toLowerCase())).slice(0,8).sort((T,D)=>T.name.localeCompare(D.name)):[],[t,o]),v=T=>{const D=t.find(k=>k.id===T);D&&(c(D.name),d(!1),e(T))},_=()=>{c(""),d(!1),n()},E=T=>{c(T),d(T.length>0)};return p.jsxs("div",{className:`relative ${a}`,children:[p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",value:o,onChange:T=>E(T.target.value),placeholder:r,className:"w-full h-12 pl-12 pr-12 bg-surface border-2 border-border rounded-xl text-text-main placeholder-text-muted focus:outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all duration-200"}),p.jsx(yS,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-text-muted"}),o&&p.jsx("button",{onClick:_,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 bg-surface-alt rounded-full flex items-center justify-center hover:bg-surface-highlight transition-colors",children:p.jsx(_S,{className:"h-4 w-4 text-text-muted"})})]}),h&&g.length>0&&p.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-2 bg-surface border-2 border-border rounded-xl shadow-xl max-h-64 overflow-y-auto",children:p.jsx("div",{className:"p-2",children:g.map(T=>p.jsxs("button",{onClick:()=>v(T.id||""),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-surface-highlight transition-colors text-left",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary/20 to-primary/10 rounded-full flex items-center justify-center",children:p.jsx(vS,{className:"h-4 w-4 text-primary"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"font-semibold text-text-main truncate",children:T.name}),T.dupr&&p.jsxs("div",{className:"text-sm text-text-muted",children:["DUPR: ",T.dupr]})]})]},T.id))})}),h&&o&&g.length===0&&p.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-2 bg-surface border-2 border-border rounded-xl shadow-xl p-4 text-center",children:p.jsxs("div",{className:"text-text-muted",children:["No players found matching ",o,""]})})]})},qF=({court:t,players:e,roundNumber:n,highlightedPlayerId:r,isAdmin:a,handleScoreChange:o})=>{const[c,h]=V.useState(!0),d=uh([t],n),g=t.games.filter(T=>T.roundNumber===n&&T.team1Score!==void 0&&T.team2Score!==void 0).length,v=t.games.filter(T=>T.roundNumber===n).length,_=n===1&&(typeof window.areRound1UpdatesAllowed=="boolean"?window.areRound1UpdatesAllowed:!0)||n===2&&(typeof window.areRound2UpdatesAllowed=="boolean"?window.areRound2UpdatesAllowed:!0),E=t.playerIds.map(T=>e.find(D=>D.id===T)).filter(Boolean);return p.jsx(Qs,{primaryColor:"primary",secondaryColor:"success",className:`rounded-xl p-8 ${t.playerIds.some(T=>T===r)?"ring-2 ring-primary/50 bg-primary/5":""}`,children:p.jsxs("div",{id:`court-${t.id}`,children:[p.jsxs("button",{className:"w-full flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 focus:outline-none",onClick:()=>h(T=>!T),"aria-expanded":c,type:"button",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 flex-1",children:[p.jsx("div",{className:"flex items-center gap-3",children:p.jsxs("h3",{className:"text-2xl font-bold text-text-main",children:["Court ",t.courtNumber]})}),p.jsx("div",{className:"flex flex-wrap gap-1 mt-1 sm:mt-0",children:E.map(T=>T?p.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-text-muted bg-surface-alt px-2 py-0.5 rounded",children:[p.jsx(tb,{imageUrl:T.imageUrl,name:T.name,size:"sm",border:!1,className:"ring-1 ring-surface"}),T.name]},T.id+"-name"):null)})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-sm px-3 py-1 bg-primary/20 text-primary rounded-lg font-semibold",children:[g,"/",v," games"]}),p.jsxs("span",{className:"text-sm px-3 py-1 bg-success/20 text-success rounded-lg font-semibold",children:[t.playerIds.length," players"]}),p.jsx("span",{className:"text-xs px-2 py-1 bg-surface-alt text-text-muted rounded font-medium border border-border",children:t.playerIds.length===4?"First to 15, win by 1":t.playerIds.length===5?"First to 11, win by 1":""}),p.jsx(Cv,{className:`ml-2 h-6 w-6 text-text-muted transition-transform duration-200 ${c?"rotate-180":"rotate-0"}`,"aria-hidden":"true"})]})]}),c&&p.jsx("div",{className:"space-y-4 mt-4",children:p.jsxs("div",{className:"space-y-3",children:[p.jsx(FF,{courtNumber:t.courtNumber,playerStats:d,players:e,totalGamesForCourt:v,completedGamesForCourt:g}),t.games.map((T,D)=>{const k=e.find(B=>B.id===T.team1.player1Id),M=e.find(B=>B.id===T.team1.player2Id),ee=e.find(B=>B.id===T.team2.player1Id),Z=e.find(B=>B.id===T.team2.player2Id);return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"mt-7 mb-2 mx-3",children:p.jsxs("span",{className:"text-xs font-semibold text-text-muted uppercase tracking-wide",children:["Game ",D+1]})}),p.jsxs("div",{className:"border border-border bg-surface rounded-none",style:{boxShadow:"none"},children:[p.jsxs("div",{className:`flex items-center justify-between border-b border-border px-3 py-2 ${typeof T.team1Score=="number"&&typeof T.team2Score=="number"&&T.team1Score>T.team2Score?"bg-success/10":""}`,children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-text-main",children:k?.name}),p.jsx("div",{className:"font-medium text-text-main",children:M?.name})]}),p.jsx("div",{className:"text-2xl font-bold text-right min-w-[48px] text-black dark:text-white",children:a&&_?p.jsx("input",{type:"number",className:"w-12 px-1 py-0.5 border border-border rounded text-center text-lg font-bold",value:T.team1Score??"",onChange:ie=>o(T.id,"team1Score",Number(ie.target.value))}):T.team1Score??""})]}),p.jsxs("div",{className:`flex items-center justify-between px-3 py-2 ${typeof T.team1Score=="number"&&typeof T.team2Score=="number"&&T.team2Score>T.team1Score?"bg-success/10":""}`,children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-text-main",children:ee?.name}),p.jsx("div",{className:"font-medium text-text-main",children:Z?.name})]}),p.jsx("div",{className:"text-2xl font-bold text-right min-w-[48px] text-black dark:text-white",children:a&&_?p.jsx("input",{type:"number",className:"w-12 px-1 py-0.5 border border-border rounded text-center text-lg font-bold",value:T.team2Score??"",onChange:ie=>o(T.id,"team2Score",Number(ie.target.value))}):T.team2Score??""})]})]},T.id)]})})]})})]})})};function $F(t){return t?t.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"}):""}function HF(t){return t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):""}const GF=()=>{const{id:t}=Z1(),e=t?decodeURIComponent(t):"",{data:n,isLoading:r}=M2(e),{data:a=[]}=Nh(),{isAdmin:o}=H2(),c=LF(e),[h,d]=V.useState([]),[g,v]=V.useState(""),[_,E]=V.useState(!1),[T,D]=V.useState(null),k=V.useMemo(()=>a.filter(Y=>Y.name.toLowerCase().includes(g.toLowerCase())).sort((Y,le)=>Y.name.localeCompare(le.name)),[a,g]),M=Y=>{d(le=>le.includes(Y)?le.filter(R=>R!==Y):[...le,Y])},ee=async()=>{if(h.length<8||h.length>35){alert("Please select between 8-35 players");return}E(!0);try{await c.initializeRoundOne(h),d([])}catch(Y){console.error("Failed to initialize round:",Y),alert("Failed to initialize round. Please try again.")}finally{E(!1)}},Z=async()=>{if(window.confirm("Are you sure you want to advance to Round 2? This cannot be undone."))try{await c.advanceToRoundTwo()}catch(Y){console.error("Failed to advance to round 2:",Y),alert("Failed to advance to Round 2. Please try again.")}},B=()=>{window.confirm("Are you sure you want to finalize this event? Final standings will be published.")&&c.finalizeEvent()};if(r)return p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:p.jsxs(on,{variant:"premium",padding:"xl",className:"max-w-md w-full text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary/20 border-t-primary mx-auto mb-6"}),p.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Loading Event"}),p.jsx("p",{className:"text-text-muted",children:"Please wait while we fetch the event details..."})]})});if(!n)return p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:p.jsxs(on,{variant:"gradient",theme:"error",padding:"xl",className:"max-w-2xl w-full text-center",children:[p.jsx("div",{className:"text-6xl mb-6 opacity-50",children:""}),p.jsx("h1",{className:"text-3xl font-black text-text-main mb-4",children:"Event Not Found"}),p.jsxs("p",{className:"text-text-muted mb-8 leading-relaxed",children:["The event ID"," ",p.jsx("code",{className:"bg-surface-alt px-2 py-1 rounded font-mono text-sm",children:e||"(empty)"})," ","does not match any scheduled event in our system."]}),p.jsx(Rt,{to:"/schedule",children:p.jsx(sn,{variant:"primary",size:"lg",icon:p.jsx(Ww,{}),iconPosition:"left",children:"Back to Schedule"})})]})});const ie=c.currentView===1?c.round1:c.currentView===2?c.round2:null;return p.jsxs("div",{className:"space-y-8 pb-12 px-4 max-w-7xl mx-auto",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs(Rt,{to:"/schedule",className:"inline-flex items-center gap-2 text-text-muted hover:text-primary transition-colors font-semibold",children:[p.jsx(Ww,{className:"h-5 w-5"}),p.jsx("span",{children:"Back to Schedule"})]}),p.jsxs(Qs,{primaryColor:"primary",secondaryColor:"success",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-6 transform hover:scale-110 transition-all duration-300",children:p.jsx(uo,{className:"h-10 w-10 text-white"})}),p.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main mb-4",children:n.name})]}),p.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/10 rounded-xl border border-primary/20",children:[p.jsx(uo,{className:"h-5 w-5 text-primary flex-shrink-0"}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Date"}),p.jsx("div",{className:"font-bold text-text-main truncate",children:$F(n.startDateTime)})]})]}),p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-success/10 rounded-xl border border-success/20",children:[p.jsx(Gu,{className:"h-5 w-5 text-success flex-shrink-0"}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Time"}),p.jsx("div",{className:"font-bold text-text-main truncate",children:HF(n.startDateTime)})]})]}),p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-warning/10 rounded-xl border border-warning/20 sm:col-span-2 lg:col-span-1",children:[p.jsx(gS,{className:"h-5 w-5 text-warning flex-shrink-0"}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("div",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider",children:"Location"}),p.jsx("div",{className:"font-bold text-text-main truncate",children:n.location??"TBD"})]})]})]})]})]}),o&&c.needsInitialization&&p.jsxs(on,{variant:"gradient",theme:"primary",padding:"lg",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary/70 rounded-full shadow-lg mb-4",children:p.jsx(Vj,{className:"h-8 w-8 text-white"})}),p.jsx("h2",{className:"text-2xl font-bold text-text-main mb-2",children:"Initialize Event"}),p.jsx("p",{className:"text-text-muted",children:"Select 8-35 players to start the event"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(pr,{icon:p.jsx(yS,{}),placeholder:"Search players by name...",value:g,onChange:Y=>v(Y.target.value),variant:"premium"}),p.jsx("div",{className:"text-center",children:p.jsxs("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${h.length>=8&&h.length<=35?"bg-success/20 text-success":"bg-warning/20 text-warning"}`,children:[h.length," / 35 players selected",h.length<8&&" (minimum 8)"]})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 max-h-96 overflow-y-auto p-2",children:k.map(Y=>{const le=h.includes(Y.id||"");return p.jsx("div",{onClick:()=>M(Y.id||""),className:`p-3 rounded-xl border-2 cursor-pointer transition-all duration-200 ${le?"border-primary bg-primary/10 shadow-md":"border-border hover:border-primary/50 bg-surface"}`,children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${le?"border-primary bg-primary":"border-border"}`,children:le&&p.jsx(pj,{className:"h-4 w-4 text-white"})}),p.jsxs("div",{className:"flex-1 text-left",children:[p.jsx("div",{className:"font-semibold text-text-main",children:Y.name}),Y.dupr&&p.jsxs("div",{className:"text-xs text-text-muted",children:["DUPR: ",Y.dupr]})]})]})},Y.id)})}),p.jsx("div",{className:"text-center pt-4",children:p.jsx(sn,{variant:"primary",size:"lg",icon:p.jsx(Tj,{}),onClick:ee,disabled:h.length<8||h.length>35||_,loading:_,children:"Initialize Round 1"})})]})]}),!c.needsInitialization&&p.jsx("div",{className:"mb-6",children:p.jsx("button",{className:"w-full bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 border border-primary/30 rounded-xl p-4 hover:bg-primary/15 transition-all duration-200",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[p.jsx("div",{className:"flex items-center gap-2",children:[1,2,"standings"].map(Y=>{const le=c.currentView===Y,R=Y===1||Y===2&&c.round1||Y==="standings"&&c.round2;return p.jsx(sn,{variant:le?"primary":"ghost",size:"sm",onClick:()=>c.setCurrentView(Y),disabled:!R,children:Y==="standings"?"Final Standings":`Round ${Y}`},Y)})}),p.jsxs("div",{className:"text-sm text-text-muted",children:["Progress: ",c.completedMatches,"/",c.totalMatches," matches (",c.progressPercent,"%)"]})]})})}),!c.needsInitialization&&ie&&p.jsx(BF,{players:a.filter(Y=>ie.courts.some(le=>le.playerIds.includes(Y.id||""))),onPlayerSelect:Y=>{D(Y);const le=ie.courts.find(R=>R.playerIds.includes(Y));if(le){const R=document.getElementById(`court-${le.id}`);R&&R.scrollIntoView({behavior:"smooth",block:"center"})}},onClear:()=>D(null),placeholder:"Find a player on the courts...",className:"mb-6"}),ie&&p.jsxs("div",{className:"space-y-6",children:[(()=>{const Y=uh(ie.courts,c.currentView),le=c.currentView===2&&c.round1?uh(c.round1.courts,1):void 0,R=ie.courts.flatMap(C=>C.games.filter(z=>z.roundNumber===c.currentView)),A=R.filter(C=>C.team1Score!==void 0&&C.team2Score!==void 0).length;return p.jsx(UF,{roundNumber:c.currentView,playerRankings:Y,players:a,completedGames:A,totalGames:R.length,previousRoundRankings:le})})(),p.jsx(on,{variant:"gradient",theme:"success",padding:"sm",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-success to-success/70 rounded-full flex items-center justify-center",children:p.jsx(Rm,{className:"h-5 w-5 text-white"})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"font-bold text-text-main",children:["Round ",c.currentView," Courts"]}),p.jsxs("p",{className:"text-text-muted text-sm",children:[ie.courts.length," courts  Live scoring enabled"]})]})]}),o&&p.jsxs("div",{className:"flex gap-2",children:[p.jsx(sn,{variant:"secondary",size:"sm",icon:p.jsx(Rj,{}),onClick:c.resetAll,children:"Reset All"}),c.currentView===1&&c.round1&&p.jsx(sn,{variant:"primary",size:"sm",icon:p.jsx(Ef,{}),onClick:Z,disabled:!c.round1.courts.every(Y=>Y.games.every(le=>le.team1Score!==void 0&&le.team2Score!==void 0)),children:"Advance to Round 2"}),c.currentView===2&&c.round2&&p.jsx(sn,{variant:"primary",size:"sm",icon:p.jsx(vr,{}),onClick:B,disabled:!c.round2.courts.every(Y=>Y.games.every(le=>le.team1Score!==void 0&&le.team2Score!==void 0)),children:"Finalize Event"})]})]})}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:ie.courts.map(Y=>p.jsx(qF,{court:Y,players:a,roundNumber:c.currentView,highlightedPlayerId:T,isAdmin:o,handleScoreChange:c.handleScoreChange},Y.id))})]}),c.currentView==="standings"&&n.standings&&p.jsx(q2,{data:n.standings.map((Y,le)=>({playerId:Y,rank:le+1,points:Fr(le+1)})),players:a,showEvents:!1,showPoints:!0,className:"rounded-xl border border-border",pointsRenderer:(Y,le,R)=>p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("div",{className:"flex items-center justify-center gap-1 text-l font-bold text-success",children:[p.jsx(Aj,{className:"h-5 w-5"}),Fr(R+1).toLocaleString()]}),p.jsx("div",{className:"text-sm text-text-muted",children:"points"})]}),rowClassName:(Y,le)=>le===0?"bg-warning/5 hover:bg-warning/10":le===1?"bg-text-accent/5 hover:bg-text-accent/10":le===2?"bg-bronze/5 hover:bg-bronze/10":"hover:bg-surface-highlight"})]})},KF=()=>p.jsx(DO,{children:p.jsxs(DD,{children:[p.jsx($i,{path:"/",element:p.jsx(xF,{})}),p.jsx($i,{path:"/standings",element:p.jsx(AF,{})}),p.jsx($i,{path:"/schedule",element:p.jsx(kF,{})}),p.jsx($i,{path:"/player/:id",element:p.jsx(NF,{})}),p.jsx($i,{path:"/format",element:p.jsx(IF,{})}),p.jsx($i,{path:"/admin",element:p.jsx(OF,{})}),p.jsx($i,{path:"/event/:id",element:p.jsx(GF,{})})]})}),QF=new Ok;OC.createRoot(document.getElementById("root")).render(p.jsx(V.StrictMode,{children:p.jsx(Pk,{client:QF,children:p.jsx(tk,{children:p.jsx(KF,{})})})}));
