(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function I2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ay={exports:{}},xc={};var OE;function R2(){if(OE)return xc;OE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return xc.Fragment=e,xc.jsx=n,xc.jsxs=n,xc}var kE;function N2(){return kE||(kE=1,ay.exports=R2()),ay.exports}var y=N2(),oy={exports:{}},Oe={};var PE;function C2(){if(PE)return Oe;PE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function T(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,z={};function J(N,Q,ae){this.props=N,this.context=Q,this.refs=z,this.updater=ae||D}J.prototype.isReactComponent={},J.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},J.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=J.prototype;function U(N,Q,ae){this.props=N,this.context=Q,this.refs=z,this.updater=ae||D}var Y=U.prototype=new K;Y.constructor=U,k(Y,J.prototype),Y.isPureReactComponent=!0;var ne=Array.isArray;function fe(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(N,Q,ae){var ue=ae.ref;return{$$typeof:t,type:N,key:Q,ref:ue!==void 0?ue:null,props:ae}}function j(N,Q){return C(N.type,Q,N.props)}function M(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function F(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return Q[ae]})}var O=/\/+/g;function Qe(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?F(""+N.key):Q.toString(36)}function Xe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(fe,fe):(N.status="pending",N.then(function(Q){N.status==="pending"&&(N.status="fulfilled",N.value=Q)},function(Q){N.status==="pending"&&(N.status="rejected",N.reason=Q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function W(N,Q,ae,ue,we){var Re=typeof N;(Re==="undefined"||Re==="boolean")&&(N=null);var xe=!1;if(N===null)xe=!0;else switch(Re){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(N.$$typeof){case t:case e:xe=!0;break;case v:return xe=N._init,W(xe(N._payload),Q,ae,ue,we)}}if(xe)return we=we(N),xe=ue===""?"."+Qe(N,0):ue,ne(we)?(ae="",xe!=null&&(ae=xe.replace(O,"$&/")+"/"),W(we,Q,ae,"",function(sr){return sr})):we!=null&&(M(we)&&(we=j(we,ae+(we.key==null||N&&N.key===we.key?"":(""+we.key).replace(O,"$&/")+"/")+xe)),Q.push(we)),1;xe=0;var Ct=ue===""?".":ue+":";if(ne(N))for(var st=0;st<N.length;st++)ue=N[st],Re=Ct+Qe(ue,st),xe+=W(ue,Q,ae,Re,we);else if(st=T(N),typeof st=="function")for(N=st.call(N),st=0;!(ue=N.next()).done;)ue=ue.value,Re=Ct+Qe(ue,st++),xe+=W(ue,Q,ae,Re,we);else if(Re==="object"){if(typeof N.then=="function")return W(Xe(N),Q,ae,ue,we);throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return xe}function he(N,Q,ae){if(N==null)return N;var ue=[],we=0;return W(N,ue,"","",function(Re){return Q.call(ae,Re,we++)}),ue}function le(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var Me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},qe={map:he,forEach:function(N,Q,ae){he(N,function(){Q.apply(this,arguments)},ae)},count:function(N){var Q=0;return he(N,function(){Q++}),Q},toArray:function(N){return he(N,function(Q){return Q})||[]},only:function(N){if(!M(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Oe.Activity=b,Oe.Children=qe,Oe.Component=J,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=U,Oe.StrictMode=r,Oe.Suspense=d,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return R.H.useMemoCache(N)}},Oe.cache=function(N){return function(){return N.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(N,Q,ae){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ue=k({},N.props),we=N.key;if(Q!=null)for(Re in Q.key!==void 0&&(we=""+Q.key),Q)!A.call(Q,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Q.ref===void 0||(ue[Re]=Q[Re]);var Re=arguments.length-2;if(Re===1)ue.children=ae;else if(1<Re){for(var xe=Array(Re),Ct=0;Ct<Re;Ct++)xe[Ct]=arguments[Ct+2];ue.children=xe}return C(N.type,we,ue)},Oe.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},Oe.createElement=function(N,Q,ae){var ue,we={},Re=null;if(Q!=null)for(ue in Q.key!==void 0&&(Re=""+Q.key),Q)A.call(Q,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(we[ue]=Q[ue]);var xe=arguments.length-2;if(xe===1)we.children=ae;else if(1<xe){for(var Ct=Array(xe),st=0;st<xe;st++)Ct[st]=arguments[st+2];we.children=Ct}if(N&&N.defaultProps)for(ue in xe=N.defaultProps,xe)we[ue]===void 0&&(we[ue]=xe[ue]);return C(N,Re,we)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(N){return{$$typeof:h,render:N}},Oe.isValidElement=M,Oe.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:le}},Oe.memo=function(N,Q){return{$$typeof:p,type:N,compare:Q===void 0?null:Q}},Oe.startTransition=function(N){var Q=R.T,ae={};R.T=ae;try{var ue=N(),we=R.S;we!==null&&we(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(fe,Me)}catch(Re){Me(Re)}finally{Q!==null&&ae.types!==null&&(Q.types=ae.types),R.T=Q}},Oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Oe.use=function(N){return R.H.use(N)},Oe.useActionState=function(N,Q,ae){return R.H.useActionState(N,Q,ae)},Oe.useCallback=function(N,Q){return R.H.useCallback(N,Q)},Oe.useContext=function(N){return R.H.useContext(N)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(N,Q){return R.H.useDeferredValue(N,Q)},Oe.useEffect=function(N,Q){return R.H.useEffect(N,Q)},Oe.useEffectEvent=function(N){return R.H.useEffectEvent(N)},Oe.useId=function(){return R.H.useId()},Oe.useImperativeHandle=function(N,Q,ae){return R.H.useImperativeHandle(N,Q,ae)},Oe.useInsertionEffect=function(N,Q){return R.H.useInsertionEffect(N,Q)},Oe.useLayoutEffect=function(N,Q){return R.H.useLayoutEffect(N,Q)},Oe.useMemo=function(N,Q){return R.H.useMemo(N,Q)},Oe.useOptimistic=function(N,Q){return R.H.useOptimistic(N,Q)},Oe.useReducer=function(N,Q,ae){return R.H.useReducer(N,Q,ae)},Oe.useRef=function(N){return R.H.useRef(N)},Oe.useState=function(N){return R.H.useState(N)},Oe.useSyncExternalStore=function(N,Q,ae){return R.H.useSyncExternalStore(N,Q,ae)},Oe.useTransition=function(){return R.H.useTransition()},Oe.version="19.2.3",Oe}var jE;function Iv(){return jE||(jE=1,oy.exports=C2()),oy.exports}var V=Iv();const Pt=I2(V);var ly={exports:{}},Ec={},uy={exports:{}},cy={};var ME;function D2(){return ME||(ME=1,(function(t){function e(W,he){var le=W.length;W.push(he);e:for(;0<le;){var Me=le-1>>>1,qe=W[Me];if(0<a(qe,he))W[Me]=he,W[le]=qe,le=Me;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var he=W[0],le=W.pop();if(le!==he){W[0]=le;e:for(var Me=0,qe=W.length,N=qe>>>1;Me<N;){var Q=2*(Me+1)-1,ae=W[Q],ue=Q+1,we=W[ue];if(0>a(ae,le))ue<qe&&0>a(we,ae)?(W[Me]=we,W[ue]=le,Me=ue):(W[Me]=ae,W[Q]=le,Me=Q);else if(ue<qe&&0>a(we,le))W[Me]=we,W[ue]=le,Me=ue;else break e}}return he}function a(W,he){var le=W.sortIndex-he.sortIndex;return le!==0?le:W.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],v=1,b=null,w=3,T=!1,D=!1,k=!1,z=!1,J=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function Y(W){for(var he=n(p);he!==null;){if(he.callback===null)r(p);else if(he.startTime<=W)r(p),he.sortIndex=he.expirationTime,e(d,he);else break;he=n(p)}}function ne(W){if(k=!1,Y(W),!D)if(n(d)!==null)D=!0,fe||(fe=!0,F());else{var he=n(p);he!==null&&Xe(ne,he.startTime-W)}}var fe=!1,R=-1,A=5,C=-1;function j(){return z?!0:!(t.unstable_now()-C<A)}function M(){if(z=!1,fe){var W=t.unstable_now();C=W;var he=!0;try{e:{D=!1,k&&(k=!1,K(R),R=-1),T=!0;var le=w;try{t:{for(Y(W),b=n(d);b!==null&&!(b.expirationTime>W&&j());){var Me=b.callback;if(typeof Me=="function"){b.callback=null,w=b.priorityLevel;var qe=Me(b.expirationTime<=W);if(W=t.unstable_now(),typeof qe=="function"){b.callback=qe,Y(W),he=!0;break t}b===n(d)&&r(d),Y(W)}else r(d);b=n(d)}if(b!==null)he=!0;else{var N=n(p);N!==null&&Xe(ne,N.startTime-W),he=!1}}break e}finally{b=null,w=le,T=!1}he=void 0}}finally{he?F():fe=!1}}}var F;if(typeof U=="function")F=function(){U(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Qe=O.port2;O.port1.onmessage=M,F=function(){Qe.postMessage(null)}}else F=function(){J(M,0)};function Xe(W,he){R=J(function(){W(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(W){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var le=w;w=he;try{return W()}finally{w=le}},t.unstable_requestPaint=function(){z=!0},t.unstable_runWithPriority=function(W,he){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var le=w;w=W;try{return he()}finally{w=le}},t.unstable_scheduleCallback=function(W,he,le){var Me=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Me+le:Me):le=Me,W){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=le+qe,W={id:v++,callback:he,priorityLevel:W,startTime:le,expirationTime:qe,sortIndex:-1},le>Me?(W.sortIndex=le,e(p,W),n(d)===null&&W===n(p)&&(k?(K(R),R=-1):k=!0,Xe(ne,le-Me))):(W.sortIndex=qe,e(d,W),D||T||(D=!0,fe||(fe=!0,F()))),W},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(W){var he=w;return function(){var le=w;w=he;try{return W.apply(this,arguments)}finally{w=le}}}})(cy)),cy}var VE;function O2(){return VE||(VE=1,uy.exports=D2()),uy.exports}var hy={exports:{}},bn={};var zE;function k2(){if(zE)return bn;zE=1;var t=Iv();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bn.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,v)},bn.flushSync=function(d){var p=u.T,v=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=v,r.d.f()}},bn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},bn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},bn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var v=p.as,b=h(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:T}):v==="script"&&r.d.X(d,{crossOrigin:b,integrity:w,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},bn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=h(v,p.crossOrigin);r.d.L(d,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bn.preloadModule=function(d,p){if(typeof d=="string")if(p){var v=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},bn.requestFormReset=function(d){r.d.r(d)},bn.unstable_batchedUpdates=function(d,p){return d(p)},bn.useFormState=function(d,p,v){return u.H.useFormState(d,p,v)},bn.useFormStatus=function(){return u.H.useHostTransitionStatus()},bn.version="19.2.3",bn}var LE;function P2(){if(LE)return hy.exports;LE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hy.exports=k2(),hy.exports}var UE;function j2(){if(UE)return Ec;UE=1;var t=O2(),e=Iv(),n=P2();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function p(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,c=i;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return d(m),s;if(g===c)return d(m),i;g=g.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=g;else{for(var x=!1,S=m.child;S;){if(S===l){x=!0,l=m,c=g;break}if(S===c){x=!0,c=m,l=g;break}S=S.sibling}if(!x){for(S=g.child;S;){if(S===l){x=!0,l=g,c=m;break}if(S===c){x=!0,c=g,l=m;break}S=S.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function v(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=v(s),i!==null)return i;s=s.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),U=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Qe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case J:return"Profiler";case z:return"StrictMode";case ne:return"Suspense";case fe:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case U:return s.displayName||"Context";case K:return(s._context.displayName||"Context")+".Consumer";case Y:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return i=s.displayName||null,i!==null?i:Qe(s.type)||"Memo";case A:i=s._payload,s=s._init;try{return Qe(s(i))}catch{}}return null}var Xe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Me=[],qe=-1;function N(s){return{current:s}}function Q(s){0>qe||(s.current=Me[qe],Me[qe]=null,qe--)}function ae(s,i){qe++,Me[qe]=s.current,s.current=i}var ue=N(null),we=N(null),Re=N(null),xe=N(null);function Ct(s,i){switch(ae(Re,i),ae(we,s),ae(ue,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?tE(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=tE(i),s=nE(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Q(ue),ae(ue,s)}function st(){Q(ue),Q(we),Q(Re)}function sr(s){s.memoizedState!==null&&ae(xe,s);var i=ue.current,l=nE(i,s.type);i!==l&&(ae(we,s),ae(ue,l))}function qr(s){we.current===s&&(Q(ue),Q(we)),xe.current===s&&(Q(xe),yc._currentValue=le)}var Ar,Oo;function $r(s){if(Ar===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Ar=i&&i[1]||"",Oo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ar+s+Oo}var yu=!1;function ma(s,i){if(!s||yu)return"";yu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var Z=ee}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(ee){Z=ee}s.call(oe.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),x=g[0],S=g[1];if(x&&S){var P=x.split(`
`),G=S.split(`
`);for(m=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(c===P.length||m===G.length)for(c=P.length-1,m=G.length-1;1<=c&&0<=m&&P[c]!==G[m];)m--;for(;1<=c&&0<=m;c--,m--)if(P[c]!==G[m]){if(c!==1||m!==1)do if(c--,m--,0>m||P[c]!==G[m]){var re=`
`+P[c].replace(" at new "," at ");return s.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",s.displayName)),re}while(1<=c&&0<=m);break}}}finally{yu=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?$r(l):""}function vu(s,i){switch(s.tag){case 26:case 27:case 5:return $r(s.type);case 16:return $r("Lazy");case 13:return s.child!==i&&i!==null?$r("Suspense Fallback"):$r("Suspense");case 19:return $r("SuspenseList");case 0:case 15:return ma(s.type,!1);case 11:return ma(s.type.render,!1);case 1:return ma(s.type,!0);case 31:return $r("Activity");default:return""}}function _u(s){try{var i="",l=null;do i+=vu(s,l),l=s,s=s.return;while(s);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Bt=Object.prototype.hasOwnProperty,en=t.unstable_scheduleCallback,ai=t.unstable_cancelCallback,lp=t.unstable_shouldYield,Dh=t.unstable_requestPaint,Sn=t.unstable_now,pa=t.unstable_getCurrentPriorityLevel,bu=t.unstable_ImmediatePriority,xu=t.unstable_UserBlockingPriority,oi=t.unstable_NormalPriority,up=t.unstable_LowPriority,Oh=t.unstable_IdlePriority,kh=t.log,Ph=t.unstable_setDisableYieldValue,Ir=null,hn=null;function ir(s){if(typeof kh=="function"&&Ph(s),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(Ir,s)}catch{}}var Vt=Math.clz32?Math.clz32:Mh,jh=Math.log,ko=Math.LN2;function Mh(s){return s>>>=0,s===0?32:31-(jh(s)/ko|0)|0}var Hr=256,ga=262144,qt=4194304;function Gr(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Kr(s,i,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,g=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?m=Gr(c):(x&=S,x!==0?m=Gr(x):l||(l=S&~s,l!==0&&(m=Gr(l))))):(S=c&~g,S!==0?m=Gr(S):x!==0?m=Gr(x):l||(l=c&~s,l!==0&&(m=Gr(l)))),m===0?0:i!==0&&i!==m&&(i&g)===0&&(g=m&-m,l=i&-i,g>=l||g===32&&(l&4194048)!==0)?i:m}function Rr(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function cp(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vh(){var s=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),s}function Qr(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function ya(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function hp(s,i,l,c,m,g){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,P=s.expirationTimes,G=s.hiddenUpdates;for(l=x&~l;0<l;){var re=31-Vt(l),oe=1<<re;S[re]=0,P[re]=-1;var Z=G[re];if(Z!==null)for(G[re]=null,re=0;re<Z.length;re++){var ee=Z[re];ee!==null&&(ee.lane&=-536870913)}l&=~oe}c!==0&&va(s,c,0),g!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=g&~(x&~i))}function va(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var c=31-Vt(i);s.entangledLanes|=i,s.entanglements[c]=s.entanglements[c]|1073741824|l&261930}function Eu(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var c=31-Vt(l),m=1<<c;m&i|s[c]&i&&(s[c]|=i),l&=~m}}function wu(s,i){var l=i&-i;return l=(l&42)!==0?1:_a(l),(l&(s.suspendedLanes|i))!==0?0:l}function _a(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ws(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function zh(){var s=he.p;return s!==0?s:(s=window.event,s===void 0?32:SE(s.type))}function Nr(s,i){var l=he.p;try{return he.p=s,i()}finally{he.p=l}}var Cr=Math.random().toString(36).slice(2),$t="__reactFiber$"+Cr,on="__reactProps$"+Cr,Zr="__reactContainer$"+Cr,Po="__reactEvents$"+Cr,dp="__reactListeners$"+Cr,Lh="__reactHandles$"+Cr,Uh="__reactResources$"+Cr,Yr="__reactMarker$"+Cr;function jo(s){delete s[$t],delete s[on],delete s[Po],delete s[dp],delete s[Lh]}function Xr(s){var i=s[$t];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Zr]||l[$t]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=uE(s);s!==null;){if(l=s[$t])return l;s=uE(s)}return i}s=l,l=s.parentNode}return null}function ar(s){if(s=s[$t]||s[Zr]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function qn(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Jr(s){var i=s[Uh];return i||(i=s[Uh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ht(s){s[Yr]=!0}var Tu=new Set,Su={};function Wr(s,i){es(s,i),es(s+"Capture",i)}function es(s,i){for(Su[s]=i,s=0;s<i.length;s++)Tu.add(i[s])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Iu={},Ru={};function Fh(s){return Bt.call(Ru,s)?!0:Bt.call(Iu,s)?!1:Au.test(s)?Ru[s]=!0:(Iu[s]=!0,!1)}function Mo(s,i,l){if(Fh(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function $n(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Gt(s,i,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+c)}}function ln(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function li(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Nu(s,i,l){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(x){l=""+x,g.call(this,x)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function it(s){if(!s._valueTracker){var i=li(s)?"checked":"value";s._valueTracker=Nu(s,i,""+s[i])}}function ba(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return s&&(c=li(s)?s.checked?"true":"false":s.value),s=c,s!==l?(i.setValue(s),!0):!1}function ts(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var xa=/[\n"\\]/g;function Pn(s){return s.replace(xa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Vo(s,i,l,c,m,g,x,S){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),i!=null?x==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+ln(i)):s.value!==""+ln(i)&&(s.value=""+ln(i)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),i!=null?Cu(s,x,ln(i)):l!=null?Cu(s,x,ln(l)):c!=null&&s.removeAttribute("value"),m==null&&g!=null&&(s.defaultChecked=!!g),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+ln(S):s.removeAttribute("name")}function Bh(s,i,l,c,m,g,x,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){it(s);return}l=l!=null?""+ln(l):"",i=i!=null?""+ln(i):l,S||i===s.value||(s.value=i),s.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),it(s)}function Cu(s,i,l){i==="number"&&ts(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ui(s,i,l,c){if(s=s.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=i.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+ln(l),i=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function qh(s,i,l){if(i!=null&&(i=""+ln(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+ln(l):""}function ci(s,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(r(92));if(Xe(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=ln(i),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c),it(s)}function jn(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var $h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Du(s,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":c?s.setProperty(i,l):typeof l!="number"||l===0||$h.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Ou(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&l[m]!==c&&Du(s,m,c)}else for(var g in i)i.hasOwnProperty(g)&&Du(s,g,i[g])}function zo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lo(s){return hi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Dr(){}var ku=null;function or(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var di=null,ns=null;function Ea(s){var i=ar(s);if(i&&(s=i.stateNode)){var l=s[on]||null;e:switch(s=i.stateNode,i.type){case"input":if(Vo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Pn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==s&&c.form===s.form){var m=c[on]||null;if(!m)throw Error(r(90));Vo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===s.form&&ba(c)}break e;case"textarea":qh(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ui(s,!!l.multiple,i,!1)}}}var Uo=!1;function fi(s,i,l){if(Uo)return s(i,l);Uo=!0;try{var c=s(i);return c}finally{if(Uo=!1,(di!==null||ns!==null)&&(zd(),di&&(i=di,s=ns,ns=di=null,Ea(i),s)))for(i=0;i<s.length;i++)Ea(s[i])}}function Or(s,i){var l=s.stateNode;if(l===null)return null;var c=l[on]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=!1;if(lr)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){wa=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{wa=!1}var rs=null,Pu=null,Ta=null;function ju(){if(Ta)return Ta;var s,i=Pu,l=i.length,c,m="value"in rs?rs.value:rs.textContent,g=m.length;for(s=0;s<l&&i[s]===m[s];s++);var x=l-s;for(c=1;c<=x&&i[l-c]===m[g-c];c++);return Ta=m.slice(s,1<c?1-c:void 0)}function Sa(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Ts(){return!0}function kr(){return!1}function dn(s){function i(l,c,m,g,x){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ts:kr,this.isPropagationStopped=kr,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),i}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=dn(Ss),mi=b({},Ss,{view:0,detail:0}),Mu=dn(mi),pi,Fo,is,Bo=b({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==is&&(is&&s.type==="mousemove"?(pi=s.screenX-is.screenX,Fo=s.screenY-is.screenY):Fo=pi=0,is=s),pi)},movementY:function(s){return"movementY"in s?s.movementY:Fo}}),Vu=dn(Bo),Aa=b({},Bo,{dataTransfer:0}),Gh=dn(Aa),Kh=b({},mi,{relatedTarget:0}),Ia=dn(Kh),zu=b({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Qh=dn(zu),qo=b({},Ss,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Zh=dn(qo),Yh=b({},Ss,{data:0}),as=dn(Yh),Xh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ed(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Wh[s])?!!i[s]:!1}function gi(){return ed}var An=b({},mi,{key:function(s){if(s.key){var i=Xh[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Sa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Jh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(s){return s.type==="keypress"?Sa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Sa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),td=dn(An),nd=b({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),As=dn(nd),f=b({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),_=dn(f),E=b({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=dn(E),$=b({},Bo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=dn($),me=b({},Ss,{newState:0,oldState:0}),ke=dn(me),zt=[9,13,27,32],nt=lr&&"CompositionEvent"in window,xt=null;lr&&"documentMode"in document&&(xt=document.documentMode);var ur=lr&&"TextEvent"in window&&!xt,os=lr&&(!nt||xt&&8<xt&&11>=xt),Pr=" ",jr=!1;function Ra(s,i){switch(s){case"keyup":return zt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $o(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ho=!1;function XN(s,i){switch(s){case"compositionend":return $o(i);case"keypress":return i.which!==32?null:(jr=!0,Pr);case"textInput":return s=i.data,s===Pr&&jr?null:s;default:return null}}function JN(s,i){if(Ho)return s==="compositionend"||!nt&&Ra(s,i)?(s=ju(),Ta=Pu=rs=null,Ho=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return os&&i.locale!=="ko"?null:i.data;default:return null}}var WN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function db(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!WN[s.type]:i==="textarea"}function fb(s,i,l,c){di?ns?ns.push(c):ns=[c]:di=c,i=Hd(i,"onChange"),0<i.length&&(l=new ss("onChange","change",null,l,c),s.push({event:l,listeners:i}))}var Lu=null,Uu=null;function eC(s){Zx(s,0)}function rd(s){var i=qn(s);if(ba(i))return s}function mb(s,i){if(s==="change")return i}var pb=!1;if(lr){var fp;if(lr){var mp="oninput"in document;if(!mp){var gb=document.createElement("div");gb.setAttribute("oninput","return;"),mp=typeof gb.oninput=="function"}fp=mp}else fp=!1;pb=fp&&(!document.documentMode||9<document.documentMode)}function yb(){Lu&&(Lu.detachEvent("onpropertychange",vb),Uu=Lu=null)}function vb(s){if(s.propertyName==="value"&&rd(Uu)){var i=[];fb(i,Uu,s,or(s)),fi(eC,i)}}function tC(s,i,l){s==="focusin"?(yb(),Lu=i,Uu=l,Lu.attachEvent("onpropertychange",vb)):s==="focusout"&&yb()}function nC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return rd(Uu)}function rC(s,i){if(s==="click")return rd(i)}function sC(s,i){if(s==="input"||s==="change")return rd(i)}function iC(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Hn=typeof Object.is=="function"?Object.is:iC;function Fu(s,i){if(Hn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Bt.call(i,m)||!Hn(s[m],i[m]))return!1}return!0}function _b(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bb(s,i){var l=_b(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=i&&c>=i)return{node:l,offset:i-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_b(l)}}function xb(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?xb(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Eb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=ts(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=ts(s.document)}return i}function pp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var aC=lr&&"documentMode"in document&&11>=document.documentMode,Go=null,gp=null,Bu=null,yp=!1;function wb(s,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yp||Go==null||Go!==ts(c)||(c=Go,"selectionStart"in c&&pp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bu&&Fu(Bu,c)||(Bu=c,c=Hd(gp,"onSelect"),0<c.length&&(i=new ss("onSelect","select",null,i,l),s.push({event:i,listeners:c}),i.target=Go)))}function Na(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Ko={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},vp={},Tb={};lr&&(Tb=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function Ca(s){if(vp[s])return vp[s];if(!Ko[s])return s;var i=Ko[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Tb)return vp[s]=i[l];return s}var Sb=Ca("animationend"),Ab=Ca("animationiteration"),Ib=Ca("animationstart"),oC=Ca("transitionrun"),lC=Ca("transitionstart"),uC=Ca("transitioncancel"),Rb=Ca("transitionend"),Nb=new Map,_p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_p.push("scrollEnd");function Mr(s,i){Nb.set(s,i),Wr(i,[s])}var sd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},cr=[],Qo=0,bp=0;function id(){for(var s=Qo,i=bp=Qo=0;i<s;){var l=cr[i];cr[i++]=null;var c=cr[i];cr[i++]=null;var m=cr[i];cr[i++]=null;var g=cr[i];if(cr[i++]=null,c!==null&&m!==null){var x=c.pending;x===null?m.next=m:(m.next=x.next,x.next=m),c.pending=m}g!==0&&Cb(l,m,g)}}function ad(s,i,l,c){cr[Qo++]=s,cr[Qo++]=i,cr[Qo++]=l,cr[Qo++]=c,bp|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function xp(s,i,l,c){return ad(s,i,l,c),od(s)}function Da(s,i){return ad(s,null,null,i),od(s)}function Cb(s,i,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,g=s.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(m=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,m&&i!==null&&(m=31-Vt(l),s=g.hiddenUpdates,c=s[m],c===null?s[m]=[i]:c.push(i),i.lane=l|536870912),g):null}function od(s){if(50<cc)throw cc=0,Cg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Zo={};function cC(s,i,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(s,i,l,c){return new cC(s,i,l,c)}function Ep(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Is(s,i){var l=s.alternate;return l===null?(l=Gn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Db(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function ld(s,i,l,c,m,g){var x=0;if(c=s,typeof s=="function")Ep(s)&&(x=1);else if(typeof s=="string")x=p2(s,l,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Gn(31,l,i,m),s.elementType=C,s.lanes=g,s;case k:return Oa(l.children,m,g,i);case z:x=8,m|=24;break;case J:return s=Gn(12,l,i,m|2),s.elementType=J,s.lanes=g,s;case ne:return s=Gn(13,l,i,m),s.elementType=ne,s.lanes=g,s;case fe:return s=Gn(19,l,i,m),s.elementType=fe,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:x=10;break e;case K:x=9;break e;case Y:x=11;break e;case R:x=14;break e;case A:x=16,c=null;break e}x=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return i=Gn(x,l,i,m),i.elementType=s,i.type=c,i.lanes=g,i}function Oa(s,i,l,c){return s=Gn(7,s,c,i),s.lanes=l,s}function wp(s,i,l){return s=Gn(6,s,null,i),s.lanes=l,s}function Ob(s){var i=Gn(18,null,null,0);return i.stateNode=s,i}function Tp(s,i,l){return i=Gn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var kb=new WeakMap;function hr(s,i){if(typeof s=="object"&&s!==null){var l=kb.get(s);return l!==void 0?l:(i={value:s,source:i,stack:_u(i)},kb.set(s,i),i)}return{value:s,source:i,stack:_u(i)}}var Yo=[],Xo=0,ud=null,qu=0,dr=[],fr=0,yi=null,ls=1,us="";function Rs(s,i){Yo[Xo++]=qu,Yo[Xo++]=ud,ud=s,qu=i}function Pb(s,i,l){dr[fr++]=ls,dr[fr++]=us,dr[fr++]=yi,yi=s;var c=ls;s=us;var m=32-Vt(c)-1;c&=~(1<<m),l+=1;var g=32-Vt(i)+m;if(30<g){var x=m-m%5;g=(c&(1<<x)-1).toString(32),c>>=x,m-=x,ls=1<<32-Vt(i)+m|l<<m|c,us=g+s}else ls=1<<g|l<<m|c,us=s}function Sp(s){s.return!==null&&(Rs(s,1),Pb(s,1,0))}function Ap(s){for(;s===ud;)ud=Yo[--Xo],Yo[Xo]=null,qu=Yo[--Xo],Yo[Xo]=null;for(;s===yi;)yi=dr[--fr],dr[fr]=null,us=dr[--fr],dr[fr]=null,ls=dr[--fr],dr[fr]=null}function jb(s,i){dr[fr++]=ls,dr[fr++]=us,dr[fr++]=yi,ls=i.id,us=i.overflow,yi=s}var fn=null,_t=null,Ze=!1,vi=null,mr=!1,Ip=Error(r(519));function _i(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $u(hr(i,s)),Ip}function Mb(s){var i=s.stateNode,l=s.type,c=s.memoizedProps;switch(i[$t]=s,i[on]=c,l){case"dialog":Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":case"embed":Fe("load",i);break;case"video":case"audio":for(l=0;l<dc.length;l++)Fe(dc[l],i);break;case"source":Fe("error",i);break;case"img":case"image":case"link":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"input":Fe("invalid",i),Bh(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Fe("invalid",i);break;case"textarea":Fe("invalid",i),ci(i,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||Wx(i.textContent,l)?(c.popover!=null&&(Fe("beforetoggle",i),Fe("toggle",i)),c.onScroll!=null&&Fe("scroll",i),c.onScrollEnd!=null&&Fe("scrollend",i),c.onClick!=null&&(i.onclick=Dr),i=!0):i=!1,i||_i(s,!0)}function Vb(s){for(fn=s.return;fn;)switch(fn.tag){case 5:case 31:case 13:mr=!1;return;case 27:case 3:mr=!0;return;default:fn=fn.return}}function Jo(s){if(s!==fn)return!1;if(!Ze)return Vb(s),Ze=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Hg(s.type,s.memoizedProps)),l=!l),l&&_t&&_i(s),Vb(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));_t=lE(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));_t=lE(s)}else i===27?(i=_t,ki(s.type)?(s=Yg,Yg=null,_t=s):_t=i):_t=fn?gr(s.stateNode.nextSibling):null;return!0}function ka(){_t=fn=null,Ze=!1}function Rp(){var s=vi;return s!==null&&(Ln===null?Ln=s:Ln.push.apply(Ln,s),vi=null),s}function $u(s){vi===null?vi=[s]:vi.push(s)}var Np=N(null),Pa=null,Ns=null;function bi(s,i,l){ae(Np,i._currentValue),i._currentValue=l}function Cs(s){s._currentValue=Np.current,Q(Np)}function Cp(s,i,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===l)break;s=s.return}}function Dp(s,i,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var g=m.dependencies;if(g!==null){var x=m.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=m;for(var P=0;P<i.length;P++)if(S.context===i[P]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),Cp(g.return,l,s),c||(x=null);break e}g=S.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(r(341));x.lanes|=l,g=x.alternate,g!==null&&(g.lanes|=l),Cp(x,l,s),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function Wo(s,i,l,c){s=null;for(var m=i,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var S=m.type;Hn(m.pendingProps.value,x.value)||(s!==null?s.push(S):s=[S])}}else if(m===xe.current){if(x=m.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(yc):s=[yc])}m=m.return}s!==null&&Dp(i,s,l,c),i.flags|=262144}function cd(s){for(s=s.firstContext;s!==null;){if(!Hn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ja(s){Pa=s,Ns=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function mn(s){return zb(Pa,s)}function hd(s,i){return Pa===null&&ja(s),zb(s,i)}function zb(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Ns===null){if(s===null)throw Error(r(308));Ns=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Ns=Ns.next=i;return l}var hC=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},dC=t.unstable_scheduleCallback,fC=t.unstable_NormalPriority,Kt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Op(){return{controller:new hC,data:new Map,refCount:0}}function Hu(s){s.refCount--,s.refCount===0&&dC(fC,function(){s.controller.abort()})}var Gu=null,kp=0,el=0,tl=null;function mC(s,i){if(Gu===null){var l=Gu=[];kp=0,el=Mg(),tl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return kp++,i.then(Lb,Lb),i}function Lb(){if(--kp===0&&Gu!==null){tl!==null&&(tl.status="fulfilled");var s=Gu;Gu=null,el=0,tl=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function pC(s,i){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<l.length;m++)(0,l[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var Ub=W.S;W.S=function(s,i){wx=Sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&mC(s,i),Ub!==null&&Ub(s,i)};var Ma=N(null);function Pp(){var s=Ma.current;return s!==null?s:vt.pooledCache}function dd(s,i){i===null?ae(Ma,Ma.current):ae(Ma,i.pool)}function Fb(){var s=Pp();return s===null?null:{parent:Kt._currentValue,pool:s}}var nl=Error(r(460)),jp=Error(r(474)),fd=Error(r(542)),md={then:function(){}};function Bb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function qb(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Dr,Dr),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Hb(s),s;default:if(typeof i.status=="string")i.then(Dr,Dr);else{if(s=vt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Hb(s),s}throw za=i,nl}}function Va(s){try{var i=s._init;return i(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(za=l,nl):l}}var za=null;function $b(){if(za===null)throw Error(r(459));var s=za;return za=null,s}function Hb(s){if(s===nl||s===fd)throw Error(r(483))}var rl=null,Ku=0;function pd(s){var i=Ku;return Ku+=1,rl===null&&(rl=[]),qb(rl,s,i)}function Qu(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function gd(s,i){throw i.$$typeof===w?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Gb(s){function i(B,L){if(s){var H=B.deletions;H===null?(B.deletions=[L],B.flags|=16):H.push(L)}}function l(B,L){if(!s)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function c(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function m(B,L){return B=Is(B,L),B.index=0,B.sibling=null,B}function g(B,L,H){return B.index=H,s?(H=B.alternate,H!==null?(H=H.index,H<L?(B.flags|=67108866,L):H):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function x(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function S(B,L,H,se){return L===null||L.tag!==6?(L=wp(H,B.mode,se),L.return=B,L):(L=m(L,H),L.return=B,L)}function P(B,L,H,se){var Te=H.type;return Te===k?re(B,L,H.props.children,se,H.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Va(Te)===L.type)?(L=m(L,H.props),Qu(L,H),L.return=B,L):(L=ld(H.type,H.key,H.props,null,B.mode,se),Qu(L,H),L.return=B,L)}function G(B,L,H,se){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Tp(H,B.mode,se),L.return=B,L):(L=m(L,H.children||[]),L.return=B,L)}function re(B,L,H,se,Te){return L===null||L.tag!==7?(L=Oa(H,B.mode,se,Te),L.return=B,L):(L=m(L,H),L.return=B,L)}function oe(B,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=wp(""+L,B.mode,H),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return H=ld(L.type,L.key,L.props,null,B.mode,H),Qu(H,L),H.return=B,H;case D:return L=Tp(L,B.mode,H),L.return=B,L;case A:return L=Va(L),oe(B,L,H)}if(Xe(L)||F(L))return L=Oa(L,B.mode,H,null),L.return=B,L;if(typeof L.then=="function")return oe(B,pd(L),H);if(L.$$typeof===U)return oe(B,hd(B,L),H);gd(B,L)}return null}function Z(B,L,H,se){var Te=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Te!==null?null:S(B,L,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===Te?P(B,L,H,se):null;case D:return H.key===Te?G(B,L,H,se):null;case A:return H=Va(H),Z(B,L,H,se)}if(Xe(H)||F(H))return Te!==null?null:re(B,L,H,se,null);if(typeof H.then=="function")return Z(B,L,pd(H),se);if(H.$$typeof===U)return Z(B,L,hd(B,H),se);gd(B,H)}return null}function ee(B,L,H,se,Te){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return B=B.get(H)||null,S(L,B,""+se,Te);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case T:return B=B.get(se.key===null?H:se.key)||null,P(L,B,se,Te);case D:return B=B.get(se.key===null?H:se.key)||null,G(L,B,se,Te);case A:return se=Va(se),ee(B,L,H,se,Te)}if(Xe(se)||F(se))return B=B.get(H)||null,re(L,B,se,Te,null);if(typeof se.then=="function")return ee(B,L,H,pd(se),Te);if(se.$$typeof===U)return ee(B,L,H,hd(L,se),Te);gd(L,se)}return null}function ge(B,L,H,se){for(var Te=null,Je=null,be=L,je=L=0,He=null;be!==null&&je<H.length;je++){be.index>je?(He=be,be=null):He=be.sibling;var We=Z(B,be,H[je],se);if(We===null){be===null&&(be=He);break}s&&be&&We.alternate===null&&i(B,be),L=g(We,L,je),Je===null?Te=We:Je.sibling=We,Je=We,be=He}if(je===H.length)return l(B,be),Ze&&Rs(B,je),Te;if(be===null){for(;je<H.length;je++)be=oe(B,H[je],se),be!==null&&(L=g(be,L,je),Je===null?Te=be:Je.sibling=be,Je=be);return Ze&&Rs(B,je),Te}for(be=c(be);je<H.length;je++)He=ee(be,B,je,H[je],se),He!==null&&(s&&He.alternate!==null&&be.delete(He.key===null?je:He.key),L=g(He,L,je),Je===null?Te=He:Je.sibling=He,Je=He);return s&&be.forEach(function(zi){return i(B,zi)}),Ze&&Rs(B,je),Te}function Ie(B,L,H,se){if(H==null)throw Error(r(151));for(var Te=null,Je=null,be=L,je=L=0,He=null,We=H.next();be!==null&&!We.done;je++,We=H.next()){be.index>je?(He=be,be=null):He=be.sibling;var zi=Z(B,be,We.value,se);if(zi===null){be===null&&(be=He);break}s&&be&&zi.alternate===null&&i(B,be),L=g(zi,L,je),Je===null?Te=zi:Je.sibling=zi,Je=zi,be=He}if(We.done)return l(B,be),Ze&&Rs(B,je),Te;if(be===null){for(;!We.done;je++,We=H.next())We=oe(B,We.value,se),We!==null&&(L=g(We,L,je),Je===null?Te=We:Je.sibling=We,Je=We);return Ze&&Rs(B,je),Te}for(be=c(be);!We.done;je++,We=H.next())We=ee(be,B,je,We.value,se),We!==null&&(s&&We.alternate!==null&&be.delete(We.key===null?je:We.key),L=g(We,L,je),Je===null?Te=We:Je.sibling=We,Je=We);return s&&be.forEach(function(A2){return i(B,A2)}),Ze&&Rs(B,je),Te}function pt(B,L,H,se){if(typeof H=="object"&&H!==null&&H.type===k&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var Te=H.key;L!==null;){if(L.key===Te){if(Te=H.type,Te===k){if(L.tag===7){l(B,L.sibling),se=m(L,H.props.children),se.return=B,B=se;break e}}else if(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&Va(Te)===L.type){l(B,L.sibling),se=m(L,H.props),Qu(se,H),se.return=B,B=se;break e}l(B,L);break}else i(B,L);L=L.sibling}H.type===k?(se=Oa(H.props.children,B.mode,se,H.key),se.return=B,B=se):(se=ld(H.type,H.key,H.props,null,B.mode,se),Qu(se,H),se.return=B,B=se)}return x(B);case D:e:{for(Te=H.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){l(B,L.sibling),se=m(L,H.children||[]),se.return=B,B=se;break e}else{l(B,L);break}else i(B,L);L=L.sibling}se=Tp(H,B.mode,se),se.return=B,B=se}return x(B);case A:return H=Va(H),pt(B,L,H,se)}if(Xe(H))return ge(B,L,H,se);if(F(H)){if(Te=F(H),typeof Te!="function")throw Error(r(150));return H=Te.call(H),Ie(B,L,H,se)}if(typeof H.then=="function")return pt(B,L,pd(H),se);if(H.$$typeof===U)return pt(B,L,hd(B,H),se);gd(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(l(B,L.sibling),se=m(L,H),se.return=B,B=se):(l(B,L),se=wp(H,B.mode,se),se.return=B,B=se),x(B)):l(B,L)}return function(B,L,H,se){try{Ku=0;var Te=pt(B,L,H,se);return rl=null,Te}catch(be){if(be===nl||be===fd)throw be;var Je=Gn(29,be,null,B.mode);return Je.lanes=se,Je.return=B,Je}}}var La=Gb(!0),Kb=Gb(!1),xi=!1;function Mp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ei(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function wi(s,i,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=od(s),Cb(s,null,l),i}return ad(s,c,i,l),od(s)}function Zu(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,Eu(s,l)}}function zp(s,i){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=x:g=g.next=x,l=l.next}while(l!==null);g===null?m=g=i:g=g.next=i}else m=g=i;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var Lp=!1;function Yu(){if(Lp){var s=tl;if(s!==null)throw s}}function Xu(s,i,l,c){Lp=!1;var m=s.updateQueue;xi=!1;var g=m.firstBaseUpdate,x=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var P=S,G=P.next;P.next=null,x===null?g=G:x.next=G,x=P;var re=s.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==x&&(S===null?re.firstBaseUpdate=G:S.next=G,re.lastBaseUpdate=P))}if(g!==null){var oe=m.baseState;x=0,re=G=P=null,S=g;do{var Z=S.lane&-536870913,ee=Z!==S.lane;if(ee?($e&Z)===Z:(c&Z)===Z){Z!==0&&Z===el&&(Lp=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=s,Ie=S;Z=i;var pt=l;switch(Ie.tag){case 1:if(ge=Ie.payload,typeof ge=="function"){oe=ge.call(pt,oe,Z);break e}oe=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ie.payload,Z=typeof ge=="function"?ge.call(pt,oe,Z):ge,Z==null)break e;oe=b({},oe,Z);break e;case 2:xi=!0}}Z=S.callback,Z!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(G=re=ee,P=oe):re=re.next=ee,x|=Z;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);re===null&&(P=oe),m.baseState=P,m.firstBaseUpdate=G,m.lastBaseUpdate=re,g===null&&(m.shared.lanes=0),Ri|=x,s.lanes=x,s.memoizedState=oe}}function Qb(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Zb(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Qb(l[s],i)}var sl=N(null),yd=N(0);function Yb(s,i){s=Ls,ae(yd,s),ae(sl,i),Ls=s|i.baseLanes}function Up(){ae(yd,Ls),ae(sl,sl.current)}function Fp(){Ls=yd.current,Q(sl),Q(yd)}var Kn=N(null),pr=null;function Ti(s){var i=s.alternate;ae(Lt,Lt.current&1),ae(Kn,s),pr===null&&(i===null||sl.current!==null||i.memoizedState!==null)&&(pr=s)}function Bp(s){ae(Lt,Lt.current),ae(Kn,s),pr===null&&(pr=s)}function Xb(s){s.tag===22?(ae(Lt,Lt.current),ae(Kn,s),pr===null&&(pr=s)):Si()}function Si(){ae(Lt,Lt.current),ae(Kn,Kn.current)}function Qn(s){Q(Kn),pr===s&&(pr=null),Q(Lt)}var Lt=N(0);function vd(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Qg(l)||Zg(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ds=0,Pe=null,ft=null,Qt=null,_d=!1,il=!1,Ua=!1,bd=0,Ju=0,al=null,gC=0;function Dt(){throw Error(r(321))}function qp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Hn(s[l],i[l]))return!1;return!0}function $p(s,i,l,c,m,g){return Ds=g,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=s===null||s.memoizedState===null?P0:ig,Ua=!1,g=l(c,m),Ua=!1,il&&(g=Wb(i,l,c,m)),Jb(s),g}function Jb(s){W.H=tc;var i=ft!==null&&ft.next!==null;if(Ds=0,Qt=ft=Pe=null,_d=!1,Ju=0,al=null,i)throw Error(r(300));s===null||Zt||(s=s.dependencies,s!==null&&cd(s)&&(Zt=!0))}function Wb(s,i,l,c){Pe=s;var m=0;do{if(il&&(al=null),Ju=0,il=!1,25<=m)throw Error(r(301));if(m+=1,Qt=ft=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=j0,g=i(l,c)}while(il);return g}function yC(){var s=W.H,i=s.useState()[0];return i=typeof i.then=="function"?Wu(i):i,s=s.useState()[0],(ft!==null?ft.memoizedState:null)!==s&&(Pe.flags|=1024),i}function Hp(){var s=bd!==0;return bd=0,s}function Gp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Kp(s){if(_d){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}_d=!1}Ds=0,Qt=ft=Pe=null,il=!1,Ju=bd=0,al=null}function In(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Pe.memoizedState=Qt=s:Qt=Qt.next=s,Qt}function Ut(){if(ft===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=ft.next;var i=Qt===null?Pe.memoizedState:Qt.next;if(i!==null)Qt=i,ft=s;else{if(s===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));ft=s,s={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Qt===null?Pe.memoizedState=Qt=s:Qt=Qt.next=s}return Qt}function xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wu(s){var i=Ju;return Ju+=1,al===null&&(al=[]),s=qb(al,s,i),i=Pe,(Qt===null?i.memoizedState:Qt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?P0:ig),s}function Ed(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Wu(s);if(s.$$typeof===U)return mn(s)}throw Error(r(438,String(s)))}function Qp(s){var i=null,l=Pe.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=xd(),Pe.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),c=0;c<s;c++)l[c]=j;return i.index++,l}function Os(s,i){return typeof i=="function"?i(s):i}function wd(s){var i=Ut();return Zp(i,ft,s)}function Zp(s,i,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,g=c.pending;if(g!==null){if(m!==null){var x=m.next;m.next=g.next,g.next=x}i.baseQueue=m=g,c.pending=null}if(g=s.baseState,m===null)s.memoizedState=g;else{i=m.next;var S=x=null,P=null,G=i,re=!1;do{var oe=G.lane&-536870913;if(oe!==G.lane?($e&oe)===oe:(Ds&oe)===oe){var Z=G.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),oe===el&&(re=!0);else if((Ds&Z)===Z){G=G.next,Z===el&&(re=!0);continue}else oe={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(S=P=oe,x=g):P=P.next=oe,Pe.lanes|=Z,Ri|=Z;oe=G.action,Ua&&l(g,oe),g=G.hasEagerState?G.eagerState:l(g,oe)}else Z={lane:oe,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(S=P=Z,x=g):P=P.next=Z,Pe.lanes|=oe,Ri|=oe;G=G.next}while(G!==null&&G!==i);if(P===null?x=g:P.next=S,!Hn(g,s.memoizedState)&&(Zt=!0,re&&(l=tl,l!==null)))throw l;s.memoizedState=g,s.baseState=x,s.baseQueue=P,c.lastRenderedState=g}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Yp(s){var i=Ut(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,g=i.memoizedState;if(m!==null){l.pending=null;var x=m=m.next;do g=s(g,x.action),x=x.next;while(x!==m);Hn(g,i.memoizedState)||(Zt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,c]}function e0(s,i,l){var c=Pe,m=Ut(),g=Ze;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=i();var x=!Hn((ft||m).memoizedState,l);if(x&&(m.memoizedState=l,Zt=!0),m=m.queue,Wp(r0.bind(null,c,m,s),[s]),m.getSnapshot!==i||x||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,ol(9,{destroy:void 0},n0.bind(null,c,m,l,i),null),vt===null)throw Error(r(349));g||(Ds&127)!==0||t0(c,i,l)}return l}function t0(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=Pe.updateQueue,i===null?(i=xd(),Pe.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function n0(s,i,l,c){i.value=l,i.getSnapshot=c,s0(i)&&i0(s)}function r0(s,i,l){return l(function(){s0(i)&&i0(s)})}function s0(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Hn(s,l)}catch{return!0}}function i0(s){var i=Da(s,2);i!==null&&Un(i,s,2)}function Xp(s){var i=In();if(typeof s=="function"){var l=s;if(s=l(),Ua){ir(!0);try{l()}finally{ir(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:s},i}function a0(s,i,l,c){return s.baseState=l,Zp(s,ft,typeof c=="function"?c:Os)}function vC(s,i,l,c,m){if(Ad(s))throw Error(r(485));if(s=i.action,s!==null){var g={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};W.T!==null?l(!0):g.isTransition=!1,c(g),l=i.pending,l===null?(g.next=i.pending=g,o0(i,g)):(g.next=l.next,i.pending=l.next=g)}}function o0(s,i){var l=i.action,c=i.payload,m=s.state;if(i.isTransition){var g=W.T,x={};W.T=x;try{var S=l(m,c),P=W.S;P!==null&&P(x,S),l0(s,i,S)}catch(G){Jp(s,i,G)}finally{g!==null&&x.types!==null&&(g.types=x.types),W.T=g}}else try{g=l(m,c),l0(s,i,g)}catch(G){Jp(s,i,G)}}function l0(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){u0(s,i,c)},function(c){return Jp(s,i,c)}):u0(s,i,l)}function u0(s,i,l){i.status="fulfilled",i.value=l,c0(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,o0(s,l)))}function Jp(s,i,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,c0(i),i=i.next;while(i!==c)}s.action=null}function c0(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function h0(s,i){return i}function d0(s,i){if(Ze){var l=vt.formState;if(l!==null){e:{var c=Pe;if(Ze){if(_t){t:{for(var m=_t,g=mr;m.nodeType!==8;){if(!g){m=null;break t}if(m=gr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){_t=gr(m.nextSibling),c=m.data==="F!";break e}}_i(c)}c=!1}c&&(i=l[0])}}return l=In(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h0,lastRenderedState:i},l.queue=c,l=D0.bind(null,Pe,c),c.dispatch=l,c=Xp(!1),g=sg.bind(null,Pe,!1,c.queue),c=In(),m={state:i,dispatch:null,action:s,pending:null},c.queue=m,l=vC.bind(null,Pe,m,g,l),m.dispatch=l,c.memoizedState=s,[i,l,!1]}function f0(s){var i=Ut();return m0(i,ft,s)}function m0(s,i,l){if(i=Zp(s,i,h0)[0],s=wd(Os)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Wu(i)}catch(x){throw x===nl?fd:x}else c=i;i=Ut();var m=i.queue,g=m.dispatch;return l!==i.memoizedState&&(Pe.flags|=2048,ol(9,{destroy:void 0},_C.bind(null,m,l),null)),[c,g,s]}function _C(s,i){s.action=i}function p0(s){var i=Ut(),l=ft;if(l!==null)return m0(i,l,s);Ut(),i=i.memoizedState,l=Ut();var c=l.queue.dispatch;return l.memoizedState=s,[i,c,!1]}function ol(s,i,l,c){return s={tag:s,create:l,deps:c,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=xd(),Pe.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,i.lastEffect=s),s}function g0(){return Ut().memoizedState}function Td(s,i,l,c){var m=In();Pe.flags|=s,m.memoizedState=ol(1|i,{destroy:void 0},l,c===void 0?null:c)}function Sd(s,i,l,c){var m=Ut();c=c===void 0?null:c;var g=m.memoizedState.inst;ft!==null&&c!==null&&qp(c,ft.memoizedState.deps)?m.memoizedState=ol(i,g,l,c):(Pe.flags|=s,m.memoizedState=ol(1|i,g,l,c))}function y0(s,i){Td(8390656,8,s,i)}function Wp(s,i){Sd(2048,8,s,i)}function bC(s){Pe.flags|=4;var i=Pe.updateQueue;if(i===null)i=xd(),Pe.updateQueue=i,i.events=[s];else{var l=i.events;l===null?i.events=[s]:l.push(s)}}function v0(s){var i=Ut().memoizedState;return bC({ref:i,nextImpl:s}),function(){if((rt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function _0(s,i){return Sd(4,2,s,i)}function b0(s,i){return Sd(4,4,s,i)}function x0(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function E0(s,i,l){l=l!=null?l.concat([s]):null,Sd(4,4,x0.bind(null,i,s),l)}function eg(){}function w0(s,i){var l=Ut();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&qp(i,c[1])?c[0]:(l.memoizedState=[s,i],s)}function T0(s,i){var l=Ut();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&qp(i,c[1]))return c[0];if(c=s(),Ua){ir(!0);try{s()}finally{ir(!1)}}return l.memoizedState=[c,i],c}function tg(s,i,l){return l===void 0||(Ds&1073741824)!==0&&($e&261930)===0?s.memoizedState=i:(s.memoizedState=l,s=Sx(),Pe.lanes|=s,Ri|=s,l)}function S0(s,i,l,c){return Hn(l,i)?l:sl.current!==null?(s=tg(s,l,c),Hn(s,i)||(Zt=!0),s):(Ds&42)===0||(Ds&1073741824)!==0&&($e&261930)===0?(Zt=!0,s.memoizedState=l):(s=Sx(),Pe.lanes|=s,Ri|=s,i)}function A0(s,i,l,c,m){var g=he.p;he.p=g!==0&&8>g?g:8;var x=W.T,S={};W.T=S,sg(s,!1,i,l);try{var P=m(),G=W.S;if(G!==null&&G(S,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var re=pC(P,c);ec(s,i,re,Xn(s))}else ec(s,i,c,Xn(s))}catch(oe){ec(s,i,{then:function(){},status:"rejected",reason:oe},Xn())}finally{he.p=g,x!==null&&S.types!==null&&(x.types=S.types),W.T=x}}function xC(){}function ng(s,i,l,c){if(s.tag!==5)throw Error(r(476));var m=I0(s).queue;A0(s,m,i,le,l===null?xC:function(){return R0(s),l(c)})}function I0(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:le},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function R0(s){var i=I0(s);i.next===null&&(i=s.alternate.memoizedState),ec(s,i.next.queue,{},Xn())}function rg(){return mn(yc)}function N0(){return Ut().memoizedState}function C0(){return Ut().memoizedState}function EC(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Xn();s=Ei(l);var c=wi(i,s,l);c!==null&&(Un(c,i,l),Zu(c,i,l)),i={cache:Op()},s.payload=i;return}i=i.return}}function wC(s,i,l){var c=Xn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ad(s)?O0(i,l):(l=xp(s,i,l,c),l!==null&&(Un(l,s,c),k0(l,i,c)))}function D0(s,i,l){var c=Xn();ec(s,i,l,c)}function ec(s,i,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ad(s))O0(i,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var x=i.lastRenderedState,S=g(x,l);if(m.hasEagerState=!0,m.eagerState=S,Hn(S,x))return ad(s,i,m,0),vt===null&&id(),!1}catch{}if(l=xp(s,i,m,c),l!==null)return Un(l,s,c),k0(l,i,c),!0}return!1}function sg(s,i,l,c){if(c={lane:2,revertLane:Mg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ad(s)){if(i)throw Error(r(479))}else i=xp(s,l,c,2),i!==null&&Un(i,s,2)}function Ad(s){var i=s.alternate;return s===Pe||i!==null&&i===Pe}function O0(s,i){il=_d=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function k0(s,i,l){if((l&4194048)!==0){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,Eu(s,l)}}var tc={readContext:mn,use:Ed,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};tc.useEffectEvent=Dt;var P0={readContext:mn,use:Ed,useCallback:function(s,i){return In().memoizedState=[s,i===void 0?null:i],s},useContext:mn,useEffect:y0,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,Td(4194308,4,x0.bind(null,i,s),l)},useLayoutEffect:function(s,i){return Td(4194308,4,s,i)},useInsertionEffect:function(s,i){Td(4,2,s,i)},useMemo:function(s,i){var l=In();i=i===void 0?null:i;var c=s();if(Ua){ir(!0);try{s()}finally{ir(!1)}}return l.memoizedState=[c,i],c},useReducer:function(s,i,l){var c=In();if(l!==void 0){var m=l(i);if(Ua){ir(!0);try{l(i)}finally{ir(!1)}}}else m=i;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=wC.bind(null,Pe,s),[c.memoizedState,s]},useRef:function(s){var i=In();return s={current:s},i.memoizedState=s},useState:function(s){s=Xp(s);var i=s.queue,l=D0.bind(null,Pe,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:eg,useDeferredValue:function(s,i){var l=In();return tg(l,s,i)},useTransition:function(){var s=Xp(!1);return s=A0.bind(null,Pe,s.queue,!0,!1),In().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var c=Pe,m=In();if(Ze){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),vt===null)throw Error(r(349));($e&127)!==0||t0(c,i,l)}m.memoizedState=l;var g={value:l,getSnapshot:i};return m.queue=g,y0(r0.bind(null,c,g,s),[s]),c.flags|=2048,ol(9,{destroy:void 0},n0.bind(null,c,g,l,i),null),l},useId:function(){var s=In(),i=vt.identifierPrefix;if(Ze){var l=us,c=ls;l=(c&~(1<<32-Vt(c)-1)).toString(32)+l,i="_"+i+"R_"+l,l=bd++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=gC++,i="_"+i+"r_"+l.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:rg,useFormState:d0,useActionState:d0,useOptimistic:function(s){var i=In();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=sg.bind(null,Pe,!0,l),l.dispatch=i,[s,i]},useMemoCache:Qp,useCacheRefresh:function(){return In().memoizedState=EC.bind(null,Pe)},useEffectEvent:function(s){var i=In(),l={impl:s};return i.memoizedState=l,function(){if((rt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},ig={readContext:mn,use:Ed,useCallback:w0,useContext:mn,useEffect:Wp,useImperativeHandle:E0,useInsertionEffect:_0,useLayoutEffect:b0,useMemo:T0,useReducer:wd,useRef:g0,useState:function(){return wd(Os)},useDebugValue:eg,useDeferredValue:function(s,i){var l=Ut();return S0(l,ft.memoizedState,s,i)},useTransition:function(){var s=wd(Os)[0],i=Ut().memoizedState;return[typeof s=="boolean"?s:Wu(s),i]},useSyncExternalStore:e0,useId:N0,useHostTransitionStatus:rg,useFormState:f0,useActionState:f0,useOptimistic:function(s,i){var l=Ut();return a0(l,ft,s,i)},useMemoCache:Qp,useCacheRefresh:C0};ig.useEffectEvent=v0;var j0={readContext:mn,use:Ed,useCallback:w0,useContext:mn,useEffect:Wp,useImperativeHandle:E0,useInsertionEffect:_0,useLayoutEffect:b0,useMemo:T0,useReducer:Yp,useRef:g0,useState:function(){return Yp(Os)},useDebugValue:eg,useDeferredValue:function(s,i){var l=Ut();return ft===null?tg(l,s,i):S0(l,ft.memoizedState,s,i)},useTransition:function(){var s=Yp(Os)[0],i=Ut().memoizedState;return[typeof s=="boolean"?s:Wu(s),i]},useSyncExternalStore:e0,useId:N0,useHostTransitionStatus:rg,useFormState:p0,useActionState:p0,useOptimistic:function(s,i){var l=Ut();return ft!==null?a0(l,ft,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Qp,useCacheRefresh:C0};j0.useEffectEvent=v0;function ag(s,i,l,c){i=s.memoizedState,l=l(c,i),l=l==null?i:b({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var og={enqueueSetState:function(s,i,l){s=s._reactInternals;var c=Xn(),m=Ei(c);m.payload=i,l!=null&&(m.callback=l),i=wi(s,m,c),i!==null&&(Un(i,s,c),Zu(i,s,c))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var c=Xn(),m=Ei(c);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=wi(s,m,c),i!==null&&(Un(i,s,c),Zu(i,s,c))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Xn(),c=Ei(l);c.tag=2,i!=null&&(c.callback=i),i=wi(s,c,l),i!==null&&(Un(i,s,l),Zu(i,s,l))}};function M0(s,i,l,c,m,g,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,x):i.prototype&&i.prototype.isPureReactComponent?!Fu(l,c)||!Fu(m,g):!0}function V0(s,i,l,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==s&&og.enqueueReplaceState(i,i.state,null)}function Fa(s,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(s=s.defaultProps){l===i&&(l=b({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}function z0(s){sd(s)}function L0(s){console.error(s)}function U0(s){sd(s)}function Id(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function F0(s,i,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function lg(s,i,l){return l=Ei(l),l.tag=3,l.payload={element:null},l.callback=function(){Id(s,i)},l}function B0(s){return s=Ei(s),s.tag=3,s}function q0(s,i,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;s.payload=function(){return m(g)},s.callback=function(){F0(i,l,c)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){F0(i,l,c),typeof m!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function TC(s,i,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&Wo(i,l,m,!0),l=Kn.current,l!==null){switch(l.tag){case 31:case 13:return pr===null?Ld():l.alternate===null&&Ot===0&&(Ot=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===md?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),kg(s,c,m)),!1;case 22:return l.flags|=65536,c===md?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),kg(s,c,m)),!1}throw Error(r(435,l.tag))}return kg(s,c,m),Ld(),!1}if(Ze)return i=Kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==Ip&&(s=Error(r(422),{cause:c}),$u(hr(s,l)))):(c!==Ip&&(i=Error(r(423),{cause:c}),$u(hr(i,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=hr(c,l),m=lg(s.stateNode,c,m),zp(s,m),Ot!==4&&(Ot=2)),!1;var g=Error(r(520),{cause:c});if(g=hr(g,l),uc===null?uc=[g]:uc.push(g),Ot!==4&&(Ot=2),i===null)return!0;c=hr(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=lg(l.stateNode,c,s),zp(l,s),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ni===null||!Ni.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=B0(m),q0(m,s,l,c),zp(l,m),!1}l=l.return}while(l!==null);return!1}var ug=Error(r(461)),Zt=!1;function pn(s,i,l,c){i.child=s===null?Kb(i,null,l,c):La(i,s.child,l,c)}function $0(s,i,l,c,m){l=l.render;var g=i.ref;if("ref"in c){var x={};for(var S in c)S!=="ref"&&(x[S]=c[S])}else x=c;return ja(i),c=$p(s,i,l,x,g,m),S=Hp(),s!==null&&!Zt?(Gp(s,i,m),ks(s,i,m)):(Ze&&S&&Sp(i),i.flags|=1,pn(s,i,c,m),i.child)}function H0(s,i,l,c,m){if(s===null){var g=l.type;return typeof g=="function"&&!Ep(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,G0(s,i,g,c,m)):(s=ld(l.type,null,c,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(g=s.child,!yg(s,m)){var x=g.memoizedProps;if(l=l.compare,l=l!==null?l:Fu,l(x,c)&&s.ref===i.ref)return ks(s,i,m)}return i.flags|=1,s=Is(g,c),s.ref=i.ref,s.return=i,i.child=s}function G0(s,i,l,c,m){if(s!==null){var g=s.memoizedProps;if(Fu(g,c)&&s.ref===i.ref)if(Zt=!1,i.pendingProps=c=g,yg(s,m))(s.flags&131072)!==0&&(Zt=!0);else return i.lanes=s.lanes,ks(s,i,m)}return cg(s,i,l,c,m)}function K0(s,i,l,c){var m=c.children,g=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,s!==null){for(c=i.child=s.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,i.child=null;return Q0(s,i,g,l,c)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&dd(i,g!==null?g.cachePool:null),g!==null?Yb(i,g):Up(),Xb(i);else return c=i.lanes=536870912,Q0(s,i,g!==null?g.baseLanes|l:l,l,c)}else g!==null?(dd(i,g.cachePool),Yb(i,g),Si(),i.memoizedState=null):(s!==null&&dd(i,null),Up(),Si());return pn(s,i,m,l),i.child}function nc(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Q0(s,i,l,c,m){var g=Pp();return g=g===null?null:{parent:Kt._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},s!==null&&dd(i,null),Up(),Xb(i),s!==null&&Wo(s,i,c,!0),i.childLanes=m,null}function Rd(s,i){return i=Cd({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function Z0(s,i,l){return La(i,s.child,null,l),s=Rd(i,i.pendingProps),s.flags|=2,Qn(i),i.memoizedState=null,s}function SC(s,i,l){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Ze){if(c.mode==="hidden")return s=Rd(i,c),i.lanes=536870912,nc(null,s);if(Bp(i),(s=_t)?(s=oE(s,mr),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:yi!==null?{id:ls,overflow:us}:null,retryLane:536870912,hydrationErrors:null},l=Ob(s),l.return=i,i.child=l,fn=i,_t=null)):s=null,s===null)throw _i(i);return i.lanes=536870912,null}return Rd(i,c)}var g=s.memoizedState;if(g!==null){var x=g.dehydrated;if(Bp(i),m)if(i.flags&256)i.flags&=-257,i=Z0(s,i,l);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(Zt||Wo(s,i,l,!1),m=(l&s.childLanes)!==0,Zt||m){if(c=vt,c!==null&&(x=wu(c,l),x!==0&&x!==g.retryLane))throw g.retryLane=x,Da(s,x),Un(c,s,x),ug;Ld(),i=Z0(s,i,l)}else s=g.treeContext,_t=gr(x.nextSibling),fn=i,Ze=!0,vi=null,mr=!1,s!==null&&jb(i,s),i=Rd(i,c),i.flags|=4096;return i}return s=Is(s.child,{mode:c.mode,children:c.children}),s.ref=i.ref,i.child=s,s.return=i,s}function Nd(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function cg(s,i,l,c,m){return ja(i),l=$p(s,i,l,c,void 0,m),c=Hp(),s!==null&&!Zt?(Gp(s,i,m),ks(s,i,m)):(Ze&&c&&Sp(i),i.flags|=1,pn(s,i,l,m),i.child)}function Y0(s,i,l,c,m,g){return ja(i),i.updateQueue=null,l=Wb(i,c,l,m),Jb(s),c=Hp(),s!==null&&!Zt?(Gp(s,i,g),ks(s,i,g)):(Ze&&c&&Sp(i),i.flags|=1,pn(s,i,l,g),i.child)}function X0(s,i,l,c,m){if(ja(i),i.stateNode===null){var g=Zo,x=l.contextType;typeof x=="object"&&x!==null&&(g=mn(x)),g=new l(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=og,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Mp(i),x=l.contextType,g.context=typeof x=="object"&&x!==null?mn(x):Zo,g.state=i.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(ag(i,l,x,c),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&og.enqueueReplaceState(g,g.state,null),Xu(i,c,g,m),Yu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(s===null){g=i.stateNode;var S=i.memoizedProps,P=Fa(l,S);g.props=P;var G=g.context,re=l.contextType;x=Zo,typeof re=="object"&&re!==null&&(x=mn(re));var oe=l.getDerivedStateFromProps;re=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||G!==x)&&V0(i,g,c,x),xi=!1;var Z=i.memoizedState;g.state=Z,Xu(i,c,g,m),Yu(),G=i.memoizedState,S||Z!==G||xi?(typeof oe=="function"&&(ag(i,l,oe,c),G=i.memoizedState),(P=xi||M0(i,l,P,c,Z,G,x))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=G),g.props=c,g.state=G,g.context=x,c=P):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Vp(s,i),x=i.memoizedProps,re=Fa(l,x),g.props=re,oe=i.pendingProps,Z=g.context,G=l.contextType,P=Zo,typeof G=="object"&&G!==null&&(P=mn(G)),S=l.getDerivedStateFromProps,(G=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==oe||Z!==P)&&V0(i,g,c,P),xi=!1,Z=i.memoizedState,g.state=Z,Xu(i,c,g,m),Yu();var ee=i.memoizedState;x!==oe||Z!==ee||xi||s!==null&&s.dependencies!==null&&cd(s.dependencies)?(typeof S=="function"&&(ag(i,l,S,c),ee=i.memoizedState),(re=xi||M0(i,l,re,c,Z,ee,P)||s!==null&&s.dependencies!==null&&cd(s.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ee,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ee,P)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===s.memoizedProps&&Z===s.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Z===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ee),g.props=c,g.state=ee,g.context=P,c=re):(typeof g.componentDidUpdate!="function"||x===s.memoizedProps&&Z===s.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Z===s.memoizedState||(i.flags|=1024),c=!1)}return g=c,Nd(s,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,s!==null&&c?(i.child=La(i,s.child,null,m),i.child=La(i,null,l,m)):pn(s,i,l,m),i.memoizedState=g.state,s=i.child):s=ks(s,i,m),s}function J0(s,i,l,c){return ka(),i.flags|=256,pn(s,i,l,c),i.child}var hg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dg(s){return{baseLanes:s,cachePool:Fb()}}function fg(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Yn),s}function W0(s,i,l){var c=i.pendingProps,m=!1,g=(i.flags&128)!==0,x;if((x=g)||(x=s!==null&&s.memoizedState===null?!1:(Lt.current&2)!==0),x&&(m=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,s===null){if(Ze){if(m?Ti(i):Si(),(s=_t)?(s=oE(s,mr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:yi!==null?{id:ls,overflow:us}:null,retryLane:536870912,hydrationErrors:null},l=Ob(s),l.return=i,i.child=l,fn=i,_t=null)):s=null,s===null)throw _i(i);return Zg(s)?i.lanes=32:i.lanes=536870912,null}var S=c.children;return c=c.fallback,m?(Si(),m=i.mode,S=Cd({mode:"hidden",children:S},m),c=Oa(c,m,l,null),S.return=i,c.return=i,S.sibling=c,i.child=S,c=i.child,c.memoizedState=dg(l),c.childLanes=fg(s,x,l),i.memoizedState=hg,nc(null,c)):(Ti(i),mg(i,S))}var P=s.memoizedState;if(P!==null&&(S=P.dehydrated,S!==null)){if(g)i.flags&256?(Ti(i),i.flags&=-257,i=pg(s,i,l)):i.memoizedState!==null?(Si(),i.child=s.child,i.flags|=128,i=null):(Si(),S=c.fallback,m=i.mode,c=Cd({mode:"visible",children:c.children},m),S=Oa(S,m,l,null),S.flags|=2,c.return=i,S.return=i,c.sibling=S,i.child=c,La(i,s.child,null,l),c=i.child,c.memoizedState=dg(l),c.childLanes=fg(s,x,l),i.memoizedState=hg,i=nc(null,c));else if(Ti(i),Zg(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var G=x.dgst;x=G,c=Error(r(419)),c.stack="",c.digest=x,$u({value:c,source:null,stack:null}),i=pg(s,i,l)}else if(Zt||Wo(s,i,l,!1),x=(l&s.childLanes)!==0,Zt||x){if(x=vt,x!==null&&(c=wu(x,l),c!==0&&c!==P.retryLane))throw P.retryLane=c,Da(s,c),Un(x,s,c),ug;Qg(S)||Ld(),i=pg(s,i,l)}else Qg(S)?(i.flags|=192,i.child=s.child,i=null):(s=P.treeContext,_t=gr(S.nextSibling),fn=i,Ze=!0,vi=null,mr=!1,s!==null&&jb(i,s),i=mg(i,c.children),i.flags|=4096);return i}return m?(Si(),S=c.fallback,m=i.mode,P=s.child,G=P.sibling,c=Is(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,G!==null?S=Is(G,S):(S=Oa(S,m,l,null),S.flags|=2),S.return=i,c.return=i,c.sibling=S,i.child=c,nc(null,c),c=i.child,S=s.child.memoizedState,S===null?S=dg(l):(m=S.cachePool,m!==null?(P=Kt._currentValue,m=m.parent!==P?{parent:P,pool:P}:m):m=Fb(),S={baseLanes:S.baseLanes|l,cachePool:m}),c.memoizedState=S,c.childLanes=fg(s,x,l),i.memoizedState=hg,nc(s.child,c)):(Ti(i),l=s.child,s=l.sibling,l=Is(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,s!==null&&(x=i.deletions,x===null?(i.deletions=[s],i.flags|=16):x.push(s)),i.child=l,i.memoizedState=null,l)}function mg(s,i){return i=Cd({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Cd(s,i){return s=Gn(22,s,null,i),s.lanes=0,s}function pg(s,i,l){return La(i,s.child,null,l),s=mg(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function ex(s,i,l){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),Cp(s.return,i,l)}function gg(s,i,l,c,m,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:g}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=l,x.tailMode=m,x.treeForkCount=g)}function tx(s,i,l){var c=i.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var x=Lt.current,S=(x&2)!==0;if(S?(x=x&1|2,i.flags|=128):x&=1,ae(Lt,x),pn(s,i,c,l),c=Ze?qu:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ex(s,l,i);else if(s.tag===19)ex(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(l=i.child,m=null;l!==null;)s=l.alternate,s!==null&&vd(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),gg(i,!1,m,l,g,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&vd(s)===null){i.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}gg(i,!0,l,null,g,c);break;case"together":gg(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function ks(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Ri|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Wo(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=Is(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Is(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function yg(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&cd(s)))}function AC(s,i,l){switch(i.tag){case 3:Ct(i,i.stateNode.containerInfo),bi(i,Kt,s.memoizedState.cache),ka();break;case 27:case 5:sr(i);break;case 4:Ct(i,i.stateNode.containerInfo);break;case 10:bi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Bp(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ti(i),i.flags|=128,null):(l&i.child.childLanes)!==0?W0(s,i,l):(Ti(i),s=ks(s,i,l),s!==null?s.sibling:null);Ti(i);break;case 19:var m=(s.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(Wo(s,i,l,!1),c=(l&i.childLanes)!==0),m){if(c)return tx(s,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ae(Lt,Lt.current),c)break;return null;case 22:return i.lanes=0,K0(s,i,l,i.pendingProps);case 24:bi(i,Kt,s.memoizedState.cache)}return ks(s,i,l)}function nx(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Zt=!0;else{if(!yg(s,l)&&(i.flags&128)===0)return Zt=!1,AC(s,i,l);Zt=(s.flags&131072)!==0}else Zt=!1,Ze&&(i.flags&1048576)!==0&&Pb(i,qu,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(s=Va(i.elementType),i.type=s,typeof s=="function")Ep(s)?(c=Fa(s,c),i.tag=1,i=X0(null,i,s,c,l)):(i.tag=0,i=cg(null,i,s,c,l));else{if(s!=null){var m=s.$$typeof;if(m===Y){i.tag=11,i=$0(null,i,s,c,l);break e}else if(m===R){i.tag=14,i=H0(null,i,s,c,l);break e}}throw i=Qe(s)||s,Error(r(306,i,""))}}return i;case 0:return cg(s,i,i.type,i.pendingProps,l);case 1:return c=i.type,m=Fa(c,i.pendingProps),X0(s,i,c,m,l);case 3:e:{if(Ct(i,i.stateNode.containerInfo),s===null)throw Error(r(387));c=i.pendingProps;var g=i.memoizedState;m=g.element,Vp(s,i),Xu(i,c,null,l);var x=i.memoizedState;if(c=x.cache,bi(i,Kt,c),c!==g.cache&&Dp(i,[Kt],l,!0),Yu(),c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=J0(s,i,c,l);break e}else if(c!==m){m=hr(Error(r(424)),i),$u(m),i=J0(s,i,c,l);break e}else for(s=i.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,_t=gr(s.firstChild),fn=i,Ze=!0,vi=null,mr=!0,l=Kb(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ka(),c===m){i=ks(s,i,l);break e}pn(s,i,c,l)}i=i.child}return i;case 26:return Nd(s,i),s===null?(l=fE(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ze||(l=i.type,s=i.pendingProps,c=Gd(Re.current).createElement(l),c[$t]=i,c[on]=s,gn(c,l,s),Ht(c),i.stateNode=c):i.memoizedState=fE(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return sr(i),s===null&&Ze&&(c=i.stateNode=cE(i.type,i.pendingProps,Re.current),fn=i,mr=!0,m=_t,ki(i.type)?(Yg=m,_t=gr(c.firstChild)):_t=m),pn(s,i,i.pendingProps.children,l),Nd(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Ze&&((m=c=_t)&&(c=n2(c,i.type,i.pendingProps,mr),c!==null?(i.stateNode=c,fn=i,_t=gr(c.firstChild),mr=!1,m=!0):m=!1),m||_i(i)),sr(i),m=i.type,g=i.pendingProps,x=s!==null?s.memoizedProps:null,c=g.children,Hg(m,g)?c=null:x!==null&&Hg(m,x)&&(i.flags|=32),i.memoizedState!==null&&(m=$p(s,i,yC,null,null,l),yc._currentValue=m),Nd(s,i),pn(s,i,c,l),i.child;case 6:return s===null&&Ze&&((s=l=_t)&&(l=r2(l,i.pendingProps,mr),l!==null?(i.stateNode=l,fn=i,_t=null,s=!0):s=!1),s||_i(i)),null;case 13:return W0(s,i,l);case 4:return Ct(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=La(i,null,c,l):pn(s,i,c,l),i.child;case 11:return $0(s,i,i.type,i.pendingProps,l);case 7:return pn(s,i,i.pendingProps,l),i.child;case 8:return pn(s,i,i.pendingProps.children,l),i.child;case 12:return pn(s,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,bi(i,i.type,c.value),pn(s,i,c.children,l),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,ja(i),m=mn(m),c=c(m),i.flags|=1,pn(s,i,c,l),i.child;case 14:return H0(s,i,i.type,i.pendingProps,l);case 15:return G0(s,i,i.type,i.pendingProps,l);case 19:return tx(s,i,l);case 31:return SC(s,i,l);case 22:return K0(s,i,l,i.pendingProps);case 24:return ja(i),c=mn(Kt),s===null?(m=Pp(),m===null&&(m=vt,g=Op(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),i.memoizedState={parent:c,cache:m},Mp(i),bi(i,Kt,m)):((s.lanes&l)!==0&&(Vp(s,i),Xu(i,null,null,l),Yu()),m=s.memoizedState,g=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),bi(i,Kt,c)):(c=g.cache,bi(i,Kt,c),c!==m.cache&&Dp(i,[Kt],l,!0))),pn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ps(s){s.flags|=4}function vg(s,i,l,c,m){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(Nx())s.flags|=8192;else throw za=md,jp}else s.flags&=-16777217}function rx(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!vE(i))if(Nx())s.flags|=8192;else throw za=md,jp}function Dd(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Vh():536870912,s.lanes|=i,hl|=i)}function rc(s,i){if(!Ze)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function bt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(i)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,i}function IC(s,i,l){var c=i.pendingProps;switch(Ap(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(i),null;case 1:return bt(i),null;case 3:return l=i.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Cs(Kt),st(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Jo(i)?Ps(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rp())),bt(i),null;case 26:var m=i.type,g=i.memoizedState;return s===null?(Ps(i),g!==null?(bt(i),rx(i,g)):(bt(i),vg(i,m,null,c,l))):g?g!==s.memoizedState?(Ps(i),bt(i),rx(i,g)):(bt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==c&&Ps(i),bt(i),vg(i,m,s,c,l)),null;case 27:if(qr(i),l=Re.current,m=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&Ps(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return bt(i),null}s=ue.current,Jo(i)?Mb(i):(s=cE(m,c,l),i.stateNode=s,Ps(i))}return bt(i),null;case 5:if(qr(i),m=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&Ps(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return bt(i),null}if(g=ue.current,Jo(i))Mb(i);else{var x=Gd(Re.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?x.createElement(m,{is:c.is}):x.createElement(m)}}g[$t]=i,g[on]=c;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=g;e:switch(gn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ps(i)}}return bt(i),vg(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,l),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==c&&Ps(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(s=Re.current,Jo(i)){if(s=i.stateNode,l=i.memoizedProps,c=null,m=fn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[$t]=i,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Wx(s.nodeValue,l)),s||_i(i,!0)}else s=Gd(s).createTextNode(c),s[$t]=i,i.stateNode=s}return bt(i),null;case 31:if(l=i.memoizedState,s===null||s.memoizedState!==null){if(c=Jo(i),l!==null){if(s===null){if(!c)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[$t]=i}else ka(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),s=!1}else l=Rp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return i.flags&256?(Qn(i),i):(Qn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return bt(i),null;case 13:if(c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Jo(i),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[$t]=i}else ka(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),m=!1}else m=Rp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Qn(i),i):(Qn(i),null)}return Qn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=c!==null,s=s!==null&&s.memoizedState!==null,l&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),l!==s&&l&&(i.child.flags|=8192),Dd(i,i.updateQueue),bt(i),null);case 4:return st(),s===null&&Ug(i.stateNode.containerInfo),bt(i),null;case 10:return Cs(i.type),bt(i),null;case 19:if(Q(Lt),c=i.memoizedState,c===null)return bt(i),null;if(m=(i.flags&128)!==0,g=c.rendering,g===null)if(m)rc(c,!1);else{if(Ot!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(g=vd(s),g!==null){for(i.flags|=128,rc(c,!1),s=g.updateQueue,i.updateQueue=s,Dd(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)Db(l,s),l=l.sibling;return ae(Lt,Lt.current&1|2),Ze&&Rs(i,c.treeForkCount),i.child}s=s.sibling}c.tail!==null&&Sn()>Md&&(i.flags|=128,m=!0,rc(c,!1),i.lanes=4194304)}else{if(!m)if(s=vd(g),s!==null){if(i.flags|=128,m=!0,s=s.updateQueue,i.updateQueue=s,Dd(i,s),rc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Ze)return bt(i),null}else 2*Sn()-c.renderingStartTime>Md&&l!==536870912&&(i.flags|=128,m=!0,rc(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(s=c.last,s!==null?s.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=Sn(),s.sibling=null,l=Lt.current,ae(Lt,m?l&1|2:l&1),Ze&&Rs(i,c.treeForkCount),s):(bt(i),null);case 22:case 23:return Qn(i),Fp(),c=i.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(bt(i),i.subtreeFlags&6&&(i.flags|=8192)):bt(i),l=i.updateQueue,l!==null&&Dd(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),s!==null&&Q(Ma),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Cs(Kt),bt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function RC(s,i){switch(Ap(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Cs(Kt),st(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return qr(i),null;case 31:if(i.memoizedState!==null){if(Qn(i),i.alternate===null)throw Error(r(340));ka()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Qn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ka()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Q(Lt),null;case 4:return st(),null;case 10:return Cs(i.type),null;case 22:case 23:return Qn(i),Fp(),s!==null&&Q(Ma),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Cs(Kt),null;case 25:return null;default:return null}}function sx(s,i){switch(Ap(i),i.tag){case 3:Cs(Kt),st();break;case 26:case 27:case 5:qr(i);break;case 4:st();break;case 31:i.memoizedState!==null&&Qn(i);break;case 13:Qn(i);break;case 19:Q(Lt);break;case 10:Cs(i.type);break;case 22:case 23:Qn(i),Fp(),s!==null&&Q(Ma);break;case 24:Cs(Kt)}}function sc(s,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var g=l.create,x=l.inst;c=g(),x.destroy=c}l=l.next}while(l!==m)}}catch(S){ot(i,i.return,S)}}function Ai(s,i,l){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&s)===s){var x=c.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,m=i;var P=l,G=S;try{G()}catch(re){ot(m,P,re)}}}c=c.next}while(c!==g)}}catch(re){ot(i,i.return,re)}}function ix(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{Zb(i,l)}catch(c){ot(s,s.return,c)}}}function ax(s,i,l){l.props=Fa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){ot(s,i,c)}}function ic(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){ot(s,i,m)}}function cs(s,i){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){ot(s,i,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){ot(s,i,m)}else l.current=null}function ox(s){var i=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){ot(s,s.return,m)}}function _g(s,i,l){try{var c=s.stateNode;YC(c,s.type,l,i),c[on]=i}catch(m){ot(s,s.return,m)}}function lx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ki(s.type)||s.tag===4}function bg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||lx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ki(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function xg(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Dr));else if(c!==4&&(c===27&&ki(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(xg(s,i,l),s=s.sibling;s!==null;)xg(s,i,l),s=s.sibling}function Od(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(c!==4&&(c===27&&ki(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Od(s,i,l),s=s.sibling;s!==null;)Od(s,i,l),s=s.sibling}function ux(s){var i=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);gn(i,c,l),i[$t]=s,i[on]=l}catch(g){ot(s,s.return,g)}}var js=!1,Yt=!1,Eg=!1,cx=typeof WeakSet=="function"?WeakSet:Set,un=null;function NC(s,i){if(s=s.containerInfo,qg=Wd,s=Eb(s),pp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var x=0,S=-1,P=-1,G=0,re=0,oe=s,Z=null;t:for(;;){for(var ee;oe!==l||m!==0&&oe.nodeType!==3||(S=x+m),oe!==g||c!==0&&oe.nodeType!==3||(P=x+c),oe.nodeType===3&&(x+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)Z=oe,oe=ee;for(;;){if(oe===s)break t;if(Z===l&&++G===m&&(S=x),Z===g&&++re===c&&(P=x),(ee=oe.nextSibling)!==null)break;oe=Z,Z=oe.parentNode}oe=ee}l=S===-1||P===-1?null:{start:S,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for($g={focusedElem:s,selectionRange:l},Wd=!1,un=i;un!==null;)if(i=un,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,un=s;else for(;un!==null;){switch(i=un,g=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)m=s[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,l=i,m=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var ge=Fa(l.type,m);s=c.getSnapshotBeforeUpdate(ge,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ie){ot(l,l.return,Ie)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Kg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Kg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,un=s;break}un=i.return}}function hx(s,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Vs(s,l),c&4&&sc(5,l);break;case 1:if(Vs(s,l),c&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(x){ot(l,l.return,x)}else{var m=Fa(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(m,i,s.__reactInternalSnapshotBeforeUpdate)}catch(x){ot(l,l.return,x)}}c&64&&ix(l),c&512&&ic(l,l.return);break;case 3:if(Vs(s,l),c&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Zb(s,i)}catch(x){ot(l,l.return,x)}}break;case 27:i===null&&c&4&&ux(l);case 26:case 5:Vs(s,l),i===null&&c&4&&ox(l),c&512&&ic(l,l.return);break;case 12:Vs(s,l);break;case 31:Vs(s,l),c&4&&mx(s,l);break;case 13:Vs(s,l),c&4&&px(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=zC.bind(null,l),s2(s,l))));break;case 22:if(c=l.memoizedState!==null||js,!c){i=i!==null&&i.memoizedState!==null||Yt,m=js;var g=Yt;js=c,(Yt=i)&&!g?zs(s,l,(l.subtreeFlags&8772)!==0):Vs(s,l),js=m,Yt=g}break;case 30:break;default:Vs(s,l)}}function dx(s){var i=s.alternate;i!==null&&(s.alternate=null,dx(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&jo(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Et=null,Mn=!1;function Ms(s,i,l){for(l=l.child;l!==null;)fx(s,i,l),l=l.sibling}function fx(s,i,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Ir,l)}catch{}switch(l.tag){case 26:Yt||cs(l,i),Ms(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Yt||cs(l,i);var c=Et,m=Mn;ki(l.type)&&(Et=l.stateNode,Mn=!1),Ms(s,i,l),mc(l.stateNode),Et=c,Mn=m;break;case 5:Yt||cs(l,i);case 6:if(c=Et,m=Mn,Et=null,Ms(s,i,l),Et=c,Mn=m,Et!==null)if(Mn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(l.stateNode)}catch(g){ot(l,i,g)}else try{Et.removeChild(l.stateNode)}catch(g){ot(l,i,g)}break;case 18:Et!==null&&(Mn?(s=Et,iE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),_l(s)):iE(Et,l.stateNode));break;case 4:c=Et,m=Mn,Et=l.stateNode.containerInfo,Mn=!0,Ms(s,i,l),Et=c,Mn=m;break;case 0:case 11:case 14:case 15:Ai(2,l,i),Yt||Ai(4,l,i),Ms(s,i,l);break;case 1:Yt||(cs(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&ax(l,i,c)),Ms(s,i,l);break;case 21:Ms(s,i,l);break;case 22:Yt=(c=Yt)||l.memoizedState!==null,Ms(s,i,l),Yt=c;break;default:Ms(s,i,l)}}function mx(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{_l(s)}catch(l){ot(i,i.return,l)}}}function px(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{_l(s)}catch(l){ot(i,i.return,l)}}function CC(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new cx),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new cx),i;default:throw Error(r(435,s.tag))}}function kd(s,i){var l=CC(s);i.forEach(function(c){if(!l.has(c)){l.add(c);var m=LC.bind(null,s,c);c.then(m,m)}})}function Vn(s,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],g=s,x=i,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(ki(S.type)){Et=S.stateNode,Mn=!1;break e}break;case 5:Et=S.stateNode,Mn=!1;break e;case 3:case 4:Et=S.stateNode.containerInfo,Mn=!0;break e}S=S.return}if(Et===null)throw Error(r(160));fx(g,x,m),Et=null,Mn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)gx(i,s),i=i.sibling}var Vr=null;function gx(s,i){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Vn(i,s),zn(s),c&4&&(Ai(3,s,s.return),sc(3,s),Ai(5,s,s.return));break;case 1:Vn(i,s),zn(s),c&512&&(Yt||l===null||cs(l,l.return)),c&64&&js&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Vr;if(Vn(i,s),zn(s),c&512&&(Yt||l===null||cs(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Yr]||g[$t]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),gn(g,c,l),g[$t]=s,Ht(g),c=g;break e;case"link":var x=gE("link","href",m).get(c+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(g=x[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}g=m.createElement(c),gn(g,c,l),m.head.appendChild(g);break;case"meta":if(x=gE("meta","content",m).get(c+(l.content||""))){for(S=0;S<x.length;S++)if(g=x[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}g=m.createElement(c),gn(g,c,l),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[$t]=s,Ht(g),c=g}s.stateNode=c}else yE(m,s.type,s.stateNode);else s.stateNode=pE(m,c,s.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?yE(m,s.type,s.stateNode):pE(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&_g(s,s.memoizedProps,l.memoizedProps)}break;case 27:Vn(i,s),zn(s),c&512&&(Yt||l===null||cs(l,l.return)),l!==null&&c&4&&_g(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Vn(i,s),zn(s),c&512&&(Yt||l===null||cs(l,l.return)),s.flags&32){m=s.stateNode;try{jn(m,"")}catch(ge){ot(s,s.return,ge)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,_g(s,m,l!==null?l.memoizedProps:m)),c&1024&&(Eg=!0);break;case 6:if(Vn(i,s),zn(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(ge){ot(s,s.return,ge)}}break;case 3:if(Zd=null,m=Vr,Vr=Kd(i.containerInfo),Vn(i,s),Vr=m,zn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{_l(i.containerInfo)}catch(ge){ot(s,s.return,ge)}Eg&&(Eg=!1,yx(s));break;case 4:c=Vr,Vr=Kd(s.stateNode.containerInfo),Vn(i,s),zn(s),Vr=c;break;case 12:Vn(i,s),zn(s);break;case 31:Vn(i,s),zn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,kd(s,c)));break;case 13:Vn(i,s),zn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jd=Sn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,kd(s,c)));break;case 22:m=s.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,G=js,re=Yt;if(js=G||m,Yt=re||P,Vn(i,s),Yt=re,js=G,zn(s),c&8192)e:for(i=s.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(l===null||P||js||Yt||Ba(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){P=l=i;try{if(g=P.stateNode,m)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=P.stateNode;var oe=P.memoizedProps.style,Z=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ge){ot(P,P.return,ge)}}}else if(i.tag===6){if(l===null){P=i;try{P.stateNode.nodeValue=m?"":P.memoizedProps}catch(ge){ot(P,P.return,ge)}}}else if(i.tag===18){if(l===null){P=i;try{var ee=P.stateNode;m?aE(ee,!0):aE(P.stateNode,!1)}catch(ge){ot(P,P.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,kd(s,l))));break;case 19:Vn(i,s),zn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,kd(s,c)));break;case 30:break;case 21:break;default:Vn(i,s),zn(s)}}function zn(s){var i=s.flags;if(i&2){try{for(var l,c=s.return;c!==null;){if(lx(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,g=bg(s);Od(s,g,m);break;case 5:var x=l.stateNode;l.flags&32&&(jn(x,""),l.flags&=-33);var S=bg(s);Od(s,S,x);break;case 3:case 4:var P=l.stateNode.containerInfo,G=bg(s);xg(s,G,P);break;default:throw Error(r(161))}}catch(re){ot(s,s.return,re)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function yx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;yx(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Vs(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)hx(s,i.alternate,i),i=i.sibling}function Ba(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Ai(4,i,i.return),Ba(i);break;case 1:cs(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&ax(i,i.return,l),Ba(i);break;case 27:mc(i.stateNode);case 26:case 5:cs(i,i.return),Ba(i);break;case 22:i.memoizedState===null&&Ba(i);break;case 30:Ba(i);break;default:Ba(i)}s=s.sibling}}function zs(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=s,g=i,x=g.flags;switch(g.tag){case 0:case 11:case 15:zs(m,g,l),sc(4,g);break;case 1:if(zs(m,g,l),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){ot(c,c.return,G)}if(c=g,m=c.updateQueue,m!==null){var S=c.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)Qb(P[m],S)}catch(G){ot(c,c.return,G)}}l&&x&64&&ix(g),ic(g,g.return);break;case 27:ux(g);case 26:case 5:zs(m,g,l),l&&c===null&&x&4&&ox(g),ic(g,g.return);break;case 12:zs(m,g,l);break;case 31:zs(m,g,l),l&&x&4&&mx(m,g);break;case 13:zs(m,g,l),l&&x&4&&px(m,g);break;case 22:g.memoizedState===null&&zs(m,g,l),ic(g,g.return);break;case 30:break;default:zs(m,g,l)}i=i.sibling}}function wg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Hu(l))}function Tg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Hu(s))}function zr(s,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vx(s,i,l,c),i=i.sibling}function vx(s,i,l,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:zr(s,i,l,c),m&2048&&sc(9,i);break;case 1:zr(s,i,l,c);break;case 3:zr(s,i,l,c),m&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Hu(s)));break;case 12:if(m&2048){zr(s,i,l,c),s=i.stateNode;try{var g=i.memoizedProps,x=g.id,S=g.onPostCommit;typeof S=="function"&&S(x,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(P){ot(i,i.return,P)}}else zr(s,i,l,c);break;case 31:zr(s,i,l,c);break;case 13:zr(s,i,l,c);break;case 23:break;case 22:g=i.stateNode,x=i.alternate,i.memoizedState!==null?g._visibility&2?zr(s,i,l,c):ac(s,i):g._visibility&2?zr(s,i,l,c):(g._visibility|=2,ll(s,i,l,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&wg(x,i);break;case 24:zr(s,i,l,c),m&2048&&Tg(i.alternate,i);break;default:zr(s,i,l,c)}}function ll(s,i,l,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=s,x=i,S=l,P=c,G=x.flags;switch(x.tag){case 0:case 11:case 15:ll(g,x,S,P,m),sc(8,x);break;case 23:break;case 22:var re=x.stateNode;x.memoizedState!==null?re._visibility&2?ll(g,x,S,P,m):ac(g,x):(re._visibility|=2,ll(g,x,S,P,m)),m&&G&2048&&wg(x.alternate,x);break;case 24:ll(g,x,S,P,m),m&&G&2048&&Tg(x.alternate,x);break;default:ll(g,x,S,P,m)}i=i.sibling}}function ac(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,c=i,m=c.flags;switch(c.tag){case 22:ac(l,c),m&2048&&wg(c.alternate,c);break;case 24:ac(l,c),m&2048&&Tg(c.alternate,c);break;default:ac(l,c)}i=i.sibling}}var oc=8192;function ul(s,i,l){if(s.subtreeFlags&oc)for(s=s.child;s!==null;)_x(s,i,l),s=s.sibling}function _x(s,i,l){switch(s.tag){case 26:ul(s,i,l),s.flags&oc&&s.memoizedState!==null&&g2(l,Vr,s.memoizedState,s.memoizedProps);break;case 5:ul(s,i,l);break;case 3:case 4:var c=Vr;Vr=Kd(s.stateNode.containerInfo),ul(s,i,l),Vr=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=oc,oc=16777216,ul(s,i,l),oc=c):ul(s,i,l));break;default:ul(s,i,l)}}function bx(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function lc(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];un=c,Ex(c,s)}bx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)xx(s),s=s.sibling}function xx(s){switch(s.tag){case 0:case 11:case 15:lc(s),s.flags&2048&&Ai(9,s,s.return);break;case 3:lc(s);break;case 12:lc(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Pd(s)):lc(s);break;default:lc(s)}}function Pd(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];un=c,Ex(c,s)}bx(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Ai(8,i,i.return),Pd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Pd(i));break;default:Pd(i)}s=s.sibling}}function Ex(s,i){for(;un!==null;){var l=un;switch(l.tag){case 0:case 11:case 15:Ai(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Hu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,un=c;else e:for(l=s;un!==null;){c=un;var m=c.sibling,g=c.return;if(dx(c),c===l){un=null;break e}if(m!==null){m.return=g,un=m;break e}un=g}}}var DC={getCacheForType:function(s){var i=mn(Kt),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l},cacheSignal:function(){return mn(Kt).controller.signal}},OC=typeof WeakMap=="function"?WeakMap:Map,rt=0,vt=null,Ue=null,$e=0,at=0,Zn=null,Ii=!1,cl=!1,Sg=!1,Ls=0,Ot=0,Ri=0,qa=0,Ag=0,Yn=0,hl=0,uc=null,Ln=null,Ig=!1,jd=0,wx=0,Md=1/0,Vd=null,Ni=null,tn=0,Ci=null,dl=null,Us=0,Rg=0,Ng=null,Tx=null,cc=0,Cg=null;function Xn(){return(rt&2)!==0&&$e!==0?$e&-$e:W.T!==null?Mg():zh()}function Sx(){if(Yn===0)if(($e&536870912)===0||Ze){var s=ga;ga<<=1,(ga&3932160)===0&&(ga=262144),Yn=s}else Yn=536870912;return s=Kn.current,s!==null&&(s.flags|=32),Yn}function Un(s,i,l){(s===vt&&(at===2||at===9)||s.cancelPendingCommit!==null)&&(fl(s,0),Di(s,$e,Yn,!1)),ya(s,l),((rt&2)===0||s!==vt)&&(s===vt&&((rt&2)===0&&(qa|=l),Ot===4&&Di(s,$e,Yn,!1)),hs(s))}function Ax(s,i,l){if((rt&6)!==0)throw Error(r(327));var c=!l&&(i&127)===0&&(i&s.expiredLanes)===0||Rr(s,i),m=c?jC(s,i):Og(s,i,!0),g=c;do{if(m===0){cl&&!c&&Di(s,i,0,!1);break}else{if(l=s.current.alternate,g&&!kC(l)){m=Og(s,i,!1),g=!1;continue}if(m===2){if(g=i,s.errorRecoveryDisabledLanes&g)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var S=s;m=uc;var P=S.current.memoizedState.isDehydrated;if(P&&(fl(S,x).flags|=256),x=Og(S,x,!1),x!==2){if(Sg&&!P){S.errorRecoveryDisabledLanes|=g,qa|=g,m=4;break e}g=Ln,Ln=m,g!==null&&(Ln===null?Ln=g:Ln.push.apply(Ln,g))}m=x}if(g=!1,m!==2)continue}}if(m===1){fl(s,0),Di(s,i,0,!0);break}e:{switch(c=s,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Di(c,i,Yn,!Ii);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(m=jd+300-Sn(),10<m)){if(Di(c,i,Yn,!Ii),Kr(c,0,!0)!==0)break e;Us=i,c.timeoutHandle=rE(Ix.bind(null,c,l,Ln,Vd,Ig,i,Yn,qa,hl,Ii,g,"Throttled",-0,0),m);break e}Ix(c,l,Ln,Vd,Ig,i,Yn,qa,hl,Ii,g,null,-0,0)}}break}while(!0);hs(s)}function Ix(s,i,l,c,m,g,x,S,P,G,re,oe,Z,ee){if(s.timeoutHandle=-1,oe=i.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dr},_x(i,g,oe);var ge=(g&62914560)===g?jd-Sn():(g&4194048)===g?wx-Sn():0;if(ge=y2(oe,ge),ge!==null){Us=g,s.cancelPendingCommit=ge(jx.bind(null,s,i,g,l,c,m,x,S,P,re,oe,null,Z,ee)),Di(s,g,x,!G);return}}jx(s,i,g,l,c,m,x,S,P)}function kC(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],g=m.getSnapshot;m=m.value;try{if(!Hn(g(),m))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Di(s,i,l,c){i&=~Ag,i&=~qa,s.suspendedLanes|=i,s.pingedLanes&=~i,c&&(s.warmLanes|=i),c=s.expirationTimes;for(var m=i;0<m;){var g=31-Vt(m),x=1<<g;c[g]=-1,m&=~x}l!==0&&va(s,l,i)}function zd(){return(rt&6)===0?(hc(0),!1):!0}function Dg(){if(Ue!==null){if(at===0)var s=Ue.return;else s=Ue,Ns=Pa=null,Kp(s),rl=null,Ku=0,s=Ue;for(;s!==null;)sx(s.alternate,s),s=s.return;Ue=null}}function fl(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,WC(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Us=0,Dg(),vt=s,Ue=l=Is(s.current,null),$e=i,at=0,Zn=null,Ii=!1,cl=Rr(s,i),Sg=!1,hl=Yn=Ag=qa=Ri=Ot=0,Ln=uc=null,Ig=!1,(i&8)!==0&&(i|=i&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=i;0<c;){var m=31-Vt(c),g=1<<m;i|=s[m],c&=~g}return Ls=i,id(),l}function Rx(s,i){Pe=null,W.H=tc,i===nl||i===fd?(i=$b(),at=3):i===jp?(i=$b(),at=4):at=i===ug?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Zn=i,Ue===null&&(Ot=1,Id(s,hr(i,s.current)))}function Nx(){var s=Kn.current;return s===null?!0:($e&4194048)===$e?pr===null:($e&62914560)===$e||($e&536870912)!==0?s===pr:!1}function Cx(){var s=W.H;return W.H=tc,s===null?tc:s}function Dx(){var s=W.A;return W.A=DC,s}function Ld(){Ot=4,Ii||($e&4194048)!==$e&&Kn.current!==null||(cl=!0),(Ri&134217727)===0&&(qa&134217727)===0||vt===null||Di(vt,$e,Yn,!1)}function Og(s,i,l){var c=rt;rt|=2;var m=Cx(),g=Dx();(vt!==s||$e!==i)&&(Vd=null,fl(s,i)),i=!1;var x=Ot;e:do try{if(at!==0&&Ue!==null){var S=Ue,P=Zn;switch(at){case 8:Dg(),x=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(i=!0);var G=at;if(at=0,Zn=null,ml(s,S,P,G),l&&cl){x=0;break e}break;default:G=at,at=0,Zn=null,ml(s,S,P,G)}}PC(),x=Ot;break}catch(re){Rx(s,re)}while(!0);return i&&s.shellSuspendCounter++,Ns=Pa=null,rt=c,W.H=m,W.A=g,Ue===null&&(vt=null,$e=0,id()),x}function PC(){for(;Ue!==null;)Ox(Ue)}function jC(s,i){var l=rt;rt|=2;var c=Cx(),m=Dx();vt!==s||$e!==i?(Vd=null,Md=Sn()+500,fl(s,i)):cl=Rr(s,i);e:do try{if(at!==0&&Ue!==null){i=Ue;var g=Zn;t:switch(at){case 1:at=0,Zn=null,ml(s,i,g,1);break;case 2:case 9:if(Bb(g)){at=0,Zn=null,kx(i);break}i=function(){at!==2&&at!==9||vt!==s||(at=7),hs(s)},g.then(i,i);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Bb(g)?(at=0,Zn=null,kx(i)):(at=0,Zn=null,ml(s,i,g,7));break;case 5:var x=null;switch(Ue.tag){case 26:x=Ue.memoizedState;case 5:case 27:var S=Ue;if(x?vE(x):S.stateNode.complete){at=0,Zn=null;var P=S.sibling;if(P!==null)Ue=P;else{var G=S.return;G!==null?(Ue=G,Ud(G)):Ue=null}break t}}at=0,Zn=null,ml(s,i,g,5);break;case 6:at=0,Zn=null,ml(s,i,g,6);break;case 8:Dg(),Ot=6;break e;default:throw Error(r(462))}}MC();break}catch(re){Rx(s,re)}while(!0);return Ns=Pa=null,W.H=c,W.A=m,rt=l,Ue!==null?0:(vt=null,$e=0,id(),Ot)}function MC(){for(;Ue!==null&&!lp();)Ox(Ue)}function Ox(s){var i=nx(s.alternate,s,Ls);s.memoizedProps=s.pendingProps,i===null?Ud(s):Ue=i}function kx(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=Y0(l,i,i.pendingProps,i.type,void 0,$e);break;case 11:i=Y0(l,i,i.pendingProps,i.type.render,i.ref,$e);break;case 5:Kp(i);default:sx(l,i),i=Ue=Db(i,Ls),i=nx(l,i,Ls)}s.memoizedProps=s.pendingProps,i===null?Ud(s):Ue=i}function ml(s,i,l,c){Ns=Pa=null,Kp(i),rl=null,Ku=0;var m=i.return;try{if(TC(s,m,i,l,$e)){Ot=1,Id(s,hr(l,s.current)),Ue=null;return}}catch(g){if(m!==null)throw Ue=m,g;Ot=1,Id(s,hr(l,s.current)),Ue=null;return}i.flags&32768?(Ze||c===1?s=!0:cl||($e&536870912)!==0?s=!1:(Ii=s=!0,(c===2||c===9||c===3||c===6)&&(c=Kn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Px(i,s)):Ud(i)}function Ud(s){var i=s;do{if((i.flags&32768)!==0){Px(i,Ii);return}s=i.return;var l=IC(i.alternate,i,Ls);if(l!==null){Ue=l;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=s}while(i!==null);Ot===0&&(Ot=5)}function Px(s,i){do{var l=RC(s.alternate,s);if(l!==null){l.flags&=32767,Ue=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){Ue=s;return}Ue=s=l}while(s!==null);Ot=6,Ue=null}function jx(s,i,l,c,m,g,x,S,P){s.cancelPendingCommit=null;do Fd();while(tn!==0);if((rt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(g=i.lanes|i.childLanes,g|=bp,hp(s,l,g,x,S,P),s===vt&&(Ue=vt=null,$e=0),dl=i,Ci=s,Us=l,Rg=g,Ng=m,Tx=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,UC(oi,function(){return Ux(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,m=he.p,he.p=2,x=rt,rt|=4;try{NC(s,i,l)}finally{rt=x,he.p=m,W.T=c}}tn=1,Mx(),Vx(),zx()}}function Mx(){if(tn===1){tn=0;var s=Ci,i=dl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var c=he.p;he.p=2;var m=rt;rt|=4;try{gx(i,s);var g=$g,x=Eb(s.containerInfo),S=g.focusedElem,P=g.selectionRange;if(x!==S&&S&&S.ownerDocument&&xb(S.ownerDocument.documentElement,S)){if(P!==null&&pp(S)){var G=P.start,re=P.end;if(re===void 0&&(re=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(re,S.value.length);else{var oe=S.ownerDocument||document,Z=oe&&oe.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),ge=S.textContent.length,Ie=Math.min(P.start,ge),pt=P.end===void 0?Ie:Math.min(P.end,ge);!ee.extend&&Ie>pt&&(x=pt,pt=Ie,Ie=x);var B=bb(S,Ie),L=bb(S,pt);if(B&&L&&(ee.rangeCount!==1||ee.anchorNode!==B.node||ee.anchorOffset!==B.offset||ee.focusNode!==L.node||ee.focusOffset!==L.offset)){var H=oe.createRange();H.setStart(B.node,B.offset),ee.removeAllRanges(),Ie>pt?(ee.addRange(H),ee.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),ee.addRange(H))}}}}for(oe=[],ee=S;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var se=oe[S];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Wd=!!qg,$g=qg=null}finally{rt=m,he.p=c,W.T=l}}s.current=i,tn=2}}function Vx(){if(tn===2){tn=0;var s=Ci,i=dl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var c=he.p;he.p=2;var m=rt;rt|=4;try{hx(s,i.alternate,i)}finally{rt=m,he.p=c,W.T=l}}tn=3}}function zx(){if(tn===4||tn===3){tn=0,Dh();var s=Ci,i=dl,l=Us,c=Tx;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?tn=5:(tn=0,dl=Ci=null,Lx(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Ni=null),ws(l),i=i.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Ir,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=W.T,m=he.p,he.p=2,W.T=null;try{for(var g=s.onRecoverableError,x=0;x<c.length;x++){var S=c[x];g(S.value,{componentStack:S.stack})}}finally{W.T=i,he.p=m}}(Us&3)!==0&&Fd(),hs(s),m=s.pendingLanes,(l&261930)!==0&&(m&42)!==0?s===Cg?cc++:(cc=0,Cg=s):cc=0,hc(0)}}function Lx(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Hu(i)))}function Fd(){return Mx(),Vx(),zx(),Ux()}function Ux(){if(tn!==5)return!1;var s=Ci,i=Rg;Rg=0;var l=ws(Us),c=W.T,m=he.p;try{he.p=32>l?32:l,W.T=null,l=Ng,Ng=null;var g=Ci,x=Us;if(tn=0,dl=Ci=null,Us=0,(rt&6)!==0)throw Error(r(331));var S=rt;if(rt|=4,xx(g.current),vx(g,g.current,x,l),rt=S,hc(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Ir,g)}catch{}return!0}finally{he.p=m,W.T=c,Lx(s,i)}}function Fx(s,i,l){i=hr(l,i),i=lg(s.stateNode,i,2),s=wi(s,i,2),s!==null&&(ya(s,2),hs(s))}function ot(s,i,l){if(s.tag===3)Fx(s,s,l);else for(;i!==null;){if(i.tag===3){Fx(i,s,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ni===null||!Ni.has(c))){s=hr(l,s),l=B0(2),c=wi(i,l,2),c!==null&&(q0(l,c,i,s),ya(c,2),hs(c));break}}i=i.return}}function kg(s,i,l){var c=s.pingCache;if(c===null){c=s.pingCache=new OC;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(l)||(Sg=!0,m.add(l),s=VC.bind(null,s,i,l),i.then(s,s))}function VC(s,i,l){var c=s.pingCache;c!==null&&c.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,vt===s&&($e&l)===l&&(Ot===4||Ot===3&&($e&62914560)===$e&&300>Sn()-jd?(rt&2)===0&&fl(s,0):Ag|=l,hl===$e&&(hl=0)),hs(s)}function Bx(s,i){i===0&&(i=Vh()),s=Da(s,i),s!==null&&(ya(s,i),hs(s))}function zC(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),Bx(s,l)}function LC(s,i){var l=0;switch(s.tag){case 31:case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),Bx(s,l)}function UC(s,i){return en(s,i)}var Bd=null,pl=null,Pg=!1,qd=!1,jg=!1,Oi=0;function hs(s){s!==pl&&s.next===null&&(pl===null?Bd=pl=s:pl=pl.next=s),qd=!0,Pg||(Pg=!0,BC())}function hc(s,i){if(!jg&&qd){jg=!0;do for(var l=!1,c=Bd;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var x=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-Vt(42|s)+1)-1,g&=m&~(x&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,Gx(c,g))}else g=$e,g=Kr(c,c===vt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Rr(c,g)||(l=!0,Gx(c,g));c=c.next}while(l);jg=!1}}function FC(){qx()}function qx(){qd=Pg=!1;var s=0;Oi!==0&&JC()&&(s=Oi);for(var i=Sn(),l=null,c=Bd;c!==null;){var m=c.next,g=$x(c,i);g===0?(c.next=null,l===null?Bd=m:l.next=m,m===null&&(pl=l)):(l=c,(s!==0||(g&3)!==0)&&(qd=!0)),c=m}tn!==0&&tn!==5||hc(s),Oi!==0&&(Oi=0)}function $x(s,i){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var x=31-Vt(g),S=1<<x,P=m[x];P===-1?((S&l)===0||(S&c)!==0)&&(m[x]=cp(S,i)):P<=i&&(s.expiredLanes|=S),g&=~S}if(i=vt,l=$e,l=Kr(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===i&&(at===2||at===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&ai(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Rr(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(c!==null&&ai(c),ws(l)){case 2:case 8:l=xu;break;case 32:l=oi;break;case 268435456:l=Oh;break;default:l=oi}return c=Hx.bind(null,s),l=en(l,c),s.callbackPriority=i,s.callbackNode=l,i}return c!==null&&c!==null&&ai(c),s.callbackPriority=2,s.callbackNode=null,2}function Hx(s,i){if(tn!==0&&tn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Fd()&&s.callbackNode!==l)return null;var c=$e;return c=Kr(s,s===vt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Ax(s,c,i),$x(s,Sn()),s.callbackNode!=null&&s.callbackNode===l?Hx.bind(null,s):null)}function Gx(s,i){if(Fd())return null;Ax(s,i,!0)}function BC(){e2(function(){(rt&6)!==0?en(bu,FC):qx()})}function Mg(){if(Oi===0){var s=el;s===0&&(s=Hr,Hr<<=1,(Hr&261888)===0&&(Hr=256)),Oi=s}return Oi}function Kx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Lo(""+s)}function Qx(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function qC(s,i,l,c,m){if(i==="submit"&&l&&l.stateNode===m){var g=Kx((m[on]||null).action),x=c.submitter;x&&(i=(i=x[on]||null)?Kx(i.formAction):x.getAttribute("formAction"),i!==null&&(g=i,x=null));var S=new ss("action","action",null,c,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Oi!==0){var P=x?Qx(m,x):new FormData(m);ng(l,{pending:!0,data:P,method:m.method,action:g},null,P)}}else typeof g=="function"&&(S.preventDefault(),P=x?Qx(m,x):new FormData(m),ng(l,{pending:!0,data:P,method:m.method,action:g},g,P))},currentTarget:m}]})}}for(var Vg=0;Vg<_p.length;Vg++){var zg=_p[Vg],$C=zg.toLowerCase(),HC=zg[0].toUpperCase()+zg.slice(1);Mr($C,"on"+HC)}Mr(Sb,"onAnimationEnd"),Mr(Ab,"onAnimationIteration"),Mr(Ib,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(oC,"onTransitionRun"),Mr(lC,"onTransitionStart"),Mr(uC,"onTransitionCancel"),Mr(Rb,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dc));function Zx(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var x=c.length-1;0<=x;x--){var S=c[x],P=S.instance,G=S.currentTarget;if(S=S.listener,P!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=G;try{g(m)}catch(re){sd(re)}m.currentTarget=null,g=P}else for(x=0;x<c.length;x++){if(S=c[x],P=S.instance,G=S.currentTarget,S=S.listener,P!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=G;try{g(m)}catch(re){sd(re)}m.currentTarget=null,g=P}}}}function Fe(s,i){var l=i[Po];l===void 0&&(l=i[Po]=new Set);var c=s+"__bubble";l.has(c)||(Yx(i,s,2,!1),l.add(c))}function Lg(s,i,l){var c=0;i&&(c|=4),Yx(l,s,c,i)}var $d="_reactListening"+Math.random().toString(36).slice(2);function Ug(s){if(!s[$d]){s[$d]=!0,Tu.forEach(function(l){l!=="selectionchange"&&(GC.has(l)||Lg(l,!1,s),Lg(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[$d]||(i[$d]=!0,Lg("selectionchange",!1,i))}}function Yx(s,i,l,c){switch(SE(i)){case 2:var m=b2;break;case 8:m=x2;break;default:m=ty}l=m.bind(null,i,l,s),m=void 0,!wa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(i,l,{capture:!0,passive:m}):s.addEventListener(i,l,!0):m!==void 0?s.addEventListener(i,l,{passive:m}):s.addEventListener(i,l,!1)}function Fg(s,i,l,c,m){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var S=c.stateNode.containerInfo;if(S===m)break;if(x===4)for(x=c.return;x!==null;){var P=x.tag;if((P===3||P===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;S!==null;){if(x=Xr(S),x===null)return;if(P=x.tag,P===5||P===6||P===26||P===27){c=g=x;continue e}S=S.parentNode}}c=c.return}fi(function(){var G=g,re=or(l),oe=[];e:{var Z=Nb.get(s);if(Z!==void 0){var ee=ss,ge=s;switch(s){case"keypress":if(Sa(l)===0)break e;case"keydown":case"keyup":ee=td;break;case"focusin":ge="focus",ee=Ia;break;case"focusout":ge="blur",ee=Ia;break;case"beforeblur":case"afterblur":ee=Ia;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=_;break;case Sb:case Ab:case Ib:ee=Qh;break;case Rb:ee=I;break;case"scroll":case"scrollend":ee=Mu;break;case"wheel":ee=X;break;case"copy":case"cut":case"paste":ee=Zh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=As;break;case"toggle":case"beforetoggle":ee=ke}var Ie=(i&4)!==0,pt=!Ie&&(s==="scroll"||s==="scrollend"),B=Ie?Z!==null?Z+"Capture":null:Z;Ie=[];for(var L=G,H;L!==null;){var se=L;if(H=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||H===null||B===null||(se=Or(L,B),se!=null&&Ie.push(fc(L,se,H))),pt)break;L=L.return}0<Ie.length&&(Z=new ee(Z,ge,null,l,re),oe.push({event:Z,listeners:Ie}))}}if((i&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",Z&&l!==ku&&(ge=l.relatedTarget||l.fromElement)&&(Xr(ge)||ge[Zr]))break e;if((ee||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(ge=l.relatedTarget||l.toElement,ee=G,ge=ge?Xr(ge):null,ge!==null&&(pt=o(ge),Ie=ge.tag,ge!==pt||Ie!==5&&Ie!==27&&Ie!==6)&&(ge=null)):(ee=null,ge=G),ee!==ge)){if(Ie=Vu,se="onMouseLeave",B="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=As,se="onPointerLeave",B="onPointerEnter",L="pointer"),pt=ee==null?Z:qn(ee),H=ge==null?Z:qn(ge),Z=new Ie(se,L+"leave",ee,l,re),Z.target=pt,Z.relatedTarget=H,se=null,Xr(re)===G&&(Ie=new Ie(B,L+"enter",ge,l,re),Ie.target=H,Ie.relatedTarget=pt,se=Ie),pt=se,ee&&ge)t:{for(Ie=KC,B=ee,L=ge,H=0,se=B;se;se=Ie(se))H++;se=0;for(var Te=L;Te;Te=Ie(Te))se++;for(;0<H-se;)B=Ie(B),H--;for(;0<se-H;)L=Ie(L),se--;for(;H--;){if(B===L||L!==null&&B===L.alternate){Ie=B;break t}B=Ie(B),L=Ie(L)}Ie=null}else Ie=null;ee!==null&&Xx(oe,Z,ee,Ie,!1),ge!==null&&pt!==null&&Xx(oe,pt,ge,Ie,!0)}}e:{if(Z=G?qn(G):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var Je=mb;else if(db(Z))if(pb)Je=sC;else{Je=nC;var be=tC}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?G&&zo(G.elementType)&&(Je=mb):Je=rC;if(Je&&(Je=Je(s,G))){fb(oe,Je,l,re);break e}be&&be(s,Z,G),s==="focusout"&&G&&Z.type==="number"&&G.memoizedProps.value!=null&&Cu(Z,"number",Z.value)}switch(be=G?qn(G):window,s){case"focusin":(db(be)||be.contentEditable==="true")&&(Go=be,gp=G,Bu=null);break;case"focusout":Bu=gp=Go=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,wb(oe,l,re);break;case"selectionchange":if(aC)break;case"keydown":case"keyup":wb(oe,l,re)}var je;if(nt)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ho?Ra(s,l)&&(He="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(os&&l.locale!=="ko"&&(Ho||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ho&&(je=ju()):(rs=re,Pu="value"in rs?rs.value:rs.textContent,Ho=!0)),be=Hd(G,He),0<be.length&&(He=new as(He,s,null,l,re),oe.push({event:He,listeners:be}),je?He.data=je:(je=$o(l),je!==null&&(He.data=je)))),(je=ur?XN(s,l):JN(s,l))&&(He=Hd(G,"onBeforeInput"),0<He.length&&(be=new as("onBeforeInput","beforeinput",null,l,re),oe.push({event:be,listeners:He}),be.data=je)),qC(oe,s,G,l,re)}Zx(oe,i)})}function fc(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Hd(s,i){for(var l=i+"Capture",c=[];s!==null;){var m=s,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Or(s,l),m!=null&&c.unshift(fc(s,m,g)),m=Or(s,i),m!=null&&c.push(fc(s,m,g))),s.tag===3)return c;s=s.return}return[]}function KC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Xx(s,i,l,c,m){for(var g=i._reactName,x=[];l!==null&&l!==c;){var S=l,P=S.alternate,G=S.stateNode;if(S=S.tag,P!==null&&P===c)break;S!==5&&S!==26&&S!==27||G===null||(P=G,m?(G=Or(l,g),G!=null&&x.unshift(fc(l,G,P))):m||(G=Or(l,g),G!=null&&x.push(fc(l,G,P)))),l=l.return}x.length!==0&&s.push({event:i,listeners:x})}var QC=/\r\n?/g,ZC=/\u0000|\uFFFD/g;function Jx(s){return(typeof s=="string"?s:""+s).replace(QC,`
`).replace(ZC,"")}function Wx(s,i){return i=Jx(i),Jx(s)===i}function mt(s,i,l,c,m,g){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||jn(s,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&jn(s,""+c);break;case"className":$n(s,"class",c);break;case"tabIndex":$n(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(s,l,c);break;case"style":Ou(s,c,g);break;case"data":if(i!=="object"){$n(s,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Lo(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&mt(s,i,"name",m.name,m,null),mt(s,i,"formEncType",m.formEncType,m,null),mt(s,i,"formMethod",m.formMethod,m,null),mt(s,i,"formTarget",m.formTarget,m,null)):(mt(s,i,"encType",m.encType,m,null),mt(s,i,"method",m.method,m,null),mt(s,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Lo(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Dr);break;case"onScroll":c!=null&&Fe("scroll",s);break;case"onScrollEnd":c!=null&&Fe("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Lo(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Fe("beforetoggle",s),Fe("toggle",s),Mo(s,"popover",c);break;case"xlinkActuate":Gt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Gt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Gt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Gt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Gt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Gt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Mo(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Hh.get(l)||l,Mo(s,l,c))}}function Bg(s,i,l,c,m,g){switch(l){case"style":Ou(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?jn(s,c):(typeof c=="number"||typeof c=="bigint")&&jn(s,""+c);break;case"onScroll":c!=null&&Fe("scroll",s);break;case"onScrollEnd":c!=null&&Fe("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Dr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Su.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),i=l.slice(2,m?l.length-7:void 0),g=s[on]||null,g=g!=null?g[l]:null,typeof g=="function"&&s.removeEventListener(i,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Mo(s,l,c)}}}function gn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",s),Fe("load",s);var c=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var x=l[g];if(x!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:mt(s,i,g,x,l,null)}}m&&mt(s,i,"srcSet",l.srcSet,l,null),c&&mt(s,i,"src",l.src,l,null);return;case"input":Fe("invalid",s);var S=g=x=m=null,P=null,G=null;for(c in l)if(l.hasOwnProperty(c)){var re=l[c];if(re!=null)switch(c){case"name":m=re;break;case"type":x=re;break;case"checked":P=re;break;case"defaultChecked":G=re;break;case"value":g=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,i));break;default:mt(s,i,c,re,l,null)}}Bh(s,g,S,P,G,x,m,!1);return;case"select":Fe("invalid",s),c=x=g=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":x=S;break;case"multiple":c=S;default:mt(s,i,m,S,l,null)}i=g,l=x,s.multiple=!!c,i!=null?ui(s,!!c,i,!1):l!=null&&ui(s,!!c,l,!0);return;case"textarea":Fe("invalid",s),g=m=c=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":c=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:mt(s,i,x,S,l,null)}ci(s,c,m,g);return;case"option":for(P in l)l.hasOwnProperty(P)&&(c=l[P],c!=null)&&(P==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":mt(s,i,P,c,l,null));return;case"dialog":Fe("beforetoggle",s),Fe("toggle",s),Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":Fe("load",s);break;case"video":case"audio":for(c=0;c<dc.length;c++)Fe(dc[c],s);break;case"image":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"embed":case"source":case"link":Fe("error",s),Fe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(c=l[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:mt(s,i,G,c,l,null)}return;default:if(zo(i)){for(re in l)l.hasOwnProperty(re)&&(c=l[re],c!==void 0&&Bg(s,i,re,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&mt(s,i,S,c,l,null))}function YC(s,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,x=null,S=null,P=null,G=null,re=null;for(ee in l){var oe=l[ee];if(l.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":P=oe;default:c.hasOwnProperty(ee)||mt(s,i,ee,null,c,oe)}}for(var Z in c){var ee=c[Z];if(oe=l[Z],c.hasOwnProperty(Z)&&(ee!=null||oe!=null))switch(Z){case"type":g=ee;break;case"name":m=ee;break;case"checked":G=ee;break;case"defaultChecked":re=ee;break;case"value":x=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:ee!==oe&&mt(s,i,Z,ee,c,oe)}}Vo(s,x,S,P,G,re,g,m);return;case"select":ee=x=S=Z=null;for(g in l)if(P=l[g],l.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":ee=P;default:c.hasOwnProperty(g)||mt(s,i,g,null,c,P)}for(m in c)if(g=c[m],P=l[m],c.hasOwnProperty(m)&&(g!=null||P!=null))switch(m){case"value":Z=g;break;case"defaultValue":S=g;break;case"multiple":x=g;default:g!==P&&mt(s,i,m,g,c,P)}i=S,l=x,c=ee,Z!=null?ui(s,!!l,Z,!1):!!c!=!!l&&(i!=null?ui(s,!!l,i,!0):ui(s,!!l,l?[]:"",!1));return;case"textarea":ee=Z=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:mt(s,i,S,null,c,m)}for(x in c)if(m=c[x],g=l[x],c.hasOwnProperty(x)&&(m!=null||g!=null))switch(x){case"value":Z=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&mt(s,i,x,m,c,g)}qh(s,Z,ee);return;case"option":for(var ge in l)Z=l[ge],l.hasOwnProperty(ge)&&Z!=null&&!c.hasOwnProperty(ge)&&(ge==="selected"?s.selected=!1:mt(s,i,ge,null,c,Z));for(P in c)Z=c[P],ee=l[P],c.hasOwnProperty(P)&&Z!==ee&&(Z!=null||ee!=null)&&(P==="selected"?s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":mt(s,i,P,Z,c,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in l)Z=l[Ie],l.hasOwnProperty(Ie)&&Z!=null&&!c.hasOwnProperty(Ie)&&mt(s,i,Ie,null,c,Z);for(G in c)if(Z=c[G],ee=l[G],c.hasOwnProperty(G)&&Z!==ee&&(Z!=null||ee!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,i));break;default:mt(s,i,G,Z,c,ee)}return;default:if(zo(i)){for(var pt in l)Z=l[pt],l.hasOwnProperty(pt)&&Z!==void 0&&!c.hasOwnProperty(pt)&&Bg(s,i,pt,void 0,c,Z);for(re in c)Z=c[re],ee=l[re],!c.hasOwnProperty(re)||Z===ee||Z===void 0&&ee===void 0||Bg(s,i,re,Z,c,ee);return}}for(var B in l)Z=l[B],l.hasOwnProperty(B)&&Z!=null&&!c.hasOwnProperty(B)&&mt(s,i,B,null,c,Z);for(oe in c)Z=c[oe],ee=l[oe],!c.hasOwnProperty(oe)||Z===ee||Z==null&&ee==null||mt(s,i,oe,Z,c,ee)}function eE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],g=m.transferSize,x=m.initiatorType,S=m.duration;if(g&&S&&eE(x)){for(x=0,S=m.responseEnd,c+=1;c<l.length;c++){var P=l[c],G=P.startTime;if(G>S)break;var re=P.transferSize,oe=P.initiatorType;re&&eE(oe)&&(P=P.responseEnd,x+=re*(P<S?1:(S-G)/(P-G)))}if(--c,i+=8*(g+x)/(m.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var qg=null,$g=null;function Gd(s){return s.nodeType===9?s:s.ownerDocument}function tE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nE(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Hg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gg=null;function JC(){var s=window.event;return s&&s.type==="popstate"?s===Gg?!1:(Gg=s,!0):(Gg=null,!1)}var rE=typeof setTimeout=="function"?setTimeout:void 0,WC=typeof clearTimeout=="function"?clearTimeout:void 0,sE=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof sE<"u"?function(s){return sE.resolve(null).then(s).catch(t2)}:rE;function t2(s){setTimeout(function(){throw s})}function ki(s){return s==="head"}function iE(s,i){var l=i,c=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){s.removeChild(m),_l(i);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")mc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,mc(l);for(var g=l.firstChild;g;){var x=g.nextSibling,S=g.nodeName;g[Yr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=x}}else l==="body"&&mc(s.ownerDocument.body);l=m}while(l);_l(i)}function aE(s,i){var l=s;s=0;do{var c=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=c}while(l)}function Kg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Kg(l),jo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function n2(s,i,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Yr])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=gr(s.nextSibling),s===null)break}return null}function r2(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=gr(s.nextSibling),s===null))return null;return s}function oE(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=gr(s.nextSibling),s===null))return null;return s}function Qg(s){return s.data==="$?"||s.data==="$~"}function Zg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function s2(s,i){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||l.readyState!=="loading")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function gr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var Yg=null;function lE(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(i===0)return gr(s.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}s=s.nextSibling}return null}function uE(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return s;i--}else l!=="/$"&&l!=="/&"||i++}s=s.previousSibling}return null}function cE(s,i,l){switch(i=Gd(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function mc(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);jo(s)}var yr=new Map,hE=new Set;function Kd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Fs=he.d;he.d={f:i2,r:a2,D:o2,C:l2,L:u2,m:c2,X:d2,S:h2,M:f2};function i2(){var s=Fs.f(),i=zd();return s||i}function a2(s){var i=ar(s);i!==null&&i.tag===5&&i.type==="form"?R0(i):Fs.r(s)}var gl=typeof document>"u"?null:document;function dE(s,i,l){var c=gl;if(c&&typeof i=="string"&&i){var m=Pn(i);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),hE.has(m)||(hE.add(m),s={rel:s,crossOrigin:l,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),gn(i,"link",s),Ht(i),c.head.appendChild(i)))}}function o2(s){Fs.D(s),dE("dns-prefetch",s,null)}function l2(s,i){Fs.C(s,i),dE("preconnect",s,i)}function u2(s,i,l){Fs.L(s,i,l);var c=gl;if(c&&s&&i){var m='link[rel="preload"][as="'+Pn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Pn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Pn(l.imageSizes)+'"]')):m+='[href="'+Pn(s)+'"]';var g=m;switch(i){case"style":g=yl(s);break;case"script":g=vl(s)}yr.has(g)||(s=b({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),yr.set(g,s),c.querySelector(m)!==null||i==="style"&&c.querySelector(pc(g))||i==="script"&&c.querySelector(gc(g))||(i=c.createElement("link"),gn(i,"link",s),Ht(i),c.head.appendChild(i)))}}function c2(s,i){Fs.m(s,i);var l=gl;if(l&&s){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Pn(c)+'"][href="'+Pn(s)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=vl(s)}if(!yr.has(g)&&(s=b({rel:"modulepreload",href:s},i),yr.set(g,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gc(g)))return}c=l.createElement("link"),gn(c,"link",s),Ht(c),l.head.appendChild(c)}}}function h2(s,i,l){Fs.S(s,i,l);var c=gl;if(c&&s){var m=Jr(c).hoistableStyles,g=yl(s);i=i||"default";var x=m.get(g);if(!x){var S={loading:0,preload:null};if(x=c.querySelector(pc(g)))S.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":i},l),(l=yr.get(g))&&Xg(s,l);var P=x=c.createElement("link");Ht(P),gn(P,"link",s),P._p=new Promise(function(G,re){P.onload=G,P.onerror=re}),P.addEventListener("load",function(){S.loading|=1}),P.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Qd(x,i,c)}x={type:"stylesheet",instance:x,count:1,state:S},m.set(g,x)}}}function d2(s,i){Fs.X(s,i);var l=gl;if(l&&s){var c=Jr(l).hoistableScripts,m=vl(s),g=c.get(m);g||(g=l.querySelector(gc(m)),g||(s=b({src:s,async:!0},i),(i=yr.get(m))&&Jg(s,i),g=l.createElement("script"),Ht(g),gn(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function f2(s,i){Fs.M(s,i);var l=gl;if(l&&s){var c=Jr(l).hoistableScripts,m=vl(s),g=c.get(m);g||(g=l.querySelector(gc(m)),g||(s=b({src:s,async:!0,type:"module"},i),(i=yr.get(m))&&Jg(s,i),g=l.createElement("script"),Ht(g),gn(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function fE(s,i,l,c){var m=(m=Re.current)?Kd(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=yl(l.href),l=Jr(m).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=yl(l.href);var g=Jr(m).hoistableStyles,x=g.get(s);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,x),(g=m.querySelector(pc(s)))&&!g._p&&(x.instance=g,x.state.loading=5),yr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},yr.set(s,l),g||m2(m,s,l,x.state))),i&&c===null)throw Error(r(528,""));return x}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vl(l),l=Jr(m).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function yl(s){return'href="'+Pn(s)+'"'}function pc(s){return'link[rel="stylesheet"]['+s+"]"}function mE(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function m2(s,i,l,c){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=s.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),gn(i,"link",l),Ht(i),s.head.appendChild(i))}function vl(s){return'[src="'+Pn(s)+'"]'}function gc(s){return"script[async]"+s}function pE(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=s.querySelector('style[data-href~="'+Pn(l.href)+'"]');if(c)return i.instance=c,Ht(c),c;var m=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Ht(c),gn(c,"style",m),Qd(c,l.precedence,s),i.instance=c;case"stylesheet":m=yl(l.href);var g=s.querySelector(pc(m));if(g)return i.state.loading|=4,i.instance=g,Ht(g),g;c=mE(l),(m=yr.get(m))&&Xg(c,m),g=(s.ownerDocument||s).createElement("link"),Ht(g);var x=g;return x._p=new Promise(function(S,P){x.onload=S,x.onerror=P}),gn(g,"link",c),i.state.loading|=4,Qd(g,l.precedence,s),i.instance=g;case"script":return g=vl(l.src),(m=s.querySelector(gc(g)))?(i.instance=m,Ht(m),m):(c=l,(m=yr.get(g))&&(c=b({},l),Jg(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ht(m),gn(m,"link",c),s.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Qd(c,l.precedence,s));return i.instance}function Qd(s,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,x=0;x<c.length;x++){var S=c[x];if(S.dataset.precedence===i)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(s,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Xg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Jg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Zd=null;function gE(s,i,l){if(Zd===null){var c=new Map,m=Zd=new Map;m.set(l,c)}else m=Zd,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var g=l[m];if(!(g[Yr]||g[$t]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(i)||"";x=s+x;var S=c.get(x);S?S.push(g):c.set(x,[g])}}return c}function yE(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function p2(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(s=i.disabled,typeof i.precedence=="string"&&s==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function vE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function g2(s,i,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=yl(c.href),g=i.querySelector(pc(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=Yd.bind(s),i.then(s,s)),l.state.loading|=4,l.instance=g,Ht(g);return}g=i.ownerDocument||i,c=mE(c),(m=yr.get(m))&&Xg(c,m),g=g.createElement("link"),Ht(g);var x=g;x._p=new Promise(function(S,P){x.onload=S,x.onerror=P}),gn(g,"link",c),l.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Yd.bind(s),i.addEventListener("load",l),i.addEventListener("error",l))}}var Wg=0;function y2(s,i){return s.stylesheets&&s.count===0&&Jd(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var c=setTimeout(function(){if(s.stylesheets&&Jd(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+i);0<s.imgBytes&&Wg===0&&(Wg=62500*XC());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Jd(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>Wg?50:800)+i);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Yd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Xd=null;function Jd(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Xd=new Map,i.forEach(v2,s),Xd=null,Yd.call(s))}function v2(s,i){if(!(i.state.loading&4)){var l=Xd.get(s);if(l)var c=l.get(null);else{l=new Map,Xd.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var x=m[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),c=x)}c&&l.set(null,c)}m=i.instance,x=m.getAttribute("data-precedence"),g=l.get(x)||c,g===c&&l.set(null,m),l.set(x,m),this.count++,c=Yd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),i.state.loading|=4}}var yc={$$typeof:U,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function _2(s,i,l,c,m,g,x,S,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.hiddenUpdates=Qr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function _E(s,i,l,c,m,g,x,S,P,G,re,oe){return s=new _2(s,i,l,x,P,G,re,oe,S),i=1,g===!0&&(i|=24),g=Gn(3,null,null,i),s.current=g,g.stateNode=s,i=Op(),i.refCount++,s.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:i},Mp(g),s}function bE(s){return s?(s=Zo,s):Zo}function xE(s,i,l,c,m,g){m=bE(m),c.context===null?c.context=m:c.pendingContext=m,c=Ei(i),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=wi(s,c,i),l!==null&&(Un(l,s,i),Zu(l,s,i))}function EE(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function ey(s,i){EE(s,i),(s=s.alternate)&&EE(s,i)}function wE(s){if(s.tag===13||s.tag===31){var i=Da(s,67108864);i!==null&&Un(i,s,67108864),ey(s,67108864)}}function TE(s){if(s.tag===13||s.tag===31){var i=Xn();i=_a(i);var l=Da(s,i);l!==null&&Un(l,s,i),ey(s,i)}}var Wd=!0;function b2(s,i,l,c){var m=W.T;W.T=null;var g=he.p;try{he.p=2,ty(s,i,l,c)}finally{he.p=g,W.T=m}}function x2(s,i,l,c){var m=W.T;W.T=null;var g=he.p;try{he.p=8,ty(s,i,l,c)}finally{he.p=g,W.T=m}}function ty(s,i,l,c){if(Wd){var m=ny(c);if(m===null)Fg(s,i,c,ef,l),AE(s,c);else if(w2(m,s,i,l,c))c.stopPropagation();else if(AE(s,c),i&4&&-1<E2.indexOf(s)){for(;m!==null;){var g=ar(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Gr(g.pendingLanes);if(x!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var P=1<<31-Vt(x);S.entanglements[1]|=P,x&=~P}hs(g),(rt&6)===0&&(Md=Sn()+500,hc(0))}}break;case 31:case 13:S=Da(g,2),S!==null&&Un(S,g,2),zd(),ey(g,2)}if(g=ny(c),g===null&&Fg(s,i,c,ef,l),g===m)break;m=g}m!==null&&c.stopPropagation()}else Fg(s,i,c,null,l)}}function ny(s){return s=or(s),ry(s)}var ef=null;function ry(s){if(ef=null,s=Xr(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=u(i),s!==null)return s;s=null}else if(l===31){if(s=h(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return ef=s,null}function SE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pa()){case bu:return 2;case xu:return 8;case oi:case up:return 32;case Oh:return 268435456;default:return 32}default:return 32}}var sy=!1,Pi=null,ji=null,Mi=null,vc=new Map,_c=new Map,Vi=[],E2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AE(s,i){switch(s){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":vc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(i.pointerId)}}function bc(s,i,l,c,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},i!==null&&(i=ar(i),i!==null&&wE(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function w2(s,i,l,c,m){switch(i){case"focusin":return Pi=bc(Pi,s,i,l,c,m),!0;case"dragenter":return ji=bc(ji,s,i,l,c,m),!0;case"mouseover":return Mi=bc(Mi,s,i,l,c,m),!0;case"pointerover":var g=m.pointerId;return vc.set(g,bc(vc.get(g)||null,s,i,l,c,m)),!0;case"gotpointercapture":return g=m.pointerId,_c.set(g,bc(_c.get(g)||null,s,i,l,c,m)),!0}return!1}function IE(s){var i=Xr(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){s.blockedOn=i,Nr(s.priority,function(){TE(l)});return}}else if(i===31){if(i=h(l),i!==null){s.blockedOn=i,Nr(s.priority,function(){TE(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function tf(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=ny(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);ku=c,l.target.dispatchEvent(c),ku=null}else return i=ar(l),i!==null&&wE(i),s.blockedOn=l,!1;i.shift()}return!0}function RE(s,i,l){tf(s)&&l.delete(i)}function T2(){sy=!1,Pi!==null&&tf(Pi)&&(Pi=null),ji!==null&&tf(ji)&&(ji=null),Mi!==null&&tf(Mi)&&(Mi=null),vc.forEach(RE),_c.forEach(RE)}function nf(s,i){s.blockedOn===i&&(s.blockedOn=null,sy||(sy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,T2)))}var rf=null;function NE(s){rf!==s&&(rf=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rf===s&&(rf=null);for(var i=0;i<s.length;i+=3){var l=s[i],c=s[i+1],m=s[i+2];if(typeof c!="function"){if(ry(c||l)===null)continue;break}var g=ar(l);g!==null&&(s.splice(i,3),i-=3,ng(g,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function _l(s){function i(P){return nf(P,s)}Pi!==null&&nf(Pi,s),ji!==null&&nf(ji,s),Mi!==null&&nf(Mi,s),vc.forEach(i),_c.forEach(i);for(var l=0;l<Vi.length;l++){var c=Vi[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Vi.length&&(l=Vi[0],l.blockedOn===null);)IE(l),l.blockedOn===null&&Vi.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],g=l[c+1],x=m[on]||null;if(typeof g=="function")x||NE(l);else if(x){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,x=g[on]||null)S=x.formAction;else if(ry(m)!==null)continue}else S=x.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),NE(l)}}}function CE(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function iy(s){this._internalRoot=s}sf.prototype.render=iy.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,c=Xn();xE(l,c,s,i,null,null)},sf.prototype.unmount=iy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;xE(s.current,2,null,s,null,null),zd(),i[Zr]=null}};function sf(s){this._internalRoot=s}sf.prototype.unstable_scheduleHydration=function(s){if(s){var i=zh();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Vi.length&&i!==0&&i<Vi[l].priority;l++);Vi.splice(l,0,s),l===0&&IE(s)}};var DE=e.version;if(DE!=="19.2.3")throw Error(r(527,DE,"19.2.3"));he.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=p(i),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var S2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{Ir=af.inject(S2),hn=af}catch{}}return Ec.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,c="",m=z0,g=L0,x=U0;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=_E(s,1,!1,null,null,l,c,null,m,g,x,CE),s[Zr]=i.current,Ug(s),new iy(i)},Ec.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var c=!1,m="",g=z0,x=L0,S=U0,P=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),i=_E(s,1,!0,i,l??null,c,m,P,g,x,S,CE),i.context=bE(null),l=i.current,c=Xn(),c=_a(c),m=Ei(c),m.callback=null,wi(l,m,c),l=c,i.current.lanes=l,ya(i,l),hs(i),s[Zr]=i.current,Ug(s),new sf(i)},Ec.version="19.2.3",Ec}var FE;function M2(){if(FE)return ly.exports;FE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ly.exports=j2(),ly.exports}var V2=M2();var BE="popstate";function z2(t={}){function e(a,o){let{pathname:u="/",search:h="",hash:d=""}=Ao(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Oy("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof o=="string"?o:Qc(o))}function r(a,o){wr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return U2(e,n,r,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L2(){return Math.random().toString(36).substring(2,10)}function qE(t,e){return{usr:t.state,key:t.key,idx:e}}function Oy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ao(e):e,state:n,key:e&&e.key||r||L2()}}function Qc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ao(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function U2(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",d=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function b(){h="POP";let z=v(),J=z==null?null:z-p;p=z,d&&d({action:h,location:k.location,delta:J})}function w(z,J){h="PUSH";let K=Oy(k.location,z,J);n&&n(K,z),p=v()+1;let U=qE(K,p),Y=k.createHref(K);try{u.pushState(U,"",Y)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign(Y)}o&&d&&d({action:h,location:k.location,delta:1})}function T(z,J){h="REPLACE";let K=Oy(k.location,z,J);n&&n(K,z),p=v();let U=qE(K,p),Y=k.createHref(K);u.replaceState(U,"",Y),o&&d&&d({action:h,location:k.location,delta:0})}function D(z){return F2(z)}let k={get action(){return h},get location(){return t(a,u)},listen(z){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(BE,b),d=z,()=>{a.removeEventListener(BE,b),d=null}},createHref(z){return e(a,z)},createURL:D,encodeLocation(z){let J=D(z);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:T,go(z){return u.go(z)}};return k}function F2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Qc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function U1(t,e,n="/"){return B2(t,e,n,!1)}function B2(t,e,n,r){let a=typeof e=="string"?Ao(e):e,o=Zs(a.pathname||"/",n);if(o==null)return null;let u=F1(t);q2(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=eD(o);h=J2(u[d],p,r)}return h}function F1(t,e=[],n=[],r="",a=!1){let o=(u,h,d=a,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&d)return;Rt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let b=Qs([r,v.relativePath]),w=n.concat(v);u.children&&u.children.length>0&&(Rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),F1(u.children,e,w,b,d)),!(u.path==null&&!u.index)&&e.push({path:b,score:Y2(b,u.index),routesMeta:w})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of B1(u.path))o(u,h,!0,d)}),e}function B1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=B1(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function q2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:X2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var $2=/^:[\w-]+$/,H2=3,G2=2,K2=1,Q2=10,Z2=-2,$E=t=>t==="*";function Y2(t,e){let n=t.split("/"),r=n.length;return n.some($E)&&(r+=Z2),e&&(r+=G2),n.filter(a=>!$E(a)).reduce((a,o)=>a+($2.test(o)?H2:o===""?K2:Q2),r)}function X2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function J2(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",b=Kf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},v),w=d.route;if(!b&&p&&n&&!r[r.length-1].route.index&&(b=Kf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:Qs([o,b.pathname]),pathnameBase:sD(Qs([o,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(o=Qs([o,b.pathnameBase]))}return u}function Kf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=W2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:b},w)=>{if(v==="*"){let D=h[w]||"";u=o.slice(0,o.length-D.length).replace(/(.)\/+$/,"$1")}const T=h[w];return b&&!T?p[v]=void 0:p[v]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:t}}function W2(t,e=!1,n=!0){wr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function eD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tD=t=>q1.test(t);function nD(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ao(t):t,o;if(n)if(tD(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),wr(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?o=HE(n.substring(1),"/"):o=HE(n,e)}else o=e;return{pathname:o,search:iD(r),hash:aD(a)}}function HE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function dy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $1(t){let e=rD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function H1(t,e,n,r=!1){let a;typeof t=="string"?a=Ao(t):(a={...t},Rt(!a.pathname||!a.pathname.includes("?"),dy("?","pathname","search",a)),Rt(!a.pathname||!a.pathname.includes("#"),dy("#","pathname","hash",a)),Rt(!a.search||!a.search.includes("#"),dy("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}h=b>=0?e[b]:"/"}let d=nD(a,h),p=u&&u!=="/"&&u.endsWith("/"),v=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||v)&&(d.pathname+="/"),d}var Qs=t=>t.join("/").replace(/\/\/+/g,"/"),sD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,oD=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function lD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function uD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var G1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function K1(t,e){let n=t;if(typeof n!="string"||!q1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(G1)try{let o=new URL(window.location.href),u=n.startsWith("//")?new URL(o.protocol+n):new URL(n),h=Zs(u.pathname,e);u.origin===o.origin&&h!=null?n=h+u.search+u.hash:a=!0}catch{wr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Q1=["POST","PUT","PATCH","DELETE"];new Set(Q1);var cD=["GET",...Q1];new Set(cD);var nu=V.createContext(null);nu.displayName="DataRouter";var Nm=V.createContext(null);Nm.displayName="DataRouterState";var hD=V.createContext(!1),Z1=V.createContext({isTransitioning:!1});Z1.displayName="ViewTransition";var dD=V.createContext(new Map);dD.displayName="Fetchers";var fD=V.createContext(null);fD.displayName="Await";var Tr=V.createContext(null);Tr.displayName="Navigation";var fh=V.createContext(null);fh.displayName="Location";var Es=V.createContext({outlet:null,matches:[],isDataRoute:!1});Es.displayName="Route";var Rv=V.createContext(null);Rv.displayName="RouteError";var Y1="REACT_ROUTER_ERROR",mD="REDIRECT",pD="ROUTE_ERROR_RESPONSE";function gD(t){if(t.startsWith(`${Y1}:${mD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function yD(t){if(t.startsWith(`${Y1}:${pD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new oD(e.status,e.statusText,e.data)}catch{}}function vD(t,{relative:e}={}){Rt(mh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(Tr),{hash:a,pathname:o,search:u}=ph(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Qs([n,o])),r.createHref({pathname:h,search:u,hash:a})}function mh(){return V.useContext(fh)!=null}function ti(){return Rt(mh(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(fh).location}var X1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J1(t){V.useContext(Tr).static||V.useLayoutEffect(t)}function W1(){let{isDataRoute:t}=V.useContext(Es);return t?DD():_D()}function _D(){Rt(mh(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(nu),{basename:e,navigator:n}=V.useContext(Tr),{matches:r}=V.useContext(Es),{pathname:a}=ti(),o=JSON.stringify($1(r)),u=V.useRef(!1);return J1(()=>{u.current=!0}),V.useCallback((d,p={})=>{if(wr(u.current,X1),!u.current)return;if(typeof d=="number"){n.go(d);return}let v=H1(d,JSON.parse(o),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Qs([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,o,a,t])}V.createContext(null);function eS(){let{matches:t}=V.useContext(Es),e=t[t.length-1];return e?e.params:{}}function ph(t,{relative:e}={}){let{matches:n}=V.useContext(Es),{pathname:r}=ti(),a=JSON.stringify($1(n));return V.useMemo(()=>H1(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function bD(t,e){return tS(t,e)}function tS(t,e,n,r,a){Rt(mh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=V.useContext(Tr),{matches:u}=V.useContext(Es),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let K=b&&b.path||"";rS(p,!b||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let w=ti(),T;if(e){let K=typeof e=="string"?Ao(e):e;Rt(v==="/"||K.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${K.pathname}" was given in the \`location\` prop.`),T=K}else T=w;let D=T.pathname||"/",k=D;if(v!=="/"){let K=v.replace(/^\//,"").split("/");k="/"+D.replace(/^\//,"").split("/").slice(K.length).join("/")}let z=U1(t,{pathname:k});wr(b||z!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),wr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=SD(z&&z.map(K=>Object.assign({},K,{params:Object.assign({},d,K.params),pathname:Qs([v,o.encodeLocation?o.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?v:Qs([v,o.encodeLocation?o.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),u,n,r,a);return e&&J?V.createElement(fh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},J):J}function xD(){let t=CD(),e=lD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,u)}var ED=V.createElement(xD,null),nS=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=yD(t.digest);n&&(t=n)}let e=t!==void 0?V.createElement(Es.Provider,{value:this.props.routeContext},V.createElement(Rv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?V.createElement(wD,{error:t},e):e}};nS.contextType=hD;var fy=new WeakMap;function wD({children:t,error:e}){let{basename:n}=V.useContext(Tr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=gD(e.digest);if(r){let a=fy.get(e);if(a)throw a;let o=K1(r.location,n);if(G1&&!fy.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw fy.set(e,u),u}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function TD({routeContext:t,match:e,children:n}){let r=V.useContext(nu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Es.Provider,{value:t},n)}function SD(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n?.errors;if(u!=null){let v=o.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);Rt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let h=!1,d=-1;if(n)for(let v=0;v<o.length;v++){let b=o[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=v),b.route.id){let{loaderData:w,errors:T}=n,D=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!T||T[b.route.id]===void 0);if(b.route.lazy||D){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let p=n&&r?(v,b)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:uD(n.matches),errorInfo:b})}:void 0;return o.reduceRight((v,b,w)=>{let T,D=!1,k=null,z=null;n&&(T=u&&b.route.id?u[b.route.id]:void 0,k=b.route.errorElement||ED,h&&(d<0&&w===0?(rS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,z=null):d===w&&(D=!0,z=b.route.hydrateFallbackElement||null)));let J=e.concat(o.slice(0,w+1)),K=()=>{let U;return T?U=k:D?U=z:b.route.Component?U=V.createElement(b.route.Component,null):b.route.element?U=b.route.element:U=v,V.createElement(TD,{match:b,routeContext:{outlet:v,matches:J,isDataRoute:n!=null},children:U})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?V.createElement(nS,{location:n.location,revalidation:n.revalidation,component:k,error:T,children:K(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:p}):K()},null)}function Nv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AD(t){let e=V.useContext(nu);return Rt(e,Nv(t)),e}function ID(t){let e=V.useContext(Nm);return Rt(e,Nv(t)),e}function RD(t){let e=V.useContext(Es);return Rt(e,Nv(t)),e}function Cv(t){let e=RD(t),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ND(){return Cv("useRouteId")}function CD(){let t=V.useContext(Rv),e=ID("useRouteError"),n=Cv("useRouteError");return t!==void 0?t:e.errors?.[n]}function DD(){let{router:t}=AD("useNavigate"),e=Cv("useNavigate"),n=V.useRef(!1);return J1(()=>{n.current=!0}),V.useCallback(async(a,o={})=>{wr(n.current,X1),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var GE={};function rS(t,e,n){!e&&!GE[t]&&(GE[t]=!0,wr(!1,n))}V.memo(OD);function OD({routes:t,future:e,state:n,onError:r}){return tS(t,void 0,n,r,e)}function $i(t){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){Rt(!mh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[h,a,o,u]);typeof n=="string"&&(n=Ao(n));let{pathname:p="/",search:v="",hash:b="",state:w=null,key:T="default"}=n,D=V.useMemo(()=>{let k=Zs(p,h);return k==null?null:{location:{pathname:k,search:v,hash:b,state:w,key:T},navigationType:r}},[h,p,v,b,w,T,r]);return wr(D!=null,`<Router basename="${h}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:V.createElement(Tr.Provider,{value:d},V.createElement(fh.Provider,{children:e,value:D}))}function PD({children:t,location:e}){return bD(ky(t),e)}function ky(t,e=[]){let n=[];return V.Children.forEach(t,(r,a)=>{if(!V.isValidElement(r))return;let o=[...e,a];if(r.type===V.Fragment){n.push.apply(n,ky(r.props.children,o));return}Rt(r.type===$i,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=ky(r.props.children,o)),n.push(u)}),n}var Ef="get",wf="application/x-www-form-urlencoded";function Cm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function jD(t){return Cm(t)&&t.tagName.toLowerCase()==="button"}function MD(t){return Cm(t)&&t.tagName.toLowerCase()==="form"}function VD(t){return Cm(t)&&t.tagName.toLowerCase()==="input"}function zD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LD(t,e){return t.button===0&&(!e||e==="_self")&&!zD(t)}var of=null;function UD(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var FD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function my(t){return t!=null&&!FD.has(t)?(wr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wf}"`),null):t}function BD(t,e){let n,r,a,o,u;if(MD(t)){let h=t.getAttribute("action");r=h?Zs(h,e):null,n=t.getAttribute("method")||Ef,a=my(t.getAttribute("enctype"))||wf,o=new FormData(t)}else if(jD(t)||VD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Zs(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Ef,a=my(t.getAttribute("formenctype"))||my(h.getAttribute("enctype"))||wf,o=new FormData(h,t),!UD()){let{name:p,type:v,value:b}=t;if(v==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,b)}}else{if(Cm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ef,r=null,a=wf,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qD(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Zs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function $D(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GD(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await $D(o,n);return u.links?u.links():[]}return[]}));return YD(r.flat(1).filter(HD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function KE(t,e,n,r,a,o){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{let v=r.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function KD(t,e,{includeHydrateFallback:n}={}){return QD(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function QD(t){return[...new Set(t)]}function ZD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function YD(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(ZD(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function sS(){let t=V.useContext(nu);return Dv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function XD(){let t=V.useContext(Nm);return Dv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ov=V.createContext(void 0);Ov.displayName="FrameworkContext";function iS(){let t=V.useContext(Ov);return Dv(t,"You must render this element inside a <HydratedRouter> element"),t}function JD(t,e){let n=V.useContext(Ov),[r,a]=V.useState(!1),[o,u]=V.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,w=V.useRef(null);V.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let k=J=>{J.forEach(K=>{u(K.isIntersecting)})},z=new IntersectionObserver(k,{threshold:.5});return w.current&&z.observe(w.current),()=>{z.disconnect()}}},[t]),V.useEffect(()=>{if(r){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[r]);let T=()=>{a(!0)},D=()=>{a(!1),u(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:wc(h,T),onBlur:wc(d,D),onMouseEnter:wc(p,T),onMouseLeave:wc(v,D),onTouchStart:wc(b,T)}]:[!1,w,{}]}function wc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function WD({page:t,...e}){let{router:n}=sS(),r=V.useMemo(()=>U1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?V.createElement(tO,{page:t,matches:r,...e}):null}function eO(t){let{manifest:e,routeModules:n}=iS(),[r,a]=V.useState([]);return V.useEffect(()=>{let o=!1;return GD(t,e,n).then(u=>{o||a(u)}),()=>{o=!0}},[t,e,n]),r}function tO({page:t,matches:e,...n}){let r=ti(),{future:a,manifest:o,routeModules:u}=iS(),{basename:h}=sS(),{loaderData:d,matches:p}=XD(),v=V.useMemo(()=>KE(t,e,p,o,r,"data"),[t,e,p,o,r]),b=V.useMemo(()=>KE(t,e,p,o,r,"assets"),[t,e,p,o,r]),w=V.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let k=new Set,z=!1;if(e.forEach(K=>{let U=o.routes[K.route.id];!U||!U.hasLoader||(!v.some(Y=>Y.route.id===K.route.id)&&K.route.id in d&&u[K.route.id]?.shouldRevalidate||U.hasClientLoader?z=!0:k.add(K.route.id))}),k.size===0)return[];let J=qD(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return z&&k.size>0&&J.searchParams.set("_routes",e.filter(K=>k.has(K.route.id)).map(K=>K.route.id).join(",")),[J.pathname+J.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,o,v,e,t,u]),T=V.useMemo(()=>KD(b,o),[b,o]),D=eO(b);return V.createElement(V.Fragment,null,w.map(k=>V.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),T.map(k=>V.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),D.map(({key:k,link:z})=>V.createElement("link",{key:k,nonce:n.nonce,...z})))}function nO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rO&&(window.__reactRouterVersion="7.12.0")}catch{}function sO({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=V.useRef();a.current==null&&(a.current=z2({window:r,v5Compat:!0}));let o=a.current,[u,h]=V.useState({action:o.action,location:o.location}),d=V.useCallback(p=>{n===!1?h(p):V.startTransition(()=>h(p))},[n]);return V.useLayoutEffect(()=>o.listen(d),[o,d]),V.createElement(kD,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:n})}var aS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...T},D){let{basename:k,unstable_useTransitions:z}=V.useContext(Tr),J=typeof p=="string"&&aS.test(p),K=K1(p,k);p=K.to;let U=vD(p,{relative:a}),[Y,ne,fe]=JD(r,T),R=lO(p,{replace:u,state:h,target:d,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:z});function A(j){e&&e(j),j.defaultPrevented||R(j)}let C=V.createElement("a",{...T,...fe,href:K.absoluteURL||U,onClick:K.isExternal||o?e:A,ref:nO(D,ne),target:d,"data-discover":!J&&n==="render"?"true":void 0});return Y&&!J?V.createElement(V.Fragment,null,C,V.createElement(WD,{page:U})):C});At.displayName="Link";var iO=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...p},v){let b=ph(u,{relative:p.relative}),w=ti(),T=V.useContext(Nm),{navigator:D,basename:k}=V.useContext(Tr),z=T!=null&&fO(b)&&h===!0,J=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,K=w.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(K=K.toLowerCase(),U=U?U.toLowerCase():null,J=J.toLowerCase()),U&&k&&(U=Zs(U,k)||U);const Y=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ne=K===J||!a&&K.startsWith(J)&&K.charAt(Y)==="/",fe=U!=null&&(U===J||!a&&U.startsWith(J)&&U.charAt(J.length)==="/"),R={isActive:ne,isPending:fe,isTransitioning:z},A=ne?e:void 0,C;typeof r=="function"?C=r(R):C=[r,ne?"active":null,fe?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(R):o;return V.createElement(At,{...p,"aria-current":A,className:C,ref:v,style:j,to:u,viewTransition:h},typeof d=="function"?d(R):d)});iO.displayName="NavLink";var aO=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:u=Ef,action:h,onSubmit:d,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...T},D)=>{let{unstable_useTransitions:k}=V.useContext(Tr),z=hO(),J=dO(h,{relative:p}),K=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&aS.test(h),Y=ne=>{if(d&&d(ne),ne.defaultPrevented)return;ne.preventDefault();let fe=ne.nativeEvent.submitter,R=fe?.getAttribute("formmethod")||u,A=()=>z(fe||ne.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:o,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w});k&&n!==!1?V.startTransition(()=>A()):A()};return V.createElement("form",{ref:D,method:K,action:J,onSubmit:r?d:Y,...T,"data-discover":!U&&t==="render"?"true":void 0})});aO.displayName="Form";function oO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oS(t){let e=V.useContext(nu);return Rt(e,oO(t)),e}function lO(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let p=W1(),v=ti(),b=ph(t,{relative:o});return V.useCallback(w=>{if(LD(w,e)){w.preventDefault();let T=n!==void 0?n:Qc(v)===Qc(b),D=()=>p(t,{replace:T,state:r,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h});d?V.startTransition(()=>D()):D()}},[v,p,b,n,r,e,t,a,o,u,h,d])}var uO=0,cO=()=>`__${String(++uO)}__`;function hO(){let{router:t}=oS("useSubmit"),{basename:e}=V.useContext(Tr),n=ND(),r=t.fetch,a=t.navigate;return V.useCallback(async(o,u={})=>{let{action:h,method:d,encType:p,formData:v,body:b}=BD(o,e);if(u.navigate===!1){let w=u.fetcherKey||cO();await r(w,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||d,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||d,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,e,n])}function dO(t,{relative:e}={}){let{basename:n}=V.useContext(Tr),r=V.useContext(Es);Rt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...ph(t||".",{relative:e})},u=ti();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(v=>v==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();o.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Qs([n,o.pathname])),Qc(o)}function fO(t,{relative:e}={}){let n=V.useContext(Z1);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=oS("useViewTransitionState"),a=ph(t,{relative:e});if(!n.isTransitioning)return!1;let o=Zs(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Zs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Kf(a.pathname,u)!=null||Kf(a.pathname,o)!=null}var ru=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mO={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},pO=class{#e=mO;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},eo=new pO;function gO(t){setTimeout(t,0)}var uo=typeof window>"u"||"Deno"in globalThis;function Nn(){}function yO(t,e){return typeof t=="function"?t(e):t}function Py(t){return typeof t=="number"&&t>=0&&t!==1/0}function lS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yi(t,e){return typeof t=="function"?t(e):t}function vr(t,e){return typeof t=="function"?t(e):t}function QE(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:u,stale:h}=t;if(u){if(r){if(e.queryHash!==kv(u,e.options))return!1}else if(!Zc(e.queryKey,u))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||o&&!o(e))}function ZE(t,e){const{exact:n,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(co(e.options.mutationKey)!==co(o))return!1}else if(!Zc(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function kv(t,e){return(e?.queryKeyHashFn||co)(t)}function co(t){return JSON.stringify(t,(e,n)=>jy(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Zc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Zc(t[n],e[n])):!1}var vO=Object.prototype.hasOwnProperty;function uS(t,e){if(t===e)return t;const n=YE(t)&&YE(e);if(!n&&!(jy(t)&&jy(e)))return e;const a=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),u=o.length,h=n?new Array(u):{};let d=0;for(let p=0;p<u;p++){const v=n?p:o[p],b=t[v],w=e[v];if(b===w){h[v]=b,(n?p<a:vO.call(t,v))&&d++;continue}if(b===null||w===null||typeof b!="object"||typeof w!="object"){h[v]=w;continue}const T=uS(b,w);h[v]=T,T===b&&d++}return a===u&&d===a?t:h}function Qf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function YE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jy(t){if(!XE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!XE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function XE(t){return Object.prototype.toString.call(t)==="[object Object]"}function _O(t){return new Promise(e=>{eo.setTimeout(e,t)})}function My(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?uS(t,e):e}function bO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function xO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Pv=Symbol();function cS(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Pv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function jv(t,e){return typeof t=="function"?t(...e):!!t}function EO(t,e,n){let r=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??=e(),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var wO=class extends ru{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!uo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Mv=new wO;function Vy(){let t,e;const n=new Promise((a,o)=>{t=a,e=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}var TO=gO;function SO(){let t=[],e=0,n=h=>{h()},r=h=>{h()},a=TO;const o=h=>{e?t.push(h):a(()=>{n(h)})},u=()=>{const h=t;t=[],h.length&&a(()=>{r(()=>{h.forEach(d=>{n(d)})})})};return{batch:h=>{let d;e++;try{d=h()}finally{e--,e||u()}return d},batchCalls:h=>(...d)=>{o(()=>{h(...d)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{a=h}}}var rn=SO(),AO=class extends ru{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!uo&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Zf=new AO;function IO(t){return Math.min(1e3*2**t,3e4)}function hS(t){return(t??"online")==="online"?Zf.isOnline():!0}var zy=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function dS(t){let e=!1,n=0,r;const a=Vy(),o=()=>a.status!=="pending",u=k=>{if(!o()){const z=new zy(k);w(z),t.onCancel?.(z)}},h=()=>{e=!0},d=()=>{e=!1},p=()=>Mv.isFocused()&&(t.networkMode==="always"||Zf.isOnline())&&t.canRun(),v=()=>hS(t.networkMode)&&t.canRun(),b=k=>{o()||(r?.(),a.resolve(k))},w=k=>{o()||(r?.(),a.reject(k))},T=()=>new Promise(k=>{r=z=>{(o()||p())&&k(z)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),D=()=>{if(o())return;let k;const z=n===0?t.initialPromise:void 0;try{k=z??t.fn()}catch(J){k=Promise.reject(J)}Promise.resolve(k).then(b).catch(J=>{if(o())return;const K=t.retry??(uo?0:3),U=t.retryDelay??IO,Y=typeof U=="function"?U(n,J):U,ne=K===!0||typeof K=="number"&&n<K||typeof K=="function"&&K(n,J);if(e||!ne){w(J);return}n++,t.onFail?.(n,J),_O(Y).then(()=>p()?void 0:T()).then(()=>{e?w(J):D()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(r?.(),a),cancelRetry:h,continueRetry:d,canStart:v,start:()=>(v()?D():T().then(D),a)}}var fS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Py(this.gcTime)&&(this.#e=eo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(uo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(eo.clearTimeout(this.#e),this.#e=void 0)}},RO=class extends fS{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=WE(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=WE(this.options);n.data!==void 0&&(this.setState(JE(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=My(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(Nn).catch(Nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>vr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Yi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!lS(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const d=cS(this.options,n),v=(()=>{const b={client:this.#s,queryKey:this.queryKey,meta:this.meta};return a(b),b})();return this.#o=!1,this.options.persister?this.options.persister(d,v,this):d(v)},h=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return a(d),d})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#i({type:"fetch",meta:h.fetchOptions?.meta}),this.#r=dS({initialPromise:n?.initialPromise,fn:h.fetchFn,onCancel:d=>{d instanceof zy&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,p)=>{this.#i({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof zy){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...mS(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...JE(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),rn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function mS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function JE(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function WE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var NO=class extends ru{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=Vy(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#d;#f;#u;#c;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),ew(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ly(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ly(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),e._defaulted&&!Qf(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&tw(this.#t,n,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#t!==n||vr(this.options.enabled,this.#t)!==vr(e.enabled,this.#t)||Yi(this.options.staleTime,this.#t)!==Yi(e.staleTime,this.#t))&&this.#g();const a=this.#y();r&&(this.#t!==n||vr(this.options.enabled,this.#t)!==vr(e.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return DO(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(t){this.#E();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Nn)),e}#g(){this.#b();const t=Yi(this.options.staleTime,this.#t);if(uo||this.#s.isStale||!Py(t))return;const n=lS(this.#s.dataUpdatedAt,t)+1;this.#u=eo.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#l=t,!(uo||vr(this.options.enabled,this.#t)===!1||!Py(this.#l)||this.#l===0)&&(this.#c=eo.setInterval(()=>{(this.options.refetchIntervalInBackground||Mv.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#b(){this.#u&&(eo.clearTimeout(this.#u),this.#u=void 0)}#x(){this.#c&&(eo.clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const n=this.#t,r=this.options,a=this.#s,o=this.#r,u=this.#a,d=t!==n?t.state:this.#n,{state:p}=t;let v={...p},b=!1,w;if(e._optimisticResults){const A=this.hasListeners(),C=!A&&ew(t,e),j=A&&tw(t,n,e,r);(C||j)&&(v={...v,...mS(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:T,errorUpdatedAt:D,status:k}=v;w=v.data;let z=!1;if(e.placeholderData!==void 0&&w===void 0&&k==="pending"){let A;a?.isPlaceholderData&&e.placeholderData===u?.placeholderData?(A=a.data,z=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,A!==void 0&&(k="success",w=My(a?.data,A,e),b=!0)}if(e.select&&w!==void 0&&!z)if(a&&w===o?.data&&e.select===this.#p)w=this.#d;else try{this.#p=e.select,w=e.select(w),w=My(a?.data,w,e),this.#d=w,this.#i=null}catch(A){this.#i=A}this.#i&&(T=this.#i,w=this.#d,D=Date.now(),k="error");const J=v.fetchStatus==="fetching",K=k==="pending",U=k==="error",Y=K&&J,ne=w!==void 0,R={status:k,fetchStatus:v.fetchStatus,isPending:K,isSuccess:k==="success",isError:U,isInitialLoading:Y,isLoading:Y,data:w,dataUpdatedAt:v.dataUpdatedAt,error:T,errorUpdatedAt:D,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>d.dataUpdateCount||v.errorUpdateCount>d.errorUpdateCount,isFetching:J,isRefetching:J&&!K,isLoadingError:U&&!ne,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:U&&ne,isStale:Vv(t,e),refetch:this.refetch,promise:this.#o,isEnabled:vr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=M=>{R.status==="error"?M.reject(R.error):R.data!==void 0&&M.resolve(R.data)},C=()=>{const M=this.#o=R.promise=Vy();A(M)},j=this.#o;switch(j.status){case"pending":t.queryHash===n.queryHash&&A(j);break;case"fulfilled":(R.status==="error"||R.data!==j.value)&&C();break;case"rejected":(R.status!=="error"||R.error!==j.reason)&&C();break}}return R}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),Qf(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#m.size)return!0;const o=new Set(a??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(u=>{const h=u;return this.#s[h]!==t[h]&&o.has(h)})};this.#w({listeners:n()})}#E(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#w(t){rn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function CO(t,e){return vr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ew(t,e){return CO(t,e)||t.state.data!==void 0&&Ly(t,e,e.refetchOnMount)}function Ly(t,e,n){if(vr(e.enabled,t)!==!1&&Yi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Vv(t,e)}return!1}function tw(t,e,n,r){return(t!==e||vr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Vv(t,n)}function Vv(t,e){return vr(e.enabled,t)!==!1&&t.isStaleByTime(Yi(e.staleTime,t))}function DO(t,e){return!Qf(t.getCurrentResult(),e)}function nw(t){return{onFetch:(e,n)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},d=0;const p=async()=>{let v=!1;const b=D=>{EO(D,()=>e.signal,()=>v=!0)},w=cS(e.options,e.fetchOptions),T=async(D,k,z)=>{if(v)return Promise.reject();if(k==null&&D.pages.length)return Promise.resolve(D);const K=(()=>{const fe={client:e.client,queryKey:e.queryKey,pageParam:k,direction:z?"backward":"forward",meta:e.options.meta};return b(fe),fe})(),U=await w(K),{maxPages:Y}=e.options,ne=z?xO:bO;return{pages:ne(D.pages,U,Y),pageParams:ne(D.pageParams,k,Y)}};if(a&&o.length){const D=a==="backward",k=D?OO:rw,z={pages:o,pageParams:u},J=k(r,z);h=await T(z,J,D)}else{const D=t??o.length;do{const k=d===0?u[0]??r.initialPageParam:rw(r,h);if(d>0&&k==null)break;h=await T(h,k),d++}while(d<D)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function rw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function OO(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var kO=class extends fS{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||pS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=dS({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,h)=>{this.#r({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",o=!this.#s.canStart();try{if(a)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const h=await this.options.onMutate?.(e,r);h!==this.state.context&&this.#r({type:"pending",context:h,variables:e,isPaused:o})}const u=await this.#s.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#r({type:"success",data:u}),u}catch(u){try{await this.#n.config.onError?.(u,e,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onError?.(u,e,this.state.context,r)}catch(h){Promise.reject(h)}try{await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onSettled?.(void 0,u,e,this.state.context,r)}catch(h){Promise.reject(h)}throw this.#r({type:"error",error:u}),u}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),rn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function pS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var PO=class extends ru{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new kO({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=lf(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=lf(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=lf(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=lf(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){rn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>ZE(e,n))}findAll(t={}){return this.getAll().filter(e=>ZE(t,e))}notify(t){rn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return rn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Nn))))}};function lf(t){return t.options.scope?.id}var jO=class extends ru{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Qf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&co(n.mutationKey)!==co(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??pS();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){rn.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(e.data,null,n,r,a)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,e.error,n,r,a)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},MO=class extends ru{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,a=e.queryHash??kv(r,e);let o=this.get(a);return o||(o=new RO({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>QE(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>QE(t,n)):e}notify(t){rn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){rn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},VO=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new MO,this.#t=t.mutationCache||new PO,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Mv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Zf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Yi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,u=yO(e,o);if(u!==void 0)return this.#e.build(this,r).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return rn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;rn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return rn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=rn.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(Nn).catch(Nn)}invalidateQueries(t,e={}){return rn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=rn.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(Nn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Nn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Yi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Nn).catch(Nn)}fetchInfiniteQuery(t){return t.behavior=nw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Nn).catch(Nn)}ensureInfiniteQueryData(t){return t.behavior=nw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Zf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(co(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Zc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(co(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Zc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=kv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Pv&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},gS=V.createContext(void 0),su=t=>{const e=V.useContext(gS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},zO=({client:t,children:e})=>(V.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(gS.Provider,{value:t,children:e})),yS=V.createContext(!1),LO=()=>V.useContext(yS);yS.Provider;function UO(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var FO=V.createContext(UO()),BO=()=>V.useContext(FO),qO=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?jv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},$O=t=>{V.useEffect(()=>{t.clearReset()},[t])},HO=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||jv(n,[t.error,r])),GO=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},KO=(t,e)=>t.isLoading&&t.isFetching&&!e,QO=(t,e)=>t?.suspense&&e.isPending,sw=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function ZO(t,e,n){const r=LO(),a=BO(),o=su(),u=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(u);const h=o.getQueryCache().get(u.queryHash);u._optimisticResults=r?"isRestoring":"optimistic",GO(u),qO(u,a,h),$O(a);const d=!o.getQueryCache().get(u.queryHash),[p]=V.useState(()=>new e(o,u)),v=p.getOptimisticResult(u),b=!r&&t.subscribed!==!1;if(V.useSyncExternalStore(V.useCallback(w=>{const T=b?p.subscribe(rn.batchCalls(w)):Nn;return p.updateResult(),T},[p,b]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),V.useEffect(()=>{p.setOptions(u)},[u,p]),QO(u,v))throw sw(u,p,a);if(HO({result:v,errorResetBoundary:a,throwOnError:u.throwOnError,query:h,suspense:u.suspense}))throw v.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(u,v),u.experimental_prefetchInRender&&!uo&&KO(v,r)&&(d?sw(u,p,a):h?.promise)?.catch(Nn).finally(()=>{p.updateResult()}),u.notifyOnChangeProps?v:p.trackResult(v)}function vS(t,e){return ZO(t,NO)}function Dm(t,e){const n=su(),[r]=V.useState(()=>new jO(n,t));V.useEffect(()=>{r.setOptions(t)},[r,t]);const a=V.useSyncExternalStore(V.useCallback(u=>r.subscribe(rn.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=V.useCallback((u,h)=>{r.mutate(u,h).catch(Nn)},[r]);if(a.error&&jv(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}const YO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),iw=t=>{const e=XO(t);return e.charAt(0).toUpperCase()+e.slice(1)},_S=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),JO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var WO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ek=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...h},d)=>V.createElement("svg",{ref:d,...WO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_S("lucide",a),...!o&&!JO(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,v])=>V.createElement(p,v)),...Array.isArray(o)?o:[o]]));const yt=(t,e)=>{const n=V.forwardRef(({className:r,...a},o)=>V.createElement(ek,{ref:o,iconNode:e,className:_S(`lucide-${YO(iw(t))}`,`lucide-${t}`,r),...a}));return n.displayName=iw(t),n};const tk=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],aw=yt("activity",tk);const nk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rk=yt("arrow-left",nk);const sk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vc=yt("arrow-right",sk);const ik=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Tf=yt("award",ik);const ak=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],ok=yt("calculator",ak);const lk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ra=yt("calendar",lk);const uk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Tc=yt("check",uk);const ck=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bS=yt("chevron-down",ck);const hk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ow=yt("chevron-left",hk);const dk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fk=yt("chevron-up",dk);const mk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xS=yt("circle-check-big",mk);const pk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Yc=yt("clock",pk);const gk=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zv=yt("external-link",gk);const yk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],vk=yt("house",yk);const _k=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ES=yt("map-pin",_k);const bk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xk=yt("menu",bk);const Ek=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],wk=yt("play",Ek);const Tk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sk=yt("plus",Tk);const Ak=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ik=yt("rotate-ccw",Ak);const Rk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Nk=yt("search",Rk);const Ck=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Dk=yt("star",Ck);const Ok=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],kk=yt("swords",Ok);const Pk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wS=yt("target",Pk);const jk=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],lw=yt("trending-up",jk);const Mk=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],er=yt("trophy",Mk);const Vk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],zk=yt("user-plus",Vk);const Lk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Lv=yt("users",Lk);const Uk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],TS=yt("x",Uk);function SS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=SS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fk(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=SS(t))&&(r&&(r+=" "),r+=e);return r}const Bk=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},qk=(t,e)=>({classGroupId:t,validator:e}),AS=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Yf="-",uw=[],$k="arbitrary..",Hk=t=>{const e=Kk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Gk(u);const h=u.split(Yf),d=h[0]===""&&h.length>1?1:0;return IS(h,d,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const d=r[u],p=n[u];return d?p?Bk(p,d):d:p||uw}return n[u]||uw}}},IS=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],o=n.nextPart.get(a);if(o){const p=IS(t,e+1,o);if(p)return p}const u=n.validators;if(u===null)return;const h=e===0?t.join(Yf):t.slice(e).join(Yf),d=u.length;for(let p=0;p<d;p++){const v=u[p];if(v.validator(h))return v.classGroupId}},Gk=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?$k+r:void 0})(),Kk=t=>{const{theme:e,classGroups:n}=t;return Qk(n,e)},Qk=(t,e)=>{const n=AS();for(const r in t){const a=t[r];Uv(a,n,r,e)}return n},Uv=(t,e,n,r)=>{const a=t.length;for(let o=0;o<a;o++){const u=t[o];Zk(u,e,n,r)}},Zk=(t,e,n,r)=>{if(typeof t=="string"){Yk(t,e,n);return}if(typeof t=="function"){Xk(t,e,n,r);return}Jk(t,e,n,r)},Yk=(t,e,n)=>{const r=t===""?e:RS(e,t);r.classGroupId=n},Xk=(t,e,n,r)=>{if(Wk(t)){Uv(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(qk(n,t))},Jk=(t,e,n,r)=>{const a=Object.entries(t),o=a.length;for(let u=0;u<o;u++){const[h,d]=a[u];Uv(d,RS(e,h),n,r)}},RS=(t,e)=>{let n=t;const r=e.split(Yf),a=r.length;for(let o=0;o<a;o++){const u=r[o];let h=n.nextPart.get(u);h||(h=AS(),n.nextPart.set(u,h)),n=h}return n},Wk=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,eP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(o,u)=>{n[o]=u,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let u=n[o];if(u!==void 0)return u;if((u=r[o])!==void 0)return a(o,u),u},set(o,u){o in n?n[o]=u:a(o,u)}}},Uy="!",cw=":",tP=[],hw=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),nP=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const o=[];let u=0,h=0,d=0,p;const v=a.length;for(let k=0;k<v;k++){const z=a[k];if(u===0&&h===0){if(z===cw){o.push(a.slice(d,k)),d=k+1;continue}if(z==="/"){p=k;continue}}z==="["?u++:z==="]"?u--:z==="("?h++:z===")"&&h--}const b=o.length===0?a:a.slice(d);let w=b,T=!1;b.endsWith(Uy)?(w=b.slice(0,-1),T=!0):b.startsWith(Uy)&&(w=b.slice(1),T=!0);const D=p&&p>d?p-d:void 0;return hw(o,T,w,D)};if(e){const a=e+cw,o=r;r=u=>u.startsWith(a)?o(u.slice(a.length)):hw(tP,!1,u,void 0,!0)}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},rP=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let o=0;o<n.length;o++){const u=n[o],h=u[0]==="[",d=e.has(u);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(u)):a.push(u)}return a.length>0&&(a.sort(),r.push(...a)),r}},sP=t=>({cache:eP(t.cacheSize),parseClassName:nP(t),sortModifiers:rP(t),...Hk(t)}),iP=/\s+/,aP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,u=[],h=t.trim().split(iP);let d="";for(let p=h.length-1;p>=0;p-=1){const v=h[p],{isExternal:b,modifiers:w,hasImportantModifier:T,baseClassName:D,maybePostfixModifierPosition:k}=n(v);if(b){d=v+(d.length>0?" "+d:d);continue}let z=!!k,J=r(z?D.substring(0,k):D);if(!J){if(!z){d=v+(d.length>0?" "+d:d);continue}if(J=r(D),!J){d=v+(d.length>0?" "+d:d);continue}z=!1}const K=w.length===0?"":w.length===1?w[0]:o(w).join(":"),U=T?K+Uy:K,Y=U+J;if(u.indexOf(Y)>-1)continue;u.push(Y);const ne=a(J,z);for(let fe=0;fe<ne.length;++fe){const R=ne[fe];u.push(U+R)}d=v+(d.length>0?" "+d:d)}return d},oP=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=NS(n))&&(a&&(a+=" "),a+=r);return a},NS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=NS(t[r]))&&(n&&(n+=" "),n+=e);return n},lP=(t,...e)=>{let n,r,a,o;const u=d=>{const p=e.reduce((v,b)=>b(v),t());return n=sP(p),r=n.cache.get,a=n.cache.set,o=h,h(d)},h=d=>{const p=r(d);if(p)return p;const v=aP(d,n);return a(d,v),v};return o=u,(...d)=>o(oP(...d))},uP=[],nn=t=>{const e=n=>n[t]||uP;return e.isThemeGetter=!0,e},CS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,DS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cP=/^\d+\/\d+$/,hP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bl=t=>cP.test(t),Ve=t=>!!t&&!Number.isNaN(Number(t)),Li=t=>!!t&&Number.isInteger(Number(t)),py=t=>t.endsWith("%")&&Ve(t.slice(0,-1)),Bs=t=>hP.test(t),gP=()=>!0,yP=t=>dP.test(t)&&!fP.test(t),OS=()=>!1,vP=t=>mP.test(t),_P=t=>pP.test(t),bP=t=>!ye(t)&&!ve(t),xP=t=>iu(t,jS,OS),ye=t=>CS.test(t),$a=t=>iu(t,MS,yP),gy=t=>iu(t,AP,Ve),dw=t=>iu(t,kS,OS),EP=t=>iu(t,PS,_P),uf=t=>iu(t,VS,vP),ve=t=>DS.test(t),Sc=t=>au(t,MS),wP=t=>au(t,IP),fw=t=>au(t,kS),TP=t=>au(t,jS),SP=t=>au(t,PS),cf=t=>au(t,VS,!0),iu=(t,e,n)=>{const r=CS.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},au=(t,e,n=!1)=>{const r=DS.exec(t);return r?r[1]?e(r[1]):n:!1},kS=t=>t==="position"||t==="percentage",PS=t=>t==="image"||t==="url",jS=t=>t==="length"||t==="size"||t==="bg-size",MS=t=>t==="length",AP=t=>t==="number",IP=t=>t==="family-name",VS=t=>t==="shadow",RP=()=>{const t=nn("color"),e=nn("font"),n=nn("text"),r=nn("font-weight"),a=nn("tracking"),o=nn("leading"),u=nn("breakpoint"),h=nn("container"),d=nn("spacing"),p=nn("radius"),v=nn("shadow"),b=nn("inset-shadow"),w=nn("text-shadow"),T=nn("drop-shadow"),D=nn("blur"),k=nn("perspective"),z=nn("aspect"),J=nn("ease"),K=nn("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ne=()=>[...Y(),ve,ye],fe=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],A=()=>[ve,ye,d],C=()=>[bl,"full","auto",...A()],j=()=>[Li,"none","subgrid",ve,ye],M=()=>["auto",{span:["full",Li,ve,ye]},Li,ve,ye],F=()=>[Li,"auto",ve,ye],O=()=>["auto","min","max","fr",ve,ye],Qe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Xe=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...A()],he=()=>[bl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],le=()=>[t,ve,ye],Me=()=>[...Y(),fw,dw,{position:[ve,ye]}],qe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",TP,xP,{size:[ve,ye]}],Q=()=>[py,Sc,$a],ae=()=>["","none","full",p,ve,ye],ue=()=>["",Ve,Sc,$a],we=()=>["solid","dashed","dotted","double"],Re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[Ve,py,fw,dw],Ct=()=>["","none",D,ve,ye],st=()=>["none",Ve,ve,ye],sr=()=>["none",Ve,ve,ye],qr=()=>[Ve,ve,ye],Ar=()=>[bl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bs],breakpoint:[Bs],color:[gP],container:[Bs],"drop-shadow":[Bs],ease:["in","out","in-out"],font:[bP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bs],shadow:[Bs],spacing:["px",Ve],text:[Bs],"text-shadow":[Bs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",bl,ye,ve,z]}],container:["container"],columns:[{columns:[Ve,ye,ve,h]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ne()}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Li,"auto",ve,ye]}],basis:[{basis:[bl,"full","auto",h,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,bl,"auto","initial","none",ye]}],grow:[{grow:["",Ve,ve,ye]}],shrink:[{shrink:["",Ve,ve,ye]}],order:[{order:[Li,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Qe(),"normal"]}],"justify-items":[{"justify-items":[...Xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Xe()]}],"align-content":[{content:["normal",...Qe()]}],"align-items":[{items:[...Xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Qe()}],"place-items":[{"place-items":[...Xe(),"baseline"]}],"place-self":[{"place-self":["auto",...Xe()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:he()}],w:[{w:[h,"screen",...he()]}],"min-w":[{"min-w":[h,"screen","none",...he()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...he()]}],h:[{h:["screen","lh",...he()]}],"min-h":[{"min-h":["screen","lh","none",...he()]}],"max-h":[{"max-h":["screen","lh",...he()]}],"font-size":[{text:["base",n,Sc,$a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,gy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",py,ye]}],"font-family":[{font:[wP,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,ye]}],"line-clamp":[{"line-clamp":[Ve,"none",ve,gy]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:le()}],"text-color":[{text:le()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",ve,$a]}],"text-decoration-color":[{decoration:le()}],"underline-offset":[{"underline-offset":[Ve,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Me()}],"bg-repeat":[{bg:qe()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Li,ve,ye],radial:["",ve,ye],conic:[Li,ve,ye]},SP,EP]}],"bg-color":[{bg:le()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:le()}],"gradient-via":[{via:le()}],"gradient-to":[{to:le()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...we(),"hidden","none"]}],"divide-style":[{divide:[...we(),"hidden","none"]}],"border-color":[{border:le()}],"border-color-x":[{"border-x":le()}],"border-color-y":[{"border-y":le()}],"border-color-s":[{"border-s":le()}],"border-color-e":[{"border-e":le()}],"border-color-t":[{"border-t":le()}],"border-color-r":[{"border-r":le()}],"border-color-b":[{"border-b":le()}],"border-color-l":[{"border-l":le()}],"divide-color":[{divide:le()}],"outline-style":[{outline:[...we(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,ve,ye]}],"outline-w":[{outline:["",Ve,Sc,$a]}],"outline-color":[{outline:le()}],shadow:[{shadow:["","none",v,cf,uf]}],"shadow-color":[{shadow:le()}],"inset-shadow":[{"inset-shadow":["none",b,cf,uf]}],"inset-shadow-color":[{"inset-shadow":le()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:le()}],"ring-offset-w":[{"ring-offset":[Ve,$a]}],"ring-offset-color":[{"ring-offset":le()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":le()}],"text-shadow":[{"text-shadow":["none",w,cf,uf]}],"text-shadow-color":[{"text-shadow":le()}],opacity:[{opacity:[Ve,ve,ye]}],"mix-blend":[{"mix-blend":[...Re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":le()}],"mask-image-linear-to-color":[{"mask-linear-to":le()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":le()}],"mask-image-t-to-color":[{"mask-t-to":le()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":le()}],"mask-image-r-to-color":[{"mask-r-to":le()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":le()}],"mask-image-b-to-color":[{"mask-b-to":le()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":le()}],"mask-image-l-to-color":[{"mask-l-to":le()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":le()}],"mask-image-x-to-color":[{"mask-x-to":le()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":le()}],"mask-image-y-to-color":[{"mask-y-to":le()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":le()}],"mask-image-radial-to-color":[{"mask-radial-to":le()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Y()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":le()}],"mask-image-conic-to-color":[{"mask-conic-to":le()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Me()}],"mask-repeat":[{mask:qe()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:Ct()}],brightness:[{brightness:[Ve,ve,ye]}],contrast:[{contrast:[Ve,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",T,cf,uf]}],"drop-shadow-color":[{"drop-shadow":le()}],grayscale:[{grayscale:["",Ve,ve,ye]}],"hue-rotate":[{"hue-rotate":[Ve,ve,ye]}],invert:[{invert:["",Ve,ve,ye]}],saturate:[{saturate:[Ve,ve,ye]}],sepia:[{sepia:["",Ve,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":Ct()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Ve,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",ve,ye]}],ease:[{ease:["linear","initial",J,ve,ye]}],delay:[{delay:[Ve,ve,ye]}],animate:[{animate:["none",K,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,ve,ye]}],"perspective-origin":[{"perspective-origin":ne()}],rotate:[{rotate:st()}],"rotate-x":[{"rotate-x":st()}],"rotate-y":[{"rotate-y":st()}],"rotate-z":[{"rotate-z":st()}],scale:[{scale:sr()}],"scale-x":[{"scale-x":sr()}],"scale-y":[{"scale-y":sr()}],"scale-z":[{"scale-z":sr()}],"scale-3d":["scale-3d"],skew:[{skew:qr()}],"skew-x":[{"skew-x":qr()}],"skew-y":[{"skew-y":qr()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:ne()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ar()}],"translate-x":[{"translate-x":Ar()}],"translate-y":[{"translate-y":Ar()}],"translate-z":[{"translate-z":Ar()}],"translate-none":["translate-none"],accent:[{accent:le()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:le()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...le()]}],"stroke-w":[{stroke:[Ve,Sc,$a,gy]}],stroke:[{stroke:["none",...le()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},NP=lP(RP);function Be(...t){return NP(Fk(t))}const CP=(t,e)=>{let n=null,r=0,a=0;return t.map(o=>{const u=e(o);return a+=1,(n===null||u!==n)&&(r=a,n=u),{...o,rank:r}})},DP={default:"bg-bg",subtle:"bg-bg-subtle",muted:"bg-bg-muted"},OP=Pt.forwardRef(({className:t,variant:e="default",children:n,...r},a)=>y.jsx("section",{ref:a,className:Be("py-8 md:py-12",DP[e],t),...r,children:n}));OP.displayName="Section";const kP={none:"",sm:"p-3",md:"p-4",lg:"p-6",xl:"p-8"},ze=Pt.forwardRef(({className:t,padding:e="lg",children:n,variant:r,theme:a,...o},u)=>y.jsx("div",{ref:u,className:Be("rounded-lg border border-border bg-bg-subtle",kP[e],t),...o,children:n}));ze.displayName="Card";const Sf=Pt.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:Be("flex flex-col gap-1.5 pb-4",t),...e}));Sf.displayName="CardHeader";const Af=Pt.forwardRef(({className:t,as:e="h3",...n},r)=>y.jsx(e,{ref:r,className:Be("text-lg font-semibold text-fg",t),...n}));Af.displayName="CardTitle";const If=Pt.forwardRef(({className:t,...e},n)=>y.jsx("p",{ref:n,className:Be("text-sm text-fg-muted",t),...e}));If.displayName="CardDescription";const et=Pt.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:Be("",t),...e}));et.displayName="CardContent";const PP=Pt.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:Be("flex items-center pt-4",t),...e}));PP.displayName="CardFooter";const jP={h1:"text-3xl md:text-4xl",h2:"text-2xl md:text-3xl",h3:"text-xl md:text-2xl",h4:"text-lg md:text-xl"},ua=Pt.forwardRef(({as:t="h2",className:e,description:n,children:r,...a},o)=>y.jsxs("div",{className:"mb-6",children:[y.jsx(t,{ref:o,className:Be("font-semibold tracking-tight text-fg",jP[t],e),...a,children:r}),n&&y.jsx("p",{className:"mt-1 text-fg-muted",children:n})]}));ua.displayName="Heading";const $s=Pt.forwardRef(({label:t,value:e,description:n,trend:r,className:a,...o},u)=>y.jsxs("div",{ref:u,className:Be("",a),...o,children:[y.jsx("dt",{className:"text-sm text-fg-muted",children:t}),y.jsxs("dd",{className:"mt-1 flex items-baseline gap-2",children:[y.jsx("span",{className:"text-2xl font-semibold text-fg",children:e}),r&&y.jsxs("span",{className:Be("text-sm font-medium",r==="up"&&"text-success",r==="down"&&"text-error",r==="neutral"&&"text-fg-muted"),children:[r==="up"&&"",r==="down"&&"",r==="neutral"&&""]})]}),n&&y.jsx("p",{className:"mt-1 text-sm text-fg-subtle",children:n})]}));$s.displayName="Stat";const Fv=Pt.forwardRef(({columns:t=3,className:e,children:n,...r},a)=>{const o={2:"grid-cols-2",3:"grid-cols-2 md:grid-cols-3",4:"grid-cols-2 md:grid-cols-4"};return y.jsx("dl",{ref:a,className:Be("grid gap-4",o[t],e),...r,children:n})});Fv.displayName="StatGroup";const MP={default:"bg-bg-muted text-fg-muted",success:"bg-success-subtle text-success",warning:"bg-warning-subtle text-warning",error:"bg-error-subtle text-error",accent:"bg-accent-subtle text-accent"},tr=Pt.forwardRef(({variant:t="default",className:e,...n},r)=>y.jsx("span",{ref:r,className:Be("inline-flex items-center rounded-lg px-2 py-0.5 text-xs font-medium",MP[t],e),...n}));tr.displayName="Badge";const VP={sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-12 w-12 text-base",xl:"h-16 w-16 text-lg"},Ll=Pt.forwardRef(({src:t,alt:e,fallback:n,size:r="md",className:a,...o},u)=>{const[h,d]=Pt.useState(!1),p=Pt.useMemo(()=>n?n.slice(0,2).toUpperCase():e?e.split(" ").map(v=>v[0]).join("").slice(0,2).toUpperCase():"?",[n,e]);return y.jsx("div",{ref:u,className:Be("relative flex shrink-0 items-center justify-center overflow-hidden rounded-full bg-bg-muted",VP[r],a),...o,children:t&&!h?y.jsx("img",{src:t,alt:e||"",className:"h-full w-full object-cover",onError:()=>d(!0)}):y.jsx("span",{className:"font-medium text-fg-muted",children:p})})});Ll.displayName="Avatar";const Fy=Pt.forwardRef(({divided:t=!1,className:e,children:n,...r},a)=>y.jsx("ul",{ref:a,className:Be(t&&"divide-y divide-border",e),...r,children:n}));Fy.displayName="List";const By=Pt.forwardRef(({className:t,children:e,...n},r)=>y.jsx("li",{ref:r,className:Be("flex items-center justify-between py-3",t),...n,children:e}));By.displayName="ListItem";const gt=Pt.forwardRef(({variant:t="default",size:e="md",loading:n,icon:r,iconPosition:a="left",className:o,children:u,disabled:h,...d},p)=>{const v={default:"bg-bg-subtle border border-border text-fg hover:bg-bg-muted",primary:"bg-accent text-white hover:opacity-90",secondary:"bg-bg-muted border border-border text-fg hover:bg-bg-subtle",ghost:"text-fg hover:bg-bg-subtle",destructive:"bg-error text-white hover:opacity-90"},b={sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"};return y.jsxs("button",{ref:p,className:Be("inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-bg","disabled:pointer-events-none disabled:opacity-50",v[t],b[e],o),disabled:h||n,...d,children:[n?y.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10",strokeOpacity:"0.25"}),y.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",strokeLinecap:"round"})]}):r&&a==="left"&&y.jsx("span",{className:"shrink-0",children:r}),u,!n&&r&&a==="right"&&y.jsx("span",{className:"shrink-0",children:r})]})});gt.displayName="Button";const zc=Pt.forwardRef(({className:t,error:e,type:n="text",...r},a)=>y.jsx("input",{type:n,ref:a,className:Be("flex h-10 w-full rounded-lg border bg-bg px-3 py-2 text-sm text-fg","placeholder:text-fg-subtle","focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-1 focus:ring-offset-bg","disabled:cursor-not-allowed disabled:opacity-50",e?"border-error":"border-border",t),...r}));zc.displayName="Input";const Bv=Pt.forwardRef(({className:t,error:e,children:n,...r},a)=>y.jsx("select",{ref:a,className:Be("flex h-10 w-full rounded-lg border bg-bg px-3 py-2 text-sm text-fg","focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-1 focus:ring-offset-bg","disabled:cursor-not-allowed disabled:opacity-50",e?"border-error":"border-border",t),...r,children:n}));Bv.displayName="Select";const Ga=Pt.forwardRef(({className:t,required:e,children:n,...r},a)=>y.jsxs("label",{ref:a,className:Be("text-sm font-medium text-fg",t),...r,children:[n,e&&y.jsx("span",{className:"ml-1 text-error",children:"*"})]}));Ga.displayName="Label";const qy=Pt.forwardRef(({className:t,children:e,...n},r)=>e?y.jsx("p",{ref:r,className:Be("text-sm text-error",t),...n,children:e}):null);qy.displayName="ErrorText";const yy="paddleup-theme";function mw(){return typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function pw(t){const e=document.documentElement;t==="system"?e.removeAttribute("data-theme"):e.setAttribute("data-theme",t)}function zP(){const[t,e]=V.useState(()=>typeof window>"u"?"system":localStorage.getItem(yy)||"system"),[n,r]=V.useState(()=>{if(typeof window>"u")return"light";const o=localStorage.getItem(yy);return o&&o!=="system"?o:mw()}),a=V.useCallback(o=>{e(o),localStorage.setItem(yy,o),pw(o),r(o==="system"?mw():o)},[]);return V.useEffect(()=>{pw(t)},[t]),V.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),u=h=>{t==="system"&&r(h.matches?"dark":"light")};return o.addEventListener("change",u),()=>o.removeEventListener("change",u)},[t]),{theme:t,resolvedTheme:n,setTheme:a,isDark:n==="dark"}}const $y=Pt.forwardRef(({showLabel:t=!1,className:e,...n},r)=>{const{theme:a,setTheme:o,isDark:u}=zP(),h=()=>{const p=["light","dark","system"],b=(p.indexOf(a)+1)%p.length;o(p[b])},d=()=>{switch(a){case"light":return"Light";case"dark":return"Dark";case"system":return"System"}};return y.jsxs("button",{ref:r,type:"button",onClick:h,className:Be("inline-flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium","text-fg-muted hover:bg-bg-subtle hover:text-fg","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",e),"aria-label":`Current theme: ${d()}. Click to change.`,...n,children:[y.jsxs("svg",{className:Be("h-4 w-4",u?"hidden":"block"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[y.jsx("circle",{cx:"12",cy:"12",r:"5"}),y.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}),y.jsx("svg",{className:Be("h-4 w-4",u?"block":"hidden"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:y.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),t&&y.jsx("span",{children:d()})]})});$y.displayName="ThemeToggle";const LP=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}},UP=({rank:t,className:e,size:n="md"})=>{const r={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},a=o=>o===1?"bg-warning/20 text-warning":o===2?"bg-surface-alt text-text-muted":o===3?"bg-bronze/20 text-bronze":"text-text-muted";return y.jsx("span",{className:Be("flex items-center justify-center rounded-full font-bold",r[n],a(t),e),children:LP(t)})},FP=({roundNumber:t,playerRankings:e,players:n,completedGames:r,totalGames:a,isExpanded:o,onToggleExpand:u,completionPercentage:h,formatWinPercentage:d})=>y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("button",{type:"button",onClick:u,className:"w-full flex items-center justify-between text-left",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-warning-subtle",children:y.jsx(er,{className:"h-5 w-5 text-warning"})}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-semibold text-fg",children:["Round ",t," Rankings"]}),y.jsxs("p",{className:"text-sm text-fg-muted",children:[r,"/",a," games (",h,"%)"]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(tr,{variant:r===a?"success":"default",children:o?"Hide":"Show"}),o?y.jsx(fk,{className:"h-5 w-5 text-fg-muted"}):y.jsx(bS,{className:"h-5 w-5 text-fg-muted"})]})]}),o&&y.jsx("div",{className:"mt-4 rounded-md border border-border overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-bg-muted border-b border-border",children:[y.jsx("th",{className:"px-3 py-2 text-left font-medium text-fg-muted",children:"Rank"}),y.jsx("th",{className:"px-3 py-2 text-left font-medium text-fg-muted",children:"Player"}),y.jsx("th",{className:"px-3 py-2 text-center font-medium text-fg-muted",children:"Court"}),t===1&&y.jsx("th",{className:"px-3 py-2 text-center font-medium text-fg-muted",children:"Next Court"}),y.jsx("th",{className:"px-3 py-2 text-center font-medium text-fg-muted",children:"W-L"}),y.jsx("th",{className:"px-3 py-2 text-center font-medium text-fg-muted",children:"Win %"}),y.jsx("th",{className:"px-3 py-2 text-center font-medium text-fg-muted",children:"Diff"})]})}),y.jsx("tbody",{className:"divide-y divide-border",children:e.map((p,v)=>{const b=n.find(T=>T.id===p.id),w=v+1;return y.jsxs("tr",{className:Be("transition-colors hover:bg-bg-subtle",w===1&&"bg-warning-subtle",w===2&&"bg-bg-muted",w===3&&"bg-bg-subtle"),children:[y.jsx("td",{className:"px-3 py-2",children:y.jsx("div",{className:Be("flex h-7 w-7 items-center justify-center rounded-full text-xs font-bold",w===1&&"bg-warning text-white",w===2&&"bg-fg-muted text-white",w===3&&"bg-fg-subtle text-white",w>3&&"bg-bg-muted text-fg-muted"),children:w})}),y.jsxs("td",{className:"px-3 py-2",children:[y.jsx("div",{className:"font-medium text-fg",children:b?.name||`Player ${p.id}`}),y.jsxs("div",{className:"text-xs text-fg-muted",children:["Seed #",p.seed]})]}),y.jsx("td",{className:"px-3 py-2 text-center",children:y.jsx("span",{className:"font-medium text-fg",children:p.courtNumber})}),t===1&&y.jsx("td",{className:"px-3 py-2 text-center",children:y.jsx("span",{className:"font-medium text-accent",children:typeof p.nextCourt=="number"&&p.nextCourt>0?p.nextCourt:"-"})}),y.jsx("td",{className:"px-3 py-2 text-center",children:y.jsxs("span",{className:"font-medium text-fg",children:[p.wins,"-",p.losses]})}),y.jsx("td",{className:"px-3 py-2 text-center",children:y.jsx("span",{className:"text-fg-muted",children:d(p.wins,p.losses)})}),y.jsx("td",{className:"px-3 py-2 text-center",children:y.jsxs("span",{className:Be("font-medium",p.pointDifferential>0&&"text-success",p.pointDifferential<0&&"text-error",p.pointDifferential===0&&"text-fg-muted"),children:[p.pointDifferential>0?"+":"",p.pointDifferential]})})]},p.id)})})]})})})]})}),BP=({roundNumber:t,playerRankings:e,players:n,completedGames:r,totalGames:a})=>{const[o,u]=V.useState(!1),h=a>0?Math.round(r/a*100):0,d=(p,v)=>{const b=p+v;return b===0?"0%":`${Math.round(p/b*100)}%`};return y.jsx(FP,{roundNumber:t,playerRankings:e,players:n,completedGames:r,totalGames:a,isExpanded:o,onToggleExpand:()=>u(p=>!p),completionPercentage:h,formatWinPercentage:d})},qP=({searchTerm:t,onInputChange:e,onClear:n,placeholder:r="Find your name...",className:a="",isOpen:o,filteredPlayers:u,onPlayerClick:h})=>y.jsxs("div",{className:Be("relative",a),children:[y.jsxs("div",{className:"relative",children:[y.jsx(Nk,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-fg-muted"}),y.jsx("input",{type:"text",value:t,onChange:d=>e(d.target.value),placeholder:r,className:"w-full h-10 pl-10 pr-10 rounded-md border border-border bg-bg-subtle text-fg placeholder:text-fg-muted focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent transition-colors"}),t&&y.jsx("button",{type:"button",onClick:n,className:"absolute right-3 top-1/2 -translate-y-1/2 flex h-5 w-5 items-center justify-center rounded-full bg-bg-muted hover:bg-bg text-fg-muted hover:text-fg transition-colors",children:y.jsx(TS,{className:"h-3 w-3"})})]}),o&&u.length>0&&y.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 rounded-md border border-border bg-bg-subtle shadow-lg max-h-64 overflow-y-auto",children:y.jsx("div",{className:"py-1",children:u.map(d=>y.jsxs("button",{type:"button",onClick:()=>h(d.id||""),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-bg-muted transition-colors",children:[y.jsx(Ll,{src:d.imageUrl,alt:d.name,size:"sm"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:"font-medium text-fg truncate",children:d.name}),d.dupr&&y.jsxs("div",{className:"text-xs text-fg-muted",children:["DUPR: ",d.dupr]})]})]},d.id))})}),o&&t&&u.length===0&&y.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 rounded-md border border-border bg-bg-subtle shadow-lg p-4 text-center",children:y.jsxs("p",{className:"text-sm text-fg-muted",children:["No players found matching ",t,""]})})]}),$P=({players:t,onPlayerSelect:e,onClear:n,placeholder:r="Find your name...",className:a=""})=>{const[o,u]=V.useState(""),[h,d]=V.useState(!1),p=V.useMemo(()=>o.trim()?t.filter(T=>T.name.toLowerCase().includes(o.toLowerCase())).slice(0,8).sort((T,D)=>T.name.localeCompare(D.name)):[],[t,o]),v=T=>{const D=t.find(k=>k.id===T);D&&(u(D.name),d(!1),e(T))},b=()=>{u(""),d(!1),n()},w=T=>{u(T),d(T.length>0)};return y.jsx(qP,{searchTerm:o,onInputChange:w,onClear:b,placeholder:r,className:a,isOpen:h,filteredPlayers:p,onPlayerClick:v})},HP=({isMenuOpen:t,setIsMenuOpen:e,locationPathname:n,navigation:r,children:a})=>y.jsxs("div",{className:"min-h-screen bg-bg",children:[y.jsxs("nav",{className:"sticky top-0 z-50 border-b border-border bg-bg/80 backdrop-blur-sm",children:[y.jsx("div",{className:"mx-auto max-w-6xl px-4",children:y.jsxs("div",{className:"flex h-14 items-center justify-between",children:[y.jsxs(At,{to:"/",className:"flex items-center gap-2",children:[y.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:y.jsx(er,{className:"h-4 w-4 text-white"})}),y.jsxs("div",{className:"hidden sm:block",children:[y.jsx("span",{className:"font-semibold text-fg",children:"Paddle Up"}),y.jsx("span",{className:"ml-1 text-fg-muted",children:"League"})]})]}),y.jsxs("div",{className:"hidden md:flex md:items-center md:gap-1",children:[r.map(o=>{const u=n===o.href;return y.jsx(At,{to:o.href,className:Be("rounded-lg px-3 py-2 text-sm font-medium transition-colors",u?"bg-bg-subtle text-fg":"text-fg-muted hover:bg-bg-subtle hover:text-fg"),children:o.name},o.name)}),y.jsx("div",{className:"ml-2 border-l border-border pl-2",children:y.jsx($y,{})})]}),y.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[y.jsx($y,{}),y.jsx(gt,{variant:"ghost",size:"sm",onClick:()=>e(!t),"aria-label":"Toggle menu",children:t?y.jsx(TS,{className:"h-5 w-5"}):y.jsx(xk,{className:"h-5 w-5"})})]})]})}),t&&y.jsx("div",{className:"border-t border-border md:hidden",children:y.jsx("div",{className:"space-y-1 px-4 py-3",children:r.map(o=>{const u=o.icon,h=n===o.href;return y.jsxs(At,{to:o.href,onClick:()=>e(!1),className:Be("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",h?"bg-bg-subtle text-fg":"text-fg-muted hover:bg-bg-subtle hover:text-fg"),children:[y.jsx(u,{className:"h-4 w-4"}),o.name]},o.name)})})})]}),y.jsx("main",{className:"mx-auto max-w-6xl px-4 py-8",children:a}),y.jsx("footer",{className:"mt-auto border-t border-border",children:y.jsx("div",{className:"mx-auto max-w-6xl px-4 py-6",children:y.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 sm:flex-row",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-fg-muted",children:[y.jsx(er,{className:"h-4 w-4"}),y.jsx("span",{children:"Paddle Up Premier League"})]}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-fg-subtle",children:[y.jsx("span",{children:"3.5+ DUPR"}),y.jsx("span",{children:""}),y.jsx("span",{children:"Sundays 7-10 PM"})]})]})})})]}),GP=({children:t})=>{const[e,n]=V.useState(!1),r=ti(),a=[{name:"Home",href:"/",icon:vk},{name:"Standings",href:"/standings",icon:er},{name:"Schedule",href:"/schedule",icon:ra},{name:"Format",href:"/format",icon:wS},{name:"Admin",href:"/admin",icon:ok}];return y.jsx(HP,{isMenuOpen:e,setIsMenuOpen:n,locationPathname:r.pathname,navigation:a,children:t})},KP=()=>{};var gw={};const zS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},QP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,v=o>>2,b=(o&3)<<4|h>>4;let w=(h&15)<<2|p>>6,T=p&63;d||(T=64,u||(w=64)),r.push(n[v],n[b],n[w],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||p==null||b==null)throw new ZP;const w=o<<2|h>>4;if(r.push(w),p!==64){const T=h<<4&240|p>>2;if(r.push(T),b!==64){const D=p<<6&192|b;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YP=function(t){const e=zS(t);return LS.encodeByteArray(e,!0)},Xf=function(t){return YP(t).replace(/\./g,"")},US=function(t){try{return LS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function FS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XP=()=>FS().__FIREBASE_DEFAULTS__,JP=()=>{if(typeof process>"u"||typeof gw>"u")return;const t=gw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&US(t[1]);return e&&JSON.parse(e)},Om=()=>{try{return KP()||XP()||JP()||WP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BS=t=>Om()?.emulatorHosts?.[t],ej=t=>{const e=BS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qS=()=>Om()?.config,$S=t=>Om()?.[`_${t}`];class tj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function ou(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HS(t){return(await fetch(t,{credentials:"include"})).ok}function nj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xf(JSON.stringify(n)),Xf(JSON.stringify(u)),""].join(".")}const Lc={};function rj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lc))Lc[e]?t.emulator.push(e):t.prod.push(e);return t}function sj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yw=!1;function GS(t,e){if(typeof window>"u"||typeof document>"u"||!ou(window.location.host)||Lc[t]===e||Lc[t]||yw)return;Lc[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=rj().prod.length>0;function u(){const w=document.getElementById(r);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{yw=!0,u()},w}function v(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=sj(r),T=n("text"),D=document.getElementById(T)||document.createElement("span"),k=n("learnmore"),z=document.getElementById(k)||document.createElement("a"),J=n("preprendIcon"),K=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const U=w.element;h(U),v(z,k);const Y=p();d(K,J),U.append(K,D,z,Y),document.body.appendChild(U)}o?(D.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ij(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function KS(){const t=Om()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uj(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QS(){return!KS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZS(){return!KS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function YS(){try{return typeof indexedDB=="object"}catch{return!1}}function cj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const hj="FirebaseError";class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hj,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gh.prototype.create)}}class gh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?dj(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new ni(a,h,r)}}function dj(t,e){return t.replace(fj,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const fj=/\{\$([^}]+)}/g;function mj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ho(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(vw(o)&&vw(u)){if(!ho(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function vw(t){return t!==null&&typeof t=="object"}function yh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pj(t,e){const n=new gj(t,e);return n.subscribe.bind(n)}class gj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yj(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=vy),a.error===void 0&&(a.error=vy),a.complete===void 0&&(a.complete=vy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vy(){}function Tn(t){return t&&t._delegate?t._delegate:t}class fo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ka="[DEFAULT]";class vj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bj(e))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ka){return this.instances.has(e)}getOptions(e=Ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_j(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ka){return this.component?this.component.multipleInstances?e:Ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _j(t){return t===Ka?void 0:t}function bj(t){return t.instantiationMode==="EAGER"}class xj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const Ej={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},wj=Ge.INFO,Tj={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},Sj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=Tj[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qv{constructor(e){this.name=e,this._logLevel=wj,this._logHandler=Sj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ej[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const Aj=(t,e)=>e.some(n=>t instanceof n);let _w,bw;function Ij(){return _w||(_w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rj(){return bw||(bw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XS=new WeakMap,Hy=new WeakMap,JS=new WeakMap,_y=new WeakMap,$v=new WeakMap;function Nj(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Xi(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&XS.set(n,t)}).catch(()=>{}),$v.set(e,t),e}function Cj(t){if(Hy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});Hy.set(t,e)}let Gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Dj(t){Gy=t(Gy)}function Oj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(by(this),e,...n);return JS.set(r,e.sort?e.sort():[e]),Xi(r)}:Rj().includes(t)?function(...e){return t.apply(by(this),e),Xi(XS.get(this))}:function(...e){return Xi(t.apply(by(this),e))}}function kj(t){return typeof t=="function"?Oj(t):(t instanceof IDBTransaction&&Cj(t),Aj(t,Ij())?new Proxy(t,Gy):t)}function Xi(t){if(t instanceof IDBRequest)return Nj(t);if(_y.has(t))return _y.get(t);const e=kj(t);return e!==t&&(_y.set(t,e),$v.set(e,t)),e}const by=t=>$v.get(t);function Pj(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),h=Xi(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Xi(u.result),d.oldVersion,d.newVersion,Xi(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const jj=["get","getKey","getAll","getAllKeys","count"],Mj=["put","add","delete","clear"],xy=new Map;function xw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xy.get(e))return xy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=Mj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||jj.includes(n)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return xy.set(e,o),o}Dj(t=>({...t,get:(e,n,r)=>xw(e,n)||t.get(e,n,r),has:(e,n)=>!!xw(e,n)||t.has(e,n)}));class Vj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zj(t){return t.getComponent()?.type==="VERSION"}const Ky="@firebase/app",Ew="0.14.6";const Ys=new qv("@firebase/app"),Lj="@firebase/app-compat",Uj="@firebase/analytics-compat",Fj="@firebase/analytics",Bj="@firebase/app-check-compat",qj="@firebase/app-check",$j="@firebase/auth",Hj="@firebase/auth-compat",Gj="@firebase/database",Kj="@firebase/data-connect",Qj="@firebase/database-compat",Zj="@firebase/functions",Yj="@firebase/functions-compat",Xj="@firebase/installations",Jj="@firebase/installations-compat",Wj="@firebase/messaging",eM="@firebase/messaging-compat",tM="@firebase/performance",nM="@firebase/performance-compat",rM="@firebase/remote-config",sM="@firebase/remote-config-compat",iM="@firebase/storage",aM="@firebase/storage-compat",oM="@firebase/firestore",lM="@firebase/ai",uM="@firebase/firestore-compat",cM="firebase",hM="12.6.0";const Qy="[DEFAULT]",dM={[Ky]:"fire-core",[Lj]:"fire-core-compat",[Fj]:"fire-analytics",[Uj]:"fire-analytics-compat",[qj]:"fire-app-check",[Bj]:"fire-app-check-compat",[$j]:"fire-auth",[Hj]:"fire-auth-compat",[Gj]:"fire-rtdb",[Kj]:"fire-data-connect",[Qj]:"fire-rtdb-compat",[Zj]:"fire-fn",[Yj]:"fire-fn-compat",[Xj]:"fire-iid",[Jj]:"fire-iid-compat",[Wj]:"fire-fcm",[eM]:"fire-fcm-compat",[tM]:"fire-perf",[nM]:"fire-perf-compat",[rM]:"fire-rc",[sM]:"fire-rc-compat",[iM]:"fire-gcs",[aM]:"fire-gcs-compat",[oM]:"fire-fst",[uM]:"fire-fst-compat",[lM]:"fire-vertex","fire-js":"fire-js",[cM]:"fire-js-all"};const Xc=new Map,fM=new Map,Zy=new Map;function ww(t,e){try{t.container.addComponent(e)}catch(n){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ul(t){const e=t.name;if(Zy.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;Zy.set(e,t);for(const n of Xc.values())ww(n,t);for(const n of fM.values())ww(n,t);return!0}function Hv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t==null?!1:t.settings!==void 0}const mM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new gh("app","Firebase",mM);class pM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}const lu=hM;function WS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Qy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ji.create("bad-app-name",{appName:String(a)});if(n||(n=qS()),!n)throw Ji.create("no-options");const o=Xc.get(a);if(o){if(ho(n,o.options)&&ho(r,o.config))return o;throw Ji.create("duplicate-app",{appName:a})}const u=new xj(a);for(const d of Zy.values())u.addComponent(d);const h=new pM(n,r,u);return Xc.set(a,h),h}function eA(t=Qy){const e=Xc.get(t);if(!e&&t===Qy&&qS())return WS();if(!e)throw Ji.create("no-app",{appName:t});return e}function Tw(){return Array.from(Xc.values())}function Wi(t,e,n){let r=dM[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ys.warn(u.join(" "));return}Ul(new fo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const gM="firebase-heartbeat-database",yM=1,Jc="firebase-heartbeat-store";let Ey=null;function tA(){return Ey||(Ey=Pj(gM,yM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ji.create("idb-open",{originalErrorMessage:t.message})})),Ey}async function vM(t){try{const n=(await tA()).transaction(Jc),r=await n.objectStore(Jc).get(nA(t));return await n.done,r}catch(e){if(e instanceof ni)Ys.warn(e.message);else{const n=Ji.create("idb-get",{originalErrorMessage:e?.message});Ys.warn(n.message)}}}async function Sw(t,e){try{const r=(await tA()).transaction(Jc,"readwrite");await r.objectStore(Jc).put(e,nA(t)),await r.done}catch(n){if(n instanceof ni)Ys.warn(n.message);else{const r=Ji.create("idb-set",{originalErrorMessage:n?.message});Ys.warn(r.message)}}}function nA(t){return`${t.name}!${t.options.appId}`}const _M=1024,bM=30;class xM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Aw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>bM){const a=TM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Aw(),{heartbeatsToSend:n,unsentEntries:r}=EM(this._heartbeatsCache.heartbeats),a=Xf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ys.warn(e),""}}}function Aw(){return new Date().toISOString().substring(0,10)}function EM(t,e=_M){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Iw(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Iw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YS()?cj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Iw(t){return Xf(JSON.stringify({version:2,heartbeats:t})).length}function TM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function SM(t){Ul(new fo("platform-logger",e=>new Vj(e),"PRIVATE")),Ul(new fo("heartbeat",e=>new xM(e),"PRIVATE")),Wi(Ky,Ew,t),Wi(Ky,Ew,"esm2020"),Wi("fire-js","")}SM("");var Rw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ea,rA;(function(){var t;function e(R,A){function C(){}C.prototype=A.prototype,R.F=A.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(j,M,F){for(var O=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)O[Qe-2]=arguments[Qe];return A.prototype[M].apply(j,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,A,C){C||(C=0);const j=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)j[M]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(M=0;M<16;++M)j[M]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=R.g[0],C=R.g[1],M=R.g[2];let F=R.g[3],O;O=A+(F^C&(M^F))+j[0]+3614090360&4294967295,A=C+(O<<7&4294967295|O>>>25),O=F+(M^A&(C^M))+j[1]+3905402710&4294967295,F=A+(O<<12&4294967295|O>>>20),O=M+(C^F&(A^C))+j[2]+606105819&4294967295,M=F+(O<<17&4294967295|O>>>15),O=C+(A^M&(F^A))+j[3]+3250441966&4294967295,C=M+(O<<22&4294967295|O>>>10),O=A+(F^C&(M^F))+j[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=F+(M^A&(C^M))+j[5]+1200080426&4294967295,F=A+(O<<12&4294967295|O>>>20),O=M+(C^F&(A^C))+j[6]+2821735955&4294967295,M=F+(O<<17&4294967295|O>>>15),O=C+(A^M&(F^A))+j[7]+4249261313&4294967295,C=M+(O<<22&4294967295|O>>>10),O=A+(F^C&(M^F))+j[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=F+(M^A&(C^M))+j[9]+2336552879&4294967295,F=A+(O<<12&4294967295|O>>>20),O=M+(C^F&(A^C))+j[10]+4294925233&4294967295,M=F+(O<<17&4294967295|O>>>15),O=C+(A^M&(F^A))+j[11]+2304563134&4294967295,C=M+(O<<22&4294967295|O>>>10),O=A+(F^C&(M^F))+j[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=F+(M^A&(C^M))+j[13]+4254626195&4294967295,F=A+(O<<12&4294967295|O>>>20),O=M+(C^F&(A^C))+j[14]+2792965006&4294967295,M=F+(O<<17&4294967295|O>>>15),O=C+(A^M&(F^A))+j[15]+1236535329&4294967295,C=M+(O<<22&4294967295|O>>>10),O=A+(M^F&(C^M))+j[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=F+(C^M&(A^C))+j[6]+3225465664&4294967295,F=A+(O<<9&4294967295|O>>>23),O=M+(A^C&(F^A))+j[11]+643717713&4294967295,M=F+(O<<14&4294967295|O>>>18),O=C+(F^A&(M^F))+j[0]+3921069994&4294967295,C=M+(O<<20&4294967295|O>>>12),O=A+(M^F&(C^M))+j[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=F+(C^M&(A^C))+j[10]+38016083&4294967295,F=A+(O<<9&4294967295|O>>>23),O=M+(A^C&(F^A))+j[15]+3634488961&4294967295,M=F+(O<<14&4294967295|O>>>18),O=C+(F^A&(M^F))+j[4]+3889429448&4294967295,C=M+(O<<20&4294967295|O>>>12),O=A+(M^F&(C^M))+j[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=F+(C^M&(A^C))+j[14]+3275163606&4294967295,F=A+(O<<9&4294967295|O>>>23),O=M+(A^C&(F^A))+j[3]+4107603335&4294967295,M=F+(O<<14&4294967295|O>>>18),O=C+(F^A&(M^F))+j[8]+1163531501&4294967295,C=M+(O<<20&4294967295|O>>>12),O=A+(M^F&(C^M))+j[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=F+(C^M&(A^C))+j[2]+4243563512&4294967295,F=A+(O<<9&4294967295|O>>>23),O=M+(A^C&(F^A))+j[7]+1735328473&4294967295,M=F+(O<<14&4294967295|O>>>18),O=C+(F^A&(M^F))+j[12]+2368359562&4294967295,C=M+(O<<20&4294967295|O>>>12),O=A+(C^M^F)+j[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=F+(A^C^M)+j[8]+2272392833&4294967295,F=A+(O<<11&4294967295|O>>>21),O=M+(F^A^C)+j[11]+1839030562&4294967295,M=F+(O<<16&4294967295|O>>>16),O=C+(M^F^A)+j[14]+4259657740&4294967295,C=M+(O<<23&4294967295|O>>>9),O=A+(C^M^F)+j[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=F+(A^C^M)+j[4]+1272893353&4294967295,F=A+(O<<11&4294967295|O>>>21),O=M+(F^A^C)+j[7]+4139469664&4294967295,M=F+(O<<16&4294967295|O>>>16),O=C+(M^F^A)+j[10]+3200236656&4294967295,C=M+(O<<23&4294967295|O>>>9),O=A+(C^M^F)+j[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=F+(A^C^M)+j[0]+3936430074&4294967295,F=A+(O<<11&4294967295|O>>>21),O=M+(F^A^C)+j[3]+3572445317&4294967295,M=F+(O<<16&4294967295|O>>>16),O=C+(M^F^A)+j[6]+76029189&4294967295,C=M+(O<<23&4294967295|O>>>9),O=A+(C^M^F)+j[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=F+(A^C^M)+j[12]+3873151461&4294967295,F=A+(O<<11&4294967295|O>>>21),O=M+(F^A^C)+j[15]+530742520&4294967295,M=F+(O<<16&4294967295|O>>>16),O=C+(M^F^A)+j[2]+3299628645&4294967295,C=M+(O<<23&4294967295|O>>>9),O=A+(M^(C|~F))+j[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=F+(C^(A|~M))+j[7]+1126891415&4294967295,F=A+(O<<10&4294967295|O>>>22),O=M+(A^(F|~C))+j[14]+2878612391&4294967295,M=F+(O<<15&4294967295|O>>>17),O=C+(F^(M|~A))+j[5]+4237533241&4294967295,C=M+(O<<21&4294967295|O>>>11),O=A+(M^(C|~F))+j[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=F+(C^(A|~M))+j[3]+2399980690&4294967295,F=A+(O<<10&4294967295|O>>>22),O=M+(A^(F|~C))+j[10]+4293915773&4294967295,M=F+(O<<15&4294967295|O>>>17),O=C+(F^(M|~A))+j[1]+2240044497&4294967295,C=M+(O<<21&4294967295|O>>>11),O=A+(M^(C|~F))+j[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=F+(C^(A|~M))+j[15]+4264355552&4294967295,F=A+(O<<10&4294967295|O>>>22),O=M+(A^(F|~C))+j[6]+2734768916&4294967295,M=F+(O<<15&4294967295|O>>>17),O=C+(F^(M|~A))+j[13]+1309151649&4294967295,C=M+(O<<21&4294967295|O>>>11),O=A+(M^(C|~F))+j[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=F+(C^(A|~M))+j[11]+3174756917&4294967295,F=A+(O<<10&4294967295|O>>>22),O=M+(A^(F|~C))+j[2]+718787259&4294967295,M=F+(O<<15&4294967295|O>>>17),O=C+(F^(M|~A))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const C=A-this.blockSize,j=this.C;let M=this.h,F=0;for(;F<A;){if(M==0)for(;F<=C;)a(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<A;)if(j[M++]=R.charCodeAt(F++),M==this.blockSize){a(this,j),M=0;break}}else for(;F<A;)if(j[M++]=R[F++],M==this.blockSize){a(this,j),M=0;break}}this.h=M,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)R[A++]=this.g[C]>>>j&255;return R};function o(R,A){var C=h;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=A(R)}function u(R,A){this.h=A;const C=[];let j=!0;for(let M=R.length-1;M>=0;M--){const F=R[M]|0;j&&F==A||(C[M]=F,j=!1)}this.g=C}var h={};function d(R){return-128<=R&&R<128?o(R,function(A){return new u([A|0],A<0?-1:0)}):new u([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return z(p(-R));const A=[];let C=1;for(let j=0;R>=C;j++)A[j]=R/C|0,C*=4294967296;return new u(A,0)}function v(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return z(v(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(A,8));let j=b;for(let F=0;F<R.length;F+=8){var M=Math.min(8,R.length-F);const O=parseInt(R.substring(F,F+M),A);M<8?(M=p(Math.pow(A,M)),j=j.j(M).add(p(O))):(j=j.j(C),j=j.add(p(O)))}return j}var b=d(0),w=d(1),T=d(16777216);t=u.prototype,t.m=function(){if(k(this))return-z(this).m();let R=0,A=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);R+=(j>=0?j:4294967296+j)*A,A*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(k(this))return"-"+z(this).toString(R);const A=p(Math.pow(R,6));var C=this;let j="";for(;;){const M=Y(C,A).g;C=J(C,M.j(A));let F=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=M,D(C))return F+j;for(;F.length<6;)F="0"+F;j=F+j}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function k(R){return R.h==-1}t.l=function(R){return R=J(this,R),k(R)?-1:D(R)?0:1};function z(R){const A=R.g.length,C=[];for(let j=0;j<A;j++)C[j]=~R.g[j];return new u(C,~R.h).add(w)}t.abs=function(){return k(this)?z(this):this},t.add=function(R){const A=Math.max(this.g.length,R.g.length),C=[];let j=0;for(let M=0;M<=A;M++){let F=j+(this.i(M)&65535)+(R.i(M)&65535),O=(F>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);j=O>>>16,F&=65535,O&=65535,C[M]=O<<16|F}return new u(C,C[C.length-1]&-2147483648?-1:0)};function J(R,A){return R.add(z(A))}t.j=function(R){if(D(this)||D(R))return b;if(k(this))return k(R)?z(this).j(z(R)):z(z(this).j(R));if(k(R))return z(this.j(z(R)));if(this.l(T)<0&&R.l(T)<0)return p(this.m()*R.m());const A=this.g.length+R.g.length,C=[];for(var j=0;j<2*A;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let M=0;M<R.g.length;M++){const F=this.i(j)>>>16,O=this.i(j)&65535,Qe=R.i(M)>>>16,Xe=R.i(M)&65535;C[2*j+2*M]+=O*Xe,K(C,2*j+2*M),C[2*j+2*M+1]+=F*Xe,K(C,2*j+2*M+1),C[2*j+2*M+1]+=O*Qe,K(C,2*j+2*M+1),C[2*j+2*M+2]+=F*Qe,K(C,2*j+2*M+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new u(C,0)};function K(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function U(R,A){this.g=R,this.h=A}function Y(R,A){if(D(A))throw Error("division by zero");if(D(R))return new U(b,b);if(k(R))return A=Y(z(R),A),new U(z(A.g),z(A.h));if(k(A))return A=Y(R,z(A)),new U(z(A.g),A.h);if(R.g.length>30){if(k(R)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,j=A;j.l(R)<=0;)C=ne(C),j=ne(j);var M=fe(C,1),F=fe(j,1);for(j=fe(j,2),C=fe(C,2);!D(j);){var O=F.add(j);O.l(R)<=0&&(M=M.add(C),F=O),j=fe(j,1),C=fe(C,1)}return A=J(R,M.j(A)),new U(M,A)}for(M=b;R.l(A)>=0;){for(C=Math.max(1,Math.floor(R.m()/A.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),F=p(C),O=F.j(A);k(O)||O.l(R)>0;)C-=j,F=p(C),O=F.j(A);D(F)&&(F=w),M=M.add(F),R=J(R,O)}return new U(M,R)}t.B=function(R){return Y(this,R).h},t.and=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<A;j++)C[j]=this.i(j)&R.i(j);return new u(C,this.h&R.h)},t.or=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<A;j++)C[j]=this.i(j)|R.i(j);return new u(C,this.h|R.h)},t.xor=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<A;j++)C[j]=this.i(j)^R.i(j);return new u(C,this.h^R.h)};function ne(R){const A=R.g.length+1,C=[];for(let j=0;j<A;j++)C[j]=R.i(j)<<1|R.i(j-1)>>>31;return new u(C,R.h)}function fe(R,A){const C=A>>5;A%=32;const j=R.g.length-C,M=[];for(let F=0;F<j;F++)M[F]=A>0?R.i(F+C)>>>A|R.i(F+C+1)<<32-A:R.i(F+C);return new u(M,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,ea=u}).apply(typeof Rw<"u"?Rw:typeof self<"u"?self:typeof window<"u"?window:{});var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sA,Dc,iA,Rf,Yy,aA,oA,lA;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof hf=="object"&&hf];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(f,_){if(_)e:{var E=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var $=f[I];if(!($ in E))break e;E=E[$]}f=f[f.length-1],I=E[f],_=_(I),_!=I&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],I;for(I in _)Object.prototype.hasOwnProperty.call(_,I)&&E.push([I,_[I]]);return E}});var o=o||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function p(f,_,E){return p=d,p.apply(null,arguments)}function v(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function b(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(I,$,X){for(var me=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)me[ke-2]=arguments[ke];return _.prototype[$].apply(I,me)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function T(f){const _=f.length;if(_>0){const E=Array(_);for(let I=0;I<_;I++)E[I]=f[I];return E}return[]}function D(f,_){for(let I=1;I<arguments.length;I++){const $=arguments[I];var E=typeof $;if(E=E!="object"?E:$?Array.isArray($)?"array":E:"null",E=="array"||E=="object"&&typeof $.length=="number"){E=f.length||0;const X=$.length||0;f.length=E+X;for(let me=0;me<X;me++)f[E+me]=$[me]}else f.push($)}}class k{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function z(f){u.setTimeout(()=>{throw f},0)}function J(){var f=R;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class K{constructor(){this.h=this.g=null}add(_,E){const I=U.get();I.set(_,E),this.h?this.h.next=I:this.g=I,this.h=I}}var U=new k(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,fe=!1,R=new K,A=()=>{const f=Promise.resolve(void 0);ne=()=>{f.then(C)}};function C(){for(var f;f=J();){try{f.h.call(f.g)}catch(E){z(E)}var _=U;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}fe=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return f})();function O(f){return/^[\s\xa0]*$/.test(f)}function Qe(f,_){M.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}b(Qe,M),Qe.prototype.init=function(f,_){const E=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),W=0;function he(f,_,E,I,$){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!I,this.ha=$,this.key=++W,this.da=this.fa=!1}function le(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f,_,E){for(const I in f)_.call(E,f[I],I,f)}function qe(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function N(f){const _={};for(const E in f)_[E]=f[E];return _}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(f,_){let E,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(E in I)f[E]=I[E];for(let X=0;X<Q.length;X++)E=Q[X],Object.prototype.hasOwnProperty.call(I,E)&&(f[E]=I[E])}}function ue(f){this.src=f,this.g={},this.h=0}ue.prototype.add=function(f,_,E,I,$){const X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);const me=Re(f,_,I,$);return me>-1?(_=f[me],E||(_.fa=!1)):(_=new he(_,this.src,X,!!I,$),_.fa=E,f.push(_)),_};function we(f,_){const E=_.type;if(E in f.g){var I=f.g[E],$=Array.prototype.indexOf.call(I,_,void 0),X;(X=$>=0)&&Array.prototype.splice.call(I,$,1),X&&(le(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Re(f,_,E,I){for(let $=0;$<f.length;++$){const X=f[$];if(!X.da&&X.listener==_&&X.capture==!!E&&X.ha==I)return $}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),Ct={};function st(f,_,E,I,$){if(Array.isArray(_)){for(let X=0;X<_.length;X++)st(f,_[X],E,I,$);return null}return E=_u(E),f&&f[Xe]?f.J(_,E,h(I)?!!I.capture:!1,$):sr(f,_,E,!1,I,$)}function sr(f,_,E,I,$,X){if(!_)throw Error("Invalid event type");const me=h($)?!!$.capture:!!$;let ke=ma(f);if(ke||(f[xe]=ke=new ue(f)),E=ke.add(_,E,I,me,X),E.proxy)return E;if(I=qr(),E.proxy=I,I.src=f,I.listener=E,f.addEventListener)F||($=me),$===void 0&&($=!1),f.addEventListener(_.toString(),I,$);else if(f.attachEvent)f.attachEvent($r(_.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qr(){function f(E){return _.call(f.src,f.listener,E)}const _=yu;return f}function Ar(f,_,E,I,$){if(Array.isArray(_))for(var X=0;X<_.length;X++)Ar(f,_[X],E,I,$);else I=h(I)?!!I.capture:!!I,E=_u(E),f&&f[Xe]?(f=f.i,X=String(_).toString(),X in f.g&&(_=f.g[X],E=Re(_,E,I,$),E>-1&&(le(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[X],f.h--)))):f&&(f=ma(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Re(_,E,I,$)),(E=f>-1?_[f]:null)&&Oo(E))}function Oo(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Xe])we(_.i,f);else{var E=f.type,I=f.proxy;_.removeEventListener?_.removeEventListener(E,I,f.capture):_.detachEvent?_.detachEvent($r(E),I):_.addListener&&_.removeListener&&_.removeListener(I),(E=ma(_))?(we(E,f),E.h==0&&(E.src=null,_[xe]=null)):le(f)}}}function $r(f){return f in Ct?Ct[f]:Ct[f]="on"+f}function yu(f,_){if(f.da)f=!0;else{_=new Qe(_,this);const E=f.listener,I=f.ha||f.src;f.fa&&Oo(f),f=E.call(I,_)}return f}function ma(f){return f=f[xe],f instanceof ue?f:null}var vu="__closure_events_fn_"+(Math.random()*1e9>>>0);function _u(f){return typeof f=="function"?f:(f[vu]||(f[vu]=function(_){return f.handleEvent(_)}),f[vu])}function Bt(){j.call(this),this.i=new ue(this),this.M=this,this.G=null}b(Bt,j),Bt.prototype[Xe]=!0,Bt.prototype.removeEventListener=function(f,_,E,I){Ar(this,f,_,E,I)};function en(f,_){var E,I=f.G;if(I)for(E=[];I;I=I.G)E.push(I);if(f=f.M,I=_.type||_,typeof _=="string")_=new M(_,f);else if(_ instanceof M)_.target=_.target||f;else{var $=_;_=new M(I,f),ae(_,$)}$=!0;let X,me;if(E)for(me=E.length-1;me>=0;me--)X=_.g=E[me],$=ai(X,I,!0,_)&&$;if(X=_.g=f,$=ai(X,I,!0,_)&&$,$=ai(X,I,!1,_)&&$,E)for(me=0;me<E.length;me++)X=_.g=E[me],$=ai(X,I,!1,_)&&$}Bt.prototype.N=function(){if(Bt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let I=0;I<E.length;I++)le(E[I]);delete f.g[_],f.h--}}this.G=null},Bt.prototype.J=function(f,_,E,I){return this.i.add(String(f),_,!1,E,I)},Bt.prototype.K=function(f,_,E,I){return this.i.add(String(f),_,!0,E,I)};function ai(f,_,E,I){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let $=!0;for(let X=0;X<_.length;++X){const me=_[X];if(me&&!me.da&&me.capture==E){const ke=me.listener,zt=me.ha||me.src;me.fa&&we(f.i,me),$=ke.call(zt,I)!==!1&&$}}return $&&!I.defaultPrevented}function lp(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Dh(f){f.g=lp(()=>{f.g=null,f.i&&(f.i=!1,Dh(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Sn extends j{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Dh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(f){j.call(this),this.h=f,this.g={}}b(pa,j);var bu=[];function xu(f){Me(f.g,function(_,E){this.g.hasOwnProperty(E)&&Oo(_)},f),f.g={}}pa.prototype.N=function(){pa.Z.N.call(this),xu(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=u.JSON.stringify,up=u.JSON.parse,Oh=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function kh(){}function Ph(){}var Ir={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function hn(){M.call(this,"d")}b(hn,M);function ir(){M.call(this,"c")}b(ir,M);var Vt={},jh=null;function ko(){return jh=jh||new Bt}Vt.Ia="serverreachability";function Mh(f){M.call(this,Vt.Ia,f)}b(Mh,M);function Hr(f){const _=ko();en(_,new Mh(_))}Vt.STAT_EVENT="statevent";function ga(f,_){M.call(this,Vt.STAT_EVENT,f),this.stat=_}b(ga,M);function qt(f){const _=ko();en(_,new ga(_,f))}Vt.Ja="timingevent";function Gr(f,_){M.call(this,Vt.Ja,f),this.size=_}b(Gr,M);function Kr(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function Rr(){this.g=!0}Rr.prototype.ua=function(){this.g=!1};function cp(f,_,E,I,$,X){f.info(function(){if(f.g)if(X){var me="",ke=X.split("&");for(let nt=0;nt<ke.length;nt++){var zt=ke[nt].split("=");if(zt.length>1){const xt=zt[0];zt=zt[1];const ur=xt.split("_");me=ur.length>=2&&ur[1]=="type"?me+(xt+"="+zt+"&"):me+(xt+"=redacted&")}}}else me=null;else me=X;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+_+`
`+E+`
`+me})}function Vh(f,_,E,I,$,X,me){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+_+`
`+E+`
`+X+" "+me})}function Qr(f,_,E,I){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+hp(f,E)+(I?" "+I:"")})}function ya(f,_){f.info(function(){return"TIMEOUT: "+_})}Rr.prototype.info=function(){};function hp(f,_){if(!f.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(f=0;f<X.length;f++)if(Array.isArray(X[f])){var E=X[f];if(!(E.length<2)){var I=E[1];if(Array.isArray(I)&&!(I.length<1)){var $=I[0];if($!="noop"&&$!="stop"&&$!="close")for(let me=1;me<I.length;me++)I[me]=""}}}}return oi(X)}catch{return _}}var va={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wu;function _a(){}b(_a,kh),_a.prototype.g=function(){return new XMLHttpRequest},wu=new _a;function ws(f){return encodeURIComponent(String(f))}function zh(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function Nr(f,_,E,I){this.j=f,this.i=_,this.l=E,this.S=I||1,this.V=new pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cr}function Cr(){this.i=null,this.g="",this.h=!1}var $t={},on={};function Zr(f,_,E){f.M=1,f.A=ba(Gt(_)),f.u=E,f.R=!0,Po(f,null)}function Po(f,_){f.F=Date.now(),Yr(f),f.B=Gt(f.A);var E=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),zo(E.i,"t",I),f.C=0,E=f.j.L,f.h=new Cr,f.g=Wh(f.j,E?_:null,!f.u),f.P>0&&(f.O=new Sn(p(f.Y,f,f.g),f.P)),_=f.V,E=f.g,I=f.ba;var $="readystatechange";Array.isArray($)||($&&(bu[0]=$.toString()),$=bu);for(let X=0;X<$.length;X++){const me=st(E,$[X],I||_.handleEvent,!1,_.h||_);if(!me)break;_.g[me.key]=me}_=f.J?N(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Hr(),cp(f.i,f.v,f.B,f.l,f.S,f.u)}Nr.prototype.ba=function(f){f=f.target;const _=this.O;_&&kr(f)==3?_.j():this.Y(f)},Nr.prototype.Y=function(f){try{if(f==this.g)e:{const ke=kr(this.g),zt=this.g.ya(),nt=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||dn(this.g)))){this.K||ke!=4||zt==7||(zt==8||nt<=0?Hr(3):Hr(2)),Xr(this);var _=this.g.ca();this.X=_;var E=dp(this);if(this.o=_==200,Vh(this.i,this.v,this.B,this.l,this.S,ke,_),this.o){if(this.U&&!this.L){t:{if(this.g){var I,$=this.g;if((I=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(I)){var X=I;break t}}X=null}if(f=X)Qr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Jr(this,f);else{this.o=!1,this.m=3,qt(12),qn(this),ar(this);break e}}if(this.R){f=!0;let xt;for(;!this.K&&this.C<E.length;)if(xt=Uh(this,E),xt==on){ke==4&&(this.m=4,qt(14),f=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==$t){this.m=4,qt(15),Qr(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Qr(this.i,this.l,xt,null),Jr(this,xt);if(Lh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||E.length!=0||this.h.h||(this.m=1,qt(16),f=!1),this.o=this.o&&f,!f)Qr(this.i,this.l,E,"[Invalid Chunked Response]"),qn(this),ar(this);else if(E.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),zu(me),me.P=!0,qt(11))}}else Qr(this.i,this.l,E,null),Jr(this,E);ke==4&&qn(this),this.o&&!this.K&&(ke==4?Zh(this.j,this):(this.o=!1,Yr(this)))}else Ss(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),qn(this),ar(this)}}}catch{}};function dp(f){if(!Lh(f))return f.g.la();const _=dn(f.g);if(_==="")return"";let E="";const I=_.length,$=kr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return qn(f),ar(f),"";f.h.i=new u.TextDecoder}for(let X=0;X<I;X++)f.h.h=!0,E+=f.h.i.decode(_[X],{stream:!($&&X==I-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function Lh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Uh(f,_){var E=f.C,I=_.indexOf(`
`,E);return I==-1?on:(E=Number(_.substring(E,I)),isNaN(E)?$t:(I+=1,I+E>_.length?on:(_=_.slice(I,I+E),f.C=I+E,_)))}Nr.prototype.cancel=function(){this.K=!0,qn(this)};function Yr(f){f.T=Date.now()+f.H,jo(f,f.H)}function jo(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Kr(p(f.aa,f),_)}function Xr(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Nr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ya(this.i,this.B),this.M!=2&&(Hr(),qt(17)),qn(this),this.m=2,ar(this)):jo(this,this.T-f)};function ar(f){f.j.I==0||f.K||Zh(f.j,f)}function qn(f){Xr(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,xu(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Jr(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||es(E.h,f))){if(!f.L&&es(E.h,f)&&E.I==3){try{var I=E.Ba.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)qo(E),pi(E);else break e;Ia(E),qt(18)}}else E.xa=$[1],0<E.xa-E.K&&$[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Kr(p(E.Va,E),6e3));Wr(E.h)<=1&&E.ta&&(E.ta=void 0)}else as(E,11)}else if((f.L||E.g==f)&&qo(E),!O(_))for($=E.Ba.g.parse(_),_=0;_<$.length;_++){let nt=$[_];const xt=nt[0];if(!(xt<=E.K))if(E.K=xt,nt=nt[1],E.I==2)if(nt[0]=="c"){E.M=nt[1],E.ba=nt[2];const ur=nt[3];ur!=null&&(E.ka=ur,E.j.info("VER="+E.ka));const os=nt[4];os!=null&&(E.za=os,E.j.info("SVER="+E.za));const Pr=nt[5];Pr!=null&&typeof Pr=="number"&&Pr>0&&(I=1.5*Pr,E.O=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const jr=f.g;if(jr){const Ra=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var X=I.h;X.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Au(X,X.h),X.h=null))}if(I.G){const $o=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(I.wa=$o,it(I.J,I.G,$o))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),I=E;var me=f;if(I.na=Jh(I,I.L?I.ba:null,I.W),me.L){Iu(I.h,me);var ke=me,zt=I.O;zt&&(ke.H=zt),ke.D&&(Xr(ke),Yr(ke)),I.g=me}else Kh(I);E.i.length>0&&is(E)}else nt[0]!="stop"&&nt[0]!="close"||as(E,7);else E.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?as(E,7):Mu(E):nt[0]!="noop"&&E.l&&E.l.qa(nt),E.A=0)}}Hr(4)}catch{}}var Ht=class{constructor(f,_){this.g=f,this.map=_}};function Tu(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Su(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Wr(f){return f.h?1:f.g?f.g.size:0}function es(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Au(f,_){f.g?f.g.add(_):f.h=_}function Iu(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Tu.prototype.cancel=function(){if(this.i=Ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ru(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return T(f.i)}var Fh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mo(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const I=f[E].indexOf("=");let $,X=null;I>=0?($=f[E].substring(0,I),X=f[E].substring(I+1)):$=f[E],_($,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function $n(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof $n?(this.l=f.l,ln(this,f.j),this.o=f.o,this.g=f.g,li(this,f.u),this.h=f.h,Nu(this,Hh(f.i)),this.m=f.m):f&&(_=String(f).match(Fh))?(this.l=!1,ln(this,_[1]||"",!0),this.o=ts(_[2]||""),this.g=ts(_[3]||"",!0),li(this,_[4]),this.h=ts(_[5]||"",!0),Nu(this,_[6]||"",!0),this.m=ts(_[7]||"")):(this.l=!1,this.i=new ci(null,this.l))}$n.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(xa(_,Vo,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(xa(_,Vo,!0),"@"),f.push(ws(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(xa(E,E.charAt(0)=="/"?Cu:Bh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",xa(E,qh)),f.join("")},$n.prototype.resolve=function(f){const _=Gt(this);let E=!!f.j;E?ln(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var I=f.h;if(E)li(_,f.u);else if(E=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var $=_.h.lastIndexOf("/");$!=-1&&(I=_.h.slice(0,$+1)+I)}if($=I,$==".."||$==".")I="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){I=$.lastIndexOf("/",0)==0,$=$.split("/");const X=[];for(let me=0;me<$.length;){const ke=$[me++];ke=="."?I&&me==$.length&&X.push(""):ke==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),I&&me==$.length&&X.push("")):(X.push(ke),I=!0)}I=X.join("/")}else I=$}return E?_.h=I:E=f.i.toString()!=="",E?Nu(_,Hh(f.i)):E=!!f.m,E&&(_.m=f.m),_};function Gt(f){return new $n(f)}function ln(f,_,E){f.j=E?ts(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function li(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Nu(f,_,E){_ instanceof ci?(f.i=_,Lo(f.i,f.l)):(E||(_=xa(_,ui)),f.i=new ci(_,f.l))}function it(f,_,E){f.i.set(_,E)}function ba(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ts(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xa(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Pn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Pn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Vo=/[#\/\?@]/g,Bh=/[#\?:]/g,Cu=/[#\?]/g,ui=/[#\?@]/g,qh=/#/g;function ci(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function jn(f){f.g||(f.g=new Map,f.h=0,f.i&&Mo(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=ci.prototype,t.add=function(f,_){jn(this),this.i=null,f=hi(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function $h(f,_){jn(f),_=hi(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Du(f,_){return jn(f),_=hi(f,_),f.g.has(_)}t.forEach=function(f,_){jn(this),this.g.forEach(function(E,I){E.forEach(function($){f.call(_,$,I,this)},this)},this)};function Ou(f,_){jn(f);let E=[];if(typeof _=="string")Du(f,_)&&(E=E.concat(f.g.get(hi(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return jn(this),this.i=null,f=hi(this,f),Du(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Ou(this,f),f.length>0?String(f[0]):_):_};function zo(f,_,E){$h(f,_),E.length>0&&(f.i=null,f.g.set(hi(f,_),T(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let I=0;I<_.length;I++){var E=_[I];const $=ws(E);E=Ou(this,E);for(let X=0;X<E.length;X++){let me=$;E[X]!==""&&(me+="="+ws(E[X])),f.push(me)}}return this.i=f.join("&")};function Hh(f){const _=new ci;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function hi(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Lo(f,_){_&&!f.j&&(jn(f),f.i=null,f.g.forEach(function(E,I){const $=I.toLowerCase();I!=$&&($h(this,I),zo(this,$,E))},f)),f.j=_}function Dr(f,_){const E=new Rr;if(u.Image){const I=new Image;I.onload=v(or,E,"TestLoadImage: loaded",!0,_,I),I.onerror=v(or,E,"TestLoadImage: error",!1,_,I),I.onabort=v(or,E,"TestLoadImage: abort",!1,_,I),I.ontimeout=v(or,E,"TestLoadImage: timeout",!1,_,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else _(!1)}function ku(f,_){const E=new Rr,I=new AbortController,$=setTimeout(()=>{I.abort(),or(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:I.signal}).then(X=>{clearTimeout($),X.ok?or(E,"TestPingServer: ok",!0,_):or(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),or(E,"TestPingServer: error",!1,_)})}function or(f,_,E,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(E)}catch{}}function di(){this.g=new Oh}function ns(f){this.i=f.Sb||null,this.h=f.ab||!1}b(ns,kh),ns.prototype.g=function(){return new Ea(this.i,this.h)};function Ea(f,_){Bt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ea,Bt),t=Ea.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Or(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Uo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Uo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?fi(this):Or(this),this.readyState==3&&Uo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,fi(this))},t.Na=function(f){this.g&&(this.response=f,fi(this))},t.ga=function(){this.g&&fi(this)};function fi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Or(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function Or(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function lr(f){let _="";return Me(f,function(E,I){_+=I,_+=":",_+=E,_+=`\r
`}),_}function wa(f,_,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=lr(E),typeof f=="string"?E!=null&&ws(E):it(f,_,E))}function dt(f){Bt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(dt,Bt);var rs=/^https?$/i,Pu=["POST","PUT"];t=dt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wu.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(X){Ta(this,X);return}if(f=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)E.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())E.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),$=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Pu,_,void 0)>=0)||I||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,me]of E)this.g.setRequestHeader(X,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(X){Ta(this,X)}};function Ta(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,ju(f),Ts(f)}function ju(f){f.A||(f.A=!0,en(f,"complete"),en(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,en(this,"complete"),en(this,"abort"),Ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Sa(this):this.Xa())},t.Xa=function(){Sa(this)};function Sa(f){if(f.h&&typeof o<"u"){if(f.v&&kr(f)==4)setTimeout(f.Ca.bind(f),0);else if(en(f,"readystatechange"),kr(f)==4){f.h=!1;try{const X=f.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var I;if(I=X===0){let me=String(f.D).match(Fh)[1]||null;!me&&u.self&&u.self.location&&(me=u.self.location.protocol.slice(0,-1)),I=!rs.test(me?me.toLowerCase():"")}E=I}if(E)en(f,"complete"),en(f,"success");else{f.o=6;try{var $=kr(f)>2?f.g.statusText:""}catch{$=""}f.l=$+" ["+f.ca()+"]",ju(f)}}finally{Ts(f)}}}}function Ts(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||en(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function kr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return kr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),up(_)}};function dn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ss(f){const _={};f=(f.g&&kr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(O(f[I]))continue;var E=zh(f[I]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=_[$]||[];_[$]=X,X.push(E)}qe(_,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function mi(f){this.za=0,this.i=[],this.j=new Rr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ss("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ss("baseRetryDelayMs",5e3,f),this.Za=ss("retryDelaySeedMs",1e4,f),this.Ta=ss("forwardChannelMaxRetries",2,f),this.va=ss("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Tu(f&&f.concurrentRequestLimit),this.Ba=new di,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=mi.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,I){qt(0),this.W=f,this.H=_||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.J=Jh(this,null,this.W),is(this)};function Mu(f){if(Fo(f),f.I==3){var _=f.V++,E=Gt(f.J);if(it(E,"SID",f.M),it(E,"RID",_),it(E,"TYPE","terminate"),Aa(f,E),_=new Nr(f,f.j,_),_.M=2,_.A=ba(Gt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=Wh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Yr(_)}Xh(f)}function pi(f){f.g&&(zu(f),f.g.cancel(),f.g=null)}function Fo(f){pi(f),f.v&&(u.clearTimeout(f.v),f.v=null),qo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function is(f){if(!Su(f.h)&&!f.m){f.m=!0;var _=f.Ea;ne||A(),fe||(ne(),fe=!0),R.add(_,f),f.D=0}}function Bo(f,_){return Wr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Kr(p(f.Ea,f,_),Yh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const $=new Nr(this,this.j,f);let X=this.o;if(this.U&&(X?(X=N(X),ae(X,this.U)):X=this.U),this.u!==null||this.R||($.J=X,X=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Gh(this,$,_),E=Gt(this.J),it(E,"RID",f),it(E,"CVER",22),this.G&&it(E,"X-HTTP-Session-Id",this.G),Aa(this,E),X&&(this.R?_="headers="+ws(lr(X))+"&"+_:this.u&&wa(E,this.u,X)),Au(this.h,$),this.Ra&&it(E,"TYPE","init"),this.S?(it(E,"$req",_),it(E,"SID","null"),$.U=!0,Zr($,E,null)):Zr($,E,_),this.I=2}}else this.I==3&&(f?Vu(this,f):this.i.length==0||Su(this.h)||Vu(this))};function Vu(f,_){var E;_?E=_.l:E=f.V++;const I=Gt(f.J);it(I,"SID",f.M),it(I,"RID",E),it(I,"AID",f.K),Aa(f,I),f.u&&f.o&&wa(I,f.u,f.o),E=new Nr(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Gh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Au(f.h,E),Zr(E,I,_)}function Aa(f,_){f.H&&Me(f.H,function(E,I){it(_,I,E)}),f.l&&Me({},function(E,I){it(_,I,E)})}function Gh(f,_,E){E=Math.min(f.i.length,E);const I=f.l?p(f.l.Ka,f.l,f):null;e:{var $=f.i;let ke=-1;for(;;){const zt=["count="+E];ke==-1?E>0?(ke=$[0].g,zt.push("ofs="+ke)):ke=0:zt.push("ofs="+ke);let nt=!0;for(let xt=0;xt<E;xt++){var X=$[xt].g;const ur=$[xt].map;if(X-=ke,X<0)ke=Math.max(0,$[xt].g-100),nt=!1;else try{X="req"+X+"_"||"";try{var me=ur instanceof Map?ur:Object.entries(ur);for(const[os,Pr]of me){let jr=Pr;h(Pr)&&(jr=oi(Pr)),zt.push(X+os+"="+encodeURIComponent(jr))}}catch(os){throw zt.push(X+"type="+encodeURIComponent("_badmap")),os}}catch{I&&I(ur)}}if(nt){me=zt.join("&");break e}}me=void 0}return f=f.i.splice(0,E),_.G=f,me}function Kh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;ne||A(),fe||(ne(),fe=!0),R.add(_,f),f.A=0}}function Ia(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Kr(p(f.Da,f),Yh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Qh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Kr(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),pi(this),Qh(this))};function zu(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Qh(f){f.g=new Nr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Gt(f.na);it(_,"RID","rpc"),it(_,"SID",f.M),it(_,"AID",f.K),it(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(_,"TO",f.ia),it(_,"TYPE","xmlhttp"),Aa(f,_),f.u&&f.o&&wa(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=ba(Gt(_)),E.u=null,E.R=!0,Po(E,f)}t.Va=function(){this.C!=null&&(this.C=null,pi(this),Ia(this),qt(19))};function qo(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Zh(f,_){var E=null;if(f.g==_){qo(f),zu(f),f.g=null;var I=2}else if(es(f.h,_))E=_.G,Iu(f.h,_),I=1;else return;if(f.I!=0){if(_.o)if(I==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var $=f.D;I=ko(),en(I,new Gr(I,E)),is(f)}else Kh(f);else if($=_.m,$==3||$==0&&_.X>0||!(I==1&&Bo(f,_)||I==2&&Ia(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),$){case 1:as(f,5);break;case 4:as(f,10);break;case 3:as(f,6);break;default:as(f,2)}}}function Yh(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function as(f,_){if(f.j.info("Error code "+_),_==2){var E=p(f.bb,f),I=f.Ua;const $=!I;I=new $n(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ln(I,"https"),ba(I),$?Dr(I.toString(),E):ku(I.toString(),E)}else qt(2);f.I=0,f.l&&f.l.pa(_),Xh(f),Fo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Xh(f){if(f.I=0,f.ja=[],f.l){const _=Ru(f.h);(_.length!=0||f.i.length!=0)&&(D(f.ja,_),D(f.ja,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.oa()}}function Jh(f,_,E){var I=E instanceof $n?Gt(E):new $n(E);if(I.g!="")_&&(I.g=_+"."+I.g),li(I,I.u);else{var $=u.location;I=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;const X=new $n(null);I&&ln(X,I),_&&(X.g=_),$&&li(X,$),E&&(X.h=E),I=X}return E=f.G,_=f.wa,E&&_&&it(I,E,_),it(I,"VER",f.ka),Aa(f,I),I}function Wh(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new dt(new ns({ab:E})):new dt(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ed(){}t=ed.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function gi(){}gi.prototype.g=function(f,_){return new An(f,_)};function An(f,_){Bt.call(this),this.g=new mi(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!O(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new As(this)}b(An,Bt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Mu(this.g)},An.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=oi(f),f=E);_.i.push(new Ht(_.Ya++,f)),_.I==3&&is(_)},An.prototype.N=function(){this.g.l=null,delete this.j,Mu(this.g),delete this.g,An.Z.N.call(this)};function td(f){hn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}b(td,hn);function nd(){ir.call(this),this.status=1}b(nd,ir);function As(f){this.g=f}b(As,ed),As.prototype.ra=function(){en(this.g,"a")},As.prototype.qa=function(f){en(this.g,new td(f))},As.prototype.pa=function(f){en(this.g,new nd)},As.prototype.oa=function(){en(this.g,"b")},gi.prototype.createWebChannel=gi.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,lA=function(){return new gi},oA=function(){return ko()},aA=Vt,Yy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,Rf=va,Eu.COMPLETE="complete",iA=Eu,Ph.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",Bt.prototype.listen=Bt.prototype.J,Dc=Ph,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,sA=dt}).apply(typeof hf<"u"?hf:typeof self<"u"?self:typeof window<"u"?window:{});const Nw="@firebase/firestore",Cw="4.9.3";class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let uu="12.7.0";const mo=new qv("@firebase/firestore");function Il(){return mo.logLevel}function ce(t,...e){if(mo.logLevel<=Ge.DEBUG){const n=e.map(Gv);mo.debug(`Firestore (${uu}): ${t}`,...n)}}function Cn(t,...e){if(mo.logLevel<=Ge.ERROR){const n=e.map(Gv);mo.error(`Firestore (${uu}): ${t}`,...n)}}function po(t,...e){if(mo.logLevel<=Ge.WARN){const n=e.map(Gv);mo.warn(`Firestore (${uu}): ${t}`,...n)}}function Gv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uA(t,r,n)}function uA(t,e,n){let r=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cn(r),new Error(r)}function Ee(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||uA(e,a,r)}function De(t,e){return t}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class cA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(yn.UNAUTHENTICATED)))}shutdown(){}}class IM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RM{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gs,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gs)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new cA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class NM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new NM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Dw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Dw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function OM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Kv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=OM(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function Xy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return wy(a)===wy(o)?Ce(a,o):wy(a)?1:-1}return Ce(t.length,e.length)}const kM=55296,PM=57343;function wy(t){const e=t.charCodeAt(0);return e>=kM&&e<=PM}function Fl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}function hA(t){return t+"\0"}const Ow="__name__";class ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=ds.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Ce(e.length,n.length)}static compareSegments(e,n){const r=ds.isNumericId(e),a=ds.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ds.extractNumericId(e).compare(ds.extractNumericId(n)):Xy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class tt extends ds{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const jM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends ds{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return jM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ow}static keyField(){return new It([Ow])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(tt.fromString(e))}static fromName(e){return new pe(tt.fromString(e).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new tt(e.slice()))}}function dA(t,e,n){if(!n)throw new de(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MM(t,e,n,r){if(e===!0&&r===!0)throw new de(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kw(t){if(!pe.isDocumentKey(t))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Pw(t){if(pe.isDocumentKey(t))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function km(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=km(t);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function VM(t,e){if(e<=0)throw new de(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function vh(t,e){if(!fA(t))throw new de(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new de(te.INVALID_ARGUMENT,n);return!0}const jw=-62135596800,Mw=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Mw);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jw)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mw}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vh(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Jt("string",lt._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new lt(0,0))}static max(){return new Ae(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wc=-1;class Jf{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function Jy(t){return t.fields.find((e=>e.kind===2))}function Qa(t){return t.fields.filter((e=>e.kind!==2))}Jf.UNKNOWN_ID=-1;class Nf{constructor(e,n){this.fieldPath=e,this.kind=n}}class eh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new eh(0,rr.min())}}function zM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new rr(a,pe.empty(),e)}function mA(t){return new rr(t.readTime,t.key,Wc)}class rr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rr(Ae.min(),pe.empty(),Wc)}static max(){return new rr(Ae.max(),pe.empty(),Wc)}}function Qv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}const pA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Io(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==pA)throw t;ce("LocalStore","Unexpectedly lost primary lease")}class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):q.reject(n)}static resolve(e){return new q(((n,r)=>{n(e)}))}static reject(e){return new q(((n,r)=>{r(e)}))}static waitFor(e){return new q(((n,r)=>{let a=0,o=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&n()}),(d=>r(d)))})),u=!0,o===a&&n()}))}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next((a=>a?q.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new q(((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;n(e[p]).next((v=>{u[p]=v,++h,h===o&&r(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new q(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}const Jn="SimpleDb";class Pm{static open(e,n,r,a){try{return new Pm(n,e.transaction(a,r))}catch(o){throw new Uc(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new gs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Uc(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=Zv(r.target.error);this.S.reject(new Uc(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ce(Jn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new UM(n)}}class ta{static delete(e){return ce(Jn,"Removing database:",e),Ya(FS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!YS())return!1;if(ta.F())return!0;const e=sn(),n=ta.M(e),r=0<n&&n<10,a=yA(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,ta.M(sn())===12.2&&Cn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ce(Jn,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const u=o.target.result;n(u)},a.onblocked=()=>{r(new Uc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new de(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new de(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Uc(e,u))},a.onupgradeneeded=o=>{ce(Jn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,a.transaction,o.oldVersion,this.version).next((()=>{ce(Jn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,a){const o=n==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=Pm.open(this.db,e,o?"readonly":"readwrite",r),d=a(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),q.reject(p)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,p=d.name!=="FirebaseError"&&u<3;if(ce(Jn,"Transaction failed with error:",d.message,"Retrying:",p),this.close(),!p)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function yA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class LM{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ya(this.U.delete())}}class Uc extends de{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ca(t){return t.name==="IndexedDbTransactionError"}class UM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ce(Jn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ce(Jn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ya(r)}add(e){return ce(Jn,"ADD",this.store.name,e,e),Ya(this.store.add(e))}get(e){return Ya(this.store.get(e)).next((n=>(n===void 0&&(n=null),ce(Jn,"GET",this.store.name,e,n),n)))}delete(e){return ce(Jn,"DELETE",this.store.name,e),Ya(this.store.delete(e))}count(){return ce(Jn,"COUNT",this.store.name),Ya(this.store.count())}J(e,n){const r=this.options(e,n),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(r.range);return new q(((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}}))}{const o=this.cursor(r),u=[];return this.H(o,((h,d)=>{u.push(d)})).next((()=>u))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new q(((a,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{a(u.target.result)}}))}Z(e,n){ce(Jn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const a=this.cursor(r);return this.H(a,((o,u,h)=>h.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.H(a,n)}te(e){const n=this.cursor({});return new q(((r,a)=>{n.onerror=o=>{const u=Zv(o.target.error);a(u)},n.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():r()})):r()}}))}H(e,n){const r=[];return new q(((a,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const d=new LM(h),p=n(h.primaryKey,h.value,d);if(p instanceof q){const v=p.catch((b=>(d.done(),q.reject(b))));r.push(v)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ya(t){return new q(((e,n)=>{t.onsuccess=r=>{const a=r.target.result;e(a)},t.onerror=r=>{const a=Zv(r.target.error);n(a)}}))}let Vw=!1;function Zv(t){const e=ta.M(sn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vw||(Vw=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Fc="IndexBackfiller";class FM{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ce(Fc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ce(Fc,`Documents written: ${n}`)}catch(n){ca(n)?ce(Fc,"Ignoring IndexedDB error during index backfill: ",n):await Io(n)}await this.re(6e4)}))}}class BM{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let a=n,o=!0;return q.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!r.has(u))return ce(Fc,`Processing collection: ${u}`),this.oe(e,u,a).next((h=>{a-=h,r.add(u)}));o=!1})))).next((()=>n-a))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(a,o))).next((h=>(ce(Fc,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,n,h)))).next((()=>u.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((a,o)=>{const u=mA(o);Qv(u,r)>0&&(r=u)})),new rr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class br{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}br.ce=-1;const ro=-1;function jm(t){return t==null}function th(t){return t===0&&1/t==-1/0}function qM(t){return typeof t=="number"&&Number.isInteger(t)&&!th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Wf="";function wn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zw(e)),e=$M(t.get(n),e);return zw(e)}function $M(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case Wf:n+="";break;default:n+=o}}return n}function zw(t){return t+Wf+""}function fs(t){const e=t.length;if(Ee(e>=2,64408,{path:t}),e===2)return Ee(t.charAt(0)===Wf&&t.charAt(1)==="",56145,{path:t}),tt.emptyPath();const n=e-2,r=[];let a="";for(let o=0;o<e;){const u=t.indexOf(Wf,o);switch((u<0||u>n)&&_e(50515,{path:t}),t.charAt(u+1)){case"":const h=t.substring(o,u);let d;a.length===0?d=h:(a+=h,d=a,a=""),r.push(d);break;case"":a+=t.substring(o,u),a+="\0";break;case"":a+=t.substring(o,u+1);break;default:_e(61167,{path:t})}o=u+2}return new tt(r)}const Za="remoteDocuments",_h="owner",xl="owner",nh="mutationQueues",HM="userId",Lr="mutations",Lw="batchId",to="userMutationsIndex",Uw=["userId","batchId"];function Cf(t,e){return[t,wn(e)]}function vA(t,e,n){return[t,wn(e),n]}const GM={},Bl="documentMutations",em="remoteDocumentsV14",KM=["prefixPath","collectionGroup","readTime","documentId"],Df="documentKeyIndex",QM=["prefixPath","collectionGroup","documentId"],_A="collectionGroupIndex",ZM=["collectionGroup","readTime","prefixPath","documentId"],rh="remoteDocumentGlobal",Wy="remoteDocumentGlobalKey",ql="targets",bA="queryTargetsIndex",YM=["canonicalId","targetId"],$l="targetDocuments",XM=["targetId","path"],Yv="documentTargetsIndex",JM=["path","targetId"],tm="targetGlobalKey",so="targetGlobal",sh="collectionParents",WM=["collectionId","parent"],Hl="clientMetadata",e4="clientId",Mm="bundles",t4="bundleId",Vm="namedQueries",n4="name",Xv="indexConfiguration",r4="indexId",ev="collectionGroupIndex",s4="collectionGroup",Bc="indexState",i4=["indexId","uid"],xA="sequenceNumberIndex",a4=["uid","sequenceNumber"],qc="indexEntries",o4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],EA="documentKeyIndex",l4=["indexId","uid","orderedDocumentKey"],zm="documentOverlays",u4=["userId","collectionPath","documentId"],tv="collectionPathOverlayIndex",c4=["userId","collectionPath","largestBatchId"],wA="collectionGroupOverlayIndex",h4=["userId","collectionGroup","largestBatchId"],Jv="globals",d4="name",TA=[nh,Lr,Bl,Za,ql,_h,so,$l,Hl,rh,sh,Mm,Vm],f4=[...TA,zm],SA=[nh,Lr,Bl,em,ql,_h,so,$l,Hl,rh,sh,Mm,Vm,zm],AA=SA,Wv=[...AA,Xv,Bc,qc],m4=Wv,IA=[...Wv,Jv],p4=IA;class nv extends gA{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function an(t,e){const n=De(t);return ta.O(n.le,e)}function Fw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Tt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new df(this.root,e,this.comparator,!1)}getReverseIterator(){return new df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new df(this.root,e,this.comparator,!0)}}class df{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??vn.RED,this.left=a??vn.EMPTY,this.right=o??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new vn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return vn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ht{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bw(this.data.getIterator())}getIteratorFrom(e){return new Bw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class Bw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function El(t){return t.hasNext()?t.getNext():void 0}class xr{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new xr([])}unionWith(e){let n=new ht(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class NA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new NA("Invalid base64 string: "+o):o}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const g4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(t){if(Ee(!!t,39018),typeof t=="string"){let e=0;const n=g4.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Js(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}const CA="server_timestamp",DA="__type__",OA="__previous_value__",kA="__local_write_time__";function Lm(t){return(t?.mapValue?.fields||{})[DA]?.stringValue===CA}function Um(t){const e=t.mapValue.fields[OA];return Lm(e)?Um(e):e}function ih(t){const e=Xs(t.mapValue.fields[kA].timestampValue);return new lt(e.seconds,e.nanos)}class y4{constructor(e,n,r,a,o,u,h,d,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=v}}const nm="(default)";class go{constructor(e,n){this.projectId=e,this.database=n||nm}static empty(){return new go("","")}get isDefaultDatabase(){return this.database===nm}isEqual(e){return e instanceof go&&e.projectId===this.projectId&&e.database===this.database}}const e_="__type__",PA="__max__",Zi={mapValue:{fields:{__type__:{stringValue:PA}}}},t_="__vector__",Gl="value",Of={nullValue:"NULL_VALUE"};function sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lm(t)?4:jA(t)?9007199254740991:Fm(t)?10:11:_e(28295,{value:t})}function bs(t,e){if(t===e)return!0;const n=sa(t);if(n!==sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ih(t).isEqual(ih(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Xs(a.timestampValue),h=Xs(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Js(a.bytesValue).isEqual(Js(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return wt(a.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return wt(a.integerValue)===wt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=wt(a.doubleValue),h=wt(o.doubleValue);return u===h?th(u)===th(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Fw(u)!==Fw(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!bs(u[d],h[d])))return!1;return!0})(t,e);default:return _e(52216,{left:t})}}function ah(t,e){return(t.values||[]).find((n=>bs(n,e)))!==void 0}function ia(t,e){if(t===e)return 0;const n=sa(t),r=sa(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=wt(o.integerValue||o.doubleValue),d=wt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return qw(t.timestampValue,e.timestampValue);case 4:return qw(ih(t),ih(e));case 5:return Xy(t.stringValue,e.stringValue);case 6:return(function(o,u){const h=Js(o),d=Js(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const v=Ce(h[p],d[p]);if(v!==0)return v}return Ce(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=Ce(wt(o.latitude),wt(u.latitude));return h!==0?h:Ce(wt(o.longitude),wt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return $w(t.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},d=u.fields||{},p=h[Gl]?.arrayValue,v=d[Gl]?.arrayValue,b=Ce(p?.values?.length||0,v?.values?.length||0);return b!==0?b:$w(p,v)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Zi.mapValue&&u===Zi.mapValue)return 0;if(o===Zi.mapValue)return 1;if(u===Zi.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=u.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let b=0;b<d.length&&b<v.length;++b){const w=Xy(d[b],v[b]);if(w!==0)return w;const T=ia(h[d[b]],p[v[b]]);if(T!==0)return T}return Ce(d.length,v.length)})(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function qw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Xs(t),r=Xs(e),a=Ce(n.seconds,r.seconds);return a!==0?a:Ce(n.nanos,r.nanos)}function $w(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=ia(n[a],r[a]);if(o)return o}return Ce(n.length,r.length)}function Kl(t){return rv(t)}function rv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Xs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Js(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=rv(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${rv(n.fields[u])}`;return a+"}"})(t.mapValue):_e(61005,{value:t})}function kf(t){switch(sa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Um(t);return e?16+kf(e):16;case 5:return 2*t.stringValue.length;case 6:return Js(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+kf(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Ro(r.fields,((o,u)=>{a+=o.length+kf(u)})),a})(t.mapValue);default:throw _e(13486,{value:t})}}function yo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sv(t){return!!t&&"integerValue"in t}function oh(t){return!!t&&"arrayValue"in t}function Hw(t){return!!t&&"nullValue"in t}function Gw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pf(t){return!!t&&"mapValue"in t}function Fm(t){return(t?.mapValue?.fields||{})[e_]?.stringValue===t_}function $c(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=$c(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$c(t.arrayValue.values[n]);return e}return{...t}}function jA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===PA}const MA={mapValue:{fields:{[e_]:{stringValue:t_},[Gl]:{arrayValue:{}}}}};function v4(t){return"nullValue"in t?Of:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?yo(go.empty(),pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Fm(t)?MA:{mapValue:{}}:_e(35942,{value:t})}function _4(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?yo(go.empty(),pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?MA:"mapValue"in t?Fm(t)?{mapValue:{}}:Zi:_e(61959,{value:t})}function Kw(t,e){const n=ia(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Qw(t,e){const n=ia(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(n)}setAll(e){let n=It.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=$c(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Ro(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Fn($c(this.value))}}function VA(t){const e=[];return Ro(t.fields,((n,r)=>{const a=new It([n]);if(Pf(r)){const o=VA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new xr(e)}class kt{constructor(e,n,r,a,o,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new kt(e,0,Ae.min(),Ae.min(),Ae.min(),Fn.empty(),0)}static newFoundDocument(e,n,r,a){return new kt(e,1,n,Ae.min(),r,a,0)}static newNoDocument(e,n){return new kt(e,2,n,Ae.min(),Ae.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,Ae.min(),Ae.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class aa{constructor(e,n){this.position=e,this.inclusive=n}}function Zw(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(u.referenceValue),n.key):r=ia(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bs(t.position[n],e.position[n]))return!1;return!0}class rm{constructor(e,n="asc"){this.field=e,this.dir=n}}function b4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class zA{}class Ke extends zA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new x4(e,n,r):n==="array-contains"?new T4(e,r):n==="in"?new $A(e,r):n==="not-in"?new S4(e,r):n==="array-contains-any"?new A4(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new E4(e,r):new w4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ia(n,this.value)):n!==null&&sa(this.value)===sa(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ut extends zA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ut(e,n)}matches(e){return Ql(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ql(t){return t.op==="and"}function iv(t){return t.op==="or"}function n_(t){return LA(t)&&Ql(t)}function LA(t){for(const e of t.filters)if(e instanceof ut)return!1;return!0}function av(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Kl(t.value);if(n_(t))return t.filters.map((e=>av(e))).join(",");{const e=t.filters.map((n=>av(n))).join(",");return`${t.op}(${e})`}}function UA(t,e){return t instanceof Ke?(function(r,a){return a instanceof Ke&&r.op===a.op&&r.field.isEqual(a.field)&&bs(r.value,a.value)})(t,e):t instanceof ut?(function(r,a){return a instanceof ut&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,h)=>o&&UA(u,a.filters[h])),!0):!1})(t,e):void _e(19439)}function FA(t,e){const n=t.filters.concat(e);return ut.create(n,t.op)}function BA(t){return t instanceof Ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${Kl(n.value)}`})(t):t instanceof ut?(function(n){return n.op.toString()+" {"+n.getFilters().map(BA).join(" ,")+"}"})(t):"Filter"}class x4 extends Ke{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class E4 extends Ke{constructor(e,n){super(e,"in",n),this.keys=qA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class w4 extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=qA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qA(t,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class T4 extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return oh(n)&&ah(n.arrayValue,this.value)}}class $A extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ah(this.value.arrayValue,n)}}class S4 extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ah(this.value.arrayValue,n)}}class A4 extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!oh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ah(this.value.arrayValue,r)))}}class I4{constructor(e,n=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function ov(t,e=null,n=[],r=[],a=null,o=null,u=null){return new I4(t,e,n,r,a,o,u)}function vo(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>av(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),jm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Kl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Kl(r))).join(",")),e.Te=n}return e.Te}function bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!b4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yw(t.startAt,e.startAt)&&Yw(t.endAt,e.endAt)}function sm(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function im(t,e){return t.filters.filter((n=>n instanceof Ke&&n.field.isEqual(e)))}function Xw(t,e,n){let r=Of,a=!0;for(const o of im(t,e)){let u=Of,h=!0;switch(o.op){case"<":case"<=":u=v4(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Of}Kw({value:r,inclusive:a},{value:u,inclusive:h})<0&&(r=u,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const u=n.position[o];Kw({value:r,inclusive:a},{value:u,inclusive:n.inclusive})<0&&(r=u,a=n.inclusive);break}}return{value:r,inclusive:a}}function Jw(t,e,n){let r=Zi,a=!0;for(const o of im(t,e)){let u=Zi,h=!0;switch(o.op){case">=":case">":u=_4(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Zi}Qw({value:r,inclusive:a},{value:u,inclusive:h})>0&&(r=u,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const u=n.position[o];Qw({value:r,inclusive:a},{value:u,inclusive:n.inclusive})>0&&(r=u,a=n.inclusive);break}}return{value:r,inclusive:a}}class cu{constructor(e,n=null,r=[],a=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function R4(t,e,n,r,a,o,u,h){return new cu(t,e,n,r,a,o,u,h)}function xh(t){return new cu(t)}function Ww(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function r_(t){return t.collectionGroup!==null}function kl(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ht(It.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new rm(o,r))})),n.has(It.keyField().canonicalString())||e.Ie.push(new rm(It.keyField(),r))}return e.Ie}function Er(t){const e=De(t);return e.Ee||(e.Ee=N4(e,kl(t))),e.Ee}function N4(t,e){if(t.limitType==="F")return ov(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new rm(a.field,o)}));const n=t.endAt?new aa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new aa(t.startAt.position,t.startAt.inclusive):null;return ov(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lv(t,e){const n=t.filters.concat([e]);return new cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function am(t,e,n){return new cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bm(t,e){return bh(Er(t),Er(e))&&t.limitType===e.limitType}function HA(t){return`${vo(Er(t))}|lt:${t.limitType}`}function Rl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>BA(a))).join(", ")}]`),jm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Kl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Kl(a))).join(",")),`Target(${r})`})(Er(t))}; limitType=${t.limitType})`}function Eh(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of kl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,d){const p=Zw(u,h,d);return u.inclusive?p<=0:p<0})(r.startAt,kl(r),a)||r.endAt&&!(function(u,h,d){const p=Zw(u,h,d);return u.inclusive?p>=0:p>0})(r.endAt,kl(r),a))})(t,e)}function C4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GA(t){return(e,n)=>{let r=!1;for(const a of kl(t)){const o=D4(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function D4(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):(function(o,u,h){const d=u.data.field(o),p=h.data.field(o);return d!==null&&p!==null?ia(d,p):_e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}class ri{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return RA(this.inner)}size(){return this.innerSize}}const O4=new Tt(pe.comparator);function Wn(){return O4}const KA=new Tt(pe.comparator);function Oc(...t){let e=KA;for(const n of t)e=e.insert(n.key,n);return e}function QA(t){let e=KA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ms(){return Hc()}function ZA(){return Hc()}function Hc(){return new ri((t=>t.toString()),((t,e)=>t.isEqual(e)))}const k4=new Tt(pe.comparator),P4=new ht(pe.comparator);function Le(...t){let e=P4;for(const n of t)e=e.add(n);return e}const j4=new ht(Ce);function M4(){return j4}function s_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function YA(t){return{integerValue:""+t}}function V4(t,e){return qM(e)?YA(e):s_(t,e)}class qm{constructor(){this._=void 0}}function z4(t,e,n){return t instanceof Zl?(function(a,o){const u={fields:{[DA]:{stringValue:CA},[kA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Lm(o)&&(o=Um(o)),o&&(u.fields[OA]=o),{mapValue:u}})(n,e):t instanceof Yl?JA(t,e):t instanceof Xl?WA(t,e):(function(a,o){const u=XA(a,o),h=eT(u)+eT(a.Ae);return sv(u)&&sv(a.Ae)?YA(h):s_(a.serializer,h)})(t,e)}function L4(t,e,n){return t instanceof Yl?JA(t,e):t instanceof Xl?WA(t,e):n}function XA(t,e){return t instanceof lh?(function(r){return sv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Zl extends qm{}class Yl extends qm{constructor(e){super(),this.elements=e}}function JA(t,e){const n=eI(e);for(const r of t.elements)n.some((a=>bs(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Xl extends qm{constructor(e){super(),this.elements=e}}function WA(t,e){let n=eI(e);for(const r of t.elements)n=n.filter((a=>!bs(a,r)));return{arrayValue:{values:n}}}class lh extends qm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eT(t){return wt(t.integerValue||t.doubleValue)}function eI(t){return oh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class tI{constructor(e,n){this.field=e,this.transform=n}}function U4(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Yl&&a instanceof Yl||r instanceof Xl&&a instanceof Xl?Fl(r.elements,a.elements,bs):r instanceof lh&&a instanceof lh?bs(r.Ae,a.Ae):r instanceof Zl&&a instanceof Zl})(t.transform,e.transform)}class F4{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $m{}function nI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hm(t.key,On.none()):new hu(t.key,t.data,On.none());{const n=t.data,r=Fn.empty();let a=new ht(It.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new ha(t.key,r,new xr(a.toArray()),On.none())}}function B4(t,e,n){t instanceof hu?(function(a,o,u){const h=a.value.clone(),d=nT(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ha?(function(a,o,u){if(!jf(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=nT(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(rI(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Gc(t,e,n,r){return t instanceof hu?(function(o,u,h,d){if(!jf(o.precondition,u))return h;const p=o.value.clone(),v=rT(o.fieldTransforms,d,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof ha?(function(o,u,h,d){if(!jf(o.precondition,u))return h;const p=rT(o.fieldTransforms,d,u),v=u.data;return v.setAll(rI(o)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(o,u,h){return jf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function q4(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=XA(r.transform,a||null);o!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,o))}return n||null}function tT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Fl(r,a,((o,u)=>U4(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hu extends $m{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ha extends $m{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function nT(t,e,n){const r=new Map;Ee(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,L4(u,h,n[a]))}return r}function rT(t,e,n){const r=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);r.set(a.field,z4(o,u,e))}return r}class Hm extends $m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sI extends $m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class i_{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&B4(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZA();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(a.key)?null:h;const d=nI(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,((n,r)=>tT(n,r)))&&Fl(this.baseMutations,e.baseMutations,((n,r)=>tT(n,r)))}}class a_{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ee(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return k4})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new a_(e,n,r,a)}}class o_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Xt,Ye;function H4(t){switch(t){case te.OK:return _e(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function iI(t){if(t===void 0)return Cn("GRPC error has no .code"),te.UNKNOWN;switch(t){case Xt.OK:return te.OK;case Xt.CANCELLED:return te.CANCELLED;case Xt.UNKNOWN:return te.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return te.INTERNAL;case Xt.UNAVAILABLE:return te.UNAVAILABLE;case Xt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Xt.NOT_FOUND:return te.NOT_FOUND;case Xt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Xt.ABORTED:return te.ABORTED;case Xt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Xt.DATA_LOSS:return te.DATA_LOSS;default:return _e(39323,{code:t})}}(Ye=Xt||(Xt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function G4(){return new TextEncoder}const K4=new ea([4294967295,4294967295],0);function sT(t){const e=G4().encode(t),n=new rA;return n.update(e),new Uint8Array(n.digest())}function iT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ea([n,r],0),new ea([a,o],0)]}class l_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kc(`Invalid padding: ${n}`);if(r<0)throw new kc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new kc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ea.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(ea.fromNumber(r)));return a.compare(K4)===1&&(a=new ea([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sT(e),[r,a]=iT(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new l_(o,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=sT(e),[r,a]=iT(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gm{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,wh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gm(Ae.min(),a,new Tt(Ce),Wn(),Le())}}class wh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wh(r,n,Le(),Le(),Le())}}class Mf{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class aI{constructor(e,n){this.targetId=e,this.Ce=n}}class oI{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class aT{constructor(){this.ve=0,this.Fe=oT(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:_e(38017,{changeType:o})}})),new wh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=oT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Q4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wn(),this.Je=ff(),this.He=ff(),this.Ye=new Tt(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(sm(o))if(r===0){const u=new pe(o.path);this.et(n,u,kt.newNoDocument(u,Ae.min()))}else Ee(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let u,h;try{u=Js(r).toUint8Array()}catch(d){if(d instanceof NA)return po("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new l_(u,a,o)}catch(d){return po(d instanceof kc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&sm(h.target)){const d=new pe(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,kt.newNoDocument(d,e))}o.Be&&(n.set(u,o.ke()),o.qe())}}));let r=Le();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Gm(e,n,this.Ye,this.je,r);return this.je=Wn(),this.Je=ff(),this.He=ff(),this.Ye=new Tt(Ce),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new aT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ht(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ht(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ff(){return new Tt(pe.comparator)}function oT(){return new Tt(pe.comparator)}const Z4={asc:"ASCENDING",desc:"DESCENDING"},Y4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X4={and:"AND",or:"OR"};class J4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uv(t,e){return t.useProto3Json||jm(e)?e:{value:e}}function Jl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function W4(t,e){return Jl(t,e.toTimestamp())}function kn(t){return Ee(!!t,49232),Ae.fromTimestamp((function(n){const r=Xs(n);return new lt(r.seconds,r.nanos)})(t))}function u_(t,e){return cv(t,e).canonicalString()}function cv(t,e){const n=(function(a){return new tt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function uI(t){const e=tt.fromString(t);return Ee(vI(e),10190,{key:e.toString()}),e}function om(t,e){return u_(t.databaseId,e.path)}function io(t,e){const n=uI(e);if(n.get(1)!==t.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(dI(n))}function cI(t,e){return u_(t.databaseId,e)}function hI(t){const e=uI(t);return e.length===4?tt.emptyPath():dI(e)}function hv(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dI(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lT(t,e,n){return{name:om(t,e),fields:n.value.mapValue.fields}}function eV(t,e,n){const r=io(t,e.name),a=kn(e.updateTime),o=e.createTime?kn(e.createTime):Ae.min(),u=new Fn({mapValue:{fields:e.fields}}),h=kt.newFoundDocument(r,a,o,u);return n&&h.setHasCommittedMutations(),n?h.setHasCommittedMutations():h}function tV(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(p,v){return p.useProto3Json?(Ee(v===void 0||typeof v=="string",58123),Wt.fromBase64String(v||"")):(Ee(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Wt.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const v=p.code===void 0?te.UNKNOWN:iI(p.code);return new de(v,p.message||"")})(u);n=new oI(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=io(t,r.document.name),o=kn(r.document.updateTime),u=r.document.createTime?kn(r.document.createTime):Ae.min(),h=new Fn({mapValue:{fields:r.document.fields}}),d=kt.newFoundDocument(a,o,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];n=new Mf(p,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=io(t,r.document),o=r.readTime?kn(r.readTime):Ae.min(),u=kt.newNoDocument(a,o),h=r.removedTargetIds||[];n=new Mf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=io(t,r.document),o=r.removedTargetIds||[];n=new Mf([],o,a,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new $4(a,o),h=r.targetId;n=new aI(h,u)}}return n}function lm(t,e){let n;if(e instanceof hu)n={update:lT(t,e.key,e.value)};else if(e instanceof Hm)n={delete:om(t,e.key)};else if(e instanceof ha)n={update:lT(t,e.key,e.data),updateMask:oV(e.fieldMask)};else{if(!(e instanceof sI))return _e(16599,{Vt:e.type});n={verify:om(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof Zl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Yl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Xl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof lh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw _e(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:W4(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e(27497)})(t,e.precondition)),n}function dv(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?On.updateTime(kn(o.updateTime)):o.exists!==void 0?On.exists(o.exists):On.none()})(e.currentDocument):On.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(u,h){let d=null;if("setToServerValue"in h)Ee(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Zl;else if("appendMissingElements"in h){const v=h.appendMissingElements.values||[];d=new Yl(v)}else if("removeAllFromArray"in h){const v=h.removeAllFromArray.values||[];d=new Xl(v)}else"increment"in h?d=new lh(u,h.increment):_e(16584,{proto:h});const p=It.fromServerFormat(h.fieldPath);return new tI(p,d)})(t,a))):[];if(e.update){e.update.name;const a=io(t,e.update.name),o=new Fn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(d){const p=d.fieldPaths||[];return new xr(p.map((v=>It.fromServerFormat(v))))})(e.updateMask);return new ha(a,o,u,n,r)}return new hu(a,o,n,r)}if(e.delete){const a=io(t,e.delete);return new Hm(a,n)}if(e.verify){const a=io(t,e.verify);return new sI(a,n)}return _e(1463,{proto:e})}function nV(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map((n=>(function(a,o){let u=a.updateTime?kn(a.updateTime):kn(o);return u.isEqual(Ae.min())&&(u=kn(o)),new F4(u,a.transformResults||[])})(n,e)))):[]}function fI(t,e){return{documents:[cI(t,e.path)]}}function mI(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cI(t,a);const o=(function(p){if(p.length!==0)return yI(ut.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(p){if(p.length!==0)return p.map((v=>(function(w){return{field:Nl(w.field),direction:sV(w.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=uv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function pI(t){let e=hI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ee(r===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];n.where&&(o=(function(b){const w=gI(b);return w instanceof ut&&n_(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((w=>(function(D){return new rm(Cl(D.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let w;return w=typeof b=="object"?b.value:b,jm(w)?null:w})(n.limit));let d=null;n.startAt&&(d=(function(b){const w=!!b.before,T=b.values||[];return new aa(T,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,T=b.values||[];return new aa(T,w)})(n.endAt)),R4(e,a,u,o,h,"F",d,p)}function rV(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cl(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Cl(n.unaryFilter.field);return Ke.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cl(n.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Cl(n.unaryFilter.field);return Ke.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ke.create(Cl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ut.create(n.compositeFilter.filters.map((r=>gI(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(t):_e(30097,{filter:t})}function sV(t){return Z4[t]}function iV(t){return Y4[t]}function aV(t){return X4[t]}function Nl(t){return{fieldPath:t.canonicalString()}}function Cl(t){return It.fromServerFormat(t.fieldPath)}function yI(t){return t instanceof Ke?(function(n){if(n.op==="=="){if(Gw(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NAN"}};if(Hw(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gw(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NAN"}};if(Hw(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(n.field),op:iV(n.op),value:n.value}}})(t):t instanceof ut?(function(n){const r=n.getFilters().map((a=>yI(a)));return r.length===1?r[0]:{compositeFilter:{op:aV(n.op),filters:r}}})(t):_e(54877,{filter:t})}function oV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function vI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Hs{constructor(e,n,r,a,o=Ae.min(),u=Ae.min(),h=Wt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _I{constructor(e){this.yt=e}}function lV(t,e){let n;if(e.document)n=eV(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),a=bo(e.noDocument.readTime);n=kt.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e(56709);{const r=pe.fromSegments(e.unknownDocument.path),a=bo(e.unknownDocument.version);n=kt.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime((function(a){const o=new lt(a[0],a[1]);return Ae.fromTimestamp(o)})(e.readTime)),n}function uT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:um(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,u){return{name:om(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Jl(o,u.version.toTimestamp()),createTime:Jl(o,u.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:_o(e.version)};else{if(!e.isUnknownDocument())return _e(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:_o(e.version)}}return r}function um(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function _o(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bo(t){const e=new lt(t.seconds,t.nanoseconds);return Ae.fromTimestamp(e)}function Xa(t,e){const n=(e.baseMutations||[]).map((o=>dv(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>dv(t.yt,o))),a=lt.fromMillis(e.localWriteTimeMs);return new i_(e.batchId,a,n,r)}function Pc(t){const e=bo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?bo(t.lastLimboFreeSnapshotVersion):Ae.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const u=o.documents.length;return Ee(u===1,1966,{count:u}),Er(xh(hI(o.documents[0])))})(t.query):(function(o){return Er(pI(o))})(t.query),new Hs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Wt.fromBase64String(t.resumeToken))}function bI(t,e){const n=_o(e.snapshotVersion),r=_o(e.lastLimboFreeSnapshotVersion);let a;a=sm(e.target)?fI(t.yt,e.target):mI(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vo(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function xI(t){const e=pI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?am(e,e.limit,"L"):e}function Ty(t,e){return new o_(e.largestBatchId,dv(t.yt,e.overlayMutation))}function cT(t,e){const n=e.path.lastSegment();return[t,wn(e.path.popLast()),n]}function hT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:_o(r.readTime),documentKey:wn(r.documentKey.path),largestBatchId:r.largestBatchId}}class uV{getBundleMetadata(e,n){return dT(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:bo(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return dT(e).put((function(a){return{bundleId:a.id,createTime:_o(kn(a.createTime)),version:a.version}})(n))}getNamedQuery(e,n){return fT(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:xI(o.bundledQuery),readTime:bo(o.readTime)}})(r)}))}saveNamedQuery(e,n){return fT(e).put((function(a){return{name:a.name,readTime:_o(kn(a.readTime)),bundledQuery:a.bundledQuery}})(n))}}function dT(t){return an(t,Mm)}function fT(t){return an(t,Vm)}class Km{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Km(e,r)}getOverlay(e,n){return Ac(e).get(cT(this.userId,n)).next((r=>r?Ty(this.serializer,r):null))}getOverlays(e,n){const r=ms();return q.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){const a=[];return r.forEach(((o,u)=>{const h=new o_(n,u);a.push(this.St(e,h))})),q.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach((u=>a.add(wn(u.getCollectionPath()))));const o=[];return a.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(Ac(e).Z(tv,h))})),q.waitFor(o)}getOverlaysForCollection(e,n,r){const a=ms(),o=wn(n),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ac(e).J(tv,u).next((h=>{for(const d of h){const p=Ty(this.serializer,d);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(e,n,r,a){const o=ms();let u;const h=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ac(e).ee({index:wA,range:h},((d,p,v)=>{const b=Ty(this.serializer,p);o.size()<a||b.largestBatchId===u?(o.set(b.getKey(),b),u=b.largestBatchId):v.done()})).next((()=>o))}St(e,n){return Ac(e).put((function(a,o,u){const[h,d,p]=cT(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:lm(a.yt,u.mutation)}})(this.serializer,this.userId,n))}}function Ac(t){return an(t,zm)}class cV{bt(e){return an(e,Jv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?Wt.fromUint8Array(r):Wt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Ja{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(wt(e.integerValue));else if("doubleValue"in e){const r=wt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),th(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Xs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Js(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?jA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Fm(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):_e(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const a of Object.keys(r))this.Ot(a,n),this.Ct(r[a],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const a=Gl,o=r[a].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(wt(o)),this.Ot(a,n),this.Ct(r[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const a of r)this.Ct(a,n)}Lt(e,n){this.Ft(n,37),pe.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Ja.Kt=new Ja;const wl=255;function hV(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function mT(t){const e=64-(function(r){let a=0;for(let o=0;o<8;++o){const u=hV(255&r[o]);if(a+=u,u!==8)break}return a})(t);return Math.ceil(e/8)}class dV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=n.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=n.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const n=this.en(e),r=mT(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}nn(e){const n=this.en(e),r=mT(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}rn(){this.sn(wl),this.sn(255)}_n(){this.an(wl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===wl?(this.sn(wl),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===wl?(this.an(wl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class fV{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class mV{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Ic{constructor(){this.cn=new dV,this.ln=new fV(this.cn),this.hn=new mV(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Wa{constructor(e,n,r,a){this.Tn=e,this.In=n,this.En=r,this.dn=a}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Wa(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Vf(this.En),directionalValue:Vf(this.dn),orderedDocumentKey:Vf(n),documentKey:r.path.toArray()}}Vn(e,n,r){const a=this.Rn(e,n,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ui(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=pT(t.En,e.En),n!==0?n:(n=pT(t.dn,e.dn),n!==0?n:pe.comparator(t.In,e.In)))}function pT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Vf(t){return ZS()?(function(n){let r="";for(let a=0;a<n.length;a++)r+=String.fromCharCode(n[a]);return r})(t):t}function gT(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(t)}class yT{constructor(e){this.mn=new ht(((n,r)=>It.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ee(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Jy(e);if(n!==void 0&&!this.wn(n))return!1;const r=Qa(e);let a=new Set,o=0,u=0;for(;o<r.length&&this.wn(r[o]);++o)a=a.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=r[o];if(!this.Sn(h,d)||!this.bn(this.fn[u++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.fn.length||!this.bn(this.fn[u++],h))return!1}return!0}Dn(){if(this.pn)return null;let e=new ht(It.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Nf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Nf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Nf(r.field,r.dir==="asc"?0:1)));return new Jf(Jf.UNKNOWN_ID,this.collectionId,n,eh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function EI(t){if(Ee(t instanceof Ke||t instanceof ut,20012),t instanceof Ke){if(t instanceof $A){const n=t.value.arrayValue?.values?.map((r=>Ke.create(t.field,"==",r)))||[];return ut.create(n,"or")}return t}const e=t.filters.map((n=>EI(n)));return ut.create(e,t.op)}function pV(t){if(t.getFilters().length===0)return[];const e=pv(EI(t));return Ee(wI(e),7391),fv(e)||mv(e)?[e]:e.getFilters()}function fv(t){return t instanceof Ke}function mv(t){return t instanceof ut&&n_(t)}function wI(t){return fv(t)||mv(t)||(function(n){if(n instanceof ut&&iv(n)){for(const r of n.getFilters())if(!fv(r)&&!mv(r))return!1;return!0}return!1})(t)}function pv(t){if(Ee(t instanceof Ke||t instanceof ut,34018),t instanceof Ke)return t;if(t.filters.length===1)return pv(t.filters[0]);const e=t.filters.map((r=>pv(r)));let n=ut.create(e,t.op);return n=cm(n),wI(n)?n:(Ee(n instanceof ut,64498),Ee(Ql(n),40251),Ee(n.filters.length>1,57927),n.filters.reduce(((r,a)=>c_(r,a))))}function c_(t,e){let n;return Ee(t instanceof Ke||t instanceof ut,38388),Ee(e instanceof Ke||e instanceof ut,25473),n=t instanceof Ke?e instanceof Ke?(function(a,o){return ut.create([a,o],"and")})(t,e):vT(t,e):e instanceof Ke?vT(e,t):(function(a,o){if(Ee(a.filters.length>0&&o.filters.length>0,48005),Ql(a)&&Ql(o))return FA(a,o.getFilters());const u=iv(a)?a:o,h=iv(a)?o:a,d=u.filters.map((p=>c_(p,h)));return ut.create(d,"or")})(t,e),cm(n)}function vT(t,e){if(Ql(e))return FA(e,t.getFilters());{const n=e.filters.map((r=>c_(t,r)));return ut.create(n,"or")}}function cm(t){if(Ee(t instanceof Ke||t instanceof ut,11850),t instanceof Ke)return t;const e=t.getFilters();if(e.length===1)return cm(e[0]);if(LA(t))return t;const n=e.map((a=>cm(a))),r=[];return n.forEach((a=>{a instanceof Ke?r.push(a):a instanceof ut&&(a.op===t.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:ut.create(r,t.op)}class gV{constructor(){this.Cn=new h_}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(rr.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(rr.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class h_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new ht(tt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ht(tt.comparator)).toArray()}}const _T="IndexedDbIndexManager",mf=new Uint8Array(0);class yV{constructor(e,n){this.databaseId=n,this.vn=new h_,this.Fn=new ri((r=>vo(r)),((r,a)=>bh(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:wn(a)};return bT(e).put(o)}return q.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[hA(n),""],!1,!0);return bT(e).J(a).next((o=>{for(const u of o){if(u.collectionId!==n)break;r.push(fs(u.parent))}return r}))}addFieldIndex(e,n){const r=Rc(e),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete a.indexId;const o=r.add(a);if(n.indexState){const u=Sl(e);return o.next((h=>{u.put(hT(h,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=Rc(e),a=Sl(e),o=Tl(e);return r.delete(n.indexId).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Rc(e),r=Tl(e),a=Sl(e);return n.Z().next((()=>r.Z())).next((()=>a.Z()))}createTargetIndexes(e,n){return q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const o=new yT(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=Tl(e);let a=!0;const o=new Map;return q.forEach(this.Mn(n),(u=>this.xn(e,u).next((h=>{a&&(a=!!h),o.set(u,h)})))).next((()=>{if(a){let u=Le();const h=[];return q.forEach(o,((d,p)=>{ce(_T,`Using index ${(function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map((Y=>`${Y.fieldPath}:${Y.kind}`)).join(",")}`})(d)} to execute ${vo(n)}`);const v=(function(U,Y){const ne=Jy(Y);if(ne===void 0)return null;for(const fe of im(U,ne.fieldPath))switch(fe.op){case"array-contains-any":return fe.value.arrayValue.values||[];case"array-contains":return[fe.value]}return null})(p,d),b=(function(U,Y){const ne=new Map;for(const fe of Qa(Y))for(const R of im(U,fe.fieldPath))switch(R.op){case"==":case"in":ne.set(fe.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return ne.set(fe.fieldPath.canonicalString(),R.value),Array.from(ne.values())}return null})(p,d),w=(function(U,Y){const ne=[];let fe=!0;for(const R of Qa(Y)){const A=R.kind===0?Xw(U,R.fieldPath,U.startAt):Jw(U,R.fieldPath,U.startAt);ne.push(A.value),fe&&(fe=A.inclusive)}return new aa(ne,fe)})(p,d),T=(function(U,Y){const ne=[];let fe=!0;for(const R of Qa(Y)){const A=R.kind===0?Jw(U,R.fieldPath,U.endAt):Xw(U,R.fieldPath,U.endAt);ne.push(A.value),fe&&(fe=A.inclusive)}return new aa(ne,fe)})(p,d),D=this.On(d,p,w),k=this.On(d,p,T),z=this.Nn(d,p,b),J=this.Bn(d.indexId,v,D,w.inclusive,k,T.inclusive,z);return q.forEach(J,(K=>r.Y(K,n.limit).next((U=>{U.forEach((Y=>{const ne=pe.fromSegments(Y.documentKey);u.has(ne)||(u=u.add(ne),h.push(ne))}))}))))})).next((()=>h))}return q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=pV(ut.create(e.filters,"and")).map((r=>ov(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,a,o,u,h){const d=(n!=null?n.length:1)*Math.max(r.length,o.length),p=d/(n!=null?n.length:1),v=[];for(let b=0;b<d;++b){const w=n?this.Ln(n[b/p]):mf,T=this.kn(e,w,r[b%p],a),D=this.qn(e,w,o[b%p],u),k=h.map((z=>this.kn(e,w,z,!0)));v.push(...this.createRange(T,D,k))}return v}kn(e,n,r,a){const o=new Wa(e,pe.empty(),n,r);return a?o:o.An()}qn(e,n,r,a){const o=new Wa(e,pe.empty(),n,r);return a?o.An():o}xn(e,n){const r=new yT(n),a=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let u=null;for(const h of o)r.yn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,n){let r=2;const a=this.Mn(n);return q.forEach(a,(o=>this.xn(e,o).next((u=>{u?r!==0&&u.fields.length<(function(d){let p=new ht(It.comparator),v=!1;for(const b of d.filters)for(const w of b.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?v=!0:p=p.add(w.field));for(const b of d.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(v?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(u){return u.limit!==null})(n)&&a.length>1&&r===2?1:r))}Qn(e,n){const r=new Ic;for(const a of Qa(e)){const o=n.data.field(a.fieldPath);if(o==null)return null;const u=r.Pn(a.kind);Ja.Kt.Dt(o,u)}return r.un()}Ln(e){const n=new Ic;return Ja.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Ic;return Ja.Kt.Dt(yo(this.databaseId,n),r.Pn((function(o){const u=Qa(o);return u.length===0?0:u[u.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let a=[];a.push(new Ic);let o=0;for(const u of Qa(e)){const h=r[o++];for(const d of a)if(this.Un(n,u.fieldPath)&&oh(h))a=this.Kn(a,u,h);else{const p=d.Pn(u.kind);Ja.Kt.Dt(h,p)}}return this.Wn(a)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const a=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of a){const d=new Ic;d.seed(h.un()),Ja.Kt.Dt(u,d.Pn(n.kind)),o.push(d)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof Ke&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Rc(e),a=Sl(e);return(n?r.J(ev,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const u=[];return q.forEach(o,(h=>a.get([h.indexId,this.uid]).next((d=>{u.push((function(v,b){const w=b?new eh(b.sequenceNumber,new rr(bo(b.readTime),new pe(fs(b.documentKey)),b.largestBatchId)):eh.empty(),T=v.fields.map((([D,k])=>new Nf(It.fromServerFormat(D),k)));return new Jf(v.indexId,v.collectionGroup,T,w)})(h,d))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,a)=>{const o=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:Ce(r.collectionGroup,a.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const a=Rc(e),o=Sl(e);return this.Gn(e).next((u=>a.J(ev,IDBKeyRange.bound(n,n)).next((h=>q.forEach(h,(d=>o.put(hT(d.indexId,this.uid,u,r))))))))}updateIndexEntries(e,n){const r=new Map;return q.forEach(n,((a,o)=>{const u=r.get(a.collectionGroup);return(u?q.resolve(u):this.getFieldIndexes(e,a.collectionGroup)).next((h=>(r.set(a.collectionGroup,h),q.forEach(h,(d=>this.zn(e,a,d).next((p=>{const v=this.jn(o,d);return p.isEqual(v)?q.resolve():this.Jn(e,o,d,p,v)})))))))}))}Hn(e,n,r,a){return Tl(e).put(a.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,a){return Tl(e).delete(a.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const a=Tl(e);let o=new ht(Ui);return a.ee({index:EA,range:IDBKeyRange.only([r.indexId,this.uid,Vf(this.$n(r,n))])},((u,h)=>{o=o.add(new Wa(r.indexId,n,gT(h.arrayValue),gT(h.directionalValue)))})).next((()=>o))}jn(e,n){let r=new ht(Ui);const a=this.Qn(n,e);if(a==null)return r;const o=Jy(n);if(o!=null){const u=e.data.field(o.fieldPath);if(oh(u))for(const h of u.arrayValue.values||[])r=r.add(new Wa(n.indexId,e.key,this.Ln(h),a))}else r=r.add(new Wa(n.indexId,e.key,mf,a));return r}Jn(e,n,r,a,o){ce(_T,"Updating index entries for document '%s'",n.key);const u=[];return(function(d,p,v,b,w){const T=d.getIterator(),D=p.getIterator();let k=El(T),z=El(D);for(;k||z;){let J=!1,K=!1;if(k&&z){const U=v(k,z);U<0?K=!0:U>0&&(J=!0)}else k!=null?K=!0:J=!0;J?(b(z),z=El(D)):K?(w(k),k=El(T)):(k=El(T),z=El(D))}})(a,o,Ui,(h=>{u.push(this.Hn(e,n,r,h))}),(h=>{u.push(this.Yn(e,n,r,h))})),q.waitFor(u)}Gn(e){let n=1;return Sl(e).ee({index:xA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,o)=>{o.done(),n=a.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((u,h)=>Ui(u,h))).filter(((u,h,d)=>!h||Ui(u,d[h-1])!==0));const a=[];a.push(e);for(const u of r){const h=Ui(u,e),d=Ui(u,n);if(h===0)a[0]=e.An();else if(h>0&&d<0)a.push(u),a.push(u.An());else if(d>0)break}a.push(n);const o=[];for(let u=0;u<a.length;u+=2){if(this.Zn(a[u],a[u+1]))return[];const h=a[u].Vn(this.uid,mf,pe.empty()),d=a[u+1].Vn(this.uid,mf,pe.empty());o.push(IDBKeyRange.bound(h,d))}return o}Zn(e,n){return Ui(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(xT)}getMinOffset(e,n){return q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((a=>a||_e(44426))))).next(xT)}}function bT(t){return an(t,sh)}function Tl(t){return an(t,qc)}function Rc(t){return an(t,Xv)}function Sl(t){return an(t,Bc)}function xT(t){Ee(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;Qv(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new rr(e.readTime,e.documentKey,n)}const ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TI=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function SI(t,e,n){const r=t.store(Lr),a=t.store(Bl),o=[],u=IDBKeyRange.only(n.batchId);let h=0;const d=r.ee({range:u},((v,b,w)=>(h++,w.delete())));o.push(d.next((()=>{Ee(h===1,47070,{batchId:n.batchId})})));const p=[];for(const v of n.mutations){const b=vA(e,v.key.path,n.batchId);o.push(a.delete(b)),p.push(v.key)}return q.waitFor(o).next((()=>p))}function hm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _e(14731);e=t.noDocument}return JSON.stringify(e).length}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(TI,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class Qm{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Xn={}}static wt(e,n,r,a){Ee(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Qm(o,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fi(e).ee({index:to,range:r},((a,o,u)=>{n=!1,u.done()})).next((()=>n))}addMutationBatch(e,n,r,a){const o=Dl(e),u=Fi(e);return u.add({}).next((h=>{Ee(typeof h=="number",49019);const d=new i_(h,n,r,a),p=(function(T,D,k){const z=k.baseMutations.map((K=>lm(T.yt,K))),J=k.mutations.map((K=>lm(T.yt,K)));return{userId:D,batchId:k.batchId,localWriteTimeMs:k.localWriteTime.toMillis(),baseMutations:z,mutations:J}})(this.serializer,this.userId,d),v=[];let b=new ht(((w,T)=>Ce(w.canonicalString(),T.canonicalString())));for(const w of a){const T=vA(this.userId,w.key.path,h);b=b.add(w.key.path.popLast()),v.push(u.put(p)),v.push(o.put(T,GM))}return b.forEach((w=>{v.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Xn[h]=d.keys()})),q.waitFor(v).next((()=>d))}))}lookupMutationBatch(e,n){return Fi(e).get(n).next((r=>r?(Ee(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Xa(this.serializer,r)):null))}er(e,n){return this.Xn[n]?q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const a=r.keys();return this.Xn[n]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Fi(e).ee({index:to,range:a},((u,h,d)=>{h.userId===this.userId&&(Ee(h.batchId>=r,47524,{tr:r}),o=Xa(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ro;return Fi(e).ee({index:to,range:n,reverse:!0},((a,o,u)=>{r=o.batchId,u.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,ro],[this.userId,Number.POSITIVE_INFINITY]);return Fi(e).J(to,n).next((r=>r.map((a=>Xa(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Cf(this.userId,n.path),a=IDBKeyRange.lowerBound(r),o=[];return Dl(e).ee({range:a},((u,h,d)=>{const[p,v,b]=u,w=fs(v);if(p===this.userId&&n.path.isEqual(w))return Fi(e).get(b).next((T=>{if(!T)throw _e(61480,{nr:u,batchId:b});Ee(T.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:T.userId,batchId:b}),o.push(Xa(this.serializer,T))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(Ce);const a=[];return n.forEach((o=>{const u=Cf(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=Dl(e).ee({range:h},((p,v,b)=>{const[w,T,D]=p,k=fs(T);w===this.userId&&o.path.isEqual(k)?r=r.add(D):b.done()}));a.push(d)})),q.waitFor(a).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,o=Cf(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new ht(Ce);return Dl(e).ee({range:u},((d,p,v)=>{const[b,w,T]=d,D=fs(w);b===this.userId&&r.isPrefixOf(D)?D.length===a&&(h=h.add(T)):v.done()})).next((()=>this.rr(e,h)))}rr(e,n){const r=[],a=[];return n.forEach((o=>{a.push(Fi(e).get(o).next((u=>{if(u===null)throw _e(35274,{batchId:o});Ee(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(Xa(this.serializer,u))})))})),q.waitFor(a).next((()=>r))}removeMutationBatch(e,n){return SI(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),q.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return q.resolve();const r=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return Dl(e).ee({range:r},((o,u,h)=>{if(o[0]===this.userId){const d=fs(o[1]);a.push(d)}else h.done()})).next((()=>{Ee(a.length===0,56720,{sr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return AI(e,this.userId,n)}_r(e){return II(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:ro,lastStreamToken:""}))}}function AI(t,e,n){const r=Cf(e,n.path),a=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Dl(t).ee({range:o,X:!0},((h,d,p)=>{const[v,b,w]=h;v===e&&b===a&&(u=!0),p.done()})).next((()=>u))}function Fi(t){return an(t,Lr)}function Dl(t){return an(t,Bl)}function II(t){return an(t,nh)}class xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}class vV{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new xo(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ae.fromTimestamp(new lt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.hr(e,a))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Al(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ee(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let a=0;const o=[];return Al(e).ee(((u,h)=>{const d=Pc(h);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(a++,o.push(this.removeTargetData(e,d)))})).next((()=>q.waitFor(o))).next((()=>a))}forEachTarget(e,n){return Al(e).ee(((r,a)=>{const o=Pc(a);n(o)}))}lr(e){return wT(e).get(tm).next((n=>(Ee(n!==null,2888),n)))}hr(e,n){return wT(e).put(tm,n)}Pr(e,n){return Al(e).put(bI(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=vo(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Al(e).ee({range:a,index:bA},((u,h,d)=>{const p=Pc(h);bh(n,p.target)&&(o=p,d.done())})).next((()=>o))}addMatchingKeys(e,n,r){const a=[],o=Hi(e);return n.forEach((u=>{const h=wn(u.path);a.push(o.put({targetId:r,path:h})),a.push(this.referenceDelegate.addReference(e,r,u))})),q.waitFor(a)}removeMatchingKeys(e,n,r){const a=Hi(e);return q.forEach(n,(o=>{const u=wn(o.path);return q.waitFor([a.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=Hi(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=Hi(e);let o=Le();return a.ee({range:r,X:!0},((u,h,d)=>{const p=fs(u[1]),v=new pe(p);o=o.add(v)})).next((()=>o))}containsKey(e,n){const r=wn(n.path),a=IDBKeyRange.bound([r],[hA(r)],!1,!0);let o=0;return Hi(e).ee({index:Yv,X:!0,range:a},(([u,h],d,p)=>{u!==0&&(o++,p.done())})).next((()=>o>0))}At(e,n){return Al(e).get(n).next((r=>r?Pc(r):null))}}function Al(t){return an(t,ql)}function wT(t){return an(t,so)}function Hi(t){return an(t,$l)}const TT="LruGarbageCollector",_V=1048576;function ST([t,e],[n,r]){const a=Ce(t,n);return a===0?Ce(e,r):a}class bV{constructor(e){this.Ir=e,this.buffer=new ht(ST),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ST(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(TT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ca(n)?ce(TT,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Vr(3e5)}))}}class xV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return q.resolve(br.ce);const r=new bV(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(ET)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ET):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,u,h,d,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,n)))).next((b=>(o=b,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(p=Date.now(),Il()<=Ge.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${b} documents in `+(p-d)+`ms
Total Duration: ${p-v}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b}))))}}function NI(t,e){return new xV(t,e)}class EV{constructor(e,n){this.db=e,this.garbageCollector=NI(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,a)=>n(a)))}addReference(e,n,r){return pf(e,r)}removeReference(e,n,r){return pf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return pf(e,n)}br(e,n){return(function(a,o){let u=!1;return II(a).te((h=>AI(a,h,o).next((d=>(d&&(u=!0),q.resolve(!d)))))).next((()=>u))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Sr(e,((u,h)=>{if(h<=n){const d=this.br(e,u).next((p=>{if(!p)return o++,r.getEntry(e,u).next((()=>(r.removeEntry(u,Ae.min()),Hi(e).delete((function(b){return[0,wn(b.path)]})(u)))))}));a.push(d)}})).next((()=>q.waitFor(a))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return pf(e,n)}Sr(e,n){const r=Hi(e);let a,o=br.ce;return r.ee({index:Yv},(([u,h],{path:d,sequenceNumber:p})=>{u===0?(o!==br.ce&&n(new pe(fs(a)),o),o=p,a=d):o=br.ce})).next((()=>{o!==br.ce&&n(new pe(fs(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pf(t,e){return Hi(t).put((function(r,a){return{targetId:0,path:wn(r.path),sequenceNumber:a}})(e,t.currentSequenceNumber))}class CI{constructor(){this.changes=new ri((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wV{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ha(e).put(r)}removeEntry(e,n,r){return Ha(e).delete((function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],um(u),h[h.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=kt.newInvalidDocument(n);return Ha(e).ee({index:Df,range:IDBKeyRange.only(Nc(n))},((a,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:kt.newInvalidDocument(n)};return Ha(e).ee({index:Df,range:IDBKeyRange.only(Nc(n))},((a,o)=>{r={document:this.Cr(n,o),size:hm(o)}})).next((()=>r))}getEntries(e,n){let r=Wn();return this.Fr(e,n,((a,o)=>{const u=this.Cr(a,o);r=r.insert(a,u)})).next((()=>r))}Mr(e,n){let r=Wn(),a=new Tt(pe.comparator);return this.Fr(e,n,((o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h),a=a.insert(o,hm(u))})).next((()=>({documents:r,Or:a})))}Fr(e,n,r){if(n.isEmpty())return q.resolve();let a=new ht(RT);n.forEach((d=>a=a.add(d)));const o=IDBKeyRange.bound(Nc(a.first()),Nc(a.last())),u=a.getIterator();let h=u.getNext();return Ha(e).ee({index:Df,range:o},((d,p,v)=>{const b=pe.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&RT(h,b)<0;)r(h,null),h=u.getNext();h&&h.isEqual(b)&&(r(h,p),h=u.hasNext()?u.getNext():null),h?v.j(Nc(h)):v.done()})).next((()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,n,r,a,o){const u=n.path,h=[u.popLast().toArray(),u.lastSegment(),um(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ha(e).J(IDBKeyRange.bound(h,d,!0)).next((p=>{o?.incrementDocumentReadCount(p.length);let v=Wn();for(const b of p){const w=this.Cr(pe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);w.isFoundDocument()&&(Eh(n,w)||a.has(w.key))&&(v=v.insert(w.key,w))}return v}))}getAllFromCollectionGroup(e,n,r,a){let o=Wn();const u=IT(n,r),h=IT(n,rr.max());return Ha(e).ee({index:_A,range:IDBKeyRange.bound(u,h,!0)},((d,p,v)=>{const b=this.Cr(pe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);o=o.insert(b.key,b),o.size===a&&v.done()})).next((()=>o))}newChangeBuffer(e){return new TV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return AT(e).get(Wy).next((n=>(Ee(!!n,20021),n)))}Dr(e,n){return AT(e).put(Wy,n)}Cr(e,n){if(n){const r=lV(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ae.min())))return r}return kt.newInvalidDocument(e)}}function DI(t){return new wV(t)}class TV extends CI{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new ri((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const n=[];let r=0,a=new ht(((o,u)=>Ce(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const h=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=uT(this.Nr.serializer,u);a=a.add(o.path.popLast());const p=hm(d);r+=p-h.size,n.push(this.Nr.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=uT(this.Nr.serializer,u.convertToNoDocument(Ae.min()));n.push(this.Nr.addEntry(e,o,d))}})),a.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:a})=>(a.forEach(((o,u)=>{this.Br.set(o,{size:u,readTime:r.get(o).readTime})})),r)))}}function AT(t){return an(t,rh)}function Ha(t){return an(t,em)}function Nc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function IT(t,e){const n=e.documentKey.path.toArray();return[t,um(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function RT(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(a=Ce(n[o],r[o]),a)return a;return a=Ce(n.length,r.length),a||(a=Ce(n[n.length-2],r[r.length-2]),a||Ce(n[n.length-1],r[r.length-1]))}class SV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class OI{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Gc(r.mutation,a,xr.empty(),lt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const a=ms();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let u=Oc();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=ms();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let o=Wn();const u=Hc(),h=(function(){return Hc()})();return n.forEach(((d,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof ha)?o=o.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Gc(v.mutation,p,v.mutation.getFieldMask(),lt.now())):u.set(p.key,xr.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,v)=>u.set(p,v))),n.forEach(((p,v)=>h.set(p,new SV(v,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Hc();let a=new Tt(((u,h)=>u-h)),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let v=r.get(d)||xr.empty();v=h.applyToLocalView(p,v),r.set(d,v);const b=(a.get(h.batchId)||Le()).add(d);a=a.insert(h.batchId,b)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,v=d.value,b=ZA();v.forEach((w=>{if(!o.has(w)){const T=nI(n.get(w),r.get(w));T!==null&&b.set(w,T),o=o.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return q.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):q.resolve(ms());let h=Wc,d=o;return u.next((p=>q.forEach(p,((v,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(v)?q.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{d=d.insert(v,w)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,Le()))).next((v=>({batchId:h,changes:QA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let a=Oc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let u=Oc();return this.indexManager.getCollectionParents(e,o).next((h=>q.forEach(h,(d=>{const p=(function(b,w){return new cu(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((v=>{v.forEach(((b,w)=>{u=u.insert(b,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((u=>{o.forEach(((d,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,kt.newInvalidDocument(v)))}));let h=Oc();return u.forEach(((d,p)=>{const v=o.get(d);v!==void 0&&Gc(v.mutation,p,xr.empty(),lt.now()),Eh(n,p)&&(h=h.insert(d,p))})),h}))}}class AV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:kn(a.createTime)}})(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:xI(a.bundledQuery),readTime:kn(a.readTime)}})(n)),q.resolve()}}class IV{constructor(){this.overlays=new Tt(pe.comparator),this.qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ms();return q.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),q.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const a=ms(),o=n.length+1,u=new pe(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return q.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new Tt(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let v=o.get(p.largestBatchId);v===null&&(v=ms(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=ms(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,v)=>h.set(p,v))),!(h.size()>=a)););return q.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new o_(n,r));let o=this.qr.get(n);o===void 0&&(o=Le(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class RV{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}class d_{constructor(){this.Qr=new ht(cn.$r),this.Ur=new ht(cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new cn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new cn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new tt([])),r=new cn(n,e),a=new cn(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new tt([])),r=new cn(n,e),a=new cn(n,e+1);let o=Le();return this.Ur.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new cn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class NV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ht(cn.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new i_(o,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new cn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return q.resolve(u)}lookupMutationBatch(e,n){return q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?ro:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cn(n,0),a=new cn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);o.push(h)})),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(Ce);return n.forEach((a=>{const o=new cn(a,0),u=new cn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{r=r.add(h.Yr)}))})),q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const u=new cn(new pe(o),0);let h=new ht(Ce);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),u),q.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ee(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return q.forEach(n.mutations,(a=>{const o=new cn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new cn(n,0),a=this.Zr.firstAfterOrEqual(r);return q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class CV{constructor(e){this.ri=e,this.docs=(function(){return new Tt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():kt.newInvalidDocument(a))})),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Wn();const u=n.path,h=new pe(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Qv(mA(v),r)<=0||(a.has(v.key)||Eh(n,v))&&(o=o.insert(v.key,v.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(e,n,r,a){_e(9500)}ii(e,n){return q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new DV(this)}getSize(e){return q.resolve(this.size)}}class DV extends CI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class OV{constructor(e){this.persistence=e,this.si=new ri((n=>vo(n)),bh),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new d_,this.targetCount=0,this.ai=xo.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Pr(n),q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),q.waitFor(o).next((()=>a))}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this._i.containsKey(n))}}class f_{constructor(e,n){this.ui={},this.overlays={},this.ci=new br(0),this.li=!1,this.li=!0,this.hi=new RV,this.referenceDelegate=e(this),this.Pi=new OV(this),this.indexManager=new gV,this.remoteDocumentCache=(function(a){return new CV(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _I(n),this.Ii=new AV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new NV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const a=new kV(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class kV extends gA{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Ri=new d_,this.Vi=null}static mi(e){return new Zm(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,(r=>{const a=pe.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return q.or([()=>q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dm{constructor(e,n){this.persistence=e,this.pi=new ri((r=>wn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=NI(this,n)}static mi(e,n){return new dm(e,n)}Ei(){}di(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return q.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?q.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,o.removeEntry(u,Ae.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kf(e.data.value)),n}br(e,n,r){return q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return q.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class PV{constructor(e){this.serializer=e}k(e,n,r,a){const o=new Pm("createOrUpgrade",n);r<1&&a>=1&&((function(d){d.createObjectStore(_h)})(e),(function(d){d.createObjectStore(nh,{keyPath:HM}),d.createObjectStore(Lr,{keyPath:Lw,autoIncrement:!0}).createIndex(to,Uw,{unique:!0}),d.createObjectStore(Bl)})(e),NT(e),(function(d){d.createObjectStore(Za)})(e));let u=q.resolve();return r<3&&a>=3&&(r!==0&&((function(d){d.deleteObjectStore($l),d.deleteObjectStore(ql),d.deleteObjectStore(so)})(e),NT(e)),u=u.next((()=>(function(d){const p=d.store(so),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ae.min().toTimestamp(),targetCount:0};return p.put(tm,v)})(o)))),r<4&&a>=4&&(r!==0&&(u=u.next((()=>(function(d,p){return p.store(Lr).J().next((b=>{d.deleteObjectStore(Lr),d.createObjectStore(Lr,{keyPath:Lw,autoIncrement:!0}).createIndex(to,Uw,{unique:!0});const w=p.store(Lr),T=b.map((D=>w.put(D)));return q.waitFor(T)}))})(e,o)))),u=u.next((()=>{(function(d){d.createObjectStore(Hl,{keyPath:e4})})(e)}))),r<5&&a>=5&&(u=u.next((()=>this.yi(o)))),r<6&&a>=6&&(u=u.next((()=>((function(d){d.createObjectStore(rh)})(e),this.wi(o))))),r<7&&a>=7&&(u=u.next((()=>this.Si(o)))),r<8&&a>=8&&(u=u.next((()=>this.bi(e,o)))),r<9&&a>=9&&(u=u.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(u=u.next((()=>this.Di(o)))),r<11&&a>=11&&(u=u.next((()=>{(function(d){d.createObjectStore(Mm,{keyPath:t4})})(e),(function(d){d.createObjectStore(Vm,{keyPath:n4})})(e)}))),r<12&&a>=12&&(u=u.next((()=>{(function(d){const p=d.createObjectStore(zm,{keyPath:u4});p.createIndex(tv,c4,{unique:!1}),p.createIndex(wA,h4,{unique:!1})})(e)}))),r<13&&a>=13&&(u=u.next((()=>(function(d){const p=d.createObjectStore(em,{keyPath:KM});p.createIndex(Df,QM),p.createIndex(_A,ZM)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(Za)))),r<14&&a>=14&&(u=u.next((()=>this.Fi(e,o)))),r<15&&a>=15&&(u=u.next((()=>(function(d){d.createObjectStore(Xv,{keyPath:r4,autoIncrement:!0}).createIndex(ev,s4,{unique:!1}),d.createObjectStore(Bc,{keyPath:i4}).createIndex(xA,a4,{unique:!1}),d.createObjectStore(qc,{keyPath:o4}).createIndex(EA,l4,{unique:!1})})(e)))),r<16&&a>=16&&(u=u.next((()=>{n.objectStore(Bc).clear()})).next((()=>{n.objectStore(qc).clear()}))),r<17&&a>=17&&(u=u.next((()=>{(function(d){d.createObjectStore(Jv,{keyPath:d4})})(e)}))),r<18&&a>=18&&ZS()&&(u=u.next((()=>{n.objectStore(Bc).clear()})).next((()=>{n.objectStore(qc).clear()}))),u}wi(e){let n=0;return e.store(Za).ee(((r,a)=>{n+=hm(a)})).next((()=>{const r={byteSize:n};return e.store(rh).put(Wy,r)}))}yi(e){const n=e.store(nh),r=e.store(Lr);return n.J().next((a=>q.forEach(a,(o=>{const u=IDBKeyRange.bound([o.userId,ro],[o.userId,o.lastAcknowledgedBatchId]);return r.J(to,u).next((h=>q.forEach(h,(d=>{Ee(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const p=Xa(this.serializer,d);return SI(e,o.userId,p).next((()=>{}))}))))}))))}Si(e){const n=e.store($l),r=e.store(Za);return e.store(so).get(tm).next((a=>{const o=[];return r.ee(((u,h)=>{const d=new tt(u),p=(function(b){return[0,wn(b)]})(d);o.push(n.get(p).next((v=>v?q.resolve():(b=>n.put({targetId:0,path:wn(b),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>q.waitFor(o)))}))}bi(e,n){e.createObjectStore(sh,{keyPath:WM});const r=n.store(sh),a=new h_,o=u=>{if(a.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:wn(d)})}};return n.store(Za).ee({X:!0},((u,h)=>{const d=new tt(u);return o(d.popLast())})).next((()=>n.store(Bl).ee({X:!0},(([u,h,d],p)=>{const v=fs(h);return o(v.popLast())}))))}Di(e){const n=e.store(ql);return n.ee(((r,a)=>{const o=Pc(a),u=bI(this.serializer,o);return n.put(u)}))}Ci(e,n){const r=n.store(Za),a=[];return r.ee(((o,u)=>{const h=n.store(em),d=(function(b){return b.document?new pe(tt.fromString(b.document.name).popFirst(5)):b.noDocument?pe.fromSegments(b.noDocument.path):b.unknownDocument?pe.fromSegments(b.unknownDocument.path):_e(36783)})(u).path.toArray(),p={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(p))})).next((()=>q.waitFor(a)))}Fi(e,n){const r=n.store(Lr),a=DI(this.serializer),o=new f_(Zm.mi,this.serializer.yt);return r.J().next((u=>{const h=new Map;return u.forEach((d=>{let p=h.get(d.userId)??Le();Xa(this.serializer,d).keys().forEach((v=>p=p.add(v))),h.set(d.userId,p)})),q.forEach(h,((d,p)=>{const v=new yn(p),b=Km.wt(this.serializer,v),w=o.getIndexManager(v),T=Qm.wt(v,this.serializer,w,o.referenceDelegate);return new OI(a,T,b,w).recalculateAndSaveOverlaysForDocumentKeys(new nv(n,br.ce),d).next()}))}))}}function NT(t){t.createObjectStore($l,{keyPath:XM}).createIndex(Yv,JM,{unique:!0}),t.createObjectStore(ql,{keyPath:"targetId"}).createIndex(bA,YM,{unique:!0}),t.createObjectStore(so)}const Bi="IndexedDbPersistence",Sy=18e5,Ay=5e3,Iy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jV="main";class m_{constructor(e,n,r,a,o,u,h,d,p,v,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=u,this.document=h,this.xi=p,this.Oi=v,this.Ni=b,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!m_.v())throw new de(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new EV(this,a),this.$i=n+jV,this.serializer=new _I(d),this.Ui=new ta(this.$i,this.Ni,new PV(this.serializer)),this.hi=new cV,this.Pi=new vV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=DI(this.serializer),this.Ii=new uV,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,v===!1&&Cn(Bi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(te.FAILED_PRECONDITION,Iy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new br(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>gf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ca(e))return ce(Bi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ce(Bi,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Cc(e).get(xl).next((n=>q.resolve(this.es(n))))}ts(e){return gf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Sy)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=an(n,Hl);return r.J().next((a=>{const o=this.ss(a,Sy),u=a.filter((h=>o.indexOf(h)===-1));return q.forEach(u,(h=>r.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?q.resolve(!0):Cc(e).get(xl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Ay)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new de(te.FAILED_PRECONDITION,Iy);return!1}}return!(!this.networkEnabled||!this.inForeground)||gf(e).J().next((r=>this.ss(r,Ay).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(o||u&&h)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ce(Bi,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[_h,Hl],(e=>{const n=new nv(e,br.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>gf(e).J().next((n=>this.ss(n,Sy).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Qm.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new yV(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Km.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce(Bi,"Starting transaction:",e);const a=n==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?p4:d===17?IA:d===16?m4:d===15?Wv:d===14?AA:d===13?SA:d===12?f4:d===11?TA:void _e(60245)})(this.Ni);let u;return this.Ui.runTransaction(e,a,o,(h=>(u=new nv(h,this.ci?this.ci.next():br.ce),n==="readwrite-primary"?this.Hi(u).next((d=>!!d||this.Yi(u))).next((d=>{if(!d)throw Cn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new de(te.FAILED_PRECONDITION,pA);return r(u)})).next((d=>this.Xi(u).next((()=>d)))):this.Is(u).next((()=>r(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Is(e){return Cc(e).get(xl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Ay)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new de(te.FAILED_PRECONDITION,Iy)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cc(e).put(xl,n)}static v(){return ta.v()}Zi(e){const n=Cc(e);return n.get(xl).next((r=>this.es(r)?(ce(Bi,"Releasing primary lease."),n.delete(xl)):q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Cn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;QS()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return ce(Bi,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Cn(Bi,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Cn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cc(t){return an(t,_h)}function gf(t){return an(t,Hl)}function MV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class p_{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Le(),a=Le();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new p_(e,n.fromCache,r,a)}}class VV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QS()?8:yA(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new VV;return this.Ss(e,n,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(Il()<=Ge.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Il()<=Ge.DEBUG&&ce("QueryEngine","Query:",Rl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Il()<=Ge.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):q.resolve())}ys(e,n){if(Ww(n))return q.resolve(null);let r=Er(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=am(n,null,"F"),r=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=Le(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,u,d.readTime)?this.ys(e,am(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,r,a){return Ww(n)||a.isEqual(Ae.min())?q.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(n,o);return this.Cs(n,u,r,a)?q.resolve(null):(Il()<=Ge.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rl(n)),this.vs(e,u,n,zM(a,Wc)).next((h=>h)))}))}Ds(e,n){let r=new ht(GA(e));return n.forEach(((a,o)=>{Eh(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return Il()<=Ge.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Rl(n)),this.ps.getDocumentsMatchingQuery(e,n,rr.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const g_="LocalStore",zV=3e8;class LV{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Tt(Ce),this.xs=new ri((o=>vo(o)),bh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function PI(t,e,n,r){return new LV(t,e,n,r)}async function jI(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let d=Le();for(const p of a){u.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}for(const p of o){h.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function UV(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,v){const b=p.batch,w=b.keys();let T=q.resolve();return w.forEach((D=>{T=T.next((()=>v.getEntry(d,D))).next((k=>{const z=p.docVersions.get(D);Ee(z!==null,48541),k.version.compareTo(z)<0&&(b.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),v.addEntry(k)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,b)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=Le();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function MI(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function FV(t,e){const n=De(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((v,b)=>{const w=a.get(b);if(!w)return;h.push(n.Pi.removeMatchingKeys(o,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,v.addedDocuments,b))));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?T=T.withResumeToken(Wt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(v.resumeToken,r)),a=a.insert(b,T),(function(k,z,J){return k.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=zV?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(w,T,v)&&h.push(n.Pi.updateTargetData(o,T))}));let d=Wn(),p=Le();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(BV(o,u,e.documentUpdates).next((v=>{d=v.ks,p=v.qs}))),!r.isEqual(Ae.min())){const v=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return q.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(n.Ms=a,o)))}function BV(t,e,n){let r=Le(),a=Le();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let u=Wn();return n.forEach(((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ae.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ce(g_,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function qV(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ro),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $V(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,q.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new Hs(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function gv(t,e,n){const r=De(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!ca(u))throw u;ce(g_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function CT(t,e,n){const r=De(t);let a=Ae.min(),o=Le();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,v){const b=De(d),w=b.xs.get(v);return w!==void 0?q.resolve(b.Ms.get(w)):b.Pi.getTargetData(p,v)})(r,u,Er(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:Ae.min(),n?o:Le()))).next((h=>(HV(r,C4(e),h),{documents:h,Qs:o})))))}function HV(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class DT{constructor(){this.activeTargetIds=M4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VI{constructor(){this.Mo=new DT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new DT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GV{Oo(e){}shutdown(){}}const OT="ConnectivityMonitor";class kT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(OT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(OT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yf=null;function yv(){return yf===null?yf=(function(){return 268435456+Math.round(2147483648*Math.random())})():yf++,"0x"+yf.toString(16)}const Ry="RestConnection",KV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===nm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const u=yv(),h=this.zo(e,n.toUriEncodedString());ce(Ry,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:p}=new URL(h),v=ou(p);return this.Jo(e,h,d,r,v).then((b=>(ce(Ry,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw po(Ry,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",r),b}))}Ho(e,n,r,a,o,u){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=KV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class ZV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const xn="WebChannelConnection";class YV extends QV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const u=yv();return new Promise(((h,d)=>{const p=new sA;p.setWithCredentials(!0),p.listenOnce(iA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Rf.NO_ERROR:const b=p.getResponseJson();ce(xn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case Rf.TIMEOUT:ce(xn,`RPC '${e}' ${u} timed out`),d(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:const w=p.getStatus();if(ce(xn,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const D=T?.error;if(D&&D.status&&D.message){const k=(function(J){const K=J.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(K)>=0?K:te.UNKNOWN})(D.status);d(new de(k,D.message))}else d(new de(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new de(te.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(xn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);ce(xn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",v,r,15)}))}T_(e,n,r){const a=yv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=lA(),h=oA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const v=o.join("");ce(xn,`Creating RPC '${e}' stream ${a}: ${v}`,d);const b=u.createWebChannel(v,d);this.I_(b);let w=!1,T=!1;const D=new ZV({Yo:z=>{T?ce(xn,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(w||(ce(xn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),w=!0),ce(xn,`RPC '${e}' stream ${a} sending:`,z),b.send(z))},Zo:()=>b.close()}),k=(z,J,K)=>{z.listen(J,(U=>{try{K(U)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return k(b,Dc.EventType.OPEN,(()=>{T||(ce(xn,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),k(b,Dc.EventType.CLOSE,(()=>{T||(T=!0,ce(xn,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(b))})),k(b,Dc.EventType.ERROR,(z=>{T||(T=!0,po(xn,`RPC '${e}' stream ${a} transport errored. Name:`,z.name,"Message:",z.message),D.a_(new de(te.UNAVAILABLE,"The operation could not be completed")))})),k(b,Dc.EventType.MESSAGE,(z=>{if(!T){const J=z.data[0];Ee(!!J,16349);const K=J,U=K?.error||K[0]?.error;if(U){ce(xn,`RPC '${e}' stream ${a} received error:`,U);const Y=U.status;let ne=(function(A){const C=Xt[A];if(C!==void 0)return iI(C)})(Y),fe=U.message;ne===void 0&&(ne=te.INTERNAL,fe="Unknown error status: "+Y+" with message "+U.message),T=!0,D.a_(new de(ne,fe)),b.close()}else ce(xn,`RPC '${e}' stream ${a} received:`,J),D.u_(J)}})),k(h,aA.STAT_EVENT,(z=>{z.stat===Yy.PROXY?ce(xn,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===Yy.NOPROXY&&ce(xn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function XV(){return typeof window<"u"?window:null}function zf(){return typeof document<"u"?document:null}function Ym(t){return new J4(t,!0)}class zI{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const PT="PersistentStream";class LI{constructor(e,n,r,a,o,u,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Cn(n.toString()),Cn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new de(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(PT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(PT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JV extends LI{constructor(e,n,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tV(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ae.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?kn(u.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=hv(this.serializer),n.addTarget=(function(o,u){let h;const d=u.target;if(h=sm(d)?{documents:fI(o,d)}:{query:mI(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=lI(o,u.resumeToken);const p=uv(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ae.min())>0){h.readTime=Jl(o,u.snapshotVersion.toTimestamp());const p=uv(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=rV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=hv(this.serializer),n.removeTarget=e,this.q_(n)}}class WV extends LI{constructor(e,n,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nV(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=hv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>lm(this.serializer,r)))};this.q_(n)}}class e3{}class t3 extends e3{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,cv(n,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(te.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,cv(n,r),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class n3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cn(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Eo="RemoteStore";class r3{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{No(this)&&(ce(Eo,"Restarting streams for network reachability change."),await(async function(d){const p=De(d);p.Ea.add(4),await Th(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Xm(p)})(this))}))})),this.Ra=new n3(r,a)}}async function Xm(t){if(No(t))for(const e of t.da)await e(!0)}async function Th(t){for(const e of t.da)await e(!1)}function UI(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),b_(n)?__(n):du(n).O_()&&v_(n,e))}function y_(t,e){const n=De(t),r=du(n);n.Ia.delete(e),r.O_()&&FI(n,e),n.Ia.size===0&&(r.O_()?r.L_():No(n)&&n.Ra.set("Unknown"))}function v_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}du(t).Y_(e)}function FI(t,e){t.Va.Ue(e),du(t).Z_(e)}function __(t){t.Va=new Q4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),du(t).start(),t.Ra.ua()}function b_(t){return No(t)&&!du(t).x_()&&t.Ia.size>0}function No(t){return De(t).Ea.size===0}function BI(t){t.Va=void 0}async function s3(t){t.Ra.set("Online")}async function i3(t){t.Ia.forEach(((e,n)=>{v_(t,e)}))}async function a3(t,e){BI(t),b_(t)?(t.Ra.ha(e),__(t)):t.Ra.set("Unknown")}async function o3(t,e,n){if(t.Ra.set("Online"),e instanceof oI&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){ce(Eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fm(t,r)}else if(e instanceof Mf?t.Va.Ze(e):e instanceof aI?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await MI(t.localStore);n.compareTo(r)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=o.Ia.get(p);v&&o.Ia.set(p,v.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const v=o.Ia.get(d);if(!v)return;o.Ia.set(d,v.withResumeToken(Wt.EMPTY_BYTE_STRING,v.snapshotVersion)),FI(o,d);const b=new Hs(v.target,d,p,v.sequenceNumber);v_(o,b)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ce(Eo,"Failed to raise snapshot:",r),await fm(t,r)}}async function fm(t,e,n){if(!ca(e))throw e;t.Ea.add(1),await Th(t),t.Ra.set("Offline"),n||(n=()=>MI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(Eo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Xm(t)}))}function qI(t,e){return e().catch((n=>fm(t,n,e)))}async function Sh(t){const e=De(t),n=oa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ro;for(;l3(e);)try{const a=await qV(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,u3(e,a)}catch(a){await fm(e,a)}$I(e)&&HI(e)}function l3(t){return No(t)&&t.Ta.length<10}function u3(t,e){t.Ta.push(e);const n=oa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function $I(t){return No(t)&&!oa(t).x_()&&t.Ta.length>0}function HI(t){oa(t).start()}async function c3(t){oa(t).ra()}async function h3(t){const e=oa(t);for(const n of t.Ta)e.ea(n.mutations)}async function d3(t,e,n){const r=t.Ta.shift(),a=a_.from(r,e,n);await qI(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Sh(t)}async function f3(t,e){e&&oa(t).X_&&await(async function(r,a){if((function(u){return H4(u)&&u!==te.ABORTED})(a.code)){const o=r.Ta.shift();oa(r).B_(),await qI(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Sh(r)}})(t,e),$I(t)&&HI(t)}async function jT(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),ce(Eo,"RemoteStore received new credentials");const r=No(n);n.Ea.add(3),await Th(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xm(n)}async function m3(t,e){const n=De(t);e?(n.Ea.delete(2),await Xm(n)):e||(n.Ea.add(2),await Th(n),n.Ra.set("Unknown"))}function du(t){return t.ma||(t.ma=(function(n,r,a){const o=De(n);return o.sa(),new JV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:s3.bind(null,t),t_:i3.bind(null,t),r_:a3.bind(null,t),H_:o3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),b_(t)?__(t):t.Ra.set("Unknown")):(await t.ma.stop(),BI(t))}))),t.ma}function oa(t){return t.fa||(t.fa=(function(n,r,a){const o=De(n);return o.sa(),new WV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:c3.bind(null,t),r_:f3.bind(null,t),ta:h3.bind(null,t),na:d3.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Sh(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(Eo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class x_{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const u=Date.now()+r,h=new x_(e,n,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E_(t,e){if(Cn("AsyncQueue",`${e}: ${t}`),ca(t))return new de(te.UNAVAILABLE,`${e}: ${t}`);throw t}class Pl{static emptySet(e){return new Pl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Oc(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class MT{constructor(){this.ga=new Tt(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Wl{constructor(e,n,r,a,o,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Wl(e,n,Pl.emptySet(n),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class p3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class g3{constructor(){this.queries=VT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=De(n),o=a.queries;a.queries=VT(),o.forEach(((u,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new de(te.ABORTED,"Firestore shutting down"))}}function VT(){return new ri((t=>HA(t)),Bm)}async function w_(t,e){const n=De(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new p3,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=E_(u,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&S_(n)}async function T_(t,e){const n=De(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function y3(t,e){const n=De(t);let r=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&S_(n)}function v3(t,e,n){const r=De(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function S_(t){t.Ca.forEach((e=>{e.next()}))}var vv,zT;(zT=vv||(vv={})).Ma="default",zT.Cache="cache";class A_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Wl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vv.Cache}}class GI{constructor(e){this.key=e}}class KI{constructor(e){this.key=e}}class _3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=GA(e),this.tu=new Pl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new MT,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const w=a.get(v),T=Eh(this.query,b)?b:null,D=!!w&&this.mutatedKeys.has(w.key),k=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let z=!1;w&&T?w.data.isEqual(T.data)?D!==k&&(r.track({type:3,doc:T}),z=!0):this.su(w,T)||(r.track({type:2,doc:T}),z=!0,(d&&this.eu(T,d)>0||p&&this.eu(T,p)<0)&&(h=!0)):!w&&T?(r.track({type:0,doc:T}),z=!0):w&&!T&&(r.track({type:1,doc:w}),z=!0,(d||p)&&(h=!0)),z&&(T?(u=u.add(T),o=k?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(T,D){const k=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:z})}};return k(T)-k(D)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,u.length!==0||p?{snapshot:new Wl(this.query,e.tu,o,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new MT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new KI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new GI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const I_="SyncEngine";class b3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class x3{constructor(e){this.key=e,this.hu=!1}}class E3{constructor(e,n,r,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ri((h=>HA(h)),Bm),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(pe.comparator),this.Au=new Map,this.Ru=new d_,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function w3(t,e,n=!0){const r=WI(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await QI(r,e,n,!0),a}async function T3(t,e){const n=WI(t);await QI(n,e,!0,!1)}async function QI(t,e,n,r){const a=await $V(t.localStore,Er(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await S3(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&UI(t.remoteStore,a),h}async function S3(t,e,n,r,a){t.pu=(b,w,T)=>(async function(k,z,J,K){let U=z.view.ru(J);U.Cs&&(U=await CT(k.localStore,z.query,!1).then((({documents:R})=>z.view.ru(R,U))));const Y=K&&K.targetChanges.get(z.targetId),ne=K&&K.targetMismatches.get(z.targetId)!=null,fe=z.view.applyChanges(U,k.isPrimaryClient,Y,ne);return UT(k,z.targetId,fe.au),fe.snapshot})(t,b,w,T);const o=await CT(t.localStore,e,!0),u=new _3(e,o.Qs),h=u.ru(o.documents),d=wh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);UT(t,n,p.au);const v=new b3(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function A3(t,e,n){const r=De(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!Bm(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await gv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&y_(r.remoteStore,a.targetId),_v(r,a.targetId)})).catch(Io)):(_v(r,a.targetId),await gv(r.localStore,a.targetId,!0))}async function I3(t,e){const n=De(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),y_(n.remoteStore,r.targetId))}async function R3(t,e,n){const r=eR(t);try{const a=await(function(u,h){const d=De(u),p=lt.now(),v=h.reduce(((T,D)=>T.add(D.key)),Le());let b,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let D=Wn(),k=Le();return d.Ns.getEntries(T,v).next((z=>{D=z,D.forEach(((J,K)=>{K.isValidDocument()||(k=k.add(J))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,D))).next((z=>{b=z;const J=[];for(const K of h){const U=q4(K,b.get(K.key).overlayedDocument);U!=null&&J.push(new ha(K.key,U,VA(U.value.mapValue),On.exists(!0)))}return d.mutationQueue.addMutationBatch(T,p,J,h)})).next((z=>{w=z;const J=z.applyToLocalDocumentSet(b,k);return d.documentOverlayCache.saveOverlays(T,z.batchId,J)}))})).then((()=>({batchId:w.batchId,changes:QA(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.Vu[u.currentUser.toKey()];p||(p=new Tt(Ce)),p=p.insert(h,d),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,n),await Ah(r,a.changes),await Sh(r.remoteStore)}catch(a){const o=E_(a,"Failed to persist write");n.reject(o)}}async function ZI(t,e){const n=De(t);try{const r=await FV(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=n.Au.get(o);u&&(Ee(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Ee(u.hu,14607):a.removedDocuments.size>0&&(Ee(u.hu,42227),u.hu=!1))})),await Ah(n,r,e)}catch(r){await Io(r)}}function LT(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=De(u);d.onlineState=h;let p=!1;d.queries.forEach(((v,b)=>{for(const w of b.Sa)w.va(h)&&(p=!0)})),p&&S_(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N3(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new Tt(pe.comparator);u=u.insert(o,kt.newNoDocument(o,Ae.min()));const h=Le().add(o),d=new Gm(Ae.min(),new Map,new Tt(Ce),u,h);await ZI(r,d),r.du=r.du.remove(o),r.Au.delete(e),R_(r)}else await gv(r.localStore,e,!1).then((()=>_v(r,e,n))).catch(Io)}async function C3(t,e){const n=De(t),r=e.batch.batchId;try{const a=await UV(n.localStore,e);XI(n,r,null),YI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ah(n,a)}catch(a){await Io(a)}}async function D3(t,e,n){const r=De(t);try{const a=await(function(u,h){const d=De(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return d.mutationQueue.lookupMutationBatch(p,h).next((b=>(Ee(b!==null,37113),v=b.keys(),d.mutationQueue.removeMutationBatch(p,b)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>d.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);XI(r,e,n),YI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ah(r,a)}catch(a){await Io(a)}}function YI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function XI(t,e,n){const r=De(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function _v(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||JI(t,r)}))}function JI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(y_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),R_(t))}function UT(t,e,n){for(const r of n)r instanceof GI?(t.Ru.addReference(r.key,e),O3(t,r)):r instanceof KI?(ce(I_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||JI(t,r.key)):_e(19791,{wu:r})}function O3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ce(I_,"New document in limbo: "+n),t.Eu.add(r),R_(t))}function R_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(tt.fromString(e)),r=t.fu.next();t.Au.set(r,new x3(n)),t.du=t.du.insert(n,r),UI(t.remoteStore,new Hs(Er(xh(n.path)),r,"TargetPurposeLimboResolution",br.ce))}}async function Ah(t,e,n){const r=De(t),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){a.push(p);const v=p_.As(d.targetId,p);o.push(v)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(d,p){const v=De(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>q.forEach(p,(w=>q.forEach(w.Es,(T=>v.persistence.referenceDelegate.addReference(b,w.targetId,T))).next((()=>q.forEach(w.ds,(T=>v.persistence.referenceDelegate.removeReference(b,w.targetId,T)))))))))}catch(b){if(!ca(b))throw b;ce(g_,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const T=v.Ms.get(w),D=T.snapshotVersion,k=T.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(w,k)}}})(r.localStore,o))}async function k3(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){ce(I_,"User change. New user:",e.toKey());const r=await jI(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new de(te.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ah(n,r.Ls)}}function P3(t,e){const n=De(t),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let a=Le();const o=n.Iu.get(e);if(!o)return a;for(const u of o){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function WI(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N3.bind(null,e),e.Pu.H_=y3.bind(null,e.eventManager),e.Pu.yu=v3.bind(null,e.eventManager),e}function eR(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D3.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ym(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PI(this.persistence,new kI,e.initialUser,this.serializer)}Cu(e){return new f_(Zm.mi,this.serializer)}Du(e){return new VI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class j3 extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ee(this.persistence.referenceDelegate instanceof dm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new RI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new f_((r=>dm.mi(r,n)),this.serializer)}}class M3 extends uh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await eR(this.xu.syncEngine),await Sh(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return PI(this.persistence,new kI,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new RI(r,e.asyncQueue,n)}Mu(e,n){const r=new BM(n,this.persistence);return new FM(e.asyncQueue,r)}Cu(e){const n=MV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new m_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,XV(),zf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new VI}}class mm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k3.bind(null,this.syncEngine),await m3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g3})()}createDatastore(e){const n=Ym(e.databaseInfo.databaseId),r=(function(o){return new YV(o)})(e.databaseInfo);return(function(o,u,h,d){return new t3(o,u,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,u,h){return new r3(r,a,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>LT(this.syncEngine,n,0)),(function(){return kT.v()?new kT:new GV})())}createSyncEngine(e,n){return(function(a,o,u,h,d,p,v){const b=new E3(a,o,u,h,d,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=De(n);ce(Eo,"RemoteStore shutting down."),r.Ea.add(5),await Th(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};class N_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const la="FirestoreClient";class V3{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=yn.UNAUTHENTICATED,this.clientId=Kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{ce(la,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ce(la,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=E_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ny(t,e){t.asyncQueue.verifyOperationInProgress(),ce(la,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await jI(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function FT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await z3(t);ce(la,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>jT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>jT(e.remoteStore,a))),t._onlineComponents=e}async function z3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(la,"Using user provided OfflineComponentProvider");try{await Ny(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Ny(t,new uh)}}else ce(la,"Using default OfflineComponentProvider"),await Ny(t,new j3(void 0));return t._offlineComponents}async function tR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(la,"Using user provided OnlineComponentProvider"),await FT(t,t._uninitializedComponentsProvider._online)):(ce(la,"Using default OnlineComponentProvider"),await FT(t,new mm))),t._onlineComponents}function L3(t){return tR(t).then((e=>e.syncEngine))}async function pm(t){const e=await tR(t),n=e.eventManager;return n.onListen=w3.bind(null,e.syncEngine),n.onUnlisten=A3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I3.bind(null,e.syncEngine),n}function U3(t,e,n={}){const r=new gs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,p){const v=new N_({next:w=>{v.Nu(),u.enqueueAndForget((()=>T_(o,b)));const T=w.docs.has(h);!T&&w.fromCache?p.reject(new de(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&d&&d.source==="server"?p.reject(new de(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new A_(xh(h.path),v,{includeMetadataChanges:!0,qa:!0});return w_(o,b)})(await pm(t),t.asyncQueue,e,n,r))),r.promise}function F3(t,e,n={}){const r=new gs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,p){const v=new N_({next:w=>{v.Nu(),u.enqueueAndForget((()=>T_(o,b))),w.fromCache&&d.source==="server"?p.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new A_(h,v,{includeMetadataChanges:!0,qa:!0});return w_(o,b)})(await pm(t),t.asyncQueue,e,n,r))),r.promise}function nR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const BT=new Map;const rR="firestore.googleapis.com",qT=!0;class $T{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rR,this.ssl=qT}else this.host=e.host,this.ssl=e.ssl??qT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_V)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $T(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new AM;switch(r.type){case"firstParty":return new CM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=BT.get(n);r&&(ce("ComponentProvider","Removing Datastore"),BT.delete(n),r.terminate())})(this),Promise.resolve()}}function B3(t,e,n,r={}){t=nr(t,Jm);const a=ou(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(HS(`https://${h}`),GS("Firestore",!0)),o.host!==rR&&o.host!==h&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:r};if(!ho(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=yn.MOCK_USER;else{p=nj(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new yn(b)}t._authCredentials=new IM(new cA(p,v))}}class si{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new si(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vh(n,Ft._jsonSchema))return new Ft(e,r||null,new pe(tt.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Jt("string",Ft._jsonSchemaVersion),referencePath:Jt("string")};class na extends si{constructor(e,n,r){super(e,n,xh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new pe(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function C_(t,e,...n){if(t=Tn(t),dA("collection","path",e),t instanceof Jm){const r=tt.fromString(e,...n);return Pw(r),new na(t,null,r)}{if(!(t instanceof Ft||t instanceof na))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return Pw(r),new na(t.firestore,null,r)}}function fu(t,e,...n){if(t=Tn(t),arguments.length===1&&(e=Kv.newId()),dA("doc","path",e),t instanceof Jm){const r=tt.fromString(e,...n);return kw(r),new Ft(t,null,new pe(r))}{if(!(t instanceof Ft||t instanceof na))throw new de(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return kw(r),new Ft(t.firestore,t instanceof na?t.converter:null,new pe(r))}}const HT="AsyncQueue";class GT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zI(this,"async_queue_retry"),this._c=()=>{const r=zf();r&&ce(HT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ca(e))throw e;ce(HT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Cn("INTERNAL UNHANDLED ERROR: ",KT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=x_.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&_e(47125,{Pc:KT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function KT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function QT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Ws extends Jm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new GT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GT(e),this._firestoreClient=void 0,await e}}}function q3(t,e){const n=typeof t=="object"?t:eA(),r=typeof t=="string"?t:nm,a=Hv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=ej("firestore");o&&B3(a,...o)}return a}function Wm(t){if(t._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sR(t),t._firestoreClient}function sR(t){const e=t._freezeSettings(),n=(function(a,o,u,h){return new y4(a,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,nR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new V3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}function $3(t,e){po("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return H3(t,mm.provider,{build:r=>new M3(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function H3(t,e,n){if((t=nr(t,Ws))._firestoreClient||t._terminated)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new de(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},sR(t)}class _r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _r(Wt.fromBase64String(e))}catch(n){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _r(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vh(e,_r._jsonSchema))return _r.fromBase64String(e.bytes)}}_r._jsonSchemaVersion="firestore/bytes/1.0",_r._jsonSchema={type:Jt("string",_r._jsonSchemaVersion),bytes:Jt("string")};class D_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class O_{constructor(e){this._methodName=e}}class ys{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ys._jsonSchemaVersion}}static fromJSON(e){if(vh(e,ys._jsonSchema))return new ys(e.latitude,e.longitude)}}ys._jsonSchemaVersion="firestore/geoPoint/1.0",ys._jsonSchema={type:Jt("string",ys._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};class vs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vh(e,vs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vs(e.vectorValues);throw new de(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vs._jsonSchemaVersion="firestore/vectorValue/1.0",vs._jsonSchema={type:Jt("string",vs._jsonSchemaVersion),vectorValues:Jt("object")};const G3=/^__.*__$/;class K3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}function iR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class k_{constructor(e,n,r,a,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new k_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iR(this.Ac)&&G3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Q3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ym(e)}Cc(e,n,r,a=!1){return new k_({Ac:e,methodName:n,Dc:r,path:It.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(t){const e=t._freezeSettings(),n=Ym(t._databaseId);return new Q3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aR(t,e,n,r,a,o={}){const u=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);cR("Data must be an object, but it was:",u,r);const h=lR(r,u);let d,p;if(o.merge)d=new xr(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const b of o.mergeFields){const w=Z3(e,b,n);if(!u.contains(w))throw new de(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);X3(v,w)||v.push(w)}d=new xr(v),p=u.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,p=u.fieldTransforms;return new K3(new Fn(h),d,p)}class P_ extends O_{_toFieldTransform(e){return new tI(e.path,new Zl)}isEqual(e){return e instanceof P_}}function oR(t,e,n,r=!1){return j_(n,t.Cc(r?4:3,e))}function j_(t,e){if(uR(t=Tn(t)))return cR("Unsupported field value:",e,t),lR(t,e);if(t instanceof O_)return(function(r,a){if(!iR(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const h of r){let d=j_(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=Tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V4(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=lt.fromDate(r);return{timestampValue:Jl(a.serializer,o)}}if(r instanceof lt){const o=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jl(a.serializer,o)}}if(r instanceof ys)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _r)return{bytesValue:lI(a.serializer,r._byteString)};if(r instanceof Ft){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:u_(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof vs)return(function(u,h){return{mapValue:{fields:{[e_]:{stringValue:t_},[Gl]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return s_(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${km(r)}`)})(t,e)}function lR(t,e){const n={};return RA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,((r,a)=>{const o=j_(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function uR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof ys||t instanceof _r||t instanceof Ft||t instanceof O_||t instanceof vs)}function cR(t,e,n){if(!uR(n)||!fA(n)){const r=km(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Z3(t,e,n){if((e=Tn(e))instanceof D_)return e._internalPath;if(typeof e=="string")return hR(t,e);throw gm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Y3=new RegExp("[~\\*/\\[\\]]");function hR(t,e,n){if(e.search(Y3)>=0)throw gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new D_(...e.split("."))._internalPath}catch{throw gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gm(t,e,n,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new de(te.INVALID_ARGUMENT,h+t+d)}function X3(t,e){return t.some((n=>n.isEqual(e)))}class M_{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J3 extends M_{data(){return super.data()}}function dR(t,e){return typeof e=="string"?hR(t,e):e instanceof D_?e._internalPath:e._delegate._internalPath}function fR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V_{}class z_ extends V_{}function W3(t,e,...n){let r=[];e instanceof V_&&r.push(e),r=r.concat(n),(function(o){const u=o.filter((d=>d instanceof U_)).length,h=o.filter((d=>d instanceof L_)).length;if(u>1||u>0&&h>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class L_ extends z_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new L_(e,n,r)}_apply(e){const n=this._parse(e);return mR(e._query,n),new si(e.firestore,e.converter,lv(e._query,n))}_parse(e){const n=ep(e.firestore);return(function(o,u,h,d,p,v,b){let w;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){YT(b,v);const D=[];for(const k of b)D.push(ZT(d,o,k));w={arrayValue:{values:D}}}else w=ZT(d,o,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||YT(b,v),w=oR(h,u,b,v==="in"||v==="not-in");return Ke.create(p,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class U_ extends V_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ut.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let u=a;const h=o.getFlattenedFilters();for(const d of h)mR(u,d),u=lv(u,d)})(e._query,n),new si(e.firestore,e.converter,lv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class F_ extends z_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new F_(e,n,r)}_apply(e){return new si(e.firestore,e.converter,am(e._query,this._limit,this._limitType))}}function e6(t){return VM("limit",t),F_._create("limit",t,"F")}class B_ extends z_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new B_(e,n,r)}_apply(e){const n=n6(e,this.type,this._docOrFields,this._inclusive);return new si(e.firestore,e.converter,(function(a,o){return new cu(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)})(e._query,n))}}function t6(...t){return B_._create("startAfter",t,!1)}function n6(t,e,n,r){if(n[0]=Tn(n[0]),n[0]instanceof M_)return(function(o,u,h,d,p){if(!d)throw new de(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const b of kl(o))if(b.field.isKeyField())v.push(yo(u,d.key));else{const w=d.data.field(b.field);if(Lm(w))throw new de(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const T=b.field.canonicalString();throw new de(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}v.push(w)}return new aa(v,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=ep(t.firestore);return(function(u,h,d,p,v,b){const w=u.explicitOrderBy;if(v.length>w.length)throw new de(te.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let D=0;D<v.length;D++){const k=v[D];if(w[D].field.isKeyField()){if(typeof k!="string")throw new de(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof k}`);if(!r_(u)&&k.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${k}' contains a slash.`);const z=u.path.child(tt.fromString(k));if(!pe.isDocumentKey(z))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const J=new pe(z);T.push(yo(h,J))}else{const z=oR(d,p,k);T.push(z)}}return new aa(T,b)})(t._query,t.firestore._databaseId,a,e,n,r)}}function ZT(t,e,n){if(typeof(n=Tn(n))=="string"){if(n==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r_(e)&&n.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!pe.isDocumentKey(r))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yo(t,new pe(r))}if(n instanceof Ft)return yo(t,n._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${km(n)}.`)}function YT(t,e){if(!Array.isArray(t)||t.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mR(t,e){const n=(function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class r6{convertValue(e,n="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ro(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Gl].arrayValue?.values?.map((r=>wt(r.doubleValue)));return new vs(n)}convertGeoPoint(e){return new ys(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Um(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const n=Xs(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Ee(vI(r),9688,{name:e});const a=new go(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return a.isEqual(n)||Cn(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function pR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class jc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ao extends M_{constructor(e,n,r,a,o,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ao._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",ao._jsonSchema={type:Jt("string",ao._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Lf extends ao{data(e={}){return super.data(e)}}class oo{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new jc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Lf(this._firestore,this._userDataWriter,r.key,r,new jc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Lf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new jc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Lf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new jc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:s6(h.type),doc:d,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function s6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}function i6(t){t=nr(t,Ft);const e=nr(t.firestore,Ws);return U3(Wm(e),t._key).then((n=>vR(e,t,n)))}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:Jt("string",oo._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class q_ extends r6{constructor(e){super(),this.firestore=e}convertBytes(e){return new _r(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function a6(t){t=nr(t,si);const e=nr(t.firestore,Ws),n=Wm(e),r=new q_(e);return fR(t._query),F3(n,t._query).then((a=>new oo(e,r,t,a)))}function gR(t,e,n){t=nr(t,Ft);const r=nr(t.firestore,Ws),a=pR(t.converter,e,n);return $_(r,[aR(ep(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,On.none())])}function o6(t){return $_(nr(t.firestore,Ws),[new Hm(t._key,On.none())])}function l6(t,e){const n=nr(t.firestore,Ws),r=fu(t),a=pR(t.converter,e);return $_(n,[aR(ep(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,On.exists(!1))]).then((()=>r))}function yR(t,...e){t=Tn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||QT(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(QT(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,u,h;if(t instanceof Ft)u=nr(t.firestore,Ws),h=xh(t._key.path),o={next:d=>{e[r]&&e[r](vR(u,t,d))},error:e[r+1],complete:e[r+2]};else{const d=nr(t,si);u=nr(d.firestore,Ws),h=d._query;const p=new q_(u);o={next:v=>{e[r]&&e[r](new oo(u,p,d,v))},error:e[r+1],complete:e[r+2]},fR(t._query)}return(function(p,v,b,w){const T=new N_(w),D=new A_(v,T,b);return p.asyncQueue.enqueueAndForget((async()=>w_(await pm(p),D))),()=>{T.Nu(),p.asyncQueue.enqueueAndForget((async()=>T_(await pm(p),D)))}})(Wm(u),h,a,o)}function $_(t,e){return(function(r,a){const o=new gs;return r.asyncQueue.enqueueAndForget((async()=>R3(await L3(r),a,o))),o.promise})(Wm(t),e)}function vR(t,e,n){const r=n.docs.get(e._key),a=new q_(t);return new ao(t,a,e._key,r,new jc(n.hasPendingWrites,n.fromCache),e.converter)}function u6(){return new P_("serverTimestamp")}(function(e,n=!0){(function(a){uu=a})(lu),Ul(new fo("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Ws(new RM(r.getProvider("auth-internal")),new DM(u,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new go(p.options.projectId,v)})(u,a),u);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Wi(Nw,Cw,e),Wi(Nw,Cw,"esm2020")})();var c6="firebase",h6="12.7.0";Wi(c6,h6,"app");function _R(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d6=_R,bR=new gh("auth","Firebase",_R());const ym=new qv("@firebase/auth");function f6(t,...e){ym.logLevel<=Ge.WARN&&ym.warn(`Auth (${lu}): ${t}`,...e)}function Uf(t,...e){ym.logLevel<=Ge.ERROR&&ym.error(`Auth (${lu}): ${t}`,...e)}function xs(t,...e){throw G_(t,...e)}function Br(t,...e){return G_(t,...e)}function H_(t,e,n){const r={...d6(),[e]:n};return new gh("auth","Firebase",r).create(e,{appName:t.name})}function lo(t){return H_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&xs(t,"argument-error"),H_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function G_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bR.create(t,...e)}function Ne(t,e,...n){if(!t)throw G_(e,...n)}function Gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uf(e),new Error(e)}function ei(t,e){t||Gs(e)}function bv(){return typeof self<"u"&&self.location?.href||""}function p6(){return XT()==="http:"||XT()==="https:"}function XT(){return typeof self<"u"&&self.location?.protocol||null}function g6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p6()||oj()||"connection"in navigator)?navigator.onLine:!0}function y6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ih{constructor(e,n){this.shortDelay=e,this.longDelay=n,ei(n>e,"Short delay should be less than long delay!"),this.isMobile=ij()||lj()}get(){return g6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function K_(t,e){ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class xR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const v6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b6=new Ih(3e4,6e4);function Q_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function mu(t,e,n,r,a={}){return ER(t,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=yh({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...o};return aj()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ou(t.emulatorConfig.host)&&(p.credentials="include"),xR.fetch()(await wR(t,t.config.apiHost,n,h),p)})}async function ER(t,e,n){t._canInitEmulator=!1;const r={...v6,...e};try{const a=new E6(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw vf(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw vf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw vf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw vf(t,"user-disabled",u);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw H_(t,v,p);xs(t,v)}}catch(a){if(a instanceof ni)throw a;xs(t,"network-request-failed",{message:String(a)})}}async function x6(t,e,n,r,a={}){const o=await mu(t,e,n,r,a);return"mfaPendingCredential"in o&&xs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function wR(t,e,n,r){const a=`${e}${n}?${r}`,o=t,u=o.config.emulator?K_(t.config,a):`${t.config.apiScheme}://${a}`;return _6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}class E6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),b6.get())})}}function vf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Br(t,e,r);return a.customData._tokenResponse=n,a}async function w6(t,e){return mu(t,"POST","/v1/accounts:delete",e)}async function vm(t,e){return mu(t,"POST","/v1/accounts:lookup",e)}function Kc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T6(t,e=!1){const n=Tn(t),r=await n.getIdToken(e),a=Z_(r);Ne(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:Kc(Cy(a.auth_time)),issuedAtTime:Kc(Cy(a.iat)),expirationTime:Kc(Cy(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Cy(t){return Number(t)*1e3}function Z_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const a=US(n);return a?JSON.parse(a):(Uf("Failed to decode base64 JWT payload"),null)}catch(a){return Uf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function JT(t){const e=Z_(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ch(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ni&&S6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function S6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class A6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _m(t){const e=t.auth,n=await t.getIdToken(),r=await ch(t,vm(e,{idToken:n}));Ne(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?TR(a.providerUserInfo):[],u=R6(t.providerData,o),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=h?d:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new xv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function I6(t){const e=Tn(t);await _m(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R6(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function TR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function N6(t,e){const n=await ER(t,{},async()=>{const r=yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,u=await wR(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&ou(t.emulatorConfig.host)&&(d.credentials="include"),xR.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function C6(t,e){return mu(t,"POST","/v2/accounts:revokeToken",Q_(t,e))}class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=JT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await N6(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,u=new jl;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ne(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ne(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return Gs("not implemented")}}function qi(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fr{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new A6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new xv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ch(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T6(this,e)}reload(){return I6(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _m(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(lo(this.auth));const e=await this.getIdToken();return await ch(this,w6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:T,providerData:D,stsTokenManager:k}=n;Ne(b&&k,e,"internal-error");const z=jl.fromJSON(this.name,k);Ne(typeof b=="string",e,"internal-error"),qi(r,e.name),qi(a,e.name),Ne(typeof w=="boolean",e,"internal-error"),Ne(typeof T=="boolean",e,"internal-error"),qi(o,e.name),qi(u,e.name),qi(h,e.name),qi(d,e.name),qi(p,e.name),qi(v,e.name);const J=new Fr({uid:b,auth:e,email:a,emailVerified:w,displayName:r,isAnonymous:T,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:z,createdAt:p,lastLoginAt:v});return D&&Array.isArray(D)&&(J.providerData=D.map(K=>({...K}))),d&&(J._redirectEventId=d),J}static async _fromIdTokenResponse(e,n,r=!1){const a=new jl;a.updateFromServerResponse(n);const o=new Fr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await _m(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ne(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?TR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,h=new jl;h.updateFromIdToken(r);const d=new Fr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new xv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,p),d}}const WT=new Map;function Ks(t){ei(t instanceof Function,"Expected a class definition");let e=WT.get(t);return e?(ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WT.set(t,e),e)}class SR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SR.type="NONE";const e1=SR;function Ff(t,e,n){return`firebase:${t}:${e}:${n}`}class Ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Ff(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ff("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vm(this.auth,{idToken:e}).catch(()=>{});return n?Fr._fromGetAccountInfoResponse(this.auth,n,e):null}return Fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ml(Ks(e1),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Ks(e1);const u=Ff(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const v=await p._get(u);if(v){let b;if(typeof v=="string"){const w=await vm(e,{idToken:v}).catch(()=>{});if(!w)break;b=await Fr._fromGetAccountInfoResponse(e,w,v)}else b=Fr._fromJSON(e,v);p!==o&&(h=b),o=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ml(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new Ml(o,e,r))}}function t1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DR(e))return"Blackberry";if(OR(e))return"Webos";if(IR(e))return"Safari";if((e.includes("chrome/")||RR(e))&&!e.includes("edge/"))return"Chrome";if(CR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function AR(t=sn()){return/firefox\//i.test(t)}function IR(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RR(t=sn()){return/crios\//i.test(t)}function NR(t=sn()){return/iemobile/i.test(t)}function CR(t=sn()){return/android/i.test(t)}function DR(t=sn()){return/blackberry/i.test(t)}function OR(t=sn()){return/webos/i.test(t)}function Y_(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function D6(t=sn()){return Y_(t)&&!!window.navigator?.standalone}function O6(){return uj()&&document.documentMode===10}function kR(t=sn()){return Y_(t)||CR(t)||OR(t)||DR(t)||/windows phone/i.test(t)||NR(t)}function PR(t,e=[]){let n;switch(t){case"Browser":n=t1(sn());break;case"Worker":n=`${t1(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lu}/${r}`}class k6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function P6(t,e={}){return mu(t,"GET","/v2/passwordPolicy",Q_(t,e))}const j6=6;class M6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??j6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class V6{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n1(this),this.idTokenSubscription=new n1(this),this.beforeStateQueue=new k6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ks(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ml.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vm(this,{idToken:e}),r=await Fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ur(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _m(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(lo(this));const n=e?Tn(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P6(this),n=new M6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await C6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ks(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[Ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&f6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function tp(t){return Tn(t)}class n1{constructor(e){this.auth=e,this.observer=null,this.addObserver=pj(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let X_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z6(t){X_=t}function L6(t){return X_.loadJS(t)}function U6(){return X_.gapiScript}function F6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function B6(t,e){const n=Hv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(ho(o,e??{}))return a;xs(a,"already-initialized")}return n.initialize({options:e})}function q6(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ks);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function $6(t,e,n){const r=tp(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=jR(e),{host:u,port:h}=H6(e),d=h===null?"":`:${h}`,p={url:`${o}//${u}${d}/`},v=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(ho(p,r.config.emulator)&&ho(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ou(u)?(HS(`${o}//${u}${d}`),GS("Auth",!0)):G6()}function jR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function H6(t){const e=jR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:r1(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:r1(u)}}}function r1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function G6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class MR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gs("not implemented")}_getIdTokenResponse(e){return Gs("not implemented")}_linkToIdToken(e,n){return Gs("not implemented")}_getReauthenticationResolver(e){return Gs("not implemented")}}async function Vl(t,e){return x6(t,"POST","/v1/accounts:signInWithIdp",Q_(t,e))}const K6="http://localhost";class wo extends MR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const u=new wo(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vl(e,n)}buildRequest(){const e={requestUri:K6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yh(n)}return e}}class J_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Rh extends J_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gi extends Rh{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";class qs extends Rh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wo._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Ki extends Rh{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";class Qi extends Rh{constructor(){super("twitter.com")}static credential(e,n){return wo._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";class eu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Fr._fromIdTokenResponse(e,r,a),u=s1(r);return new eu({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=s1(r);return new eu({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function s1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class bm extends ni{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,bm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new bm(e,n,r,a)}}function VR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bm._fromErrorAndOperation(t,o,e,r):o})}async function Q6(t,e,n=!1){const r=await ch(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return eu._forOperation(t,"link",r)}async function Z6(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(lo(r));const a="reauthenticate";try{const o=await ch(t,VR(r,a,e,t),n);Ne(o.idToken,r,"internal-error");const u=Z_(o.idToken);Ne(u,r,"internal-error");const{sub:h}=u;return Ne(t.uid===h,r,"user-mismatch"),eu._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&xs(r,"user-mismatch"),o}}async function Y6(t,e,n=!1){if(Ur(t.app))return Promise.reject(lo(t));const r="signIn",a=await VR(t,r,e),o=await eu._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}function X6(t,e,n,r){return Tn(t).onIdTokenChanged(e,n,r)}function J6(t,e,n){return Tn(t).beforeAuthStateChanged(e,n)}function zR(t,e,n,r){return Tn(t).onAuthStateChanged(e,n,r)}function W6(t){return Tn(t).signOut()}const xm="__sak";class LR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xm,"1"),this.storage.removeItem(xm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ez=1e3,tz=10;class UR extends LR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);O6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,tz):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ez)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UR.type="LOCAL";const nz=UR;class FR extends LR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FR.type="SESSION";const BR=FR;function rz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class np{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new np(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,o)),d=await rz(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}np.receivers=[];function W_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class sz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const p=W_("",20);a.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(w.data.response);break;default:clearTimeout(v),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function _s(){return window}function iz(t){_s().location.href=t}function qR(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function az(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oz(){return navigator?.serviceWorker?.controller||null}function lz(){return qR()?self:null}const $R="firebaseLocalStorageDb",uz=1,Em="firebaseLocalStorage",HR="fbase_key";class Nh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rp(t,e){return t.transaction([Em],e?"readwrite":"readonly").objectStore(Em)}function cz(){const t=indexedDB.deleteDatabase($R);return new Nh(t).toPromise()}function Ev(){const t=indexedDB.open($R,uz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Em,{keyPath:HR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Em)?e(r):(r.close(),await cz(),e(await Ev()))})})}async function i1(t,e,n){const r=rp(t,!0).put({[HR]:e,value:n});return new Nh(r).toPromise()}async function hz(t,e){const n=rp(t,!1).get(e),r=await new Nh(n).toPromise();return r===void 0?null:r.value}function a1(t,e){const n=rp(t,!0).delete(e);return new Nh(n).toPromise()}const dz=800,fz=3;class GR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ev(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=np._getInstance(lz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await az(),!this.activeServiceWorker)return;this.sender=new sz(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ev();return await i1(e,xm,"1"),await a1(e,xm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>i1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>hz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>a1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=rp(a,!1).getAll();return new Nh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GR.type="LOCAL";const mz=GR;new Ih(3e4,6e4);function KR(t,e){return e?Ks(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class eb extends MR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pz(t){return Y6(t.auth,new eb(t),t.bypassAuthState)}function gz(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),Z6(n,new eb(t),t.bypassAuthState)}async function yz(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),Q6(n,new eb(t),t.bypassAuthState)}class QR{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pz;case"linkViaPopup":case"linkViaRedirect":return yz;case"reauthViaPopup":case"reauthViaRedirect":return gz;default:xs(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vz=new Ih(2e3,1e4);async function _z(t,e,n){if(Ur(t.app))return Promise.reject(Br(t,"operation-not-supported-in-this-environment"));const r=tp(t);m6(t,e,J_);const a=KR(r,n);return new no(r,"signInViaPopup",e,a).executeNotNull()}class no extends QR{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=W_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vz.get())};e()}}no.currentPopupAction=null;const bz="pendingRedirect",Bf=new Map;class xz extends QR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bf.get(this.auth._key());if(!e){try{const r=await Ez(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ez(t,e){const n=Sz(e),r=Tz(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function wz(t,e){Bf.set(t._key(),e)}function Tz(t){return Ks(t._redirectPersistence)}function Sz(t){return Ff(bz,t.config.apiKey,t.name)}async function Az(t,e,n=!1){if(Ur(t.app))return Promise.reject(lo(t));const r=tp(t),a=KR(r,e),u=await new xz(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const Iz=600*1e3;class Rz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ZR(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Br(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Iz&&this.cachedEventUids.clear(),this.cachedEventUids.has(o1(e))}saveEventToCache(e){this.cachedEventUids.add(o1(e)),this.lastProcessedEventTime=Date.now()}}function o1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Nz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZR(t);default:return!1}}async function Cz(t,e={}){return mu(t,"GET","/v1/projects",e)}const Dz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oz=/^https?/;async function kz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Cz(t);for(const n of e)try{if(Pz(n))return}catch{}xs(t,"unauthorized-domain")}function Pz(t){const e=bv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!Oz.test(n))return!1;if(Dz.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const jz=new Ih(3e4,6e4);function l1(){const t=_s().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Mz(t){return new Promise((e,n)=>{function r(){l1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l1(),n(Br(t,"network-request-failed"))},timeout:jz.get()})}if(_s().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_s().gapi?.load)r();else{const a=F6("iframefcb");return _s()[a]=()=>{gapi.load?r():n(Br(t,"network-request-failed"))},L6(`${U6()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw qf=null,e})}let qf=null;function Vz(t){return qf=qf||Mz(t),qf}const zz=new Ih(5e3,15e3),Lz="__/auth/iframe",Uz="emulator/auth/iframe",Fz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qz(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?K_(e,Uz):`https://${t.config.authDomain}/${Lz}`,r={apiKey:e.apiKey,appName:t.name,v:lu},a=Bz.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${yh(r).slice(1)}`}async function $z(t){const e=await Vz(t),n=_s().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:qz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fz,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Br(t,"network-request-failed"),h=_s().setTimeout(()=>{o(u)},zz.get());function d(){_s().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(u)})}))}const Hz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gz=500,Kz=600,Qz="_blank",Zz="http://localhost";class u1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yz(t,e,n,r=Gz,a=Kz){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...Hz,width:r.toString(),height:a.toString(),top:o,left:u},p=sn().toLowerCase();n&&(h=RR(p)?Qz:n),AR(p)&&(e=e||Zz,d.scrollbars="yes");const v=Object.entries(d).reduce((w,[T,D])=>`${w}${T}=${D},`,"");if(D6(p)&&h!=="_self")return Xz(e||"",h),new u1(null);const b=window.open(e||"",h,v);Ne(b,t,"popup-blocked");try{b.focus()}catch{}return new u1(b)}function Xz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Jz="__/auth/handler",Wz="emulator/auth/handler",eL=encodeURIComponent("fac");async function c1(t,e,n,r,a,o){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lu,eventId:a};if(e instanceof J_){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",mj(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof Rh){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const d=await t._getAppCheckToken(),p=d?`#${eL}=${encodeURIComponent(d)}`:"";return`${tL(t)}?${yh(h).slice(1)}${p}`}function tL({config:t}){return t.emulator?K_(t,Wz):`https://${t.authDomain}/${Jz}`}const Dy="webStorageSupport";class nL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BR,this._completeRedirectFn=Az,this._overrideRedirectResult=wz}async _openPopup(e,n,r,a){ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await c1(e,n,r,bv(),a);return Yz(e,o,W_())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await c1(e,n,r,bv(),a);return iz(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(ei(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $z(e),r=new Rz(e);return n.register("authEvent",a=>(Ne(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dy,{type:Dy},a=>{const o=a?.[0]?.[Dy];o!==void 0&&n(!!o),xs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kR()||IR()||Y_()}}const rL=nL;var h1="@firebase/auth",d1="1.12.0";class sL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function iL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aL(t){Ul(new fo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PR(t)},p=new V6(r,a,o,d);return q6(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ul(new fo("auth-internal",e=>{const n=tp(e.getProvider("auth").getImmediate());return(r=>new sL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(h1,d1,iL(t)),Wi(h1,d1,"esm2020")}const oL=300,lL=$S("authIdTokenMaxAge")||oL;let f1=null;const uL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lL)return;const a=n?.token;f1!==a&&(f1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function cL(t=eA()){const e=Hv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=B6(t,{popupRedirectResolver:rL,persistence:[mz,nz,BR]}),r=$S("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=uL(o.toString());J6(n,u,()=>u(n.currentUser)),X6(n,h=>u(h))}}const a=BS("auth");return a&&$6(n,`http://${a}`),n}function hL(){return document.getElementsByTagName("head")?.[0]??document}z6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Br("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",hL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aL("Browser");const dL={apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",storageBucket:void 0,messagingSenderId:"490973136832",appId:"1:490973136832:web:1811051408fdde8fbcea25",measurementId:"G-D3YR1YJXPN"},YR=Tw().length?Tw()[0]:WS(dL),ii=q3(YR),$f=cL(YR);typeof window<"u"&&$3(ii).catch(t=>{console.debug("IndexedDB persistence not enabled:",t?.code??t?.message??t)});function XR(t,e,n){const r=C_(t,e);return n?r.withConverter(n):r}async function fL(t,e,n){const r=fu(ii,t,e),a=n?r.withConverter(n):r,o=await i6(a);return o.exists()?o.data():null}async function JR(t,e,n){const r=XR(ii,t,n);return(await l6(r,e)).id}async function mL(t,e,n,r){const a=fu(ii,t,e),o=r?a.withConverter(r):a;await gR(o,n)}async function pL(t,e,n,r){const a=fu(ii,t,e),o=r?a.withConverter(r):a;await gR(o,n,{merge:!0})}async function gL(t,e){const n=fu(ii,t,e);await o6(n)}async function yL(t,e){const{pageSize:n=20,cursor:r=null,additionalConstraints:a=[],converter:o}=e??{},u=XR(ii,t,o),h=[e6(n),...a];r&&h.push(t6(r));const d=W3(u,...h),p=await a6(d),v=p.docs.map(w=>w.data()),b=p.docs[p.docs.length-1]??null;return{docs:v,nextCursor:b?b.id:null}}function ie(t,e,n){function r(h,d){if(h._zod||Object.defineProperty(h,"_zod",{value:{def:d,constr:u,traits:new Set},enumerable:!1}),h._zod.traits.has(t))return;h._zod.traits.add(t),e(h,d);const p=u.prototype,v=Object.keys(p);for(let b=0;b<v.length;b++){const w=v[b];w in h||(h[w]=p[w].bind(h))}}const a=n?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function u(h){var d;const p=n?.Parent?new o:this;r(p,h),(d=p._zod).deferred??(d.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(u,"init",{value:r}),Object.defineProperty(u,Symbol.hasInstance,{value:h=>n?.Parent&&h instanceof n.Parent?!0:h?._zod?.traits?.has(t)}),Object.defineProperty(u,"name",{value:t}),u}class zl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class WR extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const eN={};function To(t){return eN}function tN(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,a])=>e.indexOf(+r)===-1).map(([r,a])=>a)}function wv(t,e){return typeof e=="bigint"?e.toString():e}function tb(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function nb(t){return t==null}function rb(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function vL(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const o=n>a?n:a,u=Number.parseInt(t.toFixed(o).replace(".","")),h=Number.parseInt(e.toFixed(o).replace(".",""));return u%h/10**o}const m1=Symbol("evaluating");function ct(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==m1)return r===void 0&&(r=m1,r=n()),r},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function Co(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function da(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function p1(t){return JSON.stringify(t)}function _L(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const nN="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function wm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const bL=tb(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function hh(t){if(wm(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(wm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function rN(t){return hh(t)?{...t}:Array.isArray(t)?[...t]:t}const xL=new Set(["string","number","symbol"]);function tu(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fa(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Se(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function EL(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const wL={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function TL(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=da(t._zod.def,{get shape(){const u={};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&(u[h]=n.shape[h])}return Co(this,"shape",u),u},checks:[]});return fa(t,o)}function SL(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=da(t._zod.def,{get shape(){const u={...t._zod.def.shape};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&delete u[h]}return Co(this,"shape",u),u},checks:[]});return fa(t,o)}function AL(t,e){if(!hh(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const u in e)if(Object.getOwnPropertyDescriptor(o,u)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=da(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return Co(this,"shape",o),o}});return fa(t,a)}function IL(t,e){if(!hh(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=da(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return Co(this,"shape",r),r}});return fa(t,n)}function RL(t,e){const n=da(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Co(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return fa(t,n)}function NL(t,e,n){const a=e._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const u=da(e._zod.def,{get shape(){const h=e._zod.def.shape,d={...h};if(n)for(const p in n){if(!(p in h))throw new Error(`Unrecognized key: "${p}"`);n[p]&&(d[p]=t?new t({type:"optional",innerType:h[p]}):h[p])}else for(const p in h)d[p]=t?new t({type:"optional",innerType:h[p]}):h[p];return Co(this,"shape",d),d},checks:[]});return fa(e,u)}function CL(t,e,n){const r=da(e._zod.def,{get shape(){const a=e._zod.def.shape,o={...a};if(n)for(const u in n){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(o[u]=new t({type:"nonoptional",innerType:a[u]}))}else for(const u in a)o[u]=new t({type:"nonoptional",innerType:a[u]});return Co(this,"shape",o),o}});return fa(e,r)}function Ol(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function sN(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function _f(t){return typeof t=="string"?t:t?.message}function So(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const a=_f(t.inst?._zod.def?.error?.(t))??_f(e?.error?.(t))??_f(n.customError?.(t))??_f(n.localeError?.(t))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function sb(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function dh(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const iN=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,wv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},aN=ie("$ZodError",iN),oN=ie("$ZodError",iN,{Parent:Error});function DL(t,e=n=>n.message){const n={},r=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}function OL(t,e=n=>n.message){const n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(u=>r({issues:u}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(e(o));else{let u=n,h=0;for(;h<o.path.length;){const d=o.path[h];h===o.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(e(o))):u[d]=u[d]||{_errors:[]},u=u[d],h++}}};return r(t),n}const ib=t=>(e,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},o);if(u instanceof Promise)throw new zl;if(u.issues.length){const h=new(a?.Err??t)(u.issues.map(d=>So(d,o,To())));throw nN(h,a?.callee),h}return u.value},ab=t=>async(e,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},o);if(u instanceof Promise&&(u=await u),u.issues.length){const h=new(a?.Err??t)(u.issues.map(d=>So(d,o,To())));throw nN(h,a?.callee),h}return u.value},sp=t=>(e,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new zl;return o.issues.length?{success:!1,error:new(t??aN)(o.issues.map(u=>So(u,a,To())))}:{success:!0,data:o.value}},kL=sp(oN),ip=t=>async(e,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(u=>So(u,a,To())))}:{success:!0,data:o.value}},PL=ip(oN),jL=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ib(t)(e,n,a)},ML=t=>(e,n,r)=>ib(t)(e,n,r),VL=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ab(t)(e,n,a)},zL=t=>async(e,n,r)=>ab(t)(e,n,r),LL=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return sp(t)(e,n,a)},UL=t=>(e,n,r)=>sp(t)(e,n,r),FL=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ip(t)(e,n,a)},BL=t=>async(e,n,r)=>ip(t)(e,n,r),qL=/^[cC][^\s-]{8,}$/,$L=/^[0-9a-z]+$/,HL=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,GL=/^[0-9a-vA-V]{20}$/,KL=/^[A-Za-z0-9]{27}$/,QL=/^[a-zA-Z0-9_-]{21}$/,ZL=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,YL=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,g1=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,XL=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,JL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function WL(){return new RegExp(JL,"u")}const e5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,t5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,n5=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,r5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,s5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,lN=/^[A-Za-z0-9_-]*$/,i5=/^\+[1-9]\d{6,14}$/,uN="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",a5=new RegExp(`^${uN}$`);function cN(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function o5(t){return new RegExp(`^${cN(t)}$`)}function l5(t){const e=cN({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${uN}T(?:${r})$`)}const u5=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},c5=/^-?\d+$/,h5=/^-?\d+(?:\.\d+)?$/,d5=/^[^A-Z]*$/,f5=/^[^a-z]*$/,Bn=ie("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),hN={number:"number",bigint:"bigint",object:"date"},dN=ie("$ZodCheckLessThan",(t,e)=>{Bn.init(t,e);const n=hN[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),fN=ie("$ZodCheckGreaterThan",(t,e)=>{Bn.init(t,e);const n=hN[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),m5=ie("$ZodCheckMultipleOf",(t,e)=>{Bn.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):vL(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),p5=ie("$ZodCheckNumberFormat",(t,e)=>{Bn.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[a,o]=wL[e.format];t._zod.onattach.push(u=>{const h=u._zod.bag;h.format=e.format,h.minimum=a,h.maximum=o,n&&(h.pattern=c5)}),t._zod.check=u=>{const h=u.value;if(n){if(!Number.isInteger(h)){u.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?u.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):u.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}h<a&&u.issues.push({origin:"number",input:h,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),h>o&&u.issues.push({origin:"number",input:h,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),g5=ie("$ZodCheckMaxLength",(t,e)=>{var n;Bn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!nb(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const a=r.value;if(a.length<=e.maximum)return;const u=sb(a);r.issues.push({origin:u,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),y5=ie("$ZodCheckMinLength",(t,e)=>{var n;Bn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!nb(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const a=r.value;if(a.length>=e.minimum)return;const u=sb(a);r.issues.push({origin:u,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),v5=ie("$ZodCheckLengthEquals",(t,e)=>{var n;Bn.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!nb(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=r=>{const a=r.value,o=a.length;if(o===e.length)return;const u=sb(a),h=o>e.length;r.issues.push({origin:u,...h?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),ap=ie("$ZodCheckStringFormat",(t,e)=>{var n,r;Bn.init(t,e),t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),_5=ie("$ZodCheckRegex",(t,e)=>{ap.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),b5=ie("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=d5),ap.init(t,e)}),x5=ie("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=f5),ap.init(t,e)}),E5=ie("$ZodCheckIncludes",(t,e)=>{Bn.init(t,e);const n=tu(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),w5=ie("$ZodCheckStartsWith",(t,e)=>{Bn.init(t,e);const n=new RegExp(`^${tu(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),T5=ie("$ZodCheckEndsWith",(t,e)=>{Bn.init(t,e);const n=new RegExp(`.*${tu(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),S5=ie("$ZodCheckOverwrite",(t,e)=>{Bn.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class A5{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(u=>u),a=Math.min(...r.map(u=>u.length-u.trimStart().length)),o=r.map(u=>u.slice(a)).map(u=>" ".repeat(this.indent*2)+u);for(const u of o)this.content.push(u)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,a.join(`
`))}}const I5={major:4,minor:3,patch:5},jt=ie("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=I5;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const o of a._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(u,h,d)=>{let p=Ol(u),v;for(const b of h){if(b._zod.def.when){if(!b._zod.def.when(u))continue}else if(p)continue;const w=u.issues.length,T=b._zod.check(u);if(T instanceof Promise&&d?.async===!1)throw new zl;if(v||T instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await T,u.issues.length!==w&&(p||(p=Ol(u,w)))});else{if(u.issues.length===w)continue;p||(p=Ol(u,w))}}return v?v.then(()=>u):u},o=(u,h,d)=>{if(Ol(u))return u.aborted=!0,u;const p=a(h,r,d);if(p instanceof Promise){if(d.async===!1)throw new zl;return p.then(v=>t._zod.parse(v,d))}return t._zod.parse(p,d)};t._zod.run=(u,h)=>{if(h.skipChecks)return t._zod.parse(u,h);if(h.direction==="backward"){const p=t._zod.parse({value:u.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>o(v,u,h)):o(p,u,h)}const d=t._zod.parse(u,h);if(d instanceof Promise){if(h.async===!1)throw new zl;return d.then(p=>a(p,r,h))}return a(d,r,h)}}ct(t,"~standard",()=>({validate:a=>{try{const o=kL(t,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return PL(t,a).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}))}),ob=ie("$ZodString",(t,e)=>{jt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??u5(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),St=ie("$ZodStringFormat",(t,e)=>{ap.init(t,e),ob.init(t,e)}),R5=ie("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=YL),St.init(t,e)}),N5=ie("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=g1(r))}else e.pattern??(e.pattern=g1());St.init(t,e)}),C5=ie("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=XL),St.init(t,e)}),D5=ie("$ZodURL",(t,e)=>{St.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),O5=ie("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=WL()),St.init(t,e)}),k5=ie("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=QL),St.init(t,e)}),P5=ie("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=qL),St.init(t,e)}),j5=ie("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=$L),St.init(t,e)}),M5=ie("$ZodULID",(t,e)=>{e.pattern??(e.pattern=HL),St.init(t,e)}),V5=ie("$ZodXID",(t,e)=>{e.pattern??(e.pattern=GL),St.init(t,e)}),z5=ie("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=KL),St.init(t,e)}),L5=ie("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=l5(e)),St.init(t,e)}),U5=ie("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=a5),St.init(t,e)}),F5=ie("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=o5(e)),St.init(t,e)}),B5=ie("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=ZL),St.init(t,e)}),q5=ie("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=e5),St.init(t,e),t._zod.bag.format="ipv4"}),$5=ie("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=t5),St.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),H5=ie("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=n5),St.init(t,e)}),G5=ie("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=r5),St.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,o]=r;if(!o)throw new Error;const u=Number(o);if(`${u}`!==o)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function mN(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const K5=ie("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=s5),St.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{mN(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function Q5(t){if(!lN.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return mN(n)}const Z5=ie("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=lN),St.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{Q5(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),Y5=ie("$ZodE164",(t,e)=>{e.pattern??(e.pattern=i5),St.init(t,e)});function X5(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const J5=ie("$ZodJWT",(t,e)=>{St.init(t,e),t._zod.check=n=>{X5(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),pN=ie("$ZodNumber",(t,e)=>{jt.init(t,e),t._zod.pattern=t._zod.bag.pattern??h5,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...o?{received:o}:{}}),n}}),W5=ie("$ZodNumberFormat",(t,e)=>{p5.init(t,e),pN.init(t,e)}),eU=ie("$ZodUnknown",(t,e)=>{jt.init(t,e),t._zod.parse=n=>n}),tU=ie("$ZodNever",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),nU=ie("$ZodDate",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const a=n.value,o=a instanceof Date;return o&&!Number.isNaN(a.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:a,...o?{received:"Invalid Date"}:{},inst:t}),n}});function y1(t,e,n){t.issues.length&&e.issues.push(...sN(n,t.issues)),e.value[n]=t.value}const rU=ie("$ZodArray",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const o=[];for(let u=0;u<a.length;u++){const h=a[u],d=e.element._zod.run({value:h,issues:[]},r);d instanceof Promise?o.push(d.then(p=>y1(p,n,u))):y1(d,n,u)}return o.length?Promise.all(o).then(()=>n):n}});function Tm(t,e,n,r,a){if(t.issues.length){if(a&&!(n in r))return;e.issues.push(...sN(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function gN(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=EL(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function yN(t,e,n,r,a,o){const u=[],h=a.keySet,d=a.catchall._zod,p=d.def.type,v=d.optout==="optional";for(const b in e){if(h.has(b))continue;if(p==="never"){u.push(b);continue}const w=d.run({value:e[b],issues:[]},r);w instanceof Promise?t.push(w.then(T=>Tm(T,n,b,e,v))):Tm(w,n,b,e,v)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const sU=ie("$ZodObject",(t,e)=>{if(jt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const h=e.shape;Object.defineProperty(e,"shape",{get:()=>{const d={...h};return Object.defineProperty(e,"shape",{value:d}),d}})}const r=tb(()=>gN(e));ct(t._zod,"propValues",()=>{const h=e.shape,d={};for(const p in h){const v=h[p]._zod;if(v.values){d[p]??(d[p]=new Set);for(const b of v.values)d[p].add(b)}}return d});const a=wm,o=e.catchall;let u;t._zod.parse=(h,d)=>{u??(u=r.value);const p=h.value;if(!a(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),h;h.value={};const v=[],b=u.shape;for(const w of u.keys){const T=b[w],D=T._zod.optout==="optional",k=T._zod.run({value:p[w],issues:[]},d);k instanceof Promise?v.push(k.then(z=>Tm(z,h,w,p,D))):Tm(k,h,w,p,D)}return o?yN(v,p,h,d,r.value,t):v.length?Promise.all(v).then(()=>h):h}}),iU=ie("$ZodObjectJIT",(t,e)=>{sU.init(t,e);const n=t._zod.parse,r=tb(()=>gN(e)),a=w=>{const T=new A5(["shape","payload","ctx"]),D=r.value,k=U=>{const Y=p1(U);return`shape[${Y}]._zod.run({ value: input[${Y}], issues: [] }, ctx)`};T.write("const input = payload.value;");const z=Object.create(null);let J=0;for(const U of D.keys)z[U]=`key_${J++}`;T.write("const newResult = {};");for(const U of D.keys){const Y=z[U],ne=p1(U),R=w[U]?._zod?.optout==="optional";T.write(`const ${Y} = ${k(U)};`),R?T.write(`
        if (${Y}.issues.length) {
          if (${ne} in input) {
            payload.issues = payload.issues.concat(${Y}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${ne}, ...iss.path] : [${ne}]
            })));
          }
        }
        
        if (${Y}.value === undefined) {
          if (${ne} in input) {
            newResult[${ne}] = undefined;
          }
        } else {
          newResult[${ne}] = ${Y}.value;
        }
        
      `):T.write(`
        if (${Y}.issues.length) {
          payload.issues = payload.issues.concat(${Y}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ne}, ...iss.path] : [${ne}]
          })));
        }
        
        if (${Y}.value === undefined) {
          if (${ne} in input) {
            newResult[${ne}] = undefined;
          }
        } else {
          newResult[${ne}] = ${Y}.value;
        }
        
      `)}T.write("payload.value = newResult;"),T.write("return payload;");const K=T.compile();return(U,Y)=>K(w,U,Y)};let o;const u=wm,h=!eN.jitless,p=h&&bL.value,v=e.catchall;let b;t._zod.parse=(w,T)=>{b??(b=r.value);const D=w.value;return u(D)?h&&p&&T?.async===!1&&T.jitless!==!0?(o||(o=a(e.shape)),w=o(w,T),v?yN([],D,w,T,b,t):w):n(w,T):(w.issues.push({expected:"object",code:"invalid_type",input:D,inst:t}),w)}});function v1(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const a=t.filter(o=>!Ol(o));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(u=>So(u,r,To())))}),e)}const aU=ie("$ZodUnion",(t,e)=>{jt.init(t,e),ct(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),ct(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),ct(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),ct(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>rb(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(a,o)=>{if(n)return r(a,o);let u=!1;const h=[];for(const d of e.options){const p=d._zod.run({value:a.value,issues:[]},o);if(p instanceof Promise)h.push(p),u=!0;else{if(p.issues.length===0)return p;h.push(p)}}return u?Promise.all(h).then(d=>v1(d,a,t,o)):v1(h,a,t,o)}}),oU=ie("$ZodIntersection",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value,o=e.left._zod.run({value:a,issues:[]},r),u=e.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||u instanceof Promise?Promise.all([o,u]).then(([d,p])=>_1(n,d,p)):_1(n,o,u)}});function Tv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(hh(t)&&hh(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),a={...t,...e};for(const o of r){const u=Tv(t[o],e[o]);if(!u.valid)return{valid:!1,mergeErrorPath:[o,...u.mergeErrorPath]};a[o]=u.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const a=t[r],o=e[r],u=Tv(a,o);if(!u.valid)return{valid:!1,mergeErrorPath:[r,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function _1(t,e,n){const r=new Map;let a;for(const h of e.issues)if(h.code==="unrecognized_keys"){a??(a=h);for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else t.issues.push(h);for(const h of n.issues)if(h.code==="unrecognized_keys")for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else t.issues.push(h);const o=[...r].filter(([,h])=>h.l&&h.r).map(([h])=>h);if(o.length&&a&&t.issues.push({...a,keys:o}),Ol(t))return t;const u=Tv(e.value,n.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return t.value=u.data,t}const lU=ie("$ZodEnum",(t,e)=>{jt.init(t,e);const n=tN(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(a=>xL.has(typeof a)).map(a=>typeof a=="string"?tu(a):a.toString()).join("|")})$`),t._zod.parse=(a,o)=>{const u=a.value;return r.has(u)||a.issues.push({code:"invalid_value",values:n,input:u,inst:t}),a}}),uU=ie("$ZodLiteral",(t,e)=>{if(jt.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?tu(r):r?tu(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,a)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),r}}),cU=ie("$ZodTransform",(t,e)=>{jt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new WR(t.constructor.name);const a=e.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(u=>(n.value=u,n));if(a instanceof Promise)throw new zl;return n.value=a,n}});function b1(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const vN=ie("$ZodOptional",(t,e)=>{jt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",ct(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),ct(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${rb(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>b1(o,n.value)):b1(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),hU=ie("$ZodExactOptional",(t,e)=>{vN.init(t,e),ct(t._zod,"values",()=>e.innerType._zod.values),ct(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),dU=ie("$ZodNullable",(t,e)=>{jt.init(t,e),ct(t._zod,"optin",()=>e.innerType._zod.optin),ct(t._zod,"optout",()=>e.innerType._zod.optout),ct(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${rb(n.source)}|null)$`):void 0}),ct(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),fU=ie("$ZodDefault",(t,e)=>{jt.init(t,e),t._zod.optin="optional",ct(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>x1(o,e)):x1(a,e)}});function x1(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const mU=ie("$ZodPrefault",(t,e)=>{jt.init(t,e),t._zod.optin="optional",ct(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),pU=ie("$ZodNonOptional",(t,e)=>{jt.init(t,e),ct(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>E1(o,t)):E1(a,t)}});function E1(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const gU=ie("$ZodCatch",(t,e)=>{jt.init(t,e),ct(t._zod,"optin",()=>e.innerType._zod.optin),ct(t._zod,"optout",()=>e.innerType._zod.optout),ct(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(u=>So(u,r,To()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(o=>So(o,r,To()))},input:n.value}),n.issues=[]),n)}}),yU=ie("$ZodPipe",(t,e)=>{jt.init(t,e),ct(t._zod,"values",()=>e.in._zod.values),ct(t._zod,"optin",()=>e.in._zod.optin),ct(t._zod,"optout",()=>e.out._zod.optout),ct(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(u=>bf(u,e.in,r)):bf(o,e.in,r)}const a=e.in._zod.run(n,r);return a instanceof Promise?a.then(o=>bf(o,e.out,r)):bf(a,e.out,r)}});function bf(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const vU=ie("$ZodReadonly",(t,e)=>{jt.init(t,e),ct(t._zod,"propValues",()=>e.innerType._zod.propValues),ct(t._zod,"values",()=>e.innerType._zod.values),ct(t._zod,"optin",()=>e.innerType?._zod?.optin),ct(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(w1):w1(a)}});function w1(t){return t.value=Object.freeze(t.value),t}const _U=ie("$ZodCustom",(t,e)=>{Bn.init(t,e),jt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,a=e.fn(r);if(a instanceof Promise)return a.then(o=>T1(o,n,r,t));T1(a,n,r,t)}});function T1(t,e,n,r){if(!t){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),e.issues.push(dh(a))}}var S1;class bU{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function xU(){return new bU}(S1=globalThis).__zod_globalRegistry??(S1.__zod_globalRegistry=xU());const Mc=globalThis.__zod_globalRegistry;function EU(t,e){return new t({type:"string",...Se(e)})}function wU(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Se(e)})}function A1(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Se(e)})}function TU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Se(e)})}function SU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Se(e)})}function AU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Se(e)})}function IU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Se(e)})}function RU(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Se(e)})}function NU(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Se(e)})}function CU(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Se(e)})}function DU(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Se(e)})}function OU(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Se(e)})}function kU(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Se(e)})}function PU(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Se(e)})}function jU(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Se(e)})}function MU(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Se(e)})}function VU(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Se(e)})}function zU(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Se(e)})}function LU(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Se(e)})}function UU(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Se(e)})}function FU(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Se(e)})}function BU(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Se(e)})}function qU(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Se(e)})}function $U(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Se(e)})}function HU(t,e){return new t({type:"string",format:"date",check:"string_format",...Se(e)})}function GU(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Se(e)})}function KU(t,e){return new t({type:"string",format:"duration",check:"string_format",...Se(e)})}function QU(t,e){return new t({type:"number",checks:[],...Se(e)})}function ZU(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Se(e)})}function YU(t){return new t({type:"unknown"})}function XU(t,e){return new t({type:"never",...Se(e)})}function JU(t,e){return new t({type:"date",...Se(e)})}function I1(t,e){return new dN({check:"less_than",...Se(e),value:t,inclusive:!1})}function Hf(t,e){return new dN({check:"less_than",...Se(e),value:t,inclusive:!0})}function R1(t,e){return new fN({check:"greater_than",...Se(e),value:t,inclusive:!1})}function Gf(t,e){return new fN({check:"greater_than",...Se(e),value:t,inclusive:!0})}function N1(t,e){return new m5({check:"multiple_of",...Se(e),value:t})}function _N(t,e){return new g5({check:"max_length",...Se(e),maximum:t})}function Sm(t,e){return new y5({check:"min_length",...Se(e),minimum:t})}function bN(t,e){return new v5({check:"length_equals",...Se(e),length:t})}function WU(t,e){return new _5({check:"string_format",format:"regex",...Se(e),pattern:t})}function e9(t){return new b5({check:"string_format",format:"lowercase",...Se(t)})}function t9(t){return new x5({check:"string_format",format:"uppercase",...Se(t)})}function n9(t,e){return new E5({check:"string_format",format:"includes",...Se(e),includes:t})}function r9(t,e){return new w5({check:"string_format",format:"starts_with",...Se(e),prefix:t})}function s9(t,e){return new T5({check:"string_format",format:"ends_with",...Se(e),suffix:t})}function pu(t){return new S5({check:"overwrite",tx:t})}function i9(t){return pu(e=>e.normalize(t))}function a9(){return pu(t=>t.trim())}function o9(){return pu(t=>t.toLowerCase())}function l9(){return pu(t=>t.toUpperCase())}function u9(){return pu(t=>_L(t))}function c9(t,e,n){return new t({type:"array",element:e,...Se(n)})}function h9(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Se(n)})}function d9(t){const e=f9(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(dh(r,n.value,e._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(dh(a))}},t(n.value,n)));return e}function f9(t,e){const n=new Bn({check:"custom",...Se(e)});return n._zod.check=t,n}function xN(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Mc,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function _n(t,e,n={path:[],schemaPath:[]}){var r;const a=t._zod.def,o=e.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const u={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,u);const h=t._zod.toJSONSchema?.();if(h)u.schema=h;else{const v={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,u.schema,v);else{const w=u.schema,T=e.processors[a.type];if(!T)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);T(t,e,w,v)}const b=t._zod.parent;b&&(u.ref||(u.ref=b),_n(b,e,v),e.seen.get(b).isParent=!0)}const d=e.metadataRegistry.get(t);return d&&Object.assign(u.schema,d),e.io==="input"&&Rn(t)&&(delete u.schema.examples,delete u.schema.default),e.io==="input"&&u.schema._prefault&&((r=u.schema).default??(r.default=u.schema._prefault)),delete u.schema._prefault,e.seen.get(t).schema}function EN(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const u of t.seen.entries()){const h=t.metadataRegistry.get(u[0])?.id;if(h){const d=r.get(h);if(d&&d!==u[0])throw new Error(`Duplicate schema id "${h}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(h,u[0])}}const a=u=>{const h=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const b=t.external.registry.get(u[0])?.id,w=t.external.uri??(D=>D);if(b)return{ref:w(b)};const T=u[1].defId??u[1].schema.id??`schema${t.counter++}`;return u[1].defId=T,{defId:T,ref:`${w("__shared")}#/${h}/${T}`}}if(u[1]===n)return{ref:"#"};const p=`#/${h}/`,v=u[1].schema.id??`__schema${t.counter++}`;return{defId:v,ref:p+v}},o=u=>{if(u[1].schema.$ref)return;const h=u[1],{ref:d,defId:p}=a(u);h.def={...h.schema},p&&(h.defId=p);const v=h.schema;for(const b in v)delete v[b];v.$ref=d};if(t.cycles==="throw")for(const u of t.seen.entries()){const h=u[1];if(h.cycle)throw new Error(`Cycle detected: #/${h.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of t.seen.entries()){const h=u[1];if(e===u[0]){o(u);continue}if(t.external){const p=t.external.registry.get(u[0])?.id;if(e!==u[0]&&p){o(u);continue}}if(t.metadataRegistry.get(u[0])?.id){o(u);continue}if(h.cycle){o(u);continue}if(h.count>1&&t.reused==="ref"){o(u);continue}}}function wN(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=u=>{const h=t.seen.get(u);if(h.ref===null)return;const d=h.def??h.schema,p={...d},v=h.ref;if(h.ref=null,v){r(v);const w=t.seen.get(v),T=w.schema;if(T.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(T)):Object.assign(d,T),Object.assign(d,p),u._zod.parent===v)for(const k in d)k==="$ref"||k==="allOf"||k in p||delete d[k];if(T.$ref)for(const k in d)k==="$ref"||k==="allOf"||k in w.def&&JSON.stringify(d[k])===JSON.stringify(w.def[k])&&delete d[k]}const b=u._zod.parent;if(b&&b!==v){r(b);const w=t.seen.get(b);if(w?.schema.$ref&&(d.$ref=w.schema.$ref,w.def))for(const T in d)T==="$ref"||T==="allOf"||T in w.def&&JSON.stringify(d[T])===JSON.stringify(w.def[T])&&delete d[T]}t.override({zodSchema:u,jsonSchema:d,path:h.path??[]})};for(const u of[...t.seen.entries()].reverse())r(u[0]);const a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const u=t.external.registry.get(e)?.id;if(!u)throw new Error("Schema is missing an `id` property");a.$id=t.external.uri(u)}Object.assign(a,n.def??n.schema);const o=t.external?.defs??{};for(const u of t.seen.entries()){const h=u[1];h.def&&h.defId&&(o[h.defId]=h.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?a.$defs=o:a.definitions=o);try{const u=JSON.parse(JSON.stringify(a));return Object.defineProperty(u,"~standard",{value:{...e["~standard"],jsonSchema:{input:Am(e,"input",t.processors),output:Am(e,"output",t.processors)}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function Rn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Rn(r.element,n);if(r.type==="set")return Rn(r.valueType,n);if(r.type==="lazy")return Rn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Rn(r.innerType,n);if(r.type==="intersection")return Rn(r.left,n)||Rn(r.right,n);if(r.type==="record"||r.type==="map")return Rn(r.keyType,n)||Rn(r.valueType,n);if(r.type==="pipe")return Rn(r.in,n)||Rn(r.out,n);if(r.type==="object"){for(const a in r.shape)if(Rn(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(Rn(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(Rn(a,n))return!0;return!!(r.rest&&Rn(r.rest,n))}return!1}const m9=(t,e={})=>n=>{const r=xN({...n,processors:e});return _n(t,r),EN(r,t),wN(r,t)},Am=(t,e,n={})=>r=>{const{libraryOptions:a,target:o}=r??{},u=xN({...a??{},target:o,io:e,processors:n});return _n(t,u),EN(u,t),wN(u,t)},p9={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},g9=(t,e,n,r)=>{const a=n;a.type="string";const{minimum:o,maximum:u,format:h,patterns:d,contentEncoding:p}=t._zod.bag;if(typeof o=="number"&&(a.minLength=o),typeof u=="number"&&(a.maxLength=u),h&&(a.format=p9[h]??h,a.format===""&&delete a.format,h==="time"&&delete a.format),p&&(a.contentEncoding=p),d&&d.size>0){const v=[...d];v.length===1?a.pattern=v[0].source:v.length>1&&(a.allOf=[...v.map(b=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:b.source}))])}},y9=(t,e,n,r)=>{const a=n,{minimum:o,maximum:u,format:h,multipleOf:d,exclusiveMaximum:p,exclusiveMinimum:v}=t._zod.bag;typeof h=="string"&&h.includes("int")?a.type="integer":a.type="number",typeof v=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.minimum=v,a.exclusiveMinimum=!0):a.exclusiveMinimum=v),typeof o=="number"&&(a.minimum=o,typeof v=="number"&&e.target!=="draft-04"&&(v>=o?delete a.minimum:delete a.exclusiveMinimum)),typeof p=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.maximum=p,a.exclusiveMaximum=!0):a.exclusiveMaximum=p),typeof u=="number"&&(a.maximum=u,typeof p=="number"&&e.target!=="draft-04"&&(p<=u?delete a.maximum:delete a.exclusiveMaximum)),typeof d=="number"&&(a.multipleOf=d)},v9=(t,e,n,r)=>{n.not={}},_9=(t,e,n,r)=>{},b9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},x9=(t,e,n,r)=>{const a=t._zod.def,o=tN(a.entries);o.every(u=>typeof u=="number")&&(n.type="number"),o.every(u=>typeof u=="string")&&(n.type="string"),n.enum=o},E9=(t,e,n,r)=>{const a=t._zod.def,o=[];for(const u of a.values)if(u===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof u=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(u))}else o.push(u);if(o.length!==0)if(o.length===1){const u=o[0];n.type=u===null?"null":typeof u,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[u]:n.const=u}else o.every(u=>typeof u=="number")&&(n.type="number"),o.every(u=>typeof u=="string")&&(n.type="string"),o.every(u=>typeof u=="boolean")&&(n.type="boolean"),o.every(u=>u===null)&&(n.type="null"),n.enum=o},w9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},T9=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},S9=(t,e,n,r)=>{const a=n,o=t._zod.def,{minimum:u,maximum:h}=t._zod.bag;typeof u=="number"&&(a.minItems=u),typeof h=="number"&&(a.maxItems=h),a.type="array",a.items=_n(o.element,e,{...r,path:[...r.path,"items"]})},A9=(t,e,n,r)=>{const a=n,o=t._zod.def;a.type="object",a.properties={};const u=o.shape;for(const p in u)a.properties[p]=_n(u[p],e,{...r,path:[...r.path,"properties",p]});const h=new Set(Object.keys(u)),d=new Set([...h].filter(p=>{const v=o.shape[p]._zod;return e.io==="input"?v.optin===void 0:v.optout===void 0}));d.size>0&&(a.required=Array.from(d)),o.catchall?._zod.def.type==="never"?a.additionalProperties=!1:o.catchall?o.catchall&&(a.additionalProperties=_n(o.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(a.additionalProperties=!1)},I9=(t,e,n,r)=>{const a=t._zod.def,o=a.inclusive===!1,u=a.options.map((h,d)=>_n(h,e,{...r,path:[...r.path,o?"oneOf":"anyOf",d]}));o?n.oneOf=u:n.anyOf=u},R9=(t,e,n,r)=>{const a=t._zod.def,o=_n(a.left,e,{...r,path:[...r.path,"allOf",0]}),u=_n(a.right,e,{...r,path:[...r.path,"allOf",1]}),h=p=>"allOf"in p&&Object.keys(p).length===1,d=[...h(o)?o.allOf:[o],...h(u)?u.allOf:[u]];n.allOf=d},N9=(t,e,n,r)=>{const a=t._zod.def,o=_n(a.innerType,e,r),u=e.seen.get(t);e.target==="openapi-3.0"?(u.ref=a.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},C9=(t,e,n,r)=>{const a=t._zod.def;_n(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},D9=(t,e,n,r)=>{const a=t._zod.def;_n(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},O9=(t,e,n,r)=>{const a=t._zod.def;_n(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},k9=(t,e,n,r)=>{const a=t._zod.def;_n(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType;let u;try{u=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=u},P9=(t,e,n,r)=>{const a=t._zod.def,o=e.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;_n(o,e,r);const u=e.seen.get(t);u.ref=o},j9=(t,e,n,r)=>{const a=t._zod.def;_n(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.readOnly=!0},TN=(t,e,n,r)=>{const a=t._zod.def;_n(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},M9=ie("ZodISODateTime",(t,e)=>{L5.init(t,e),Nt.init(t,e)});function V9(t){return $U(M9,t)}const z9=ie("ZodISODate",(t,e)=>{U5.init(t,e),Nt.init(t,e)});function L9(t){return HU(z9,t)}const U9=ie("ZodISOTime",(t,e)=>{F5.init(t,e),Nt.init(t,e)});function F9(t){return GU(U9,t)}const B9=ie("ZodISODuration",(t,e)=>{B5.init(t,e),Nt.init(t,e)});function q9(t){return KU(B9,t)}const $9=(t,e)=>{aN.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>OL(t,n)},flatten:{value:n=>DL(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,wv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,wv,2)}},isEmpty:{get(){return t.issues.length===0}}})},Sr=ie("ZodError",$9,{Parent:Error}),H9=ib(Sr),G9=ab(Sr),K9=sp(Sr),Q9=ip(Sr),Z9=jL(Sr),Y9=ML(Sr),X9=VL(Sr),J9=zL(Sr),W9=LL(Sr),e8=UL(Sr),t8=FL(Sr),n8=BL(Sr),Mt=ie("ZodType",(t,e)=>(jt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:Am(t,"input"),output:Am(t,"output")}}),t.toJSONSchema=m9(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(da(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>fa(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>H9(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>K9(t,n,r),t.parseAsync=async(n,r)=>G9(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>Q9(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>Z9(t,n,r),t.decode=(n,r)=>Y9(t,n,r),t.encodeAsync=async(n,r)=>X9(t,n,r),t.decodeAsync=async(n,r)=>J9(t,n,r),t.safeEncode=(n,r)=>W9(t,n,r),t.safeDecode=(n,r)=>e8(t,n,r),t.safeEncodeAsync=async(n,r)=>t8(t,n,r),t.safeDecodeAsync=async(n,r)=>n8(t,n,r),t.refine=(n,r)=>t.check(Y8(n,r)),t.superRefine=n=>t.check(X8(n)),t.overwrite=n=>t.check(pu(n)),t.optional=()=>k1(t),t.exactOptional=()=>V8(t),t.nullable=()=>P1(t),t.nullish=()=>k1(P1(t)),t.nonoptional=n=>q8(t,n),t.array=()=>lb(t),t.or=n=>ub([t,n]),t.and=n=>D8(t,n),t.transform=n=>j1(t,j8(n)),t.default=n=>U8(t,n),t.prefault=n=>B8(t,n),t.catch=n=>H8(t,n),t.pipe=n=>j1(t,n),t.readonly=()=>Q8(t),t.describe=n=>{const r=t.clone();return Mc.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Mc.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Mc.get(t);const r=t.clone();return Mc.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),SN=ie("_ZodString",(t,e)=>{ob.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>g9(t,r,a);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(WU(...r)),t.includes=(...r)=>t.check(n9(...r)),t.startsWith=(...r)=>t.check(r9(...r)),t.endsWith=(...r)=>t.check(s9(...r)),t.min=(...r)=>t.check(Sm(...r)),t.max=(...r)=>t.check(_N(...r)),t.length=(...r)=>t.check(bN(...r)),t.nonempty=(...r)=>t.check(Sm(1,...r)),t.lowercase=r=>t.check(e9(r)),t.uppercase=r=>t.check(t9(r)),t.trim=()=>t.check(a9()),t.normalize=(...r)=>t.check(i9(...r)),t.toLowerCase=()=>t.check(o9()),t.toUpperCase=()=>t.check(l9()),t.slugify=()=>t.check(u9())}),r8=ie("ZodString",(t,e)=>{ob.init(t,e),SN.init(t,e),t.email=n=>t.check(wU(s8,n)),t.url=n=>t.check(RU(i8,n)),t.jwt=n=>t.check(qU(b8,n)),t.emoji=n=>t.check(NU(a8,n)),t.guid=n=>t.check(A1(C1,n)),t.uuid=n=>t.check(TU(xf,n)),t.uuidv4=n=>t.check(SU(xf,n)),t.uuidv6=n=>t.check(AU(xf,n)),t.uuidv7=n=>t.check(IU(xf,n)),t.nanoid=n=>t.check(CU(o8,n)),t.guid=n=>t.check(A1(C1,n)),t.cuid=n=>t.check(DU(l8,n)),t.cuid2=n=>t.check(OU(u8,n)),t.ulid=n=>t.check(kU(c8,n)),t.base64=n=>t.check(UU(y8,n)),t.base64url=n=>t.check(FU(v8,n)),t.xid=n=>t.check(PU(h8,n)),t.ksuid=n=>t.check(jU(d8,n)),t.ipv4=n=>t.check(MU(f8,n)),t.ipv6=n=>t.check(VU(m8,n)),t.cidrv4=n=>t.check(zU(p8,n)),t.cidrv6=n=>t.check(LU(g8,n)),t.e164=n=>t.check(BU(_8,n)),t.datetime=n=>t.check(V9(n)),t.date=n=>t.check(L9(n)),t.time=n=>t.check(F9(n)),t.duration=n=>t.check(q9(n))});function Dn(t){return EU(r8,t)}const Nt=ie("ZodStringFormat",(t,e)=>{St.init(t,e),SN.init(t,e)}),s8=ie("ZodEmail",(t,e)=>{C5.init(t,e),Nt.init(t,e)}),C1=ie("ZodGUID",(t,e)=>{R5.init(t,e),Nt.init(t,e)}),xf=ie("ZodUUID",(t,e)=>{N5.init(t,e),Nt.init(t,e)}),i8=ie("ZodURL",(t,e)=>{D5.init(t,e),Nt.init(t,e)}),a8=ie("ZodEmoji",(t,e)=>{O5.init(t,e),Nt.init(t,e)}),o8=ie("ZodNanoID",(t,e)=>{k5.init(t,e),Nt.init(t,e)}),l8=ie("ZodCUID",(t,e)=>{P5.init(t,e),Nt.init(t,e)}),u8=ie("ZodCUID2",(t,e)=>{j5.init(t,e),Nt.init(t,e)}),c8=ie("ZodULID",(t,e)=>{M5.init(t,e),Nt.init(t,e)}),h8=ie("ZodXID",(t,e)=>{V5.init(t,e),Nt.init(t,e)}),d8=ie("ZodKSUID",(t,e)=>{z5.init(t,e),Nt.init(t,e)}),f8=ie("ZodIPv4",(t,e)=>{q5.init(t,e),Nt.init(t,e)}),m8=ie("ZodIPv6",(t,e)=>{$5.init(t,e),Nt.init(t,e)}),p8=ie("ZodCIDRv4",(t,e)=>{H5.init(t,e),Nt.init(t,e)}),g8=ie("ZodCIDRv6",(t,e)=>{G5.init(t,e),Nt.init(t,e)}),y8=ie("ZodBase64",(t,e)=>{K5.init(t,e),Nt.init(t,e)}),v8=ie("ZodBase64URL",(t,e)=>{Z5.init(t,e),Nt.init(t,e)}),_8=ie("ZodE164",(t,e)=>{Y5.init(t,e),Nt.init(t,e)}),b8=ie("ZodJWT",(t,e)=>{J5.init(t,e),Nt.init(t,e)}),AN=ie("ZodNumber",(t,e)=>{pN.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>y9(t,r,a),t.gt=(r,a)=>t.check(R1(r,a)),t.gte=(r,a)=>t.check(Gf(r,a)),t.min=(r,a)=>t.check(Gf(r,a)),t.lt=(r,a)=>t.check(I1(r,a)),t.lte=(r,a)=>t.check(Hf(r,a)),t.max=(r,a)=>t.check(Hf(r,a)),t.int=r=>t.check(D1(r)),t.safe=r=>t.check(D1(r)),t.positive=r=>t.check(R1(0,r)),t.nonnegative=r=>t.check(Gf(0,r)),t.negative=r=>t.check(I1(0,r)),t.nonpositive=r=>t.check(Hf(0,r)),t.multipleOf=(r,a)=>t.check(N1(r,a)),t.step=(r,a)=>t.check(N1(r,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Im(t){return QU(AN,t)}const x8=ie("ZodNumberFormat",(t,e)=>{W5.init(t,e),AN.init(t,e)});function D1(t){return ZU(x8,t)}const E8=ie("ZodUnknown",(t,e)=>{eU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>_9()});function O1(){return YU(E8)}const w8=ie("ZodNever",(t,e)=>{tU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>v9(t,n,r)});function T8(t){return XU(w8,t)}const S8=ie("ZodDate",(t,e)=>{nU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>b9(t,r),t.min=(r,a)=>t.check(Gf(r,a)),t.max=(r,a)=>t.check(Hf(r,a));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function A8(t){return JU(S8,t)}const I8=ie("ZodArray",(t,e)=>{rU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>S9(t,n,r,a),t.element=e.element,t.min=(n,r)=>t.check(Sm(n,r)),t.nonempty=n=>t.check(Sm(1,n)),t.max=(n,r)=>t.check(_N(n,r)),t.length=(n,r)=>t.check(bN(n,r)),t.unwrap=()=>t.element});function lb(t,e){return c9(I8,t,e)}const R8=ie("ZodObject",(t,e)=>{iU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>A9(t,n,r,a),ct(t,"shape",()=>e.shape),t.keyof=()=>O8(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:O1()}),t.loose=()=>t.clone({...t._zod.def,catchall:O1()}),t.strict=()=>t.clone({...t._zod.def,catchall:T8()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>AL(t,n),t.safeExtend=n=>IL(t,n),t.merge=n=>RL(t,n),t.pick=n=>TL(t,n),t.omit=n=>SL(t,n),t.partial=(...n)=>NL(IN,t,n[0]),t.required=(...n)=>CL(RN,t,n[0])});function Ch(t,e){const n={type:"object",shape:t??{},...Se(e)};return new R8(n)}const N8=ie("ZodUnion",(t,e)=>{aU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>I9(t,n,r,a),t.options=e.options});function ub(t,e){return new N8({type:"union",options:t,...Se(e)})}const C8=ie("ZodIntersection",(t,e)=>{oU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>R9(t,n,r,a)});function D8(t,e){return new C8({type:"intersection",left:t,right:e})}const Sv=ie("ZodEnum",(t,e)=>{lU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(r,a,o)=>x9(t,r,a),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,a)=>{const o={};for(const u of r)if(n.has(u))o[u]=e.entries[u];else throw new Error(`Key ${u} not found in enum`);return new Sv({...e,checks:[],...Se(a),entries:o})},t.exclude=(r,a)=>{const o={...e.entries};for(const u of r)if(n.has(u))delete o[u];else throw new Error(`Key ${u} not found in enum`);return new Sv({...e,checks:[],...Se(a),entries:o})}});function O8(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new Sv({type:"enum",entries:n,...Se(e)})}const k8=ie("ZodLiteral",(t,e)=>{uU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>E9(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Av(t,e){return new k8({type:"literal",values:Array.isArray(t)?t:[t],...Se(e)})}const P8=ie("ZodTransform",(t,e)=>{cU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>T9(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new WR(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(dh(o,n.value,e));else{const u=o;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=t),n.issues.push(dh(u))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function j8(t){return new P8({type:"transform",transform:t})}const IN=ie("ZodOptional",(t,e)=>{vN.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>TN(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function k1(t){return new IN({type:"optional",innerType:t})}const M8=ie("ZodExactOptional",(t,e)=>{hU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>TN(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function V8(t){return new M8({type:"optional",innerType:t})}const z8=ie("ZodNullable",(t,e)=>{dU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>N9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function P1(t){return new z8({type:"nullable",innerType:t})}const L8=ie("ZodDefault",(t,e)=>{fU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>D9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function U8(t,e){return new L8({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():rN(e)}})}const F8=ie("ZodPrefault",(t,e)=>{mU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>O9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function B8(t,e){return new F8({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():rN(e)}})}const RN=ie("ZodNonOptional",(t,e)=>{pU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>C9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function q8(t,e){return new RN({type:"nonoptional",innerType:t,...Se(e)})}const $8=ie("ZodCatch",(t,e)=>{gU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>k9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function H8(t,e){return new $8({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const G8=ie("ZodPipe",(t,e)=>{yU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>P9(t,n,r,a),t.in=e.in,t.out=e.out});function j1(t,e){return new G8({type:"pipe",in:t,out:e})}const K8=ie("ZodReadonly",(t,e)=>{vU.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>j9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function Q8(t){return new K8({type:"readonly",innerType:t})}const Z8=ie("ZodCustom",(t,e)=>{_U.init(t,e),Mt.init(t,e),t._zod.processJSONSchema=(n,r,a)=>w9(t,n)});function Y8(t,e={}){return h9(Z8,t,e)}function X8(t){return d9(t)}const J8=Ch({id:Dn().optional(),name:Dn().min(1),dupr:Im().nonnegative().optional(),imageUrl:Dn().optional(),createdAt:Dn().optional()}),cb=ub([Av(1),Av(2)]),M1=Ch({player1Id:Dn(),player2Id:Dn()}),W8=Ch({id:Dn().optional(),team1:M1,team2:M1,team1Score:Im().nonnegative().optional(),team2Score:Im().nonnegative().optional(),courtId:Dn().optional(),roundNumber:cb}),eF=Ch({id:Dn().optional(),playerIds:lb(Dn()).min(4).max(5),roundNumber:cb,courtNumber:Im().positive()}),tF=ub([cb,Av("standings")]),nF=Ch({id:Dn(),name:Dn(),startDateTime:A8(),location:Dn().optional(),link:Dn().optional(),ongoingStage:tF.optional(),standings:lb(Dn()).optional()}),rF=t=>({EeI9ewBfoKpSajmerLDH:"John Doe",GqsPoUKXTw3kJMSJqwU0:"Jane Smith",RGq6NFnJfWIcvQqdifLt:"Alex Johnson",T28AtFw8KdQU23bXrGKh:"Rock Star",TMUWdVphOwXWWpBD0tg4:"Michael Lee",W3tjD6JMTZvL7h9DBekb:"Sarah Kim",bmIXpKlFhwhNuex6mG3a:"Chris Brown",cFbaelu4ZQhUiUovuSDq:"Hayden Patriquin",de634TOQoQt6DcvdllTE:"David Wilson",ev1yGMQ2TwdWVulSScR3:"Ashley Moore",lR41KMImIthFWUlTfvcq:"Brian Clark",ov1yJixQu0Y7GgSVGOS3:"Olivia Hall",s9CKyNz5sETtOI6s9gJb:"Matthew Young",sBaVpfAOMRsqcUiaVdXN:"Sophia King",sewQTUTqabMCEYb80N8L:"Daniel Wright",tgJHqe0ToCymKcHIthmM:"Megan Scott",v8BhDF0WAc6VgcOwc87B:"Ryan Adams",wekFMjCMfuI7MNNVYVnO:"Lauren Baker",zi6ygH5Iais5EPUVR0Ix:"Kevin Perez","55YtackrvsPralsAJY2V":"Natalie Roberts"})[t],NN={champion:{name:"Champion",gradient:["#FFF8DC","#F0E68C"],accent:"#DAA520",text:"#8B4513"},competitive:{name:"Competitive",gradient:["#E6F3FF","#B0D4F1"],accent:"#4682B4",text:"#2F4F4F"},rising:{name:"Rising Star",gradient:["#F0FFF0","#C1E1C1"],accent:"#6B8E23",text:"#2E5D2E"},rookie:{name:"Rookie",gradient:["#FFE4E1","#F5DEB3"],accent:"#CD853F",text:"#8B4513"},default:{name:"Player",gradient:["#F5F5F5","#E0E0E0"],accent:"#808080",text:"#505050"}},V1=["hexagon","diamond","paddle","court","geometric"];function CN(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return Math.abs(e)}function sF(t){const e=CN(t),n=Object.keys(NN);return n[e%n.length]}function z1(t,e){const n=t/2,r=t/2,a=t*.3;let o="";for(let u=0;u<6;u++){const h=(u*60-90)*(Math.PI/180),d=n+a*Math.cos(h),p=r+a*Math.sin(h);o+=u===0?`M ${d} ${p}`:` L ${d} ${p}`}return o+=" Z",`<path d="${o}" fill="${e.accent}" opacity="0.25"/>`}function iF(t,e){const n=t/2,r=t/2,a=t*.25,o=[];for(let u=0;u<3;u++){const h=(u-1)*a*.8,d=`M ${n} ${r-a+h} 
                  L ${n+a*.6} ${r+h} 
                  L ${n} ${r+a+h} 
                  L ${n-a*.6} ${r+h} Z`;o.push(`<path d="${d}" fill="${e.accent}" opacity="${.15+u*.08}"/>`)}return o.join("")}function aF(t,e){const n=t/2,r=t/2,a=`M ${n-2} ${r+t*.2} 
                      L ${n+2} ${r+t*.2} 
                      L ${n+2} ${r+t*.35} 
                      L ${n-2} ${r+t*.35} Z`,o=t*.15;return`
    <path d="${`M ${n-o} ${r-t*.15} 
                    A ${o} ${o} 0 0 1 ${n+o} ${r-t*.15} 
                    L ${n+o} ${r+t*.15} 
                    A ${o} ${o} 0 0 1 ${n-o} ${r+t*.15} Z`}" fill="${e.accent}" opacity="0.2"/>
    <path d="${a}" fill="${e.accent}" opacity="0.3"/>
  `}function oF(t,e){const n=[],a=t/5;for(let o=1;o<5;o++){const u=o*a;n.push(`<line x1="0" y1="${u}" x2="${t}" y2="${u}" stroke="${e.accent}" stroke-width="1" opacity="0.25"/>`)}return n.push(`<line x1="${t/2}" y1="${a}" x2="${t/2}" y2="${t-a}" stroke="${e.accent}" stroke-width="1" opacity="0.3"/>`),n.join("")}function lF(t,e,n){const r=[],a=2+n%3;for(let o=0;o<a;o++){const u=t*.1+n%18,h=n*(o+1)%(t-u),d=n*(o+2)%(t-u),p=.1+o*.05;o%2===0?r.push(`<circle cx="${h+u/2}" cy="${d+u/2}" r="${u/2}" fill="${e.accent}" opacity="${p}"/>`):r.push(`<rect x="${h}" y="${d}" width="${u}" height="${u}" fill="${e.accent}" opacity="${p}"/>`)}return r.join("")}function uF(t,e,n,r){switch(t){case"hexagon":return z1(e,n);case"diamond":return iF(e,n);case"paddle":return aF(e,n);case"court":return oF(e,n);case"geometric":return lF(e,n,r);default:return z1(e,n)}}function cF(t){const{playerId:e,playerName:n,size:r=64}=t,a=CN(e+n),o=sF(e),u=NN[o],h=V1[a%V1.length],d=n.split(" ").map(b=>b.charAt(0).toUpperCase()).slice(0,2).join(""),p=uF(h,r,u,a);return`
    <svg width="${r}" height="${r}" viewBox="0 0 ${r} ${r}" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="bg-gradient-${a}" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:${u.gradient[0]};stop-opacity:1" />
          <stop offset="100%" style="stop-color:${u.gradient[1]};stop-opacity:1" />
        </linearGradient>
      </defs>
      
      <!-- Background -->
      <rect width="${r}" height="${r}" fill="url(#bg-gradient-${a})" rx="${r*.1}" />
      
      <!-- Pattern -->
      ${p}
      
      <!-- Initials -->
      <text 
        x="${r/2}" 
        y="${r/2+5}" 
        text-anchor="middle" 
        font-family="Inter, system-ui, -apple-system, sans-serif" 
        font-size="${r*.35}" 
        font-weight="700" 
        fill="${u.text}"
        opacity="0.9"
      >
        ${d}
      </text>
    </svg>
  `.trim()}function hF(t){const e=cF(t);return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(e)))}`}function dF(t){if(t){if(typeof t?.toDate=="function")return t.toDate().toISOString();if(typeof t=="string")return t}}function fF(t){if(t){if(typeof t?.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);if(!isNaN(e.getTime()))return e}}}const mF={toFirestore(t){const{id:e,createdAt:n,...r}=t;return{...r,createdAt:n||u6()}},fromFirestore(t,e){const n=t.data(e),r=rF(t.id);r||console.log("No demo name for player id:",t.id);const a=r||n.name;let o=n.imageUrl;a&&typeof a=="string"&&(o=hF({playerId:t.id,playerName:a,size:64}));const u={id:t.id,name:a,dupr:n.dupr,imageUrl:o,createdAt:dF(n.createdAt)};return J8.parse(u)}},pF={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,...n};return W8.parse(r)}},gF={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),{playerIds:r,...a}=n,o={playerIds:Array.isArray(r)?r.map(String):[],...a,id:t.id};return eF.parse(o)}},yF={toFirestore(t){const{id:e,...n}=t,{...r}=n;return{...r}},fromFirestore(t,e){const n=t.data(e);let r=new Date;try{r=fF(n.startDateTime)||new Date}catch(o){console.log(o)}const a={id:t.id,name:n.name,startDateTime:r,location:n.location,link:n.link,standings:Array.isArray(n.standings)?n.standings.map(String):void 0,label:n.label};return nF.parse(a)}};function DN(t,e,n){const r=[e];async function a(h){await t.cancelQueries({queryKey:[e,n]});const d=n?t.getQueryData([e,n]):null,p=t.getQueryData(r),v=h?.id??n,b=v?{...d,...h,id:v}:void 0;return b&&b.id&&(t.setQueryData([e,b.id],b),t.setQueryData(r,w=>{const T=w??[],D=T.findIndex(k=>k.id===b.id);if(D>=0){const k=[...T];return k[D]=b,k}return[b,...T]})),{previousItem:d,previousList:p}}function o(...h){const d=h[h.length-1];d?.previousItem&&n&&t.setQueryData([e,n],d.previousItem),d?.previousList?t.setQueryData(r,d.previousList):t.invalidateQueries({queryKey:r})}function u(...h){const d=h[0];if(typeof d=="string"&&d)t.invalidateQueries({queryKey:[e,d]});else if(d&&typeof d=="object"&&"id"in d){const p=d.id;p&&t.invalidateQueries({queryKey:[e,p]})}t.invalidateQueries({queryKey:r})}return{onMutate:a,onError:o,onSettled:u}}function ON(t,e,n){const r=su(),o=vS({queryKey:[t,n],queryFn:async()=>!n||!t?null:fL(t,n,e),enabled:!!n,staleTime:1e3*60}),u=t?DN(r,t,n):void 0,h=Dm({mutationFn:async d=>{if(!t)return d;if(d?.id)return await mL(t,d.id,d,e),d;{const p=await JR(t,d,e);return{...d,id:p}}},onMutate:u?.onMutate,onError:u?.onError,onSettled:u?.onSettled});return{...o,upsert:h.mutateAsync,upsertState:{status:h.status,error:h.error??null}}}function kN(t,e){const n=vS({queryKey:[t],queryFn:async()=>t?(await yL(t,{pageSize:1e3,converter:e})).docs:[],staleTime:6e4,enabled:!!t});return t?n:{...n,data:[],isLoading:!1,error:new Error("Missing collectionName")}}function vF(t,e){const n=su();return Dm({mutationFn:async r=>await JR(t,r,e),onMutate:async r=>{await n.cancelQueries({queryKey:[t]});const a=n.getQueryData([t]),o=`__tmp__${Date.now()}`,u={...r,id:o};return n.setQueryData([t],h=>[u,...h??[]]),{previousList:a}},onError:(r,a,o)=>{o?.previousList?n.setQueryData([t],o.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:r=>{n.invalidateQueries({queryKey:[t]}),r&&n.invalidateQueries({queryKey:[t,r]})}})}function _F(t,e){const n=su(),r=DN(n,t);return Dm({mutationFn:async a=>{const o=a.id;if(!o)throw new Error("id required for update");await pL(t,o,a,e)},onMutate:r.onMutate,onError:r.onError,onSettled:r.onSettled})}function bF(t){const e=su();return Dm({mutationFn:async n=>{if(!n)throw new Error("id required for delete");await gL(t,n)},onMutate:async n=>{if(!n)return{};await e.cancelQueries({queryKey:[t]});const r=e.getQueryData([t,n]),a=e.getQueryData([t]);return a&&e.setQueryData([t],a.filter(o=>o.id!==n)),e.setQueryData([t,n],null),{previous:r,previousList:a}},onError:(n,r,a)=>{const o=r;a?.previous&&o&&e.setQueryData([t,o],a.previous),a?.previousList?e.setQueryData([t],a.previousList):e.invalidateQueries({queryKey:[t]})},onSettled:(n,r,a)=>{a&&e.invalidateQueries({queryKey:[t,a]}),e.invalidateQueries({queryKey:[t]})}})}function PN(t,e){const n=vF(t,e);return{create:n.mutateAsync,status:n.status,error:n.error??null}}function jN(t,e){const n=_F(t,e);return{update:n.mutateAsync,status:n.status,error:n.error??null}}function MN(t){const e=bF(t);return{remove:e.mutateAsync,status:e.status,error:e.error??null}}function VN(t,e,n){const r=!!t&&!!n,[a,o]=V.useState(null),[u,h]=V.useState(null);return V.useEffect(()=>{if(!r)return;const p=C_(ii,t),v=e?p.withConverter(e):p,b=fu(v,n),w=yR(b,T=>{T.exists()?o(T.data()):o(null)},T=>{h(T)});return()=>{w()}},[r,t,n,e]),{data:r?a:null,loading:r&&a===null&&u===null,error:r?u:null}}function zN(t,e){const[n,r]=V.useState(null),[a,o]=V.useState(!0),[u,h]=V.useState(null),[d,p]=V.useState(t);return V.useEffect(()=>{if(!t)return;const v=C_(ii,t),b=e?v.withConverter(e):v,w=yR(b,T=>{const D=T.docs.map(k=>k.data());r(D),o(!1)},T=>{h(T),o(!1)});return()=>{w()}},[t,e]),t?{data:n,loading:a,error:u}:{data:[],loading:!1,error:new Error("Missing collectionName")}}function LN(t,e){function n(p){return ON(t,e,p)}function r(){return kN(t,e)}function a(){return PN(t,e)}function o(){return jN(t,e)}function u(){return MN(t)}function h(p){return VN(t,e,p)}function d(){return zN(t,e)}return{useEntity:n,useEntities:r,useCreate:a,useUpdate:o,useDelete:u,useEntityRealtime:h,useEntitiesRealtime:d}}function xF(t,e){function n(...p){const v=t(...p),b=kN(v,e);return v?b:{...b,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function r(...p){const v=p.slice(0,-1),b=p[p.length-1],w=t(...v),T=ON(w,e,b);return w?T:{...T,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}function a(...p){const v=t(...p),b=PN(v,e);return v?b:{...b,create:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function o(...p){const b=t(...p),w=jN(b,e);return b?w:{...w,update:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function u(...p){const v=t(...p),b=MN(v);return v?b:{...b,remove:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function h(...p){const v=t(...p),b=zN(v,e);return v?b:{...b,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function d(...p){const v=p.slice(0,-1),b=p[p.length-1],w=t(...v),T=VN(w,e,b);return w?T:{...T,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}return{useEntities:n,useEntity:r,useCreate:a,useUpdate:o,useDelete:u,useEntitiesRealtime:h,useEntityRealtime:d}}const UN=(t,e,n)=>xF(r=>r?`${t}/${r}/${e}`:void 0,n),{useEntities:gu,useCreate:EF,useEntitiesRealtime:wF}=LN("players",mF),{useEntity:FN,useEntities:Do,useUpdate:BN,useEntityRealtime:TF}=LN("events",yF),{useCreate:SF,useDelete:AF,useEntitiesRealtime:qN}=UN("events","courts",gF),{useCreate:IF,useUpdate:RF,useDelete:NF,useEntitiesRealtime:$N}=UN("events","games",pF),CF=()=>y.jsxs("div",{className:"space-y-6",children:[y.jsx(ua,{as:"h2",description:"Compete for exclusive prizes in our inaugural competitive season",children:"Season 1 Championship"}),y.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent-subtle",children:y.jsx(Yc,{className:"h-5 w-5 text-accent"})}),y.jsx("h3",{className:"text-lg font-semibold text-fg",children:"Season Duration"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("div",{className:"text-3xl font-bold text-fg",children:"4 Weeks"}),y.jsx("p",{className:"text-fg-muted",children:"Every Sunday  7PM-10PM"})]})]})}),y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-warning-subtle",children:y.jsx(er,{className:"h-5 w-5 text-warning"})}),y.jsx("h3",{className:"text-lg font-semibold text-fg",children:"Championship Rewards"})]}),y.jsx("p",{className:"mb-4 text-sm text-fg-muted",children:"Top 3 finishers earn exclusive Joola gear and club points:"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(tr,{variant:"warning",children:"1st"}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-fg",children:"Champion"}),y.jsx("div",{className:"text-sm text-fg-muted",children:"Joola Hat + 25 Club Points"})]})]}),y.jsx(Tf,{className:"h-5 w-5 text-warning"})]}),y.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(tr,{variant:"default",children:"2nd"}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-fg",children:"Runner-up"}),y.jsx("div",{className:"text-sm text-fg-muted",children:"Joola Water Bottle + 15 Club Points"})]})]}),y.jsx(Tf,{className:"h-5 w-5 text-fg-subtle"})]}),y.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(tr,{variant:"default",children:"3rd"}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-fg",children:"Third Place"}),y.jsx("div",{className:"text-sm text-fg-muted",children:"Joola Wristbands + 10 Club Points"})]})]}),y.jsx(Tf,{className:"h-5 w-5 text-fg-subtle"})]})]})]})})]})]}),DF=t=>t?t.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"",OF=t=>t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",kF=({players:t,topPlayers:e,seriesLabel:n,nextEvent:r})=>y.jsxs("div",{className:"space-y-12",children:[y.jsxs("div",{className:"text-center py-8",children:[y.jsxs(tr,{variant:"success",className:"mb-4",children:[y.jsx("span",{className:"mr-2",children:""})," ",n," is Live"]}),y.jsxs("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight text-fg mb-4",children:["Paddle Up",y.jsx("span",{className:"block text-accent",children:"Premier League"})]}),y.jsx("p",{className:"text-lg text-fg-muted max-w-2xl mx-auto mb-8",children:"Join our competitive pickleball league designed for advanced players looking to test their skills and climb the rankings each week."}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[y.jsx(At,{to:"/standings",children:y.jsx(gt,{variant:"primary",size:"lg",icon:y.jsx(Vc,{className:"h-4 w-4"}),iconPosition:"right",children:"View Standings"})}),y.jsx(At,{to:"/format",children:y.jsx(gt,{variant:"secondary",size:"lg",children:"League Format"})})]})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsx(ua,{as:"h2",description:"Weekly competitive action with structured format",children:"League Overview"}),y.jsx(ze,{children:y.jsx(et,{children:y.jsxs(Fv,{columns:4,children:[y.jsx($s,{label:"Players",value:"16",description:"per night"}),y.jsx($s,{label:"Schedule",value:"7-10 PM",description:"Every Sunday"}),y.jsx($s,{label:"Prize Pool",value:"100",description:"Club Points"}),y.jsx($s,{label:"Level",value:"3.5+ DUPR",description:"Required"})]})})})]}),y.jsx(CF,{}),y.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-success-subtle",children:y.jsx(er,{className:"h-5 w-5 text-success"})}),y.jsx("h3",{className:"text-lg font-semibold text-fg",children:"Current Leaders"})]}),y.jsxs(At,{to:"/standings",className:"text-sm font-medium text-accent hover:underline flex items-center gap-1",children:["Full Standings ",y.jsx(Vc,{className:"h-3 w-3"})]})]}),y.jsx("div",{className:"space-y-3",children:e.map((a,o)=>{const u=t.find(h=>h.id===a.playerId)||{name:"Unknown",imageUrl:""};return y.jsxs(At,{to:`/player/${a.playerId}`,className:"flex items-center justify-between rounded-lg border border-border p-3 hover:bg-bg-subtle transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-bg-muted text-sm font-medium text-fg-muted",children:o+1}),y.jsx(Ll,{src:u.imageUrl,alt:u.name,size:"sm"}),y.jsx("span",{className:"font-medium text-fg",children:u.name})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("span",{className:"font-semibold text-fg",children:[a.points," pts"]}),y.jsxs("span",{className:"block text-xs text-fg-muted",children:[a.events," Events"]})]})]},a.playerId)})})]})}),y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent-subtle",children:y.jsx(ra,{className:"h-5 w-5 text-accent"})}),y.jsx("h3",{className:"text-lg font-semibold text-fg",children:"Next Match Night"})]}),r?y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between rounded-lg border border-border p-3",children:[y.jsx("span",{className:"text-fg-muted",children:"Date"}),y.jsx("span",{className:"font-medium text-fg",children:DF(r.startDateTime)})]}),y.jsxs("div",{className:"flex justify-between rounded-lg border border-border p-3",children:[y.jsx("span",{className:"text-fg-muted",children:"Time"}),y.jsx("span",{className:"font-medium text-fg",children:OF(r.startDateTime)})]}),y.jsxs("div",{className:"flex justify-between rounded-lg border border-border p-3",children:[y.jsx("span",{className:"text-fg-muted",children:"Location"}),y.jsx("span",{className:"font-medium text-fg",children:r.location})]})]}),y.jsx("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"block",children:y.jsx(gt,{variant:"primary",className:"w-full",icon:y.jsx(zv,{className:"h-4 w-4"}),iconPosition:"right",children:"Register on CourtReserve"})})]}):y.jsxs("div",{className:"text-center py-8",children:[y.jsx(ra,{className:"h-12 w-12 text-fg-subtle mx-auto mb-4"}),y.jsx("p",{className:"text-fg-muted mb-4",children:"No upcoming match nights are listed."}),y.jsx(At,{to:"/schedule",children:y.jsx(gt,{variant:"secondary",children:"View Schedule"})})]})]})})]}),y.jsx(ze,{className:"text-center",children:y.jsxs(et,{className:"py-12",children:[y.jsx(Lv,{className:"h-12 w-12 text-accent mx-auto mb-4"}),y.jsx("h2",{className:"text-2xl font-bold text-fg mb-2",children:"Ready to Compete?"}),y.jsx("p",{className:"text-fg-muted max-w-xl mx-auto mb-6",children:"We are always looking for competitive players to join the roster. Check out the format and rules to see if you qualify for our premier league."}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[y.jsx(At,{to:"/format",children:y.jsx(gt,{variant:"primary",icon:y.jsx(Vc,{className:"h-4 w-4"}),iconPosition:"right",children:"View League Format"})}),y.jsx(At,{to:"/standings",children:y.jsx(gt,{variant:"secondary",children:"Current Standings"})})]})]})})]}),ps=(t,e=3)=>e===5?MF(t):e===2?PF(t):jF(t),PF=t=>t<1?0:t===1?1e3:t===2?700:t>=8?Math.floor(ps(t-7)/10):t>=3?Math.floor(ps(t-2)/2):0,jF=t=>t<1?0:t===1?1e3:t===2?800:t===3?ps(2)*3/4:t===4?ps(2)*3/5:t>=11?Math.floor(ps(t-10)/10):t>=5?Math.floor(ps(t-3)/2):0,MF=t=>t<1?0:t===1?1e3:t===2?875:t===3?750:t===4?650:t===5?575:t>=19?Math.floor(ps(t-18)/10):t>=6?Math.floor(ps(t-5)/2):0,hb=t=>{if(!t.isCompleted||!Array.isArray(t.standings)||t.standings.length===0)return null;const e=t.standings,n=[];return e.forEach((r,a)=>{const o=a+1,u=Math.ceil(o/4),h=(o-1)%4+1,d=ps(o);n.push({playerId:r,court:u,position:h,rank:o,pointsEarned:d})}),n},VF=t=>{const e=new Map;return t.forEach(n=>{if(!n.standings||n.standings.length===0)return;const r={id:n.id,date:n.startDateTime?n.startDateTime.toISOString():n.id,isCompleted:!0,standings:n.standings},a=hb(r);a&&a.forEach(o=>{const u=o.playerId,h=o.pointsEarned||0,d=e.get(u)||{points:0,events:0,champWins:0};d.points+=h,d.events+=1,o.rank===1&&(d.champWins+=1),e.set(u,d)})}),e},zF=()=>{const{data:t=[]}=Do(),{data:e=[]}=gu(),n=V.useMemo(()=>{const o=new Map,u=new Map;(t||[]).filter(p=>Array.isArray(p.standings)&&p.standings.length>0).forEach(p=>{const v={id:p.id,date:p.startDateTime?p.startDateTime.toISOString():p.id,isCompleted:!0,standings:p.standings};(hb(v)||[]).forEach(w=>{const T=w.playerId,D=w.pointsEarned||0;o.set(T,(o.get(T)||0)+D),u.set(T,(u.get(T)||0)+1)})});const d=Array.from(o.entries()).map(([p,v])=>({playerId:p,points:v}));return d.sort((p,v)=>v.points-p.points),d.slice(0,3).map((p,v)=>({playerId:p.playerId,points:p.points,events:u.get(p.playerId)||0,rank:v+1}))},[t]),r=V.useMemo(()=>{const o=(t||[]).filter(h=>h.startDateTime instanceof Date&&!isNaN(h.startDateTime.getTime()));if(o.length===0)return"Challenge Series";const u=Array.from(new Set(o.map(h=>h.startDateTime.getFullYear()))).sort();return u.length===1?`${u[0]} Challenge`:`${u[0]}${u[u.length-1]} Challenge`},[t]),a=V.useMemo(()=>{if(!t||t.length===0)return null;const o=t.filter(p=>p.startDateTime instanceof Date&&!isNaN(p.startDateTime.getTime()));o.sort((p,v)=>p.startDateTime.getTime()-v.startDateTime.getTime());const h=new Date().getTime(),d=o.filter(p=>p.startDateTime.getTime()>=h);return d.length>0?d[0]:null},[t]);return y.jsx(kF,{players:e,topPlayers:n,seriesLabel:r,nextEvent:a})},HN=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"unknown":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`},LF=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Unknown Date":e.toLocaleDateString(void 0,{month:"short",year:"numeric"})},UF=t=>{const e=new Map;return t.forEach(n=>{if(n instanceof Date&&!isNaN(n.getTime())){const r=HN(n);e.has(r)||e.set(r,n)}}),Array.from(e.entries()).sort((n,r)=>r[1].getTime()-n[1].getTime()).map(([n,r])=>({key:n,label:LF(r)}))},GN=(t="all")=>{const{data:e=[]}=gu(),{data:n=[]}=Do();return V.useMemo(()=>{const r=n.filter(h=>Array.isArray(h.standings)&&h.standings.length>0?t==="all"?!0:HN(h.startDateTime)===t:!1),a=VF(r),o=Array.from(a.entries()).map(([h,d])=>({playerId:h,points:d.points,eventsPlayed:d.events,champWins:d.champWins}));return o.sort((h,d)=>d.points-h.points),CP(o,h=>h.points).map(h=>{const d=e.find(p=>p.id===h.playerId);return{...h,name:d?.name||"Unknown",imageUrl:d?.imageUrl||"",dupr:d?.dupr,id:h.playerId}})},[n,e,t])},KN=({data:t,players:e,showEvents:n=!0,showPoints:r=!0,className:a,pointsRenderer:o,rowClassName:u})=>y.jsx("div",{className:Be("overflow-hidden rounded-md border border-border",a),children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-bg-muted border-b border-border",children:[y.jsx("th",{className:"px-4 py-3 text-left font-medium text-fg-muted",children:"Rank"}),y.jsx("th",{className:"px-4 py-3 text-left font-medium text-fg-muted",children:"Player"}),r&&y.jsx("th",{className:"px-4 py-3 text-center font-medium text-fg-muted",children:"Points"}),n&&y.jsx("th",{className:"px-4 py-3 text-center font-medium text-fg-muted",children:"Events"})]})}),y.jsx("tbody",{className:"divide-y divide-border",children:t.map((h,d)=>{const p=e?.find(b=>b.id===h.playerId)||{name:"Unknown",imageUrl:"",id:"unknown"},v=h.rank??d+1;return y.jsxs("tr",{className:Be("transition-colors hover:bg-bg-subtle",u?u(h,d):v===1?"bg-warning-subtle":v===2?"bg-bg-muted":v===3?"bg-bg-subtle":""),children:[y.jsx("td",{className:"px-4 py-3",children:y.jsx("div",{className:Be("flex h-7 w-7 items-center justify-center rounded-full text-xs font-bold",v===1&&"bg-warning text-white",v===2&&"bg-fg-muted text-white",v===3&&"bg-fg-subtle text-white",v>3&&"bg-bg-muted text-fg-muted"),children:v})}),y.jsx("td",{className:"px-4 py-3",children:y.jsxs(At,{to:`/player/${h.playerId}`,className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[y.jsx(Ll,{src:p.imageUrl,alt:p.name,size:"sm"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-medium text-fg",children:p.name}),v===1&&y.jsx(er,{className:"h-4 w-4 text-warning"})]})]})}),r&&y.jsx("td",{className:"px-4 py-3 text-center",children:o?o(h,p,d):y.jsx("span",{className:"font-semibold text-success",children:(h.points??0).toLocaleString()})}),n&&y.jsx("td",{className:"px-4 py-3 text-center text-fg-muted",children:h.eventsPlayed??0})]},h.playerId)})})]})})}),FF=({selection:t,setSelection:e,months:n,leaderboard:r,players:a})=>y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[y.jsx(ua,{as:"h1",description:"Complete standings with detailed statistics for all players",children:"Standings"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("label",{htmlFor:"period",className:"text-sm font-medium text-fg-muted",children:"Period:"}),y.jsx(Bv,{id:"period",value:t,onChange:o=>e(o.target.value),className:"min-w-[160px]",children:n.map(o=>y.jsx("option",{value:o.value,children:o.label},o.value))})]})]}),r.length>0?y.jsx(ze,{padding:"none",children:y.jsx(et,{children:y.jsx(KN,{data:r,players:a})})}):y.jsx(ze,{className:"text-center",children:y.jsxs(et,{className:"py-12",children:[y.jsx(er,{className:"mx-auto mb-4 h-12 w-12 text-fg-subtle"}),y.jsx("h2",{className:"text-xl font-semibold text-fg mb-2",children:"No Standings Yet"}),y.jsx("p",{className:"text-fg-muted",children:"Standings will appear here once events have been completed."})]})})]}),BF=()=>{const[t,e]=V.useState("all"),{data:n=[]}=gu(),{data:r=[]}=Do(),a=V.useMemo(()=>UF(r.map(u=>u.startDateTime)),[r]),o=GN(t);return y.jsx(FF,{selection:t,setSelection:e,months:a,leaderboard:o,players:n})},qF=()=>(V.useEffect(()=>{document.title="Paddle Up  League Format"},[]),y.jsxs("div",{className:"space-y-8",children:[y.jsx(ua,{as:"h1",description:"Everything you need to know about how the league works",children:"League Format"}),y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-warning-subtle",children:y.jsx(er,{className:"h-5 w-5 text-warning"})}),y.jsx("h2",{className:"text-xl font-semibold text-fg",children:"Season 1 Championship"})]}),y.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[y.jsxs("div",{className:"rounded-lg border border-border p-4",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y.jsx(Yc,{className:"h-4 w-4 text-fg-muted"}),y.jsx("span",{className:"font-medium text-fg",children:"Season Duration"})]}),y.jsx("div",{className:"text-3xl font-bold text-fg mb-1",children:"4 Weeks"}),y.jsx("div",{className:"text-sm text-fg-muted",children:"Every Sunday  7PM-10PM"})]}),y.jsxs("div",{className:"rounded-lg border border-border p-4",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y.jsx(Tf,{className:"h-4 w-4 text-fg-muted"}),y.jsx("span",{className:"font-medium text-fg",children:"Championship Rewards"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(tr,{variant:"warning",children:"1st"}),y.jsx("span",{className:"text-sm text-fg",children:"Joola Hat + 25 Points"})]})}),y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(tr,{variant:"default",children:"2nd"}),y.jsx("span",{className:"text-sm text-fg",children:"Joola Bottle + 15 Points"})]})}),y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(tr,{variant:"default",children:"3rd"}),y.jsx("span",{className:"text-sm text-fg",children:"Joola Wristbands + 10 Points"})]})})]})]})]})]})}),y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent-subtle",children:y.jsx(Yc,{className:"h-5 w-5 text-accent"})}),y.jsx("h2",{className:"text-xl font-semibold text-fg",children:"Nightly Format"})]}),y.jsxs(Fv,{columns:4,children:[y.jsx($s,{label:"Schedule",value:"7-10 PM",description:"Every Sunday"}),y.jsx($s,{label:"Entry Fee",value:"$20",description:"Free for members"}),y.jsx($s,{label:"Eligibility",value:"3.5+",description:"DUPR Required"}),y.jsx($s,{label:"Format",value:"2 Rounds",description:"per night"})]})]})}),y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-success-subtle",children:y.jsx(kk,{className:"h-5 w-5 text-success"})}),y.jsx("h2",{className:"text-xl font-semibold text-fg",children:"Game Format"})]}),y.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[y.jsxs("div",{className:"rounded-lg border border-border p-4 text-center",children:[y.jsx(Lv,{className:"mx-auto mb-3 h-8 w-8 text-fg-muted"}),y.jsx("div",{className:"text-2xl font-bold text-fg mb-1",children:"4-5"}),y.jsx("div",{className:"text-sm text-fg-muted",children:"Players per Court"})]}),y.jsxs("div",{className:"rounded-lg border border-border p-4 text-center",children:[y.jsx(wS,{className:"mx-auto mb-3 h-8 w-8 text-fg-muted"}),y.jsx("div",{className:"text-lg font-semibold text-fg mb-1",children:"Rotate Partners"}),y.jsx("div",{className:"text-sm text-fg-muted",children:"Partner once per round"})]}),y.jsxs("div",{className:"rounded-lg border border-border p-4",children:[y.jsx("div",{className:"text-center mb-3",children:y.jsx(er,{className:"mx-auto h-8 w-8 text-fg-muted"})}),y.jsxs("div",{className:"space-y-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between rounded bg-bg-muted px-2 py-1",children:[y.jsx("span",{className:"text-fg-muted",children:"4 Players"}),y.jsx("span",{className:"font-medium text-fg",children:"3 games to 15"})]}),y.jsxs("div",{className:"flex justify-between rounded bg-bg-muted px-2 py-1",children:[y.jsx("span",{className:"text-fg-muted",children:"5 Players"}),y.jsx("span",{className:"font-medium text-fg",children:"4 games to 11"})]})]})]})]})]})}),y.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent text-white font-bold",children:"1"}),y.jsx("h3",{className:"text-lg font-semibold text-fg",children:"Round 1: Initial Seeding"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-border p-3",children:[y.jsx("div",{className:"mt-0.5 flex h-5 w-5 items-center justify-center rounded-full bg-accent-subtle",children:y.jsx("span",{className:"text-xs",children:""})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-fg",children:"Court Assignment"}),y.jsx("div",{className:"text-sm text-fg-muted",children:"Snake draft (back-and-forth order)"})]})]}),y.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-border p-3",children:[y.jsx("div",{className:"mt-0.5 flex h-5 w-5 items-center justify-center rounded-full bg-success-subtle",children:y.jsx("span",{className:"text-xs",children:""})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-fg",children:"Seeding Basis"}),y.jsx("div",{className:"text-sm text-fg-muted",children:"Based on previous weeks (random for week 1)"})]})]})]})]})}),y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-warning text-white font-bold",children:"2"}),y.jsx("h3",{className:"text-lg font-semibold text-fg",children:"Round 2: Ranked Courts"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-border p-3",children:[y.jsx("div",{className:"mt-0.5 flex h-5 w-5 items-center justify-center rounded-full bg-warning-subtle",children:y.jsx("span",{className:"text-xs",children:""})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-fg",children:"Court Placement"}),y.jsx("div",{className:"text-sm text-fg-muted",children:"Ranked by Round 1 performance"})]})]}),y.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-border p-3",children:[y.jsx("div",{className:"mt-0.5 flex h-5 w-5 items-center justify-center rounded-full bg-accent-subtle",children:y.jsx("span",{className:"text-xs",children:""})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-fg",children:"Court Assignment"}),y.jsx("div",{className:"text-sm text-fg-muted",children:"Top finishers  Court 1, next  Court 2, etc."})]})]})]})]})})]}),y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-warning-subtle",children:y.jsx(Dk,{className:"h-5 w-5 text-warning"})}),y.jsx("h2",{className:"text-xl font-semibold text-fg",children:"Points & Prizes"})]}),y.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-fg mb-3",children:"Top Finisher Points"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-warning bg-warning-subtle px-3 py-2",children:[y.jsx("span",{className:"font-medium text-fg",children:"1st Place"}),y.jsx("span",{className:"font-bold text-fg",children:"1,000 pts"})]}),y.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[y.jsx("span",{className:"font-medium text-fg",children:"2nd Place"}),y.jsx("span",{className:"font-bold text-fg",children:"800 pts"})]}),y.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[y.jsx("span",{className:"font-medium text-fg",children:"3rd Place"}),y.jsx("span",{className:"font-bold text-fg",children:"600 pts"})]}),y.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[y.jsx("span",{className:"font-medium text-fg",children:"4th Place"}),y.jsx("span",{className:"font-bold text-fg",children:"500 pts"})]})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-fg mb-3",children:"Point System"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("div",{className:"rounded-lg border border-border p-3",children:y.jsxs("p",{className:"text-sm text-fg-muted",children:[y.jsx("strong",{className:"text-fg",children:"All positions earn points"}),"  points halve approximately every 3 ranks."]})}),y.jsx("div",{className:"rounded-lg border border-accent bg-accent-subtle p-3",children:y.jsxs("p",{className:"text-sm text-fg",children:["Points count toward ",y.jsx("strong",{children:"monthly, seasonal, and all-time rankings"}),"."]})})]})]})]})]})}),y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-success-subtle",children:y.jsx(Tc,{className:"h-5 w-5 text-success"})}),y.jsx("h2",{className:"text-xl font-semibold text-fg",children:"Key Takeaways"})]}),y.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[y.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border p-3",children:[y.jsx(Tc,{className:"h-4 w-4 text-success"}),y.jsx("span",{className:"text-sm text-fg",children:"Competitive league for DUPR 3.5+ players"})]}),y.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border p-3",children:[y.jsx(Tc,{className:"h-4 w-4 text-success"}),y.jsx("span",{className:"text-sm text-fg",children:"Sunday evenings, 7PM10PM"})]}),y.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border p-3",children:[y.jsx(Tc,{className:"h-4 w-4 text-success"}),y.jsx("span",{className:"text-sm text-fg",children:"Two rounds each night with partner rotation"})]}),y.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border p-3",children:[y.jsx(Tc,{className:"h-4 w-4 text-success"}),y.jsx("span",{className:"text-sm text-fg",children:"Points determine standings and rankings"})]})]})]})}),y.jsx(ze,{className:"text-center",children:y.jsxs(et,{className:"py-8",children:[y.jsx(er,{className:"mx-auto mb-4 h-12 w-12 text-accent"}),y.jsx("h2",{className:"text-2xl font-bold text-fg mb-2",children:"Ready to Compete?"}),y.jsx("p",{className:"text-fg-muted max-w-xl mx-auto mb-6",children:"Check your standings online and track points for this season and all-time rankings."}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[y.jsx(At,{to:"/standings",children:y.jsx(gt,{variant:"primary",icon:y.jsx(Vc,{className:"h-4 w-4"}),iconPosition:"right",children:"View Standings"})}),y.jsx(At,{to:"/schedule",children:y.jsx(gt,{variant:"secondary",icon:y.jsx(zv,{className:"h-4 w-4"}),iconPosition:"right",children:"Register for Event"})})]})]})})]})),$F=()=>(V.useEffect(()=>{document.title="Pickleball League  Season 1 (Competitive)"},[]),y.jsx(qF,{})),HF=({history:t,openIdx:e,onToggle:n})=>y.jsxs("div",{className:"flex flex-col gap-4",children:[t.length===0&&y.jsx("p",{className:"text-text-muted text-center py-4",children:"No event placements available."}),t.slice().reverse().map((r,a)=>y.jsxs("div",{className:`rounded-xl shadow-md border border-border bg-surface transition-all duration-200 ${e===a?"ring-2 ring-primary":""}`,children:[y.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-4 text-lg font-bold text-primary focus:outline-none",onClick:()=>n(a),"aria-expanded":e===a,tabIndex:0,children:[y.jsxs("span",{children:[r.eventName??r.eventId," (",r.date,")"]}),y.jsx("span",{className:"text-xs text-text-muted",children:e===a?"Tap to collapse":"Tap to expand"})]}),y.jsx("div",{className:`overflow-hidden transition-all duration-300 ${e===a?"max-h-[300px] py-2":"max-h-0"}`,children:e===a&&y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"text-sm text-text-muted mb-2",children:["Rank: ",y.jsx("span",{className:"font-bold text-text-main",children:r.rank})]}),y.jsx(At,{to:`/event/${r.eventId}`,className:"inline-block mt-2 px-4 py-2 bg-primary text-white rounded-lg font-bold hover:bg-primary-hover transition",children:"View Event"})]})})]},r.eventId+a))]}),GF=({history:t})=>{const[e,n]=V.useState(null),r=a=>{n(e===a?null:a)};return y.jsx(HF,{history:t,openIdx:e,onToggle:r})},KF=({player:t,overallRank:e,currentStats:n,weeklyHistory:r,challengeEvents:a})=>t?y.jsxs("div",{className:"space-y-8 pb-12",children:[y.jsxs(At,{to:"/players",className:"inline-flex items-center text-text-muted hover:text-primary transition-colors mb-4",children:[y.jsx(rk,{className:"h-4 w-4 mr-1"})," Back to Players"]}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"md:col-span-1 space-y-6",children:[y.jsxs(ze,{className:"p-0 overflow-hidden border-border",children:[y.jsx("div",{className:"aspect-square w-full relative bg-surface-highlight",children:t.imageUrl?y.jsx("img",{src:t.imageUrl.startsWith("/")?`/${t.imageUrl.slice(1)}`:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center",children:y.jsx("span",{className:"text-6xl font-bold text-text-muted opacity-20",children:t.name.charAt(0)})})}),y.jsxs("div",{className:"p-6 text-center",children:[y.jsx("h1",{className:"text-3xl font-bold text-text-main mb-2",children:t.name}),y.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[y.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold border border-primary/20",children:["DUPR ",t.dupr??"N/A"]}),y.jsxs("span",{className:"bg-surface-highlight text-text-muted px-3 py-1 rounded-full text-sm font-medium border border-border",children:["Rank #",e??"-"]})]})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs(ze,{className:"p-4 flex flex-col items-center justify-center text-center",children:[y.jsx(er,{className:"h-6 w-6 text-warning mb-2"}),y.jsx("span",{className:"text-2xl font-bold text-text-main",children:n.points}),y.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Points"})]}),y.jsxs(ze,{className:"p-4 flex flex-col items-center justify-center text-center",children:[y.jsx(lw,{className:"h-6 w-6 text-success mb-2"}),y.jsx("span",{className:"text-2xl font-bold text-text-main",children:n.champWins}),y.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Top Finishes"})]}),y.jsxs(ze,{className:"p-4 flex flex-col items-center justify-center text-center",children:[y.jsx(aw,{className:"h-6 w-6 text-primary mb-2"}),y.jsx("span",{className:"text-2xl font-bold text-text-main",children:r.length}),y.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Events"})]}),y.jsxs(ze,{className:"p-4 flex flex-col items-center justify-center text-center",children:[y.jsx(ra,{className:"h-6 w-6 text-text-muted mb-2"}),y.jsx("span",{className:"text-2xl font-bold text-text-main",children:n.events}),y.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Appearances"})]})]})]}),y.jsxs("div",{className:"md:col-span-2 space-y-8",children:[y.jsxs(ze,{children:[y.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[y.jsx(aw,{className:"h-5 w-5 text-primary"}),"Event Placements"]}),y.jsx(GF,{history:r.map(o=>({...o,eventName:a.find(u=>u.id===o.eventId)?.name}))})]}),y.jsxs(ze,{children:[y.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[y.jsx(lw,{className:"h-5 w-5 text-primary"}),"Event Rankings"]}),y.jsx("div",{className:"space-y-2",children:r.length>0?r.slice().reverse().map((o,u)=>y.jsxs(At,{to:`/event/${o.eventId}`,className:"flex items-center justify-between p-2 border-b border-border last:border-0 hover:bg-surface-highlight transition-colors cursor-pointer group",children:[y.jsx("span",{className:"text-sm text-text-muted group-hover:text-text-main transition-colors",children:o.date}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:["Rank #",o.rank]}),y.jsx(UP,{rank:o.rank,size:"sm"})]})]},u)):y.jsx("p",{className:"text-text-muted text-center py-4",children:"No event data available."})})]})]})]})]}):y.jsxs("div",{className:"text-center py-12",children:[y.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Player Not Found"}),y.jsx(At,{to:"/players",className:"text-primary hover:underline",children:"Back to Players"})]}),QF=()=>{const{id:t}=eS(),{data:e}=wF(),{data:n=[]}=Do(),r=e?.find(v=>v.id===t),a=n.filter(v=>Array.isArray(v.standings)&&v.standings.length>0).map(v=>{const b={id:v.id,date:v.startDateTime?v.startDateTime.toISOString():v.id,isCompleted:!0,standings:v.standings},w=hb(b)||[];return{ev:v,finals:w}}),o=new Map;a.forEach(({finals:v})=>{v.forEach(b=>{const w=b.playerId,T=b.pointsEarned||0,D=o.get(w)||{points:0,events:0,champWins:0};D.points+=T,D.events+=1,b.rank===1&&(D.champWins+=1),o.set(w,D)})});const u=Array.from(o.entries()).map(([v,b])=>({playerId:v,points:b.points,eventsPlayed:b.events,champWins:b.champWins})).sort((v,b)=>b.points-v.points);let h=null;u.forEach((v,b)=>{v.playerId===t&&(h=b+1)});const d=o.get(t||"")||{points:0,events:0,champWins:0},p=[];return a.forEach(({ev:v,finals:b})=>{const w=b.find(T=>T.playerId===t);w&&p.push({eventId:v.id,date:v.startDateTime?v.startDateTime.toLocaleDateString():v.id,rank:w.rank})}),y.jsx(KF,{player:r,overallRank:h,currentStats:d,weeklyHistory:p,challengeEvents:n})};function QN(t,e){const n=W1(),r=ti(),a=V.useMemo(()=>new URLSearchParams(r.search),[r.search]),o=V.useMemo(()=>a.get(t)??void 0,[a,t]),u=V.useCallback(p=>{const v=new URLSearchParams(r.search),b=v.get(t)??void 0;p!==b&&(p===void 0||p===""?v.delete(t):v.set(t,p),n({pathname:r.pathname,search:`?${v.toString()}`,hash:r.hash},{replace:!0}))},[n,r,t]),h=V.useCallback(async p=>{u(p)},[u]),d=V.useCallback(async p=>{u(p)},[u]);return V.useEffect(()=>{e!==void 0&&o===void 0&&d(e)},[e,o]),e===void 0?[o,h]:[o??e,d]}const ZF=t=>t?t.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",YF=t=>t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",XF=({view:t,setView:e,displayed:n})=>y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[y.jsx(ua,{as:"h1",description:"Register for upcoming match nights or view past results",children:"Schedule"}),y.jsxs("div",{className:"flex items-center rounded-lg border border-border bg-bg-subtle p-1",children:[y.jsx("button",{type:"button",onClick:()=>e("upcoming"),className:`rounded px-4 py-2 text-sm font-medium transition-colors ${t==="upcoming"?"bg-accent text-white":"text-fg-muted hover:text-fg"}`,children:"Upcoming"}),y.jsx("button",{type:"button",onClick:()=>e("past"),className:`rounded px-4 py-2 text-sm font-medium transition-colors ${t==="past"?"bg-accent text-white":"text-fg-muted hover:text-fg"}`,children:"Past"})]})]}),y.jsxs("div",{className:"space-y-4",children:[n.map(r=>y.jsx(ze,{children:y.jsx(et,{children:y.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsxs("div",{className:"flex h-14 w-14 flex-col items-center justify-center rounded-lg border border-border bg-bg-muted",children:[y.jsx("span",{className:"text-xs font-medium text-fg-muted uppercase",children:r.startDateTime?.toLocaleDateString(void 0,{weekday:"short"})}),y.jsx("span",{className:"text-xl font-bold text-fg",children:r.startDateTime?.getDate()})]}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("h3",{className:"text-lg font-semibold text-fg truncate",children:r.name}),t==="past"&&y.jsxs(tr,{variant:"success",children:[y.jsx(xS,{className:"mr-1 h-3 w-3"}),"Completed"]})]}),y.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-fg-muted",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(ra,{className:"h-4 w-4"}),ZF(r.startDateTime)]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(Yc,{className:"h-4 w-4"}),YF(r.startDateTime)]}),r.location&&y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(ES,{className:"h-4 w-4"}),r.location]})]})]})]}),y.jsx("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center",children:t==="past"?y.jsx(At,{to:`/event/${encodeURIComponent(r.id)}`,children:y.jsx(gt,{variant:"secondary",children:"View Results"})}):y.jsxs(y.Fragment,{children:[y.jsx("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",children:y.jsx(gt,{variant:"primary",icon:y.jsx(zv,{className:"h-4 w-4"}),iconPosition:"right",children:"Register"})}),y.jsx(At,{to:`/event/${encodeURIComponent(r.id)}`,children:y.jsx(gt,{variant:"ghost",children:"Details"})})]})})]})})},r.id)),n.length===0&&y.jsx(ze,{className:"text-center",children:y.jsxs(et,{className:"py-12",children:[y.jsx(ra,{className:"mx-auto mb-4 h-12 w-12 text-fg-subtle"}),y.jsx("h2",{className:"text-xl font-semibold text-fg mb-2",children:t==="upcoming"?"No Upcoming Events":"No Past Events"}),y.jsx("p",{className:"text-fg-muted",children:t==="upcoming"?"Check back soon for new match nights to register for!":"Past events will appear here once completed."})]})})]})]}),JF=()=>{const{data:t}=Do(),e=(t||[]).filter(d=>d.startDateTime instanceof Date&&!isNaN(d.startDateTime.getTime())).slice().sort((d,p)=>d.startDateTime.getTime()-p.startDateTime.getTime()),n=new Date,r=e.filter(d=>d.startDateTime.getTime()>=n.getTime()),a=e.filter(d=>d.startDateTime.getTime()<n.getTime()).slice().reverse(),[o,u]=QN("view","upcoming"),h=o==="upcoming"?r:a;return y.jsx(XF,{view:o,setView:d=>u(d),displayed:h})};function ZN(){const[t,e]=V.useState(null),[n,r]=V.useState(!1),[a,o]=V.useState(!0);return V.useEffect(()=>{const u=zR($f,async h=>{if(e(h),!h){r(!1),o(!1);return}const p=(await h.getIdTokenResult(!0)).claims;r(p.admin===!0),o(!1)});return()=>u()},[]),{user:t,isAdmin:n,loading:a}}const WF=({user:t,isAdmin:e,handleSignIn:n,handleSignOut:r,name:a,setName:o,dupr:u,setDupr:h,imageUrl:d,setImageUrl:p,handleCreate:v,createStatus:b,createError:w,events:T,players:D,selectedEventId:k,setSelectedEventId:z,standingsList:J,setStandingsList:K,addPlayerToStandings:U,removeFromStandings:Y,moveUp:ne,moveDown:fe,handleSaveStandings:R,updateStatus:A,updateError:C})=>y.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-8",children:[y.jsx(ua,{as:"h1",children:"Admin"}),t?y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-fg-muted",children:"Signed in as"}),y.jsx("span",{className:"font-medium",children:t.displayName??t.email}),y.jsx(tr,{variant:e?"success":"default",children:e?"Admin":"User"})]}),y.jsx(gt,{variant:"ghost",onClick:r,children:"Sign out"})]}),!e&&y.jsx("div",{className:"rounded-lg border border-error bg-error-subtle p-4",children:y.jsx("p",{className:"text-sm text-error",children:"You are not an admin. Editing is disabled."})}),y.jsxs(ze,{children:[y.jsxs(Sf,{children:[y.jsx(Af,{children:"Add Player"}),y.jsx(If,{children:"Create a new player in the system."})]}),y.jsx(et,{children:y.jsxs("form",{onSubmit:v,className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ga,{htmlFor:"name",children:"Name"}),y.jsx(zc,{id:"name",value:a,onChange:j=>o(j.target.value),required:!0,placeholder:"Player name"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ga,{htmlFor:"dupr",children:"DUPR (optional)"}),y.jsx(zc,{id:"dupr",value:u,onChange:j=>h(j.target.value),inputMode:"decimal",placeholder:"3.5"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ga,{htmlFor:"imageUrl",children:"Image URL (optional)"}),y.jsx(zc,{id:"imageUrl",value:d,onChange:j=>p(j.target.value),placeholder:"https://..."})]}),y.jsx("div",{className:"flex items-center gap-3",children:y.jsx(gt,{type:"submit",variant:"primary",disabled:!e||b==="pending",loading:b==="pending",children:"Add player"})}),y.jsx(qy,{children:w&&`Error: ${String(w)}`})]})})]}),y.jsxs(ze,{children:[y.jsxs(Sf,{children:[y.jsx(Af,{children:"Create Event"}),y.jsx(If,{children:"Create a new Event (start date/time is required)."})]}),y.jsx(et,{children:y.jsx("p",{className:"text-sm text-fg-muted",children:"EventForm logic should be moved to container if needed."})})]}),y.jsxs(ze,{children:[y.jsxs(Sf,{children:[y.jsx(Af,{children:"Manage Event Standings"}),y.jsx(If,{children:"Select an event, build an ordered standings list of players, and save."})]}),y.jsx(et,{children:y.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ga,{htmlFor:"event",children:"Event"}),y.jsxs(Bv,{id:"event",value:k??"",onChange:j=>z(j.target.value||void 0),children:[y.jsx("option",{value:"",children:"(select an event)"}),T.map(j=>y.jsx("option",{value:j.id,children:j.name??j.id},j.id))]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ga,{children:"Players"}),y.jsx("div",{className:"max-h-56 overflow-auto rounded-lg border border-border",children:D.length===0?y.jsx("p",{className:"p-3 text-sm text-fg-muted",children:"No players found."}):y.jsx(Fy,{divided:!0,children:D.map(j=>y.jsxs(By,{className:"px-3",children:[y.jsx("span",{className:"text-sm",children:j.name}),y.jsx(gt,{size:"sm",variant:"ghost",onClick:()=>U(j.id),children:"Add"})]},j.id))})})]})]}),y.jsxs("div",{className:"space-y-4 md:col-span-2",children:[y.jsx(Ga,{children:"Standings (ordered)"}),y.jsxs("div",{className:"rounded-lg border border-border bg-bg-subtle p-3",children:[J.length===0?y.jsx("p",{className:"text-sm text-fg-muted",children:"No players in standings. Add players from the left."}):y.jsx(Fy,{divided:!0,children:J.map((j,M)=>{const F=D.find(O=>O.id===j);return y.jsxs(By,{children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("span",{className:"w-6 text-sm font-medium text-fg-muted",children:[M+1,"."]}),y.jsx("span",{className:"text-sm",children:F?F.name:j})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(gt,{size:"sm",variant:"ghost",onClick:()=>ne(M),disabled:M===0,children:""}),y.jsx(gt,{size:"sm",variant:"ghost",onClick:()=>fe(M),disabled:M===J.length-1,children:""}),y.jsx(gt,{size:"sm",variant:"destructive",onClick:()=>Y(M),children:"Remove"})]})]},`${j}-${M}`)})}),y.jsxs("div",{className:"mt-4 flex items-center gap-3 border-t border-border pt-4",children:[y.jsx(gt,{variant:"primary",onClick:R,disabled:!e||A==="pending"||!k,loading:A==="pending",children:"Save standings"}),y.jsx(gt,{variant:"secondary",onClick:()=>K([]),children:"Clear"})]}),y.jsx(qy,{className:"mt-2",children:C&&`Error: ${String(C)}`})]})]})]})})]})]}):y.jsx(ze,{className:"text-center",children:y.jsxs(et,{className:"py-12",children:[y.jsx("p",{className:"mb-6 text-fg-muted",children:"Sign in with a Google account to access admin features."}),y.jsx(gt,{variant:"primary",onClick:n,children:"Sign in with Google"})]})})]}),eB=()=>{const[t,e]=V.useState(null),n=new qs,{isAdmin:r}=ZN(),{create:a,status:o,error:u}=EF(),h=Do(),d=gu(),p=h.data??[],v=d.data??[],[b,w]=V.useState(void 0),[T,D]=V.useState([]),{data:k}=FN(b)??{},{update:z,status:J,error:K}=BN(),[U,Y]=V.useState(b),[ne,fe]=V.useState(k?.standings);V.useEffect(()=>{(b!==U||k?.standings!==ne)&&(Y(b),fe(k?.standings),k?.standings&&Array.isArray(k.standings)?D([...k.standings]):D([]))},[b,k?.standings]);const R=N=>{N&&D(Q=>[...Q,N])},A=N=>{D(Q=>Q.filter((ae,ue)=>ue!==N))},C=N=>{N<=0||D(Q=>{const ae=[...Q],ue=ae[N-1];return ae[N-1]=ae[N],ae[N]=ue,ae})},j=N=>{D(Q=>{if(N>=Q.length-1)return Q;const ae=[...Q],ue=ae[N+1];return ae[N+1]=ae[N],ae[N]=ue,ae})},M=async()=>{if(!r){alert("You are not authorized to update events.");return}if(!b){alert("Select an event first.");return}try{await z({id:b,standings:T}),alert("Standings saved.")}catch(N){console.error("Save standings failed",N),alert("Failed to save standings. See console for details.")}},[F,O]=V.useState(""),[Qe,Xe]=V.useState(""),[W,he]=V.useState(""),le=async N=>{if(N.preventDefault(),!r){alert("You are not authorized to add players.");return}try{const Q=Qe.trim()?Number(Qe):void 0,ae={name:F.trim(),...Q!==void 0&&!Number.isNaN(Q)?{dupr:Q}:{},...W.trim()?{imageUrl:W.trim()}:{},createdAt:new Date().toISOString()};await a(ae),O(""),Xe(""),he(""),alert("Player added.")}catch(Q){console.error("Create player failed",Q),alert("Failed to add player. See console for details.")}};V.useEffect(()=>{const N=zR($f,Q=>{e(Q)});return()=>N()},[]);const Me=async()=>{try{await _z($f,n)}catch(N){console.error("Google sign-in failed",N),alert("Sign-in failed. See console for details.")}},qe=async()=>{try{await W6($f)}catch(N){console.error("Sign-out failed",N),alert("Sign-out failed. See console for details.")}};return y.jsx(WF,{user:t,isAdmin:r,handleSignIn:Me,handleSignOut:qe,name:F,setName:O,dupr:Qe,setDupr:Xe,imageUrl:W,setImageUrl:he,handleCreate:le,createStatus:o,createError:u,events:p,players:v,selectedEventId:b,setSelectedEventId:w,standingsList:T,setStandingsList:D,addPlayerToStandings:R,removeFromStandings:A,moveUp:C,moveDown:j,handleSaveStandings:M,updateStatus:J,updateError:K})},YN=(t,e=5)=>{const n=e===5?4:5,r=(o,u)=>{if(o===0)return u;if(o<0||u>=7)return-1;const h=r(o-e,u+1);return h!==-1?h:r(o-n,u+1)},a=r(t,0);if(a<=0)throw new Error("Invalid number of players for court allocation");return a},tB=t=>{try{return YN(t,5),!0}catch{return!1}},Rm=(t,e,n=5)=>{const r=YN(t,n),a=Array.from({length:r},()=>({seeds:[]}));let o=0,u=1;if(e===1)for(let h=1;h<=t;h++)a[o].seeds.push(h),o+=u,(o===r||o===-1)&&(u*=-1,o+=u);else if(e===2){const h=Math.floor(t/r);let d=t%r,p=1;for(let v=0;v<r;v++){const b=h+(d>0?1:0);for(let w=0;w<b;w++)a[v].seeds.push(p++);d>0&&d--}}return a},nB=(t,e,n=5)=>{const r=t.length;return Rm(r,e,n).map((u,h)=>{const d=u.seeds.map(p=>t[p-1]);return{courtNumber:h+1,playerIds:d,roundNumber:e}})},rB=t=>{const{roundNumber:e,playerIds:n}=t;if(n.length===4){const[r,a,o,u]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:u}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:u}},{team1:{player1Id:r,player2Id:u},team2:{player1Id:a,player2Id:o}}].map(d=>({...d,roundNumber:e}))}if(n.length===5){const[r,a,o,u,h]=n;return[{team1:{player1Id:r,player2Id:a},team2:{player1Id:o,player2Id:u}},{team1:{player1Id:a,player2Id:o},team2:{player1Id:u,player2Id:h}},{team1:{player1Id:r,player2Id:o},team2:{player1Id:a,player2Id:h}},{team1:{player1Id:r,player2Id:u},team2:{player1Id:o,player2Id:h}},{team1:{player1Id:r,player2Id:h},team2:{player1Id:a,player2Id:u}}].map(p=>({...p,roundNumber:e}))}throw new Error("Invalid number of players for game generation")},sB=(t,e,n)=>n===2&&t.courtNumber!==e.courtNumber?t.courtNumber-e.courtNumber:t.pointWinRate!==e.pointWinRate?e.pointWinRate-t.pointWinRate:t.seed-e.seed;function op(t,e){if(!t?.length)return[];if(![1,2,3].includes(e))return[];const n=t.reduce((u,h)=>u+h.playerIds.length,0),r=Rm(n,e),a=t.flatMap((u,h)=>{const d=u.playerIds.map((p,v)=>({id:p,courtNumber:u.courtNumber,wins:0,losses:0,pointDifferential:0,pointsEarned:0,pointsAgainst:0,pointWinRate:0,seed:r[h].seeds[v],roundPlace:0,nextCourt:0}));for(const p of u.games){const{team1:v,team2:b,team1Score:w,team2Score:T}=p,D=(U,Y,ne,fe)=>{if(Y===void 0||ne===void 0)return;const R=Y>ne||Y===ne&&fe;U.wins+=R?1:0,U.losses+=R?0:1,U.pointsEarned+=Y,U.pointsAgainst+=ne;const A=Y+ne;U.pointWinRate=A===0?0:U.pointsEarned/A,U.pointDifferential+=Y-ne},k=d.find(U=>U.id===v.player1Id),z=d.find(U=>U.id===v.player2Id),J=d.find(U=>U.id===b.player1Id),K=d.find(U=>U.id===b.player2Id);D(k,w,T,!0),D(z,w,T,!0),D(J,T,w,!1),D(K,T,w,!1)}return d}),o=(u,h)=>sB(u,h,e);if(a.sort(o),a.forEach((u,h)=>{u.roundPlace=h+1}),e===1){const u=t.reduce((d,p)=>d+p.playerIds.length,0),h=Rm(u,2);a.forEach(d=>{const p=h.findIndex(v=>v.seeds.includes(d.roundPlace));d.nextCourt=p+1})}return a}const L1=(t,e)=>{const{data:n}=qN(t),{data:r}=$N(t);return V.useMemo(()=>{if(typeof e!="number"||![1,2].includes(e)||!n||!r||n.length===0)return;const o=n.reduce((d,p)=>d+p.playerIds.length,0),u=Rm(o,e),h=n.filter(d=>d.roundNumber===e).sort((d,p)=>d.courtNumber-p.courtNumber).map((d,p)=>({...d,seeds:u[p].seeds,games:r.filter(v=>v.courtId===d.id)}));if(h.length!==0)return{roundNumber:e,courts:h,standings:op(h,e).map(d=>d.id)}},[n,r,e])},iB=t=>{const{data:e}=Do(),[n,r]=V.useState(t),a=t??n,{data:o}=TF(a),{update:u}=BN(),h=L1(a,1),d=L1(a,2),p=V.useCallback(N=>{const Q=N===1?h:d;return Q!==void 0&&Q.courts.length>0},[h,d]),v=V.useCallback(N=>{const Q=N===1?h:d;return Q?Q.courts.every(ae=>ae.games.every(ue=>ue.team1Score!==void 0&&ue.team2Score!==void 0)):!1},[h,d]),b=V.useMemo(()=>o?.ongoingStage||1,[o]),[w,T]=QN("stage",b),D=V.useCallback(N=>{T(typeof N=="string"?N:N.toString())},[T]),k=V.useMemo(()=>{if(w==="initial"||w==="standings")return w;const N=parseInt(w,10);return[1,2,3].includes(N)?N:b},[w,b]),z=V.useCallback(N=>{o&&u({id:o.id,ongoingStage:N})},[o,u]),{create:J}=SF(a),{create:K}=IF(a),{update:U}=RF(a),{data:Y=[]}=$N(a),{remove:ne}=NF(a),{data:fe=[]}=qN(a),{remove:R}=AF(a),A=V.useCallback(async()=>{if(window.confirm("Are you sure you want to clear all data and start over?")&&n){for(const N of Y||[])await ne(N.id);for(const N of fe||[])await R(N.id);z(1),D(1)}},[n,z,D,Y,ne,fe,R]),C=V.useCallback(async(N,Q)=>{if(p(Q)){console.error(`Round ${Q} has already been created.`);return}if(tB(N.length)===!1){console.error(`Invalid number of players: ${N.length}. Must be between 8 and 35 players.`);return}const ae=nB(N,Q);for(const ue of ae){const we=await J(ue),Re=rB(ue);for(const xe of Re)await K({courtId:we,...xe});z(Q),D(Q)}},[p,J,z,D,K]),j=GN(),M=V.useCallback(async N=>{const Q=N.sort((ae,ue)=>{const we=j.find(xe=>xe.playerId===ae);return(j.find(xe=>xe.playerId===ue)?.points||0)-(we?.points||0)});await C(Q,1)},[C,j]),F=V.useCallback(async()=>{if(!v(1)){alert("Cannot advance to round 2: round 1 is not complete.");return}if(p(2)){alert("Round 2 has already been created.");return}if(!h?.courts||h.courts.length===0){alert("No courts available from round 1 to advance to round 2.");return}const N=op(h.courts,1);await C(N.map(Q=>Q.id),2),D(2),z(2)},[v,p,h,D,z,C]),O=()=>{if(!o){alert("No event selected to finalize.");return}if(!d){alert("Cannot finalize event: round 2 data is missing.");return}if(!v(2)){alert("Cannot finalize event: round 2 is not complete.");return}o.standings&&o.standings.length>0&&window.confirm("Standings already exist. Overwrite?")===!1||(u({id:o.id,standings:d.standings}),D("standings"))},Qe=V.useMemo(()=>Y?.filter(N=>N.team1Score!==void 0&&N.team2Score!==void 0).length||0,[Y]),Xe=V.useMemo(()=>Y?.length||1,[Y]),W=Math.round(Qe/Math.max(1,Xe)*100),he=V.useCallback((N,Q,ae)=>{U({id:N,[Q]:ae})},[U]),le=V.useMemo(()=>p(2)===!1,[p]),Me=V.useMemo(()=>o?.standings===void 0||o.standings.length===0,[o]),qe=V.useMemo(()=>p(1)===!1,[p]);return{events:e,selectedEventId:a,setSelectedEventId:r,round1:h,round2:d,needsInitialization:qe,event:o,currentView:k,setCurrentView:D,completedMatches:Qe,totalMatches:Xe,progressPercent:W,handleScoreChange:he,areRound1UpdatesAllowed:le,areRound2UpdatesAllowed:Me,initializeRoundOne:M,advanceToRoundTwo:F,finalizeEvent:O,resetAll:A,apiError:null}},aB=({court:t,courtPlayers:e,highlightedPlayerId:n,isAdmin:r,expanded:a,onToggleExpand:o,completedGamesForCourt:u,totalGamesForCourt:h,handleScoreChange:d,isEditable:p,courtPlayerStats:v,players:b})=>{const w=t.playerIds.some(T=>T===n);return y.jsx(ze,{id:`court-${t.id}`,className:Be(w&&"ring-2 ring-accent"),children:y.jsxs(et,{children:[y.jsxs("button",{type:"button",className:"w-full flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between text-left",onClick:o,"aria-expanded":a,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-accent-subtle",children:y.jsx("span",{className:"text-lg font-bold text-accent",children:t.courtNumber})}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-semibold text-fg",children:["Court ",t.courtNumber]}),y.jsxs("div",{className:"flex items-center gap-2 text-xs text-fg-muted",children:[y.jsxs("span",{children:[t.playerIds.length," players"]}),y.jsx("span",{children:""}),y.jsx("span",{children:t.playerIds.length===4?"First to 15":t.playerIds.length===5?"First to 11":""})]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"flex -space-x-2",children:e.slice(0,5).map(T=>y.jsx(Ll,{src:T.imageUrl,alt:T.name,size:"sm",className:"border-2 border-bg-subtle"},T.id))}),y.jsxs(tr,{variant:u===h?"success":"default",children:[u,"/",h," games"]}),y.jsx(bS,{className:Be("h-5 w-5 text-fg-muted transition-transform",a&&"rotate-180")})]})]}),a&&y.jsxs("div",{className:"mt-4 space-y-4",children:[y.jsxs("div",{className:"rounded-md border border-border overflow-hidden",children:[y.jsx("div",{className:"bg-bg-muted px-3 py-2 text-xs font-medium text-fg-muted",children:"Player Stats"}),y.jsx("div",{className:"divide-y divide-border",children:v.map(T=>{const D=b.find(k=>k.id===T.playerId);return y.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ll,{src:D?.imageUrl,alt:D?.name||"",size:"sm"}),y.jsx("span",{className:"text-sm font-medium text-fg",children:D?.name})]}),y.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[y.jsxs("span",{className:"text-success",children:[T.wins,"W"]}),y.jsxs("span",{className:"text-error",children:[T.losses,"L"]}),y.jsxs("span",{className:"text-fg-muted",children:["+",T.pointsFor," / -",T.pointsAgainst]})]})]},T.playerId)})})]}),y.jsx("div",{className:"space-y-3",children:t.games.map((T,D)=>{const k=b.find(ne=>ne.id===T.team1.player1Id),z=b.find(ne=>ne.id===T.team1.player2Id),J=b.find(ne=>ne.id===T.team2.player1Id),K=b.find(ne=>ne.id===T.team2.player2Id),U=typeof T.team1Score=="number"&&typeof T.team2Score=="number"&&T.team1Score>T.team2Score,Y=typeof T.team1Score=="number"&&typeof T.team2Score=="number"&&T.team2Score>T.team1Score;return y.jsxs("div",{className:"rounded-md border border-border overflow-hidden",children:[y.jsxs("div",{className:"bg-bg-muted px-3 py-1.5 text-xs font-medium text-fg-muted",children:["Game ",D+1]}),y.jsxs("div",{className:Be("flex items-center justify-between px-3 py-2 border-b border-border",U&&"bg-success-subtle"),children:[y.jsxs("div",{className:"space-y-0.5",children:[y.jsx("div",{className:"text-sm font-medium text-fg",children:k?.name}),y.jsx("div",{className:"text-sm font-medium text-fg",children:z?.name})]}),y.jsx("div",{className:"text-right",children:r&&p?y.jsx("input",{type:"number",className:"w-14 rounded border border-border bg-bg px-2 py-1 text-center text-lg font-bold text-fg",value:T.team1Score??"",onChange:ne=>d(T.id,"team1Score",Number(ne.target.value))}):y.jsx("span",{className:"text-xl font-bold text-fg",children:T.team1Score??"-"})})]}),y.jsxs("div",{className:Be("flex items-center justify-between px-3 py-2",Y&&"bg-success-subtle"),children:[y.jsxs("div",{className:"space-y-0.5",children:[y.jsx("div",{className:"text-sm font-medium text-fg",children:J?.name}),y.jsx("div",{className:"text-sm font-medium text-fg",children:K?.name})]}),y.jsx("div",{className:"text-right",children:r&&p?y.jsx("input",{type:"number",className:"w-14 rounded border border-border bg-bg px-2 py-1 text-center text-lg font-bold text-fg",value:T.team2Score??"",onChange:ne=>d(T.id,"team2Score",Number(ne.target.value))}):y.jsx("span",{className:"text-xl font-bold text-fg",children:T.team2Score??"-"})})]})]},T.id)})})]})]})})},oB=({court:t,players:e,roundNumber:n,highlightedPlayerId:r,isAdmin:a,handleScoreChange:o})=>{const[u,h]=V.useState(!0),{data:d=[]}=gu(),p=op([t],n),v=t.games.filter(D=>D.roundNumber===n&&D.team1Score!==void 0&&D.team2Score!==void 0).length,b=t.games.filter(D=>D.roundNumber===n).length,w=n===1&&(typeof window.areRound1UpdatesAllowed=="boolean"?window.areRound1UpdatesAllowed:!0)||n===2&&(typeof window.areRound2UpdatesAllowed=="boolean"?window.areRound2UpdatesAllowed:!0),T=t.playerIds.map(D=>d.find(k=>k.id===D)).filter(Boolean);return y.jsx(aB,{court:t,courtPlayers:T,roundNumber:n,highlightedPlayerId:r,isAdmin:a,expanded:u,onToggleExpand:()=>h(D=>!D),completedGamesForCourt:v,totalGamesForCourt:b,handleScoreChange:o,isEditable:w,courtPlayerStats:p,players:d})};function lB(t){return t?t.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"}):""}function uB(t){return t?t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):""}const cB=({event:t,eventLoading:e,players:n,isAdmin:r,challenge:a,selectedPlayerIds:o,searchTerm:u,setSearchTerm:h,isInitializing:d,highlightedPlayerId:p,setHighlightedPlayerId:v,filteredPlayers:b,handlePlayerToggle:w,handleInitializeRound:T,handleAdvanceToRoundTwo:D,handleFinalizeEvent:k,calculatePlayerRankings:z,getPointsForRank:J})=>{if(e)return y.jsx("div",{className:"flex min-h-[400px] items-center justify-center",children:y.jsx(ze,{className:"max-w-md text-center",children:y.jsxs(et,{className:"py-12",children:[y.jsx("div",{className:"mx-auto mb-6 h-12 w-12 animate-spin rounded-full border-4 border-border border-t-accent"}),y.jsx("h2",{className:"text-xl font-semibold text-fg mb-2",children:"Loading Event"}),y.jsx("p",{className:"text-fg-muted",children:"Please wait while we fetch the event details..."})]})})});if(!t)return y.jsx("div",{className:"flex min-h-[400px] items-center justify-center",children:y.jsx(ze,{className:"max-w-lg text-center",children:y.jsxs(et,{className:"py-12",children:[y.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-error-subtle",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsx("h1",{className:"text-2xl font-bold text-fg mb-2",children:"Event Not Found"}),y.jsxs("p",{className:"text-fg-muted mb-6",children:["The event ID"," ",y.jsx("code",{className:"rounded bg-bg-muted px-2 py-1 font-mono text-sm",children:a?.eventId||"(empty)"})," ","does not match any scheduled event."]}),y.jsx(At,{to:"/schedule",children:y.jsx(gt,{variant:"primary",icon:y.jsx(ow,{className:"h-4 w-4"}),children:"Back to Schedule"})})]})})});const K=a.currentView===1?a.round1:a.currentView===2?a.round2:null;return y.jsxs("div",{className:"space-y-6",children:[y.jsxs(At,{to:"/schedule",className:"inline-flex items-center gap-2 text-sm text-fg-muted hover:text-fg transition-colors",children:[y.jsx(ow,{className:"h-4 w-4"}),"Back to Schedule"]}),y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[y.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-accent-subtle",children:y.jsx(ra,{className:"h-6 w-6 text-accent"})}),y.jsx("div",{children:y.jsx("h1",{className:"text-2xl font-bold text-fg",children:t.name})})]}),y.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[y.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border p-3",children:[y.jsx(ra,{className:"h-4 w-4 text-fg-muted"}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xs text-fg-muted",children:"Date"}),y.jsx("div",{className:"font-medium text-fg",children:lB(t.startDateTime)})]})]}),y.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border p-3",children:[y.jsx(Yc,{className:"h-4 w-4 text-fg-muted"}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xs text-fg-muted",children:"Time"}),y.jsx("div",{className:"font-medium text-fg",children:uB(t.startDateTime)})]})]}),y.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border p-3",children:[y.jsx(ES,{className:"h-4 w-4 text-fg-muted"}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xs text-fg-muted",children:"Location"}),y.jsx("div",{className:"font-medium text-fg",children:t.location??"TBD"})]})]})]})]})}),r&&a.needsInitialization&&y.jsx(ze,{children:y.jsxs(et,{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent-subtle",children:y.jsx(zk,{className:"h-5 w-5 text-accent"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-fg",children:"Initialize Event"}),y.jsx("p",{className:"text-sm text-fg-muted",children:"Select 8-35 players to start"})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx(zc,{placeholder:"Search players by name...",value:u,onChange:U=>h(U.target.value)}),y.jsx("div",{className:"text-center",children:y.jsxs(tr,{variant:o.length>=8&&o.length<=35?"success":"warning",children:[o.length," / 35 players selected",o.length<8&&" (minimum 8)"]})}),y.jsx("div",{className:"grid gap-2 sm:grid-cols-2 md:grid-cols-3 max-h-80 overflow-y-auto",children:b.map(U=>{const Y=o.includes(U.id||"");return y.jsxs("button",{type:"button",onClick:()=>w(U.id||""),className:`flex items-center gap-3 rounded-lg border p-3 text-left transition-colors ${Y?"border-accent bg-accent-subtle":"border-border hover:bg-bg-subtle"}`,children:[y.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border ${Y?"border-accent bg-accent":"border-border"}`,children:Y&&y.jsx(xS,{className:"h-3 w-3 text-white"})}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("div",{className:"font-medium text-fg truncate",children:U.name}),U.dupr&&y.jsxs("div",{className:"text-xs text-fg-muted",children:["DUPR: ",U.dupr]})]})]},U.id)})}),y.jsx("div",{className:"text-center pt-4",children:y.jsx(gt,{variant:"primary",icon:y.jsx(wk,{className:"h-4 w-4"}),onClick:T,disabled:o.length<8||o.length>35||d,loading:d,children:"Initialize Round 1"})})]})]})}),!a.needsInitialization&&y.jsx(ze,{padding:"sm",children:y.jsx(et,{children:y.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[y.jsx("div",{className:"flex items-center gap-2",children:[1,2,"standings"].map(U=>{const Y=a.currentView===U,ne=U===1||U===2&&a.round1||U==="standings"&&a.round2;return y.jsx(gt,{variant:Y?"primary":"ghost",size:"sm",onClick:()=>a.setCurrentView(U),disabled:!ne,children:U==="standings"?"Final Standings":`Round ${U}`},String(U))})}),y.jsxs("div",{className:"text-sm text-fg-muted",children:[a.completedMatches,"/",a.totalMatches," matches (",a.progressPercent,"%)"]})]})})}),!a.needsInitialization&&K&&y.jsx($P,{players:n.filter(U=>K.courts.some(Y=>Y.playerIds.includes(U.id||""))),onPlayerSelect:U=>{v(U);const Y=K.courts.find(ne=>ne.playerIds.includes(U));Y&&document.getElementById(`court-${Y.id}`)?.scrollIntoView({behavior:"smooth",block:"center"})},onClear:()=>v(null),placeholder:"Find a player on the courts...",className:"mb-4"}),K&&y.jsxs("div",{className:"space-y-4",children:[(()=>{const U=z(K.courts,a.currentView),Y=K.courts.flatMap(fe=>fe.games.filter(R=>R.roundNumber===a.currentView)),ne=Y.filter(fe=>fe.team1Score!==void 0&&fe.team2Score!==void 0).length;return y.jsx(BP,{roundNumber:a.currentView,playerRankings:U,players:n,completedGames:ne,totalGames:Y.length})})(),y.jsx(ze,{padding:"sm",children:y.jsx(et,{children:y.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-success-subtle",children:y.jsx(Lv,{className:"h-4 w-4 text-success"})}),y.jsxs("div",{children:[y.jsxs("h2",{className:"font-semibold text-fg",children:["Round ",a.currentView," Courts"]}),y.jsxs("p",{className:"text-sm text-fg-muted",children:[K.courts.length," courts"]})]})]}),r&&y.jsxs("div",{className:"flex gap-2",children:[y.jsx(gt,{variant:"ghost",size:"sm",icon:y.jsx(Ik,{className:"h-4 w-4"}),onClick:a.resetAll,children:"Reset"}),a.currentView===1&&a.round1&&y.jsx(gt,{variant:"primary",size:"sm",icon:y.jsx(Vc,{className:"h-4 w-4"}),iconPosition:"right",onClick:D,disabled:!a.round1.courts.every(U=>U.games.every(Y=>Y.team1Score!==void 0&&Y.team2Score!==void 0)),children:"Advance to Round 2"}),a.currentView===2&&a.round2&&y.jsx(gt,{variant:"primary",size:"sm",icon:y.jsx(er,{className:"h-4 w-4"}),onClick:k,disabled:!a.round2.courts.every(U=>U.games.every(Y=>Y.team1Score!==void 0&&Y.team2Score!==void 0)),children:"Finalize Event"})]})]})})}),y.jsx("div",{className:"grid gap-4",children:K.courts.map(U=>y.jsx(oB,{court:U,players:n,roundNumber:a.currentView,highlightedPlayerId:p,isAdmin:r,handleScoreChange:a.handleScoreChange},U.id))})]}),a.currentView==="standings"&&t.standings&&y.jsx(ze,{children:y.jsxs(et,{children:[y.jsx(ua,{as:"h2",children:"Final Standings"}),y.jsx(KN,{data:t.standings.map((U,Y)=>({playerId:U,rank:Y+1,points:J(Y+1)})),players:n,showEvents:!1,showPoints:!0,className:"rounded-lg border border-border",pointsRenderer:(U,Y,ne)=>y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("div",{className:"flex items-center gap-1 font-semibold text-success",children:[y.jsx(Sk,{className:"h-4 w-4"}),J(ne+1).toLocaleString()]}),y.jsx("div",{className:"text-xs text-fg-muted",children:"points"})]}),rowClassName:(U,Y)=>Y===0?"bg-warning-subtle":Y===1?"bg-bg-muted":Y===2?"bg-bg-subtle":""})]})})]})},hB=()=>{const{id:t}=eS(),e=t?decodeURIComponent(t):"",{data:n,isLoading:r}=FN(e),{data:a=[]}=gu(),{isAdmin:o}=ZN(),u=iB(e),[h,d]=V.useState([]),[p,v]=V.useState(""),[b,w]=V.useState(!1),[T,D]=V.useState(null),k=V.useMemo(()=>a.filter(Y=>Y.name.toLowerCase().includes(p.toLowerCase())).sort((Y,ne)=>Y.name.localeCompare(ne.name)),[a,p]),z=Y=>{d(ne=>ne.includes(Y)?ne.filter(fe=>fe!==Y):[...ne,Y])},J=async()=>{if(h.length<8||h.length>35){alert("Please select between 8-35 players");return}w(!0);try{await u.initializeRoundOne(h),d([])}catch(Y){console.error("Failed to initialize round:",Y),alert("Failed to initialize round. Please try again.")}finally{w(!1)}},K=async()=>{if(window.confirm("Are you sure you want to advance to Round 2? This cannot be undone."))try{await u.advanceToRoundTwo()}catch(Y){console.error("Failed to advance to round 2:",Y),alert("Failed to advance to Round 2. Please try again.")}},U=()=>{window.confirm("Are you sure you want to finalize this event? Final standings will be published.")&&u.finalizeEvent()};return y.jsx(cB,{event:n,eventLoading:r,players:a,isAdmin:o,challenge:u,selectedPlayerIds:h,searchTerm:p,setSearchTerm:v,isInitializing:b,highlightedPlayerId:T,setHighlightedPlayerId:D,filteredPlayers:k,handlePlayerToggle:z,handleInitializeRound:J,handleAdvanceToRoundTwo:K,handleFinalizeEvent:U,calculatePlayerRankings:op,getPointsForRank:ps})},dB=()=>y.jsx(GP,{children:y.jsxs(PD,{children:[y.jsx($i,{path:"/",element:y.jsx(zF,{})}),y.jsx($i,{path:"/standings",element:y.jsx(BF,{})}),y.jsx($i,{path:"/schedule",element:y.jsx(JF,{})}),y.jsx($i,{path:"/player/:id",element:y.jsx(QF,{})}),y.jsx($i,{path:"/format",element:y.jsx($F,{})}),y.jsx($i,{path:"/admin",element:y.jsx(eB,{})}),y.jsx($i,{path:"/event/:id",element:y.jsx(hB,{})})]})}),fB=new VO;V2.createRoot(document.getElementById("root")).render(y.jsx(V.StrictMode,{children:y.jsx(zO,{client:fB,children:y.jsx(sO,{children:y.jsx(dB,{})})})}));
