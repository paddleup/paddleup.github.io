(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function pC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wg={exports:{}},pu={};var Sw;function gC(){if(Sw)return pu;Sw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:o}}return pu.Fragment=e,pu.jsx=n,pu.jsxs=n,pu}var Aw;function yC(){return Aw||(Aw=1,Wg.exports=gC()),Wg.exports}var g=yC(),ey={exports:{}},je={};var Iw;function vC(){if(Iw)return je;Iw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function A(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,V={};function Y(C,Z,ie){this.props=C,this.context=Z,this.refs=V,this.updater=ie||M}Y.prototype.isReactComponent={},Y.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},Y.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Q(){}Q.prototype=Y.prototype;function J(C,Z,ie){this.props=C,this.context=Z,this.refs=V,this.updater=ie||M}var ae=J.prototype=new Q;ae.constructor=J,D(ae,Y.prototype),ae.isPureReactComponent=!0;var le=Array.isArray;function me(){}var N={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function R(C,Z,ie){var he=ie.ref;return{$$typeof:t,type:C,key:Z,ref:he!==void 0?he:null,props:ie}}function O(C,Z){return R(C.type,Z,C.props)}function P(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function U(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ie){return Z[ie]})}var k=/\/+/g;function Se(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?U(""+C.key):Z.toString(36)}function Ue(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(me,me):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function $(C,Z,ie,he,Ie){var Oe=typeof C;(Oe==="undefined"||Oe==="boolean")&&(C=null);var Ae=!1;if(C===null)Ae=!0;else switch(Oe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(C.$$typeof){case t:case e:Ae=!0;break;case v:return Ae=C._init,$(Ae(C._payload),Z,ie,he,Ie)}}if(Ae)return Ie=Ie(C),Ae=he===""?"."+Se(C,0):he,le(Ie)?(ie="",Ae!=null&&(ie=Ae.replace(k,"$&/")+"/"),$(Ie,Z,ie,"",function(nr){return nr})):Ie!=null&&(P(Ie)&&(Ie=O(Ie,ie+(Ie.key==null||C&&C.key===Ie.key?"":(""+Ie.key).replace(k,"$&/")+"/")+Ae)),Z.push(Ie)),1;Ae=0;var Nt=he===""?".":he+":";if(le(C))for(var rt=0;rt<C.length;rt++)he=C[rt],Oe=Nt+Se(he,rt),Ae+=$(he,Z,ie,Oe,Ie);else if(rt=A(C),typeof rt=="function")for(C=rt.call(C),rt=0;!(he=C.next()).done;)he=he.value,Oe=Nt+Se(he,rt++),Ae+=$(he,Z,ie,Oe,Ie);else if(Oe==="object"){if(typeof C.then=="function")return $(Ue(C),Z,ie,he,Ie);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function ce(C,Z,ie){if(C==null)return C;var he=[],Ie=0;return $(C,he,"","",function(Oe){return Z.call(ie,Oe,Ie++)}),he}function oe(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(ie){(C._status===0||C._status===-1)&&(C._status=1,C._result=ie)},function(ie){(C._status===0||C._status===-1)&&(C._status=2,C._result=ie)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var Me=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Re={map:ce,forEach:function(C,Z,ie){ce(C,function(){Z.apply(this,arguments)},ie)},count:function(C){var Z=0;return ce(C,function(){Z++}),Z},toArray:function(C){return ce(C,function(Z){return Z})||[]},only:function(C){if(!P(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return je.Activity=_,je.Children=Re,je.Component=Y,je.Fragment=n,je.Profiler=a,je.PureComponent=J,je.StrictMode=r,je.Suspense=d,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,je.__COMPILER_RUNTIME={__proto__:null,c:function(C){return N.H.useMemoCache(C)}},je.cache=function(C){return function(){return C.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(C,Z,ie){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var he=D({},C.props),Ie=C.key;if(Z!=null)for(Oe in Z.key!==void 0&&(Ie=""+Z.key),Z)!T.call(Z,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&Z.ref===void 0||(he[Oe]=Z[Oe]);var Oe=arguments.length-2;if(Oe===1)he.children=ie;else if(1<Oe){for(var Ae=Array(Oe),Nt=0;Nt<Oe;Nt++)Ae[Nt]=arguments[Nt+2];he.children=Ae}return R(C.type,Ie,he)},je.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},je.createElement=function(C,Z,ie){var he,Ie={},Oe=null;if(Z!=null)for(he in Z.key!==void 0&&(Oe=""+Z.key),Z)T.call(Z,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ie[he]=Z[he]);var Ae=arguments.length-2;if(Ae===1)Ie.children=ie;else if(1<Ae){for(var Nt=Array(Ae),rt=0;rt<Ae;rt++)Nt[rt]=arguments[rt+2];Ie.children=Nt}if(C&&C.defaultProps)for(he in Ae=C.defaultProps,Ae)Ie[he]===void 0&&(Ie[he]=Ae[he]);return R(C,Oe,Ie)},je.createRef=function(){return{current:null}},je.forwardRef=function(C){return{$$typeof:h,render:C}},je.isValidElement=P,je.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:oe}},je.memo=function(C,Z){return{$$typeof:p,type:C,compare:Z===void 0?null:Z}},je.startTransition=function(C){var Z=N.T,ie={};N.T=ie;try{var he=C(),Ie=N.S;Ie!==null&&Ie(ie,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(me,Me)}catch(Oe){Me(Oe)}finally{Z!==null&&ie.types!==null&&(Z.types=ie.types),N.T=Z}},je.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},je.use=function(C){return N.H.use(C)},je.useActionState=function(C,Z,ie){return N.H.useActionState(C,Z,ie)},je.useCallback=function(C,Z){return N.H.useCallback(C,Z)},je.useContext=function(C){return N.H.useContext(C)},je.useDebugValue=function(){},je.useDeferredValue=function(C,Z){return N.H.useDeferredValue(C,Z)},je.useEffect=function(C,Z){return N.H.useEffect(C,Z)},je.useEffectEvent=function(C){return N.H.useEffectEvent(C)},je.useId=function(){return N.H.useId()},je.useImperativeHandle=function(C,Z,ie){return N.H.useImperativeHandle(C,Z,ie)},je.useInsertionEffect=function(C,Z){return N.H.useInsertionEffect(C,Z)},je.useLayoutEffect=function(C,Z){return N.H.useLayoutEffect(C,Z)},je.useMemo=function(C,Z){return N.H.useMemo(C,Z)},je.useOptimistic=function(C,Z){return N.H.useOptimistic(C,Z)},je.useReducer=function(C,Z,ie){return N.H.useReducer(C,Z,ie)},je.useRef=function(C){return N.H.useRef(C)},je.useState=function(C){return N.H.useState(C)},je.useSyncExternalStore=function(C,Z,ie){return N.H.useSyncExternalStore(C,Z,ie)},je.useTransition=function(){return N.H.useTransition()},je.version="19.2.3",je}var Nw;function _v(){return Nw||(Nw=1,ey.exports=vC()),ey.exports}var L=_v();const Uu=pC(L);var ty={exports:{}},gu={},ny={exports:{}},ry={};var Rw;function _C(){return Rw||(Rw=1,(function(t){function e($,ce){var oe=$.length;$.push(ce);e:for(;0<oe;){var Me=oe-1>>>1,Re=$[Me];if(0<a(Re,ce))$[Me]=ce,$[oe]=Re,oe=Me;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ce=$[0],oe=$.pop();if(oe!==ce){$[0]=oe;e:for(var Me=0,Re=$.length,C=Re>>>1;Me<C;){var Z=2*(Me+1)-1,ie=$[Z],he=Z+1,Ie=$[he];if(0>a(ie,oe))he<Re&&0>a(Ie,ie)?($[Me]=Ie,$[he]=oe,Me=he):($[Me]=ie,$[Z]=oe,Me=Z);else if(he<Re&&0>a(Ie,oe))$[Me]=Ie,$[he]=oe,Me=he;else break e}}return ce}function a($,ce){var oe=$.sortIndex-ce.sortIndex;return oe!==0?oe:$.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],p=[],v=1,_=null,E=3,A=!1,M=!1,D=!1,V=!1,Y=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ae($){for(var ce=n(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=$)r(p),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(p)}}function le($){if(D=!1,ae($),!M)if(n(d)!==null)M=!0,me||(me=!0,U());else{var ce=n(p);ce!==null&&Ue(le,ce.startTime-$)}}var me=!1,N=-1,T=5,R=-1;function O(){return V?!0:!(t.unstable_now()-R<T)}function P(){if(V=!1,me){var $=t.unstable_now();R=$;var ce=!0;try{e:{M=!1,D&&(D=!1,Q(N),N=-1),A=!0;var oe=E;try{t:{for(ae($),_=n(d);_!==null&&!(_.expirationTime>$&&O());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,E=_.priorityLevel;var Re=Me(_.expirationTime<=$);if($=t.unstable_now(),typeof Re=="function"){_.callback=Re,ae($),ce=!0;break t}_===n(d)&&r(d),ae($)}else r(d);_=n(d)}if(_!==null)ce=!0;else{var C=n(p);C!==null&&Ue(le,C.startTime-$),ce=!1}}break e}finally{_=null,E=oe,A=!1}ce=void 0}}finally{ce?U():me=!1}}}var U;if(typeof J=="function")U=function(){J(P)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Se=k.port2;k.port1.onmessage=P,U=function(){Se.postMessage(null)}}else U=function(){Y(P,0)};function Ue($,ce){N=Y(function(){$(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function($){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var oe=E;E=ce;try{return $()}finally{E=oe}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function($,ce){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var oe=E;E=$;try{return ce()}finally{E=oe}},t.unstable_scheduleCallback=function($,ce,oe){var Me=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Me+oe:Me):oe=Me,$){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=oe+Re,$={id:v++,callback:ce,priorityLevel:$,startTime:oe,expirationTime:Re,sortIndex:-1},oe>Me?($.sortIndex=oe,e(p,$),n(d)===null&&$===n(p)&&(D?(Q(N),N=-1):D=!0,Ue(le,oe-Me))):($.sortIndex=Re,e(d,$),M||A||(M=!0,me||(me=!0,U()))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var ce=E;return function(){var oe=E;E=ce;try{return $.apply(this,arguments)}finally{E=oe}}}})(ry)),ry}var Cw;function bC(){return Cw||(Cw=1,ny.exports=_C()),ny.exports}var sy={exports:{}},vn={};var Dw;function xC(){if(Dw)return vn;Dw=1;var t=_v();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,vn.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,v)},vn.flushSync=function(d){var p=c.T,v=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=p,r.p=v,r.d.f()}},vn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},vn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},vn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var v=p.as,_=h(v,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:A}):v==="script"&&r.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},vn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=h(v,p.crossOrigin);r.d.L(d,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vn.preloadModule=function(d,p){if(typeof d=="string")if(p){var v=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},vn.requestFormReset=function(d){r.d.r(d)},vn.unstable_batchedUpdates=function(d,p){return d(p)},vn.useFormState=function(d,p,v){return c.H.useFormState(d,p,v)},vn.useFormStatus=function(){return c.H.useHostTransitionStatus()},vn.version="19.2.3",vn}var kw;function wC(){if(kw)return sy.exports;kw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sy.exports=xC(),sy.exports}var Ow;function EC(){if(Ow)return gu;Ow=1;var t=bC(),e=_v(),n=wC();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function c(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function p(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,u=i;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return d(m),s;if(y===u)return d(m),i;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=m,u=y;else{for(var x=!1,S=m.child;S;){if(S===l){x=!0,l=m,u=y;break}if(S===u){x=!0,u=m,l=y;break}S=S.sibling}if(!x){for(S=y.child;S;){if(S===l){x=!0,l=y,u=m;break}if(S===u){x=!0,u=y,l=m;break}S=S.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function v(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=v(s),i!==null)return i;s=s.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case Y:return"Profiler";case V:return"StrictMode";case le:return"Suspense";case me:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case J:return s.displayName||"Context";case Q:return(s._context.displayName||"Context")+".Consumer";case ae:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return i=s.displayName||null,i!==null?i:Se(s.type)||"Memo";case T:i=s._payload,s=s._init;try{return Se(s(i))}catch{}}return null}var Ue=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Me=[],Re=-1;function C(s){return{current:s}}function Z(s){0>Re||(s.current=Me[Re],Me[Re]=null,Re--)}function ie(s,i){Re++,Me[Re]=s.current,s.current=i}var he=C(null),Ie=C(null),Oe=C(null),Ae=C(null);function Nt(s,i){switch(ie(Oe,i),ie(Ie,s),ie(he,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?Q0(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=Q0(i),s=Z0(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Z(he),ie(he,s)}function rt(){Z(he),Z(Ie),Z(Oe)}function nr(s){s.memoizedState!==null&&ie(Ae,s);var i=he.current,l=Z0(i,s.type);i!==l&&(ie(Ie,s),ie(he,l))}function Fr(s){Ie.current===s&&(Z(he),Z(Ie)),Ae.current===s&&(Z(Ae),hu._currentValue=oe)}var Tr,Io;function Br(s){if(Tr===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Tr=i&&i[1]||"",Io=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tr+s+Io}var hc=!1;function ca(s,i){if(!s||hc)return"";hc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var K=W}Reflect.construct(s,[],se)}else{try{se.call()}catch(W){K=W}s.call(se.prototype)}}else{try{throw Error()}catch(W){K=W}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),x=y[0],S=y[1];if(x&&S){var j=x.split(`
`),G=S.split(`
`);for(m=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(u===j.length||m===G.length)for(u=j.length-1,m=G.length-1;1<=u&&0<=m&&j[u]!==G[m];)m--;for(;1<=u&&0<=m;u--,m--)if(j[u]!==G[m]){if(u!==1||m!==1)do if(u--,m--,0>m||j[u]!==G[m]){var te=`
`+j[u].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=u&&0<=m);break}}}finally{hc=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Br(l):""}function dc(s,i){switch(s.tag){case 26:case 27:case 5:return Br(s.type);case 16:return Br("Lazy");case 13:return s.child!==i&&i!==null?Br("Suspense Fallback"):Br("Suspense");case 19:return Br("SuspenseList");case 0:case 15:return ca(s.type,!1);case 11:return ca(s.type.render,!1);case 1:return ca(s.type,!0);case 31:return Br("Activity");default:return""}}function fc(s){try{var i="",l=null;do i+=dc(s,l),l=s,s=s.return;while(s);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Lt=Object.prototype.hasOwnProperty,Xt=t.unstable_scheduleCallback,ni=t.unstable_cancelCallback,tp=t.unstable_shouldYield,Th=t.unstable_requestPaint,En=t.unstable_now,ua=t.unstable_getCurrentPriorityLevel,mc=t.unstable_ImmediatePriority,pc=t.unstable_UserBlockingPriority,ri=t.unstable_NormalPriority,np=t.unstable_LowPriority,Sh=t.unstable_IdlePriority,Ah=t.log,Ih=t.unstable_setDisableYieldValue,Sr=null,ln=null;function rr(s){if(typeof Ah=="function"&&Ih(s),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Sr,s)}catch{}}var jt=Math.clz32?Math.clz32:Rh,Nh=Math.log,No=Math.LN2;function Rh(s){return s>>>=0,s===0?32:31-(Nh(s)/No|0)|0}var qr=256,ha=262144,Ut=4194304;function $r(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Hr(s,i,l){var u=s.pendingLanes;if(u===0)return 0;var m=0,y=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?m=$r(u):(x&=S,x!==0?m=$r(x):l||(l=S&~s,l!==0&&(m=$r(l))))):(S=u&~y,S!==0?m=$r(S):x!==0?m=$r(x):l||(l=u&~s,l!==0&&(m=$r(l)))),m===0?0:i!==0&&i!==m&&(i&y)===0&&(y=m&-m,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:m}function Ar(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function rp(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ch(){var s=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),s}function Gr(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function da(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function sp(s,i,l,u,m,y){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,j=s.expirationTimes,G=s.hiddenUpdates;for(l=x&~l;0<l;){var te=31-jt(l),se=1<<te;S[te]=0,j[te]=-1;var K=G[te];if(K!==null)for(G[te]=null,te=0;te<K.length;te++){var W=K[te];W!==null&&(W.lane&=-536870913)}l&=~se}u!==0&&fa(s,u,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(x&~i))}function fa(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var u=31-jt(i);s.entangledLanes|=i,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function gc(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var u=31-jt(l),m=1<<u;m&i|s[u]&i&&(s[u]|=i),l&=~m}}function yc(s,i){var l=i&-i;return l=(l&42)!==0?1:ma(l),(l&(s.suspendedLanes|i))!==0?0:l}function ma(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function bs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Dh(){var s=ce.p;return s!==0?s:(s=window.event,s===void 0?32:vw(s.type))}function Ir(s,i){var l=ce.p;try{return ce.p=s,i()}finally{ce.p=l}}var Nr=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Nr,rn="__reactProps$"+Nr,Kr="__reactContainer$"+Nr,Ro="__reactEvents$"+Nr,ip="__reactListeners$"+Nr,kh="__reactHandles$"+Nr,Oh="__reactResources$"+Nr,Qr="__reactMarker$"+Nr;function Co(s){delete s[Ft],delete s[rn],delete s[Ro],delete s[ip],delete s[kh]}function Zr(s){var i=s[Ft];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Kr]||l[Ft]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=nw(s);s!==null;){if(l=s[Ft])return l;s=nw(s)}return i}s=l,l=s.parentNode}return null}function sr(s){if(s=s[Ft]||s[Kr]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Fn(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Yr(s){var i=s[Oh];return i||(i=s[Oh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Bt(s){s[Qr]=!0}var vc=new Set,_c={};function Xr(s,i){Jr(s,i),Jr(s+"Capture",i)}function Jr(s,i){for(_c[s]=i,s=0;s<i.length;s++)vc.add(i[s])}var bc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xc={},wc={};function jh(s){return Lt.call(wc,s)?!0:Lt.call(xc,s)?!1:bc.test(s)?wc[s]=!0:(xc[s]=!0,!1)}function Do(s,i,l){if(jh(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function Bn(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function qt(s,i,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+u)}}function sn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function si(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ec(s,i,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(x){l=""+x,y.call(this,x)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function st(s){if(!s._valueTracker){var i=si(s)?"checked":"value";s._valueTracker=Ec(s,i,""+s[i])}}function pa(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return s&&(u=si(s)?s.checked?"true":"false":s.value),s=u,s!==l?(i.setValue(s),!0):!1}function Wr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ga=/[\n"\\]/g;function kn(s){return s.replace(ga,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ko(s,i,l,u,m,y,x,S){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),i!=null?x==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+sn(i)):s.value!==""+sn(i)&&(s.value=""+sn(i)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),i!=null?Tc(s,x,sn(i)):l!=null?Tc(s,x,sn(l)):u!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+sn(S):s.removeAttribute("name")}function Ph(s,i,l,u,m,y,x,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){st(s);return}l=l!=null?""+sn(l):"",i=i!=null?""+sn(i):l,S||i===s.value||(s.value=i),s.defaultValue=i}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),st(s)}function Tc(s,i,l){i==="number"&&Wr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ii(s,i,l,u){if(s=s.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=i.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&u&&(s[l].defaultSelected=!0)}else{for(l=""+sn(l),i=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function Mh(s,i,l){if(i!=null&&(i=""+sn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+sn(l):""}function ai(s,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(r(92));if(Ue(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=sn(i),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),st(s)}function On(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Vh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sc(s,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":u?s.setProperty(i,l):typeof l!="number"||l===0||Vh.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Ac(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in i)u=i[m],i.hasOwnProperty(m)&&l[m]!==u&&Sc(s,m,u)}else for(var y in i)i.hasOwnProperty(y)&&Sc(s,y,i[y])}function Oo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jo(s){return oi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Rr(){}var Ic=null;function ir(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var li=null,es=null;function ya(s){var i=sr(s);if(i&&(s=i.stateNode)){var l=s[rn]||null;e:switch(s=i.stateNode,i.type){case"input":if(ko(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+kn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==s&&u.form===s.form){var m=u[rn]||null;if(!m)throw Error(r(90));ko(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===s.form&&pa(u)}break e;case"textarea":Mh(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ii(s,!!l.multiple,i,!1)}}}var Po=!1;function ci(s,i,l){if(Po)return s(i,l);Po=!0;try{var u=s(i);return u}finally{if(Po=!1,(li!==null||es!==null)&&(Dd(),li&&(i=li,s=es,es=li=null,ya(i),s)))for(i=0;i<s.length;i++)ya(s[i])}}function Cr(s,i){var l=s.stateNode;if(l===null)return null;var u=l[rn]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(ar)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){va=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{va=!1}var ts=null,Nc=null,_a=null;function Rc(){if(_a)return _a;var s,i=Nc,l=i.length,u,m="value"in ts?ts.value:ts.textContent,y=m.length;for(s=0;s<l&&i[s]===m[s];s++);var x=l-s;for(u=1;u<=x&&i[l-u]===m[y-u];u++);return _a=m.slice(s,1<u?1-u:void 0)}function ba(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function xs(){return!0}function Dr(){return!1}function cn(s){function i(l,u,m,y,x){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xs:Dr,this.isPropagationStopped=Dr,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),i}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=cn(ws),ui=_({},ws,{view:0,detail:0}),Cc=cn(ui),hi,Mo,rs,Vo=_({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:di,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==rs&&(rs&&s.type==="mousemove"?(hi=s.screenX-rs.screenX,Mo=s.screenY-rs.screenY):Mo=hi=0,rs=s),hi)},movementY:function(s){return"movementY"in s?s.movementY:Mo}}),Dc=cn(Vo),xa=_({},Vo,{dataTransfer:0}),Lh=cn(xa),Uh=_({},ui,{relatedTarget:0}),wa=cn(Uh),kc=_({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Fh=cn(kc),zo=_({},ws,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bh=cn(zo),qh=_({},ws,{data:0}),ss=cn(qh),$h={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kh(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Gh[s])?!!i[s]:!1}function di(){return Kh}var Tn=_({},ui,{key:function(s){if(s.key){var i=$h[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=ba(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:di,charCode:function(s){return s.type==="keypress"?ba(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ba(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qh=cn(Tn),Zh=_({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Es=cn(Zh),f=_({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:di}),b=cn(f),w=_({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=cn(w),q=_({},Vo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=cn(q),fe=_({},ws,{newState:0,oldState:0}),Ve=cn(fe),Pt=[9,13,27,32],tt=ar&&"CompositionEvent"in window,_t=null;ar&&"documentMode"in document&&(_t=document.documentMode);var or=ar&&"TextEvent"in window&&!_t,is=ar&&(!tt||_t&&8<_t&&11>=_t),kr=" ",Or=!1;function Ea(s,i){switch(s){case"keyup":return Pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Uo=!1;function LR(s,i){switch(s){case"compositionend":return Lo(i);case"keypress":return i.which!==32?null:(Or=!0,kr);case"textInput":return s=i.data,s===kr&&Or?null:s;default:return null}}function UR(s,i){if(Uo)return s==="compositionend"||!tt&&Ea(s,i)?(s=Rc(),_a=Nc=ts=null,Uo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return is&&i.locale!=="ko"?null:i.data;default:return null}}var FR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ib(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!FR[s.type]:i==="textarea"}function ab(s,i,l,u){li?es?es.push(u):es=[u]:li=u,i=zd(i,"onChange"),0<i.length&&(l=new ns("onChange","change",null,l,u),s.push({event:l,listeners:i}))}var Oc=null,jc=null;function BR(s){B0(s,0)}function Yh(s){var i=Fn(s);if(pa(i))return s}function ob(s,i){if(s==="change")return i}var lb=!1;if(ar){var ap;if(ar){var op="oninput"in document;if(!op){var cb=document.createElement("div");cb.setAttribute("oninput","return;"),op=typeof cb.oninput=="function"}ap=op}else ap=!1;lb=ap&&(!document.documentMode||9<document.documentMode)}function ub(){Oc&&(Oc.detachEvent("onpropertychange",hb),jc=Oc=null)}function hb(s){if(s.propertyName==="value"&&Yh(jc)){var i=[];ab(i,jc,s,ir(s)),ci(BR,i)}}function qR(s,i,l){s==="focusin"?(ub(),Oc=i,jc=l,Oc.attachEvent("onpropertychange",hb)):s==="focusout"&&ub()}function $R(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yh(jc)}function HR(s,i){if(s==="click")return Yh(i)}function GR(s,i){if(s==="input"||s==="change")return Yh(i)}function KR(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var qn=typeof Object.is=="function"?Object.is:KR;function Pc(s,i){if(qn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Lt.call(i,m)||!qn(s[m],i[m]))return!1}return!0}function db(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function fb(s,i){var l=db(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=i&&u>=i)return{node:l,offset:i-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=db(l)}}function mb(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?mb(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function pb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Wr(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Wr(s.document)}return i}function lp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var QR=ar&&"documentMode"in document&&11>=document.documentMode,Fo=null,cp=null,Mc=null,up=!1;function gb(s,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;up||Fo==null||Fo!==Wr(u)||(u=Fo,"selectionStart"in u&&lp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Mc&&Pc(Mc,u)||(Mc=u,u=zd(cp,"onSelect"),0<u.length&&(i=new ns("onSelect","select",null,i,l),s.push({event:i,listeners:u}),i.target=Fo)))}function Ta(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Bo={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},hp={},yb={};ar&&(yb=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Sa(s){if(hp[s])return hp[s];if(!Bo[s])return s;var i=Bo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in yb)return hp[s]=i[l];return s}var vb=Sa("animationend"),_b=Sa("animationiteration"),bb=Sa("animationstart"),ZR=Sa("transitionrun"),YR=Sa("transitionstart"),XR=Sa("transitioncancel"),xb=Sa("transitionend"),wb=new Map,dp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dp.push("scrollEnd");function jr(s,i){wb.set(s,i),Xr(i,[s])}var Xh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},lr=[],qo=0,fp=0;function Jh(){for(var s=qo,i=fp=qo=0;i<s;){var l=lr[i];lr[i++]=null;var u=lr[i];lr[i++]=null;var m=lr[i];lr[i++]=null;var y=lr[i];if(lr[i++]=null,u!==null&&m!==null){var x=u.pending;x===null?m.next=m:(m.next=x.next,x.next=m),u.pending=m}y!==0&&Eb(l,m,y)}}function Wh(s,i,l,u){lr[qo++]=s,lr[qo++]=i,lr[qo++]=l,lr[qo++]=u,fp|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function mp(s,i,l,u){return Wh(s,i,l,u),ed(s)}function Aa(s,i){return Wh(s,null,null,i),ed(s)}function Eb(s,i,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&i!==null&&(m=31-jt(l),s=y.hiddenUpdates,u=s[m],u===null?s[m]=[i]:u.push(i),i.lane=l|536870912),y):null}function ed(s){if(50<su)throw su=0,Eg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var $o={};function JR(s,i,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(s,i,l,u){return new JR(s,i,l,u)}function pp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ts(s,i){var l=s.alternate;return l===null?(l=$n(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Tb(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function td(s,i,l,u,m,y){var x=0;if(u=s,typeof s=="function")pp(s)&&(x=1);else if(typeof s=="string")x=rC(s,l,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=$n(31,l,i,m),s.elementType=R,s.lanes=y,s;case D:return Ia(l.children,m,y,i);case V:x=8,m|=24;break;case Y:return s=$n(12,l,i,m|2),s.elementType=Y,s.lanes=y,s;case le:return s=$n(13,l,i,m),s.elementType=le,s.lanes=y,s;case me:return s=$n(19,l,i,m),s.elementType=me,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case J:x=10;break e;case Q:x=9;break e;case ae:x=11;break e;case N:x=14;break e;case T:x=16,u=null;break e}x=29,l=Error(r(130,s===null?"null":typeof s,"")),u=null}return i=$n(x,l,i,m),i.elementType=s,i.type=u,i.lanes=y,i}function Ia(s,i,l,u){return s=$n(7,s,u,i),s.lanes=l,s}function gp(s,i,l){return s=$n(6,s,null,i),s.lanes=l,s}function Sb(s){var i=$n(18,null,null,0);return i.stateNode=s,i}function yp(s,i,l){return i=$n(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var Ab=new WeakMap;function cr(s,i){if(typeof s=="object"&&s!==null){var l=Ab.get(s);return l!==void 0?l:(i={value:s,source:i,stack:fc(i)},Ab.set(s,i),i)}return{value:s,source:i,stack:fc(i)}}var Ho=[],Go=0,nd=null,Vc=0,ur=[],hr=0,fi=null,as=1,os="";function Ss(s,i){Ho[Go++]=Vc,Ho[Go++]=nd,nd=s,Vc=i}function Ib(s,i,l){ur[hr++]=as,ur[hr++]=os,ur[hr++]=fi,fi=s;var u=as;s=os;var m=32-jt(u)-1;u&=~(1<<m),l+=1;var y=32-jt(i)+m;if(30<y){var x=m-m%5;y=(u&(1<<x)-1).toString(32),u>>=x,m-=x,as=1<<32-jt(i)+m|l<<m|u,os=y+s}else as=1<<y|l<<m|u,os=s}function vp(s){s.return!==null&&(Ss(s,1),Ib(s,1,0))}function _p(s){for(;s===nd;)nd=Ho[--Go],Ho[Go]=null,Vc=Ho[--Go],Ho[Go]=null;for(;s===fi;)fi=ur[--hr],ur[hr]=null,os=ur[--hr],ur[hr]=null,as=ur[--hr],ur[hr]=null}function Nb(s,i){ur[hr++]=as,ur[hr++]=os,ur[hr++]=fi,as=i.id,os=i.overflow,fi=s}var un=null,gt=null,Ze=!1,mi=null,dr=!1,bp=Error(r(519));function pi(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zc(cr(i,s)),bp}function Rb(s){var i=s.stateNode,l=s.type,u=s.memoizedProps;switch(i[Ft]=s,i[rn]=u,l){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(l=0;l<au.length;l++)$e(au[l],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":$e("invalid",i),Ph(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":$e("invalid",i);break;case"textarea":$e("invalid",i),ai(i,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||G0(i.textContent,l)?(u.popover!=null&&($e("beforetoggle",i),$e("toggle",i)),u.onScroll!=null&&$e("scroll",i),u.onScrollEnd!=null&&$e("scrollend",i),u.onClick!=null&&(i.onclick=Rr),i=!0):i=!1,i||pi(s,!0)}function Cb(s){for(un=s.return;un;)switch(un.tag){case 5:case 31:case 13:dr=!1;return;case 27:case 3:dr=!0;return;default:un=un.return}}function Ko(s){if(s!==un)return!1;if(!Ze)return Cb(s),Ze=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||zg(s.type,s.memoizedProps)),l=!l),l&&gt&&pi(s),Cb(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));gt=tw(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));gt=tw(s)}else i===27?(i=gt,Ri(s.type)?(s=qg,qg=null,gt=s):gt=i):gt=un?mr(s.stateNode.nextSibling):null;return!0}function Na(){gt=un=null,Ze=!1}function xp(){var s=mi;return s!==null&&(Vn===null?Vn=s:Vn.push.apply(Vn,s),mi=null),s}function zc(s){mi===null?mi=[s]:mi.push(s)}var wp=C(null),Ra=null,As=null;function gi(s,i,l){ie(wp,i._currentValue),i._currentValue=l}function Is(s){s._currentValue=wp.current,Z(wp)}function Ep(s,i,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),s===l)break;s=s.return}}function Tp(s,i,l,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var x=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var j=0;j<i.length;j++)if(S.context===i[j]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),Ep(y.return,l,s),u||(x=null);break e}y=S.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(r(341));x.lanes|=l,y=x.alternate,y!==null&&(y.lanes|=l),Ep(x,l,s),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function Qo(s,i,l,u){s=null;for(var m=i,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var S=m.type;qn(m.pendingProps.value,x.value)||(s!==null?s.push(S):s=[S])}}else if(m===Ae.current){if(x=m.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(hu):s=[hu])}m=m.return}s!==null&&Tp(i,s,l,u),i.flags|=262144}function rd(s){for(s=s.firstContext;s!==null;){if(!qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ca(s){Ra=s,As=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hn(s){return Db(Ra,s)}function sd(s,i){return Ra===null&&Ca(s),Db(s,i)}function Db(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},As===null){if(s===null)throw Error(r(308));As=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else As=As.next=i;return l}var WR=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},e2=t.unstable_scheduleCallback,t2=t.unstable_NormalPriority,$t={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sp(){return{controller:new WR,data:new Map,refCount:0}}function Lc(s){s.refCount--,s.refCount===0&&e2(t2,function(){s.controller.abort()})}var Uc=null,Ap=0,Zo=0,Yo=null;function n2(s,i){if(Uc===null){var l=Uc=[];Ap=0,Zo=Rg(),Yo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ap++,i.then(kb,kb),i}function kb(){if(--Ap===0&&Uc!==null){Yo!==null&&(Yo.status="fulfilled");var s=Uc;Uc=null,Zo=0,Yo=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function r2(s,i){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){u.status="fulfilled",u.value=i;for(var m=0;m<l.length;m++)(0,l[m])(i)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var Ob=$.S;$.S=function(s,i){g0=En(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&n2(s,i),Ob!==null&&Ob(s,i)};var Da=C(null);function Ip(){var s=Da.current;return s!==null?s:pt.pooledCache}function id(s,i){i===null?ie(Da,Da.current):ie(Da,i.pool)}function jb(){var s=Ip();return s===null?null:{parent:$t._currentValue,pool:s}}var Xo=Error(r(460)),Np=Error(r(474)),ad=Error(r(542)),od={then:function(){}};function Pb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Mb(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Rr,Rr),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,zb(s),s;default:if(typeof i.status=="string")i.then(Rr,Rr);else{if(s=pt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(u){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=u}},function(u){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,zb(s),s}throw Oa=i,Xo}}function ka(s){try{var i=s._init;return i(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Oa=l,Xo):l}}var Oa=null;function Vb(){if(Oa===null)throw Error(r(459));var s=Oa;return Oa=null,s}function zb(s){if(s===Xo||s===ad)throw Error(r(483))}var Jo=null,Fc=0;function ld(s){var i=Fc;return Fc+=1,Jo===null&&(Jo=[]),Mb(Jo,s,i)}function Bc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function cd(s,i){throw i.$$typeof===E?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Lb(s){function i(F,z){if(s){var H=F.deletions;H===null?(F.deletions=[z],F.flags|=16):H.push(z)}}function l(F,z){if(!s)return null;for(;z!==null;)i(F,z),z=z.sibling;return null}function u(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function m(F,z){return F=Ts(F,z),F.index=0,F.sibling=null,F}function y(F,z,H){return F.index=H,s?(H=F.alternate,H!==null?(H=H.index,H<z?(F.flags|=67108866,z):H):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function x(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function S(F,z,H,ne){return z===null||z.tag!==6?(z=gp(H,F.mode,ne),z.return=F,z):(z=m(z,H),z.return=F,z)}function j(F,z,H,ne){var we=H.type;return we===D?te(F,z,H.props.children,ne,H.key):z!==null&&(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===T&&ka(we)===z.type)?(z=m(z,H.props),Bc(z,H),z.return=F,z):(z=td(H.type,H.key,H.props,null,F.mode,ne),Bc(z,H),z.return=F,z)}function G(F,z,H,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=yp(H,F.mode,ne),z.return=F,z):(z=m(z,H.children||[]),z.return=F,z)}function te(F,z,H,ne,we){return z===null||z.tag!==7?(z=Ia(H,F.mode,ne,we),z.return=F,z):(z=m(z,H),z.return=F,z)}function se(F,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=gp(""+z,F.mode,H),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return H=td(z.type,z.key,z.props,null,F.mode,H),Bc(H,z),H.return=F,H;case M:return z=yp(z,F.mode,H),z.return=F,z;case T:return z=ka(z),se(F,z,H)}if(Ue(z)||U(z))return z=Ia(z,F.mode,H,null),z.return=F,z;if(typeof z.then=="function")return se(F,ld(z),H);if(z.$$typeof===J)return se(F,sd(F,z),H);cd(F,z)}return null}function K(F,z,H,ne){var we=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return we!==null?null:S(F,z,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===we?j(F,z,H,ne):null;case M:return H.key===we?G(F,z,H,ne):null;case T:return H=ka(H),K(F,z,H,ne)}if(Ue(H)||U(H))return we!==null?null:te(F,z,H,ne,null);if(typeof H.then=="function")return K(F,z,ld(H),ne);if(H.$$typeof===J)return K(F,z,sd(F,H),ne);cd(F,H)}return null}function W(F,z,H,ne,we){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return F=F.get(H)||null,S(z,F,""+ne,we);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return F=F.get(ne.key===null?H:ne.key)||null,j(z,F,ne,we);case M:return F=F.get(ne.key===null?H:ne.key)||null,G(z,F,ne,we);case T:return ne=ka(ne),W(F,z,H,ne,we)}if(Ue(ne)||U(ne))return F=F.get(H)||null,te(z,F,ne,we,null);if(typeof ne.then=="function")return W(F,z,H,ld(ne),we);if(ne.$$typeof===J)return W(F,z,H,sd(z,ne),we);cd(z,ne)}return null}function ge(F,z,H,ne){for(var we=null,Je=null,be=z,Le=z=0,Ge=null;be!==null&&Le<H.length;Le++){be.index>Le?(Ge=be,be=null):Ge=be.sibling;var We=K(F,be,H[Le],ne);if(We===null){be===null&&(be=Ge);break}s&&be&&We.alternate===null&&i(F,be),z=y(We,z,Le),Je===null?we=We:Je.sibling=We,Je=We,be=Ge}if(Le===H.length)return l(F,be),Ze&&Ss(F,Le),we;if(be===null){for(;Le<H.length;Le++)be=se(F,H[Le],ne),be!==null&&(z=y(be,z,Le),Je===null?we=be:Je.sibling=be,Je=be);return Ze&&Ss(F,Le),we}for(be=u(be);Le<H.length;Le++)Ge=W(be,F,Le,H[Le],ne),Ge!==null&&(s&&Ge.alternate!==null&&be.delete(Ge.key===null?Le:Ge.key),z=y(Ge,z,Le),Je===null?we=Ge:Je.sibling=Ge,Je=Ge);return s&&be.forEach(function(ji){return i(F,ji)}),Ze&&Ss(F,Le),we}function Ne(F,z,H,ne){if(H==null)throw Error(r(151));for(var we=null,Je=null,be=z,Le=z=0,Ge=null,We=H.next();be!==null&&!We.done;Le++,We=H.next()){be.index>Le?(Ge=be,be=null):Ge=be.sibling;var ji=K(F,be,We.value,ne);if(ji===null){be===null&&(be=Ge);break}s&&be&&ji.alternate===null&&i(F,be),z=y(ji,z,Le),Je===null?we=ji:Je.sibling=ji,Je=ji,be=Ge}if(We.done)return l(F,be),Ze&&Ss(F,Le),we;if(be===null){for(;!We.done;Le++,We=H.next())We=se(F,We.value,ne),We!==null&&(z=y(We,z,Le),Je===null?we=We:Je.sibling=We,Je=We);return Ze&&Ss(F,Le),we}for(be=u(be);!We.done;Le++,We=H.next())We=W(be,F,Le,We.value,ne),We!==null&&(s&&We.alternate!==null&&be.delete(We.key===null?Le:We.key),z=y(We,z,Le),Je===null?we=We:Je.sibling=We,Je=We);return s&&be.forEach(function(mC){return i(F,mC)}),Ze&&Ss(F,Le),we}function mt(F,z,H,ne){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:e:{for(var we=H.key;z!==null;){if(z.key===we){if(we=H.type,we===D){if(z.tag===7){l(F,z.sibling),ne=m(z,H.props.children),ne.return=F,F=ne;break e}}else if(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===T&&ka(we)===z.type){l(F,z.sibling),ne=m(z,H.props),Bc(ne,H),ne.return=F,F=ne;break e}l(F,z);break}else i(F,z);z=z.sibling}H.type===D?(ne=Ia(H.props.children,F.mode,ne,H.key),ne.return=F,F=ne):(ne=td(H.type,H.key,H.props,null,F.mode,ne),Bc(ne,H),ne.return=F,F=ne)}return x(F);case M:e:{for(we=H.key;z!==null;){if(z.key===we)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){l(F,z.sibling),ne=m(z,H.children||[]),ne.return=F,F=ne;break e}else{l(F,z);break}else i(F,z);z=z.sibling}ne=yp(H,F.mode,ne),ne.return=F,F=ne}return x(F);case T:return H=ka(H),mt(F,z,H,ne)}if(Ue(H))return ge(F,z,H,ne);if(U(H)){if(we=U(H),typeof we!="function")throw Error(r(150));return H=we.call(H),Ne(F,z,H,ne)}if(typeof H.then=="function")return mt(F,z,ld(H),ne);if(H.$$typeof===J)return mt(F,z,sd(F,H),ne);cd(F,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(l(F,z.sibling),ne=m(z,H),ne.return=F,F=ne):(l(F,z),ne=gp(H,F.mode,ne),ne.return=F,F=ne),x(F)):l(F,z)}return function(F,z,H,ne){try{Fc=0;var we=mt(F,z,H,ne);return Jo=null,we}catch(be){if(be===Xo||be===ad)throw be;var Je=$n(29,be,null,F.mode);return Je.lanes=ne,Je.return=F,Je}}}var ja=Lb(!0),Ub=Lb(!1),yi=!1;function Rp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function vi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _i(s,i,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(nt&2)!==0){var m=u.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),u.pending=i,i=ed(s),Eb(s,null,l),i}return Wh(s,u,i,l),ed(s)}function qc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,gc(s,l)}}function Dp(s,i){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=x:y=y.next=x,l=l.next}while(l!==null);y===null?m=y=i:y=y.next=i}else m=y=i;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var kp=!1;function $c(){if(kp){var s=Yo;if(s!==null)throw s}}function Hc(s,i,l,u){kp=!1;var m=s.updateQueue;yi=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var j=S,G=j.next;j.next=null,x===null?y=G:x.next=G,x=j;var te=s.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==x&&(S===null?te.firstBaseUpdate=G:S.next=G,te.lastBaseUpdate=j))}if(y!==null){var se=m.baseState;x=0,te=G=j=null,S=y;do{var K=S.lane&-536870913,W=K!==S.lane;if(W?(He&K)===K:(u&K)===K){K!==0&&K===Zo&&(kp=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=s,Ne=S;K=i;var mt=l;switch(Ne.tag){case 1:if(ge=Ne.payload,typeof ge=="function"){se=ge.call(mt,se,K);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ne.payload,K=typeof ge=="function"?ge.call(mt,se,K):ge,K==null)break e;se=_({},se,K);break e;case 2:yi=!0}}K=S.callback,K!==null&&(s.flags|=64,W&&(s.flags|=8192),W=m.callbacks,W===null?m.callbacks=[K]:W.push(K))}else W={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(G=te=W,j=se):te=te.next=W,x|=K;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;W=S,S=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);te===null&&(j=se),m.baseState=j,m.firstBaseUpdate=G,m.lastBaseUpdate=te,y===null&&(m.shared.lanes=0),Ti|=x,s.lanes=x,s.memoizedState=se}}function Fb(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Bb(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Fb(l[s],i)}var Wo=C(null),ud=C(0);function qb(s,i){s=Ms,ie(ud,s),ie(Wo,i),Ms=s|i.baseLanes}function Op(){ie(ud,Ms),ie(Wo,Wo.current)}function jp(){Ms=ud.current,Z(Wo),Z(ud)}var Hn=C(null),fr=null;function bi(s){var i=s.alternate;ie(Mt,Mt.current&1),ie(Hn,s),fr===null&&(i===null||Wo.current!==null||i.memoizedState!==null)&&(fr=s)}function Pp(s){ie(Mt,Mt.current),ie(Hn,s),fr===null&&(fr=s)}function $b(s){s.tag===22?(ie(Mt,Mt.current),ie(Hn,s),fr===null&&(fr=s)):xi()}function xi(){ie(Mt,Mt.current),ie(Hn,Hn.current)}function Gn(s){Z(Hn),fr===s&&(fr=null),Z(Mt)}var Mt=C(0);function hd(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Fg(l)||Bg(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ns=0,ze=null,dt=null,Ht=null,dd=!1,el=!1,Pa=!1,fd=0,Gc=0,tl=null,s2=0;function Rt(){throw Error(r(321))}function Mp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!qn(s[l],i[l]))return!1;return!0}function Vp(s,i,l,u,m,y){return Ns=y,ze=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=s===null||s.memoizedState===null?Ix:Jp,Pa=!1,y=l(u,m),Pa=!1,el&&(y=Gb(i,l,u,m)),Hb(s),y}function Hb(s){$.H=Zc;var i=dt!==null&&dt.next!==null;if(Ns=0,Ht=dt=ze=null,dd=!1,Gc=0,tl=null,i)throw Error(r(300));s===null||Gt||(s=s.dependencies,s!==null&&rd(s)&&(Gt=!0))}function Gb(s,i,l,u){ze=s;var m=0;do{if(el&&(tl=null),Gc=0,el=!1,25<=m)throw Error(r(301));if(m+=1,Ht=dt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=Nx,y=i(l,u)}while(el);return y}function i2(){var s=$.H,i=s.useState()[0];return i=typeof i.then=="function"?Kc(i):i,s=s.useState()[0],(dt!==null?dt.memoizedState:null)!==s&&(ze.flags|=1024),i}function zp(){var s=fd!==0;return fd=0,s}function Lp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Up(s){if(dd){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}dd=!1}Ns=0,Ht=dt=ze=null,el=!1,Gc=fd=0,tl=null}function Sn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?ze.memoizedState=Ht=s:Ht=Ht.next=s,Ht}function Vt(){if(dt===null){var s=ze.alternate;s=s!==null?s.memoizedState:null}else s=dt.next;var i=Ht===null?ze.memoizedState:Ht.next;if(i!==null)Ht=i,dt=s;else{if(s===null)throw ze.alternate===null?Error(r(467)):Error(r(310));dt=s,s={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Ht===null?ze.memoizedState=Ht=s:Ht=Ht.next=s}return Ht}function md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kc(s){var i=Gc;return Gc+=1,tl===null&&(tl=[]),s=Mb(tl,s,i),i=ze,(Ht===null?i.memoizedState:Ht.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Ix:Jp),s}function pd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Kc(s);if(s.$$typeof===J)return hn(s)}throw Error(r(438,String(s)))}function Fp(s){var i=null,l=ze.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=ze.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=md(),ze.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),u=0;u<s;u++)l[u]=O;return i.index++,l}function Rs(s,i){return typeof i=="function"?i(s):i}function gd(s){var i=Vt();return Bp(i,dt,s)}function Bp(s,i,l){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var m=s.baseQueue,y=u.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}i.baseQueue=m=y,u.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{i=m.next;var S=x=null,j=null,G=i,te=!1;do{var se=G.lane&-536870913;if(se!==G.lane?(He&se)===se:(Ns&se)===se){var K=G.revertLane;if(K===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),se===Zo&&(te=!0);else if((Ns&K)===K){G=G.next,K===Zo&&(te=!0);continue}else se={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(S=j=se,x=y):j=j.next=se,ze.lanes|=K,Ti|=K;se=G.action,Pa&&l(y,se),y=G.hasEagerState?G.eagerState:l(y,se)}else K={lane:se,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(S=j=K,x=y):j=j.next=K,ze.lanes|=se,Ti|=se;G=G.next}while(G!==null&&G!==i);if(j===null?x=y:j.next=S,!qn(y,s.memoizedState)&&(Gt=!0,te&&(l=Yo,l!==null)))throw l;s.memoizedState=y,s.baseState=x,s.baseQueue=j,u.lastRenderedState=y}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function qp(s){var i=Vt(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=l.dispatch,m=l.pending,y=i.memoizedState;if(m!==null){l.pending=null;var x=m=m.next;do y=s(y,x.action),x=x.next;while(x!==m);qn(y,i.memoizedState)||(Gt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,u]}function Kb(s,i,l){var u=ze,m=Vt(),y=Ze;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=i();var x=!qn((dt||m).memoizedState,l);if(x&&(m.memoizedState=l,Gt=!0),m=m.queue,Gp(Yb.bind(null,u,m,s),[s]),m.getSnapshot!==i||x||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,nl(9,{destroy:void 0},Zb.bind(null,u,m,l,i),null),pt===null)throw Error(r(349));y||(Ns&127)!==0||Qb(u,i,l)}return l}function Qb(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=ze.updateQueue,i===null?(i=md(),ze.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Zb(s,i,l,u){i.value=l,i.getSnapshot=u,Xb(i)&&Jb(s)}function Yb(s,i,l){return l(function(){Xb(i)&&Jb(s)})}function Xb(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!qn(s,l)}catch{return!0}}function Jb(s){var i=Aa(s,2);i!==null&&zn(i,s,2)}function $p(s){var i=Sn();if(typeof s=="function"){var l=s;if(s=l(),Pa){rr(!0);try{l()}finally{rr(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:s},i}function Wb(s,i,l,u){return s.baseState=l,Bp(s,dt,typeof u=="function"?u:Rs)}function a2(s,i,l,u,m){if(_d(s))throw Error(r(485));if(s=i.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};$.T!==null?l(!0):y.isTransition=!1,u(y),l=i.pending,l===null?(y.next=i.pending=y,ex(i,y)):(y.next=l.next,i.pending=l.next=y)}}function ex(s,i){var l=i.action,u=i.payload,m=s.state;if(i.isTransition){var y=$.T,x={};$.T=x;try{var S=l(m,u),j=$.S;j!==null&&j(x,S),tx(s,i,S)}catch(G){Hp(s,i,G)}finally{y!==null&&x.types!==null&&(y.types=x.types),$.T=y}}else try{y=l(m,u),tx(s,i,y)}catch(G){Hp(s,i,G)}}function tx(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){nx(s,i,u)},function(u){return Hp(s,i,u)}):nx(s,i,l)}function nx(s,i,l){i.status="fulfilled",i.value=l,rx(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,ex(s,l)))}function Hp(s,i,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,rx(i),i=i.next;while(i!==u)}s.action=null}function rx(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function sx(s,i){return i}function ix(s,i){if(Ze){var l=pt.formState;if(l!==null){e:{var u=ze;if(Ze){if(gt){t:{for(var m=gt,y=dr;m.nodeType!==8;){if(!y){m=null;break t}if(m=mr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){gt=mr(m.nextSibling),u=m.data==="F!";break e}}pi(u)}u=!1}u&&(i=l[0])}}return l=Sn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sx,lastRenderedState:i},l.queue=u,l=Tx.bind(null,ze,u),u.dispatch=l,u=$p(!1),y=Xp.bind(null,ze,!1,u.queue),u=Sn(),m={state:i,dispatch:null,action:s,pending:null},u.queue=m,l=a2.bind(null,ze,m,y,l),m.dispatch=l,u.memoizedState=s,[i,l,!1]}function ax(s){var i=Vt();return ox(i,dt,s)}function ox(s,i,l){if(i=Bp(s,i,sx)[0],s=gd(Rs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Kc(i)}catch(x){throw x===Xo?ad:x}else u=i;i=Vt();var m=i.queue,y=m.dispatch;return l!==i.memoizedState&&(ze.flags|=2048,nl(9,{destroy:void 0},o2.bind(null,m,l),null)),[u,y,s]}function o2(s,i){s.action=i}function lx(s){var i=Vt(),l=dt;if(l!==null)return ox(i,l,s);Vt(),i=i.memoizedState,l=Vt();var u=l.queue.dispatch;return l.memoizedState=s,[i,u,!1]}function nl(s,i,l,u){return s={tag:s,create:l,deps:u,inst:i,next:null},i=ze.updateQueue,i===null&&(i=md(),ze.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,i.lastEffect=s),s}function cx(){return Vt().memoizedState}function yd(s,i,l,u){var m=Sn();ze.flags|=s,m.memoizedState=nl(1|i,{destroy:void 0},l,u===void 0?null:u)}function vd(s,i,l,u){var m=Vt();u=u===void 0?null:u;var y=m.memoizedState.inst;dt!==null&&u!==null&&Mp(u,dt.memoizedState.deps)?m.memoizedState=nl(i,y,l,u):(ze.flags|=s,m.memoizedState=nl(1|i,y,l,u))}function ux(s,i){yd(8390656,8,s,i)}function Gp(s,i){vd(2048,8,s,i)}function l2(s){ze.flags|=4;var i=ze.updateQueue;if(i===null)i=md(),ze.updateQueue=i,i.events=[s];else{var l=i.events;l===null?i.events=[s]:l.push(s)}}function hx(s){var i=Vt().memoizedState;return l2({ref:i,nextImpl:s}),function(){if((nt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function dx(s,i){return vd(4,2,s,i)}function fx(s,i){return vd(4,4,s,i)}function mx(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function px(s,i,l){l=l!=null?l.concat([s]):null,vd(4,4,mx.bind(null,i,s),l)}function Kp(){}function gx(s,i){var l=Vt();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Mp(i,u[1])?u[0]:(l.memoizedState=[s,i],s)}function yx(s,i){var l=Vt();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Mp(i,u[1]))return u[0];if(u=s(),Pa){rr(!0);try{s()}finally{rr(!1)}}return l.memoizedState=[u,i],u}function Qp(s,i,l){return l===void 0||(Ns&1073741824)!==0&&(He&261930)===0?s.memoizedState=i:(s.memoizedState=l,s=v0(),ze.lanes|=s,Ti|=s,l)}function vx(s,i,l,u){return qn(l,i)?l:Wo.current!==null?(s=Qp(s,l,u),qn(s,i)||(Gt=!0),s):(Ns&42)===0||(Ns&1073741824)!==0&&(He&261930)===0?(Gt=!0,s.memoizedState=l):(s=v0(),ze.lanes|=s,Ti|=s,i)}function _x(s,i,l,u,m){var y=ce.p;ce.p=y!==0&&8>y?y:8;var x=$.T,S={};$.T=S,Xp(s,!1,i,l);try{var j=m(),G=$.S;if(G!==null&&G(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var te=r2(j,u);Qc(s,i,te,Zn(s))}else Qc(s,i,u,Zn(s))}catch(se){Qc(s,i,{then:function(){},status:"rejected",reason:se},Zn())}finally{ce.p=y,x!==null&&S.types!==null&&(x.types=S.types),$.T=x}}function c2(){}function Zp(s,i,l,u){if(s.tag!==5)throw Error(r(476));var m=bx(s).queue;_x(s,m,i,oe,l===null?c2:function(){return xx(s),l(u)})}function bx(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:oe},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function xx(s){var i=bx(s);i.next===null&&(i=s.alternate.memoizedState),Qc(s,i.next.queue,{},Zn())}function Yp(){return hn(hu)}function wx(){return Vt().memoizedState}function Ex(){return Vt().memoizedState}function u2(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Zn();s=vi(l);var u=_i(i,s,l);u!==null&&(zn(u,i,l),qc(u,i,l)),i={cache:Sp()},s.payload=i;return}i=i.return}}function h2(s,i,l){var u=Zn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_d(s)?Sx(i,l):(l=mp(s,i,l,u),l!==null&&(zn(l,s,u),Ax(l,i,u)))}function Tx(s,i,l){var u=Zn();Qc(s,i,l,u)}function Qc(s,i,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(_d(s))Sx(i,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,S=y(x,l);if(m.hasEagerState=!0,m.eagerState=S,qn(S,x))return Wh(s,i,m,0),pt===null&&Jh(),!1}catch{}if(l=mp(s,i,m,u),l!==null)return zn(l,s,u),Ax(l,i,u),!0}return!1}function Xp(s,i,l,u){if(u={lane:2,revertLane:Rg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},_d(s)){if(i)throw Error(r(479))}else i=mp(s,l,u,2),i!==null&&zn(i,s,2)}function _d(s){var i=s.alternate;return s===ze||i!==null&&i===ze}function Sx(s,i){el=dd=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Ax(s,i,l){if((l&4194048)!==0){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,gc(s,l)}}var Zc={readContext:hn,use:pd,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};Zc.useEffectEvent=Rt;var Ix={readContext:hn,use:pd,useCallback:function(s,i){return Sn().memoizedState=[s,i===void 0?null:i],s},useContext:hn,useEffect:ux,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,yd(4194308,4,mx.bind(null,i,s),l)},useLayoutEffect:function(s,i){return yd(4194308,4,s,i)},useInsertionEffect:function(s,i){yd(4,2,s,i)},useMemo:function(s,i){var l=Sn();i=i===void 0?null:i;var u=s();if(Pa){rr(!0);try{s()}finally{rr(!1)}}return l.memoizedState=[u,i],u},useReducer:function(s,i,l){var u=Sn();if(l!==void 0){var m=l(i);if(Pa){rr(!0);try{l(i)}finally{rr(!1)}}}else m=i;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=h2.bind(null,ze,s),[u.memoizedState,s]},useRef:function(s){var i=Sn();return s={current:s},i.memoizedState=s},useState:function(s){s=$p(s);var i=s.queue,l=Tx.bind(null,ze,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Kp,useDeferredValue:function(s,i){var l=Sn();return Qp(l,s,i)},useTransition:function(){var s=$p(!1);return s=_x.bind(null,ze,s.queue,!0,!1),Sn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var u=ze,m=Sn();if(Ze){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),pt===null)throw Error(r(349));(He&127)!==0||Qb(u,i,l)}m.memoizedState=l;var y={value:l,getSnapshot:i};return m.queue=y,ux(Yb.bind(null,u,y,s),[s]),u.flags|=2048,nl(9,{destroy:void 0},Zb.bind(null,u,y,l,i),null),l},useId:function(){var s=Sn(),i=pt.identifierPrefix;if(Ze){var l=os,u=as;l=(u&~(1<<32-jt(u)-1)).toString(32)+l,i="_"+i+"R_"+l,l=fd++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=s2++,i="_"+i+"r_"+l.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:Yp,useFormState:ix,useActionState:ix,useOptimistic:function(s){var i=Sn();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Xp.bind(null,ze,!0,l),l.dispatch=i,[s,i]},useMemoCache:Fp,useCacheRefresh:function(){return Sn().memoizedState=u2.bind(null,ze)},useEffectEvent:function(s){var i=Sn(),l={impl:s};return i.memoizedState=l,function(){if((nt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Jp={readContext:hn,use:pd,useCallback:gx,useContext:hn,useEffect:Gp,useImperativeHandle:px,useInsertionEffect:dx,useLayoutEffect:fx,useMemo:yx,useReducer:gd,useRef:cx,useState:function(){return gd(Rs)},useDebugValue:Kp,useDeferredValue:function(s,i){var l=Vt();return vx(l,dt.memoizedState,s,i)},useTransition:function(){var s=gd(Rs)[0],i=Vt().memoizedState;return[typeof s=="boolean"?s:Kc(s),i]},useSyncExternalStore:Kb,useId:wx,useHostTransitionStatus:Yp,useFormState:ax,useActionState:ax,useOptimistic:function(s,i){var l=Vt();return Wb(l,dt,s,i)},useMemoCache:Fp,useCacheRefresh:Ex};Jp.useEffectEvent=hx;var Nx={readContext:hn,use:pd,useCallback:gx,useContext:hn,useEffect:Gp,useImperativeHandle:px,useInsertionEffect:dx,useLayoutEffect:fx,useMemo:yx,useReducer:qp,useRef:cx,useState:function(){return qp(Rs)},useDebugValue:Kp,useDeferredValue:function(s,i){var l=Vt();return dt===null?Qp(l,s,i):vx(l,dt.memoizedState,s,i)},useTransition:function(){var s=qp(Rs)[0],i=Vt().memoizedState;return[typeof s=="boolean"?s:Kc(s),i]},useSyncExternalStore:Kb,useId:wx,useHostTransitionStatus:Yp,useFormState:lx,useActionState:lx,useOptimistic:function(s,i){var l=Vt();return dt!==null?Wb(l,dt,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Fp,useCacheRefresh:Ex};Nx.useEffectEvent=hx;function Wp(s,i,l,u){i=s.memoizedState,l=l(u,i),l=l==null?i:_({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var eg={enqueueSetState:function(s,i,l){s=s._reactInternals;var u=Zn(),m=vi(u);m.payload=i,l!=null&&(m.callback=l),i=_i(s,m,u),i!==null&&(zn(i,s,u),qc(i,s,u))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var u=Zn(),m=vi(u);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=_i(s,m,u),i!==null&&(zn(i,s,u),qc(i,s,u))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Zn(),u=vi(l);u.tag=2,i!=null&&(u.callback=i),i=_i(s,u,l),i!==null&&(zn(i,s,l),qc(i,s,l))}};function Rx(s,i,l,u,m,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,x):i.prototype&&i.prototype.isPureReactComponent?!Pc(l,u)||!Pc(m,y):!0}function Cx(s,i,l,u){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==s&&eg.enqueueReplaceState(i,i.state,null)}function Ma(s,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(s=s.defaultProps){l===i&&(l=_({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}function Dx(s){Xh(s)}function kx(s){console.error(s)}function Ox(s){Xh(s)}function bd(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function jx(s,i,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function tg(s,i,l){return l=vi(l),l.tag=3,l.payload={element:null},l.callback=function(){bd(s,i)},l}function Px(s){return s=vi(s),s.tag=3,s}function Mx(s,i,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;s.payload=function(){return m(y)},s.callback=function(){jx(i,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){jx(i,l,u),typeof m!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function d2(s,i,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Qo(i,l,m,!0),l=Hn.current,l!==null){switch(l.tag){case 31:case 13:return fr===null?kd():l.alternate===null&&Ct===0&&(Ct=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===od?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Ag(s,u,m)),!1;case 22:return l.flags|=65536,u===od?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Ag(s,u,m)),!1}throw Error(r(435,l.tag))}return Ag(s,u,m),kd(),!1}if(Ze)return i=Hn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,u!==bp&&(s=Error(r(422),{cause:u}),zc(cr(s,l)))):(u!==bp&&(i=Error(r(423),{cause:u}),zc(cr(i,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=cr(u,l),m=tg(s.stateNode,u,m),Dp(s,m),Ct!==4&&(Ct=2)),!1;var y=Error(r(520),{cause:u});if(y=cr(y,l),ru===null?ru=[y]:ru.push(y),Ct!==4&&(Ct=2),i===null)return!0;u=cr(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=tg(l.stateNode,u,s),Dp(l,s),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Si===null||!Si.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Px(m),Mx(m,s,l,u),Dp(l,m),!1}l=l.return}while(l!==null);return!1}var ng=Error(r(461)),Gt=!1;function dn(s,i,l,u){i.child=s===null?Ub(i,null,l,u):ja(i,s.child,l,u)}function Vx(s,i,l,u,m){l=l.render;var y=i.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return Ca(i),u=Vp(s,i,l,x,y,m),S=zp(),s!==null&&!Gt?(Lp(s,i,m),Cs(s,i,m)):(Ze&&S&&vp(i),i.flags|=1,dn(s,i,u,m),i.child)}function zx(s,i,l,u,m){if(s===null){var y=l.type;return typeof y=="function"&&!pp(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,Lx(s,i,y,u,m)):(s=td(l.type,null,u,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,!ug(s,m)){var x=y.memoizedProps;if(l=l.compare,l=l!==null?l:Pc,l(x,u)&&s.ref===i.ref)return Cs(s,i,m)}return i.flags|=1,s=Ts(y,u),s.ref=i.ref,s.return=i,i.child=s}function Lx(s,i,l,u,m){if(s!==null){var y=s.memoizedProps;if(Pc(y,u)&&s.ref===i.ref)if(Gt=!1,i.pendingProps=u=y,ug(s,m))(s.flags&131072)!==0&&(Gt=!0);else return i.lanes=s.lanes,Cs(s,i,m)}return rg(s,i,l,u,m)}function Ux(s,i,l,u){var m=u.children,y=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,s!==null){for(u=i.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,i.child=null;return Fx(s,i,y,l,u)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&id(i,y!==null?y.cachePool:null),y!==null?qb(i,y):Op(),$b(i);else return u=i.lanes=536870912,Fx(s,i,y!==null?y.baseLanes|l:l,l,u)}else y!==null?(id(i,y.cachePool),qb(i,y),xi(),i.memoizedState=null):(s!==null&&id(i,null),Op(),xi());return dn(s,i,m,l),i.child}function Yc(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Fx(s,i,l,u,m){var y=Ip();return y=y===null?null:{parent:$t._currentValue,pool:y},i.memoizedState={baseLanes:l,cachePool:y},s!==null&&id(i,null),Op(),$b(i),s!==null&&Qo(s,i,u,!0),i.childLanes=m,null}function xd(s,i){return i=Ed({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function Bx(s,i,l){return ja(i,s.child,null,l),s=xd(i,i.pendingProps),s.flags|=2,Gn(i),i.memoizedState=null,s}function f2(s,i,l){var u=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Ze){if(u.mode==="hidden")return s=xd(i,u),i.lanes=536870912,Yc(null,s);if(Pp(i),(s=gt)?(s=ew(s,dr),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:fi!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},l=Sb(s),l.return=i,i.child=l,un=i,gt=null)):s=null,s===null)throw pi(i);return i.lanes=536870912,null}return xd(i,u)}var y=s.memoizedState;if(y!==null){var x=y.dehydrated;if(Pp(i),m)if(i.flags&256)i.flags&=-257,i=Bx(s,i,l);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(Gt||Qo(s,i,l,!1),m=(l&s.childLanes)!==0,Gt||m){if(u=pt,u!==null&&(x=yc(u,l),x!==0&&x!==y.retryLane))throw y.retryLane=x,Aa(s,x),zn(u,s,x),ng;kd(),i=Bx(s,i,l)}else s=y.treeContext,gt=mr(x.nextSibling),un=i,Ze=!0,mi=null,dr=!1,s!==null&&Nb(i,s),i=xd(i,u),i.flags|=4096;return i}return s=Ts(s.child,{mode:u.mode,children:u.children}),s.ref=i.ref,i.child=s,s.return=i,s}function wd(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function rg(s,i,l,u,m){return Ca(i),l=Vp(s,i,l,u,void 0,m),u=zp(),s!==null&&!Gt?(Lp(s,i,m),Cs(s,i,m)):(Ze&&u&&vp(i),i.flags|=1,dn(s,i,l,m),i.child)}function qx(s,i,l,u,m,y){return Ca(i),i.updateQueue=null,l=Gb(i,u,l,m),Hb(s),u=zp(),s!==null&&!Gt?(Lp(s,i,y),Cs(s,i,y)):(Ze&&u&&vp(i),i.flags|=1,dn(s,i,l,y),i.child)}function $x(s,i,l,u,m){if(Ca(i),i.stateNode===null){var y=$o,x=l.contextType;typeof x=="object"&&x!==null&&(y=hn(x)),y=new l(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=eg,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},Rp(i),x=l.contextType,y.context=typeof x=="object"&&x!==null?hn(x):$o,y.state=i.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Wp(i,l,x,u),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&eg.enqueueReplaceState(y,y.state,null),Hc(i,u,y,m),$c(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(s===null){y=i.stateNode;var S=i.memoizedProps,j=Ma(l,S);y.props=j;var G=y.context,te=l.contextType;x=$o,typeof te=="object"&&te!==null&&(x=hn(te));var se=l.getDerivedStateFromProps;te=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||G!==x)&&Cx(i,y,u,x),yi=!1;var K=i.memoizedState;y.state=K,Hc(i,u,y,m),$c(),G=i.memoizedState,S||K!==G||yi?(typeof se=="function"&&(Wp(i,l,se,u),G=i.memoizedState),(j=yi||Rx(i,l,j,u,K,G,x))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=G),y.props=u,y.state=G,y.context=x,u=j):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,Cp(s,i),x=i.memoizedProps,te=Ma(l,x),y.props=te,se=i.pendingProps,K=y.context,G=l.contextType,j=$o,typeof G=="object"&&G!==null&&(j=hn(G)),S=l.getDerivedStateFromProps,(G=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==se||K!==j)&&Cx(i,y,u,j),yi=!1,K=i.memoizedState,y.state=K,Hc(i,u,y,m),$c();var W=i.memoizedState;x!==se||K!==W||yi||s!==null&&s.dependencies!==null&&rd(s.dependencies)?(typeof S=="function"&&(Wp(i,l,S,u),W=i.memoizedState),(te=yi||Rx(i,l,te,u,K,W,j)||s!==null&&s.dependencies!==null&&rd(s.dependencies))?(G||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,W,j),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,W,j)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=W),y.props=u,y.state=W,y.context=j,u=te):(typeof y.componentDidUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),u=!1)}return y=u,wd(s,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,s!==null&&u?(i.child=ja(i,s.child,null,m),i.child=ja(i,null,l,m)):dn(s,i,l,m),i.memoizedState=y.state,s=i.child):s=Cs(s,i,m),s}function Hx(s,i,l,u){return Na(),i.flags|=256,dn(s,i,l,u),i.child}var sg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ig(s){return{baseLanes:s,cachePool:jb()}}function ag(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Qn),s}function Gx(s,i,l){var u=i.pendingProps,m=!1,y=(i.flags&128)!==0,x;if((x=y)||(x=s!==null&&s.memoizedState===null?!1:(Mt.current&2)!==0),x&&(m=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,s===null){if(Ze){if(m?bi(i):xi(),(s=gt)?(s=ew(s,dr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:fi!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},l=Sb(s),l.return=i,i.child=l,un=i,gt=null)):s=null,s===null)throw pi(i);return Bg(s)?i.lanes=32:i.lanes=536870912,null}var S=u.children;return u=u.fallback,m?(xi(),m=i.mode,S=Ed({mode:"hidden",children:S},m),u=Ia(u,m,l,null),S.return=i,u.return=i,S.sibling=u,i.child=S,u=i.child,u.memoizedState=ig(l),u.childLanes=ag(s,x,l),i.memoizedState=sg,Yc(null,u)):(bi(i),og(i,S))}var j=s.memoizedState;if(j!==null&&(S=j.dehydrated,S!==null)){if(y)i.flags&256?(bi(i),i.flags&=-257,i=lg(s,i,l)):i.memoizedState!==null?(xi(),i.child=s.child,i.flags|=128,i=null):(xi(),S=u.fallback,m=i.mode,u=Ed({mode:"visible",children:u.children},m),S=Ia(S,m,l,null),S.flags|=2,u.return=i,S.return=i,u.sibling=S,i.child=u,ja(i,s.child,null,l),u=i.child,u.memoizedState=ig(l),u.childLanes=ag(s,x,l),i.memoizedState=sg,i=Yc(null,u));else if(bi(i),Bg(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var G=x.dgst;x=G,u=Error(r(419)),u.stack="",u.digest=x,zc({value:u,source:null,stack:null}),i=lg(s,i,l)}else if(Gt||Qo(s,i,l,!1),x=(l&s.childLanes)!==0,Gt||x){if(x=pt,x!==null&&(u=yc(x,l),u!==0&&u!==j.retryLane))throw j.retryLane=u,Aa(s,u),zn(x,s,u),ng;Fg(S)||kd(),i=lg(s,i,l)}else Fg(S)?(i.flags|=192,i.child=s.child,i=null):(s=j.treeContext,gt=mr(S.nextSibling),un=i,Ze=!0,mi=null,dr=!1,s!==null&&Nb(i,s),i=og(i,u.children),i.flags|=4096);return i}return m?(xi(),S=u.fallback,m=i.mode,j=s.child,G=j.sibling,u=Ts(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,G!==null?S=Ts(G,S):(S=Ia(S,m,l,null),S.flags|=2),S.return=i,u.return=i,u.sibling=S,i.child=u,Yc(null,u),u=i.child,S=s.child.memoizedState,S===null?S=ig(l):(m=S.cachePool,m!==null?(j=$t._currentValue,m=m.parent!==j?{parent:j,pool:j}:m):m=jb(),S={baseLanes:S.baseLanes|l,cachePool:m}),u.memoizedState=S,u.childLanes=ag(s,x,l),i.memoizedState=sg,Yc(s.child,u)):(bi(i),l=s.child,s=l.sibling,l=Ts(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,s!==null&&(x=i.deletions,x===null?(i.deletions=[s],i.flags|=16):x.push(s)),i.child=l,i.memoizedState=null,l)}function og(s,i){return i=Ed({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Ed(s,i){return s=$n(22,s,null,i),s.lanes=0,s}function lg(s,i,l){return ja(i,s.child,null,l),s=og(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Kx(s,i,l){s.lanes|=i;var u=s.alternate;u!==null&&(u.lanes|=i),Ep(s.return,i,l)}function cg(s,i,l,u,m,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:y}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=m,x.treeForkCount=y)}function Qx(s,i,l){var u=i.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var x=Mt.current,S=(x&2)!==0;if(S?(x=x&1|2,i.flags|=128):x&=1,ie(Mt,x),dn(s,i,u,l),u=Ze?Vc:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Kx(s,l,i);else if(s.tag===19)Kx(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(l=i.child,m=null;l!==null;)s=l.alternate,s!==null&&hd(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),cg(i,!1,m,l,y,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&hd(s)===null){i.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}cg(i,!0,l,null,y,u);break;case"together":cg(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Cs(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Ti|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Qo(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=Ts(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Ts(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function ug(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&rd(s)))}function m2(s,i,l){switch(i.tag){case 3:Nt(i,i.stateNode.containerInfo),gi(i,$t,s.memoizedState.cache),Na();break;case 27:case 5:nr(i);break;case 4:Nt(i,i.stateNode.containerInfo);break;case 10:gi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Pp(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(bi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Gx(s,i,l):(bi(i),s=Cs(s,i,l),s!==null?s.sibling:null);bi(i);break;case 19:var m=(s.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Qo(s,i,l,!1),u=(l&i.childLanes)!==0),m){if(u)return Qx(s,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ie(Mt,Mt.current),u)break;return null;case 22:return i.lanes=0,Ux(s,i,l,i.pendingProps);case 24:gi(i,$t,s.memoizedState.cache)}return Cs(s,i,l)}function Zx(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Gt=!0;else{if(!ug(s,l)&&(i.flags&128)===0)return Gt=!1,m2(s,i,l);Gt=(s.flags&131072)!==0}else Gt=!1,Ze&&(i.flags&1048576)!==0&&Ib(i,Vc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(s=ka(i.elementType),i.type=s,typeof s=="function")pp(s)?(u=Ma(s,u),i.tag=1,i=$x(null,i,s,u,l)):(i.tag=0,i=rg(null,i,s,u,l));else{if(s!=null){var m=s.$$typeof;if(m===ae){i.tag=11,i=Vx(null,i,s,u,l);break e}else if(m===N){i.tag=14,i=zx(null,i,s,u,l);break e}}throw i=Se(s)||s,Error(r(306,i,""))}}return i;case 0:return rg(s,i,i.type,i.pendingProps,l);case 1:return u=i.type,m=Ma(u,i.pendingProps),$x(s,i,u,m,l);case 3:e:{if(Nt(i,i.stateNode.containerInfo),s===null)throw Error(r(387));u=i.pendingProps;var y=i.memoizedState;m=y.element,Cp(s,i),Hc(i,u,null,l);var x=i.memoizedState;if(u=x.cache,gi(i,$t,u),u!==y.cache&&Tp(i,[$t],l,!0),$c(),u=x.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Hx(s,i,u,l);break e}else if(u!==m){m=cr(Error(r(424)),i),zc(m),i=Hx(s,i,u,l);break e}else for(s=i.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,gt=mr(s.firstChild),un=i,Ze=!0,mi=null,dr=!0,l=Ub(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Na(),u===m){i=Cs(s,i,l);break e}dn(s,i,u,l)}i=i.child}return i;case 26:return wd(s,i),s===null?(l=aw(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ze||(l=i.type,s=i.pendingProps,u=Ld(Oe.current).createElement(l),u[Ft]=i,u[rn]=s,fn(u,l,s),Bt(u),i.stateNode=u):i.memoizedState=aw(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return nr(i),s===null&&Ze&&(u=i.stateNode=rw(i.type,i.pendingProps,Oe.current),un=i,dr=!0,m=gt,Ri(i.type)?(qg=m,gt=mr(u.firstChild)):gt=m),dn(s,i,i.pendingProps.children,l),wd(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Ze&&((m=u=gt)&&(u=$2(u,i.type,i.pendingProps,dr),u!==null?(i.stateNode=u,un=i,gt=mr(u.firstChild),dr=!1,m=!0):m=!1),m||pi(i)),nr(i),m=i.type,y=i.pendingProps,x=s!==null?s.memoizedProps:null,u=y.children,zg(m,y)?u=null:x!==null&&zg(m,x)&&(i.flags|=32),i.memoizedState!==null&&(m=Vp(s,i,i2,null,null,l),hu._currentValue=m),wd(s,i),dn(s,i,u,l),i.child;case 6:return s===null&&Ze&&((s=l=gt)&&(l=H2(l,i.pendingProps,dr),l!==null?(i.stateNode=l,un=i,gt=null,s=!0):s=!1),s||pi(i)),null;case 13:return Gx(s,i,l);case 4:return Nt(i,i.stateNode.containerInfo),u=i.pendingProps,s===null?i.child=ja(i,null,u,l):dn(s,i,u,l),i.child;case 11:return Vx(s,i,i.type,i.pendingProps,l);case 7:return dn(s,i,i.pendingProps,l),i.child;case 8:return dn(s,i,i.pendingProps.children,l),i.child;case 12:return dn(s,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,gi(i,i.type,u.value),dn(s,i,u.children,l),i.child;case 9:return m=i.type._context,u=i.pendingProps.children,Ca(i),m=hn(m),u=u(m),i.flags|=1,dn(s,i,u,l),i.child;case 14:return zx(s,i,i.type,i.pendingProps,l);case 15:return Lx(s,i,i.type,i.pendingProps,l);case 19:return Qx(s,i,l);case 31:return f2(s,i,l);case 22:return Ux(s,i,l,i.pendingProps);case 24:return Ca(i),u=hn($t),s===null?(m=Ip(),m===null&&(m=pt,y=Sp(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),i.memoizedState={parent:u,cache:m},Rp(i),gi(i,$t,m)):((s.lanes&l)!==0&&(Cp(s,i),Hc(i,null,null,l),$c()),m=s.memoizedState,y=i.memoizedState,m.parent!==u?(m={parent:u,cache:u},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),gi(i,$t,u)):(u=y.cache,gi(i,$t,u),u!==m.cache&&Tp(i,[$t],l,!0))),dn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ds(s){s.flags|=4}function hg(s,i,l,u,m){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(w0())s.flags|=8192;else throw Oa=od,Np}else s.flags&=-16777217}function Yx(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!hw(i))if(w0())s.flags|=8192;else throw Oa=od,Np}function Td(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Ch():536870912,s.lanes|=i,al|=i)}function Xc(s,i){if(!Ze)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function yt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(i)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=l,i}function p2(s,i,l){var u=i.pendingProps;switch(_p(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(i),null;case 1:return yt(i),null;case 3:return l=i.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Is($t),rt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Ko(i)?Ds(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xp())),yt(i),null;case 26:var m=i.type,y=i.memoizedState;return s===null?(Ds(i),y!==null?(yt(i),Yx(i,y)):(yt(i),hg(i,m,null,u,l))):y?y!==s.memoizedState?(Ds(i),yt(i),Yx(i,y)):(yt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==u&&Ds(i),yt(i),hg(i,m,s,u,l)),null;case 27:if(Fr(i),l=Oe.current,m=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Ds(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return yt(i),null}s=he.current,Ko(i)?Rb(i):(s=rw(m,u,l),i.stateNode=s,Ds(i))}return yt(i),null;case 5:if(Fr(i),m=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&Ds(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return yt(i),null}if(y=he.current,Ko(i))Rb(i);else{var x=Ld(Oe.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?x.createElement(m,{is:u.is}):x.createElement(m)}}y[Ft]=i,y[rn]=u;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=y;e:switch(fn(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ds(i)}}return yt(i),hg(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,l),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==u&&Ds(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(s=Oe.current,Ko(i)){if(s=i.stateNode,l=i.memoizedProps,u=null,m=un,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Ft]=i,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||G0(s.nodeValue,l)),s||pi(i,!0)}else s=Ld(s).createTextNode(u),s[Ft]=i,i.stateNode=s}return yt(i),null;case 31:if(l=i.memoizedState,s===null||s.memoizedState!==null){if(u=Ko(i),l!==null){if(s===null){if(!u)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Ft]=i}else Na(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),s=!1}else l=xp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return i.flags&256?(Gn(i),i):(Gn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return yt(i),null;case 13:if(u=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Ko(i),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Ft]=i}else Na(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),m=!1}else m=xp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Gn(i),i):(Gn(i),null)}return Gn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=i.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),l!==s&&l&&(i.child.flags|=8192),Td(i,i.updateQueue),yt(i),null);case 4:return rt(),s===null&&Og(i.stateNode.containerInfo),yt(i),null;case 10:return Is(i.type),yt(i),null;case 19:if(Z(Mt),u=i.memoizedState,u===null)return yt(i),null;if(m=(i.flags&128)!==0,y=u.rendering,y===null)if(m)Xc(u,!1);else{if(Ct!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(y=hd(s),y!==null){for(i.flags|=128,Xc(u,!1),s=y.updateQueue,i.updateQueue=s,Td(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)Tb(l,s),l=l.sibling;return ie(Mt,Mt.current&1|2),Ze&&Ss(i,u.treeForkCount),i.child}s=s.sibling}u.tail!==null&&En()>Rd&&(i.flags|=128,m=!0,Xc(u,!1),i.lanes=4194304)}else{if(!m)if(s=hd(y),s!==null){if(i.flags|=128,m=!0,s=s.updateQueue,i.updateQueue=s,Td(i,s),Xc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Ze)return yt(i),null}else 2*En()-u.renderingStartTime>Rd&&l!==536870912&&(i.flags|=128,m=!0,Xc(u,!1),i.lanes=4194304);u.isBackwards?(y.sibling=i.child,i.child=y):(s=u.last,s!==null?s.sibling=y:i.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=En(),s.sibling=null,l=Mt.current,ie(Mt,m?l&1|2:l&1),Ze&&Ss(i,u.treeForkCount),s):(yt(i),null);case 22:case 23:return Gn(i),jp(),u=i.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(yt(i),i.subtreeFlags&6&&(i.flags|=8192)):yt(i),l=i.updateQueue,l!==null&&Td(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),s!==null&&Z(Da),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Is($t),yt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function g2(s,i){switch(_p(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Is($t),rt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Fr(i),null;case 31:if(i.memoizedState!==null){if(Gn(i),i.alternate===null)throw Error(r(340));Na()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(Gn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Na()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Z(Mt),null;case 4:return rt(),null;case 10:return Is(i.type),null;case 22:case 23:return Gn(i),jp(),s!==null&&Z(Da),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Is($t),null;case 25:return null;default:return null}}function Xx(s,i){switch(_p(i),i.tag){case 3:Is($t),rt();break;case 26:case 27:case 5:Fr(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&Gn(i);break;case 13:Gn(i);break;case 19:Z(Mt);break;case 10:Is(i.type);break;case 22:case 23:Gn(i),jp(),s!==null&&Z(Da);break;case 24:Is($t)}}function Jc(s,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&s)===s){u=void 0;var y=l.create,x=l.inst;u=y(),x.destroy=u}l=l.next}while(l!==m)}}catch(S){at(i,i.return,S)}}function wi(s,i,l){try{var u=i.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&s)===s){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,m=i;var j=l,G=S;try{G()}catch(te){at(m,j,te)}}}u=u.next}while(u!==y)}}catch(te){at(i,i.return,te)}}function Jx(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{Bb(i,l)}catch(u){at(s,s.return,u)}}}function Wx(s,i,l){l.props=Ma(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){at(s,i,u)}}function Wc(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(m){at(s,i,m)}}function ls(s,i){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){at(s,i,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){at(s,i,m)}else l.current=null}function e0(s){var i=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){at(s,s.return,m)}}function dg(s,i,l){try{var u=s.stateNode;z2(u,s.type,l,i),u[rn]=i}catch(m){at(s,s.return,m)}}function t0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ri(s.type)||s.tag===4}function fg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||t0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ri(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function mg(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Rr));else if(u!==4&&(u===27&&Ri(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(mg(s,i,l),s=s.sibling;s!==null;)mg(s,i,l),s=s.sibling}function Sd(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(u!==4&&(u===27&&Ri(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Sd(s,i,l),s=s.sibling;s!==null;)Sd(s,i,l),s=s.sibling}function n0(s){var i=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);fn(i,u,l),i[Ft]=s,i[rn]=l}catch(y){at(s,s.return,y)}}var ks=!1,Kt=!1,pg=!1,r0=typeof WeakSet=="function"?WeakSet:Set,an=null;function y2(s,i){if(s=s.containerInfo,Mg=Gd,s=pb(s),lp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var x=0,S=-1,j=-1,G=0,te=0,se=s,K=null;t:for(;;){for(var W;se!==l||m!==0&&se.nodeType!==3||(S=x+m),se!==y||u!==0&&se.nodeType!==3||(j=x+u),se.nodeType===3&&(x+=se.nodeValue.length),(W=se.firstChild)!==null;)K=se,se=W;for(;;){if(se===s)break t;if(K===l&&++G===m&&(S=x),K===y&&++te===u&&(j=x),(W=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=W}l=S===-1||j===-1?null:{start:S,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Vg={focusedElem:s,selectionRange:l},Gd=!1,an=i;an!==null;)if(i=an,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,an=s;else for(;an!==null;){switch(i=an,y=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)m=s[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=i,m=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var ge=Ma(l.type,m);s=u.getSnapshotBeforeUpdate(ge,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){at(l,l.return,Ne)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Ug(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ug(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,an=s;break}an=i.return}}function s0(s,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:js(s,l),u&4&&Jc(5,l);break;case 1:if(js(s,l),u&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(x){at(l,l.return,x)}else{var m=Ma(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(m,i,s.__reactInternalSnapshotBeforeUpdate)}catch(x){at(l,l.return,x)}}u&64&&Jx(l),u&512&&Wc(l,l.return);break;case 3:if(js(s,l),u&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Bb(s,i)}catch(x){at(l,l.return,x)}}break;case 27:i===null&&u&4&&n0(l);case 26:case 5:js(s,l),i===null&&u&4&&e0(l),u&512&&Wc(l,l.return);break;case 12:js(s,l);break;case 31:js(s,l),u&4&&o0(s,l);break;case 13:js(s,l),u&4&&l0(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=A2.bind(null,l),G2(s,l))));break;case 22:if(u=l.memoizedState!==null||ks,!u){i=i!==null&&i.memoizedState!==null||Kt,m=ks;var y=Kt;ks=u,(Kt=i)&&!y?Ps(s,l,(l.subtreeFlags&8772)!==0):js(s,l),ks=m,Kt=y}break;case 30:break;default:js(s,l)}}function i0(s){var i=s.alternate;i!==null&&(s.alternate=null,i0(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&Co(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var bt=null,jn=!1;function Os(s,i,l){for(l=l.child;l!==null;)a0(s,i,l),l=l.sibling}function a0(s,i,l){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Sr,l)}catch{}switch(l.tag){case 26:Kt||ls(l,i),Os(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Kt||ls(l,i);var u=bt,m=jn;Ri(l.type)&&(bt=l.stateNode,jn=!1),Os(s,i,l),lu(l.stateNode),bt=u,jn=m;break;case 5:Kt||ls(l,i);case 6:if(u=bt,m=jn,bt=null,Os(s,i,l),bt=u,jn=m,bt!==null)if(jn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(l.stateNode)}catch(y){at(l,i,y)}else try{bt.removeChild(l.stateNode)}catch(y){at(l,i,y)}break;case 18:bt!==null&&(jn?(s=bt,J0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),ml(s)):J0(bt,l.stateNode));break;case 4:u=bt,m=jn,bt=l.stateNode.containerInfo,jn=!0,Os(s,i,l),bt=u,jn=m;break;case 0:case 11:case 14:case 15:wi(2,l,i),Kt||wi(4,l,i),Os(s,i,l);break;case 1:Kt||(ls(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Wx(l,i,u)),Os(s,i,l);break;case 21:Os(s,i,l);break;case 22:Kt=(u=Kt)||l.memoizedState!==null,Os(s,i,l),Kt=u;break;default:Os(s,i,l)}}function o0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ml(s)}catch(l){at(i,i.return,l)}}}function l0(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ml(s)}catch(l){at(i,i.return,l)}}function v2(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new r0),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new r0),i;default:throw Error(r(435,s.tag))}}function Ad(s,i){var l=v2(s);i.forEach(function(u){if(!l.has(u)){l.add(u);var m=I2.bind(null,s,u);u.then(m,m)}})}function Pn(s,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],y=s,x=i,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(Ri(S.type)){bt=S.stateNode,jn=!1;break e}break;case 5:bt=S.stateNode,jn=!1;break e;case 3:case 4:bt=S.stateNode.containerInfo,jn=!0;break e}S=S.return}if(bt===null)throw Error(r(160));a0(y,x,m),bt=null,jn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)c0(i,s),i=i.sibling}var Pr=null;function c0(s,i){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Pn(i,s),Mn(s),u&4&&(wi(3,s,s.return),Jc(3,s),wi(5,s,s.return));break;case 1:Pn(i,s),Mn(s),u&512&&(Kt||l===null||ls(l,l.return)),u&64&&ks&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=Pr;if(Pn(i,s),Mn(s),u&512&&(Kt||l===null||ls(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Qr]||y[Ft]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),fn(y,u,l),y[Ft]=s,Bt(y),u=y;break e;case"link":var x=cw("link","href",m).get(u+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(y=x[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}y=m.createElement(u),fn(y,u,l),m.head.appendChild(y);break;case"meta":if(x=cw("meta","content",m).get(u+(l.content||""))){for(S=0;S<x.length;S++)if(y=x[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}y=m.createElement(u),fn(y,u,l),m.head.appendChild(y);break;default:throw Error(r(468,u))}y[Ft]=s,Bt(y),u=y}s.stateNode=u}else uw(m,s.type,s.stateNode);else s.stateNode=lw(m,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?uw(m,s.type,s.stateNode):lw(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&dg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Pn(i,s),Mn(s),u&512&&(Kt||l===null||ls(l,l.return)),l!==null&&u&4&&dg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Pn(i,s),Mn(s),u&512&&(Kt||l===null||ls(l,l.return)),s.flags&32){m=s.stateNode;try{On(m,"")}catch(ge){at(s,s.return,ge)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,dg(s,m,l!==null?l.memoizedProps:m)),u&1024&&(pg=!0);break;case 6:if(Pn(i,s),Mn(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ge){at(s,s.return,ge)}}break;case 3:if(Bd=null,m=Pr,Pr=Ud(i.containerInfo),Pn(i,s),Pr=m,Mn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ml(i.containerInfo)}catch(ge){at(s,s.return,ge)}pg&&(pg=!1,u0(s));break;case 4:u=Pr,Pr=Ud(s.stateNode.containerInfo),Pn(i,s),Mn(s),Pr=u;break;case 12:Pn(i,s),Mn(s);break;case 31:Pn(i,s),Mn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ad(s,u)));break;case 13:Pn(i,s),Mn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Nd=En()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ad(s,u)));break;case 22:m=s.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,G=ks,te=Kt;if(ks=G||m,Kt=te||j,Pn(i,s),Kt=te,ks=G,Mn(s),u&8192)e:for(i=s.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(l===null||j||ks||Kt||Va(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){j=l=i;try{if(y=j.stateNode,m)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=j.stateNode;var se=j.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ge){at(j,j.return,ge)}}}else if(i.tag===6){if(l===null){j=i;try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(ge){at(j,j.return,ge)}}}else if(i.tag===18){if(l===null){j=i;try{var W=j.stateNode;m?W0(W,!0):W0(j.stateNode,!1)}catch(ge){at(j,j.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ad(s,l))));break;case 19:Pn(i,s),Mn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ad(s,u)));break;case 30:break;case 21:break;default:Pn(i,s),Mn(s)}}function Mn(s){var i=s.flags;if(i&2){try{for(var l,u=s.return;u!==null;){if(t0(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=fg(s);Sd(s,y,m);break;case 5:var x=l.stateNode;l.flags&32&&(On(x,""),l.flags&=-33);var S=fg(s);Sd(s,S,x);break;case 3:case 4:var j=l.stateNode.containerInfo,G=fg(s);mg(s,G,j);break;default:throw Error(r(161))}}catch(te){at(s,s.return,te)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function u0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;u0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function js(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)s0(s,i.alternate,i),i=i.sibling}function Va(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:wi(4,i,i.return),Va(i);break;case 1:ls(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Wx(i,i.return,l),Va(i);break;case 27:lu(i.stateNode);case 26:case 5:ls(i,i.return),Va(i);break;case 22:i.memoizedState===null&&Va(i);break;case 30:Va(i);break;default:Va(i)}s=s.sibling}}function Ps(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,m=s,y=i,x=y.flags;switch(y.tag){case 0:case 11:case 15:Ps(m,y,l),Jc(4,y);break;case 1:if(Ps(m,y,l),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){at(u,u.return,G)}if(u=y,m=u.updateQueue,m!==null){var S=u.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)Fb(j[m],S)}catch(G){at(u,u.return,G)}}l&&x&64&&Jx(y),Wc(y,y.return);break;case 27:n0(y);case 26:case 5:Ps(m,y,l),l&&u===null&&x&4&&e0(y),Wc(y,y.return);break;case 12:Ps(m,y,l);break;case 31:Ps(m,y,l),l&&x&4&&o0(m,y);break;case 13:Ps(m,y,l),l&&x&4&&l0(m,y);break;case 22:y.memoizedState===null&&Ps(m,y,l),Wc(y,y.return);break;case 30:break;default:Ps(m,y,l)}i=i.sibling}}function gg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Lc(l))}function yg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Lc(s))}function Mr(s,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)h0(s,i,l,u),i=i.sibling}function h0(s,i,l,u){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Mr(s,i,l,u),m&2048&&Jc(9,i);break;case 1:Mr(s,i,l,u);break;case 3:Mr(s,i,l,u),m&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Lc(s)));break;case 12:if(m&2048){Mr(s,i,l,u),s=i.stateNode;try{var y=i.memoizedProps,x=y.id,S=y.onPostCommit;typeof S=="function"&&S(x,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){at(i,i.return,j)}}else Mr(s,i,l,u);break;case 31:Mr(s,i,l,u);break;case 13:Mr(s,i,l,u);break;case 23:break;case 22:y=i.stateNode,x=i.alternate,i.memoizedState!==null?y._visibility&2?Mr(s,i,l,u):eu(s,i):y._visibility&2?Mr(s,i,l,u):(y._visibility|=2,rl(s,i,l,u,(i.subtreeFlags&10256)!==0||!1)),m&2048&&gg(x,i);break;case 24:Mr(s,i,l,u),m&2048&&yg(i.alternate,i);break;default:Mr(s,i,l,u)}}function rl(s,i,l,u,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=s,x=i,S=l,j=u,G=x.flags;switch(x.tag){case 0:case 11:case 15:rl(y,x,S,j,m),Jc(8,x);break;case 23:break;case 22:var te=x.stateNode;x.memoizedState!==null?te._visibility&2?rl(y,x,S,j,m):eu(y,x):(te._visibility|=2,rl(y,x,S,j,m)),m&&G&2048&&gg(x.alternate,x);break;case 24:rl(y,x,S,j,m),m&&G&2048&&yg(x.alternate,x);break;default:rl(y,x,S,j,m)}i=i.sibling}}function eu(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,u=i,m=u.flags;switch(u.tag){case 22:eu(l,u),m&2048&&gg(u.alternate,u);break;case 24:eu(l,u),m&2048&&yg(u.alternate,u);break;default:eu(l,u)}i=i.sibling}}var tu=8192;function sl(s,i,l){if(s.subtreeFlags&tu)for(s=s.child;s!==null;)d0(s,i,l),s=s.sibling}function d0(s,i,l){switch(s.tag){case 26:sl(s,i,l),s.flags&tu&&s.memoizedState!==null&&sC(l,Pr,s.memoizedState,s.memoizedProps);break;case 5:sl(s,i,l);break;case 3:case 4:var u=Pr;Pr=Ud(s.stateNode.containerInfo),sl(s,i,l),Pr=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=tu,tu=16777216,sl(s,i,l),tu=u):sl(s,i,l));break;default:sl(s,i,l)}}function f0(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function nu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];an=u,p0(u,s)}f0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m0(s),s=s.sibling}function m0(s){switch(s.tag){case 0:case 11:case 15:nu(s),s.flags&2048&&wi(9,s,s.return);break;case 3:nu(s);break;case 12:nu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Id(s)):nu(s);break;default:nu(s)}}function Id(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];an=u,p0(u,s)}f0(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:wi(8,i,i.return),Id(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Id(i));break;default:Id(i)}s=s.sibling}}function p0(s,i){for(;an!==null;){var l=an;switch(l.tag){case 0:case 11:case 15:wi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Lc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,an=u;else e:for(l=s;an!==null;){u=an;var m=u.sibling,y=u.return;if(i0(u),u===l){an=null;break e}if(m!==null){m.return=y,an=m;break e}an=y}}}var _2={getCacheForType:function(s){var i=hn($t),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l},cacheSignal:function(){return hn($t).controller.signal}},b2=typeof WeakMap=="function"?WeakMap:Map,nt=0,pt=null,qe=null,He=0,it=0,Kn=null,Ei=!1,il=!1,vg=!1,Ms=0,Ct=0,Ti=0,za=0,_g=0,Qn=0,al=0,ru=null,Vn=null,bg=!1,Nd=0,g0=0,Rd=1/0,Cd=null,Si=null,Jt=0,Ai=null,ol=null,Vs=0,xg=0,wg=null,y0=null,su=0,Eg=null;function Zn(){return(nt&2)!==0&&He!==0?He&-He:$.T!==null?Rg():Dh()}function v0(){if(Qn===0)if((He&536870912)===0||Ze){var s=ha;ha<<=1,(ha&3932160)===0&&(ha=262144),Qn=s}else Qn=536870912;return s=Hn.current,s!==null&&(s.flags|=32),Qn}function zn(s,i,l){(s===pt&&(it===2||it===9)||s.cancelPendingCommit!==null)&&(ll(s,0),Ii(s,He,Qn,!1)),da(s,l),((nt&2)===0||s!==pt)&&(s===pt&&((nt&2)===0&&(za|=l),Ct===4&&Ii(s,He,Qn,!1)),cs(s))}function _0(s,i,l){if((nt&6)!==0)throw Error(r(327));var u=!l&&(i&127)===0&&(i&s.expiredLanes)===0||Ar(s,i),m=u?E2(s,i):Sg(s,i,!0),y=u;do{if(m===0){il&&!u&&Ii(s,i,0,!1);break}else{if(l=s.current.alternate,y&&!x2(l)){m=Sg(s,i,!1),y=!1;continue}if(m===2){if(y=i,s.errorRecoveryDisabledLanes&y)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var S=s;m=ru;var j=S.current.memoizedState.isDehydrated;if(j&&(ll(S,x).flags|=256),x=Sg(S,x,!1),x!==2){if(vg&&!j){S.errorRecoveryDisabledLanes|=y,za|=y,m=4;break e}y=Vn,Vn=m,y!==null&&(Vn===null?Vn=y:Vn.push.apply(Vn,y))}m=x}if(y=!1,m!==2)continue}}if(m===1){ll(s,0),Ii(s,i,0,!0);break}e:{switch(u=s,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ii(u,i,Qn,!Ei);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(m=Nd+300-En(),10<m)){if(Ii(u,i,Qn,!Ei),Hr(u,0,!0)!==0)break e;Vs=i,u.timeoutHandle=Y0(b0.bind(null,u,l,Vn,Cd,bg,i,Qn,za,al,Ei,y,"Throttled",-0,0),m);break e}b0(u,l,Vn,Cd,bg,i,Qn,za,al,Ei,y,null,-0,0)}}break}while(!0);cs(s)}function b0(s,i,l,u,m,y,x,S,j,G,te,se,K,W){if(s.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rr},d0(i,y,se);var ge=(y&62914560)===y?Nd-En():(y&4194048)===y?g0-En():0;if(ge=iC(se,ge),ge!==null){Vs=y,s.cancelPendingCommit=ge(N0.bind(null,s,i,y,l,u,m,x,S,j,te,se,null,K,W)),Ii(s,y,x,!G);return}}N0(s,i,y,l,u,m,x,S,j)}function x2(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],y=m.getSnapshot;m=m.value;try{if(!qn(y(),m))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ii(s,i,l,u){i&=~_g,i&=~za,s.suspendedLanes|=i,s.pingedLanes&=~i,u&&(s.warmLanes|=i),u=s.expirationTimes;for(var m=i;0<m;){var y=31-jt(m),x=1<<y;u[y]=-1,m&=~x}l!==0&&fa(s,l,i)}function Dd(){return(nt&6)===0?(iu(0),!1):!0}function Tg(){if(qe!==null){if(it===0)var s=qe.return;else s=qe,As=Ra=null,Up(s),Jo=null,Fc=0,s=qe;for(;s!==null;)Xx(s.alternate,s),s=s.return;qe=null}}function ll(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,F2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Vs=0,Tg(),pt=s,qe=l=Ts(s.current,null),He=i,it=0,Kn=null,Ei=!1,il=Ar(s,i),vg=!1,al=Qn=_g=za=Ti=Ct=0,Vn=ru=null,bg=!1,(i&8)!==0&&(i|=i&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=i;0<u;){var m=31-jt(u),y=1<<m;i|=s[m],u&=~y}return Ms=i,Jh(),l}function x0(s,i){ze=null,$.H=Zc,i===Xo||i===ad?(i=Vb(),it=3):i===Np?(i=Vb(),it=4):it=i===ng?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kn=i,qe===null&&(Ct=1,bd(s,cr(i,s.current)))}function w0(){var s=Hn.current;return s===null?!0:(He&4194048)===He?fr===null:(He&62914560)===He||(He&536870912)!==0?s===fr:!1}function E0(){var s=$.H;return $.H=Zc,s===null?Zc:s}function T0(){var s=$.A;return $.A=_2,s}function kd(){Ct=4,Ei||(He&4194048)!==He&&Hn.current!==null||(il=!0),(Ti&134217727)===0&&(za&134217727)===0||pt===null||Ii(pt,He,Qn,!1)}function Sg(s,i,l){var u=nt;nt|=2;var m=E0(),y=T0();(pt!==s||He!==i)&&(Cd=null,ll(s,i)),i=!1;var x=Ct;e:do try{if(it!==0&&qe!==null){var S=qe,j=Kn;switch(it){case 8:Tg(),x=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(i=!0);var G=it;if(it=0,Kn=null,cl(s,S,j,G),l&&il){x=0;break e}break;default:G=it,it=0,Kn=null,cl(s,S,j,G)}}w2(),x=Ct;break}catch(te){x0(s,te)}while(!0);return i&&s.shellSuspendCounter++,As=Ra=null,nt=u,$.H=m,$.A=y,qe===null&&(pt=null,He=0,Jh()),x}function w2(){for(;qe!==null;)S0(qe)}function E2(s,i){var l=nt;nt|=2;var u=E0(),m=T0();pt!==s||He!==i?(Cd=null,Rd=En()+500,ll(s,i)):il=Ar(s,i);e:do try{if(it!==0&&qe!==null){i=qe;var y=Kn;t:switch(it){case 1:it=0,Kn=null,cl(s,i,y,1);break;case 2:case 9:if(Pb(y)){it=0,Kn=null,A0(i);break}i=function(){it!==2&&it!==9||pt!==s||(it=7),cs(s)},y.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Pb(y)?(it=0,Kn=null,A0(i)):(it=0,Kn=null,cl(s,i,y,7));break;case 5:var x=null;switch(qe.tag){case 26:x=qe.memoizedState;case 5:case 27:var S=qe;if(x?hw(x):S.stateNode.complete){it=0,Kn=null;var j=S.sibling;if(j!==null)qe=j;else{var G=S.return;G!==null?(qe=G,Od(G)):qe=null}break t}}it=0,Kn=null,cl(s,i,y,5);break;case 6:it=0,Kn=null,cl(s,i,y,6);break;case 8:Tg(),Ct=6;break e;default:throw Error(r(462))}}T2();break}catch(te){x0(s,te)}while(!0);return As=Ra=null,$.H=u,$.A=m,nt=l,qe!==null?0:(pt=null,He=0,Jh(),Ct)}function T2(){for(;qe!==null&&!tp();)S0(qe)}function S0(s){var i=Zx(s.alternate,s,Ms);s.memoizedProps=s.pendingProps,i===null?Od(s):qe=i}function A0(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=qx(l,i,i.pendingProps,i.type,void 0,He);break;case 11:i=qx(l,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:Up(i);default:Xx(l,i),i=qe=Tb(i,Ms),i=Zx(l,i,Ms)}s.memoizedProps=s.pendingProps,i===null?Od(s):qe=i}function cl(s,i,l,u){As=Ra=null,Up(i),Jo=null,Fc=0;var m=i.return;try{if(d2(s,m,i,l,He)){Ct=1,bd(s,cr(l,s.current)),qe=null;return}}catch(y){if(m!==null)throw qe=m,y;Ct=1,bd(s,cr(l,s.current)),qe=null;return}i.flags&32768?(Ze||u===1?s=!0:il||(He&536870912)!==0?s=!1:(Ei=s=!0,(u===2||u===9||u===3||u===6)&&(u=Hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),I0(i,s)):Od(i)}function Od(s){var i=s;do{if((i.flags&32768)!==0){I0(i,Ei);return}s=i.return;var l=p2(i.alternate,i,Ms);if(l!==null){qe=l;return}if(i=i.sibling,i!==null){qe=i;return}qe=i=s}while(i!==null);Ct===0&&(Ct=5)}function I0(s,i){do{var l=g2(s.alternate,s);if(l!==null){l.flags&=32767,qe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){qe=s;return}qe=s=l}while(s!==null);Ct=6,qe=null}function N0(s,i,l,u,m,y,x,S,j){s.cancelPendingCommit=null;do jd();while(Jt!==0);if((nt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(y=i.lanes|i.childLanes,y|=fp,sp(s,l,y,x,S,j),s===pt&&(qe=pt=null,He=0),ol=i,Ai=s,Vs=l,xg=y,wg=m,y0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,N2(ri,function(){return O0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,m=ce.p,ce.p=2,x=nt,nt|=4;try{y2(s,i,l)}finally{nt=x,ce.p=m,$.T=u}}Jt=1,R0(),C0(),D0()}}function R0(){if(Jt===1){Jt=0;var s=Ai,i=ol,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=ce.p;ce.p=2;var m=nt;nt|=4;try{c0(i,s);var y=Vg,x=pb(s.containerInfo),S=y.focusedElem,j=y.selectionRange;if(x!==S&&S&&S.ownerDocument&&mb(S.ownerDocument.documentElement,S)){if(j!==null&&lp(S)){var G=j.start,te=j.end;if(te===void 0&&(te=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(te,S.value.length);else{var se=S.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var W=K.getSelection(),ge=S.textContent.length,Ne=Math.min(j.start,ge),mt=j.end===void 0?Ne:Math.min(j.end,ge);!W.extend&&Ne>mt&&(x=mt,mt=Ne,Ne=x);var F=fb(S,Ne),z=fb(S,mt);if(F&&z&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var H=se.createRange();H.setStart(F.node,F.offset),W.removeAllRanges(),Ne>mt?(W.addRange(H),W.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),W.addRange(H))}}}}for(se=[],W=S;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ne=se[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Gd=!!Mg,Vg=Mg=null}finally{nt=m,ce.p=u,$.T=l}}s.current=i,Jt=2}}function C0(){if(Jt===2){Jt=0;var s=Ai,i=ol,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=ce.p;ce.p=2;var m=nt;nt|=4;try{s0(s,i.alternate,i)}finally{nt=m,ce.p=u,$.T=l}}Jt=3}}function D0(){if(Jt===4||Jt===3){Jt=0,Th();var s=Ai,i=ol,l=Vs,u=y0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Jt=5:(Jt=0,ol=Ai=null,k0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Si=null),bs(l),i=i.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Sr,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=$.T,m=ce.p,ce.p=2,$.T=null;try{for(var y=s.onRecoverableError,x=0;x<u.length;x++){var S=u[x];y(S.value,{componentStack:S.stack})}}finally{$.T=i,ce.p=m}}(Vs&3)!==0&&jd(),cs(s),m=s.pendingLanes,(l&261930)!==0&&(m&42)!==0?s===Eg?su++:(su=0,Eg=s):su=0,iu(0)}}function k0(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Lc(i)))}function jd(){return R0(),C0(),D0(),O0()}function O0(){if(Jt!==5)return!1;var s=Ai,i=xg;xg=0;var l=bs(Vs),u=$.T,m=ce.p;try{ce.p=32>l?32:l,$.T=null,l=wg,wg=null;var y=Ai,x=Vs;if(Jt=0,ol=Ai=null,Vs=0,(nt&6)!==0)throw Error(r(331));var S=nt;if(nt|=4,m0(y.current),h0(y,y.current,x,l),nt=S,iu(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Sr,y)}catch{}return!0}finally{ce.p=m,$.T=u,k0(s,i)}}function j0(s,i,l){i=cr(l,i),i=tg(s.stateNode,i,2),s=_i(s,i,2),s!==null&&(da(s,2),cs(s))}function at(s,i,l){if(s.tag===3)j0(s,s,l);else for(;i!==null;){if(i.tag===3){j0(i,s,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Si===null||!Si.has(u))){s=cr(l,s),l=Px(2),u=_i(i,l,2),u!==null&&(Mx(l,u,i,s),da(u,2),cs(u));break}}i=i.return}}function Ag(s,i,l){var u=s.pingCache;if(u===null){u=s.pingCache=new b2;var m=new Set;u.set(i,m)}else m=u.get(i),m===void 0&&(m=new Set,u.set(i,m));m.has(l)||(vg=!0,m.add(l),s=S2.bind(null,s,i,l),i.then(s,s))}function S2(s,i,l){var u=s.pingCache;u!==null&&u.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,pt===s&&(He&l)===l&&(Ct===4||Ct===3&&(He&62914560)===He&&300>En()-Nd?(nt&2)===0&&ll(s,0):_g|=l,al===He&&(al=0)),cs(s)}function P0(s,i){i===0&&(i=Ch()),s=Aa(s,i),s!==null&&(da(s,i),cs(s))}function A2(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),P0(s,l)}function I2(s,i){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),P0(s,l)}function N2(s,i){return Xt(s,i)}var Pd=null,ul=null,Ig=!1,Md=!1,Ng=!1,Ni=0;function cs(s){s!==ul&&s.next===null&&(ul===null?Pd=ul=s:ul=ul.next=s),Md=!0,Ig||(Ig=!0,C2())}function iu(s,i){if(!Ng&&Md){Ng=!0;do for(var l=!1,u=Pd;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var x=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-jt(42|s)+1)-1,y&=m&~(x&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,L0(u,y))}else y=He,y=Hr(u,u===pt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Ar(u,y)||(l=!0,L0(u,y));u=u.next}while(l);Ng=!1}}function R2(){M0()}function M0(){Md=Ig=!1;var s=0;Ni!==0&&U2()&&(s=Ni);for(var i=En(),l=null,u=Pd;u!==null;){var m=u.next,y=V0(u,i);y===0?(u.next=null,l===null?Pd=m:l.next=m,m===null&&(ul=l)):(l=u,(s!==0||(y&3)!==0)&&(Md=!0)),u=m}Jt!==0&&Jt!==5||iu(s),Ni!==0&&(Ni=0)}function V0(s,i){for(var l=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var x=31-jt(y),S=1<<x,j=m[x];j===-1?((S&l)===0||(S&u)!==0)&&(m[x]=rp(S,i)):j<=i&&(s.expiredLanes|=S),y&=~S}if(i=pt,l=He,l=Hr(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===i&&(it===2||it===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ni(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Ar(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(u!==null&&ni(u),bs(l)){case 2:case 8:l=pc;break;case 32:l=ri;break;case 268435456:l=Sh;break;default:l=ri}return u=z0.bind(null,s),l=Xt(l,u),s.callbackPriority=i,s.callbackNode=l,i}return u!==null&&u!==null&&ni(u),s.callbackPriority=2,s.callbackNode=null,2}function z0(s,i){if(Jt!==0&&Jt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(jd()&&s.callbackNode!==l)return null;var u=He;return u=Hr(s,s===pt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(_0(s,u,i),V0(s,En()),s.callbackNode!=null&&s.callbackNode===l?z0.bind(null,s):null)}function L0(s,i){if(jd())return null;_0(s,i,!0)}function C2(){B2(function(){(nt&6)!==0?Xt(mc,R2):M0()})}function Rg(){if(Ni===0){var s=Zo;s===0&&(s=qr,qr<<=1,(qr&261888)===0&&(qr=256)),Ni=s}return Ni}function U0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:jo(""+s)}function F0(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function D2(s,i,l,u,m){if(i==="submit"&&l&&l.stateNode===m){var y=U0((m[rn]||null).action),x=u.submitter;x&&(i=(i=x[rn]||null)?U0(i.formAction):x.getAttribute("formAction"),i!==null&&(y=i,x=null));var S=new ns("action","action",null,u,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ni!==0){var j=x?F0(m,x):new FormData(m);Zp(l,{pending:!0,data:j,method:m.method,action:y},null,j)}}else typeof y=="function"&&(S.preventDefault(),j=x?F0(m,x):new FormData(m),Zp(l,{pending:!0,data:j,method:m.method,action:y},y,j))},currentTarget:m}]})}}for(var Cg=0;Cg<dp.length;Cg++){var Dg=dp[Cg],k2=Dg.toLowerCase(),O2=Dg[0].toUpperCase()+Dg.slice(1);jr(k2,"on"+O2)}jr(vb,"onAnimationEnd"),jr(_b,"onAnimationIteration"),jr(bb,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(ZR,"onTransitionRun"),jr(YR,"onTransitionStart"),jr(XR,"onTransitionCancel"),jr(xb,"onTransitionEnd"),Jr("onMouseEnter",["mouseout","mouseover"]),Jr("onMouseLeave",["mouseout","mouseover"]),Jr("onPointerEnter",["pointerout","pointerover"]),Jr("onPointerLeave",["pointerout","pointerover"]),Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function B0(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],m=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var x=u.length-1;0<=x;x--){var S=u[x],j=S.instance,G=S.currentTarget;if(S=S.listener,j!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=G;try{y(m)}catch(te){Xh(te)}m.currentTarget=null,y=j}else for(x=0;x<u.length;x++){if(S=u[x],j=S.instance,G=S.currentTarget,S=S.listener,j!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=G;try{y(m)}catch(te){Xh(te)}m.currentTarget=null,y=j}}}}function $e(s,i){var l=i[Ro];l===void 0&&(l=i[Ro]=new Set);var u=s+"__bubble";l.has(u)||(q0(i,s,2,!1),l.add(u))}function kg(s,i,l){var u=0;i&&(u|=4),q0(l,s,u,i)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function Og(s){if(!s[Vd]){s[Vd]=!0,vc.forEach(function(l){l!=="selectionchange"&&(j2.has(l)||kg(l,!1,s),kg(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Vd]||(i[Vd]=!0,kg("selectionchange",!1,i))}}function q0(s,i,l,u){switch(vw(i)){case 2:var m=lC;break;case 8:m=cC;break;default:m=Qg}l=m.bind(null,i,l,s),m=void 0,!va||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(i,l,{capture:!0,passive:m}):s.addEventListener(i,l,!0):m!==void 0?s.addEventListener(i,l,{passive:m}):s.addEventListener(i,l,!1)}function jg(s,i,l,u,m){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===m)break;if(x===4)for(x=u.return;x!==null;){var j=x.tag;if((j===3||j===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;S!==null;){if(x=Zr(S),x===null)return;if(j=x.tag,j===5||j===6||j===26||j===27){u=y=x;continue e}S=S.parentNode}}u=u.return}ci(function(){var G=y,te=ir(l),se=[];e:{var K=wb.get(s);if(K!==void 0){var W=ns,ge=s;switch(s){case"keypress":if(ba(l)===0)break e;case"keydown":case"keyup":W=Qh;break;case"focusin":ge="focus",W=wa;break;case"focusout":ge="blur",W=wa;break;case"beforeblur":case"afterblur":W=wa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=b;break;case vb:case _b:case bb:W=Fh;break;case xb:W=I;break;case"scroll":case"scrollend":W=Cc;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Es;break;case"toggle":case"beforetoggle":W=Ve}var Ne=(i&4)!==0,mt=!Ne&&(s==="scroll"||s==="scrollend"),F=Ne?K!==null?K+"Capture":null:K;Ne=[];for(var z=G,H;z!==null;){var ne=z;if(H=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||H===null||F===null||(ne=Cr(z,F),ne!=null&&Ne.push(ou(z,ne,H))),mt)break;z=z.return}0<Ne.length&&(K=new W(K,ge,null,l,te),se.push({event:K,listeners:Ne}))}}if((i&7)===0){e:{if(K=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",K&&l!==Ic&&(ge=l.relatedTarget||l.fromElement)&&(Zr(ge)||ge[Kr]))break e;if((W||K)&&(K=te.window===te?te:(K=te.ownerDocument)?K.defaultView||K.parentWindow:window,W?(ge=l.relatedTarget||l.toElement,W=G,ge=ge?Zr(ge):null,ge!==null&&(mt=o(ge),Ne=ge.tag,ge!==mt||Ne!==5&&Ne!==27&&Ne!==6)&&(ge=null)):(W=null,ge=G),W!==ge)){if(Ne=Dc,ne="onMouseLeave",F="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=Es,ne="onPointerLeave",F="onPointerEnter",z="pointer"),mt=W==null?K:Fn(W),H=ge==null?K:Fn(ge),K=new Ne(ne,z+"leave",W,l,te),K.target=mt,K.relatedTarget=H,ne=null,Zr(te)===G&&(Ne=new Ne(F,z+"enter",ge,l,te),Ne.target=H,Ne.relatedTarget=mt,ne=Ne),mt=ne,W&&ge)t:{for(Ne=P2,F=W,z=ge,H=0,ne=F;ne;ne=Ne(ne))H++;ne=0;for(var we=z;we;we=Ne(we))ne++;for(;0<H-ne;)F=Ne(F),H--;for(;0<ne-H;)z=Ne(z),ne--;for(;H--;){if(F===z||z!==null&&F===z.alternate){Ne=F;break t}F=Ne(F),z=Ne(z)}Ne=null}else Ne=null;W!==null&&$0(se,K,W,Ne,!1),ge!==null&&mt!==null&&$0(se,mt,ge,Ne,!0)}}e:{if(K=G?Fn(G):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Je=ob;else if(ib(K))if(lb)Je=GR;else{Je=$R;var be=qR}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Oo(G.elementType)&&(Je=ob):Je=HR;if(Je&&(Je=Je(s,G))){ab(se,Je,l,te);break e}be&&be(s,K,G),s==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Tc(K,"number",K.value)}switch(be=G?Fn(G):window,s){case"focusin":(ib(be)||be.contentEditable==="true")&&(Fo=be,cp=G,Mc=null);break;case"focusout":Mc=cp=Fo=null;break;case"mousedown":up=!0;break;case"contextmenu":case"mouseup":case"dragend":up=!1,gb(se,l,te);break;case"selectionchange":if(QR)break;case"keydown":case"keyup":gb(se,l,te)}var Le;if(tt)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Uo?Ea(s,l)&&(Ge="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ge="onCompositionStart");Ge&&(is&&l.locale!=="ko"&&(Uo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Uo&&(Le=Rc()):(ts=te,Nc="value"in ts?ts.value:ts.textContent,Uo=!0)),be=zd(G,Ge),0<be.length&&(Ge=new ss(Ge,s,null,l,te),se.push({event:Ge,listeners:be}),Le?Ge.data=Le:(Le=Lo(l),Le!==null&&(Ge.data=Le)))),(Le=or?LR(s,l):UR(s,l))&&(Ge=zd(G,"onBeforeInput"),0<Ge.length&&(be=new ss("onBeforeInput","beforeinput",null,l,te),se.push({event:be,listeners:Ge}),be.data=Le)),D2(se,s,G,l,te)}B0(se,i)})}function ou(s,i,l){return{instance:s,listener:i,currentTarget:l}}function zd(s,i){for(var l=i+"Capture",u=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Cr(s,l),m!=null&&u.unshift(ou(s,m,y)),m=Cr(s,i),m!=null&&u.push(ou(s,m,y))),s.tag===3)return u;s=s.return}return[]}function P2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function $0(s,i,l,u,m){for(var y=i._reactName,x=[];l!==null&&l!==u;){var S=l,j=S.alternate,G=S.stateNode;if(S=S.tag,j!==null&&j===u)break;S!==5&&S!==26&&S!==27||G===null||(j=G,m?(G=Cr(l,y),G!=null&&x.unshift(ou(l,G,j))):m||(G=Cr(l,y),G!=null&&x.push(ou(l,G,j)))),l=l.return}x.length!==0&&s.push({event:i,listeners:x})}var M2=/\r\n?/g,V2=/\u0000|\uFFFD/g;function H0(s){return(typeof s=="string"?s:""+s).replace(M2,`
`).replace(V2,"")}function G0(s,i){return i=H0(i),H0(s)===i}function ft(s,i,l,u,m,y){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||On(s,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&On(s,""+u);break;case"className":Bn(s,"class",u);break;case"tabIndex":Bn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(s,l,u);break;case"style":Ac(s,u,y);break;case"data":if(i!=="object"){Bn(s,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=jo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&ft(s,i,"name",m.name,m,null),ft(s,i,"formEncType",m.formEncType,m,null),ft(s,i,"formMethod",m.formMethod,m,null),ft(s,i,"formTarget",m.formTarget,m,null)):(ft(s,i,"encType",m.encType,m,null),ft(s,i,"method",m.method,m,null),ft(s,i,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=jo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Rr);break;case"onScroll":u!=null&&$e("scroll",s);break;case"onScrollEnd":u!=null&&$e("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=jo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":$e("beforetoggle",s),$e("toggle",s),Do(s,"popover",u);break;case"xlinkActuate":qt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Do(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zh.get(l)||l,Do(s,l,u))}}function Pg(s,i,l,u,m,y){switch(l){case"style":Ac(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof u=="string"?On(s,u):(typeof u=="number"||typeof u=="bigint")&&On(s,""+u);break;case"onScroll":u!=null&&$e("scroll",s);break;case"onScrollEnd":u!=null&&$e("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_c.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),i=l.slice(2,m?l.length-7:void 0),y=s[rn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(i,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,u,m);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Do(s,l,u)}}}function fn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",s),$e("load",s);var u=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var x=l[y];if(x!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(s,i,y,x,l,null)}}m&&ft(s,i,"srcSet",l.srcSet,l,null),u&&ft(s,i,"src",l.src,l,null);return;case"input":$e("invalid",s);var S=y=x=m=null,j=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var te=l[u];if(te!=null)switch(u){case"name":m=te;break;case"type":x=te;break;case"checked":j=te;break;case"defaultChecked":G=te;break;case"value":y=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,i));break;default:ft(s,i,u,te,l,null)}}Ph(s,y,S,j,G,x,m,!1);return;case"select":$e("invalid",s),u=x=y=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:ft(s,i,m,S,l,null)}i=y,l=x,s.multiple=!!u,i!=null?ii(s,!!u,i,!1):l!=null&&ii(s,!!u,l,!0);return;case"textarea":$e("invalid",s),y=m=u=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ft(s,i,x,S,l,null)}ai(s,u,m,y);return;case"option":for(j in l)l.hasOwnProperty(j)&&(u=l[j],u!=null)&&(j==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ft(s,i,j,u,l,null));return;case"dialog":$e("beforetoggle",s),$e("toggle",s),$e("cancel",s),$e("close",s);break;case"iframe":case"object":$e("load",s);break;case"video":case"audio":for(u=0;u<au.length;u++)$e(au[u],s);break;case"image":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"embed":case"source":case"link":$e("error",s),$e("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(s,i,G,u,l,null)}return;default:if(Oo(i)){for(te in l)l.hasOwnProperty(te)&&(u=l[te],u!==void 0&&Pg(s,i,te,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&ft(s,i,S,u,l,null))}function z2(s,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,x=null,S=null,j=null,G=null,te=null;for(W in l){var se=l[W];if(l.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":j=se;default:u.hasOwnProperty(W)||ft(s,i,W,null,u,se)}}for(var K in u){var W=u[K];if(se=l[K],u.hasOwnProperty(K)&&(W!=null||se!=null))switch(K){case"type":y=W;break;case"name":m=W;break;case"checked":G=W;break;case"defaultChecked":te=W;break;case"value":x=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:W!==se&&ft(s,i,K,W,u,se)}}ko(s,x,S,j,G,te,y,m);return;case"select":W=x=S=K=null;for(y in l)if(j=l[y],l.hasOwnProperty(y)&&j!=null)switch(y){case"value":break;case"multiple":W=j;default:u.hasOwnProperty(y)||ft(s,i,y,null,u,j)}for(m in u)if(y=u[m],j=l[m],u.hasOwnProperty(m)&&(y!=null||j!=null))switch(m){case"value":K=y;break;case"defaultValue":S=y;break;case"multiple":x=y;default:y!==j&&ft(s,i,m,y,u,j)}i=S,l=x,u=W,K!=null?ii(s,!!l,K,!1):!!u!=!!l&&(i!=null?ii(s,!!l,i,!0):ii(s,!!l,l?[]:"",!1));return;case"textarea":W=K=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ft(s,i,S,null,u,m)}for(x in u)if(m=u[x],y=l[x],u.hasOwnProperty(x)&&(m!=null||y!=null))switch(x){case"value":K=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ft(s,i,x,m,u,y)}Mh(s,K,W);return;case"option":for(var ge in l)K=l[ge],l.hasOwnProperty(ge)&&K!=null&&!u.hasOwnProperty(ge)&&(ge==="selected"?s.selected=!1:ft(s,i,ge,null,u,K));for(j in u)K=u[j],W=l[j],u.hasOwnProperty(j)&&K!==W&&(K!=null||W!=null)&&(j==="selected"?s.selected=K&&typeof K!="function"&&typeof K!="symbol":ft(s,i,j,K,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)K=l[Ne],l.hasOwnProperty(Ne)&&K!=null&&!u.hasOwnProperty(Ne)&&ft(s,i,Ne,null,u,K);for(G in u)if(K=u[G],W=l[G],u.hasOwnProperty(G)&&K!==W&&(K!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:ft(s,i,G,K,u,W)}return;default:if(Oo(i)){for(var mt in l)K=l[mt],l.hasOwnProperty(mt)&&K!==void 0&&!u.hasOwnProperty(mt)&&Pg(s,i,mt,void 0,u,K);for(te in u)K=u[te],W=l[te],!u.hasOwnProperty(te)||K===W||K===void 0&&W===void 0||Pg(s,i,te,K,u,W);return}}for(var F in l)K=l[F],l.hasOwnProperty(F)&&K!=null&&!u.hasOwnProperty(F)&&ft(s,i,F,null,u,K);for(se in u)K=u[se],W=l[se],!u.hasOwnProperty(se)||K===W||K==null&&W==null||ft(s,i,se,K,u,W)}function K0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],y=m.transferSize,x=m.initiatorType,S=m.duration;if(y&&S&&K0(x)){for(x=0,S=m.responseEnd,u+=1;u<l.length;u++){var j=l[u],G=j.startTime;if(G>S)break;var te=j.transferSize,se=j.initiatorType;te&&K0(se)&&(j=j.responseEnd,x+=te*(j<S?1:(S-G)/(j-G)))}if(--u,i+=8*(y+x)/(m.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Mg=null,Vg=null;function Ld(s){return s.nodeType===9?s:s.ownerDocument}function Q0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z0(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function zg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Lg=null;function U2(){var s=window.event;return s&&s.type==="popstate"?s===Lg?!1:(Lg=s,!0):(Lg=null,!1)}var Y0=typeof setTimeout=="function"?setTimeout:void 0,F2=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,B2=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(s){return X0.resolve(null).then(s).catch(q2)}:Y0;function q2(s){setTimeout(function(){throw s})}function Ri(s){return s==="head"}function J0(s,i){var l=i,u=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(m),ml(i);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")lu(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,lu(l);for(var y=l.firstChild;y;){var x=y.nextSibling,S=y.nodeName;y[Qr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=x}}else l==="body"&&lu(s.ownerDocument.body);l=m}while(l);ml(i)}function W0(s,i){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function Ug(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ug(l),Co(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function $2(s,i,l,u){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Qr])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=mr(s.nextSibling),s===null)break}return null}function H2(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=mr(s.nextSibling),s===null))return null;return s}function ew(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=mr(s.nextSibling),s===null))return null;return s}function Fg(s){return s.data==="$?"||s.data==="$~"}function Bg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function G2(s,i){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||l.readyState!=="loading")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function mr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var qg=null;function tw(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(i===0)return mr(s.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}s=s.nextSibling}return null}function nw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return s;i--}else l!=="/$"&&l!=="/&"||i++}s=s.previousSibling}return null}function rw(s,i,l){switch(i=Ld(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function lu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Co(s)}var pr=new Map,sw=new Set;function Ud(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var zs=ce.d;ce.d={f:K2,r:Q2,D:Z2,C:Y2,L:X2,m:J2,X:eC,S:W2,M:tC};function K2(){var s=zs.f(),i=Dd();return s||i}function Q2(s){var i=sr(s);i!==null&&i.tag===5&&i.type==="form"?xx(i):zs.r(s)}var hl=typeof document>"u"?null:document;function iw(s,i,l){var u=hl;if(u&&typeof i=="string"&&i){var m=kn(i);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),sw.has(m)||(sw.add(m),s={rel:s,crossOrigin:l,href:i},u.querySelector(m)===null&&(i=u.createElement("link"),fn(i,"link",s),Bt(i),u.head.appendChild(i)))}}function Z2(s){zs.D(s),iw("dns-prefetch",s,null)}function Y2(s,i){zs.C(s,i),iw("preconnect",s,i)}function X2(s,i,l){zs.L(s,i,l);var u=hl;if(u&&s&&i){var m='link[rel="preload"][as="'+kn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+kn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+kn(l.imageSizes)+'"]')):m+='[href="'+kn(s)+'"]';var y=m;switch(i){case"style":y=dl(s);break;case"script":y=fl(s)}pr.has(y)||(s=_({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),pr.set(y,s),u.querySelector(m)!==null||i==="style"&&u.querySelector(cu(y))||i==="script"&&u.querySelector(uu(y))||(i=u.createElement("link"),fn(i,"link",s),Bt(i),u.head.appendChild(i)))}}function J2(s,i){zs.m(s,i);var l=hl;if(l&&s){var u=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+kn(u)+'"][href="'+kn(s)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=fl(s)}if(!pr.has(y)&&(s=_({rel:"modulepreload",href:s},i),pr.set(y,s),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(uu(y)))return}u=l.createElement("link"),fn(u,"link",s),Bt(u),l.head.appendChild(u)}}}function W2(s,i,l){zs.S(s,i,l);var u=hl;if(u&&s){var m=Yr(u).hoistableStyles,y=dl(s);i=i||"default";var x=m.get(y);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(cu(y)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":i},l),(l=pr.get(y))&&$g(s,l);var j=x=u.createElement("link");Bt(j),fn(j,"link",s),j._p=new Promise(function(G,te){j.onload=G,j.onerror=te}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Fd(x,i,u)}x={type:"stylesheet",instance:x,count:1,state:S},m.set(y,x)}}}function eC(s,i){zs.X(s,i);var l=hl;if(l&&s){var u=Yr(l).hoistableScripts,m=fl(s),y=u.get(m);y||(y=l.querySelector(uu(m)),y||(s=_({src:s,async:!0},i),(i=pr.get(m))&&Hg(s,i),y=l.createElement("script"),Bt(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function tC(s,i){zs.M(s,i);var l=hl;if(l&&s){var u=Yr(l).hoistableScripts,m=fl(s),y=u.get(m);y||(y=l.querySelector(uu(m)),y||(s=_({src:s,async:!0,type:"module"},i),(i=pr.get(m))&&Hg(s,i),y=l.createElement("script"),Bt(y),fn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function aw(s,i,l,u){var m=(m=Oe.current)?Ud(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=dl(l.href),l=Yr(m).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=dl(l.href);var y=Yr(m).hoistableStyles,x=y.get(s);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,x),(y=m.querySelector(cu(s)))&&!y._p&&(x.instance=y,x.state.loading=5),pr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pr.set(s,l),y||nC(m,s,l,x.state))),i&&u===null)throw Error(r(528,""));return x}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fl(l),l=Yr(m).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function dl(s){return'href="'+kn(s)+'"'}function cu(s){return'link[rel="stylesheet"]['+s+"]"}function ow(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function nC(s,i,l,u){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=s.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),fn(i,"link",l),Bt(i),s.head.appendChild(i))}function fl(s){return'[src="'+kn(s)+'"]'}function uu(s){return"script[async]"+s}function lw(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=s.querySelector('style[data-href~="'+kn(l.href)+'"]');if(u)return i.instance=u,Bt(u),u;var m=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Bt(u),fn(u,"style",m),Fd(u,l.precedence,s),i.instance=u;case"stylesheet":m=dl(l.href);var y=s.querySelector(cu(m));if(y)return i.state.loading|=4,i.instance=y,Bt(y),y;u=ow(l),(m=pr.get(m))&&$g(u,m),y=(s.ownerDocument||s).createElement("link"),Bt(y);var x=y;return x._p=new Promise(function(S,j){x.onload=S,x.onerror=j}),fn(y,"link",u),i.state.loading|=4,Fd(y,l.precedence,s),i.instance=y;case"script":return y=fl(l.src),(m=s.querySelector(uu(y)))?(i.instance=m,Bt(m),m):(u=l,(m=pr.get(y))&&(u=_({},l),Hg(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Bt(m),fn(m,"link",u),s.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Fd(u,l.precedence,s));return i.instance}function Fd(s,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===i)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function $g(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Hg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Bd=null;function cw(s,i,l){if(Bd===null){var u=new Map,m=Bd=new Map;m.set(l,u)}else m=Bd,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[Qr]||y[Ft]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(i)||"";x=s+x;var S=u.get(x);S?S.push(y):u.set(x,[y])}}return u}function uw(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function rC(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(s=i.disabled,typeof i.precedence=="string"&&s==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function hw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function sC(s,i,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=dl(u.href),y=i.querySelector(cu(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=qd.bind(s),i.then(s,s)),l.state.loading|=4,l.instance=y,Bt(y);return}y=i.ownerDocument||i,u=ow(u),(m=pr.get(m))&&$g(u,m),y=y.createElement("link"),Bt(y);var x=y;x._p=new Promise(function(S,j){x.onload=S,x.onerror=j}),fn(y,"link",u),l.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=qd.bind(s),i.addEventListener("load",l),i.addEventListener("error",l))}}var Gg=0;function iC(s,i){return s.stylesheets&&s.count===0&&Hd(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Hd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+i);0<s.imgBytes&&Gg===0&&(Gg=62500*L2());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Hd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Gg?50:800)+i);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function qd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var $d=null;function Hd(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,$d=new Map,i.forEach(aC,s),$d=null,qd.call(s))}function aC(s,i){if(!(i.state.loading&4)){var l=$d.get(s);if(l)var u=l.get(null);else{l=new Map,$d.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var x=m[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}m=i.instance,x=m.getAttribute("data-precedence"),y=l.get(x)||u,y===u&&l.set(null,m),l.set(x,m),this.count++,u=qd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),i.state.loading|=4}}var hu={$$typeof:J,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function oC(s,i,l,u,m,y,x,S,j){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function dw(s,i,l,u,m,y,x,S,j,G,te,se){return s=new oC(s,i,l,x,j,G,te,se,S),i=1,y===!0&&(i|=24),y=$n(3,null,null,i),s.current=y,y.stateNode=s,i=Sp(),i.refCount++,s.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:i},Rp(y),s}function fw(s){return s?(s=$o,s):$o}function mw(s,i,l,u,m,y){m=fw(m),u.context===null?u.context=m:u.pendingContext=m,u=vi(i),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=_i(s,u,i),l!==null&&(zn(l,s,i),qc(l,s,i))}function pw(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Kg(s,i){pw(s,i),(s=s.alternate)&&pw(s,i)}function gw(s){if(s.tag===13||s.tag===31){var i=Aa(s,67108864);i!==null&&zn(i,s,67108864),Kg(s,67108864)}}function yw(s){if(s.tag===13||s.tag===31){var i=Zn();i=ma(i);var l=Aa(s,i);l!==null&&zn(l,s,i),Kg(s,i)}}var Gd=!0;function lC(s,i,l,u){var m=$.T;$.T=null;var y=ce.p;try{ce.p=2,Qg(s,i,l,u)}finally{ce.p=y,$.T=m}}function cC(s,i,l,u){var m=$.T;$.T=null;var y=ce.p;try{ce.p=8,Qg(s,i,l,u)}finally{ce.p=y,$.T=m}}function Qg(s,i,l,u){if(Gd){var m=Zg(u);if(m===null)jg(s,i,u,Kd,l),_w(s,u);else if(hC(m,s,i,l,u))u.stopPropagation();else if(_w(s,u),i&4&&-1<uC.indexOf(s)){for(;m!==null;){var y=sr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=$r(y.pendingLanes);if(x!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var j=1<<31-jt(x);S.entanglements[1]|=j,x&=~j}cs(y),(nt&6)===0&&(Rd=En()+500,iu(0))}}break;case 31:case 13:S=Aa(y,2),S!==null&&zn(S,y,2),Dd(),Kg(y,2)}if(y=Zg(u),y===null&&jg(s,i,u,Kd,l),y===m)break;m=y}m!==null&&u.stopPropagation()}else jg(s,i,u,null,l)}}function Zg(s){return s=ir(s),Yg(s)}var Kd=null;function Yg(s){if(Kd=null,s=Zr(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=c(i),s!==null)return s;s=null}else if(l===31){if(s=h(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Kd=s,null}function vw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case mc:return 2;case pc:return 8;case ri:case np:return 32;case Sh:return 268435456;default:return 32}default:return 32}}var Xg=!1,Ci=null,Di=null,ki=null,du=new Map,fu=new Map,Oi=[],uC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _w(s,i){switch(s){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":du.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(i.pointerId)}}function mu(s,i,l,u,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},i!==null&&(i=sr(i),i!==null&&gw(i)),s):(s.eventSystemFlags|=u,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function hC(s,i,l,u,m){switch(i){case"focusin":return Ci=mu(Ci,s,i,l,u,m),!0;case"dragenter":return Di=mu(Di,s,i,l,u,m),!0;case"mouseover":return ki=mu(ki,s,i,l,u,m),!0;case"pointerover":var y=m.pointerId;return du.set(y,mu(du.get(y)||null,s,i,l,u,m)),!0;case"gotpointercapture":return y=m.pointerId,fu.set(y,mu(fu.get(y)||null,s,i,l,u,m)),!0}return!1}function bw(s){var i=Zr(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){s.blockedOn=i,Ir(s.priority,function(){yw(l)});return}}else if(i===31){if(i=h(l),i!==null){s.blockedOn=i,Ir(s.priority,function(){yw(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qd(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Zg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Ic=u,l.target.dispatchEvent(u),Ic=null}else return i=sr(l),i!==null&&gw(i),s.blockedOn=l,!1;i.shift()}return!0}function xw(s,i,l){Qd(s)&&l.delete(i)}function dC(){Xg=!1,Ci!==null&&Qd(Ci)&&(Ci=null),Di!==null&&Qd(Di)&&(Di=null),ki!==null&&Qd(ki)&&(ki=null),du.forEach(xw),fu.forEach(xw)}function Zd(s,i){s.blockedOn===i&&(s.blockedOn=null,Xg||(Xg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dC)))}var Yd=null;function ww(s){Yd!==s&&(Yd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yd===s&&(Yd=null);for(var i=0;i<s.length;i+=3){var l=s[i],u=s[i+1],m=s[i+2];if(typeof u!="function"){if(Yg(u||l)===null)continue;break}var y=sr(l);y!==null&&(s.splice(i,3),i-=3,Zp(y,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function ml(s){function i(j){return Zd(j,s)}Ci!==null&&Zd(Ci,s),Di!==null&&Zd(Di,s),ki!==null&&Zd(ki,s),du.forEach(i),fu.forEach(i);for(var l=0;l<Oi.length;l++){var u=Oi[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Oi.length&&(l=Oi[0],l.blockedOn===null);)bw(l),l.blockedOn===null&&Oi.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],y=l[u+1],x=m[rn]||null;if(typeof y=="function")x||ww(l);else if(x){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,x=y[rn]||null)S=x.formAction;else if(Yg(m)!==null)continue}else S=x.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),ww(l)}}}function Ew(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function Jg(s){this._internalRoot=s}Xd.prototype.render=Jg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,u=Zn();mw(l,u,s,i,null,null)},Xd.prototype.unmount=Jg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;mw(s.current,2,null,s,null,null),Dd(),i[Kr]=null}};function Xd(s){this._internalRoot=s}Xd.prototype.unstable_scheduleHydration=function(s){if(s){var i=Dh();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Oi.length&&i!==0&&i<Oi[l].priority;l++);Oi.splice(l,0,s),l===0&&bw(s)}};var Tw=e.version;if(Tw!=="19.2.3")throw Error(r(527,Tw,"19.2.3"));ce.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=p(i),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var fC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{Sr=Jd.inject(fC),ln=Jd}catch{}}return gu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,u="",m=Dx,y=kx,x=Ox;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=dw(s,1,!1,null,null,l,u,null,m,y,x,Ew),s[Kr]=i.current,Og(s),new Jg(i)},gu.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var u=!1,m="",y=Dx,x=kx,S=Ox,j=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(j=l.formState)),i=dw(s,1,!0,i,l??null,u,m,j,y,x,S,Ew),i.context=fw(null),l=i.current,u=Zn(),u=ma(u),m=vi(u),m.callback=null,_i(l,m,u),l=u,i.current.lanes=l,da(i,l),cs(i),s[Kr]=i.current,Og(s),new Xd(i)},gu.version="19.2.3",gu}var jw;function TC(){if(jw)return ty.exports;jw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ty.exports=EC(),ty.exports}var SC=TC();var Pw="popstate";function AC(t={}){function e(a,o){let{pathname:c="/",search:h="",hash:d=""}=wo(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ny("",{pathname:c,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof o=="string"?o:Fu(o))}function r(a,o){xr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return NC(e,n,r,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IC(){return Math.random().toString(36).substring(2,10)}function Mw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ny(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:n,key:e&&e.key||r||IC()}}function Fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function NC(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,h="POP",d=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function _(){h="POP";let V=v(),Y=V==null?null:V-p;p=V,d&&d({action:h,location:D.location,delta:Y})}function E(V,Y){h="PUSH";let Q=Ny(D.location,V,Y);n&&n(Q,V),p=v()+1;let J=Mw(Q,p),ae=D.createHref(Q);try{c.pushState(J,"",ae)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;a.location.assign(ae)}o&&d&&d({action:h,location:D.location,delta:1})}function A(V,Y){h="REPLACE";let Q=Ny(D.location,V,Y);n&&n(Q,V),p=v();let J=Mw(Q,p),ae=D.createHref(Q);c.replaceState(J,"",ae),o&&d&&d({action:h,location:D.location,delta:0})}function M(V){return RC(V)}let D={get action(){return h},get location(){return t(a,c)},listen(V){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Pw,_),d=V,()=>{a.removeEventListener(Pw,_),d=null}},createHref(V){return e(a,V)},createURL:M,encodeLocation(V){let Y=M(V);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:E,replace:A,go(V){return c.go(V)}};return D}function RC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),At(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Fu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function N1(t,e,n="/"){return CC(t,e,n,!1)}function CC(t,e,n,r){let a=typeof e=="string"?wo(e):e,o=Hs(a.pathname||"/",n);if(o==null)return null;let c=R1(t);DC(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let p=BC(o);h=UC(c[d],p,r)}return h}function R1(t,e=[],n=[],r="",a=!1){let o=(c,h,d=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&d)return;At(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=$s([r,v.relativePath]),E=n.concat(v);c.children&&c.children.length>0&&(At(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),R1(c.children,e,E,_,d)),!(c.path==null&&!c.index)&&e.push({path:_,score:zC(_,c.index),routesMeta:E})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let d of C1(c.path))o(c,h,!0,d)}),e}function C1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=C1(r.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function DC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var kC=/^:[\w-]+$/,OC=3,jC=2,PC=1,MC=10,VC=-2,Vw=t=>t==="*";function zC(t,e){let n=t.split("/"),r=n.length;return n.some(Vw)&&(r+=VC),e&&(r+=jC),n.filter(a=>!Vw(a)).reduce((a,o)=>a+(kC.test(o)?OC:o===""?PC:MC),r)}function LC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function UC(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",_=Vf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},v),E=d.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Vf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:$s([o,_.pathname]),pathnameBase:GC($s([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=$s([o,_.pathnameBase]))}return c}function Vf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=FC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:_},E)=>{if(v==="*"){let M=h[E]||"";c=o.slice(0,o.length-M.length).replace(/(.)\/+$/,"$1")}const A=h[E];return _&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function FC(t,e=!1,n=!0){xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function BC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var D1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qC=t=>D1.test(t);function $C(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?wo(t):t,o;if(n)if(qC(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),xr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?o=zw(n.substring(1),"/"):o=zw(n,e)}else o=e;return{pathname:o,search:KC(r),hash:QC(a)}}function zw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function iy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k1(t){let e=HC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function O1(t,e,n,r=!1){let a;typeof t=="string"?a=wo(t):(a={...t},At(!a.pathname||!a.pathname.includes("?"),iy("?","pathname","search",a)),At(!a.pathname||!a.pathname.includes("#"),iy("#","pathname","hash",a)),At(!a.search||!a.search.includes("#"),iy("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let d=$C(a,h),p=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||v)&&(d.pathname+="/"),d}var $s=t=>t.join("/").replace(/\/\/+/g,"/"),GC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,ZC=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function YC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function XC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var j1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function P1(t,e){let n=t;if(typeof n!="string"||!D1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(j1)try{let o=new URL(window.location.href),c=n.startsWith("//")?new URL(o.protocol+n):new URL(n),h=Hs(c.pathname,e);c.origin===o.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{xr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var M1=["POST","PUT","PATCH","DELETE"];new Set(M1);var JC=["GET",...M1];new Set(JC);var Yl=L.createContext(null);Yl.displayName="DataRouter";var vm=L.createContext(null);vm.displayName="DataRouterState";var WC=L.createContext(!1),V1=L.createContext({isTransitioning:!1});V1.displayName="ViewTransition";var eD=L.createContext(new Map);eD.displayName="Fetchers";var tD=L.createContext(null);tD.displayName="Await";var wr=L.createContext(null);wr.displayName="Navigation";var ah=L.createContext(null);ah.displayName="Location";var _s=L.createContext({outlet:null,matches:[],isDataRoute:!1});_s.displayName="Route";var bv=L.createContext(null);bv.displayName="RouteError";var z1="REACT_ROUTER_ERROR",nD="REDIRECT",rD="ROUTE_ERROR_RESPONSE";function sD(t){if(t.startsWith(`${z1}:${nD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function iD(t){if(t.startsWith(`${z1}:${rD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new ZC(e.status,e.statusText,e.data)}catch{}}function aD(t,{relative:e}={}){At(oh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(wr),{hash:a,pathname:o,search:c}=lh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:$s([n,o])),r.createHref({pathname:h,search:c,hash:a})}function oh(){return L.useContext(ah)!=null}function ra(){return At(oh(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(ah).location}var L1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U1(t){L.useContext(wr).static||L.useLayoutEffect(t)}function oD(){let{isDataRoute:t}=L.useContext(_s);return t?bD():lD()}function lD(){At(oh(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Yl),{basename:e,navigator:n}=L.useContext(wr),{matches:r}=L.useContext(_s),{pathname:a}=ra(),o=JSON.stringify(k1(r)),c=L.useRef(!1);return U1(()=>{c.current=!0}),L.useCallback((d,p={})=>{if(xr(c.current,L1),!c.current)return;if(typeof d=="number"){n.go(d);return}let v=O1(d,JSON.parse(o),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:$s([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,o,a,t])}L.createContext(null);function F1(){let{matches:t}=L.useContext(_s),e=t[t.length-1];return e?e.params:{}}function lh(t,{relative:e}={}){let{matches:n}=L.useContext(_s),{pathname:r}=ra(),a=JSON.stringify(k1(n));return L.useMemo(()=>O1(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function cD(t,e){return B1(t,e)}function B1(t,e,n,r,a){At(oh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(wr),{matches:c}=L.useContext(_s),h=c[c.length-1],d=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let Q=_&&_.path||"";$1(p,!_||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let E=ra(),A;if(e){let Q=typeof e=="string"?wo(e):e;At(v==="/"||Q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),A=Q}else A=E;let M=A.pathname||"/",D=M;if(v!=="/"){let Q=v.replace(/^\//,"").split("/");D="/"+M.replace(/^\//,"").split("/").slice(Q.length).join("/")}let V=N1(t,{pathname:D});xr(_||V!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),xr(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=mD(V&&V.map(Q=>Object.assign({},Q,{params:Object.assign({},d,Q.params),pathname:$s([v,o.encodeLocation?o.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?v:$s([v,o.encodeLocation?o.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),c,n,r,a);return e&&Y?L.createElement(ah.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},Y):Y}function uD(){let t=_D(),e=YC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:a},n):null,c)}var hD=L.createElement(uD,null),q1=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=iD(t.digest);n&&(t=n)}let e=t!==void 0?L.createElement(_s.Provider,{value:this.props.routeContext},L.createElement(bv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?L.createElement(dD,{error:t},e):e}};q1.contextType=WC;var ay=new WeakMap;function dD({children:t,error:e}){let{basename:n}=L.useContext(wr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=sD(e.digest);if(r){let a=ay.get(e);if(a)throw a;let o=P1(r.location,n);if(j1&&!ay.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw ay.set(e,c),c}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function fD({routeContext:t,match:e,children:n}){let r=L.useContext(Yl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(_s.Provider,{value:t},n)}function mD(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let v=o.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);At(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let h=!1,d=-1;if(n)for(let v=0;v<o.length;v++){let _=o[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=v),_.route.id){let{loaderData:E,errors:A}=n,M=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||M){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let p=n&&r?(v,_)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:XC(n.matches),errorInfo:_})}:void 0;return o.reduceRight((v,_,E)=>{let A,M=!1,D=null,V=null;n&&(A=c&&_.route.id?c[_.route.id]:void 0,D=_.route.errorElement||hD,h&&(d<0&&E===0?($1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,V=null):d===E&&(M=!0,V=_.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,E+1)),Q=()=>{let J;return A?J=D:M?J=V:_.route.Component?J=L.createElement(_.route.Component,null):_.route.element?J=_.route.element:J=v,L.createElement(fD,{match:_,routeContext:{outlet:v,matches:Y,isDataRoute:n!=null},children:J})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?L.createElement(q1,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:Q(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:p}):Q()},null)}function xv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pD(t){let e=L.useContext(Yl);return At(e,xv(t)),e}function gD(t){let e=L.useContext(vm);return At(e,xv(t)),e}function yD(t){let e=L.useContext(_s);return At(e,xv(t)),e}function wv(t){let e=yD(t),n=e.matches[e.matches.length-1];return At(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function vD(){return wv("useRouteId")}function _D(){let t=L.useContext(bv),e=gD("useRouteError"),n=wv("useRouteError");return t!==void 0?t:e.errors?.[n]}function bD(){let{router:t}=pD("useNavigate"),e=wv("useNavigate"),n=L.useRef(!1);return U1(()=>{n.current=!0}),L.useCallback(async(a,o={})=>{xr(n.current,L1),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var Lw={};function $1(t,e,n){!e&&!Lw[t]&&(Lw[t]=!0,xr(!1,n))}L.memo(xD);function xD({routes:t,future:e,state:n,onError:r}){return B1(t,void 0,n,r,e)}function Yn(t){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){At(!oh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[h,a,o,c]);typeof n=="string"&&(n=wo(n));let{pathname:p="/",search:v="",hash:_="",state:E=null,key:A="default"}=n,M=L.useMemo(()=>{let D=Hs(p,h);return D==null?null:{location:{pathname:D,search:v,hash:_,state:E,key:A},navigationType:r}},[h,p,v,_,E,A,r]);return xr(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:L.createElement(wr.Provider,{value:d},L.createElement(ah.Provider,{children:e,value:M}))}function ED({children:t,location:e}){return cD(Ry(t),e)}function Ry(t,e=[]){let n=[];return L.Children.forEach(t,(r,a)=>{if(!L.isValidElement(r))return;let o=[...e,a];if(r.type===L.Fragment){n.push.apply(n,Ry(r.props.children,o));return}At(r.type===Yn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Ry(r.props.children,o)),n.push(c)}),n}var pf="get",gf="application/x-www-form-urlencoded";function _m(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function TD(t){return _m(t)&&t.tagName.toLowerCase()==="button"}function SD(t){return _m(t)&&t.tagName.toLowerCase()==="form"}function AD(t){return _m(t)&&t.tagName.toLowerCase()==="input"}function ID(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ND(t,e){return t.button===0&&(!e||e==="_self")&&!ID(t)}var Wd=null;function RD(){if(Wd===null)try{new FormData(document.createElement("form"),0),Wd=!1}catch{Wd=!0}return Wd}var CD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function oy(t){return t!=null&&!CD.has(t)?(xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gf}"`),null):t}function DD(t,e){let n,r,a,o,c;if(SD(t)){let h=t.getAttribute("action");r=h?Hs(h,e):null,n=t.getAttribute("method")||pf,a=oy(t.getAttribute("enctype"))||gf,o=new FormData(t)}else if(TD(t)||AD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Hs(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||pf,a=oy(t.getAttribute("formenctype"))||oy(h.getAttribute("enctype"))||gf,o=new FormData(h,t),!RD()){let{name:p,type:v,value:_}=t;if(v==="image"){let E=p?`${p}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else p&&o.append(p,_)}}else{if(_m(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pf,r=null,a=gf,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ev(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kD(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Hs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function OD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PD(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await OD(o,n);return c.links?c.links():[]}return[]}));return LD(r.flat(1).filter(jD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Uw(t,e,n,r,a,o){let c=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,p)=>c(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{let v=r.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(c(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function MD(t,e,{includeHydrateFallback:n}={}){return VD(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function VD(t){return[...new Set(t)]}function zD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function LD(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(zD(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function H1(){let t=L.useContext(Yl);return Ev(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function UD(){let t=L.useContext(vm);return Ev(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tv=L.createContext(void 0);Tv.displayName="FrameworkContext";function G1(){let t=L.useContext(Tv);return Ev(t,"You must render this element inside a <HydratedRouter> element"),t}function FD(t,e){let n=L.useContext(Tv),[r,a]=L.useState(!1),[o,c]=L.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,E=L.useRef(null);L.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=Y=>{Y.forEach(Q=>{c(Q.isIntersecting)})},V=new IntersectionObserver(D,{threshold:.5});return E.current&&V.observe(E.current),()=>{V.disconnect()}}},[t]),L.useEffect(()=>{if(r){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[r]);let A=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:yu(h,A),onBlur:yu(d,M),onMouseEnter:yu(p,A),onMouseLeave:yu(v,M),onTouchStart:yu(_,A)}]:[!1,E,{}]}function yu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function BD({page:t,...e}){let{router:n}=H1(),r=L.useMemo(()=>N1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement($D,{page:t,matches:r,...e}):null}function qD(t){let{manifest:e,routeModules:n}=G1(),[r,a]=L.useState([]);return L.useEffect(()=>{let o=!1;return PD(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),r}function $D({page:t,matches:e,...n}){let r=ra(),{future:a,manifest:o,routeModules:c}=G1(),{basename:h}=H1(),{loaderData:d,matches:p}=UD(),v=L.useMemo(()=>Uw(t,e,p,o,r,"data"),[t,e,p,o,r]),_=L.useMemo(()=>Uw(t,e,p,o,r,"assets"),[t,e,p,o,r]),E=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,V=!1;if(e.forEach(Q=>{let J=o.routes[Q.route.id];!J||!J.hasLoader||(!v.some(ae=>ae.route.id===Q.route.id)&&Q.route.id in d&&c[Q.route.id]?.shouldRevalidate||J.hasClientLoader?V=!0:D.add(Q.route.id))}),D.size===0)return[];let Y=kD(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return V&&D.size>0&&Y.searchParams.set("_routes",e.filter(Q=>D.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[Y.pathname+Y.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,o,v,e,t,c]),A=L.useMemo(()=>MD(_,o),[_,o]),M=qD(_);return L.createElement(L.Fragment,null,E.map(D=>L.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),A.map(D=>L.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),M.map(({key:D,link:V})=>L.createElement("link",{key:D,nonce:n.nonce,...V})))}function HD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GD&&(window.__reactRouterVersion="7.12.0")}catch{}function KD({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=L.useRef();a.current==null&&(a.current=AC({window:r,v5Compat:!0}));let o=a.current,[c,h]=L.useState({action:o.action,location:o.location}),d=L.useCallback(p=>{n===!1?h(p):L.startTransition(()=>h(p))},[n]);return L.useLayoutEffect(()=>o.listen(d),[o,d]),L.createElement(wD,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n})}var K1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:h,target:d,to:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E,...A},M){let{basename:D,unstable_useTransitions:V}=L.useContext(wr),Y=typeof p=="string"&&K1.test(p),Q=P1(p,D);p=Q.to;let J=aD(p,{relative:a}),[ae,le,me]=FD(r,A),N=XD(p,{replace:c,state:h,target:d,preventScrollReset:v,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:V});function T(O){e&&e(O),O.defaultPrevented||N(O)}let R=L.createElement("a",{...A,...me,href:Q.absoluteURL||J,onClick:Q.isExternal||o?e:T,ref:HD(M,le),target:d,"data-discover":!Y&&n==="render"?"true":void 0});return ae&&!Y?L.createElement(L.Fragment,null,R,L.createElement(BD,{page:J})):R});Tt.displayName="Link";var QD=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:h,children:d,...p},v){let _=lh(c,{relative:p.relative}),E=ra(),A=L.useContext(vm),{navigator:M,basename:D}=L.useContext(wr),V=A!=null&&nk(_)&&h===!0,Y=M.encodeLocation?M.encodeLocation(_).pathname:_.pathname,Q=E.pathname,J=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),J=J?J.toLowerCase():null,Y=Y.toLowerCase()),J&&D&&(J=Hs(J,D)||J);const ae=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let le=Q===Y||!a&&Q.startsWith(Y)&&Q.charAt(ae)==="/",me=J!=null&&(J===Y||!a&&J.startsWith(Y)&&J.charAt(Y.length)==="/"),N={isActive:le,isPending:me,isTransitioning:V},T=le?e:void 0,R;typeof r=="function"?R=r(N):R=[r,le?"active":null,me?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(N):o;return L.createElement(Tt,{...p,"aria-current":T,className:R,ref:v,style:O,to:c,viewTransition:h},typeof d=="function"?d(N):d)});QD.displayName="NavLink";var ZD=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:c=pf,action:h,onSubmit:d,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E,...A},M)=>{let{unstable_useTransitions:D}=L.useContext(wr),V=ek(),Y=tk(h,{relative:p}),Q=c.toLowerCase()==="get"?"get":"post",J=typeof h=="string"&&K1.test(h),ae=le=>{if(d&&d(le),le.defaultPrevented)return;le.preventDefault();let me=le.nativeEvent.submitter,N=me?.getAttribute("formmethod")||c,T=()=>V(me||le.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:o,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:E});D&&n!==!1?L.startTransition(()=>T()):T()};return L.createElement("form",{ref:M,method:Q,action:Y,onSubmit:r?d:ae,...A,"data-discover":!J&&t==="render"?"true":void 0})});ZD.displayName="Form";function YD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q1(t){let e=L.useContext(Yl);return At(e,YD(t)),e}function XD(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let p=oD(),v=ra(),_=lh(t,{relative:o});return L.useCallback(E=>{if(ND(E,e)){E.preventDefault();let A=n!==void 0?n:Fu(v)===Fu(_),M=()=>p(t,{replace:A,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});d?L.startTransition(()=>M()):M()}},[v,p,_,n,r,e,t,a,o,c,h,d])}var JD=0,WD=()=>`__${String(++JD)}__`;function ek(){let{router:t}=Q1("useSubmit"),{basename:e}=L.useContext(wr),n=vD(),r=t.fetch,a=t.navigate;return L.useCallback(async(o,c={})=>{let{action:h,method:d,encType:p,formData:v,body:_}=DD(o,e);if(c.navigate===!1){let E=c.fetcherKey||WD();await r(E,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||d,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||d,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,n])}function tk(t,{relative:e}={}){let{basename:n}=L.useContext(wr),r=L.useContext(_s);At(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...lh(t||".",{relative:e})},c=ra();if(t==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(v=>v==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();o.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:$s([n,o.pathname])),Fu(o)}function nk(t,{relative:e}={}){let n=L.useContext(V1);At(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Q1("useViewTransitionState"),a=lh(t,{relative:e});if(!n.isTransitioning)return!1;let o=Hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vf(a.pathname,c)!=null||Vf(a.pathname,o)!=null}var Xl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rk={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},sk=class{#e=rk;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Qa=new sk;function ik(t){setTimeout(t,0)}var so=typeof window>"u"||"Deno"in globalThis;function In(){}function ak(t,e){return typeof t=="function"?t(e):t}function Cy(t){return typeof t=="number"&&t>=0&&t!==1/0}function Z1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Hi(t,e){return typeof t=="function"?t(e):t}function gr(t,e){return typeof t=="function"?t(e):t}function Fw(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:c,stale:h}=t;if(c){if(r){if(e.queryHash!==Sv(c,e.options))return!1}else if(!Bu(e.queryKey,c))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||o&&!o(e))}function Bw(t,e){const{exact:n,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(io(e.options.mutationKey)!==io(o))return!1}else if(!Bu(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Sv(t,e){return(e?.queryKeyHashFn||io)(t)}function io(t){return JSON.stringify(t,(e,n)=>Dy(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Bu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Bu(t[n],e[n])):!1}var ok=Object.prototype.hasOwnProperty;function Y1(t,e){if(t===e)return t;const n=qw(t)&&qw(e);if(!n&&!(Dy(t)&&Dy(e)))return e;const a=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),c=o.length,h=n?new Array(c):{};let d=0;for(let p=0;p<c;p++){const v=n?p:o[p],_=t[v],E=e[v];if(_===E){h[v]=_,(n?p<a:ok.call(t,v))&&d++;continue}if(_===null||E===null||typeof _!="object"||typeof E!="object"){h[v]=E;continue}const A=Y1(_,E);h[v]=A,A===_&&d++}return a===c&&d===a?t:h}function zf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function qw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Dy(t){if(!$w(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$w(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $w(t){return Object.prototype.toString.call(t)==="[object Object]"}function lk(t){return new Promise(e=>{Qa.setTimeout(e,t)})}function ky(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Y1(t,e):e}function ck(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function uk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Av=Symbol();function X1(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Av?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Iv(t,e){return typeof t=="function"?t(...e):!!t}function hk(t,e,n){let r=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??=e(),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var dk=class extends Xl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!so&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Nv=new dk;function Oy(){let t,e;const n=new Promise((a,o)=>{t=a,e=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}var fk=ik;function mk(){let t=[],e=0,n=h=>{h()},r=h=>{h()},a=fk;const o=h=>{e?t.push(h):a(()=>{n(h)})},c=()=>{const h=t;t=[],h.length&&a(()=>{r(()=>{h.forEach(d=>{n(d)})})})};return{batch:h=>{let d;e++;try{d=h()}finally{e--,e||c()}return d},batchCalls:h=>(...d)=>{o(()=>{h(...d)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{a=h}}}var en=mk(),pk=class extends Xl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!so&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Lf=new pk;function gk(t){return Math.min(1e3*2**t,3e4)}function J1(t){return(t??"online")==="online"?Lf.isOnline():!0}var jy=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function W1(t){let e=!1,n=0,r;const a=Oy(),o=()=>a.status!=="pending",c=D=>{if(!o()){const V=new jy(D);E(V),t.onCancel?.(V)}},h=()=>{e=!0},d=()=>{e=!1},p=()=>Nv.isFocused()&&(t.networkMode==="always"||Lf.isOnline())&&t.canRun(),v=()=>J1(t.networkMode)&&t.canRun(),_=D=>{o()||(r?.(),a.resolve(D))},E=D=>{o()||(r?.(),a.reject(D))},A=()=>new Promise(D=>{r=V=>{(o()||p())&&D(V)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),M=()=>{if(o())return;let D;const V=n===0?t.initialPromise:void 0;try{D=V??t.fn()}catch(Y){D=Promise.reject(Y)}Promise.resolve(D).then(_).catch(Y=>{if(o())return;const Q=t.retry??(so?0:3),J=t.retryDelay??gk,ae=typeof J=="function"?J(n,Y):J,le=Q===!0||typeof Q=="number"&&n<Q||typeof Q=="function"&&Q(n,Y);if(e||!le){E(Y);return}n++,t.onFail?.(n,Y),lk(ae).then(()=>p()?void 0:A()).then(()=>{e?E(Y):M()})})};return{promise:a,status:()=>a.status,cancel:c,continue:()=>(r?.(),a),cancelRetry:h,continueRetry:d,canStart:v,start:()=>(v()?M():A().then(M),a)}}var eS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cy(this.gcTime)&&(this.#e=Qa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(so?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Qa.clearTimeout(this.#e),this.#e=void 0)}},yk=class extends eS{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Gw(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Gw(this.options);n.data!==void 0&&(this.setState(Hw(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=ky(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(In).catch(In):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>gr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Av||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Hi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Z1(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const d=X1(this.options,n),v=(()=>{const _={client:this.#s,queryKey:this.queryKey,meta:this.meta};return a(_),_})();return this.#o=!1,this.options.persister?this.options.persister(d,v,this):d(v)},h=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:o};return a(d),d})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#i({type:"fetch",meta:h.fetchOptions?.meta}),this.#r=W1({initialPromise:n?.initialPromise,fn:h.fetchFn,onCancel:d=>{d instanceof jy&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,p)=>{this.#i({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof jy){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tS(r.data,this.options),fetchMeta:e.meta??null};case"success":const a={...r,...Hw(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),en.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function tS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Hw(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Gw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var vk=class extends Xl{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#o=Oy(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#d;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Kw(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Py(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Py(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!zf(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Qw(this.#t,n,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#t!==n||gr(this.options.enabled,this.#t)!==gr(e.enabled,this.#t)||Hi(this.options.staleTime,this.#t)!==Hi(e.staleTime,this.#t))&&this.#g();const a=this.#y();r&&(this.#t!==n||gr(this.options.enabled,this.#t)!==gr(e.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return bk(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(In)),e}#g(){this.#b();const t=Hi(this.options.staleTime,this.#t);if(so||this.#s.isStale||!Cy(t))return;const n=Z1(this.#s.dataUpdatedAt,t)+1;this.#c=Qa.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#l=t,!(so||gr(this.options.enabled,this.#t)===!1||!Cy(this.#l)||this.#l===0)&&(this.#u=Qa.setInterval(()=>{(this.options.refetchIntervalInBackground||Nv.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#b(){this.#c&&(Qa.clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(Qa.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,a=this.#s,o=this.#r,c=this.#a,d=t!==n?t.state:this.#n,{state:p}=t;let v={...p},_=!1,E;if(e._optimisticResults){const T=this.hasListeners(),R=!T&&Kw(t,e),O=T&&Qw(t,n,e,r);(R||O)&&(v={...v,...tS(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:A,errorUpdatedAt:M,status:D}=v;E=v.data;let V=!1;if(e.placeholderData!==void 0&&E===void 0&&D==="pending"){let T;a?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(T=a.data,V=!0):T=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,T!==void 0&&(D="success",E=ky(a?.data,T,e),_=!0)}if(e.select&&E!==void 0&&!V)if(a&&E===o?.data&&e.select===this.#p)E=this.#d;else try{this.#p=e.select,E=e.select(E),E=ky(a?.data,E,e),this.#d=E,this.#i=null}catch(T){this.#i=T}this.#i&&(A=this.#i,E=this.#d,M=Date.now(),D="error");const Y=v.fetchStatus==="fetching",Q=D==="pending",J=D==="error",ae=Q&&Y,le=E!==void 0,N={status:D,fetchStatus:v.fetchStatus,isPending:Q,isSuccess:D==="success",isError:J,isInitialLoading:ae,isLoading:ae,data:E,dataUpdatedAt:v.dataUpdatedAt,error:A,errorUpdatedAt:M,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>d.dataUpdateCount||v.errorUpdateCount>d.errorUpdateCount,isFetching:Y,isRefetching:Y&&!Q,isLoadingError:J&&!le,isPaused:v.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:J&&le,isStale:Rv(t,e),refetch:this.refetch,promise:this.#o,isEnabled:gr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=P=>{N.status==="error"?P.reject(N.error):N.data!==void 0&&P.resolve(N.data)},R=()=>{const P=this.#o=N.promise=Oy();T(P)},O=this.#o;switch(O.status){case"pending":t.queryHash===n.queryHash&&T(O);break;case"fulfilled":(N.status==="error"||N.data!==O.value)&&R();break;case"rejected":(N.status!=="error"||N.error!==O.reason)&&R();break}}return N}updateResult(){const t=this.#s,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),zf(e,t))return;this.#s=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#m.size)return!0;const o=new Set(a??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#s).some(c=>{const h=c;return this.#s[h]!==t[h]&&o.has(h)})};this.#E({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#E(t){en.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function _k(t,e){return gr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Kw(t,e){return _k(t,e)||t.state.data!==void 0&&Py(t,e,e.refetchOnMount)}function Py(t,e,n){if(gr(e.enabled,t)!==!1&&Hi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Rv(t,e)}return!1}function Qw(t,e,n,r){return(t!==e||gr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Rv(t,n)}function Rv(t,e){return gr(e.enabled,t)!==!1&&t.isStaleByTime(Hi(e.staleTime,t))}function bk(t,e){return!zf(t.getCurrentResult(),e)}function Zw(t){return{onFetch:(e,n)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},d=0;const p=async()=>{let v=!1;const _=M=>{hk(M,()=>e.signal,()=>v=!0)},E=X1(e.options,e.fetchOptions),A=async(M,D,V)=>{if(v)return Promise.reject();if(D==null&&M.pages.length)return Promise.resolve(M);const Q=(()=>{const me={client:e.client,queryKey:e.queryKey,pageParam:D,direction:V?"backward":"forward",meta:e.options.meta};return _(me),me})(),J=await E(Q),{maxPages:ae}=e.options,le=V?uk:ck;return{pages:le(M.pages,J,ae),pageParams:le(M.pageParams,D,ae)}};if(a&&o.length){const M=a==="backward",D=M?xk:Yw,V={pages:o,pageParams:c},Y=D(r,V);h=await A(V,Y,M)}else{const M=t??o.length;do{const D=d===0?c[0]??r.initialPageParam:Yw(r,h);if(d>0&&D==null)break;h=await A(h,D),d++}while(d<M)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function Yw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function xk(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var wk=class extends eS{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||nS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=W1({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(c,h)=>{this.#r({type:"failed",failureCount:c,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",o=!this.#s.canStart();try{if(a)n();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,r);const h=await this.options.onMutate?.(e,r);h!==this.state.context&&this.#r({type:"pending",context:h,variables:e,isPaused:o})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,e,this.state.context,this,r),await this.options.onSuccess?.(c,e,this.state.context,r),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(c,null,e,this.state.context,r),this.#r({type:"success",data:c}),c}catch(c){try{await this.#n.config.onError?.(c,e,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onError?.(c,e,this.state.context,r)}catch(h){Promise.reject(h)}try{await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,r)}catch(h){Promise.reject(h)}try{await this.options.onSettled?.(void 0,c,e,this.state.context,r)}catch(h){Promise.reject(h)}throw this.#r({type:"error",error:c}),c}finally{this.#n.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),en.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function nS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ek=class extends Xl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new wk({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=ef(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=ef(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=ef(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=ef(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){en.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Bw(e,n))}findAll(t={}){return this.getAll().filter(e=>Bw(t,e))}notify(t){en.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return en.batch(()=>Promise.all(t.map(e=>e.continue().catch(In))))}};function ef(t){return t.options.scope?.id}var Tk=class extends Xl{#e;#t=void 0;#n;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),zf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&io(n.mutationKey)!==io(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??nS();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){en.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(e.data,null,n,r,a)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,n,r,a)}catch(o){Promise.reject(o)}try{this.#s.onSettled?.(void 0,e.error,n,r,a)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},Sk=class extends Xl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,a=e.queryHash??Sv(r,e);let o=this.get(a);return o||(o=new yk({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){en.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Fw(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Fw(t,n)):e}notify(t){en.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){en.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){en.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ak=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new Sk,this.#t=t.mutationCache||new Ek,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Nv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Lf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Hi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,c=ak(e,o);if(c!==void 0)return this.#e.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return en.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;en.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return en.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=en.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(In).catch(In)}invalidateQueries(t,e={}){return en.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=en.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(In)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(In)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Hi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(In).catch(In)}fetchInfiniteQuery(t){return t.behavior=Zw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(In).catch(In)}ensureInfiniteQueryData(t){return t.behavior=Zw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(io(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Bu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(io(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Bu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Av&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},rS=L.createContext(void 0),Jl=t=>{const e=L.useContext(rS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ik=({client:t,children:e})=>(L.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(rS.Provider,{value:t,children:e})),sS=L.createContext(!1),Nk=()=>L.useContext(sS);sS.Provider;function Rk(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Ck=L.createContext(Rk()),Dk=()=>L.useContext(Ck),kk=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?Iv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},Ok=t=>{L.useEffect(()=>{t.clearReset()},[t])},jk=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||Iv(n,[t.error,r])),Pk=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Mk=(t,e)=>t.isLoading&&t.isFetching&&!e,Vk=(t,e)=>t?.suspense&&e.isPending,Xw=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function zk(t,e,n){const r=Nk(),a=Dk(),o=Jl(),c=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const h=o.getQueryCache().get(c.queryHash);c._optimisticResults=r?"isRestoring":"optimistic",Pk(c),kk(c,a,h),Ok(a);const d=!o.getQueryCache().get(c.queryHash),[p]=L.useState(()=>new e(o,c)),v=p.getOptimisticResult(c),_=!r&&t.subscribed!==!1;if(L.useSyncExternalStore(L.useCallback(E=>{const A=_?p.subscribe(en.batchCalls(E)):In;return p.updateResult(),A},[p,_]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),L.useEffect(()=>{p.setOptions(c)},[c,p]),Vk(c,v))throw Xw(c,p,a);if(jk({result:v,errorResetBoundary:a,throwOnError:c.throwOnError,query:h,suspense:c.suspense}))throw v.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,v),c.experimental_prefetchInRender&&!so&&Mk(v,r)&&(d?Xw(c,p,a):h?.promise)?.catch(In).finally(()=>{p.updateResult()}),c.notifyOnChangeProps?v:p.trackResult(v)}function iS(t,e){return zk(t,vk)}function bm(t,e){const n=Jl(),[r]=L.useState(()=>new Tk(n,t));L.useEffect(()=>{r.setOptions(t)},[r,t]);const a=L.useSyncExternalStore(L.useCallback(c=>r.subscribe(en.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=L.useCallback((c,h)=>{r.mutate(c,h).catch(In)},[r]);if(a.error&&Iv(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}const Lk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Jw=t=>{const e=Uk(t);return e.charAt(0).toUpperCase()+e.slice(1)},aS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Fk=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Bk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qk=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...h},d)=>L.createElement("svg",{ref:d,...Bk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:aS("lucide",a),...!o&&!Fk(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,v])=>L.createElement(p,v)),...Array.isArray(o)?o:[o]]));const vt=(t,e)=>{const n=L.forwardRef(({className:r,...a},o)=>L.createElement(qk,{ref:o,iconNode:e,className:aS(`lucide-${Lk(Jw(t))}`,`lucide-${t}`,r),...a}));return n.displayName=Jw(t),n};const $k=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ww=vt("activity",$k);const Hk=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Gk=vt("arrow-down",Hk);const Kk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qk=vt("arrow-left",Kk);const Zk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ly=vt("arrow-right",Zk);const Yk=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Xk=vt("arrow-up",Yk);const Jk=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Wk=vt("calculator",Jk);const eO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ao=vt("calendar",eO);const tO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],eE=vt("chevron-left",tO);const nO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],oS=vt("circle-alert",nO);const rO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xm=vt("circle-check-big",rO);const sO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cv=vt("clock",sO);const iO=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],aO=vt("dollar-sign",iO);const oO=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],wm=vt("external-link",oO);const lO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],cO=vt("house",lO);const uO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Em=vt("map-pin",uO);const hO=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Dv=vt("medal",hO);const dO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],fO=vt("menu",dO);const mO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],pO=vt("message-square",mO);const gO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],yO=vt("send",gO);const vO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],lS=vt("star",vO);const _O=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],My=vt("trending-up",_O);const bO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Wn=vt("trophy",bO);const xO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cS=vt("user",xO);const wO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wl=vt("users",wO);const EO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],TO=vt("x",EO);function uS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=uS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function SO(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=uS(t))&&(r&&(r+=" "),r+=e);return r}const AO=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},IO=(t,e)=>({classGroupId:t,validator:e}),hS=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Uf="-",tE=[],NO="arbitrary..",RO=t=>{const e=DO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return CO(c);const h=c.split(Uf),d=h[0]===""&&h.length>1?1:0;return dS(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=r[c],p=n[c];return d?p?AO(p,d):d:p||tE}return n[c]||tE}}},dS=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],o=n.nextPart.get(a);if(o){const p=dS(t,e+1,o);if(p)return p}const c=n.validators;if(c===null)return;const h=e===0?t.join(Uf):t.slice(e).join(Uf),d=c.length;for(let p=0;p<d;p++){const v=c[p];if(v.validator(h))return v.classGroupId}},CO=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?NO+r:void 0})(),DO=t=>{const{theme:e,classGroups:n}=t;return kO(n,e)},kO=(t,e)=>{const n=hS();for(const r in t){const a=t[r];kv(a,n,r,e)}return n},kv=(t,e,n,r)=>{const a=t.length;for(let o=0;o<a;o++){const c=t[o];OO(c,e,n,r)}},OO=(t,e,n,r)=>{if(typeof t=="string"){jO(t,e,n);return}if(typeof t=="function"){PO(t,e,n,r);return}MO(t,e,n,r)},jO=(t,e,n)=>{const r=t===""?e:fS(e,t);r.classGroupId=n},PO=(t,e,n,r)=>{if(VO(t)){kv(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(IO(n,t))},MO=(t,e,n,r)=>{const a=Object.entries(t),o=a.length;for(let c=0;c<o;c++){const[h,d]=a[c];kv(d,fS(e,h),n,r)}},fS=(t,e)=>{let n=t;const r=e.split(Uf),a=r.length;for(let o=0;o<a;o++){const c=r[o];let h=n.nextPart.get(c);h||(h=hS(),n.nextPart.set(c,h)),n=h}return n},VO=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,zO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(o,c)=>{n[o]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let c=n[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return a(o,c),c},set(o,c){o in n?n[o]=c:a(o,c)}}},Vy="!",nE=":",LO=[],rE=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),UO=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const o=[];let c=0,h=0,d=0,p;const v=a.length;for(let D=0;D<v;D++){const V=a[D];if(c===0&&h===0){if(V===nE){o.push(a.slice(d,D)),d=D+1;continue}if(V==="/"){p=D;continue}}V==="["?c++:V==="]"?c--:V==="("?h++:V===")"&&h--}const _=o.length===0?a:a.slice(d);let E=_,A=!1;_.endsWith(Vy)?(E=_.slice(0,-1),A=!0):_.startsWith(Vy)&&(E=_.slice(1),A=!0);const M=p&&p>d?p-d:void 0;return rE(o,A,E,M)};if(e){const a=e+nE,o=r;r=c=>c.startsWith(a)?o(c.slice(a.length)):rE(LO,!1,c,void 0,!0)}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},FO=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let o=0;o<n.length;o++){const c=n[o],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},BO=t=>({cache:zO(t.cacheSize),parseClassName:UO(t),sortModifiers:FO(t),...RO(t)}),qO=/\s+/,$O=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=e,c=[],h=t.trim().split(qO);let d="";for(let p=h.length-1;p>=0;p-=1){const v=h[p],{isExternal:_,modifiers:E,hasImportantModifier:A,baseClassName:M,maybePostfixModifierPosition:D}=n(v);if(_){d=v+(d.length>0?" "+d:d);continue}let V=!!D,Y=r(V?M.substring(0,D):M);if(!Y){if(!V){d=v+(d.length>0?" "+d:d);continue}if(Y=r(M),!Y){d=v+(d.length>0?" "+d:d);continue}V=!1}const Q=E.length===0?"":E.length===1?E[0]:o(E).join(":"),J=A?Q+Vy:Q,ae=J+Y;if(c.indexOf(ae)>-1)continue;c.push(ae);const le=a(Y,V);for(let me=0;me<le.length;++me){const N=le[me];c.push(J+N)}d=v+(d.length>0?" "+d:d)}return d},HO=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=mS(n))&&(a&&(a+=" "),a+=r);return a},mS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=mS(t[r]))&&(n&&(n+=" "),n+=e);return n},GO=(t,...e)=>{let n,r,a,o;const c=d=>{const p=e.reduce((v,_)=>_(v),t());return n=BO(p),r=n.cache.get,a=n.cache.set,o=h,h(d)},h=d=>{const p=r(d);if(p)return p;const v=$O(d,n);return a(d,v),v};return o=c,(...d)=>o(HO(...d))},KO=[],Wt=t=>{const e=n=>n[t]||KO;return e.isThemeGetter=!0,e},pS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,QO=/^\d+\/\d+$/,ZO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,JO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pl=t=>QO.test(t),Fe=t=>!!t&&!Number.isNaN(Number(t)),Pi=t=>!!t&&Number.isInteger(Number(t)),cy=t=>t.endsWith("%")&&Fe(t.slice(0,-1)),Ls=t=>ZO.test(t),ej=()=>!0,tj=t=>YO.test(t)&&!XO.test(t),yS=()=>!1,nj=t=>JO.test(t),rj=t=>WO.test(t),sj=t=>!ye(t)&&!ve(t),ij=t=>ec(t,bS,yS),ye=t=>pS.test(t),La=t=>ec(t,xS,tj),uy=t=>ec(t,uj,Fe),sE=t=>ec(t,vS,yS),aj=t=>ec(t,_S,rj),tf=t=>ec(t,wS,nj),ve=t=>gS.test(t),vu=t=>tc(t,xS),oj=t=>tc(t,hj),iE=t=>tc(t,vS),lj=t=>tc(t,bS),cj=t=>tc(t,_S),nf=t=>tc(t,wS,!0),ec=(t,e,n)=>{const r=pS.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},tc=(t,e,n=!1)=>{const r=gS.exec(t);return r?r[1]?e(r[1]):n:!1},vS=t=>t==="position"||t==="percentage",_S=t=>t==="image"||t==="url",bS=t=>t==="length"||t==="size"||t==="bg-size",xS=t=>t==="length",uj=t=>t==="number",hj=t=>t==="family-name",wS=t=>t==="shadow",dj=()=>{const t=Wt("color"),e=Wt("font"),n=Wt("text"),r=Wt("font-weight"),a=Wt("tracking"),o=Wt("leading"),c=Wt("breakpoint"),h=Wt("container"),d=Wt("spacing"),p=Wt("radius"),v=Wt("shadow"),_=Wt("inset-shadow"),E=Wt("text-shadow"),A=Wt("drop-shadow"),M=Wt("blur"),D=Wt("perspective"),V=Wt("aspect"),Y=Wt("ease"),Q=Wt("animate"),J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],le=()=>[...ae(),ve,ye],me=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],T=()=>[ve,ye,d],R=()=>[pl,"full","auto",...T()],O=()=>[Pi,"none","subgrid",ve,ye],P=()=>["auto",{span:["full",Pi,ve,ye]},Pi,ve,ye],U=()=>[Pi,"auto",ve,ye],k=()=>["auto","min","max","fr",ve,ye],Se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ue=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...T()],ce=()=>[pl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],oe=()=>[t,ve,ye],Me=()=>[...ae(),iE,sE,{position:[ve,ye]}],Re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",lj,ij,{size:[ve,ye]}],Z=()=>[cy,vu,La],ie=()=>["","none","full",p,ve,ye],he=()=>["",Fe,vu,La],Ie=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>[Fe,cy,iE,sE],Nt=()=>["","none",M,ve,ye],rt=()=>["none",Fe,ve,ye],nr=()=>["none",Fe,ve,ye],Fr=()=>[Fe,ve,ye],Tr=()=>[pl,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ls],breakpoint:[Ls],color:[ej],container:[Ls],"drop-shadow":[Ls],ease:["in","out","in-out"],font:[sj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ls],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ls],shadow:[Ls],spacing:["px",Fe],text:[Ls],"text-shadow":[Ls],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",pl,ye,ve,V]}],container:["container"],columns:[{columns:[Fe,ye,ve,h]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:le()}],overflow:[{overflow:me()}],"overflow-x":[{"overflow-x":me()}],"overflow-y":[{"overflow-y":me()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Pi,"auto",ve,ye]}],basis:[{basis:[pl,"full","auto",h,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fe,pl,"auto","initial","none",ye]}],grow:[{grow:["",Fe,ve,ye]}],shrink:[{shrink:["",Fe,ve,ye]}],order:[{order:[Pi,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...Se(),"normal"]}],"justify-items":[{"justify-items":[...Ue(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ue()]}],"align-content":[{content:["normal",...Se()]}],"align-items":[{items:[...Ue(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ue(),{baseline:["","last"]}]}],"place-content":[{"place-content":Se()}],"place-items":[{"place-items":[...Ue(),"baseline"]}],"place-self":[{"place-self":["auto",...Ue()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:ce()}],w:[{w:[h,"screen",...ce()]}],"min-w":[{"min-w":[h,"screen","none",...ce()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...ce()]}],h:[{h:["screen","lh",...ce()]}],"min-h":[{"min-h":["screen","lh","none",...ce()]}],"max-h":[{"max-h":["screen","lh",...ce()]}],"font-size":[{text:["base",n,vu,La]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,uy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cy,ye]}],"font-family":[{font:[oj,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,ye]}],"line-clamp":[{"line-clamp":[Fe,"none",ve,uy]}],leading:[{leading:[o,...T()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:oe()}],"text-color":[{text:oe()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fe,"from-font","auto",ve,La]}],"text-decoration-color":[{decoration:oe()}],"underline-offset":[{"underline-offset":[Fe,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Me()}],"bg-repeat":[{bg:Re()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pi,ve,ye],radial:["",ve,ye],conic:[Pi,ve,ye]},cj,aj]}],"bg-color":[{bg:oe()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:oe()}],"gradient-via":[{via:oe()}],"gradient-to":[{to:oe()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:oe()}],"border-color-x":[{"border-x":oe()}],"border-color-y":[{"border-y":oe()}],"border-color-s":[{"border-s":oe()}],"border-color-e":[{"border-e":oe()}],"border-color-t":[{"border-t":oe()}],"border-color-r":[{"border-r":oe()}],"border-color-b":[{"border-b":oe()}],"border-color-l":[{"border-l":oe()}],"divide-color":[{divide:oe()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fe,ve,ye]}],"outline-w":[{outline:["",Fe,vu,La]}],"outline-color":[{outline:oe()}],shadow:[{shadow:["","none",v,nf,tf]}],"shadow-color":[{shadow:oe()}],"inset-shadow":[{"inset-shadow":["none",_,nf,tf]}],"inset-shadow-color":[{"inset-shadow":oe()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:oe()}],"ring-offset-w":[{"ring-offset":[Fe,La]}],"ring-offset-color":[{"ring-offset":oe()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":oe()}],"text-shadow":[{"text-shadow":["none",E,nf,tf]}],"text-shadow-color":[{"text-shadow":oe()}],opacity:[{opacity:[Fe,ve,ye]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ae()}],"mask-image-linear-from-color":[{"mask-linear-from":oe()}],"mask-image-linear-to-color":[{"mask-linear-to":oe()}],"mask-image-t-from-pos":[{"mask-t-from":Ae()}],"mask-image-t-to-pos":[{"mask-t-to":Ae()}],"mask-image-t-from-color":[{"mask-t-from":oe()}],"mask-image-t-to-color":[{"mask-t-to":oe()}],"mask-image-r-from-pos":[{"mask-r-from":Ae()}],"mask-image-r-to-pos":[{"mask-r-to":Ae()}],"mask-image-r-from-color":[{"mask-r-from":oe()}],"mask-image-r-to-color":[{"mask-r-to":oe()}],"mask-image-b-from-pos":[{"mask-b-from":Ae()}],"mask-image-b-to-pos":[{"mask-b-to":Ae()}],"mask-image-b-from-color":[{"mask-b-from":oe()}],"mask-image-b-to-color":[{"mask-b-to":oe()}],"mask-image-l-from-pos":[{"mask-l-from":Ae()}],"mask-image-l-to-pos":[{"mask-l-to":Ae()}],"mask-image-l-from-color":[{"mask-l-from":oe()}],"mask-image-l-to-color":[{"mask-l-to":oe()}],"mask-image-x-from-pos":[{"mask-x-from":Ae()}],"mask-image-x-to-pos":[{"mask-x-to":Ae()}],"mask-image-x-from-color":[{"mask-x-from":oe()}],"mask-image-x-to-color":[{"mask-x-to":oe()}],"mask-image-y-from-pos":[{"mask-y-from":Ae()}],"mask-image-y-to-pos":[{"mask-y-to":Ae()}],"mask-image-y-from-color":[{"mask-y-from":oe()}],"mask-image-y-to-color":[{"mask-y-to":oe()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ae()}],"mask-image-radial-from-color":[{"mask-radial-from":oe()}],"mask-image-radial-to-color":[{"mask-radial-to":oe()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ae()}],"mask-image-conic-pos":[{"mask-conic":[Fe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ae()}],"mask-image-conic-from-color":[{"mask-conic-from":oe()}],"mask-image-conic-to-color":[{"mask-conic-to":oe()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Me()}],"mask-repeat":[{mask:Re()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:Nt()}],brightness:[{brightness:[Fe,ve,ye]}],contrast:[{contrast:[Fe,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",A,nf,tf]}],"drop-shadow-color":[{"drop-shadow":oe()}],grayscale:[{grayscale:["",Fe,ve,ye]}],"hue-rotate":[{"hue-rotate":[Fe,ve,ye]}],invert:[{invert:["",Fe,ve,ye]}],saturate:[{saturate:[Fe,ve,ye]}],sepia:[{sepia:["",Fe,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":Nt()}],"backdrop-brightness":[{"backdrop-brightness":[Fe,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Fe,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fe,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fe,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Fe,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Fe,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Fe,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Fe,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fe,"initial",ve,ye]}],ease:[{ease:["linear","initial",Y,ve,ye]}],delay:[{delay:[Fe,ve,ye]}],animate:[{animate:["none",Q,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[D,ve,ye]}],"perspective-origin":[{"perspective-origin":le()}],rotate:[{rotate:rt()}],"rotate-x":[{"rotate-x":rt()}],"rotate-y":[{"rotate-y":rt()}],"rotate-z":[{"rotate-z":rt()}],scale:[{scale:nr()}],"scale-x":[{"scale-x":nr()}],"scale-y":[{"scale-y":nr()}],"scale-z":[{"scale-z":nr()}],"scale-3d":["scale-3d"],skew:[{skew:Fr()}],"skew-x":[{"skew-x":Fr()}],"skew-y":[{"skew-y":Fr()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:le()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Tr()}],"translate-x":[{"translate-x":Tr()}],"translate-y":[{"translate-y":Tr()}],"translate-z":[{"translate-z":Tr()}],"translate-none":["translate-none"],accent:[{accent:oe()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:oe()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...oe()]}],"stroke-w":[{stroke:[Fe,vu,La,uy]}],stroke:[{stroke:["none",...oe()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fj=GO(dj);function Cn(...t){return fj(SO(t))}const mj=(t,e)=>{let n=null,r=0,a=0;return t.map(o=>{const c=e(o);return a+=1,(n===null||c!==n)&&(r=a,n=c),{...o,rank:r}})},Xa=Uu.forwardRef(({variant:t="primary",size:e="md",className:n,children:r,...a},o)=>{const c="inline-flex items-center justify-center rounded-lg font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",h={primary:"bg-primary text-text-main hover:bg-primary-hover border border-transparent shadow-sm",secondary:"bg-surface-highlight text-text-main border border-border hover:border-primary/50",ghost:"bg-transparent text-text-main hover:bg-surface-highlight"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return g.jsx("button",{ref:o,className:Cn(c,h[t]??h.primary,d[e]??d.md,n),...a,children:r})});Xa.displayName="Button";const pj=({children:t})=>{const[e,n]=L.useState(!1),r=ra(),a=[{name:"Home",href:"/",icon:cO},{name:"Standings",href:"/standings",icon:Wn},{name:"Schedule",href:"/schedule",icon:ao},{name:"Calculator",href:"/calculator",icon:Wk},{name:"Players",href:"/players",icon:Wl},{name:"Format",href:"/format",icon:ao},{name:"Champions",href:"/champions",icon:Wn}];return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsxs("nav",{className:"bg-surface text-text-main sticky top-0 z-50 shadow-lg border-b border-border",children:[g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex items-center justify-between h-16",children:[g.jsx("div",{className:"flex items-center",children:g.jsxs(Tt,{to:"/",className:"flex items-center space-x-2",children:[g.jsx(Wn,{className:"h-6 w-6 text-warning"}),g.jsx("span",{className:"font-bold text-lg tracking-tight",children:"Paddle Up"})]})}),g.jsx("div",{className:"hidden md:block",children:g.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:a.map(o=>{const c=o.icon,h=r.pathname===o.href;return g.jsxs(Tt,{to:o.href,className:Cn("px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center space-x-1",h?"bg-surface-highlight text-warning":"text-text-muted hover:bg-surface-highlight hover:text-text-main"),children:[g.jsx(c,{className:"h-4 w-4"}),g.jsx("span",{children:o.name})]},o.name)})})}),g.jsx("div",{className:"md:hidden",children:g.jsx(Xa,{onClick:()=>n(!e),variant:"ghost",size:"sm",className:"inline-flex items-center justify-center p-2 rounded-md text-text-muted hover:text-text-main hover:bg-surface-highlight focus:outline-none",children:e?g.jsx(TO,{className:"h-6 w-6"}):g.jsx(fO,{className:"h-6 w-6"})})})]})}),e&&g.jsx("div",{className:"md:hidden",children:g.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-surface border-t border-border",children:a.map(o=>{const c=o.icon,h=r.pathname===o.href;return g.jsxs(Tt,{to:o.href,onClick:()=>n(!1),className:Cn("block px-3 py-2 rounded-md text-base font-medium flex items-center space-x-2",h?"bg-surface-highlight text-warning":"text-text-muted hover:bg-surface-highlight hover:text-text-main"),children:[g.jsx(c,{className:"h-5 w-5"}),g.jsx("span",{children:o.name})]},o.name)})})})]}),g.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),g.jsx("footer",{className:"bg-surface text-text-muted py-8 mt-auto",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[g.jsxs("p",{children:[" ",new Date().getFullYear()," Paddle Up Individual Championship League"]}),g.jsx("p",{className:"text-sm mt-2",children:"Competitive Integrity  Merit-Based  Transparent"})]})})]})},ES={subtitle:"The premier competitive league in St. Louis. Merit-based advancement, weekly stakes, and a path to the championship.",schedule:{day:"Sundays",time:"7:00 - 9:00 PM"},location:{name:"Paddle Up",url:"https://maps.app.goo.gl/dKNY9dnEDiFdM3XK8",city:"Chesterfield"},participant:{type:"Individual",note:"No Partner Needed"},register:{url:"https://courtreserve.com",text:"Register on CourtReserve"},missedWeekNote:"Missed week = 0 points",philosophy:"Competitive integrity is the priority. Rotating partners, merit-based court movement, and transparent standings determine advancement. Top performers earn season rewards and guaranteed spots for the next season, while lower performers must re-qualify to ensure a high level of competition.",seasonStructure:{rosterSize:16,duration:"6 Weeks",when:"Sundays, 7:00 PM  9:00 PM",safeZone:"Top 12 players (of a 16-player roster) automatically qualify for the next season  guaranteed roster spots at the end of the 6-week season.",dropZone:"Bottom 4 players (of a 16-player roster) must re-qualify for the next season. They lose their roster spot at the end of the 6-week season and may re-enter via the Open Qualifiers."},seeding:{overview:"Initial seeding uses DUPR for Week 1; thereafter seeding is based on season points and weekly performance.",week1:"Use DUPR rating (higher DUPR = higher seed). If DUPR missing, use last-seen DUPR or default to league admin placement.",draw:"Balanced 'Snake Draw' across 4 courts.",tieBreakers:["Head-to-head (if available)","Higher DUPR","Most recent higher placement"],promotionRelegation:{summary:"Top 2 on each court advance/move up per round; courts are reassigned between rounds based on performance.",nightlyPromotionBonus:"Players who win promotion to a higher court receive a small bonus (configurable) applied after nightly results."},courts:[{name:"Court 1",seeds:"1, 8, 9, 16"},{name:"Court 2",seeds:"2, 7, 10, 15"},{name:"Court 3",seeds:"3, 6, 11, 14"},{name:"Court 4",seeds:"4, 5, 12, 13"}]},rewards:{firstPlace:{name:"1st",items:["$100 Court Credit","Free Entry Next Season","50 Paddle Up Club Points"]},secondPlace:{name:"2nd",items:["$60 Court Credit","30 Paddle Up Club Points"]},thirdPlace:{name:"3rd",items:["$40 Court Credit","20 Paddle Up Club Points"]},notes:"Court credits are applied to player accounts; club points are tracked separately from league standings."},qualification:{description:"Before each season begins, we host two Open Qualifier events to fill the open roster spots.",who:["New applicants (DUPR 3.6+ required)","Players who must re-qualify from the previous season (bottom 4)"],format:"Round Robin (Rotating Partners)",advancement:["Qualifier #1: The Top 2 finishers earn a spot in the league","Qualifier #2: The Top 2 finishers earn a spot in the league","Remaining roster spots (if any) are filled based on overall points from both events"],note:"If you fail to qualify in the first event, you may register for the second event to try again."},general:["DUPR 3.6+ required","DUPR must be linked in CourtReserve prior to play"],format:[{title:"Round 1: Quarterfinals",description:["Players are divided into 4 courts based on seeding.","Top 2 from each court advance to the Upper Bracket (Courts 1 & 2).","Bottom 2 move to the Lower Bracket (Courts 3 & 4)."]},{title:"Round 2: Semifinals",description:["Bracket play.","Top 2 from each Upper Bracket court advance to the Championship Court (C1); bottom 2 move to Court 2.","Top 2 from each Lower Bracket court advance to Court 3; bottom 2 move to Court 4."]},{title:"Round 3: Finals",description:["Final placement.","You play one last round robin on your assigned court (1-4) to determine your final points and ranking."]}],faqs:[{question:"What happens if I miss a week?",answer:"If you miss a week, you receive 0 points for that night. You must notify the league admin so a substitute can be assigned. You are allowed a maximum of 2 sub replacements per season."},{question:"Can I choose my own sub?",answer:"No. To ensure competitive balance and fairness, all substitutes are assigned by the league administration from the approved sub pool."},{question:"How do I qualify for the next season?",answer:"The top 4 players from the current season automatically qualify for the next season. Other spots may be filled through open registration or qualifying nights."},{question:"Is there a warm-up period?",answer:"Yes, courts are available for warm-up starting at 6:45 PM. League play begins promptly at 7:00 PM."}],scoring:["Traditional scoring","Games to 11  win by 1","Ceiling contact = out"],points:{championship:{1:1e3,2:800,3:600,4:400},court2:{1:300,2:240,3:180,4:120},court3:{1:100,2:80,3:60,4:40},court4:{1:30,2:24,3:18,4:12}},subs:["League players must contact league administration to arrange for a sub ahead of time","Subs will be chosen from from the top performers in the most recent Open Qualifiers","Absent players receive 0 points"]},yf={title:"Paddle Up Individual Championship League",fee:"$80",summary:"Season-long championship format  6 weeks of merit-based play with promotion/relegation, weekly standings, and season prizes. Ideal for players who want sustained competitive play and a path to the championship.",...ES},hy={title:"The Challenge",summary:"Short-form weekly competition  rotating partners, per-night entry, and court promotion each round. Quick, social, and competitive nights focused on weekly performance.",price:{amount:15,unit:"per night",display:"$15",note:"per night"},showSections:{seasonStructure:!1,prizes:!1,qualifiers:!1},...ES},Ye=yf,gj=t=>{const{championship:e,court2:n,court3:r,court4:a}=Ye.points??{championship:{},court2:{},court3:{},court4:{}},o=(c,h)=>{if(!c)return 0;const d=c[h];return typeof d=="number"?d:0};return t<=4?o(e,t):t<=8?o(n,t-4):t<=12?o(r,t-8):t<=16?o(a,t-12):0},Tm=t=>{if(!t.isCompleted||!Array.isArray(t.standings)||t.standings.length===0)return null;const e=t.standings,n=[];return e.forEach((r,a)=>{const o=a+1,c=Math.ceil(o/4),h=(o-1)%4+1,d=gj(o);n.push({playerId:r,court:c,position:h,rank:o,pointsEarned:d})}),n},yj=t=>{const e=new Map;return t.forEach(n=>{if(!n.standings||n.standings.length===0)return;const r={id:n.id,date:n.startDateTime?n.startDateTime.toISOString():n.id,isCompleted:!0,standings:n.standings},a=Tm(r);a&&a.forEach(o=>{const c=o.playerId,h=o.pointsEarned||0,d=e.get(c)||{points:0,events:0,champWins:0};d.points+=h,d.events+=1,o.rank===1&&(d.champWins+=1),e.set(c,d)})}),e},vj=()=>{};var aE={};const TS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},_j=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},SS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,v=o>>2,_=(o&3)<<4|h>>4;let E=(h&15)<<2|p>>6,A=p&63;d||(A=64,c||(E=64)),r.push(n[v],n[_],n[E],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_j(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||p==null||_==null)throw new bj;const E=o<<2|h>>4;if(r.push(E),p!==64){const A=h<<4&240|p>>2;if(r.push(A),_!==64){const M=p<<6&192|_;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xj=function(t){const e=TS(t);return SS.encodeByteArray(e,!0)},Ff=function(t){return xj(t).replace(/\./g,"")},AS=function(t){try{return SS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function IS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wj=()=>IS().__FIREBASE_DEFAULTS__,Ej=()=>{if(typeof process>"u"||typeof aE>"u")return;const t=aE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Tj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AS(t[1]);return e&&JSON.parse(e)},Sm=()=>{try{return vj()||wj()||Ej()||Tj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NS=t=>Sm()?.emulatorHosts?.[t],Sj=t=>{const e=NS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RS=()=>Sm()?.config,CS=t=>Sm()?.[`_${t}`];class Aj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function nc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DS(t){return(await fetch(t,{credentials:"include"})).ok}function Ij(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ff(JSON.stringify(n)),Ff(JSON.stringify(c)),""].join(".")}const Cu={};function Nj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cu))Cu[e]?t.emulator.push(e):t.prod.push(e);return t}function Rj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let oE=!1;function kS(t,e){if(typeof window>"u"||typeof document>"u"||!nc(window.location.host)||Cu[t]===e||Cu[t]||oE)return;Cu[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=Nj().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{oE=!0,c()},E}function v(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=Rj(r),A=n("text"),M=document.getElementById(A)||document.createElement("span"),D=n("learnmore"),V=document.getElementById(D)||document.createElement("a"),Y=n("preprendIcon"),Q=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const J=E.element;h(J),v(V,D);const ae=p();d(Q,Y),J.append(Q,M,V,ae),document.body.appendChild(J)}o?(M.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function OS(){const t=Sm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Oj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jj(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jS(){return!OS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){return!OS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function MS(){try{return typeof indexedDB=="object"}catch{return!1}}function Pj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const Mj="FirebaseError";class Xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Mj,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ch.prototype.create)}}class ch{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?Vj(o,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Xs(a,h,r)}}function Vj(t,e){return t.replace(zj,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const zj=/\{\$([^}]+)}/g;function Lj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],c=e[a];if(lE(o)&&lE(c)){if(!oo(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function lE(t){return t!==null&&typeof t=="object"}function uh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uj(t,e){const n=new Fj(t,e);return n.subscribe.bind(n)}class Fj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Bj(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=dy),a.error===void 0&&(a.error=dy),a.complete===void 0&&(a.complete=dy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dy(){}function wn(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fa="[DEFAULT]";class qj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Aj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hj(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$j(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $j(t){return t===Fa?void 0:t}function Hj(t){return t.instantiationMode==="EAGER"}class Gj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const Kj={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},Qj=Ke.INFO,Zj={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},Yj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=Zj[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ov{constructor(e){this.name=e,this._logLevel=Qj,this._logHandler=Yj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Kj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const Xj=(t,e)=>e.some(n=>t instanceof n);let cE,uE;function Jj(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wj(){return uE||(uE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VS=new WeakMap,zy=new WeakMap,zS=new WeakMap,fy=new WeakMap,jv=new WeakMap;function eP(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Gi(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&VS.set(n,t)}).catch(()=>{}),jv.set(e,t),e}function tP(t){if(zy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});zy.set(t,e)}let Ly={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nP(t){Ly=t(Ly)}function rP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(my(this),e,...n);return zS.set(r,e.sort?e.sort():[e]),Gi(r)}:Wj().includes(t)?function(...e){return t.apply(my(this),e),Gi(VS.get(this))}:function(...e){return Gi(t.apply(my(this),e))}}function sP(t){return typeof t=="function"?rP(t):(t instanceof IDBTransaction&&tP(t),Xj(t,Jj())?new Proxy(t,Ly):t)}function Gi(t){if(t instanceof IDBRequest)return eP(t);if(fy.has(t))return fy.get(t);const e=sP(t);return e!==t&&(fy.set(t,e),jv.set(e,t)),e}const my=t=>jv.get(t);function iP(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),h=Gi(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Gi(c.result),d.oldVersion,d.newVersion,Gi(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const aP=["get","getKey","getAll","getAllKeys","count"],oP=["put","add","delete","clear"],py=new Map;function hE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(py.get(e))return py.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=oP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||aP.includes(n)))return;const o=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return py.set(e,o),o}nP(t=>({...t,get:(e,n,r)=>hE(e,n)||t.get(e,n,r),has:(e,n)=>!!hE(e,n)||t.has(e,n)}));class lP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cP(t){return t.getComponent()?.type==="VERSION"}const Uy="@firebase/app",dE="0.14.6";const Gs=new Ov("@firebase/app"),uP="@firebase/app-compat",hP="@firebase/analytics-compat",dP="@firebase/analytics",fP="@firebase/app-check-compat",mP="@firebase/app-check",pP="@firebase/auth",gP="@firebase/auth-compat",yP="@firebase/database",vP="@firebase/data-connect",_P="@firebase/database-compat",bP="@firebase/functions",xP="@firebase/functions-compat",wP="@firebase/installations",EP="@firebase/installations-compat",TP="@firebase/messaging",SP="@firebase/messaging-compat",AP="@firebase/performance",IP="@firebase/performance-compat",NP="@firebase/remote-config",RP="@firebase/remote-config-compat",CP="@firebase/storage",DP="@firebase/storage-compat",kP="@firebase/firestore",OP="@firebase/ai",jP="@firebase/firestore-compat",PP="firebase",MP="12.6.0";const Fy="[DEFAULT]",VP={[Uy]:"fire-core",[uP]:"fire-core-compat",[dP]:"fire-analytics",[hP]:"fire-analytics-compat",[mP]:"fire-app-check",[fP]:"fire-app-check-compat",[pP]:"fire-auth",[gP]:"fire-auth-compat",[yP]:"fire-rtdb",[vP]:"fire-data-connect",[_P]:"fire-rtdb-compat",[bP]:"fire-fn",[xP]:"fire-fn-compat",[wP]:"fire-iid",[EP]:"fire-iid-compat",[TP]:"fire-fcm",[SP]:"fire-fcm-compat",[AP]:"fire-perf",[IP]:"fire-perf-compat",[NP]:"fire-rc",[RP]:"fire-rc-compat",[CP]:"fire-gcs",[DP]:"fire-gcs-compat",[kP]:"fire-fst",[jP]:"fire-fst-compat",[OP]:"fire-vertex","fire-js":"fire-js",[PP]:"fire-js-all"};const qu=new Map,zP=new Map,By=new Map;function fE(t,e){try{t.container.addComponent(e)}catch(n){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jl(t){const e=t.name;if(By.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;By.set(e,t);for(const n of qu.values())fE(n,t);for(const n of zP.values())fE(n,t);return!0}function Pv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zr(t){return t==null?!1:t.settings!==void 0}const LP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new ch("app","Firebase",LP);class UP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}const rc=MP;function LS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Fy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ki.create("bad-app-name",{appName:String(a)});if(n||(n=RS()),!n)throw Ki.create("no-options");const o=qu.get(a);if(o){if(oo(n,o.options)&&oo(r,o.config))return o;throw Ki.create("duplicate-app",{appName:a})}const c=new Gj(a);for(const d of By.values())c.addComponent(d);const h=new UP(n,r,c);return qu.set(a,h),h}function US(t=Fy){const e=qu.get(t);if(!e&&t===Fy&&RS())return LS();if(!e)throw Ki.create("no-app",{appName:t});return e}function mE(){return Array.from(qu.values())}function Qi(t,e,n){let r=VP[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(c.join(" "));return}jl(new lo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const FP="firebase-heartbeat-database",BP=1,$u="firebase-heartbeat-store";let gy=null;function FS(){return gy||(gy=iP(FP,BP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($u)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),gy}async function qP(t){try{const n=(await FS()).transaction($u),r=await n.objectStore($u).get(BS(t));return await n.done,r}catch(e){if(e instanceof Xs)Gs.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e?.message});Gs.warn(n.message)}}}async function pE(t,e){try{const r=(await FS()).transaction($u,"readwrite");await r.objectStore($u).put(e,BS(t)),await r.done}catch(n){if(n instanceof Xs)Gs.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n?.message});Gs.warn(r.message)}}}function BS(t){return`${t.name}!${t.options.appId}`}const $P=1024,HP=30;class GP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>HP){const a=ZP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gE(),{heartbeatsToSend:n,unsentEntries:r}=KP(this._heartbeatsCache.heartbeats),a=Ff(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Gs.warn(e),""}}}function gE(){return new Date().toISOString().substring(0,10)}function KP(t,e=$P){const n=[];let r=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),yE(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),yE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MS()?Pj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function yE(t){return Ff(JSON.stringify({version:2,heartbeats:t})).length}function ZP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function YP(t){jl(new lo("platform-logger",e=>new lP(e),"PRIVATE")),jl(new lo("heartbeat",e=>new GP(e),"PRIVATE")),Qi(Uy,dE,t),Qi(Uy,dE,"esm2020"),Qi("fire-js","")}YP("");var vE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zi,qS;(function(){var t;function e(N,T){function R(){}R.prototype=T.prototype,N.F=T.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(O,P,U){for(var k=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)k[Se-2]=arguments[Se];return T.prototype[P].apply(O,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,T,R){R||(R=0);const O=Array(16);if(typeof T=="string")for(var P=0;P<16;++P)O[P]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(P=0;P<16;++P)O[P]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=N.g[0],R=N.g[1],P=N.g[2];let U=N.g[3],k;k=T+(U^R&(P^U))+O[0]+3614090360&4294967295,T=R+(k<<7&4294967295|k>>>25),k=U+(P^T&(R^P))+O[1]+3905402710&4294967295,U=T+(k<<12&4294967295|k>>>20),k=P+(R^U&(T^R))+O[2]+606105819&4294967295,P=U+(k<<17&4294967295|k>>>15),k=R+(T^P&(U^T))+O[3]+3250441966&4294967295,R=P+(k<<22&4294967295|k>>>10),k=T+(U^R&(P^U))+O[4]+4118548399&4294967295,T=R+(k<<7&4294967295|k>>>25),k=U+(P^T&(R^P))+O[5]+1200080426&4294967295,U=T+(k<<12&4294967295|k>>>20),k=P+(R^U&(T^R))+O[6]+2821735955&4294967295,P=U+(k<<17&4294967295|k>>>15),k=R+(T^P&(U^T))+O[7]+4249261313&4294967295,R=P+(k<<22&4294967295|k>>>10),k=T+(U^R&(P^U))+O[8]+1770035416&4294967295,T=R+(k<<7&4294967295|k>>>25),k=U+(P^T&(R^P))+O[9]+2336552879&4294967295,U=T+(k<<12&4294967295|k>>>20),k=P+(R^U&(T^R))+O[10]+4294925233&4294967295,P=U+(k<<17&4294967295|k>>>15),k=R+(T^P&(U^T))+O[11]+2304563134&4294967295,R=P+(k<<22&4294967295|k>>>10),k=T+(U^R&(P^U))+O[12]+1804603682&4294967295,T=R+(k<<7&4294967295|k>>>25),k=U+(P^T&(R^P))+O[13]+4254626195&4294967295,U=T+(k<<12&4294967295|k>>>20),k=P+(R^U&(T^R))+O[14]+2792965006&4294967295,P=U+(k<<17&4294967295|k>>>15),k=R+(T^P&(U^T))+O[15]+1236535329&4294967295,R=P+(k<<22&4294967295|k>>>10),k=T+(P^U&(R^P))+O[1]+4129170786&4294967295,T=R+(k<<5&4294967295|k>>>27),k=U+(R^P&(T^R))+O[6]+3225465664&4294967295,U=T+(k<<9&4294967295|k>>>23),k=P+(T^R&(U^T))+O[11]+643717713&4294967295,P=U+(k<<14&4294967295|k>>>18),k=R+(U^T&(P^U))+O[0]+3921069994&4294967295,R=P+(k<<20&4294967295|k>>>12),k=T+(P^U&(R^P))+O[5]+3593408605&4294967295,T=R+(k<<5&4294967295|k>>>27),k=U+(R^P&(T^R))+O[10]+38016083&4294967295,U=T+(k<<9&4294967295|k>>>23),k=P+(T^R&(U^T))+O[15]+3634488961&4294967295,P=U+(k<<14&4294967295|k>>>18),k=R+(U^T&(P^U))+O[4]+3889429448&4294967295,R=P+(k<<20&4294967295|k>>>12),k=T+(P^U&(R^P))+O[9]+568446438&4294967295,T=R+(k<<5&4294967295|k>>>27),k=U+(R^P&(T^R))+O[14]+3275163606&4294967295,U=T+(k<<9&4294967295|k>>>23),k=P+(T^R&(U^T))+O[3]+4107603335&4294967295,P=U+(k<<14&4294967295|k>>>18),k=R+(U^T&(P^U))+O[8]+1163531501&4294967295,R=P+(k<<20&4294967295|k>>>12),k=T+(P^U&(R^P))+O[13]+2850285829&4294967295,T=R+(k<<5&4294967295|k>>>27),k=U+(R^P&(T^R))+O[2]+4243563512&4294967295,U=T+(k<<9&4294967295|k>>>23),k=P+(T^R&(U^T))+O[7]+1735328473&4294967295,P=U+(k<<14&4294967295|k>>>18),k=R+(U^T&(P^U))+O[12]+2368359562&4294967295,R=P+(k<<20&4294967295|k>>>12),k=T+(R^P^U)+O[5]+4294588738&4294967295,T=R+(k<<4&4294967295|k>>>28),k=U+(T^R^P)+O[8]+2272392833&4294967295,U=T+(k<<11&4294967295|k>>>21),k=P+(U^T^R)+O[11]+1839030562&4294967295,P=U+(k<<16&4294967295|k>>>16),k=R+(P^U^T)+O[14]+4259657740&4294967295,R=P+(k<<23&4294967295|k>>>9),k=T+(R^P^U)+O[1]+2763975236&4294967295,T=R+(k<<4&4294967295|k>>>28),k=U+(T^R^P)+O[4]+1272893353&4294967295,U=T+(k<<11&4294967295|k>>>21),k=P+(U^T^R)+O[7]+4139469664&4294967295,P=U+(k<<16&4294967295|k>>>16),k=R+(P^U^T)+O[10]+3200236656&4294967295,R=P+(k<<23&4294967295|k>>>9),k=T+(R^P^U)+O[13]+681279174&4294967295,T=R+(k<<4&4294967295|k>>>28),k=U+(T^R^P)+O[0]+3936430074&4294967295,U=T+(k<<11&4294967295|k>>>21),k=P+(U^T^R)+O[3]+3572445317&4294967295,P=U+(k<<16&4294967295|k>>>16),k=R+(P^U^T)+O[6]+76029189&4294967295,R=P+(k<<23&4294967295|k>>>9),k=T+(R^P^U)+O[9]+3654602809&4294967295,T=R+(k<<4&4294967295|k>>>28),k=U+(T^R^P)+O[12]+3873151461&4294967295,U=T+(k<<11&4294967295|k>>>21),k=P+(U^T^R)+O[15]+530742520&4294967295,P=U+(k<<16&4294967295|k>>>16),k=R+(P^U^T)+O[2]+3299628645&4294967295,R=P+(k<<23&4294967295|k>>>9),k=T+(P^(R|~U))+O[0]+4096336452&4294967295,T=R+(k<<6&4294967295|k>>>26),k=U+(R^(T|~P))+O[7]+1126891415&4294967295,U=T+(k<<10&4294967295|k>>>22),k=P+(T^(U|~R))+O[14]+2878612391&4294967295,P=U+(k<<15&4294967295|k>>>17),k=R+(U^(P|~T))+O[5]+4237533241&4294967295,R=P+(k<<21&4294967295|k>>>11),k=T+(P^(R|~U))+O[12]+1700485571&4294967295,T=R+(k<<6&4294967295|k>>>26),k=U+(R^(T|~P))+O[3]+2399980690&4294967295,U=T+(k<<10&4294967295|k>>>22),k=P+(T^(U|~R))+O[10]+4293915773&4294967295,P=U+(k<<15&4294967295|k>>>17),k=R+(U^(P|~T))+O[1]+2240044497&4294967295,R=P+(k<<21&4294967295|k>>>11),k=T+(P^(R|~U))+O[8]+1873313359&4294967295,T=R+(k<<6&4294967295|k>>>26),k=U+(R^(T|~P))+O[15]+4264355552&4294967295,U=T+(k<<10&4294967295|k>>>22),k=P+(T^(U|~R))+O[6]+2734768916&4294967295,P=U+(k<<15&4294967295|k>>>17),k=R+(U^(P|~T))+O[13]+1309151649&4294967295,R=P+(k<<21&4294967295|k>>>11),k=T+(P^(R|~U))+O[4]+4149444226&4294967295,T=R+(k<<6&4294967295|k>>>26),k=U+(R^(T|~P))+O[11]+3174756917&4294967295,U=T+(k<<10&4294967295|k>>>22),k=P+(T^(U|~R))+O[2]+718787259&4294967295,P=U+(k<<15&4294967295|k>>>17),k=R+(U^(P|~T))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,T){T===void 0&&(T=N.length);const R=T-this.blockSize,O=this.C;let P=this.h,U=0;for(;U<T;){if(P==0)for(;U<=R;)a(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<T;)if(O[P++]=N.charCodeAt(U++),P==this.blockSize){a(this,O),P=0;break}}else for(;U<T;)if(O[P++]=N[U++],P==this.blockSize){a(this,O),P=0;break}}this.h=P,this.o+=T},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;T=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=T&255,T/=256;for(this.v(N),N=Array(16),T=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)N[T++]=this.g[R]>>>O&255;return N};function o(N,T){var R=h;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=T(N)}function c(N,T){this.h=T;const R=[];let O=!0;for(let P=N.length-1;P>=0;P--){const U=N[P]|0;O&&U==T||(R[P]=U,O=!1)}this.g=R}var h={};function d(N){return-128<=N&&N<128?o(N,function(T){return new c([T|0],T<0?-1:0)}):new c([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return V(p(-N));const T=[];let R=1;for(let O=0;N>=R;O++)T[O]=N/R|0,R*=4294967296;return new c(T,0)}function v(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return V(v(N.substring(1),T));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(T,8));let O=_;for(let U=0;U<N.length;U+=8){var P=Math.min(8,N.length-U);const k=parseInt(N.substring(U,U+P),T);P<8?(P=p(Math.pow(T,P)),O=O.j(P).add(p(k))):(O=O.j(R),O=O.add(p(k)))}return O}var _=d(0),E=d(1),A=d(16777216);t=c.prototype,t.m=function(){if(D(this))return-V(this).m();let N=0,T=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);N+=(O>=0?O:4294967296+O)*T,T*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(M(this))return"0";if(D(this))return"-"+V(this).toString(N);const T=p(Math.pow(N,6));var R=this;let O="";for(;;){const P=ae(R,T).g;R=Y(R,P.j(T));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=P,M(R))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function M(N){if(N.h!=0)return!1;for(let T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function D(N){return N.h==-1}t.l=function(N){return N=Y(this,N),D(N)?-1:M(N)?0:1};function V(N){const T=N.g.length,R=[];for(let O=0;O<T;O++)R[O]=~N.g[O];return new c(R,~N.h).add(E)}t.abs=function(){return D(this)?V(this):this},t.add=function(N){const T=Math.max(this.g.length,N.g.length),R=[];let O=0;for(let P=0;P<=T;P++){let U=O+(this.i(P)&65535)+(N.i(P)&65535),k=(U>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);O=k>>>16,U&=65535,k&=65535,R[P]=k<<16|U}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Y(N,T){return N.add(V(T))}t.j=function(N){if(M(this)||M(N))return _;if(D(this))return D(N)?V(this).j(V(N)):V(V(this).j(N));if(D(N))return V(this.j(V(N)));if(this.l(A)<0&&N.l(A)<0)return p(this.m()*N.m());const T=this.g.length+N.g.length,R=[];for(var O=0;O<2*T;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let P=0;P<N.g.length;P++){const U=this.i(O)>>>16,k=this.i(O)&65535,Se=N.i(P)>>>16,Ue=N.i(P)&65535;R[2*O+2*P]+=k*Ue,Q(R,2*O+2*P),R[2*O+2*P+1]+=U*Ue,Q(R,2*O+2*P+1),R[2*O+2*P+1]+=k*Se,Q(R,2*O+2*P+1),R[2*O+2*P+2]+=U*Se,Q(R,2*O+2*P+2)}for(N=0;N<T;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=T;N<2*T;N++)R[N]=0;return new c(R,0)};function Q(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function J(N,T){this.g=N,this.h=T}function ae(N,T){if(M(T))throw Error("division by zero");if(M(N))return new J(_,_);if(D(N))return T=ae(V(N),T),new J(V(T.g),V(T.h));if(D(T))return T=ae(N,V(T)),new J(V(T.g),T.h);if(N.g.length>30){if(D(N)||D(T))throw Error("slowDivide_ only works with positive integers.");for(var R=E,O=T;O.l(N)<=0;)R=le(R),O=le(O);var P=me(R,1),U=me(O,1);for(O=me(O,2),R=me(R,2);!M(O);){var k=U.add(O);k.l(N)<=0&&(P=P.add(R),U=k),O=me(O,1),R=me(R,1)}return T=Y(N,P.j(T)),new J(P,T)}for(P=_;N.l(T)>=0;){for(R=Math.max(1,Math.floor(N.m()/T.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=p(R),k=U.j(T);D(k)||k.l(N)>0;)R-=O,U=p(R),k=U.j(T);M(U)&&(U=E),P=P.add(U),N=Y(N,k)}return new J(P,N)}t.B=function(N){return ae(this,N).h},t.and=function(N){const T=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<T;O++)R[O]=this.i(O)&N.i(O);return new c(R,this.h&N.h)},t.or=function(N){const T=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<T;O++)R[O]=this.i(O)|N.i(O);return new c(R,this.h|N.h)},t.xor=function(N){const T=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<T;O++)R[O]=this.i(O)^N.i(O);return new c(R,this.h^N.h)};function le(N){const T=N.g.length+1,R=[];for(let O=0;O<T;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new c(R,N.h)}function me(N,T){const R=T>>5;T%=32;const O=N.g.length-R,P=[];for(let U=0;U<O;U++)P[U]=T>0?N.i(U+R)>>>T|N.i(U+R+1)<<32-T:N.i(U+R);return new c(P,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Zi=c}).apply(typeof vE<"u"?vE:typeof self<"u"?self:typeof window<"u"?window:{});var rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $S,Tu,HS,vf,qy,GS,KS,QS;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof rf=="object"&&rf];for(var b=0;b<f.length;++b){var w=f[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function a(f,b){if(b)e:{var w=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var q=f[I];if(!(q in w))break e;w=w[q]}f=f[f.length-1],I=w[f],b=b(I),b!=I&&b!=null&&e(w,f,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(b){var w=[],I;for(I in b)Object.prototype.hasOwnProperty.call(b,I)&&w.push([I,b[I]]);return w}});var o=o||{},c=this||self;function h(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function d(f,b,w){return f.call.apply(f.bind,arguments)}function p(f,b,w){return p=d,p.apply(null,arguments)}function v(f,b){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function _(f,b){function w(){}w.prototype=b.prototype,f.Z=b.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(I,q,X){for(var fe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)fe[Ve-2]=arguments[Ve];return b.prototype[q].apply(I,fe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const b=f.length;if(b>0){const w=Array(b);for(let I=0;I<b;I++)w[I]=f[I];return w}return[]}function M(f,b){for(let I=1;I<arguments.length;I++){const q=arguments[I];var w=typeof q;if(w=w!="object"?w:q?Array.isArray(q)?"array":w:"null",w=="array"||w=="object"&&typeof q.length=="number"){w=f.length||0;const X=q.length||0;f.length=w+X;for(let fe=0;fe<X;fe++)f[w+fe]=q[fe]}else f.push(q)}}class D{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function V(f){c.setTimeout(()=>{throw f},0)}function Y(){var f=N;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class Q{constructor(){this.h=this.g=null}add(b,w){const I=J.get();I.set(b,w),this.h?this.h.next=I:this.g=I,this.h=I}}var J=new D(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,N=new Q,T=()=>{const f=Promise.resolve(void 0);le=()=>{f.then(R)}};function R(){for(var f;f=Y();){try{f.h.call(f.g)}catch(w){V(w)}var b=J;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}me=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};c.addEventListener("test",w,b),c.removeEventListener("test",w,b)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function Se(f,b){P.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}_(Se,P),Se.prototype.init=function(f,b){const w=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(w=="mouseover"?b=f.fromElement:w=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ue="closure_listenable_"+(Math.random()*1e6|0),$=0;function ce(f,b,w,I,q){this.listener=f,this.proxy=null,this.src=b,this.type=w,this.capture=!!I,this.ha=q,this.key=++$,this.da=this.fa=!1}function oe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f,b,w){for(const I in f)b.call(w,f[I],I,f)}function Re(f,b){for(const w in f)b.call(void 0,f[w],w,f)}function C(f){const b={};for(const w in f)b[w]=f[w];return b}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(f,b){let w,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(w in I)f[w]=I[w];for(let X=0;X<Z.length;X++)w=Z[X],Object.prototype.hasOwnProperty.call(I,w)&&(f[w]=I[w])}}function he(f){this.src=f,this.g={},this.h=0}he.prototype.add=function(f,b,w,I,q){const X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);const fe=Oe(f,b,I,q);return fe>-1?(b=f[fe],w||(b.fa=!1)):(b=new ce(b,this.src,X,!!I,q),b.fa=w,f.push(b)),b};function Ie(f,b){const w=b.type;if(w in f.g){var I=f.g[w],q=Array.prototype.indexOf.call(I,b,void 0),X;(X=q>=0)&&Array.prototype.splice.call(I,q,1),X&&(oe(b),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Oe(f,b,w,I){for(let q=0;q<f.length;++q){const X=f[q];if(!X.da&&X.listener==b&&X.capture==!!w&&X.ha==I)return q}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),Nt={};function rt(f,b,w,I,q){if(Array.isArray(b)){for(let X=0;X<b.length;X++)rt(f,b[X],w,I,q);return null}return w=fc(w),f&&f[Ue]?f.J(b,w,h(I)?!!I.capture:!1,q):nr(f,b,w,!1,I,q)}function nr(f,b,w,I,q,X){if(!b)throw Error("Invalid event type");const fe=h(q)?!!q.capture:!!q;let Ve=ca(f);if(Ve||(f[Ae]=Ve=new he(f)),w=Ve.add(b,w,I,fe,X),w.proxy)return w;if(I=Fr(),w.proxy=I,I.src=f,I.listener=w,f.addEventListener)U||(q=fe),q===void 0&&(q=!1),f.addEventListener(b.toString(),I,q);else if(f.attachEvent)f.attachEvent(Br(b.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Fr(){function f(w){return b.call(f.src,f.listener,w)}const b=hc;return f}function Tr(f,b,w,I,q){if(Array.isArray(b))for(var X=0;X<b.length;X++)Tr(f,b[X],w,I,q);else I=h(I)?!!I.capture:!!I,w=fc(w),f&&f[Ue]?(f=f.i,X=String(b).toString(),X in f.g&&(b=f.g[X],w=Oe(b,w,I,q),w>-1&&(oe(b[w]),Array.prototype.splice.call(b,w,1),b.length==0&&(delete f.g[X],f.h--)))):f&&(f=ca(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Oe(b,w,I,q)),(w=f>-1?b[f]:null)&&Io(w))}function Io(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ue])Ie(b.i,f);else{var w=f.type,I=f.proxy;b.removeEventListener?b.removeEventListener(w,I,f.capture):b.detachEvent?b.detachEvent(Br(w),I):b.addListener&&b.removeListener&&b.removeListener(I),(w=ca(b))?(Ie(w,f),w.h==0&&(w.src=null,b[Ae]=null)):oe(f)}}}function Br(f){return f in Nt?Nt[f]:Nt[f]="on"+f}function hc(f,b){if(f.da)f=!0;else{b=new Se(b,this);const w=f.listener,I=f.ha||f.src;f.fa&&Io(f),f=w.call(I,b)}return f}function ca(f){return f=f[Ae],f instanceof he?f:null}var dc="__closure_events_fn_"+(Math.random()*1e9>>>0);function fc(f){return typeof f=="function"?f:(f[dc]||(f[dc]=function(b){return f.handleEvent(b)}),f[dc])}function Lt(){O.call(this),this.i=new he(this),this.M=this,this.G=null}_(Lt,O),Lt.prototype[Ue]=!0,Lt.prototype.removeEventListener=function(f,b,w,I){Tr(this,f,b,w,I)};function Xt(f,b){var w,I=f.G;if(I)for(w=[];I;I=I.G)w.push(I);if(f=f.M,I=b.type||b,typeof b=="string")b=new P(b,f);else if(b instanceof P)b.target=b.target||f;else{var q=b;b=new P(I,f),ie(b,q)}q=!0;let X,fe;if(w)for(fe=w.length-1;fe>=0;fe--)X=b.g=w[fe],q=ni(X,I,!0,b)&&q;if(X=b.g=f,q=ni(X,I,!0,b)&&q,q=ni(X,I,!1,b)&&q,w)for(fe=0;fe<w.length;fe++)X=b.g=w[fe],q=ni(X,I,!1,b)&&q}Lt.prototype.N=function(){if(Lt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const w=f.g[b];for(let I=0;I<w.length;I++)oe(w[I]);delete f.g[b],f.h--}}this.G=null},Lt.prototype.J=function(f,b,w,I){return this.i.add(String(f),b,!1,w,I)},Lt.prototype.K=function(f,b,w,I){return this.i.add(String(f),b,!0,w,I)};function ni(f,b,w,I){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let q=!0;for(let X=0;X<b.length;++X){const fe=b[X];if(fe&&!fe.da&&fe.capture==w){const Ve=fe.listener,Pt=fe.ha||fe.src;fe.fa&&Ie(f.i,fe),q=Ve.call(Pt,I)!==!1&&q}}return q&&!I.defaultPrevented}function tp(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(f,b||0)}function Th(f){f.g=tp(()=>{f.g=null,f.i&&(f.i=!1,Th(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class En extends O{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Th(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(f){O.call(this),this.h=f,this.g={}}_(ua,O);var mc=[];function pc(f){Me(f.g,function(b,w){this.g.hasOwnProperty(w)&&Io(b)},f),f.g={}}ua.prototype.N=function(){ua.Z.N.call(this),pc(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=c.JSON.stringify,np=c.JSON.parse,Sh=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Ah(){}function Ih(){}var Sr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){P.call(this,"d")}_(ln,P);function rr(){P.call(this,"c")}_(rr,P);var jt={},Nh=null;function No(){return Nh=Nh||new Lt}jt.Ia="serverreachability";function Rh(f){P.call(this,jt.Ia,f)}_(Rh,P);function qr(f){const b=No();Xt(b,new Rh(b))}jt.STAT_EVENT="statevent";function ha(f,b){P.call(this,jt.STAT_EVENT,f),this.stat=b}_(ha,P);function Ut(f){const b=No();Xt(b,new ha(b,f))}jt.Ja="timingevent";function $r(f,b){P.call(this,jt.Ja,f),this.size=b}_($r,P);function Hr(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},b)}function Ar(){this.g=!0}Ar.prototype.ua=function(){this.g=!1};function rp(f,b,w,I,q,X){f.info(function(){if(f.g)if(X){var fe="",Ve=X.split("&");for(let tt=0;tt<Ve.length;tt++){var Pt=Ve[tt].split("=");if(Pt.length>1){const _t=Pt[0];Pt=Pt[1];const or=_t.split("_");fe=or.length>=2&&or[1]=="type"?fe+(_t+"="+Pt+"&"):fe+(_t+"=redacted&")}}}else fe=null;else fe=X;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+b+`
`+w+`
`+fe})}function Ch(f,b,w,I,q,X,fe){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+b+`
`+w+`
`+X+" "+fe})}function Gr(f,b,w,I){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+sp(f,w)+(I?" "+I:"")})}function da(f,b){f.info(function(){return"TIMEOUT: "+b})}Ar.prototype.info=function(){};function sp(f,b){if(!f.g)return b;if(!b)return null;try{const X=JSON.parse(b);if(X){for(f=0;f<X.length;f++)if(Array.isArray(X[f])){var w=X[f];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var q=I[0];if(q!="noop"&&q!="stop"&&q!="close")for(let fe=1;fe<I.length;fe++)I[fe]=""}}}}return ri(X)}catch{return b}}var fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yc;function ma(){}_(ma,Ah),ma.prototype.g=function(){return new XMLHttpRequest},yc=new ma;function bs(f){return encodeURIComponent(String(f))}function Dh(f){var b=1;f=f.split(":");const w=[];for(;b>0&&f.length;)w.push(f.shift()),b--;return f.length&&w.push(f.join(":")),w}function Ir(f,b,w,I){this.j=f,this.i=b,this.l=w,this.S=I||1,this.V=new ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Nr}function Nr(){this.i=null,this.g="",this.h=!1}var Ft={},rn={};function Kr(f,b,w){f.M=1,f.A=pa(qt(b)),f.u=w,f.R=!0,Ro(f,null)}function Ro(f,b){f.F=Date.now(),Qr(f),f.B=qt(f.A);var w=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),Oo(w.i,"t",I),f.C=0,w=f.j.L,f.h=new Nr,f.g=Gh(f.j,w?b:null,!f.u),f.P>0&&(f.O=new En(p(f.Y,f,f.g),f.P)),b=f.V,w=f.g,I=f.ba;var q="readystatechange";Array.isArray(q)||(q&&(mc[0]=q.toString()),q=mc);for(let X=0;X<q.length;X++){const fe=rt(w,q[X],I||b.handleEvent,!1,b.h||b);if(!fe)break;b.g[fe.key]=fe}b=f.J?C(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),qr(),rp(f.i,f.v,f.B,f.l,f.S,f.u)}Ir.prototype.ba=function(f){f=f.target;const b=this.O;b&&Dr(f)==3?b.j():this.Y(f)},Ir.prototype.Y=function(f){try{if(f==this.g)e:{const Ve=Dr(this.g),Pt=this.g.ya(),tt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Ve!=4||Pt==7||(Pt==8||tt<=0?qr(3):qr(2)),Zr(this);var b=this.g.ca();this.X=b;var w=ip(this);if(this.o=b==200,Ch(this.i,this.v,this.B,this.l,this.S,Ve,b),this.o){if(this.U&&!this.L){t:{if(this.g){var I,q=this.g;if((I=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var X=I;break t}}X=null}if(f=X)Gr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yr(this,f);else{this.o=!1,this.m=3,Ut(12),Fn(this),sr(this);break e}}if(this.R){f=!0;let _t;for(;!this.K&&this.C<w.length;)if(_t=Oh(this,w),_t==rn){Ve==4&&(this.m=4,Ut(14),f=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Ft){this.m=4,Ut(15),Gr(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else Gr(this.i,this.l,_t,null),Yr(this,_t);if(kh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||w.length!=0||this.h.h||(this.m=1,Ut(16),f=!1),this.o=this.o&&f,!f)Gr(this.i,this.l,w,"[Invalid Chunked Response]"),Fn(this),sr(this);else if(w.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),kc(fe),fe.P=!0,Ut(11))}}else Gr(this.i,this.l,w,null),Yr(this,w);Ve==4&&Fn(this),this.o&&!this.K&&(Ve==4?Bh(this.j,this):(this.o=!1,Qr(this)))}else ws(this.g),b==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Fn(this),sr(this)}}}catch{}};function ip(f){if(!kh(f))return f.g.la();const b=cn(f.g);if(b==="")return"";let w="";const I=b.length,q=Dr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Fn(f),sr(f),"";f.h.i=new c.TextDecoder}for(let X=0;X<I;X++)f.h.h=!0,w+=f.h.i.decode(b[X],{stream:!(q&&X==I-1)});return b.length=0,f.h.g+=w,f.C=0,f.h.g}function kh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Oh(f,b){var w=f.C,I=b.indexOf(`
`,w);return I==-1?rn:(w=Number(b.substring(w,I)),isNaN(w)?Ft:(I+=1,I+w>b.length?rn:(b=b.slice(I,I+w),f.C=I+w,b)))}Ir.prototype.cancel=function(){this.K=!0,Fn(this)};function Qr(f){f.T=Date.now()+f.H,Co(f,f.H)}function Co(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Hr(p(f.aa,f),b)}function Zr(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Ir.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(da(this.i,this.B),this.M!=2&&(qr(),Ut(17)),Fn(this),this.m=2,sr(this)):Co(this,this.T-f)};function sr(f){f.j.I==0||f.K||Bh(f.j,f)}function Fn(f){Zr(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,pc(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Yr(f,b){try{var w=f.j;if(w.I!=0&&(w.g==f||Jr(w.h,f))){if(!f.L&&Jr(w.h,f)&&w.I==3){try{var I=w.Ba.g.parse(b)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)zo(w),hi(w);else break e;wa(w),Ut(18)}}else w.xa=q[1],0<w.xa-w.K&&q[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Hr(p(w.Va,w),6e3));Xr(w.h)<=1&&w.ta&&(w.ta=void 0)}else ss(w,11)}else if((f.L||w.g==f)&&zo(w),!k(b))for(q=w.Ba.g.parse(b),b=0;b<q.length;b++){let tt=q[b];const _t=tt[0];if(!(_t<=w.K))if(w.K=_t,tt=tt[1],w.I==2)if(tt[0]=="c"){w.M=tt[1],w.ba=tt[2];const or=tt[3];or!=null&&(w.ka=or,w.j.info("VER="+w.ka));const is=tt[4];is!=null&&(w.za=is,w.j.info("SVER="+w.za));const kr=tt[5];kr!=null&&typeof kr=="number"&&kr>0&&(I=1.5*kr,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const Or=f.g;if(Or){const Ea=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var X=I.h;X.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(bc(X,X.h),X.h=null))}if(I.G){const Lo=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;Lo&&(I.wa=Lo,st(I.J,I.G,Lo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var fe=f;if(I.na=Hh(I,I.L?I.ba:null,I.W),fe.L){xc(I.h,fe);var Ve=fe,Pt=I.O;Pt&&(Ve.H=Pt),Ve.D&&(Zr(Ve),Qr(Ve)),I.g=fe}else Uh(I);w.i.length>0&&rs(w)}else tt[0]!="stop"&&tt[0]!="close"||ss(w,7);else w.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?ss(w,7):Cc(w):tt[0]!="noop"&&w.l&&w.l.qa(tt),w.A=0)}}qr(4)}catch{}}var Bt=class{constructor(f,b){this.g=f,this.map=b}};function vc(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _c(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Xr(f){return f.h?1:f.g?f.g.size:0}function Jr(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function bc(f,b){f.g?f.g.add(b):f.h=b}function xc(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}vc.prototype.cancel=function(){if(this.i=wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function wc(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const w of f.g.values())b=b.concat(w.G);return b}return A(f.i)}var jh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Do(f,b){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const I=f[w].indexOf("=");let q,X=null;I>=0?(q=f[w].substring(0,I),X=f[w].substring(I+1)):q=f[w],b(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Bn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof Bn?(this.l=f.l,sn(this,f.j),this.o=f.o,this.g=f.g,si(this,f.u),this.h=f.h,Ec(this,zh(f.i)),this.m=f.m):f&&(b=String(f).match(jh))?(this.l=!1,sn(this,b[1]||"",!0),this.o=Wr(b[2]||""),this.g=Wr(b[3]||"",!0),si(this,b[4]),this.h=Wr(b[5]||"",!0),Ec(this,b[6]||"",!0),this.m=Wr(b[7]||"")):(this.l=!1,this.i=new ai(null,this.l))}Bn.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(ga(b,ko,!0),":");var w=this.g;return(w||b=="file")&&(f.push("//"),(b=this.o)&&f.push(ga(b,ko,!0),"@"),f.push(bs(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(ga(w,w.charAt(0)=="/"?Tc:Ph,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",ga(w,Mh)),f.join("")},Bn.prototype.resolve=function(f){const b=qt(this);let w=!!f.j;w?sn(b,f.j):w=!!f.o,w?b.o=f.o:w=!!f.g,w?b.g=f.g:w=f.u!=null;var I=f.h;if(w)si(b,f.u);else if(w=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var q=b.h.lastIndexOf("/");q!=-1&&(I=b.h.slice(0,q+1)+I)}if(q=I,q==".."||q==".")I="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){I=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let fe=0;fe<q.length;){const Ve=q[fe++];Ve=="."?I&&fe==q.length&&X.push(""):Ve==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),I&&fe==q.length&&X.push("")):(X.push(Ve),I=!0)}I=X.join("/")}else I=q}return w?b.h=I:w=f.i.toString()!=="",w?Ec(b,zh(f.i)):w=!!f.m,w&&(b.m=f.m),b};function qt(f){return new Bn(f)}function sn(f,b,w){f.j=w?Wr(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function si(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Ec(f,b,w){b instanceof ai?(f.i=b,jo(f.i,f.l)):(w||(b=ga(b,ii)),f.i=new ai(b,f.l))}function st(f,b,w){f.i.set(b,w)}function pa(f){return st(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Wr(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ga(f,b,w){return typeof f=="string"?(f=encodeURI(f).replace(b,kn),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function kn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ko=/[#\/\?@]/g,Ph=/[#\?:]/g,Tc=/[#\?]/g,ii=/[#\?@]/g,Mh=/#/g;function ai(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function On(f){f.g||(f.g=new Map,f.h=0,f.i&&Do(f.i,function(b,w){f.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}t=ai.prototype,t.add=function(f,b){On(this),this.i=null,f=oi(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(b),this.h+=1,this};function Vh(f,b){On(f),b=oi(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Sc(f,b){return On(f),b=oi(f,b),f.g.has(b)}t.forEach=function(f,b){On(this),this.g.forEach(function(w,I){w.forEach(function(q){f.call(b,q,I,this)},this)},this)};function Ac(f,b){On(f);let w=[];if(typeof b=="string")Sc(f,b)&&(w=w.concat(f.g.get(oi(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)w=w.concat(f[b]);return w}t.set=function(f,b){return On(this),this.i=null,f=oi(this,f),Sc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=Ac(this,f),f.length>0?String(f[0]):b):b};function Oo(f,b,w){Vh(f,b),w.length>0&&(f.i=null,f.g.set(oi(f,b),A(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let I=0;I<b.length;I++){var w=b[I];const q=bs(w);w=Ac(this,w);for(let X=0;X<w.length;X++){let fe=q;w[X]!==""&&(fe+="="+bs(w[X])),f.push(fe)}}return this.i=f.join("&")};function zh(f){const b=new ai;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function oi(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function jo(f,b){b&&!f.j&&(On(f),f.i=null,f.g.forEach(function(w,I){const q=I.toLowerCase();I!=q&&(Vh(this,I),Oo(this,q,w))},f)),f.j=b}function Rr(f,b){const w=new Ar;if(c.Image){const I=new Image;I.onload=v(ir,w,"TestLoadImage: loaded",!0,b,I),I.onerror=v(ir,w,"TestLoadImage: error",!1,b,I),I.onabort=v(ir,w,"TestLoadImage: abort",!1,b,I),I.ontimeout=v(ir,w,"TestLoadImage: timeout",!1,b,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else b(!1)}function Ic(f,b){const w=new Ar,I=new AbortController,q=setTimeout(()=>{I.abort(),ir(w,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:I.signal}).then(X=>{clearTimeout(q),X.ok?ir(w,"TestPingServer: ok",!0,b):ir(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),ir(w,"TestPingServer: error",!1,b)})}function ir(f,b,w,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(w)}catch{}}function li(){this.g=new Sh}function es(f){this.i=f.Sb||null,this.h=f.ab||!1}_(es,Ah),es.prototype.g=function(){return new ya(this.i,this.h)};function ya(f,b){Lt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ya,Lt),t=ya.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Cr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Po(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Po(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?ci(this):Cr(this),this.readyState==3&&Po(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ci(this))},t.Na=function(f){this.g&&(this.response=f,ci(this))},t.ga=function(){this.g&&ci(this)};function ci(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Cr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=b.next();return f.join(`\r
`)};function Cr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ar(f){let b="";return Me(f,function(w,I){b+=I,b+=":",b+=w,b+=`\r
`}),b}function va(f,b,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=ar(w),typeof f=="string"?w!=null&&bs(w):st(f,b,w))}function ht(f){Lt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ht,Lt);var ts=/^https?$/i,Nc=["POST","PUT"];t=ht.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yc.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(X){_a(this,X);return}if(f=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)w.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())w.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),q=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Nc,b,void 0)>=0)||I||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,fe]of w)this.g.setRequestHeader(X,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(X){_a(this,X)}};function _a(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Rc(f),xs(f)}function Rc(f){f.A||(f.A=!0,Xt(f,"complete"),Xt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Xt(this,"complete"),Xt(this,"abort"),xs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),ht.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ba(this):this.Xa())},t.Xa=function(){ba(this)};function ba(f){if(f.h&&typeof o<"u"){if(f.v&&Dr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Xt(f,"readystatechange"),Dr(f)==4){f.h=!1;try{const X=f.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var I;if(I=X===0){let fe=String(f.D).match(jh)[1]||null;!fe&&c.self&&c.self.location&&(fe=c.self.location.protocol.slice(0,-1)),I=!ts.test(fe?fe.toLowerCase():"")}w=I}if(w)Xt(f,"complete"),Xt(f,"success");else{f.o=6;try{var q=Dr(f)>2?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.ca()+"]",Rc(f)}}finally{xs(f)}}}}function xs(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,b||Xt(f,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Dr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Dr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),np(b)}};function cn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(f){const b={};f=(f.g&&Dr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(k(f[I]))continue;var w=Dh(f[I]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=b[q]||[];b[q]=X,X.push(w)}Re(b,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(f,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||b}function ui(f){this.za=0,this.i=[],this.j=new Ar,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ns("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ns("baseRetryDelayMs",5e3,f),this.Za=ns("retryDelaySeedMs",1e4,f),this.Ta=ns("forwardChannelMaxRetries",2,f),this.va=ns("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new vc(f&&f.concurrentRequestLimit),this.Ba=new li,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ui.prototype,t.ka=8,t.I=1,t.connect=function(f,b,w,I){Ut(0),this.W=f,this.H=b||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=Hh(this,null,this.W),rs(this)};function Cc(f){if(Mo(f),f.I==3){var b=f.V++,w=qt(f.J);if(st(w,"SID",f.M),st(w,"RID",b),st(w,"TYPE","terminate"),xa(f,w),b=new Ir(f,f.j,b),b.M=2,b.A=pa(qt(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=b.A,w=!0),w||(b.g=Gh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Qr(b)}$h(f)}function hi(f){f.g&&(kc(f),f.g.cancel(),f.g=null)}function Mo(f){hi(f),f.v&&(c.clearTimeout(f.v),f.v=null),zo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function rs(f){if(!_c(f.h)&&!f.m){f.m=!0;var b=f.Ea;le||T(),me||(le(),me=!0),N.add(b,f),f.D=0}}function Vo(f,b){return Xr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Hr(p(f.Ea,f,b),qh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const q=new Ir(this,this.j,f);let X=this.o;if(this.U&&(X?(X=C(X),ie(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(b+=I,b>4096){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=Lh(this,q,b),w=qt(this.J),st(w,"RID",f),st(w,"CVER",22),this.G&&st(w,"X-HTTP-Session-Id",this.G),xa(this,w),X&&(this.R?b="headers="+bs(ar(X))+"&"+b:this.u&&va(w,this.u,X)),bc(this.h,q),this.Ra&&st(w,"TYPE","init"),this.S?(st(w,"$req",b),st(w,"SID","null"),q.U=!0,Kr(q,w,null)):Kr(q,w,b),this.I=2}}else this.I==3&&(f?Dc(this,f):this.i.length==0||_c(this.h)||Dc(this))};function Dc(f,b){var w;b?w=b.l:w=f.V++;const I=qt(f.J);st(I,"SID",f.M),st(I,"RID",w),st(I,"AID",f.K),xa(f,I),f.u&&f.o&&va(I,f.u,f.o),w=new Ir(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),b&&(f.i=b.G.concat(f.i)),b=Lh(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),bc(f.h,w),Kr(w,I,b)}function xa(f,b){f.H&&Me(f.H,function(w,I){st(b,I,w)}),f.l&&Me({},function(w,I){st(b,I,w)})}function Lh(f,b,w){w=Math.min(f.i.length,w);const I=f.l?p(f.l.Ka,f.l,f):null;e:{var q=f.i;let Ve=-1;for(;;){const Pt=["count="+w];Ve==-1?w>0?(Ve=q[0].g,Pt.push("ofs="+Ve)):Ve=0:Pt.push("ofs="+Ve);let tt=!0;for(let _t=0;_t<w;_t++){var X=q[_t].g;const or=q[_t].map;if(X-=Ve,X<0)Ve=Math.max(0,q[_t].g-100),tt=!1;else try{X="req"+X+"_"||"";try{var fe=or instanceof Map?or:Object.entries(or);for(const[is,kr]of fe){let Or=kr;h(kr)&&(Or=ri(kr)),Pt.push(X+is+"="+encodeURIComponent(Or))}}catch(is){throw Pt.push(X+"type="+encodeURIComponent("_badmap")),is}}catch{I&&I(or)}}if(tt){fe=Pt.join("&");break e}}fe=void 0}return f=f.i.splice(0,w),b.G=f,fe}function Uh(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;le||T(),me||(le(),me=!0),N.add(b,f),f.A=0}}function wa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Hr(p(f.Da,f),qh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Fh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Hr(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),hi(this),Fh(this))};function kc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Fh(f){f.g=new Ir(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=qt(f.na);st(b,"RID","rpc"),st(b,"SID",f.M),st(b,"AID",f.K),st(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&st(b,"TO",f.ia),st(b,"TYPE","xmlhttp"),xa(f,b),f.u&&f.o&&va(b,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=pa(qt(b)),w.u=null,w.R=!0,Ro(w,f)}t.Va=function(){this.C!=null&&(this.C=null,hi(this),wa(this),Ut(19))};function zo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Bh(f,b){var w=null;if(f.g==b){zo(f),kc(f),f.g=null;var I=2}else if(Jr(f.h,b))w=b.G,xc(f.h,b),I=1;else return;if(f.I!=0){if(b.o)if(I==1){w=b.u?b.u.length:0,b=Date.now()-b.F;var q=f.D;I=No(),Xt(I,new $r(I,w)),rs(f)}else Uh(f);else if(q=b.m,q==3||q==0&&b.X>0||!(I==1&&Vo(f,b)||I==2&&wa(f)))switch(w&&w.length>0&&(b=f.h,b.i=b.i.concat(w)),q){case 1:ss(f,5);break;case 4:ss(f,10);break;case 3:ss(f,6);break;default:ss(f,2)}}}function qh(f,b){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*b}function ss(f,b){if(f.j.info("Error code "+b),b==2){var w=p(f.bb,f),I=f.Ua;const q=!I;I=new Bn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||sn(I,"https"),pa(I),q?Rr(I.toString(),w):Ic(I.toString(),w)}else Ut(2);f.I=0,f.l&&f.l.pa(b),$h(f),Mo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function $h(f){if(f.I=0,f.ja=[],f.l){const b=wc(f.h);(b.length!=0||f.i.length!=0)&&(M(f.ja,b),M(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function Hh(f,b,w){var I=w instanceof Bn?qt(w):new Bn(w);if(I.g!="")b&&(I.g=b+"."+I.g),si(I,I.u);else{var q=c.location;I=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;const X=new Bn(null);I&&sn(X,I),b&&(X.g=b),q&&si(X,q),w&&(X.h=w),I=X}return w=f.G,b=f.wa,w&&b&&st(I,w,b),st(I,"VER",f.ka),xa(f,I),I}function Gh(f,b,w){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ht(new es({ab:w})):new ht(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kh(){}t=Kh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function di(){}di.prototype.g=function(f,b){return new Tn(f,b)};function Tn(f,b){Lt.call(this),this.g=new ui(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!k(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!k(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Es(this)}_(Tn,Lt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Cc(this.g)},Tn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=ri(f),f=w);b.i.push(new Bt(b.Ya++,f)),b.I==3&&rs(b)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Cc(this.g),delete this.g,Tn.Z.N.call(this)};function Qh(f){ln.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const w in b){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}_(Qh,ln);function Zh(){rr.call(this),this.status=1}_(Zh,rr);function Es(f){this.g=f}_(Es,Kh),Es.prototype.ra=function(){Xt(this.g,"a")},Es.prototype.qa=function(f){Xt(this.g,new Qh(f))},Es.prototype.pa=function(f){Xt(this.g,new Zh)},Es.prototype.oa=function(){Xt(this.g,"b")},di.prototype.createWebChannel=di.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,QS=function(){return new di},KS=function(){return No()},GS=jt,qy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,vf=fa,gc.COMPLETE="complete",HS=gc,Ih.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",Lt.prototype.listen=Lt.prototype.J,Tu=Ih,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,$S=ht}).apply(typeof rf<"u"?rf:typeof self<"u"?self:typeof window<"u"?window:{});const _E="@firebase/firestore",bE="4.9.3";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let sc="12.7.0";const co=new Ov("@firebase/firestore");function wl(){return co.logLevel}function ue(t,...e){if(co.logLevel<=Ke.DEBUG){const n=e.map(Mv);co.debug(`Firestore (${sc}): ${t}`,...n)}}function Nn(t,...e){if(co.logLevel<=Ke.ERROR){const n=e.map(Mv);co.error(`Firestore (${sc}): ${t}`,...n)}}function uo(t,...e){if(co.logLevel<=Ke.WARN){const n=e.map(Mv);co.warn(`Firestore (${sc}): ${t}`,...n)}}function Mv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZS(t,r,n)}function ZS(t,e,n){let r=`FIRESTORE (${sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Nn(r),new Error(r)}function xe(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||ZS(e,a,r)}function ke(t,e){return t}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class YS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class JP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WP{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fs,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new YS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class e4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new e4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function r4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Vv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=r4(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function $y(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return yy(a)===yy(o)?De(a,o):yy(a)?1:-1}return De(t.length,e.length)}const s4=55296,i4=57343;function yy(t){const e=t.charCodeAt(0);return e>=s4&&e<=i4}function Pl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}function XS(t){return t+"\0"}const wE="__name__";class us{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return us.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof us?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=us.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return De(e.length,n.length)}static compareSegments(e,n){const r=us.isNumericId(e),a=us.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?us.extractNumericId(e).compare(us.extractNumericId(n)):$y(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zi.fromString(e.substring(4,e.length-2))}}class et extends us{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const a4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends us{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return a4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new St([wE])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(o(),a++)}if(o(),c)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}function JS(t,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o4(t,e,n,r){if(e===!0&&r===!0)throw new de(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function EE(t){if(!pe.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TE(t){if(pe.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Am(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Am(t);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function l4(t,e){if(e<=0)throw new de(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function hh(t,e){if(!WS(t))throw new de(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new de(ee.INVALID_ARGUMENT,n);return!0}const SE=-62135596800,AE=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*AE);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<SE)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AE}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hh(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-SE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Zt("string",ot._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new ot(0,0))}static max(){return new Te(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hu=-1;class Bf{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function Hy(t){return t.fields.find((e=>e.kind===2))}function Ba(t){return t.fields.filter((e=>e.kind!==2))}Bf.UNKNOWN_ID=-1;class _f{constructor(e,n){this.fieldPath=e,this.kind=n}}class Gu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Gu(0,tr.min())}}function c4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Te.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new tr(a,pe.empty(),e)}function eA(t){return new tr(t.readTime,t.key,Hu)}class tr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new tr(Te.min(),pe.empty(),Hu)}static max(){return new tr(Te.max(),pe.empty(),Hu)}}function zv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}const tA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==tA)throw t;ue("LocalStore","Unexpectedly lost primary lease")}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):B.reject(n)}static resolve(e){return new B(((n,r)=>{n(e)}))}static reject(e){return new B(((n,r)=>{r(e)}))}static waitFor(e){return new B(((n,r)=>{let a=0,o=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&n()}),(d=>r(d)))})),c=!0,o===a&&n()}))}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next((a=>a?B.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new B(((r,a)=>{const o=e.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;n(e[p]).next((v=>{c[p]=v,++h,h===o&&r(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new B(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}const Xn="SimpleDb";class Im{static open(e,n,r,a){try{return new Im(n,e.transaction(a,r))}catch(o){throw new Du(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new fs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Du(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=Lv(r.target.error);this.S.reject(new Du(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ue(Xn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new h4(n)}}class Yi{static delete(e){return ue(Xn,"Removing database:",e),$a(IS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!MS())return!1;if(Yi.F())return!0;const e=tn(),n=Yi.M(e),r=0<n&&n<10,a=rA(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Yi.M(tn())===12.2&&Nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ue(Xn,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const c=o.target.result;n(c)},a.onblocked=()=>{r(new Du(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const c=o.target.error;c.name==="VersionError"?r(new de(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new de(ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Du(e,c))},a.onupgradeneeded=o=>{ue(Xn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,a.transaction,o.oldVersion,this.version).next((()=>{ue(Xn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,a){const o=n==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const h=Im.open(this.db,e,o?"readonly":"readwrite",r),d=a(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),B.reject(p)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,p=d.name!=="FirebaseError"&&c<3;if(ue(Xn,"Transaction failed with error:",d.message,"Retrying:",p),this.close(),!p)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function rA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class u4{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return $a(this.U.delete())}}class Du extends de{constructor(e,n){super(ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function sa(t){return t.name==="IndexedDbTransactionError"}class h4{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ue(Xn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ue(Xn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$a(r)}add(e){return ue(Xn,"ADD",this.store.name,e,e),$a(this.store.add(e))}get(e){return $a(this.store.get(e)).next((n=>(n===void 0&&(n=null),ue(Xn,"GET",this.store.name,e,n),n)))}delete(e){return ue(Xn,"DELETE",this.store.name,e),$a(this.store.delete(e))}count(){return ue(Xn,"COUNT",this.store.name),$a(this.store.count())}J(e,n){const r=this.options(e,n),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(r.range);return new B(((c,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{c(d.target.result)}}))}{const o=this.cursor(r),c=[];return this.H(o,((h,d)=>{c.push(d)})).next((()=>c))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B(((a,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}Z(e,n){ue(Xn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const a=this.cursor(r);return this.H(a,((o,c,h)=>h.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.H(a,n)}te(e){const n=this.cursor({});return new B(((r,a)=>{n.onerror=o=>{const c=Lv(o.target.error);a(c)},n.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((h=>{h?c.continue():r()})):r()}}))}H(e,n){const r=[];return new B(((a,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void a();const d=new u4(h),p=n(h.primaryKey,h.value,d);if(p instanceof B){const v=p.catch((_=>(d.done(),B.reject(_))));r.push(v)}d.isDone?a():d.G===null?h.continue():h.continue(d.G)}})).next((()=>B.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function $a(t){return new B(((e,n)=>{t.onsuccess=r=>{const a=r.target.result;e(a)},t.onerror=r=>{const a=Lv(r.target.error);n(a)}}))}let IE=!1;function Lv(t){const e=Yi.M(tn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IE||(IE=!0,setTimeout((()=>{throw r}),0)),r}}return t}const ku="IndexBackfiller";class d4{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ue(ku,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();ue(ku,`Documents written: ${n}`)}catch(n){sa(n)?ue(ku,"Ignoring IndexedDB error during index backfill: ",n):await Eo(n)}await this.re(6e4)}))}}class f4{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let a=n,o=!0;return B.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return ue(ku,`Processing collection: ${c}`),this.oe(e,c,a).next((h=>{a-=h,r.add(c)}));o=!1})))).next((()=>n-a))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,o))).next((h=>(ue(ku,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,n,h)))).next((()=>c.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((a,o)=>{const c=eA(o);zv(c,r)>0&&(r=c)})),new tr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class vr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vr.ce=-1;const Ja=-1;function Nm(t){return t==null}function Ku(t){return t===0&&1/t==-1/0}function m4(t){return typeof t=="number"&&Number.isInteger(t)&&!Ku(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const qf="";function xn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NE(e)),e=p4(t.get(n),e);return NE(e)}function p4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case qf:n+="";break;default:n+=o}}return n}function NE(t){return t+qf+""}function hs(t){const e=t.length;if(xe(e>=2,64408,{path:t}),e===2)return xe(t.charAt(0)===qf&&t.charAt(1)==="",56145,{path:t}),et.emptyPath();const n=e-2,r=[];let a="";for(let o=0;o<e;){const c=t.indexOf(qf,o);switch((c<0||c>n)&&_e(50515,{path:t}),t.charAt(c+1)){case"":const h=t.substring(o,c);let d;a.length===0?d=h:(a+=h,d=a,a=""),r.push(d);break;case"":a+=t.substring(o,c),a+="\0";break;case"":a+=t.substring(o,c+1);break;default:_e(61167,{path:t})}o=c+2}return new et(r)}const qa="remoteDocuments",dh="owner",gl="owner",Qu="mutationQueues",g4="userId",Vr="mutations",RE="batchId",Za="userMutationsIndex",CE=["userId","batchId"];function bf(t,e){return[t,xn(e)]}function sA(t,e,n){return[t,xn(e),n]}const y4={},Ml="documentMutations",$f="remoteDocumentsV14",v4=["prefixPath","collectionGroup","readTime","documentId"],xf="documentKeyIndex",_4=["prefixPath","collectionGroup","documentId"],iA="collectionGroupIndex",b4=["collectionGroup","readTime","prefixPath","documentId"],Zu="remoteDocumentGlobal",Gy="remoteDocumentGlobalKey",Vl="targets",aA="queryTargetsIndex",x4=["canonicalId","targetId"],zl="targetDocuments",w4=["targetId","path"],Uv="documentTargetsIndex",E4=["path","targetId"],Hf="targetGlobalKey",Wa="targetGlobal",Yu="collectionParents",T4=["collectionId","parent"],Ll="clientMetadata",S4="clientId",Rm="bundles",A4="bundleId",Cm="namedQueries",I4="name",Fv="indexConfiguration",N4="indexId",Ky="collectionGroupIndex",R4="collectionGroup",Ou="indexState",C4=["indexId","uid"],oA="sequenceNumberIndex",D4=["uid","sequenceNumber"],ju="indexEntries",k4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lA="documentKeyIndex",O4=["indexId","uid","orderedDocumentKey"],Dm="documentOverlays",j4=["userId","collectionPath","documentId"],Qy="collectionPathOverlayIndex",P4=["userId","collectionPath","largestBatchId"],cA="collectionGroupOverlayIndex",M4=["userId","collectionGroup","largestBatchId"],Bv="globals",V4="name",uA=[Qu,Vr,Ml,qa,Vl,dh,Wa,zl,Ll,Zu,Yu,Rm,Cm],z4=[...uA,Dm],hA=[Qu,Vr,Ml,$f,Vl,dh,Wa,zl,Ll,Zu,Yu,Rm,Cm,Dm],dA=hA,qv=[...dA,Fv,Ou,ju],L4=qv,fA=[...qv,Bv],U4=fA;class Zy extends nA{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function nn(t,e){const n=ke(t);return Yi.O(n.le,e)}function DE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class wt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sf(this.root,e,this.comparator,!0)}}class sf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=a??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new pn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ut{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kE(this.data.getIterator())}getIteratorFrom(e){return new kE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class kE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yl(t){return t.hasNext()?t.getNext():void 0}class _r{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new _r([])}unionWith(e){let n=new ut(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class pA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pA("Invalid base64 string: "+o):o}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const F4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=F4.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}const gA="server_timestamp",yA="__type__",vA="__previous_value__",_A="__local_write_time__";function km(t){return(t?.mapValue?.fields||{})[yA]?.stringValue===gA}function Om(t){const e=t.mapValue.fields[vA];return km(e)?Om(e):e}function Xu(t){const e=Ks(t.mapValue.fields[_A].timestampValue);return new ot(e.seconds,e.nanos)}class B4{constructor(e,n,r,a,o,c,h,d,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=v}}const Gf="(default)";class ho{constructor(e,n){this.projectId=e,this.database=n||Gf}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===Gf}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}const $v="__type__",bA="__max__",$i={mapValue:{fields:{__type__:{stringValue:bA}}}},Hv="__vector__",Ul="value",wf={nullValue:"NULL_VALUE"};function Ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?km(t)?4:xA(t)?9007199254740991:jm(t)?10:11:_e(28295,{value:t})}function ys(t,e){if(t===e)return!0;const n=Ji(t);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xu(t).isEqual(Xu(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Ks(a.timestampValue),h=Ks(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return Qs(a.bytesValue).isEqual(Qs(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return xt(a.geoPointValue.latitude)===xt(o.geoPointValue.latitude)&&xt(a.geoPointValue.longitude)===xt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return xt(a.integerValue)===xt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=xt(a.doubleValue),h=xt(o.doubleValue);return c===h?Ku(c)===Ku(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Pl(t.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(DE(c)!==DE(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!ys(c[d],h[d])))return!1;return!0})(t,e);default:return _e(52216,{left:t})}}function Ju(t,e){return(t.values||[]).find((n=>ys(n,e)))!==void 0}function Wi(t,e){if(t===e)return 0;const n=Ji(t),r=Ji(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=xt(o.integerValue||o.doubleValue),d=xt(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return OE(t.timestampValue,e.timestampValue);case 4:return OE(Xu(t),Xu(e));case 5:return $y(t.stringValue,e.stringValue);case 6:return(function(o,c){const h=Qs(o),d=Qs(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let p=0;p<h.length&&p<d.length;p++){const v=De(h[p],d[p]);if(v!==0)return v}return De(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=De(xt(o.latitude),xt(c.latitude));return h!==0?h:De(xt(o.longitude),xt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return jE(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},d=c.fields||{},p=h[Ul]?.arrayValue,v=d[Ul]?.arrayValue,_=De(p?.values?.length||0,v?.values?.length||0);return _!==0?_:jE(p,v)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===$i.mapValue&&c===$i.mapValue)return 0;if(o===$i.mapValue)return 1;if(c===$i.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=c.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let _=0;_<d.length&&_<v.length;++_){const E=$y(d[_],v[_]);if(E!==0)return E;const A=Wi(h[d[_]],p[v[_]]);if(A!==0)return A}return De(d.length,v.length)})(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function OE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=Ks(t),r=Ks(e),a=De(n.seconds,r.seconds);return a!==0?a:De(n.nanos,r.nanos)}function jE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Wi(n[a],r[a]);if(o)return o}return De(n.length,r.length)}function Fl(t){return Yy(t)}function Yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Qs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Yy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Yy(n.fields[c])}`;return a+"}"})(t.mapValue):_e(61005,{value:t})}function Ef(t){switch(Ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Om(t);return e?16+Ef(e):16;case 5:return 2*t.stringValue.length;case 6:return Qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Ef(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return To(r.fields,((o,c)=>{a+=o.length+Ef(c)})),a})(t.mapValue);default:throw _e(13486,{value:t})}}function fo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xy(t){return!!t&&"integerValue"in t}function Wu(t){return!!t&&"arrayValue"in t}function PE(t){return!!t&&"nullValue"in t}function ME(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tf(t){return!!t&&"mapValue"in t}function jm(t){return(t?.mapValue?.fields||{})[$v]?.stringValue===Hv}function Pu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Pu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pu(t.arrayValue.values[n]);return e}return{...t}}function xA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bA}const wA={mapValue:{fields:{[$v]:{stringValue:Hv},[Ul]:{arrayValue:{}}}}};function q4(t){return"nullValue"in t?wf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?fo(ho.empty(),pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?jm(t)?wA:{mapValue:{}}:_e(35942,{value:t})}function $4(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?fo(ho.empty(),pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?wA:"mapValue"in t?jm(t)?{mapValue:{}}:$i:_e(61959,{value:t})}function VE(t,e){const n=Wi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function zE(t,e){const n=Wi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(n)}setAll(e){let n=St.emptyPath(),r={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}c?r[h.lastSegment()]=Pu(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());Tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Tf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){To(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Ln(Pu(this.value))}}function EA(t){const e=[];return To(t.fields,((n,r)=>{const a=new St([n]);if(Tf(r)){const o=EA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new _r(e)}class Dt{constructor(e,n,r,a,o,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Dt(e,0,Te.min(),Te.min(),Te.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,a){return new Dt(e,1,n,Te.min(),r,a,0)}static newNoDocument(e,n){return new Dt(e,2,n,Te.min(),Te.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,Te.min(),Te.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ea{constructor(e,n){this.position=e,this.inclusive=n}}function LE(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(c.referenceValue),n.key):r=Wi(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function UE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ys(t.position[n],e.position[n]))return!1;return!0}class Kf{constructor(e,n="asc"){this.field=e,this.dir=n}}function H4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class TA{}class Qe extends TA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new G4(e,n,r):n==="array-contains"?new Z4(e,r):n==="in"?new CA(e,r):n==="not-in"?new Y4(e,r):n==="array-contains-any"?new X4(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new K4(e,r):new Q4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wi(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(Wi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends TA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lt(e,n)}matches(e){return Bl(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bl(t){return t.op==="and"}function Jy(t){return t.op==="or"}function Gv(t){return SA(t)&&Bl(t)}function SA(t){for(const e of t.filters)if(e instanceof lt)return!1;return!0}function Wy(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(Gv(t))return t.filters.map((e=>Wy(e))).join(",");{const e=t.filters.map((n=>Wy(n))).join(",");return`${t.op}(${e})`}}function AA(t,e){return t instanceof Qe?(function(r,a){return a instanceof Qe&&r.op===a.op&&r.field.isEqual(a.field)&&ys(r.value,a.value)})(t,e):t instanceof lt?(function(r,a){return a instanceof lt&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,h)=>o&&AA(c,a.filters[h])),!0):!1})(t,e):void _e(19439)}function IA(t,e){const n=t.filters.concat(e);return lt.create(n,t.op)}function NA(t){return t instanceof Qe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`})(t):t instanceof lt?(function(n){return n.op.toString()+" {"+n.getFilters().map(NA).join(" ,")+"}"})(t):"Filter"}class G4 extends Qe{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class K4 extends Qe{constructor(e,n){super(e,"in",n),this.keys=RA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Q4 extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=RA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function RA(t,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class Z4 extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wu(n)&&Ju(n.arrayValue,this.value)}}class CA extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ju(this.value.arrayValue,n)}}class Y4 extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ju(this.value.arrayValue,n)}}class X4 extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ju(this.value.arrayValue,r)))}}class J4{constructor(e,n=null,r=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function ev(t,e=null,n=[],r=[],a=null,o=null,c=null){return new J4(t,e,n,r,a,o,c)}function mo(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Wy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Nm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Fl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Fl(r))).join(",")),e.Te=n}return e.Te}function fh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!H4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UE(t.startAt,e.startAt)&&UE(t.endAt,e.endAt)}function Qf(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Zf(t,e){return t.filters.filter((n=>n instanceof Qe&&n.field.isEqual(e)))}function FE(t,e,n){let r=wf,a=!0;for(const o of Zf(t,e)){let c=wf,h=!0;switch(o.op){case"<":case"<=":c=q4(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=wf}VE({value:r,inclusive:a},{value:c,inclusive:h})<0&&(r=c,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];VE({value:r,inclusive:a},{value:c,inclusive:n.inclusive})<0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}function BE(t,e,n){let r=$i,a=!0;for(const o of Zf(t,e)){let c=$i,h=!0;switch(o.op){case">=":case">":c=$4(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=$i}zE({value:r,inclusive:a},{value:c,inclusive:h})>0&&(r=c,a=h)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const c=n.position[o];zE({value:r,inclusive:a},{value:c,inclusive:n.inclusive})>0&&(r=c,a=n.inclusive);break}}return{value:r,inclusive:a}}class ic{constructor(e,n=null,r=[],a=[],o=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function W4(t,e,n,r,a,o,c,h){return new ic(t,e,n,r,a,o,c,h)}function mh(t){return new ic(t)}function qE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kv(t){return t.collectionGroup!==null}function Nl(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new ut(St.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Kf(o,r))})),n.has(St.keyField().canonicalString())||e.Ie.push(new Kf(St.keyField(),r))}return e.Ie}function br(t){const e=ke(t);return e.Ee||(e.Ee=eM(e,Nl(t))),e.Ee}function eM(t,e){if(t.limitType==="F")return ev(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Kf(a.field,o)}));const n=t.endAt?new ea(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ea(t.startAt.position,t.startAt.inclusive):null;return ev(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tv(t,e){const n=t.filters.concat([e]);return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yf(t,e,n){return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pm(t,e){return fh(br(t),br(e))&&t.limitType===e.limitType}function DA(t){return`${mo(br(t))}|lt:${t.limitType}`}function El(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>NA(a))).join(", ")}]`),Nm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Fl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Fl(a))).join(",")),`Target(${r})`})(br(t))}; limitType=${t.limitType})`}function ph(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of Nl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,h,d){const p=LE(c,h,d);return c.inclusive?p<=0:p<0})(r.startAt,Nl(r),a)||r.endAt&&!(function(c,h,d){const p=LE(c,h,d);return c.inclusive?p>=0:p>0})(r.endAt,Nl(r),a))})(t,e)}function tM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kA(t){return(e,n)=>{let r=!1;for(const a of Nl(t)){const o=nM(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function nM(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):(function(o,c,h){const d=c.data.field(o),p=h.data.field(o);return d!==null&&p!==null?Wi(d,p):_e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return mA(this.inner)}size(){return this.innerSize}}const rM=new wt(pe.comparator);function Jn(){return rM}const OA=new wt(pe.comparator);function Su(...t){let e=OA;for(const n of t)e=e.insert(n.key,n);return e}function jA(t){let e=OA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ds(){return Mu()}function PA(){return Mu()}function Mu(){return new Js((t=>t.toString()),((t,e)=>t.isEqual(e)))}const sM=new wt(pe.comparator),iM=new ut(pe.comparator);function Be(...t){let e=iM;for(const n of t)e=e.add(n);return e}const aM=new ut(De);function oM(){return aM}function Qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function MA(t){return{integerValue:""+t}}function lM(t,e){return m4(e)?MA(e):Qv(t,e)}class Mm{constructor(){this._=void 0}}function cM(t,e,n){return t instanceof ql?(function(a,o){const c={fields:{[yA]:{stringValue:gA},[_A]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&km(o)&&(o=Om(o)),o&&(c.fields[vA]=o),{mapValue:c}})(n,e):t instanceof $l?zA(t,e):t instanceof Hl?LA(t,e):(function(a,o){const c=VA(a,o),h=$E(c)+$E(a.Ae);return Xy(c)&&Xy(a.Ae)?MA(h):Qv(a.serializer,h)})(t,e)}function uM(t,e,n){return t instanceof $l?zA(t,e):t instanceof Hl?LA(t,e):n}function VA(t,e){return t instanceof eh?(function(r){return Xy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class ql extends Mm{}class $l extends Mm{constructor(e){super(),this.elements=e}}function zA(t,e){const n=UA(e);for(const r of t.elements)n.some((a=>ys(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Hl extends Mm{constructor(e){super(),this.elements=e}}function LA(t,e){let n=UA(e);for(const r of t.elements)n=n.filter((a=>!ys(a,r)));return{arrayValue:{values:n}}}class eh extends Mm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $E(t){return xt(t.integerValue||t.doubleValue)}function UA(t){return Wu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class FA{constructor(e,n){this.field=e,this.transform=n}}function hM(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof $l&&a instanceof $l||r instanceof Hl&&a instanceof Hl?Pl(r.elements,a.elements,ys):r instanceof eh&&a instanceof eh?ys(r.Ae,a.Ae):r instanceof ql&&a instanceof ql})(t.transform,e.transform)}class dM{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vm{}function BA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zm(t.key,Rn.none()):new ac(t.key,t.data,Rn.none());{const n=t.data,r=Ln.empty();let a=new ut(St.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new ia(t.key,r,new _r(a.toArray()),Rn.none())}}function fM(t,e,n){t instanceof ac?(function(a,o,c){const h=a.value.clone(),d=GE(a.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ia?(function(a,o,c){if(!Sf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=GE(a.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(qA(a)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Vu(t,e,n,r){return t instanceof ac?(function(o,c,h,d){if(!Sf(o.precondition,c))return h;const p=o.value.clone(),v=KE(o.fieldTransforms,d,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof ia?(function(o,c,h,d){if(!Sf(o.precondition,c))return h;const p=KE(o.fieldTransforms,d,c),v=c.data;return v.setAll(qA(o)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(o,c,h){return Sf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function mM(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=VA(r.transform,a||null);o!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,o))}return n||null}function HE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Pl(r,a,((o,c)=>hM(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ac extends Vm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ia extends Vm{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function GE(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,h=e.data.field(o.field);r.set(o.field,uM(c,h,n[a]))}return r}function KE(t,e,n){const r=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);r.set(a.field,cM(o,c,e))}return r}class zm extends Vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $A extends Vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zv{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&fM(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PA();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=n.has(a.key)?null:h;const d=BA(c,h);d!==null&&r.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Pl(this.mutations,e.mutations,((n,r)=>HE(n,r)))&&Pl(this.baseMutations,e.baseMutations,((n,r)=>HE(n,r)))}}class Yv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return sM})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new Yv(e,n,r,a)}}class Xv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class pM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Qt,Xe;function gM(t){switch(t){case ee.OK:return _e(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function HA(t){if(t===void 0)return Nn("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Qt.OK:return ee.OK;case Qt.CANCELLED:return ee.CANCELLED;case Qt.UNKNOWN:return ee.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return ee.INTERNAL;case Qt.UNAVAILABLE:return ee.UNAVAILABLE;case Qt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Qt.NOT_FOUND:return ee.NOT_FOUND;case Qt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Qt.ABORTED:return ee.ABORTED;case Qt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Qt.DATA_LOSS:return ee.DATA_LOSS;default:return _e(39323,{code:t})}}(Xe=Qt||(Qt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function yM(){return new TextEncoder}const vM=new Zi([4294967295,4294967295],0);function QE(t){const e=yM().encode(t),n=new qS;return n.update(e),new Uint8Array(n.digest())}function ZE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zi([n,r],0),new Zi([a,o],0)]}class Jv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Au(`Invalid padding: ${n}`);if(r<0)throw new Au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Au(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zi.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Zi.fromNumber(r)));return a.compare(vM)===1&&(a=new Zi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=QE(e),[r,a]=ZE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Jv(o,a,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=QE(e),[r,a]=ZE(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lm{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,gh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lm(Te.min(),a,new wt(De),Jn(),Be())}}class gh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gh(r,n,Be(),Be(),Be())}}class Af{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class GA{constructor(e,n){this.targetId=e,this.Ce=n}}class KA{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class YE{constructor(){this.ve=0,this.Fe=XE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),r=Be();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:_e(38017,{changeType:o})}})),new gh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=XE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _M{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jn(),this.Je=af(),this.He=af(),this.Ye=new wt(De)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(Qf(o))if(r===0){const c=new pe(o.path);this.et(n,c,Dt.newNoDocument(c,Te.min()))}else xe(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let c,h;try{c=Qs(r).toUint8Array()}catch(d){if(d instanceof pA)return uo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Jv(c,a,o)}catch(d){return uo(d instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Qf(h.target)){const d=new pe(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,Dt.newNoDocument(d,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let r=Be();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Lm(e,n,this.Ye,this.je,r);return this.je=Jn(),this.Je=af(),this.He=af(),this.Ye=new wt(De),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new YE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ut(De),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ut(De),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function af(){return new wt(pe.comparator)}function XE(){return new wt(pe.comparator)}const bM={asc:"ASCENDING",desc:"DESCENDING"},xM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wM={and:"AND",or:"OR"};class EM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nv(t,e){return t.useProto3Json||Nm(e)?e:{value:e}}function Gl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TM(t,e){return Gl(t,e.toTimestamp())}function Dn(t){return xe(!!t,49232),Te.fromTimestamp((function(n){const r=Ks(n);return new ot(r.seconds,r.nanos)})(t))}function Wv(t,e){return rv(t,e).canonicalString()}function rv(t,e){const n=(function(a){return new et(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ZA(t){const e=et.fromString(t);return xe(sI(e),10190,{key:e.toString()}),e}function Xf(t,e){return Wv(t.databaseId,e.path)}function eo(t,e){const n=ZA(e);if(n.get(1)!==t.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(JA(n))}function YA(t,e){return Wv(t.databaseId,e)}function XA(t){const e=ZA(t);return e.length===4?et.emptyPath():JA(e)}function sv(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JA(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JE(t,e,n){return{name:Xf(t,e),fields:n.value.mapValue.fields}}function SM(t,e,n){const r=eo(t,e.name),a=Dn(e.updateTime),o=e.createTime?Dn(e.createTime):Te.min(),c=new Ln({mapValue:{fields:e.fields}}),h=Dt.newFoundDocument(r,a,o,c);return n&&h.setHasCommittedMutations(),n?h.setHasCommittedMutations():h}function AM(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(p,v){return p.useProto3Json?(xe(v===void 0||typeof v=="string",58123),Yt.fromBase64String(v||"")):(xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Yt.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const v=p.code===void 0?ee.UNKNOWN:HA(p.code);return new de(v,p.message||"")})(c);n=new KA(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=eo(t,r.document.name),o=Dn(r.document.updateTime),c=r.document.createTime?Dn(r.document.createTime):Te.min(),h=new Ln({mapValue:{fields:r.document.fields}}),d=Dt.newFoundDocument(a,o,c,h),p=r.targetIds||[],v=r.removedTargetIds||[];n=new Af(p,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=eo(t,r.document),o=r.readTime?Dn(r.readTime):Te.min(),c=Dt.newNoDocument(a,o),h=r.removedTargetIds||[];n=new Af([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=eo(t,r.document),o=r.removedTargetIds||[];n=new Af([],o,a,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new pM(a,o),h=r.targetId;n=new GA(h,c)}}return n}function Jf(t,e){let n;if(e instanceof ac)n={update:JE(t,e.key,e.value)};else if(e instanceof zm)n={delete:Xf(t,e.key)};else if(e instanceof ia)n={update:JE(t,e.key,e.data),updateMask:kM(e.fieldMask)};else{if(!(e instanceof $A))return _e(16599,{Vt:e.type});n={verify:Xf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof ql)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof $l)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Hl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof eh)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw _e(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:TM(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e(27497)})(t,e.precondition)),n}function iv(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Rn.updateTime(Dn(o.updateTime)):o.exists!==void 0?Rn.exists(o.exists):Rn.none()})(e.currentDocument):Rn.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(c,h){let d=null;if("setToServerValue"in h)xe(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new ql;else if("appendMissingElements"in h){const v=h.appendMissingElements.values||[];d=new $l(v)}else if("removeAllFromArray"in h){const v=h.removeAllFromArray.values||[];d=new Hl(v)}else"increment"in h?d=new eh(c,h.increment):_e(16584,{proto:h});const p=St.fromServerFormat(h.fieldPath);return new FA(p,d)})(t,a))):[];if(e.update){e.update.name;const a=eo(t,e.update.name),o=new Ln({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(d){const p=d.fieldPaths||[];return new _r(p.map((v=>St.fromServerFormat(v))))})(e.updateMask);return new ia(a,o,c,n,r)}return new ac(a,o,n,r)}if(e.delete){const a=eo(t,e.delete);return new zm(a,n)}if(e.verify){const a=eo(t,e.verify);return new $A(a,n)}return _e(1463,{proto:e})}function IM(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map((n=>(function(a,o){let c=a.updateTime?Dn(a.updateTime):Dn(o);return c.isEqual(Te.min())&&(c=Dn(o)),new dM(c,a.transformResults||[])})(n,e)))):[]}function WA(t,e){return{documents:[YA(t,e.path)]}}function eI(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YA(t,a);const o=(function(p){if(p.length!==0)return rI(lt.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((v=>(function(E){return{field:Tl(E.field),direction:RM(E.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=nv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function tI(t){let e=XA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){xe(r===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];n.where&&(o=(function(_){const E=nI(_);return E instanceof lt&&Gv(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(M){return new Kf(Sl(M.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,Nm(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(_){const E=!!_.before,A=_.values||[];return new ea(A,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,A=_.values||[];return new ea(A,E)})(n.endAt)),W4(e,a,c,o,h,"F",d,p)}function NM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sl(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Sl(n.unaryFilter.field);return Qe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Sl(n.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Sl(n.unaryFilter.field);return Qe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qe.create(Sl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return lt.create(n.compositeFilter.filters.map((r=>nI(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(t):_e(30097,{filter:t})}function RM(t){return bM[t]}function CM(t){return xM[t]}function DM(t){return wM[t]}function Tl(t){return{fieldPath:t.canonicalString()}}function Sl(t){return St.fromServerFormat(t.fieldPath)}function rI(t){return t instanceof Qe?(function(n){if(n.op==="=="){if(ME(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NAN"}};if(PE(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ME(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NAN"}};if(PE(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tl(n.field),op:CM(n.op),value:n.value}}})(t):t instanceof lt?(function(n){const r=n.getFilters().map((a=>rI(a)));return r.length===1?r[0]:{compositeFilter:{op:DM(n.op),filters:r}}})(t):_e(54877,{filter:t})}function kM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function sI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Fs{constructor(e,n,r,a,o=Te.min(),c=Te.min(),h=Yt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iI{constructor(e){this.yt=e}}function OM(t,e){let n;if(e.document)n=SM(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),a=go(e.noDocument.readTime);n=Dt.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e(56709);{const r=pe.fromSegments(e.unknownDocument.path),a=go(e.unknownDocument.version);n=Dt.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime((function(a){const o=new ot(a[0],a[1]);return Te.fromTimestamp(o)})(e.readTime)),n}function WE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Wf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,c){return{name:Xf(o,c.key),fields:c.data.value.mapValue.fields,updateTime:Gl(o,c.version.toTimestamp()),createTime:Gl(o,c.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:po(e.version)};else{if(!e.isUnknownDocument())return _e(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:po(e.version)}}return r}function Wf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function po(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function go(t){const e=new ot(t.seconds,t.nanoseconds);return Te.fromTimestamp(e)}function Ha(t,e){const n=(e.baseMutations||[]).map((o=>iv(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];c.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>iv(t.yt,o))),a=ot.fromMillis(e.localWriteTimeMs);return new Zv(e.batchId,a,n,r)}function Iu(t){const e=go(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?go(t.lastLimboFreeSnapshotVersion):Te.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const c=o.documents.length;return xe(c===1,1966,{count:c}),br(mh(XA(o.documents[0])))})(t.query):(function(o){return br(tI(o))})(t.query),new Fs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Yt.fromBase64String(t.resumeToken))}function aI(t,e){const n=po(e.snapshotVersion),r=po(e.lastLimboFreeSnapshotVersion);let a;a=Qf(e.target)?WA(t.yt,e.target):eI(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mo(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function oI(t){const e=tI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yf(e,e.limit,"L"):e}function vy(t,e){return new Xv(e.largestBatchId,iv(t.yt,e.overlayMutation))}function eT(t,e){const n=e.path.lastSegment();return[t,xn(e.path.popLast()),n]}function tT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:po(r.readTime),documentKey:xn(r.documentKey.path),largestBatchId:r.largestBatchId}}class jM{getBundleMetadata(e,n){return nT(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:go(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return nT(e).put((function(a){return{bundleId:a.id,createTime:po(Dn(a.createTime)),version:a.version}})(n))}getNamedQuery(e,n){return rT(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:oI(o.bundledQuery),readTime:go(o.readTime)}})(r)}))}saveNamedQuery(e,n){return rT(e).put((function(a){return{name:a.name,readTime:po(Dn(a.readTime)),bundledQuery:a.bundledQuery}})(n))}}function nT(t){return nn(t,Rm)}function rT(t){return nn(t,Cm)}class Um{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Um(e,r)}getOverlay(e,n){return _u(e).get(eT(this.userId,n)).next((r=>r?vy(this.serializer,r):null))}getOverlays(e,n){const r=ds();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){const a=[];return r.forEach(((o,c)=>{const h=new Xv(n,c);a.push(this.St(e,h))})),B.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach((c=>a.add(xn(c.getCollectionPath()))));const o=[];return a.forEach((c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(_u(e).Z(Qy,h))})),B.waitFor(o)}getOverlaysForCollection(e,n,r){const a=ds(),o=xn(n),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return _u(e).J(Qy,c).next((h=>{for(const d of h){const p=vy(this.serializer,d);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(e,n,r,a){const o=ds();let c;const h=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return _u(e).ee({index:cA,range:h},((d,p,v)=>{const _=vy(this.serializer,p);o.size()<a||_.largestBatchId===c?(o.set(_.getKey(),_),c=_.largestBatchId):v.done()})).next((()=>o))}St(e,n){return _u(e).put((function(a,o,c){const[h,d,p]=eT(o,c.mutation.key);return{userId:o,collectionPath:d,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Jf(a.yt,c.mutation)}})(this.serializer,this.userId,n))}}function _u(t){return nn(t,Dm)}class PM{bt(e){return nn(e,Bv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?Yt.fromUint8Array(r):Yt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Ga{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Ku(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ks(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Qs(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?xA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):jm(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):_e(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const a of Object.keys(r))this.Ot(a,n),this.Ct(r[a],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const a=Ul,o=r[a].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(xt(o)),this.Ot(a,n),this.Ct(r[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const a of r)this.Ct(a,n)}Lt(e,n){this.Ft(n,37),pe.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Ga.Kt=new Ga;const vl=255;function MM(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function sT(t){const e=64-(function(r){let a=0;for(let o=0;o<8;++o){const c=MM(255&r[o]);if(a+=c,c!==8)break}return a})(t);return Math.ceil(e/8)}class VM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=n.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=n.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const n=this.en(e),r=sT(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}nn(e){const n=this.en(e),r=sT(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}rn(){this.sn(vl),this.sn(255)}_n(){this.an(vl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===vl?(this.sn(vl),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===vl?(this.an(vl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class zM{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class LM{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class bu{constructor(){this.cn=new VM,this.ln=new zM(this.cn),this.hn=new LM(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ka{constructor(e,n,r,a){this.Tn=e,this.In=n,this.En=r,this.dn=a}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Ka(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:If(this.En),directionalValue:If(this.dn),orderedDocumentKey:If(n),documentKey:r.path.toArray()}}Vn(e,n,r){const a=this.Rn(e,n,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Mi(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=iT(t.En,e.En),n!==0?n:(n=iT(t.dn,e.dn),n!==0?n:pe.comparator(t.In,e.In)))}function iT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function If(t){return PS()?(function(n){let r="";for(let a=0;a<n.length;a++)r+=String.fromCharCode(n[a]);return r})(t):t}function aT(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(t)}class oT{constructor(e){this.mn=new ut(((n,r)=>St.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(xe(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Hy(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ba(e);let a=new Set,o=0,c=0;for(;o<r.length&&this.wn(r[o]);++o)a=a.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const d=r[o];if(!this.Sn(h,d)||!this.bn(this.fn[c++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(c>=this.fn.length||!this.bn(this.fn[c++],h))return!1}return!0}Dn(){if(this.pn)return null;let e=new ut(St.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new _f(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new _f(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new _f(r.field,r.dir==="asc"?0:1)));return new Bf(Bf.UNKNOWN_ID,this.collectionId,n,Gu.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function lI(t){if(xe(t instanceof Qe||t instanceof lt,20012),t instanceof Qe){if(t instanceof CA){const n=t.value.arrayValue?.values?.map((r=>Qe.create(t.field,"==",r)))||[];return lt.create(n,"or")}return t}const e=t.filters.map((n=>lI(n)));return lt.create(e,t.op)}function UM(t){if(t.getFilters().length===0)return[];const e=lv(lI(t));return xe(cI(e),7391),av(e)||ov(e)?[e]:e.getFilters()}function av(t){return t instanceof Qe}function ov(t){return t instanceof lt&&Gv(t)}function cI(t){return av(t)||ov(t)||(function(n){if(n instanceof lt&&Jy(n)){for(const r of n.getFilters())if(!av(r)&&!ov(r))return!1;return!0}return!1})(t)}function lv(t){if(xe(t instanceof Qe||t instanceof lt,34018),t instanceof Qe)return t;if(t.filters.length===1)return lv(t.filters[0]);const e=t.filters.map((r=>lv(r)));let n=lt.create(e,t.op);return n=em(n),cI(n)?n:(xe(n instanceof lt,64498),xe(Bl(n),40251),xe(n.filters.length>1,57927),n.filters.reduce(((r,a)=>e_(r,a))))}function e_(t,e){let n;return xe(t instanceof Qe||t instanceof lt,38388),xe(e instanceof Qe||e instanceof lt,25473),n=t instanceof Qe?e instanceof Qe?(function(a,o){return lt.create([a,o],"and")})(t,e):lT(t,e):e instanceof Qe?lT(e,t):(function(a,o){if(xe(a.filters.length>0&&o.filters.length>0,48005),Bl(a)&&Bl(o))return IA(a,o.getFilters());const c=Jy(a)?a:o,h=Jy(a)?o:a,d=c.filters.map((p=>e_(p,h)));return lt.create(d,"or")})(t,e),em(n)}function lT(t,e){if(Bl(e))return IA(e,t.getFilters());{const n=e.filters.map((r=>e_(t,r)));return lt.create(n,"or")}}function em(t){if(xe(t instanceof Qe||t instanceof lt,11850),t instanceof Qe)return t;const e=t.getFilters();if(e.length===1)return em(e[0]);if(SA(t))return t;const n=e.map((a=>em(a))),r=[];return n.forEach((a=>{a instanceof Qe?r.push(a):a instanceof lt&&(a.op===t.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:lt.create(r,t.op)}class FM{constructor(){this.Cn=new t_}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(tr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(tr.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class t_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new ut(et.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ut(et.comparator)).toArray()}}const cT="IndexedDbIndexManager",of=new Uint8Array(0);class BM{constructor(e,n){this.databaseId=n,this.vn=new t_,this.Fn=new Js((r=>mo(r)),((r,a)=>fh(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:xn(a)};return uT(e).put(o)}return B.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[XS(n),""],!1,!0);return uT(e).J(a).next((o=>{for(const c of o){if(c.collectionId!==n)break;r.push(hs(c.parent))}return r}))}addFieldIndex(e,n){const r=xu(e),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete a.indexId;const o=r.add(a);if(n.indexState){const c=bl(e);return o.next((h=>{c.put(tT(h,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=xu(e),a=bl(e),o=_l(e);return r.delete(n.indexId).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=xu(e),r=_l(e),a=bl(e);return n.Z().next((()=>r.Z())).next((()=>a.Z()))}createTargetIndexes(e,n){return B.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const o=new oT(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=_l(e);let a=!0;const o=new Map;return B.forEach(this.Mn(n),(c=>this.xn(e,c).next((h=>{a&&(a=!!h),o.set(c,h)})))).next((()=>{if(a){let c=Be();const h=[];return B.forEach(o,((d,p)=>{ue(cT,`Using index ${(function(J){return`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map((ae=>`${ae.fieldPath}:${ae.kind}`)).join(",")}`})(d)} to execute ${mo(n)}`);const v=(function(J,ae){const le=Hy(ae);if(le===void 0)return null;for(const me of Zf(J,le.fieldPath))switch(me.op){case"array-contains-any":return me.value.arrayValue.values||[];case"array-contains":return[me.value]}return null})(p,d),_=(function(J,ae){const le=new Map;for(const me of Ba(ae))for(const N of Zf(J,me.fieldPath))switch(N.op){case"==":case"in":le.set(me.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return le.set(me.fieldPath.canonicalString(),N.value),Array.from(le.values())}return null})(p,d),E=(function(J,ae){const le=[];let me=!0;for(const N of Ba(ae)){const T=N.kind===0?FE(J,N.fieldPath,J.startAt):BE(J,N.fieldPath,J.startAt);le.push(T.value),me&&(me=T.inclusive)}return new ea(le,me)})(p,d),A=(function(J,ae){const le=[];let me=!0;for(const N of Ba(ae)){const T=N.kind===0?BE(J,N.fieldPath,J.endAt):FE(J,N.fieldPath,J.endAt);le.push(T.value),me&&(me=T.inclusive)}return new ea(le,me)})(p,d),M=this.On(d,p,E),D=this.On(d,p,A),V=this.Nn(d,p,_),Y=this.Bn(d.indexId,v,M,E.inclusive,D,A.inclusive,V);return B.forEach(Y,(Q=>r.Y(Q,n.limit).next((J=>{J.forEach((ae=>{const le=pe.fromSegments(ae.documentKey);c.has(le)||(c=c.add(le),h.push(le))}))}))))})).next((()=>h))}return B.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=UM(lt.create(e.filters,"and")).map((r=>ev(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,a,o,c,h){const d=(n!=null?n.length:1)*Math.max(r.length,o.length),p=d/(n!=null?n.length:1),v=[];for(let _=0;_<d;++_){const E=n?this.Ln(n[_/p]):of,A=this.kn(e,E,r[_%p],a),M=this.qn(e,E,o[_%p],c),D=h.map((V=>this.kn(e,E,V,!0)));v.push(...this.createRange(A,M,D))}return v}kn(e,n,r,a){const o=new Ka(e,pe.empty(),n,r);return a?o:o.An()}qn(e,n,r,a){const o=new Ka(e,pe.empty(),n,r);return a?o.An():o}xn(e,n){const r=new oT(n),a=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let c=null;for(const h of o)r.yn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c}))}getIndexType(e,n){let r=2;const a=this.Mn(n);return B.forEach(a,(o=>this.xn(e,o).next((c=>{c?r!==0&&c.fields.length<(function(d){let p=new ut(St.comparator),v=!1;for(const _ of d.filters)for(const E of _.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?v=!0:p=p.add(E.field));for(const _ of d.orderBy)_.field.isKeyField()||(p=p.add(_.field));return p.size+(v?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(n)&&a.length>1&&r===2?1:r))}Qn(e,n){const r=new bu;for(const a of Ba(e)){const o=n.data.field(a.fieldPath);if(o==null)return null;const c=r.Pn(a.kind);Ga.Kt.Dt(o,c)}return r.un()}Ln(e){const n=new bu;return Ga.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new bu;return Ga.Kt.Dt(fo(this.databaseId,n),r.Pn((function(o){const c=Ba(o);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let a=[];a.push(new bu);let o=0;for(const c of Ba(e)){const h=r[o++];for(const d of a)if(this.Un(n,c.fieldPath)&&Wu(h))a=this.Kn(a,c,h);else{const p=d.Pn(c.kind);Ga.Kt.Dt(h,p)}}return this.Wn(a)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const a=[...e],o=[];for(const c of r.arrayValue.values||[])for(const h of a){const d=new bu;d.seed(h.un()),Ga.Kt.Dt(c,d.Pn(n.kind)),o.push(d)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof Qe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=xu(e),a=bl(e);return(n?r.J(Ky,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const c=[];return B.forEach(o,(h=>a.get([h.indexId,this.uid]).next((d=>{c.push((function(v,_){const E=_?new Gu(_.sequenceNumber,new tr(go(_.readTime),new pe(hs(_.documentKey)),_.largestBatchId)):Gu.empty(),A=v.fields.map((([M,D])=>new _f(St.fromServerFormat(M),D)));return new Bf(v.indexId,v.collectionGroup,A,E)})(h,d))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,a)=>{const o=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,a.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const a=xu(e),o=bl(e);return this.Gn(e).next((c=>a.J(Ky,IDBKeyRange.bound(n,n)).next((h=>B.forEach(h,(d=>o.put(tT(d.indexId,this.uid,c,r))))))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,((a,o)=>{const c=r.get(a.collectionGroup);return(c?B.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((h=>(r.set(a.collectionGroup,h),B.forEach(h,(d=>this.zn(e,a,d).next((p=>{const v=this.jn(o,d);return p.isEqual(v)?B.resolve():this.Jn(e,o,d,p,v)})))))))}))}Hn(e,n,r,a){return _l(e).put(a.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,a){return _l(e).delete(a.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const a=_l(e);let o=new ut(Mi);return a.ee({index:lA,range:IDBKeyRange.only([r.indexId,this.uid,If(this.$n(r,n))])},((c,h)=>{o=o.add(new Ka(r.indexId,n,aT(h.arrayValue),aT(h.directionalValue)))})).next((()=>o))}jn(e,n){let r=new ut(Mi);const a=this.Qn(n,e);if(a==null)return r;const o=Hy(n);if(o!=null){const c=e.data.field(o.fieldPath);if(Wu(c))for(const h of c.arrayValue.values||[])r=r.add(new Ka(n.indexId,e.key,this.Ln(h),a))}else r=r.add(new Ka(n.indexId,e.key,of,a));return r}Jn(e,n,r,a,o){ue(cT,"Updating index entries for document '%s'",n.key);const c=[];return(function(d,p,v,_,E){const A=d.getIterator(),M=p.getIterator();let D=yl(A),V=yl(M);for(;D||V;){let Y=!1,Q=!1;if(D&&V){const J=v(D,V);J<0?Q=!0:J>0&&(Y=!0)}else D!=null?Q=!0:Y=!0;Y?(_(V),V=yl(M)):Q?(E(D),D=yl(A)):(D=yl(A),V=yl(M))}})(a,o,Mi,(h=>{c.push(this.Hn(e,n,r,h))}),(h=>{c.push(this.Yn(e,n,r,h))})),B.waitFor(c)}Gn(e){let n=1;return bl(e).ee({index:oA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,o)=>{o.done(),n=a.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((c,h)=>Mi(c,h))).filter(((c,h,d)=>!h||Mi(c,d[h-1])!==0));const a=[];a.push(e);for(const c of r){const h=Mi(c,e),d=Mi(c,n);if(h===0)a[0]=e.An();else if(h>0&&d<0)a.push(c),a.push(c.An());else if(d>0)break}a.push(n);const o=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const h=a[c].Vn(this.uid,of,pe.empty()),d=a[c+1].Vn(this.uid,of,pe.empty());o.push(IDBKeyRange.bound(h,d))}return o}Zn(e,n){return Mi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(hT)}getMinOffset(e,n){return B.mapArray(this.Mn(n),(r=>this.xn(e,r).next((a=>a||_e(44426))))).next(hT)}}function uT(t){return nn(t,Yu)}function _l(t){return nn(t,ju)}function xu(t){return nn(t,Fv)}function bl(t){return nn(t,Ou)}function hT(t){xe(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;zv(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new tr(e.readTime,e.documentKey,n)}const dT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uI=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function hI(t,e,n){const r=t.store(Vr),a=t.store(Ml),o=[],c=IDBKeyRange.only(n.batchId);let h=0;const d=r.ee({range:c},((v,_,E)=>(h++,E.delete())));o.push(d.next((()=>{xe(h===1,47070,{batchId:n.batchId})})));const p=[];for(const v of n.mutations){const _=sA(e,v.key.path,n.batchId);o.push(a.delete(_)),p.push(v.key)}return B.waitFor(o).next((()=>p))}function tm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _e(14731);e=t.noDocument}return JSON.stringify(e).length}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(uI,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Fm{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Xn={}}static wt(e,n,r,a){xe(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Fm(o,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vi(e).ee({index:Za,range:r},((a,o,c)=>{n=!1,c.done()})).next((()=>n))}addMutationBatch(e,n,r,a){const o=Al(e),c=Vi(e);return c.add({}).next((h=>{xe(typeof h=="number",49019);const d=new Zv(h,n,r,a),p=(function(A,M,D){const V=D.baseMutations.map((Q=>Jf(A.yt,Q))),Y=D.mutations.map((Q=>Jf(A.yt,Q)));return{userId:M,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:V,mutations:Y}})(this.serializer,this.userId,d),v=[];let _=new ut(((E,A)=>De(E.canonicalString(),A.canonicalString())));for(const E of a){const A=sA(this.userId,E.key.path,h);_=_.add(E.key.path.popLast()),v.push(c.put(p)),v.push(o.put(A,y4))}return _.forEach((E=>{v.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[h]=d.keys()})),B.waitFor(v).next((()=>d))}))}lookupMutationBatch(e,n){return Vi(e).get(n).next((r=>r?(xe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ha(this.serializer,r)):null))}er(e,n){return this.Xn[n]?B.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const a=r.keys();return this.Xn[n]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Vi(e).ee({index:Za,range:a},((c,h,d)=>{h.userId===this.userId&&(xe(h.batchId>=r,47524,{tr:r}),o=Ha(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ja;return Vi(e).ee({index:Za,range:n,reverse:!0},((a,o,c)=>{r=o.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Ja],[this.userId,Number.POSITIVE_INFINITY]);return Vi(e).J(Za,n).next((r=>r.map((a=>Ha(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=bf(this.userId,n.path),a=IDBKeyRange.lowerBound(r),o=[];return Al(e).ee({range:a},((c,h,d)=>{const[p,v,_]=c,E=hs(v);if(p===this.userId&&n.path.isEqual(E))return Vi(e).get(_).next((A=>{if(!A)throw _e(61480,{nr:c,batchId:_});xe(A.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:A.userId,batchId:_}),o.push(Ha(this.serializer,A))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(De);const a=[];return n.forEach((o=>{const c=bf(this.userId,o.path),h=IDBKeyRange.lowerBound(c),d=Al(e).ee({range:h},((p,v,_)=>{const[E,A,M]=p,D=hs(A);E===this.userId&&o.path.isEqual(D)?r=r.add(M):_.done()}));a.push(d)})),B.waitFor(a).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,o=bf(this.userId,r),c=IDBKeyRange.lowerBound(o);let h=new ut(De);return Al(e).ee({range:c},((d,p,v)=>{const[_,E,A]=d,M=hs(E);_===this.userId&&r.isPrefixOf(M)?M.length===a&&(h=h.add(A)):v.done()})).next((()=>this.rr(e,h)))}rr(e,n){const r=[],a=[];return n.forEach((o=>{a.push(Vi(e).get(o).next((c=>{if(c===null)throw _e(35274,{batchId:o});xe(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),r.push(Ha(this.serializer,c))})))})),B.waitFor(a).next((()=>r))}removeMutationBatch(e,n){return hI(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),B.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Al(e).ee({range:r},((o,c,h)=>{if(o[0]===this.userId){const d=hs(o[1]);a.push(d)}else h.done()})).next((()=>{xe(a.length===0,56720,{sr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return dI(e,this.userId,n)}_r(e){return fI(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Ja,lastStreamToken:""}))}}function dI(t,e,n){const r=bf(e,n.path),a=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return Al(t).ee({range:o,X:!0},((h,d,p)=>{const[v,_,E]=h;v===e&&_===a&&(c=!0),p.done()})).next((()=>c))}function Vi(t){return nn(t,Vr)}function Al(t){return nn(t,Ml)}function fI(t){return nn(t,Qu)}class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}class qM{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new yo(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Te.fromTimestamp(new ot(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.hr(e,a))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>xl(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(xe(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let a=0;const o=[];return xl(e).ee(((c,h)=>{const d=Iu(h);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(a++,o.push(this.removeTargetData(e,d)))})).next((()=>B.waitFor(o))).next((()=>a))}forEachTarget(e,n){return xl(e).ee(((r,a)=>{const o=Iu(a);n(o)}))}lr(e){return fT(e).get(Hf).next((n=>(xe(n!==null,2888),n)))}hr(e,n){return fT(e).put(Hf,n)}Pr(e,n){return xl(e).put(aI(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=mo(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return xl(e).ee({range:a,index:aA},((c,h,d)=>{const p=Iu(h);fh(n,p.target)&&(o=p,d.done())})).next((()=>o))}addMatchingKeys(e,n,r){const a=[],o=Ui(e);return n.forEach((c=>{const h=xn(c.path);a.push(o.put({targetId:r,path:h})),a.push(this.referenceDelegate.addReference(e,r,c))})),B.waitFor(a)}removeMatchingKeys(e,n,r){const a=Ui(e);return B.forEach(n,(o=>{const c=xn(o.path);return B.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=Ui(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=Ui(e);let o=Be();return a.ee({range:r,X:!0},((c,h,d)=>{const p=hs(c[1]),v=new pe(p);o=o.add(v)})).next((()=>o))}containsKey(e,n){const r=xn(n.path),a=IDBKeyRange.bound([r],[XS(r)],!1,!0);let o=0;return Ui(e).ee({index:Uv,X:!0,range:a},(([c,h],d,p)=>{c!==0&&(o++,p.done())})).next((()=>o>0))}At(e,n){return xl(e).get(n).next((r=>r?Iu(r):null))}}function xl(t){return nn(t,Vl)}function fT(t){return nn(t,Wa)}function Ui(t){return nn(t,zl)}const mT="LruGarbageCollector",$M=1048576;function pT([t,e],[n,r]){const a=De(t,n);return a===0?De(e,r):a}class HM{constructor(e){this.Ir=e,this.buffer=new ut(pT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(mT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sa(n)?ue(mT,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Vr(3e5)}))}}class GM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return B.resolve(vr.ce);const r=new HM(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(dT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,c,h,d,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,n)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),wl()<=Ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-v}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_}))))}}function pI(t,e){return new GM(t,e)}class KM{constructor(e,n){this.db=e,this.garbageCollector=pI(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,a)=>n(a)))}addReference(e,n,r){return lf(e,r)}removeReference(e,n,r){return lf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return lf(e,n)}br(e,n){return(function(a,o){let c=!1;return fI(a).te((h=>dI(a,h,o).next((d=>(d&&(c=!0),B.resolve(!d)))))).next((()=>c))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.Sr(e,((c,h)=>{if(h<=n){const d=this.br(e,c).next((p=>{if(!p)return o++,r.getEntry(e,c).next((()=>(r.removeEntry(c,Te.min()),Ui(e).delete((function(_){return[0,xn(_.path)]})(c)))))}));a.push(d)}})).next((()=>B.waitFor(a))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return lf(e,n)}Sr(e,n){const r=Ui(e);let a,o=vr.ce;return r.ee({index:Uv},(([c,h],{path:d,sequenceNumber:p})=>{c===0?(o!==vr.ce&&n(new pe(hs(a)),o),o=p,a=d):o=vr.ce})).next((()=>{o!==vr.ce&&n(new pe(hs(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lf(t,e){return Ui(t).put((function(r,a){return{targetId:0,path:xn(r.path),sequenceNumber:a}})(e,t.currentSequenceNumber))}class gI{constructor(){this.changes=new Js((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ua(e).put(r)}removeEntry(e,n,r){return Ua(e).delete((function(o,c){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Wf(c),h[h.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Dt.newInvalidDocument(n);return Ua(e).ee({index:xf,range:IDBKeyRange.only(wu(n))},((a,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Dt.newInvalidDocument(n)};return Ua(e).ee({index:xf,range:IDBKeyRange.only(wu(n))},((a,o)=>{r={document:this.Cr(n,o),size:tm(o)}})).next((()=>r))}getEntries(e,n){let r=Jn();return this.Fr(e,n,((a,o)=>{const c=this.Cr(a,o);r=r.insert(a,c)})).next((()=>r))}Mr(e,n){let r=Jn(),a=new wt(pe.comparator);return this.Fr(e,n,((o,c)=>{const h=this.Cr(o,c);r=r.insert(o,h),a=a.insert(o,tm(c))})).next((()=>({documents:r,Or:a})))}Fr(e,n,r){if(n.isEmpty())return B.resolve();let a=new ut(vT);n.forEach((d=>a=a.add(d)));const o=IDBKeyRange.bound(wu(a.first()),wu(a.last())),c=a.getIterator();let h=c.getNext();return Ua(e).ee({index:xf,range:o},((d,p,v)=>{const _=pe.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&vT(h,_)<0;)r(h,null),h=c.getNext();h&&h.isEqual(_)&&(r(h,p),h=c.hasNext()?c.getNext():null),h?v.j(wu(h)):v.done()})).next((()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,n,r,a,o){const c=n.path,h=[c.popLast().toArray(),c.lastSegment(),Wf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ua(e).J(IDBKeyRange.bound(h,d,!0)).next((p=>{o?.incrementDocumentReadCount(p.length);let v=Jn();for(const _ of p){const E=this.Cr(pe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);E.isFoundDocument()&&(ph(n,E)||a.has(E.key))&&(v=v.insert(E.key,E))}return v}))}getAllFromCollectionGroup(e,n,r,a){let o=Jn();const c=yT(n,r),h=yT(n,tr.max());return Ua(e).ee({index:iA,range:IDBKeyRange.bound(c,h,!0)},((d,p,v)=>{const _=this.Cr(pe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);o=o.insert(_.key,_),o.size===a&&v.done()})).next((()=>o))}newChangeBuffer(e){return new ZM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return gT(e).get(Gy).next((n=>(xe(!!n,20021),n)))}Dr(e,n){return gT(e).put(Gy,n)}Cr(e,n){if(n){const r=OM(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Te.min())))return r}return Dt.newInvalidDocument(e)}}function yI(t){return new QM(t)}class ZM extends gI{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Js((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const n=[];let r=0,a=new ut(((o,c)=>De(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const h=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,h.readTime)),c.isValidDocument()){const d=WE(this.Nr.serializer,c);a=a.add(o.path.popLast());const p=tm(d);r+=p-h.size,n.push(this.Nr.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=WE(this.Nr.serializer,c.convertToNoDocument(Te.min()));n.push(this.Nr.addEntry(e,o,d))}})),a.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:a})=>(a.forEach(((o,c)=>{this.Br.set(o,{size:c,readTime:r.get(o).readTime})})),r)))}}function gT(t){return nn(t,Zu)}function Ua(t){return nn(t,$f)}function wu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yT(t,e){const n=e.documentKey.path.toArray();return[t,Wf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vT(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(a=De(n[o],r[o]),a)return a;return a=De(n.length,r.length),a||(a=De(n[n.length-2],r[r.length-2]),a||De(n[n.length-1],r[r.length-1]))}class YM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class vI{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Vu(r.mutation,a,_r.empty(),ot.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Be()){const a=ds();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let c=Su();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Be())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,a){let o=Jn();const c=Mu(),h=(function(){return Mu()})();return n.forEach(((d,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof ia)?o=o.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Vu(v.mutation,p,v.mutation.getFieldMask(),ot.now())):c.set(p.key,_r.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>h.set(p,new YM(v,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Mu();let a=new wt(((c,h)=>c-h)),o=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let v=r.get(d)||_r.empty();v=h.applyToLocalView(p,v),r.set(d,v);const _=(a.get(h.batchId)||Be()).add(d);a=a.insert(h.batchId,_)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,v=d.value,_=PA();v.forEach((E=>{if(!o.has(E)){const A=BA(n.get(E),r.get(E));A!==null&&_.set(E,A),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return B.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):B.resolve(ds());let h=Hu,d=o;return c.next((p=>B.forEach(p,((v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(v)?B.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{d=d.insert(v,E)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,Be()))).next((v=>({batchId:h,changes:jA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let a=Su();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let c=Su();return this.indexManager.getCollectionParents(e,o).next((h=>B.forEach(h,(d=>{const p=(function(_,E){return new ic(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((v=>{v.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((c=>{o.forEach(((d,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,Dt.newInvalidDocument(v)))}));let h=Su();return c.forEach(((d,p)=>{const v=o.get(d);v!==void 0&&Vu(v.mutation,p,_r.empty(),ot.now()),ph(n,p)&&(h=h.insert(d,p))})),h}))}}class XM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Dn(a.createTime)}})(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:oI(a.bundledQuery),readTime:Dn(a.readTime)}})(n)),B.resolve()}}class JM{constructor(){this.overlays=new wt(pe.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return B.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),B.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const a=ds(),o=n.length+1,c=new pe(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new wt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let v=o.get(p.largestBatchId);v===null&&(v=ds(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=ds(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,v)=>h.set(p,v))),!(h.size()>=a)););return B.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Xv(n,r));let o=this.qr.get(n);o===void 0&&(o=Be(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}class WM{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}class n_{constructor(){this.Qr=new ut(on.$r),this.Ur=new ut(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new on(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new et([])),r=new on(n,e),a=new on(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new et([])),r=new on(n,e),a=new on(n,e+1);let o=Be();return this.Ur.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new on(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||De(e.Yr,n.Yr)}static Kr(e,n){return De(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class eV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(on.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Zv(o,n,r,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new on(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return B.resolve(c)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Ja:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),a=new on(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(De);return n.forEach((a=>{const o=new on(a,0),c=new on(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{r=r.add(h.Yr)}))})),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const c=new on(new pe(o),0);let h=new ut(De);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),c),B.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,(a=>{const o=new on(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new on(n,0),a=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class tV{constructor(e){this.ri=e,this.docs=(function(){return new wt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Jn();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Dt.newInvalidDocument(a))})),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Jn();const c=n.path,h=new pe(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||zv(eA(v),r)<=0||(a.has(v.key)||ph(n,v))&&(o=o.insert(v.key,v.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,a){_e(9500)}ii(e,n){return B.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new nV(this)}getSize(e){return B.resolve(this.size)}}class nV extends gI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class rV{constructor(e){this.persistence=e,this.si=new Js((n=>mo(n)),fh),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new n_,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),B.waitFor(o).next((()=>a))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}class r_{constructor(e,n){this.ui={},this.overlays={},this.ci=new vr(0),this.li=!1,this.li=!0,this.hi=new WM,this.referenceDelegate=e(this),this.Pi=new rV(this),this.indexManager=new FM,this.remoteDocumentCache=(function(a){return new tV(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new iI(n),this.Ii=new XM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new eV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const a=new sV(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return B.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class sV extends nA{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.Ri=new n_,this.Vi=null}static mi(e){return new Bm(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,(r=>{const a=pe.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nm{constructor(e,n){this.persistence=e,this.pi=new Js((r=>xn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=pI(this,n)}static mi(e,n){return new nm(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return B.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?B.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((h=>{h||(r++,o.removeEntry(c,Te.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ef(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return B.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class iV{constructor(e){this.serializer=e}k(e,n,r,a){const o=new Im("createOrUpgrade",n);r<1&&a>=1&&((function(d){d.createObjectStore(dh)})(e),(function(d){d.createObjectStore(Qu,{keyPath:g4}),d.createObjectStore(Vr,{keyPath:RE,autoIncrement:!0}).createIndex(Za,CE,{unique:!0}),d.createObjectStore(Ml)})(e),_T(e),(function(d){d.createObjectStore(qa)})(e));let c=B.resolve();return r<3&&a>=3&&(r!==0&&((function(d){d.deleteObjectStore(zl),d.deleteObjectStore(Vl),d.deleteObjectStore(Wa)})(e),_T(e)),c=c.next((()=>(function(d){const p=d.store(Wa),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Te.min().toTimestamp(),targetCount:0};return p.put(Hf,v)})(o)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(d,p){return p.store(Vr).J().next((_=>{d.deleteObjectStore(Vr),d.createObjectStore(Vr,{keyPath:RE,autoIncrement:!0}).createIndex(Za,CE,{unique:!0});const E=p.store(Vr),A=_.map((M=>E.put(M)));return B.waitFor(A)}))})(e,o)))),c=c.next((()=>{(function(d){d.createObjectStore(Ll,{keyPath:S4})})(e)}))),r<5&&a>=5&&(c=c.next((()=>this.yi(o)))),r<6&&a>=6&&(c=c.next((()=>((function(d){d.createObjectStore(Zu)})(e),this.wi(o))))),r<7&&a>=7&&(c=c.next((()=>this.Si(o)))),r<8&&a>=8&&(c=c.next((()=>this.bi(e,o)))),r<9&&a>=9&&(c=c.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(c=c.next((()=>this.Di(o)))),r<11&&a>=11&&(c=c.next((()=>{(function(d){d.createObjectStore(Rm,{keyPath:A4})})(e),(function(d){d.createObjectStore(Cm,{keyPath:I4})})(e)}))),r<12&&a>=12&&(c=c.next((()=>{(function(d){const p=d.createObjectStore(Dm,{keyPath:j4});p.createIndex(Qy,P4,{unique:!1}),p.createIndex(cA,M4,{unique:!1})})(e)}))),r<13&&a>=13&&(c=c.next((()=>(function(d){const p=d.createObjectStore($f,{keyPath:v4});p.createIndex(xf,_4),p.createIndex(iA,b4)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(qa)))),r<14&&a>=14&&(c=c.next((()=>this.Fi(e,o)))),r<15&&a>=15&&(c=c.next((()=>(function(d){d.createObjectStore(Fv,{keyPath:N4,autoIncrement:!0}).createIndex(Ky,R4,{unique:!1}),d.createObjectStore(Ou,{keyPath:C4}).createIndex(oA,D4,{unique:!1}),d.createObjectStore(ju,{keyPath:k4}).createIndex(lA,O4,{unique:!1})})(e)))),r<16&&a>=16&&(c=c.next((()=>{n.objectStore(Ou).clear()})).next((()=>{n.objectStore(ju).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(d){d.createObjectStore(Bv,{keyPath:V4})})(e)}))),r<18&&a>=18&&PS()&&(c=c.next((()=>{n.objectStore(Ou).clear()})).next((()=>{n.objectStore(ju).clear()}))),c}wi(e){let n=0;return e.store(qa).ee(((r,a)=>{n+=tm(a)})).next((()=>{const r={byteSize:n};return e.store(Zu).put(Gy,r)}))}yi(e){const n=e.store(Qu),r=e.store(Vr);return n.J().next((a=>B.forEach(a,(o=>{const c=IDBKeyRange.bound([o.userId,Ja],[o.userId,o.lastAcknowledgedBatchId]);return r.J(Za,c).next((h=>B.forEach(h,(d=>{xe(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const p=Ha(this.serializer,d);return hI(e,o.userId,p).next((()=>{}))}))))}))))}Si(e){const n=e.store(zl),r=e.store(qa);return e.store(Wa).get(Hf).next((a=>{const o=[];return r.ee(((c,h)=>{const d=new et(c),p=(function(_){return[0,xn(_)]})(d);o.push(n.get(p).next((v=>v?B.resolve():(_=>n.put({targetId:0,path:xn(_),sequenceNumber:a.highestListenSequenceNumber}))(d))))})).next((()=>B.waitFor(o)))}))}bi(e,n){e.createObjectStore(Yu,{keyPath:T4});const r=n.store(Yu),a=new t_,o=c=>{if(a.add(c)){const h=c.lastSegment(),d=c.popLast();return r.put({collectionId:h,parent:xn(d)})}};return n.store(qa).ee({X:!0},((c,h)=>{const d=new et(c);return o(d.popLast())})).next((()=>n.store(Ml).ee({X:!0},(([c,h,d],p)=>{const v=hs(h);return o(v.popLast())}))))}Di(e){const n=e.store(Vl);return n.ee(((r,a)=>{const o=Iu(a),c=aI(this.serializer,o);return n.put(c)}))}Ci(e,n){const r=n.store(qa),a=[];return r.ee(((o,c)=>{const h=n.store($f),d=(function(_){return _.document?new pe(et.fromString(_.document.name).popFirst(5)):_.noDocument?pe.fromSegments(_.noDocument.path):_.unknownDocument?pe.fromSegments(_.unknownDocument.path):_e(36783)})(c).path.toArray(),p={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(h.put(p))})).next((()=>B.waitFor(a)))}Fi(e,n){const r=n.store(Vr),a=yI(this.serializer),o=new r_(Bm.mi,this.serializer.yt);return r.J().next((c=>{const h=new Map;return c.forEach((d=>{let p=h.get(d.userId)??Be();Ha(this.serializer,d).keys().forEach((v=>p=p.add(v))),h.set(d.userId,p)})),B.forEach(h,((d,p)=>{const v=new mn(p),_=Um.wt(this.serializer,v),E=o.getIndexManager(v),A=Fm.wt(v,this.serializer,E,o.referenceDelegate);return new vI(a,A,_,E).recalculateAndSaveOverlaysForDocumentKeys(new Zy(n,vr.ce),d).next()}))}))}}function _T(t){t.createObjectStore(zl,{keyPath:w4}).createIndex(Uv,E4,{unique:!0}),t.createObjectStore(Vl,{keyPath:"targetId"}).createIndex(aA,x4,{unique:!0}),t.createObjectStore(Wa)}const zi="IndexedDbPersistence",_y=18e5,by=5e3,xy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aV="main";class s_{constructor(e,n,r,a,o,c,h,d,p,v,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=c,this.document=h,this.xi=p,this.Oi=v,this.Ni=_,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!s_.v())throw new de(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KM(this,a),this.$i=n+aV,this.serializer=new iI(d),this.Ui=new Yi(this.$i,this.Ni,new iV(this.serializer)),this.hi=new PM,this.Pi=new qM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yI(this.serializer),this.Ii=new jM,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,v===!1&&Nn(zi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ee.FAILED_PRECONDITION,xy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new vr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>cf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(sa(e))return ue(zi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(zi,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Eu(e).get(gl).next((n=>B.resolve(this.es(n))))}ts(e){return cf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,_y)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=nn(n,Ll);return r.J().next((a=>{const o=this.ss(a,_y),c=a.filter((h=>o.indexOf(h)===-1));return B.forEach(c,(h=>r.delete(h.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?B.resolve(!0):Eu(e).get(gl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,by)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new de(ee.FAILED_PRECONDITION,xy);return!1}}return!(!this.networkEnabled||!this.inForeground)||cf(e).J().next((r=>this.ss(r,by).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(o||c&&h)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ue(zi,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[dh,Ll],(e=>{const n=new Zy(e,vr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>cf(e).J().next((n=>this.ss(n,_y).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Fm.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new BM(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Um.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue(zi,"Starting transaction:",e);const a=n==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?U4:d===17?fA:d===16?L4:d===15?qv:d===14?dA:d===13?hA:d===12?z4:d===11?uA:void _e(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,o,(h=>(c=new Zy(h,this.ci?this.ci.next():vr.ce),n==="readwrite-primary"?this.Hi(c).next((d=>!!d||this.Yi(c))).next((d=>{if(!d)throw Nn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new de(ee.FAILED_PRECONDITION,tA);return r(c)})).next((d=>this.Xi(c).next((()=>d)))):this.Is(c).next((()=>r(c)))))).then((h=>(c.raiseOnCommittedEvent(),h)))}Is(e){return Eu(e).get(gl).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,by)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new de(ee.FAILED_PRECONDITION,xy)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Eu(e).put(gl,n)}static v(){return Yi.v()}Zi(e){const n=Eu(e);return n.get(gl).next((r=>this.es(r)?(ue(zi,"Releasing primary lease."),n.delete(gl)):B.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Nn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;jS()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return ue(zi,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Nn(zi,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Nn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Eu(t){return nn(t,dh)}function cf(t){return nn(t,Ll)}function oV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class i_{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Be(),a=Be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new i_(e,n.fromCache,r,a)}}class lV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _I{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jS()?8:rA(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new lV;return this.Ss(e,n,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(wl()<=Ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",El(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(wl()<=Ke.DEBUG&&ue("QueryEngine","Query:",El(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(wl()<=Ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",El(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):B.resolve())}ys(e,n){if(qE(n))return B.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Yf(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=Be(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,c,d.readTime)?this.ys(e,Yf(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,r,a){return qE(n)||a.isEqual(Te.min())?B.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,r,a)?B.resolve(null):(wl()<=Ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),El(n)),this.vs(e,c,n,c4(a,Hu)).next((h=>h)))}))}Ds(e,n){let r=new ut(kA(e));return n.forEach(((a,o)=>{ph(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return wl()<=Ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",El(n)),this.ps.getDocumentsMatchingQuery(e,n,tr.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const a_="LocalStore",cV=3e8;class uV{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new wt(De),this.xs=new Js((o=>mo(o)),fh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function bI(t,e,n,r){return new uV(t,e,n,r)}async function xI(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let d=Be();for(const p of a){c.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}for(const p of o){h.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function hV(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,v){const _=p.batch,E=_.keys();let A=B.resolve();return E.forEach((M=>{A=A.next((()=>v.getEntry(d,M))).next((D=>{const V=p.docVersions.get(M);xe(V!==null,48541),D.version.compareTo(V)<0&&(_.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),v.addEntry(D)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=Be();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function wI(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function dV(t,e){const n=ke(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((v,_)=>{const E=a.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(o,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(o,v.addedDocuments,_))));let A=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(Yt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),a=a.insert(_,A),(function(D,V,Y){return D.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=cV?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(E,A,v)&&h.push(n.Pi.updateTargetData(o,A))}));let d=Jn(),p=Be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(fV(o,c,e.documentUpdates).next((v=>{d=v.ks,p=v.qs}))),!r.isEqual(Te.min())){const v=n.Pi.getLastRemoteSnapshotVersion(o).next((_=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return B.waitFor(h).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(n.Ms=a,o)))}function fV(t,e,n){let r=Be(),a=Be();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=Jn();return n.forEach(((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Te.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):ue(a_,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:c,qs:a}}))}function mV(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ja),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function pV(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,B.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new Fs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function cv(t,e,n){const r=ke(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!sa(c))throw c;ue(a_,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function bT(t,e,n){const r=ke(t);let a=Te.min(),o=Be();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,p,v){const _=ke(d),E=_.xs.get(v);return E!==void 0?B.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,v)})(r,c,br(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:Te.min(),n?o:Be()))).next((h=>(gV(r,tM(e),h),{documents:h,Qs:o})))))}function gV(t,e,n){let r=t.Os.get(e)||Te.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class xT{constructor(){this.activeTargetIds=oM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EI{constructor(){this.Mo=new xT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yV{Oo(e){}shutdown(){}}const wT="ConnectivityMonitor";class ET{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(wT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(wT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uf=null;function uv(){return uf===null?uf=(function(){return 268435456+Math.round(2147483648*Math.random())})():uf++,"0x"+uf.toString(16)}const wy="RestConnection",vV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _V{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Gf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const c=uv(),h=this.zo(e,n.toUriEncodedString());ue(wy,`Sending RPC '${e}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:p}=new URL(h),v=nc(p);return this.Jo(e,h,d,r,v).then((_=>(ue(wy,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw uo(wy,`RPC '${e}' ${c} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,n,r,a,o,c){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=vV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class bV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _n="WebChannelConnection";class xV extends _V{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const c=uv();return new Promise(((h,d)=>{const p=new $S;p.setWithCredentials(!0),p.listenOnce(HS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case vf.NO_ERROR:const _=p.getResponseJson();ue(_n,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),h(_);break;case vf.TIMEOUT:ue(_n,`RPC '${e}' ${c} timed out`),d(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const E=p.getStatus();if(ue(_n,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A?.error;if(M&&M.status&&M.message){const D=(function(Y){const Q=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Q)>=0?Q:ee.UNKNOWN})(M.status);d(new de(D,M.message))}else d(new de(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new de(ee.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(_n,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ue(_n,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,r,15)}))}T_(e,n,r){const a=uv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=QS(),h=KS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const v=o.join("");ue(_n,`Creating RPC '${e}' stream ${a}: ${v}`,d);const _=c.createWebChannel(v,d);this.I_(_);let E=!1,A=!1;const M=new bV({Yo:V=>{A?ue(_n,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(E||(ue(_n,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),ue(_n,`RPC '${e}' stream ${a} sending:`,V),_.send(V))},Zo:()=>_.close()}),D=(V,Y,Q)=>{V.listen(Y,(J=>{try{Q(J)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return D(_,Tu.EventType.OPEN,(()=>{A||(ue(_n,`RPC '${e}' stream ${a} transport opened.`),M.o_())})),D(_,Tu.EventType.CLOSE,(()=>{A||(A=!0,ue(_n,`RPC '${e}' stream ${a} transport closed`),M.a_(),this.E_(_))})),D(_,Tu.EventType.ERROR,(V=>{A||(A=!0,uo(_n,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),M.a_(new de(ee.UNAVAILABLE,"The operation could not be completed")))})),D(_,Tu.EventType.MESSAGE,(V=>{if(!A){const Y=V.data[0];xe(!!Y,16349);const Q=Y,J=Q?.error||Q[0]?.error;if(J){ue(_n,`RPC '${e}' stream ${a} received error:`,J);const ae=J.status;let le=(function(T){const R=Qt[T];if(R!==void 0)return HA(R)})(ae),me=J.message;le===void 0&&(le=ee.INTERNAL,me="Unknown error status: "+ae+" with message "+J.message),A=!0,M.a_(new de(le,me)),_.close()}else ue(_n,`RPC '${e}' stream ${a} received:`,Y),M.u_(Y)}})),D(h,GS.STAT_EVENT,(V=>{V.stat===qy.PROXY?ue(_n,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===qy.NOPROXY&&ue(_n,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function wV(){return typeof window<"u"?window:null}function Nf(){return typeof document<"u"?document:null}function qm(t){return new EM(t,!0)}class TI{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const TT="PersistentStream";class SI{constructor(e,n,r,a,o,c,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Nn(n.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new de(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(TT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(TT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EV extends SI{constructor(e,n,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=AM(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Te.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Te.min():c.readTime?Dn(c.readTime):Te.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sv(this.serializer),n.addTarget=(function(o,c){let h;const d=c.target;if(h=Qf(d)?{documents:WA(o,d)}:{query:eI(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=QA(o,c.resumeToken);const p=nv(o,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Te.min())>0){h.readTime=Gl(o,c.snapshotVersion.toTimestamp());const p=nv(o,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=NM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sv(this.serializer),n.removeTarget=e,this.q_(n)}}class TV extends SI{constructor(e,n,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=IM(e.writeResults,e.commitTime),r=Dn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Jf(this.serializer,r)))};this.q_(n)}}class SV{}class AV extends SV{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,rv(n,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ee.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,rv(n,r),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nn(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vo="RemoteStore";class NV{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{So(this)&&(ue(vo,"Restarting streams for network reachability change."),await(async function(d){const p=ke(d);p.Ea.add(4),await yh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await $m(p)})(this))}))})),this.Ra=new IV(r,a)}}async function $m(t){if(So(t))for(const e of t.da)await e(!0)}async function yh(t){for(const e of t.da)await e(!1)}function AI(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),u_(n)?c_(n):oc(n).O_()&&l_(n,e))}function o_(t,e){const n=ke(t),r=oc(n);n.Ia.delete(e),r.O_()&&II(n,e),n.Ia.size===0&&(r.O_()?r.L_():So(n)&&n.Ra.set("Unknown"))}function l_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oc(t).Y_(e)}function II(t,e){t.Va.Ue(e),oc(t).Z_(e)}function c_(t){t.Va=new _M({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),oc(t).start(),t.Ra.ua()}function u_(t){return So(t)&&!oc(t).x_()&&t.Ia.size>0}function So(t){return ke(t).Ea.size===0}function NI(t){t.Va=void 0}async function RV(t){t.Ra.set("Online")}async function CV(t){t.Ia.forEach(((e,n)=>{l_(t,e)}))}async function DV(t,e){NI(t),u_(t)?(t.Ra.ha(e),c_(t)):t.Ra.set("Unknown")}async function kV(t,e,n){if(t.Ra.set("Online"),e instanceof KA&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){ue(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rm(t,r)}else if(e instanceof Af?t.Va.Ze(e):e instanceof GA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Te.min()))try{const r=await wI(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=o.Ia.get(p);v&&o.Ia.set(p,v.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,p)=>{const v=o.Ia.get(d);if(!v)return;o.Ia.set(d,v.withResumeToken(Yt.EMPTY_BYTE_STRING,v.snapshotVersion)),II(o,d);const _=new Fs(v.target,d,p,v.sequenceNumber);l_(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){ue(vo,"Failed to raise snapshot:",r),await rm(t,r)}}async function rm(t,e,n){if(!sa(e))throw e;t.Ea.add(1),await yh(t),t.Ra.set("Offline"),n||(n=()=>wI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ue(vo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $m(t)}))}function RI(t,e){return e().catch((n=>rm(t,n,e)))}async function vh(t){const e=ke(t),n=ta(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ja;for(;OV(e);)try{const a=await mV(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,jV(e,a)}catch(a){await rm(e,a)}CI(e)&&DI(e)}function OV(t){return So(t)&&t.Ta.length<10}function jV(t,e){t.Ta.push(e);const n=ta(t);n.O_()&&n.X_&&n.ea(e.mutations)}function CI(t){return So(t)&&!ta(t).x_()&&t.Ta.length>0}function DI(t){ta(t).start()}async function PV(t){ta(t).ra()}async function MV(t){const e=ta(t);for(const n of t.Ta)e.ea(n.mutations)}async function VV(t,e,n){const r=t.Ta.shift(),a=Yv.from(r,e,n);await RI(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await vh(t)}async function zV(t,e){e&&ta(t).X_&&await(async function(r,a){if((function(c){return gM(c)&&c!==ee.ABORTED})(a.code)){const o=r.Ta.shift();ta(r).B_(),await RI(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await vh(r)}})(t,e),CI(t)&&DI(t)}async function ST(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ue(vo,"RemoteStore received new credentials");const r=So(n);n.Ea.add(3),await yh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $m(n)}async function LV(t,e){const n=ke(t);e?(n.Ea.delete(2),await $m(n)):e||(n.Ea.add(2),await yh(n),n.Ra.set("Unknown"))}function oc(t){return t.ma||(t.ma=(function(n,r,a){const o=ke(n);return o.sa(),new EV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:RV.bind(null,t),t_:CV.bind(null,t),r_:DV.bind(null,t),H_:kV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),u_(t)?c_(t):t.Ra.set("Unknown")):(await t.ma.stop(),NI(t))}))),t.ma}function ta(t){return t.fa||(t.fa=(function(n,r,a){const o=ke(n);return o.sa(),new TV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:PV.bind(null,t),r_:zV.bind(null,t),ta:MV.bind(null,t),na:VV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await vh(t)):(await t.fa.stop(),t.Ta.length>0&&(ue(vo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class h_{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const c=Date.now()+r,h=new h_(e,n,c,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(t,e){if(Nn("AsyncQueue",`${e}: ${t}`),sa(t))return new de(ee.UNAVAILABLE,`${e}: ${t}`);throw t}class Rl{static emptySet(e){return new Rl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Su(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class AT{constructor(){this.ga=new wt(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Kl{constructor(e,n,r,a,o,c,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,o){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Kl(e,n,Rl.emptySet(n),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class UV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FV{constructor(){this.queries=IT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=ke(n),o=a.queries;a.queries=IT(),o.forEach(((c,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function IT(){return new Js((t=>DA(t)),Pm)}async function f_(t,e){const n=ke(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new UV,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=d_(c,`Initialization of query '${El(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&p_(n)}async function m_(t,e){const n=ke(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BV(t,e){const n=ke(t);let r=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(r=!0);c.wa=a}}r&&p_(n)}function qV(t,e,n){const r=ke(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function p_(t){t.Ca.forEach((e=>{e.next()}))}var hv,NT;(NT=hv||(hv={})).Ma="default",NT.Cache="cache";class g_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hv.Cache}}class kI{constructor(e){this.key=e}}class OI{constructor(e){this.key=e}}class $V{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=kA(e),this.tu=new Rl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new AT,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const E=a.get(v),A=ph(this.query,_)?_:null,M=!!E&&this.mutatedKeys.has(E.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let V=!1;E&&A?E.data.isEqual(A.data)?M!==D&&(r.track({type:3,doc:A}),V=!0):this.su(E,A)||(r.track({type:2,doc:A}),V=!0,(d&&this.eu(A,d)>0||p&&this.eu(A,p)<0)&&(h=!0)):!E&&A?(r.track({type:0,doc:A}),V=!0):E&&!A&&(r.track({type:1,doc:E}),V=!0,(d||p)&&(h=!0)),V&&(A?(c=c.add(A),o=D?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(A,M){const D=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:V})}};return D(A)-D(M)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,c.length!==0||p?{snapshot:new Kl(this.query,e.tu,o,c,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new OI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new kI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const y_="SyncEngine";class HV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GV{constructor(e){this.key=e,this.hu=!1}}class KV{constructor(e,n,r,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Js((h=>DA(h)),Pm),this.Iu=new Map,this.Eu=new Set,this.du=new wt(pe.comparator),this.Au=new Map,this.Ru=new n_,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QV(t,e,n=!0){const r=LI(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await jI(r,e,n,!0),a}async function ZV(t,e){const n=LI(t);await jI(n,e,!0,!1)}async function jI(t,e,n,r){const a=await pV(t.localStore,br(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await YV(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&AI(t.remoteStore,a),h}async function YV(t,e,n,r,a){t.pu=(_,E,A)=>(async function(D,V,Y,Q){let J=V.view.ru(Y);J.Cs&&(J=await bT(D.localStore,V.query,!1).then((({documents:N})=>V.view.ru(N,J))));const ae=Q&&Q.targetChanges.get(V.targetId),le=Q&&Q.targetMismatches.get(V.targetId)!=null,me=V.view.applyChanges(J,D.isPrimaryClient,ae,le);return CT(D,V.targetId,me.au),me.snapshot})(t,_,E,A);const o=await bT(t.localStore,e,!0),c=new $V(e,o.Qs),h=c.ru(o.documents),d=gh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=c.applyChanges(h,t.isPrimaryClient,d);CT(t,n,p.au);const v=new HV(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function XV(t,e,n){const r=ke(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!Pm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await cv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&o_(r.remoteStore,a.targetId),dv(r,a.targetId)})).catch(Eo)):(dv(r,a.targetId),await cv(r.localStore,a.targetId,!0))}async function JV(t,e){const n=ke(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),o_(n.remoteStore,r.targetId))}async function WV(t,e,n){const r=UI(t);try{const a=await(function(c,h){const d=ke(c),p=ot.now(),v=h.reduce(((A,M)=>A.add(M.key)),Be());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let M=Jn(),D=Be();return d.Ns.getEntries(A,v).next((V=>{M=V,M.forEach(((Y,Q)=>{Q.isValidDocument()||(D=D.add(Y))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,M))).next((V=>{_=V;const Y=[];for(const Q of h){const J=mM(Q,_.get(Q.key).overlayedDocument);J!=null&&Y.push(new ia(Q.key,J,EA(J.value.mapValue),Rn.exists(!0)))}return d.mutationQueue.addMutationBatch(A,p,Y,h)})).next((V=>{E=V;const Y=V.applyToLocalDocumentSet(_,D);return d.documentOverlayCache.saveOverlays(A,V.batchId,Y)}))})).then((()=>({batchId:E.batchId,changes:jA(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let p=c.Vu[c.currentUser.toKey()];p||(p=new wt(De)),p=p.insert(h,d),c.Vu[c.currentUser.toKey()]=p})(r,a.batchId,n),await _h(r,a.changes),await vh(r.remoteStore)}catch(a){const o=d_(a,"Failed to persist write");n.reject(o)}}async function PI(t,e){const n=ke(t);try{const r=await dV(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=n.Au.get(o);c&&(xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?xe(c.hu,14607):a.removedDocuments.size>0&&(xe(c.hu,42227),c.hu=!1))})),await _h(n,r,e)}catch(r){await Eo(r)}}function RT(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=ke(c);d.onlineState=h;let p=!1;d.queries.forEach(((v,_)=>{for(const E of _.Sa)E.va(h)&&(p=!0)})),p&&p_(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function e6(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new wt(pe.comparator);c=c.insert(o,Dt.newNoDocument(o,Te.min()));const h=Be().add(o),d=new Lm(Te.min(),new Map,new wt(De),c,h);await PI(r,d),r.du=r.du.remove(o),r.Au.delete(e),v_(r)}else await cv(r.localStore,e,!1).then((()=>dv(r,e,n))).catch(Eo)}async function t6(t,e){const n=ke(t),r=e.batch.batchId;try{const a=await hV(n.localStore,e);VI(n,r,null),MI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _h(n,a)}catch(a){await Eo(a)}}async function n6(t,e,n){const r=ke(t);try{const a=await(function(c,h){const d=ke(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return d.mutationQueue.lookupMutationBatch(p,h).next((_=>(xe(_!==null,37113),v=_.keys(),d.mutationQueue.removeMutationBatch(p,_)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>d.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);VI(r,e,n),MI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _h(r,a)}catch(a){await Eo(a)}}function MI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function VI(t,e,n){const r=ke(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function dv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||zI(t,r)}))}function zI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(o_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),v_(t))}function CT(t,e,n){for(const r of n)r instanceof kI?(t.Ru.addReference(r.key,e),r6(t,r)):r instanceof OI?(ue(y_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||zI(t,r.key)):_e(19791,{wu:r})}function r6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ue(y_,"New document in limbo: "+n),t.Eu.add(r),v_(t))}function v_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(et.fromString(e)),r=t.fu.next();t.Au.set(r,new GV(n)),t.du=t.du.insert(n,r),AI(t.remoteStore,new Fs(br(mh(n.path)),r,"TargetPurposeLimboResolution",vr.ce))}}async function _h(t,e,n){const r=ke(t),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{c.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){a.push(p);const v=i_.As(d.targetId,p);o.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(d,p){const v=ke(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>B.forEach(p,(E=>B.forEach(E.Es,(A=>v.persistence.referenceDelegate.addReference(_,E.targetId,A))).next((()=>B.forEach(E.ds,(A=>v.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))))))}catch(_){if(!sa(_))throw _;ue(a_,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const A=v.Ms.get(E),M=A.snapshotVersion,D=A.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(E,D)}}})(r.localStore,o))}async function s6(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ue(y_,"User change. New user:",e.toKey());const r=await xI(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new de(ee.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _h(n,r.Ls)}}function i6(t,e){const n=ke(t),r=n.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let a=Be();const o=n.Iu.get(e);if(!o)return a;for(const c of o){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function LI(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e6.bind(null,e),e.Pu.H_=BV.bind(null,e.eventManager),e.Pu.yu=qV.bind(null,e.eventManager),e}function UI(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n6.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bI(this.persistence,new _I,e.initialUser,this.serializer)}Cu(e){return new r_(Bm.mi,this.serializer)}Du(e){return new EI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class a6 extends th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof nm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new r_((r=>nm.mi(r,n)),this.serializer)}}class o6 extends th{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await UI(this.xu.syncEngine),await vh(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return bI(this.persistence,new _I,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new mI(r,e.asyncQueue,n)}Mu(e,n){const r=new f4(n,this.persistence);return new d4(e.asyncQueue,r)}Cu(e){const n=oV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new s_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,wV(),Nf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new EI}}class sm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s6.bind(null,this.syncEngine),await LV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FV})()}createDatastore(e){const n=qm(e.databaseInfo.databaseId),r=(function(o){return new xV(o)})(e.databaseInfo);return(function(o,c,h,d){return new AV(o,c,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,c,h){return new NV(r,a,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>RT(this.syncEngine,n,0)),(function(){return ET.v()?new ET:new yV})())}createSyncEngine(e,n){return(function(a,o,c,h,d,p,v){const _=new KV(a,o,c,h,d,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ke(n);ue(vo,"RemoteStore shutting down."),r.Ea.add(5),await yh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sm.provider={build:()=>new sm};class __{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const na="FirestoreClient";class l6{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=Vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ue(na,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ue(na,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ey(t,e){t.asyncQueue.verifyOperationInProgress(),ue(na,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await xI(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function DT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await c6(t);ue(na,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>ST(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>ST(e.remoteStore,a))),t._onlineComponents=e}async function c6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(na,"Using user provided OfflineComponentProvider");try{await Ey(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ee.FAILED_PRECONDITION||a.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await Ey(t,new th)}}else ue(na,"Using default OfflineComponentProvider"),await Ey(t,new a6(void 0));return t._offlineComponents}async function FI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(na,"Using user provided OnlineComponentProvider"),await DT(t,t._uninitializedComponentsProvider._online)):(ue(na,"Using default OnlineComponentProvider"),await DT(t,new sm))),t._onlineComponents}function u6(t){return FI(t).then((e=>e.syncEngine))}async function im(t){const e=await FI(t),n=e.eventManager;return n.onListen=QV.bind(null,e.syncEngine),n.onUnlisten=XV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JV.bind(null,e.syncEngine),n}function h6(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,p){const v=new __({next:E=>{v.Nu(),c.enqueueAndForget((()=>m_(o,_)));const A=E.docs.has(h);!A&&E.fromCache?p.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&d&&d.source==="server"?p.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new g_(mh(h.path),v,{includeMetadataChanges:!0,qa:!0});return f_(o,_)})(await im(t),t.asyncQueue,e,n,r))),r.promise}function d6(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,p){const v=new __({next:E=>{v.Nu(),c.enqueueAndForget((()=>m_(o,_))),E.fromCache&&d.source==="server"?p.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new g_(h,v,{includeMetadataChanges:!0,qa:!0});return f_(o,_)})(await im(t),t.asyncQueue,e,n,r))),r.promise}function BI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const kT=new Map;const qI="firestore.googleapis.com",OT=!0;class jT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qI,this.ssl=OT}else this.host=e.host,this.ssl=e.ssl??OT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$M)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new XP;switch(r.type){case"firstParty":return new t4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=kT.get(n);r&&(ue("ComponentProvider","Removing Datastore"),kT.delete(n),r.terminate())})(this),Promise.resolve()}}function f6(t,e,n,r={}){t=er(t,Hm);const a=nc(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(DS(`https://${h}`),kS("Firestore",!0)),o.host!==qI&&o.host!==h&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:r};if(!oo(d,c)&&(t._setSettings(d),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=mn.MOCK_USER;else{p=Ij(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(_)}t._authCredentials=new JP(new YS(p,v))}}class Ws{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hh(n,zt._jsonSchema))return new zt(e,r||null,new pe(et.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Zt("string",zt._jsonSchemaVersion),referencePath:Zt("string")};class Xi extends Ws{constructor(e,n,r){super(e,n,mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new pe(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function b_(t,e,...n){if(t=wn(t),JS("collection","path",e),t instanceof Hm){const r=et.fromString(e,...n);return TE(r),new Xi(t,null,r)}{if(!(t instanceof zt||t instanceof Xi))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return TE(r),new Xi(t.firestore,null,r)}}function lc(t,e,...n){if(t=wn(t),arguments.length===1&&(e=Vv.newId()),JS("doc","path",e),t instanceof Hm){const r=et.fromString(e,...n);return EE(r),new zt(t,null,new pe(r))}{if(!(t instanceof zt||t instanceof Xi))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return EE(r),new zt(t.firestore,t instanceof Xi?t.converter:null,new pe(r))}}const PT="AsyncQueue";class MT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TI(this,"async_queue_retry"),this._c=()=>{const r=Nf();r&&ue(PT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Nf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sa(e))throw e;ue(PT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Nn("INTERNAL UNHANDLED ERROR: ",VT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=h_.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&_e(47125,{Pc:VT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function zT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Zs extends Hm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new MT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MT(e),this._firestoreClient=void 0,await e}}}function m6(t,e){const n=typeof t=="object"?t:US(),r=typeof t=="string"?t:Gf,a=Pv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=Sj("firestore");o&&f6(a,...o)}return a}function Gm(t){if(t._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$I(t),t._firestoreClient}function $I(t){const e=t._freezeSettings(),n=(function(a,o,c,h){return new B4(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,BI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new l6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}function p6(t,e){uo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return g6(t,sm.provider,{build:r=>new o6(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function g6(t,e,n){if((t=er(t,Zs))._firestoreClient||t._terminated)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new de(ee.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},$I(t)}class yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yr(Yt.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yr(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hh(e,yr._jsonSchema))return yr.fromBase64String(e.bytes)}}yr._jsonSchemaVersion="firestore/bytes/1.0",yr._jsonSchema={type:Zt("string",yr._jsonSchemaVersion),bytes:Zt("string")};class x_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class w_{constructor(e){this._methodName=e}}class ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ms._jsonSchemaVersion}}static fromJSON(e){if(hh(e,ms._jsonSchema))return new ms(e.latitude,e.longitude)}}ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:Zt("string",ms._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};class ps{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hh(e,ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ps(e.vectorValues);throw new de(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:Zt("string",ps._jsonSchemaVersion),vectorValues:Zt("object")};const y6=/^__.*__$/;class v6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new ac(e,this.data,n,this.fieldTransforms)}}function HI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class E_{constructor(e,n,r,a,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new E_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return am(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HI(this.Ac)&&y6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qm(e)}Cc(e,n,r,a=!1){return new E_({Ac:e,methodName:n,Dc:r,path:St.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Km(t){const e=t._freezeSettings(),n=qm(t._databaseId);return new _6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GI(t,e,n,r,a,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);YI("Data must be an object, but it was:",c,r);const h=QI(r,c);let d,p;if(o.merge)d=new _r(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const _ of o.mergeFields){const E=b6(e,_,n);if(!c.contains(E))throw new de(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);w6(v,E)||v.push(E)}d=new _r(v),p=c.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,p=c.fieldTransforms;return new v6(new Ln(h),d,p)}class T_ extends w_{_toFieldTransform(e){return new FA(e.path,new ql)}isEqual(e){return e instanceof T_}}function KI(t,e,n,r=!1){return S_(n,t.Cc(r?4:3,e))}function S_(t,e){if(ZI(t=wn(t)))return YI("Unsupported field value:",e,t),QI(t,e);if(t instanceof w_)return(function(r,a){if(!HI(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const h of r){let d=S_(h,a.wc(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ot.fromDate(r);return{timestampValue:Gl(a.serializer,o)}}if(r instanceof ot){const o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gl(a.serializer,o)}}if(r instanceof ms)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yr)return{bytesValue:QA(a.serializer,r._byteString)};if(r instanceof zt){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ps)return(function(c,h){return{mapValue:{fields:{[$v]:{stringValue:Hv},[Ul]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Qv(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Am(r)}`)})(t,e)}function QI(t,e){const n={};return mA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,((r,a)=>{const o=S_(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function ZI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof ms||t instanceof yr||t instanceof zt||t instanceof w_||t instanceof ps)}function YI(t,e,n){if(!ZI(n)||!WS(n)){const r=Am(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function b6(t,e,n){if((e=wn(e))instanceof x_)return e._internalPath;if(typeof e=="string")return XI(t,e);throw am("Field path arguments must be of type string or ",t,!1,void 0,n)}const x6=new RegExp("[~\\*/\\[\\]]");function XI(t,e,n){if(e.search(x6)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new x_(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function am(t,e,n,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${r}`),c&&(d+=` in document ${a}`),d+=")"),new de(ee.INVALID_ARGUMENT,h+t+d)}function w6(t,e){return t.some((n=>n.isEqual(e)))}class A_{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(JI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E6 extends A_{data(){return super.data()}}function JI(t,e){return typeof e=="string"?XI(t,e):e instanceof x_?e._internalPath:e._delegate._internalPath}function WI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I_{}class N_ extends I_{}function T6(t,e,...n){let r=[];e instanceof I_&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((d=>d instanceof C_)).length,h=o.filter((d=>d instanceof R_)).length;if(c>1||c>0&&h>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class R_ extends N_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new R_(e,n,r)}_apply(e){const n=this._parse(e);return eN(e._query,n),new Ws(e.firestore,e.converter,tv(e._query,n))}_parse(e){const n=Km(e.firestore);return(function(o,c,h,d,p,v,_){let E;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){UT(_,v);const M=[];for(const D of _)M.push(LT(d,o,D));E={arrayValue:{values:M}}}else E=LT(d,o,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||UT(_,v),E=KI(h,c,_,v==="in"||v==="not-in");return Qe.create(p,v,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class C_ extends I_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:lt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const d of h)eN(c,d),c=tv(c,d)})(e._query,n),new Ws(e.firestore,e.converter,tv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D_ extends N_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new D_(e,n,r)}_apply(e){return new Ws(e.firestore,e.converter,Yf(e._query,this._limit,this._limitType))}}function S6(t){return l4("limit",t),D_._create("limit",t,"F")}class k_ extends N_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new k_(e,n,r)}_apply(e){const n=I6(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(function(a,o){return new ic(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)})(e._query,n))}}function A6(...t){return k_._create("startAfter",t,!1)}function I6(t,e,n,r){if(n[0]=wn(n[0]),n[0]instanceof A_)return(function(o,c,h,d,p){if(!d)throw new de(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const _ of Nl(o))if(_.field.isKeyField())v.push(fo(c,d.key));else{const E=d.data.field(_.field);if(km(E))throw new de(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const A=_.field.canonicalString();throw new de(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}v.push(E)}return new ea(v,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=Km(t.firestore);return(function(c,h,d,p,v,_){const E=c.explicitOrderBy;if(v.length>E.length)throw new de(ee.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let M=0;M<v.length;M++){const D=v[M];if(E[M].field.isKeyField()){if(typeof D!="string")throw new de(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof D}`);if(!Kv(c)&&D.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${D}' contains a slash.`);const V=c.path.child(et.fromString(D));if(!pe.isDocumentKey(V))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const Y=new pe(V);A.push(fo(h,Y))}else{const V=KI(d,p,D);A.push(V)}}return new ea(A,_)})(t._query,t.firestore._databaseId,a,e,n,r)}}function LT(t,e,n){if(typeof(n=wn(n))=="string"){if(n==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kv(e)&&n.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(et.fromString(n));if(!pe.isDocumentKey(r))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fo(t,new pe(r))}if(n instanceof zt)return fo(t,n._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Am(n)}.`)}function UT(t,e){if(!Array.isArray(t)||t.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eN(t,e){const n=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class N6{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Ul].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new ps(n)}convertGeoPoint(e){return new ms(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Om(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);xe(sI(r),9688,{name:e});const a=new ho(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return a.isEqual(n)||Nn(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function tN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class to extends A_{constructor(e,n,r,a,o,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(JI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=to._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}to._jsonSchemaVersion="firestore/documentSnapshot/1.0",to._jsonSchema={type:Zt("string",to._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Rf extends to{data(e={}){return super.data(e)}}class no{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Nu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Rf(this._firestore,this._userDataWriter,r.key,r,new Nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new Rf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Nu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Rf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Nu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:R6(h.type),doc:d,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=no._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function R6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}function C6(t){t=er(t,zt);const e=er(t.firestore,Zs);return h6(Gm(e),t._key).then((n=>sN(e,t,n)))}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Zt("string",no._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class O_ extends N6{constructor(e){super(),this.firestore=e}convertBytes(e){return new yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function D6(t){t=er(t,Ws);const e=er(t.firestore,Zs),n=Gm(e),r=new O_(e);return WI(t._query),d6(n,t._query).then((a=>new no(e,r,t,a)))}function nN(t,e,n){t=er(t,zt);const r=er(t.firestore,Zs),a=tN(t.converter,e,n);return j_(r,[GI(Km(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Rn.none())])}function k6(t){return j_(er(t.firestore,Zs),[new zm(t._key,Rn.none())])}function O6(t,e){const n=er(t.firestore,Zs),r=lc(t),a=tN(t.converter,e);return j_(n,[GI(Km(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then((()=>r))}function rN(t,...e){t=wn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||zT(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(zT(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,c,h;if(t instanceof zt)c=er(t.firestore,Zs),h=mh(t._key.path),o={next:d=>{e[r]&&e[r](sN(c,t,d))},error:e[r+1],complete:e[r+2]};else{const d=er(t,Ws);c=er(d.firestore,Zs),h=d._query;const p=new O_(c);o={next:v=>{e[r]&&e[r](new no(c,p,d,v))},error:e[r+1],complete:e[r+2]},WI(t._query)}return(function(p,v,_,E){const A=new __(E),M=new g_(v,A,_);return p.asyncQueue.enqueueAndForget((async()=>f_(await im(p),M))),()=>{A.Nu(),p.asyncQueue.enqueueAndForget((async()=>m_(await im(p),M)))}})(Gm(c),h,a,o)}function j_(t,e){return(function(r,a){const o=new fs;return r.asyncQueue.enqueueAndForget((async()=>WV(await u6(r),a,o))),o.promise})(Gm(t),e)}function sN(t,e,n){const r=n.docs.get(e._key),a=new O_(t);return new to(t,a,e._key,r,new Nu(n.hasPendingWrites,n.fromCache),e.converter)}function iN(){return new T_("serverTimestamp")}(function(e,n=!0){(function(a){sc=a})(rc),jl(new lo("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new Zs(new WP(r.getProvider("auth-internal")),new n4(c,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(p.options.projectId,v)})(c,a),c);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Qi(_E,bE,e),Qi(_E,bE,"esm2020")})();var j6="firebase",P6="12.7.0";Qi(j6,P6,"app");function aN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M6=aN,oN=new ch("auth","Firebase",aN());const om=new Ov("@firebase/auth");function V6(t,...e){om.logLevel<=Ke.WARN&&om.warn(`Auth (${rc}): ${t}`,...e)}function Cf(t,...e){om.logLevel<=Ke.ERROR&&om.error(`Auth (${rc}): ${t}`,...e)}function vs(t,...e){throw M_(t,...e)}function Ur(t,...e){return M_(t,...e)}function P_(t,e,n){const r={...M6(),[e]:n};return new ch("auth","Firebase",r).create(e,{appName:t.name})}function ro(t){return P_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&vs(t,"argument-error"),P_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function M_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oN.create(t,...e)}function Ce(t,e,...n){if(!t)throw M_(e,...n)}function Bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cf(e),new Error(e)}function Ys(t,e){t||Bs(e)}function fv(){return typeof self<"u"&&self.location?.href||""}function L6(){return FT()==="http:"||FT()==="https:"}function FT(){return typeof self<"u"&&self.location?.protocol||null}function U6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L6()||kj()||"connection"in navigator)?navigator.onLine:!0}function F6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ys(n>e,"Short delay should be less than long delay!"),this.isMobile=Cj()||Oj()}get(){return U6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V_(t,e){Ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const B6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const q6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$6=new bh(3e4,6e4);function z_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function cc(t,e,n,r,a={}){return cN(t,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const h=uh({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...o};return Dj()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&nc(t.emulatorConfig.host)&&(p.credentials="include"),lN.fetch()(await uN(t,t.config.apiHost,n,h),p)})}async function cN(t,e,n){t._canInitEmulator=!1;const r={...B6,...e};try{const a=new G6(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw hf(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw hf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw hf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw hf(t,"user-disabled",c);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw P_(t,v,p);vs(t,v)}}catch(a){if(a instanceof Xs)throw a;vs(t,"network-request-failed",{message:String(a)})}}async function H6(t,e,n,r,a={}){const o=await cc(t,e,n,r,a);return"mfaPendingCredential"in o&&vs(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function uN(t,e,n,r){const a=`${e}${n}?${r}`,o=t,c=o.config.emulator?V_(t.config,a):`${t.config.apiScheme}://${a}`;return q6.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class G6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),$6.get())})}}function hf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ur(t,e,r);return a.customData._tokenResponse=n,a}async function K6(t,e){return cc(t,"POST","/v1/accounts:delete",e)}async function lm(t,e){return cc(t,"POST","/v1/accounts:lookup",e)}function zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q6(t,e=!1){const n=wn(t),r=await n.getIdToken(e),a=L_(r);Ce(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:zu(Ty(a.auth_time)),issuedAtTime:zu(Ty(a.iat)),expirationTime:zu(Ty(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ty(t){return Number(t)*1e3}function L_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const a=AS(n);return a?JSON.parse(a):(Cf("Failed to decode base64 JWT payload"),null)}catch(a){return Cf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function BT(t){const e=L_(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xs&&Z6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Y6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cm(t){const e=t.auth,n=await t.getIdToken(),r=await nh(t,lm(e,{idToken:n}));Ce(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?hN(a.providerUserInfo):[],c=J6(t.providerData,o),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,p=h?d:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new mv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function X6(t){const e=wn(t);await cm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J6(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function hN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function W6(t,e){const n=await cN(t,{},async()=>{const r=uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=await uN(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&nc(t.emulatorConfig.host)&&(d.credentials="include"),lN.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function e3(t,e){return cc(t,"POST","/v2/accounts:revokeToken",z_(t,e))}class Cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=BT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await W6(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,c=new Cl;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ce(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Ce(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cl,this.toJSON())}_performRefresh(){return Bs("not implemented")}}function Li(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Lr{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new Y6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new mv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await nh(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q6(this,e)}reload(){return X6(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(ro(this.auth));const e=await this.getIdToken();return await nh(this,K6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:A,providerData:M,stsTokenManager:D}=n;Ce(_&&D,e,"internal-error");const V=Cl.fromJSON(this.name,D);Ce(typeof _=="string",e,"internal-error"),Li(r,e.name),Li(a,e.name),Ce(typeof E=="boolean",e,"internal-error"),Ce(typeof A=="boolean",e,"internal-error"),Li(o,e.name),Li(c,e.name),Li(h,e.name),Li(d,e.name),Li(p,e.name),Li(v,e.name);const Y=new Lr({uid:_,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:A,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:V,createdAt:p,lastLoginAt:v});return M&&Array.isArray(M)&&(Y.providerData=M.map(Q=>({...Q}))),d&&(Y._redirectEventId=d),Y}static async _fromIdTokenResponse(e,n,r=!1){const a=new Cl;a.updateFromServerResponse(n);const o=new Lr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await cm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ce(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?hN(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Cl;h.updateFromIdToken(r);const d=new Lr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new mv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,p),d}}const qT=new Map;function qs(t){Ys(t instanceof Function,"Expected a class definition");let e=qT.get(t);return e?(Ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qT.set(t,e),e)}class dN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dN.type="NONE";const $T=dN;function Df(t,e,n){return`firebase:${t}:${e}:${n}`}class Dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Df(this.userKey,a.apiKey,o),this.fullPersistenceKey=Df("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lm(this.auth,{idToken:e}).catch(()=>{});return n?Lr._fromGetAccountInfoResponse(this.auth,n,e):null}return Lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Dl(qs($T),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||qs($T);const c=Df(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const v=await p._get(c);if(v){let _;if(typeof v=="string"){const E=await lm(e,{idToken:v}).catch(()=>{});if(!E)break;_=await Lr._fromGetAccountInfoResponse(e,E,v)}else _=Lr._fromJSON(e,v);p!==o&&(h=_),o=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Dl(o,e,r):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Dl(o,e,r))}}function HT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vN(e))return"Blackberry";if(_N(e))return"Webos";if(mN(e))return"Safari";if((e.includes("chrome/")||pN(e))&&!e.includes("edge/"))return"Chrome";if(yN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fN(t=tn()){return/firefox\//i.test(t)}function mN(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pN(t=tn()){return/crios\//i.test(t)}function gN(t=tn()){return/iemobile/i.test(t)}function yN(t=tn()){return/android/i.test(t)}function vN(t=tn()){return/blackberry/i.test(t)}function _N(t=tn()){return/webos/i.test(t)}function U_(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function t3(t=tn()){return U_(t)&&!!window.navigator?.standalone}function n3(){return jj()&&document.documentMode===10}function bN(t=tn()){return U_(t)||yN(t)||_N(t)||vN(t)||/windows phone/i.test(t)||gN(t)}function xN(t,e=[]){let n;switch(t){case"Browser":n=HT(tn());break;case"Worker":n=`${HT(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rc}/${r}`}class r3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,h)=>{try{const d=e(o);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function s3(t,e={}){return cc(t,"GET","/v2/passwordPolicy",z_(t,e))}const i3=6;class a3{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??i3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class o3{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GT(this),this.idTokenSubscription=new GT(this),this.beforeStateQueue=new r3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lm(this,{idToken:e}),r=await Lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(ro(this));const n=e?wn(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s3(this),n=new a3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ch("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await e3(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qs(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Dl.create(this,[qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&V6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qm(t){return wn(t)}class GT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Uj(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let F_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l3(t){F_=t}function c3(t){return F_.loadJS(t)}function u3(){return F_.gapiScript}function h3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function d3(t,e){const n=Pv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(oo(o,e??{}))return a;vs(a,"already-initialized")}return n.initialize({options:e})}function f3(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(qs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function m3(t,e,n){const r=Qm(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=wN(e),{host:c,port:h}=p3(e),d=h===null?"":`:${h}`,p={url:`${o}//${c}${d}/`},v=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(oo(p,r.config.emulator)&&oo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,nc(c)?(DS(`${o}//${c}${d}`),kS("Auth",!0)):g3()}function wN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function p3(t){const e=wN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:KT(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:KT(c)}}}function KT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function g3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class EN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bs("not implemented")}_getIdTokenResponse(e){return Bs("not implemented")}_linkToIdToken(e,n){return Bs("not implemented")}_getReauthenticationResolver(e){return Bs("not implemented")}}async function kl(t,e){return H6(t,"POST","/v1/accounts:signInWithIdp",z_(t,e))}const y3="http://localhost";class _o extends EN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const c=new _o(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return kl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,kl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kl(e,n)}buildRequest(){const e={requestUri:y3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uh(n)}return e}}class B_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xh extends B_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fi extends xh{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";class Us extends xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";class Bi extends xh{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";class qi extends xh{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qi.credential(n,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";class Ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Lr._fromIdTokenResponse(e,r,a),c=QT(r);return new Ql({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=QT(r);return new Ql({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function QT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class um extends Xs{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,um.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new um(e,n,r,a)}}function TN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?um._fromErrorAndOperation(t,o,e,r):o})}async function v3(t,e,n=!1){const r=await nh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ql._forOperation(t,"link",r)}async function _3(t,e,n=!1){const{auth:r}=t;if(zr(r.app))return Promise.reject(ro(r));const a="reauthenticate";try{const o=await nh(t,TN(r,a,e,t),n);Ce(o.idToken,r,"internal-error");const c=L_(o.idToken);Ce(c,r,"internal-error");const{sub:h}=c;return Ce(t.uid===h,r,"user-mismatch"),Ql._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&vs(r,"user-mismatch"),o}}async function b3(t,e,n=!1){if(zr(t.app))return Promise.reject(ro(t));const r="signIn",a=await TN(t,r,e),o=await Ql._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}function x3(t,e,n,r){return wn(t).onIdTokenChanged(e,n,r)}function w3(t,e,n){return wn(t).beforeAuthStateChanged(e,n)}function SN(t,e,n,r){return wn(t).onAuthStateChanged(e,n,r)}function E3(t){return wn(t).signOut()}const hm="__sak";class AN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hm,"1"),this.storage.removeItem(hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const T3=1e3,S3=10;class IN extends AN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);n3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,S3):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},T3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IN.type="LOCAL";const A3=IN;class NN extends AN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NN.type="SESSION";const RN=NN;function I3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Zm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Zm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async p=>p(n.origin,o)),d=await I3(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zm.receivers=[];function q_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class N3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const p=q_("",20);a.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(v),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function gs(){return window}function R3(t){gs().location.href=t}function CN(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function C3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D3(){return navigator?.serviceWorker?.controller||null}function k3(){return CN()?self:null}const DN="firebaseLocalStorageDb",O3=1,dm="firebaseLocalStorage",kN="fbase_key";class wh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ym(t,e){return t.transaction([dm],e?"readwrite":"readonly").objectStore(dm)}function j3(){const t=indexedDB.deleteDatabase(DN);return new wh(t).toPromise()}function pv(){const t=indexedDB.open(DN,O3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dm,{keyPath:kN})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dm)?e(r):(r.close(),await j3(),e(await pv()))})})}async function ZT(t,e,n){const r=Ym(t,!0).put({[kN]:e,value:n});return new wh(r).toPromise()}async function P3(t,e){const n=Ym(t,!1).get(e),r=await new wh(n).toPromise();return r===void 0?null:r.value}function YT(t,e){const n=Ym(t,!0).delete(e);return new wh(n).toPromise()}const M3=800,V3=3;class ON{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>V3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zm._getInstance(k3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await C3(),!this.activeServiceWorker)return;this.sender=new N3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||D3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pv();return await ZT(e,hm,"1"),await YT(e,hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ZT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>P3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Ym(a,!1).getAll();return new wh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ON.type="LOCAL";const z3=ON;new bh(3e4,6e4);function jN(t,e){return e?qs(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class $_ extends EN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function L3(t){return b3(t.auth,new $_(t),t.bypassAuthState)}function U3(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),_3(n,new $_(t),t.bypassAuthState)}async function F3(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),v3(n,new $_(t),t.bypassAuthState)}class PN{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L3;case"linkViaPopup":case"linkViaRedirect":return F3;case"reauthViaPopup":case"reauthViaRedirect":return U3;default:vs(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const B3=new bh(2e3,1e4);async function q3(t,e,n){if(zr(t.app))return Promise.reject(Ur(t,"operation-not-supported-in-this-environment"));const r=Qm(t);z6(t,e,B_);const a=jN(r,n);return new Ya(r,"signInViaPopup",e,a).executeNotNull()}class Ya extends PN{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B3.get())};e()}}Ya.currentPopupAction=null;const $3="pendingRedirect",kf=new Map;class H3 extends PN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kf.get(this.auth._key());if(!e){try{const r=await G3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kf.set(this.auth._key(),e)}return this.bypassAuthState||kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G3(t,e){const n=Z3(e),r=Q3(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function K3(t,e){kf.set(t._key(),e)}function Q3(t){return qs(t._redirectPersistence)}function Z3(t){return Df($3,t.config.apiKey,t.name)}async function Y3(t,e,n=!1){if(zr(t.app))return Promise.reject(ro(t));const r=Qm(t),a=jN(r,e),c=await new H3(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const X3=600*1e3;class J3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!MN(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ur(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X3&&this.cachedEventUids.clear(),this.cachedEventUids.has(XT(e))}saveEventToCache(e){this.cachedEventUids.add(XT(e)),this.lastProcessedEventTime=Date.now()}}function XT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function W3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MN(t);default:return!1}}async function ez(t,e={}){return cc(t,"GET","/v1/projects",e)}const tz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nz=/^https?/;async function rz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ez(t);for(const n of e)try{if(sz(n))return}catch{}vs(t,"unauthorized-domain")}function sz(t){const e=fv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!nz.test(n))return!1;if(tz.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const iz=new bh(3e4,6e4);function JT(){const t=gs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function az(t){return new Promise((e,n)=>{function r(){JT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JT(),n(Ur(t,"network-request-failed"))},timeout:iz.get()})}if(gs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gs().gapi?.load)r();else{const a=h3("iframefcb");return gs()[a]=()=>{gapi.load?r():n(Ur(t,"network-request-failed"))},c3(`${u3()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw Of=null,e})}let Of=null;function oz(t){return Of=Of||az(t),Of}const lz=new bh(5e3,15e3),cz="__/auth/iframe",uz="emulator/auth/iframe",hz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fz(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?V_(e,uz):`https://${t.config.authDomain}/${cz}`,r={apiKey:e.apiKey,appName:t.name,v:rc},a=dz.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${uh(r).slice(1)}`}async function mz(t){const e=await oz(t),n=gs().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:fz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hz,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Ur(t,"network-request-failed"),h=gs().setTimeout(()=>{o(c)},lz.get());function d(){gs().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(c)})}))}const pz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gz=500,yz=600,vz="_blank",_z="http://localhost";class WT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bz(t,e,n,r=gz,a=yz){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...pz,width:r.toString(),height:a.toString(),top:o,left:c},p=tn().toLowerCase();n&&(h=pN(p)?vz:n),fN(p)&&(e=e||_z,d.scrollbars="yes");const v=Object.entries(d).reduce((E,[A,M])=>`${E}${A}=${M},`,"");if(t3(p)&&h!=="_self")return xz(e||"",h),new WT(null);const _=window.open(e||"",h,v);Ce(_,t,"popup-blocked");try{_.focus()}catch{}return new WT(_)}function xz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const wz="__/auth/handler",Ez="emulator/auth/handler",Tz=encodeURIComponent("fac");async function e1(t,e,n,r,a,o){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rc,eventId:a};if(e instanceof B_){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Lj(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof xh){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const d=await t._getAppCheckToken(),p=d?`#${Tz}=${encodeURIComponent(d)}`:"";return`${Sz(t)}?${uh(h).slice(1)}${p}`}function Sz({config:t}){return t.emulator?V_(t,Ez):`https://${t.authDomain}/${wz}`}const Sy="webStorageSupport";class Az{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RN,this._completeRedirectFn=Y3,this._overrideRedirectResult=K3}async _openPopup(e,n,r,a){Ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await e1(e,n,r,fv(),a);return bz(e,o,q_())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await e1(e,n,r,fv(),a);return R3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Ys(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mz(e),r=new J3(e);return n.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sy,{type:Sy},a=>{const o=a?.[0]?.[Sy];o!==void 0&&n(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bN()||mN()||U_()}}const Iz=Az;var t1="@firebase/auth",n1="1.12.0";class Nz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cz(t){jl(new lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xN(t)},p=new o3(r,a,o,d);return f3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jl(new lo("auth-internal",e=>{const n=Qm(e.getProvider("auth").getImmediate());return(r=>new Nz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(t1,n1,Rz(t)),Qi(t1,n1,"esm2020")}const Dz=300,kz=CS("authIdTokenMaxAge")||Dz;let r1=null;const Oz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kz)return;const a=n?.token;r1!==a&&(r1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function jz(t=US()){const e=Pv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=d3(t,{popupRedirectResolver:Iz,persistence:[z3,A3,RN]}),r=CS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=Oz(o.toString());w3(n,c,()=>c(n.currentUser)),x3(n,h=>c(h))}}const a=NS("auth");return a&&m3(n,`http://${a}`),n}function Pz(){return document.getElementsByTagName("head")?.[0]??document}l3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Ur("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",Pz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cz("Browser");const Mz={apiKey:"AIzaSyBn06ZTtPhI0iJhPKeQwDH1TTRdhPZiBn0",authDomain:"paddleup-thechallenge.firebaseapp.com",projectId:"paddleup-thechallenge",storageBucket:void 0,messagingSenderId:"490973136832",appId:"1:490973136832:web:1811051408fdde8fbcea25",measurementId:"G-D3YR1YJXPN"},VN=mE().length?mE()[0]:LS(Mz),ei=m6(VN),jf=jz(VN);typeof window<"u"&&p6(ei).catch(t=>{console.debug("IndexedDB persistence not enabled:",t?.code??t?.message??t)});function zN(t,e,n){const r=b_(t,e);return n?r.withConverter(n):r}async function Vz(t,e,n){const r=lc(ei,t,e),a=n?r.withConverter(n):r,o=await C6(a);return o.exists()?o.data():null}async function LN(t,e,n){const r=zN(ei,t,n);return(await O6(r,e)).id}async function zz(t,e,n,r){const a=lc(ei,t,e),o=r?a.withConverter(r):a;await nN(o,n)}async function Lz(t,e,n,r){const a=lc(ei,t,e),o=r?a.withConverter(r):a;await nN(o,n,{merge:!0})}async function Uz(t,e){const n=lc(ei,t,e);await k6(n)}async function Fz(t,e){const{pageSize:n=20,cursor:r=null,additionalConstraints:a=[],converter:o}=e??{},c=zN(ei,t,o),h=[S6(n),...a];r&&h.push(A6(r));const d=T6(c,...h),p=await D6(d),v=p.docs.map(E=>E.data()),_=p.docs[p.docs.length-1]??null;return{docs:v,nextCursor:_?_.id:null}}function re(t,e,n){function r(h,d){if(h._zod||Object.defineProperty(h,"_zod",{value:{def:d,constr:c,traits:new Set},enumerable:!1}),h._zod.traits.has(t))return;h._zod.traits.add(t),e(h,d);const p=c.prototype,v=Object.keys(p);for(let _=0;_<v.length;_++){const E=v[_];E in h||(h[E]=p[E].bind(h))}}const a=n?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:t});function c(h){var d;const p=n?.Parent?new o:this;r(p,h),(d=p._zod).deferred??(d.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:h=>n?.Parent&&h instanceof n.Parent?!0:h?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class Ol extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class UN extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const FN={};function bo(t){return FN}function BN(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,a])=>e.indexOf(+r)===-1).map(([r,a])=>a)}function gv(t,e){return typeof e=="bigint"?e.toString():e}function H_(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function G_(t){return t==null}function K_(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Bz(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const o=n>a?n:a,c=Number.parseInt(t.toFixed(o).replace(".","")),h=Number.parseInt(e.toFixed(o).replace(".",""));return c%h/10**o}const s1=Symbol("evaluating");function ct(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==s1)return r===void 0&&(r=s1,r=n()),r},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function Ao(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function aa(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function i1(t){return JSON.stringify(t)}function qz(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const qN="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function fm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const $z=H_(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function rh(t){if(fm(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(fm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function $N(t){return rh(t)?{...t}:Array.isArray(t)?[...t]:t}const Hz=new Set(["string","number","symbol"]);function Zl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function oa(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Ee(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Gz(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Kz={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Qz(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=aa(t._zod.def,{get shape(){const c={};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&(c[h]=n.shape[h])}return Ao(this,"shape",c),c},checks:[]});return oa(t,o)}function Zz(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=aa(t._zod.def,{get shape(){const c={...t._zod.def.shape};for(const h in e){if(!(h in n.shape))throw new Error(`Unrecognized key: "${h}"`);e[h]&&delete c[h]}return Ao(this,"shape",c),c},checks:[]});return oa(t,o)}function Yz(t,e){if(!rh(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const o=t._zod.def.shape;for(const c in e)if(Object.getOwnPropertyDescriptor(o,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=aa(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return Ao(this,"shape",o),o}});return oa(t,a)}function Xz(t,e){if(!rh(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=aa(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return Ao(this,"shape",r),r}});return oa(t,n)}function Jz(t,e){const n=aa(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Ao(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return oa(t,n)}function Wz(t,e,n){const a=e._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=aa(e._zod.def,{get shape(){const h=e._zod.def.shape,d={...h};if(n)for(const p in n){if(!(p in h))throw new Error(`Unrecognized key: "${p}"`);n[p]&&(d[p]=t?new t({type:"optional",innerType:h[p]}):h[p])}else for(const p in h)d[p]=t?new t({type:"optional",innerType:h[p]}):h[p];return Ao(this,"shape",d),d},checks:[]});return oa(e,c)}function eL(t,e,n){const r=aa(e._zod.def,{get shape(){const a=e._zod.def.shape,o={...a};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(o[c]=new t({type:"nonoptional",innerType:a[c]}))}else for(const c in a)o[c]=new t({type:"nonoptional",innerType:a[c]});return Ao(this,"shape",o),o}});return oa(e,r)}function Il(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function HN(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function df(t){return typeof t=="string"?t:t?.message}function xo(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const a=df(t.inst?._zod.def?.error?.(t))??df(e?.error?.(t))??df(n.customError?.(t))??df(n.localeError?.(t))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Q_(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function sh(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const GN=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,gv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},KN=re("$ZodError",GN),QN=re("$ZodError",GN,{Parent:Error});function tL(t,e=n=>n.message){const n={},r=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}function nL(t,e=n=>n.message){const n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(c=>r({issues:c}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(e(o));else{let c=n,h=0;for(;h<o.path.length;){const d=o.path[h];h===o.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(e(o))):c[d]=c[d]||{_errors:[]},c=c[d],h++}}};return r(t),n}const Z_=t=>(e,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise)throw new Ol;if(c.issues.length){const h=new(a?.Err??t)(c.issues.map(d=>xo(d,o,bo())));throw qN(h,a?.callee),h}return c.value},Y_=t=>async(e,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},o);if(c instanceof Promise&&(c=await c),c.issues.length){const h=new(a?.Err??t)(c.issues.map(d=>xo(d,o,bo())));throw qN(h,a?.callee),h}return c.value},Xm=t=>(e,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Ol;return o.issues.length?{success:!1,error:new(t??KN)(o.issues.map(c=>xo(c,a,bo())))}:{success:!0,data:o.value}},rL=Xm(QN),Jm=t=>async(e,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(c=>xo(c,a,bo())))}:{success:!0,data:o.value}},sL=Jm(QN),iL=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Z_(t)(e,n,a)},aL=t=>(e,n,r)=>Z_(t)(e,n,r),oL=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Y_(t)(e,n,a)},lL=t=>async(e,n,r)=>Y_(t)(e,n,r),cL=t=>(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Xm(t)(e,n,a)},uL=t=>(e,n,r)=>Xm(t)(e,n,r),hL=t=>async(e,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Jm(t)(e,n,a)},dL=t=>async(e,n,r)=>Jm(t)(e,n,r),fL=/^[cC][^\s-]{8,}$/,mL=/^[0-9a-z]+$/,pL=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,gL=/^[0-9a-vA-V]{20}$/,yL=/^[A-Za-z0-9]{27}$/,vL=/^[a-zA-Z0-9_-]{21}$/,_L=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,bL=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,a1=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,xL=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,wL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function EL(){return new RegExp(wL,"u")}const TL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,SL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,AL=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,IL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,NL=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,ZN=/^[A-Za-z0-9_-]*$/,RL=/^\+[1-9]\d{6,14}$/,YN="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",CL=new RegExp(`^${YN}$`);function XN(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function DL(t){return new RegExp(`^${XN(t)}$`)}function kL(t){const e=XN({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${YN}T(?:${r})$`)}const OL=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},jL=/^-?\d+$/,PL=/^-?\d+(?:\.\d+)?$/,ML=/^[^A-Z]*$/,VL=/^[^a-z]*$/,Un=re("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),JN={number:"number",bigint:"bigint",object:"date"},WN=re("$ZodCheckLessThan",(t,e)=>{Un.init(t,e);const n=JN[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?a.maximum=e.value:a.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),eR=re("$ZodCheckGreaterThan",(t,e)=>{Un.init(t,e);const n=JN[typeof e.value];t._zod.onattach.push(r=>{const a=r._zod.bag,o=(e.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?a.minimum=e.value:a.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),zL=re("$ZodCheckMultipleOf",(t,e)=>{Un.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):Bz(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),LL=re("$ZodCheckNumberFormat",(t,e)=>{Un.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[a,o]=Kz[e.format];t._zod.onattach.push(c=>{const h=c._zod.bag;h.format=e.format,h.minimum=a,h.maximum=o,n&&(h.pattern=jL)}),t._zod.check=c=>{const h=c.value;if(n){if(!Number.isInteger(h)){c.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?c.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):c.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}h<a&&c.issues.push({origin:"number",input:h,code:"too_small",minimum:a,inclusive:!0,inst:t,continue:!e.abort}),h>o&&c.issues.push({origin:"number",input:h,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),UL=re("$ZodCheckMaxLength",(t,e)=>{var n;Un.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!G_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const a=r.value;if(a.length<=e.maximum)return;const c=Q_(a);r.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),FL=re("$ZodCheckMinLength",(t,e)=>{var n;Un.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!G_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const a=r.value;if(a.length>=e.minimum)return;const c=Q_(a);r.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),BL=re("$ZodCheckLengthEquals",(t,e)=>{var n;Un.init(t,e),(n=t._zod.def).when??(n.when=r=>{const a=r.value;return!G_(a)&&a.length!==void 0}),t._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=r=>{const a=r.value,o=a.length;if(o===e.length)return;const c=Q_(a),h=o>e.length;r.issues.push({origin:c,...h?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Wm=re("$ZodCheckStringFormat",(t,e)=>{var n,r;Un.init(t,e),t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),qL=re("$ZodCheckRegex",(t,e)=>{Wm.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),$L=re("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=ML),Wm.init(t,e)}),HL=re("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=VL),Wm.init(t,e)}),GL=re("$ZodCheckIncludes",(t,e)=>{Un.init(t,e);const n=Zl(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),KL=re("$ZodCheckStartsWith",(t,e)=>{Un.init(t,e);const n=new RegExp(`^${Zl(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),QL=re("$ZodCheckEndsWith",(t,e)=>{Un.init(t,e);const n=new RegExp(`.*${Zl(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),ZL=re("$ZodCheckOverwrite",(t,e)=>{Un.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class YL{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(c=>c),a=Math.min(...r.map(c=>c.length-c.trimStart().length)),o=r.map(c=>c.slice(a)).map(c=>" ".repeat(this.indent*2)+c);for(const c of o)this.content.push(c)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...n,a.join(`
`))}}const XL={major:4,minor:3,patch:5},kt=re("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=XL;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const o of a._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(c,h,d)=>{let p=Il(c),v;for(const _ of h){if(_._zod.def.when){if(!_._zod.def.when(c))continue}else if(p)continue;const E=c.issues.length,A=_._zod.check(c);if(A instanceof Promise&&d?.async===!1)throw new Ol;if(v||A instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await A,c.issues.length!==E&&(p||(p=Il(c,E)))});else{if(c.issues.length===E)continue;p||(p=Il(c,E))}}return v?v.then(()=>c):c},o=(c,h,d)=>{if(Il(c))return c.aborted=!0,c;const p=a(h,r,d);if(p instanceof Promise){if(d.async===!1)throw new Ol;return p.then(v=>t._zod.parse(v,d))}return t._zod.parse(p,d)};t._zod.run=(c,h)=>{if(h.skipChecks)return t._zod.parse(c,h);if(h.direction==="backward"){const p=t._zod.parse({value:c.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(v=>o(v,c,h)):o(p,c,h)}const d=t._zod.parse(c,h);if(d instanceof Promise){if(h.async===!1)throw new Ol;return d.then(p=>a(p,r,h))}return a(d,r,h)}}ct(t,"~standard",()=>({validate:a=>{try{const o=rL(t,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return sL(t,a).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}))}),X_=re("$ZodString",(t,e)=>{kt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??OL(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Et=re("$ZodStringFormat",(t,e)=>{Wm.init(t,e),X_.init(t,e)}),JL=re("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=bL),Et.init(t,e)}),WL=re("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=a1(r))}else e.pattern??(e.pattern=a1());Et.init(t,e)}),eU=re("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=xL),Et.init(t,e)}),tU=re("$ZodURL",(t,e)=>{Et.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),nU=re("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=EL()),Et.init(t,e)}),rU=re("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=vL),Et.init(t,e)}),sU=re("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=fL),Et.init(t,e)}),iU=re("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=mL),Et.init(t,e)}),aU=re("$ZodULID",(t,e)=>{e.pattern??(e.pattern=pL),Et.init(t,e)}),oU=re("$ZodXID",(t,e)=>{e.pattern??(e.pattern=gL),Et.init(t,e)}),lU=re("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=yL),Et.init(t,e)}),cU=re("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=kL(e)),Et.init(t,e)}),uU=re("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=CL),Et.init(t,e)}),hU=re("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=DL(e)),Et.init(t,e)}),dU=re("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=_L),Et.init(t,e)}),fU=re("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=TL),Et.init(t,e),t._zod.bag.format="ipv4"}),mU=re("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=SL),Et.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),pU=re("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=AL),Et.init(t,e)}),gU=re("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=IL),Et.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,o]=r;if(!o)throw new Error;const c=Number(o);if(`${c}`!==o)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function tR(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const yU=re("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=NL),Et.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{tR(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function vU(t){if(!ZN.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return tR(n)}const _U=re("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=ZN),Et.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{vU(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),bU=re("$ZodE164",(t,e)=>{e.pattern??(e.pattern=RL),Et.init(t,e)});function xU(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const wU=re("$ZodJWT",(t,e)=>{Et.init(t,e),t._zod.check=n=>{xU(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),nR=re("$ZodNumber",(t,e)=>{kt.init(t,e),t._zod.pattern=t._zod.bag.pattern??PL,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:t,...o?{received:o}:{}}),n}}),EU=re("$ZodNumberFormat",(t,e)=>{LL.init(t,e),nR.init(t,e)}),TU=re("$ZodUnknown",(t,e)=>{kt.init(t,e),t._zod.parse=n=>n}),SU=re("$ZodNever",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),AU=re("$ZodDate",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}const a=n.value,o=a instanceof Date;return o&&!Number.isNaN(a.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:a,...o?{received:"Invalid Date"}:{},inst:t}),n}});function o1(t,e,n){t.issues.length&&e.issues.push(...HN(n,t.issues)),e.value[n]=t.value}const IU=re("$ZodArray",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const o=[];for(let c=0;c<a.length;c++){const h=a[c],d=e.element._zod.run({value:h,issues:[]},r);d instanceof Promise?o.push(d.then(p=>o1(p,n,c))):o1(d,n,c)}return o.length?Promise.all(o).then(()=>n):n}});function mm(t,e,n,r,a){if(t.issues.length){if(a&&!(n in r))return;e.issues.push(...HN(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function rR(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=Gz(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function sR(t,e,n,r,a,o){const c=[],h=a.keySet,d=a.catchall._zod,p=d.def.type,v=d.optout==="optional";for(const _ in e){if(h.has(_))continue;if(p==="never"){c.push(_);continue}const E=d.run({value:e[_],issues:[]},r);E instanceof Promise?t.push(E.then(A=>mm(A,n,_,e,v))):mm(E,n,_,e,v)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:o}),t.length?Promise.all(t).then(()=>n):n}const NU=re("$ZodObject",(t,e)=>{if(kt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const h=e.shape;Object.defineProperty(e,"shape",{get:()=>{const d={...h};return Object.defineProperty(e,"shape",{value:d}),d}})}const r=H_(()=>rR(e));ct(t._zod,"propValues",()=>{const h=e.shape,d={};for(const p in h){const v=h[p]._zod;if(v.values){d[p]??(d[p]=new Set);for(const _ of v.values)d[p].add(_)}}return d});const a=fm,o=e.catchall;let c;t._zod.parse=(h,d)=>{c??(c=r.value);const p=h.value;if(!a(p))return h.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),h;h.value={};const v=[],_=c.shape;for(const E of c.keys){const A=_[E],M=A._zod.optout==="optional",D=A._zod.run({value:p[E],issues:[]},d);D instanceof Promise?v.push(D.then(V=>mm(V,h,E,p,M))):mm(D,h,E,p,M)}return o?sR(v,p,h,d,r.value,t):v.length?Promise.all(v).then(()=>h):h}}),RU=re("$ZodObjectJIT",(t,e)=>{NU.init(t,e);const n=t._zod.parse,r=H_(()=>rR(e)),a=E=>{const A=new YL(["shape","payload","ctx"]),M=r.value,D=J=>{const ae=i1(J);return`shape[${ae}]._zod.run({ value: input[${ae}], issues: [] }, ctx)`};A.write("const input = payload.value;");const V=Object.create(null);let Y=0;for(const J of M.keys)V[J]=`key_${Y++}`;A.write("const newResult = {};");for(const J of M.keys){const ae=V[J],le=i1(J),N=E[J]?._zod?.optout==="optional";A.write(`const ${ae} = ${D(J)};`),N?A.write(`
        if (${ae}.issues.length) {
          if (${le} in input) {
            payload.issues = payload.issues.concat(${ae}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${le}, ...iss.path] : [${le}]
            })));
          }
        }
        
        if (${ae}.value === undefined) {
          if (${le} in input) {
            newResult[${le}] = undefined;
          }
        } else {
          newResult[${le}] = ${ae}.value;
        }
        
      `):A.write(`
        if (${ae}.issues.length) {
          payload.issues = payload.issues.concat(${ae}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${le}, ...iss.path] : [${le}]
          })));
        }
        
        if (${ae}.value === undefined) {
          if (${le} in input) {
            newResult[${le}] = undefined;
          }
        } else {
          newResult[${le}] = ${ae}.value;
        }
        
      `)}A.write("payload.value = newResult;"),A.write("return payload;");const Q=A.compile();return(J,ae)=>Q(E,J,ae)};let o;const c=fm,h=!FN.jitless,p=h&&$z.value,v=e.catchall;let _;t._zod.parse=(E,A)=>{_??(_=r.value);const M=E.value;return c(M)?h&&p&&A?.async===!1&&A.jitless!==!0?(o||(o=a(e.shape)),E=o(E,A),v?sR([],M,E,A,_,t):E):n(E,A):(E.issues.push({expected:"object",code:"invalid_type",input:M,inst:t}),E)}});function l1(t,e,n,r){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const a=t.filter(o=>!Il(o));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(o=>o.issues.map(c=>xo(c,r,bo())))}),e)}const CU=re("$ZodUnion",(t,e)=>{kt.init(t,e),ct(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),ct(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),ct(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),ct(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>K_(o.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(a,o)=>{if(n)return r(a,o);let c=!1;const h=[];for(const d of e.options){const p=d._zod.run({value:a.value,issues:[]},o);if(p instanceof Promise)h.push(p),c=!0;else{if(p.issues.length===0)return p;h.push(p)}}return c?Promise.all(h).then(d=>l1(d,a,t,o)):l1(h,a,t,o)}}),DU=re("$ZodIntersection",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>{const a=n.value,o=e.left._zod.run({value:a,issues:[]},r),c=e.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||c instanceof Promise?Promise.all([o,c]).then(([d,p])=>c1(n,d,p)):c1(n,o,c)}});function yv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(rh(t)&&rh(e)){const n=Object.keys(e),r=Object.keys(t).filter(o=>n.indexOf(o)!==-1),a={...t,...e};for(const o of r){const c=yv(t[o],e[o]);if(!c.valid)return{valid:!1,mergeErrorPath:[o,...c.mergeErrorPath]};a[o]=c.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const a=t[r],o=e[r],c=yv(a,o);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function c1(t,e,n){const r=new Map;let a;for(const h of e.issues)if(h.code==="unrecognized_keys"){a??(a=h);for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else t.issues.push(h);for(const h of n.issues)if(h.code==="unrecognized_keys")for(const d of h.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else t.issues.push(h);const o=[...r].filter(([,h])=>h.l&&h.r).map(([h])=>h);if(o.length&&a&&t.issues.push({...a,keys:o}),Il(t))return t;const c=yv(e.value,n.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return t.value=c.data,t}const kU=re("$ZodEnum",(t,e)=>{kt.init(t,e);const n=BN(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(a=>Hz.has(typeof a)).map(a=>typeof a=="string"?Zl(a):a.toString()).join("|")})$`),t._zod.parse=(a,o)=>{const c=a.value;return r.has(c)||a.issues.push({code:"invalid_value",values:n,input:c,inst:t}),a}}),OU=re("$ZodLiteral",(t,e)=>{if(kt.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?Zl(r):r?Zl(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,a)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),r}}),jU=re("$ZodTransform",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new UN(t.constructor.name);const a=e.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(c=>(n.value=c,n));if(a instanceof Promise)throw new Ol;return n.value=a,n}});function u1(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const iR=re("$ZodOptional",(t,e)=>{kt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",ct(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),ct(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${K_(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>u1(o,n.value)):u1(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),PU=re("$ZodExactOptional",(t,e)=>{iR.init(t,e),ct(t._zod,"values",()=>e.innerType._zod.values),ct(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),MU=re("$ZodNullable",(t,e)=>{kt.init(t,e),ct(t._zod,"optin",()=>e.innerType._zod.optin),ct(t._zod,"optout",()=>e.innerType._zod.optout),ct(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${K_(n.source)}|null)$`):void 0}),ct(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),VU=re("$ZodDefault",(t,e)=>{kt.init(t,e),t._zod.optin="optional",ct(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>h1(o,e)):h1(a,e)}});function h1(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const zU=re("$ZodPrefault",(t,e)=>{kt.init(t,e),t._zod.optin="optional",ct(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),LU=re("$ZodNonOptional",(t,e)=>{kt.init(t,e),ct(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>d1(o,t)):d1(a,t)}});function d1(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const UU=re("$ZodCatch",(t,e)=>{kt.init(t,e),ct(t._zod,"optin",()=>e.innerType._zod.optin),ct(t._zod,"optout",()=>e.innerType._zod.optout),ct(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=e.catchValue({...n,error:{issues:o.issues.map(c=>xo(c,r,bo()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(o=>xo(o,r,bo()))},input:n.value}),n.issues=[]),n)}}),FU=re("$ZodPipe",(t,e)=>{kt.init(t,e),ct(t._zod,"values",()=>e.in._zod.values),ct(t._zod,"optin",()=>e.in._zod.optin),ct(t._zod,"optout",()=>e.out._zod.optout),ct(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=e.out._zod.run(n,r);return o instanceof Promise?o.then(c=>ff(c,e.in,r)):ff(o,e.in,r)}const a=e.in._zod.run(n,r);return a instanceof Promise?a.then(o=>ff(o,e.out,r)):ff(a,e.out,r)}});function ff(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const BU=re("$ZodReadonly",(t,e)=>{kt.init(t,e),ct(t._zod,"propValues",()=>e.innerType._zod.propValues),ct(t._zod,"values",()=>e.innerType._zod.values),ct(t._zod,"optin",()=>e.innerType?._zod?.optin),ct(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const a=e.innerType._zod.run(n,r);return a instanceof Promise?a.then(f1):f1(a)}});function f1(t){return t.value=Object.freeze(t.value),t}const qU=re("$ZodCustom",(t,e)=>{Un.init(t,e),kt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,a=e.fn(r);if(a instanceof Promise)return a.then(o=>m1(o,n,r,t));m1(a,n,r,t)}});function m1(t,e,n,r){if(!t){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),e.issues.push(sh(a))}}var p1;class $U{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function HU(){return new $U}(p1=globalThis).__zod_globalRegistry??(p1.__zod_globalRegistry=HU());const Ru=globalThis.__zod_globalRegistry;function GU(t,e){return new t({type:"string",...Ee(e)})}function KU(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ee(e)})}function g1(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ee(e)})}function QU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ee(e)})}function ZU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ee(e)})}function YU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ee(e)})}function XU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ee(e)})}function JU(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ee(e)})}function WU(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ee(e)})}function e5(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ee(e)})}function t5(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ee(e)})}function n5(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ee(e)})}function r5(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ee(e)})}function s5(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ee(e)})}function i5(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ee(e)})}function a5(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ee(e)})}function o5(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ee(e)})}function l5(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ee(e)})}function c5(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ee(e)})}function u5(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ee(e)})}function h5(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ee(e)})}function d5(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ee(e)})}function f5(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ee(e)})}function m5(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ee(e)})}function p5(t,e){return new t({type:"string",format:"date",check:"string_format",...Ee(e)})}function g5(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ee(e)})}function y5(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ee(e)})}function v5(t,e){return new t({type:"number",checks:[],...Ee(e)})}function _5(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ee(e)})}function b5(t){return new t({type:"unknown"})}function x5(t,e){return new t({type:"never",...Ee(e)})}function w5(t,e){return new t({type:"date",...Ee(e)})}function y1(t,e){return new WN({check:"less_than",...Ee(e),value:t,inclusive:!1})}function Pf(t,e){return new WN({check:"less_than",...Ee(e),value:t,inclusive:!0})}function v1(t,e){return new eR({check:"greater_than",...Ee(e),value:t,inclusive:!1})}function Mf(t,e){return new eR({check:"greater_than",...Ee(e),value:t,inclusive:!0})}function _1(t,e){return new zL({check:"multiple_of",...Ee(e),value:t})}function aR(t,e){return new UL({check:"max_length",...Ee(e),maximum:t})}function pm(t,e){return new FL({check:"min_length",...Ee(e),minimum:t})}function oR(t,e){return new BL({check:"length_equals",...Ee(e),length:t})}function E5(t,e){return new qL({check:"string_format",format:"regex",...Ee(e),pattern:t})}function T5(t){return new $L({check:"string_format",format:"lowercase",...Ee(t)})}function S5(t){return new HL({check:"string_format",format:"uppercase",...Ee(t)})}function A5(t,e){return new GL({check:"string_format",format:"includes",...Ee(e),includes:t})}function I5(t,e){return new KL({check:"string_format",format:"starts_with",...Ee(e),prefix:t})}function N5(t,e){return new QL({check:"string_format",format:"ends_with",...Ee(e),suffix:t})}function uc(t){return new ZL({check:"overwrite",tx:t})}function R5(t){return uc(e=>e.normalize(t))}function C5(){return uc(t=>t.trim())}function D5(){return uc(t=>t.toLowerCase())}function k5(){return uc(t=>t.toUpperCase())}function O5(){return uc(t=>qz(t))}function j5(t,e,n){return new t({type:"array",element:e,...Ee(n)})}function P5(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Ee(n)})}function M5(t){const e=V5(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(sh(r,n.value,e._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(sh(a))}},t(n.value,n)));return e}function V5(t,e){const n=new Un({check:"custom",...Ee(e)});return n._zod.check=t,n}function lR(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Ru,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function yn(t,e,n={path:[],schemaPath:[]}){var r;const a=t._zod.def,o=e.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,c);const h=t._zod.toJSONSchema?.();if(h)c.schema=h;else{const v={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,c.schema,v);else{const E=c.schema,A=e.processors[a.type];if(!A)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);A(t,e,E,v)}const _=t._zod.parent;_&&(c.ref||(c.ref=_),yn(_,e,v),e.seen.get(_).isParent=!0)}const d=e.metadataRegistry.get(t);return d&&Object.assign(c.schema,d),e.io==="input"&&An(t)&&(delete c.schema.examples,delete c.schema.default),e.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,e.seen.get(t).schema}function cR(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const c of t.seen.entries()){const h=t.metadataRegistry.get(c[0])?.id;if(h){const d=r.get(h);if(d&&d!==c[0])throw new Error(`Duplicate schema id "${h}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(h,c[0])}}const a=c=>{const h=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const _=t.external.registry.get(c[0])?.id,E=t.external.uri??(M=>M);if(_)return{ref:E(_)};const A=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=A,{defId:A,ref:`${E("__shared")}#/${h}/${A}`}}if(c[1]===n)return{ref:"#"};const p=`#/${h}/`,v=c[1].schema.id??`__schema${t.counter++}`;return{defId:v,ref:p+v}},o=c=>{if(c[1].schema.$ref)return;const h=c[1],{ref:d,defId:p}=a(c);h.def={...h.schema},p&&(h.defId=p);const v=h.schema;for(const _ in v)delete v[_];v.$ref=d};if(t.cycles==="throw")for(const c of t.seen.entries()){const h=c[1];if(h.cycle)throw new Error(`Cycle detected: #/${h.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const h=c[1];if(e===c[0]){o(c);continue}if(t.external){const p=t.external.registry.get(c[0])?.id;if(e!==c[0]&&p){o(c);continue}}if(t.metadataRegistry.get(c[0])?.id){o(c);continue}if(h.cycle){o(c);continue}if(h.count>1&&t.reused==="ref"){o(c);continue}}}function uR(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=c=>{const h=t.seen.get(c);if(h.ref===null)return;const d=h.def??h.schema,p={...d},v=h.ref;if(h.ref=null,v){r(v);const E=t.seen.get(v),A=E.schema;if(A.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(A)):Object.assign(d,A),Object.assign(d,p),c._zod.parent===v)for(const D in d)D==="$ref"||D==="allOf"||D in p||delete d[D];if(A.$ref)for(const D in d)D==="$ref"||D==="allOf"||D in E.def&&JSON.stringify(d[D])===JSON.stringify(E.def[D])&&delete d[D]}const _=c._zod.parent;if(_&&_!==v){r(_);const E=t.seen.get(_);if(E?.schema.$ref&&(d.$ref=E.schema.$ref,E.def))for(const A in d)A==="$ref"||A==="allOf"||A in E.def&&JSON.stringify(d[A])===JSON.stringify(E.def[A])&&delete d[A]}t.override({zodSchema:c,jsonSchema:d,path:h.path??[]})};for(const c of[...t.seen.entries()].reverse())r(c[0]);const a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const c=t.external.registry.get(e)?.id;if(!c)throw new Error("Schema is missing an `id` property");a.$id=t.external.uri(c)}Object.assign(a,n.def??n.schema);const o=t.external?.defs??{};for(const c of t.seen.entries()){const h=c[1];h.def&&h.defId&&(o[h.defId]=h.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?a.$defs=o:a.definitions=o);try{const c=JSON.parse(JSON.stringify(a));return Object.defineProperty(c,"~standard",{value:{...e["~standard"],jsonSchema:{input:gm(e,"input",t.processors),output:gm(e,"output",t.processors)}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function An(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return An(r.element,n);if(r.type==="set")return An(r.valueType,n);if(r.type==="lazy")return An(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return An(r.innerType,n);if(r.type==="intersection")return An(r.left,n)||An(r.right,n);if(r.type==="record"||r.type==="map")return An(r.keyType,n)||An(r.valueType,n);if(r.type==="pipe")return An(r.in,n)||An(r.out,n);if(r.type==="object"){for(const a in r.shape)if(An(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(An(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(An(a,n))return!0;return!!(r.rest&&An(r.rest,n))}return!1}const z5=(t,e={})=>n=>{const r=lR({...n,processors:e});return yn(t,r),cR(r,t),uR(r,t)},gm=(t,e,n={})=>r=>{const{libraryOptions:a,target:o}=r??{},c=lR({...a??{},target:o,io:e,processors:n});return yn(t,c),cR(c,t),uR(c,t)},L5={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},U5=(t,e,n,r)=>{const a=n;a.type="string";const{minimum:o,maximum:c,format:h,patterns:d,contentEncoding:p}=t._zod.bag;if(typeof o=="number"&&(a.minLength=o),typeof c=="number"&&(a.maxLength=c),h&&(a.format=L5[h]??h,a.format===""&&delete a.format,h==="time"&&delete a.format),p&&(a.contentEncoding=p),d&&d.size>0){const v=[...d];v.length===1?a.pattern=v[0].source:v.length>1&&(a.allOf=[...v.map(_=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:_.source}))])}},F5=(t,e,n,r)=>{const a=n,{minimum:o,maximum:c,format:h,multipleOf:d,exclusiveMaximum:p,exclusiveMinimum:v}=t._zod.bag;typeof h=="string"&&h.includes("int")?a.type="integer":a.type="number",typeof v=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.minimum=v,a.exclusiveMinimum=!0):a.exclusiveMinimum=v),typeof o=="number"&&(a.minimum=o,typeof v=="number"&&e.target!=="draft-04"&&(v>=o?delete a.minimum:delete a.exclusiveMinimum)),typeof p=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(a.maximum=p,a.exclusiveMaximum=!0):a.exclusiveMaximum=p),typeof c=="number"&&(a.maximum=c,typeof p=="number"&&e.target!=="draft-04"&&(p<=c?delete a.maximum:delete a.exclusiveMaximum)),typeof d=="number"&&(a.multipleOf=d)},B5=(t,e,n,r)=>{n.not={}},q5=(t,e,n,r)=>{},$5=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},H5=(t,e,n,r)=>{const a=t._zod.def,o=BN(a.entries);o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),n.enum=o},G5=(t,e,n,r)=>{const a=t._zod.def,o=[];for(const c of a.values)if(c===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof c=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(c))}else o.push(c);if(o.length!==0)if(o.length===1){const c=o[0];n.type=c===null?"null":typeof c,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[c]:n.const=c}else o.every(c=>typeof c=="number")&&(n.type="number"),o.every(c=>typeof c=="string")&&(n.type="string"),o.every(c=>typeof c=="boolean")&&(n.type="boolean"),o.every(c=>c===null)&&(n.type="null"),n.enum=o},K5=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Q5=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Z5=(t,e,n,r)=>{const a=n,o=t._zod.def,{minimum:c,maximum:h}=t._zod.bag;typeof c=="number"&&(a.minItems=c),typeof h=="number"&&(a.maxItems=h),a.type="array",a.items=yn(o.element,e,{...r,path:[...r.path,"items"]})},Y5=(t,e,n,r)=>{const a=n,o=t._zod.def;a.type="object",a.properties={};const c=o.shape;for(const p in c)a.properties[p]=yn(c[p],e,{...r,path:[...r.path,"properties",p]});const h=new Set(Object.keys(c)),d=new Set([...h].filter(p=>{const v=o.shape[p]._zod;return e.io==="input"?v.optin===void 0:v.optout===void 0}));d.size>0&&(a.required=Array.from(d)),o.catchall?._zod.def.type==="never"?a.additionalProperties=!1:o.catchall?o.catchall&&(a.additionalProperties=yn(o.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(a.additionalProperties=!1)},X5=(t,e,n,r)=>{const a=t._zod.def,o=a.inclusive===!1,c=a.options.map((h,d)=>yn(h,e,{...r,path:[...r.path,o?"oneOf":"anyOf",d]}));o?n.oneOf=c:n.anyOf=c},J5=(t,e,n,r)=>{const a=t._zod.def,o=yn(a.left,e,{...r,path:[...r.path,"allOf",0]}),c=yn(a.right,e,{...r,path:[...r.path,"allOf",1]}),h=p=>"allOf"in p&&Object.keys(p).length===1,d=[...h(o)?o.allOf:[o],...h(c)?c.allOf:[c]];n.allOf=d},W5=(t,e,n,r)=>{const a=t._zod.def,o=yn(a.innerType,e,r),c=e.seen.get(t);e.target==="openapi-3.0"?(c.ref=a.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},e9=(t,e,n,r)=>{const a=t._zod.def;yn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},t9=(t,e,n,r)=>{const a=t._zod.def;yn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},n9=(t,e,n,r)=>{const a=t._zod.def;yn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},r9=(t,e,n,r)=>{const a=t._zod.def;yn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType;let c;try{c=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},s9=(t,e,n,r)=>{const a=t._zod.def,o=e.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;yn(o,e,r);const c=e.seen.get(t);c.ref=o},i9=(t,e,n,r)=>{const a=t._zod.def;yn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType,n.readOnly=!0},hR=(t,e,n,r)=>{const a=t._zod.def;yn(a.innerType,e,r);const o=e.seen.get(t);o.ref=a.innerType},a9=re("ZodISODateTime",(t,e)=>{cU.init(t,e),It.init(t,e)});function o9(t){return m5(a9,t)}const l9=re("ZodISODate",(t,e)=>{uU.init(t,e),It.init(t,e)});function c9(t){return p5(l9,t)}const u9=re("ZodISOTime",(t,e)=>{hU.init(t,e),It.init(t,e)});function h9(t){return g5(u9,t)}const d9=re("ZodISODuration",(t,e)=>{dU.init(t,e),It.init(t,e)});function f9(t){return y5(d9,t)}const m9=(t,e)=>{KN.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>nL(t,n)},flatten:{value:n=>tL(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,gv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,gv,2)}},isEmpty:{get(){return t.issues.length===0}}})},Er=re("ZodError",m9,{Parent:Error}),p9=Z_(Er),g9=Y_(Er),y9=Xm(Er),v9=Jm(Er),_9=iL(Er),b9=aL(Er),x9=oL(Er),w9=lL(Er),E9=cL(Er),T9=uL(Er),S9=hL(Er),A9=dL(Er),Ot=re("ZodType",(t,e)=>(kt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:gm(t,"input"),output:gm(t,"output")}}),t.toJSONSchema=z5(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(aa(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>oa(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>p9(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>y9(t,n,r),t.parseAsync=async(n,r)=>g9(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>v9(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>_9(t,n,r),t.decode=(n,r)=>b9(t,n,r),t.encodeAsync=async(n,r)=>x9(t,n,r),t.decodeAsync=async(n,r)=>w9(t,n,r),t.safeEncode=(n,r)=>E9(t,n,r),t.safeDecode=(n,r)=>T9(t,n,r),t.safeEncodeAsync=async(n,r)=>S9(t,n,r),t.safeDecodeAsync=async(n,r)=>A9(t,n,r),t.refine=(n,r)=>t.check(b8(n,r)),t.superRefine=n=>t.check(x8(n)),t.overwrite=n=>t.check(uc(n)),t.optional=()=>E1(t),t.exactOptional=()=>o8(t),t.nullable=()=>T1(t),t.nullish=()=>E1(T1(t)),t.nonoptional=n=>f8(t,n),t.array=()=>J_(t),t.or=n=>W_([t,n]),t.and=n=>t8(t,n),t.transform=n=>S1(t,i8(n)),t.default=n=>u8(t,n),t.prefault=n=>d8(t,n),t.catch=n=>p8(t,n),t.pipe=n=>S1(t,n),t.readonly=()=>v8(t),t.describe=n=>{const r=t.clone();return Ru.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Ru.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Ru.get(t);const r=t.clone();return Ru.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),dR=re("_ZodString",(t,e)=>{X_.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(r,a,o)=>U5(t,r,a);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(E5(...r)),t.includes=(...r)=>t.check(A5(...r)),t.startsWith=(...r)=>t.check(I5(...r)),t.endsWith=(...r)=>t.check(N5(...r)),t.min=(...r)=>t.check(pm(...r)),t.max=(...r)=>t.check(aR(...r)),t.length=(...r)=>t.check(oR(...r)),t.nonempty=(...r)=>t.check(pm(1,...r)),t.lowercase=r=>t.check(T5(r)),t.uppercase=r=>t.check(S5(r)),t.trim=()=>t.check(C5()),t.normalize=(...r)=>t.check(R5(...r)),t.toLowerCase=()=>t.check(D5()),t.toUpperCase=()=>t.check(k5()),t.slugify=()=>t.check(O5())}),I9=re("ZodString",(t,e)=>{X_.init(t,e),dR.init(t,e),t.email=n=>t.check(KU(N9,n)),t.url=n=>t.check(JU(R9,n)),t.jwt=n=>t.check(f5($9,n)),t.emoji=n=>t.check(WU(C9,n)),t.guid=n=>t.check(g1(b1,n)),t.uuid=n=>t.check(QU(mf,n)),t.uuidv4=n=>t.check(ZU(mf,n)),t.uuidv6=n=>t.check(YU(mf,n)),t.uuidv7=n=>t.check(XU(mf,n)),t.nanoid=n=>t.check(e5(D9,n)),t.guid=n=>t.check(g1(b1,n)),t.cuid=n=>t.check(t5(k9,n)),t.cuid2=n=>t.check(n5(O9,n)),t.ulid=n=>t.check(r5(j9,n)),t.base64=n=>t.check(u5(F9,n)),t.base64url=n=>t.check(h5(B9,n)),t.xid=n=>t.check(s5(P9,n)),t.ksuid=n=>t.check(i5(M9,n)),t.ipv4=n=>t.check(a5(V9,n)),t.ipv6=n=>t.check(o5(z9,n)),t.cidrv4=n=>t.check(l5(L9,n)),t.cidrv6=n=>t.check(c5(U9,n)),t.e164=n=>t.check(d5(q9,n)),t.datetime=n=>t.check(o9(n)),t.date=n=>t.check(c9(n)),t.time=n=>t.check(h9(n)),t.duration=n=>t.check(f9(n))});function gn(t){return GU(I9,t)}const It=re("ZodStringFormat",(t,e)=>{Et.init(t,e),dR.init(t,e)}),N9=re("ZodEmail",(t,e)=>{eU.init(t,e),It.init(t,e)}),b1=re("ZodGUID",(t,e)=>{JL.init(t,e),It.init(t,e)}),mf=re("ZodUUID",(t,e)=>{WL.init(t,e),It.init(t,e)}),R9=re("ZodURL",(t,e)=>{tU.init(t,e),It.init(t,e)}),C9=re("ZodEmoji",(t,e)=>{nU.init(t,e),It.init(t,e)}),D9=re("ZodNanoID",(t,e)=>{rU.init(t,e),It.init(t,e)}),k9=re("ZodCUID",(t,e)=>{sU.init(t,e),It.init(t,e)}),O9=re("ZodCUID2",(t,e)=>{iU.init(t,e),It.init(t,e)}),j9=re("ZodULID",(t,e)=>{aU.init(t,e),It.init(t,e)}),P9=re("ZodXID",(t,e)=>{oU.init(t,e),It.init(t,e)}),M9=re("ZodKSUID",(t,e)=>{lU.init(t,e),It.init(t,e)}),V9=re("ZodIPv4",(t,e)=>{fU.init(t,e),It.init(t,e)}),z9=re("ZodIPv6",(t,e)=>{mU.init(t,e),It.init(t,e)}),L9=re("ZodCIDRv4",(t,e)=>{pU.init(t,e),It.init(t,e)}),U9=re("ZodCIDRv6",(t,e)=>{gU.init(t,e),It.init(t,e)}),F9=re("ZodBase64",(t,e)=>{yU.init(t,e),It.init(t,e)}),B9=re("ZodBase64URL",(t,e)=>{_U.init(t,e),It.init(t,e)}),q9=re("ZodE164",(t,e)=>{bU.init(t,e),It.init(t,e)}),$9=re("ZodJWT",(t,e)=>{wU.init(t,e),It.init(t,e)}),fR=re("ZodNumber",(t,e)=>{nR.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(r,a,o)=>F5(t,r,a),t.gt=(r,a)=>t.check(v1(r,a)),t.gte=(r,a)=>t.check(Mf(r,a)),t.min=(r,a)=>t.check(Mf(r,a)),t.lt=(r,a)=>t.check(y1(r,a)),t.lte=(r,a)=>t.check(Pf(r,a)),t.max=(r,a)=>t.check(Pf(r,a)),t.int=r=>t.check(x1(r)),t.safe=r=>t.check(x1(r)),t.positive=r=>t.check(v1(0,r)),t.nonnegative=r=>t.check(Mf(0,r)),t.negative=r=>t.check(y1(0,r)),t.nonpositive=r=>t.check(Pf(0,r)),t.multipleOf=(r,a)=>t.check(_1(r,a)),t.step=(r,a)=>t.check(_1(r,a)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function ym(t){return v5(fR,t)}const H9=re("ZodNumberFormat",(t,e)=>{EU.init(t,e),fR.init(t,e)});function x1(t){return _5(H9,t)}const G9=re("ZodUnknown",(t,e)=>{TU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>q5()});function w1(){return b5(G9)}const K9=re("ZodNever",(t,e)=>{SU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>B5(t,n,r)});function Q9(t){return x5(K9,t)}const Z9=re("ZodDate",(t,e)=>{AU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(r,a,o)=>$5(t,r),t.min=(r,a)=>t.check(Mf(r,a)),t.max=(r,a)=>t.check(Pf(r,a));const n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function Y9(t){return w5(Z9,t)}const X9=re("ZodArray",(t,e)=>{IU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>Z5(t,n,r,a),t.element=e.element,t.min=(n,r)=>t.check(pm(n,r)),t.nonempty=n=>t.check(pm(1,n)),t.max=(n,r)=>t.check(aR(n,r)),t.length=(n,r)=>t.check(oR(n,r)),t.unwrap=()=>t.element});function J_(t,e){return j5(X9,t,e)}const J9=re("ZodObject",(t,e)=>{RU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>Y5(t,n,r,a),ct(t,"shape",()=>e.shape),t.keyof=()=>n8(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:w1()}),t.loose=()=>t.clone({...t._zod.def,catchall:w1()}),t.strict=()=>t.clone({...t._zod.def,catchall:Q9()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Yz(t,n),t.safeExtend=n=>Xz(t,n),t.merge=n=>Jz(t,n),t.pick=n=>Qz(t,n),t.omit=n=>Zz(t,n),t.partial=(...n)=>Wz(mR,t,n[0]),t.required=(...n)=>eL(pR,t,n[0])});function ep(t,e){const n={type:"object",shape:t??{},...Ee(e)};return new J9(n)}const W9=re("ZodUnion",(t,e)=>{CU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>X5(t,n,r,a),t.options=e.options});function W_(t,e){return new W9({type:"union",options:t,...Ee(e)})}const e8=re("ZodIntersection",(t,e)=>{DU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>J5(t,n,r,a)});function t8(t,e){return new e8({type:"intersection",left:t,right:e})}const vv=re("ZodEnum",(t,e)=>{kU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(r,a,o)=>H5(t,r,a),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,a)=>{const o={};for(const c of r)if(n.has(c))o[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new vv({...e,checks:[],...Ee(a),entries:o})},t.exclude=(r,a)=>{const o={...e.entries};for(const c of r)if(n.has(c))delete o[c];else throw new Error(`Key ${c} not found in enum`);return new vv({...e,checks:[],...Ee(a),entries:o})}});function n8(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new vv({type:"enum",entries:n,...Ee(e)})}const r8=re("ZodLiteral",(t,e)=>{OU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>G5(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Lu(t,e){return new r8({type:"literal",values:Array.isArray(t)?t:[t],...Ee(e)})}const s8=re("ZodTransform",(t,e)=>{jU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>Q5(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new UN(t.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(sh(o,n.value,e));else{const c=o;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(sh(c))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function i8(t){return new s8({type:"transform",transform:t})}const mR=re("ZodOptional",(t,e)=>{iR.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>hR(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function E1(t){return new mR({type:"optional",innerType:t})}const a8=re("ZodExactOptional",(t,e)=>{PU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>hR(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function o8(t){return new a8({type:"optional",innerType:t})}const l8=re("ZodNullable",(t,e)=>{MU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>W5(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function T1(t){return new l8({type:"nullable",innerType:t})}const c8=re("ZodDefault",(t,e)=>{VU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>t9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function u8(t,e){return new c8({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():$N(e)}})}const h8=re("ZodPrefault",(t,e)=>{zU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>n9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function d8(t,e){return new h8({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():$N(e)}})}const pR=re("ZodNonOptional",(t,e)=>{LU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>e9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function f8(t,e){return new pR({type:"nonoptional",innerType:t,...Ee(e)})}const m8=re("ZodCatch",(t,e)=>{UU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>r9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function p8(t,e){return new m8({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const g8=re("ZodPipe",(t,e)=>{FU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>s9(t,n,r,a),t.in=e.in,t.out=e.out});function S1(t,e){return new g8({type:"pipe",in:t,out:e})}const y8=re("ZodReadonly",(t,e)=>{BU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>i9(t,n,r,a),t.unwrap=()=>t._zod.def.innerType});function v8(t){return new y8({type:"readonly",innerType:t})}const _8=re("ZodCustom",(t,e)=>{qU.init(t,e),Ot.init(t,e),t._zod.processJSONSchema=(n,r,a)=>K5(t,n)});function b8(t,e={}){return P5(_8,t,e)}function x8(t){return M5(t)}const w8=ep({id:gn().optional(),name:gn().min(1),dupr:ym().nonnegative().optional(),imageUrl:gn().optional(),createdAt:gn().optional()}),eb=W_([Lu(1),Lu(2),Lu(3)]),E8=ep({id:gn().optional(),team1Player1Id:gn(),team1Player2Id:gn(),team2Player1Id:gn(),team2Player2Id:gn(),team1Score:ym().nonnegative().optional(),team2Score:ym().nonnegative().optional(),courtId:gn().optional(),roundNumber:eb}),T8=ep({id:gn().optional(),playerIds:J_(gn()).length(4),roundNumber:eb,courtNumber:ym().positive()}),S8=W_([Lu("initial"),eb,Lu("standings")]),A8=ep({id:gn(),name:gn(),startDateTime:Y9(),location:gn().optional(),link:gn().optional(),ongoingStage:S8.optional(),standings:J_(gn()).optional()});function I8(t){if(t){if(typeof t?.toDate=="function")return t.toDate().toISOString();if(typeof t=="string")return t}}function N8(t){if(t){if(typeof t?.toDate=="function")return t.toDate();if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number"){const e=new Date(t);if(!isNaN(e.getTime()))return e}}}const R8={toFirestore(t){const{id:e,createdAt:n,...r}=t;return{...r,createdAt:n||iN()}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,name:n.name,dupr:n.dupr,imageUrl:n.imageUrl,createdAt:I8(n.createdAt)};return w8.parse(r)}},C8={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),r={id:t.id,...n};return E8.parse(r)}},D8={toFirestore(t){const{id:e,...n}=t;return{...n}},fromFirestore(t,e){const n=t.data(e),{playerIds:r,...a}=n,o={playerIds:Array.isArray(r)?r.map(String):[],...a,id:t.id};return T8.parse(o)}},k8={toFirestore(t){const{id:e,...n}=t,{startDateTime:r,...a}=n;return{...a,startDateTime:r||iN()}},fromFirestore(t,e){const n=t.data(e),r=new Date;try{N8(n.startDateTime)}catch{}const a={id:t.id,name:n.name,startDateTime:r,location:n.location,link:n.link,standings:Array.isArray(n.standings)?n.standings.map(String):void 0,label:n.label};return A8.parse(a)}};function gR(t,e,n){const r=[e];async function a(h){await t.cancelQueries({queryKey:[e,n]});const d=n?t.getQueryData([e,n]):null,p=t.getQueryData(r),v=h?.id??n,_=v?{...d,...h,id:v}:void 0;return _&&_.id&&(t.setQueryData([e,_.id],_),t.setQueryData(r,E=>{const A=E??[],M=A.findIndex(D=>D.id===_.id);if(M>=0){const D=[...A];return D[M]=_,D}return[_,...A]})),{previousItem:d,previousList:p}}function o(...h){const d=h[h.length-1];d?.previousItem&&n&&t.setQueryData([e,n],d.previousItem),d?.previousList?t.setQueryData(r,d.previousList):t.invalidateQueries({queryKey:r})}function c(...h){const d=h[0];if(typeof d=="string"&&d)t.invalidateQueries({queryKey:[e,d]});else if(d&&typeof d=="object"&&"id"in d){const p=d.id;p&&t.invalidateQueries({queryKey:[e,p]})}t.invalidateQueries({queryKey:r})}return{onMutate:a,onError:o,onSettled:c}}function yR(t,e,n){const r=Jl(),o=iS({queryKey:[t,n],queryFn:async()=>!n||!t?null:Vz(t,n,e),enabled:!!n,staleTime:1e3*60}),c=t?gR(r,t,n):void 0,h=bm({mutationFn:async d=>{if(!t)return d;if(d?.id)return await zz(t,d.id,d,e),d;{const p=await LN(t,d,e);return{...d,id:p}}},onMutate:c?.onMutate,onError:c?.onError,onSettled:c?.onSettled});return{...o,upsert:h.mutateAsync,upsertState:{status:h.status,error:h.error??null}}}function vR(t,e){const n=iS({queryKey:[t],queryFn:async()=>t?(await Fz(t,{pageSize:1e3,converter:e})).docs:[],staleTime:6e4,enabled:!!t});return t?n:{...n,data:[],isLoading:!1,error:new Error("Missing collectionName")}}function _R(t,e){const n=Jl(),r=bm({mutationFn:async a=>await LN(t,a,e),onMutate:async a=>{await n.cancelQueries({queryKey:[t]});const o=n.getQueryData([t]),c=`__tmp__${Date.now()}`,h={...a,id:c};return n.setQueryData([t],d=>[h,...d??[]]),{previousList:o}},onError:(a,o,c)=>{c?.previousList?n.setQueryData([t],c.previousList):n.invalidateQueries({queryKey:[t]})},onSettled:a=>{n.invalidateQueries({queryKey:[t]}),a&&n.invalidateQueries({queryKey:[t,a]})}});return{create:r.mutateAsync,status:r.status,error:r.error??null}}function bR(t,e){const n=Jl(),r=gR(n,t),a=bm({mutationFn:async o=>{const c=o.id;if(!c)throw new Error("id required for update");await Lz(t,c,o,e)},onMutate:r.onMutate,onError:r.onError,onSettled:r.onSettled});return{update:a.mutateAsync,status:a.status,error:a.error??null}}function xR(t){const e=Jl(),n=bm({mutationFn:async r=>{if(!r)throw new Error("id required for delete");await Uz(t,r)},onMutate:async r=>{if(!r)return{};await e.cancelQueries({queryKey:[t]});const a=e.getQueryData([t,r]),o=e.getQueryData([t]);return o&&e.setQueryData([t],o.filter(c=>c.id!==r)),e.setQueryData([t,r],null),{previous:a,previousList:o}},onError:(r,a,o)=>{const c=a;o?.previous&&c&&e.setQueryData([t,c],o.previous),o?.previousList?e.setQueryData([t],o.previousList):e.invalidateQueries({queryKey:[t]})},onSettled:(r,a,o)=>{o&&e.invalidateQueries({queryKey:[t,o]}),e.invalidateQueries({queryKey:[t]})}});return{remove:n.mutateAsync,status:n.status,error:n.error??null}}function wR(t,e,n){const r=!!t&&!!n,[a,o]=L.useState(null),[c,h]=L.useState(null);return L.useEffect(()=>{if(!r)return;const p=b_(ei,t),v=e?p.withConverter(e):p,_=lc(v,n),E=rN(_,A=>{A.exists()?o(A.data()):o(null)},A=>{h(A)});return()=>{E()}},[r,t,n,e]),{data:r?a:null,loading:r&&a===null&&c===null,error:r?c:null}}function ER(t,e){const[n,r]=L.useState(null),[a,o]=L.useState(!0),[c,h]=L.useState(null),[d,p]=L.useState(t);return L.useEffect(()=>{if(!t)return;const v=b_(ei,t),_=e?v.withConverter(e):v,E=rN(_,A=>{const M=A.docs.map(D=>D.data());r(M),o(!1)},A=>{h(A),o(!1)});return()=>{E()}},[t,e]),t?{data:n,loading:a,error:c}:{data:[],loading:!1,error:new Error("Missing collectionName")}}function TR(t,e){function n(p){return yR(t,e,p)}function r(){return vR(t,e)}function a(){return _R(t,e)}function o(){return bR(t,e)}function c(){return xR(t)}function h(p){return wR(t,e,p)}function d(){return ER(t,e)}return{useEntity:n,useEntities:r,useCreate:a,useUpdate:o,useDelete:c,useEntityRealtime:h,useEntitiesRealtime:d}}function O8(t,e){console.log("createNestedEntityHooks buildPath:",t);function n(...p){const v=t(...p),_=vR(v,e);return v?_:{..._,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function r(...p){const v=p.slice(0,-1),_=p[p.length-1],E=t(...v),A=yR(E,e,_);return E?A:{...A,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}function a(...p){const v=t(...p),_=_R(v,e);return v?_:{..._,create:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function o(...p){const v=p,_=t(...v);console.log("useUpdate fullName:",_,"ids:",v);const E=bR(_,e);return _?E:{...E,update:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function c(...p){const v=t(...p),_=xR(v);return v?_:{..._,remove:async()=>{throw new Error("Missing parent ID(s)")},status:"error",error:new Error("Missing parent ID(s)")}}function h(...p){const v=t(...p),_=ER(v,e);return v?_:{..._,data:[],loading:!1,error:new Error("Missing parent ID(s)")}}function d(...p){const v=p.slice(0,-1),_=p[p.length-1],E=t(...v),A=wR(E,e,_);return E?A:{...A,data:null,loading:!1,error:new Error("Missing parent ID(s)")}}return{useEntities:n,useEntity:r,useCreate:a,useUpdate:o,useDelete:c,useEntitiesRealtime:h,useEntityRealtime:d}}const SR=(t,e,n)=>O8(r=>r?`${t}/${r}/${e}`:void 0,n),{useEntities:la,useCreate:j8,useEntitiesRealtime:P8}=TR("players",R8),{useEntity:AR,useEntities:ti,useCreate:M8,useUpdate:IR,useEntityRealtime:V8}=TR("events",k8),{useCreate:z8,useDelete:L8,useEntitiesRealtime:NR}=SR("events","courts",D8),{useCreate:U8,useUpdate:F8,useDelete:B8,useEntitiesRealtime:RR}=SR("events","games",C8),Pe=Uu.forwardRef(({children:t,className:e,variant:n="default",...r},a)=>{const o="bg-surface p-6 rounded-xl shadow-sm border border-border",c={default:o,outlined:"bg-transparent p-6 rounded-xl border border-border",flat:"bg-surface p-4 rounded-lg"};return g.jsx("div",{ref:a,className:Cn(c[n]??o,e),...r,children:t})});Pe.displayName="Card";const tb=({imageUrl:t,name:e,size:n="md",className:r,border:a=!0})=>{const o={sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-xs",lg:"h-12 w-12 text-sm",xl:"h-16 w-16 text-base"},c={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-6 w-6",xl:"h-8 w-8"},h=Cn("rounded-full object-cover flex-shrink-0",o[n],a&&"border border-border",r);if(t){const d=t.startsWith("/")?`/${t.slice(1)}`:t;return g.jsx("img",{src:d,alt:e,className:h})}return g.jsx("div",{className:Cn(h,"bg-surface-highlight flex items-center justify-center"),children:e?g.jsx("span",{className:"font-bold text-text-muted",children:e.charAt(0)}):g.jsx(cS,{className:Cn("text-text-muted",c[n])})})},q8=t=>{if(!t||isNaN(t))return String(t);const e=t%100;if(e>=11&&e<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}},nb=({rank:t,className:e,size:n="md"})=>{const r={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"},a=o=>o===1?"bg-warning/20 text-warning":o===2?"bg-surface-alt text-text-muted":o===3?"bg-bronze/20 text-bronze":"text-text-muted";return g.jsx("span",{className:Cn("flex items-center justify-center rounded-full font-bold",r[n],a(t),e),children:q8(t)})},$8=()=>{const{data:t=[]}=ti(),{data:e=[]}=la(),n=Uu.useMemo(()=>{const h=new Map,d=new Map;(t||[]).filter(_=>Array.isArray(_.standings)&&_.standings.length>0).forEach(_=>{const E={id:_.id,date:_.startDateTime?_.startDateTime.toISOString():_.id,isCompleted:!0,standings:_.standings};(Tm(E)||[]).forEach(M=>{const D=M.playerId,V=M.pointsEarned||0;h.set(D,(h.get(D)||0)+V),d.set(D,(d.get(D)||0)+1)})});const v=Array.from(h.entries()).map(([_,E])=>({playerId:_,points:E}));return v.sort((_,E)=>E.points-_.points),v.slice(0,3).map((_,E)=>({playerId:_.playerId,points:_.points,events:d.get(_.playerId)||0,rank:E+1}))},[t]),r=(()=>{const h=(t||[]).filter(p=>p.startDateTime instanceof Date&&!isNaN(p.startDateTime.getTime()));if(h.length===0)return"Challenge Series";const d=Array.from(new Set(h.map(p=>p.startDateTime.getFullYear()))).sort();return d.length===1?`${d[0]} Challenge`:`${d[0]}${d[d.length-1]} Challenge`})(),a=Uu.useMemo(()=>{if(!t||t.length===0)return null;const h=t.filter(_=>_.startDateTime instanceof Date&&!isNaN(_.startDateTime.getTime()));h.sort((_,E)=>_.startDateTime.getTime()-E.startDateTime.getTime());const p=new Date().getTime(),v=h.filter(_=>_.startDateTime.getTime()>=p);return v.length>0?v[0]:null},[t]),o=h=>h?h.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"",c=h=>h?h.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";return g.jsxs("div",{className:"space-y-12",children:[g.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-surface border border-border",children:[g.jsx("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-96 h-96 bg-surface-highlight/50 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10 px-8 py-16 md:py-24 text-center max-w-4xl mx-auto",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-surface-highlight border border-border mb-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[g.jsxs("span",{className:"relative flex h-2 w-2",children:[g.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-success opacity-75"}),g.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-success"})]}),g.jsxs("span",{className:"text-sm font-medium text-text-main",children:[r," is Live"]})]}),g.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-text-main mb-6 tracking-tight animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100",children:["Paddle Up",g.jsx("br",{}),g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-text-accent",children:"Advanced Challenge"})]}),g.jsx("p",{className:"text-xl text-text-muted mb-10 max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:"Join our competitive pickleball event designed for advanced players looking to test their skills and climb the rankings each week."}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 animate-in fade-in slide-in-from-bottom-10 duration-700 delay-300",children:[g.jsxs(Tt,{to:"/standings",className:"w-full sm:w-auto px-8 py-4 bg-primary text-text-main rounded-xl font-bold text-lg hover:bg-primary-hover transition-all shadow-lg shadow-primary/25 flex items-center justify-center gap-2",children:["View Standings ",g.jsx(ly,{className:"h-5 w-5"})]}),g.jsx(Tt,{to:"/format",className:"w-full sm:w-auto px-8 py-4 bg-surface-highlight text-text-main border border-border rounded-xl font-bold text-lg hover:bg-surface-alt transition-all flex items-center justify-center gap-2",children:"League Format"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[g.jsxs(Pe,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[g.jsx(Wl,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"16"}),g.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Players per night"})]}),g.jsxs(Pe,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[g.jsx(ao,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"7-10 PM"}),g.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Every Sunday"})]}),g.jsxs(Pe,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[g.jsx(Wn,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"100"}),g.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Club Points Prize Pool"})]}),g.jsxs(Pe,{className:"p-6 flex flex-col items-center justify-center text-center hover:border-primary/30 transition-colors group",children:[g.jsx(lS,{className:"h-8 w-8 text-primary mb-3 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"text-3xl font-bold text-text-main mb-1",children:"3.6+ DUPR"}),g.jsx("span",{className:"text-sm text-text-muted uppercase tracking-wider",children:"Level Format"})]})]}),g.jsxs("div",{className:"bg-surface-highlight/50 rounded-2xl p-8 border border-border text-center",children:[g.jsxs("h2",{className:"text-2xl font-bold text-text-main mb-4 flex items-center justify-center gap-2",children:[g.jsx(Wn,{className:"h-6 w-6 text-warning"}),"Monthly Prizes"]}),g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto mb-6",children:"At the end of each month, the top 3 players in the monthly standings will receive club points as rewards for their performance."}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-4 max-w-3xl mx-auto",children:[g.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-border",children:[g.jsx("span",{className:"block text-2xl font-bold text-warning mb-1",children:"1st Place"}),g.jsx("span",{className:"text-sm text-text-muted",children:"50 Club Pts"})]}),g.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-border",children:[g.jsx("span",{className:"block text-2xl font-bold text-text-main mb-1",children:"2nd Place"}),g.jsx("span",{className:"text-sm text-text-muted",children:"30 Club Pts"})]}),g.jsxs("div",{className:"bg-surface p-4 rounded-xl border border-border",children:[g.jsx("span",{className:"block text-2xl font-bold text-text-main mb-1",children:"3rd Place"}),g.jsx("span",{className:"text-sm text-text-muted",children:"20 Club Pts"})]})]})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs(Pe,{className:"h-full flex flex-col",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("h2",{className:"text-2xl font-bold text-text-main flex items-center gap-2",children:[g.jsx(Wn,{className:"h-6 w-6 text-warning"}),"Current Leaders"]}),g.jsxs(Tt,{to:"/standings",className:"text-sm text-primary hover:text-primary-hover font-medium flex items-center gap-1",children:["Full Standings ",g.jsx(ly,{className:"h-4 w-4"})]})]}),g.jsx("div",{className:"space-y-4 flex-1",children:n.map((h,d)=>{const p=e.find(v=>v.id===h.playerId)||{name:"Unknown",imageUrl:""};return g.jsxs(Tt,{to:`/player/${h.playerId}`,className:"flex items-center justify-between p-3 rounded-xl bg-surface-highlight border border-border hover:border-primary/50 transition-colors group",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(nb,{rank:d+1,size:"sm"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(tb,{imageUrl:p.imageUrl,name:p.name,size:"md",className:"group-hover:ring-2 ring-primary transition-all"}),g.jsx("span",{className:"font-bold text-text-main group-hover:text-primary transition-colors",children:p.name})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:"block font-bold text-primary",children:[h.points," pts"]}),g.jsxs("span",{className:"text-xs text-text-muted",children:[h.events," Events"]})]})]},h.playerId)})})]}),g.jsx(Pe,{className:"h-full flex flex-col bg-gradient-to-br from-surface to-surface-highlight relative overflow-hidden",children:g.jsxs("div",{className:"relative z-10",children:[g.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Next Match Night"}),a?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-text-muted text-sm uppercase tracking-wider mb-1",children:"Date"}),g.jsx("p",{className:"text-xl font-bold text-text-main",children:o(a.startDateTime)})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-text-muted text-sm uppercase tracking-wider mb-1",children:"Time"}),g.jsx("p",{className:"text-xl font-bold text-text-main",children:c(a.startDateTime)})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-text-muted text-sm uppercase tracking-wider mb-1",children:"Location"}),g.jsx("p",{className:"text-xl font-bold text-text-main",children:a.location})]}),g.jsx("div",{className:"pt-4",children:g.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-full px-6 py-3 bg-surface border border-border hover:border-primary/50 rounded-xl text-text-main font-bold transition-colors",children:"Register on CourtReserve"})})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-text-muted",children:"No upcoming match nights are listed. Check the full schedule for details."}),g.jsx(Tt,{to:"/schedule",className:"inline-flex items-center justify-center w-full px-6 py-3 bg-surface border border-border hover:border-primary/50 rounded-xl text-text-main font-bold transition-colors",children:"View Schedule"})]})]})})]}),g.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Want to Join the League?"}),g.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"We are always looking for competitive players to join the roster. Check out the format and rules to see if you qualify."}),g.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:g.jsxs(Tt,{to:"/format",className:"bg-primary text-text-main px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:["View Format ",g.jsx(ly,{className:"h-5 w-5"})]})})]})]})},Eh=({title:t,subtitle:e,children:n,className:r,center:a=!1})=>g.jsx("div",{className:Cn("space-y-4",a&&"text-center",r),children:g.jsxs("div",{className:Cn("flex flex-col gap-4",a?"items-center":"md:flex-row md:items-center justify-between"),children:[g.jsxs("div",{className:a?"w-full":"",children:[g.jsx("h1",{className:"text-3xl font-bold text-text-main",children:t}),e&&g.jsx("p",{className:Cn("text-text-muted mt-1",a?"max-w-2xl mx-auto":""),children:e})]}),n]})}),CR=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"unknown":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`},H8=t=>{const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"Unknown Date":e.toLocaleDateString(void 0,{month:"short",year:"numeric"})},DR=t=>{const e=new Map;return t.forEach(n=>{if(n instanceof Date&&!isNaN(n.getTime())){const r=CR(n);e.has(r)||e.set(r,n)}}),Array.from(e.entries()).sort((n,r)=>r[1].getTime()-n[1].getTime()).map(([n,r])=>({key:n,label:H8(r)}))},rb=(t="all")=>{const{data:e=[]}=la(),{data:n=[]}=ti();return L.useMemo(()=>{const r=n.filter(h=>Array.isArray(h.standings)&&h.standings.length>0?t==="all"?!0:CR(h.startDateTime)===t:!1),a=yj(r),o=Array.from(a.entries()).map(([h,d])=>({playerId:h,points:d.points,eventsPlayed:d.events,champWins:d.champWins}));return o.sort((h,d)=>d.points-h.points),mj(o,h=>h.points).map(h=>{const d=e.find(p=>p.id===h.playerId);return{...h,name:d?.name||"Unknown",imageUrl:d?.imageUrl||"",dupr:d?.dupr,id:h.playerId}})},[n,e,t])},kR=({data:t,players:e,showEvents:n=!0,showPoints:r=!0,className:a})=>g.jsx(Pe,{className:Cn("p-0 overflow-hidden",a),children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-border",children:[g.jsx("thead",{className:"bg-surface-highlight",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider pl-6",children:"Rank"}),g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Player"}),r&&g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Points"}),n&&g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase tracking-wider",children:"Events"})]})}),g.jsx("tbody",{className:"bg-surface divide-y divide-border",children:t.map(o=>{const c=e?.find(h=>h.id===o.playerId)||{name:"Unknown",imageUrl:""};return g.jsxs("tr",{className:Cn("hover:bg-surface-highlight transition-colors",(o.rank||0)<=4?"bg-primary-light/10":""),children:[g.jsx("td",{className:"px-4 pl-6 py-4 whitespace-nowrap",children:g.jsx(nb,{rank:o.rank??0})}),g.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:g.jsxs(Tt,{to:`/player/${o.playerId}`,className:"flex items-center group",children:[g.jsx(tb,{imageUrl:c.imageUrl,name:c.name,className:"mr-3 group-hover:ring-2 ring-primary transition-all"}),g.jsx("div",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:c.name}),o.rank===1&&g.jsx(Wn,{className:"ml-2 h-4 w-4 text-warning"})]})}),r&&g.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:g.jsx("div",{className:"text-sm font-bold text-text-main",children:o.points??0})}),n&&g.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-text-muted",children:o.eventsPlayed??0})]},o.playerId)})})]})})}),G8=()=>{const[t,e]=L.useState("all"),{data:n=[]}=la(),{data:r=[]}=ti(),a=L.useMemo(()=>DR(r.map(c=>c.startDateTime)),[r]),o=rb(t);return g.jsxs("div",{className:"space-y-8",children:[g.jsx(Eh,{title:"Challenge Leaderboard",subtitle:"Leaderboard derived from Challenge events (month or all time)",children:g.jsx("div",{className:"flex items-center gap-4",children:g.jsxs("select",{value:t,onChange:c=>e(c.target.value==="all"?"all":c.target.value),className:"appearance-none bg-surface border border-border text-text-main text-sm rounded-lg pl-3 pr-8 py-2",children:[g.jsx("option",{value:"all",children:"All Time"}),a.map(c=>g.jsx("option",{value:c.key,children:c.label},c.key))]})})}),g.jsx(kR,{data:o,players:n})]})},K8=()=>{const t=Ye.points??{championship:{},court2:{},court3:{},court4:{}},e=[{name:"Championship Court",data:t.championship??{}},{name:"Court 2",data:t.court2??{}},{name:"Court 3",data:t.court3??{}},{name:"Court 4",data:t.court4??{}}];return g.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-sm border border-border",children:[g.jsxs("h3",{className:"font-bold text-text-main mb-4 flex items-center",children:[g.jsx(Dv,{className:"h-5 w-5 text-primary mr-2"}),"Weekly Point System"]}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map(n=>g.jsxs("div",{className:"bg-surface-highlight p-4 rounded-lg",children:[g.jsx("h3",{className:"font-bold text-text-main mb-2 text-center text-sm md:text-base",children:n.name}),g.jsxs("div",{className:"space-y-1 text-sm text-center",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-text-muted",children:"1st"})," ",g.jsxs("span",{className:"font-bold text-success",children:["+",n.data[1]]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-text-muted",children:"2nd"})," ",g.jsxs("span",{className:"font-bold text-success",children:["+",n.data[2]]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-text-muted",children:"3rd"})," ",g.jsxs("span",{className:"font-bold text-success",children:["+",n.data[3]]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-text-muted",children:"4th"})," ",g.jsxs("span",{className:"font-bold text-success",children:["+",n.data[4]]})]})]})]},n.name))})]})},OR=({options:t,value:e,onChange:n,className:r})=>g.jsx("div",{className:r,children:g.jsx("div",{className:"inline-flex",children:t.map(a=>g.jsx("button",{onClick:()=>n(a.value),className:Cn("px-6 py-2.5 rounded-lg text-sm font-bold transition-all",e===a.value?"bg-primary text-text-main shadow-md":"text-text-muted hover:text-text-main hover:bg-surface"),children:a.label},a.value))})}),Q8=({viewRules:t})=>{const e=t??Ye,n="price"in e&&e.price?e.price:{display:Ye.fee,note:Ye.seasonStructure?.duration};return g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto mt-8",children:[g.jsxs(Pe,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(Cv,{className:"h-6 w-6 text-primary mb-2"}),g.jsx("span",{className:"font-bold text-text-main",children:e.schedule?.day}),g.jsx("span",{className:"text-sm text-text-muted",children:e.schedule?.time})]}),g.jsx("a",{href:e.location?.url,target:"_blank",rel:"noopener noreferrer",className:"block group",children:g.jsxs(Pe,{className:"p-4 flex flex-col items-center justify-center text-center hover:border-primary/50 transition-colors h-full",children:[g.jsx(Em,{className:"h-6 w-6 text-primary mb-2 group-hover:scale-110 transition-transform"}),g.jsx("span",{className:"font-bold text-text-main",children:e.location?.name}),g.jsxs("span",{className:"text-sm text-text-muted flex items-center gap-1",children:[e.location?.city," ",g.jsx(wm,{className:"h-3 w-3"})]})]})}),g.jsxs(Pe,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(aO,{className:"h-6 w-6 text-primary mb-2"}),g.jsx("span",{className:"font-bold text-text-main",children:n.display}),g.jsx("span",{className:"text-sm text-text-muted",children:n.note})]}),g.jsxs(Pe,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(cS,{className:"h-6 w-6 text-primary mb-2"}),g.jsx("span",{className:"font-bold text-text-main",children:e.participant?.type}),g.jsx("span",{className:"text-sm text-text-muted",children:e.participant?.note})]})]})},Z8=()=>g.jsx("div",{className:"max-w-4xl mx-auto mt-6",children:g.jsxs(Pe,{className:"p-4",children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"Scoring"}),g.jsx("ul",{className:"text-text-muted list-disc pl-5 space-y-1",children:Array.isArray(Ye.scoring)&&Ye.scoring.length>0?Ye.scoring.map((t,e)=>g.jsx("li",{children:t},e)):g.jsx("li",{className:"text-text-muted",children:"No scoring details available."})})]})}),Y8=()=>{const t=Ye.seasonStructure??{};return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Season Structure"}),g.jsxs("p",{className:"text-text-muted max-w-2xl mx-auto",children:[t.duration??"TBD",t.duration&&t.when?"  ":"",t.when??"",t.rosterSize?`  ${t.rosterSize} Players`:""]})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[g.jsxs(Pe,{className:"p-6 border-success/20 bg-success/5",children:[g.jsxs("h3",{className:"text-xl font-bold text-success mb-4 flex items-center gap-2",children:[g.jsx(xm,{className:"h-5 w-5"}),"The Safe Zone"]}),g.jsx("p",{className:"text-text-main font-medium mb-2",children:`Top ${Math.max(0,Number(t.rosterSize||0)-4)} Players`}),g.jsx("p",{className:"text-text-muted",children:t.safeZone})]}),g.jsxs(Pe,{className:"p-6 border-error/20 bg-error/5",children:[g.jsxs("h3",{className:"text-xl font-bold text-error mb-4 flex items-center gap-2",children:[g.jsx(oS,{className:"h-5 w-5"}),"The Drop Zone"]}),g.jsx("p",{className:"text-text-main font-medium mb-2",children:"Bottom 4 Players"}),g.jsx("p",{className:"text-text-muted",children:t.dropZone})]})]})]})},jR=({heading:t,subtitle:e,entries:n,notes:r})=>g.jsxs("div",{className:"space-y-8",children:[t&&g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:t}),e&&g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:e})]}),g.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:n.map((a,o)=>g.jsxs(Pe,{className:`p-6 relative overflow-hidden ${a.accent?"border-warning/50 bg-warning/10":"border-border"}`,children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:g.jsx(Wn,{className:"h-24 w-24 text-warning"})}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:"bg-surface-highlight text-text-muted p-2 rounded-lg border border-border",children:g.jsx("span",{className:"font-bold text-lg",children:a.title})}),g.jsx("h3",{className:"text-xl font-bold text-text-main",children:`${a.title} Place`})]}),g.jsx("ul",{className:"space-y-3",children:a.items.map((c,h)=>g.jsxs("li",{className:`flex items-start gap-2 ${a.accent?"text-text-main font-medium":"text-text-muted"}`,children:[g.jsx(xm,{className:`h-5 w-5 ${a.accent?"text-warning":"text-text-muted"} shrink-0`}),c]},h))})]})]},o))}),r&&g.jsx("div",{className:"text-center",children:g.jsx("p",{className:"text-sm text-text-muted italic",children:r})})]}),X8=()=>{const t=[{title:`${Ye.rewards.firstPlace.name}`,items:Ye.rewards.firstPlace.items,accent:!0},{title:`${Ye.rewards.secondPlace.name}`,items:Ye.rewards.secondPlace.items},{title:`${Ye.rewards.thirdPlace.name}`,items:Ye.rewards.thirdPlace.items}];return g.jsx(jR,{heading:"Prizes & Rewards",subtitle:"Top performers from each season earn court credits, club points, and guaranteed spots for the next season.",entries:t,notes:Ye.rewards.notes})},J8=()=>g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Pre-Season Qualifiers"}),g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:"Before each season begins, we host two Open Qualifier events to fill the open roster spots."})]}),g.jsxs(Pe,{className:"max-w-4xl mx-auto p-8",children:[g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Wl,{className:"h-5 w-5 text-primary"}),"Who Can Play"]}),g.jsx("ul",{className:"space-y-2",children:Ye.qualification.who.map((t,e)=>g.jsxs("li",{className:"flex items-start text-text-muted",children:[g.jsx("span",{className:"mr-2",children:""}),t]},e))})]}),g.jsxs("div",{children:[g.jsxs("h3",{className:"font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Wn,{className:"h-5 w-5 text-primary"}),"Advancement"]}),g.jsx("ul",{className:"space-y-2",children:Ye.qualification.advancement.map((t,e)=>g.jsxs("li",{className:"flex items-start text-text-muted",children:[g.jsx("span",{className:"mr-2",children:""}),t]},e))})]})]}),g.jsx("div",{className:"mt-8 pt-6 border-t border-border text-center",children:g.jsxs("p",{className:"text-text-muted italic",children:[g.jsx("span",{className:"font-bold text-primary",children:"Note:"})," ",Ye.qualification?.note]})})]})]}),W8=()=>g.jsxs("div",{className:"space-y-12",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"The Nightly Format"}),g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:"Three rounds of intense play. Perform well to move up; struggle and you move down."})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-0.5 bg-border -z-10 transform -translate-x-1/2"}),g.jsx("div",{className:"space-y-12",children:Ye.format?.map((t,e)=>g.jsxs("div",{className:"relative",children:[g.jsxs(Pe,{className:"p-8 max-w-3xl mx-auto",children:[g.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-primary text-text-main px-4 py-1 rounded-full text-sm font-bold",children:`ROUND ${e+1}`}),g.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[g.jsx("div",{className:"bg-primary-light p-4 rounded-full",children:e===0?g.jsx(Wl,{className:"h-8 w-8 text-primary"}):e===1?g.jsx(Xk,{className:"h-8 w-8 text-primary"}):g.jsx(Wn,{className:"h-8 w-8 text-warning"})}),g.jsxs("div",{className:"flex-1 text-center md:text-left",children:[g.jsx("h3",{className:"text-xl font-bold text-text-main mb-2",children:t.title}),g.jsx("div",{className:"text-text-muted text-left",children:Array.isArray(t.description)?g.jsx("ul",{className:"list-disc pl-5 space-y-1 inline-block text-left",children:t.description.map((n,r)=>g.jsx("li",{children:n},r))}):g.jsx("p",{children:t.description})})]})]})]}),e<Ye.format.length-1&&g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"bg-surface p-2 rounded-full border border-border shadow-sm",children:g.jsx(Gk,{className:"h-6 w-6 text-text-muted"})})})]},e))})]})]}),eF=({hideChallengeFAQs:t})=>g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main",children:"Frequently Asked Questions"}),g.jsxs("div",{className:"space-y-4 mt-4",children:[!t&&g.jsxs(g.Fragment,{children:[g.jsxs(Pe,{children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"What happens if I miss a week?"}),g.jsx("p",{className:"text-text-muted",children:"If you miss a week, you receive 0 points for that night. You must notify the league admin so a substitute can be assigned. You are allowed a maximum of 2 sub replacements per season."})]}),g.jsxs(Pe,{children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"Can I choose my own sub?"}),g.jsx("p",{className:"text-text-muted",children:"No. To ensure competitive balance and fairness, all substitutes are assigned by the league administration from the approved sub pool."})]}),g.jsxs(Pe,{children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"How do I qualify for the next season?"}),g.jsx("p",{className:"text-text-muted",children:"The top 4 players from the current season automatically qualify for the next season. Other spots may be filled through open registration or qualifying nights."})]})]}),g.jsxs(Pe,{children:[g.jsx("h3",{className:"font-bold text-text-main mb-2",children:"Is there a warm-up period?"}),g.jsx("p",{className:"text-text-muted",children:"Yes, courts are available for warm-up starting at 6:45 PM. League play begins promptly at 7:00 PM."})]})]})]}),tF=()=>{const[t,e]=L.useState(null),[n,r]=L.useState(!1),a=async o=>{o.preventDefault(),r(!0);const c=new FormData(o.currentTarget),h=Object.fromEntries(c.entries());try{(await fetch("https://formspree.io/f/xanrzonk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,subject:"League Question (Format Page)"})})).ok?(e("success"),o.currentTarget.reset()):e("error")}catch{e("error")}finally{r(!1)}};return t==="success"?g.jsxs("div",{className:"bg-success/20 p-6 rounded-xl border border-success/50 text-center",children:[g.jsx(xm,{className:"h-12 w-12 text-success mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-bold text-success mb-2",children:"Message Sent!"}),g.jsxs("p",{className:"text-success",children:["We","'","ll get back to you shortly."]}),g.jsx(Xa,{onClick:()=>e(null),variant:"ghost",size:"sm",className:"mt-4 text-sm text-success hover:underline",children:"Send another"})]}):g.jsxs("form",{onSubmit:a,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-muted mb-1",children:"Your Email"}),g.jsx("input",{type:"email",name:"email",required:!0,className:"w-full rounded-lg bg-surface-highlight border-border text-text-main shadow-sm focus:border-primary focus:ring-primary placeholder:text-text-muted p-3",placeholder:"you@example.com"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-text-muted mb-1",children:"Question"}),g.jsx("textarea",{name:"message",required:!0,rows:4,className:"w-full rounded-lg bg-surface-highlight border-border text-text-main shadow-sm focus:border-primary focus:ring-primary placeholder:text-text-muted p-3",placeholder:"How can we help?"})]}),g.jsx(Xa,{type:"submit",disabled:n,variant:"primary",size:"md",className:"w-full py-2.5 font-medium disabled:opacity-50 flex items-center justify-center gap-2",children:n?"Sending...":g.jsxs(g.Fragment,{children:[g.jsx(yO,{className:"h-4 w-4"})," Send Message"]})}),t==="error"&&g.jsx("p",{className:"text-error text-sm text-center",children:"Something went wrong. Please try again."})]})},nF=()=>g.jsxs(Pe,{className:"sticky top-8",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(pO,{className:"h-5 w-5 text-primary"}),g.jsx("h2",{className:"text-xl font-bold text-text-main",children:"Have Questions?"})]}),g.jsx("p",{className:"text-text-muted text-sm mb-6",children:"Can't find what you're looking for? Send us a message and we'll help you out."}),g.jsx(tF,{})]}),rF=()=>{const[t,e]=L.useState("current"),n=t==="current"?hy:yf,r=t==="current"?hy.price:{display:yf.fee,note:yf.seasonStructure?.duration},a=t==="current"?hy.showSections??{seasonStructure:!1,prizes:!1,qualifiers:!1}:{seasonStructure:!0,prizes:!0,qualifiers:!0};return L.useEffect(()=>{document.title=`${Ye.title}  ${n.title}`},[n.title]),g.jsxs("div",{className:"space-y-16 pb-12",children:[g.jsx(Eh,{title:n.title,subtitle:"Rotating partners, weekly standings with promotion/relegation, weekly points, open qualifiers, and season prizes.",center:!0}),g.jsx("div",{className:"flex justify-center mt-6",children:g.jsx(OR,{options:[{value:"current",label:"The Challenge (Current)"},{value:"future",label:"Championship League (Future)"}],value:t,onChange:o=>e(o),className:"bg-surface-highlight p-1 rounded-xl inline-flex border border-border"})}),g.jsx("div",{className:"max-w-5xl mx-auto mt-6 rounded-3xl overflow-hidden shadow-lg",children:g.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-light p-8 md:p-12 text-white flex flex-col md:flex-row items-center gap-6",children:[g.jsxs("div",{className:"flex-1 text-center md:text-left",children:[g.jsx("h3",{className:"text-3xl md:text-4xl font-extrabold mb-2",children:n.title}),g.jsx("p",{className:"text-lg md:text-xl opacity-90",children:n.summary})]}),g.jsxs("div",{className:"flex-shrink-0 text-center md:text-right",children:[g.jsx("div",{className:"text-2xl font-bold",children:r.display}),g.jsx("div",{className:"text-sm opacity-90 mb-4",children:r.note}),t==="current"?g.jsx(Tt,{to:"/schedule",className:"inline-block bg-white text-primary px-6 py-3 rounded-xl font-bold hover:opacity-90 transition",children:"Register for Tonight"}):g.jsx("a",{href:Ye.register.url,className:"inline-block bg-white text-primary px-6 py-3 rounded-xl font-bold hover:opacity-90 transition",children:"Register for Season"})]})]})}),g.jsx(Q8,{viewRules:n}),g.jsx(Z8,{}),a.seasonStructure&&g.jsx(Y8,{}),a.prizes&&g.jsx(X8,{}),t==="current"&&g.jsx("div",{className:"max-w-4xl mx-auto",children:g.jsx(jR,{heading:"Monthly Prizes",subtitle:"At the end of each month, the top 3 players in the monthly standings will receive club points as rewards for their performance.",entries:[{title:"1st",items:["50 Club Pts"],accent:!0},{title:"2nd",items:["30 Club Pts"]},{title:"3rd",items:["20 Club Pts"]}]})}),a.qualifiers&&g.jsx(J8,{}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Seeding & Assignments"}),g.jsx("p",{className:"text-text-muted max-w-2xl mx-auto",children:Ye.seeding?.overview})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[g.jsxs(Pe,{className:"p-6",children:[g.jsxs("h3",{className:"text-xl font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Wl,{className:"h-5 w-5 text-primary"}),"Initial Seeding"]}),g.jsx("p",{className:"text-text-muted mb-4",children:Ye.seeding?.week1}),g.jsxs("div",{className:"bg-surface-highlight p-4 rounded-lg border border-border",children:[g.jsx("h4",{className:"font-bold text-sm text-text-main mb-2",children:"Why Seeding Matters"}),g.jsx("p",{className:"text-sm text-text-muted",children:"Higher seeds are placed in groups with lower-seeded opponents in Round 1, giving top players a statistical advantage to finish Top 2 and advance."})]})]}),g.jsxs(Pe,{className:"p-6",children:[g.jsxs("h3",{className:"text-xl font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Em,{className:"h-5 w-5 text-primary"}),"The Snake Draw"]}),g.jsx("p",{className:"text-text-muted mb-4",children:Ye.seeding?.draw}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[g.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[g.jsx("span",{className:"font-bold block text-primary",children:"Court 1"}),g.jsx("span",{className:"text-text-muted",children:"Seeds 1, 8, 9, 16"})]}),g.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[g.jsx("span",{className:"font-bold block text-primary",children:"Court 2"}),g.jsx("span",{className:"text-text-muted",children:"Seeds 2, 7, 10, 15"})]}),g.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[g.jsx("span",{className:"font-bold block text-primary",children:"Court 3"}),g.jsx("span",{className:"text-text-muted",children:"Seeds 3, 6, 11, 14"})]}),g.jsxs("div",{className:"bg-surface-highlight p-2 rounded border border-border",children:[g.jsx("span",{className:"font-bold block text-primary",children:"Court 4"}),g.jsx("span",{className:"text-text-muted",children:"Seeds 4, 5, 12, 13"})]})]})]})]})]}),g.jsx(W8,{}),g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx(K8,{}),g.jsx("p",{className:"text-center text-sm text-text-muted mt-4 italic",children:Ye.missedWeekNote})]}),g.jsxs("div",{className:"bg-primary-light rounded-2xl p-8 md:p-12 text-center border border-primary/50",children:[g.jsx("h2",{className:"text-3xl font-bold text-text-main mb-4",children:"Ready to Compete?"}),g.jsx("p",{className:"text-xl text-text-muted mb-8 max-w-2xl mx-auto",children:"Registration is open for the upcoming season. Secure your spot now."}),g.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:g.jsxs("a",{href:Ye.register.url,className:"bg-primary text-text-main px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary-hover transition-colors shadow-lg shadow-primary/20 flex items-center gap-2",children:[Ye.register.text,g.jsx(wm,{className:"h-5 w-5"})]})}),g.jsx("p",{className:"text-sm text-text-muted mt-6",children:"*Future seasons may require participation in qualifying nights to earn a roster spot."})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsxs(Pe,{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx(xm,{className:"h-6 w-6 text-success"}),g.jsx("h2",{className:"text-xl font-bold text-text-main",children:"Eligibility"})]}),g.jsx("ul",{className:"space-y-3",children:Array.isArray(Ye.general)&&Ye.general.length>0?Ye.general.map((o,c)=>g.jsxs("li",{className:"flex items-start text-text-muted",children:[g.jsx("span",{className:"mr-2",children:""}),o]},c)):g.jsx("li",{className:"text-text-muted",children:"No eligibility rules provided."})})]}),t!=="current"&&g.jsxs(Pe,{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx(oS,{className:"h-6 w-6 text-warning"}),g.jsx("h2",{className:"text-xl font-bold text-text-main",children:"Substitute Policy"})]}),g.jsx("ul",{className:"space-y-3",children:Array.isArray(Ye.subs)&&Ye.subs.length>0?Ye.subs.map((o,c)=>g.jsxs("li",{className:"flex items-start text-text-muted",children:[g.jsx("span",{className:"mr-2",children:""}),o]},c)):g.jsx("li",{className:"text-text-muted",children:"No substitute policy provided."})})]})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[g.jsx("div",{className:"md:col-span-2 space-y-8",children:g.jsx(eF,{hideChallengeFAQs:t==="current"})}),g.jsx("div",{className:"md:col-span-1",children:g.jsx(nF,{})})]})]})},sF=()=>{const{data:t=[]}=ti(),{data:e=[]}=la();return g.jsxs("div",{className:"space-y-12",children:[g.jsx(Eh,{title:"Hall of Champions",subtitle:"Celebrating the elite performers of the Paddle Up Individual Championship League.",center:!0}),(()=>{const n=(t||[]).filter(r=>Array.isArray(r.standings)&&r.standings.length>0);return n.length===0?g.jsxs(Pe,{className:"text-center py-16 border-dashed",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-warning/20 rounded-full mb-4",children:g.jsx(lS,{className:"h-8 w-8 text-warning"})}),g.jsx("h2",{className:"text-xl font-medium text-text-main mb-2",children:"No completed events yet"}),g.jsx("p",{className:"text-text-muted max-w-md mx-auto",children:"No past Challenge events with results are available yet."})]}):g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((r,a)=>{const o={id:r.id,date:r.startDateTime?r.startDateTime.toISOString():r.id,isCompleted:!0,standings:r.standings},c=(Tm(o)||[]).sort((h,d)=>(h.rank||0)-(d.rank||0)).slice(0,3);return g.jsxs(Pe,{className:"h-full flex flex-col",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx(Tt,{to:`/event/${r.id}`,className:"bg-primary-light text-primary text-xs font-bold px-3 py-1 rounded-full hover:bg-primary-light/80 transition-colors",children:r.name}),g.jsxs("div",{className:"flex items-center text-xs text-text-muted",children:[g.jsx(ao,{className:"h-3 w-3 mr-1"}),r.startDateTime?r.startDateTime.toLocaleDateString():r.id]})]}),g.jsx("div",{className:"space-y-6 flex-1",children:c.map((h,d)=>{const p=e.find(E=>E.id===h.playerId)||{name:"Unknown",imageUrl:""},v=d===0?"text-warning":d===1?"text-text-muted":"text-bronze",_=d===0?"Champion":d===1?"Runner Up":"Third Place";return g.jsxs(Tt,{to:`/player/${h.playerId}`,className:"flex items-center gap-4 group",children:[g.jsxs("div",{className:"relative",children:[g.jsx(tb,{imageUrl:p.imageUrl,name:p.name,size:"lg",className:Cn(d===0?"border-warning":"border-border","group-hover:ring-2 ring-primary transition-all"),border:!0}),g.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-surface shadow-sm flex items-center justify-center border border-border",children:d===0?g.jsx(Wn,{className:"h-3 w-3 text-warning"}):g.jsx(Dv,{className:`h-3 w-3 ${v}`})})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-xs font-bold uppercase tracking-wider ${v}`,children:_}),g.jsx("p",{className:"font-bold text-text-main group-hover:text-primary transition-colors",children:p.name}),g.jsxs("p",{className:"text-xs text-text-muted",children:[h.pointsEarned||0," pts"]})]})]},h.playerId)})})]},a)})})})()]})},iF=()=>{const{data:t=[]}=ti(),[e,n]=L.useState("all"),r=rb(e),a=L.useMemo(()=>DR(t.map(o=>o.startDateTime)),[t]);return g.jsxs("div",{className:"space-y-8",children:[g.jsx(Eh,{title:"Players",subtitle:`${r.length} players  ${e==="all"?"All Time":"Month view"}`,children:g.jsx("div",{className:"flex items-center gap-4",children:g.jsxs("select",{value:e,onChange:o=>n(o.target.value==="all"?"all":o.target.value),className:"appearance-none bg-surface border border-border text-text-main text-sm rounded-lg pl-3 pr-8 py-2",children:[g.jsx("option",{value:"all",children:"All Time"}),a.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))]})})}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:r.map(o=>g.jsx(Tt,{to:`/player/${o.id}`,className:"block group",children:g.jsxs(Pe,{className:"h-full overflow-hidden p-0 border-border group-hover:border-primary/50 transition-all group-hover:shadow-lg group-hover:shadow-primary/5 flex flex-col",children:[g.jsxs("div",{className:"aspect-square w-full relative bg-surface-highlight overflow-hidden",children:[o.imageUrl?g.jsx("img",{src:o.imageUrl.startsWith("/")?`/${o.imageUrl.slice(1)}`:o.imageUrl,alt:o.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-surface-highlight",children:g.jsx("span",{className:"text-4xl font-bold text-text-muted opacity-20",children:o.name?.charAt(0)})}),g.jsx("div",{className:"absolute top-3 left-3",children:g.jsxs("div",{className:"bg-surface/90 backdrop-blur-sm border border-border px-3 py-1 rounded-full text-sm font-bold text-text-main shadow-sm",children:["#",o.rank??0]})}),g.jsx("div",{className:"absolute top-3 right-3",children:g.jsxs("div",{className:"bg-surface/90 backdrop-blur-md border border-primary/30 px-3 py-1 rounded-full text-sm font-bold text-primary shadow-lg",children:[o.points," pts"]})})]}),g.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[g.jsx("h2",{className:"text-lg font-bold text-text-main mb-1 group-hover:text-primary transition-colors text-center truncate",children:o.name}),g.jsxs("p",{className:"text-xs text-text-muted text-center mb-3",children:["DUPR ",o.dupr??"N/A"]}),g.jsxs("div",{className:"mt-auto grid grid-cols-3 gap-2 pt-3 border-t border-border text-center",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Events"}),g.jsx("p",{className:"font-bold text-sm text-text-main",children:o.eventsPlayed})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Champ Ct"}),g.jsxs("div",{className:"flex items-center justify-center gap-1",children:[g.jsx(My,{className:"h-3 w-3 text-success"}),g.jsx("p",{className:"font-bold text-sm text-text-main",children:o.champWins})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-text-muted uppercase tracking-wide mb-0.5",children:"Rank"}),g.jsx("p",{className:"font-bold text-sm text-text-main",children:o.rank??"-"})]})]})]})]})},o.id))})]})},aF=()=>{const{id:t}=F1(),{data:e}=P8(),{data:n=[]}=ti(),r=e?.find(v=>v.id===t);if(!r)return g.jsxs("div",{className:"text-center py-12",children:[g.jsx("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Player Not Found"}),g.jsx(Tt,{to:"/players",className:"text-primary hover:underline",children:"Back to Players"})]});const a=n.filter(v=>Array.isArray(v.standings)&&v.standings.length>0).map(v=>{const _={id:v.id,date:v.startDateTime?v.startDateTime.toISOString():v.id,isCompleted:!0,standings:v.standings},E=Tm(_)||[];return{ev:v,finals:E}}),o=new Map;a.forEach(({finals:v})=>{v.forEach(_=>{const E=_.playerId,A=_.pointsEarned||0,M=o.get(E)||{points:0,events:0,champWins:0};M.points+=A,M.events+=1,_.rank===1&&(M.champWins+=1),o.set(E,M)})});const c=Array.from(o.entries()).map(([v,_])=>({playerId:v,points:_.points,eventsPlayed:_.events,champWins:_.champWins})).sort((v,_)=>_.points-v.points);let h=null;c.forEach((v,_)=>{v.playerId===t&&(h=_+1)});const d=o.get(t||"")||{points:0,events:0,champWins:0},p=[];return a.forEach(({ev:v,finals:_})=>{const E=_.find(A=>A.playerId===t);E&&p.push({eventId:v.id,date:v.startDateTime?v.startDateTime.toLocaleDateString():v.id,rank:E.rank})}),g.jsxs("div",{className:"space-y-8 pb-12",children:[g.jsxs(Tt,{to:"/players",className:"inline-flex items-center text-text-muted hover:text-primary transition-colors mb-4",children:[g.jsx(Qk,{className:"h-4 w-4 mr-1"})," Back to Players"]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"md:col-span-1 space-y-6",children:[g.jsxs(Pe,{className:"p-0 overflow-hidden border-border",children:[g.jsx("div",{className:"aspect-square w-full relative bg-surface-highlight",children:r.imageUrl?g.jsx("img",{src:r.imageUrl.startsWith("/")?`/${r.imageUrl.slice(1)}`:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("span",{className:"text-6xl font-bold text-text-muted opacity-20",children:r.name.charAt(0)})})}),g.jsxs("div",{className:"p-6 text-center",children:[g.jsx("h1",{className:"text-3xl font-bold text-text-main mb-2",children:r.name}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[g.jsxs("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold border border-primary/20",children:["DUPR ",r.dupr??"N/A"]}),g.jsxs("span",{className:"bg-surface-highlight text-text-muted px-3 py-1 rounded-full text-sm font-medium border border-border",children:["Rank #",h??"-"]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs(Pe,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(Wn,{className:"h-6 w-6 text-warning mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.points}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Points"})]}),g.jsxs(Pe,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(My,{className:"h-6 w-6 text-success mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.champWins}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Top Finishes"})]}),g.jsxs(Pe,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(Ww,{className:"h-6 w-6 text-primary mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:p.length}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Events"})]}),g.jsxs(Pe,{className:"p-4 flex flex-col items-center justify-center text-center",children:[g.jsx(ao,{className:"h-6 w-6 text-text-muted mb-2"}),g.jsx("span",{className:"text-2xl font-bold text-text-main",children:d.events}),g.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Appearances"})]})]})]}),g.jsxs("div",{className:"md:col-span-2 space-y-8",children:[g.jsxs(Pe,{children:[g.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(Ww,{className:"h-5 w-5 text-primary"}),"Event Placements"]}),g.jsx("div",{className:"space-y-3",children:p.length>0?p.slice().reverse().map((v,_)=>g.jsxs(Tt,{to:`/event/${v.eventId}`,className:"flex items-center justify-between p-3 bg-surface-highlight rounded-lg border border-border hover:border-primary/50 transition-colors cursor-pointer group",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:n.find(E=>E.id===v.eventId)?.name||v.eventId}),g.jsx("p",{className:"text-xs text-text-muted",children:v.date})]}),g.jsx("div",{className:"text-right",children:g.jsxs("p",{className:"font-mono font-bold text-text-main",children:["Rank #",v.rank]})})]},_)):g.jsx("p",{className:"text-text-muted text-center py-4",children:"No event placements available."})})]}),g.jsxs(Pe,{children:[g.jsxs("h3",{className:"text-lg font-bold text-text-main mb-4 flex items-center gap-2",children:[g.jsx(My,{className:"h-5 w-5 text-primary"}),"Event Rankings"]}),g.jsx("div",{className:"space-y-2",children:p.length>0?p.slice().reverse().map((v,_)=>g.jsxs(Tt,{to:`/event/${v.eventId}`,className:"flex items-center justify-between p-2 border-b border-border last:border-0 hover:bg-surface-highlight transition-colors cursor-pointer group",children:[g.jsx("span",{className:"text-sm text-text-muted group-hover:text-text-main transition-colors",children:v.date}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-sm font-medium text-text-main group-hover:text-primary transition-colors",children:["Rank #",v.rank]}),g.jsx(nb,{rank:v.rank,size:"sm"})]})]},_)):g.jsx("p",{className:"text-text-muted text-center py-4",children:"No event data available."})})]})]})]})]})};function oF(){return g.jsx("div",{children:"Calculator Page - Under Construction"})}const lF=()=>{const{data:t}=ti(),e=v=>v?v.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}):"",n=v=>v?v.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"",[r,a]=Uu.useState("upcoming"),o=(t||[]).filter(v=>v.startDateTime instanceof Date&&!isNaN(v.startDateTime.getTime())).slice().sort((v,_)=>v.startDateTime.getTime()-_.startDateTime.getTime()),c=new Date,h=o.filter(v=>v.startDateTime.getTime()>=c.getTime()),d=o.filter(v=>v.startDateTime.getTime()<c.getTime()).slice().reverse(),p=r==="upcoming"?h:d;return g.jsxs("div",{className:"space-y-8 pb-12",children:[g.jsx(Eh,{title:"Season Schedule",subtitle:"Per-night registration links for 'The Challenge'  register for any night below.",center:!0}),g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx("div",{className:"flex items-center justify-end gap-2 mb-4",children:g.jsx(OR,{options:[{value:"upcoming",label:"Upcoming"},{value:"past",label:"Past"}],value:r,onChange:v=>a(v)})}),g.jsx("div",{className:"grid gap-6",children:p.map(v=>g.jsx(Tt,{to:`/event/${encodeURIComponent(v.id)}`,className:"group",children:g.jsxs(Pe,{className:"p-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-4 group-hover:shadow-lg transition",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-text-main mb-1",children:v.name}),g.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-text-muted",children:[g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(ao,{className:"h-4 w-4"})," ",e(v.startDateTime)]}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(Cv,{className:"h-4 w-4"})," ",n(v.startDateTime)]}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(Em,{className:"h-4 w-4"})," ",v.location]})]})]}),g.jsx("div",{className:"flex-shrink-0 w-full md:w-auto",children:r==="past"?g.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-3 bg-surface border border-border rounded-xl text-text-muted font-semibold",children:[g.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-success/80"}),"Completed"]}):g.jsxs("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",onClick:_=>_.stopPropagation(),className:"inline-flex items-center justify-center gap-2 px-5 py-3 bg-primary text-text-main rounded-xl font-bold hover:opacity-95 transition shadow",children:["Register on CourtReserve ",g.jsx(wm,{className:"h-4 w-4"})]})})]})},v.id))})]})]})};function cF(){const[t,e]=L.useState(null),[n,r]=L.useState(!1),[a,o]=L.useState(!0);return L.useEffect(()=>{const c=SN(jf,async h=>{if(e(h),!h){r(!1),o(!1);return}const p=(await h.getIdTokenResult(!0)).claims;r(p.admin===!0),o(!1)});return()=>c()},[]),{user:t,isAdmin:n,loading:a}}const uF=({isAdmin:t})=>{const{create:e,status:n,error:r}=M8(),[a,o]=L.useState(""),[c,h]=L.useState(""),[d,p]=L.useState(""),[v,_]=L.useState(""),[E,A]=L.useState(""),[M,D]=L.useState(""),[V,Y]=L.useState(""),[Q,J]=L.useState(""),[ae,le]=L.useState(""),me=async N=>{if(N.preventDefault(),!t){alert("You are not authorized to create events.");return}if(!a.trim()||!c){alert("Name and start date are required.");return}const T=new Date(`${c}T${d||"00:00"}`),R=v?new Date(`${v}T${E||"00:00"}`):void 0,O={name:a.trim(),startDateTime:T,...R?{endDateTime:R}:{},...M.trim()?{location:M.trim()}:{},...V?{status:V}:{},...Q.trim()?{label:Q.trim()}:{},...ae.trim()?{link:ae.trim()}:{},standings:[],rounds:[]};try{const P=await e(O);alert(`Event created${P?` (id: ${String(P)})`:""}.`),o(""),h(""),p(""),_(""),A(""),D(""),Y(""),J(""),le("")}catch(P){console.error("Create event failed",P),alert("Failed to create event. See console for details.")}};return g.jsxs("form",{onSubmit:me,className:"space-y-3 max-w-md",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Event name"}),g.jsx("input",{value:a,onChange:N=>o(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Start date"}),g.jsx("input",{type:"date",value:c,onChange:N=>h(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Start time (optional)"}),g.jsx("input",{type:"time",value:d,onChange:N=>p(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"End date (optional)"}),g.jsx("input",{type:"date",value:v,onChange:N=>_(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"End time (optional)"}),g.jsx("input",{type:"time",value:E,onChange:N=>A(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Location (optional)"}),g.jsx("input",{value:M,onChange:N=>D(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Status (optional)"}),g.jsxs("select",{value:V,onChange:N=>Y(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1",children:[g.jsx("option",{value:"",children:"(none)"}),g.jsx("option",{value:"open",children:"open"}),g.jsx("option",{value:"closed",children:"closed"}),g.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Label (optional)"}),g.jsx("input",{value:Q,onChange:N=>J(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Link (optional)"}),g.jsx("input",{value:ae,onChange:N=>le(N.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:!t||n==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:n==="pending"?"Creating...":"Create event"})}),r&&g.jsxs("p",{className:"text-sm text-red-600",children:["Error creating event: ",String(r)]})]})},hF=()=>{const[t,e]=L.useState(null),n=new Us,{isAdmin:r}=cF(),{create:a,status:o,error:c}=j8(),h=ti(),d=la(),p=h.data??[],v=d.data??[],[_,E]=L.useState(void 0),[A,M]=L.useState([]),{data:D}=AR(_)??{},{update:V,status:Y,error:Q}=IR(_),[J,ae]=L.useState(_),[le,me]=L.useState(D?.standings);(_!==J||D?.standings!==le)&&(ae(_),me(D?.standings),D?.standings&&Array.isArray(D.standings)?M([...D.standings]):M([]));const N=C=>{C&&M(Z=>[...Z,C])},T=C=>{M(Z=>Z.filter((ie,he)=>he!==C))},R=C=>{C<=0||M(Z=>{const ie=[...Z],he=ie[C-1];return ie[C-1]=ie[C],ie[C]=he,ie})},O=C=>{M(Z=>{if(C>=Z.length-1)return Z;const ie=[...Z],he=ie[C+1];return ie[C+1]=ie[C],ie[C]=he,ie})},P=async()=>{if(!r){alert("You are not authorized to update events.");return}if(!_){alert("Select an event first.");return}try{await V({standings:A}),alert("Standings saved.")}catch(C){console.error("Save standings failed",C),alert("Failed to save standings. See console for details.")}},[U,k]=L.useState(""),[Se,Ue]=L.useState(""),[$,ce]=L.useState(""),oe=async C=>{if(C.preventDefault(),!r){alert("You are not authorized to add players.");return}try{const Z=Se.trim()?Number(Se):void 0,ie={name:U.trim(),...Z!==void 0&&!Number.isNaN(Z)?{dupr:Z}:{},...$.trim()?{imageUrl:$.trim()}:{},createdAt:new Date().toISOString()};await a(ie),k(""),Ue(""),ce(""),alert("Player added.")}catch(Z){console.error("Create player failed",Z),alert("Failed to add player. See console for details.")}};L.useEffect(()=>{const C=SN(jf,Z=>{e(Z)});return()=>C()},[]);const Me=async()=>{try{await q3(jf,n)}catch(C){console.error("Google sign-in failed",C),alert("Sign-in failed. See console for details.")}},Re=async()=>{try{await E3(jf)}catch(C){console.error("Sign-out failed",C),alert("Sign-out failed. See console for details.")}};return g.jsxs("div",{className:"p-4",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin"}),t?g.jsxs("div",{children:[g.jsxs("p",{className:"mb-2",children:["Signed in as ",g.jsx("strong",{children:t.displayName??t.email})]}),g.jsxs("p",{children:["Admin status: ",r?"Yes":"No"]}),g.jsx("button",{onClick:Re,className:"px-3 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Sign out"}),g.jsxs("section",{className:"mt-6",children:[g.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Protected admin area"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You are authenticated and can now access admin-only features."}),!r&&g.jsx("p",{className:"text-sm text-red-600 mb-4",children:"You are not an admin. Editing is disabled."}),g.jsxs("form",{onSubmit:oe,className:"space-y-3 max-w-md",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Name"}),g.jsx("input",{value:U,onChange:C=>k(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"DUPR (optional)"}),g.jsx("input",{value:Se,onChange:C=>Ue(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1",inputMode:"decimal"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium",children:"Image URL (optional)"}),g.jsx("input",{value:$,onChange:C=>ce(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:!r||o==="pending",className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:o==="pending"?"Adding...":"Add player"})}),c&&g.jsxs("p",{className:"text-sm text-red-600",children:["Error creating player: ",String(c)]})]})]}),g.jsxs("section",{className:"mt-8",children:[g.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Create Event"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a new Event (start date/time is required)."}),g.jsx(uF,{isAdmin:r})]}),g.jsxs("section",{className:"mt-8",children:[g.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Manage Event Standings"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select an event, build an ordered standings list of players, and save to the event."}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"md:col-span-1",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Event"}),g.jsxs("select",{value:_??"",onChange:C=>E(C.target.value||void 0),className:"mt-1 block w-full border rounded px-2 py-1",children:[g.jsx("option",{value:"",children:"(select an event)"}),p.map(C=>g.jsx("option",{value:C.id,children:C.name??C.id},C.id))]}),g.jsxs("div",{className:"mt-4",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Players"}),g.jsxs("div",{className:"mt-1 max-h-56 overflow-auto border rounded p-1",children:[v.length===0&&g.jsx("p",{className:"text-sm text-gray-500",children:"No players found."}),v.map(C=>g.jsxs("div",{className:"flex items-center justify-between px-1 py-1",children:[g.jsx("div",{className:"text-sm",children:C.name}),g.jsx("div",{children:g.jsx("button",{type:"button",onClick:()=>N(C.id),className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"Add"})})]},C.id))]})]})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Standings (ordered)"}),g.jsxs("div",{className:"mt-1 border rounded p-2 bg-white",children:[A.length===0&&g.jsx("p",{className:"text-sm text-gray-500",children:"No players in standings. Add players from the left."}),g.jsx("ul",{children:A.map((C,Z)=>{const ie=v.find(he=>he.id===C);return g.jsxs("li",{className:"flex items-center justify-between py-2 border-b",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsxs("div",{className:"text-sm font-medium",children:[Z+1,"."]}),g.jsx("div",{className:"text-sm",children:ie?ie.name:C})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{type:"button",onClick:()=>R(Z),disabled:Z===0,className:"px-2 py-1 bg-gray-200 rounded disabled:opacity-50 text-xs",children:""}),g.jsx("button",{type:"button",onClick:()=>O(Z),disabled:Z===A.length-1,className:"px-2 py-1 bg-gray-200 rounded disabled:opacity-50 text-xs",children:""}),g.jsx("button",{type:"button",onClick:()=>T(Z),className:"px-2 py-1 bg-red-600 text-white rounded text-xs",children:"Remove"})]})]},`${C}-${Z}`)})}),g.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[g.jsx("button",{type:"button",onClick:P,disabled:!r||Y==="pending"||!_,className:"px-3 py-2 bg-green-600 text-white rounded disabled:opacity-50",children:Y==="pending"?"Saving...":"Save standings to event"}),g.jsx("button",{type:"button",onClick:()=>{M([])},className:"px-3 py-2 bg-gray-200 rounded",children:"Clear"})]}),Q&&g.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Error saving: ",String(Q)]})]})]})]})]})]}):g.jsxs("div",{children:[g.jsx("p",{className:"mb-4",children:"Sign in with a Google account to access admin features."}),g.jsx("button",{onClick:Me,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Sign in with Google"})]})]})},dF=()=>{const{id:t}=F1(),e=t?decodeURIComponent(t):"",{data:n,isLoading:r}=AR(e),{data:a=[]}=la(),o=p=>p?p.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"",c=p=>p?p.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):"";if(r)return g.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!n)return g.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-4 text-center",children:[g.jsx("h1",{className:"text-3xl font-bold mb-4 text-text-main",children:"Event not found"}),g.jsxs("p",{className:"text-text-muted mb-8",children:["The event ID ",g.jsx("code",{className:"bg-surface-alt px-1 rounded",children:e||"(empty)"})," ","does not match any scheduled event."]}),g.jsxs(Tt,{to:"/schedule",className:"inline-flex items-center gap-2 bg-primary text-text-main px-6 py-3 rounded-xl font-bold",children:[g.jsx(eE,{className:"h-5 w-5"})," Back to schedule"]})]});const h=Array.isArray(n.standings)&&n.standings.length>0,d=n.startDateTime&&new Date(n.startDateTime)<new Date;return g.jsx("div",{className:"space-y-8 pb-16",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:[g.jsxs(Tt,{to:"/schedule",className:"inline-flex items-center gap-1 text-sm text-text-muted hover:text-text-main transition-colors mb-6 group",children:[g.jsx(eE,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform"}),"Back to schedule"]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[h?g.jsx("span",{className:"px-3 py-1 bg-success/10 text-success text-xs font-bold uppercase tracking-wider rounded-full border border-success/20",children:"Completed"}):d?g.jsx("span",{className:"px-3 py-1 bg-warning/10 text-warning text-xs font-bold uppercase tracking-wider rounded-full border border-warning/20",children:"Ongoing"}):g.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary text-xs font-bold uppercase tracking-wider rounded-full border border-primary/20",children:"Upcoming"}),n.label&&g.jsx("span",{className:"px-3 py-1 bg-surface-alt text-text-muted text-xs font-bold uppercase tracking-wider rounded-full border border-border",children:n.label})]}),g.jsx("h1",{className:"text-4xl md:text-5xl font-black text-text-main tracking-tight leading-tight",children:n.name})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs(Pe,{className:"p-4 flex items-start gap-4 bg-surface/50 border-border/50",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-xl text-primary mt-1",children:g.jsx(ao,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider",children:"Date"}),g.jsx("div",{className:"text-lg font-bold text-text-main",children:o(n.startDateTime)})]})]}),g.jsxs(Pe,{className:"p-4 flex items-start gap-4 bg-surface/50 border-border/50",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-xl text-primary mt-1",children:g.jsx(Cv,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider",children:"Time"}),g.jsxs("div",{className:"text-lg font-bold text-text-main",children:[c(n.startDateTime),n.endDateTime?` - ${c(n.endDateTime)}`:" - 10:00 PM"]})]})]}),n.location&&g.jsxs(Pe,{className:"p-4 flex items-start gap-4 bg-surface/50 border-border/50 sm:col-span-2",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-xl text-primary mt-1",children:g.jsx(Em,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-semibold text-text-muted uppercase tracking-wider",children:"Location"}),g.jsx("div",{className:"text-lg font-bold text-text-main",children:n.location})]})]})]}),!h&&n.link&&g.jsxs("div",{className:"pt-4",children:[g.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-3 w-full sm:w-auto px-8 py-4 bg-primary text-text-main rounded-2xl font-black text-lg hover:shadow-xl hover:-translate-y-1 transition-all shadow-primary/20 border-b-4 border-primary-hover active:border-b-0 active:translate-y-0",children:["Register on CourtReserve ",g.jsx(wm,{className:"h-5 w-5"})]}),g.jsxs("p",{className:"mt-4 text-sm text-text-muted flex items-center gap-1.5 ml-1",children:[g.jsx(Wl,{className:"h-4 w-4"})," Limited spots available. Register early!"]})]})]}),g.jsx("div",{className:"space-y-6",children:h?g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center justify-between px-2",children:g.jsxs("h2",{className:"text-2xl font-black text-text-main flex items-center gap-2",children:[g.jsx(Wn,{className:"h-6 w-6 text-warning"}),"Final Standings"]})}),g.jsx(Pe,{className:"overflow-hidden border-border/50 shadow-xl",children:g.jsx(kR,{data:n.standings.map((p,v)=>({playerId:p,rank:v+1})),players:a,showEvents:!1,showPoints:!1})})]}):g.jsxs(Pe,{className:"p-6 bg-surface-alt/50 border-dashed space-y-4 flex flex-col items-center text-center justify-center min-h-[200px]",children:[g.jsx("div",{className:"p-4 bg-surface rounded-full text-text-muted border border-border",children:g.jsx(Dv,{className:"h-8 w-8 opacity-40"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-text-main",children:"Standings TBD"}),g.jsx("p",{className:"text-sm text-text-muted",children:"Final results will appear here after the event concludes."})]})]})})]}),Array.isArray(n.rounds)&&n.rounds.length>0&&g.jsxs("div",{className:"mt-16 space-y-8",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"h-1 lg:h-px flex-grow bg-gradient-to-r from-transparent via-border to-transparent"}),g.jsx("h2",{className:"text-2xl font-black text-text-main uppercase tracking-widest whitespace-nowrap",children:"Match Results"}),g.jsx("div",{className:"h-1 lg:h-px flex-grow bg-gradient-to-r from-transparent via-border to-transparent"})]}),g.jsx("div",{className:"space-y-12",children:n.rounds.map((p,v)=>g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"h-10 w-10 rounded-xl bg-surface-highlight flex items-center justify-center font-black text-primary border border-primary/20",children:v+1}),g.jsxs("h3",{className:"text-xl font-bold text-text-main",children:["Round ",v+1," Results"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.courts.map((_,E)=>g.jsxs(Pe,{className:"p-0 overflow-hidden border-border/40 shadow-sm hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"bg-surface-alt px-4 py-2 border-b border-border flex justify-between items-center",children:[g.jsxs("span",{className:"text-sm font-black text-text-muted uppercase tracking-wider",children:["Court ",E+1]}),g.jsx("span",{className:"text-xs text-text-muted font-medium px-2 py-0.5 bg-surface rounded-full border border-border",children:"Fast Format"})]}),g.jsx("div",{className:"p-4 grid grid-cols-2 gap-y-4 gap-x-6",children:_.playerNames.map((A,M)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"h-2 w-2 rounded-full bg-primary/40"}),g.jsx("span",{className:"text-sm font-semibold truncate text-text-main",children:A})]},M))}),g.jsx("div",{className:"px-4 py-3 bg-surface-highlight/30 border-t border-border/30 flex items-center justify-center gap-6",children:_.matches.map((A,M)=>g.jsxs("div",{className:"text-center group",children:[g.jsxs("div",{className:"text-[10px] text-text-muted uppercase font-bold tracking-tighter mb-0.5 group-hover:text-primary transition-colors",children:["G",M+1]}),g.jsxs("div",{className:"font-mono font-black text-sm text-text-main",children:[A.scoreA??"-",g.jsx("span",{className:"text-text-muted px-0.5",children:":"}),A.scoreB??"-"]})]},M))})]},E))})]},v))})]})]})})},sb=4,PR=(t,e)=>{if(e===3)return t;if(e===2||e===1)return Math.ceil(PR(t,e+1)/3);throw new Error("Invalid round number")},Ay=t=>String.fromCharCode(65+t),fF=(t,e)=>t===e?Ay(t):`${Ay(t)}${Ay(e)}`;function mF(t,e=1){const n=Array.from({length:t},()=>[]);for(let r=0;r<sb;r++){const a=e+r*t,o=Array.from({length:t},(h,d)=>a+d),c=r%2===0?o:o.slice().reverse();for(let h=0;h<t;h++)n[h].push(c[h])}return n}const ih=(t,e)=>{if(t<=0)return[];if(![1,2,3].includes(e))return[];const n=PR(t,e),r=Math.floor(t/n),a=t%n,o=[];let c=0,h=1;for(let d=0;d<n;d++){const p=r+(d<a?1:0),v=fF(c,c+p-1),_=mF(p,h);for(let E=0;E<p;E++)o.push({seeds:_[E],tier:v});h+=p*sb,c+=p}return o},pF=(t,e)=>!t||!e||t<=0?[]:ih(t,e),A1=t=>t.includes("")?(t.charCodeAt(0)+t.charCodeAt(2))/2:t.charCodeAt(0),gF=(t,e)=>A1(t)-A1(e),I1=(t,e)=>t.tier!==e.tier?gF(t.tier,e.tier):t.courtRank!==e.courtRank?t.courtRank-e.courtRank:t.wins!==e.wins?e.wins-t.wins:t.pointDifferential!==e.pointDifferential?e.pointDifferential-t.pointDifferential:t.seed-e.seed;function MR(t,e){if(!t?.length)return[];if(![1,2,3].includes(e))return[];const n=ih(t.length,e),r=t.flatMap((o,c)=>{const h=o.playerIds.map((d,p)=>({id:d,courtIndex:c,tier:n[c].tier,courtRank:0,wins:0,losses:0,pointDifferential:0,seed:n[c].seeds[p],roundPlace:0,nextCourt:0,nextTier:""}));return o.games.forEach(d=>{const{team1Player1Id:p,team1Player2Id:v,team2Player1Id:_,team2Player2Id:E,team1Score:A=0,team2Score:M=0}=d,D=(ae,le,me,N)=>{const T=le>me||le===me&&N;ae.wins+=T?1:0,ae.losses+=T?0:1,ae.pointDifferential+=le-me},V=h.find(ae=>ae.id===p),Y=h.find(ae=>ae.id===v),Q=h.find(ae=>ae.id===_),J=h.find(ae=>ae.id===E);D(V,A,M,!0),D(Y,A,M,!0),D(Q,M,A,!1),D(J,M,A,!1)}),h});r.sort(I1);const a=t.map(()=>1);for(const o of r)o.courtRank=a[o.courtIndex],a[o.courtIndex]+=1;if(r.sort(I1),r.forEach((o,c)=>{o.roundPlace=c+1}),e<3){const o=ih(t.length,e+1);r.forEach(c=>{const h=o.findIndex(d=>d.seeds.includes(c.roundPlace));c.nextCourt=h+1,c.nextTier=o[h].tier})}return r}const yF=(t,e)=>{const n=e+1,r=Math.ceil(t.length/sb);return ih(r,n).map((c,h)=>({playerIds:c.seeds.map(d=>t.find(p=>p.roundPlace===d)?.id||""),roundNumber:n,courtNumber:h+1}))},Iy=(t,e)=>{const{data:n}=NR(t),r=pF(n?.length,e),{data:a}=RR(t);return L.useMemo(()=>{if(!n||!r||!a)return;const c=n.filter(h=>h.roundNumber===e).sort((h,d)=>h.courtNumber-d.courtNumber).map((h,d)=>({...h,seeds:r[d].seeds,tier:r[d].tier,games:a.filter(p=>p.courtId===h.id)}));return{roundNumber:e,courts:c,standings:MR(c,e).map(h=>h.id)}},[n,r,a,e])},VR=()=>{const{data:t}=ti(),[e,n]=L.useState(void 0),{data:r}=V8(e),{update:a}=IR(),o=L.useMemo(()=>r?.ongoingStage||"initial",[r]),[c,h]=L.useState(o),d=Iy(e,c),p=L.useMemo(()=>o||0,[o]),v=L.useMemo(()=>{if(o==="initial")return 1;if(typeof o=="number"&&o<3)return o+1},[o]),_=L.useCallback(Se=>{r&&a({id:r.id,ongoingStage:Se})},[r,a]),E=Iy(e,p),A=Iy(e,v),M=L.useMemo(()=>p-1,[p]),{create:D}=z8(e),{create:V}=U8(e),{update:Y}=F8(e);console.log("selectedEventId:",e,"updateGame:",Y);const{data:Q=[]}=RR(e),{remove:J}=B8(e),{data:ae=[]}=NR(e),{remove:le}=L8(e),me=L.useCallback(async()=>{if(window.confirm("Are you sure you want to clear all data and start over?")&&e){for(const Se of Q||[])await J(Se.id);for(const Se of ae||[])await le(Se.id);_("initial"),h("initial")}},[e,_,Q,J,ae,le]),N=L.useCallback(async(Se,Ue)=>{if(M>0){console.error("Cannot initialize courts: rounds have already been played");return}const ce=Se*4;if(Ue.length!==ce){console.error(`Not enough players to initialize ${Se} courts. Required: ${ce}, provided: ${Ue.length}`);return}const oe=ih(Se,1);for(let Me=0;Me<Se;Me++){const Re=oe[Me].seeds.map(Z=>Ue[Z-1]),C=await D({playerIds:Re,roundNumber:1,courtNumber:Me+1});V({courtId:C,team1Player1Id:Re[0],team1Player2Id:Re[1],team2Player1Id:Re[2],team2Player2Id:Re[3],roundNumber:1}),V({courtId:C,team1Player1Id:Re[0],team1Player2Id:Re[2],team2Player1Id:Re[1],team2Player2Id:Re[3],roundNumber:1}),V({courtId:C,team1Player1Id:Re[0],team1Player2Id:Re[3],team2Player1Id:Re[1],team2Player2Id:Re[2],roundNumber:1})}_(1),h(1)},[M,D,V,_,h]),T=L.useCallback(async()=>{if(![1,2].includes(p||0)){alert("Can only advance to next round from rounds 1 or 2.");return}if(!E){alert("No ongoing round data available to advance.");return}if(E.courts.length===0||E.courts.some($=>$.games.length===0)){alert("No courts games available in the ongoing round to advance.");return}if(E.courts.some($=>$.games.some(ce=>ce.team1Score===void 0||ce.team2Score===void 0))){alert("All match results must be entered before advancing to the next round.");return}if(v===void 0){alert("Cannot determine the next round number.");return}if(A&&A.courts.length>0){alert("Next round courts have already been initialized.");return}const Se=MR(E.courts,p);yF(Se,v).forEach(async $=>{const ce=await D({playerIds:$.playerIds,roundNumber:v,courtNumber:$.courtNumber});V({courtId:ce,team1Player1Id:$.playerIds[0],team1Player2Id:$.playerIds[1],team2Player1Id:$.playerIds[2],team2Player2Id:$.playerIds[3],roundNumber:v}),V({courtId:ce,team1Player1Id:$.playerIds[0],team1Player2Id:$.playerIds[2],team2Player1Id:$.playerIds[1],team2Player2Id:$.playerIds[3],roundNumber:v}),V({courtId:ce,team1Player1Id:$.playerIds[0],team1Player2Id:$.playerIds[3],team2Player1Id:$.playerIds[1],team2Player2Id:$.playerIds[2],roundNumber:v}),h(v)}),_(v)},[p,E,v,A,_,D,V]),R=()=>{if(!r){alert("No event selected to finalize.");return}if(o!==3){alert("Event can only be finalized after completing round 3.");return}if(!E?.courts||E.courts.length===0){alert("No courts available to finalize the event.");return}if(E.courts.some(Se=>Se.games.some(Ue=>Ue.team1Score===void 0||Ue.team2Score===void 0))){alert("All match results must be entered before finalizing the event.");return}r.standings&&r.standings.length>0&&window.confirm("Standings already exist. Overwrite?")===!1||(a({id:r.id,standings:E.standings}),h("standings"))},O=L.useMemo(()=>Q?.filter(Se=>Se.team1Score!==void 0&&Se.team2Score!==void 0).length||0,[Q]),P=L.useMemo(()=>Q?.length||1,[Q]),U=Math.round(O/Math.max(1,P)*100),k=L.useCallback((Se,Ue,$)=>{console.log("updateGame called with:",Se,Ue,$,Y),Y({id:Se,[Ue]:$})},[Y]);return{events:t,selectedEventId:e,setSelectedEventId:n,ongoingRound:E,currentRoundViewData:d,event:r,currentView:c,setCurrentView:h,ongoingRoundNumber:p,completedMatches:O,totalMatches:P,progressPercent:U,handleScoreChange:k,initializeCourts:N,advanceToNextRound:T,finalizeEvent:R,resetAll:me,apiError:null}},zR=({current:t,onSelect:e,showInitialize:n})=>g.jsxs("div",{className:"flex p-1 bg-surface-alt rounded-lg mb-4 gap-2 justify-center",children:[n&&g.jsx("button",{onClick:()=>e("initial"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${t==="initial"?"bg-surface-highlight text-text-main shadow-sm":"text-text-muted hover:text-text-main"}`,children:"Initialize"},"initial"),Array.from({length:3},(r,a)=>g.jsxs("button",{onClick:()=>e(a+1),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${t===a+1?"bg-surface-highlight text-text-main shadow-sm":"text-text-muted hover:text-text-main"}`,children:["Round ",a+1]},a)),g.jsx("button",{onClick:()=>e("standings"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${t==="standings"?"bg-surface-highlight text-text-main shadow-sm":"text-text-muted hover:text-text-main"}`,children:"Standings"},"standings")]});function vF(t,e){return[...t].filter(n=>t.includes(n??"")).sort((n,r)=>(e[r??""]??0)-(e[n??""]??0))}const _F=()=>{const{events:t,selectedEventId:e,setSelectedEventId:n,currentRoundViewData:r,currentView:a,setCurrentView:o,ongoingRoundNumber:c,initializeCourts:h,advanceToNextRound:d,handleScoreChange:p,resetAll:v,apiError:_}=VR(),{data:E=[]}=la(),A=rb("all"),M=L.useMemo(()=>{const T={};return A.forEach(R=>{T[R.id??""]=R.points??0}),T},[A]),[D,V]=L.useState(4),[Y,Q]=L.useState([]),[J,ae]=L.useState(0),le=L.useMemo(()=>vF(Y,M),[Y,M]),me=async()=>{h(D,le)},N=async()=>{d()};return g.jsx("div",{className:"space-y-8",children:g.jsxs("div",{className:"min-h-[60vh] bg-background text-text-main p-4 sm:p-6",children:[g.jsxs("div",{className:"mx-auto",children:[g.jsxs("header",{className:"mb-4 text-center",children:[g.jsxs("div",{className:"flex items-center justify-center gap-3",children:[g.jsx("h1",{className:"text-3xl sm:text-2xl font-extrabold tracking-tight",children:"Event Night Admin"}),g.jsxs("div",{className:"text-xs flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold bg-success/10 text-success",children:"Admin"}),e?g.jsxs("span",{className:"text-[11px] text-text-muted",children:["Event: ",e]}):g.jsx("span",{className:"text-[11px] text-text-muted",children:"No event selected"})]})]}),g.jsx("p",{className:"text-sm text-text-muted mt-1 max-w-prose mx-auto",children:"Assign courts, enter scores, and manage rounds for the selected event."}),g.jsx("div",{className:"mt-3 h-0.5 bg-gradient-to-r from-primary via-text-accent to-success rounded"})]}),g.jsx("label",{className:"block text-sm font-medium",children:"Select Event"}),g.jsxs("select",{value:e??"",onChange:T=>n(T.target.value||void 0),className:"mt-1 block w-full border rounded px-2 py-1",children:[g.jsx("option",{value:"",children:"(select an event)"}),t?.map(T=>g.jsx("option",{value:T.id,children:T.name??T.id},T.id))]})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx(zR,{current:a,onSelect:o,showInitialize:!0}),a==="initial"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Number of Courts"}),g.jsx("select",{value:D,onChange:T=>V(Number(T.target.value)),className:"mt-1 block w-full border rounded px-2 py-1",children:[2,3,4,5,6,7].map(T=>g.jsx("option",{value:T,children:T},T))})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Select Players"}),g.jsx("div",{className:"grid grid-cols-2 gap-2",children:E.map(T=>g.jsxs("label",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",checked:Y.includes(T.id??""),onChange:R=>{Q(O=>R.target.checked?[...O,T.id??""]:O.filter(P=>P!==T.id))}}),T.name," (",M[T.id??""]??0," pts)"]},T.id))})]}),g.jsx(Xa,{onClick:()=>{try{me()}catch(T){alert(T.message)}},className:"mb-4",disabled:Y.length!==D*4,children:"Assign Courts (Snake Draw)"}),g.jsx("div",{className:"text-xs text-error mb-2",children:Y.length!==D*4?`Select exactly ${D*4} players for ${D} courts`:""})]}),g.jsxs("div",{className:"bg-surface p-3 rounded-lg border border-border max-w-md mx-auto mb-6",children:[g.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[g.jsx("span",{className:"text-text-muted font-medium",children:"Round Progress"}),g.jsxs("span",{className:"text-primary font-bold",children:[r?.courts.reduce((T,R)=>T+(R.games.filter(O=>O.team1Score!==void 0&&O.team2Score!==void 0).length??0),0)," ","/ ",(r?.courts?.length??0)*3," Matches"]})]}),g.jsx("div",{className:"h-2 bg-surface-alt rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${r?.courts?.length?Math.round(r?.courts.reduce((T,R)=>T+(R.games.filter(O=>O.team1Score!==void 0&&O.team2Score!==void 0).length??0),0)/(r?.courts.length*3)*100):0}%`}})}),g.jsxs("div",{className:"text-[10px] text-text-muted mt-1 text-center",children:[(r?.courts.length??0)*4," Players "," ",r?.courts?.length??0," Courts"]})]}),g.jsx("h2",{className:"text-lg font-semibold mb-2 text-center",children:"Court Assignments"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r?.courts?.map((T,R)=>g.jsxs("div",{className:"p-0 overflow-hidden animate-in fade-in slide-in-from-right-4 duration-300 border-t-4 border-primary bg-surface rounded shadow-lg",children:[g.jsx("div",{className:"p-6 border-b border-border bg-surface-highlight/20",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:g.jsxs("span",{className:"font-bold text-primary",children:["Court ",R+1]})}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold text-text-main",children:["Court ",R+1]}),g.jsxs("p",{className:"text-sm text-text-muted",children:["Round ",J+1]}),g.jsxs("span",{className:"inline-block mt-1 text-xs font-semibold text-accent bg-surface-alt/60 rounded px-2 py-0.5",children:["Tier: ",T.tier]})]})]})}),g.jsxs("div",{className:"p-6 space-y-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center gap-2 text-sm font-bold text-primary uppercase tracking-wider",children:"Players"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.playerIds.map((O,P)=>{const U=E.find(k=>k.id===O);return g.jsxs("div",{className:"flex items-center gap-3 bg-surface-alt/30 p-2 rounded-lg border border-transparent focus-within:border-primary/30 transition-colors",children:[g.jsxs("div",{className:"w-8 text-xs text-text-muted font-mono font-bold",children:["P",P+1]}),g.jsx("div",{className:"flex-1",children:U?.name??"Unknown"})]},P)})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center gap-2 text-sm font-bold text-warning uppercase tracking-wider",children:"Matches"}),g.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:T.games.filter(O=>O.courtId===T.id).map((O,P)=>g.jsxs("div",{className:`rounded-xl p-4 border transition-all duration-300 ${O.team1Score!==void 0&&O.team2Score!==void 0?"bg-success/5 border-success/30 shadow-sm":"bg-surface-alt/50 border-border hover:border-warning/30"}`,children:[g.jsx("div",{className:"flex justify-center mb-3",children:g.jsxs("div",{className:`text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1 ${O.team1Score!==void 0&&O.team2Score!==void 0?"bg-success/20 text-success":"bg-surface text-text-muted"}`,children:["Match ",P+1]})}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-medium truncate pr-2 w-2/3",children:"Team 1"}),g.jsx("div",{className:"w-20",children:g.jsx("input",{type:"number",min:0,max:11,value:O.team1Score??"",onChange:U=>p(O.id,"team1Score",Number(U.target.value)),className:"w-full bg-surface border border-border rounded px-2 py-1.5 text-center text-sm font-bold focus:ring-2 ring-warning/50 outline-none",placeholder:"Team 1"})})]}),g.jsxs("div",{className:"relative flex items-center py-1",children:[g.jsx("div",{className:"flex-grow border-t border-border"}),g.jsx("span",{className:"flex-shrink-0 mx-2 text-[10px] font-bold text-text-muted uppercase",children:"VS"}),g.jsx("div",{className:"flex-grow border-t border-border"})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-medium truncate pr-2 w-2/3",children:"Team 2"}),g.jsx("div",{className:"w-20",children:g.jsx("input",{type:"number",min:0,max:11,value:O.team2Score??"",onChange:U=>p(O.id,"team2Score",Number(U.target.value)),className:"w-full bg-surface border border-border rounded px-2 py-1.5 text-center text-sm font-bold focus:ring-2 ring-warning/50 outline-none",placeholder:"Team 2"})})]})]})]},P))})]})]})]},R))})]}),g.jsxs("div",{className:"flex gap-4 mt-4",children:[g.jsx(Xa,{onClick:N,variant:"secondary",disabled:a!==1&&a!==2||c!==a,children:"Generate Next Round"}),g.jsx(Xa,{onClick:v,variant:"secondary",children:"Reset All"})]}),_]})})},bF=()=>{const{events:t,selectedEventId:e,setSelectedEventId:n,currentRoundViewData:r,currentView:a,setCurrentView:o,completedMatches:c,totalMatches:h,progressPercent:d}=VR(),{data:p=[]}=la();return g.jsxs("div",{className:"min-h-[80vh] bg-background text-text-main px-2 py-4 sm:p-6 max-w-2xl mx-auto",children:[g.jsxs("header",{className:"mb-4 text-center",children:[g.jsx("h1",{className:"text-3xl sm:text-2xl font-extrabold tracking-tight mb-1",children:"Match Night"}),g.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs mb-1",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold bg-primary/10 text-primary",children:"Player View"}),e?g.jsxs("span",{className:"text-[11px] text-text-muted",children:["Event: ",e]}):g.jsx("span",{className:"text-[11px] text-text-muted",children:"No event selected"})]}),g.jsx("div",{className:"mt-2 h-0.5 bg-gradient-to-r from-primary via-text-accent to-success rounded"})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Select Event"}),g.jsxs("select",{value:e??"",onChange:v=>n(v.target.value||void 0),className:"mt-1 block w-full border rounded px-2 py-1 bg-surface-alt",children:[g.jsx("option",{value:"",children:"(select an event)"}),(t??[]).map(v=>g.jsx("option",{value:v.id,children:v.name??v.id},v.id))]})]}),g.jsx(zR,{current:a,onSelect:o}),r?.courts?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"bg-surface p-3 rounded-lg border border-border max-w-md mx-auto mb-6",children:[g.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[g.jsx("span",{className:"text-text-muted font-medium",children:"Round Progress"}),g.jsxs("span",{className:"text-primary font-bold",children:[c," / ",h," Matches"]})]}),g.jsx("div",{className:"h-2 bg-surface-alt rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${d}%`}})}),g.jsxs("div",{className:"text-[10px] text-text-muted mt-1 text-center",children:[(r.courts.length??0)*4," Players "," ",r.courts.length??0," Courts"]})]}),g.jsx("h2",{className:"text-lg font-semibold mb-2 text-center",children:"Court Assignments"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.courts.map(v=>g.jsxs("div",{className:"p-0 overflow-hidden animate-in fade-in slide-in-from-right-4 duration-300 border-t-4 border-primary bg-surface rounded shadow-lg",children:[g.jsx("div",{className:"p-6 border-b border-border bg-surface-highlight/20",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:g.jsxs("span",{className:"font-bold text-primary",children:["Court ",v.courtNumber]})}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold text-text-main",children:["Court ",v.courtNumber]}),g.jsxs("p",{className:"text-sm text-text-muted",children:["Round ",a+1]}),g.jsxs("span",{className:"inline-block mt-1 text-xs font-semibold text-accent bg-surface-alt/60 rounded px-2 py-0.5",children:["Tier: ",v.tier]})]})]})}),g.jsxs("div",{className:"p-6 space-y-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center gap-2 text-sm font-bold text-primary uppercase tracking-wider",children:"Players"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.playerIds.map((_,E)=>{const A=p.find(M=>M.id===_);return g.jsxs("div",{className:"flex items-center gap-3 bg-surface-alt/30 p-2 rounded-lg border border-transparent transition-colors",children:[g.jsxs("div",{className:"w-8 text-xs text-text-muted font-mono font-bold",children:["P",E+1]}),g.jsx("div",{className:"flex-1",children:A?.name??"Unknown"})]},E)})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center gap-2 text-sm font-bold text-warning uppercase tracking-wider",children:"Matches"}),g.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:v.games.map((_,E)=>g.jsxs("div",{className:`rounded-xl p-4 border transition-all duration-300 ${_.team1Score!==void 0&&_.team2Score!==void 0?"bg-success/5 border-success/30 shadow-sm":"bg-surface-alt/50 border-border"}`,children:[g.jsx("div",{className:"flex justify-center mb-3",children:g.jsxs("div",{className:`text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1 ${_.team1Score!==void 0&&_.team2Score!==void 0?"bg-success/20 text-success":"bg-surface text-text-muted"}`,children:["Match ",E+1]})}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-medium truncate pr-2 w-2/3",children:"Team 1"}),g.jsx("span",{className:"px-2 py-1 rounded bg-success/10 text-success font-bold w-16 text-center",children:_.team1Score??"-"})]}),g.jsxs("div",{className:"relative flex items-center py-1",children:[g.jsx("div",{className:"flex-grow border-t border-border"}),g.jsx("span",{className:"flex-shrink-0 mx-2 text-[10px] font-bold text-text-muted uppercase",children:"VS"}),g.jsx("div",{className:"flex-grow border-t border-border"})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-medium truncate pr-2 w-2/3",children:"Team 2"}),g.jsx("span",{className:"px-2 py-1 rounded bg-error/10 text-error font-bold w-16 text-center",children:_.team2Score??"-"})]})]})]},E))})]})]})]},v.courtNumber))}),g.jsxs("div",{className:"mt-6 text-center text-xs text-text-muted",children:["Progress: Round ",a+1," of ",3]})]}):g.jsx("div",{className:"text-center text-text-muted mt-8",children:"No round data available for this event."})]})},xF=()=>g.jsx(pj,{children:g.jsxs(ED,{children:[g.jsx(Yn,{path:"/",element:g.jsx($8,{})}),g.jsx(Yn,{path:"/standings",element:g.jsx(G8,{})}),g.jsx(Yn,{path:"/schedule",element:g.jsx(lF,{})}),g.jsx(Yn,{path:"/players",element:g.jsx(iF,{})}),g.jsx(Yn,{path:"/player/:id",element:g.jsx(aF,{})}),g.jsx(Yn,{path:"/format",element:g.jsx(rF,{})}),g.jsx(Yn,{path:"/champions",element:g.jsx(sF,{})}),g.jsx(Yn,{path:"/calculator",element:g.jsx(oF,{})}),g.jsx(Yn,{path:"/admin",element:g.jsx(hF,{})}),g.jsx(Yn,{path:"/event/:id",element:g.jsx(dF,{})}),g.jsx(Yn,{path:"/event-night-admin",element:g.jsx(_F,{})}),g.jsx(Yn,{path:"/event-night-player-view",element:g.jsx(bF,{})})]})}),wF=new Ak;SC.createRoot(document.getElementById("root")).render(g.jsx(L.StrictMode,{children:g.jsx(Ik,{client:wF,children:g.jsx(KD,{children:g.jsx(xF,{})})})}));
